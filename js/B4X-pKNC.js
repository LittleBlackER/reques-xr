const _0x3a4b92=(function(){let _0x280170=!![];return function(_0x28fc14,_0x2d773c){const _0x4a0d1d=_0x280170?function(){if(_0x2d773c){const _0xd54cf0=_0x2d773c['apply'](_0x28fc14,arguments);return _0x2d773c=null,_0xd54cf0;}}:function(){};return _0x280170=![],_0x4a0d1d;};}()),_0x36209a=_0x3a4b92(this,function(){return _0x36209a['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x36209a)['search']('(((.+)+)+)'+'+$');});_0x36209a();const _0x58c26c=(function(){let _0x50d6dd=!![];return function(_0x50ee37,_0x4b45f0){const _0x5d179d=_0x50d6dd?function(){if(_0x4b45f0){const _0x5d3793=_0x4b45f0['apply'](_0x50ee37,arguments);return _0x4b45f0=null,_0x5d3793;}}:function(){};return _0x50d6dd=![],_0x5d179d;};}());(function(){_0x58c26c(this,function(){const _0x468275=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x15de14=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x1c5745=_0x1b736b('init');!_0x468275['test'](_0x1c5745+'chain')||!_0x15de14['test'](_0x1c5745+'input')?_0x1c5745('0'):_0x1b736b();})();}());const _0x5d3ea1=(function(){let _0x3c5704=!![];return function(_0x583904,_0x369139){const _0x51979c=_0x3c5704?function(){if(_0x369139){const _0x28f3de=_0x369139['apply'](_0x583904,arguments);return _0x369139=null,_0x28f3de;}}:function(){};return _0x3c5704=![],_0x51979c;};}()),_0x2ecd84=_0x5d3ea1(this,function(){let _0x52b817;try{const _0x11c850=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x52b817=_0x11c850();}catch(_0xae5e66){_0x52b817=window;}const _0x52b968=_0x52b817['console']=_0x52b817['console']||{},_0x3578b7=['log','warn','info','error','exception','table','trace'];for(let _0x4ca252=0x1686+-0x1b39*0x1+-0x191*-0x3;_0x4ca252<_0x3578b7['length'];_0x4ca252++){const _0x37f4de=_0x5d3ea1['constructo'+'r']['prototype']['bind'](_0x5d3ea1),_0x5de200=_0x3578b7[_0x4ca252],_0x7fb50c=_0x52b968[_0x5de200]||_0x37f4de;_0x37f4de['__proto__']=_0x5d3ea1['bind'](_0x5d3ea1),_0x37f4de['toString']=_0x7fb50c['toString']['bind'](_0x7fb50c),_0x52b968[_0x5de200]=_0x37f4de;}});_0x2ecd84();var qx=Object['defineProp'+'erty'],Xx=(_0x1e956b,_0x19fb83,_0x225d49)=>_0x19fb83 in _0x1e956b?qx(_0x1e956b,_0x19fb83,{'enumerable':!(0xff+0x17a0+0x3*-0x835),'configurable':!(0x5a7*-0x1+-0x532+0xad9),'writable':!(-0x32c+0x750+-0x424),'value':_0x225d49}):_0x1e956b[_0x19fb83]=_0x225d49,c=(_0x508557,_0x52cfa1,_0x3d331f)=>Xx(_0x508557,typeof _0x52cfa1!='symbol'?_0x52cfa1+'':_0x52cfa1,_0x3d331f);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x30b29b,_0x577fb4){for(const _0x47275f in _0x577fb4){const _0x3e6e89=_0x577fb4[_0x47275f];Array['isArray'](_0x3e6e89)?_0x30b29b[_0x47275f]=vh([],_0x3e6e89):_0x3e6e89&&typeof _0x3e6e89=='object'?_0x30b29b[_0x47275f]=vh({},_0x3e6e89):_0x30b29b[_0x47275f]=_0x3e6e89;}return _0x30b29b;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x5ce536=>{const _0x2bc10c=Math['random']()*(-0x1*-0x1d+-0x1*0x8a+-0x19*-0x5)|-0x20*-0x52+-0xfd0+0x1*0x590;return(_0x5ce536==='x'?_0x2bc10c:_0x2bc10c&0x239+-0x1843+0x160d|0x594*0x5+0x4*-0x265+-0x208*0x9)['toString'](-0x25c7+0x1*-0x1724+0x3cfb);});}},fe={'delimiter':'/','join'(..._0x1102c6){let _0x5d5977=_0x1102c6[0x269*-0xd+-0x402*-0x4+0xf4d];for(let _0x4d32a8=0x22*0x70+0x527+-0x1407;_0x4d32a8<_0x1102c6['length']-(0x7c8+0x1bb9+0x8*-0x470);_0x4d32a8++){const _0x32a89e=_0x1102c6[_0x4d32a8],_0x3bddc4=_0x1102c6[_0x4d32a8+(0x43f+-0x2a2*0x7+-0x718*-0x2)];if(_0x3bddc4[-0x25b6+0x261c+0x11*-0x6]===fe['delimiter']){_0x5d5977=_0x3bddc4;continue;}_0x32a89e&&_0x3bddc4&&_0x32a89e[_0x32a89e['length']-(-0x4*0x246+0xacb+0x2*-0xd9)]!==fe['delimiter']&&_0x3bddc4[0x1a9c+0xe4b*0x1+-0x1*0x28e7]!==fe['delimiter']?_0x5d5977+=fe['delimiter']+_0x3bddc4:_0x5d5977+=_0x3bddc4;}return _0x5d5977;},'normalize'(_0x135f5e){const _0x38868a=_0x135f5e['startsWith'](fe['delimiter']),_0x366662=_0x135f5e['endsWith'](fe['delimiter']),_0x2a94ad=_0x135f5e['split']('/');let _0x48cb02='',_0x416524=[];for(let _0x55d39a=-0xda6+0x2*-0x490+0x212*0xb;_0x55d39a<_0x2a94ad['length'];_0x55d39a++)if(_0x2a94ad[_0x55d39a]!==''&&_0x2a94ad[_0x55d39a]!=='.'){if(_0x2a94ad[_0x55d39a]==='..'&&_0x416524['length']>-0xf3d*0x1+0x1*-0xbab+-0x8*-0x35d){_0x416524=_0x416524['slice'](0x1573+-0x1118+-0x45b*0x1,_0x416524['length']-(0x18ad*0x1+0x1*0x1467+-0x3*0xf06));continue;}_0x55d39a>0x29*-0x86+0xe9b+0x5*0x15f&&_0x416524['push'](fe['delimiter']),_0x416524['push'](_0x2a94ad[_0x55d39a]);}return _0x48cb02=_0x416524['join'](''),!_0x38868a&&_0x48cb02[0x246f+0x354+0x105*-0x27]===fe['delimiter']&&(_0x48cb02=_0x48cb02['slice'](0x1*0x6fb+0x251a*0x1+-0x1f*0x16c)),_0x366662&&_0x48cb02[_0x48cb02['length']-(-0x1482+-0x6e0*0x5+0x36e3*0x1)]!==fe['delimiter']&&(_0x48cb02+=fe['delimiter']),_0x48cb02;},'split'(_0x301d78){const _0x768cfa=_0x301d78['lastIndexO'+'f'](fe['delimiter']);return _0x768cfa!==-(-0x99*-0x37+-0x1384+-0xd5a)?[_0x301d78['substring'](-0xb27*0x1+0x58f*0x3+-0x586,_0x768cfa),_0x301d78['substring'](_0x768cfa+(0x7db*0x3+-0x240e+0xd*0xf6))]:['',_0x301d78];},'getBasename'(_0x15334a){return fe['split'](_0x15334a)[-0x17c9*-0x1+0x266*0x4+-0x2160];},'getDirectory'(_0x4dd0dc){return fe['split'](_0x4dd0dc)[-0xe53+0x529*-0x5+0x2820];},'getExtension'(_0x1f052e){const _0x3f24e3=_0x1f052e['split']('?')[0x365*0x1+-0x1d5e+0x19f9]['split']('.')['pop']();return _0x3f24e3!==_0x1f052e?'.'+_0x3f24e3:'';},'isRelativePath'(_0x4955cb){return _0x4955cb['charAt'](0x1*-0x1ba7+-0x70c*0x1+0x1b*0x149)!=='/'&&_0x4955cb['match'](/:\/\//)===null;},'extractPath'(_0x4e1776){let _0x9bf83f='';const _0x3dbbb1=_0x4e1776['split']('/');let _0x82ad78=0x1*0x5ce+0x23*-0xa3+-0x1*-0x107b;if(_0x3dbbb1['length']>-0x3*0x82b+0x229e+-0xa1c){if(fe['isRelative'+'Path'](_0x4e1776)){if(_0x3dbbb1[0x2af*-0x3+-0x6b*-0x47+-0x15a0]==='.'){for(_0x82ad78=-0x2a1+0x1509+-0x1268;_0x82ad78<_0x3dbbb1['length']-(0x1*-0x1fd3+-0x1d10+-0x1e72*-0x2);++_0x82ad78)_0x9bf83f+=_0x82ad78===-0x8*-0x294+-0x20a4+0x2*0x602?_0x3dbbb1[_0x82ad78]:'/'+_0x3dbbb1[_0x82ad78];}else{if(_0x3dbbb1[-0x1cb3+0x2687+-0x9d4]==='..'){for(_0x82ad78=0xd99+-0x39e+-0x1*0x9fb;_0x82ad78<_0x3dbbb1['length']-(-0x1*0xfb7+-0x2419*0x1+0x33d1);++_0x82ad78)_0x9bf83f+=_0x82ad78===0x9ba+0x2f*-0x74+0xb92?_0x3dbbb1[_0x82ad78]:'/'+_0x3dbbb1[_0x82ad78];}else{for(_0x9bf83f='.',_0x82ad78=-0xb*-0x2e7+0x830+-0x281d;_0x82ad78<_0x3dbbb1['length']-(-0x3b0+0xd7a+-0x9c9);++_0x82ad78)_0x9bf83f+='/'+_0x3dbbb1[_0x82ad78];}}}else{for(_0x82ad78=0xea4+-0x3*-0x774+-0x940*0x4;_0x82ad78<_0x3dbbb1['length']-(-0xc64+-0x26db+0x3340);++_0x82ad78)_0x9bf83f+=_0x82ad78===-0x4e5*-0x1+-0x1980+0x149b?_0x3dbbb1[_0x82ad78]:'/'+_0x3dbbb1[_0x82ad78];}}return _0x9bf83f;}},iS=()=>{let _0x4d78ec=!(0x1*0xa7+-0x1*0x1a91+0x19eb);try{const _0x46f222=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x4d78ec=!(-0x2059+-0x1d0+0x6d5*0x5),!(-0x1737+-0x1*-0x1517+0x221);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x46f222),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x46f222);}catch{}return _0x4d78ec;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x1d46*0x1+-0x3*-0x4c4+-0x2*0x15c9),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=-0x16c6a+-0x16489+0x681b*0x9,ny=-0x1a*-0xc6d+0x4aed*0x1+-0xb20*0x10,Jp=0x4*-0x1be+-0x1f*-0x71+0x1*0xd549,lS=-0x385b*-0x6+-0x1b8d+-0x5696,hS=-0x2a63+-0x84*-0x4+0x90c*0x8,em=0x1c99*-0x12+-0x28d*-0x15+-0x1*-0x3bf17,tm=-0x34519+-0x4*0xc946+0x85c30,cS=-0x2278*-0x16+0x1effb+-0x12a*0x288,dS=-0x2*0x1b0d7+0xefc8+0x465e5,uS=-0x139*0x9+0x2c04+-0x33,fS=0x2a2b*-0x1+-0x20a*-0x18+0x1a3a,lu=-0x35*-0x42e+-0x1d973+0x1f9ed,hu=0x2*-0xbcea+0x1136a+-0x39*-0x641;function cu(_0x112f83,_0x43f81b=0x1bea+0x17c0+-0x2*0x19d5){const _0x51f316=_0x112f83['length'];if(_0x43f81b<0x2359+0x1bab+0x3f04*-0x1||_0x43f81b>=_0x51f316)return null;const _0x5d0d2f=_0x112f83['charCodeAt'](_0x43f81b);if(_0x51f316>-0x76b*-0x2+-0x2*0xfb3+-0x1*-0x1091&&_0x5d0d2f>=ou&&_0x5d0d2f<=ny){const _0x493700=_0x112f83['charCodeAt'](_0x43f81b+(-0x1489+-0x1128+-0x3c5*-0xa));if(_0x493700>=Jp&&_0x493700<=lS)return{'code':(_0x5d0d2f-ou)*(-0x2125+0x29*-0x5a+0x338f*0x1)+_0x493700-Jp+(-0x16f*0x97+0x1*0x2629+0x1b250),'long':!(0xfdc+0x9a*0x2a+-0x2920)};}return{'code':_0x5d0d2f,'long':!(0x2f*0x86+0x11b0+-0x2a49)};}function Xi(_0x1def2d,_0x43ccbf,_0x3788d3){if(!_0x1def2d)return!(-0x1903*0x1+0x1be8+-0x2e4);const _0xd360d9=cu(_0x1def2d);if(_0xd360d9){const _0x2c02ff=_0xd360d9['code'];return _0x2c02ff>=_0x43ccbf&&_0x2c02ff<=_0x3788d3;}return!(-0x14a2+0x1e2f*-0x1+-0xa*-0x515);}function pS(_0x13608d,_0x2e70b1){if(_0x2e70b1===_0x13608d['length']-(0x1*0x788+-0x1*-0x85d+-0xfe4))return-0x8df*-0x1+-0x1*0x239f+0x1ac1;if(Xi(_0x13608d[_0x2e70b1],ou,ny)){const _0x7b214f=_0x13608d['substring'](_0x2e70b1,_0x2e70b1+(0x1d4d*-0x1+-0x15d2+0x3321)),_0x2a238e=_0x13608d['substring'](_0x2e70b1+(0x313+0x657+-0xac*0xe),_0x2e70b1+(-0xa45*0x3+-0x25*0x76+0x2fe1));return Xi(_0x2a238e,cS,dS)||Xi(_0x7b214f,em,tm)&&Xi(_0x2a238e,em,tm)?0x126*-0x4+0x195f*0x1+0x5*-0x427:Xi(_0x2a238e,lu,hu)?0x2*-0xcaa+-0x1*-0x11dd+-0x13f*-0x6:-0x2468+0x1a8f*-0x1+0x3ef9;}return Xi(_0x13608d[_0x2e70b1+(0x108+-0x6e*-0x4+-0x2bf)],lu,hu)?-0x1*0x2327+-0x19fe+-0x9b*-0x65:-0x1*0x249f+0x222b*0x1+0x275*0x1;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x59bd61,..._0x174b82){for(let _0x4e5b90=0x1*0xb67+0x125e+-0x1dc5;_0x4e5b90<_0x174b82['length'];_0x4e5b90++)_0x59bd61=_0x59bd61['replace']('{'+_0x4e5b90+'}',_0x174b82[_0x4e5b90]);return _0x59bd61;},'getCodePoint'(_0x5ea568,_0x3ddce6){const _0x184380=cu(_0x5ea568,_0x3ddce6);return _0x184380&&_0x184380['code'];},'getCodePoints'(_0xdf72d0){if(typeof _0xdf72d0!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x4cd1ea=0xc*-0xf0+0x10d9+0x1*-0x599;const _0x3df618=[];let _0xc5b89;for(;_0xc5b89=cu(_0xdf72d0,_0x4cd1ea);)_0x3df618['push'](_0xc5b89['code']),_0x4cd1ea+=_0xc5b89['long']?-0xeba+-0xf87+-0x3d*-0x7f:0x33d*-0x6+0x1*0x236b+-0xffc;return _0x3df618;},'getSymbols'(_0xf64792){if(typeof _0xf64792!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x3639e4=-0x19e*0x9+0x43*0x47+-0x407;const _0x503921=_0xf64792['length'],_0x1f107a=[];let _0x259382=-0xce+-0x313+-0x1*-0x3e1,_0x30c76e;for(;_0x3639e4<_0x503921;){if(_0x259382+=pS(_0xf64792,_0x3639e4+_0x259382),_0x30c76e=_0xf64792[_0x3639e4+_0x259382],Xi(_0x30c76e,uS,fS)&&(_0x30c76e=_0xf64792[_0x3639e4+_0x259382++]),Xi(_0x30c76e,lu,hu)&&(_0x30c76e=_0xf64792[_0x3639e4+_0x259382++]),_0x30c76e&&_0x30c76e['charCodeAt'](-0x3a*-0x2e+-0x1*-0x304+-0x4*0x35c)===hS){_0x30c76e=_0xf64792[_0x3639e4+_0x259382++];continue;}const _0x5b756e=_0xf64792['substring'](_0x3639e4,_0x3639e4+_0x259382);_0x1f107a['push'](_0x5b756e),_0x3639e4+=_0x259382,_0x259382=0x7ab+0x1*-0xf22+0x777;}return _0x1f107a;},'fromCodePoint'(){const _0x4b0c9a=[];let _0x41fa40,_0x3d83ec,_0x51042f;for(let _0x3b6158=0xd3f+0x1545+-0x2284;_0x3b6158<arguments['length'];++_0x3b6158)_0x41fa40=Number(arguments[_0x3b6158]),_0x3d83ec=_0x41fa40-(-0x1a3d8+0xd*-0x1d2f+0x41f3b),_0x51042f=_0x41fa40>-0x55*0x174+0x1984b+0x1*-0x1cc8?[(_0x3d83ec>>-0xb73+-0x313*-0x4+-0xcf)+(-0xc55*0x1+-0xa4c2+-0x3d1*-0x67),_0x3d83ec%(0xc8a+-0x1*0xcbc+0x432)+(-0x1*0xac+-0x3eb*0x16+0x132de)]:[_0x41fa40],_0x4b0c9a['push'](String['fromCharCo'+'de']['apply'](null,_0x51042f));return _0x4b0c9a['join']('');}},zr=class zr{static['set'](_0x4ad97c,_0x1f8051=!(0xc33+0x3ab*0x1+-0x3*0x54a)){_0x1f8051?zr['_traceChan'+'nels']['add'](_0x4ad97c):zr['_traceChan'+'nels']['delete'](_0x4ad97c);}static['get'](_0x7f39fa){return zr['_traceChan'+'nels']['has'](_0x7f39fa);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(0x1696+0x3*0xc9d+0xc*-0x509));let Xs=zr;const bt=class bt{static['deprecated'](_0x9cc6c0){bt['_loggedMes'+'sages']['has'](_0x9cc6c0)||(bt['_loggedMes'+'sages']['add'](_0x9cc6c0),console['warn']('DEPRECATED'+':\x20'+_0x9cc6c0));}static['removed'](_0x17f477){bt['_loggedMes'+'sages']['has'](_0x17f477)||(bt['_loggedMes'+'sages']['add'](_0x17f477),console['error']('REMOVED:\x20'+_0x17f477));}static['assertDepr'+'ecated'](_0x2aa143,_0x258a60){_0x2aa143||bt['deprecated'](_0x258a60);}static['assert'](_0x4d1ef3,..._0x4e1156){_0x4d1ef3||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x4e1156);}static['assertDest'+'royed'](_0xcb4df7){var _0x3de812;if(_0xcb4df7!=null&&_0xcb4df7['__alreadyD'+'estroyed']){const _0x1c7619='['+((_0x3de812=_0xcb4df7['constructo'+'r'])==null?void(0xbae+-0x62f+-0xc9*0x7):_0x3de812['name'])+(']\x20with\x20nam'+'e\x20[')+_0xcb4df7['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x1c7619)||(bt['_loggedMes'+'sages']['add'](_0x1c7619),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x1c7619,_0xcb4df7));}}static['call'](_0x1e0b2d){_0x1e0b2d();}static['log'](..._0x22c447){console['log'](..._0x22c447);}static['logOnce'](_0x1f5a5f,..._0x33dc77){bt['_loggedMes'+'sages']['has'](_0x1f5a5f)||(bt['_loggedMes'+'sages']['add'](_0x1f5a5f),console['log'](_0x1f5a5f,..._0x33dc77));}static['warn'](..._0x5b620e){console['warn'](..._0x5b620e);}static['warnOnce'](_0x3a8a9c,..._0x3f539e){bt['_loggedMes'+'sages']['has'](_0x3a8a9c)||(bt['_loggedMes'+'sages']['add'](_0x3a8a9c),console['warn'](_0x3a8a9c,..._0x3f539e));}static['error'](..._0x5b3b2d){console['error'](..._0x5b3b2d);}static['errorOnce'](_0x3f623e,..._0xbb4582){bt['_loggedMes'+'sages']['has'](_0x3f623e)||(bt['_loggedMes'+'sages']['add'](_0x3f623e),console['error'](_0x3f623e,..._0xbb4582));}static['trace'](_0x2a3c34,..._0x198e71){Xs['get'](_0x2a3c34)&&(console['groupColla'+'psed'](_0x2a3c34['padEnd'](0xaf8*-0x1+-0xb8f+0x169b,'\x20')+'|',..._0x198e71),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x115be1,_0x2d4e89){_0x115be1&&(_0x115be1['name']=_0x2d4e89);}static['setLabel'](_0x1706ad,_0x2fa15f){_0x1706ad&&(_0x1706ad['label']=_0x2fa15f);}static['setDestroy'+'ed'](_0x1d23ed){_0x1d23ed&&(_0x1d23ed['__alreadyD'+'estroyed']=!(-0xd80+0x1e8*0x6+0x210));}}class mS{constructor(_0x171fae,_0x1e478c,_0x34c5df,_0x2df076,_0x531995=!(-0xb17+0x8c6+0x252)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0x17*-0x2e+0x2*-0x103f+0x24a1*0x1)),(this['handler']=_0x171fae,this['name']=_0x1e478c,this['callback']=_0x34c5df,this['scope']=_0x2df076,this['_once']=_0x531995);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0xf2d4b3,_0x32cb42,_0x13f6ba=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0xf2d4b3,_0x32cb42,_0x13f6ba,!(-0x60*-0x2+-0x1f7*0x3+0x526*0x1));}['once'](_0x172714,_0x1e9920,_0xc05f16=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x172714,_0x1e9920,_0xc05f16,!(-0xaa+0x2*0x7cd+-0xef*0x10));}set['removed'](_0x225c42){_0x225c42&&(this['_removed']=!(0x1f*0x57+0x1ae2+-0x1f*0x135));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x261231,_0x4f7e98,_0x5c129d,_0x240644){if((!_0x261231||typeof _0x261231!='string'||!_0x4f7e98)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x261231+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x4f7e98),this['_callbacks']['has'](_0x261231)||this['_callbacks']['set'](_0x261231,[]),this['_callbackA'+'ctive']['has'](_0x261231)){const _0x3b0a8f=this['_callbackA'+'ctive']['get'](_0x261231);_0x3b0a8f&&_0x3b0a8f===this['_callbacks']['get'](_0x261231)&&this['_callbackA'+'ctive']['set'](_0x261231,_0x3b0a8f['slice']());}const _0x4dc245=new mS(this,_0x261231,_0x4f7e98,_0x5c129d,_0x240644);return this['_callbacks']['get'](_0x261231)['push'](_0x4dc245),_0x4dc245;}['on'](_0x209657,_0x56edd4,_0x331f16=this){return this['_addCallba'+'ck'](_0x209657,_0x56edd4,_0x331f16,!(-0x1*-0xfc4+-0x34f*0xa+0x1*0x1153));}['once'](_0x22ed4c,_0x8b3423,_0x3b45b7=this){return this['_addCallba'+'ck'](_0x22ed4c,_0x8b3423,_0x3b45b7,!(-0x1590+-0x1142+0x26d2));}['off'](_0x230333,_0x303e45,_0x2c7f55){if(_0x230333)this['_callbackA'+'ctive']['has'](_0x230333)&&this['_callbackA'+'ctive']['get'](_0x230333)===this['_callbacks']['get'](_0x230333)&&this['_callbackA'+'ctive']['set'](_0x230333,this['_callbackA'+'ctive']['get'](_0x230333)['slice']());else{for(const [_0x348434,_0x548a3e]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x348434)&&this['_callbacks']['get'](_0x348434)===_0x548a3e&&this['_callbackA'+'ctive']['set'](_0x348434,_0x548a3e['slice']());}if(_0x230333){if(_0x303e45){const _0x23c6e8=this['_callbacks']['get'](_0x230333);if(!_0x23c6e8)return this;for(let _0xb12642=0x8a5+-0x2*0xf27+0x15a9;_0xb12642<_0x23c6e8['length'];_0xb12642++)_0x23c6e8[_0xb12642]['callback']===_0x303e45&&(_0x2c7f55&&_0x23c6e8[_0xb12642]['scope']!==_0x2c7f55||(_0x23c6e8[_0xb12642]['removed']=!(-0x10f*0x11+-0x15*0x94+0x5*0x607),_0x23c6e8['splice'](_0xb12642,0x13e+0xd*0xdb+-0x62e*0x2),_0xb12642--));_0x23c6e8['length']===0x21c1+-0x2342+0x181&&this['_callbacks']['delete'](_0x230333);}else{const _0x4d1d76=this['_callbacks']['get'](_0x230333);if(_0x4d1d76){for(let _0x8af988=-0x1d56+0x1ac6+0x4*0xa4;_0x8af988<_0x4d1d76['length'];_0x8af988++)_0x4d1d76[_0x8af988]['removed']=!(-0x429*0x7+0xc8f+0x1090);this['_callbacks']['delete'](_0x230333);}}}else{for(const _0x118d6e of this['_callbacks']['values']())for(let _0x47bd97=0x138c+0x1dab+0x3137*-0x1;_0x47bd97<_0x118d6e['length'];_0x47bd97++)_0x118d6e[_0x47bd97]['removed']=!(-0x2493+-0x941+0x2dd4);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x50d12d){const _0x5b57fa=_0x50d12d['name'];_0x50d12d['removed']=!(-0xba*-0xd+0x29*0xcf+-0x2a99),this['_callbackA'+'ctive']['has'](_0x5b57fa)&&this['_callbackA'+'ctive']['get'](_0x5b57fa)===this['_callbacks']['get'](_0x5b57fa)&&this['_callbackA'+'ctive']['set'](_0x5b57fa,this['_callbackA'+'ctive']['get'](_0x5b57fa)['slice']());const _0x369106=this['_callbacks']['get'](_0x5b57fa);if(!_0x369106)return this;const _0x40eee8=_0x369106['indexOf'](_0x50d12d);return _0x40eee8!==-(-0x8d7+0x3f*0x53+-0xb95)&&(_0x369106['splice'](_0x40eee8,0x160a+-0x1e73+0x86a),_0x369106['length']===0x8fe+0x21+-0x5*0x1d3&&this['_callbacks']['delete'](_0x5b57fa)),this;}['fire'](_0x255eff,_0x3364ae,_0x244195,_0xd8e826,_0x3df1d3,_0x355fde,_0x434be0,_0x18e7e1,_0x107dae){if(!_0x255eff)return this;const _0x5e9c77=this['_callbacks']['get'](_0x255eff);if(!_0x5e9c77)return this;let _0x1e25f9;this['_callbackA'+'ctive']['has'](_0x255eff)?this['_callbackA'+'ctive']['get'](_0x255eff)!==_0x5e9c77&&(_0x1e25f9=_0x5e9c77['slice']()):this['_callbackA'+'ctive']['set'](_0x255eff,_0x5e9c77);for(let _0x111dee=0xb8c+-0x1a13+-0xe87*-0x1;(_0x1e25f9||this['_callbackA'+'ctive']['get'](_0x255eff))&&_0x111dee<(_0x1e25f9||this['_callbackA'+'ctive']['get'](_0x255eff))['length'];_0x111dee++){const _0x22c61f=(_0x1e25f9||this['_callbackA'+'ctive']['get'](_0x255eff))[_0x111dee];if(_0x22c61f['callback']&&(_0x22c61f['callback']['call'](_0x22c61f['scope'],_0x3364ae,_0x244195,_0xd8e826,_0x3df1d3,_0x355fde,_0x434be0,_0x18e7e1,_0x107dae),_0x22c61f['_once'])){const _0x9be58e=this['_callbacks']['get'](_0x255eff),_0x563d52=_0x9be58e?_0x9be58e['indexOf'](_0x22c61f):-(-0x161d+0x1949+-0x1*0x32b);if(_0x563d52!==-(-0x1781+0x1661+0x121)){this['_callbackA'+'ctive']['get'](_0x255eff)===_0x9be58e&&this['_callbackA'+'ctive']['set'](_0x255eff,this['_callbackA'+'ctive']['get'](_0x255eff)['slice']());const _0x58a6a1=this['_callbacks']['get'](_0x255eff);if(!_0x58a6a1)continue;_0x58a6a1[_0x563d52]['removed']=!(-0x16ce+-0x6f8+0x25*0xce),_0x58a6a1['splice'](_0x563d52,0x1dd9+0x4c*-0x14+0x6*-0x3fc),_0x58a6a1['length']===-0xbd5*-0x1+-0x21d3+-0x2*-0xaff&&this['_callbacks']['delete'](_0x255eff);}}}return _0x1e25f9||this['_callbackA'+'ctive']['delete'](_0x255eff),this;}['hasEvent'](_0x21fb0f){var _0x5e04f9;return!!((_0x5e04f9=this['_callbacks']['get'](_0x21fb0f))!=null&&_0x5e04f9['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x22219b,_0x4e8302){if(this['_index'][_0x22219b])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x22219b);const _0x2d8e84=this['_list']['push'](_0x4e8302)-(0x1a7+-0x2452+0x22ac);this['_index'][_0x22219b]=_0x2d8e84;}['has'](_0x7d5f1e){return this['_index'][_0x7d5f1e]!==void(-0x22da+-0x3e5*-0x1+0x13d*0x19);}['get'](_0x50c01b){const _0x5c0720=this['_index'][_0x50c01b];return _0x5c0720!==void(0x1*-0x3b+-0x253*0x2+0x4e1)?this['_list'][_0x5c0720]:null;}['remove'](_0x52646a){const _0x548840=this['_index'][_0x52646a];if(_0x548840!==void(0x1*0x2c8+0xb32+-0x6fd*0x2)){this['_list']['splice'](_0x548840,0x1*0x35f+-0x10f0+0x1*0xd92),delete this['_index'][_0x52646a];for(_0x52646a in this['_index']){const _0x2bf0c9=this['_index'][_0x52646a];_0x2bf0c9>_0x548840&&(this['_index'][_0x52646a]=_0x2bf0c9-(-0x17e7+0xd*0xd3+0x133*0xb));}return!(0x2161*-0x1+0xd*0xb2+-0x1857*-0x1);}return!(-0xaa5+0x6*-0xd+0xaf4);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x3*0x5d4+-0x1596+-0xf*-0x46;for(const _0x2adb71 in this['_index'])delete this['_index'][_0x2adb71];}}const gS=_0x56c311=>{const _0x433016={};let _0x2c7646=_0x433016;return()=>(_0x2c7646===_0x433016&&(_0x2c7646=_0x56c311()),_0x2c7646);},Ns=class Ns{static['loadScript'](_0x47a60a,_0x36dc2e){const _0x11fe19=document['createElem'+'ent']('script');_0x11fe19['setAttribu'+'te']('src',_0x47a60a),_0x11fe19['onload']=()=>{_0x36dc2e(null);},_0x11fe19['onerror']=()=>{_0x36dc2e('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x47a60a+'\x27');},document['body']['appendChil'+'d'](_0x11fe19);}static['loadWasm'](_0x52ef87,_0x433f86,_0x4e904e){const _0xe3f95=Ns['wasmSuppor'+'ted']()&&_0x433f86['glueUrl']&&_0x433f86['wasmUrl']?_0x433f86['glueUrl']:_0x433f86['fallbackUr'+'l'];_0xe3f95?Ns['loadScript'](_0xe3f95,_0x36839c=>{if(_0x36839c)_0x4e904e(_0x36839c,null);else{const _0x171f82=window[_0x52ef87];window[_0x52ef87]=void(-0x2513+0x2*0x728+-0x16c3*-0x1),_0x171f82({'locateFile':()=>_0x433f86['wasmUrl'],'onAbort':()=>{_0x4e904e('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x3fba9d=>{_0x4e904e(null,_0x3fba9d);});}}):_0x4e904e('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x599f22){return Ns['modules']['hasOwnProp'+'erty'](_0x599f22)||(Ns['modules'][_0x599f22]={'config':null,'initializing':!(0x1b29*0x1+0x11*0x119+0x13d*-0x25),'instance':null,'callbacks':[]}),Ns['modules'][_0x599f22];}static['initialize'](_0x23aa71,_0x2069f7){if(_0x2069f7['initializi'+'ng'])return;const _0x457081=_0x2069f7['config'];(_0x457081['glueUrl']||_0x457081['wasmUrl']||_0x457081['fallbackUr'+'l'])&&(_0x2069f7['initializi'+'ng']=!(-0xba2+-0x2456*-0x1+-0xc*0x20f),Ns['loadWasm'](_0x23aa71,_0x457081,(_0x50131c,_0x65b0c7)=>{_0x50131c?_0x457081['errorHandl'+'er']?_0x457081['errorHandl'+'er'](_0x50131c):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x23aa71+'\x20error='+_0x50131c):(_0x2069f7['instance']=_0x65b0c7,_0x2069f7['callbacks']['forEach'](_0x17f366=>{_0x17f366(_0x65b0c7);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x51c35f=new WebAssembly['Module'](Uint8Array['of'](0x1953+-0xda+-0x4e5*0x5,-0xbf5+0x1*-0x5a5+0x11fb,-0x20*0x10d+0x53*-0xf+-0x4de*-0x8,-0x1*-0x89c+0x5fd*-0x4+0xfc5,0x411+-0xfb1+0x1*0xba1,-0x179f+0x7*0x371+-0x78,0x16b3+-0x11ee+-0x4c5,-0x8d7+0x1*0x3a6+0x531));if(_0x51c35f instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x51c35f)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1d13*0x1+-0x17d6+0x1*0x34ea);}));let Br=Ns;class ay{static['setConfig'](_0x28c9d8,_0x2f3854){const _0x1366be=Br['getModule'](_0x28c9d8);_0x1366be['config']=_0x2f3854,_0x1366be['callbacks']['length']>0x1907+-0x1171+-0x796&&Br['initialize'](_0x28c9d8,_0x1366be);}static['getConfig'](_0x542383){var _0x1caa72,_0x3a789e;return(_0x3a789e=(_0x1caa72=Br['modules'])==null?void(-0x1977+0xc73+0xd04):_0x1caa72[_0x542383])==null?void(0x2*-0x82c+-0x1*0x6ad+-0x47*-0x53):_0x3a789e['config'];}static['getInstanc'+'e'](_0x3a1b93,_0x4aa123){const _0x45af77=Br['getModule'](_0x3a1b93);_0x45af77['instance']?_0x4aa123(_0x45af77['instance']):(_0x45af77['callbacks']['push'](_0x4aa123),_0x45af77['config']&&Br['initialize'](_0x3a1b93,_0x45af77));}}class oy{constructor(_0x56c285){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',-0x26*-0xcc+-0x8fa+-0x3*0x71a),(this['arraybuffe'+'r']=_0x56c285,this['dataView']=new DataView(_0x56c285));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x1e4c8d=-0x1226+-0x23a*0x3+0x2*0xc6a){this['offset']=_0x1e4c8d;}['skip'](_0x2ba724){this['offset']+=_0x2ba724;}['align'](_0x5b5c90){this['offset']=this['offset']+_0x5b5c90-(0xd*0x291+-0x1e2a+-0x332)&~(_0x5b5c90-(0x1250+0x4*0x98b+0x1*-0x387b));}['_inc'](_0x3677d1){return this['offset']+=_0x3677d1,this['offset']-_0x3677d1;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x34ec93){let _0x27bbdf='';for(let _0x1ea531=0x466+-0x12e5*-0x1+-0x174b;_0x1ea531<_0x34ec93;++_0x1ea531)_0x27bbdf+=this['readChar']();return _0x27bbdf;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x500+0x145f+-0x195d),!(-0x13e7*0x1+-0x1879+0x2c60));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x1*0x23d1+0x1579*0x1+0xe5c),!(0x5e+-0x9*-0x138+0x2*-0x5ab));}['readU64'](){return this['readU32']()+(-0x2ba+-0x429*0x7+-0x48d*-0x7)**(0x17b1*-0x1+0x257a+-0xda9)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x1*0x17e9+0x345+-0x1b2a),!(-0x3ce+0x2169+0x3*-0x9de));}['readArray'](_0x489784){for(let _0x532cbe=-0x1*-0x1420+-0x1fd5+0xbb5;_0x532cbe<_0x489784['length'];++_0x532cbe)_0x489784[_0x532cbe]=this['readU8']();}['readLine'](){const _0x45e862=this['dataView'];let _0x419d27='';for(;!(this['offset']>=_0x45e862['byteLength']);){const _0x5e7bd7=String['fromCharCo'+'de'](this['readU8']());if(_0x5e7bd7==='\x0a')break;_0x419d27+=_0x5e7bd7;}return _0x419d27;}}class wh{constructor(_0x50cbb0){c(this,'items',[]),c(this,'length',0x1b55+-0x1355+-0x800),c(this,'loopIndex',-(-0x1602+0x1*-0x741+0x4*0x751)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x50cbb0['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x236920){let _0x1c3754=-0x1*0xe32+0x28+0xe0a,_0x21bb08=this['items']['length']-(0x98e+-0x239*0x5+0x190);const _0x34cd2d=_0x236920[this['_sortBy']];let _0x1b3036,_0x204445;for(;_0x1c3754<=_0x21bb08;)_0x1b3036=Math['floor']((_0x1c3754+_0x21bb08)/(0x243b+-0x78a*-0x3+-0x3ad7)),_0x204445=this['items'][_0x1b3036][this['_sortBy']],_0x204445<=_0x34cd2d?_0x1c3754=_0x1b3036+(-0x1*-0x223b+-0x1dcf+-0x46b):_0x204445>_0x34cd2d&&(_0x21bb08=_0x1b3036-(-0x2*0x94f+-0x9*-0xd2+0xb3d));return _0x1c3754;}['_doSort'](_0x186996,_0x250966){const _0x1580d0=this['_sortBy'];return _0x186996[_0x1580d0]-_0x250966[_0x1580d0];}['insert'](_0x4e33f1){const _0x20cb16=this['_binarySea'+'rch'](_0x4e33f1);this['items']['splice'](_0x20cb16,0x1b4d*0x1+0x915+-0x2462,_0x4e33f1),this['length']++,this['loopIndex']>=_0x20cb16&&this['loopIndex']++;}['append'](_0xb186f3){this['items']['push'](_0xb186f3),this['length']++;}['remove'](_0x2e48a2){const _0x4e76c3=this['items']['indexOf'](_0x2e48a2);_0x4e76c3<-0x62e+0x3ac+-0x6*-0x6b||(this['items']['splice'](_0x4e76c3,0x19e8+0x5c*0x5d+0x1*-0x3b53),this['length']--,this['loopIndex']>=_0x4e76c3&&this['loopIndex']--);}['sort'](){const _0x1279ad=this['loopIndex']>=0x5*-0x1ff+0x7*0x183+-0x9a?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x1279ad!==null&&(this['loopIndex']=this['items']['indexOf'](_0x1279ad));}}class po extends ce{constructor(_0x5ecc65){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x5ecc65;}['add'](..._0xe1c19c){let _0x1669df=!(-0x23ad+0x165b+0x9*0x17b);const _0xf7c468=this['_processAr'+'guments'](_0xe1c19c,!(0x1416*0x1+0x4b+-0x1461));if(!_0xf7c468['length'])return _0x1669df;for(let _0x8df224=-0x1473+-0x24a*-0x3+-0x487*-0x3;_0x8df224<_0xf7c468['length'];_0x8df224++)this['_index'][_0xf7c468[_0x8df224]]||(_0x1669df=!(0xcae+-0x1a36+0xd88),this['_index'][_0xf7c468[_0x8df224]]=!(-0x163d+0x8e*-0xa+0x1*0x1bc9),this['_list']['push'](_0xf7c468[_0x8df224]),this['fire']('add',_0xf7c468[_0x8df224],this['_parent']));return _0x1669df&&this['fire']('change',this['_parent']),_0x1669df;}['remove'](..._0x227110){let _0x30f097=!(0x1*-0x619+-0x1f2a*0x1+0x9f*0x3c);if(!this['_list']['length'])return _0x30f097;const _0x267fd8=this['_processAr'+'guments'](_0x227110,!(-0x235b+-0x12fd+-0x8*-0x6cb));if(!_0x267fd8['length'])return _0x30f097;for(let _0x1b707a=-0x1db*0xb+0xe6*0x2+-0x129d*-0x1;_0x1b707a<_0x267fd8['length'];_0x1b707a++)this['_index'][_0x267fd8[_0x1b707a]]&&(_0x30f097=!(0xcef+-0x14a9+-0x2b*-0x2e),delete this['_index'][_0x267fd8[_0x1b707a]],this['_list']['splice'](this['_list']['indexOf'](_0x267fd8[_0x1b707a]),-0xbe8+-0x8a5+-0x3*-0x6da),this['fire']('remove',_0x267fd8[_0x1b707a],this['_parent']));return _0x30f097&&this['fire']('change',this['_parent']),_0x30f097;}['clear'](){if(!this['_list']['length'])return;const _0x145764=this['_list']['slice'](0x1d2*0x2+0x321+-0x6c5);this['_list']=[],this['_index']={};for(let _0x158f37=0x1632+0x4ab*0x2+-0x1*0x1f88;_0x158f37<_0x145764['length'];_0x158f37++)this['fire']('remove',_0x145764[_0x158f37],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x13ca9f){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x13ca9f)):!(-0x59d*-0x5+0xba0+0x9ec*-0x4);}['_has'](_0x5a1b7d){if(!this['_list']['length']||!_0x5a1b7d['length'])return!(0x1f7d+-0x1aa4+0xa*-0x7c);for(let _0x500940=0x6*-0x41b+-0x20fb+-0x31*-0x12d;_0x500940<_0x5a1b7d['length'];_0x500940++)if(_0x5a1b7d[_0x500940]['length']===0x11ff+-0x4b*-0x67+-0x302b){if(this['_index'][_0x5a1b7d[_0x500940][-0x1*0x1a02+-0x1*-0x22d1+-0x8cf]])return!(0x1e7f*-0x1+0x16*0x45+0x1891);}else{let _0x400b7a=!(0x12a9*-0x2+0x1e3d+-0x31*-0x25);for(let _0x2d6c3d=0x22c9+-0xf25*0x2+-0x1*0x47f;_0x2d6c3d<_0x5a1b7d[_0x500940]['length'];_0x2d6c3d++)if(!this['_index'][_0x5a1b7d[_0x500940][_0x2d6c3d]]){_0x400b7a=!(-0x207f+0x1918+0x768);break;}if(_0x400b7a)return!(0x6f0+-0x2125*-0x1+0x1f*-0x14b);}return!(0x6a1+-0xe3*0x1+-0x1*0x5bd);}['list'](){return this['_list']['slice'](0x7e8+-0x2184+0x199c);}['_processAr'+'guments'](_0x44f92a,_0x4eb7de){const _0x5b21cf=[];let _0xc13528=[];if(!_0x44f92a||!_0x44f92a['length'])return _0x5b21cf;for(let _0x4ead67=0xe13+0x127e+-0x2091;_0x4ead67<_0x44f92a['length'];_0x4ead67++)if(_0x44f92a[_0x4ead67]instanceof Array){_0x4eb7de||(_0xc13528=[]);for(let _0x415437=0xceb+0x8c3*-0x1+-0x10a*0x4;_0x415437<_0x44f92a[_0x4ead67]['length'];_0x415437++)typeof _0x44f92a[_0x4ead67][_0x415437]=='string'&&(_0x4eb7de?_0x5b21cf['push'](_0x44f92a[_0x4ead67][_0x415437]):_0xc13528['push'](_0x44f92a[_0x4ead67][_0x415437]));!_0x4eb7de&&_0xc13528['length']&&_0x5b21cf['push'](_0xc13528);}else typeof _0x44f92a[_0x4ead67]=='string'&&(_0x4eb7de?_0x5b21cf['push'](_0x44f92a[_0x4ead67]):_0x5b21cf['push']([_0x44f92a[_0x4ead67]]));return _0x5b21cf;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x4df4d2){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x4e560d=_0x4df4d2['match'](yS);this['scheme']=_0x4e560d[-0x1eba+-0x3b3*0x2+0x2622],this['authority']=_0x4e560d[0x2*0xf89+-0x20d7*0x1+0x1c9*0x1],this['path']=_0x4e560d[-0x23d4+-0x17b*0x1+0x2554],this['query']=_0x4e560d[-0x9*0xa5+-0x1b*-0xb5+-0xd43],this['fragment']=_0x4e560d[0x54f+-0x1417*-0x1+-0x195d];}['toString'](){let _0x26d5c1='';return this['scheme']&&(_0x26d5c1+=this['scheme']+':'),this['authority']&&(_0x26d5c1+='//'+this['authority']),_0x26d5c1+=this['path'],this['query']&&(_0x26d5c1+='?'+this['query']),this['fragment']&&(_0x26d5c1+='#'+this['fragment']),_0x26d5c1;}['getQuery'](){const _0x47027b={};if(this['query']){const _0x2adc57=decodeURIComponent(this['query'])['split']('&');for(const _0x11cc78 of _0x2adc57){const _0x36b1c2=_0x11cc78['split']('=');_0x47027b[_0x36b1c2[-0x1*-0x1b5e+0x6cb+-0x2229]]=_0x36b1c2[0x1bd1+0x15*-0x1+-0x1f*0xe5];}}return _0x47027b;}['setQuery'](_0x5cd2f8){let _0x5c8bb5='';for(const _0x2a4341 in _0x5cd2f8)_0x5cd2f8['hasOwnProp'+'erty'](_0x2a4341)&&(_0x5c8bb5!==''&&(_0x5c8bb5+='&'),_0x5c8bb5+=encodeURIComponent(_0x2a4341)+'='+encodeURIComponent(_0x5cd2f8[_0x2a4341]));this['query']=_0x5c8bb5;}}const xS=-0x1*0x19d6+-0x1*0x16f+0x1b45,Df=0x11c1+-0x99e+-0x3*0x2b6,sm=0x1*-0x1c74+-0x47*-0x32+0x6*0x26f,SS=-0xf65*0x2+0x1*-0x20c9+0x3f98,N={'DEG_TO_RAD':Math['PI']/(0x937*0x2+-0x107c+-0x13e),'RAD_TO_DEG':(-0x113a+0x7a*-0x48+0x343e)/Math['PI'],'clamp'(_0x14f2df,_0x5a13b6,_0x5487f5){return _0x14f2df>=_0x5487f5?_0x5487f5:_0x14f2df<=_0x5a13b6?_0x5a13b6:_0x14f2df;},'intToBytes24'(_0x58964b){const _0x47a3bb=_0x58964b>>-0x2635+0x2*0xb6f+0xf67&0x3*0x81b+0xa41+-0x9*0x3bb,_0x45f7f2=_0x58964b>>-0x22e6+-0xa31+0x2d1f*0x1&-0x8*0x10b+0x1f0a+-0x15b3,_0xe75f01=_0x58964b&-0xd*-0x239+0x19*0x179+-0x40b7;return[_0x47a3bb,_0x45f7f2,_0xe75f01];},'intToBytes32'(_0x163012){const _0x15bc3f=_0x163012>>-0x1028+-0xdea+0x1e2a&-0x1f04+0x4a9*-0x2+0x2955,_0x4346cd=_0x163012>>-0x2131+-0x12a*-0x9+0x16c7&0x897+0xf17+0x1*-0x16af,_0x154542=_0x163012>>-0x1485+-0x20b9*-0x1+-0x1*0xc2c&0x13*0x1aa+-0x34*0x24+-0x75*0x33,_0x2d1c1a=_0x163012&0x2cf*-0x3+-0x4cf+0xe3b;return[_0x15bc3f,_0x4346cd,_0x154542,_0x2d1c1a];},'bytesToInt24'(_0x2c33f5,_0x2a6e4d,_0x48f345){return _0x2c33f5['length']&&(_0x48f345=_0x2c33f5[0x9c2+0x1432+-0x1df2],_0x2a6e4d=_0x2c33f5[-0x4*-0x3ec+0x1bfe+-0x3*0xe8f],_0x2c33f5=_0x2c33f5[0x11*-0x149+0x1*-0x1ceb+0x32c4]),_0x2c33f5<<0x1d32+-0xd8+-0x1*0x1c4a|_0x2a6e4d<<-0x928+0x43*0x1f+0x113|_0x48f345;},'bytesToInt32'(_0xa10f0c,_0x22a841,_0x5ce0de,_0x4e6bb0){return _0xa10f0c['length']&&(_0x4e6bb0=_0xa10f0c[0x1*0x45b+0x1f*0x25+0x9*-0xfb],_0x5ce0de=_0xa10f0c[-0xd*-0x184+-0x1ba0+0x7ee],_0x22a841=_0xa10f0c[0x1136*-0x1+0x51*-0x35+-0x1e*-0x122],_0xa10f0c=_0xa10f0c[0x74*0x3d+0x399*-0x5+-0x9a7]),(_0xa10f0c<<-0x1338+-0xb*0xb+0x13c9|_0x22a841<<-0x130b+-0x252e*0x1+0x3849|_0x5ce0de<<-0x148d*0x1+-0x122c+-0x1*-0x26c1|_0x4e6bb0)>>>-0x9*0x22+0x5f*0x5+-0xa9;},'lerp'(_0x35dadf,_0x117536,_0x500854){return _0x35dadf+(_0x117536-_0x35dadf)*N['clamp'](_0x500854,0x23d4+-0x151b*-0x1+0x5*-0xb63,0x4d*-0xd+0x1*0xd0f+-0x925);},'lerpAngle'(_0x4c978e,_0x49a4bd,_0x3ab491){return _0x49a4bd-_0x4c978e>0xdad*0x1+-0xa*-0x88+-0x1249&&(_0x49a4bd-=0x8*0x1b4+0x167b*-0x1+0x25*0x47),_0x49a4bd-_0x4c978e<-(-0x1243+-0x17*-0xe5+-0x19c)&&(_0x49a4bd+=0xabd+0xb50*-0x2+0x1*0xd4b),N['lerp'](_0x4c978e,_0x49a4bd,N['clamp'](_0x3ab491,-0x1*0x74e+0x88f+-0x141,-0xe9c+0x2565+-0x16c8));},'powerOfTwo'(_0xf1bd52){return _0xf1bd52!==0x6d6*-0x2+-0x2c2+0x106e&&!(_0xf1bd52&_0xf1bd52-(0x1*-0x1226+0x131c*-0x2+0x385f));},'nextPowerOfTwo'(_0x4036b1){return _0x4036b1--,_0x4036b1|=_0x4036b1>>-0xd6b+-0xafe+0xc35*0x2,_0x4036b1|=_0x4036b1>>0x1f93+-0x948+-0x1649,_0x4036b1|=_0x4036b1>>0x99b*-0x2+0x1f7*0x1+0x1143*0x1,_0x4036b1|=_0x4036b1>>0xa13+0xb2*0x1a+-0x1c1f,_0x4036b1|=_0x4036b1>>-0xa1a*-0x1+0x22f4*-0x1+0x18ea,_0x4036b1++,_0x4036b1;},'nearestPowerOfTwo'(_0x402928){return Math['pow'](-0x1c8d+-0x70f*0x2+0x2aad,Math['round'](Math['log'](_0x402928)/Math['log'](-0x1*-0x14b1+0xcfb*0x2+0x2ea5*-0x1)));},'random'(_0x5d045a,_0xa14d15){const _0x52213e=_0xa14d15-_0x5d045a;return Math['random']()*_0x52213e+_0x5d045a;},'smoothstep'(_0xf037f0,_0x4f9063,_0x508801){return _0x508801<=_0xf037f0?0x194a+0x14f4+-0x2e3e*0x1:_0x508801>=_0x4f9063?-0x511+0xfb0+0x3*-0x38a:(_0x508801=(_0x508801-_0xf037f0)/(_0x4f9063-_0xf037f0),_0x508801*_0x508801*(0x19be+-0x19*-0x9b+0x1*-0x28de-(-0x2621+-0x1*0x11f2+0x3815)*_0x508801));},'smootherstep'(_0x4dd836,_0x3f8d79,_0x34354b){return _0x34354b<=_0x4dd836?-0x479+0x233*-0x1+0x6ac:_0x34354b>=_0x3f8d79?-0x237b+-0x1*0x143b+0x347*0x11:(_0x34354b=(_0x34354b-_0x4dd836)/(_0x3f8d79-_0x4dd836),_0x34354b*_0x34354b*_0x34354b*(_0x34354b*(_0x34354b*(0xe3*-0xd+-0x1e80+0x2a0d)-(0x6f5+-0x201f*0x1+0x1939))+(-0x1*0x1c83+-0x13e*0x18+0x3a5d)));},'roundUp'(_0x16199f,_0x298063){return _0x298063===0x16*-0x134+-0x369*0x7+0x3257?_0x16199f:Math['ceil'](_0x16199f/_0x298063)*_0x298063;},'between'(_0x45ba72,_0x4e3036,_0x3e5c37,_0x5d9a07){const _0x9abea2=Math['min'](_0x4e3036,_0x3e5c37),_0x162f80=Math['max'](_0x4e3036,_0x3e5c37);return _0x5d9a07?_0x45ba72>=_0x9abea2&&_0x45ba72<=_0x162f80:_0x45ba72>_0x9abea2&&_0x45ba72<_0x162f80;}},it=class it{constructor(_0x1a2a46=0x23a7+-0x86f+-0x1b38,_0x3cf159=-0x1e7*-0x14+-0x1*0x217a+0x6*-0xc3,_0x1dfeb6=0x21d+0x4*-0x5c6+-0x14fb*-0x1,_0x5774be=-0xb4e+-0x7bf+0x130e){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x3887dd=_0x1a2a46['length'];_0x3887dd===0x211*-0x5+0x140d*-0x1+0x1e65||_0x3887dd===0x3*0x73e+-0x21dc+0xc26?(this['r']=_0x1a2a46[0x1966+-0xf61+-0xa05],this['g']=_0x1a2a46[-0x1d65+0xac9+0x129d],this['b']=_0x1a2a46[-0x1c2*0xe+-0x1d20+0x35be],this['a']=_0x1a2a46[0xa90+0x1d*0x8+0xb75*-0x1]??0xe3*-0x29+-0x35b*-0x6+0x1*0x103a):(this['r']=_0x1a2a46,this['g']=_0x3cf159,this['b']=_0x1dfeb6,this['a']=_0x5774be);}['clone'](){const _0x53cdae=this['constructo'+'r'];return new _0x53cdae(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x3380b1){return this['r']=_0x3380b1['r'],this['g']=_0x3380b1['g'],this['b']=_0x3380b1['b'],this['a']=_0x3380b1['a'],this;}['equals'](_0x5063a2){return this['r']===_0x5063a2['r']&&this['g']===_0x5063a2['g']&&this['b']===_0x5063a2['b']&&this['a']===_0x5063a2['a'];}['set'](_0x253865,_0x2173c6,_0x84f3fd,_0x6ab465=0x3*-0xc01+0x86b*0x2+0x132e){return this['r']=_0x253865,this['g']=_0x2173c6,this['b']=_0x84f3fd,this['a']=_0x6ab465,this;}['lerp'](_0x11deb2,_0x374ee2,_0x9b2935){return this['r']=_0x11deb2['r']+_0x9b2935*(_0x374ee2['r']-_0x11deb2['r']),this['g']=_0x11deb2['g']+_0x9b2935*(_0x374ee2['g']-_0x11deb2['g']),this['b']=_0x11deb2['b']+_0x9b2935*(_0x374ee2['b']-_0x11deb2['b']),this['a']=_0x11deb2['a']+_0x9b2935*(_0x374ee2['a']-_0x11deb2['a']),this;}['linear'](_0x409f6b=this){return this['r']=Math['pow'](_0x409f6b['r'],0xedc+0x1b3e+-0x2a18+0.20000000000000018),this['g']=Math['pow'](_0x409f6b['g'],0x25bf+0x1d41*-0x1+0x2d4*-0x3+0.20000000000000018),this['b']=Math['pow'](_0x409f6b['b'],0x7*-0x23f+-0x2359+-0x7*-0x74c+0.20000000000000018),this['a']=_0x409f6b['a'],this;}['gamma'](_0x345b49=this){return this['r']=Math['pow'](_0x345b49['r'],(0x1*-0xfcb+0x1*0x64d+0x97f)/(0x252e*0x1+0x2*0x7e1+-0x34ee+0.20000000000000018)),this['g']=Math['pow'](_0x345b49['g'],(0x9*0x2f1+-0xa41+-0x1037)/(0x1e5*-0x5+0x27*-0x3+-0x27c*-0x4+0.20000000000000018)),this['b']=Math['pow'](_0x345b49['b'],(0x202f+0x1e3f+-0x3e6d)/(-0xf88+0x2d*0x47+0x30f+0.20000000000000018)),this['a']=_0x345b49['a'],this;}['mulScalar'](_0x5224e4){return this['r']*=_0x5224e4,this['g']*=_0x5224e4,this['b']*=_0x5224e4,this;}['fromString'](_0x5b3266){const _0x45e0df=parseInt(_0x5b3266['replace']('#','0x'),0x6c*0x59+0x1b2b+0x72f*-0x9);let _0x4e4112;return _0x5b3266['length']>-0x1943+-0x909*0x3+0x107*0x33?_0x4e4112=N['intToBytes'+'32'](_0x45e0df):(_0x4e4112=N['intToBytes'+'24'](_0x45e0df),_0x4e4112[-0xf5f+0x63b*0x6+0x2*-0xb00]=0x68*-0x7+0x1*-0xb82+-0x1*-0xf59),this['set'](_0x4e4112[-0x1*-0x61f+-0x2238+0x1c19]/(0x326*0x2+-0x12a*-0x1f+-0x2963),_0x4e4112[-0x2673+0x13a6*0x1+0x53*0x3a]/(0x553+0x2bb+-0x70f),_0x4e4112[0x1f6*0x6+0x214+-0xdd6]/(-0x18df+-0x1*0xd05+0x26e3),_0x4e4112[0x15*0x189+0x1bf7+-0x3c31]/(0x14e8+0x1a26*-0x1+-0x63d*-0x1)),this;}['fromArray'](_0x2bd9f1,_0x490cf4=0xef3*0x1+-0x1*-0x1fc6+-0x9*0x531){return this['r']=_0x2bd9f1[_0x490cf4]??this['r'],this['g']=_0x2bd9f1[_0x490cf4+(-0x1*0x232c+-0x1997+0x3cc4)]??this['g'],this['b']=_0x2bd9f1[_0x490cf4+(0x1f39*-0x1+0x4d1*-0x4+0x5d*0x8b)]??this['b'],this['a']=_0x2bd9f1[_0x490cf4+(-0x2522+-0xb0b*-0x2+0xf0f)]??this['a'],this;}['toString'](_0x3fee60,_0x585b2e){const {r:_0x3502a8,g:_0x47fe50,b:_0x4eb91f,a:_0x2355aa}=this;if(_0x585b2e||_0x3502a8>-0x1258+0x1e6c+-0x1*0xc13||_0x47fe50>-0x122a+-0x17d8+0x9*0x4ab||_0x4eb91f>0x1e01*-0x1+0x1*0xe42+0x20*0x7e)return _0x3502a8['toFixed'](-0x1a*-0x67+-0x20*0x9b+0x8ed)+',\x20'+_0x47fe50['toFixed'](0x8b2+0x22fb*-0x1+0x1a4c)+',\x20'+_0x4eb91f['toFixed'](0x21f*-0xe+-0x167+-0x2c*-0xb5)+',\x20'+_0x2355aa['toFixed'](0x876+0x11*-0x101+0x89e);let _0x5e10bc='#'+((-0x1*0x2333+-0x1*0x70d+-0x2a41*-0x1<<0x2*-0x12a7+-0x909+0x2e6f*0x1)+(Math['round'](_0x3502a8*(0x1*-0x3a+-0x606*-0x4+-0x16df*0x1))<<0x2616+0x56c+-0x1*0x2b72)+(Math['round'](_0x47fe50*(-0x340*-0x2+-0x65a+0x1f*0x7))<<0x118b+-0xd*0x2b1+0x117a)+Math['round'](_0x4eb91f*(0x2c*0x64+0xb3e+0x3*-0x925)))['toString'](-0x21e0+0x787+0x1a69)['slice'](0x1*0x1503+-0x1745*0x1+0x243);if(_0x3fee60===!(0x679+-0xa1a*-0x3+-0x541*0x7)){const _0x59b328=Math['round'](_0x2355aa*(0x14d+-0x1325*0x2+0x25fc))['toString'](0x1d21+-0x1*0x1001+-0x4c*0x2c);this['a']<(0xd25+-0x14d*0x6+-0x547)/(-0x12ab*0x1+0xcba+0x6f0)?_0x5e10bc+='0'+_0x59b328:_0x5e10bc+=_0x59b328;}return _0x5e10bc;}['toArray'](_0x22e855=[],_0x174f7c=-0x1369+0x1*0x158e+-0x225,_0x8def11=!(0x1*0x1ede+-0x441+-0x8df*0x3)){return _0x22e855[_0x174f7c]=this['r'],_0x22e855[_0x174f7c+(0x533+0xb*0x1b1+-0x17cd)]=this['g'],_0x22e855[_0x174f7c+(-0xdd0+-0x242a+-0x1*-0x31fc)]=this['b'],_0x8def11&&(_0x22e855[_0x174f7c+(0x1*0x1346+0x4*-0x80b+0xce9)]=this['a']),_0x22e855;}};c(it,'BLACK',Object['freeze'](new it(-0xf20+0x13d9+-0x5d*0xd,-0xb2*0x38+-0x2069+0x4759,0x3f8*0x2+-0x26*0x5e+0x4d*0x14,0xb2d*-0x1+0x359*-0x7+0x229d))),c(it,'BLUE',Object['freeze'](new it(-0x26f*0x1+0xc88*-0x2+0x1b7f,-0x343+0x1c2e+-0x18eb,0x8ed+-0xd60+0x474,-0xcb3*-0x3+-0x2135+-0x4e3))),c(it,'CYAN',Object['freeze'](new it(-0x20ec*0x1+-0x16e4+0x37d0,-0x2107+-0x17dc+0x38e4,0x146b+-0x29*0xe3+0xff1,0x3*0x62f+-0x1168+-0x4*0x49))),c(it,'GRAY',Object['freeze'](new it(0x916*-0x1+-0x1*0x132d+0x1c43+0.5,-0xb*0x68+0x11a6+-0x1*0xd2e+0.5,0x5*-0x6d1+0x296*0x8+-0x17d*-0x9+0.5,-0x1*-0x20fa+0xe52+0x1*-0x2f4b))),c(it,'GREEN',Object['freeze'](new it(-0xdc7*-0x1+-0x707*-0x4+0x1*-0x29e3,0x4*-0x721+-0x1223+0x2*0x1754,0x26e4+-0x570+-0x2174,-0x2a0*-0x8+-0x190+-0x5*0x3e3))),c(it,'MAGENTA',Object['freeze'](new it(-0x8*-0x44f+-0x16d7+-0xba0,0x20d2+0x25c1+-0x4693,0x1*-0xf4f+0xf89+-0x1*0x39,0xa39+-0x551*-0x2+-0x14da))),c(it,'RED',Object['freeze'](new it(-0xb66+-0xbf*0x1+-0x1*-0xc26,-0x254e+-0x781*-0x1+0x3*0x9ef,-0x1269+-0x1ae0+0x2d49*0x1,-0x1*-0x1e65+-0x11fb+-0xc69))),c(it,'WHITE',Object['freeze'](new it(-0x19c1+-0x1e7b+0x383d,-0x1*-0x2317+0x1*0x1992+-0x3ca8,0x8*0x1c+0x1*-0xed5+0xdf6,-0x725*0x4+-0x3f*-0x17+0x16ec))),c(it,'YELLOW',Object['freeze'](new it(0x472+0x1f66+-0x72b*0x5,-0x1*0xf37+0x304+0xc34,-0x1*0x17a5+0x1*-0x21d1+0x3976,0x141e+-0x72+-0x1*0x13ab)));let Y=it;class ly{constructor(_0x5748f3,_0x58c339=0x1*-0xc5+0x2e5*-0x1+0x3aa){c(this,'_curve'),c(this,'_left',-(-0x8*-0x17d+0x1555+-0x213c)/(-0x25c5+-0x55*0x7+-0x140c*-0x2)),c(this,'_right',(-0x20a5+-0x8c4+0x296a)/(-0x55e+-0x6d3*0x1+0xc31)),c(this,'_recip',-0x65*-0x1+-0xce*-0x1+-0x133),c(this,'_p0',0x130d+-0x14a4+0x1*0x197),c(this,'_p1',-0x1*0x71b+0x1db7*-0x1+0x24d2),c(this,'_m0',0x31d*0x1+-0x1fed*0x1+0x1*0x1cd0),c(this,'_m1',-0x17bf*0x1+-0x2ad*0x2+0x1d19),(this['_curve']=_0x5748f3,this['_reset'](_0x58c339));}['evaluate'](_0x1c473f,_0x491846=!(0x1246+-0xac3+-0x782)){(_0x491846||_0x1c473f<this['_left']||_0x1c473f>=this['_right'])&&this['_reset'](_0x1c473f);let _0x5da326;const _0x3c9755=this['_curve']['type'];if(_0x3c9755===SS)_0x5da326=this['_p0'];else{const _0x319683=this['_recip']===0x1147*-0x2+-0x21df+-0x3*-0x16cf?0x1ac6+-0x34b+0x1*-0x177b:(_0x1c473f-this['_left'])*this['_recip'];_0x3c9755===xS?_0x5da326=N['lerp'](this['_p0'],this['_p1'],_0x319683):_0x3c9755===Df?_0x5da326=N['lerp'](this['_p0'],this['_p1'],_0x319683*_0x319683*(-0x10dd+0x207f+0x1*-0xf9f-(-0x5*-0x683+0x8f*0x11+-0x2a0c)*_0x319683)):_0x5da326=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x319683);}return _0x5da326;}['_reset'](_0x3b2bc4){const _0x58fc29=this['_curve']['keys'],_0x555cc4=_0x58fc29['length'];if(!_0x555cc4)this['_left']=-(-0x4d5*-0x5+-0x1bb1+0x389)/(-0x85*0x35+0x541+0x1648),this['_right']=(0x3b7+-0xe4a+0xa94*0x1)/(0x1c2b*-0x1+0xa9b+0x1190),this['_recip']=-0x1d6d+-0xf91+-0x2cfe*-0x1,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x8*0x175+-0x1160+-0x16e*-0x4;else{if(_0x3b2bc4<_0x58fc29[-0x10*0x1+0x1*0xef3+-0xee3][0x1759+-0x16f*-0x11+-0x6*0x7f4])this['_left']=-(0xb*-0xf9+0x17c+0x938)/(0x1*-0x45d+-0x98f*-0x1+-0x532),this['_right']=_0x58fc29[-0x14fa+-0x3*-0x42b+0x879][-0x1d*0x85+0x2e9*0x1+0xc28],this['_recip']=-0x3*0x3a1+-0x540+0x1023,this['_p0']=this['_p1']=_0x58fc29[-0x2*-0x450+-0xef3*-0x1+-0x1793][0x4fe*-0x1+0xd3*0x1+0x42c],this['_m0']=this['_m1']=-0x1f51+-0x8*-0x313+0x1*0x6b9;else{if(_0x3b2bc4>=_0x58fc29[_0x555cc4-(0x678*-0x5+0xb8*0x35+-0x5bf)][0xd*-0xa3+-0x2a2+-0x7*-0x18f])this['_left']=_0x58fc29[_0x555cc4-(-0x1173+0x5c2+-0x3*-0x3e6)][0x19c1+0x1a49*0x1+-0x340a],this['_right']=(0x97f+0x268e+-0x300c)/(-0x5ae+-0x22b1+0x285f),this['_recip']=-0x18+0xde+-0xc6,this['_p0']=this['_p1']=_0x58fc29[_0x555cc4-(-0x1505+0x961*0x1+0x1*0xba5)][-0x743+0x8*-0x263+0x1a5c],this['_m0']=this['_m1']=0xa4d+0x20ef*-0x1+0x16a2*0x1;else{let _0x5f182e=-0xcb*0x11+-0x17*0x72+-0x17b9*-0x1;for(;_0x3b2bc4>=_0x58fc29[_0x5f182e+(0x2078+0x1687+-0x36fe)][0x161*0x1+-0xb20*0x1+0x1f3*0x5];)_0x5f182e++;this['_left']=_0x58fc29[_0x5f182e][-0xea2*-0x2+0xfb*0x1+-0x1e3f],this['_right']=_0x58fc29[_0x5f182e+(-0x335*0x1+0xfd6+-0x4*0x328)][0x1*-0x20e7+0xbe9+-0x14fe*-0x1];const _0x3c81dc=(-0x2b*-0x35+-0x226d+0x1987)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x3c81dc)?_0x3c81dc:-0xc41*0x1+-0x1971+0xa*0x3c5,this['_p0']=_0x58fc29[_0x5f182e][0x1*0x1d71+0xa2a+-0x279a],this['_p1']=_0x58fc29[_0x5f182e+(-0x11c*-0x17+0x1181+-0x2b04)][-0x1*-0x1087+-0x3a*-0x58+-0x2476],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x58fc29,_0x5f182e);}}}}['_calcTange'+'nts'](_0x3f53d6,_0x173bed){let _0x1f2518;const _0x18595f=_0x3f53d6[_0x173bed],_0x58d877=_0x3f53d6[_0x173bed+(0x1*0x25f3+0x9*-0x32b+-0x96f)];let _0x5b6e45;if(_0x173bed===0x15e*0x8+0xb95*0x1+-0x1685?_0x1f2518=[_0x3f53d6[-0x11b3+-0xf9b+-0x126*-0x1d][0x744+-0x1018+-0xa*-0xe2]+(_0x3f53d6[0x2022+-0x1f9d+-0x85*0x1][-0x5ed+0x1ab6+-0x14c9]-_0x3f53d6[0x1208+0xf9e*0x1+-0x21a5][-0x5*-0x371+-0x1b27+0x9f2]),_0x3f53d6[-0x1*0x4d8+0x139+0x39f][-0x736*-0x3+-0x1165+-0x43c]+(_0x3f53d6[-0x8fb+0x893*-0x1+-0x6b*-0x2a][0xf*-0x1d7+-0xfd3+-0x2b6d*-0x1]-_0x3f53d6[-0x47f*0x3+-0xb29+0x18a7][-0x1a*0x10d+0x137b+0x2*0x3ec])]:_0x1f2518=_0x3f53d6[_0x173bed-(0x66d+-0x2*-0xa91+-0x1b8e)],_0x173bed===_0x3f53d6['length']-(-0x1529+0x1b84+0x1*-0x659)?_0x5b6e45=[_0x3f53d6[_0x173bed+(0x1*0x1522+0x158c+-0x2aad)][0x7fd+0x12b*0x1f+-0x2c32]+(_0x3f53d6[_0x173bed+(0x15be*-0x1+0x269+-0x3*-0x672)][-0x22b5+-0x1a2e*0x1+0x3ce3*0x1]-_0x3f53d6[_0x173bed][-0x1fb+0x2c4+0x1*-0xc9]),_0x3f53d6[_0x173bed+(0x1*0x355+0x9*0x429+-0x28c5)][-0xcf*0x22+-0xdf*-0x1+0x1aa0]+(_0x3f53d6[_0x173bed+(-0x3*0xad+-0x1e87+0x208f)][0x1d47+-0x1*-0x262c+-0x4372]-_0x3f53d6[_0x173bed][-0x58d*0x6+0x1d57+0x3f8])]:_0x5b6e45=_0x3f53d6[_0x173bed+(0x4*-0x1d9+0x25c8+-0x1*0x1e62)],this['_curve']['type']===sm){const _0x23f87a=(-0x403*-0x1+-0xe3d+0xa*0x106)*(_0x58d877[-0x18d*0x1+-0x71*0x1+-0xf*-0x22]-_0x18595f[0x158c+-0x488+0x1*-0x1104])/(_0x58d877[0x1*0x4eb+0x208+-0x3*0x251]-_0x1f2518[0x1358+0x15d9+-0x5f*0x6f]),_0x17839c=(-0x65*-0x5d+-0x1b16+-0x999)*(_0x58d877[-0xd6+0x22d*-0x2+0x530]-_0x18595f[-0x179f*-0x1+-0x74*-0xa+-0x1c27])/(_0x5b6e45[-0x8*-0x24a+0x1897+-0x2ae7]-_0x18595f[-0x126+0x2b+0xfb]);this['_m0']=this['_curve']['tension']*(isFinite(_0x23f87a)?_0x23f87a:0x1*-0x18f1+0x1*0x200+0x1*0x16f1)*(_0x58d877[0x167a+-0x2a7*-0x8+-0x2bb1]-_0x1f2518[0x587+0x5*-0x51a+-0x4ff*-0x4]),this['_m1']=this['_curve']['tension']*(isFinite(_0x17839c)?_0x17839c:-0x1*0x10dd+-0x699*0x1+0x1776)*(_0x5b6e45[-0x1a57+-0x11c3*0x1+-0x1*-0x2c1b]-_0x18595f[-0x1*0xa4f+0x207+-0x1*-0x849]);}else{const _0x5a0ffb=(_0x58d877[0x1*-0x4b1+-0xf17*-0x1+0xf2*-0xb]-_0x18595f[-0x9*0x2c9+-0x14a0+0x2db1])/(_0x18595f[-0x2*0x976+-0x22e1+0x35cd]-_0x1f2518[0xc99+-0x5c*-0x1c+0x16a9*-0x1]),_0x18c143=(_0x58d877[0x1*-0x1639+-0x1*-0x1b8d+-0x554]-_0x18595f[0x20f5+0x553*0x4+0x331*-0x11])/(_0x5b6e45[-0x45*0x47+-0x10fa*-0x1+0x229]-_0x58d877[-0x1*-0x6d9+0x10c7+0xe0*-0x1b]),_0x316779=_0x18595f[0xc8e+0x1cf1+0x5e*-0x71]+(_0x1f2518[0x2390+0x8*0x139+-0x1*0x2d57]-_0x18595f[0x1d3a+0x4*0x89f+-0x3fb5*0x1])*(isFinite(_0x5a0ffb)?_0x5a0ffb:-0x8*0x362+0x385+-0x35d*-0x7),_0x581f1e=_0x58d877[0x1cd5+-0x3*-0x84b+0x1*-0x35b5]+(_0x5b6e45[0x1*0x9d3+0xe72+-0x1844]-_0x58d877[-0x494*0x1+-0xc*-0x1a5+0x3*-0x50d])*(isFinite(_0x18c143)?_0x18c143:0x79d*-0x2+-0x2709+0x3643),_0x1afa16=this['_curve']['tension'];this['_m0']=_0x1afa16*(_0x58d877[0xa*0x1a8+0x1108+-0x2197]-_0x316779),this['_m1']=_0x1afa16*(_0x581f1e-_0x18595f[0x1241*0x2+0x1*-0x200b+-0x476]);}}['_evaluateH'+'ermite'](_0x3998d8,_0x474f17,_0xf13e9d,_0x100720,_0x3239a4){const _0x4d9d4b=_0x3239a4*_0x3239a4,_0x330cbe=_0x3239a4+_0x3239a4,_0x21d3f0=-0x1b*-0xc4+-0x7f*0x17+0x4f*-0x1e-_0x3239a4,_0x28dbbd=_0x21d3f0*_0x21d3f0;return _0x3998d8*((0x1182+0x1c56+-0x2dd7+_0x330cbe)*_0x28dbbd)+_0xf13e9d*(_0x3239a4*_0x28dbbd)+_0x474f17*(_0x4d9d4b*(0x20fb+-0x1422*-0x1+-0x1a8d*0x2-_0x330cbe))+_0x100720*(_0x4d9d4b*(_0x3239a4-(0x1097+-0x26a*-0x6+-0x29*0xc2)));}}class Cs{constructor(_0x53bf32){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',0x2c1*-0xb+0x484*-0x2+-0x2753*-0x1+0.5),c(this,'_eval',new ly(this));if(_0x53bf32){for(let _0x53967e=-0x22c8+-0x9*0x132+-0x3*-0xf2e;_0x53967e<_0x53bf32['length']-(0x2bc*-0x7+0x1*-0x269f+-0x4*-0xe71);_0x53967e+=0x5f6+-0x7c6+0x2*0xe9)this['keys']['push']([_0x53bf32[_0x53967e],_0x53bf32[_0x53967e+(-0x1ba7*0x1+0x327*-0x8+0x34e0)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x34446e,_0x2e4168){const _0x2992e0=this['keys'],_0x593b1f=_0x2992e0['length'];let _0x468001=-0x3*-0x9e3+-0x1997+-0x412*0x1;for(;_0x468001<_0x593b1f&&!(_0x2992e0[_0x468001][0x16f*0x16+-0x140e+-0xb7c]>_0x34446e);_0x468001++);const _0x58dff9=[_0x34446e,_0x2e4168];return this['keys']['splice'](_0x468001,0x511*0x1+-0xe*0x27+0x1*-0x2ef,_0x58dff9),_0x58dff9;}['get'](_0x5d192a){return this['keys'][_0x5d192a];}['sort'](){this['keys']['sort']((_0x198fa8,_0x516212)=>_0x198fa8[-0x6*0x682+-0x1*0x8d8+-0x2*-0x17f2]-_0x516212[0x1*0xcac+0x263*0xd+-0x3*0xe91]);}['value'](_0x592309){return this['_eval']['evaluate'](_0x592309,!(0x40e+-0x1a*-0x1b+-0x6cc));}['closest'](_0x235d98){const _0x4324ba=this['keys'],_0x548429=_0x4324ba['length'];let _0x14f1ca=0x1a49*-0x1+0x34f*-0x1+0x1d9a,_0x4e8f99=null;for(let _0x231215=0xc41*0x3+-0x109*-0x7+-0x2c02;_0x231215<_0x548429;_0x231215++){const _0x46f127=Math['abs'](_0x235d98-_0x4324ba[_0x231215][-0x33*-0x3+-0xd8+0x7*0x9]);if(_0x14f1ca>=_0x46f127)_0x14f1ca=_0x46f127,_0x4e8f99=_0x4324ba[_0x231215];else break;}return _0x4e8f99;}['clone'](){const _0x2cf3fe=new this['constructo'+'r']();return _0x2cf3fe['keys']=this['keys']['map'](_0x3ccb79=>[..._0x3ccb79]),_0x2cf3fe['type']=this['type'],_0x2cf3fe['tension']=this['tension'],_0x2cf3fe;}['quantize'](_0x52e8fa){_0x52e8fa=Math['max'](_0x52e8fa,0x1*-0x1cb5+0x3*-0x893+0xd9c*0x4);const _0x1bdff2=new Float32Array(_0x52e8fa),_0x1853d5=(-0x1cb8+0xe*0x86+-0x1*-0x1565)/(_0x52e8fa-(0x1*-0x169c+-0x5f+-0x2*-0xb7e));_0x1bdff2[0x5*0x28f+-0x3*-0x315+-0x160a]=this['_eval']['evaluate'](-0x1*0x227f+0x16f*-0x1a+0x47c5,!(0x5*0x37a+-0x6*-0x2e1+-0x22a8));for(let _0xf3c348=0x4ce+0xdb9+-0x1286;_0xf3c348<_0x52e8fa;_0xf3c348++)_0x1bdff2[_0xf3c348]=this['_eval']['evaluate'](_0x1853d5*_0xf3c348);return _0x1bdff2;}['quantizeCl'+'amped'](_0x4e151e,_0x1e879b,_0x8752af){const _0x29f8f5=this['quantize'](_0x4e151e);for(let _0x159257=0x1a98+0x1*-0x19c7+0x13*-0xb;_0x159257<_0x29f8f5['length'];++_0x159257)_0x29f8f5[_0x159257]=Math['min'](_0x8752af,Math['max'](_0x1e879b,_0x29f8f5[_0x159257]));return _0x29f8f5;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>0x2*0x74f+0x19f7+-0x2894){for(let _0x52882a=-0xd*0x199+0xbe+-0x3*-0x6ad;_0x52882a<arguments['length'];_0x52882a++)this['curves']['push'](new Cs(arguments[_0x52882a]));}else{if(arguments['length']===0x15b*-0x2+-0x1*-0x7e7+-0x3*0x1bb)this['curves']['push'](new Cs());else{const _0x35a572=arguments[-0x117*-0x8+-0xb*-0x98+-0x20*0x7a];if(typeof _0x35a572=='number'){for(let _0x4ec097=-0x25fa+-0x1228+0x2*0x1c11;_0x4ec097<_0x35a572;_0x4ec097++)this['curves']['push'](new Cs());}else{for(let _0x4465c6=0x7e1+0x3*-0x634+0xabb;_0x4465c6<_0x35a572['length'];_0x4465c6++)this['curves']['push'](new Cs(_0x35a572[_0x4465c6]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x1f1d33){this['_type']=_0x1f1d33;for(let _0x42f3a6=0x26b0+-0xab2+-0x1*0x1bfe;_0x42f3a6<this['curves']['length'];_0x42f3a6++)this['curves'][_0x42f3a6]['type']=_0x1f1d33;}get['type'](){return this['_type'];}['get'](_0x5c01fc){return this['curves'][_0x5c01fc];}['value'](_0x451d4d,_0x42f703=[]){const _0x39db7b=this['curves']['length'];_0x42f703['length']=_0x39db7b;for(let _0x1aaabd=-0x82*0x2f+-0xc1*0x7+0x1d25*0x1;_0x1aaabd<_0x39db7b;_0x1aaabd++)_0x42f703[_0x1aaabd]=this['curves'][_0x1aaabd]['value'](_0x451d4d);return _0x42f703;}['clone'](){const _0x4ea64e=new this['constructo'+'r']();_0x4ea64e['curves']=[];for(let _0x50b2f2=-0x2f+0xdc7+-0xd98;_0x50b2f2<this['curves']['length'];_0x50b2f2++)_0x4ea64e['curves']['push'](this['curves'][_0x50b2f2]['clone']());return _0x4ea64e['_type']=this['_type'],_0x4ea64e;}['quantize'](_0x178d78){_0x178d78=Math['max'](_0x178d78,-0x2056+-0x66*-0x2d+0xe6a);const _0x320c03=this['curves']['length'],_0x3b6a65=new Float32Array(_0x178d78*_0x320c03),_0x43253a=(0xeb+0x1474+-0xaaf*0x2)/(_0x178d78-(0x1e92+-0x1*0x2f9+-0x1*0x1b98));for(let _0x431a41=-0x1758+0x51*-0x24+0x6*0x5ca;_0x431a41<_0x320c03;_0x431a41++){const _0x4bb5bf=new ly(this['curves'][_0x431a41]);for(let _0x513f1f=0x8c+-0xf5d+0x1*0xed1;_0x513f1f<_0x178d78;_0x513f1f++)_0x3b6a65[_0x513f1f*_0x320c03+_0x431a41]=_0x4bb5bf['evaluate'](_0x43253a*_0x513f1f);}return _0x3b6a65;}['quantizeCl'+'amped'](_0x10238f,_0x5f548f,_0xaf8a27){const _0x2439ac=this['quantize'](_0x10238f);for(let _0x4719c1=0x1*0xf91+0x1a9*-0xb+0x2b2;_0x4719c1<_0x2439ac['length'];++_0x4719c1)_0x2439ac[_0x4719c1]=Math['min'](_0xaf8a27,Math['max'](_0x5f548f,_0x2439ac[_0x4719c1]));return _0x2439ac;}}let im=0x403+0xd3d+-0x113b;const id=(-0x3*0x449+-0x26eb+-0x1*-0x33c7)/(-0x1ca9*-0x1+-0x771*0x2+0x332*-0x4),du=new Float32Array(-0x5d4*-0x1+-0xfdb+0xa08),rm=new Int32Array(du['buffer']);class Wt{static['float2Half'](_0x38fc93){du[0x2d1*-0x1+-0x1902+0x1bd3]=_0x38fc93;const _0x5664aa=rm[0x562+0x1923+0x1*-0x1e85];let _0x22b6ab=_0x5664aa>>0x1b8a+0x1abb*0x1+0x3635*-0x1&-0x2*-0x1757+0x1*0x8aa8+-0x3956,_0x210b87=_0x5664aa>>-0x1*-0x3c7+0x2648+0x1*-0x2a03&0x2284+-0x1*-0x264e+-0x40d3*0x1;const _0x3416f1=_0x5664aa>>0x1ce5*-0x1+-0x4d7*0x1+0x1*0x21d3&-0x43*-0x1+-0x119*-0x3+-0x28f;return _0x3416f1<-0xd1f+-0x82e+0x15b4?_0x22b6ab:_0x3416f1>0x15*0x11a+-0x1f44+0x8b0?(_0x22b6ab|=-0xc108+-0x42*-0x2dc+-0x4028*-0x2,_0x22b6ab|=(_0x3416f1===-0x1a1+0x255*-0x6+-0x6*-0x2c5?0x7*0x71+0x78c+-0xaa3:0x16b+0x10af*0x2+-0x22c8)&&_0x5664aa&0x7d21f*0x7+0x1*0x342e99+-0x3*-0x7062f,_0x22b6ab):_0x3416f1<0xbc8+0x2*0xeb7+0x1f1*-0x15?(_0x210b87|=-0x783+-0xddb+-0x4e5*-0x6,_0x22b6ab|=(_0x210b87>>0x1*0x4ae+-0xac*0x2b+0x838*0x3-_0x3416f1)+(_0x210b87>>-0x9a9+0x1f8c+-0x1572-_0x3416f1&0x1de9+-0x1e52+-0x2*-0x35),_0x22b6ab):(_0x22b6ab|=_0x3416f1-(0x1*0x255b+0x5b1+-0x2a9c)<<-0x9a*-0x3f+-0x1d1c+-0x8c0|_0x210b87>>0x2*0xe66+-0xdec+-0xedf,_0x22b6ab+=_0x210b87&0x7*0x191+0x247*0xd+-0x2891,_0x22b6ab);}static['float2Byte'+'s'](_0x431d6e,_0x2f9080,_0x2153af,_0x5ac681){const _0x2c0cca=(0x1d18+-0x3fb*-0x1+-0x2014)*_0x431d6e%(0x117+0x2b*0xd7+-0x2533);if(_0x2f9080[_0x2153af+(-0xe01+0xd*-0x105+-0x1*-0x1b42)]=Math['round']((_0x431d6e%(-0x1449+0xdd7*-0x1+0x2221)-id*_0x2c0cca)*(-0x14e6+0xdca+-0x19f*-0x5)),_0x5ac681>-0x8eb+0x1*0xf2b+-0x63f){const _0x1ffdf1=(0xb013*0x1+-0x1d9c3+0x227b1)*_0x431d6e%(0x853*-0x3+-0x235f+0x3c59*0x1);if(_0x2f9080[_0x2153af+(0xffa*-0x1+0x35e*0x8+-0xa5*0x11)]=Math['round']((_0x2c0cca-id*_0x1ffdf1)*(0x15b0+-0x1fab+-0xafa*-0x1)),_0x5ac681>0x6f0+-0xa36+0x1*0x348){const _0x1fc19d=(-0x19e64c3+-0x61192*0x2+-0x202*-0x15273)*_0x431d6e%(-0x7*0x25+-0x56*-0x6a+0xc*-0x2e2);_0x2f9080[_0x2153af+(-0x529*0x1+0x3*-0x58d+0x15d2)]=Math['round']((_0x1ffdf1-id*_0x1fc19d)*(-0x12*0x1e2+-0x4*0x8b7+-0x45bf*-0x1)),_0x5ac681>-0x2536+0x218b+0x3ae*0x1&&(_0x2f9080[_0x2153af+(-0x219d*0x1+-0x92a+0x2aca*0x1)]=Math['round'](_0x1fc19d*(0x18*-0xb9+-0xfb*0x11+-0x2*-0x1181)));}}}static['float2Byte'+'sRange'](_0x3e20f1,_0x42292a,_0x1fb576,_0xf151bc,_0x26a543,_0x4cd22c){(_0x3e20f1<_0xf151bc||_0x3e20f1>_0x26a543)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x3e20f1=N['clamp']((_0x3e20f1-_0xf151bc)/(_0x26a543-_0xf151bc),-0x21b0+-0xb17+0x1*0x2cc7,-0x20ee+0x13*-0x1a8+0x4067*0x1),Wt['float2Byte'+'s'](_0x3e20f1,_0x42292a,_0x1fb576,_0x4cd22c);}static['float2RGBA'+'8'](_0x406ab0,_0xcde1bc){du[-0x16ad+0x1*-0x1fd3+0x8*0x6d0]=_0x406ab0;const _0x25d392=rm[-0x190f+0x1*0x234a+-0xa3b];_0xcde1bc['r']=(_0x25d392>>0x5*-0x2f6+-0x1e7d+-0xf21*-0x3&-0x1*0x3c6+-0x429*-0x1+0x9c)/(-0x5*-0x353+-0x30f+-0xc91),_0xcde1bc['g']=(_0x25d392>>0x40d*0x1+-0x20c9+0x2*0xe66&-0x9*-0x1f6+0x1706*-0x1+0xe9*0x7)/(-0x33d*0xb+-0x2690+0x4b2e),_0xcde1bc['b']=(_0x25d392>>-0x16eb+0x3*-0x86f+0x304*0x10&0x206d*-0x1+-0x11f2*0x1+-0x2*-0x19af)/(0x1fe1+0x19b6*0x1+-0x3898),_0xcde1bc['a']=(_0x25d392&-0x2524+0x7c*0xd+-0xd*-0x273)/(-0x127b+0x1abc+-0x742);}}const rt=class rt{constructor(_0x87b6f7=-0x2536+0x19f7+0xb3f,_0x179ed1=0x1c13+-0x2522+0x90f,_0x5ef737=-0x8c9+0x2a9*-0x6+0x18bf){c(this,'x'),c(this,'y'),c(this,'z'),_0x87b6f7['length']===0xe38+-0x1f2e+0x10f9?(this['x']=_0x87b6f7[0x18d*0xc+0x1b28+-0x1d*0x194],this['y']=_0x87b6f7[0x5*-0x622+-0xb5d*0x1+0x2a08],this['z']=_0x87b6f7[-0x222f+0x108e+0x11a3]):(this['x']=_0x87b6f7,this['y']=_0x179ed1,this['z']=_0x5ef737);}['add'](_0x332154){return this['x']+=_0x332154['x'],this['y']+=_0x332154['y'],this['z']+=_0x332154['z'],this;}['add2'](_0x527562,_0x162e17){return this['x']=_0x527562['x']+_0x162e17['x'],this['y']=_0x527562['y']+_0x162e17['y'],this['z']=_0x527562['z']+_0x162e17['z'],this;}['addScalar'](_0x3e47ea){return this['x']+=_0x3e47ea,this['y']+=_0x3e47ea,this['z']+=_0x3e47ea,this;}['addScaled'](_0x29b6aa,_0x1a457e){return this['x']+=_0x29b6aa['x']*_0x1a457e,this['y']+=_0x29b6aa['y']*_0x1a457e,this['z']+=_0x29b6aa['z']*_0x1a457e,this;}['clone'](){const _0x54ed8f=this['constructo'+'r'];return new _0x54ed8f(this['x'],this['y'],this['z']);}['copy'](_0x1bf681){return this['x']=_0x1bf681['x'],this['y']=_0x1bf681['y'],this['z']=_0x1bf681['z'],this;}['cross'](_0x22c992,_0x3fdd66){const _0x42fc8e=_0x22c992['x'],_0x2f87a9=_0x22c992['y'],_0x20bdc8=_0x22c992['z'],_0x4ba979=_0x3fdd66['x'],_0xb599f6=_0x3fdd66['y'],_0x815d49=_0x3fdd66['z'];return this['x']=_0x2f87a9*_0x815d49-_0xb599f6*_0x20bdc8,this['y']=_0x20bdc8*_0x4ba979-_0x815d49*_0x42fc8e,this['z']=_0x42fc8e*_0xb599f6-_0x4ba979*_0x2f87a9,this;}['distance'](_0x24eec6){const _0x2cfb42=this['x']-_0x24eec6['x'],_0x70ab6f=this['y']-_0x24eec6['y'],_0xc75ca9=this['z']-_0x24eec6['z'];return Math['sqrt'](_0x2cfb42*_0x2cfb42+_0x70ab6f*_0x70ab6f+_0xc75ca9*_0xc75ca9);}['div'](_0x40f3ff){return this['x']/=_0x40f3ff['x'],this['y']/=_0x40f3ff['y'],this['z']/=_0x40f3ff['z'],this;}['div2'](_0x5e2373,_0x5cc378){return this['x']=_0x5e2373['x']/_0x5cc378['x'],this['y']=_0x5e2373['y']/_0x5cc378['y'],this['z']=_0x5e2373['z']/_0x5cc378['z'],this;}['divScalar'](_0x30f305){return this['x']/=_0x30f305,this['y']/=_0x30f305,this['z']/=_0x30f305,this;}['dot'](_0xcc9c9e){return this['x']*_0xcc9c9e['x']+this['y']*_0xcc9c9e['y']+this['z']*_0xcc9c9e['z'];}['equals'](_0xf7933a){return this['x']===_0xf7933a['x']&&this['y']===_0xf7933a['y']&&this['z']===_0xf7933a['z'];}['equalsAppr'+'ox'](_0x2b8815,_0x3d6bd7=0x3*-0x7d3+-0x22*0x11+-0x7*-0x3ad+0.000001){return Math['abs'](this['x']-_0x2b8815['x'])<_0x3d6bd7&&Math['abs'](this['y']-_0x2b8815['y'])<_0x3d6bd7&&Math['abs'](this['z']-_0x2b8815['z'])<_0x3d6bd7;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0xd1263e,_0x1d5084,_0x10bba1){return this['x']=_0xd1263e['x']+_0x10bba1*(_0x1d5084['x']-_0xd1263e['x']),this['y']=_0xd1263e['y']+_0x10bba1*(_0x1d5084['y']-_0xd1263e['y']),this['z']=_0xd1263e['z']+_0x10bba1*(_0x1d5084['z']-_0xd1263e['z']),this;}['mul'](_0x450897){return this['x']*=_0x450897['x'],this['y']*=_0x450897['y'],this['z']*=_0x450897['z'],this;}['mul2'](_0x38933f,_0x52da8d){return this['x']=_0x38933f['x']*_0x52da8d['x'],this['y']=_0x38933f['y']*_0x52da8d['y'],this['z']=_0x38933f['z']*_0x52da8d['z'],this;}['mulScalar'](_0x115c97){return this['x']*=_0x115c97,this['y']*=_0x115c97,this['z']*=_0x115c97,this;}['normalize'](_0x34aa0b=this){const _0x2d7f7d=_0x34aa0b['x']*_0x34aa0b['x']+_0x34aa0b['y']*_0x34aa0b['y']+_0x34aa0b['z']*_0x34aa0b['z'];if(_0x2d7f7d>-0x13b+-0xcba+0xdf5*0x1){const _0x4ba11e=(-0x1*0xff5+-0x2439+0x342f)/Math['sqrt'](_0x2d7f7d);this['x']=_0x34aa0b['x']*_0x4ba11e,this['y']=_0x34aa0b['y']*_0x4ba11e,this['z']=_0x34aa0b['z']*_0x4ba11e;}return this;}['floor'](_0x43283e=this){return this['x']=Math['floor'](_0x43283e['x']),this['y']=Math['floor'](_0x43283e['y']),this['z']=Math['floor'](_0x43283e['z']),this;}['ceil'](_0xfda9e7=this){return this['x']=Math['ceil'](_0xfda9e7['x']),this['y']=Math['ceil'](_0xfda9e7['y']),this['z']=Math['ceil'](_0xfda9e7['z']),this;}['round'](_0x4b8447=this){return this['x']=Math['round'](_0x4b8447['x']),this['y']=Math['round'](_0x4b8447['y']),this['z']=Math['round'](_0x4b8447['z']),this;}['min'](_0x1e63a1){return _0x1e63a1['x']<this['x']&&(this['x']=_0x1e63a1['x']),_0x1e63a1['y']<this['y']&&(this['y']=_0x1e63a1['y']),_0x1e63a1['z']<this['z']&&(this['z']=_0x1e63a1['z']),this;}['max'](_0x283cea){return _0x283cea['x']>this['x']&&(this['x']=_0x283cea['x']),_0x283cea['y']>this['y']&&(this['y']=_0x283cea['y']),_0x283cea['z']>this['z']&&(this['z']=_0x283cea['z']),this;}['project'](_0x1a0dca){const _0x4d36e2=this['x']*_0x1a0dca['x']+this['y']*_0x1a0dca['y']+this['z']*_0x1a0dca['z'],_0xa76c56=_0x1a0dca['x']*_0x1a0dca['x']+_0x1a0dca['y']*_0x1a0dca['y']+_0x1a0dca['z']*_0x1a0dca['z'],_0x83e65=_0x4d36e2/_0xa76c56;return this['x']=_0x1a0dca['x']*_0x83e65,this['y']=_0x1a0dca['y']*_0x83e65,this['z']=_0x1a0dca['z']*_0x83e65,this;}['set'](_0x37df79,_0x12ebd7,_0x2cbb44){return this['x']=_0x37df79,this['y']=_0x12ebd7,this['z']=_0x2cbb44,this;}['sub'](_0x4f918b){return this['x']-=_0x4f918b['x'],this['y']-=_0x4f918b['y'],this['z']-=_0x4f918b['z'],this;}['sub2'](_0x567078,_0x1dc664){return this['x']=_0x567078['x']-_0x1dc664['x'],this['y']=_0x567078['y']-_0x1dc664['y'],this['z']=_0x567078['z']-_0x1dc664['z'],this;}['subScalar'](_0x2040b2){return this['x']-=_0x2040b2,this['y']-=_0x2040b2,this['z']-=_0x2040b2,this;}['fromArray'](_0x4e8999,_0x18d213=-0xb*0x10c+-0xd97+0x1*0x191b){return this['x']=_0x4e8999[_0x18d213]??this['x'],this['y']=_0x4e8999[_0x18d213+(0x1*-0x11be+0x1*0x1717+-0x558)]??this['y'],this['z']=_0x4e8999[_0x18d213+(0x11c0+0xfb*-0x16+0x3d4)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x475a13=[],_0x2c7c5d=-0x11*0x83+0xd05+-0x452){return _0x475a13[_0x2c7c5d]=this['x'],_0x475a13[_0x2c7c5d+(-0x3*0xa7d+-0x3*0xce5+0x4627)]=this['y'],_0x475a13[_0x2c7c5d+(-0x4*0x3ba+0x1df*0xc+-0x78a)]=this['z'],_0x475a13;}};c(rt,'ZERO',Object['freeze'](new rt(-0x116+0x232e+-0x2218,0x38f*-0x9+0x247d*-0x1+0x4484,0x1727+-0x1680+0x1*-0xa7))),c(rt,'HALF',Object['freeze'](new rt(0x921*0x4+0xd60*-0x1+-0x1*0x1724+0.5,-0x247+0x55d+-0x2*0x18b+0.5,0x84b*0x1+0x1f0f*-0x1+0xbc*0x1f+0.5))),c(rt,'ONE',Object['freeze'](new rt(-0x19c5+0x23b*-0x11+0x5*0xcbd,-0x1ab3+0x24d2+-0xa1e,0xc60+0x1*-0x19cc+-0xd6d*-0x1))),c(rt,'UP',Object['freeze'](new rt(-0x19a1+-0x23c3+0x3d64,0xa23*-0x1+-0x10c9*0x1+-0x71*-0x3d,-0x5b0+0x794+-0x1e4))),c(rt,'DOWN',Object['freeze'](new rt(-0x2654+-0x48*-0x6+-0x14*-0x1d5,-(-0x8*-0x5b+-0x3b*0x11+0x114),-0x875+0x1bf5+-0x1380))),c(rt,'RIGHT',Object['freeze'](new rt(-0x6e5*0x4+-0x625*-0x3+0x926,0x144f+0x1f39+-0x19c4*0x2,-0x7cc+-0x11a+0x8e6))),c(rt,'LEFT',Object['freeze'](new rt(-(0x9*0x1f3+0x21c6+-0x3350),0x115*0x12+-0x2f*0x8a+-0x96*-0xa,-0x46d*0x7+-0x1deb+0x3ce6))),c(rt,'FORWARD',Object['freeze'](new rt(0x219d+0x43*-0x3d+-0x11a6,0x2669+-0xf5+-0x2574,-(0x85d+-0x2c0+0x167*-0x4)))),c(rt,'BACK',Object['freeze'](new rt(-0x7*0x46d+-0x30b*-0xb+-0x27e,0x2c*-0x32+0x73*0x9+0x48d,0x10e5+-0x19a9+0x8c5)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0xb91+0x1eb*-0x2+-0x8*-0x1ee)),this['data'][-0x10c*0x7+-0x287+0x9db]=this['data'][0xb34*-0x2+0x207b+-0xa0f]=this['data'][-0x8c7*-0x3+-0x11dd*-0x1+-0x2c2a]=-0x774*-0x1+0x3f*-0x6b+0x971*0x2;}['clone'](){const _0x226ac5=this['constructo'+'r'];return new _0x226ac5()['copy'](this);}['copy'](_0x580593){const _0x165f10=_0x580593['data'],_0x5a8317=this['data'];return _0x5a8317[-0x4*0x26e+0x4*0x81e+-0x16c0]=_0x165f10[0x1*-0x1c5d+-0x1c51*-0x1+-0x2*-0x6],_0x5a8317[-0x1a7f+0x2511+-0x5*0x21d]=_0x165f10[-0x3*0xe5+-0x1165*-0x1+0xfb*-0xf],_0x5a8317[-0x1b17*0x1+0x8f9+0x1220]=_0x165f10[-0x534+-0x1fda+-0x1288*-0x2],_0x5a8317[-0x1ec4+-0x1*0x1bba+0x11*0x371]=_0x165f10[-0x1054*-0x2+-0x21*-0x82+-0x1*0x3167],_0x5a8317[-0x8f*0x19+-0x669+-0x366*-0x6]=_0x165f10[0x24f4+-0x1bf6+0x2fe*-0x3],_0x5a8317[-0x398*-0x9+0x7e6*-0x2+0x1*-0x1087]=_0x165f10[0x1ffd*-0x1+0xbb*0x35+-0x6b5],_0x5a8317[0x13ea+-0x1*-0x8db+-0x1cbf]=_0x165f10[-0x9*0x3e3+0xfd1+0x266*0x8],_0x5a8317[-0x91*-0x4+0x649+0x2*-0x443]=_0x165f10[0xef2+0x15ba+-0x35*0xb1],_0x5a8317[-0x41f*-0x6+-0x1*0x19fd+0x1*0x14b]=_0x165f10[0x4f*-0xa+0x1*-0xc15+0xf33],this;}['set'](_0x158b20){const _0x79eab8=this['data'];return _0x79eab8[0x3b3+0x1*-0x513+-0x2*-0xb0]=_0x158b20[-0x33d*-0x1+0x1591*0x1+-0x18ce],_0x79eab8[-0x5*-0x742+0xf96+-0x7*0x769]=_0x158b20[0x21c2+0x1ae6+-0x3ca7],_0x79eab8[0x53*0x73+-0x15ff+-0x1e9*0x8]=_0x158b20[0xb8d+0x1330*0x2+-0x31eb],_0x79eab8[0x2*-0x59+-0x11ed*0x1+-0x2*-0x951]=_0x158b20[0x2*-0x106c+-0x1*-0x2309+-0x22e],_0x79eab8[0x3*-0xb7b+-0x15c4+0x3839]=_0x158b20[0x15af+-0x3f9+0x2*-0x8d9],_0x79eab8[-0x67*0xc+0xc8c+-0x7b3]=_0x158b20[0x6*-0x78+0x1de+-0x1*-0xf7],_0x79eab8[-0x3*0x67a+-0x2702+0x3a76]=_0x158b20[0x1*-0x827+-0x10b3*-0x2+-0x24b*0xb],_0x79eab8[0x540+-0x1*-0x13c3+-0x6*0x42a]=_0x158b20[0x24ca+0x9ec+-0x2eaf],_0x79eab8[-0x8*0x21e+0x21da*0x1+-0x10e2*0x1]=_0x158b20[0x2470+0x6a0+-0x2b08],this;}['getX'](_0x5bee54=new T()){return _0x5bee54['set'](this['data'][-0x1d6+0xa55*0x3+-0x5*0x5d5],this['data'][0x368+0x3d7*0x1+0x1*-0x73e],this['data'][-0x1241+0x3*-0x398+0x1d0b]);}['getY'](_0x40ecc3=new T()){return _0x40ecc3['set'](this['data'][-0x43*-0x15+-0x30c+-0x2*0x138],this['data'][-0x55*0x5b+0x1da5+-0x3*-0x32],this['data'][-0xfcf+0xe06+0x21*0xe]);}['getZ'](_0x58f273=new T()){return _0x58f273['set'](this['data'][0x149d+0x1*-0xa75+-0xa22],this['data'][-0xe54+0x1be*-0x11+-0x2bf9*-0x1],this['data'][-0x2579*-0x1+0x295*-0xd+-0x3e0]);}['equals'](_0x454415){const _0x458408=this['data'],_0x5f1859=_0x454415['data'];return _0x458408[-0x772*-0x1+-0x1db7+0x1645]===_0x5f1859[-0x1a99+0x81c*0x1+0x127d]&&_0x458408[-0x14cf+0x183*0x1+-0x51*-0x3d]===_0x5f1859[-0xf2*-0x7+0x1e01+-0x249e*0x1]&&_0x458408[0x6c2*0x2+0x65*0x4d+-0xf*0x2ed]===_0x5f1859[-0x47d*0x3+-0x353*-0x6+0x1*-0x679]&&_0x458408[-0x6cd*-0x4+-0x26cf+0xb9e]===_0x5f1859[0x580*0x2+0x16ef*-0x1+0xbf2]&&_0x458408[-0xbd5*0x2+0x793+-0x1f*-0x85]===_0x5f1859[0xfeb+0xa21+0x341*-0x8]&&_0x458408[-0x1*0x21cb+-0x2407+-0x3ad*-0x13]===_0x5f1859[0x1e34+0x32*0x40+-0x2aaf]&&_0x458408[0xd*-0x57+-0x1b28+0x1*0x1f99]===_0x5f1859[-0x929*-0x1+0xed2+-0x17f5]&&_0x458408[-0x3*-0xa6+-0x181e+0x1633*0x1]===_0x5f1859[0x1600+-0x20de+0xae5*0x1]&&_0x458408[0x114c+0x1acb+0x2c0f*-0x1]===_0x5f1859[0x1*0x1aa3+-0x33f+-0x5c*0x41];}['isIdentity'](){const _0x5e8085=this['data'];return _0x5e8085[-0x39*-0x39+-0xad1+-0x78*0x4]===-0x26e6+-0x3*-0x841+-0xb5*-0x14&&_0x5e8085[-0x1a07+-0x7*0x4cd+0x3ba3]===-0x79c*-0x1+0x1988+-0x2124&&_0x5e8085[-0x18d+-0xc38*-0x2+-0x16e1]===-0xc17+-0x27*0xb1+0x270e&&_0x5e8085[0x1bec+0x64e*0x1+0x13*-0x1cd]===0x355+-0x2*0x65f+0x969&&_0x5e8085[-0x19fc+-0xc*0x238+-0x1a5*-0x20]===0x1f*-0x4a+-0x1*-0x1025+-0x72e&&_0x5e8085[0x30c+0x59a*-0x4+0x1361]===0xc09+-0x1cd4+0x3*0x599&&_0x5e8085[-0xed5*-0x1+0xf94+0x3*-0xa21]===-0x2433+0xa2d+0x1*0x1a06&&_0x5e8085[0x641+0x23ec+-0x2a26]===0x33*-0x9c+-0x8*0x390+-0x3e*-0xf6&&_0x5e8085[0x21c2+-0x94e+-0x61b*0x4]===0x511*0x4+0x2*0x4fd+0x1e3d*-0x1;}['setIdentit'+'y'](){const _0x56c972=this['data'];return _0x56c972[-0x1e69+0x2082+0x1*-0x219]=-0x1*-0x232a+-0x1d19+-0x1*0x610,_0x56c972[-0x1315+0x1f4+0x1122]=0xcb+-0xc*0x2bd+0x2011,_0x56c972[0x1c0+-0x4e*-0x11+-0x6ec]=0x33*-0x1c+-0x19ed*0x1+-0x64d*-0x5,_0x56c972[0x113*0x7+-0x1554+0x1*0xdd2]=-0x667+0xbe2+0x57b*-0x1,_0x56c972[0x24bb+-0x1*-0x56a+-0x2a21]=-0x1*-0x12c1+-0x1e96+0xbd6,_0x56c972[0x22*-0x9d+0x85a+0xc85]=-0x9fd+0x2321+-0x1924,_0x56c972[-0x5*-0x71f+-0x9*-0x1b7+-0x3304]=0x32*0x6d+-0xc89+-0x8c1,_0x56c972[-0x2603+-0x8*-0x2fe+0xe1a]=0xdb1+-0x1c5*-0x8+0x1*-0x1bd9,_0x56c972[-0x86f*-0x2+0x1778+-0x284e]=-0x1*0x2221+0x10*0xc0+0x1622,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x4bd301=this){const _0xfe47a8=_0x4bd301['data'],_0x1cfb9e=this['data'];if(_0xfe47a8===_0x1cfb9e){let _0x1ec420;_0x1ec420=_0xfe47a8[-0x1279+-0xbf9+0x5*0x617],_0x1cfb9e[0x32*0x7b+-0x7ee*0x2+-0x1*0x829]=_0xfe47a8[0xadf*-0x1+-0xdad+-0x188f*-0x1],_0x1cfb9e[-0x11ee+0x14a6+-0x2b5]=_0x1ec420,_0x1ec420=_0xfe47a8[-0xbd8+-0x19c1*0x1+0x3*0xc89],_0x1cfb9e[-0x59c+0x3ec+0x1b2]=_0xfe47a8[-0x4ac+0x7ef+0x1*-0x33d],_0x1cfb9e[0x2087+-0x13*-0xc8+-0x20f*0x17]=_0x1ec420,_0x1ec420=_0xfe47a8[0x195f+-0x1619*0x1+0x77*-0x7],_0x1cfb9e[-0x1af0+0x547*0x1+0x15ae]=_0xfe47a8[0xf54+-0x23a+0x1*-0xd13],_0x1cfb9e[-0x7ab+0x1b14+0x1*-0x1362]=_0x1ec420;}else _0x1cfb9e[0x167a+-0x27f+-0x9b*0x21]=_0xfe47a8[0x77e*-0x3+-0xc*-0x2d0+-0x3c2*0x3],_0x1cfb9e[0xf5d*0x2+-0xf2+0x1dc7*-0x1]=_0xfe47a8[0x97*-0x3f+-0xe3d+0x3369],_0x1cfb9e[0x1*0x1efe+0x54+-0x1f50]=_0xfe47a8[-0x1939*-0x1+-0x1670+-0x2c3],_0x1cfb9e[-0x1246+-0x347*-0xb+-0xc*0x17b]=_0xfe47a8[0x1b11+0x1*-0x3b3+-0x175d],_0x1cfb9e[-0x2667+-0x7da+0x2e45*0x1]=_0xfe47a8[0xc04*-0x2+0xb8d+0xc7f],_0x1cfb9e[0x1*0x1d5e+-0x53*0x31+-0xd76]=_0xfe47a8[0xecc+0xb26*0x1+-0x19eb],_0x1cfb9e[-0x1a4c+0x1065+0x9ed]=_0xfe47a8[0x14ee+0xe*0x251+-0x355a],_0x1cfb9e[-0x1c86+0x705+-0x68*-0x35]=_0xfe47a8[0xfd*-0x4+-0xb3*-0x31+-0x1e4a],_0x1cfb9e[0x1*0x3db+-0x8d1+0x4fe]=_0xfe47a8[-0x12*0x3d+-0x311+-0x1f*-0x3d];return this;}['setFromMat'+'4'](_0x59721e){const _0x5d3f80=_0x59721e['data'],_0x1e3686=this['data'];return _0x1e3686[-0x1492+-0x5*0x617+0x3305]=_0x5d3f80[-0x20a*-0x13+-0x2509*0x1+-0x1b5],_0x1e3686[0x1*-0x1402+-0x66d+0x2f*0x90]=_0x5d3f80[0xf89+0x1947+0x1*-0x28cf],_0x1e3686[0x9*0xad+-0x7eb*-0x3+0x53*-0x5c]=_0x5d3f80[0x5f4+-0x169*0x2+-0x320],_0x1e3686[-0x1402+-0x397*0x1+0x179c]=_0x5d3f80[0x3f3*-0x5+-0xe4e*-0x1+0x7f*0xb],_0x1e3686[-0xb23*-0x2+-0x11cf+-0x473]=_0x5d3f80[-0x1138+-0x1*-0xe21+0xc7*0x4],_0x1e3686[-0x263c+-0x1*0x1418+0x3a59]=_0x5d3f80[-0xd*-0x2ba+-0x1*-0x2126+-0x86*0x83],_0x1e3686[0x2*-0x36c+0x14fa+0x81*-0x1c]=_0x5d3f80[-0xc4*-0x8+-0xd9*-0x1+0x6f1*-0x1],_0x1e3686[0xc8a*-0x3+0x56b*-0x4+0x3b51]=_0x5d3f80[-0x101*-0x13+0x17dc+0x2ae6*-0x1],_0x1e3686[-0x1*-0xdb7+-0x263*-0x10+-0x33df]=_0x5d3f80[0x3bf+0x1b2b+0x3dc*-0x8],this;}['setFromQua'+'t'](_0x36d494){const _0x5be54a=_0x36d494['x'],_0x30474d=_0x36d494['y'],_0x4613c4=_0x36d494['z'],_0x48829e=_0x36d494['w'],_0x2d0cdf=_0x5be54a+_0x5be54a,_0x47ce86=_0x30474d+_0x30474d,_0x4d9e6e=_0x4613c4+_0x4613c4,_0x44b183=_0x5be54a*_0x2d0cdf,_0x51dd0a=_0x5be54a*_0x47ce86,_0x320d98=_0x5be54a*_0x4d9e6e,_0x2d6c0d=_0x30474d*_0x47ce86,_0x26ef24=_0x30474d*_0x4d9e6e,_0x2f45b2=_0x4613c4*_0x4d9e6e,_0x405de6=_0x48829e*_0x2d0cdf,_0x185c6b=_0x48829e*_0x47ce86,_0x2dd7ec=_0x48829e*_0x4d9e6e,_0x2e4875=this['data'];return _0x2e4875[-0x47d*0x7+0x9b3*0x4+0x1*-0x761]=-0xb91*-0x2+-0x25*0x80+-0x4a1-(_0x2d6c0d+_0x2f45b2),_0x2e4875[0x1dbc+0x9b2+-0x1*0x276d]=_0x51dd0a+_0x2dd7ec,_0x2e4875[0xd3*0xf+-0x3b*0x9f+-0x1*-0x184a]=_0x320d98-_0x185c6b,_0x2e4875[0x6de+0x68*0x3f+-0xd5*0x27]=_0x51dd0a-_0x2dd7ec,_0x2e4875[0x1ca2+-0x222d+0x1*0x58f]=-0x11*0x20f+0x2f*-0x2d+0x2b43-(_0x44b183+_0x2f45b2),_0x2e4875[0x2*-0x20+0x11e2+0x119d*-0x1]=_0x26ef24+_0x405de6,_0x2e4875[0x12f4+0x1*0x10c+-0x13fa*0x1]=_0x320d98+_0x185c6b,_0x2e4875[0x1*0x4bd+-0x1fa0+0x1aea]=_0x26ef24-_0x405de6,_0x2e4875[0x1784+0x9e*0x39+0x2*-0x1d55]=0x1157+0x20*0x4e+-0x1b16-(_0x44b183+_0x2d6c0d),this;}['invertMat4'](_0x50e9ce){const _0x4a77aa=_0x50e9ce['data'],_0x2b87d5=_0x4a77aa[0x1b3e+-0x3a*-0xab+-0x41fc],_0x43d214=_0x4a77aa[0x8c2+-0x3b*-0x5f+-0xf53*0x2],_0x2c331a=_0x4a77aa[0xa*0xa5+-0x897+0x227],_0x1a1498=_0x4a77aa[-0x17d0+0x512+0x12c2],_0x2584ad=_0x4a77aa[0x1*0x15be+-0x1333*-0x2+-0x1*0x3c1f],_0xf3520=_0x4a77aa[0x1d18+-0xf4*0xb+-0x1296],_0x4092e2=_0x4a77aa[-0xbf5+-0x1f5f+0xa*0x456],_0x2af114=_0x4a77aa[0xd*-0x256+-0xeb2+0x2d19],_0xb118cf=_0x4a77aa[-0x313*0x7+0x24b0+-0x50b*0x3],_0x3cc1f5=_0xb118cf*_0x2584ad-_0xf3520*_0x2af114,_0x18fd2c=-_0xb118cf*_0x43d214+_0x2c331a*_0x2af114,_0x495883=_0xf3520*_0x43d214-_0x2c331a*_0x2584ad,_0x3d5041=-_0xb118cf*_0x1a1498+_0xf3520*_0x4092e2,_0x5b1788=_0xb118cf*_0x2b87d5-_0x2c331a*_0x4092e2,_0x7dd79=-_0xf3520*_0x2b87d5+_0x2c331a*_0x1a1498,_0x490c9b=_0x2af114*_0x1a1498-_0x2584ad*_0x4092e2,_0x33e776=-_0x2af114*_0x2b87d5+_0x43d214*_0x4092e2,_0x9b4732=_0x2584ad*_0x2b87d5-_0x43d214*_0x1a1498,_0x5887b6=_0x2b87d5*_0x3cc1f5+_0x43d214*_0x3d5041+_0x2c331a*_0x490c9b;if(_0x5887b6===-0x1*-0xf1b+-0x9*0x41f+0xc*0x1d5)this['setIdentit'+'y']();else{const _0x49659a=(0x126d*-0x2+0xfff+0x14dc)/_0x5887b6,_0x188e3f=this['data'];_0x188e3f[-0x33f*0xb+-0x1*-0x165e+-0x1*-0xd57]=_0x3cc1f5*_0x49659a,_0x188e3f[0x20ba+0x3f*-0x4a+0x5*-0x2e7]=_0x18fd2c*_0x49659a,_0x188e3f[0x175f+0x26a*0x7+-0x2843]=_0x495883*_0x49659a,_0x188e3f[-0x1c2+-0x75c+0x921]=_0x3d5041*_0x49659a,_0x188e3f[-0x16f9+-0x1ddb*-0x1+-0x6de]=_0x5b1788*_0x49659a,_0x188e3f[0x142a+-0x3*0x59e+-0x3*0x119]=_0x7dd79*_0x49659a,_0x188e3f[0xddd+0x1df*0x1+-0xfb6*0x1]=_0x490c9b*_0x49659a,_0x188e3f[0xc17*-0x3+0x1228+0x1224]=_0x33e776*_0x49659a,_0x188e3f[-0x1*0x1cd2+-0x1*0x1dfd+-0x3ad7*-0x1]=_0x9b4732*_0x49659a;}return this;}['transformV'+'ector'](_0x37d964,_0x157519=new T()){const _0x3e4e5b=this['data'],{x:_0x4621d1,y:_0x263e51,z:_0x22748c}=_0x37d964;return _0x157519['x']=_0x4621d1*_0x3e4e5b[0x2233+0x1448+0x367b*-0x1]+_0x263e51*_0x3e4e5b[0x1fa1+0x1*-0x1e89+-0x115]+_0x22748c*_0x3e4e5b[-0x89*0x45+-0x26ca+0x1*0x4bbd],_0x157519['y']=_0x4621d1*_0x3e4e5b[0x25a8*-0x1+0x2037+-0x22*-0x29]+_0x263e51*_0x3e4e5b[-0x1b5*0x1+-0x4*-0x79f+0x25*-0xc7]+_0x22748c*_0x3e4e5b[-0x1f3e+0x25ec*0x1+0x6a7*-0x1],_0x157519['z']=_0x4621d1*_0x3e4e5b[0xa66+-0x12c2+-0x1*-0x85e]+_0x263e51*_0x3e4e5b[-0x247f+-0xa*0x82+0x2998]+_0x22748c*_0x3e4e5b[0xf*-0xf+-0x20e7+0x21d0],_0x157519;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([0x1754+-0x246c+-0x1a3*-0x8,-0x1*0x1c2e+-0x2*-0x2dd+0xb3a*0x2,-0xf64+-0xb*-0x32e+-0x1396,-0x1308+0x2614+-0x130c,-0x2d*0x7f+0x5c3+-0x1a8*-0xa,-0x312+0xb2*-0x2+0x476,0xdd*-0x12+-0x1407+-0xf*-0x25f,-0x1*0x107+0x25e4+-0x24dd,-0x1ce9*0x1+-0x1777*0x1+0x3460])));let js=na;const wt=class wt{constructor(_0x459c64=-0x158f+-0x29*-0xe3+-0x4*0x3b3,_0x1f1b86=-0xb*0x22a+0x15f6+-0x2*-0xec){c(this,'x'),c(this,'y'),_0x459c64['length']===-0xeb1*-0x1+0x2115+-0x2fc4?(this['x']=_0x459c64[0xa41+0x781*0x1+-0x2*0x8e1],this['y']=_0x459c64[-0x2*-0x4ab+-0x5*0x311+-0x600*-0x1]):(this['x']=_0x459c64,this['y']=_0x1f1b86);}['add'](_0x20bd30){return this['x']+=_0x20bd30['x'],this['y']+=_0x20bd30['y'],this;}['add2'](_0x52ecd4,_0x13a7a6){return this['x']=_0x52ecd4['x']+_0x13a7a6['x'],this['y']=_0x52ecd4['y']+_0x13a7a6['y'],this;}['addScalar'](_0x2d1982){return this['x']+=_0x2d1982,this['y']+=_0x2d1982,this;}['addScaled'](_0x468bdb,_0x14a7bc){return this['x']+=_0x468bdb['x']*_0x14a7bc,this['y']+=_0x468bdb['y']*_0x14a7bc,this;}['clone'](){const _0x5f45ff=this['constructo'+'r'];return new _0x5f45ff(this['x'],this['y']);}['copy'](_0x30bfbe){return this['x']=_0x30bfbe['x'],this['y']=_0x30bfbe['y'],this;}['cross'](_0x32ee9c){return this['x']*_0x32ee9c['y']-this['y']*_0x32ee9c['x'];}['distance'](_0x5e5ec1){const _0x5d1bb5=this['x']-_0x5e5ec1['x'],_0x579ede=this['y']-_0x5e5ec1['y'];return Math['sqrt'](_0x5d1bb5*_0x5d1bb5+_0x579ede*_0x579ede);}['div'](_0x2e4e86){return this['x']/=_0x2e4e86['x'],this['y']/=_0x2e4e86['y'],this;}['div2'](_0x20452a,_0x52bd21){return this['x']=_0x20452a['x']/_0x52bd21['x'],this['y']=_0x20452a['y']/_0x52bd21['y'],this;}['divScalar'](_0x1a2a47){return this['x']/=_0x1a2a47,this['y']/=_0x1a2a47,this;}['dot'](_0x577025){return this['x']*_0x577025['x']+this['y']*_0x577025['y'];}['equals'](_0x3aadf3){return this['x']===_0x3aadf3['x']&&this['y']===_0x3aadf3['y'];}['equalsAppr'+'ox'](_0x437e11,_0x3c81b8=0x1*0x61f+0x188*0x10+-0x1e9f+0.000001){return Math['abs'](this['x']-_0x437e11['x'])<_0x3c81b8&&Math['abs'](this['y']-_0x437e11['y'])<_0x3c81b8;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x5480d7,_0x40cd70,_0xa0778){return this['x']=_0x5480d7['x']+_0xa0778*(_0x40cd70['x']-_0x5480d7['x']),this['y']=_0x5480d7['y']+_0xa0778*(_0x40cd70['y']-_0x5480d7['y']),this;}['mul'](_0x39b0e1){return this['x']*=_0x39b0e1['x'],this['y']*=_0x39b0e1['y'],this;}['mul2'](_0x14c6d0,_0x42b1b5){return this['x']=_0x14c6d0['x']*_0x42b1b5['x'],this['y']=_0x14c6d0['y']*_0x42b1b5['y'],this;}['mulScalar'](_0x4afe2d){return this['x']*=_0x4afe2d,this['y']*=_0x4afe2d,this;}['normalize'](_0x7f11de=this){const _0x1cb6f7=_0x7f11de['x']*_0x7f11de['x']+_0x7f11de['y']*_0x7f11de['y'];if(_0x1cb6f7>-0x16d4+-0x4*-0x2e+0x236*0xa){const _0x28f142=(0x6a3*0x3+-0x369+-0x107f)/Math['sqrt'](_0x1cb6f7);this['x']=_0x7f11de['x']*_0x28f142,this['y']=_0x7f11de['y']*_0x28f142;}return this;}['rotate'](_0x5a92d9){const _0x152ddd=Math['atan2'](this['x'],this['y'])+_0x5a92d9*N['DEG_TO_RAD'],_0x2bade4=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x152ddd)*_0x2bade4,this['y']=Math['cos'](_0x152ddd)*_0x2bade4,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x15eab0){return Math['atan2'](this['x']*_0x15eab0['y']+this['y']*_0x15eab0['x'],this['x']*_0x15eab0['x']+this['y']*_0x15eab0['y'])*N['RAD_TO_DEG'];}['floor'](_0x5d3f8a=this){return this['x']=Math['floor'](_0x5d3f8a['x']),this['y']=Math['floor'](_0x5d3f8a['y']),this;}['ceil'](_0x1a28eb=this){return this['x']=Math['ceil'](_0x1a28eb['x']),this['y']=Math['ceil'](_0x1a28eb['y']),this;}['round'](_0x5749cd=this){return this['x']=Math['round'](_0x5749cd['x']),this['y']=Math['round'](_0x5749cd['y']),this;}['min'](_0x16edcd){return _0x16edcd['x']<this['x']&&(this['x']=_0x16edcd['x']),_0x16edcd['y']<this['y']&&(this['y']=_0x16edcd['y']),this;}['max'](_0xdfcc02){return _0xdfcc02['x']>this['x']&&(this['x']=_0xdfcc02['x']),_0xdfcc02['y']>this['y']&&(this['y']=_0xdfcc02['y']),this;}['set'](_0x3ba07c,_0x3c69b9){return this['x']=_0x3ba07c,this['y']=_0x3c69b9,this;}['sub'](_0x230a42){return this['x']-=_0x230a42['x'],this['y']-=_0x230a42['y'],this;}['sub2'](_0x40bee3,_0x2d2ec0){return this['x']=_0x40bee3['x']-_0x2d2ec0['x'],this['y']=_0x40bee3['y']-_0x2d2ec0['y'],this;}['subScalar'](_0x1081ad){return this['x']-=_0x1081ad,this['y']-=_0x1081ad,this;}['fromArray'](_0x42c166,_0x2a72b4=0x4*0x886+0x8a4+-0x2abc){return this['x']=_0x42c166[_0x2a72b4]??this['x'],this['y']=_0x42c166[_0x2a72b4+(0x19*0xf6+0x15*0x67+-0x81e*0x4)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x437083=[],_0x473ee1=0xede+0x16bb*0x1+-0x2599){return _0x437083[_0x473ee1]=this['x'],_0x437083[_0x473ee1+(-0x107*0xb+-0xb91+0x16df)]=this['y'],_0x437083;}static['angleRad'](_0x157500,_0xce75bc){return Math['atan2'](_0x157500['x']*_0xce75bc['y']-_0x157500['y']*_0xce75bc['x'],_0x157500['x']*_0xce75bc['x']+_0x157500['y']*_0xce75bc['y']);}};c(wt,'ZERO',Object['freeze'](new wt(0x2*-0x577+-0xbd7+0x16c5,-0x12a4+0x566*-0x7+0x1*0x386e))),c(wt,'HALF',Object['freeze'](new wt(-0x1*-0x1e71+-0x5*0x6b6+0x31d+0.5,0x19ae+0x462+-0x1e10+0.5))),c(wt,'ONE',Object['freeze'](new wt(-0x1*-0x15+0x191b+0x7*-0x399,0x1d46+0x3*-0xa99+-0x2*-0x143))),c(wt,'UP',Object['freeze'](new wt(0x4*0x2fc+0x1e4+0x375*-0x4,-0x1c8d*-0x1+0xf8b+-0x1*0x2c17))),c(wt,'DOWN',Object['freeze'](new wt(-0x1cad+0xbad+0x1100*0x1,-(-0x1e17*-0x1+0x6d*-0x52+0x26a*0x2)))),c(wt,'RIGHT',Object['freeze'](new wt(0x96b+0x10*-0x27+-0x5e*0x13,0x1a99+-0x23eb+0x952))),c(wt,'LEFT',Object['freeze'](new wt(-(0x1003*0x2+-0x7d6+0x182f*-0x1),-0xdb5+0x8b*-0x2+0x21d*0x7)));let W=wt;const Yi=class Yi{constructor(_0x4ea72a=0xcf1+-0x217e+0x148d,_0xd92a8f=-0x2*-0xc5f+0x1ba7+-0x3465,_0x494244=0x13f2+0x11*-0x170+-0x32*-0x17,_0x5c8758=0x20a8+0x6e*0x5+-0x22ce){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x4ea72a['length']===-0x2*-0x835+0x1dbb+-0x2e21?(this['x']=_0x4ea72a[0x3ef+-0x2e9*-0x2+-0x9c1],this['y']=_0x4ea72a[0x18bd*-0x1+-0x1283*0x2+-0x4*-0xf71],this['z']=_0x4ea72a[0x2615+0x9e3*-0x1+-0x1c30],this['w']=_0x4ea72a[0x1f*0x8c+-0x65*-0x60+0x1*-0x36d1]):(this['x']=_0x4ea72a,this['y']=_0xd92a8f,this['z']=_0x494244,this['w']=_0x5c8758);}['add'](_0x2cdd90){return this['x']+=_0x2cdd90['x'],this['y']+=_0x2cdd90['y'],this['z']+=_0x2cdd90['z'],this['w']+=_0x2cdd90['w'],this;}['add2'](_0x44f98e,_0x29df83){return this['x']=_0x44f98e['x']+_0x29df83['x'],this['y']=_0x44f98e['y']+_0x29df83['y'],this['z']=_0x44f98e['z']+_0x29df83['z'],this['w']=_0x44f98e['w']+_0x29df83['w'],this;}['addScalar'](_0x29c51c){return this['x']+=_0x29c51c,this['y']+=_0x29c51c,this['z']+=_0x29c51c,this['w']+=_0x29c51c,this;}['addScaled'](_0x44c65b,_0x487a0c){return this['x']+=_0x44c65b['x']*_0x487a0c,this['y']+=_0x44c65b['y']*_0x487a0c,this['z']+=_0x44c65b['z']*_0x487a0c,this['w']+=_0x44c65b['w']*_0x487a0c,this;}['clone'](){const _0x383e73=this['constructo'+'r'];return new _0x383e73(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x3724fb){return this['x']=_0x3724fb['x'],this['y']=_0x3724fb['y'],this['z']=_0x3724fb['z'],this['w']=_0x3724fb['w'],this;}['div'](_0x220c05){return this['x']/=_0x220c05['x'],this['y']/=_0x220c05['y'],this['z']/=_0x220c05['z'],this['w']/=_0x220c05['w'],this;}['div2'](_0x39aef7,_0x59de69){return this['x']=_0x39aef7['x']/_0x59de69['x'],this['y']=_0x39aef7['y']/_0x59de69['y'],this['z']=_0x39aef7['z']/_0x59de69['z'],this['w']=_0x39aef7['w']/_0x59de69['w'],this;}['divScalar'](_0x2efe65){return this['x']/=_0x2efe65,this['y']/=_0x2efe65,this['z']/=_0x2efe65,this['w']/=_0x2efe65,this;}['dot'](_0x2d231d){return this['x']*_0x2d231d['x']+this['y']*_0x2d231d['y']+this['z']*_0x2d231d['z']+this['w']*_0x2d231d['w'];}['equals'](_0x50e02e){return this['x']===_0x50e02e['x']&&this['y']===_0x50e02e['y']&&this['z']===_0x50e02e['z']&&this['w']===_0x50e02e['w'];}['equalsAppr'+'ox'](_0x5928c6,_0x4b790b=-0xd*-0x2e0+-0x242*-0x1+-0x27a2+0.000001){return Math['abs'](this['x']-_0x5928c6['x'])<_0x4b790b&&Math['abs'](this['y']-_0x5928c6['y'])<_0x4b790b&&Math['abs'](this['z']-_0x5928c6['z'])<_0x4b790b&&Math['abs'](this['w']-_0x5928c6['w'])<_0x4b790b;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x2a20c4,_0x18d007,_0x56a043){return this['x']=_0x2a20c4['x']+_0x56a043*(_0x18d007['x']-_0x2a20c4['x']),this['y']=_0x2a20c4['y']+_0x56a043*(_0x18d007['y']-_0x2a20c4['y']),this['z']=_0x2a20c4['z']+_0x56a043*(_0x18d007['z']-_0x2a20c4['z']),this['w']=_0x2a20c4['w']+_0x56a043*(_0x18d007['w']-_0x2a20c4['w']),this;}['mul'](_0xee886b){return this['x']*=_0xee886b['x'],this['y']*=_0xee886b['y'],this['z']*=_0xee886b['z'],this['w']*=_0xee886b['w'],this;}['mul2'](_0x1547e0,_0x5714a4){return this['x']=_0x1547e0['x']*_0x5714a4['x'],this['y']=_0x1547e0['y']*_0x5714a4['y'],this['z']=_0x1547e0['z']*_0x5714a4['z'],this['w']=_0x1547e0['w']*_0x5714a4['w'],this;}['mulScalar'](_0x2d6c6b){return this['x']*=_0x2d6c6b,this['y']*=_0x2d6c6b,this['z']*=_0x2d6c6b,this['w']*=_0x2d6c6b,this;}['normalize'](_0x3649ad=this){const _0x52f4a6=_0x3649ad['x']*_0x3649ad['x']+_0x3649ad['y']*_0x3649ad['y']+_0x3649ad['z']*_0x3649ad['z']+_0x3649ad['w']*_0x3649ad['w'];if(_0x52f4a6>-0xc0b+0x21f4+-0x15e9*0x1){const _0x100d2a=(-0x4*-0x6f2+0x7a*-0x2f+-0x561)/Math['sqrt'](_0x52f4a6);this['x']=_0x3649ad['x']*_0x100d2a,this['y']=_0x3649ad['y']*_0x100d2a,this['z']=_0x3649ad['z']*_0x100d2a,this['w']=_0x3649ad['w']*_0x100d2a;}return this;}['floor'](_0x1c76cc=this){return this['x']=Math['floor'](_0x1c76cc['x']),this['y']=Math['floor'](_0x1c76cc['y']),this['z']=Math['floor'](_0x1c76cc['z']),this['w']=Math['floor'](_0x1c76cc['w']),this;}['ceil'](_0x3a5dfc=this){return this['x']=Math['ceil'](_0x3a5dfc['x']),this['y']=Math['ceil'](_0x3a5dfc['y']),this['z']=Math['ceil'](_0x3a5dfc['z']),this['w']=Math['ceil'](_0x3a5dfc['w']),this;}['round'](_0x8e4cec=this){return this['x']=Math['round'](_0x8e4cec['x']),this['y']=Math['round'](_0x8e4cec['y']),this['z']=Math['round'](_0x8e4cec['z']),this['w']=Math['round'](_0x8e4cec['w']),this;}['min'](_0x527b06){return _0x527b06['x']<this['x']&&(this['x']=_0x527b06['x']),_0x527b06['y']<this['y']&&(this['y']=_0x527b06['y']),_0x527b06['z']<this['z']&&(this['z']=_0x527b06['z']),_0x527b06['w']<this['w']&&(this['w']=_0x527b06['w']),this;}['max'](_0x5a2c5f){return _0x5a2c5f['x']>this['x']&&(this['x']=_0x5a2c5f['x']),_0x5a2c5f['y']>this['y']&&(this['y']=_0x5a2c5f['y']),_0x5a2c5f['z']>this['z']&&(this['z']=_0x5a2c5f['z']),_0x5a2c5f['w']>this['w']&&(this['w']=_0x5a2c5f['w']),this;}['set'](_0x34cf50,_0x7f5e40,_0x1cb546,_0x48e8eb){return this['x']=_0x34cf50,this['y']=_0x7f5e40,this['z']=_0x1cb546,this['w']=_0x48e8eb,this;}['sub'](_0x4f7bf4){return this['x']-=_0x4f7bf4['x'],this['y']-=_0x4f7bf4['y'],this['z']-=_0x4f7bf4['z'],this['w']-=_0x4f7bf4['w'],this;}['sub2'](_0xfe65da,_0x3c8023){return this['x']=_0xfe65da['x']-_0x3c8023['x'],this['y']=_0xfe65da['y']-_0x3c8023['y'],this['z']=_0xfe65da['z']-_0x3c8023['z'],this['w']=_0xfe65da['w']-_0x3c8023['w'],this;}['subScalar'](_0x158dbf){return this['x']-=_0x158dbf,this['y']-=_0x158dbf,this['z']-=_0x158dbf,this['w']-=_0x158dbf,this;}['fromArray'](_0x36e263,_0x9066f1=-0x1210+0x1a99+-0x889){return this['x']=_0x36e263[_0x9066f1]??this['x'],this['y']=_0x36e263[_0x9066f1+(0x14*-0x103+-0x2*0x3be+-0x1*-0x1bb9)]??this['y'],this['z']=_0x36e263[_0x9066f1+(0x12*0x89+-0x30*-0x7b+-0x20b0)]??this['z'],this['w']=_0x36e263[_0x9066f1+(0x48f+0x1aa7+0x475*-0x7)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x3a5f3a=[],_0x27229a=0x228e+-0x209d+-0x1f1){return _0x3a5f3a[_0x27229a]=this['x'],_0x3a5f3a[_0x27229a+(0x278+-0x234+-0x1*0x43)]=this['y'],_0x3a5f3a[_0x27229a+(0x121d+-0x185e+0x1*0x643)]=this['z'],_0x3a5f3a[_0x27229a+(0x1ac1*-0x1+0x1b9*0xe+0x2a6)]=this['w'],_0x3a5f3a;}};c(Yi,'ZERO',Object['freeze'](new Yi(0x9e*0x2+-0x978+0x20f*0x4,0x170+0x2675+-0x1*0x27e5,-0x21f4+0xf9c+0x24b*0x8,0x2235+-0xcd*-0x20+-0x35*0x121))),c(Yi,'HALF',Object['freeze'](new Yi(0x1*0x10c9+-0x2*-0x278+-0x15b9*0x1+0.5,-0x272+-0x1*-0x1a5a+-0x5fa*0x4+0.5,-0x11d9+-0xd08+-0x5*-0x62d+0.5,-0x12*0xa7+-0x11ef*0x2+0x2f9c+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(0xf2+0x17f+-0x270,0x62f*0x2+-0x9e9*0x2+0x1*0x775,0x3f9*0x2+-0x409*-0x4+0x19b*-0xf,-0x1*-0x16ae+-0x2333+0xc86)));let Q=Yi;const Ua=new W(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0xe62+0x14*0x185+-0x2cb6)),this['data'][-0x1cb1+-0x194a+0xd*0x427]=this['data'][-0xa7*-0xa+0xbc+-0x73d]=this['data'][0x18c9+0x1*0x1dc3+-0x3682]=this['data'][0x22e2+0x261e+0x48f1*-0x1]=-0x1eac+0xd62+0x114b;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0xc7feb3,_0x91fad0,_0x5704d9,_0x162f73,_0x52e8af){_0x52e8af?(_0xc7feb3['x']=_0x162f73*Math['tan'](_0x91fad0*Math['PI']/(0x86*-0x29+0x208*-0x11+-0x5d*-0x9e)),_0xc7feb3['y']=_0xc7feb3['x']/_0x5704d9):(_0xc7feb3['y']=_0x162f73*Math['tan'](_0x91fad0*Math['PI']/(-0x1c96+-0x3*0x6c9+0x3259)),_0xc7feb3['x']=_0xc7feb3['y']*_0x5704d9);}['add2'](_0x1a5445,_0x2a9445){const _0x5b0250=_0x1a5445['data'],_0x2194dd=_0x2a9445['data'],_0x2513c4=this['data'];return _0x2513c4[0x1*0x89b+-0x337*-0xb+-0x15*0x218]=_0x5b0250[0x2de+0x945+-0xc23]+_0x2194dd[0x1*-0x25ba+-0x12fd*-0x1+-0x7b*-0x27],_0x2513c4[-0xca+-0xa1f*0x1+0xaea]=_0x5b0250[-0x515+0x22fd+0x5*-0x5fb]+_0x2194dd[0x2109*0x1+-0x577*-0x1+0x1b*-0x16d],_0x2513c4[0x5*0x557+0x53c*-0x5+-0x85]=_0x5b0250[-0x1*0x8c5+0xfc1+0x6fa*-0x1]+_0x2194dd[-0x30a*-0xb+0x95c+0x4*-0xab2],_0x2513c4[0xf*0x5e+-0x18c+0x151*-0x3]=_0x5b0250[0x3df*-0x1+-0x1*-0x19f1+-0x1*0x160f]+_0x2194dd[-0x1aa3+0x3*0x82e+0x1*0x21c],_0x2513c4[-0x1*-0x1bff+0x1206+-0x2e01]=_0x5b0250[-0x1f50+-0xc66+0x2bba]+_0x2194dd[-0x982+-0xf2a+0x62c*0x4],_0x2513c4[0x1432+0x1*-0x15e9+0x1bc]=_0x5b0250[-0x2540+-0x1450+0x3995*0x1]+_0x2194dd[-0x7d3+-0x1*-0x1b50+-0x2*0x9bc],_0x2513c4[-0x13bb+-0xc32*-0x2+-0x4a3*0x1]=_0x5b0250[-0x18e7+0x12*0x1b3+0xcf*-0x7]+_0x2194dd[-0x1f55+-0xcac+0x2c07],_0x2513c4[-0x1058+0x42d+0xc32*0x1]=_0x5b0250[0x149f*-0x1+-0x7*-0x239+-0x1*-0x517]+_0x2194dd[-0x6ad*-0x1+-0x1757+0x10b1],_0x2513c4[0x1bf9+0x1*-0x148c+0x277*-0x3]=_0x5b0250[-0x9a5+-0x188+0xb35]+_0x2194dd[0x185*0x1+0x52e*0x3+-0x1107],_0x2513c4[0x213c+-0xc3f+0x3*-0x6fc]=_0x5b0250[0x15b*-0x17+0x22eb+0x49*-0xd]+_0x2194dd[0x7e9+-0x651*-0x2+-0x3*0x6d6],_0x2513c4[-0xf*-0x1da+0x1bab+-0x3767]=_0x5b0250[-0x921+0x13d6+-0xaab]+_0x2194dd[-0x35f*-0x8+0x4e9+0x273*-0xd],_0x2513c4[0x38*-0x8b+0x78*0x23+0xe0b]=_0x5b0250[-0x1bb7+0xaf7*-0x1+0x26b9]+_0x2194dd[0x1c77+0x1*0x1f75+-0x1*0x3be1],_0x2513c4[0x931+0x1863+0x4a*-0x74]=_0x5b0250[0x171*-0x9+0x1e14+-0x110f]+_0x2194dd[0x3d*0x6d+-0x21b6+-0x7c9*-0x1],_0x2513c4[0x2513*0x1+0x1*0x16bb+0x13eb*-0x3]=_0x5b0250[-0x2e*-0xbf+0x1*-0x9d5+-0x1870]+_0x2194dd[-0x7*-0xad+-0xb5+-0x3f9],_0x2513c4[0x298*-0xe+-0x218f*-0x1+0x2cf]=_0x5b0250[0xec7+0x20cf+0x2a4*-0x12]+_0x2194dd[0x4*-0x838+0x1e11+0x2dd*0x1],_0x2513c4[-0x120a+-0xd17+-0x1*-0x1f30]=_0x5b0250[-0x751*0x1+-0x15df+0x1*0x1d3f]+_0x2194dd[0x2135*0x1+0x1b5a+-0x3c80],this;}['add'](_0x499782){return this['add2'](this,_0x499782);}['clone'](){const _0x13b736=this['constructo'+'r'];return new _0x13b736()['copy'](this);}['copy'](_0x2b7e6b){const _0x1815ab=_0x2b7e6b['data'],_0x45c497=this['data'];return _0x45c497[-0x1881+-0x7*0x4d+0x1a9c]=_0x1815ab[-0x4cf*-0x4+0x13*-0x1d2+0xf5a],_0x45c497[0x1*0xc33+0x517*0x7+-0x7*0x6d5]=_0x1815ab[-0x2*-0x6a1+0x167e+-0x23bf],_0x45c497[-0x1c44+0x19*0xdd+-0x23b*-0x3]=_0x1815ab[-0x159+-0x7c8+-0x923*-0x1],_0x45c497[0x16e5*0x1+-0x1b*0x78+-0xa3a]=_0x1815ab[-0x7*-0x15b+0xfb4+-0x192e],_0x45c497[-0x1*-0x863+-0x2492+0x1c33]=_0x1815ab[0x149*-0x3+0x233+0x1*0x1ac],_0x45c497[-0x17b9+0x4f6+0x12c8]=_0x1815ab[0x1b86*0x1+0xc98+0x5*-0x805],_0x45c497[0x5a5*0x3+0x6f8*0x1+-0x1*0x17e1]=_0x1815ab[-0x2e*-0x9b+0x23e1+-0x15b*0x2f],_0x45c497[-0x49e+-0x161b*-0x1+-0x5*0x37e]=_0x1815ab[-0x3*0x278+0x1a5+0x2*0x2e5],_0x45c497[-0x9*0x255+-0x1b0d+0x2a*0x125]=_0x1815ab[-0x819+0xf9b+-0x13f*0x6],_0x45c497[0x1729*0x1+-0xc07*0x1+-0xb19]=_0x1815ab[-0x1*-0xc76+-0x2*-0x58a+-0x1*0x1781],_0x45c497[0x1fde+0x1f*-0x47+0x173b*-0x1]=_0x1815ab[-0xdf*0x16+0x37*0x7d+0x28d*-0x3],_0x45c497[0x444+-0x1c70+0x1837]=_0x1815ab[-0x3fb+0x2230+-0x1e2a],_0x45c497[-0x2*-0x5df+0xd*-0x25c+0x1*0x12fa]=_0x1815ab[-0x12ee+0x123d+0xbd],_0x45c497[0x124c+-0x445*-0x1+-0x1684]=_0x1815ab[-0x10*0xee+-0x1*0x1fc+0x6f*0x27],_0x45c497[0x6a8+-0x2*-0xdf3+-0x2280]=_0x1815ab[0x1f13*-0x1+-0x1*0x2bf+-0x10f0*-0x2],_0x45c497[-0x1*0x248d+0x1a15*-0x1+0x1*0x3eb1]=_0x1815ab[-0x2460+-0xbe3+-0x2*-0x1829],this;}['equals'](_0x38f044){const _0x19b72b=this['data'],_0x36d1d=_0x38f044['data'];return _0x19b72b[0x1*-0x253d+0x1ffe+0x53f]===_0x36d1d[-0x1d7b+0xf8d*-0x2+0x3c95]&&_0x19b72b[-0xe*0x15d+0xde2*-0x1+-0x16f*-0x17]===_0x36d1d[0x25b9+0x1821+0x1*-0x3dd9]&&_0x19b72b[-0xe60+-0xf9*-0x11+0x1d*-0x13]===_0x36d1d[-0xb29*0x3+0x16bf*0x1+0xabe]&&_0x19b72b[-0xa5d+-0x16*-0x1c+0xaa*0xc]===_0x36d1d[0x6ab*0x2+-0x1411+0x6be]&&_0x19b72b[0x515*0x4+0x74b+-0x1b9b]===_0x36d1d[0x9*-0x290+-0x2*0x595+-0x3*-0xb6a]&&_0x19b72b[0x7e1+-0x1*0x319+-0x1*0x4c3]===_0x36d1d[-0xaa4*0x1+0x3e*-0x14+-0x1*-0xf81]&&_0x19b72b[-0x1604+-0x155a*-0x1+0xb0]===_0x36d1d[-0x39d+0x1*0x41f+-0x7c]&&_0x19b72b[-0x3*-0x962+-0x1*-0x3ec+-0x200b]===_0x36d1d[0x14f+0x1*0x23b+-0x383]&&_0x19b72b[0x1d01+0x711+-0x240a]===_0x36d1d[-0x1bbf*0x1+-0x9*-0x232+0x805]&&_0x19b72b[-0xa7*-0x35+-0x1f7e+-0x30c]===_0x36d1d[-0x268a+0x55+0x263e]&&_0x19b72b[0xbb3+-0x222f+-0x6*-0x3c1]===_0x36d1d[0x8ab*0x2+-0x228b+0x1*0x113f]&&_0x19b72b[-0x27b*-0xa+-0x1e2a+0x567]===_0x36d1d[-0x1e78+0x4af*-0x7+0x3f4c]&&_0x19b72b[0x153d*-0x1+-0x1cea+0x3233]===_0x36d1d[0x61*-0x4c+0x2*-0x1337+0x4346]&&_0x19b72b[0x24a3*-0x1+-0x99d+0x2e4d]===_0x36d1d[0x22+-0x1*-0x1973+-0x1988]&&_0x19b72b[-0x24bc*0x1+0xdaf*-0x1+-0x10d3*-0x3]===_0x36d1d[-0x1d0d+-0x4dd+0x8*0x43f]&&_0x19b72b[-0x11d2*0x2+-0x6*-0x1d4+-0x1e7*-0xd]===_0x36d1d[0xb*-0x334+-0x4*-0x295+0x1*0x18f7];}['isIdentity'](){const _0x41d8fa=this['data'];return _0x41d8fa[0x515*0x1+0x14af+-0x19c4]===-0x1523+-0x13*0x6f+0x1d61&&_0x41d8fa[0x1833+0x8e*-0xe+0x837*-0x2]===0x1ecd+-0xa1e+-0x14af&&_0x41d8fa[0x18ec+0x1b6d+-0x1*0x3457]===0x1e*-0xa7+-0x1cdc+-0x1837*-0x2&&_0x41d8fa[0x4*-0x97d+0x1*-0x87e+0x2e75]===0x492+0x1d46+-0x21d8*0x1&&_0x41d8fa[0x18a4+0xaac+-0x8d3*0x4]===-0xdc4+0x21e5*-0x1+0x2fa9&&_0x41d8fa[0x1d7d+0x824+-0x259c]===0x2021+0x1196+-0x31b6&&_0x41d8fa[-0x1744+0x26*0xbb+0x8f*-0x8]===-0x1f0c+-0x1128+0x1*0x3034&&_0x41d8fa[-0x829*-0x2+0x1a24+-0x47*0x99]===-0x1704+-0x8*0x5d+0x19ec&&_0x41d8fa[0x42+0x1276+-0x12b0]===0x312*0x9+-0x12ac+-0x8f6&&_0x41d8fa[0xd86+-0xa8d+-0x2f*0x10]===0xe0a+0x131c*-0x1+0x512&&_0x41d8fa[-0x1*-0xeef+-0x1*0x80d+-0x6d8]===-0xc5+0x7*0x2b1+0x1*-0x1211&&_0x41d8fa[-0x85f*0x2+-0xc63+0x1d2c]===-0x2559+0x45*-0x76+-0x9e1*-0x7&&_0x41d8fa[-0xc6f+-0x66b*-0x4+0xb*-0x133]===0xf9a+0xb*0x1db+-0x15*0x1b7&&_0x41d8fa[0x2629+-0x1*-0x3d1+0x1*-0x29ed]===0x3*-0x667+0x105f+0x21*0x16&&_0x41d8fa[0x14*-0x16e+0x86d+0x1439]===0x251a+-0x95*-0x14+-0x30be&&_0x41d8fa[0x2*-0xc5e+-0x3*0x24d+0x1fb2]===-0xc46*-0x2+-0x1*0x17c7+-0xc4;}['mul2'](_0x28a4ec,_0x14ee10){const _0x185c2f=_0x28a4ec['data'],_0x42a6ac=_0x14ee10['data'],_0x3a6a91=this['data'],_0x22b06b=_0x185c2f[-0x24df+0x2440+0x35*0x3],_0x3b73e5=_0x185c2f[0x1*0x1433+-0x7*0x4e9+0xe2d],_0x5155ed=_0x185c2f[-0x16b*0xf+0x6b*-0x17+0x1ee4],_0xc6b6c9=_0x185c2f[0xe*0x43+-0x21e*0x7+0xb2b],_0x2115ee=_0x185c2f[0x138e+0x3a*0xa7+-0x990*0x6],_0x17c2a1=_0x185c2f[-0x10bd+0x2219*0x1+0x1*-0x1157],_0x2771f6=_0x185c2f[-0x9fc+-0xe*-0x82+0x2e6],_0x43c418=_0x185c2f[-0x941*-0x4+0x114d*-0x2+-0x263],_0x3257b4=_0x185c2f[-0x7ea*-0x1+-0x1558+0xd76],_0x2a8813=_0x185c2f[-0xfea+0x1*-0x14b1+0x1*0x24a4],_0x435321=_0x185c2f[0x184+0x60*-0x53+-0x6e*-0x45],_0x222901=_0x185c2f[0x1271+-0x10da+-0x18c],_0x42bb7f=_0x185c2f[0xc9b+0x2*0xdbd+-0x25*0x115],_0x2f3191=_0x185c2f[0x13ae+-0x1*-0x2353+-0x2*0x1b7a],_0x1c532f=_0x185c2f[0x1*-0x1f04+-0x86c*0x1+0x277e],_0x4dd5bb=_0x185c2f[-0x39*0x78+0x135c+0x76b];let _0xcf6996,_0x3eca3b,_0x1e7273,_0x2ffac9;return _0xcf6996=_0x42a6ac[-0xd03+0xb93*0x3+-0x15b6],_0x3eca3b=_0x42a6ac[-0x2b0+0x1*0x2227+-0x1f76*0x1],_0x1e7273=_0x42a6ac[-0x11dd+-0x14ef+0x26ce],_0x2ffac9=_0x42a6ac[-0x22a1+-0xde+0x2382],_0x3a6a91[-0x7c1+-0x25e3+0x2da4]=_0x22b06b*_0xcf6996+_0x2115ee*_0x3eca3b+_0x3257b4*_0x1e7273+_0x42bb7f*_0x2ffac9,_0x3a6a91[0x1972*0x1+-0x1*0x437+-0x153a]=_0x3b73e5*_0xcf6996+_0x17c2a1*_0x3eca3b+_0x2a8813*_0x1e7273+_0x2f3191*_0x2ffac9,_0x3a6a91[-0x1fc2+-0x95b+-0x3*-0xdb5]=_0x5155ed*_0xcf6996+_0x2771f6*_0x3eca3b+_0x435321*_0x1e7273+_0x1c532f*_0x2ffac9,_0x3a6a91[0x111a+0x18ad+-0x29c4]=_0xc6b6c9*_0xcf6996+_0x43c418*_0x3eca3b+_0x222901*_0x1e7273+_0x4dd5bb*_0x2ffac9,_0xcf6996=_0x42a6ac[-0x12c7*0x1+-0xa3*-0x9+-0x26*-0x58],_0x3eca3b=_0x42a6ac[0xe7d+0x9ea+-0xc31*0x2],_0x1e7273=_0x42a6ac[0x35*-0xb9+0x8ba+0x1d99],_0x2ffac9=_0x42a6ac[-0x110a+0x72e+-0x9e3*-0x1],_0x3a6a91[0x2202+0x4f0+-0x26ee]=_0x22b06b*_0xcf6996+_0x2115ee*_0x3eca3b+_0x3257b4*_0x1e7273+_0x42bb7f*_0x2ffac9,_0x3a6a91[0x116f+0x71*-0x3d+0x983]=_0x3b73e5*_0xcf6996+_0x17c2a1*_0x3eca3b+_0x2a8813*_0x1e7273+_0x2f3191*_0x2ffac9,_0x3a6a91[-0x2313+0xdb8+0x1561*0x1]=_0x5155ed*_0xcf6996+_0x2771f6*_0x3eca3b+_0x435321*_0x1e7273+_0x1c532f*_0x2ffac9,_0x3a6a91[0x65*0x7+-0xe17+0xb5b]=_0xc6b6c9*_0xcf6996+_0x43c418*_0x3eca3b+_0x222901*_0x1e7273+_0x4dd5bb*_0x2ffac9,_0xcf6996=_0x42a6ac[0x26da*0x1+0x1f1f+-0x45f1*0x1],_0x3eca3b=_0x42a6ac[0x7d0*-0x4+-0x2*-0x39a+0x1815],_0x1e7273=_0x42a6ac[0x258b*-0x1+-0x164a+-0x6a7*-0x9],_0x2ffac9=_0x42a6ac[-0xf78+0x423+0xb60],_0x3a6a91[0x170d+0x5d4*-0x6+-0xa1*-0x13]=_0x22b06b*_0xcf6996+_0x2115ee*_0x3eca3b+_0x3257b4*_0x1e7273+_0x42bb7f*_0x2ffac9,_0x3a6a91[-0x1456+0x2005+-0xba6]=_0x3b73e5*_0xcf6996+_0x17c2a1*_0x3eca3b+_0x2a8813*_0x1e7273+_0x2f3191*_0x2ffac9,_0x3a6a91[0x169b+0x25e7+0x1e3c*-0x2]=_0x5155ed*_0xcf6996+_0x2771f6*_0x3eca3b+_0x435321*_0x1e7273+_0x1c532f*_0x2ffac9,_0x3a6a91[0x293+-0x121*-0x1a+-0x1fe2]=_0xc6b6c9*_0xcf6996+_0x43c418*_0x3eca3b+_0x222901*_0x1e7273+_0x4dd5bb*_0x2ffac9,_0xcf6996=_0x42a6ac[0x2013+-0x4*-0x112+-0x37*0xa9],_0x3eca3b=_0x42a6ac[0xc14+-0x1379+0x772],_0x1e7273=_0x42a6ac[-0x823*-0x1+-0x12*0x18c+0x13c3*0x1],_0x2ffac9=_0x42a6ac[-0xf53+0x21d0+-0x126e],_0x3a6a91[0x535+-0x222e+0x1d05]=_0x22b06b*_0xcf6996+_0x2115ee*_0x3eca3b+_0x3257b4*_0x1e7273+_0x42bb7f*_0x2ffac9,_0x3a6a91[0x7d9+0xa74+-0x1240]=_0x3b73e5*_0xcf6996+_0x17c2a1*_0x3eca3b+_0x2a8813*_0x1e7273+_0x2f3191*_0x2ffac9,_0x3a6a91[0x24c3+-0x5d*-0x5+-0x2686]=_0x5155ed*_0xcf6996+_0x2771f6*_0x3eca3b+_0x435321*_0x1e7273+_0x1c532f*_0x2ffac9,_0x3a6a91[-0xd*-0x27b+-0x1*0x87b+-0x17b5]=_0xc6b6c9*_0xcf6996+_0x43c418*_0x3eca3b+_0x222901*_0x1e7273+_0x4dd5bb*_0x2ffac9,this;}['mulAffine2'](_0x2d076c,_0x750776){const _0x15154d=_0x2d076c['data'],_0x1c4084=_0x750776['data'],_0x18cb2c=this['data'],_0x249677=_0x15154d[-0xe44+-0x33*-0xd+-0xbad*-0x1],_0x319b6d=_0x15154d[0x1777+-0x1*-0x159b+-0x2d11],_0x38613b=_0x15154d[0x2313+-0x1*-0x1407+-0x3718],_0x485f99=_0x15154d[0x25a7+0x2369+-0x490c],_0x54473d=_0x15154d[0x91e+0x170f+-0x54*0x62],_0x12ec5b=_0x15154d[-0x9b1+-0x23f3*0x1+-0x2daa*-0x1],_0x5ed9a7=_0x15154d[-0x23ae+0x1*0x533+0x1e83],_0x437179=_0x15154d[-0x1e01+-0x1860+0x571*0xa],_0x2f399d=_0x15154d[-0x82c+-0x56f*0x3+0x4e7*0x5],_0x1bd90f=_0x15154d[0xef8+-0x42a*0x1+-0xac2],_0x5bad58=_0x15154d[-0x91*0x37+0x4c4*-0x5+0x3708],_0x2ccbe1=_0x15154d[-0x7*-0x14b+-0x236*0x1+0xc1*-0x9];let _0x3a270a,_0x41943e,_0x4bdefc;return _0x3a270a=_0x1c4084[-0xbc8*0x3+-0x20dc+0x4434],_0x41943e=_0x1c4084[-0x1d1b+-0x1610+0x332c],_0x4bdefc=_0x1c4084[0x2583+-0xf0d+-0x1674],_0x18cb2c[0x213f+-0x159c+-0xba3]=_0x249677*_0x3a270a+_0x485f99*_0x41943e+_0x5ed9a7*_0x4bdefc,_0x18cb2c[0x11*0x2+0x1*0xe9b+-0xebc]=_0x319b6d*_0x3a270a+_0x54473d*_0x41943e+_0x437179*_0x4bdefc,_0x18cb2c[0x295*-0x5+-0x4fc+0x11e7]=_0x38613b*_0x3a270a+_0x12ec5b*_0x41943e+_0x2f399d*_0x4bdefc,_0x18cb2c[-0x35*-0xa7+0x1ff*-0xb+-0x1*0xc9b]=-0x511*-0x1+0x755+0x17*-0x8a,_0x3a270a=_0x1c4084[-0x2308+-0x599+0x28a5],_0x41943e=_0x1c4084[0x705*-0x4+-0x86a*-0x1+0x1*0x13af],_0x4bdefc=_0x1c4084[0x2186+0x15b2*0x1+-0x3732],_0x18cb2c[0x1c1e+0x1344+-0x2f5e]=_0x249677*_0x3a270a+_0x485f99*_0x41943e+_0x5ed9a7*_0x4bdefc,_0x18cb2c[0xd62+-0x1*-0x11bc+-0x13*0x1a3]=_0x319b6d*_0x3a270a+_0x54473d*_0x41943e+_0x437179*_0x4bdefc,_0x18cb2c[0x10*-0x112+-0xf2+-0x4*-0x486]=_0x38613b*_0x3a270a+_0x12ec5b*_0x41943e+_0x2f399d*_0x4bdefc,_0x18cb2c[-0x9ea+0x594+0x45d]=0x1*0x17d5+-0x8b*-0x2b+-0x42*0xb7,_0x3a270a=_0x1c4084[0x1ea2+-0x8c5+-0x15d5],_0x41943e=_0x1c4084[-0x24a6+0x1a46+0xa69],_0x4bdefc=_0x1c4084[0x1f7*0xb+0x2*0x565+-0x205d],_0x18cb2c[0x2484+0x329+-0x27a5]=_0x249677*_0x3a270a+_0x485f99*_0x41943e+_0x5ed9a7*_0x4bdefc,_0x18cb2c[0x5*-0x30a+0x2604+-0x13*0x133]=_0x319b6d*_0x3a270a+_0x54473d*_0x41943e+_0x437179*_0x4bdefc,_0x18cb2c[0x1*0xa5b+-0x413*0x7+0xe9*0x14]=_0x38613b*_0x3a270a+_0x12ec5b*_0x41943e+_0x2f399d*_0x4bdefc,_0x18cb2c[-0x156e+0x8ec+0xbd*0x11]=-0x96*0x3b+-0x23fa+0x468c,_0x3a270a=_0x1c4084[0xa5c+-0x16ae+0xc5e],_0x41943e=_0x1c4084[-0x8e*-0x30+0x1335*0x2+-0x83*0x7f],_0x4bdefc=_0x1c4084[-0xe7*0xd+0x1b94+0xfcb*-0x1],_0x18cb2c[0x1*0x1e1+0x2084+0x2259*-0x1]=_0x249677*_0x3a270a+_0x485f99*_0x41943e+_0x5ed9a7*_0x4bdefc+_0x1bd90f,_0x18cb2c[0x1a2f*0x1+-0x1b70+0x2*0xa7]=_0x319b6d*_0x3a270a+_0x54473d*_0x41943e+_0x437179*_0x4bdefc+_0x5bad58,_0x18cb2c[0x463*0x3+0x1f8a*-0x1+-0x27*-0x79]=_0x38613b*_0x3a270a+_0x12ec5b*_0x41943e+_0x2f399d*_0x4bdefc+_0x2ccbe1,_0x18cb2c[-0x2392+-0xb0f+0x2eb0]=0x105*0x2+0x237e+-0x2e3*0xd,this;}['mul'](_0x53db1d){return this['mul2'](this,_0x53db1d);}['transformP'+'oint'](_0x23aff8,_0x5a824f=new T()){const _0x306332=this['data'],{x:_0x34cff6,y:_0x22c398,z:_0x43b930}=_0x23aff8;return _0x5a824f['x']=_0x34cff6*_0x306332[0x1f*-0x11e+-0x29*-0x22+-0x1d30*-0x1]+_0x22c398*_0x306332[-0x1d89+-0x1*-0x111d+0xc70*0x1]+_0x43b930*_0x306332[-0x89b*-0x2+-0xc02+-0x52c*0x1]+_0x306332[0x1aa*-0x16+0x2*0x128f+-0x76],_0x5a824f['y']=_0x34cff6*_0x306332[-0xb22+-0x1b6d+-0x269*-0x10]+_0x22c398*_0x306332[0x199c+-0x1*-0x2db+0x1*-0x1c72]+_0x43b930*_0x306332[-0x68c+-0x1a0f+0x4*0x829]+_0x306332[-0x3*-0x78e+-0x8e5+0x8*-0x1b7],_0x5a824f['z']=_0x34cff6*_0x306332[-0xcbd+0x1c59+0x7cd*-0x2]+_0x22c398*_0x306332[-0x4a*-0x6d+0x2634+-0x45b0]+_0x43b930*_0x306332[-0x5d*-0x41+-0x143*0x17+0x572]+_0x306332[-0x27*0xb+0x20e2+0xb*-0x2d5],_0x5a824f;}['transformV'+'ector'](_0x5c0bd6,_0x4ca3a9=new T()){const _0x54f26d=this['data'],{x:_0x30a3f1,y:_0x19184e,z:_0x2c84c9}=_0x5c0bd6;return _0x4ca3a9['x']=_0x30a3f1*_0x54f26d[0x361+-0xe0f+0xaae*0x1]+_0x19184e*_0x54f26d[0xb4d+0x151f+-0x2068]+_0x2c84c9*_0x54f26d[0xe80+-0x118c+-0x314*-0x1],_0x4ca3a9['y']=_0x30a3f1*_0x54f26d[0xaf3*-0x2+0x1e74+-0x88d]+_0x19184e*_0x54f26d[0xe07+0x17*-0xdf+0x607*0x1]+_0x2c84c9*_0x54f26d[-0x95*0xf+0x3*0xc8e+-0x1ce6],_0x4ca3a9['z']=_0x30a3f1*_0x54f26d[0x5fb+0xada+-0x10d3]+_0x19184e*_0x54f26d[0x7b3*-0x2+-0x1321+-0x228d*-0x1]+_0x2c84c9*_0x54f26d[0x1*0x159b+-0x1*0x7ae+0x2d*-0x4f],_0x4ca3a9;}['transformV'+'ec4'](_0x566e3b,_0x5b97ce=new Q()){const _0x523c7e=this['data'],{x:_0x5c4109,y:_0x5e70cc,z:_0x54e043,w:_0x50d99c}=_0x566e3b;return _0x5b97ce['x']=_0x5c4109*_0x523c7e[-0x27e+0xc3+0x1bb*0x1]+_0x5e70cc*_0x523c7e[0x45f*-0x7+0x5b0+0x18ed]+_0x54e043*_0x523c7e[0xc53+-0xa62+-0xa3*0x3]+_0x50d99c*_0x523c7e[-0x927+-0x211e+0x2a51],_0x5b97ce['y']=_0x5c4109*_0x523c7e[0x11a9+-0x1*0x13e7+0x73*0x5]+_0x5e70cc*_0x523c7e[-0x1291+0xa8b*0x2+-0x40*0xa]+_0x54e043*_0x523c7e[0x246d+-0x4*0x5aa+-0xdbc]+_0x50d99c*_0x523c7e[0x135f+0xff4+-0x1*0x2346],_0x5b97ce['z']=_0x5c4109*_0x523c7e[0x1*-0x18f1+-0x1a5*-0x5+0x10ba]+_0x5e70cc*_0x523c7e[0x12aa+0xbbe+-0x1e62]+_0x54e043*_0x523c7e[-0x1d*0x53+0x1*-0x1727+0x2098*0x1]+_0x50d99c*_0x523c7e[-0x1d56+-0x1*-0x12bf+0x6d*0x19],_0x5b97ce['w']=_0x5c4109*_0x523c7e[0x2*0x2cf+0x1544*0x1+0x1*-0x1adf]+_0x5e70cc*_0x523c7e[0x55*0xd+0x1cef*-0x1+0x18a5]+_0x54e043*_0x523c7e[-0x1787+0x34*0x4f+0x786]+_0x50d99c*_0x523c7e[-0x5*0x446+0x1*0x9ef+0xb7e],_0x5b97ce;}['setLookAt'](_0x1d4555,_0x451dc3,_0xfda29c){Os['sub2'](_0x1d4555,_0x451dc3)['normalize'](),Fs['copy'](_0xfda29c)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x5486f8=this['data'];return _0x5486f8[-0x5*0x1e4+-0x839*-0x1+0x13b]=us['x'],_0x5486f8[0x1124+0xb15+-0x1c38]=us['y'],_0x5486f8[-0x4eb*-0x3+-0x2049+0x118a]=us['z'],_0x5486f8[-0xc53+-0x1*0x1359+0x1faf*0x1]=-0x2*-0x1237+0x22e2*0x1+-0x10*0x475,_0x5486f8[-0x97*0x2d+0x1c6e+-0x1df]=Fs['x'],_0x5486f8[-0xdb8+-0x23a*-0xf+-0x13a9]=Fs['y'],_0x5486f8[-0x48a+-0x1443+-0x5*-0x4f7]=Fs['z'],_0x5486f8[-0x44*0x55+-0x4*-0x3df+0x71f]=-0x1aa*0x1+-0x421+0x5cb*0x1,_0x5486f8[-0xfd9+-0x116e*0x1+0x214f]=Os['x'],_0x5486f8[0x1b7c*0x1+-0x1a4d*0x1+-0x126]=Os['y'],_0x5486f8[0x795+-0x2*0x698+0x5a5]=Os['z'],_0x5486f8[0x1042+-0x8*0x3b7+0xd81]=0x649*-0x5+-0xc8*0x1a+0x33bd,_0x5486f8[-0x2090+-0x144+0x21e0]=_0x1d4555['x'],_0x5486f8[0x1*0x15+0x1cba+-0x1cc2]=_0x1d4555['y'],_0x5486f8[-0x295*0x7+-0xfcb+0x21ec]=_0x1d4555['z'],_0x5486f8[-0x1826+-0x252d+0x12*0x369]=0x1*0x2395+-0x13ac+0x1fd*-0x8,this;}['setFrustum'](_0x14bafd,_0x2aea40,_0x416db0,_0x1429e1,_0x1b867d,_0x41634e){const _0x4099a6=(0x2b8+-0x13*0x184+0x1a16)*_0x1b867d,_0x3c6ea4=_0x2aea40-_0x14bafd,_0x5449a0=_0x1429e1-_0x416db0,_0x448bc6=_0x41634e-_0x1b867d,_0x3d19bf=this['data'];return _0x3d19bf[-0x18af*-0x1+-0x2218+0x969]=_0x4099a6/_0x3c6ea4,_0x3d19bf[0x83d*-0x4+0x1*-0x86+0x217b]=-0x6d*0x1+0x85d+-0x7f0,_0x3d19bf[0x2d*-0x87+0x1c34+0x9*-0x7f]=-0x85*0x2a+-0x7b5+0x1d87,_0x3d19bf[0xd9f+-0x1b7d+0xde1]=0x1d4a+-0x1*-0x21e9+-0x1*0x3f33,_0x3d19bf[0x14aa+0x626+-0x1acc]=0x179c+-0x1523+-0x1*0x279,_0x3d19bf[-0x1*0x1e13+-0x8*0x1bf+0x3ac*0xc]=_0x4099a6/_0x5449a0,_0x3d19bf[-0xdef+-0x128a+-0x3b*-0x8d]=-0x1348*0x1+-0x26ec+0x3a34,_0x3d19bf[0xfbb+0x77*0x4+-0x1190]=0xc76+0x42*-0x43+0x4d0,_0x3d19bf[-0x2468+-0x131a+0x378a*0x1]=(_0x2aea40+_0x14bafd)/_0x3c6ea4,_0x3d19bf[-0x1*-0x1762+0x14e*0x15+-0x32bf]=(_0x1429e1+_0x416db0)/_0x5449a0,_0x3d19bf[-0x3*0x4fe+0x3a3*-0x6+0x29*0xe6]=(-_0x41634e-_0x1b867d)/_0x448bc6,_0x3d19bf[-0xd*0xe9+-0x6*0x61b+0x377*0xe]=-(0xd32+-0x1b7b+0xe4a),_0x3d19bf[0x793*-0x3+-0xf49+-0x1*-0x260e]=-0x85c*0x4+-0x2065*0x1+0x41d5,_0x3d19bf[-0xf6*-0x1a+0x4*0x34b+-0x261b]=-0x1e6*-0x4+-0x137*-0x8+-0x454*0x4,_0x3d19bf[-0x140d*-0x1+0x2*0xe57+-0x30ad*0x1]=-_0x4099a6*_0x41634e/_0x448bc6,_0x3d19bf[0x1150*-0x1+0x196+0xfc9]=0x3*-0xae7+-0x20fd+0x41b2,this;}['setPerspec'+'tive'](_0x2a4d2b,_0xadfb,_0x5b34cb,_0xcbf001,_0x4014ac){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x2a4d2b,_0xadfb,_0x5b34cb,_0x4014ac),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x5b34cb,_0xcbf001);}['setOrtho'](_0x585fd4,_0xb2d853,_0x462d3f,_0x15273a,_0x8d98f2,_0x4b89c9){const _0x349dfc=this['data'];return _0x349dfc[-0x124a+-0x1*-0x169+0x10e1]=(0x26b9+0x4f*-0x79+-0x160)/(_0xb2d853-_0x585fd4),_0x349dfc[0x1615+0x2678+0x3e*-0xfa]=-0x22f+-0x9ef*-0x3+-0x1b9e*0x1,_0x349dfc[-0x809+-0x1*-0x88b+-0x20*0x4]=0x21e2+0x28*-0x4+-0x1d9*0x12,_0x349dfc[0xf2b+-0xad2+-0x3*0x172]=0x18*-0xf5+0x95*-0x2b+0x2fff,_0x349dfc[-0x1cdd+-0x22ef+0x2*0x1fe8]=-0x17bb+-0x1f7d+0x3738,_0x349dfc[-0x389*-0x5+0x1734+0x28dc*-0x1]=(-0x1*0x2531+0x7*-0x12d+0x2d6e)/(_0x15273a-_0x462d3f),_0x349dfc[-0x25df+-0xfb+0x26e0]=0x193e+-0x5*-0x309+-0x286b,_0x349dfc[-0x1*0x16c4+-0x2*0x32b+0x1d21]=0x1*0x106e+-0xb14*0x2+0x2dd*0x2,_0x349dfc[0x3*0xbd7+-0x1*-0x25e9+-0x4966]=-0xd6+-0x225d+0x2333,_0x349dfc[-0xf*-0x14e+0x1818+0x99*-0x49]=0x17*-0x169+0x1*-0x12ef+0x335e,_0x349dfc[0x1026+-0x3*-0x3a6+0x2*-0xd87]=-(-0x2a2*0x7+-0x1*0x19b1+0x2c21)/(_0x4b89c9-_0x8d98f2),_0x349dfc[-0x2*-0xca1+0x18d*-0x11+0x126]=0xc9e+0x11f4*-0x1+0x556,_0x349dfc[-0x1d1a+0x1e7f+0x159*-0x1]=-(_0xb2d853+_0x585fd4)/(_0xb2d853-_0x585fd4),_0x349dfc[0xd43+-0x230c*-0x1+-0x2*0x1821]=-(_0x15273a+_0x462d3f)/(_0x15273a-_0x462d3f),_0x349dfc[0x9*-0x21b+0x2*0x368+0xc31]=-(_0x4b89c9+_0x8d98f2)/(_0x4b89c9-_0x8d98f2),_0x349dfc[0x18*0x18a+0x786+-0x1b*0x1a5]=-0x16eb*-0x1+0x98e+-0x40f*0x8,this;}['setFromAxi'+'sAngle'](_0x3eb83b,_0xdb87d5){_0xdb87d5*=N['DEG_TO_RAD'];const {x:_0x56eef1,y:_0x5aeef8,z:_0x16a126}=_0x3eb83b,_0x32419c=Math['cos'](_0xdb87d5),_0xc2fea6=Math['sin'](_0xdb87d5),_0x436ed8=0xc62*-0x1+0x266*0x6+-0x201*0x1-_0x32419c,_0x15cd75=_0x436ed8*_0x56eef1,_0x1b2d87=_0x436ed8*_0x5aeef8,_0x42052b=this['data'];return _0x42052b[-0x5*-0x269+-0x1ea5+-0x11*-0x118]=_0x15cd75*_0x56eef1+_0x32419c,_0x42052b[-0x2*-0xd64+-0x7d*-0x1f+-0x29ea]=_0x15cd75*_0x5aeef8+_0xc2fea6*_0x16a126,_0x42052b[-0x7*-0x359+-0x7c2+-0xfab]=_0x15cd75*_0x16a126-_0xc2fea6*_0x5aeef8,_0x42052b[-0x1f40+0xa68+-0x13*-0x119]=0x1*0x1301+-0xd*0xc9+-0x8cc,_0x42052b[-0x1b1c+-0x1*-0x19e4+-0x4f*-0x4]=_0x15cd75*_0x5aeef8-_0xc2fea6*_0x16a126,_0x42052b[-0x10a*0x1a+0x1076+0xa93*0x1]=_0x1b2d87*_0x5aeef8+_0x32419c,_0x42052b[-0x1e29*-0x1+0xc6a+-0x2a8d]=_0x1b2d87*_0x16a126+_0xc2fea6*_0x56eef1,_0x42052b[-0x1*-0x425+-0x671+-0x11*-0x23]=0x1275+0x2583+-0x37f8,_0x42052b[-0xf*-0xdc+0x5*0x58d+0x289d*-0x1]=_0x15cd75*_0x16a126+_0xc2fea6*_0x5aeef8,_0x42052b[0x1d3*-0x10+0x1de5*0x1+0x56*-0x2]=_0x1b2d87*_0x16a126-_0x56eef1*_0xc2fea6,_0x42052b[0x184d+-0x93e+-0xf05]=_0x436ed8*_0x16a126*_0x16a126+_0x32419c,_0x42052b[-0x1*0x25de+0x1*0xf53+0x1696]=0x842*-0x3+0x72d+-0x55*-0x35,_0x42052b[-0xd92+-0x3df*-0x6+-0x99c]=0x21*0x9a+0x3e5*-0x2+0x182*-0x8,_0x42052b[-0x7*0x33+-0x10d6+0x1248]=0x698+0x1921+-0x1fb9*0x1,_0x42052b[-0x2373+0x1c5+0x21bc]=-0x1127+0x1*0x594+-0x1*-0xb93,_0x42052b[0x1*0x18c+-0x65+-0x118]=-0xb8c+0x18af+0x29*-0x52,this;}['setTransla'+'te'](_0x6ccdbc,_0x3582c3,_0x15ca03){const _0x2930d1=this['data'];return _0x2930d1[-0xc26+0x20b5*0x1+0x13*-0x115]=0x22da+0x1844+-0x3b1d,_0x2930d1[0x1c9f*-0x1+-0xcac*-0x3+-0x964]=-0xb58+0x15ca+0x2*-0x539,_0x2930d1[0x1*-0xd4d+0x1b96+-0xe47]=-0x49*0x11+-0x18c2*0x1+0x1d9b,_0x2930d1[0x28*0xe4+0xf33*-0x1+-0x146a]=-0xd*-0x66+-0xd05*0x3+0x21e1,_0x2930d1[0x6e6+-0x23*-0x107+-0x2ad7]=0x6a5+0x4*0x4eb+-0x1a51,_0x2930d1[-0x4*0x79a+-0x2402+0x426f]=0x553*-0x7+-0x238*0xb+0x3dae,_0x2930d1[0x22e8+0x1c39+-0x9*0x703]=0x3*0x165+-0x22*-0x77+-0x2db*0x7,_0x2930d1[-0x8bd+0x8*-0x22c+0x1a24]=0x1d44+-0x17fe+-0x2*0x2a3,_0x2930d1[0xbbd+-0x1*0x1b59+0x7*0x23c]=0x1*0xb5a+-0x1b9b+0x1041,_0x2930d1[-0x141a+-0x3*-0xcbe+0xb*-0x1a5]=0x88*-0x3d+-0xb8f*-0x1+-0x9*-0x251,_0x2930d1[-0x4b*0x2f+-0x1079+0x1e48]=-0x1376+-0x1427+-0x279e*-0x1,_0x2930d1[-0x239*0xe+-0x452+-0x1f*-0x125]=0x96*0x25+0x149*-0x2+0x4c7*-0x4,_0x2930d1[-0xa*0x56+0x2178+-0xf08*0x2]=_0x6ccdbc,_0x2930d1[-0x1acd+-0x1ac7+0x35a1]=_0x3582c3,_0x2930d1[0x6*0x63d+-0x4ab+0x3*-0xae7]=_0x15ca03,_0x2930d1[-0xf*-0x269+0x2037+0x444f*-0x1]=-0x1284*-0x2+0x1*0x149f+-0x39a6*0x1,this;}['setScale'](_0x26f030,_0x1b176e,_0x17d793){const _0x4013ca=this['data'];return _0x4013ca[0x1*0xa3+-0x2*0x3e3+0x723]=_0x26f030,_0x4013ca[-0x1a3*0xc+0x566+0xe3f]=-0x394*-0x7+-0xfa1+0x1*-0x96b,_0x4013ca[0x895*-0x3+0x26c7+0x1*-0xd06]=0x2f*-0x4c+-0xd*-0x2a9+0x1*-0x14a1,_0x4013ca[0x9d*0x1d+-0x4*-0x393+-0x1009*0x2]=0x2*-0x2a5+-0x1569+-0x1*-0x1ab3,_0x4013ca[0x9*-0x2db+-0x2099+-0x6*-0x9b8]=-0x2191+-0xd*-0x2b0+-0x15f,_0x4013ca[0x9f4*0x2+-0x13*0x124+-0x1*-0x1c9]=_0x1b176e,_0x4013ca[0x1*0x22c6+-0x1a61*0x1+-0x85f]=0x1392+-0x6c0+-0xcd2,_0x4013ca[0x15f8+-0xa79+-0x2de*0x4]=-0x18d4+0x734+0x234*0x8,_0x4013ca[-0xae*0x33+-0x20*0x9b+0x3612]=0x21*0x61+-0x1e95+0x1214,_0x4013ca[0x26f+-0x2694+0x34a*0xb]=0x191*-0xe+0x10b8+0x536,_0x4013ca[-0x238*-0xc+0xbe1+-0x2677]=_0x17d793,_0x4013ca[-0x6a1*-0x5+0x158d+0x36a7*-0x1]=0x2291*0x1+-0x152e+-0xd63,_0x4013ca[0x120d*0x1+-0x4ff*-0x4+-0x25fd]=-0x1*0x1867+0x1*0x1a38+-0x1d1,_0x4013ca[0xe50*-0x1+0xf*0xba+0x377]=0x2e5+-0x1*-0x171d+-0xd01*0x2,_0x4013ca[0x1*0x1ece+-0x1d0f+-0x1b1]=-0xf9b+-0x424+-0x1*-0x13bf,_0x4013ca[-0x6*0x8f+0x19b8+-0x164f]=0x930*-0x3+0x640+0x1551,this;}['setViewpor'+'t'](_0x11f27c,_0x23d333,_0x3418bc,_0xc3cf98){const _0x38cefe=this['data'];return _0x38cefe[0xfbf+-0x1*0x1cca+-0x7*-0x1dd]=_0x3418bc*(0xaab+-0x1*-0x98e+0xa7*-0x1f+0.5),_0x38cefe[-0x197e*-0x1+-0x958+-0x1*0x1025]=0xc3b+-0x131*-0x1f+0x1895*-0x2,_0x38cefe[0x1401+-0x1afd+0x6fe*0x1]=0x253e+-0x1*-0x1db9+-0x42f7,_0x38cefe[0x1*0x14aa+0x1*-0xbec+-0x8bb]=0xfee*0x1+0x1549+-0x2537*0x1,_0x38cefe[-0x51d*-0x7+-0xe8e+-0x1539]=0x15c8+0x3d3+-0x199b,_0x38cefe[-0xe15+-0x1925+-0x33*-0xc5]=_0xc3cf98*(0xf58+-0xfbb*-0x1+-0x1f13+0.5),_0x38cefe[-0x2075*0x1+0xff4+-0x1087*-0x1]=-0xafd*0x3+0x404*0x8+-0x2b*-0x5,_0x38cefe[0x1d44+0x3f*0x4f+-0x30ae]=-0x1180+0x9f*-0x9+0x1717,_0x38cefe[0x2*-0x779+-0xca2+0x1b9c]=-0x22b5*0x1+-0x1da2+0x4057,_0x38cefe[0xb06*0x1+-0x928+-0x1d5]=-0x112c+-0xb8*0x2c+-0x822*-0x6,_0x38cefe[0x221*-0x5+0x2667+-0x1bb8]=-0x2559*0x1+0x81*-0x21+0x126*0x2f+0.5,_0x38cefe[-0x1*0x17e9+0xac2+0xd32]=-0x19f0+0x2200+0x2*-0x408,_0x38cefe[-0xc7a+-0xe*0x1f3+-0x16c*-0x1c]=_0x11f27c+_0x3418bc*(0x227*0x11+-0x2656+0x1bf+0.5),_0x38cefe[-0x7a2+0x6*0x608+-0x1c81]=_0x23d333+_0xc3cf98*(0x3ea*-0x2+0x584*-0x2+0x12dc*0x1+0.5),_0x38cefe[-0x3*-0xb0a+0x294+-0x23a4]=0x73e+-0x18b6+0x1*0x1178+0.5,_0x38cefe[0x92a+-0x3b7+-0x564]=-0x1*0x2393+-0x41*0x13+0x2867,this;}['setReflect'+'ion'](_0x1fc509,_0x264df6){const _0x2a2499=_0x1fc509['x'],_0x5006ab=_0x1fc509['y'],_0x5812d7=_0x1fc509['z'],_0x442431=this['data'];return _0x442431[0x173*0x17+0x1d7f+-0x3ed4]=-0x1119+-0xc*0x29+0x2*0x983-(0x1*-0x225a+0x64a+0x1c12)*_0x2a2499*_0x2a2499,_0x442431[-0x7d+-0x2*0x574+0xb66]=-(-0x67+0x1f06+-0x1e9d)*_0x2a2499*_0x5006ab,_0x442431[-0x555*-0x5+0x21c1+0x2*-0x1e34]=-(0x183e+-0x1b6b*-0x1+0x7*-0x761)*_0x2a2499*_0x5812d7,_0x442431[0x12c1+0x9f5*-0x2+-0x6*-0x32]=-0x9b7*-0x2+-0x8a*-0x33+0x111*-0x2c,_0x442431[-0x15d0+0x296*-0x6+0x2558]=-(0x16a+0xb*0x279+0x3*-0x989)*_0x2a2499*_0x5006ab,_0x442431[-0x287*0xb+0x2*0x3eb+-0x1*-0x13fc]=-0x4c*0x54+0x431+0x14c0-(0x7ef+0x2015*-0x1+0x1828)*_0x5006ab*_0x5006ab,_0x442431[-0x24c*-0x11+0x16*-0x167+-0x416*0x2]=-(0x7ac+0x1*0xac+-0x61*0x16)*_0x5006ab*_0x5812d7,_0x442431[-0x6ad*0x3+0x2c+0x13e2]=-0x1*0x9c2+-0x255f+0x2f21,_0x442431[-0x236c+0xf8*-0x23+0x1*0x455c]=-(0x213f*0x1+0xd*-0x283+-0x96)*_0x2a2499*_0x5812d7,_0x442431[0x643*-0x1+0x74*-0x35+0x1e50]=-(0x3*-0xe5+-0x1*-0x940+-0x68f)*_0x5006ab*_0x5812d7,_0x442431[0x4c8+-0x5*0xa+-0x1*0x48c]=0x115b*-0x2+0x2cc*0x8+0xc57-(0x16b1+0xbc*-0x28+0x6b1)*_0x5812d7*_0x5812d7,_0x442431[0x1d4f+-0x259e+0x85a]=0x2*0x21a+-0x1ec3+0x1a8f,_0x442431[-0xb43*-0x2+0x1*-0x130a+-0x370]=-(-0x1f92+-0x997+0x292b)*_0x2a2499*_0x264df6,_0x442431[0x2544+-0x17*0x14d+-0x74c]=-(0x1b*-0x95+0x4*-0x65a+-0x2921*-0x1)*_0x5006ab*_0x264df6,_0x442431[0x2f*-0x17+-0x18*0xc5+-0x795*-0x3]=-(-0x1c8d+-0x15*0x171+-0x1f6*-0x1e)*_0x5812d7*_0x264df6,_0x442431[-0x1*0xc0d+0x116d+0x1*-0x551]=-0x2a5*0x6+0x69f+0x940,this;}['invert'](_0x2b1380=this){const _0x488b5d=_0x2b1380['data'],_0x1fbc1e=_0x488b5d[-0x59e+-0x2598+0x2b36],_0x4a3875=_0x488b5d[-0x209d+-0x2205+0x42a3*0x1],_0x157f57=_0x488b5d[-0x993+-0x84d+0x11e2],_0x4db430=_0x488b5d[-0x1*-0x1d15+-0xc7a+-0x8*0x213],_0x2b93b8=_0x488b5d[0xb1f+-0xfb*0x4+0x1*-0x72f],_0x26ccf8=_0x488b5d[-0x184*0x2+0x202+-0x10b*-0x1],_0x5de5f2=_0x488b5d[0x26de*-0x1+-0x74f+-0x1*-0x2e33],_0x555818=_0x488b5d[-0x6ff+0x2*0x1e2+0x3*0x116],_0xfdc5ab=_0x488b5d[0x1305+-0x1119*-0x1+-0x2416],_0x36492f=_0x488b5d[-0xd4d+0x1af7+-0xda1],_0x12700d=_0x488b5d[0x45c*-0x3+0x1942+-0x1c*0x6f],_0xdb7d07=_0x488b5d[-0x819*-0x2+-0xc1*-0x18+-0x223f],_0x311e64=_0x488b5d[0x2462+0x1*0x232c+0x153*-0x36],_0x48652f=_0x488b5d[0x259a*0x1+0x769+-0x2cf6],_0x3663c1=_0x488b5d[-0x18ce+-0x17e*0x1a+-0x7*-0x918],_0x22070d=_0x488b5d[-0x2b*0x49+0x1*-0x268+0xeba],_0xbe009f=_0x1fbc1e*_0x26ccf8-_0x4a3875*_0x2b93b8,_0x5daa8f=_0x1fbc1e*_0x5de5f2-_0x157f57*_0x2b93b8,_0x2240ac=_0x1fbc1e*_0x555818-_0x4db430*_0x2b93b8,_0x9d30d4=_0x4a3875*_0x5de5f2-_0x157f57*_0x26ccf8,_0xedc732=_0x4a3875*_0x555818-_0x4db430*_0x26ccf8,_0x2612a7=_0x157f57*_0x555818-_0x4db430*_0x5de5f2,_0x2f65f8=_0xfdc5ab*_0x48652f-_0x36492f*_0x311e64,_0x205f71=_0xfdc5ab*_0x3663c1-_0x12700d*_0x311e64,_0x417493=_0xfdc5ab*_0x22070d-_0xdb7d07*_0x311e64,_0x1d39fd=_0x36492f*_0x3663c1-_0x12700d*_0x48652f,_0x36a5c3=_0x36492f*_0x22070d-_0xdb7d07*_0x48652f,_0x252019=_0x12700d*_0x22070d-_0xdb7d07*_0x3663c1,_0x367a2b=_0xbe009f*_0x252019-_0x5daa8f*_0x36a5c3+_0x2240ac*_0x1d39fd+_0x9d30d4*_0x417493-_0xedc732*_0x205f71+_0x2612a7*_0x2f65f8;if(_0x367a2b===0x1*0x1877+-0x2678+-0x2cd*-0x5)this['setIdentit'+'y']();else{const _0x30b4c6=(0x2*-0x20a+-0x220f+-0x1*-0x2624)/_0x367a2b,_0x20be69=this['data'];_0x20be69[-0x536*-0x1+-0x2*0x5d5+0x674]=(_0x26ccf8*_0x252019-_0x5de5f2*_0x36a5c3+_0x555818*_0x1d39fd)*_0x30b4c6,_0x20be69[0x14a3+-0xd*0x151+0x35*-0x11]=(-_0x4a3875*_0x252019+_0x157f57*_0x36a5c3-_0x4db430*_0x1d39fd)*_0x30b4c6,_0x20be69[-0x1e4c+-0x1a4b+-0x1*-0x3899]=(_0x48652f*_0x2612a7-_0x3663c1*_0xedc732+_0x22070d*_0x9d30d4)*_0x30b4c6,_0x20be69[-0x395+-0x1*0x135d+0x16f5]=(-_0x36492f*_0x2612a7+_0x12700d*_0xedc732-_0xdb7d07*_0x9d30d4)*_0x30b4c6,_0x20be69[-0xf31*-0x2+-0x1ad4+-0x1*0x38a]=(-_0x2b93b8*_0x252019+_0x5de5f2*_0x417493-_0x555818*_0x205f71)*_0x30b4c6,_0x20be69[0x1a3f+-0x19b2+-0x88]=(_0x1fbc1e*_0x252019-_0x157f57*_0x417493+_0x4db430*_0x205f71)*_0x30b4c6,_0x20be69[-0xfe0*0x2+0x10bc+-0x46*-0x37]=(-_0x311e64*_0x2612a7+_0x3663c1*_0x2240ac-_0x22070d*_0x5daa8f)*_0x30b4c6,_0x20be69[-0x1*-0x13b1+-0x15f2+0x4*0x92]=(_0xfdc5ab*_0x2612a7-_0x12700d*_0x2240ac+_0xdb7d07*_0x5daa8f)*_0x30b4c6,_0x20be69[-0x21f5+0x11*0x1a1+0x64c]=(_0x2b93b8*_0x36a5c3-_0x26ccf8*_0x417493+_0x555818*_0x2f65f8)*_0x30b4c6,_0x20be69[0x6*-0x43+0x1*-0x248e+0x2629]=(-_0x1fbc1e*_0x36a5c3+_0x4a3875*_0x417493-_0x4db430*_0x2f65f8)*_0x30b4c6,_0x20be69[0x1201*0x2+0xf*-0x95+-0x1b3d]=(_0x311e64*_0xedc732-_0x48652f*_0x2240ac+_0x22070d*_0xbe009f)*_0x30b4c6,_0x20be69[0x122+0x5d*-0xd+-0x3a2*-0x1]=(-_0xfdc5ab*_0xedc732+_0x36492f*_0x2240ac-_0xdb7d07*_0xbe009f)*_0x30b4c6,_0x20be69[0x27a*0x4+0xe53+-0x182f]=(-_0x2b93b8*_0x1d39fd+_0x26ccf8*_0x205f71-_0x5de5f2*_0x2f65f8)*_0x30b4c6,_0x20be69[0x25*-0x3f+0x8*-0x1b7+0xb7*0x20]=(_0x1fbc1e*_0x1d39fd-_0x4a3875*_0x205f71+_0x157f57*_0x2f65f8)*_0x30b4c6,_0x20be69[0x148d+0x9*0xfb+-0x1d52]=(-_0x311e64*_0x9d30d4+_0x48652f*_0x5daa8f-_0x3663c1*_0xbe009f)*_0x30b4c6,_0x20be69[0x1432+0x13*-0x2b+0x9*-0x1e2]=(_0xfdc5ab*_0x9d30d4-_0x36492f*_0x5daa8f+_0x12700d*_0xbe009f)*_0x30b4c6;}return this;}['set'](_0x4a7dcf){const _0x360d3b=this['data'];return _0x360d3b[0x11*0x8a+0xef1+-0x181b]=_0x4a7dcf[-0x54a+-0xb6b+0x10b5],_0x360d3b[0x1*-0x1ad8+0x1070+0xcd*0xd]=_0x4a7dcf[0x1*-0x1e4d+-0xb95+0x29e3],_0x360d3b[-0x217*-0x3+-0x1568+0xf25]=_0x4a7dcf[-0x1*-0x10da+-0x2569+0x1491],_0x360d3b[0xdda+0x1477+-0x224e]=_0x4a7dcf[-0x1abd+0x1a8+0x248*0xb],_0x360d3b[0x5e8+-0x21f1+0x1*0x1c0d]=_0x4a7dcf[0x2*-0xdab+0x7d*-0x4f+0x41ed],_0x360d3b[-0x385+0x80*0x4+0x18a]=_0x4a7dcf[-0x2604+0x1756+0xeb3],_0x360d3b[0xedb+0x1d5e+-0x2c33]=_0x4a7dcf[0x598+0x14e*-0x19+0x1b0c],_0x360d3b[-0x1ca0+0xc19*-0x1+0x28c0]=_0x4a7dcf[-0x18cf+0x1d9b+-0x6f*0xb],_0x360d3b[0x2c3*0xd+-0xaed*0x2+-0x25*0x61]=_0x4a7dcf[-0x1fc4+-0x220f+0x41db],_0x360d3b[-0x5e2+-0x107f+0x166a]=_0x4a7dcf[-0xa5+-0x68c+0x4a*0x19],_0x360d3b[-0xc66+0x13*0x11d+0x17*-0x61]=_0x4a7dcf[-0x200+0x1*0x117+0xf3],_0x360d3b[-0x143*-0x8+0xc9e+-0x16ab]=_0x4a7dcf[-0x317+-0x1f05+-0x4e1*-0x7],_0x360d3b[0x9b8+-0xf9c+0x5f0]=_0x4a7dcf[-0x5*-0x4cd+-0x3b*-0x8d+-0x3874],_0x360d3b[0x159f+0x13*-0x139+0x1a9]=_0x4a7dcf[0x1*0x839+-0x182d+0x1001],_0x360d3b[0x332*0xc+0x1e5c+-0x44a6]=_0x4a7dcf[0x1*-0x107+-0x152*-0x1+-0x3d],_0x360d3b[0x8bb+0x5e8+-0xe94]=_0x4a7dcf[0xa06+-0x172b+-0x41*-0x34],this;}['setIdentit'+'y'](){const _0x505e2c=this['data'];return _0x505e2c[-0xd*0x1d+0x2498+0x51*-0x6f]=0xe80+0x233f*0x1+-0x31be,_0x505e2c[0x587+-0x3*-0x971+0x6c5*-0x5]=-0x1f69+0x2262+0x2f9*-0x1,_0x505e2c[0x85*-0x1f+0x1a8+0x1*0xe75]=0x17*0x6b+0x154c+0xc1*-0x29,_0x505e2c[-0x2378+-0xe6*0x9+0x2b91]=0xb*0x287+0x1ad0+-0x369d,_0x505e2c[0xac9+0x6c*0x1d+-0x1701]=0xb9*0x3+-0x212c+0x1f01,_0x505e2c[0x1a45+0xb4b+-0x7*0x55d]=0x1*0xbb3+-0x1e5+-0x9cd*0x1,_0x505e2c[-0x1*0x7db+0x6a*0x4+-0x213*-0x3]=-0x1c0d+-0x177e+0x338b,_0x505e2c[-0x1*0x1b37+0x1260+0x1c6*0x5]=-0x3*-0xc01+0x25b7*0x1+-0x49ba*0x1,_0x505e2c[0x1c71+0x17d8+0xd*-0x405]=0xec5+-0x1*0x1b31+0xc6c,_0x505e2c[-0x87*0x2e+-0x19c4+0x320f]=0x81b+-0x59*-0xb+-0xbee,_0x505e2c[-0x3ae*0x7+0x2*-0xb31+0x302e]=-0xc0d+-0x1ef1+0x2aff,_0x505e2c[-0x718+-0xf3*0x1b+-0x576*-0x6]=0x1808*-0x1+0x33e*-0x9+0x3536,_0x505e2c[0x980+-0x26cf*-0x1+-0x3043]=0xb91*-0x1+-0x1*0x1047+0x3*0x948,_0x505e2c[-0x68e+-0x1f98+-0x379*-0xb]=0x1*0x13+0x1b55+-0x1*0x1b68,_0x505e2c[0xa5*-0x23+0x13*-0x20b+0x3d6e]=0x57c+-0x3*0x7c9+-0x131*-0xf,_0x505e2c[0x775+-0x1878+0x1112]=-0x576+0x1*-0x1f+-0xd*-0x6e,this;}['setTRS'](_0x204b03,_0xd4090d,_0x558473){const _0x2b57aa=_0xd4090d['x'],_0x4f90b8=_0xd4090d['y'],_0x2f62b8=_0xd4090d['z'],_0x5c9296=_0xd4090d['w'],_0x23e382=_0x558473['x'],_0xe0b9fe=_0x558473['y'],_0x38cf93=_0x558473['z'],_0x33a015=_0x2b57aa+_0x2b57aa,_0x2f17a9=_0x4f90b8+_0x4f90b8,_0x19fbfb=_0x2f62b8+_0x2f62b8,_0x33bc25=_0x2b57aa*_0x33a015,_0xab57a9=_0x2b57aa*_0x2f17a9,_0x98c898=_0x2b57aa*_0x19fbfb,_0x261af4=_0x4f90b8*_0x2f17a9,_0x57ca02=_0x4f90b8*_0x19fbfb,_0x4b7064=_0x2f62b8*_0x19fbfb,_0x366ea0=_0x5c9296*_0x33a015,_0x3e9f3d=_0x5c9296*_0x2f17a9,_0x229769=_0x5c9296*_0x19fbfb,_0x24e753=this['data'];return _0x24e753[0x1*-0x17e0+0xd5*-0x5+0x1c09]=(-0x52*-0x19+0x1f*-0x6+0x45*-0x1b-(_0x261af4+_0x4b7064))*_0x23e382,_0x24e753[-0x7c+0x2*0xc17+-0x17b1]=(_0xab57a9+_0x229769)*_0x23e382,_0x24e753[0x383+0x2*0x1373+-0x2a67]=(_0x98c898-_0x3e9f3d)*_0x23e382,_0x24e753[-0x1d*-0xa7+-0x1667+0x5*0xb3]=-0xb+0x1d*-0xa2+0x1265,_0x24e753[-0x28+0x1e2e+-0x1e02]=(_0xab57a9-_0x229769)*_0xe0b9fe,_0x24e753[0x8f5+-0xc27+0x337*0x1]=(-0xd55+0x3*0xb9b+-0x157b*0x1-(_0x33bc25+_0x4b7064))*_0xe0b9fe,_0x24e753[-0x1*0x23a7+-0x200d+0x43ba]=(_0x57ca02+_0x366ea0)*_0xe0b9fe,_0x24e753[0x12b1+0x18+-0x12c2]=0x1*-0x4cc+-0x10*0x1f6+0x242c,_0x24e753[-0x771+0x6c7*0x3+-0xcdc]=(_0x98c898+_0x3e9f3d)*_0x38cf93,_0x24e753[0x615+-0xb*-0x2a8+-0x8d1*0x4]=(_0x57ca02-_0x366ea0)*_0x38cf93,_0x24e753[0x76*0x2+-0x6c6*0x1+0x2*0x2f2]=(0x3*0x5f7+-0xa0f+-0x5*0x191-(_0x33bc25+_0x261af4))*_0x38cf93,_0x24e753[-0xa42+0x2636+-0x1be9*0x1]=-0x10b4*0x1+0xb3c+0x578,_0x24e753[-0x30b*0x8+-0x1*0x614+0x1e78]=_0x204b03['x'],_0x24e753[-0x28*-0x26+-0x2554+0x1f71]=_0x204b03['y'],_0x24e753[-0x257c+0x17*-0xdd+-0x7*-0x833]=_0x204b03['z'],_0x24e753[0x24ac*-0x1+0x11e5+-0x12d6*-0x1]=-0x4*0x427+0x2639*-0x1+0x36d6,this;}['transpose'](_0x31b865=this){const _0x39ea3c=_0x31b865['data'],_0x1f9339=this['data'];if(_0x39ea3c===_0x1f9339){let _0x37c9fe;_0x37c9fe=_0x39ea3c[0x6*0x76+-0x146*-0x1a+-0x23df*0x1],_0x1f9339[0x90e*-0x4+0x1*-0xd1e+0x3157]=_0x39ea3c[0x4*-0x34b+-0x1812*0x1+-0x1*-0x2542],_0x1f9339[0x1105*0x1+0x1c3f+0x16a*-0x20]=_0x37c9fe,_0x37c9fe=_0x39ea3c[0x84a*0x3+0x466+-0x1d42],_0x1f9339[-0x155e+-0xc1e+0x217e]=_0x39ea3c[-0x18fd+0x7a2*-0x3+0x1d*0x1a7],_0x1f9339[0x2091+-0x197d+0x16*-0x52]=_0x37c9fe,_0x37c9fe=_0x39ea3c[0x2025+0x1eab+0x3ecd*-0x1],_0x1f9339[0x1a0f+0xb77+-0x2583]=_0x39ea3c[0x10*-0xad+0xafa+-0x1e],_0x1f9339[-0x1*-0x1893+-0x1*-0x3c4+-0x1c4b]=_0x37c9fe,_0x37c9fe=_0x39ea3c[-0x2408+-0x1*-0x641+0x1dcd],_0x1f9339[-0x31+0x3*0x6c5+-0x1*0x1418]=_0x39ea3c[-0x15ab+-0x42*0x37+0x23e2],_0x1f9339[-0xd8b+0x25e5*0x1+-0x53*0x4b]=_0x37c9fe,_0x37c9fe=_0x39ea3c[0x3c7*-0x8+-0x1204*0x1+0x23*0x161],_0x1f9339[0x1*0x1636+-0xdbc+-0x873]=_0x39ea3c[-0x2238+0x1577+0xcce],_0x1f9339[-0x3a5*-0x6+-0x1*-0xcb+-0x169c]=_0x37c9fe,_0x37c9fe=_0x39ea3c[0x4b3+-0x506+0x5e*0x1],_0x1f9339[-0x108f+-0x97e+0x1a18]=_0x39ea3c[-0x60+-0x991*-0x3+-0x1c45],_0x1f9339[-0x995+-0x17d7*-0x1+-0xe34]=_0x37c9fe;}else _0x1f9339[0x9a*-0xd+0x10dd*-0x2+0x298c]=_0x39ea3c[0xdd9+0x2690+0x1*-0x3469],_0x1f9339[-0x1*-0x565+0x263a+-0x2b9e]=_0x39ea3c[0x7fe+0x2a6+-0xaa0],_0x1f9339[-0x1f*-0x4d+0x1468+-0x1db9]=_0x39ea3c[-0xee8+-0x1bdf+0x119*0x27],_0x1f9339[0x2*-0x481+0x1f79+-0x1674]=_0x39ea3c[0xa63*-0x1+-0x145*0x11+-0x1002*-0x2],_0x1f9339[-0xc7f*-0x3+-0x1925+-0xc54*0x1]=_0x39ea3c[0x34*-0x5e+0xeba+-0x3*-0x175],_0x1f9339[-0xe*-0x1ac+-0x65a+-0x7*0x26f]=_0x39ea3c[-0x18c4+0x1*0xd5b+0xb6e],_0x1f9339[0x7ab+-0x1a92*0x1+0x33*0x5f]=_0x39ea3c[0x335*0x1+0x1d6c+-0x2098],_0x1f9339[-0x4*-0x17+0x257e+-0x25d3]=_0x39ea3c[0xc42+0xc02+-0x1837],_0x1f9339[-0x5e1*-0x1+0x59*-0x23+0x652]=_0x39ea3c[-0x1d9d+-0x1fe3*0x1+0x1ec1*0x2],_0x1f9339[0xfd*-0x12+0x2567+-0x1394]=_0x39ea3c[0x7*-0x117+-0x1ce*0xc+0x1d4f],_0x1f9339[-0x3*0xdb+-0x1f2a+-0x1*-0x21c5]=_0x39ea3c[0x19a6+-0xef2+-0xaaa],_0x1f9339[0x20ab+0x910+-0x74*0x5c]=_0x39ea3c[0x1*-0x11d7+0x12*-0x152+-0x87*-0x4f],_0x1f9339[-0x14bd+0x25cd+-0x1104]=_0x39ea3c[0x1*-0x1a35+-0x1569+0x2fa1],_0x1f9339[0x1*-0xd6d+-0x5*0x15+-0x1*-0xde3]=_0x39ea3c[-0x1*0x1c9c+0x1*0x9d+-0x22*-0xd3],_0x1f9339[-0x135b+0x5df+0x1*0xd8a]=_0x39ea3c[0xc82+-0x2104+0x148d],_0x1f9339[0x166*-0x19+0x1*-0x12d1+-0x1*-0x35d6]=_0x39ea3c[0x111*-0x5+-0x3f+0x5a3];return this;}['getTransla'+'tion'](_0x5d5359=new T()){return _0x5d5359['set'](this['data'][0x3fd*-0x4+0x18e+0x739*0x2],this['data'][-0x17*0xa4+0x231f+-0x1456],this['data'][0x6e7+0xd8d*0x1+0x1*-0x1466]);}['getX'](_0x267f75=new T()){return _0x267f75['set'](this['data'][0xf9e+0x24a+0x2fc*-0x6],this['data'][-0x1b71+-0x1*-0xb32+0x1040],this['data'][0x61*-0x40+-0x4*0x12d+-0x151*-0x16]);}['getY'](_0x40bf90=new T()){return _0x40bf90['set'](this['data'][-0xcbb*0x1+0x213a*0x1+0x31*-0x6b],this['data'][-0x1*-0x7a+0x2*-0x35d+-0x141*-0x5],this['data'][-0x1105+-0x20d6+-0x71*-0x71]);}['getZ'](_0x2ace2f=new T()){return _0x2ace2f['set'](this['data'][0x3*-0x3eb+-0x2*-0x4c4+0x241],this['data'][-0x118c*-0x2+-0x1e43*0x1+0x4cc*-0x1],this['data'][-0x153*-0xd+0x209*0x4+-0x1951*0x1]);}['getScale'](_0x3c48ac=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x3c48ac['set'](us['length'](),Fs['length'](),Os['length']()),_0x3c48ac;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<-0x167+0x143+0x24?-(-0x7d3+-0x5bd*0x1+-0x97*-0x17):0x110*-0xf+-0x68a+0x167b;}['setFromEul'+'erAngles'](_0x4ab26d,_0x37c482,_0x22eb13){_0x4ab26d*=N['DEG_TO_RAD'],_0x37c482*=N['DEG_TO_RAD'],_0x22eb13*=N['DEG_TO_RAD'];const _0x243fbe=Math['sin'](-_0x4ab26d),_0x4e9e79=Math['cos'](-_0x4ab26d),_0x1b074d=Math['sin'](-_0x37c482),_0xcf8501=Math['cos'](-_0x37c482),_0x2296d4=Math['sin'](-_0x22eb13),_0x2bea98=Math['cos'](-_0x22eb13),_0x2b0158=this['data'];return _0x2b0158[0x4*0x8ab+-0x5*-0x645+-0x4205]=_0xcf8501*_0x2bea98,_0x2b0158[0x23*-0xa5+-0x92c+0x1fbc]=-_0xcf8501*_0x2296d4,_0x2b0158[0xdd*0xf+-0x655+-0x69c]=_0x1b074d,_0x2b0158[0x10*0x1ce+0x2e1*0xd+0xa*-0x6a1]=0x3bb+-0x2156+0x1d9b,_0x2b0158[-0x9d*-0x1c+0x119*-0xa+-0x62e]=_0x4e9e79*_0x2296d4+_0x2bea98*_0x243fbe*_0x1b074d,_0x2b0158[-0x1*0x2511+0x1d84+-0x13*-0x66]=_0x4e9e79*_0x2bea98-_0x243fbe*_0x1b074d*_0x2296d4,_0x2b0158[-0x228a*0x1+0x62e+-0x2*-0xe31]=-_0xcf8501*_0x243fbe,_0x2b0158[0xdb5+0x310+-0x1*0x10be]=-0x1c*0x13+0xbc9*-0x1+-0x1fb*-0x7,_0x2b0158[0x1c78+-0xfc2+0x1*-0xcae]=_0x243fbe*_0x2296d4-_0x4e9e79*_0x2bea98*_0x1b074d,_0x2b0158[0x7*0x1fd+-0xd*0x10d+0x3*-0x13]=_0x2bea98*_0x243fbe+_0x4e9e79*_0x1b074d*_0x2296d4,_0x2b0158[-0x16e9+-0x8de*0x1+0x65d*0x5]=_0x4e9e79*_0xcf8501,_0x2b0158[-0x1*-0xe6b+-0xc2a+-0x1*0x236]=-0x1363+-0xda8+0x301*0xb,_0x2b0158[0x1*-0xaa1+0x118c+-0x6df]=0x1*-0x6aa+-0x2126+0x27d0,_0x2b0158[0x2405+0x24f6+-0x48ee]=-0x4cd+0x25*0x6d+0x57a*-0x2,_0x2b0158[0x1*0x187f+0xd0+-0x1941]=0xc5e+0x142a+0x2b6*-0xc,_0x2b0158[0x1d4f+-0x108c+-0xcb4]=-0x1d51+-0xc5*0x22+0xddf*0x4,this;}['getEulerAn'+'gles'](_0x5dc095=new T()){this['getScale'](_l);const _0x2c2f28=_l['x'],_0x438113=_l['y'],_0x1032ea=_l['z'];if(_0x2c2f28===-0x1da+-0x4f7+-0x15d*-0x5||_0x438113===-0x1d8d+0xa1*-0x7+0x4*0x87d||_0x1032ea===0x1f9e+-0x1d6*0xd+-0x7c0)return _0x5dc095['set'](-0x1a1a+0x4fe*-0x3+-0x1*-0x2914,0x794+-0x7ea+0x56,0x1e6e+-0x6*-0x435+0x1bd6*-0x2);const _0x4f4e36=this['data'],_0xfaebd=Math['asin'](-_0x4f4e36[-0xf71+-0x230b*0x1+-0x2e*-0x119]/_0x2c2f28),_0x5995b5=Math['PI']*(-0x1e86+-0x22de+0x4164+0.5);let _0x33c441,_0xf18ce5;return _0xfaebd<_0x5995b5?_0xfaebd>-_0x5995b5?(_0x33c441=Math['atan2'](_0x4f4e36[0x1e0b+-0xb5*0x3+0xdf3*-0x2]/_0x438113,_0x4f4e36[-0x6d*-0xa+-0x12a7+-0x5*-0x2e3]/_0x1032ea),_0xf18ce5=Math['atan2'](_0x4f4e36[0x682+0x2*0x11c5+-0x2a0b]/_0x2c2f28,_0x4f4e36[0x1233+0x2ff*0x7+-0x272c]/_0x2c2f28)):(_0xf18ce5=-0x1026*-0x1+0x1959+0x3*-0xdd5,_0x33c441=-Math['atan2'](_0x4f4e36[-0x777+-0x245b+0x2bd6]/_0x438113,_0x4f4e36[0x1e09+-0x513*0x3+-0x1*0xecb]/_0x438113)):(_0xf18ce5=-0xba2*-0x2+-0x1321+0x3*-0x161,_0x33c441=Math['atan2'](_0x4f4e36[0xe8e*-0x1+0x694+0x7fe]/_0x438113,_0x4f4e36[0x1a5*-0x4+-0x19c*0x14+0x26c9]/_0x438113)),_0x5dc095['set'](_0x33c441,_0xfaebd,_0xf18ce5)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([-0x66*-0x4+-0xbe3+0x5*0x20f,-0x12b1+0x498+0x191*0x9,0x1cd4*0x1+-0x1ee9+0x215,-0x201*0x5+-0x1336*-0x2+-0x1c67,0x7e4*-0x1+-0xebf+0x16a3,0x6*0x1dd+-0x213f+0x1611,-0x15f*0x12+-0x2*-0xd6a+-0x226,-0xf4a+-0x860+0x17aa,-0x3*-0x5e2+-0xd7e+-0x428,-0x17ca+0x11*0xa9+0xc91,0x373*-0xb+0x2*-0x3a4+0x1*0x2d39,0x2358+0x979*-0x1+-0x19df*0x1,-0x901*-0x1+-0xf12+0x611,-0x9b5+-0x1dd*0x7+0x16c*0x10,0x1d16+-0x1e00+0xea,-0x18f5+0x7a9+0x9*0x1ec])));let q=Ur;const aa=class aa{constructor(_0xd470a=0x9*0x216+0x3b4+0x112*-0x15,_0x415fb6=-0x58*0x34+0x1*-0x2232+0xa*0x535,_0x39444c=0x21ef+-0x2490+0x2a1*0x1,_0x268328=0x12*0x3+-0x2705+0x26d0){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0xd470a['length']===0x12d7*0x1+0x1cc4+-0x2f97*0x1?(this['x']=_0xd470a[0x27*-0x3c+-0x26c3+0x2fe7],this['y']=_0xd470a[0x11ad+0x5*-0x30d+0x1*-0x26b],this['z']=_0xd470a[0x13*-0x139+-0x21d5+0x3912],this['w']=_0xd470a[-0xae1+-0x24bb+-0x1*-0x2f9f]):(this['x']=_0xd470a,this['y']=_0x415fb6,this['z']=_0x39444c,this['w']=_0x268328);}['clone'](){const _0x188f06=this['constructo'+'r'];return new _0x188f06(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x2bd108=this){return this['x']=_0x2bd108['x']*-(-0x1b10+0x148e+-0x1*-0x683),this['y']=_0x2bd108['y']*-(-0x7*-0x2c5+-0xdd5+0x1d*-0x31),this['z']=_0x2bd108['z']*-(0x8*-0x2dd+0x1*-0x22a7+0x732*0x8),this['w']=_0x2bd108['w'],this;}['copy'](_0x31a826){return this['x']=_0x31a826['x'],this['y']=_0x31a826['y'],this['z']=_0x31a826['z'],this['w']=_0x31a826['w'],this;}['equals'](_0x19cebc){return this['x']===_0x19cebc['x']&&this['y']===_0x19cebc['y']&&this['z']===_0x19cebc['z']&&this['w']===_0x19cebc['w'];}['equalsAppr'+'ox'](_0x581069,_0x3b81c2=-0x5*-0x675+0x4*-0x8cc+0x2e7+0.000001){return Math['abs'](this['x']-_0x581069['x'])<_0x3b81c2&&Math['abs'](this['y']-_0x581069['y'])<_0x3b81c2&&Math['abs'](this['z']-_0x581069['z'])<_0x3b81c2&&Math['abs'](this['w']-_0x581069['w'])<_0x3b81c2;}['getAxisAng'+'le'](_0x34bd93){let _0x1eefcc=Math['acos'](this['w'])*(-0x787+0x398*0x2+0x59);const _0x4778c1=Math['sin'](_0x1eefcc/(0x1*0x743+-0x2bc+0x59*-0xd));return _0x4778c1!==-0x23fb+-0x1631+0x3a2c?(_0x34bd93['x']=this['x']/_0x4778c1,_0x34bd93['y']=this['y']/_0x4778c1,_0x34bd93['z']=this['z']/_0x4778c1,(_0x34bd93['x']<0x95*-0x39+0x2466+-0x339||_0x34bd93['y']<0x251+0xe8*-0xe+-0x5*-0x213||_0x34bd93['z']<-0x1789+-0x25f3+-0x313*-0x14)&&(_0x34bd93['x']*=-(-0x184a*-0x1+-0x45*-0x35+-0x2692),_0x34bd93['y']*=-(-0x214f*-0x1+0x16b*0x3+-0x258f),_0x34bd93['z']*=-(-0x10*-0x18a+-0xc97*0x1+0x23*-0x58),_0x1eefcc*=-(0x9bb*0x1+0x268c+0x14e*-0x25))):(_0x34bd93['x']=0xea5+-0x1c23+0xd7f,_0x34bd93['y']=-0x15be+0x26cc+-0x2*0x887,_0x34bd93['z']=0x1b*0x39+-0x101+-0x502),_0x1eefcc*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x548954=new T()){let _0x3a14f8,_0x30fdcf,_0xc9973;const _0x49cdbd=this['x'],_0x5e8942=this['y'],_0x54b2c9=this['z'],_0x18fb21=this['w'],_0x25eb2b=(0xc16+0xa08+0x5*-0x46c)*(_0x18fb21*_0x5e8942-_0x49cdbd*_0x54b2c9);return _0x25eb2b<=-(0x26*-0x2d+0x1*0xf29+-0xd*0xa7+0.99999)?(_0x3a14f8=(0xfdc+0xd93+-0x9*0x345)*Math['atan2'](_0x49cdbd,_0x18fb21),_0x30fdcf=-Math['PI']/(-0x24f4+-0x1c7+0x26bd),_0xc9973=-0xec*-0x1+0x2*-0x2b0+0xa*0x72):_0x25eb2b>=-0xe*0x275+0x1789+-0x1b*-0x67+0.99999?(_0x3a14f8=(0x60f*-0x1+-0x1*-0xe47+-0x836)*Math['atan2'](_0x49cdbd,_0x18fb21),_0x30fdcf=Math['PI']/(-0x1*0x141d+0xd6c*-0x2+0x2ef7),_0xc9973=0x1172+0x1*0x1b57+-0x2cc9):(_0x3a14f8=Math['atan2']((0x1*0x9c7+0x1*-0x1b7f+0x11ba)*(_0x18fb21*_0x49cdbd+_0x5e8942*_0x54b2c9),0x1a45+0x242*0xe+0x1cf*-0x20-(-0xef3*0x2+0xda9+0x103f)*(_0x49cdbd*_0x49cdbd+_0x5e8942*_0x5e8942)),_0x30fdcf=Math['asin'](_0x25eb2b),_0xc9973=Math['atan2']((-0x7ab+0x607*-0x2+-0x1*-0x13bb)*(_0x18fb21*_0x54b2c9+_0x49cdbd*_0x5e8942),-0x1*-0x15a4+0x1df5+0x3398*-0x1-(-0x964+0x107c+-0x716)*(_0x5e8942*_0x5e8942+_0x54b2c9*_0x54b2c9))),_0x548954['set'](_0x3a14f8,_0x30fdcf,_0xc9973)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x513373=this){return this['conjugate'](_0x513373)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x14269f){const _0x19437b=this['x'],_0x2288ba=this['y'],_0x3f2d7a=this['z'],_0x3e7c8e=this['w'],_0x16ddf8=_0x14269f['x'],_0x50ef58=_0x14269f['y'],_0x39ccdf=_0x14269f['z'],_0x30c666=_0x14269f['w'];return this['x']=_0x3e7c8e*_0x16ddf8+_0x19437b*_0x30c666+_0x2288ba*_0x39ccdf-_0x3f2d7a*_0x50ef58,this['y']=_0x3e7c8e*_0x50ef58+_0x2288ba*_0x30c666+_0x3f2d7a*_0x16ddf8-_0x19437b*_0x39ccdf,this['z']=_0x3e7c8e*_0x39ccdf+_0x3f2d7a*_0x30c666+_0x19437b*_0x50ef58-_0x2288ba*_0x16ddf8,this['w']=_0x3e7c8e*_0x30c666-_0x19437b*_0x16ddf8-_0x2288ba*_0x50ef58-_0x3f2d7a*_0x39ccdf,this;}['mulScalar'](_0x107cde,_0x34eb79=this){return this['x']=_0x34eb79['x']*_0x107cde,this['y']=_0x34eb79['y']*_0x107cde,this['z']=_0x34eb79['z']*_0x107cde,this['w']=_0x34eb79['w']*_0x107cde,this;}['mul2'](_0xbc653,_0x598587){const _0xa8468f=_0xbc653['x'],_0x59b989=_0xbc653['y'],_0x449425=_0xbc653['z'],_0x34167b=_0xbc653['w'],_0x45c945=_0x598587['x'],_0x1382c2=_0x598587['y'],_0x586edd=_0x598587['z'],_0x427fe0=_0x598587['w'];return this['x']=_0x34167b*_0x45c945+_0xa8468f*_0x427fe0+_0x59b989*_0x586edd-_0x449425*_0x1382c2,this['y']=_0x34167b*_0x1382c2+_0x59b989*_0x427fe0+_0x449425*_0x45c945-_0xa8468f*_0x586edd,this['z']=_0x34167b*_0x586edd+_0x449425*_0x427fe0+_0xa8468f*_0x1382c2-_0x59b989*_0x45c945,this['w']=_0x34167b*_0x427fe0-_0xa8468f*_0x45c945-_0x59b989*_0x1382c2-_0x449425*_0x586edd,this;}['normalize'](_0x3c3b75=this){let _0x610ea5=_0x3c3b75['length']();return _0x610ea5===-0x11*-0x24b+0x20b1*0x1+-0x47ac?(this['x']=this['y']=this['z']=0x159f+0x2232+-0x37d1,this['w']=-0x1506+-0x577+0x1*0x1a7e):(_0x610ea5=(-0x1726*-0x1+0x1*-0x2443+0x2*0x68f)/_0x610ea5,this['x']=_0x3c3b75['x']*_0x610ea5,this['y']=_0x3c3b75['y']*_0x610ea5,this['z']=_0x3c3b75['z']*_0x610ea5,this['w']=_0x3c3b75['w']*_0x610ea5),this;}['set'](_0x876e29,_0x5af4c0,_0x3509e4,_0x66eb00){return this['x']=_0x876e29,this['y']=_0x5af4c0,this['z']=_0x3509e4,this['w']=_0x66eb00,this;}['setFromAxi'+'sAngle'](_0x1a0e73,_0x51d95f){_0x51d95f*=(-0x39d*-0x1+0x16aa+-0x1a47+0.5)*N['DEG_TO_RAD'];const _0x25db7e=Math['sin'](_0x51d95f),_0x15e23b=Math['cos'](_0x51d95f);return this['x']=_0x25db7e*_0x1a0e73['x'],this['y']=_0x25db7e*_0x1a0e73['y'],this['z']=_0x25db7e*_0x1a0e73['z'],this['w']=_0x15e23b,this;}['setFromEul'+'erAngles'](_0x15ab72,_0xacf923,_0x1a6068){if(_0x15ab72 instanceof T){const _0x49e0bc=_0x15ab72;_0x15ab72=_0x49e0bc['x'],_0xacf923=_0x49e0bc['y'],_0x1a6068=_0x49e0bc['z'];}const _0x512158=(0x225*0xf+-0x21a2+0x177+0.5)*N['DEG_TO_RAD'];_0x15ab72*=_0x512158,_0xacf923*=_0x512158,_0x1a6068*=_0x512158;const _0x67116b=Math['sin'](_0x15ab72),_0x324132=Math['cos'](_0x15ab72),_0x174e34=Math['sin'](_0xacf923),_0x42899e=Math['cos'](_0xacf923),_0x428075=Math['sin'](_0x1a6068),_0x1bd3d9=Math['cos'](_0x1a6068);return this['x']=_0x67116b*_0x42899e*_0x1bd3d9-_0x324132*_0x174e34*_0x428075,this['y']=_0x324132*_0x174e34*_0x1bd3d9+_0x67116b*_0x42899e*_0x428075,this['z']=_0x324132*_0x42899e*_0x428075-_0x67116b*_0x174e34*_0x1bd3d9,this['w']=_0x324132*_0x42899e*_0x1bd3d9+_0x67116b*_0x174e34*_0x428075,this;}['setFromMat'+'4'](_0x1a7ec7){const _0x3512dc=_0x1a7ec7['data'];let _0x4fa6a3=_0x3512dc[-0x1*0x1093+0x1*0x169f+-0x60c],_0x543d95=_0x3512dc[-0x166d*0x1+0x16e+0x1500],_0x1d0e57=_0x3512dc[0xa2+-0x112e+0xd*0x146],_0x4cea4b=_0x3512dc[-0x1*-0x104b+0xd*0x2b8+-0x339f],_0xa35054=_0x3512dc[0x1102+-0x1785+0x4c*0x16],_0x50571f=_0x3512dc[0x80b+0x20*0x9b+-0x1b65],_0x4eb328=_0x3512dc[-0x1*0x329+-0x19c*-0xe+0x1*-0x1357],_0x11bbc7=_0x3512dc[0x5*0x10d+0x5f2+-0x595*0x2],_0x4b241c=_0x3512dc[-0xa*-0x39+-0x63*0x5d+0x21c7],_0x70c7b;return _0x70c7b=_0x4fa6a3*_0x4fa6a3+_0x543d95*_0x543d95+_0x1d0e57*_0x1d0e57,_0x70c7b===0x168b+0x1dc5+-0x24*0x174?this['set'](0x7ac+-0x185d+0x10b1*0x1,0x2233+-0x31d+-0xad*0x2e,0x1*-0x8d3+0x1f*0xc1+0x3a3*-0x4,0x615*-0x3+-0xeef*0x1+0x212f):(_0x70c7b=(-0x1678+-0x1*0x2117+-0x7*-0x7f0)/Math['sqrt'](_0x70c7b),_0x4fa6a3*=_0x70c7b,_0x543d95*=_0x70c7b,_0x1d0e57*=_0x70c7b,_0x70c7b=_0x4cea4b*_0x4cea4b+_0xa35054*_0xa35054+_0x50571f*_0x50571f,_0x70c7b===0xd91+-0x24b*-0x6+-0x577*0x5?this['set'](-0x843+0x1573+0x1a6*-0x8,0x3*0x9a1+-0x51*0x27+-0x108c,0x8f*0x3+-0x81*-0x25+-0x1452,-0x16*-0x197+0x2383+0x119f*-0x4):(_0x70c7b=(0x1fd0+0x987+-0x2956)/Math['sqrt'](_0x70c7b),_0x4cea4b*=_0x70c7b,_0xa35054*=_0x70c7b,_0x50571f*=_0x70c7b,_0x70c7b=_0x4eb328*_0x4eb328+_0x11bbc7*_0x11bbc7+_0x4b241c*_0x4b241c,_0x70c7b===-0x1*-0x913+-0x755*-0x5+-0x2*0x16de?this['set'](-0x116e+0x1d59*-0x1+0x2ec7,-0x1e47*0x1+0x14d0+0x977*0x1,-0x932*0x1+0x863+0xcf,-0xd14*0x2+-0x1154+0x2b7d):(_0x70c7b=(0x2*-0x3f4+0x1*0x7d9+0x10)/Math['sqrt'](_0x70c7b),_0x4eb328*=_0x70c7b,_0x11bbc7*=_0x70c7b,_0x4b241c*=_0x70c7b,_0x4b241c<-0xebd+0x1a62+-0x1*0xba5?_0x4fa6a3>_0xa35054?this['set'](-0x1c53+0x29*0xd3+0x577*-0x1+_0x4fa6a3-_0xa35054-_0x4b241c,_0x543d95+_0x4cea4b,_0x4eb328+_0x1d0e57,_0x50571f-_0x11bbc7):this['set'](_0x543d95+_0x4cea4b,-0x2090+-0x5*0x93+0xc*0x2f4-_0x4fa6a3+_0xa35054-_0x4b241c,_0x50571f+_0x11bbc7,_0x4eb328-_0x1d0e57):_0x4fa6a3<-_0xa35054?this['set'](_0x4eb328+_0x1d0e57,_0x50571f+_0x11bbc7,0x2352+-0x138d+0xfc4*-0x1-_0x4fa6a3-_0xa35054+_0x4b241c,_0x543d95-_0x4cea4b):this['set'](_0x50571f-_0x11bbc7,_0x4eb328-_0x1d0e57,_0x543d95-_0x4cea4b,-0xe52+-0x5*0x60+0x1033+_0x4fa6a3+_0xa35054+_0x4b241c),this['mulScalar']((-0x1f9e+-0x1f*-0x136+-0x5*0x12f)/this['length']()))));}['setFromDir'+'ections'](_0x3a42ae,_0x11a4de){const _0x39d006=0x301+0x457*-0x5+-0x12b3*-0x1+_0x3a42ae['dot'](_0x11a4de);return _0x39d006<Number['EPSILON']?Math['abs'](_0x3a42ae['x'])>Math['abs'](_0x3a42ae['y'])?(this['x']=-_0x3a42ae['z'],this['y']=-0x16f7*-0x1+0x1585+-0x2c7c,this['z']=_0x3a42ae['x'],this['w']=0x1e16+-0x21c5+0x1*0x3af):(this['x']=0x2208+-0x1a3*-0x17+-0x1*0x47ad,this['y']=-_0x3a42ae['z'],this['z']=_0x3a42ae['y'],this['w']=-0x20*0xb5+-0x331*-0x7+0x49):(this['x']=_0x3a42ae['y']*_0x11a4de['z']-_0x3a42ae['z']*_0x11a4de['y'],this['y']=_0x3a42ae['z']*_0x11a4de['x']-_0x3a42ae['x']*_0x11a4de['z'],this['z']=_0x3a42ae['x']*_0x11a4de['y']-_0x3a42ae['y']*_0x11a4de['x'],this['w']=_0x39d006),this['normalize']();}['slerp'](_0xe3dcdf,_0x53e903,_0x5a087e){const _0x284ffb=_0xe3dcdf['x'],_0x51ac0f=_0xe3dcdf['y'],_0x4ea197=_0xe3dcdf['z'],_0x4f91e3=_0xe3dcdf['w'];let _0x1b0d23=_0x53e903['x'],_0xfda36d=_0x53e903['y'],_0x457904=_0x53e903['z'],_0x5b2285=_0x53e903['w'],_0x116ceb=_0x4f91e3*_0x5b2285+_0x284ffb*_0x1b0d23+_0x51ac0f*_0xfda36d+_0x4ea197*_0x457904;if(_0x116ceb<-0x10*-0x1d4+0x1*0xa3b+-0x277b&&(_0x5b2285=-_0x5b2285,_0x1b0d23=-_0x1b0d23,_0xfda36d=-_0xfda36d,_0x457904=-_0x457904,_0x116ceb=-_0x116ceb),Math['abs'](_0x116ceb)>=-0x678+-0x12bc+0x1935)return this['w']=_0x4f91e3,this['x']=_0x284ffb,this['y']=_0x51ac0f,this['z']=_0x4ea197,this;const _0x33ad7f=Math['acos'](_0x116ceb),_0x374722=Math['sqrt'](0x11b6*0x2+-0xb0*0x21+-0xcbb-_0x116ceb*_0x116ceb);if(Math['abs'](_0x374722)<-0x16c9*-0x1+-0xc11*0x3+0x2*0x6b5+0.001)return this['w']=_0x4f91e3*(-0x210d*0x1+-0x6b*0x4d+0x413c+0.5)+_0x5b2285*(0x1cc0+0x1*-0x6fd+0x1*-0x15c3+0.5),this['x']=_0x284ffb*(-0x26ac+-0x4*0x5a2+0x3d34+0.5)+_0x1b0d23*(0x1*0x1307+-0x153e+0x3f*0x9+0.5),this['y']=_0x51ac0f*(-0x117e+-0x1*0x2dd+0x145b+0.5)+_0xfda36d*(0x1d1d*-0x1+0x1b8f+-0xc7*-0x2+0.5),this['z']=_0x4ea197*(0x237a+-0x37*-0x4f+-0x3473+0.5)+_0x457904*(0x1*-0x177f+0x1d33+-0x5b4+0.5),this;const _0x510cf1=Math['sin']((-0x2007+0x9*-0x236+0x33ee-_0x5a087e)*_0x33ad7f)/_0x374722,_0x5b7566=Math['sin'](_0x5a087e*_0x33ad7f)/_0x374722;return this['w']=_0x4f91e3*_0x510cf1+_0x5b2285*_0x5b7566,this['x']=_0x284ffb*_0x510cf1+_0x1b0d23*_0x5b7566,this['y']=_0x51ac0f*_0x510cf1+_0xfda36d*_0x5b7566,this['z']=_0x4ea197*_0x510cf1+_0x457904*_0x5b7566,this;}['transformV'+'ector'](_0x13963e,_0xed8301=new T()){const _0x7369ac=_0x13963e['x'],_0x198361=_0x13963e['y'],_0x4fc1e4=_0x13963e['z'],_0x4fb1c7=this['x'],_0x2d56a3=this['y'],_0x4be72b=this['z'],_0x7625c8=this['w'],_0x4802e4=_0x7625c8*_0x7369ac+_0x2d56a3*_0x4fc1e4-_0x4be72b*_0x198361,_0x147924=_0x7625c8*_0x198361+_0x4be72b*_0x7369ac-_0x4fb1c7*_0x4fc1e4,_0x11933f=_0x7625c8*_0x4fc1e4+_0x4fb1c7*_0x198361-_0x2d56a3*_0x7369ac,_0x23dba3=-_0x4fb1c7*_0x7369ac-_0x2d56a3*_0x198361-_0x4be72b*_0x4fc1e4;return _0xed8301['x']=_0x4802e4*_0x7625c8+_0x23dba3*-_0x4fb1c7+_0x147924*-_0x4be72b-_0x11933f*-_0x2d56a3,_0xed8301['y']=_0x147924*_0x7625c8+_0x23dba3*-_0x2d56a3+_0x11933f*-_0x4fb1c7-_0x4802e4*-_0x4be72b,_0xed8301['z']=_0x11933f*_0x7625c8+_0x23dba3*-_0x4be72b+_0x4802e4*-_0x2d56a3-_0x147924*-_0x4fb1c7,_0xed8301;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(-0xc04+0x77f+-0x1*-0x485,-0x3*-0x5e9+-0x3*0x8a0+0x825,0x1070+0x155*0x11+0x159*-0x1d,0x1e37+-0x1*-0x259b+0x9*-0x789))),c(aa,'ZERO',Object['freeze'](new aa(-0xb19+-0x2ad*-0x2+0x1*0x5bf,-0x4*0x13d+0xf56+-0xa62,0x37f+0xbe2+-0xf61,0x5*0x329+-0x6de*0x3+0x4cd)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x112e59,_0x250326){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(0x1592+0x1cbd+-0x324f+0.5,0x1*0x11ab+0x12*0x6a+-0x3b*0x6d+0.5,-0x1765*-0x1+-0xb7*-0x7+-0x5ae*0x5+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x112e59&&this['center']['copy'](_0x112e59),_0x250326&&this['halfExtent'+'s']['copy'](_0x250326));}['add'](_0x3375db){const _0x216cb1=this['center'],_0x3ab6fb=_0x216cb1['x'],_0x6dc2fd=_0x216cb1['y'],_0x3ba0c3=_0x216cb1['z'],_0x1b80ef=this['halfExtent'+'s'],_0x29010d=_0x1b80ef['x'],_0x4fb4de=_0x1b80ef['y'],_0x56992c=_0x1b80ef['z'];let _0x1e843a=_0x3ab6fb-_0x29010d,_0x3949d=_0x3ab6fb+_0x29010d,_0x81759a=_0x6dc2fd-_0x4fb4de,_0x109560=_0x6dc2fd+_0x4fb4de,_0x1ad83c=_0x3ba0c3-_0x56992c,_0x417c44=_0x3ba0c3+_0x56992c;const _0x3aeb5b=_0x3375db['center'],_0x2e56cc=_0x3aeb5b['x'],_0x568806=_0x3aeb5b['y'],_0x46f2eb=_0x3aeb5b['z'],_0x2eb429=_0x3375db['halfExtent'+'s'],_0x234165=_0x2eb429['x'],_0x30b1da=_0x2eb429['y'],_0x2df6da=_0x2eb429['z'],_0xdfa3cc=_0x2e56cc-_0x234165,_0x21b550=_0x2e56cc+_0x234165,_0x4fa435=_0x568806-_0x30b1da,_0x24b4a1=_0x568806+_0x30b1da,_0x11b0b1=_0x46f2eb-_0x2df6da,_0x126380=_0x46f2eb+_0x2df6da;_0xdfa3cc<_0x1e843a&&(_0x1e843a=_0xdfa3cc),_0x21b550>_0x3949d&&(_0x3949d=_0x21b550),_0x4fa435<_0x81759a&&(_0x81759a=_0x4fa435),_0x24b4a1>_0x109560&&(_0x109560=_0x24b4a1),_0x11b0b1<_0x1ad83c&&(_0x1ad83c=_0x11b0b1),_0x126380>_0x417c44&&(_0x417c44=_0x126380),_0x216cb1['x']=(_0x1e843a+_0x3949d)*(-0xff0+0x1052+-0x62+0.5),_0x216cb1['y']=(_0x81759a+_0x109560)*(-0x709+-0x2330+0x9*0x4b1+0.5),_0x216cb1['z']=(_0x1ad83c+_0x417c44)*(-0x110b+-0x1*0x1eb7+-0x17e1*-0x2+0.5),_0x1b80ef['x']=(_0x3949d-_0x1e843a)*(0x2*0x1387+0xda+-0x9fa*0x4+0.5),_0x1b80ef['y']=(_0x109560-_0x81759a)*(-0xbb4+0xa71+0x11*0x13+0.5),_0x1b80ef['z']=(_0x417c44-_0x1ad83c)*(-0x1d16+-0x1dcd+0x3ae3+0.5);}['copy'](_0x3c1ccc){this['center']['copy'](_0x3c1ccc['center']),this['halfExtent'+'s']['copy'](_0x3c1ccc['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x39a942){const _0x50e46f=this['getMax'](),_0x264b9b=this['getMin'](),_0x1d673d=_0x39a942['getMax'](),_0xbc067a=_0x39a942['getMin']();return _0x264b9b['x']<=_0x1d673d['x']&&_0x50e46f['x']>=_0xbc067a['x']&&_0x264b9b['y']<=_0x1d673d['y']&&_0x50e46f['y']>=_0xbc067a['y']&&_0x264b9b['z']<=_0x1d673d['z']&&_0x50e46f['z']>=_0xbc067a['z'];}['_intersect'+'sRay'](_0xec71b5,_0x210cb9){const _0x4fdf3b=vn['copy'](this['getMin']())['sub'](_0xec71b5['origin']),_0x23d02f=bn['copy'](this['getMax']())['sub'](_0xec71b5['origin']),_0x529ad6=_0xec71b5['direction'];_0x529ad6['x']===0xa49*0x3+0xb6b*0x2+-0x35b1?(_0x4fdf3b['x']=_0x4fdf3b['x']<-0x1bb*-0xf+0x193e+-0x3333?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x23d02f['x']=_0x23d02f['x']<0x2a*-0xee+0x1*0x1656+0x10b6?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4fdf3b['x']/=_0x529ad6['x'],_0x23d02f['x']/=_0x529ad6['x']),_0x529ad6['y']===0x3*-0x8f9+0xb51+0xf9a?(_0x4fdf3b['y']=_0x4fdf3b['y']<-0x2458+0x950+0xad*0x28?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x23d02f['y']=_0x23d02f['y']<0x26a4+0x1c27+-0x42cb?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4fdf3b['y']/=_0x529ad6['y'],_0x23d02f['y']/=_0x529ad6['y']),_0x529ad6['z']===0x24e7+0x227f+-0x4766*0x1?(_0x4fdf3b['z']=_0x4fdf3b['z']<-0x1d*0x21+0xcda+-0x91d?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x23d02f['z']=_0x23d02f['z']<-0x1df3+-0xa23+-0x1*-0x2816?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4fdf3b['z']/=_0x529ad6['z'],_0x23d02f['z']/=_0x529ad6['z']);const _0xdc0bed=nm['set'](Math['min'](_0x4fdf3b['x'],_0x23d02f['x']),Math['min'](_0x4fdf3b['y'],_0x23d02f['y']),Math['min'](_0x4fdf3b['z'],_0x23d02f['z'])),_0x15472a=am['set'](Math['max'](_0x4fdf3b['x'],_0x23d02f['x']),Math['max'](_0x4fdf3b['y'],_0x23d02f['y']),Math['max'](_0x4fdf3b['z'],_0x23d02f['z'])),_0x51f54f=Math['min'](Math['min'](_0x15472a['x'],_0x15472a['y']),_0x15472a['z']),_0x564dc2=Math['max'](Math['max'](_0xdc0bed['x'],_0xdc0bed['y']),_0xdc0bed['z']),_0x5708e0=_0x51f54f>=_0x564dc2&&_0x564dc2>=0xeda+-0x1787+0x8ad;return _0x5708e0&&_0x210cb9['copy'](_0xec71b5['direction'])['mulScalar'](_0x564dc2)['add'](_0xec71b5['origin']),_0x5708e0;}['_fastInter'+'sectsRay'](_0x5d14fd){const _0x2b8f16=vn,_0x4cb3da=bn,_0x4f117c=nm,_0x17397c=am,_0x546b69=vS,_0x5e74a0=_0x5d14fd['direction'];return _0x2b8f16['sub2'](_0x5d14fd['origin'],this['center']),_0x17397c['set'](Math['abs'](_0x2b8f16['x']),Math['abs'](_0x2b8f16['y']),Math['abs'](_0x2b8f16['z'])),_0x4f117c['mul2'](_0x2b8f16,_0x5e74a0),!(_0x17397c['x']>this['halfExtent'+'s']['x']&&_0x4f117c['x']>=-0x1723+-0x17b*-0x19+-0xde0||_0x17397c['y']>this['halfExtent'+'s']['y']&&_0x4f117c['y']>=-0x2705+-0x21c4+0x48c9||_0x17397c['z']>this['halfExtent'+'s']['z']&&_0x4f117c['z']>=0x156e+-0x4e9*0x4+0x1*-0x1ca||(_0x546b69['set'](Math['abs'](_0x5e74a0['x']),Math['abs'](_0x5e74a0['y']),Math['abs'](_0x5e74a0['z'])),_0x4cb3da['cross'](_0x5e74a0,_0x2b8f16),_0x4cb3da['set'](Math['abs'](_0x4cb3da['x']),Math['abs'](_0x4cb3da['y']),Math['abs'](_0x4cb3da['z'])),_0x4cb3da['x']>this['halfExtent'+'s']['y']*_0x546b69['z']+this['halfExtent'+'s']['z']*_0x546b69['y'])||_0x4cb3da['y']>this['halfExtent'+'s']['x']*_0x546b69['z']+this['halfExtent'+'s']['z']*_0x546b69['x']||_0x4cb3da['z']>this['halfExtent'+'s']['x']*_0x546b69['y']+this['halfExtent'+'s']['y']*_0x546b69['x']);}['intersects'+'Ray'](_0x850841,_0x1bc9c4){return _0x1bc9c4?this['_intersect'+'sRay'](_0x850841,_0x1bc9c4):this['_fastInter'+'sectsRay'](_0x850841);}['setMinMax'](_0x44b513,_0x2a29e){this['center']['add2'](_0x2a29e,_0x44b513)['mulScalar'](0x165*0x12+0x1045+-0x295f+0.5),this['halfExtent'+'s']['sub2'](_0x2a29e,_0x44b513)['mulScalar'](0x221f+0x19e1+-0x3c00+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x37b255){const _0x3de445=this['getMin'](),_0x15b2be=this['getMax']();return!(_0x37b255['x']<_0x3de445['x']||_0x37b255['x']>_0x15b2be['x']||_0x37b255['y']<_0x3de445['y']||_0x37b255['y']>_0x15b2be['y']||_0x37b255['z']<_0x3de445['z']||_0x37b255['z']>_0x15b2be['z']);}['setFromTra'+'nsformedAa'+'bb'](_0xcc30d1,_0x39e726,_0x4159f5=!(-0x28d*-0x7+0x803+0x3*-0x89f)){const _0x1534e4=_0xcc30d1['center'],_0x3c4ab5=_0xcc30d1['halfExtent'+'s'],_0x399954=_0x39e726['data'];let _0x294350=_0x399954[-0x5*0x419+0xabb+0x4e1*0x2],_0x54c2af=_0x399954[0x10f2+-0x36*-0x8b+-0x2e40*0x1],_0x5325c3=_0x399954[-0x25fa+-0x1c4a+-0x1093*-0x4],_0x20f4d2=_0x399954[-0x10ed*0x1+-0x11*0x1d3+-0x1*-0x2ff1],_0x1c998c=_0x399954[0x3*0xac2+-0x8*0x4c7+0x5f7],_0x50636a=_0x399954[-0x12f*-0xd+0x986+-0x2*0xc70],_0x440cd6=_0x399954[0x577*-0x1+0x13b4+0x1*-0xe3b],_0xc2dfdf=_0x399954[0x1a46+-0x124f+-0x7f1],_0x1e3f67=_0x399954[0x26cd+0xe0*0x25+-0x4723*0x1];if(_0x4159f5){let _0x3da452=_0x294350*_0x294350+_0x54c2af*_0x54c2af+_0x5325c3*_0x5325c3;if(_0x3da452>0xe71+0x2091+-0x2f02){const _0x25c04d=(0x1*-0xdf8+0x13d*0x7+0x54e)/Math['sqrt'](_0x3da452);_0x294350*=_0x25c04d,_0x54c2af*=_0x25c04d,_0x5325c3*=_0x25c04d;}if(_0x3da452=_0x20f4d2*_0x20f4d2+_0x1c998c*_0x1c998c+_0x50636a*_0x50636a,_0x3da452>-0x7a9*-0x1+-0x3d*0x30+0x3c7*0x1){const _0x35299c=(0x1*-0x10d7+0x1849+0x771*-0x1)/Math['sqrt'](_0x3da452);_0x20f4d2*=_0x35299c,_0x1c998c*=_0x35299c,_0x50636a*=_0x35299c;}if(_0x3da452=_0x440cd6*_0x440cd6+_0xc2dfdf*_0xc2dfdf+_0x1e3f67*_0x1e3f67,_0x3da452>0x4b1+-0xd93+0x8e2){const _0x120fd5=(-0x1*0xbc9+-0x4d5+0x109f)/Math['sqrt'](_0x3da452);_0x440cd6*=_0x120fd5,_0xc2dfdf*=_0x120fd5,_0x1e3f67*=_0x120fd5;}}this['center']['set'](_0x399954[-0x21e*-0x2+-0xfca+0xb9a]+_0x294350*_0x1534e4['x']+_0x54c2af*_0x1534e4['y']+_0x5325c3*_0x1534e4['z'],_0x399954[0x2*0x4b1+0x1*0x2173+-0x2ac8]+_0x20f4d2*_0x1534e4['x']+_0x1c998c*_0x1534e4['y']+_0x50636a*_0x1534e4['z'],_0x399954[0x1a5*0x16+-0x24b2+0x92]+_0x440cd6*_0x1534e4['x']+_0xc2dfdf*_0x1534e4['y']+_0x1e3f67*_0x1534e4['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x294350)*_0x3c4ab5['x']+Math['abs'](_0x54c2af)*_0x3c4ab5['y']+Math['abs'](_0x5325c3)*_0x3c4ab5['z'],Math['abs'](_0x20f4d2)*_0x3c4ab5['x']+Math['abs'](_0x1c998c)*_0x3c4ab5['y']+Math['abs'](_0x50636a)*_0x3c4ab5['z'],Math['abs'](_0x440cd6)*_0x3c4ab5['x']+Math['abs'](_0xc2dfdf)*_0x3c4ab5['y']+Math['abs'](_0x1e3f67)*_0x3c4ab5['z']);}static['computeMin'+'Max'](_0x1b2643,_0x4c1a27,_0x4bd832,_0x206280=_0x1b2643['length']/(-0x22d3+0xd97*0x2+0x8c*0xe)){if(_0x206280>0x96e*0x2+-0xb5*-0xc+-0x1b58){let _0x9b8d1f=_0x1b2643[0x1f99+-0x27*-0xf3+-0x449e],_0x2b4bcb=_0x1b2643[0x1*0x11fb+-0x1*-0x5cb+-0x17c5*0x1],_0x24e8b0=_0x1b2643[0xc72*-0x3+0x1fd3*-0x1+-0x1*-0x452b],_0x38569c=_0x9b8d1f,_0xd12bc5=_0x2b4bcb,_0x49815a=_0x24e8b0;const _0x397dad=_0x206280*(-0x7a0*0x1+0x9e3+0x6*-0x60);for(let _0xa1c530=-0x484*0x1+-0x1*-0x2393+-0x1f0c;_0xa1c530<_0x397dad;_0xa1c530+=0x3d*0x1b+0x1d9+-0x1d*0x49){const _0x3927ef=_0x1b2643[_0xa1c530],_0x4d1c77=_0x1b2643[_0xa1c530+(0x21f1*-0x1+0x15*-0xa4+-0x2f66*-0x1)],_0xc49f8f=_0x1b2643[_0xa1c530+(0x267d+0xc8b*0x1+-0x1102*0x3)];_0x3927ef<_0x9b8d1f&&(_0x9b8d1f=_0x3927ef),_0x4d1c77<_0x2b4bcb&&(_0x2b4bcb=_0x4d1c77),_0xc49f8f<_0x24e8b0&&(_0x24e8b0=_0xc49f8f),_0x3927ef>_0x38569c&&(_0x38569c=_0x3927ef),_0x4d1c77>_0xd12bc5&&(_0xd12bc5=_0x4d1c77),_0xc49f8f>_0x49815a&&(_0x49815a=_0xc49f8f);}_0x4c1a27['set'](_0x9b8d1f,_0x2b4bcb,_0x24e8b0),_0x4bd832['set'](_0x38569c,_0xd12bc5,_0x49815a);}}['compute'](_0x38442e,_0x1167a0){_e['computeMin'+'Max'](_0x38442e,vn,bn,_0x1167a0),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x574093){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x574093)<=_0x574093['radius']*_0x574093['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x330788){const _0x48f330=this['getMin'](),_0x25a7a5=this['getMax']();let _0x357b4f=-0xbd2*-0x1+-0x896+-0x33c;const _0x5a5d1b=['x','y','z'];for(let _0x1cf4dc=-0x4*0x805+0xb9+0x1f5b;_0x1cf4dc<-0xd37+0xa*0x323+0x2*-0x912;++_0x1cf4dc){let _0x2c8f49=0x1536+-0x1c61+-0x1*-0x72b;const _0xc81eb2=_0x330788['center'][_0x5a5d1b[_0x1cf4dc]],_0x1a2c48=_0x48f330[_0x5a5d1b[_0x1cf4dc]],_0x583f55=_0x25a7a5[_0x5a5d1b[_0x1cf4dc]];let _0x4718a6=0x25dc+-0x7*0x421+-0x8f5;_0xc81eb2<_0x1a2c48&&(_0x4718a6=_0x1a2c48-_0xc81eb2,_0x2c8f49+=_0x4718a6*_0x4718a6),_0xc81eb2>_0x583f55&&(_0x4718a6=_0xc81eb2-_0x583f55,_0x2c8f49+=_0x4718a6*_0x4718a6),_0x357b4f+=_0x2c8f49;}return _0x357b4f;}['_expand'](_0x1194c9,_0x594355){vn['add2'](this['getMin'](),_0x1194c9),bn['add2'](this['getMax'](),_0x594355),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x570601=new T(),_0x23d75b=-0x1*-0x247e+-0x7*-0x115+-0x2c11+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x570601),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x570601,this['radius']=_0x23d75b);}['containsPo'+'int'](_0x23235a){const _0x51e7ba=gl['sub2'](_0x23235a,this['center'])['lengthSq'](),_0x54e561=this['radius'];return _0x51e7ba<_0x54e561*_0x54e561;}['intersects'+'Ray'](_0x176ec0,_0x21b3e7){const _0x70583b=gl['copy'](_0x176ec0['origin'])['sub'](this['center']),_0x5c6888=_0x70583b['dot'](bS['copy'](_0x176ec0['direction'])['normalize']()),_0x4782e3=_0x70583b['dot'](_0x70583b)-this['radius']*this['radius'];if(_0x4782e3>0x3*-0xae9+0x1*-0x24ce+-0x4589*-0x1&&_0x5c6888>0x210f+-0x3*-0x7b7+-0x147*0x2c)return!(0x1be9+0x883+-0x1*0x246b);const _0x3fa6e4=_0x5c6888*_0x5c6888-_0x4782e3;if(_0x3fa6e4<-0x2*0x75f+-0x1*0x1e43+0x2d01)return!(-0x10c5+0x96*-0x18+0x1ed6);const _0x367677=Math['abs'](-_0x5c6888-Math['sqrt'](_0x3fa6e4));return _0x21b3e7&&_0x21b3e7['copy'](_0x176ec0['direction'])['mulScalar'](_0x367677)['add'](_0x176ec0['origin']),!(0xfcc+-0x1*-0x1bd1+-0x2b9d);}['intersects'+'BoundingSp'+'here'](_0x287cec){gl['sub2'](_0x287cec['center'],this['center']);const _0x2001a3=_0x287cec['radius']+this['radius'];return gl['lengthSq']()<=_0x2001a3*_0x2001a3;}}class hy{constructor(_0x10f903=T['UP'],_0x4479be=0x22*-0x1+0x7ef+-0x7cd){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x10f903),this['distance']=_0x4479be);}['clone'](){const _0x26c466=this['constructo'+'r'];return new _0x26c466()['copy'](this);}['copy'](_0x182f38){return this['normal']['copy'](_0x182f38['normal']),this['distance']=_0x182f38['distance'],this;}['intersects'+'Line'](_0xa15725,_0x238d46,_0x4af239){const _0x26b1d7=this['distance'],_0x5c068b=this['normal']['dot'](_0xa15725)+_0x26b1d7,_0x3f99aa=this['normal']['dot'](_0x238d46)+_0x26b1d7,_0x24610d=_0x5c068b/(_0x5c068b-_0x3f99aa),_0x2b163c=_0x24610d>=-0x1*-0x192d+0xb*-0x47+-0x1620&&_0x24610d<=0x2262+0xb92+-0x3*0xf51;return _0x2b163c&&_0x4af239&&_0x4af239['lerp'](_0xa15725,_0x238d46,_0x24610d),_0x2b163c;}['intersects'+'Ray'](_0x5e23c9,_0x3f4f60){const _0xe3c209=this['normal']['dot'](_0x5e23c9['direction']);if(_0xe3c209===0x3*0x4d6+-0x188b+0xa09*0x1)return!(0x11*0xb1+-0x17ff*-0x1+-0x23bf);const _0x242e69=-(this['normal']['dot'](_0x5e23c9['origin'])+this['distance'])/_0xe3c209;return _0x242e69>=0x1c25+-0x12d3+0x2*-0x4a9&&_0x3f4f60&&_0x3f4f60['copy'](_0x5e23c9['direction'])['mulScalar'](_0x242e69)['add'](_0x5e23c9['origin']),_0x242e69>=0xf09+0xbdb+-0x1ae4;}['normalize'](){const _0x3c48bd=(0x71*0x2c+0x186b+-0x2bd6)/this['normal']['length']();return this['normal']['mulScalar'](_0x3c48bd),this['distance']*=_0x3c48bd,this;}['set'](_0xbfc224,_0x3d17d4,_0x1f2959,_0x5e50ff){return this['normal']['set'](_0xbfc224,_0x3d17d4,_0x1f2959),this['distance']=_0x5e50ff,this;}['setFromPoi'+'ntNormal'](_0x3d6d19,_0x3c2a6d){return this['normal']['copy'](_0x3c2a6d),this['distance']=-this['normal']['dot'](_0x3d6d19),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x484eaf=0xef*0x1d+-0x1257+-0x8bc;_0x484eaf<0x65e+0xb8b*0x3+0x269*-0x11;_0x484eaf++)this['planes'][_0x484eaf]=new hy();}['clone'](){const _0x447917=this['constructo'+'r'];return new _0x447917()['copy'](this);}['copy'](_0x5c6e9c){for(let _0x2fbdb3=-0xd66+0xf44+-0x1de;_0x2fbdb3<-0x1*-0x66a+0x1f06+-0x256a;_0x2fbdb3++)this['planes'][_0x2fbdb3]['copy'](_0x5c6e9c['planes'][_0x2fbdb3]);return this;}['setFromMat'+'4'](_0x5a2f5d){const [_0x9dbbe8,_0x259dd3,_0x3ea867,_0x58766a,_0x18ad0f,_0x276130,_0x18d961,_0x3ea241,_0x594076,_0x1ad97a,_0x43e26a,_0x9aad10,_0x582e0e,_0x7e67ca,_0x1168cb,_0x1dd490]=_0x5a2f5d['data'],_0x370c92=this['planes'];_0x370c92[0x23e7+0xd47+-0x1*0x312e]['set'](_0x58766a-_0x9dbbe8,_0x3ea241-_0x18ad0f,_0x9aad10-_0x594076,_0x1dd490-_0x582e0e)['normalize'](),_0x370c92[-0x9*0xfb+-0x1*-0x191d+-0x1049]['set'](_0x58766a+_0x9dbbe8,_0x3ea241+_0x18ad0f,_0x9aad10+_0x594076,_0x1dd490+_0x582e0e)['normalize'](),_0x370c92[-0x1585*0x1+-0x11*-0x21a+-0xe33]['set'](_0x58766a+_0x259dd3,_0x3ea241+_0x276130,_0x9aad10+_0x1ad97a,_0x1dd490+_0x7e67ca)['normalize'](),_0x370c92[0x3*0x629+-0x6a*-0x50+-0x3398]['set'](_0x58766a-_0x259dd3,_0x3ea241-_0x276130,_0x9aad10-_0x1ad97a,_0x1dd490-_0x7e67ca)['normalize'](),_0x370c92[-0x23e3*0x1+0x8a4+0x1b43]['set'](_0x58766a-_0x3ea867,_0x3ea241-_0x18d961,_0x9aad10-_0x43e26a,_0x1dd490-_0x1168cb)['normalize'](),_0x370c92[0x2110+-0x1*-0x185b+-0x3966]['set'](_0x58766a+_0x3ea867,_0x3ea241+_0x18d961,_0x9aad10+_0x43e26a,_0x1dd490+_0x1168cb)['normalize']();}['containsPo'+'int'](_0x338bdd){for(let _0x3ced3f=0x3de*0x5+-0xc5e*0x3+0x11c4;_0x3ced3f<0xb51*0x3+0x7*-0x45+0x1*-0x200a;_0x3ced3f++){const {normal:_0x40c65c,distance:_0x4d1363}=this['planes'][_0x3ced3f];if(_0x40c65c['dot'](_0x338bdd)+_0x4d1363<=0x1b85+0xbb+-0x1c40)return!(-0x574+-0x11af+0x5c9*0x4);}return!(-0x1753+0x4b8+0x129b);}['containsSp'+'here'](_0x5b16eb){const {center:_0x36eab4,radius:_0x26aea3}=_0x5b16eb;let _0x467f0f=0x14fa+-0x1397+0x163*-0x1;for(let _0x347000=-0x2*0xa87+0xb*-0x9e+0x1bd8;_0x347000<0x2*0x102b+0x38d*-0x1+0x25*-0xc7;_0x347000++){const {normal:_0x2b139f,distance:_0xfc6569}=this['planes'][_0x347000],_0x420e4e=_0x2b139f['dot'](_0x36eab4)+_0xfc6569;if(_0x420e4e<=-_0x26aea3)return 0x1f39+-0x667+-0x2*0xc69;_0x420e4e>_0x26aea3&&_0x467f0f++;}return _0x467f0f===0x1*-0xa8d+-0x1346*0x1+0x1dd9?0x7a+-0x2094+0x201c:-0xc1f+0xd1+0xc1*0xf;}}class uu{constructor(_0x208804,_0xaf4a11){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x208804&&this['origin']['copy'](_0x208804),_0xaf4a11&&this['direction']['copy'](_0xaf4a11));}['set'](_0x4bdfb1,_0x332fa6){return this['origin']['copy'](_0x4bdfb1),this['direction']['copy'](_0x332fa6),this;}['copy'](_0x11d806){return this['set'](_0x11d806['origin'],_0x11d806['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=0x1298+0x7f*-0x5+-0x101d,ae=-0x6d1+0x136e+-0x2*0x64e,Of=0x1*0x1a0c+-0x20fc+0x6f2,kf=-0x8be+-0x93c+0x11fa,at=-0x2433*-0x1+0xdb+-0x54b*0x7,TS=0x5c1*-0x5+-0x3*0x2e1+0x256a,dy=-0x1e5e+0xa14+0x144e,AS=0x2f*0x43+-0xb4*-0x2a+-0x29d0,dc=0x1396+-0x1408+0x78,uc=-0x1*0x1c49+0xd07+-0x7a5*-0x2,Lt=0x26f0+-0x7eb*-0x1+-0x2edb*0x1,ES=0x2*0x49d+0x1*0xd66+-0x486*0x5,CS=-0x6a*0x3a+0x2690+-0xe89,MS=-0x106a+0x3c4*0x7+-0x29*0x3e,jt=-0x64*0x42+0x24cd*-0x1+0x3e95,Th=0x589+0xc92+-0x121a,uy=-0x1b5c+0x25d7+0x1*-0xa79,PS=-0x2580+-0x1*-0x6f8+-0x7*-0x45d,Co=0x1d24+-0x147d*-0x1+-0x2*0x18d0,Mo=-0xe*0x16+0x1*0x2112+-0x1fdc,Ah=-0xa8b*-0x1+0x5b5*0x1+-0x103c,mt=-0x25*-0x35+0x1e*-0x86+0x80b,rn=-0xf*-0x1b3+0x2540+0x92*-0x6e,mo=0xc8*0x1+0x834*0x2+-0x6*0x2dd,RS=-0x19*-0x89+-0x1d4d+-0x1*-0xfef,de=-0x923+-0x80b*0x1+0x112e,st=-0x23a3+-0x475+-0x1*-0x2819,fc=-0x168*-0x17+0x2*0xc43+0x6*-0x97a,pc=0x1dcb+-0x4*0x8aa+0x4e0,mc=0x1*-0xc83+-0x1*0x215b+0x2de2,nn=0x226b+-0xa9*0x24+-0xaa2,IS=-0x1*0xbd2+0x22b4+-0x16e2,Eh=-0x875*-0x1+-0x1*-0x2a9+-0xb1d,Ch=-0x17c6+-0x28d*0xd+0x38f1,fu=-0x6*0x2fe+0x6a*-0x3a+0x29fb,DS=0x1866+0x25b3+-0x3e15,LS=-0x24a0+-0x263*-0x1+-0x6da*-0x5,FS=0x3d4+-0x1397+0xfc9,Ai=0x5*0x529+-0x328*-0x1+-0x1cee,pu=0x209+0x3fb*0x1+0x16*-0x46,Pi=-0x20ef+0x22c6+-0x1d6,nr=-0x1be5+-0xba8+0x278f,fy=-0x1*0x1bd5+-0x561+0x2136,py=0x12*0x1b4+0x9f1+-0x1*0x2898,Bf=0x1*-0x4fd+-0x103b+0x153a,_c=0x1*-0x268e+-0x41*-0x12+0x21ff,Nf=0x1*-0x15d+-0x15*0xa7+-0x2*-0x78a,gc=0x18+-0x42a+-0x1*-0x417,dr=0x1e26+-0x1218+-0xc08,Se=0x1c59+0x1470+0x4f*-0x9e,yc=0x4*-0x88c+-0x7*0x2cc+0x35cc,zf=0x8ad*0x1+-0x1ef3+0x1*0x164f,$o=0xfc5+-0x61*-0x1d+-0x1ab8,xc=-0x7*0x4d9+-0x9a8+0x1*0x2ba2,Je=0x1*0x1e5+-0x2298+0x20bf,Sc=0x168b+-0x1cf*-0x11+-0x21*0x19d,Ke=0x699+-0x952*0x1+0x2c7,Ii=-0x1e11+0x13d1+-0x1d*-0x5b,Ci=-0x1973+0x22d1+-0x94e,vc=-0x6d*-0x4f+0x8b5+0x4f*-0x89,_a=-0x22c8+0xa34+0x18a6,Uf=-0x679+0x22*-0x11b+0x2c22,rs=-0x3eb+-0x127f+0x1*0x167e,bc=-0x262e+-0x122b+-0x3e*-0xe9,Vf=-0x2ef*-0x5+0x2192+-0x7*0x6e1,Gf=0x3*0x427+-0x15ad+0x94f*0x1,qo=-0x1*0x1933+-0x1*-0x3b8+-0x1*-0x1593,Xo=-0x1093+0x7e4+0x4*0x232,wc=0x17b*0x19+0x179a+-0x3c83,Tc=0x2326+0x5*-0x79b+0x2fc,my=0x1*0x1b1f+0x578*-0x1+-0x1*0x158b,_y=0x1e35+-0x1b65*0x1+0x2b3*-0x1,gy=-0x2004+-0x174e+0x4*0xddc,yy=0x238c+0x108+-0x2475,Hf=-0x8*0x3af+-0x41a+0x1*0x21b2,xy=-0x1c*-0x148+0x4e1+-0x28a0,Wf=0x3d2*0x5+0x8f*-0x3d+0xf1b,$f=-0x2eb+0x1f9e+-0x1c90,qf=0x33*-0x1+-0x1a26+0x1a7d,an=0x2605*-0x1+0xea1+0x1789,Xf=0x1896+0xedb+-0x274b*0x1,Sy=-0x47*0x6a+-0x79*0x29+0x1877*0x2,jf=0x8df*0x1+-0x830+-0x87,Yf=0x20d*0x5+0x1*0x1e25+-0x1*0x283d,Kf=0xaa7+-0x1c1e+0x11a1,Zf=0x97*-0x18+-0xdac+0x1*0x1bff,Qf=0x8d*-0x43+0x2*-0x849+0x35a5,vy=0xdcd*-0x1+0xcd3+-0x5*-0x3b,Jf=-0x264d+0x1d76+-0x1*-0x905,Ac=0x136a+-0x2e0+-0x105b,ep=0x2*-0xcfe+-0x13*-0x4d+0x1475,ut=0x43d+0x12a*-0x6+-0x2f0*-0x1,Ec=-0x24ba+-0x1*0x245f+0x494b,tp=0x19cc+-0x194*0x1+-0x1805,sp=0xb32+0x7*-0x449+-0x7*-0x2b7,ip=-0x5*-0x33f+0x2164*0x1+-0x316a,mu=0x5ba+0xb25+-0x10a9,_u=-0x9f9+-0x5b+0xa8b*0x1,gu=-0xf92+0x18*-0xa+0x1*0x10ba,yu=-0x137e+-0x2*-0x111e+-0x1*0xe81,xu=-0x3*0x141+-0x1*0x8db+0x337*0x4,Su=-0x411*0x2+-0x151*-0x1a+-0x19d9*0x1,by=0x4*0x795+0x2e*-0xcb+0x111*0x6,wy=-0xf*-0x1de+0x2448+-0x4009,Ty=-0x12f6+-0xac*0x29+0x2ec4,Ay=-0x6*-0x24d+0x167f+-0x240a*0x1,vu=-0xf8*-0xb+-0x768+-0xbf*0x4,la=0x2309*0x1+-0x1057+-0x35*0x59,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(0x12*0x6a+0x2585+-0x2cf9)}],[sp,{'name':'R8','size':0x1,'ldr':!(0xa*-0xed+0x19f0+-0x10ae)}],[py,{'name':'L8','size':0x1,'ldr':!(0xa67*-0x2+0x61*0x25+-0x3*-0x243)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(0x11c8+0x1e6f+-0x3037)}],[ip,{'name':'RG8','size':0x2,'ldr':!(-0x1*-0x1eeb+-0x251a+0x62f)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(0x1a2+-0xf61*0x2+0x1d20)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0x121f*-0x2+-0xe6d+0x73d*0x7)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(0xe3*-0x6+-0x23cb+-0x839*-0x5)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0x1cbf+0x9de*-0x3+0x3a59)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(0x18ba+-0x106c+-0x84e),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(0xa66*0x3+-0x1*-0xc91+-0x2bc3),'srgb':!(0x16fd+0x26d7+-0xf75*0x4)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(0x6*0x36+0x2e+-0x172),'srgb':!(-0x24c+0x5ea+-0x39e)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(-0x1511+-0x26bd*0x1+0x3bce)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(-0x1f4f+0xac4+0x148b),'srgb':!(0x6*-0xfe+0x1*-0x1ddf+0x23d3)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x2040+0x42c+0x4*0x705),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x3df*-0x7+-0x1*0xf53+0x2a6c),'srgbFormat':_u}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(0xbfe*0x3+-0x1*0x18b9+-0xb41),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(0x1abc+-0x35*-0x91+-0x3*0x12eb)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0xdd6+0x1ae3+-0x28b9),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x115c+0x3*-0x4f5+-0xdf*-0x25),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x2072+-0x25ec+-0x2*-0x232f),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0xc1+0x46*0x87+-0x25ab),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x1*0xaa+-0x21b4+0x225e),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x2421+0x1e9b+-0x42bc),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x489+-0xf73+-0xb*-0xfe),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0xc*-0x257+0xccc+0x3d2*0x4)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x1a14+0xf4*-0x13+0x2c30)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x18*0x19d+0x134*0x13+-0x3d94),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0xf6e+0x8*-0x1d+-0x572*-0x3),'srgb':!(-0x7d3*0x1+0xff8+-0x8b*0xf)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x10f*-0x3+-0x21df+0x1eb2),'srgb':!(-0x226f+-0x1660+0x38cf)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x38*-0xe+0x2*-0xf3f+-0xdb7*-0x2),'srgb':!(0x954+-0x1edb*-0x1+-0x1b*0x17d)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x10e2*0x1+0x1541*0x1+-0x2623),'srgb':!(0x2281+0x1d*-0x12a+-0xbf*0x1)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x107e+0x2ea*0x5+0x38*-0x8e),'srgb':!(0x19f9+-0x1caa+0x2b1)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x1575+0x2*-0x224+0x1*-0x112d),'srgb':!(-0xf0d*-0x1+0x2266+0x3173*-0x1)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x4d*-0x1+-0x405+-0x9e*-0x7),'srgb':!(0x89f*-0x3+-0x1*-0xda3+0xc3a)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(-0x30*0x87+0x1*-0x1bb5+0x3505)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x102d*0x1+-0x233*0xa+0xcb9*0x3)}],[Wf,{'name':'R16I','size':0x2,'isInt':!(-0x2*0x12fa+-0xffe+-0x5*-0xaca)}],[$f,{'name':'R16U','size':0x2,'isInt':!(0x19f0+-0x1778+-0x8*0x4f)}],[qf,{'name':'R32I','size':0x4,'isInt':!(0x1*-0x1b5+0x94*0x22+0x11f3*-0x1)}],[an,{'name':'R32U','size':0x4,'isInt':!(0x26aa+0x1ddc+-0x4486)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(-0x14d3+-0x23ba*0x1+0x1f*0x1d3)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x4*-0x54b+0x1*0x1085+0x1*-0x25b1)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x377*-0x3+-0x1550+0xaeb)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(0x24b3*-0x1+0xe79+0x1*0x163a)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(-0x1912+-0x1854*0x1+0x3166)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(0x1d*0x89+-0xc6+-0x97*0x19)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0x38f+-0x10cc+0xd3d)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0x4*-0x890+-0xa12+0x2c52)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(0xf51*-0x2+-0x6*-0x6b+0x10*0x1c2)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(-0x1d*0x119+0x531+0x1aa4)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(-0x669+0x6ed+-0x4*0x21)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0x2358+0x5b3*-0x3+0x3471*0x1)}]]),OS=_0x1de5b1=>{var _0x1cf5d6;return((_0x1cf5d6=xt['get'](_0x1de5b1))==null?void(-0xa15+0x9*0x2+0xa03):_0x1cf5d6['blockSize'])!==void(-0x3*-0x512+-0x886*-0x2+0x2*-0x1021);},Mh=_0x40f7d7=>{var _0x36ffd7;return((_0x36ffd7=xt['get'](_0x40f7d7))==null?void(0x99b+0x4*-0x826+0x6b*0x37):_0x36ffd7['srgb'])===!(0x1*-0x20cf+-0x3fb*-0x2+0x18d9);},ea=_0x20193a=>{var _0x386ca8;return((_0x386ca8=xt['get'](_0x20193a))==null?void(0x1*0x2692+-0x2180+-0x512):_0x386ca8['isInt'])===!(-0x874+-0x1f73*0x1+0xd4d*0x3);},Cc=_0x23afe5=>{var _0x59aab7;return((_0x59aab7=xt['get'](_0x23afe5))==null?void(-0x116f+-0xa1b+-0x5*-0x582):_0x59aab7['srgbFormat'])||_0x23afe5;},kS=_0x1c73e0=>{for(const [_0x578d7e,_0xc8ff29]of xt)if(_0xc8ff29['srgbFormat']===_0x1c73e0)return _0x578d7e;return _0x1c73e0;},Ey=_0x44e698=>{const _0x29035d=xt['get'](_0x44e698);return!!(_0x29035d!=null&&_0x29035d['ldr']&&!(_0x29035d!=null&&_0x29035d['srgb']));},Cy=_0x3a5af1=>{switch(_0x3a5af1){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case Wf:case jf:case Jf:return Int16Array;case ip:case $f:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=-0xc1a+0xddc*0x2+-0xf9e,Pc=-0x2618+-0x114+0x272d*0x1,My=0x2*0x2f9+0x2*-0xcf7+0x13fe,Py=0x4ce+0x1*-0x222c+0x1*0x1d61,Ms=-0x2*0xd1a+-0x2*-0xbca+0x2a4,ar=-0x3*0xc13+-0x1527+-0x833*-0x7,Yr=0x1*-0x14b1+-0x1ba7*0x1+0x52*0x97,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=-0x1*0x110d+-0x1182+0x2290,ha=-0x1161+0x1*0x21c5+0x1*-0x1064,GS=0x1204+0x223*-0x5+0x271*-0x3,HS=0x1bc8+-0x82d+-0x1398,WS=0x17e3+0x1534+-0x2d12,yl=0x1*-0x1c85+0x1e7d+0x2*-0xfc,Fy=-0x503*0x4+-0x1*0x22a+-0x79*-0x2f,rd=-0x4d5*-0x2+0x2db+-0x1*0xc83,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=0x1*-0x1619+0x195*0xc+0x31e,ur=-0xa6*0x2d+0xb*-0x32a+0x3ffe,Oy=0x7*-0x4fd+0x1799*0x1+0xb55,Us='2d',$S='2d-array',qS='cube',XS='3d',oh=0x13a3+-0x67*-0x5b+0x20*-0x1c2,nd=-0x7a6*0x5+0x41*-0x51+0x10*0x3ad,jS=-0x5c*0x29+0x10e7+-0x229,YS=0x53+0x1fd3+0x1*-0x2023,KS=-0xeb+-0x129f+0x138e,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=0x1*0xf4d+-0xf9*0x10+0x43,Kr=-0xcad+-0x26a8+0x1*0x3356,Ic=-0x240f+0xbf6*0x2+-0x1*-0xc25,el=-0x1604+-0x2*0x5a7+0x2155,By=-0x15ba+-0x2561+0x1*0x3b1f,Do=0x998+-0x220e+0x187b,Ee=0x9*-0x199+0x1c*-0x52+0x175f,ca=-0x43*0x5+-0x127d+0x9e6*0x2,ln=0xcaa+0x1700+-0x23a9,$s=0x63f*-0x4+-0x11fe+-0x2afc*-0x1,or=-0x11*-0x27+-0x1*0xc92+-0x1*-0x9fe,$t=-0xd73+-0x1655+-0x23cc*-0x1,xa=0xa16+-0x6e+-0x9a3,Zr=-0x1284+-0xcf*0x27+-0x3213*-0x1,Qr=-0x5*0x2cc+-0x160a+-0x347*-0xb,Jr=0xe13+0x2*-0x953+0x49b,Lo=-0x40d*0x4+-0x2*-0xc10+-0x2a1*0x3,Fo=-0x244d+0x1163*0x2+-0x1*-0x191,Oo=-0x289*0x9+0x262a+-0x51a*0x3,Rh=-0x19cb+0x8b+0x194c,ko=-0x17f4+0xb2d+-0xcd4*-0x1,Sa=0x119c+-0x67+-0x1*0x1127,JS=0x2676+-0xa81+-0x1be6*0x1,ev=0x1*0x154b+-0x20c4+0xb89*0x1,Dc=0x1237*-0x1+-0x13*-0x39+0xe0d,tv=0x1371+0xbae+-0x1f0d,sv=-0x1a1+-0x68e+0x842,iv=-0x59f*0x4+0x73*-0x1+-0x89*-0x2b,Lc=-0x5a*0x34+0x32*0x1+0x122b,Fc=0x20a9+0x10ce+-0x3161,lp=-0xbe+-0x717+0x7ec,Ny=-0x77d*-0x2+-0x21*-0x11b+0x3*-0x111f,rv=-0x16*-0x117+0x666*0x6+0x3e45*-0x1,va=0x2626+0x18af+-0x3ebb,ba=0x214a+0x182a+-0x3959,wa=-0x17c2+-0x1ff+0x19dd,Ta=0xe96+-0x139f+-0x2*-0x293,Aa=-0x5d0+0x230e+-0x4*0x748,Oc=-0x429+0x1e3+0x265,kc=0x72c+0x1758+-0x1e64,Ea=0x110a+0x2*-0x1+-0x10e7,Bc=0x3*0x517+-0x2062+0x113f,Nc=0x83*-0x9+-0xc65*0x1+0x29*0x6b,Ca=0x5*0x569+-0x1*0x1fc7+0x4de,zc=-0x2*0x1129+-0xef3+0x316a,Uc=-0x1080+0x1d0a+-0xc64,Ih=-0x10b*-0x9+0x20c*0x1+0x1*-0xb48,hp=-0x227b+0x1*-0x16b8+0x395b,cp=-0x1*0x1d09+0x227*-0x3+-0x1*-0x23a7,nv=-0x13ac+0x1687+0xd*-0x35,av=-0x22a2+-0x56a+0x2837,ov=-0xa*0x232+0x4a*0x74+-0xb68,lv=-0x853*0x3+0x14ea+0x43c,hv=0x2469*-0x1+0x13c0+0x9*0x1df,cv=0x1*-0x1c2b+-0xb0d*0x3+0x3d81,dv=0x24ed+-0x1*-0x1031+-0x34ee,uv=0x226e+-0xdb*0x7+-0x1c40,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0xd31164,_0x312b77)=>{_0xd31164['forEach'](_0x20f038=>pv['set'](_0x20f038,_0x312b77));});const mv='webgl2',up=0x236*0x8+-0x342*-0x3+-0x1b75,li=0x10e7+-0x1c4+0x50b*-0x3,_v=-0x5d6+-0x2489+0x2a63,gv='ldr',zy=0x20e9+0x1f5c+-0x4044,Uy=-0x3b*-0x92+0xaea+-0x2c8e,Vy=-0xee6+0x2*0xf5d+0x2*-0x7e8,Gy=-0x2c*0x29+-0x21b5+0xc5*0x35,Hy=-0x2b*0xbf+0x1f9d+-0x1*-0x88,Wy=0x20b+-0x1*0xc54+0xa69,$y=-0x1*-0x313+0x4b7+-0x78a,qy=0x67*0x59+-0x1417+-0xf38,yv=0x15b+-0x3fb*-0x3+-0x43*0x2f,Dh=0x1496+-0x1*0x15ad+0x117,Xy=0x230c+0x3bf*0x4+-0x3207,Eu=-0x1a9d+0x2081*-0x1+0x3b20,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[-0xfd9*-0x1+-0x5*0x3c1+0x7*0x6b,-0x16fd+0x10cc+0x632*0x1,-0x1e7d+-0x1*-0x174c+0x733*0x1,-0xfb*0xb+-0x516+-0x3*-0x54b,-0x1*0x1fd3+-0x16e8+-0xaf3*-0x5,-0x1*0x737+-0x182a+0x1f65,-0xe0*0x12+0x25c+0x4*0x35a,0x26f2*-0x1+0x4*0x772+-0x24b*-0x4],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0xf1*0x5+0x2327*0x1+0x1e71*-0x1,0x7fa*-0x1+-0x260e+0x2*0x1705,-0xd1d+-0x1ccb+-0x4*-0xa7b],ve={};ve[He]=-0x1cc4+0x59*0x4f+0x14d,ve[Yt]=-0xb*0x2+-0x4*0x55d+0x158b,ve[Ys]=0x23b7+-0x636+-0x1d7f,ve[qt]=-0x2455+0x7f*0xb+0x1*0x1ee3,ve[At]=-0x20eb+0x10d6+-0xd*-0x13d,ve[ns]=-0x2372*-0x1+-0x1c0*-0x13+0x44ad*-0x1,ve[_n]=0xa55+-0x1*0xb5a+0x59*0x3,ve[jo]=0x443+-0x10b0+0xc74,ve[Yo]=0x1325+-0x2404+0x1*0x10e7,ve[Ko]=0x1*-0x85f+-0x1b34+0x1*0x239c,ve[Zo]=-0x3*-0x425+-0x1f78+0x1313,ve[Qo]=-0x24dc+-0x152*-0xd+-0x1*-0x13bd,ve[Jo]=0x1348*-0x2+-0x1998+-0x1*-0x4034,ve[Zs]=-0x1e3f*0x1+-0x35*-0x65+0x963,ve[bu]=0x1*0x1a17+-0x1*0x1e2f+0x418,ve[wu]=-0xe*-0x3b+0x1*0x1233+-0x156c,ve[Ry]=0x18cf*-0x1+-0x1135*0x1+-0x42*-0xa3,ve[Iy]=-0xd7a+-0x22c1+0x303e,ve[Dy]=-0x3c0*0x6+0x2242+-0xbbe,ve[BS]=-0x1*0x21f+-0x1*0x1700+-0xc92*-0x2,ve[NS]=0x1d3d+0x23e4+-0x411b,ve[zS]=0xffb*-0x2+0x1f*-0x106+-0x3*-0x153d,ve[Po]=-0x2238+-0x1059+0x1*0x3299,ve[Ro]=-0x1fb+-0x19*-0x8a+-0x3d2*0x3,ve[US]=0x1*0x18fd+-0x1658+-0x29b*0x1,ve[VS]=-0x8bd*-0x3+-0x2*0x8da+-0x878,ve[rp]=-0xe3d+0xd*0x2c5+-0x15b8,ve[ga]=-0x22a*-0x5+-0x1715+0xc50,ve[np]=-0xe96*0x1+0x2ef*-0x3+0x11*0x161,ve[ya]=-0x1adb+-0x6*0xc9+0x1fa0;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=-0x6*-0x5cf+-0x10*-0x93+0xeae*-0x3;}static['pushGpuMar'+'ker'](_0x130440,_0x282a62){Ki['markers']['push'](_0x282a62),_0x130440['pushMarker'](_0x282a62);}static['popGpuMark'+'er'](_0x7b8bd2){Ki['markers']['length']&&Ki['markers']['pop'](),_0x7b8bd2['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=0x82c*-0x1+0x2*-0x371+-0xf0e*-0x1;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Vc{constructor(_0x5d3271,_0x56c0df){c(this,'slot',-(-0x24d5+-0xc4f+0x3125)),c(this,'scopeId',null),(this['name']=_0x5d3271,this['visibility']=_0x56c0df);}}class pp extends Vc{}class Av extends Vc{constructor(_0x4b73e8,_0x4e950b,_0x499f84=!(-0x1*-0x1c09+0xf6d*-0x1+-0xc9b)){super(_0x4b73e8,_0x4e950b),c(this,'format',''),(this['readOnly']=_0x499f84,v['assert'](_0x499f84||!(_0x4e950b&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x2b15d7,_0x438165,_0x5735e4=Us,_0x13f7ad=oh,_0x2823bb=!(-0x8c9*0x1+-0x1*0x1b7f+0x2448),_0x52bf80=null){super(_0x2b15d7,_0x438165),this['textureDim'+'ension']=_0x5735e4,this['sampleType']=_0x13f7ad,this['hasSampler']=_0x2823bb,this['samplerNam'+'e']=_0x52bf80??_0x2b15d7+'_sampler';}}class Ev extends Vc{constructor(_0x2be0e0,_0x307520=Se,_0x2d5de1=Us,_0x2b3243=!(0x47d+-0x4e7+0x6a),_0x163e27=!(0x3*0x64d+0x11*-0x25+-0x1071)){super(_0x2be0e0,_v),this['format']=_0x307520,this['textureDim'+'ension']=_0x2d5de1,this['write']=_0x2b3243,this['read']=_0x163e27;}}class jy{constructor(_0x3543ec,_0x38d619){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x38d619));let _0xbd3e0c=-0x1*0x1fb9+0x1d60+0x1*0x259;_0x38d619['forEach'](_0x5ebdef=>{_0x5ebdef['slot']=_0xbd3e0c++,_0x5ebdef instanceof fi&&_0x5ebdef['hasSampler']&&_0xbd3e0c++,_0x5ebdef instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x5ebdef):_0x5ebdef instanceof fi?this['textureFor'+'mats']['push'](_0x5ebdef):_0x5ebdef instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x5ebdef):_0x5ebdef instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x5ebdef):v['assert']('Invalid\x20bi'+'nd\x20format',_0x5ebdef);}),this['device']=_0x3543ec;const _0x108cbb=_0x3543ec['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x456ab8,_0x1ad671)=>this['bufferForm'+'atsMap']['set'](_0x456ab8['name'],_0x1ad671)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x482318,_0x5d0f90)=>{this['textureFor'+'matsMap']['set'](_0x482318['name'],_0x5d0f90),_0x482318['scopeId']=_0x108cbb['resolve'](_0x482318['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x4e781d,_0x34f000)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x4e781d['name'],_0x34f000),_0x4e781d['scopeId']=_0x108cbb['resolve'](_0x4e781d['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x355725,_0x4d5855)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x355725['name'],_0x4d5855),_0x355725['scopeId']=_0x108cbb['resolve'](_0x355725['name']);}),this['impl']=_0x3543ec['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0xbd232e){const _0x10302c=this['textureFor'+'matsMap']['get'](_0xbd232e);return _0x10302c!==void(-0xf03+0x1*-0x119b+0x209e)?this['textureFor'+'mats'][_0x10302c]:null;}['getStorage'+'Texture'](_0x21aaf1){const _0x1cb932=this['storageTex'+'tureFormat'+'sMap']['get'](_0x21aaf1);return _0x1cb932!==void(-0x2c5*-0x7+0x1940+-0x2ca3)?this['storageTex'+'tureFormat'+'s'][_0x1cb932]:null;}['getShaderD'+'eclaration'+'Textures'](_0xf71e6d){let _0x3b2598='';return this['textureFor'+'mats']['forEach'](_0x48f17b=>{let _0x8449cc=Tv[_0x48f17b['textureDim'+'ension']];v['assert'](_0x8449cc,'Unsupporte'+'d\x20texture\x20'+'type',_0x48f17b['textureDim'+'ension']);const _0x25d9f9=_0x8449cc==='texture2DA'+'rray',_0x4b79c6=_0x48f17b['sampleType']===KS?'u':_0x48f17b['sampleType']===YS?'i':'';_0x8449cc=''+_0x4b79c6+_0x8449cc;let _0x2bedaf='',_0x2fa83d='';_0x25d9f9&&(_0x2bedaf='_texture',_0x2fa83d='#define\x20'+_0x48f17b['name']+'\x20'+_0x4b79c6+('sampler2DA'+'rray(')+_0x48f17b['name']+_0x2bedaf+',\x20'+_0x48f17b['name']+'_sampler)\x0a'),_0x3b2598+='layout(set'+'\x20=\x20'+_0xf71e6d+(',\x20binding\x20'+'=\x20')+_0x48f17b['slot']+')\x20uniform\x20'+_0x8449cc+'\x20'+_0x48f17b['name']+_0x2bedaf+';\x0a',_0x48f17b['hasSampler']&&(_0x3b2598+='layout(set'+'\x20=\x20'+_0xf71e6d+(',\x20binding\x20'+'=\x20')+(_0x48f17b['slot']+(-0x80b+0x245f+-0x1c53))+(')\x20uniform\x20'+'sampler\x20')+_0x48f17b['name']+'_sampler;\x0a'),_0x3b2598+=_0x2fa83d;}),_0x3b2598;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x539e49,_0x1fc958){return this['_cache']['has'](_0x539e49)||(this['_cache']['set'](_0x539e49,_0x1fc958()),_0x539e49['on']('destroy',()=>{this['remove'](_0x539e49);}),_0x539e49['on']('devicelost',()=>{var _0x32c2fc,_0x2e4ba9;(_0x2e4ba9=(_0x32c2fc=this['_cache']['get'](_0x539e49))==null?void(0x16c1+0x1*-0x20a2+0x9e1):_0x32c2fc['loseContex'+'t'])==null||_0x2e4ba9['call'](_0x32c2fc,_0x539e49);})),this['_cache']['get'](_0x539e49);}['remove'](_0x57dca5){var _0x26bd3e,_0x813ccf;(_0x813ccf=(_0x26bd3e=this['_cache']['get'](_0x57dca5))==null?void(-0x1e1*-0x1+0x115*-0x3+0x15e):_0x26bd3e['destroy'])==null||_0x813ccf['call'](_0x26bd3e,_0x57dca5),this['_cache']['delete'](_0x57dca5);}}class Mi{static['calcLevelD'+'imension'](_0x3f615c,_0x55623c){return Math['max'](_0x3f615c>>_0x55623c,-0x2012+-0x38b+0x239e);}static['calcMipLev'+'elsCount'](_0x59b909,_0x525999,_0x135158=-0x1448+0x1b46*-0x1+0x2f8f){return-0x1*-0x19fd+-0x1289*-0x1+-0x2c85+Math['floor'](Math['log2'](Math['max'](_0x59b909,_0x525999,_0x135158)));}static['calcLevelG'+'puSize'](_0x2fc400,_0x12c2a1,_0x2f60b7,_0x16fc70){var _0x13327e;const _0xbccf2f=xt['get'](_0x16fc70);v['assert'](_0xbccf2f!==void(0x25ba+-0xbb3+-0x1a07),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x16fc70);const _0x30b45e=((_0x13327e=xt['get'](_0x16fc70))==null?void(-0x153+0x1*0x10b1+-0xf5e):_0x13327e['size'])??0x849+-0x5d9+-0x270;if(_0x30b45e>-0x1e07+0x6a7*0x1+0x10*0x176)return _0x2fc400*_0x12c2a1*_0x2f60b7*_0x30b45e;const _0x41b7e3=_0xbccf2f['blockSize']??-0x10e5+0x2c4+0xe21;let _0x7d5c5f=Math['floor']((_0x2fc400+(0xc83*-0x2+0x5d*0x1+0x18ac))/(0x576+0x2439+-0x1*0x29ab));const _0x1d3217=Math['floor']((_0x12c2a1+(0x1*0x1ead+0x35*-0x9b+-0x49*-0x5))/(-0x61e+0x153+-0x1*-0x4cf)),_0x78794f=Math['floor']((_0x2f60b7+(-0x155*0xd+0x285*-0x9+0x5b7*0x7))/(0x1b*0x61+0x1e1b+0x1*-0x2852));return(_0x16fc70===qo||_0x16fc70===Xo)&&(_0x7d5c5f=Math['max'](Math['floor'](_0x7d5c5f/(0x4f2+0x7*-0x39d+0x145b)),-0x1a3f+0x5cc+0x1474)),_0x7d5c5f*_0x1d3217*_0x78794f*_0x41b7e3;}static['calcGpuSiz'+'e'](_0x4c1815,_0x3861df,_0x4330dc,_0x1ee42f,_0x570f2e,_0x9317fb){let _0x1d9be8=-0x25*-0x46+-0x1f3f+-0x9*-0x259;for(;_0x1d9be8+=Mi['calcLevelG'+'puSize'](_0x4c1815,_0x3861df,_0x4330dc,_0x1ee42f),!(!_0x570f2e||_0x4c1815===0x2*-0x2d1+-0x1*0xb93+0x1136&&_0x3861df===0x1139+0xbd4+-0x2a4*0xb&&_0x4330dc===0x2574+0x1*-0x837+-0x1d3c);)_0x4c1815=Math['max'](_0x4c1815>>-0x183+0xf65*-0x1+0x27*0x6f,-0x1139+-0x1c3+0x12fd*0x1),_0x3861df=Math['max'](_0x3861df>>0x632*0x2+0x18ec+-0x254f,-0x321+-0x43*-0x6a+-0x189c),_0x4330dc=Math['max'](_0x4330dc>>0x733+0x1c13*0x1+0x1*-0x2345,0x18*-0x89+0x1435+-0x75c);return _0x1d9be8*(_0x9317fb?-0x1f2e*0x1+0x24*0xd6+0x11c:0x257b*0x1+0xf*0x2f+-0x1*0x283b);}}let Cv=0x62a+0x4a3+-0xacd;class he{constructor(_0x9e075b,_0x2bcfcf={}){c(this,'name'),c(this,'_gpuSize',0x6b*0x3a+0x1*0x1475+0x1*-0x2cb3),c(this,'id',Cv++),c(this,'_invalid',!(0xc90+0x1*-0xbb3+-0xdc)),c(this,'_lockedLev'+'el',-(0x12*0xba+-0x1959+0xc46)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',0x1b2f*-0x1+-0x13d6+-0x2f05*-0x1),c(this,'_storage',!(-0x1f23+0x82f+0x16f5)),c(this,'_numLevels',0x565*-0x6+-0x259+-0x1*-0x22b7),c(this,'_numLevels'+'Requested');var _0x3eb23e;this['device']=_0x9e075b,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x2bcfcf['width']||Number['isInteger'](_0x2bcfcf['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x2bcfcf),v['assert'](!_0x2bcfcf['height']||Number['isInteger'](_0x2bcfcf['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x2bcfcf),v['assert'](!_0x2bcfcf['depth']||Number['isInteger'](_0x2bcfcf['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x2bcfcf),this['name']=_0x2bcfcf['name']??'',this['_width']=Math['floor'](_0x2bcfcf['width']??0xd1b+-0x126d+0x1*0x556),this['_height']=Math['floor'](_0x2bcfcf['height']??0x1*0x2572+-0x24d5+-0x99),this['_format']=_0x2bcfcf['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x2bcfcf['minFilter']=de,_0x2bcfcf['magFilter']=de),this['_volume']=_0x2bcfcf['volume']??!(-0x1*0x25c3+0xf*-0x5e+0x2b46),this['_depth']=Math['floor'](_0x2bcfcf['depth']??-0x21e4+0x25e1+-0x3fc),this['_arrayLeng'+'th']=Math['floor'](_0x2bcfcf['arrayLengt'+'h']??-0x722+-0x11*0x2b+-0x1*-0x9fd),this['_storage']=_0x2bcfcf['storage']??!(0x248c+0x7c+-0x1*0x2507),this['_cubemap']=_0x2bcfcf['cubemap']??!(-0x2b*-0x32+-0xf9*0x10+-0x1*-0x72b),this['_flipY']=_0x2bcfcf['flipY']??!(-0x8e1+-0x7*-0x9b+0x4a5),this['_premultip'+'lyAlpha']=_0x2bcfcf['premultipl'+'yAlpha']??!(-0x8e1+-0x5e*-0x4f+0x2e0*-0x7),this['_mipmaps']=_0x2bcfcf['mipmaps']??!(0x31*0x79+-0x3b*0x67+0x94),this['_numLevels'+'Requested']=_0x2bcfcf['numLevels'],_0x2bcfcf['numLevels']!==void(0x2543+0x833*-0x1+0x9b*-0x30)&&(this['_numLevels']=_0x2bcfcf['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x2bcfcf['minFilter']??nn,this['_magFilter']=_0x2bcfcf['magFilter']??st,this['_anisotrop'+'y']=_0x2bcfcf['anisotropy']??0x8e0+0x15d8+0x1eb7*-0x1,this['_addressU']=_0x2bcfcf['addressU']??tt,this['_addressV']=_0x2bcfcf['addressV']??tt,this['_addressW']=_0x2bcfcf['addressW']??tt,this['_compareOn'+'Read']=_0x2bcfcf['compareOnR'+'ead']??!(-0x74*-0x4d+-0x172*0x6+-0x1a37),this['_compareFu'+'nc']=_0x2bcfcf['compareFun'+'c']??Eh,this['type']=_0x2bcfcf['hasOwnProp'+'erty']('type')?_0x2bcfcf['type']:Di,v['assert'](!_0x2bcfcf['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x2bcfcf['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x2bcfcf['projection']&&_0x2bcfcf['projection']!==Au&&(this['projection']=_0x2bcfcf['projection']),this['profilerHi'+'nt']=_0x2bcfcf['profilerHi'+'nt']??0x1f02+-0x465+-0x1a9d,this['_levels']=_0x2bcfcf['levels'];const _0xf0f655=!!_0x2bcfcf['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0xf0f655),_0x9e075b['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x3eb23e=xt['get'](this['format']))==null?void(0x1c*0x11a+-0x4d5*0x7+0x6d*0x7):_0x3eb23e['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x5481f4=this['device'];if(_0x5481f4){const _0x625a72=_0x5481f4['textures']['indexOf'](this);_0x625a72!==-(0x942+0xcd*0xc+0x1b7*-0xb)&&_0x5481f4['textures']['splice'](_0x625a72,-0xfdd+0xad3*-0x2+0x2584),_0x5481f4['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x5481f4),this['adjustVram'+'SizeTracki'+'ng'](_0x5481f4['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x1e6d94=!(0x67*0x3d+0x7*0xad+0xea3*-0x2)){var _0x358189;const {device:_0x120522}=this;(_0x358189=this['impl'])==null||_0x358189['destroy'](_0x120522),this['impl']=null,this['impl']=_0x120522['createText'+'ureImpl'](this),this['dirtyAll'](),_0x1e6d94&&this['upload']();}['resize'](_0x288aa9,_0x2d12d3,_0x5d268f=-0x1*0x2291+-0xff9+-0x3*-0x10d9){const _0x7888c7=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x7888c7['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x7888c7),this['_width']=Math['floor'](_0x288aa9),this['_height']=Math['floor'](_0x2d12d3),this['_depth']=Math['floor'](_0x5d268f),this['_updateNum'+'Level'](),this['impl']=_0x7888c7['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x18a228,_0x575969){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x575969+('\x20vram.text'+'ure:\x20')+_0x18a228['tex']+'\x20=>\x20'+(_0x18a228['tex']+_0x575969)),_0x18a228['tex']+=_0x575969,this['profilerHi'+'nt']===Tu?_0x18a228['texShadow']+=_0x575969:this['profilerHi'+'nt']===ur?_0x18a228['texAsset']+=_0x575969:this['profilerHi'+'nt']===Oy&&(_0x18a228['texLightma'+'p']+=_0x575969);}['propertyCh'+'anged'](_0x1b67de){this['impl']['propertyCh'+'anged'](_0x1b67de),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0xc8e092=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x7*-0x53b+0x1c94+-0xe*0x4a8,_0x49ee1e=this['_numLevels'+'Requested'];_0x49ee1e!==void(-0x86a+0x1d3+0x697)&&_0x49ee1e>_0xc8e092&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0xc8e092,this),this['_numLevels']=Math['min'](_0x49ee1e??_0xc8e092,_0xc8e092),this['_mipmaps']=this['_numLevels']>0xd9a+0x1407+-0x434*0x8;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x1ef7a2){this['_minFilter']!==_0x1ef7a2&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x1ef7a2,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x57291a){this['_magFilter']!==_0x57291a&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x57291a,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0xd1eccf){this['_addressU']!==_0xd1eccf&&(this['_addressU']=_0xd1eccf,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x4aa930){this['_addressV']!==_0x4aa930&&(this['_addressV']=_0x4aa930,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x4e0f41){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x4e0f41!==this['_addressW']&&(this['_addressW']=_0x4e0f41,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x1b90b1){this['_compareOn'+'Read']!==_0x1b90b1&&(this['_compareOn'+'Read']=_0x1b90b1,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0xe20d57){this['_compareFu'+'nc']!==_0xe20d57&&(this['_compareFu'+'nc']=_0xe20d57,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x391f7d){this['_anisotrop'+'y']!==_0x391f7d&&(this['_anisotrop'+'y']=_0x391f7d,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x502ea0){this['_mipmaps']!==_0x502ea0&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x502ea0,_0x502ea0&&(this['_needsMipm'+'apsUpload']=!(-0x8*-0x1af+0xd*0xd7+0x821*-0x3)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x529479=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x872+0xd6*0xf+-0x14fb);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x529479,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0xf88*-0x1+0x149+-0x10d1;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x1c149b){var _0x23b300,_0x3c3e46,_0x57b17d,_0x7ace49;const _0x34ca51=Mh(this['format']);if(_0x1c149b!==_0x34ca51){if(_0x1c149b){const _0x327bf9=Cc(this['format']);this['_format']!==_0x327bf9&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x23b300=xt['get'](this['format']))==null?void(0x122c+-0x3*0x3a9+0x731*-0x1):_0x23b300['name'])+'\x20->\x20'+((_0x3c3e46=xt['get'](_0x327bf9))==null?void(0x12d6*0x1+0x11*-0x241+0x137b):_0x3c3e46['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x327bf9,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x112e+0x8fc+0x1*0x832));}else{const _0xaa39eb=kS(this['format']);this['_format']!==_0xaa39eb&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x57b17d=xt['get'](this['format']))==null?void(-0x1996+-0x2298+0x3c2e):_0x57b17d['name'])+'\x20->\x20'+((_0x7ace49=xt['get'](_0xaa39eb))==null?void(-0x97c+-0x1*-0xeae+-0x532):_0x7ace49['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0xaa39eb,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1e4a+-0x22cb*0x1+0x481*0x1));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x1b81ea){this['_flipY']!==_0x1b81ea&&(this['_flipY']=_0x1b81ea,this['_needsUplo'+'ad']=!(0x6d3+0x3f6+-0xac9));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x3fbf49){this['_premultip'+'lyAlpha']!==_0x3fbf49&&(this['_premultip'+'lyAlpha']=_0x3fbf49,this['_needsUplo'+'ad']=!(-0xb19+0x7*0x50e+-0x1849*0x1));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x2327+-0x7ab+-0x1b7c),!(-0x1466+0x7*-0xe9+0x1ac5),!(-0x26c9+0x52e+0x219b),!(-0xf14+-0x1227+0x213b),!(0x1de5+-0x10*0x21e+0x3fb*0x1),!(-0x1*0xb4e+-0x15de+0x212c)]]:[!(-0x18da*-0x1+-0x23e2+0xb08)],this['_needsUplo'+'ad']=!(0xb68+-0x2e*0x35+0x1*-0x1e2),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0xe*-0x14c+-0x2414+-0xad9*-0x5),this['propertyCh'+'anged'](yv);}['lock'](_0x48d04d={}){_0x48d04d['level']??(_0x48d04d['level']=0x1*-0x551+-0x1046+-0x1*-0x1597),_0x48d04d['face']??(_0x48d04d['face']=0x1f77+-0x1a62+-0x515*0x1),_0x48d04d['mode']??(_0x48d04d['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x48d04d['mode']===Fy||_0x48d04d['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x48d04d['mode'],this['_lockedLev'+'el']=_0x48d04d['level'];const _0x18fc26=this['cubemap']?this['_levels'][_0x48d04d['face']]:this['_levels'];if(_0x18fc26[_0x48d04d['level']]===null){const _0x35dde7=Math['max'](0x5b*-0x1f+-0x10*0xed+0x1*0x19d6,this['_width']>>_0x48d04d['level']),_0x5951c0=Math['max'](-0x1*0x1a4f+0x74*-0x1e+-0x9fa*-0x4,this['_height']>>_0x48d04d['level']),_0x529141=Math['max'](-0x21e*-0x12+-0x9*-0xef+-0x2e82,this['_depth']>>_0x48d04d['level']),_0x197ff9=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x35dde7,_0x5951c0,_0x529141,this['_format']));_0x18fc26[_0x48d04d['level']]=new(Cy(this['_format']))(_0x197ff9);}return _0x18fc26[_0x48d04d['level']];}['setSource'](_0x723fe0,_0x36615d=-0x110b*-0x2+0x1*0xac5+-0x2cdb*0x1){let _0x248ab4=!(0x1*0xfd7+0xb*-0x2db+0xf93),_0x288018,_0x5a1a12;if(this['_cubemap']){if(_0x723fe0[0x2693+-0xd15+-0x1a*0xfb]){_0x288018=_0x723fe0[-0x27*0xe5+0x259e+-0x2bb]['width']||0x1c80+0xf*0x1da+-0x3846,_0x5a1a12=_0x723fe0[0x1*-0x12cd+-0x17a*0x3+-0x13*-0x139]['height']||0x59*-0x37+0x1bf3+-0x8d4;for(let _0x9c0307=-0x49*-0x1+0x74a+0x1*-0x793;_0x9c0307<0x20*0x54+-0x9cd+-0xad;_0x9c0307++){const _0x556f56=_0x723fe0[_0x9c0307];if(!_0x556f56||_0x556f56['width']!==_0x288018||_0x556f56['height']!==_0x5a1a12||!this['device']['_isBrowser'+'Interface'](_0x556f56)){_0x248ab4=!(-0xae2+0x1*0x134b+-0x869);break;}}}else _0x248ab4=!(0x1a52+0x31*0xd+-0x5c3*0x5);if(!_0x248ab4){for(let _0x1d4386=0x1*-0x1537+0x15fc+-0xc5;_0x1d4386<-0x3*0x11c+-0x24*0x106+0x2832;_0x1d4386++)this['_levels'][_0x36615d][_0x1d4386]!==_0x723fe0[_0x1d4386]&&(this['_levelsUpd'+'ated'][_0x36615d][_0x1d4386]=!(0x2b*0xe0+0x923+-0x2ec3));}}else this['device']['_isBrowser'+'Interface'](_0x723fe0)||(_0x248ab4=!(0x265c+-0x49b*-0x3+-0x342d)),_0x248ab4||(_0x723fe0!==this['_levels'][_0x36615d]&&(this['_levelsUpd'+'ated'][_0x36615d]=!(-0x34a+0xcc1+-0x1*0x977)),_0x723fe0 instanceof HTMLVideoElement?(_0x288018=_0x723fe0['videoWidth'],_0x5a1a12=_0x723fe0['videoHeigh'+'t']):(_0x288018=_0x723fe0['width'],_0x5a1a12=_0x723fe0['height']));if(_0x248ab4){if(this['_width']=0x11d7*-0x2+0xf*-0x9b+-0x3*-0xeed,this['_height']=-0x1c3a+-0x54*0x70+0x8d*0x76,this['_cubemap']){for(let _0x338b46=0xcd*0x2e+-0x21fd+-0x2d9;_0x338b46<0x537+-0x10aa+0xb79;_0x338b46++)this['_levels'][_0x36615d][_0x338b46]=null,this['_levelsUpd'+'ated'][_0x36615d][_0x338b46]=!(0x4d0*-0x2+-0x11d1+0x1b71);}else this['_levels'][_0x36615d]=null,this['_levelsUpd'+'ated'][_0x36615d]=!(0x1*0x3d3+-0x977*0x3+0x1892);}else _0x36615d===-0x1b42+0xe01*-0x1+0x5e5*0x7&&(this['_width']=_0x288018,this['_height']=_0x5a1a12),this['_levels'][_0x36615d]=_0x723fe0;(this['_invalid']!==_0x248ab4||!_0x248ab4)&&(this['_invalid']=_0x248ab4,this['upload']());}['getSource'](_0xdfcb70=-0x2652+0x9*0x355+0x855){return this['_levels'][_0xdfcb70];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(-0x1125+-0x9*-0x274+-0x2*0x277),this['_lockedMod'+'e']=yl;}['upload'](){var _0x39d423,_0x5f2f45;this['_needsUplo'+'ad']=!(-0x8be+-0x335*-0x1+-0x1*-0x589),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x5f2f45=(_0x39d423=this['impl'])['uploadImme'+'diate'])==null||_0x5f2f45['call'](_0x39d423,this['device'],this);}['read'](_0x2bab2c,_0x537423,_0x13532c,_0x29d5ba,_0x3c9a5a={}){var _0x1cc95a,_0xac2b65;return(_0xac2b65=(_0x1cc95a=this['impl'])['read'])==null?void(-0x78*-0x12+0x1*0x2e7+-0xb57):_0xac2b65['call'](_0x1cc95a,_0x2bab2c,_0x537423,_0x13532c,_0x29d5ba,_0x3c9a5a);}}const Mv={'white':[0x3*-0x5e0+-0x77c*0x4+0x1f*0x191,-0x7*-0x233+-0xf3e+0x1b*0x8,-0x4*0x90b+-0x1*0x4a+0x2575,0x34*0x12+0x1e06+0xae5*-0x3],'gray':[-0x2356+-0x1*-0x13d6+0x1000,0x1*-0x24ad+-0xe34+0x3361,-0x1db9+-0x40+0x1d*0x10d,0x245+0x50*-0x2e+0xd1a],'black':[0xe*0x141+-0x2050+0xec2,0xa*-0x399+-0x5d0+-0x29ca*-0x1,0x2*0x121d+0x575+-0x29af,-0x1784+-0x2*0x1b+0x18b9],'normal':[0x8e*0x8+0x16dc+-0x1acc,0x22b1+-0x26e+-0x1fc3,0x120a+0x15d*0x5+-0x17dc,0x281*0x2+-0x19*-0x37+-0x1*0x962],'pink':[0x4a*0x9+-0xce2+0xb47,-0x7*0x223+-0x7*0x26e+-0x2077*-0x1,0x1*0x6b5+-0x1b1d+0x1567,0x1801+-0x5*-0x1e7+0x14d*-0x19]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x2ed0fe=>{_0x2ed0fe['destroy']();});}}const Rv=new Ot(),en=(_0x2224c0,_0x404798)=>{const _0x3e4daf=Rv['get'](_0x2224c0,()=>new Pv());if(!_0x3e4daf['map']['has'](_0x404798)){const _0xb2e00b=new he(_0x2224c0,{'name':'built-in-t'+'exture-'+_0x404798,'width':0x1,'height':0x1,'format':Se}),_0x52596f=_0xb2e00b['lock'](),_0x1e7ca7=Mv[_0x404798];v['assert'](_0x1e7ca7,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x404798+('\x27\x20not\x20foun'+'d')),_0x52596f['set'](_0x1e7ca7),_0xb2e00b['unlock'](),_0x3e4daf['map']['set'](_0x404798,_0xb2e00b);}return _0x3e4daf['map']['get'](_0x404798);};let Iv=-0x534*0x2+0x44*-0x7b+0x2b14;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x5584f3,_0x44cd05,_0x190949){c(this,'renderVers'+'ionUpdated',-(-0x398+0x8c0+-0x527*0x1)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x5584f3,this['format']=_0x44cd05,this['dirty']=!(0xa67*0x1+-0x1*-0x27e+-0xce5*0x1),this['impl']=_0x5584f3['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x190949,_0x190949&&this['setUniform'+'Buffer'](fp,_0x190949),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x44cd05));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x469c7f,_0x4f26c8){const _0x29412c=this['format']['bufferForm'+'atsMap']['get'](_0x469c7f);v['assert'](_0x29412c!==void(-0x11bf+-0x4*-0x514+0x9*-0x49),'Setting\x20a\x20'+'uniform\x20['+_0x469c7f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x29412c]!==_0x4f26c8&&(this['uniformBuf'+'fers'][_0x29412c]=_0x4f26c8,this['dirty']=!(-0x2ae*0x3+0x59c+0x1*0x26e));}['setStorage'+'Buffer'](_0x2734a7,_0x405915){const _0x2e9ab5=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x2734a7);v['assert'](_0x2e9ab5!==void(0x40d+-0x22*-0xdb+-0x1f3*0x11),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x2734a7+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x2e9ab5]!==_0x405915&&(this['storageBuf'+'fers'][_0x2e9ab5]=_0x405915,this['dirty']=!(-0x1*0x2593+-0xe3e+-0x5*-0xa5d));}['setTexture'](_0xfaf415,_0x419f7d){const _0x19fbcd=this['format']['textureFor'+'matsMap']['get'](_0xfaf415);v['assert'](_0x19fbcd!==void(-0x199e+0x2*0x33d+0x1324),'Setting\x20a\x20'+'texture\x20['+_0xfaf415+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x19fbcd]!==_0x419f7d?(this['textures'][_0x19fbcd]=_0x419f7d,this['dirty']=!(0x1f20+-0x702+-0x372*0x7)):this['renderVers'+'ionUpdated']<_0x419f7d['renderVers'+'ionDirty']&&(this['dirty']=!(0x1364+-0x186e+-0x2b*-0x1e));}['setStorage'+'Texture'](_0x1a756f,_0x222c93){const _0x2909a8=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x1a756f);v['assert'](_0x2909a8!==void(-0x5*-0xf5+-0x1*-0x13d9+-0xc51*0x2),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x1a756f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x2909a8]!==_0x222c93?(this['storageTex'+'tures'][_0x2909a8]=_0x222c93,this['dirty']=!(-0x2*-0xf9e+0x1f05*0x1+-0x3e41)):this['renderVers'+'ionUpdated']<_0x222c93['renderVers'+'ionDirty']&&(this['dirty']=!(0x1*-0x158c+-0xcd1+-0x1cf*-0x13));}['updateUnif'+'ormBuffers'](){for(let _0x6b274b=-0x104b*-0x1+-0x42b*0x3+-0xc2*0x5;_0x6b274b<this['uniformBuf'+'fers']['length'];_0x6b274b++)this['uniformBuf'+'fers'][_0x6b274b]['update']();}['update'](){const {textureFormats:_0x46ba16,storageTextureFormats:_0xa7594,storageBufferFormats:_0x1090ca}=this['format'];for(let _0x4e4f18=0x1d47+0x1*0x6b2+-0x1*0x23f9;_0x4e4f18<_0x46ba16['length'];_0x4e4f18++){const _0x183fe9=_0x46ba16[_0x4e4f18];let _0x214151=_0x183fe9['scopeId']['value'];_0x214151||(_0x183fe9['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x214151=en(this['device'],'white')),_0x183fe9['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x214151=en(this['device'],'pink')),_0x214151||(v['errorOnce']('Texture\x20'+_0x183fe9['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x214151=en(this['device'],'pink'))),this['setTexture'](_0x183fe9['name'],_0x214151);}for(let _0x3a006e=-0x213+0x1*0x20a3+-0x1e90;_0x3a006e<_0xa7594['length'];_0x3a006e++){const _0x56bb60=_0xa7594[_0x3a006e],_0xe078a9=_0x56bb60['scopeId']['value'];v['assert'](_0xe078a9,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x56bb60['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x56bb60['name'],_0xe078a9);}for(let _0x5eee70=-0x2070+0x1*-0x80f+0x287f;_0x5eee70<_0x1090ca['length'];_0x5eee70++){const _0x53d7a3=_0x1090ca[_0x5eee70],_0x3dbe17=_0x53d7a3['scopeId']['value'];v['assert'](_0x3dbe17,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x53d7a3['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x53d7a3['name'],_0x3dbe17);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x1e2f79=0x18b4+0x20f5+-0x39a9*0x1;_0x1e2f79<this['uniformBuf'+'fers']['length'];_0x1e2f79++){const _0x110c85=this['uniformBuf'+'fers'][_0x1e2f79];this['uniformBuf'+'ferOffsets'][_0x1e2f79]=_0x110c85['offset'],this['renderVers'+'ionUpdated']<_0x110c85['renderVers'+'ionDirty']&&(this['dirty']=!(-0x9dd+0x200b+0x14e*-0x11));}this['dirty']&&(this['dirty']=!(-0xc1c+-0x28e+0x2ef*0x5),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x435260,_0x4b6880,_0x6c0cd0,_0xbe7d2=0x3*0x5e7+-0x1*-0x1ebb+-0x306f){return _0x435260&~(_0xbe7d2<<_0x6c0cd0)|_0x4b6880<<_0x6c0cd0;},'get'(_0x41d557,_0x44a82b,_0x8f984e=-0x1d75*0x1+-0xa40+0x27b6){return _0x41d557>>_0x44a82b&_0x8f984e;},'all'(_0x3dd97b,_0x38a992,_0x53e4ed=0x7e3+-0x1c45+0x1*0x1463){const _0xc87c92=_0x53e4ed<<_0x38a992;return(_0x3dd97b&_0xc87c92)===_0xc87c92;},'any'(_0x4ee6ff,_0x19f8cb,_0x518ccf=0x1*0x242b+-0x1752+0xc*-0x112){return(_0x4ee6ff&_0x518ccf<<_0x19f8cb)!==0x1*-0x8b+-0x162+0x1*0x1ed;}},xl=0x1142+-0x119*-0x11+-0x23e4*0x1,Vi=0x4*-0x1cb+-0x85*0x43+0x2a0a,dm=-0x1*0xd5d+0x48a+0x8d3,um=-0x5d4+0x1369+-0x9*0x182,fm=-0x1830+0x167*0xe+0x33*0x17,pm=-0x6*-0x5fc+-0xfb3*-0x1+-0x64*0x84,mm=-0x199a+0xce3+0xcc5,_m=-0xa3c*-0x2+0x4*-0x7f6+0x5*0x24a,Cu=-0x1c3+0x1dcf+-0x1bf6,gm=0x1c05+0x13*0xf7+0x2e43*-0x1,ym=-0x1ba1*-0x1+-0x938+-0x1251*0x1,xm=-0xd0e+0x56a+0x7bd,Sm=0x1*0x2347+-0x28d*-0x7+-0x4*0xd42,Dv=0x26f*-0x7+-0x14f2+0x260a,Lv=Cu,zs=class zs{constructor(_0x3c30ae=!(-0x9af*-0x1+0xd26+-0x16d4),_0x8edc8c=Lt,_0x20e2da=at,_0x288f89=kf,_0x35c0b9,_0x5b4473,_0x14fed2,_0x29d14d=!(0x2488+-0xbf*-0x6+-0x2902),_0x3b595a=!(0x1912+0x18e*-0x7+0x4*-0x38c),_0x5391aa=!(-0xf54+-0x2*0xd59+0x2*0x1503),_0x5bf012=!(-0x14ee+-0x641*0x3+0x27b1)){c(this,'target0',-0x5*-0x5e+0x22*0xb1+-0x32b*0x8),(this['setColorBl'+'end'](_0x8edc8c,_0x20e2da,_0x288f89),this['setAlphaBl'+'end'](_0x35c0b9??_0x8edc8c,_0x5b4473??_0x20e2da,_0x14fed2??_0x288f89),this['setColorWr'+'ite'](_0x29d14d,_0x3b595a,_0x5391aa,_0x5bf012),this['blend']=_0x3c30ae);}set['blend'](_0x387184){this['target0']=Oe['set'](this['target0'],_0x387184?0xe*-0x289+0x5ce+-0x2b3*-0xb:0x955+0xd6*-0x4+-0x5fd,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x46ba63,_0x9780b,_0x31f54a){this['target0']=Oe['set'](this['target0'],_0x46ba63,dm,xl),this['target0']=Oe['set'](this['target0'],_0x9780b,um,Vi),this['target0']=Oe['set'](this['target0'],_0x31f54a,fm,Vi);}['setAlphaBl'+'end'](_0x565154,_0xc2208e,_0x5db224){this['target0']=Oe['set'](this['target0'],_0x565154,pm,xl),this['target0']=Oe['set'](this['target0'],_0xc2208e,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x5db224,_m,Vi);}['setColorWr'+'ite'](_0x6d9e39,_0x2413e0,_0x413e14,_0x26ecdb){this['redWrite']=_0x6d9e39,this['greenWrite']=_0x2413e0,this['blueWrite']=_0x413e14,this['alphaWrite']=_0x26ecdb;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x114881){this['target0']=Oe['set'](this['target0'],_0x114881?-0x1*-0x152d+-0x1ff7+0xacb*0x1:-0xd4c+-0x1714+0x2460,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x37faf4){this['target0']=Oe['set'](this['target0'],_0x37faf4?0x1dd9*-0x1+0xcf5*0x3+-0x905:-0x1c*-0x1c+-0x6*-0x2ee+-0x529*0x4,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x4aa3bf){this['target0']=Oe['set'](this['target0'],_0x4aa3bf?-0xbab+0x1*0x182f+-0xc83:0x2cc*0x1+-0x39*-0x27+-0xb7b*0x1,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x26b89c){this['target0']=Oe['set'](this['target0'],_0x26b89c?0x214+-0x41d+0xae*0x3:-0x7cb*-0x2+0x402*0x6+-0x2*0x13d1,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x5129e5){return this['target0']=_0x5129e5['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x1c895e){return this['target0']===_0x1c895e['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(-0xd7*-0x26+0x254a+-0x4534),void(-0x7eb*0x1+0xf95+-0x7aa),void(-0x1*-0x2275+-0xcbe*0x2+-0x8f9),void(0x16b7+-0x65*0x25+-0x81e),void(0x4*0x661+0x1079+0x29fd*-0x1),void(0x1f1c+-0x73a+0x1*-0x17e2),void(-0x4dc+-0x18dc+0x1db8),!(-0x1167+0x4ac+0xcbc),!(-0x8*0x1ce+-0x60a+-0x1*-0x147b),!(-0x184d+0x2707+-0xeb9),!(-0x82e+-0x2115*-0x1+-0x18e6)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0x3d*-0x59+-0xf8*0x8+0x1cf5),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(0x2*0x973+-0x31*0xa6+0x2*0x670),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',0x1fe5+0x2225+0xd6*-0x4f);}['get'](_0x3eae78){let _0x28fed6=this['map']['get'](_0x3eae78);return _0x28fed6===void(-0x100*0x1f+-0x225f+-0xd13*-0x5)&&(_0x28fed6=this['id']++,this['map']['set'](_0x3eae78,_0x28fed6)),_0x28fed6;}}const Fv=new _p(),vm=0x4aa*-0x2+-0x1*-0x2f+0x92c,bm=-0x2630+0x199d+0x57*0x25,wm=0x25c6+0x4c6*0x1+0x1*-0x2a89,Zi=class Zi{constructor(_0x475c09=fu,_0x264b99=!(0x2134+-0x1668+-0xacc)){c(this,'data',0xd78+0x71*0x20+-0x1b98),c(this,'_depthBias',0x12e1+-0x1ca+-0x1117),c(this,'_depthBias'+'Slope',-0xe*-0x82+-0x1e6f+0x1753),c(this,'key',-0xce3+-0x74c+0x142f),(this['func']=_0x475c09,this['write']=_0x264b99);}set['test'](_0x33d751){this['func']=_0x33d751?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x32c559){this['data']=Oe['set'](this['data'],_0x32c559?0xe8a+0x16af*-0x1+0x826:0x1*0x2463+0x97a+-0x1*0x2ddd,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x2d41ed){this['data']=Oe['set'](this['data'],_0x2d41ed,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x500cd4){this['_depthBias']=_0x500cd4,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x115784){this['_depthBias'+'Slope']=_0x115784,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x270d32){return this['data']=_0x270d32['data'],this['_depthBias']=_0x270d32['_depthBias'],this['_depthBias'+'Slope']=_0x270d32['_depthBias'+'Slope'],this['key']=_0x270d32['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x45b7d0,_depthBias:_0x555086,_depthBiasSlope:_0x46f808}=this,_0x34ce50=_0x45b7d0+'-'+_0x555086+'-'+_0x46f808;this['key']=Fv['get'](_0x34ce50);}['equals'](_0x3307f9){return this['key']===_0x3307f9['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(-0x17a6+0x63a*0x3+0x4f9)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(0x8db*0x2+0x2*0x827+-0x2204))));let as=Zi;class Ky{constructor(){c(this,'globalId',-0x114*-0x1b+-0xf94+-0xd88),c(this,'revision',0x14d7+0x12d6+-0x27ad);}['equals'](_0x5e38e0){return this['globalId']===_0x5e38e0['globalId']&&this['revision']===_0x5e38e0['revision'];}['copy'](_0x38cce4){this['globalId']=_0x38cce4['globalId'],this['revision']=_0x38cce4['revision'];}['reset'](){this['globalId']=0x1c48+-0x13eb+-0x85d,this['revision']=0x150a*0x1+0x22d5+0x37df*-0x1;}}let Tm=0x4*0x2f0+0x11d+-0x1*0xcdd;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x21dddd){this['name']=_0x21dddd,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x343fdf){}['setValue'](_0x5daa8e){this['value']=_0x5daa8e,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x4842c7){this['name']=_0x4842c7,this['variables']=new Map();}['resolve'](_0x1e7baf){return this['variables']['has'](_0x1e7baf)||this['variables']['set'](_0x1e7baf,new kv(_0x1e7baf)),this['variables']['get'](_0x1e7baf);}['removeValu'+'e'](_0x18d9db){for(const _0x307901 in this['variables']){const _0x47f19b=this['variables'][_0x307901];_0x47f19b['value']===_0x18d9db&&(_0x47f19b['value']=null);}}}let Nv=0x1218+0x156+0x3*-0x67a;class os{constructor(_0x454cdf,_0x480331,_0x8dc126,_0x4dee06){c(this,'usage',jt),(v['assert'](arguments['length']<=0x5de+0x74*0x2b+-0x1956&&(!_0x4dee06||typeof _0x4dee06=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x4dee06==null?void(-0x1*0x1adf+0x2a3*0x6+-0x45*-0x29):_0x4dee06['usage'])??jt,this['device']=_0x454cdf,this['format']=_0x480331,this['numVertice'+'s']=_0x8dc126,this['id']=Nv++,this['impl']=_0x454cdf['createVert'+'exBufferIm'+'pl'](this,_0x480331,_0x4dee06),this['numBytes']=_0x480331['verticesBy'+'teSize']?_0x480331['verticesBy'+'teSize']:_0x480331['size']*_0x8dc126,this['adjustVram'+'SizeTracki'+'ng'](_0x454cdf['_vram'],this['numBytes']));const _0x188082=_0x4dee06==null?void(0x14*0x194+0xf5*-0xd+-0x131f):_0x4dee06['data'];_0x188082?this['setData'](_0x188082):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x10e98a=this['device'],_0x4e6cc0=_0x10e98a['buffers']['indexOf'](this);_0x4e6cc0!==-(0x1fe1*-0x1+-0x3*-0xc06+-0x430)&&_0x10e98a['buffers']['splice'](_0x4e6cc0,0x2228+-0x2290+0x69),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x10e98a),this['adjustVram'+'SizeTracki'+'ng'](_0x10e98a['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0xcfa481,_0x183250){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x183250+'\x20vram.vb:\x20'+_0xcfa481['vb']+'\x20=>\x20'+(_0xcfa481['vb']+_0x183250)),_0xcfa481['vb']+=_0x183250;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x42d2d8){return _0x42d2d8['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x42d2d8['byteLength']),!(0x1568+0x1568+0x2acf*-0x1)):(this['storage']=_0x42d2d8,this['unlock'](),!(-0xf6b*0x1+0x14ef+-0x584));}}function hn(_0x3ce060){if(_0x3ce060==null)return-0x2497+-0x190+0x2627;let _0x40a615=0x8d3*0x1+0x84a+-0x111d*0x1;for(let _0x36b694=0xeb0+0x21d5+-0x1*0x3085,_0x27d24f=_0x3ce060['length'];_0x36b694<_0x27d24f;_0x36b694++)_0x40a615=(_0x40a615<<0x26*-0xe2+0x3e*0x43+0xc1*0x17)-_0x40a615+_0x3ce060['charCodeAt'](_0x36b694),_0x40a615|=-0x461*0x1+0x26*0x4e+-0x733*0x1;return _0x40a615;}function Zy(_0x4a418f){let _0x41c6eb=0x2*0x2a9d83f2+0x90d9db50+0x21a81725*-0x3;for(let _0x38147f=-0x119c+-0x1*0x2555+-0x1e5*-0x1d;_0x38147f<_0x4a418f['length'];_0x38147f++)_0x41c6eb^=_0x4a418f[_0x38147f],_0x41c6eb*=0x1754aaf*-0x1+0x1b3b871+0xc193d1;return _0x41c6eb>>>-0x748*-0x4+0x1847+0x9*-0x5ef;}const zv=new _p(),Uv=[0x23a1+0x1*0xada+-0x2e79,0x1ef1+0x66e*0x5+-0x43*0xf1,-0x8ee+-0x1689+0x2dd*0xb,0x19ed*0x1+-0x186d+-0x3*0x7c,0x1d26+-0x93a+-0x29*0x7c],Vv=new Ot();class Et{constructor(_0x3deb47,_0x44d0a0,_0x11ffa0){this['device']=_0x3deb47,this['_elements']=[],this['hasUv0']=!(0x1*0xec+0xe4e+-0xf39),this['hasUv1']=!(-0x1f45+0x1*-0x2172+-0x26*-0x1b4),this['hasColor']=!(-0x472*-0x3+0x2b*-0x3e+0x1*-0x2eb),this['hasTangent'+'s']=!(-0xcd4+0x228b+-0x15b6),this['verticesBy'+'teSize']=-0x10*0x117+0xaf5+-0xed*-0x7,this['vertexCoun'+'t']=_0x11ffa0,this['interleave'+'d']=_0x11ffa0===void(0xda2+0x531*-0x4+0x722),this['instancing']=!(-0x20f9+-0x7*0x406+-0x2b*-0x16c),this['size']=_0x44d0a0['reduce']((_0x3a45d3,_0x1bbd26)=>_0x3a45d3+Math['ceil'](_0x1bbd26['components']*_o[_0x1bbd26['type']]/(0x176a+0x176d+-0x2ed3))*(0x1*-0x727+0x18d5+-0x11aa),-0x1cd4+0x25a9+0x7*-0x143);let _0x5ea651=0x1bb7+-0x17f3+-0x3c4,_0x34ade0;for(let _0x8533ce=-0x191a+0x267e+-0xd64,_0x313eb4=_0x44d0a0['length'];_0x8533ce<_0x313eb4;_0x8533ce++){const _0x1d6640=_0x44d0a0[_0x8533ce];_0x34ade0=_0x1d6640['components']*_o[_0x1d6640['type']],v['assert'](Et['isElementV'+'alid'](_0x3deb47,_0x1d6640),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x1d6640['semantic']+'\x20:\x20'+Sv[_0x1d6640['type']]+'\x20x\x20'+_0x1d6640['components']),_0x11ffa0&&(_0x5ea651=N['roundUp'](_0x5ea651,_0x34ade0),v['assert'](_0x34ade0%(-0x4b*0x33+-0x1870+0x2765)===0xb77+0x1*0x19df+-0x2556,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x34ade0));const _0x5d6d38=_0x1d6640['asInt']??!(-0x283*0x1+-0x5bd*-0x1+-0x339),_0x1f9e04=_0x5d6d38?!(0x11*-0x2b+-0xed2+-0x8d7*-0x2):_0x1d6640['normalize']??!(0x2b*0x8+0x1d41+-0x1e98),_0x4b5c23={'name':_0x1d6640['semantic'],'offset':_0x11ffa0?_0x5ea651:_0x1d6640['hasOwnProp'+'erty']('offset')?_0x1d6640['offset']:_0x5ea651,'stride':_0x11ffa0?_0x34ade0:_0x1d6640['hasOwnProp'+'erty']('stride')?_0x1d6640['stride']:this['size'],'dataType':_0x1d6640['type'],'numComponents':_0x1d6640['components'],'normalize':_0x1f9e04,'size':_0x34ade0,'asInt':_0x5d6d38};this['_elements']['push'](_0x4b5c23),_0x11ffa0?_0x5ea651+=_0x34ade0*_0x11ffa0:_0x5ea651+=Math['ceil'](_0x34ade0/(-0x1270+-0x1b5+-0x18d*-0xd))*(0x43*0x61+-0x955*-0x2+0x2c09*-0x1),_0x1d6640['semantic']===ns?this['hasUv0']=!(-0xbae+0x1251*0x2+-0x1*0x18f4):_0x1d6640['semantic']===_n?this['hasUv1']=!(-0xcb2+0x1*-0xe77+0x1*0x1b29):_0x1d6640['semantic']===At?this['hasColor']=!(-0x5*-0x74b+-0x1*0xeca+-0x15ad):_0x1d6640['semantic']===Zs&&(this['hasTangent'+'s']=!(0xa5e*-0x1+0x1abd*-0x1+-0x3b*-0xa1));}_0x11ffa0&&(this['verticesBy'+'teSize']=_0x5ea651),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x5efbf0){return Vv['get'](_0x5efbf0,()=>new Et(_0x5efbf0,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x2feace,_0x1f9e66){const _0x578f88=_0x1f9e66['components']*_o[_0x1f9e66['type']];return!(_0x2feace['isWebGPU']&&!Uv['includes'](_0x578f88));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x15e5d8=[],_0x289730=[],_0x414736=this['_elements']['length'];for(let _0x222e2e=-0xe68+0x1f+-0x3*-0x4c3;_0x222e2e<_0x414736;_0x222e2e++){const {name:_0x2196e5,dataType:_0x2b4844,numComponents:_0x55e901,normalize:_0x2d8e3d,offset:_0x33680a,stride:_0x5276d9,size:_0x28f014,asInt:_0x14ecd4}=this['_elements'][_0x222e2e],_0x3a26ad=_0x2196e5+_0x2b4844+_0x55e901+_0x2d8e3d+_0x14ecd4;_0x15e5d8['push'](_0x3a26ad);const _0x446dd3=_0x3a26ad+_0x33680a+_0x5276d9+_0x28f014;_0x289730['push'](_0x446dd3);}_0x15e5d8['sort']();const _0x5e7138=_0x15e5d8['join']();this['batchingHa'+'sh']=hn(_0x5e7138),this['shaderProc'+'essingHash'+'String']=_0x5e7138,this['renderingH'+'ashString']=_0x289730['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x234994={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(-0x19f*-0x1+0x68+-0x207)),c(this,'_key'),(this['_func']=_0x234994['func']??Ai,this['_ref']=_0x234994['ref']??-0x25a6+0x1*0x1ea6+0x700,this['_readMask']=_0x234994['readMask']??0x26f*-0xb+-0x70f+-0x22d3*-0x1,this['_writeMask']=_0x234994['writeMask']??0x2*-0xc88+0x206e+-0x65f*0x1,this['_fail']=_0x234994['fail']??ha,this['_zfail']=_0x234994['zfail']??ha,this['_zpass']=_0x234994['zpass']??ha,this['_evalKey']());}set['func'](_0x55c956){this['_func']=_0x55c956,this['_dirty']=!(-0x1280+-0x8fb*-0x4+-0x116c);}get['func'](){return this['_func'];}set['ref'](_0x286f2f){this['_ref']=_0x286f2f,this['_dirty']=!(0x19b0+0x226+-0x3fa*0x7);}get['ref'](){return this['_ref'];}set['fail'](_0x4a57de){this['_fail']=_0x4a57de,this['_dirty']=!(0x4*-0x51f+-0x19c+0x1618);}get['fail'](){return this['_fail'];}set['zfail'](_0x26f218){this['_zfail']=_0x26f218,this['_dirty']=!(-0x347*-0xa+0x20bb+0x1*-0x4181);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x48ce33){this['_zpass']=_0x48ce33,this['_dirty']=!(-0x254e+-0x3*0xb15+-0x468d*-0x1);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x29c5bb){this['_readMask']=_0x29c5bb,this['_dirty']=!(-0x1*-0xc25+-0x1353+0x2*0x397);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x18ea34){this['_writeMask']=_0x18ea34,this['_dirty']=!(0x1904*0x1+0x15e8+0x2eec*-0x1);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x5aa074,_ref:_0x447e96,_fail:_0x1f38c0,_zfail:_0x56b6ac,_zpass:_0x4204ec,_readMask:_0x4e43bd,_writeMask:_0x485364}=this,_0xda2643=_0x5aa074+','+_0x447e96+','+_0x1f38c0+','+_0x56b6ac+','+_0x4204ec+','+_0x4e43bd+','+_0x485364;this['_key']=Gv['get'](_0xda2643),this['_dirty']=!(-0x13b1*-0x1+0x53b*-0x1+-0xe75*0x1);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x1e0994){return this['_func']=_0x1e0994['_func'],this['_ref']=_0x1e0994['_ref'],this['_readMask']=_0x1e0994['_readMask'],this['_writeMask']=_0x1e0994['_writeMask'],this['_fail']=_0x1e0994['_fail'],this['_zfail']=_0x1e0994['_zfail'],this['_zpass']=_0x1e0994['_zpass'],this['_dirty']=_0x1e0994['_dirty'],this['_key']=_0x1e0994['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x515b81,_0x4a1af4){var _0x3951c7,_0x4f30cb,_0x896cd,_0x17cc19,_0x260f6b,_0x43e35c;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(-0x43+0x11*0x75+0x71*-0x11)),c(this,'isWebGPU',!(-0x996*0x2+-0x1d06+0x3033)),c(this,'isWebGL2',!(0x9f1+-0x7*0x7+-0x1*0x9bf)),c(this,'isHdr',!(0x10*0x192+0xb59+-0x2478)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',0x2*-0xde4+-0x4ee*0x2+0x1a3*0x17),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x1*0x1dcf+-0x10b+0x1edb),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x1*0x2342+0x39a+-0x31*0xcb)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x173e+-0x1720+0x2e5f)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',0x16c+-0x2*0x195+-0x1be*-0x1),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(-0x179e*0x1+0x20f*0xd+-0x324)),c(this,'supportsUn'+'iformBuffe'+'rs',!(-0x240a*-0x1+0x3b*-0x4c+-0x1285)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x3e2*-0x2+-0xd6d+0x5aa)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0x5c5*-0x5+0x24e1+-0x807)),c(this,'textureFlo'+'atFilterab'+'le',!(0x4*-0x4af+-0x5*-0x389+0x110*0x1)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(-0x2*-0xcf2+0x535*-0x4+-0x50f)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0xdd*-0x1b+0x1258*0x1+-0x29a7,-0x1d1e*0x1+-0x2e*0x3c+0x27e6,0x8*0x7f+0x2312*-0x1+0x1f1a,0xae6+-0x2332+0x184d],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(-0x1*-0x1b7+-0x160f+0x1459)),(this['canvas']=_0x515b81,this['initOption'+'s']={..._0x4a1af4},(_0x3951c7=this['initOption'+'s'])['alpha']??(_0x3951c7['alpha']=!(-0x2*-0xa8b+-0x2*0xc7d+0x3e4)),(_0x4f30cb=this['initOption'+'s'])['depth']??(_0x4f30cb['depth']=!(0x28*0x1b+-0x129*0x9+-0x3*-0x213)),(_0x896cd=this['initOption'+'s'])['stencil']??(_0x896cd['stencil']=!(-0x351+-0x491+0x7e2)),(_0x17cc19=this['initOption'+'s'])['antialias']??(_0x17cc19['antialias']=!(-0x3*-0x9b1+0x4b0+0xb41*-0x3)),(_0x260f6b=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x260f6b['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x43e35c=this['initOption'+'s'])['displayFor'+'mat']??(_0x43e35c['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](0x1b3e+-0x1*-0x2533+-0x2*0x2038,window['devicePixe'+'lRatio']):0x2548+0x896+0x1*-0x2ddd,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x5*-0x530+0x2552*-0x1+0x3f42,this['_shaderSwi'+'tchesPerFr'+'ame']=0x25*0x1+0x22c9+-0x20e*0x11,this['_primsPerF'+'rame']=[]);for(let _0x560647=Mc;_0x560647<=Yr;_0x560647++)this['_primsPerF'+'rame'][_0x560647]=0xf7*0xc+0x12a8+-0x5a*0x56;this['_renderTar'+'getCreatio'+'nTime']=-0x21a*-0x12+0x4*-0xfa+-0x29c*0xd,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x7ec*0x1+0xd*0x1f9+-0x11b9);}['postInit'](){const _0x1335b6=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x3c87f9=new Float32Array([-(-0x2*0x1082+0x83a+0x18cb),-(0x1aaa+0x19f4+-0x1*0x349d),-0x16*0x14d+0x1565*0x1+0xb9*0xa,-(0xaf6+0x1dd5+-0x28ca),-(-0x14e9*-0x1+0x2e7+-0x17cf),0x57+0x2265+-0x11*0x20b,-0x1d5d*0x1+0x3*-0x175+-0x1*-0x21bd,-0x20*-0xda+-0xf*0x1a3+-0x1*0x2b2]);this['quadVertex'+'Buffer']=new os(this,_0x1335b6,0x4*-0x377+0x7e0*0x2+-0x1e0,{'data':_0x3c87f9});}['destroy'](){var _0x3e2c0d,_0x543b55,_0x4a9a1a;this['fire']('destroy'),(_0x3e2c0d=this['quadVertex'+'Buffer'])==null||_0x3e2c0d['destroy'](),this['quadVertex'+'Buffer']=null,(_0x543b55=this['dynamicBuf'+'fers'])==null||_0x543b55['destroy'](),this['dynamicBuf'+'fers']=null,(_0x4a9a1a=this['gpuProfile'+'r'])==null||_0x4a9a1a['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x39e838){this['fire']('destroy:sh'+'ader',_0x39e838);const _0xe98b9d=this['shaders']['indexOf'](_0x39e838);_0xe98b9d!==-(0x2*0x100a+-0x2239*-0x1+-0x424c*0x1)&&this['shaders']['splice'](_0xe98b9d,0x1896+-0x6*0x579+0x841);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x510013;this['contextLos'+'t']=!(-0x6ea+-0x1ea3+0x258d),this['backBuffer'+'Size']['set'](-(-0x221*0x11+0x141*0xb+0x1*0x1667),-(0x1*0x1a44+0x1a16+-0x3459));for(const _0x2a5e67 of this['textures'])_0x2a5e67['loseContex'+'t']();for(const _0x1959e4 of this['buffers'])_0x1959e4['loseContex'+'t']();for(const _0x251bb0 of this['targets'])_0x251bb0['loseContex'+'t']();(_0x510013=this['gpuProfile'+'r'])==null||_0x510013['loseContex'+'t']();}['restoreCon'+'text'](){var _0x503634,_0x404f57;this['contextLos'+'t']=!(0x8e4*0x1+0x1*-0xd6b+0x244*0x2),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x133f15 of this['buffers'])_0x133f15['unlock']();(_0x404f57=(_0x503634=this['gpuProfile'+'r'])==null?void(0x645+0xdb8+0x1*-0x13fd):_0x503634['restoreCon'+'text'])==null||_0x404f57['call'](_0x503634);}['toJSON'](_0x2061b0){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0xfa1*-0x1+0x1ccf+0x697*-0x2),this['shaderAsyn'+'cCompile']=!(0x1fd*-0x4+0x1a59+-0x499*0x4),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0x1*0x123+-0x11c3+0x10a0,this['sx']=this['sy']=this['sw']=this['sh']=-0x12*0x1e7+-0x145a*-0x1+0xde4,this['blendColor']=new Y(0x28a*-0x2+-0x174+-0x13*-0x58,0x2*0xf1d+0x1d11+-0x2b*0x161,-0x2569*0x1+-0xa4e+0x5*0x98b,0x20b*-0xb+-0x3*0x517+0x25be);}['setStencil'+'State'](_0x10620c,_0x2fdb84){v['assert'](!(-0x2c*0x8+0x15e2*-0x1+0x1743*0x1));}['setBlendSt'+'ate'](_0x7edf3a){v['assert'](!(-0x1c41+-0x2*-0x124c+-0x16*0x61));}['setBlendCo'+'lor'](_0x2b1f7,_0x150ab0,_0x57635d,_0x14c3b9){v['assert'](!(-0x9*0x2cd+-0x1060+0x2996));}['setDepthSt'+'ate'](_0x59bd6b){v['assert'](!(-0xe13+0x137b*-0x1+0x218f));}['setCullMod'+'e'](_0x411d01){v['assert'](!(0x22f+-0x1661+0x1433));}['setRenderT'+'arget'](_0x38cdb4){this['renderTarg'+'et']=_0x38cdb4;}['setIndexBu'+'ffer'](_0x4529ef){this['indexBuffe'+'r']=_0x4529ef;}['setVertexB'+'uffer'](_0xdd6f95){_0xdd6f95&&this['vertexBuff'+'ers']['push'](_0xdd6f95);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0xfd3+-0x199c+0x9c9;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x53bfb1){if(_0x53bfb1['initialize'+'d'])return;const _0xc510e6=ne();this['fire']('fbo:create',{'timestamp':_0xc510e6,'target':this}),_0x53bfb1['init'](),this['targets']['add'](_0x53bfb1),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0xc510e6;}['_isBrowser'+'Interface'](_0x54c343){return this['_isImageBr'+'owserInter'+'face'](_0x54c343)||this['_isImageCa'+'nvasInterf'+'ace'](_0x54c343)||this['_isImageVi'+'deoInterfa'+'ce'](_0x54c343);}['_isImageBr'+'owserInter'+'face'](_0x3de152){return typeof ImageBitmap<'u'&&_0x3de152 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x3de152 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x1e60c6){return typeof HTMLCanvasElement<'u'&&_0x1e60c6 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x39a018){return typeof HTMLVideoElement<'u'&&_0x39a018 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x481874,_0x3d6384){const _0x750bac=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x2071+0x1*0x1f51+0x121),_0x3e413f=Math['floor'](_0x481874*_0x750bac),_0x922f37=Math['floor'](_0x3d6384*_0x750bac);(_0x3e413f!==this['canvas']['width']||_0x922f37!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x3e413f,_0x922f37);}['setResolut'+'ion'](_0x930c4a,_0x980a8a){this['canvas']['width']=_0x930c4a,this['canvas']['height']=_0x980a8a,this['fire'](nc['EVENT_RESI'+'ZE'],_0x930c4a,_0x980a8a);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x2fc749=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x2fc749['width'],this['clientRect']['height']=_0x2fc749['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x2c1b97){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0xbef+0x2231+-0x1641);}set['maxPixelRa'+'tio'](_0xa5b932){this['_maxPixelR'+'atio']=_0xa5b932;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x54fd30){}['endRenderP'+'ass'](_0x5b292b){}['startCompu'+'tePass'](_0x3d1d84){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x1*0x22be+-0x4f1+-0x1*0x1dcd,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x1ee034=this['textures']['slice']();_0x1ee034['sort']((_0x1775b8,_0x541e31)=>_0x541e31['gpuSize']-_0x1775b8['gpuSize']),v['log']('Textures:\x20'+_0x1ee034['length']);let _0x40992a=-0x138a+0x12d0+0xba;_0x1ee034['forEach']((_0x3015c5,_0x11cf8b)=>{const _0x5484bf=_0x3015c5['gpuSize'];_0x40992a+=_0x5484bf,v['log'](_0x11cf8b+'.\x20'+_0x3015c5['name']+'\x20'+_0x3015c5['width']+'x'+_0x3015c5['height']+'\x20VRAM:\x20'+(_0x5484bf/(-0x1ee2*-0x1+-0x7*-0x223+0x29d7*-0x1)/(-0x77e+0xeb6*-0x2+0x28ea))['toFixed'](0x9*0x257+0x8f*-0x22+-0x20f)+'\x20MB');}),v['log']('Total:\x20'+(_0x40992a/(0x1810+-0x20bc+0xcac*0x1)/(-0x625+-0x14bb+0x1ee0))['toFixed'](0x1d*-0xe5+-0x30e+0x1d01)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x359dda,_0x103b4d='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x50be4e=[_a,Je,Ke],_0x31649b=!(-0x1*-0x1c7d+0x15ea+-0x3267),_0x352d60=0xc14+-0xf83+0x370){for(let _0x35a94f=-0x26c2+-0xd28+0x33ea;_0x35a94f<_0x50be4e['length'];_0x35a94f++){const _0x2d3def=_0x50be4e[_0x35a94f];switch(_0x2d3def){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x2d3def;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x2d3def;break;case Ke:if(this['isWebGPU']&&_0x352d60>-0x1*-0x717+0x1*-0xe77+0x761)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x31649b||this['textureFlo'+'atFilterab'+'le']))return _0x2d3def;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0x848*0x2+0xcf*0x30+0x10*-0x376;class pt{constructor(_0x49e82c={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x2588d6,_0x4bf20c,_0x57d818,_0x29cf8c,_0x3dd7ce,_0x114937;v['assert'](!(_0x49e82c instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x39acbc=((_0x2588d6=_0x49e82c['colorBuffe'+'r'])==null?void(-0x25d3+0x1bc9+0xa0a):_0x2588d6['device'])??((_0x4bf20c=_0x49e82c['colorBuffe'+'rs'])==null?void(0xfb7+0x1601*-0x1+0x64a):_0x4bf20c[-0x30f+0x2284+-0x1f75]['device'])??((_0x57d818=_0x49e82c['depthBuffe'+'r'])==null?void(-0x1511*-0x1+-0x1*0x2e7+-0x307*0x6):_0x57d818['device'])??_0x49e82c['graphicsDe'+'vice'];v['assert'](_0x39acbc,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x39acbc;const {maxSamples:_0x15f135}=this['_device'];if(this['_samples']=Math['min'](_0x49e82c['samples']??-0xe86+-0x154c+0xbf1*0x3,_0x15f135),_0x39acbc['isWebGPU']&&(this['_samples']=this['_samples']>0xcf5+0x847+-0x153b?_0x15f135:0x36d*-0x2+-0x1e05+0x49c*0x8),this['_colorBuff'+'er']=_0x49e82c['colorBuffe'+'r'],_0x49e82c['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x49e82c['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x49e82c['depthBuffe'+'r'],this['_face']=_0x49e82c['face']??0x1*0x17a7+0x1*0xef9+-0x26a0,this['_depthBuff'+'er']){const _0x1f3acd=this['_depthBuff'+'er']['_format'];_0x1f3acd===Ci||_0x1f3acd===la?(this['_depth']=!(0x804+0x131e*-0x2+0x1e38),this['_stencil']=!(0x2311+0x509*-0x1+-0x1e07)):_0x1f3acd===vc?(this['_depth']=!(-0x17b1*0x1+0x4f7*-0x3+-0x1*-0x2696),this['_stencil']=!(0x11*0x49+-0x10c*-0xc+-0x1169)):_0x1f3acd===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x1afb*-0x1+0x15*0x29+-0x1e57?(this['_depth']=!(-0x83*0x1d+0x18de+0xa07*-0x1),this['_stencil']=!(0x1*-0xbdb+0x20df+0x3*-0x701)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x1c45+-0x255d+0x919),this['_stencil']=!(0x3a5+-0x3b*0x67+0x1419));}else this['_depth']=_0x49e82c['depth']??!(-0x24fc+0x1737+-0x2f*-0x4b),this['_stencil']=_0x49e82c['stencil']??!(-0xc7*0x2a+0x84*0x8+0x1c87);_0x49e82c['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x49e82c['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x49e82c['colorBuffe'+'rs'][-0x519+-0x1*-0x9b3+-0x49a])),this['autoResolv'+'e']=_0x49e82c['autoResolv'+'e']??!(0x1a06+0x1b7f+0x3585*-0x1),this['name']=_0x49e82c['name'],this['name']||(this['name']=(_0x29cf8c=this['_colorBuff'+'er'])==null?void(0x179*0x8+0x13*-0x1ed+0x18cf):_0x29cf8c['name']),this['name']||(this['name']=(_0x3dd7ce=this['_depthBuff'+'er'])==null?void(0x39*0x2f+0x8a6+-0x131d):_0x3dd7ce['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x49e82c['flipY']??!(-0xa7+-0x2*0xd21+0xa*0x2b1),this['_mipLevel']=_0x49e82c['mipLevel']??0x936+-0x1*-0x4c+0x4c1*-0x2,this['_mipLevel']>-0x2*0xbe7+0xd6f+0x375*0x3&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x49e82c}),this['_mipLevel']=-0x2*-0x609+0x183e+-0x7*0x530),this['_mipmaps']=_0x49e82c['mipLevel']===void(-0x2218+0xe2f+-0x13e9*-0x1),this['validateMr'+'t'](),this['impl']=_0x39acbc['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x114937=this['_colorBuff'+'ers'])!=null&&_0x114937['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x30aefd=this['_device'];_0x30aefd&&(_0x30aefd['targets']['delete'](this),_0x30aefd['renderTarg'+'et']===this&&_0x30aefd['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0xd25acb=this['_device'];_0xd25acb&&this['impl']['destroy'](_0xd25acb);}['destroyTex'+'tureBuffer'+'s'](){var _0x30b6d5,_0x2e665d;(_0x30b6d5=this['_depthBuff'+'er'])==null||_0x30b6d5['destroy'](),this['_depthBuff'+'er']=null,(_0x2e665d=this['_colorBuff'+'ers'])==null||_0x2e665d['forEach'](_0x2b8963=>{_0x2b8963['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x2dbc83,_0x120b00){var _0x26078a,_0x453752;if(this['width']!==_0x2dbc83||this['height']!==_0x120b00){if(this['mipLevel']>-0xa48+0x4a4+-0x5a4*-0x1){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x59eda6=this['_device'];this['destroyFra'+'meBuffers'](),_0x59eda6['renderTarg'+'et']===this&&_0x59eda6['setRenderT'+'arget'](null),(_0x26078a=this['_depthBuff'+'er'])==null||_0x26078a['resize'](_0x2dbc83,_0x120b00),(_0x453752=this['_colorBuff'+'ers'])==null||_0x453752['forEach'](_0xbc1349=>{_0xbc1349['resize'](_0x2dbc83,_0x120b00);}),this['validateMr'+'t'](),this['impl']=_0x59eda6['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x1674e6,height:_0x41575d,cubemap:_0x19cd22,volume:_0x3e51ef}=this['_colorBuff'+'ers'][-0xe4b*0x2+0x49*0x61+0xed];for(let _0x3188e9=0x262a+0x139+-0x2762;_0x3188e9<this['_colorBuff'+'ers']['length'];_0x3188e9++){const _0x48abc3=this['_colorBuff'+'ers'][_0x3188e9];v['assert'](_0x48abc3['width']===_0x1674e6,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x48abc3['height']===_0x41575d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x48abc3['cubemap']===_0x19cd22,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x48abc3['volume']===_0x3e51ef,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x49d309=!(-0x68*-0x1e+-0xe35+0x205),_0x4786a1=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x17b5+0xb44+-0x22f8&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x49d309?'[color]':'')+':'+(_0x4786a1?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x49d309,_0x4786a1),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x2365e9,_0x895afc,_0x3046fa){if(!this['_device']){if(_0x2365e9['_device'])this['_device']=_0x2365e9['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0xdf*0x7+-0x3f*-0x4+0x51e);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x2365e9['name']+'->'+this['name']);const _0x2da331=this['_device']['copyRender'+'Target'](_0x2365e9,this,_0x895afc,_0x3046fa);return G['popGpuMark'+'er'](this['_device']),_0x2da331;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x594d6a){var _0x4e796c;return(_0x4e796c=this['_colorBuff'+'ers'])==null?void(-0x979+0x2*0xc4b+-0xf1d*0x1):_0x4e796c[_0x594d6a];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x33b1b2,_0x4e295e;let _0x31cd25=((_0x33b1b2=this['_colorBuff'+'er'])==null?void(-0x27d*0xc+-0x1c30+0x14*0x2e7):_0x33b1b2['width'])||((_0x4e295e=this['_depthBuff'+'er'])==null?void(0x6f7+0x25*-0x44+-0x2dd*-0x1):_0x4e295e['width'])||this['_device']['width'];return this['_mipLevel']>-0x10e1+-0x2348+0x3429&&(_0x31cd25=Mi['calcLevelD'+'imension'](_0x31cd25,this['_mipLevel'])),_0x31cd25;}get['height'](){var _0x84318c,_0x1bca03;let _0x430894=((_0x84318c=this['_colorBuff'+'er'])==null?void(-0x1*0x37a+0x346+0x34):_0x84318c['height'])||((_0x1bca03=this['_depthBuff'+'er'])==null?void(0x1101+0x746+0x4db*-0x5):_0x1bca03['height'])||this['_device']['height'];return this['_mipLevel']>-0x659+-0x4b2*-0x5+0x36d*-0x5&&(_0x430894=Mi['calcLevelD'+'imension'](_0x430894,this['_mipLevel'])),_0x430894;}['isColorBuf'+'ferSrgb'](_0x2c185f=0x109*0xb+-0x24c9+0x1966){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x114984=this['getColorBu'+'ffer'](_0x2c185f);return _0x114984?Mh(_0x114984['format']):!(-0x1062+-0x1051+-0x4*-0x82d);}}const Wv={'equals'(_0x4705fb,_0x5991e6){if(_0x4705fb['length']!==_0x5991e6['length'])return!(0x13c7+-0x1b9+0x120d*-0x1);for(let _0x2f66ff=0x989*0x2+-0x21f4+-0xa*-0x17d;_0x2f66ff<_0x4705fb['length'];_0x2f66ff++)if(_0x4705fb[_0x2f66ff]!==_0x5991e6[_0x2f66ff])return!(-0x10*0x1f4+0x2166+0x9*-0x3d);return!(0x22bc+0x1*-0xa61+-0x185b);}};class Gc{constructor(){c(this,'_refCount',0x1*-0x1344+-0xa59+0x1d9d);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Gc{constructor(_0x3e62ee){super(),c(this,'object'),(this['object']=_0x3e62ee,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x3592c7=>{var _0x2fcd13;(_0x2fcd13=_0x3592c7['object'])==null||_0x2fcd13['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x1f8e20){const _0x48909e=this['cache']['get'](_0x1f8e20);return _0x48909e?(_0x48909e['incRefCoun'+'t'](),_0x48909e['object']):null;}['set'](_0x223f61,_0x29abd3){v['assert'](!this['cache']['has'](_0x223f61),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x223f61,'object':_0x29abd3}),this['cache']['set'](_0x223f61,new $v(_0x29abd3));}['release'](_0x550121){var _0x3c24b4;const _0x252f8a=this['cache']['get'](_0x550121);_0x252f8a?(_0x252f8a['decRefCoun'+'t'](),_0x252f8a['refCount']===-0x26a2+0x207c+0x626&&(this['cache']['delete'](_0x550121),(_0x3c24b4=_0x252f8a['object'])==null||_0x3c24b4['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x550121});}}class Xv extends qv{['loseContex'+'t'](_0x136612){this['clear']();}}const jv=new Ot(),od=_0xffcf73=>jv['get'](_0xffcf73,()=>new Xv()),ot=[];ot[$s]=0xe54+-0x171b+0x8c8,ot[or]=-0x3*0x36d+-0xcd*-0x29+-0x168c,ot[$t]=0x1d9c+0x105d*0x1+-0x2df6,ot[xa]=-0x732+0x1315*0x1+0x3f5*-0x3,ot[ln]=-0x9d6*0x2+0x24ae+-0x1101,ot[Zr]=0x1*-0xf1+0x1b*-0x141+0x195*0x16,ot[Qr]=-0x1*-0x351+-0x91b+0x5cd,ot[Jr]=0x2*-0xf72+-0x3a*0x22+0x269c,ot[ca]=0x15ac+0x1*-0x1363+-0x248,ot[Lo]=-0x2*-0xe6f+-0x43*-0x5a+-0x346a,ot[Fo]=0x20a4+0x1*0x117a+-0x321b*0x1,ot[Oo]=0x11e7*0x1+0x26ed+-0x38d0,ot[Rh]=0x1c4e+-0xc9e*-0x1+-0x28e4,ot[ko]=0x1ce+0x1*-0x2349+-0xb2d*-0x3,ot[Sa]=0x15*0xbf+-0xf3*-0x11+-0x1fbe,ot[va]=0xe23+-0x5*0x2e3+-0x1*-0x4d,ot[ba]=0x1*-0x2167+0x78f*0x1+0x19da,ot[wa]=-0x1f4b+0xfef+0xf5f,ot[Ta]=0xb8f*-0x3+-0x70e+0x29bf;class gt{constructor(_0x37f2ca,_0x4bf163,_0x5b24ab=0x1953+0x95e+-0x22b1){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x37f2ca,this['name']=_0x5b24ab?_0x37f2ca+'[0]':_0x37f2ca,this['type']=_0x4bf163,this['numCompone'+'nts']=ot[_0x4bf163],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x4bf163+'\x20used\x20for\x20'+_0x37f2ca),this['updateType']=_0x4bf163,_0x5b24ab>0x3b*-0xa7+0x2e9*-0x6+-0x37f3*-0x1)switch(_0x4bf163){case $s:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case $t:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x4bf163]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x37f2ca+'\x27.'),v['call'](()=>{this['invalid']=!(-0x4d9*-0x1+0x1c1a+-0x20f3);});break;}this['count']=_0x5b24ab,v['assert'](!isNaN(_0x5b24ab),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x37f2ca+'['+_0x5b24ab+']'),v['call'](()=>{isNaN(_0x5b24ab)&&(this['invalid']=!(0xc91+-0x8dd+0xc*-0x4f));});let _0x5b1c60=this['numCompone'+'nts'];_0x5b24ab&&(_0x5b1c60=N['roundUp'](_0x5b1c60,0x20f0+-0x3a*0xa6+0x4b0)),this['byteSize']=_0x5b1c60*(-0x1fd4+-0x6f*-0xc+0x1aa4),_0x5b24ab&&(this['byteSize']*=_0x5b24ab),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x4bf163+'\x20used\x20for\x20'+_0x37f2ca);}get['isArrayTyp'+'e'](){return this['count']>0x2365*0x1+0x3a*0x9e+-0x4731;}['calculateO'+'ffset'](_0x518ddb){let _0x71f02=this['byteSize']<=-0x4*0x223+-0x100*-0xb+-0x5*0x7c?this['byteSize']:0xbea+-0x275+-0x965;this['count']&&(_0x71f02=0x9*-0x2e+-0x3ab+0x1*0x559),_0x518ddb=N['roundUp'](_0x518ddb,_0x71f02),this['offset']=_0x518ddb/(-0x1*0x3d1+-0x6f8+0xacd);}}class Qy{constructor(_0x544cae,_0x34893f){c(this,'byteSize',0xa12+0x1*0x1017+-0x1a29),c(this,'map',new Map()),(this['scope']=_0x544cae['scope'],this['uniforms']=_0x34893f);let _0x3b4f49=-0x4a*-0x23+0x4*0x5c1+0x1091*-0x2;for(let _0x4c04e2=0x11fd+-0x15a*-0x1+-0x1*0x1357;_0x4c04e2<_0x34893f['length'];_0x4c04e2++){const _0xa903ab=_0x34893f[_0x4c04e2];_0xa903ab['calculateO'+'ffset'](_0x3b4f49),_0x3b4f49=_0xa903ab['offset']*(0x38*0x98+0x16e8+-0x1*0x3824)+_0xa903ab['byteSize'],_0xa903ab['scopeId']=this['scope']['resolve'](_0xa903ab['name']),this['map']['set'](_0xa903ab['name'],_0xa903ab);}this['byteSize']=N['roundUp'](_0x3b4f49,0x4*0x6d9+-0xb*0x1b+-0x1a2b);}['get'](_0x18e0d9){return this['map']['get'](_0x18e0d9);}['getShaderD'+'eclaration'](_0x1b86b6,_0x3c8cfa){const _0x5d1077=xv[_0x1b86b6];let _0x580afd='layout(set'+'\x20=\x20'+_0x1b86b6+(',\x20binding\x20'+'=\x20')+_0x3c8cfa+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x5d1077+'\x20{\x0a';return this['uniforms']['forEach'](_0x2bf553=>{const _0x2adfa0=dp[_0x2bf553['type']];v['assert'](_0x2adfa0['length']>0x14bd*-0x1+0x258+0x1265,'Uniform\x20ty'+'pe\x20'+_0x2bf553['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x580afd+='\x20\x20\x20\x20'+_0x2adfa0+'\x20'+_0x2bf553['shortName']+(_0x2bf553['count']?'['+_0x2bf553['count']+']':'')+';\x0a';}),_0x580afd+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x27564b,_0x4f3184=new Map(),_0x69dc2b={}){vs['sourceName']=_0x69dc2b['sourceName'],_0x27564b=this['stripComme'+'nts'](_0x27564b),_0x27564b=_0x27564b['split'](/\r?\n/)['map'](_0x3679c0=>_0x3679c0['trimEnd']())['join']('\x0a');const _0x464d75=new Map();if(_0x69dc2b['stripUnuse'+'dColorAtta'+'chments']){const _0x334d52=new Map(),_0x5058f6=/(pcFragColor[1-8])\b/g,_0x2caceb=_0x27564b['match'](_0x5058f6);_0x2caceb==null||_0x2caceb['forEach'](_0x952bf3=>{const _0x3885d6=parseInt(_0x952bf3['charAt'](_0x952bf3['length']-(0x1*-0x7f5+-0x2681*-0x1+0x1*-0x1e8b)),0xa7*-0x15+-0x1b4b*0x1+0x2908);_0x334d52['set'](_0x3885d6,(_0x334d52['get'](_0x3885d6)??-0x27*0x8e+-0x178a+-0xe*-0x33a)+(0x4b*-0x7d+-0x128a*-0x2+-0x1d*0x4));}),_0x334d52['forEach']((_0x46d80f,_0x5c4f16)=>{_0x46d80f===0x1d2f+0x1*0x1781+-0x34af&&_0x464d75['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x5c4f16,'');});}_0x27564b=this['_preproces'+'s'](_0x27564b,_0x464d75,_0x4f3184,_0x69dc2b['stripDefin'+'es']);const _0x530aa8=new Map();_0x464d75['forEach']((_0x5cebf9,_0x2609aa)=>{Number['isInteger'](parseFloat(_0x5cebf9))&&!_0x5cebf9['includes']('.')&&_0x530aa8['set'](_0x2609aa,_0x5cebf9);});const _0xca61fd=new Map();return _0x464d75['forEach']((_0x3c6d51,_0x3446c9)=>{_0x3446c9['startsWith']('__INJECT_')&&_0xca61fd['set'](_0x3446c9,_0x3c6d51);}),_0x27564b=this['stripComme'+'nts'](_0x27564b),_0x27564b=this['RemoveEmpt'+'yLines'](_0x27564b),_0x27564b=this['processArr'+'aySize'](_0x27564b,_0x530aa8),_0x27564b=this['injectDefi'+'nes'](_0x27564b,_0xca61fd),_0x27564b;}static['stripComme'+'nts'](_0x526ad0){return _0x526ad0['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x24aae1,_0x43ca31){return _0x24aae1!==null&&_0x43ca31['forEach']((_0xfca122,_0x4fad42)=>{_0x24aae1=_0x24aae1['replace'](new RegExp('\x5c['+_0x4fad42+'\x5c]','g'),'['+_0xfca122+']');}),_0x24aae1;}static['injectDefi'+'nes'](_0x442b38,_0x38a1d6){if(_0x442b38!==null&&_0x38a1d6['size']>-0x2431*0x1+0x751+0x84*0x38){const _0x4c93e7=_0x442b38['split']('\x0a');_0x38a1d6['forEach']((_0x4e5203,_0x3d56a6)=>{const _0x2f4d39=new RegExp('\x5cb'+_0x3d56a6+'\x5cb','g');for(let _0x4fdbaf=0x1cfa+0x259*-0x9+-0x7d9;_0x4fdbaf<_0x4c93e7['length'];_0x4fdbaf++)_0x4c93e7[_0x4fdbaf]['includes']('#')||(_0x4c93e7[_0x4fdbaf]=_0x4c93e7[_0x4fdbaf]['replace'](_0x2f4d39,_0x4e5203));}),_0x442b38=_0x4c93e7['join']('\x0a');}return _0x442b38;}static['RemoveEmpt'+'yLines'](_0x27e1d3){return _0x27e1d3!==null&&(_0x27e1d3=_0x27e1d3['split'](/\r?\n/)['map'](_0x189ec6=>_0x189ec6['trim']()===''?'':_0x189ec6)['join']('\x0a'),_0x27e1d3=_0x27e1d3['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x27e1d3;}static['_preproces'+'s'](_0x5a84ba,_0x149c9d=new Map(),_0x4a7f97,_0x368723){const _0x4fa9cc=_0x5a84ba,_0x27b043=[];let _0xe48094=!(0x39*0x24+-0xcc4+0x4c1),_0x24e74a;for(;(_0x24e74a=fs['exec'](_0x5a84ba))!==null;){const _0x1adc75=_0x24e74a[0x48f*-0x3+-0x2162*0x1+0x2f10];switch(_0x1adc75){case'define':{ld['lastIndex']=_0x24e74a['index'];const _0x4de26d=ld['exec'](_0x5a84ba);v['assert'](_0x4de26d,'Invalid\x20['+_0x1adc75+']:\x20'+_0x5a84ba['substring'](_0x24e74a['index'],_0x24e74a['index']+(0xa*0xf1+0xce3*0x1+-0x15e9))+'...'),_0xe48094||(_0xe48094=_0x4de26d===null);const _0x3f1b8c=_0x4de26d[-0x2619*0x1+0x1959+0x5*0x28d];Em['lastIndex']=_0x4de26d['index'];const _0xc32968=Em['exec'](_0x3f1b8c)[-0xe*-0xb1+0x66*-0x2f+-0x90d*-0x1];let _0x3741e0=_0x3f1b8c['substring'](_0xc32968['length'])['trim']();_0x3741e0===''&&(_0x3741e0='true');const _0x9d24b0=vs['_keep'](_0x27b043);_0x9d24b0&&(_0x149c9d['set'](_0xc32968,_0x3741e0),_0x368723&&(_0x5a84ba=_0x5a84ba['substring'](0x18b1*-0x1+-0x679+-0x2*-0xf95,_0x4de26d['index']-(-0x1*0xd01+0x2*-0xf21+0x2b44))+_0x5a84ba['substring'](ld['lastIndex']),fs['lastIndex']=_0x4de26d['index']-(0x3*0x2e7+0x19bb+-0x226f))),v['trace'](gr,_0x1adc75+':\x20['+_0xc32968+']\x20'+_0x3741e0+'\x20'+(_0x9d24b0?'':'IGNORED')),_0x368723||(fs['lastIndex']=_0x4de26d['index']+_0x4de26d[0x1*-0x106d+0x3a*0x53+-0x261]['length']);break;}case'undef':{hd['lastIndex']=_0x24e74a['index'];const _0x5cea2c=hd['exec'](_0x5a84ba),_0x3a7b67=_0x5cea2c[-0x1b*0x14+-0x20d9+0x2*0x117b]['trim'](),_0x45d53b=vs['_keep'](_0x27b043);_0x45d53b&&(_0x149c9d['delete'](_0x3a7b67),_0x368723&&(_0x5a84ba=_0x5a84ba['substring'](-0x9f*0xa+0x15f3*0x1+-0xfbd,_0x5cea2c['index']-(-0x1836*0x1+-0x243b*-0x1+-0xc04))+_0x5a84ba['substring'](hd['lastIndex']),fs['lastIndex']=_0x5cea2c['index']-(0x1921+-0x73f+-0x17*0xc7))),v['trace'](gr,_0x1adc75+':\x20['+_0x3a7b67+']\x20'+(_0x45d53b?'':'IGNORED')),_0x368723||(fs['lastIndex']=_0x5cea2c['index']+_0x5cea2c[0x28*0xb3+-0x26a4+-0x4*-0x2ab]['length']);break;}case'extension':{Am['lastIndex']=_0x24e74a['index'];const _0xb59596=Am['exec'](_0x5a84ba);if(v['assert'](_0xb59596,'Invalid\x20['+_0x1adc75+']:\x20'+_0x5a84ba['substring'](_0x24e74a['index'],_0x24e74a['index']+(-0x1eae+0x35*-0x17+0x23d5))+'...'),_0xe48094||(_0xe48094=_0xb59596===null),_0xb59596){const _0x4e9b69=_0xb59596[-0x1533+-0x34*0x18+0x1a14],_0x51239b=vs['_keep'](_0x27b043);_0x51239b&&_0x149c9d['set'](_0x4e9b69,'true'),v['trace'](gr,_0x1adc75+':\x20['+_0x4e9b69+']\x20'+(_0x51239b?'':'IGNORED'));}fs['lastIndex']=_0xb59596['index']+_0xb59596[0x2db+-0x2332+0x2057]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x24e74a['index'];const _0x10ce3d=cd['exec'](_0x5a84ba),_0x4fe089=_0x10ce3d[0xd8b*-0x2+-0xadc*0x3+0x3bac],_0x33d1be=vs['evaluate'](_0x4fe089,_0x149c9d);_0xe48094||(_0xe48094=_0x33d1be['error']);let _0x15c11a=_0x33d1be['result'];_0x1adc75==='ifndef'&&(_0x15c11a=!_0x15c11a),_0x27b043['push']({'anyKeep':_0x15c11a,'keep':_0x15c11a,'start':_0x24e74a['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x1adc75+':\x20['+_0x4fe089+']\x20=>\x20'+_0x15c11a),fs['lastIndex']=_0x10ce3d['index']+_0x10ce3d[0x13d9+-0x6c7+0x2*-0x689]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x24e74a['index'];const _0x5dd466=dd['exec'](_0x5a84ba),_0x4df577=_0x27b043['pop'](),_0x2b2a17=_0x4df577['keep']?_0x5a84ba['substring'](_0x4df577['end'],_0x24e74a['index']):'';v['trace'](gr,_0x1adc75+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x2b2a17!=='')),_0x5a84ba=_0x5a84ba['substring'](-0x289+0x18ba+0x12b*-0x13,_0x4df577['start'])+_0x2b2a17+_0x5a84ba['substring'](dd['lastIndex']),fs['lastIndex']=_0x4df577['start']+_0x2b2a17['length'];const _0x35bd98=_0x5dd466[-0x440*-0x3+-0x5cb*-0x2+-0x1855];if(_0x35bd98==='else'||_0x35bd98==='elif'){let _0x4e90b6=!(-0x26e2+0x7f*-0x29+-0x13*-0x31e);if(!_0x4df577['anyKeep']){if(_0x35bd98==='else')_0x4e90b6=!_0x4df577['keep'];else{const _0x15eb19=vs['evaluate'](_0x5dd466[0x1*0x1b8b+-0x6*0xc5+-0x1*0x16eb],_0x149c9d);_0x4e90b6=_0x15eb19['result'],_0xe48094||(_0xe48094=_0x15eb19['error']);}}_0x27b043['push']({'anyKeep':_0x4df577['anyKeep']||_0x4e90b6,'keep':_0x4e90b6,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x1adc75+':\x20['+_0x5dd466[0x1*-0xb49+-0x1*0x2407+-0x3*-0xfc6]+']\x20=>\x20'+_0x4e90b6);}break;}case'include':{ud['lastIndex']=_0x24e74a['index'];const _0x5acdf2=ud['exec'](_0x5a84ba);_0xe48094||(_0xe48094=_0x5acdf2===null),v['assert'](_0x5acdf2,'Invalid\x20['+_0x1adc75+']:\x20'+_0x5a84ba['substring'](_0x24e74a['index'],_0x24e74a['index']+(-0xa9*0x9+-0x12bd+0x1912))+'...');const _0x4a9c2d=_0x5acdf2[-0x165e+0x255d+-0x65*0x26]['trim'](),_0x5423f9=vs['_keep'](_0x27b043);if(_0x5423f9){const _0x56ac49=_0x4a7f97==null?void(-0x49d*-0x2+0x2015+0x2d*-0xeb):_0x4a7f97['get'](_0x4a9c2d);_0x56ac49!==void(0x19c6+0x1*0x1e4a+-0x3810)?(_0x5a84ba=_0x5a84ba['substring'](-0x1b3a+-0x66*0x9+0x1ed0,_0x5acdf2['index']-(0x24d*-0x5+0x1f52+0x8*-0x27a))+_0x56ac49+_0x5a84ba['substring'](ud['lastIndex']),fs['lastIndex']=_0x5acdf2['index']-(0x25f5*0x1+0x1b0b+0x7*-0x949)):(console['error']('Include\x20\x22'+_0x4a9c2d+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x4fa9cc}),_0xe48094=!(-0x1d4f+0x1*0x198f+0xc0*0x5));}v['trace'](gr,_0x1adc75+':\x20['+_0x4a9c2d+']\x20'+(_0x5423f9?'':'IGNORED'));break;}}}return _0xe48094?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x4fa9cc}),_0x4fa9cc):_0x5a84ba;}static['_keep'](_0x2a920e){for(let _0x2bf498=-0x2*0x425+0x1ca*0x3+0x2ec;_0x2bf498<_0x2a920e['length'];_0x2bf498++)if(!_0x2a920e[_0x2bf498]['keep'])return!(0x122e+-0x1bcc+-0x99f*-0x1);return!(-0x79*-0x2b+0x97d+-0x1dd0);}static['evaluate'](_0x253a2d,_0x45a122){const _0x504ee2=Zv['exec'](_0x253a2d)===null;v['assert'](_0x504ee2,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x253a2d);let _0x596e66=!(0x9*0x2e8+0x1a38+-0x1175*0x3);const _0x577a13=Yv['exec'](_0x253a2d);_0x577a13&&(_0x596e66=_0x577a13[0xc*0x1d9+0x1a32+-0x305d]==='!',_0x253a2d=_0x577a13[0x33*0x87+0x1499+-0x17be*0x2]);const _0x2f2490=Kv['exec'](_0x253a2d);if(_0x2f2490){const _0x3ea49c=_0x45a122['get'](_0x2f2490[-0x71*-0x4+-0xe98+0x447*0x3])??_0x2f2490[-0x1*0x1cc0+0x7*0x41f+-0x18],_0x3f92d3=_0x45a122['get'](_0x2f2490[0x2*-0xdfd+-0x7d*-0x5+-0x442*-0x6])??_0x2f2490[-0x165c+0x1*-0xb13+-0xb26*-0x3],_0x25af2e=_0x2f2490[-0x155+0x6*-0x1f3+0xd09];let _0x4cb472=!(0x8f*0x44+-0x67a*0x1+-0x64d*0x5);switch(_0x25af2e){case'==':_0x4cb472=_0x3ea49c===_0x3f92d3;break;case'!=':_0x4cb472=_0x3ea49c!==_0x3f92d3;break;case'<':_0x4cb472=_0x3ea49c<_0x3f92d3;break;case'<=':_0x4cb472=_0x3ea49c<=_0x3f92d3;break;case'>':_0x4cb472=_0x3ea49c>_0x3f92d3;break;case'>=':_0x4cb472=_0x3ea49c>=_0x3f92d3;break;}return{'result':_0x4cb472,'error':!_0x504ee2};}_0x253a2d=_0x253a2d['trim']();let _0x11addf=_0x45a122['has'](_0x253a2d);return _0x596e66&&(_0x11addf=!_0x11addf),{'result':_0x11addf,'error':!_0x504ee2};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x54a327,_0x2914d1){v['assert'](_0x2914d1),v['assert'](!_0x2914d1['vertexDefi'+'nes']||_0x2914d1['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x2914d1['vertexIncl'+'udes']||_0x2914d1['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x2914d1['fragmentDe'+'fines']||_0x2914d1['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x2914d1['fragmentIn'+'cludes']||_0x2914d1['fragmentIn'+'cludes']instanceof Map);const _0x52edea=(_0x142997,_0x1817f0,_0x2763b1,_0x1b8605)=>{const _0x4028ea=_0x54a327['isWebGPU']?_0x142997:_0x1817f0;let _0x32ee8='';if(!_0x2763b1){let _0x32b737=_0x1b8605['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x32b737)||(_0x32b737=[_0x32b737]);for(let _0x2c21a8=0x268a+-0x13cf*-0x1+-0x3a59;_0x2c21a8<_0x54a327['maxColorAt'+'tachments'];_0x2c21a8++){_0x32ee8+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x2c21a8+'\x0a';const _0x175584=_0x32b737[_0x2c21a8]??'vec4';_0x32ee8+='#define\x20ou'+'tType_'+_0x2c21a8+'\x20'+_0x175584+'\x0a';}}return _0x32ee8+_0x4028ea;},_0x2cba8f=_0x2914d1['name']??'Untitled';let _0x303d95,_0x51594a;return _0x2914d1['shaderLang'+'uage']===Ph?(_0x303d95=_0x2914d1['vertexCode'],_0x51594a=_0x2914d1['fragmentCo'+'de']):(_0x303d95=Mt['versionCod'+'e'](_0x54a327)+_0x52edea(s0,e0,!(0x1f45*0x1+0x52*-0x44+0x97d*-0x1),_0x2914d1)+Mt['getDefines'+'Code'](_0x2914d1['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x54a327)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2cba8f)+_0x2914d1['vertexCode'],_0x51594a=(_0x2914d1['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x54a327)+_0x52edea(t0,Jy,!(-0x259*-0x10+-0x6*-0x63+-0x27e1),_0x2914d1)+Mt['getDefines'+'Code'](_0x2914d1['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x54a327)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2cba8f)+(_0x2914d1['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x2cba8f,'shaderLanguage':_0x2914d1['shaderLang'+'uage']??ky,'attributes':_0x2914d1['attributes'],'vshader':_0x303d95,'vincludes':_0x2914d1['vertexIncl'+'udes'],'fincludes':_0x2914d1['fragmentIn'+'cludes'],'fshader':_0x51594a,'useTransformFeedback':_0x2914d1['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x2914d1['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2914d1['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x549543){let _0x378b19='';return _0x549543==null||_0x549543['forEach']((_0x2378ba,_0x39927c)=>{_0x378b19+='#define\x20'+_0x39927c+'\x20'+_0x2378ba+'\x0a';}),_0x378b19;}static['getShaderN'+'ameCode'](_0x331dc5){return'#define\x20SH'+'ADER_NAME\x20'+_0x331dc5+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x329e94){return _0x329e94['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x2bb480,_0x2d7cff){_0x2d7cff&&_0x2d7cff!=='highp'&&_0x2d7cff!=='mediump'&&_0x2d7cff!=='lowp'&&(_0x2d7cff=null),_0x2d7cff&&(_0x2d7cff==='highp'&&_0x2bb480['maxPrecisi'+'on']!=='highp'&&(_0x2d7cff='mediump'),_0x2d7cff==='mediump'&&_0x2bb480['maxPrecisi'+'on']==='lowp'&&(_0x2d7cff='lowp'));const _0x176af0=_0x2d7cff||_0x2bb480['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x176af0+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x176af0+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x176af0+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x176af0+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x176af0+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x176af0+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x176af0+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x2faab4){const _0x38bd43={};let _0x4b3256=-0xd4*-0x2a+0x11fe+-0x34c6,_0x1e9ece=_0x2faab4['indexOf']('attribute');for(;_0x1e9ece>=0x6*0x4a7+0x1*-0x1aa1+-0x149*0x1&&!(_0x1e9ece>0x9*-0x417+0x1bdf+0x8f0&&_0x2faab4[_0x1e9ece-(0xd*0x6+0x1*0x986+-0x1f7*0x5)]==='/');){let _0x3c10e8=!(-0x19ca+0x1*-0x1235+-0x10*-0x2c0);if(_0x1e9ece>-0x2b*-0xa4+0x29*-0x77+-0x87d){let _0x93675f=_0x2faab4['lastIndexO'+'f']('\x0a',_0x1e9ece);_0x93675f=_0x93675f!==-(0x1c3e+-0x82*0x9+0x53*-0x49)?_0x93675f+(0x14b*0x17+0xb77+-0x2933):-0x2343+-0x1*-0x2090+0x1*0x2b3,_0x2faab4['substring'](_0x93675f,_0x1e9ece)['includes']('#')&&(_0x3c10e8=!(-0xb9*-0x14+0x2521+0x8b*-0x5f));}if(!_0x3c10e8){const _0x2e6cb9=_0x2faab4['indexOf'](';',_0x1e9ece),_0x307776=_0x2faab4['lastIndexO'+'f']('\x20',_0x2e6cb9),_0x2717a6=_0x2faab4['substring'](_0x307776+(0x1d1*-0x13+-0x1262+-0x25*-0x16e),_0x2e6cb9);if(_0x38bd43[_0x2717a6])v['warn']('Attribute\x20'+'['+_0x2717a6+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x2faab4});else{const _0x54b5a2=Qv[_0x2717a6];_0x54b5a2!==void(-0x2*0x8bf+-0x25d8+0x3756)?_0x38bd43[_0x2717a6]=_0x54b5a2:(_0x38bd43[_0x2717a6]='ATTR'+_0x4b3256,_0x4b3256++);}}_0x1e9ece=_0x2faab4['indexOf']('attribute',_0x1e9ece+(-0x19d0+-0x7c*0x1+-0x1a4d*-0x1));}return _0x38bd43;}}let Jv=0x26f2+-0x1849+-0xea9;class i0{constructor(_0x375b2a,_0x55275a){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x375b2a,this['definition']=_0x55275a,this['name']=_0x55275a['name']||'Untitled',this['init'](),_0x55275a['cshader'])v['assert'](_0x375b2a['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x55275a['vshader']&&!_0x55275a['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x55275a['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x55275a['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x55275a['vshader']=Oh['run'](_0x55275a['vshader'],_0x55275a['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x55275a['shaderLang'+'uage']===ky&&(_0x55275a['attributes']??(_0x55275a['attributes']=Mt['collectAtt'+'ributes'](_0x55275a['vshader'])));const _0xf5db0=_0x375b2a['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x55275a['fshader']=Oh['run'](_0x55275a['fshader'],_0x55275a['fincludes'],{'stripUnusedColorAttachments':_0xf5db0,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x375b2a['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x289+0x120+0x16a),this['failed']=!(0x1d3*-0xe+-0x8e9+0x2274);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0x22f95f,_0x4997ba,_0x5aaca7){const _0x12fea0=_0x22f95f['storageFlo'+'at32'];_0x12fea0[_0x5aaca7]=_0x4997ba;},Te[or]=(_0x441a79,_0xa2264,_0x1409ea)=>{const _0x421898=_0x441a79['storageFlo'+'at32'];_0x421898[_0x1409ea]=_0xa2264[0x40d+-0x1961+-0x1554*-0x1],_0x421898[_0x1409ea+(-0x19f+-0x1962+0x1b02)]=_0xa2264[-0xcb1+0x63*0x21+-0x11];},Te[$t]=(_0x58078f,_0x5c81e3,_0x5d2834)=>{const _0x593cad=_0x58078f['storageFlo'+'at32'];_0x593cad[_0x5d2834]=_0x5c81e3[0xb6c+-0x1780+0xc14],_0x593cad[_0x5d2834+(-0x1d2c+-0x2675*-0x1+0x4a4*-0x2)]=_0x5c81e3[-0x3*0xa82+-0xd01*0x1+0x13*0x258],_0x593cad[_0x5d2834+(0xde9*-0x2+-0xd0d+0xd*0x325)]=_0x5c81e3[0x262a+0x1*0x17fe+0x2b*-0x172];},Te[xa]=(_0x263101,_0x1f4c6c,_0x4cd7f5)=>{const _0x349ebc=_0x263101['storageFlo'+'at32'];_0x349ebc[_0x4cd7f5]=_0x1f4c6c[0x13f+-0x7f*-0x2+-0x23d],_0x349ebc[_0x4cd7f5+(0xe29+0x1*0x1483+-0x22ab)]=_0x1f4c6c[0x2178+-0xa*-0x161+-0x2f41],_0x349ebc[_0x4cd7f5+(0xab0*-0x1+-0x293+0xd45)]=_0x1f4c6c[-0x2181*0x1+0x1*0x1c1+0x1fc2],_0x349ebc[_0x4cd7f5+(-0x9d5+0xdd4+-0x3fc)]=_0x1f4c6c[0x3*-0xa9f+0xad0+0x1510];},Te[ln]=function(_0xbc326d,_0xbb0678,_0x30816b){const _0x249f74=_0xbc326d['storageInt'+'32'];_0x249f74[_0x30816b]=_0xbb0678;},Te[Zr]=function(_0x1b7524,_0x3462cf,_0x14cde5){const _0x24be3a=_0x1b7524['storageInt'+'32'];_0x24be3a[_0x14cde5]=_0x3462cf[-0xb05+0x6*0xc3+0x673],_0x24be3a[_0x14cde5+(0x35a+-0x30*0x8b+0x16b7*0x1)]=_0x3462cf[-0x2e*-0x89+0x3fd+0x7*-0x416];},Te[Qr]=function(_0xfd8e88,_0x232dbd,_0x58b8cd){const _0x6483f6=_0xfd8e88['storageInt'+'32'];_0x6483f6[_0x58b8cd]=_0x232dbd[0x1*-0xc5b+0x248a+-0x97*0x29],_0x6483f6[_0x58b8cd+(-0x11f0+-0x2230+0x3421)]=_0x232dbd[-0x1ca+-0x1003*0x2+-0x21d1*-0x1],_0x6483f6[_0x58b8cd+(-0x163*0x1+0x22c8+-0x2163)]=_0x232dbd[0x7*-0x507+0xb0f+0x4d4*0x5];},Te[Jr]=function(_0x57c0e3,_0x32b7df,_0x4af6aa){const _0x30ae36=_0x57c0e3['storageInt'+'32'];_0x30ae36[_0x4af6aa]=_0x32b7df[-0xceb+-0x1b28+0x2813],_0x30ae36[_0x4af6aa+(-0x8f+-0x1599*-0x1+-0x1509)]=_0x32b7df[-0xa27*-0x3+0x13ba+-0x322e],_0x30ae36[_0x4af6aa+(-0x3*-0xbb8+0x1622+-0x11a*0x34)]=_0x32b7df[-0x1790+-0x1168+-0x28fa*-0x1],_0x30ae36[_0x4af6aa+(-0xfc8+-0x1*-0xa45+0xca*0x7)]=_0x32b7df[-0x74b+0x1c27+-0x251*0x9];},Te[Rh]=(_0x4458ef,_0x51febd,_0xd7bf96)=>{const _0x53de64=_0x4458ef['storageFlo'+'at32'];_0x53de64[_0xd7bf96]=_0x51febd[0x41*0x67+-0x149d+-0x58a*0x1],_0x53de64[_0xd7bf96+(0x2f5*0xd+-0x1846+-0x25*0x62)]=_0x51febd[-0x6a*0x3+0x9*0x21+0x16],_0x53de64[_0xd7bf96+(0x33b*-0x7+-0x1*0x1d14+0x1*0x33b5)]=_0x51febd[-0x7f*-0x3f+0x1de6+-0x3d25],_0x53de64[_0xd7bf96+(-0x1*0x2195+-0x2*-0x66a+0x14c6)]=_0x51febd[-0x1ce7+-0x1c9e+0xe*0x41c],_0x53de64[_0xd7bf96+(0x163*0x13+-0x1241*0x1+-0x810)]=_0x51febd[-0xcf1+-0x298*-0xb+-0x1bb*0x9],_0x53de64[_0xd7bf96+(-0x1470+-0x1*0x120b+0x2684)]=_0x51febd[0x20a8+0x2d*0x6+0x23f*-0xf];},Te[ko]=(_0x28fc7c,_0x1c71f4,_0x10c179)=>{const _0x1cc720=_0x28fc7c['storageFlo'+'at32'];_0x1cc720[_0x10c179]=_0x1c71f4[0x38c+-0x3*0x7e0+0x1414],_0x1cc720[_0x10c179+(-0x2e9+0x6e*0x1a+-0x12e*0x7)]=_0x1c71f4[-0x7e0+-0x5*0xe9+0xc6e],_0x1cc720[_0x10c179+(-0x7cf+-0x2607+-0xa3*-0x48)]=_0x1c71f4[-0x39a+-0x13df+0x177b*0x1],_0x1cc720[_0x10c179+(0x1f86+-0x5*-0x2c5+-0x2d5b)]=_0x1c71f4[0x1cf7+-0x1095+-0xc5f],_0x1cc720[_0x10c179+(-0x1f84*0x1+-0x10d+0x2096)]=_0x1c71f4[0xcc2*-0x2+-0x1d8b+0x265*0x17],_0x1cc720[_0x10c179+(-0x1a97+-0xad9+0x89*0x46)]=_0x1c71f4[0x3*-0x66d+0x3*0x623+0xe3],_0x1cc720[_0x10c179+(-0x7c+-0x3b*-0x84+0x18*-0x13f)]=_0x1c71f4[-0x19e4*0x1+0x20e7*0x1+-0x6fd],_0x1cc720[_0x10c179+(-0x2*-0x60+-0x66*-0x1f+0x29d*-0x5)]=_0x1c71f4[-0x1296+-0x1*-0x1381+0x2*-0x72],_0x1cc720[_0x10c179+(0x7d*0x17+0x50*0x41+-0x1f81*0x1)]=_0x1c71f4[-0x4aa+-0x9e7+-0x65*-0x25];},Te[Dc]=function(_0x1b12f5,_0x52e8d0,_0x205b99,_0xe71ad){const _0x271b48=_0x1b12f5['storageFlo'+'at32'];for(let _0x4e5e5c=-0x2*0x58+0xa87+0x1*-0x9d7;_0x4e5e5c<_0xe71ad;_0x4e5e5c++)_0x271b48[_0x205b99+_0x4e5e5c*(0x6*-0x1be+-0x705+0x117d)]=_0x52e8d0[_0x4e5e5c];},Te[Lc]=(_0x1f359f,_0x29b90d,_0x3ca8a4,_0x1bd6eb)=>{const _0x4852b0=_0x1f359f['storageFlo'+'at32'];for(let _0x2e195a=0xc1+0x1c36+-0x1*0x1cf7;_0x2e195a<_0x1bd6eb;_0x2e195a++)_0x4852b0[_0x3ca8a4+_0x2e195a*(0x15f6+0x6c9+0x1*-0x1cbb)]=_0x29b90d[_0x2e195a*(0x2434+0x1*-0x9d5+-0x1*0x1a5d)],_0x4852b0[_0x3ca8a4+_0x2e195a*(0x1f13+0x1041+-0x17a8*0x2)+(0x1*0x2269+-0x106b+0x1*-0x11fd)]=_0x29b90d[_0x2e195a*(0x2*-0xa8b+-0x10e5*0x1+-0x185*-0x19)+(-0x211c+0xf19*0x2+0x2eb)];},Te[Fc]=(_0x1b4c7c,_0x5faec3,_0x148670,_0x4d18c0)=>{const _0x4a43c8=_0x1b4c7c['storageFlo'+'at32'];for(let _0x59e24a=-0x10c0+0x2fa*-0x9+0x2b8a*0x1;_0x59e24a<_0x4d18c0;_0x59e24a++)_0x4a43c8[_0x148670+_0x59e24a*(-0x695+0x1f76*0x1+0x1*-0x18dd)]=_0x5faec3[_0x59e24a*(-0x1589+0x219c+-0xc10)],_0x4a43c8[_0x148670+_0x59e24a*(0x17*0x9e+0x1*0x1051+-0x1e7f)+(0xd*-0x1b7+0x67f*0x5+-0xa2f*0x1)]=_0x5faec3[_0x59e24a*(-0x232d+0x1*-0x242e+-0x2a*-0x1b3)+(-0xb4+-0x3c*0xb+0x349)],_0x4a43c8[_0x148670+_0x59e24a*(0x6c2+-0x1a*-0x6b+-0x119c)+(0x1d20+0x1*-0x22d5+-0x85*-0xb)]=_0x5faec3[_0x59e24a*(-0x8d*-0x1f+0x2aa*0x4+-0x1bb8)+(0x1*-0x234a+-0x1*0x2287+0x45d3)];},Te[va]=(_0xaad977,_0x5bc4a2,_0x43464e,_0x53f03c)=>{const _0x308ae7=_0xaad977['storageUin'+'t32'];_0x308ae7[_0x43464e]=_0x5bc4a2;},Te[ba]=(_0x50ddbd,_0x26e65f,_0x55ac94,_0xb66639)=>{const _0xf7069c=_0x50ddbd['storageUin'+'t32'];_0xf7069c[_0x55ac94]=_0x26e65f[-0x9*0x14f+0x178f+-0xbc8],_0xf7069c[_0x55ac94+(-0x2*0x10b8+-0x2a7*0xa+0x3bf7)]=_0x26e65f[-0xc31*-0x3+0x11ae+0x10*-0x364];},Te[wa]=(_0x315c4a,_0x9c65a6,_0x578af6,_0x553ea0)=>{const _0xb595aa=_0x315c4a['storageUin'+'t32'];_0xb595aa[_0x578af6]=_0x9c65a6[-0x1*-0x1e0a+-0x202*-0xb+-0x3420],_0xb595aa[_0x578af6+(0x223f+0x6f*0x30+-0x370e)]=_0x9c65a6[-0x187a*-0x1+0x1f*-0x6b+-0xb84],_0xb595aa[_0x578af6+(0x79*-0x47+0xa7*0x11+0x167a)]=_0x9c65a6[0xc9b+-0x1384+0x7*0xfd];},Te[Ta]=(_0x22d27,_0x3e31cd,_0x29bfed,_0xa0a07)=>{const _0x1a2b41=_0x22d27['storageUin'+'t32'];_0x1a2b41[_0x29bfed]=_0x3e31cd[0x4c*0x65+-0x21ec+0x3f0],_0x1a2b41[_0x29bfed+(0x1*-0xba+-0x3*0x711+0x15ee)]=_0x3e31cd[0x32*-0x7f+0x1aa9+-0xed*0x2],_0x1a2b41[_0x29bfed+(0x305*0xc+-0x2b*0x1a+-0x1fdc)]=_0x3e31cd[0x1212*0x2+0xf00+-0x37*0xee],_0x1a2b41[_0x29bfed+(0x187*-0x3+-0x1743+0x3*0x949)]=_0x3e31cd[0x177b*-0x1+-0x1*-0xf7c+-0x802*-0x1];},Te[Aa]=function(_0x390d55,_0x2982c1,_0x5dc1a9,_0x327eac){const _0x3dfc1a=_0x390d55['storageInt'+'32'];for(let _0x549b92=0x257*0x6+-0x539*-0x5+-0x13*0x21d;_0x549b92<_0x327eac;_0x549b92++)_0x3dfc1a[_0x5dc1a9+_0x549b92*(-0x101d+0x1a1*-0x17+-0x3598*-0x1)]=_0x2982c1[_0x549b92];},Te[kc]=Te[Aa],Te[Oc]=function(_0x111117,_0x3bbf39,_0x250ff4,_0x5027b0){const _0x155eb5=_0x111117['storageUin'+'t32'];for(let _0x218a79=0x1ac1+0x839*-0x3+-0x216;_0x218a79<_0x5027b0;_0x218a79++)_0x155eb5[_0x250ff4+_0x218a79*(-0xbd8*0x2+0x2213+0xf*-0xb1)]=_0x3bbf39[_0x218a79];},Te[Ea]=(_0x4cf084,_0x55576f,_0x1cd342,_0x5773b5)=>{const _0x22ecb4=_0x4cf084['storageInt'+'32'];for(let _0x460c98=-0x194+-0xc3*-0x23+-0x1915*0x1;_0x460c98<_0x5773b5;_0x460c98++)_0x22ecb4[_0x1cd342+_0x460c98*(0xe3b*0x2+-0x13*0x98+-0x112a)]=_0x55576f[_0x460c98*(-0x1*0x17c9+0xa6a*0x3+-0x1*0x773)],_0x22ecb4[_0x1cd342+_0x460c98*(-0x23a9+0x2226+0x187*0x1)+(-0x3*-0x6a+-0x119*0x1e+0x1fb1)]=_0x55576f[_0x460c98*(0x170*0x8+-0x843+-0x33b)+(-0x1fbe+-0x1de+0x219d)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x45afd2,_0x56a767,_0x41aa55,_0x49b9b8)=>{const _0x517095=_0x45afd2['storageUin'+'t32'];for(let _0x3abfdd=0xe1e+-0xac8+-0x1ab*0x2;_0x3abfdd<_0x49b9b8;_0x3abfdd++)_0x517095[_0x41aa55+_0x3abfdd*(-0x9d*-0x2+-0x122a+0x10f4)]=_0x56a767[_0x3abfdd*(-0x9e4*-0x3+0x11*0x1bf+0x1*-0x3b59)],_0x517095[_0x41aa55+_0x3abfdd*(0x4d1+-0x1dd7+0xc85*0x2)+(0x256e+-0x3*0x8c3+-0xb24)]=_0x56a767[_0x3abfdd*(-0x2441+0x1463*0x1+0xfe0)+(-0x1*0xed8+-0xb*-0x2db+-0x1090)];},Te[Ca]=(_0x247576,_0x1edad1,_0x58bc0f,_0x36c364)=>{const _0xb93db8=_0x247576['storageInt'+'32'];for(let _0x530721=0x10d*-0xc+-0x139+0x1*0xdd5;_0x530721<_0x36c364;_0x530721++)_0xb93db8[_0x58bc0f+_0x530721*(0x20c3+-0x112c+0x9*-0x1bb)]=_0x1edad1[_0x530721*(-0x14c3+-0x9e3*-0x1+0xae3)],_0xb93db8[_0x58bc0f+_0x530721*(-0x1899+0x3*0x5d4+-0x1*-0x721)+(0x8ac+0x65f+-0xa*0x181)]=_0x1edad1[_0x530721*(-0x10*0x1b9+-0x2e4+0x2c5*0xb)+(-0x7*0x4b3+-0x8*-0x2c8+0xaa6)],_0xb93db8[_0x58bc0f+_0x530721*(0xaa7+0x24ea+-0x2f8d)+(-0x4*-0x64d+0xc*-0x4d+-0x1596)]=_0x1edad1[_0x530721*(-0x32*-0x23+0x1*-0x1159+0x6*0x1c1)+(-0x851*-0x2+-0x71*0x5+-0xe6b)];},Te[Uc]=Te[Ca],Te[zc]=(_0x342828,_0x30ce3e,_0x333b1e,_0x309041)=>{const _0x534a80=_0x342828['storageUin'+'t32'];for(let _0x1b14f4=-0x4df+0xf*0x205+0x2*-0xcb6;_0x1b14f4<_0x309041;_0x1b14f4++)_0x534a80[_0x333b1e+_0x1b14f4*(-0x2689+-0x1d9e+0x442b)]=_0x30ce3e[_0x1b14f4*(0xf0e+0x67d*0x1+-0x1588)],_0x534a80[_0x333b1e+_0x1b14f4*(0x1*-0x17e7+0x1*0xfd1+-0x81a*-0x1)+(0x1*-0x4ab+0x50e+0x2*-0x31)]=_0x30ce3e[_0x1b14f4*(-0x187b+-0x98*-0x3d+-0xbba)+(0x1aa6+0x125e+-0xa7*0x45)],_0x534a80[_0x333b1e+_0x1b14f4*(-0x1048+0x1c2a+-0x1f*0x62)+(-0x23fb+0x22a0+0x15d)]=_0x30ce3e[_0x1b14f4*(-0x1ec0+0x3a*-0x9a+0x41a7)+(0xec4+-0x8d+-0xe35)];};class gp{constructor(_0x136d57,_0x405012,_0x4116e6=!(0xd88+0xe*0x14f+-0x1fda)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',-0x24fb*0x1+-0x11d7+0x36d2);if(this['device']=_0x136d57,this['format']=_0x405012,this['persistent']=_0x4116e6,v['assert'](_0x405012),_0x4116e6){this['impl']=_0x136d57['createUnif'+'ormBufferI'+'mpl'](this);const _0x3d2265=new ArrayBuffer(_0x405012['byteSize']);this['assignStor'+'age'](new Int32Array(_0x3d2265)),_0x136d57['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x4a28e9=this['device'];this['impl']['destroy'](_0x4a28e9),_0x4a28e9['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x239c+0x804+0x574*-0x8:this['allocation']['offset'];}['assignStor'+'age'](_0x18d22b){this['storageInt'+'32']=_0x18d22b,this['storageUin'+'t32']=new Uint32Array(_0x18d22b['buffer'],_0x18d22b['byteOffset'],_0x18d22b['byteLength']/(-0x2b*0x80+-0x22ce*0x1+0x12c6*0x3)),this['storageFlo'+'at32']=new Float32Array(_0x18d22b['buffer'],_0x18d22b['byteOffset'],_0x18d22b['byteLength']/(-0xbb9*-0x1+0x34a+0x15d*-0xb));}['loseContex'+'t'](){var _0x500213;(_0x500213=this['impl'])==null||_0x500213['loseContex'+'t']();}['setUniform'](_0xc90991,_0x1e3717){v['assert'](_0xc90991);const _0x377f6d=_0xc90991['offset'];if(_0x1e3717!=null){const _0x497e24=Te[_0xc90991['updateType']];_0x497e24?_0x497e24(this,_0x1e3717,_0x377f6d,_0xc90991['count']):this['storageFlo'+'at32']['set'](_0x1e3717,_0x377f6d);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0xc90991['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0xc90991['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x94be34,_0x510be9){const _0x41764d=this['format']['map']['get'](_0x94be34);v['assert'](_0x41764d,'Uniform\x20na'+'me\x20['+_0x94be34+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x41764d&&this['setUniform'](_0x41764d,_0x510be9);}['startUpdat'+'e'](_0x58f9d9){if(!this['persistent']){const _0x59f16f=this['allocation'],_0x4936d4=_0x59f16f['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x59f16f,this['format']['byteSize']),this['assignStor'+'age'](_0x59f16f['storage']),_0x58f9d9&&(_0x58f9d9['bindGroup']=_0x59f16f['gpuBuffer']['getBindGro'+'up'](this),_0x58f9d9['offsets'][-0x1*-0x1e4e+-0x626*-0x4+-0x36e6]=_0x59f16f['offset']),_0x4936d4!==_0x59f16f['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x260a57){this['startUpdat'+'e'](_0x260a57);const _0x283144=this['format']['uniforms'];for(let _0x2507cb=-0x1*-0x191e+0x69f*0x3+-0x2cfb;_0x2507cb<_0x283144['length'];_0x2507cb++){const _0x2b7f33=_0x283144[_0x2507cb]['scopeId']['value'];this['setUniform'](_0x283144[_0x2507cb],_0x2b7f33);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(0x1*-0x103a+-0xa5b+-0xa6*-0x29)),c(this,'_enableReq'+'uest',!(0x102e+-0x3e*0x3e+-0x9*0x21)),c(this,'_frameTime',0x64*-0x35+-0x3a*0x26+0x1d50);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x499375){this['_enableReq'+'uest']=_0x499375;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x246f+-0x39*-0x1c+-0x2aab));}['request'](_0x42612d){this['pastFrameA'+'llocations']['set'](_0x42612d,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x36c48e,_0x128757){if(_0x128757){const _0x507c13=this['pastFrameA'+'llocations']['get'](_0x36c48e);if(v['assert'](_0x507c13['length']===_0x128757['length']),_0x128757['length']>0x3f7+0x1895+-0x1c8c&&(this['_frameTime']=_0x128757[-0x23ac+0x13c4+-0x1*-0xfe8]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x36c48e+'\x20--');let _0x1bcf6e=0x24ce+0x2595+-0x4a63;for(let _0x43cc2c=0x1*0x21cb+0x1*-0x21d+-0xa*0x32b;_0x43cc2c<_0x507c13['length'];++_0x43cc2c){const _0x3e1c17=_0x507c13[_0x43cc2c];_0x1bcf6e+=_0x128757[_0x43cc2c],v['trace'](ml,_0x128757[_0x43cc2c]['toFixed'](0x14*-0xb9+0x5*-0xc7+0x1259)+'\x20ms\x20'+_0x3e1c17);}v['trace'](ml,_0x1bcf6e['toFixed'](-0xef5+-0xeef*0x1+0x1de6)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x36c48e);}['getSlot'](_0x59c938){const _0x4491a2=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x59c938),_0x4491a2;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x294fd0){this['bufferId']&&(_0x294fd0['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x176dc2,_0x15ba45,_0x1bbd98,_0x4b5da7){const _0x9e1bb6=_0x176dc2['gl'];if(this['bufferId'])_0x9e1bb6['bindBuffer'](_0x1bbd98,this['bufferId']),_0x9e1bb6['bufferSubD'+'ata'](_0x1bbd98,-0x149a+-0x17f+0x1*0x1619,_0x4b5da7);else{let _0x536a7d;switch(_0x15ba45){case jt:_0x536a7d=_0x9e1bb6['STATIC_DRA'+'W'];break;case Th:_0x536a7d=_0x9e1bb6['DYNAMIC_DR'+'AW'];break;case uy:_0x536a7d=_0x9e1bb6['STREAM_DRA'+'W'];break;case PS:_0x536a7d=_0x9e1bb6['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x9e1bb6['createBuff'+'er'](),_0x9e1bb6['bindBuffer'](_0x1bbd98,this['bufferId']),_0x9e1bb6['bufferData'](_0x1bbd98,_0x4b5da7,_0x536a7d);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x4c38ee){super['destroy'](_0x4c38ee),_0x4c38ee['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x36e641){const _0x4445b0=_0x36e641['device'];super['unlock'](_0x4445b0,_0x36e641['usage'],_0x4445b0['gl']['ARRAY_BUFF'+'ER'],_0x36e641['storage']);}}class ib extends r0{constructor(_0x1269ce){super();const _0x31f07c=_0x1269ce['device']['gl'],_0x331d63=_0x1269ce['format'];_0x331d63===pu?this['glFormat']=_0x31f07c['UNSIGNED_B'+'YTE']:_0x331d63===Pi?this['glFormat']=_0x31f07c['UNSIGNED_S'+'HORT']:_0x331d63===nr&&(this['glFormat']=_0x31f07c['UNSIGNED_I'+'NT']);}['unlock'](_0x348783){const _0x13c7bc=_0x348783['device'];super['unlock'](_0x13c7bc,_0x348783['usage'],_0x13c7bc['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x348783['storage']);}}class Mm{constructor(_0x40d5de,_0x139a59,_0x52c843,_0x330c69){if(this['locationId']=_0x330c69,this['scopeId']=_0x40d5de['scope']['resolve'](_0x139a59),this['version']=new Ky(),_0x139a59['substring'](_0x139a59['length']-(0x2*-0x12b3+0x1d92+0x7d7))==='[0]')switch(_0x52c843){case $s:_0x52c843=Dc;break;case ln:_0x52c843=Aa;break;case va:_0x52c843=Oc;break;case ca:_0x52c843=kc;break;case or:_0x52c843=Lc;break;case Zr:_0x52c843=Ea;break;case ba:_0x52c843=Bc;break;case Lo:_0x52c843=Nc;break;case $t:_0x52c843=Fc;break;case Qr:_0x52c843=Ca;break;case wa:_0x52c843=zc;break;case Fo:_0x52c843=Uc;break;case xa:_0x52c843=lp;break;case Jr:_0x52c843=Ih;break;case Ta:_0x52c843=hp;break;case Oo:_0x52c843=cp;break;}this['dataType']=_0x52c843,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0x13c6+0x1c79+0x11*-0x83;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x427084){this['map']['forEach'](_0x517a1=>{_0x427084['gl']['deleteShad'+'er'](_0x517a1);});}['loseContex'+'t'](_0x46d6e1){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x192e89){c(this,'compileDur'+'ation',0x119a*0x2+0x2073+-0x45*0xfb),(this['init'](),this['compile'](_0x192e89['device'],_0x192e89),this['link'](_0x192e89['device'],_0x192e89),_0x192e89['device']['shaders']['push'](_0x192e89));}['destroy'](_0x110dbe){this['glProgram']&&(_0x110dbe['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x5272f2,_0x19d4e5){this['compile'](_0x5272f2,_0x19d4e5),this['link'](_0x5272f2,_0x19d4e5);}['compile'](_0x16412e,_0x392fa5){const _0x415bed=_0x392fa5['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x16412e,_0x415bed['vshader'],!(-0x1*-0x204a+-0x24f3*0x1+0x4a9)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x16412e,_0x415bed['fshader'],!(-0x1a24+0x20a4*-0x1+-0x3ac9*-0x1));}['link'](_0x31a6f1,_0x3c7590){if(this['glProgram'])return;const _0x10742d=_0x31a6f1['gl'];if(_0x10742d['isContextL'+'ost']())return;let _0x56e44a=0x1696+0x11*0x1fd+-0x3863;v['call'](()=>{this['compileDur'+'ation']=0x1d20+0x19d*-0x16+0x65e,_0x56e44a=ne();});const _0x1961b7=_0x10742d['createProg'+'ram']();this['glProgram']=_0x1961b7,_0x10742d['attachShad'+'er'](_0x1961b7,this['glVertexSh'+'ader']),_0x10742d['attachShad'+'er'](_0x1961b7,this['glFragment'+'Shader']);const _0x2d5917=_0x3c7590['definition'],_0x3c77f4=_0x2d5917['attributes'];if(_0x2d5917['useTransfo'+'rmFeedback']){const _0x44de22=[];for(const _0x3f1d39 in _0x3c77f4)_0x3c77f4['hasOwnProp'+'erty'](_0x3f1d39)&&_0x44de22['push']('out_'+_0x3f1d39);_0x10742d['transformF'+'eedbackVar'+'yings'](_0x1961b7,_0x44de22,_0x10742d['INTERLEAVE'+'D_ATTRIBS']);}const _0x494548={};for(const _0x1208e0 in _0x3c77f4)if(_0x3c77f4['hasOwnProp'+'erty'](_0x1208e0)){const _0x128bae=_0x3c77f4[_0x1208e0],_0x55b03b=ve[_0x128bae];v['assert'](!_0x494548['hasOwnProp'+'erty'](_0x55b03b),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x494548[_0x55b03b]+'\x20and\x20'+_0x1208e0),_0x494548[_0x55b03b]=_0x1208e0,_0x10742d['bindAttrib'+'Location'](_0x1961b7,_0x55b03b,_0x1208e0);}_0x10742d['linkProgra'+'m'](_0x1961b7),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x56e44a;}),_0x31a6f1['_shaderSta'+'ts']['linked']++,_0x2d5917['tag']===Ly&&_0x31a6f1['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0xc317de,_0x246b5d,_0xb6e590){const _0x5c2795=_0xc317de['gl'];if(_0x5c2795['isContextL'+'ost']())return null;const _0x305b58=(_0xb6e590?ab:ob)['get'](_0xc317de,()=>new nb());let _0x1bccd7=_0x305b58['map']['get'](_0x246b5d);if(!_0x1bccd7){const _0x389dfd=ne();_0xc317de['fire']('shader:com'+'pile:start',{'timestamp':_0x389dfd,'target':_0xc317de}),_0x1bccd7=_0x5c2795['createShad'+'er'](_0xb6e590?_0x5c2795['VERTEX_SHA'+'DER']:_0x5c2795['FRAGMENT_S'+'HADER']),_0x5c2795['shaderSour'+'ce'](_0x1bccd7,_0x246b5d),_0x5c2795['compileSha'+'der'](_0x1bccd7),_0x305b58['map']['set'](_0x246b5d,_0x1bccd7);const _0xc37e5e=ne();_0xc317de['fire']('shader:com'+'pile:end',{'timestamp':_0xc37e5e,'target':_0xc317de}),_0xc317de['_shaderSta'+'ts']['compileTim'+'e']+=_0xc37e5e-_0x389dfd,_0xb6e590?_0xc317de['_shaderSta'+'ts']['vsCompiled']++:_0xc317de['_shaderSta'+'ts']['fsCompiled']++;}return _0x1bccd7;}['finalize'](_0x7bd5ed,_0x2961c6){var _0xd79abd,_0x590e71;const _0x57abfd=_0x7bd5ed['gl'];if(_0x57abfd['isContextL'+'ost']())return!(-0x66c+-0x2*0xe9+-0xa*-0xd3);const _0x122f66=this['glProgram'],_0x4303a9=_0x2961c6['definition'],_0x3b69e5=ne();_0x7bd5ed['fire']('shader:lin'+'k:start',{'timestamp':_0x3b69e5,'target':_0x7bd5ed});let _0x353e5b=-0x2422*-0x1+-0x1fb9*-0x1+-0x43db;if(v['call'](()=>{_0x353e5b=ne();}),!_0x57abfd['getProgram'+'Parameter'](_0x122f66,_0x57abfd['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x7bd5ed,_0x2961c6,this['glVertexSh'+'ader'],_0x4303a9['vshader'],'vertex')||!this['_isCompile'+'d'](_0x7bd5ed,_0x2961c6,this['glFragment'+'Shader'],_0x4303a9['fshader'],'fragment'))return!(0x1*-0x1624+0x1c19*0x1+0x1fc*-0x3);const _0x29d392='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x57abfd['getProgram'+'InfoLog'](_0x122f66);return _0x4303a9['translated'+'Frag']=(_0xd79abd=_0x57abfd['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0xae0+0x1392+-0x8b2):_0xd79abd['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x4303a9['translated'+'Vert']=(_0x590e71=_0x57abfd['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0xd39+0x2*-0xeed+0x10a1):_0x590e71['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x29d392,_0x4303a9),console['error'](_0x29d392),!(-0xc5e*0x2+0x6c3+0x76*0x27);}const _0x1cff8d=_0x57abfd['getProgram'+'Parameter'](_0x122f66,_0x57abfd['ACTIVE_ATT'+'RIBUTES']);for(let _0x4a5832=0x97*0x2+-0x82*-0x3e+-0x20aa;_0x4a5832<_0x1cff8d;_0x4a5832++){const _0xe9c90d=_0x57abfd['getActiveA'+'ttrib'](_0x122f66,_0x4a5832),_0xc3b49f=_0x57abfd['getAttribL'+'ocation'](_0x122f66,_0xe9c90d['name']);if(!rb['has'](_0xe9c90d['name'])){if(_0x4303a9['attributes'][_0xe9c90d['name']]===void(0x139*0x1e+0x3*0xbf1+0x17*-0x327))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0xe9c90d['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x2961c6['label']+']',_0x2961c6),_0x2961c6['failed']=!(0x1*-0x43d+-0x12*-0x1f2+-0x1ec7);else{const _0x378eca=new Mm(_0x7bd5ed,_0x4303a9['attributes'][_0xe9c90d['name']],_0x7bd5ed['pcUniformT'+'ype'][_0xe9c90d['type']],_0xc3b49f);this['attributes']['push'](_0x378eca);}}}const _0x16bc21=_0x7bd5ed['_samplerTy'+'pes'],_0x1eceb6=_0x57abfd['getProgram'+'Parameter'](_0x122f66,_0x57abfd['ACTIVE_UNI'+'FORMS']);for(let _0x48cced=-0xf23+0x4*0x649+0xd*-0xc5;_0x48cced<_0x1eceb6;_0x48cced++){const _0x3d7553=_0x57abfd['getActiveU'+'niform'](_0x122f66,_0x48cced),_0x164cbe=_0x57abfd['getUniform'+'Location'](_0x122f66,_0x3d7553['name']),_0x39f197=new Mm(_0x7bd5ed,_0x3d7553['name'],_0x7bd5ed['pcUniformT'+'ype'][_0x3d7553['type']],_0x164cbe);_0x16bc21['has'](_0x3d7553['type'])?this['samplers']['push'](_0x39f197):this['uniforms']['push'](_0x39f197);}_0x2961c6['ready']=!(-0x26d2+-0x2596+0x4c68);const _0x3a8926=ne();return _0x7bd5ed['fire']('shader:lin'+'k:end',{'timestamp':_0x3a8926,'target':_0x7bd5ed}),_0x7bd5ed['_shaderSta'+'ts']['compileTim'+'e']+=_0x3a8926-_0x3b69e5,v['call'](()=>{const _0xe795f6=ne()-_0x353e5b;this['compileDur'+'ation']+=_0xe795f6,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x2961c6['id']+']\x20'+_0x2961c6['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x359+-0x19e8+0x1d42)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](0x175b+0x770+0xf65*-0x2)+'ms');}),!(0xd8*0x18+-0x3*0x871+-0x1b1*-0x3);}['_isCompile'+'d'](_0x1ccf12,_0x499104,_0x1e7a69,_0x25a805,_0x4a8e64){const _0x1ff154=_0x1ccf12['gl'];if(!_0x1ff154['getShaderP'+'arameter'](_0x1e7a69,_0x1ff154['COMPILE_ST'+'ATUS'])){const _0x394c83=_0x1ff154['getShaderI'+'nfoLog'](_0x1e7a69),[_0x4b287a,_0x46f9c3]=this['_processEr'+'ror'](_0x25a805,_0x394c83),_0x344c6b='Failed\x20to\x20'+'compile\x20'+_0x4a8e64+'\x20shader:\x0a\x0a'+_0x394c83+'\x0a'+_0x4b287a+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x46f9c3['shader']=_0x499104,console['error'](_0x344c6b,_0x46f9c3),console['error'](_0x344c6b),!(0x35*-0xaf+-0xc4b+-0x102d*-0x3);}return!(-0x3fd*-0x7+-0x125+0x2e*-0x95);}['isLinked'](_0x5140de){const {extParallelShaderCompile:_0x42dedd}=_0x5140de;return _0x42dedd?_0x5140de['gl']['getProgram'+'Parameter'](this['glProgram'],_0x42dedd['COMPLETION'+'_STATUS_KH'+'R']):!(-0x2467*0x1+0x1c35*0x1+-0x2*-0x419);}['_processEr'+'ror'](_0x568842,_0x7a2751){const _0x4d4bf7={};let _0xeb4b85='';if(_0x568842){const _0x5c11b5=_0x568842['split']('\x0a');let _0x5090c9=0x1*0x1307+0x1b61*0x1+-0x2e68,_0xab3c97=_0x5c11b5['length'];if(_0x7a2751&&_0x7a2751['startsWith']('ERROR:')){const _0x18a8a4=_0x7a2751['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x18a8a4&&(_0x4d4bf7['message']=_0x18a8a4[0x2453+-0x3*0x976+0x3f7*-0x2],_0x4d4bf7['line']=parseInt(_0x18a8a4[0x9a5*0x3+0x2234+-0x1*0x3f21],-0x7*-0x307+0x657*-0x2+0x879*-0x1),_0x5090c9=Math['max'](0xbd5+0xb*-0x332+0x1*0x1751,_0x4d4bf7['line']-(0x3*-0xba5+-0xaf6+-0x92f*-0x5)),_0xab3c97=Math['min'](_0x5c11b5['length'],_0x4d4bf7['line']+(-0x2*0x7a3+0x408*-0x9+0x3*0x1131)));}for(let _0x3760c2=_0x5090c9;_0x3760c2<_0xab3c97;_0x3760c2++)_0xeb4b85+=_0x3760c2+(-0x115*0x23+0x1*0x1b16+0xaca)+':\x09'+_0x5c11b5[_0x3760c2]+'\x0a';_0x4d4bf7['source']=_0x568842;}return[_0xeb4b85,_0x4d4bf7];}}function Rm(_0x46e2ac,_0x3753e5){const _0x5a9307=_0x46e2ac['width'],_0x55ac0b=_0x46e2ac['height'];if(_0x5a9307>_0x3753e5||_0x55ac0b>_0x3753e5){const _0x411c11=_0x3753e5/Math['max'](_0x5a9307,_0x55ac0b),_0x554cf6=Math['floor'](_0x5a9307*_0x411c11),_0x40b710=Math['floor'](_0x55ac0b*_0x411c11);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x3753e5+('.\x20Resizing'+'\x20from\x20')+_0x5a9307+',\x20'+_0x55ac0b+'\x20to\x20'+_0x554cf6+',\x20'+_0x40b710+'.');const _0xc93ca2=document['createElem'+'ent']('canvas');return _0xc93ca2['width']=_0x554cf6,_0xc93ca2['height']=_0x40b710,_0xc93ca2['getContext']('2d')['drawImage'](_0x46e2ac,-0x128a+0xd*0x2c2+-0x1150,0x1462+0x62f*-0x1+-0xe33,_0x5a9307,_0x55ac0b,-0x1f66*0x1+0x2666+0x700*-0x1,0xb7+0x20dc*-0x1+0x3*0xab7,_0x554cf6,_0x40b710),_0xc93ca2;}return _0x46e2ac;}class hb{constructor(_0x1660a3){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',-0x21f3+0x1555+0xc9e),this['texture']=_0x1660a3;}['destroy'](_0x36dc4f){if(this['_glTexture']){for(let _0x6c8206=0x24e6+-0x921+-0x1bc5;_0x6c8206<_0x36dc4f['textureUni'+'ts']['length'];_0x6c8206++){const _0x5a3e74=_0x36dc4f['textureUni'+'ts'][_0x6c8206];for(let _0x52dd45=0x1b2b+0x1529+0x3*-0x101c;_0x52dd45<_0x5a3e74['length'];_0x52dd45++)_0x5a3e74[_0x52dd45]===this['_glTexture']&&(_0x5a3e74[_0x52dd45]=null);}_0x36dc4f['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x2cc303){this['dirtyParam'+'eterFlags']|=_0x2cc303;}['initialize'](_0x4f75ab,_0x571eb9){const _0x576233=_0x4f75ab['gl'];switch(this['_glTexture']=_0x576233['createText'+'ure'](),this['_glTarget']=_0x571eb9['_cubemap']?_0x576233['TEXTURE_CU'+'BE_MAP']:_0x571eb9['_volume']?_0x576233['TEXTURE_3D']:_0x571eb9['array']?_0x576233['TEXTURE_2D'+'_ARRAY']:_0x576233['TEXTURE_2D'],_0x571eb9['_format']){case fy:this['_glFormat']=_0x576233['ALPHA'],this['_glInterna'+'lFormat']=_0x576233['ALPHA'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x576233['LUMINANCE'],this['_glInterna'+'lFormat']=_0x576233['LUMINANCE'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x576233['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x576233['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x576233['RED'],this['_glInterna'+'lFormat']=_0x576233['R8'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x576233['RG'],this['_glInterna'+'lFormat']=_0x576233['RG8'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x576233['RGB'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x576233['RGBA'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x576233['RGBA'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x576233['RGB8'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x576233['RGBA8'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x576233['SRGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x576233['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x576233['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x576233['SRGB'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x576233['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x576233['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4f75ab['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x4f75ab['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x576233['RED'],this['_glInterna'+'lFormat']=_0x576233['R16F'],this['_glPixelTy'+'pe']=_0x576233['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x576233['RG'],this['_glInterna'+'lFormat']=_0x576233['RG16F'],this['_glPixelTy'+'pe']=_0x576233['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x576233['RGB16F'],this['_glPixelTy'+'pe']=_0x576233['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x576233['RGBA16F'],this['_glPixelTy'+'pe']=_0x576233['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x576233['RGB32F'],this['_glPixelTy'+'pe']=_0x576233['FLOAT'];break;case Ke:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x576233['RGBA32F'],this['_glPixelTy'+'pe']=_0x576233['FLOAT'];break;case Ii:this['_glFormat']=_0x576233['RED'],this['_glInterna'+'lFormat']=_0x576233['R32F'],this['_glPixelTy'+'pe']=_0x576233['FLOAT'];break;case Ci:this['_glFormat']=_0x576233['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x576233['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x576233['FLOAT'];break;case la:this['_glFormat']=_0x576233['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x576233['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x576233['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x576233['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x576233['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x576233['RGB'],this['_glInterna'+'lFormat']=_0x576233['SRGB8'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x576233['RGBA'],this['_glInterna'+'lFormat']=_0x576233['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x576233['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x576233['R8I'],this['_glPixelTy'+'pe']=_0x576233['BYTE'];break;case xy:this['_glFormat']=_0x576233['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x576233['R8UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x576233['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x576233['R16I'],this['_glPixelTy'+'pe']=_0x576233['SHORT'];break;case $f:this['_glFormat']=_0x576233['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x576233['R16UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x576233['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x576233['R32I'],this['_glPixelTy'+'pe']=_0x576233['INT'];break;case an:this['_glFormat']=_0x576233['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x576233['R32UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x576233['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x576233['RG8I'],this['_glPixelTy'+'pe']=_0x576233['BYTE'];break;case Sy:this['_glFormat']=_0x576233['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x576233['RG8UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x576233['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x576233['RG16I'],this['_glPixelTy'+'pe']=_0x576233['SHORT'];break;case Yf:this['_glFormat']=_0x576233['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x576233['RG16UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x576233['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x576233['RG32I'],this['_glPixelTy'+'pe']=_0x576233['INT'];break;case Zf:this['_glFormat']=_0x576233['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x576233['RG32UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x576233['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x576233['RGBA8I'],this['_glPixelTy'+'pe']=_0x576233['BYTE'];break;case vy:this['_glFormat']=_0x576233['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x576233['RGBA8UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x576233['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x576233['RGBA16I'],this['_glPixelTy'+'pe']=_0x576233['SHORT'];break;case Ac:this['_glFormat']=_0x576233['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x576233['RGBA16UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x576233['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x576233['RGBA32I'],this['_glPixelTy'+'pe']=_0x576233['INT'];break;case ut:this['_glFormat']=_0x576233['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x576233['RGBA32UI'],this['_glPixelTy'+'pe']=_0x576233['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x1*0x26cb+-0x1e86+-0x2*0x422);}['upload'](_0x3c03d7,_0xdd46b2){v['assert'](_0xdd46b2['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0xdd46b2);const _0x503ae2=_0x3c03d7['gl'];if(!_0xdd46b2['_needsUplo'+'ad']&&(_0xdd46b2['_needsMipm'+'apsUpload']&&_0xdd46b2['_mipmapsUp'+'loaded']||!_0xdd46b2['pot']))return;let _0x2ac22a=-0x17ce+0x1c0b*-0x1+0x1*0x33d9,_0x341ed5,_0x1d2241;const _0x25fccd=_0xdd46b2['numLevels'];for(_0xdd46b2['array']&&_0x503ae2['texStorage'+'3D'](_0x503ae2['TEXTURE_2D'+'_ARRAY'],_0x25fccd,this['_glInterna'+'lFormat'],_0xdd46b2['_width'],_0xdd46b2['_height'],_0xdd46b2['_arrayLeng'+'th']);_0xdd46b2['_levels'][_0x2ac22a]||_0x2ac22a===0x1*0x25f7+0xcc0+0x32b7*-0x1;){if(!_0xdd46b2['_needsUplo'+'ad']&&_0x2ac22a===-0x1*0x234e+-0x61+-0x1*-0x23af){_0x2ac22a++;continue;}else{if(_0x2ac22a&&(!_0xdd46b2['_needsMipm'+'apsUpload']||!_0xdd46b2['_mipmaps']))break;}if(_0x341ed5=_0xdd46b2['_levels'][_0x2ac22a],_0x1d2241=(0xce3*0x2+-0x88*-0xa+-0x1f15)/Math['pow'](0x182+0x6d*-0x5+0x17*0x7,_0x2ac22a),_0x2ac22a===-0x4*-0x298+0x6af+-0x110e&&!_0xdd46b2['_compresse'+'d']&&!_0xdd46b2['_integerFo'+'rmat']&&_0xdd46b2['_levels']['length']<_0x25fccd&&(_0x503ae2['generateMi'+'pmap'](this['_glTarget']),_0xdd46b2['_mipmapsUp'+'loaded']=!(0x17*0x13c+-0x10b4+-0xbb0)),_0xdd46b2['_cubemap']){let _0x3d5f88;if(_0x3c03d7['_isBrowser'+'Interface'](_0x341ed5[-0x282*0x5+0x14b2+-0x9*0xe8]))for(_0x3d5f88=0x128b+0x34a+-0x45*0x51;_0x3d5f88<0x1559*-0x1+-0xbf7+0x2156;_0x3d5f88++){if(!_0xdd46b2['_levelsUpd'+'ated'][0x1777*-0x1+-0x827*0x4+-0xa5*-0x57][_0x3d5f88])continue;let _0x1a7355=_0x341ed5[_0x3d5f88];_0x3c03d7['_isImageBr'+'owserInter'+'face'](_0x1a7355)&&(_0x1a7355['width']>_0x3c03d7['maxCubeMap'+'Size']||_0x1a7355['height']>_0x3c03d7['maxCubeMap'+'Size'])&&(_0x1a7355=Rm(_0x1a7355,_0x3c03d7['maxCubeMap'+'Size']),_0x2ac22a===-0x7*-0x8b+-0x73e+0x371*0x1&&(_0xdd46b2['_width']=_0x1a7355['width'],_0xdd46b2['_height']=_0x1a7355['height'])),_0x3c03d7['setUnpackF'+'lipY'](!(0x1093*-0x1+-0x1*0x11ef+-0x3*-0xb81)),_0x3c03d7['setUnpackP'+'remultiply'+'Alpha'](_0xdd46b2['_premultip'+'lyAlpha']),this['_glCreated']?_0x503ae2['texSubImag'+'e2D'](_0x503ae2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3d5f88,_0x2ac22a,-0x252c+-0x1*0x194c+0x3e78,-0x21e4+-0x370+0x2554,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1a7355):_0x503ae2['texImage2D'](_0x503ae2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3d5f88,_0x2ac22a,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1a7355);}else for(_0x1d2241=(0x1c96+0x1f5a*0x1+0xe5*-0x43)/Math['pow'](-0x1db3+0x283+0x76*0x3b,_0x2ac22a),_0x3d5f88=0x2098+-0xb1e+-0x157a;_0x3d5f88<-0x1b74+-0x6bf+0x2239*0x1;_0x3d5f88++){if(!_0xdd46b2['_levelsUpd'+'ated'][0x17e4+-0x3*-0x3cf+-0x2351][_0x3d5f88])continue;const _0x1656e1=_0x341ed5[_0x3d5f88];_0xdd46b2['_compresse'+'d']?this['_glCreated']&&_0x1656e1?_0x503ae2['compressed'+'TexSubImag'+'e2D'](_0x503ae2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3d5f88,_0x2ac22a,-0x24b*0xd+-0x12a0+0x306f,0x1934*0x1+-0x1e4f+-0x1*-0x51b,Math['max'](_0xdd46b2['_width']*_0x1d2241,0xc5f*0x2+0x2301+-0x13ea*0x3),Math['max'](_0xdd46b2['_height']*_0x1d2241,-0x1a3d+-0x13*0x127+-0x3023*-0x1),this['_glInterna'+'lFormat'],_0x1656e1):_0x503ae2['compressed'+'TexImage2D'](_0x503ae2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3d5f88,_0x2ac22a,this['_glInterna'+'lFormat'],Math['max'](_0xdd46b2['_width']*_0x1d2241,-0x9d1+-0xd41+0x1713),Math['max'](_0xdd46b2['_height']*_0x1d2241,-0x86b+-0x1234+0x1aa0),-0x9fe+0x2*-0x1067+-0xf9*-0x2c,_0x1656e1):(_0x3c03d7['setUnpackF'+'lipY'](!(0x5*0x67f+-0x44*0x1a+-0x1992)),_0x3c03d7['setUnpackP'+'remultiply'+'Alpha'](_0xdd46b2['_premultip'+'lyAlpha']),this['_glCreated']&&_0x1656e1?_0x503ae2['texSubImag'+'e2D'](_0x503ae2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3d5f88,_0x2ac22a,-0xee0+0x127+0xdb9,-0x777+0x4*-0x854+0x28c7,Math['max'](_0xdd46b2['_width']*_0x1d2241,0x184*-0x18+-0x1*0x8d5+-0x789*-0x6),Math['max'](_0xdd46b2['_height']*_0x1d2241,-0x159a+0x7a+0x70b*0x3),this['_glFormat'],this['_glPixelTy'+'pe'],_0x1656e1):_0x503ae2['texImage2D'](_0x503ae2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3d5f88,_0x2ac22a,this['_glInterna'+'lFormat'],Math['max'](_0xdd46b2['_width']*_0x1d2241,0x30d*0x5+-0x1*0x180e+0x8ce),Math['max'](_0xdd46b2['_height']*_0x1d2241,0xe66+-0x1e3e+0xfd9),-0x2107+0x2489*-0x1+0x4590,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1656e1));}}else{if(_0xdd46b2['_volume'])_0xdd46b2['_compresse'+'d']?_0x503ae2['compressed'+'TexImage3D'](_0x503ae2['TEXTURE_3D'],_0x2ac22a,this['_glInterna'+'lFormat'],Math['max'](_0xdd46b2['_width']*_0x1d2241,-0x3*-0x2d3+-0x1580+-0x18*-0x8b),Math['max'](_0xdd46b2['_height']*_0x1d2241,0x3*-0xbbc+-0x1*0x18d1+-0x49e*-0xd),Math['max'](_0xdd46b2['_depth']*_0x1d2241,0x1*-0x1f9a+-0x2210+0x41ab),-0x519*-0x3+0x1972+0x1*-0x28bd,_0x341ed5):(_0x3c03d7['setUnpackF'+'lipY'](!(-0x2468+0x978+-0x21*-0xd1)),_0x3c03d7['setUnpackP'+'remultiply'+'Alpha'](_0xdd46b2['_premultip'+'lyAlpha']),_0x503ae2['texImage3D'](_0x503ae2['TEXTURE_3D'],_0x2ac22a,this['_glInterna'+'lFormat'],Math['max'](_0xdd46b2['_width']*_0x1d2241,-0x1f63+0x246d+0x509*-0x1),Math['max'](_0xdd46b2['_height']*_0x1d2241,0x10a*-0x1c+-0x24e2+0x41fb),Math['max'](_0xdd46b2['_depth']*_0x1d2241,-0x95+-0x1*-0x74+-0x1*-0x22),0x12*0xa3+0xf7*-0x1e+-0x4*-0x45f,this['_glFormat'],this['_glPixelTy'+'pe'],_0x341ed5));else{if(_0xdd46b2['array']&&typeof _0x341ed5=='object'){if(_0xdd46b2['_arrayLeng'+'th']===_0x341ed5['length']){if(_0xdd46b2['_compresse'+'d']){for(let _0x70f944=0x1a6d+0x100d+-0x1*0x2a7a;_0x70f944<_0xdd46b2['_arrayLeng'+'th'];_0x70f944++)_0x503ae2['compressed'+'TexSubImag'+'e3D'](_0x503ae2['TEXTURE_2D'+'_ARRAY'],_0x2ac22a,0x1cd1+-0x169b+-0x636,-0x1*0x2dc+0x65e+-0x382,_0x70f944,Math['max'](Math['floor'](_0xdd46b2['_width']*_0x1d2241),-0x6d*0x4+-0x37*-0x19+-0x7*0x86),Math['max'](Math['floor'](_0xdd46b2['_height']*_0x1d2241),-0x99+0x170f*-0x1+0x17a9),0x257b+0x2617+0x49*-0x109,this['_glInterna'+'lFormat'],_0x341ed5[_0x70f944]);}else{for(let _0xd297a8=-0x15e5+-0x25*-0x1d+0x11b4;_0xd297a8<_0xdd46b2['_arrayLeng'+'th'];_0xd297a8++)_0x503ae2['texSubImag'+'e3D'](_0x503ae2['TEXTURE_2D'+'_ARRAY'],_0x2ac22a,0x30a+-0x62*0x49+0x18e8*0x1,-0x1*-0x191f+-0x2*0x8f0+0x73f*-0x1,_0xd297a8,Math['max'](Math['floor'](_0xdd46b2['_width']*_0x1d2241),-0x7*0x33f+0x949*0x2+0x428),Math['max'](Math['floor'](_0xdd46b2['_height']*_0x1d2241),0xa95+0x21d6+-0x2c6a),-0x1207*0x1+0xd8+0x1130,this['_glFormat'],this['_glPixelTy'+'pe'],_0x341ed5[_0xd297a8]);}}}else{if(_0x3c03d7['_isBrowser'+'Interface'](_0x341ed5)){_0x3c03d7['_isImageBr'+'owserInter'+'face'](_0x341ed5)&&(_0x341ed5['width']>_0x3c03d7['maxTexture'+'Size']||_0x341ed5['height']>_0x3c03d7['maxTexture'+'Size'])&&(_0x341ed5=Rm(_0x341ed5,_0x3c03d7['maxTexture'+'Size']),_0x2ac22a===0x16e6+0x166d+-0x2d53&&(_0xdd46b2['_width']=_0x341ed5['width'],_0xdd46b2['_height']=_0x341ed5['height']));const _0x369c5e=_0x341ed5['width']||_0x341ed5['videoWidth'],_0x216e09=_0x341ed5['height']||_0x341ed5['videoHeigh'+'t'];_0x3c03d7['setUnpackF'+'lipY'](_0xdd46b2['_flipY']),_0x3c03d7['setUnpackP'+'remultiply'+'Alpha'](_0xdd46b2['_premultip'+'lyAlpha']),this['_glCreated']&&_0xdd46b2['_width']===_0x369c5e&&_0xdd46b2['_height']===_0x216e09&&!_0x3c03d7['_isImageVi'+'deoInterfa'+'ce'](_0x341ed5)?_0x503ae2['texSubImag'+'e2D'](_0x503ae2['TEXTURE_2D'],_0x2ac22a,0x2105*-0x1+0x1a26*0x1+0x6df,-0x1f*0xf2+0x11bd+0xb91,this['_glFormat'],this['_glPixelTy'+'pe'],_0x341ed5):(_0x503ae2['texImage2D'](_0x503ae2['TEXTURE_2D'],_0x2ac22a,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x341ed5),_0x2ac22a===0x2d*-0xc8+0x1085+0x12a3*0x1&&(_0xdd46b2['_width']=_0x369c5e,_0xdd46b2['_height']=_0x216e09));}else _0x1d2241=(-0x2*-0x525+-0x2fe*-0xa+-0xd67*0x3)/Math['pow'](0x53*0x2f+0x887*-0x2+0x1d3*0x1,_0x2ac22a),_0xdd46b2['_compresse'+'d']?this['_glCreated']&&_0x341ed5?_0x503ae2['compressed'+'TexSubImag'+'e2D'](_0x503ae2['TEXTURE_2D'],_0x2ac22a,0x18b3+0x322+0x177*-0x13,0x588+-0x7*-0x36d+-0x1d83*0x1,Math['max'](Math['floor'](_0xdd46b2['_width']*_0x1d2241),0x1*0x946+-0x485+0x10*-0x4c),Math['max'](Math['floor'](_0xdd46b2['_height']*_0x1d2241),-0x113b+-0x1d63+0x2e9f),this['_glInterna'+'lFormat'],_0x341ed5):_0x503ae2['compressed'+'TexImage2D'](_0x503ae2['TEXTURE_2D'],_0x2ac22a,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0xdd46b2['_width']*_0x1d2241),0x1258+0x1*0x9e3+0x1c3a*-0x1),Math['max'](Math['floor'](_0xdd46b2['_height']*_0x1d2241),-0x3*0x337+0x186+-0x10*-0x82),0x1*0x16f4+0x10cc+-0x27c0,_0x341ed5):(_0x3c03d7['setUnpackF'+'lipY'](!(0x15d9+-0x1*-0x1263+-0x3*0xd69)),_0x3c03d7['setUnpackP'+'remultiply'+'Alpha'](_0xdd46b2['_premultip'+'lyAlpha']),this['_glCreated']&&_0x341ed5?_0x503ae2['texSubImag'+'e2D'](_0x503ae2['TEXTURE_2D'],_0x2ac22a,0x117a+-0x6d0+0x555*-0x2,-0xf17+0x168+0xdaf,Math['max'](_0xdd46b2['_width']*_0x1d2241,-0xee1+0x1*-0x12f9+-0xb49*-0x3),Math['max'](_0xdd46b2['_height']*_0x1d2241,-0xc1f+-0x2*0x50b+-0x1636*-0x1),this['_glFormat'],this['_glPixelTy'+'pe'],_0x341ed5):_0x503ae2['texImage2D'](_0x503ae2['TEXTURE_2D'],_0x2ac22a,this['_glInterna'+'lFormat'],Math['max'](_0xdd46b2['_width']*_0x1d2241,0x26a7+0xf1*-0x16+-0x11f0),Math['max'](_0xdd46b2['_height']*_0x1d2241,-0x14*-0x59+-0x7d4*-0x4+-0x2643),0x496+0x40f*-0x5+-0x1*-0xfb5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x341ed5));_0x2ac22a===0xb35+0x1056+-0x1b8b*0x1?_0xdd46b2['_mipmapsUp'+'loaded']=!(-0x16*-0xf5+0x1df2*-0x1+0x8e5):_0xdd46b2['_mipmapsUp'+'loaded']=!(0xd7b+0x118c*0x2+-0x3093);}}}_0x2ac22a++;}if(_0xdd46b2['_needsUplo'+'ad']){if(_0xdd46b2['_cubemap']){for(let _0x1f3d98=0x2*-0x11b3+0x1*-0xc05+0x3d*0xc7;_0x1f3d98<-0x8e7*0x1+-0x243d+0x11a*0x29;_0x1f3d98++)_0xdd46b2['_levelsUpd'+'ated'][-0x1*-0xc61+-0x2*0x684+0xa7][_0x1f3d98]=!(-0x102c+-0x16b3+0x26e0);}else _0xdd46b2['_levelsUpd'+'ated'][0x225+0x1*-0x114d+0x2*0x794]=!(0xbc*0x11+0x138d+-0x2008);}!_0xdd46b2['_compresse'+'d']&&!_0xdd46b2['_integerFo'+'rmat']&&_0xdd46b2['_mipmaps']&&_0xdd46b2['_needsMipm'+'apsUpload']&&_0xdd46b2['_levels']['length']===0x74b+-0x13b3+0x161*0x9&&(_0x503ae2['generateMi'+'pmap'](this['_glTarget']),_0xdd46b2['_mipmapsUp'+'loaded']=!(0x11*-0x73+-0x1be9+0x238c)),_0xdd46b2['_gpuSize']&&_0xdd46b2['adjustVram'+'SizeTracki'+'ng'](_0x3c03d7['_vram'],-_0xdd46b2['_gpuSize']),_0xdd46b2['_gpuSize']=_0xdd46b2['gpuSize'],_0xdd46b2['adjustVram'+'SizeTracki'+'ng'](_0x3c03d7['_vram'],_0xdd46b2['_gpuSize']),this['_glCreated']=!(-0x1170+-0x98+0x1208);}['read'](_0x287011,_0x50bf79,_0x5900e6,_0x5e75c7,_0x3e8d78){const _0x255b89=this['texture'];return _0x255b89['device']['readTextur'+'eAsync'](_0x255b89,_0x287011,_0x50bf79,_0x5900e6,_0x5e75c7,_0x3e8d78);}}class cb{constructor(_0x2f7c3f,_0x1011bf){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x2f7c3f,this['resolveFB']=_0x1011bf);}['destroy'](_0x213a3f){this['msaaFB']&&(_0x213a3f['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x213a3f['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x226+-0x2ad+-0x1*-0x4d4));}['destroy'](_0x34e92a){var _0x15d968;const _0x14e414=_0x34e92a['gl'];this['_isInitial'+'ized']=!(-0x626*0x1+0x1d*-0xf9+0x4*0x897),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x14e414['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x14e414['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x14e414['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x4a880f=>{_0x14e414['deleteRend'+'erbuffer'](_0x4a880f);}),this['_glMsaaCol'+'orBuffers']['length']=-0x110b+-0x972+0x1a7d,(_0x15d968=this['colorMrtFr'+'amebuffers'])==null||_0x15d968['forEach'](_0x1e1ca7=>{_0x1e1ca7['destroy'](_0x14e414);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x34e92a)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x19*-0x10+0x1*-0xe70+0xce0);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x26409e,_0x802ca2){var _0x4274ef,_0x5ccf53;const _0x5ce6db=_0x26409e['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x156c+0x24c2+-0x3a2e);const _0x4a08ba=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x2539*0x1+0x1ca0+-0x751*0x9))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x802ca2['width']<=0x3a*-0x5+0x710+0x3*-0x1fa||_0x802ca2['height']<=0x7*-0x15c+-0x146b+0x1def)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x802ca2['width']+'\x20x\x20'+_0x802ca2['height'],_0x802ca2);}),this['_glFrameBu'+'ffer']=_0x5ce6db['createFram'+'ebuffer'](),_0x26409e['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x463a75=((_0x4274ef=_0x802ca2['_colorBuff'+'ers'])==null?void(-0xe61*-0x1+-0xe0e+-0x53):_0x4274ef['length'])??0x1c16+-0x1*-0x1312+-0x2f28,_0x2df6fd=_0x5ce6db['COLOR_ATTA'+'CHMENT0'];for(let _0x22131b=0x8e*-0xa+-0x1ee7+-0xd9*-0x2b;_0x22131b<_0x463a75;++_0x22131b){const _0xafa5f1=_0x802ca2['getColorBu'+'ffer'](_0x22131b);_0xafa5f1&&(_0xafa5f1['impl']['_glTexture']||(_0xafa5f1['_width']=Math['min'](_0xafa5f1['width'],_0x26409e['maxRenderB'+'ufferSize']),_0xafa5f1['_height']=Math['min'](_0xafa5f1['height'],_0x26409e['maxRenderB'+'ufferSize']),_0x26409e['setTexture'](_0xafa5f1,-0x7d3*-0x2+0xce7*-0x1+-0x2bf)),_0x5ce6db['framebuffe'+'rTexture2D'](_0x5ce6db['FRAMEBUFFE'+'R'],_0x2df6fd+_0x22131b,_0xafa5f1['_cubemap']?_0x5ce6db['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x802ca2['_face']:_0x5ce6db['TEXTURE_2D'],_0xafa5f1['impl']['_glTexture'],_0x802ca2['mipLevel']),_0x4a08ba['push'](_0x2df6fd+_0x22131b));}_0x5ce6db['drawBuffer'+'s'](_0x4a08ba);const _0xef9141=_0x802ca2['_depthBuff'+'er'];if(_0xef9141||_0x802ca2['_depth']){const _0x7bfa54=_0x802ca2['_stencil']?_0x5ce6db['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x5ce6db['DEPTH_ATTA'+'CHMENT'];if(_0xef9141)_0xef9141['impl']['_glTexture']||(_0xef9141['_width']=Math['min'](_0xef9141['width'],_0x26409e['maxRenderB'+'ufferSize']),_0xef9141['_height']=Math['min'](_0xef9141['height'],_0x26409e['maxRenderB'+'ufferSize']),_0x26409e['setTexture'](_0xef9141,-0x1*0x143b+-0x22a4+0x1*0x36df)),_0x5ce6db['framebuffe'+'rTexture2D'](_0x5ce6db['FRAMEBUFFE'+'R'],_0x7bfa54,_0xef9141['_cubemap']?_0x5ce6db['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x802ca2['_face']:_0x5ce6db['TEXTURE_2D'],_0x802ca2['_depthBuff'+'er']['impl']['_glTexture'],_0x802ca2['mipLevel']);else{if(!(_0x802ca2['_samples']>0x198b+-0xaf2+-0xe98)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x5ce6db['createRend'+'erbuffer']());const _0x2d50a4=_0x802ca2['_stencil']?_0x5ce6db['DEPTH24_ST'+'ENCIL8']:_0x5ce6db['DEPTH_COMP'+'ONENT32F'];_0x5ce6db['bindRender'+'buffer'](_0x5ce6db['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x5ce6db['renderbuff'+'erStorage'](_0x5ce6db['RENDERBUFF'+'ER'],_0x2d50a4,_0x802ca2['width'],_0x802ca2['height']),_0x5ce6db['framebuffe'+'rRenderbuf'+'fer'](_0x5ce6db['FRAMEBUFFE'+'R'],_0x7bfa54,_0x5ce6db['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x5ce6db['bindRender'+'buffer'](_0x5ce6db['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x26409e,_0x802ca2));}if(_0x802ca2['_samples']>-0x196+0x11*-0xe3+0x10aa){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x5ce6db['createFram'+'ebuffer'](),_0x26409e['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x5a6f3d=((_0x5ccf53=_0x802ca2['_colorBuff'+'ers'])==null?void(0x8b3+0x1c32+-0x24e5):_0x5ccf53['length'])??0xce8+-0x10*0x142+-0x9a*-0xc;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x2*0x1161+0x1d41+0x581)){const _0x544685=_0x5ce6db['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x544685);const _0xd7d973=_0x26409e['backBuffer'+'Format']===Se?_0x5ce6db['RGBA8']:_0x5ce6db['RGB8'];_0x5ce6db['bindRender'+'buffer'](_0x5ce6db['RENDERBUFF'+'ER'],_0x544685),_0x5ce6db['renderbuff'+'erStorageM'+'ultisample'](_0x5ce6db['RENDERBUFF'+'ER'],_0x802ca2['_samples'],_0xd7d973,_0x802ca2['width'],_0x802ca2['height']),_0x5ce6db['framebuffe'+'rRenderbuf'+'fer'](_0x5ce6db['FRAMEBUFFE'+'R'],_0x5ce6db['COLOR_ATTA'+'CHMENT0'],_0x5ce6db['RENDERBUFF'+'ER'],_0x544685);}else for(let _0x22bf6d=0x2*-0x642+-0x2*0x506+0x4*0x5a4;_0x22bf6d<_0x5a6f3d;++_0x22bf6d){const _0x5eb2f7=_0x802ca2['getColorBu'+'ffer'](_0x22bf6d);if(_0x5eb2f7){const _0x41b896=_0x5ce6db['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x41b896),_0x5ce6db['bindRender'+'buffer'](_0x5ce6db['RENDERBUFF'+'ER'],_0x41b896),_0x5ce6db['renderbuff'+'erStorageM'+'ultisample'](_0x5ce6db['RENDERBUFF'+'ER'],_0x802ca2['_samples'],_0x5eb2f7['impl']['_glInterna'+'lFormat'],_0x802ca2['width'],_0x802ca2['height']),_0x5ce6db['framebuffe'+'rRenderbuf'+'fer'](_0x5ce6db['FRAMEBUFFE'+'R'],_0x5ce6db['COLOR_ATTA'+'CHMENT0']+_0x22bf6d,_0x5ce6db['RENDERBUFF'+'ER'],_0x41b896);}}if(_0x802ca2['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x1449c0=_0x802ca2['_stencil']?_0x5ce6db['DEPTH24_ST'+'ENCIL8']:_0x5ce6db['DEPTH_COMP'+'ONENT32F'],_0x2ebadb=_0x802ca2['_stencil']?_0x5ce6db['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x5ce6db['DEPTH_ATTA'+'CHMENT'];let _0x495529;const _0x10a0cf=_0x802ca2['_depthBuff'+'er'];_0x10a0cf&&(_0x495529=_0x10a0cf['id']+':'+_0x802ca2['width']+':'+_0x802ca2['height']+':'+_0x802ca2['_samples']+':'+_0x1449c0+':'+_0x2ebadb,this['_glMsaaDep'+'thBuffer']=od(_0x26409e)['get'](_0x495529)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x5ce6db['createRend'+'erbuffer'](),_0x5ce6db['bindRender'+'buffer'](_0x5ce6db['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x5ce6db['renderbuff'+'erStorageM'+'ultisample'](_0x5ce6db['RENDERBUFF'+'ER'],_0x802ca2['_samples'],_0x1449c0,_0x802ca2['width'],_0x802ca2['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x5ce6db['deleteRend'+'erbuffer'](this);},_0x10a0cf&&od(_0x26409e)['set'](_0x495529,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x495529,_0x5ce6db['framebuffe'+'rRenderbuf'+'fer'](_0x5ce6db['FRAMEBUFFE'+'R'],_0x2ebadb,_0x5ce6db['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x26409e,_0x802ca2,'MSAA')),_0x5a6f3d>-0x2e0+0x1c8*0x12+-0x1d2f&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x26409e,_0x802ca2,_0x5a6f3d),_0x26409e['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x5ce6db['drawBuffer'+'s'](_0x4a08ba));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x3fb815,_0x46e43d,_0x471b5a){const _0x293bbd=_0x3fb815['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x4db97e=0xed1*0x2+0xa7*-0x1+-0x1cfb;_0x4db97e<_0x471b5a;++_0x4db97e){const _0x187d2a=_0x46e43d['getColorBu'+'ffer'](_0x4db97e),_0x3687ca=_0x293bbd['createFram'+'ebuffer']();_0x3fb815['setFramebu'+'ffer'](_0x3687ca);const _0x5a9052=this['_glMsaaCol'+'orBuffers'][_0x4db97e];_0x293bbd['bindRender'+'buffer'](_0x293bbd['RENDERBUFF'+'ER'],_0x5a9052),_0x293bbd['renderbuff'+'erStorageM'+'ultisample'](_0x293bbd['RENDERBUFF'+'ER'],_0x46e43d['_samples'],_0x187d2a['impl']['_glInterna'+'lFormat'],_0x46e43d['width'],_0x46e43d['height']),_0x293bbd['framebuffe'+'rRenderbuf'+'fer'](_0x293bbd['FRAMEBUFFE'+'R'],_0x293bbd['COLOR_ATTA'+'CHMENT0'],_0x293bbd['RENDERBUFF'+'ER'],_0x5a9052),_0x293bbd['drawBuffer'+'s']([_0x293bbd['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x3fb815,_0x46e43d,'MSAA-MRT-s'+'rc'+_0x4db97e));const _0x19d772=_0x293bbd['createFram'+'ebuffer']();_0x3fb815['setFramebu'+'ffer'](_0x19d772),_0x293bbd['framebuffe'+'rTexture2D'](_0x293bbd['FRAMEBUFFE'+'R'],_0x293bbd['COLOR_ATTA'+'CHMENT0'],_0x187d2a['_cubemap']?_0x293bbd['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x46e43d['_face']:_0x293bbd['TEXTURE_2D'],_0x187d2a['impl']['_glTexture'],-0x32*-0x77+0x2569+-0x3ca7*0x1),this['colorMrtFr'+'amebuffers'][_0x4db97e]=new cb(_0x3687ca,_0x19d772),v['call'](()=>this['_checkFbo'](_0x3fb815,_0x46e43d,'MSAA-MRT-d'+'st'+_0x4db97e));}}['_checkFbo'](_0x3951e5,_0x523dc6,_0x291247=''){const _0x2fb9ed=_0x3951e5['gl'],_0x475c1b=_0x2fb9ed['checkFrame'+'bufferStat'+'us'](_0x2fb9ed['FRAMEBUFFE'+'R']);let _0x52178a;switch(_0x475c1b){case _0x2fb9ed['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x52178a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x2fb9ed['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x52178a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x2fb9ed['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x52178a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x2fb9ed['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x52178a='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x52178a,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x52178a+(',\x20render\x20t'+'arget:\x20')+_0x523dc6['name']+'\x20'+_0x291247,_0x523dc6);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x3ca+0x2286+-0x1c*0x119,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x1ab4+0x1*-0x13fc+-0x6b8),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x5*0x4e8+0x511*-0x1+0x1d99),this['_isInitial'+'ized']=!(0x2*0xd2b+0x2299+-0x3cee);}['internalRe'+'solve'](_0x37a21b,_0x5e6b0e,_0xf45791,_0x522e46,_0x2ac833){v['assert'](_0x5e6b0e!==_0xf45791,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x37a21b['setScissor'](-0x28*0x53+0x5*-0x211+0x174d,0xbaa+-0x16a7+0xafd,_0x522e46['width'],_0x522e46['height']);const _0x181a28=_0x37a21b['gl'];_0x181a28['bindFrameb'+'uffer'](_0x181a28['READ_FRAME'+'BUFFER'],_0x5e6b0e),_0x181a28['bindFrameb'+'uffer'](_0x181a28['DRAW_FRAME'+'BUFFER'],_0xf45791),_0x181a28['blitFrameb'+'uffer'](-0x1*0xe3c+0x1*0xa82+-0x12*-0x35,-0x1f9a+0x1ec9+0xd1,_0x522e46['width'],_0x522e46['height'],-0x17f2+-0x207d+0x386f*0x1,-0x85*-0x1a+-0x31c*-0x4+-0x7b*0x36,_0x522e46['width'],_0x522e46['height'],_0x2ac833,_0x181a28['NEAREST']);}['resolve'](_0x5aa42b,_0x40508f,_0x3cd618,_0x3087bb){const _0x3abdc9=_0x5aa42b['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x3cd618)for(let _0x510134=0x2*0x2cf+0x204c+-0x17*0x1a6;_0x510134<this['colorMrtFr'+'amebuffers']['length'];_0x510134++){const _0x2bb9f3=this['colorMrtFr'+'amebuffers'][_0x510134];G['pushGpuMar'+'ker'](_0x5aa42b,'RESOLVE-MR'+'T'+_0x510134),this['internalRe'+'solve'](_0x5aa42b,_0x2bb9f3['msaaFB'],_0x2bb9f3['resolveFB'],_0x40508f,_0x3abdc9['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x5aa42b);}_0x3087bb&&(G['pushGpuMar'+'ker'](_0x5aa42b,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x5aa42b,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x40508f,_0x3abdc9['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x5aa42b));}else G['pushGpuMar'+'ker'](_0x5aa42b,'RESOLVE'),this['internalRe'+'solve'](_0x5aa42b,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x40508f,(_0x3cd618?_0x3abdc9['COLOR_BUFF'+'ER_BIT']:-0x1451+0x3fa*-0x6+0x2b*0x107)|(_0x3087bb?_0x3abdc9['DEPTH_BUFF'+'ER_BIT']:-0x7*0x185+0x823+0x280)),G['popGpuMark'+'er'](_0x5aa42b);_0x3abdc9['bindFrameb'+'uffer'](_0x3abdc9['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x5f3c31){this['queries']['forEach'](_0x33d8a3=>_0x5f3c31['deleteQuer'+'y'](_0x33d8a3)),this['queries']=null;}}class fb extends tb{constructor(_0x1ab438){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x1ab438,this['ext']=_0x1ab438['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x106631=>this['device']['gl']['deleteQuer'+'y'](_0x106631)),this['frameQueri'+'es']['forEach'](_0x210152=>this['device']['gl']['deleteQuer'+'y'](_0x210152)),this['previousFr'+'ameQueries']['forEach'](_0xe9e659=>_0xe9e659['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x2062bd){if(this['ext']){const _0x5d46f2=this['getSlot'](_0x2062bd),_0x3ecef2=this['getQuery']();return this['frameQueri'+'es'][_0x5d46f2]=_0x3ecef2,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x3ecef2),_0x5d46f2;}}['end'](_0x19a02e){_0x19a02e!==void(0x22ef+-0x3fb+0x7bd*-0x4)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x45bfba=this['ext'],_0x3fca52=this['device']['gl'],_0x25fa98=this['device']['renderVers'+'ion'],_0x31f5bf=this['frameQueri'+'es'];if(_0x31f5bf['length']>0x1ead*-0x1+-0x177e*0x1+0x362b){this['frameQueri'+'es']=[];const _0x60f770=new ub();_0x60f770['queries']=_0x31f5bf,_0x60f770['renderVers'+'ion']=_0x25fa98,this['previousFr'+'ameQueries']['push'](_0x60f770);}if(this['previousFr'+'ameQueries']['length']>0x19ae+-0x1613*0x1+-0x39b*0x1){const _0x7ad87c=this['previousFr'+'ameQueries'][-0x1c26+-0x1*-0xb23+0x1103],_0x2bc658=_0x7ad87c['queries'],_0x146784=_0x2bc658[_0x2bc658['length']-(0xf7+0x75+-0x16b)],_0x26f57d=_0x3fca52['getQueryPa'+'rameter'](_0x146784,_0x3fca52['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x18c6e0=_0x3fca52['getParamet'+'er'](_0x45bfba['GPU_DISJOI'+'NT_EXT']);if(_0x26f57d&&!_0x18c6e0){this['previousFr'+'ameQueries']['shift']();const _0x1e2271=this['timings'];_0x1e2271['length']=0x1c68+-0x21d4+0x56c;for(let _0x485cc7=0x2287+-0x2100+0x1*-0x187;_0x485cc7<_0x2bc658['length'];_0x485cc7++){const _0x2e0cdd=_0x2bc658[_0x485cc7],_0x1b2341=_0x3fca52['getQueryPa'+'rameter'](_0x2e0cdd,_0x3fca52['QUERY_RESU'+'LT']);_0x1e2271[_0x485cc7]=_0x1b2341*(-0x65e+0x2579+-0x1*0x1f1b+0.000001),this['freeQuerie'+'s']['push'](_0x2e0cdd);}this['report'](_0x7ad87c['renderVers'+'ion'],_0x1e2271);}_0x18c6e0&&(this['previousFr'+'ameQueries']['forEach'](_0xcbde74=>{this['report'](_0xcbde74['renderVers'+'ion'],null),_0xcbde74['destroy'](_0x3fca52);}),this['previousFr'+'ameQueries']['length']=0x1ebd+0x256b+-0x4428);}super['request'](_0x25fa98);}}}const Tn=[];class pb extends Fh{constructor(_0x4a55fb,_0x2ee968={}){super(_0x4a55fb,_0x2ee968),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x83c+-0x617+0xe54)),(_0x2ee968=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x14e8+0x1e62+0x61*-0x19),this['_contextLo'+'stHandler']=_0x55b9fa=>{_0x55b9fa['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x5495dc=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x5495dc&&_0x5495dc['includes']('AppleWebKi'+'t')&&(_0x5495dc['includes']('15.4')||_0x5495dc['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x2ee968['antialias']=!(0x2551+0x1865+0x1*-0x3db5),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x2008dd=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0xae199f=_0x2008dd?_0x2008dd[0x246f+-0x1381*-0x1+-0x37ef]:null;if(_0xae199f){const _0x51abcb=parseFloat(_0xae199f);(ye['name']==='windows'&&(_0x51abcb>=-0x952*0x3+-0xf1c+0x2b8a||_0x51abcb===0xa6*0x19+0x5*0x5d5+-0xe6*0x32)||ye['name']==='android'&&_0x51abcb>=-0x153*0xe+0xc2a+-0x54*-0x15)&&(_0x2ee968['antialias']=!(0x2591*-0x1+0x4*-0x3e9+0x3536),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0xae199f));}}this['backBuffer'+'Antialias']=_0x2ee968['antialias']??!(0x207b+0x670+-0x2*0x1375),_0x2ee968['antialias']=!(-0x739*-0x3+0x1c52+-0x31fc);const _0x36c367=_0x2ee968['gl']??_0x4a55fb['getContext']('webgl2',_0x2ee968);if(!_0x36c367)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x36c367,this['isWebGL2']=!(0x20c3+-0x703+0x4*-0x670),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x29ea5e=ye['browserNam'+'e']==='chrome',_0x4d6283=ye['browserNam'+'e']==='safari',_0x34d1fe=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x133*-0x19+0x3*0xa91+-0x3dad);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x4d6283,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x34d1fe&&_0x29ea5e&&!_0x2ee968['alpha'],_0x4a55fb['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x14*-0x67+0xd*0x7b+0x1ce)),_0x4a55fb['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x8c0+-0x1264+0x9a5)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x4d6283&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x36c367['SAMPLER_2D'],_0x36c367['SAMPLER_CU'+'BE'],_0x36c367['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x36c367['INT_SAMPLE'+'R_2D'],_0x36c367['SAMPLER_2D'+'_SHADOW'],_0x36c367['SAMPLER_CU'+'BE_SHADOW'],_0x36c367['SAMPLER_3D'],_0x36c367['INT_SAMPLE'+'R_3D'],_0x36c367['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x36c367['SAMPLER_2D'+'_ARRAY'],_0x36c367['INT_SAMPLE'+'R_2D_ARRAY'],_0x36c367['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x36c367['REPEAT'],_0x36c367['CLAMP_TO_E'+'DGE'],_0x36c367['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x36c367['FUNC_ADD'],_0x36c367['FUNC_SUBTR'+'ACT'],_0x36c367['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x36c367['MIN'],_0x36c367['MAX']],this['glBlendFun'+'ctionColor']=[_0x36c367['ZERO'],_0x36c367['ONE'],_0x36c367['SRC_COLOR'],_0x36c367['ONE_MINUS_'+'SRC_COLOR'],_0x36c367['DST_COLOR'],_0x36c367['ONE_MINUS_'+'DST_COLOR'],_0x36c367['SRC_ALPHA'],_0x36c367['SRC_ALPHA_'+'SATURATE'],_0x36c367['ONE_MINUS_'+'SRC_ALPHA'],_0x36c367['DST_ALPHA'],_0x36c367['ONE_MINUS_'+'DST_ALPHA'],_0x36c367['CONSTANT_C'+'OLOR'],_0x36c367['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x36c367['ZERO'],_0x36c367['ONE'],_0x36c367['SRC_COLOR'],_0x36c367['ONE_MINUS_'+'SRC_COLOR'],_0x36c367['DST_COLOR'],_0x36c367['ONE_MINUS_'+'DST_COLOR'],_0x36c367['SRC_ALPHA'],_0x36c367['SRC_ALPHA_'+'SATURATE'],_0x36c367['ONE_MINUS_'+'SRC_ALPHA'],_0x36c367['DST_ALPHA'],_0x36c367['ONE_MINUS_'+'DST_ALPHA'],_0x36c367['CONSTANT_A'+'LPHA'],_0x36c367['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x36c367['NEVER'],_0x36c367['LESS'],_0x36c367['EQUAL'],_0x36c367['LEQUAL'],_0x36c367['GREATER'],_0x36c367['NOTEQUAL'],_0x36c367['GEQUAL'],_0x36c367['ALWAYS']],this['glStencilO'+'p']=[_0x36c367['KEEP'],_0x36c367['ZERO'],_0x36c367['REPLACE'],_0x36c367['INCR'],_0x36c367['INCR_WRAP'],_0x36c367['DECR'],_0x36c367['DECR_WRAP'],_0x36c367['INVERT']],this['glClearFla'+'g']=[-0x371*-0x3+0x408+-0xe5b,_0x36c367['COLOR_BUFF'+'ER_BIT'],_0x36c367['DEPTH_BUFF'+'ER_BIT'],_0x36c367['COLOR_BUFF'+'ER_BIT']|_0x36c367['DEPTH_BUFF'+'ER_BIT'],_0x36c367['STENCIL_BU'+'FFER_BIT'],_0x36c367['STENCIL_BU'+'FFER_BIT']|_0x36c367['COLOR_BUFF'+'ER_BIT'],_0x36c367['STENCIL_BU'+'FFER_BIT']|_0x36c367['DEPTH_BUFF'+'ER_BIT'],_0x36c367['STENCIL_BU'+'FFER_BIT']|_0x36c367['COLOR_BUFF'+'ER_BIT']|_0x36c367['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x1b25+-0x1944+-0xd*0x25,_0x36c367['BACK'],_0x36c367['FRONT'],_0x36c367['FRONT_AND_'+'BACK']],this['glFilter']=[_0x36c367['NEAREST'],_0x36c367['LINEAR'],_0x36c367['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x36c367['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x36c367['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x36c367['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x36c367['POINTS'],_0x36c367['LINES'],_0x36c367['LINE_LOOP'],_0x36c367['LINE_STRIP'],_0x36c367['TRIANGLES'],_0x36c367['TRIANGLE_S'+'TRIP'],_0x36c367['TRIANGLE_F'+'AN']],this['glType']=[_0x36c367['BYTE'],_0x36c367['UNSIGNED_B'+'YTE'],_0x36c367['SHORT'],_0x36c367['UNSIGNED_S'+'HORT'],_0x36c367['INT'],_0x36c367['UNSIGNED_I'+'NT'],_0x36c367['FLOAT'],_0x36c367['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x36c367['BOOL']]=ca,this['pcUniformT'+'ype'][_0x36c367['INT']]=ln,this['pcUniformT'+'ype'][_0x36c367['FLOAT']]=$s,this['pcUniformT'+'ype'][_0x36c367['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x36c367['FLOAT_VEC3']]=$t,this['pcUniformT'+'ype'][_0x36c367['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x36c367['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x36c367['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x36c367['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x36c367['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x36c367['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x36c367['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x36c367['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x36c367['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x36c367['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x36c367['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x36c367['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x36c367['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x36c367['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x36c367['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x36c367['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x36c367['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x36c367['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x36c367['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x36c367['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x36c367['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x36c367['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x36c367['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x36c367['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x36c367['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x36c367['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x36c367['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x36c367['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x36c367['TEXTURE_2D']]=0x13d*0x6+-0x1836+-0x2cc*-0x6,this['targetToSl'+'ot'][_0x36c367['TEXTURE_CU'+'BE_MAP']]=-0xf4+-0x4*0x586+-0x3*-0x7af,this['targetToSl'+'ot'][_0x36c367['TEXTURE_3D']]=-0x1100+0x10a3*-0x1+0x57*0x63;let _0x47bf00,_0x5ea66f,_0x44eedc,_0x5dc57b,_0x5e9a85;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x3f947f,_0x30d23e){_0x3f947f['value']!==_0x30d23e&&(_0x36c367['uniform1i'](_0x3f947f['locationId'],_0x30d23e),_0x3f947f['value']=_0x30d23e);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][$s]=function(_0x983284,_0x35dc6e){_0x983284['value']!==_0x35dc6e&&(_0x36c367['uniform1f'](_0x983284['locationId'],_0x35dc6e),_0x983284['value']=_0x35dc6e);},this['commitFunc'+'tion'][or]=function(_0x3e7d60,_0x1e4b54){_0x5e9a85=_0x3e7d60['value'],_0x47bf00=_0x1e4b54[0xaf4*-0x1+-0x989*0x3+-0x13*-0x215],_0x5ea66f=_0x1e4b54[0xb3*0x1a+0x1083+-0xf0*0x25],(_0x5e9a85[0x1e45+0x5b*-0xf+-0x18f0]!==_0x47bf00||_0x5e9a85[0x2ba*-0xb+-0x1*0x8ad+0xdc*0x2d]!==_0x5ea66f)&&(_0x36c367['uniform2fv'](_0x3e7d60['locationId'],_0x1e4b54),_0x5e9a85[0x1e80+-0x1*0x282+0x2*-0xdff]=_0x47bf00,_0x5e9a85[-0x3a0+-0x1fe7+-0x8e2*-0x4]=_0x5ea66f);},this['commitFunc'+'tion'][$t]=function(_0x34f671,_0xce5841){_0x5e9a85=_0x34f671['value'],_0x47bf00=_0xce5841[-0x1de*-0x11+-0x1908+-0x6b6],_0x5ea66f=_0xce5841[0x1761+0x22f4*-0x1+0xb94],_0x44eedc=_0xce5841[0x3*-0xc33+0x2c*0x5+-0x23bf*-0x1],(_0x5e9a85[0x5*-0x4d9+0x2688+-0xe4b]!==_0x47bf00||_0x5e9a85[0x325*-0x7+-0x1*0x7ed+-0x49*-0x69]!==_0x5ea66f||_0x5e9a85[-0x2063+-0x1998*0x1+-0xb99*-0x5]!==_0x44eedc)&&(_0x36c367['uniform3fv'](_0x34f671['locationId'],_0xce5841),_0x5e9a85[-0x168d+-0x886*-0x1+0x3f*0x39]=_0x47bf00,_0x5e9a85[-0x1*0x23f3+0x12*0x11b+0x100e]=_0x5ea66f,_0x5e9a85[-0x238*-0x11+-0x1d*0x3+-0x255f]=_0x44eedc);},this['commitFunc'+'tion'][xa]=function(_0x31978f,_0x512327){_0x5e9a85=_0x31978f['value'],_0x47bf00=_0x512327[-0x1437+0x43c*-0x8+-0x3d*-0xe3],_0x5ea66f=_0x512327[-0xf3e+0x1eb4+-0xf75],_0x44eedc=_0x512327[0x18ea+-0x24ed+0xc05],_0x5dc57b=_0x512327[-0x1*0x21f5+0x7d3+-0x123*-0x17],(_0x5e9a85[-0x1*0xba2+-0x1*-0x187d+0xcdb*-0x1]!==_0x47bf00||_0x5e9a85[-0xd26+0x22c8+-0x15a1]!==_0x5ea66f||_0x5e9a85[-0xf61+-0x19*0xaa+0x1ffd*0x1]!==_0x44eedc||_0x5e9a85[0x275*-0x3+-0x71d+0x4d5*0x3]!==_0x5dc57b)&&(_0x36c367['uniform4fv'](_0x31978f['locationId'],_0x512327),_0x5e9a85[0xd5d+-0x9df+-0x37e]=_0x47bf00,_0x5e9a85[-0x1ce1+-0x91c*0x3+0x3836]=_0x5ea66f,_0x5e9a85[-0x1d2*-0x4+0x1747+-0x1e8d]=_0x44eedc,_0x5e9a85[0x3*0xb18+0x926+0x1*-0x2a6b]=_0x5dc57b);},this['commitFunc'+'tion'][Zr]=function(_0x486501,_0x16f4c6){_0x5e9a85=_0x486501['value'],_0x47bf00=_0x16f4c6[0xb3*0x13+-0x19*0xb6+-0x3*-0x17f],_0x5ea66f=_0x16f4c6[0x2079+-0x8f*0x14+0xbc*-0x1d],(_0x5e9a85[-0x13bd+-0xc7d+-0x14a*-0x19]!==_0x47bf00||_0x5e9a85[0x23cf*-0x1+0x36e+0x2062]!==_0x5ea66f)&&(_0x36c367['uniform2iv'](_0x486501['locationId'],_0x16f4c6),_0x5e9a85[-0x2231+0x1e89*0x1+0x6*0x9c]=_0x47bf00,_0x5e9a85[-0x1eed+0x14fd+0x1fd*0x5]=_0x5ea66f);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x3cfe47,_0x47ad1d){_0x5e9a85=_0x3cfe47['value'],_0x47bf00=_0x47ad1d[0x3*0x9e4+-0x16d6+-0x6d6],_0x5ea66f=_0x47ad1d[0x404+-0x86e*0x3+0x1547*0x1],_0x44eedc=_0x47ad1d[0xb77+-0x1*0x1c38+0x7*0x265],(_0x5e9a85[0xa8b+-0x909*-0x1+0x7*-0x2cc]!==_0x47bf00||_0x5e9a85[0x60*-0x2a+0x875+0x74c]!==_0x5ea66f||_0x5e9a85[-0x1*0x58+0x21df+-0x1*0x2185]!==_0x44eedc)&&(_0x36c367['uniform3iv'](_0x3cfe47['locationId'],_0x47ad1d),_0x5e9a85[-0x167d+-0xea3+-0x2520*-0x1]=_0x47bf00,_0x5e9a85[0x63*0x61+0x5d5*-0x1+-0x1fad]=_0x5ea66f,_0x5e9a85[-0x1ad6+0xaf*0xd+-0x1*-0x11f5]=_0x44eedc);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x468e2d,_0x341211){_0x5e9a85=_0x468e2d['value'],_0x47bf00=_0x341211[0x11c9*0x1+0x19f2+-0x1*0x2bbb],_0x5ea66f=_0x341211[0x4*0x316+-0x1f*0x4+-0xbdb],_0x44eedc=_0x341211[-0x1*-0xea9+-0x18+-0xe8f],_0x5dc57b=_0x341211[-0x2a*-0x30+-0x28*-0x20+-0xcdd],(_0x5e9a85[-0xdcf+-0x25dd+0x4*0xceb]!==_0x47bf00||_0x5e9a85[0xa5b+0x1674+-0x20ce]!==_0x5ea66f||_0x5e9a85[0x1*0x2014+0x1ddb*0x1+-0x3ded]!==_0x44eedc||_0x5e9a85[-0x58b+-0xee3+0x1471]!==_0x5dc57b)&&(_0x36c367['uniform4iv'](_0x468e2d['locationId'],_0x341211),_0x5e9a85[0x1b6f*-0x1+0x184*0xb+0xac3]=_0x47bf00,_0x5e9a85[0x102*-0x13+0x6df*0x1+0xc48*0x1]=_0x5ea66f,_0x5e9a85[0x6d5+-0x709+-0x36*-0x1]=_0x44eedc,_0x5e9a85[-0x492+0x1b18+0x11*-0x153]=_0x5dc57b);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x337a6f,_0x54f2bb){_0x36c367['uniformMat'+'rix2fv'](_0x337a6f['locationId'],!(0x1653+0xda1+0x23f3*-0x1),_0x54f2bb);},this['commitFunc'+'tion'][ko]=function(_0x4755b8,_0x5d9821){_0x36c367['uniformMat'+'rix3fv'](_0x4755b8['locationId'],!(-0x1*0x22d5+0x25*-0x49+-0x2d63*-0x1),_0x5d9821);},this['commitFunc'+'tion'][Sa]=function(_0x23b50,_0x194486){_0x36c367['uniformMat'+'rix4fv'](_0x23b50['locationId'],!(0x17f0+-0x5*0x62b+0x6e8),_0x194486);},this['commitFunc'+'tion'][Dc]=function(_0x9cb9a9,_0x4848bf){_0x36c367['uniform1fv'](_0x9cb9a9['locationId'],_0x4848bf);},this['commitFunc'+'tion'][Lc]=function(_0x52486e,_0x53463d){_0x36c367['uniform2fv'](_0x52486e['locationId'],_0x53463d);},this['commitFunc'+'tion'][Fc]=function(_0x33c21a,_0x88efec){_0x36c367['uniform3fv'](_0x33c21a['locationId'],_0x88efec);},this['commitFunc'+'tion'][lp]=function(_0x2d3180,_0x12b60a){_0x36c367['uniform4fv'](_0x2d3180['locationId'],_0x12b60a);},this['commitFunc'+'tion'][va]=function(_0x575170,_0x145e89){_0x575170['value']!==_0x145e89&&(_0x36c367['uniform1ui'](_0x575170['locationId'],_0x145e89),_0x575170['value']=_0x145e89);},this['commitFunc'+'tion'][ba]=function(_0x4495ef,_0x19f2cd){_0x5e9a85=_0x4495ef['value'],_0x47bf00=_0x19f2cd[0x1*-0x4b5+0x1c91+-0x17dc],_0x5ea66f=_0x19f2cd[0x2*0xf7f+0x23bd+-0x3*0x163e],(_0x5e9a85[0xa27+0x2a2+0xcc9*-0x1]!==_0x47bf00||_0x5e9a85[-0x10d1*0x1+0x1875+-0x7a3]!==_0x5ea66f)&&(_0x36c367['uniform2ui'+'v'](_0x4495ef['locationId'],_0x19f2cd),_0x5e9a85[-0x1*0x530+0x324*0x4+-0x760]=_0x47bf00,_0x5e9a85[-0x7aa+-0x1a*-0x15c+0xd*-0x221]=_0x5ea66f);},this['commitFunc'+'tion'][wa]=function(_0x19d0dc,_0x5923c8){_0x5e9a85=_0x19d0dc['value'],_0x47bf00=_0x5923c8[-0xb0a+0x6d+0xa9d],_0x5ea66f=_0x5923c8[-0x1fec+-0x3*0x2b5+0x280c],_0x44eedc=_0x5923c8[0xb0a+0x24ef*0x1+-0xffd*0x3],(_0x5e9a85[-0x128+0xecd*-0x1+0xff5]!==_0x47bf00||_0x5e9a85[-0xc*0x32f+0x1*0x2317+0x31e]!==_0x5ea66f||_0x5e9a85[0x8*-0x91+-0x12f4+0x177e]!==_0x44eedc)&&(_0x36c367['uniform3ui'+'v'](_0x19d0dc['locationId'],_0x5923c8),_0x5e9a85[-0x1*0xc37+-0x2*-0xdbe+-0xf45]=_0x47bf00,_0x5e9a85[-0x116*-0x13+0x13f9*-0x1+-0x6*0x1c]=_0x5ea66f,_0x5e9a85[0x143e+-0x2d2+0x5ce*-0x3]=_0x44eedc);},this['commitFunc'+'tion'][Ta]=function(_0x4e13b5,_0x43d3cb){_0x5e9a85=_0x4e13b5['value'],_0x47bf00=_0x43d3cb[-0xa0*-0x25+0x427+-0x1*0x1b47],_0x5ea66f=_0x43d3cb[0x72b+0x1a22+-0x214c],_0x44eedc=_0x43d3cb[-0xb0*-0xb+-0x1f*-0x106+-0x2748],_0x5dc57b=_0x43d3cb[0x51f+0x228a+-0x27a6],(_0x5e9a85[0x11c9+0x11d*-0x9+-0x7c4]!==_0x47bf00||_0x5e9a85[0x5d*0x1b+-0x3db*0x5+-0x61*-0x19]!==_0x5ea66f||_0x5e9a85[0x1a3e+-0x5b9*-0x5+0x13*-0x2e3]!==_0x44eedc||_0x5e9a85[0x5*0x68f+0xf23+-0x2feb]!==_0x5dc57b)&&(_0x36c367['uniform4ui'+'v'](_0x4e13b5['locationId'],_0x43d3cb),_0x5e9a85[0x1fc*-0x2+-0x1b0b+0x1f03]=_0x47bf00,_0x5e9a85[0x6*0x67f+0xacd+-0x31c6]=_0x5ea66f,_0x5e9a85[-0x145*-0x10+0x2220+-0x1b37*0x2]=_0x44eedc,_0x5e9a85[0x8ad+-0x9da+-0x1*-0x130]=_0x5dc57b);},this['commitFunc'+'tion'][Aa]=function(_0x24b6fd,_0x13c18b){_0x36c367['uniform1iv'](_0x24b6fd['locationId'],_0x13c18b);},this['commitFunc'+'tion'][Oc]=function(_0x104961,_0x5ad469){_0x36c367['uniform1ui'+'v'](_0x104961['locationId'],_0x5ad469);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x2ddc5d,_0x4fa8c0){_0x36c367['uniform2iv'](_0x2ddc5d['locationId'],_0x4fa8c0);},this['commitFunc'+'tion'][Bc]=function(_0x45698b,_0x5cf0d7){_0x36c367['uniform2ui'+'v'](_0x45698b['locationId'],_0x5cf0d7);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x335f8b,_0x5036e9){_0x36c367['uniform3iv'](_0x335f8b['locationId'],_0x5036e9);},this['commitFunc'+'tion'][zc]=function(_0x4eb220,_0x1d95f6){_0x36c367['uniform3ui'+'v'](_0x4eb220['locationId'],_0x1d95f6);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x4a8958,_0x3be67f){_0x36c367['uniform4iv'](_0x4a8958['locationId'],_0x3be67f);},this['commitFunc'+'tion'][hp]=function(_0x2714ed,_0x56503f){_0x36c367['uniform4ui'+'v'](_0x2714ed['locationId'],_0x56503f);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x3939b2,_0x49f235){_0x36c367['uniformMat'+'rix4fv'](_0x3939b2['locationId'],!(0x14d1+0x1*0x405+-0x18d5),_0x49f235);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x3bdebc=this['gl'];this['feedback']&&_0x3bdebc['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x41*0x75+0xd2d*0x1+-0x1*-0x1089)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0xaed+-0x1751+0xc65)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0xb81f9b){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0xb81f9b;}['updateBack'+'bufferForm'+'at'](_0xc9d468){const _0x2f249f=this['gl'];_0x2f249f['bindFrameb'+'uffer'](_0x2f249f['FRAMEBUFFE'+'R'],_0xc9d468);const _0x3fe8ee=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x3fe8ee?Se:dr;}['updateBack'+'buffer'](){const _0x133d3d=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x133d3d)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x11f7+0x40*0x32+0x8c*0xa),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x2545e0,_0xacd812){return new sb();}['createInde'+'xBufferImp'+'l'](_0xc81bd4){return new ib(_0xc81bd4);}['createShad'+'erImpl'](_0x5c3cf2){return new lb(_0x5c3cf2);}['createText'+'ureImpl'](_0x3f9a9f){return new hb(_0x3f9a9f);}['createRend'+'erTargetIm'+'pl'](_0x1eb1b7){return new db();}['pushMarker'](_0x438a45){if(ye['browser']&&window['spector']){const _0x2b980a=G['toString']();window['spector']['setMarker'](_0x2b980a+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x23af3c=G['toString']();_0x23af3c['length']?window['spector']['setMarker'](_0x23af3c+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x347c08=this['gl'];let _0x2cc3d5='highp';if(_0x347c08['getShaderP'+'recisionFo'+'rmat']){const _0x1583f0=_0x347c08['getShaderP'+'recisionFo'+'rmat'](_0x347c08['VERTEX_SHA'+'DER'],_0x347c08['HIGH_FLOAT']),_0x1ae4f5=_0x347c08['getShaderP'+'recisionFo'+'rmat'](_0x347c08['VERTEX_SHA'+'DER'],_0x347c08['MEDIUM_FLO'+'AT']),_0x5d33df=_0x347c08['getShaderP'+'recisionFo'+'rmat'](_0x347c08['FRAGMENT_S'+'HADER'],_0x347c08['HIGH_FLOAT']),_0x1c8f51=_0x347c08['getShaderP'+'recisionFo'+'rmat'](_0x347c08['FRAGMENT_S'+'HADER'],_0x347c08['MEDIUM_FLO'+'AT']);if(_0x1583f0&&_0x1ae4f5&&_0x5d33df&&_0x1c8f51){const _0x54d45e=_0x1583f0['precision']>0x95*0x3+0x1701+-0x18c0&&_0x5d33df['precision']>0x1639+0x1151+-0x3*0xd2e,_0xa89dbe=_0x1ae4f5['precision']>-0x3*0x692+-0xafa+0x3d6*0x8&&_0x1c8f51['precision']>0xa20+0x1d3*0x7+0x1*-0x16e5;_0x54d45e||(_0xa89dbe?(_0x2cc3d5='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x2cc3d5='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x2cc3d5;}['getExtensi'+'on'](){for(let _0x5911a8=-0x1e50+0x7b3+0x169d;_0x5911a8<arguments['length'];_0x5911a8++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x5911a8])!==-(-0xda6+-0xdb5*-0x1+0x1*-0xe))return this['gl']['getExtensi'+'on'](arguments[_0x5911a8]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x2b6fa2=this['gl'];this['supportedE'+'xtensions']=_0x2b6fa2['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0xc*-0x1ed+0x68+-0x1784),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0xa782e4=this['gl'];let _0xa66eb5;const _0x4adbbd=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0xecdd4d=_0xa782e4['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0xecdd4d==null?void(-0x1bbb*-0x1+-0x138f+-0x82c):_0xecdd4d['antialias'])??!(0x11e1*-0x1+0x1242+-0x60),this['supportsSt'+'encil']=(_0xecdd4d==null?void(0x269*0x8+0x17d+-0x14c5):_0xecdd4d['stencil'])??!(0x2082+0x1cea*0x1+-0x3d6b),this['maxTexture'+'Size']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_3D_TEX'+'TURE_SIZE']),_0xa66eb5=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0xa66eb5?_0xa782e4['getParamet'+'er'](_0xa66eb5['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0xa66eb5?_0xa782e4['getParamet'+'er'](_0xa66eb5['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x2146b4=/\bMali-G52+/,_0x19d08e=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x4adbbd['match'](_0x19d08e))&&!this['unmaskedRe'+'nderer']['match'](_0x2146b4),_0xa66eb5=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0xa66eb5?_0xa782e4['getParamet'+'er'](_0xa66eb5['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x1ac4+0x1338+0x1*0x78d;const _0x46af69=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x46af69?_0xa782e4['getParamet'+'er'](_0xa782e4['MAX_SAMPLE'+'S']):-0xac5+-0x602*-0x3+0x40*-0x1d,this['maxSamples']=Math['min'](this['maxSamples'],-0x15fe+0x1890+-0x147*0x2),this['samples']=_0x46af69&&this['backBuffer'+'Antialias']?this['maxSamples']:0x6c2+0x148*0x3+-0x1*0xa99,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=0x1129+-0x1348*-0x1+-0x2469&&(this['supportsAr'+'eaLights']=!(0x259b+0x1eb*0x7+0x1*-0x3307));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0xe8e9b2=this['gl'];_0xe8e9b2['disable'](_0xe8e9b2['BLEND']),_0xe8e9b2['blendFunc'](_0xe8e9b2['ONE'],_0xe8e9b2['ZERO']),_0xe8e9b2['blendEquat'+'ion'](_0xe8e9b2['FUNC_ADD']),_0xe8e9b2['colorMask'](!(0x112*0x1d+-0x2048+-0x13e*-0x1),!(-0xef*0xc+0x217*-0xd+0x265f),!(0x19c+-0x1*-0x1543+0x1*-0x16df),!(0x1*0x1807+0x2b7*-0xa+0x31f)),_0xe8e9b2['blendColor'](-0x2d3*-0x5+-0x18d8+0x393*0x3,0xf2c*0x2+-0x2229+0x3d1,-0x11*-0x106+0x12bb+-0x3*0xc0b,-0x6ed+-0x8b8+0xf*0x10b),_0xe8e9b2['enable'](_0xe8e9b2['CULL_FACE']),this['cullFace']=_0xe8e9b2['BACK'],_0xe8e9b2['cullFace'](_0xe8e9b2['BACK']),_0xe8e9b2['enable'](_0xe8e9b2['DEPTH_TEST']),_0xe8e9b2['depthFunc'](_0xe8e9b2['LEQUAL']),_0xe8e9b2['depthMask'](!(-0x3*-0x892+0x2343+-0x3cf9)),this['stencil']=!(-0xba9+-0xed*0x1+0xc97),_0xe8e9b2['disable'](_0xe8e9b2['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x227f+-0x13*-0x167+0x6*0x14f,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x1*0x1de3+0x20ec+-0x20a,_0xe8e9b2['stencilFun'+'c'](_0xe8e9b2['ALWAYS'],0x1*-0x9f5+0x1ee5*-0x1+0x1*0x28da,-0x4d*-0x2b+0x15bc+-0x5*0x6bc),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=-0x38*0x3b+0x323+0x35*0x34,this['stencilWri'+'teMaskBack']=-0xf89+0x2*0xcbc+-0x8f0,_0xe8e9b2['stencilOp'](_0xe8e9b2['KEEP'],_0xe8e9b2['KEEP'],_0xe8e9b2['KEEP']),_0xe8e9b2['stencilMas'+'k'](-0x1*0xe70+-0x826+0x1795),this['alphaToCov'+'erage']=!(0x22bf+-0x6e8*0x2+-0x14ee),this['raster']=!(-0x2636+0x1*0x1803+0xe33*0x1),_0xe8e9b2['disable'](_0xe8e9b2['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0xe8e9b2['disable'](_0xe8e9b2['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x40c+-0xdd7*-0x2+-0x17a1),_0xe8e9b2['disable'](_0xe8e9b2['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x294+0x1d4+-0x467*0x1,_0xe8e9b2['clearDepth'](-0x1f75*-0x1+-0x3*0x93a+-0x3c6),this['clearColor']=new Y(0x15aa+-0x1d68+-0x1*-0x7be,-0x8e*-0x1+-0x184d+0x17bf,-0x16a0+-0x1147+0x27e7,0xae3+-0xaf+-0xa34),_0xe8e9b2['clearColor'](-0x26af*-0x1+-0x2289+-0x213*0x2,0x12f*-0x13+-0x720*0x4+-0x3*-0x10ff,0x13*0x3b+-0x2325*-0x1+-0x2786,-0x1229+-0x28b+0x14b4),this['clearStenc'+'il']=0xb0a+-0x5e5+0x1b7*-0x3,_0xe8e9b2['clearStenc'+'il'](0x2ea+0x696*0x1+0x4c*-0x20),_0xe8e9b2['hint'](_0xe8e9b2['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0xe8e9b2['NICEST']),_0xe8e9b2['enable'](_0xe8e9b2['SCISSOR_TE'+'ST']),_0xe8e9b2['pixelStore'+'i'](_0xe8e9b2['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0xe8e9b2['NONE']),this['unpackFlip'+'Y']=!(0x1fac+-0x9b*-0x3b+-0x26*0x1c6),_0xe8e9b2['pixelStore'+'i'](_0xe8e9b2['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x11*-0xa0+0x1c*-0xa4+0x1*0x751)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x1*0x265e+-0xcfe+-0x513*0x5),_0xe8e9b2['pixelStore'+'i'](_0xe8e9b2['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x97d+-0x16d4+-0x15*-0x18a)),_0xe8e9b2['pixelStore'+'i'](_0xe8e9b2['UNPACK_ALI'+'GNMENT'],-0x2*0x1c3+0x1*0x1e83+-0x1afc);}['initTextur'+'eUnits'](_0xb0cf86=-0x7e0+-0x5cb+0xdbb){this['textureUni'+'ts']=[];for(let _0x5d48b0=0x272+0x1*0x92+-0x304;_0x5d48b0<_0xb0cf86;_0x5d48b0++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x9*0x10f+-0x5*0x67+0xb8a*0x1,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x28c114 of this['shaders'])_0x28c114['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x3449b8 of this['shaders'])_0x3449b8['restoreCon'+'text']();}['setViewpor'+'t'](_0x172e27,_0x337b59,_0x3ceaf5,_0x1cbfec){(this['vx']!==_0x172e27||this['vy']!==_0x337b59||this['vw']!==_0x3ceaf5||this['vh']!==_0x1cbfec)&&(this['gl']['viewport'](_0x172e27,_0x337b59,_0x3ceaf5,_0x1cbfec),this['vx']=_0x172e27,this['vy']=_0x337b59,this['vw']=_0x3ceaf5,this['vh']=_0x1cbfec);}['setScissor'](_0x743d76,_0xb81560,_0xccc986,_0x19a507){(this['sx']!==_0x743d76||this['sy']!==_0xb81560||this['sw']!==_0xccc986||this['sh']!==_0x19a507)&&(this['gl']['scissor'](_0x743d76,_0xb81560,_0xccc986,_0x19a507),this['sx']=_0x743d76,this['sy']=_0xb81560,this['sw']=_0xccc986,this['sh']=_0x19a507);}['setFramebu'+'ffer'](_0xb783fa){if(this['activeFram'+'ebuffer']!==_0xb783fa){const _0x8adde4=this['gl'];_0x8adde4['bindFrameb'+'uffer'](_0x8adde4['FRAMEBUFFE'+'R'],_0xb783fa),this['activeFram'+'ebuffer']=_0xb783fa;}}['copyRender'+'Target'](_0x46bd8a,_0x10a9f2,_0x56c32c,_0x4d7cff){var _0x39de90,_0x4f23c8;const _0x3d842a=this['gl'];if(_0x46bd8a===this['backBuffer']&&(_0x46bd8a=null),_0x56c32c){if(_0x10a9f2){if(_0x46bd8a){if(!_0x46bd8a['_colorBuff'+'er']||!_0x10a9f2['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x2c*-0x28+-0x5*-0x376+0x182d*-0x1);if(_0x46bd8a['_colorBuff'+'er']['_format']!==_0x10a9f2['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0xc4b+-0x26a0+0x1a56);}}else{if(!_0x46bd8a['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x1343+0x1a76+-0xb*0x428);}}if(_0x4d7cff&&_0x46bd8a&&!_0x46bd8a['_depth']){if(!_0x46bd8a['_depthBuff'+'er']||!_0x10a9f2['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x26b9+-0x21f1+0x48ab);if(_0x46bd8a['_depthBuff'+'er']['_format']!==_0x10a9f2['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x17*0x189+0x1*-0x471+0x27c1);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x14b76f=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x10a9f2,this['updateBegi'+'n']();const _0x3e4659=_0x46bd8a?_0x46bd8a['impl']['_glFrameBu'+'ffer']:(_0x39de90=this['backBuffer'])==null?void(0xf2c+-0x14af+0x583):_0x39de90['impl']['_glFrameBu'+'ffer'],_0x3af53a=_0x10a9f2?_0x10a9f2['impl']['_glFrameBu'+'ffer']:(_0x4f23c8=this['backBuffer'])==null?void(0x86b*-0x1+-0x1a9c+0x2307):_0x4f23c8['impl']['_glFrameBu'+'ffer'];v['assert'](_0x3e4659!==_0x3af53a,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x3d842a['bindFrameb'+'uffer'](_0x3d842a['READ_FRAME'+'BUFFER'],_0x3e4659),_0x3d842a['bindFrameb'+'uffer'](_0x3d842a['DRAW_FRAME'+'BUFFER'],_0x3af53a);const _0x207cfb=_0x46bd8a?_0x46bd8a['width']:_0x10a9f2?_0x10a9f2['width']:this['width'],_0x5b8c2d=_0x46bd8a?_0x46bd8a['height']:_0x10a9f2?_0x10a9f2['height']:this['height'];return _0x3d842a['blitFrameb'+'uffer'](0x1*-0x1f96+0x2618+0x77*-0xe,0x1b3c+0x20d9+-0x3c15,_0x207cfb,_0x5b8c2d,0x19b1+0x473+-0x1*0x1e24,0x4ee+-0xc3d+0x74f,_0x207cfb,_0x5b8c2d,(_0x56c32c?_0x3d842a['COLOR_BUFF'+'ER_BIT']:-0xb4c+0x1130+-0x5e4)|(_0x4d7cff?_0x3d842a['DEPTH_BUFF'+'ER_BIT']:0x1*0x1993+-0x555+0x1*-0x143e),_0x3d842a['NEAREST']),this['renderTarg'+'et']=_0x14b76f,_0x3d842a['bindFrameb'+'uffer'](_0x3d842a['FRAMEBUFFE'+'R'],_0x14b76f?_0x14b76f['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0x1*-0x20b1+0xf14+0x1*-0x2fc5);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x334dc4){const _0x6fb4d4=_0x334dc4['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x6fb4d4,v['assert'](_0x6fb4d4),G['pushGpuMar'+'ker'](this,'Pass:'+_0x334dc4['name']+'\x20RT:'+_0x6fb4d4['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x5be311,height:_0x4cd796}=_0x6fb4d4;this['setViewpor'+'t'](-0x2*-0x19b+-0x146*0x10+0x112a,0x43d*0x1+-0x14d4+0x1097,_0x5be311,_0x4cd796),this['setScissor'](-0x7*0x195+0x1*0x1823+-0xd10,-0x41b+0x1*-0x24cd+0x28e8,_0x5be311,_0x4cd796);const _0x2ec2ab=_0x334dc4['colorOps'],_0x352d98=_0x334dc4['depthStenc'+'ilOps'];if(_0x2ec2ab!=null&&_0x2ec2ab['clear']||_0x352d98['clearDepth']||_0x352d98['clearStenc'+'il']){let _0x4289ce=-0xc97+0x107*0x20+-0x9*0x241;const _0x2bd8fb={};_0x2ec2ab!=null&&_0x2ec2ab['clear']&&(_0x4289ce|=Co,_0x2bd8fb['color']=[_0x2ec2ab['clearValue']['r'],_0x2ec2ab['clearValue']['g'],_0x2ec2ab['clearValue']['b'],_0x2ec2ab['clearValue']['a']]),_0x352d98['clearDepth']&&(_0x4289ce|=Mo,_0x2bd8fb['depth']=_0x352d98['clearDepth'+'Value']),_0x352d98['clearStenc'+'il']&&(_0x4289ce|=Ah,_0x2bd8fb['stencil']=_0x352d98['clearStenc'+'ilValue']),_0x2bd8fb['flags']=_0x4289ce,this['clear'](_0x2bd8fb);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x665*-0x5+-0x24a*-0x1+-0x2243),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0xbd5e16){var _0x3528c3;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x4a54d4=this['renderTarg'+'et'],_0x246af3=_0xbd5e16['colorArray'+'Ops']['length'];if(_0x4a54d4){Tn['length']=-0xc26+0x1a70+-0xe4a;const _0xe6ea28=this['gl'];for(let _0x18cddc=0x2a7*-0xa+-0x1*-0xc73+0x1*0xe13;_0x18cddc<_0x246af3;_0x18cddc++){const _0x11262a=_0xbd5e16['colorArray'+'Ops'][_0x18cddc];_0x11262a['store']||_0x11262a['resolve']||Tn['push'](_0xe6ea28['COLOR_ATTA'+'CHMENT0']+_0x18cddc);}_0x4a54d4!==this['backBuffer']&&(_0xbd5e16['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0xe6ea28['DEPTH_ATTA'+'CHMENT']),_0xbd5e16['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0xe6ea28['STENCIL_AT'+'TACHMENT'])),Tn['length']>0x24a8+-0x1107+-0x13a1&&_0xbd5e16['fullSizeCl'+'earRect']&&_0xe6ea28['invalidate'+'Framebuffe'+'r'](_0xe6ea28['DRAW_FRAME'+'BUFFER'],Tn),_0x246af3&&((_0x3528c3=_0xbd5e16['colorOps'])!=null&&_0x3528c3['resolve'])&&_0xbd5e16['samples']>-0x2665+0x1ff0+-0x33b*-0x2&&_0x4a54d4['autoResolv'+'e']&&_0x4a54d4['resolve'](!(-0xcfb*0x2+-0x9f*0x5+0x1*0x1d11),!(0x8*-0x4a5+0x6*-0x4a3+0x40fb*0x1)),_0x4a54d4['depthBuffe'+'r']&&_0xbd5e16['depthStenc'+'ilOps']['resolveDep'+'th']&&_0xbd5e16['samples']>0x1672+0x1*-0x10dc+0x595*-0x1&&_0x4a54d4['autoResolv'+'e']&&_0x4a54d4['resolve'](!(-0x3d*0xa1+0x1*-0x2086+-0x4*-0x11b9),!(0x1*-0xbcb+-0x4f3+0x85f*0x2));for(let _0x27521b=0xf29+0x1265+-0x218e;_0x27521b<_0x246af3;_0x27521b++)if(_0xbd5e16['colorArray'+'Ops'][_0x27521b]['genMipmaps']){const _0x390570=_0x4a54d4['_colorBuff'+'ers'][_0x27521b];_0x390570&&_0x390570['impl']['_glTexture']&&_0x390570['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x27521b),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1e37+0x3b9+0x1a7f)),this['bindTextur'+'e'](_0x390570),this['gl']['generateMi'+'pmap'](_0x390570['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x96+-0x1*0x74a+-0x1*-0x7e1),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x28a452){this['_defaultFr'+'amebuffer']!==_0x28a452&&(this['_defaultFr'+'amebuffer']=_0x28a452,this['_defaultFr'+'amebufferC'+'hanged']=!(0x751*-0x3+-0x1cda+0x1*0x32cd));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x195d3b=0x2*0x43c+0x8c7+-0x113f;_0x195d3b<this['textureUni'+'ts']['length'];++_0x195d3b)for(let _0x1d623e=0x1e4a+0x2bc+-0x2*0x1083;_0x1d623e<-0x363*-0x9+-0x969*-0x3+-0x3ab3;++_0x1d623e)this['textureUni'+'ts'][_0x195d3b][_0x1d623e]=null;}const _0x2bf8bf=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x2bf8bf);const _0xe66c5d=_0x2bf8bf['impl'];_0xe66c5d['initialize'+'d']||this['initRender'+'Target'](_0x2bf8bf),this['setFramebu'+'ffer'](_0xe66c5d['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x50dcc2=this['renderTarg'+'et'];if(_0x50dcc2&&_0x50dcc2!==this['backBuffer']){_0x50dcc2['_samples']>0x14ae*-0x1+0x1*-0x21f9+0x1238*0x3&&_0x50dcc2['autoResolv'+'e']&&_0x50dcc2['resolve']();const _0x38dbfc=_0x50dcc2['_colorBuff'+'er'];_0x38dbfc&&_0x38dbfc['impl']['_glTexture']&&_0x38dbfc['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0xb*-0x252+0x26aa+-0xd23)),this['bindTextur'+'e'](_0x38dbfc),this['gl']['generateMi'+'pmap'](_0x38dbfc['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x232162){if(this['unpackFlip'+'Y']!==_0x232162){this['unpackFlip'+'Y']=_0x232162;const _0x251342=this['gl'];_0x251342['pixelStore'+'i'](_0x251342['UNPACK_FLI'+'P_Y_WEBGL'],_0x232162);}}['setUnpackP'+'remultiply'+'Alpha'](_0x580244){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x580244){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x580244;const _0x907716=this['gl'];_0x907716['pixelStore'+'i'](_0x907716['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x580244);}}['activeText'+'ure'](_0x2cda3b){this['textureUni'+'t']!==_0x2cda3b&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x2cda3b),this['textureUni'+'t']=_0x2cda3b);}['bindTextur'+'e'](_0x9cd79c){const _0x50235b=_0x9cd79c['impl'],_0x518fe1=_0x50235b['_glTarget'],_0x54a7cb=_0x50235b['_glTexture'],_0x37929b=this['textureUni'+'t'],_0xdde988=this['targetToSl'+'ot'][_0x518fe1];this['textureUni'+'ts'][_0x37929b][_0xdde988]!==_0x54a7cb&&(this['gl']['bindTextur'+'e'](_0x518fe1,_0x54a7cb),this['textureUni'+'ts'][_0x37929b][_0xdde988]=_0x54a7cb);}['bindTextur'+'eOnUnit'](_0x3fd236,_0x6a8921){const _0x2b4f8d=_0x3fd236['impl'],_0xc16855=_0x2b4f8d['_glTarget'],_0x2234ef=_0x2b4f8d['_glTexture'],_0x4d8b71=this['targetToSl'+'ot'][_0xc16855];this['textureUni'+'ts'][_0x6a8921][_0x4d8b71]!==_0x2234ef&&(this['activeText'+'ure'](_0x6a8921),this['gl']['bindTextur'+'e'](_0xc16855,_0x2234ef),this['textureUni'+'ts'][_0x6a8921][_0x4d8b71]=_0x2234ef);}['setTexture'+'Parameters'](_0x2911c4){const _0x40925f=this['gl'],_0x4ca070=_0x2911c4['impl']['dirtyParam'+'eterFlags'],_0x45e7c4=_0x2911c4['impl']['_glTarget'];if(_0x4ca070&zy){let _0x1efc4f=_0x2911c4['_minFilter'];(!_0x2911c4['_mipmaps']||_0x2911c4['_compresse'+'d']&&_0x2911c4['_levels']['length']===-0x1*-0x5b9+0x1dcf*-0x1+0x1817)&&(_0x1efc4f===fc||_0x1efc4f===pc?_0x1efc4f=de:(_0x1efc4f===mc||_0x1efc4f===nn)&&(_0x1efc4f=st)),_0x40925f['texParamet'+'eri'](_0x45e7c4,_0x40925f['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x1efc4f]);}if(_0x4ca070&Uy&&_0x40925f['texParamet'+'eri'](_0x45e7c4,_0x40925f['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x2911c4['_magFilter']]),_0x4ca070&Vy&&_0x40925f['texParamet'+'eri'](_0x45e7c4,_0x40925f['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x2911c4['_addressU']]),_0x4ca070&Gy&&_0x40925f['texParamet'+'eri'](_0x45e7c4,_0x40925f['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x2911c4['_addressV']]),_0x4ca070&Hy&&_0x40925f['texParamet'+'eri'](_0x45e7c4,_0x40925f['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x2911c4['_addressW']]),_0x4ca070&Wy&&_0x40925f['texParamet'+'eri'](_0x45e7c4,_0x40925f['TEXTURE_CO'+'MPARE_MODE'],_0x2911c4['_compareOn'+'Read']?_0x40925f['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x40925f['NONE']),_0x4ca070&$y&&_0x40925f['texParamet'+'eri'](_0x45e7c4,_0x40925f['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x2911c4['_compareFu'+'nc']]),_0x4ca070&qy){const _0x23eb86=this['extTexture'+'FilterAnis'+'otropic'];_0x23eb86&&_0x40925f['texParamet'+'erf'](_0x45e7c4,_0x23eb86['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x2911c4['_anisotrop'+'y']),-0x8*0x28d+0x126*0x1e+-0xe0b,this['maxAnisotr'+'opy']));}}['setTexture'](_0x560cd2,_0x213e63){const _0x258ff4=_0x560cd2['impl'];_0x258ff4['_glTexture']||_0x258ff4['initialize'](this,_0x560cd2),_0x258ff4['dirtyParam'+'eterFlags']>-0x5a2+0x215c+-0x1bba||_0x560cd2['_needsUplo'+'ad']||_0x560cd2['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x213e63),this['bindTextur'+'e'](_0x560cd2),_0x258ff4['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x560cd2),_0x258ff4['dirtyParam'+'eterFlags']=0x3a*-0x1e+0x1b7d*-0x1+0x2249),(_0x560cd2['_needsUplo'+'ad']||_0x560cd2['_needsMipm'+'apsUpload'])&&(_0x258ff4['upload'](this,_0x560cd2),_0x560cd2['_needsUplo'+'ad']=!(-0x24ba+-0x2+0x24bd),_0x560cd2['_needsMipm'+'apsUpload']=!(0x1bd3+-0x1*-0x68c+-0x225e))):this['bindTextur'+'eOnUnit'](_0x560cd2,_0x213e63);}['createVert'+'exArray'](_0x304cd1){let _0x682fbb,_0x103839;const _0x515c79=_0x304cd1['length']>0x7ae+-0x668+0x1*-0x145;if(_0x515c79){_0x682fbb='';for(let _0x4d74c2=-0xac5+-0xd01+0x17c6;_0x4d74c2<_0x304cd1['length'];_0x4d74c2++){const _0x1c66f5=_0x304cd1[_0x4d74c2];_0x682fbb+=_0x1c66f5['id']+_0x1c66f5['format']['renderingH'+'ash'];}_0x103839=this['_vaoMap']['get'](_0x682fbb);}if(!_0x103839){const _0x965772=this['gl'];_0x103839=_0x965772['createVert'+'exArray'](),_0x965772['bindVertex'+'Array'](_0x103839),_0x965772['bindBuffer'](_0x965772['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x25d1e8=!(0x4f+-0x1*0xf85+0x1*0xf37);for(let _0x4668b5=-0x4*-0x5eb+0x1*-0xeae+0x1*-0x8fe;_0x4668b5<_0x304cd1['length'];_0x4668b5++){const _0x2537cc=_0x304cd1[_0x4668b5];_0x965772['bindBuffer'](_0x965772['ARRAY_BUFF'+'ER'],_0x2537cc['impl']['bufferId']);const _0x4c79ae=_0x2537cc['format']['elements'];for(let _0xc45f78=0x1e2f+-0x268*-0x1+0x2097*-0x1;_0xc45f78<_0x4c79ae['length'];_0xc45f78++){const _0x226680=_0x4c79ae[_0xc45f78],_0x5705e9=ve[_0x226680['name']];_0x5705e9===-0x1af+-0x10fc+0x12ab&&(_0x25d1e8=!(-0x1af+0x824*0x4+-0x1ee1)),_0x226680['asInt']?_0x965772['vertexAttr'+'ibIPointer'](_0x5705e9,_0x226680['numCompone'+'nts'],this['glType'][_0x226680['dataType']],_0x226680['stride'],_0x226680['offset']):_0x965772['vertexAttr'+'ibPointer'](_0x5705e9,_0x226680['numCompone'+'nts'],this['glType'][_0x226680['dataType']],_0x226680['normalize'],_0x226680['stride'],_0x226680['offset']),_0x965772['enableVert'+'exAttribAr'+'ray'](_0x5705e9),_0x2537cc['format']['instancing']&&_0x965772['vertexAttr'+'ibDivisor'](_0x5705e9,0x1c7b*-0x1+-0x236d+0x3fe9);}}_0x965772['bindVertex'+'Array'](null),_0x965772['bindBuffer'](_0x965772['ARRAY_BUFF'+'ER'],null),_0x515c79&&this['_vaoMap']['set'](_0x682fbb,_0x103839),_0x25d1e8||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x103839;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x16f790=this['gl'];let _0x4722e2;if(this['vertexBuff'+'ers']['length']===0x65*-0x1+0x8f9*-0x4+0x244a){const _0x40b0d6=this['vertexBuff'+'ers'][0x111e+0x4*0x5d6+-0x2876];v['assert'](_0x40b0d6['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x40b0d6['impl']['vao']||(_0x40b0d6['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x4722e2=_0x40b0d6['impl']['vao'];}else _0x4722e2=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x4722e2&&(this['boundVao']=_0x4722e2,_0x16f790['bindVertex'+'Array'](_0x4722e2)),this['clearVerte'+'xBuffer']();const _0x2ce925=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x16f790['bindBuffer'](_0x16f790['ELEMENT_AR'+'RAY_BUFFER'],_0x2ce925);}['draw'](_0x3cb8e0,_0x5671a1,_0x3a19d1){const _0x502da5=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x39bc36,_0x43d91f,_0x9c4eb7,_0x2582c4,_0x216079,_0x9397b9,_0x351cb6,_0x22e665;const _0x5c46d5=this['shader'];if(!_0x5c46d5)return;const _0xcba046=_0x5c46d5['impl']['samplers'],_0x4a5583=_0x5c46d5['impl']['uniforms'];_0x3a19d1||this['setBuffers']();let _0x1a54c4=-0x4*-0xcf+0x10b5+-0x13f1;for(let _0x313c9a=-0xf*-0x295+-0x68*0x37+-0x1063,_0x298cc1=_0xcba046['length'];_0x313c9a<_0x298cc1;_0x313c9a++){if(_0x39bc36=_0xcba046[_0x313c9a],_0x43d91f=_0x39bc36['scopeId']['value'],!_0x43d91f){const _0x45ca7d=_0x39bc36['scopeId']['name'];v['assert'](_0x45ca7d!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x45ca7d!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x45ca7d==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x43d91f=en(this,'white')),_0x45ca7d==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x43d91f=en(this,'pink')),_0x43d91f||(v['errorOnce']('Shader\x20'+_0x5c46d5['name']+'\x20requires\x20'+_0x45ca7d+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x43d91f=en(this,'pink'));}if(_0x43d91f instanceof he)_0x9c4eb7=_0x43d91f,this['setTexture'](_0x9c4eb7,_0x1a54c4),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x1d91+-0x475*-0x8+-0x615&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x9c4eb7?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x9c4eb7}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x9c4eb7&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x9c4eb7})),_0x39bc36['slot']!==_0x1a54c4&&(_0x502da5['uniform1i'](_0x39bc36['locationId'],_0x1a54c4),_0x39bc36['slot']=_0x1a54c4),_0x1a54c4++;else{_0x39bc36['array']['length']=-0xdff+0xa00+0x1f*0x21,_0x2582c4=_0x43d91f['length'];for(let _0x17b5b6=0xf07*-0x1+0x12fd+0x1*-0x3f6;_0x17b5b6<_0x2582c4;_0x17b5b6++)_0x9c4eb7=_0x43d91f[_0x17b5b6],this['setTexture'](_0x9c4eb7,_0x1a54c4),_0x39bc36['array'][_0x17b5b6]=_0x1a54c4,_0x1a54c4++;_0x502da5['uniform1iv'](_0x39bc36['locationId'],_0x39bc36['array']);}}for(let _0x48d392=0x16e*0x10+-0x1cc3+0x5e3,_0x333608=_0x4a5583['length'];_0x48d392<_0x333608;_0x48d392++)_0x216079=_0x4a5583[_0x48d392],_0x9397b9=_0x216079['scopeId'],_0x351cb6=_0x216079['version'],_0x22e665=_0x9397b9['versionObj'+'ect']['version'],(_0x351cb6['globalId']!==_0x22e665['globalId']||_0x351cb6['revision']!==_0x22e665['revision'])&&(_0x351cb6['globalId']=_0x22e665['globalId'],_0x351cb6['revision']=_0x22e665['revision'],_0x9397b9['value']!==null&&this['commitFunc'+'tion'][_0x216079['dataType']](_0x216079,_0x9397b9['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x502da5['bindBuffer'+'Base'](_0x502da5['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x202*-0x5+0x1*-0x278+0xc82*0x1,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x502da5['beginTrans'+'formFeedba'+'ck'](_0x502da5['POINTS']));const _0x1c6d97=this['glPrimitiv'+'e'][_0x3cb8e0['type']],_0x533167=_0x3cb8e0['count'];if(_0x3cb8e0['indexed']){const _0x3b52f5=this['indexBuffe'+'r'];v['assert'](_0x3b52f5['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x5ba7b3=_0x3b52f5['impl']['glFormat'],_0x4d931b=_0x3cb8e0['base']*_0x3b52f5['bytesPerIn'+'dex'];_0x5671a1>-0x1*0x1345+-0x3d1+-0x49e*-0x5?_0x502da5['drawElemen'+'tsInstance'+'d'](_0x1c6d97,_0x533167,_0x5ba7b3,_0x4d931b,_0x5671a1):_0x502da5['drawElemen'+'ts'](_0x1c6d97,_0x533167,_0x5ba7b3,_0x4d931b);}else{const _0x3dd1a2=_0x3cb8e0['base'];_0x5671a1>-0x1f4+0x3e*-0x2b+0xc5e?_0x502da5['drawArrays'+'Instanced'](_0x1c6d97,_0x3dd1a2,_0x533167,_0x5671a1):_0x502da5['drawArrays'](_0x1c6d97,_0x3dd1a2,_0x533167);}this['transformF'+'eedbackBuf'+'fer']&&(_0x502da5['endTransfo'+'rmFeedback'](),_0x502da5['bindBuffer'+'Base'](_0x502da5['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x78d*0x2+-0x6c*-0x25+-0x2*0xf5b,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x3cb8e0['type']]+=_0x3cb8e0['count']*(_0x5671a1>-0xa96+-0x5cb*-0x2+-0xff?_0x5671a1:-0x110*0x24+-0x19*-0x164+0x1*0x37d);}['clear'](_0x42f9e3){const _0x1f9126=this['defaultCle'+'arOptions'];_0x42f9e3=_0x42f9e3||_0x1f9126;const _0x1dcf30=_0x42f9e3['flags']??_0x1f9126['flags'];if(_0x1dcf30!==0xce5*0x1+0x806*0x4+-0x2cfd){const _0x17df17=this['gl'];if(_0x1dcf30&Co){const _0x2630ea=_0x42f9e3['color']??_0x1f9126['color'],_0x51030b=_0x2630ea[-0x9e3*0x1+-0x227e+-0x3*-0xecb],_0x419ec6=_0x2630ea[0x1bc+-0x11df+0x1024],_0x278f52=_0x2630ea[0x243*-0x3+0x21c7+-0x1afc],_0x5a5a5a=_0x2630ea[-0x3f6*-0x1+0x1*0x1cd+-0x170*0x4],_0x45d8f9=this['clearColor'];(_0x51030b!==_0x45d8f9['r']||_0x419ec6!==_0x45d8f9['g']||_0x278f52!==_0x45d8f9['b']||_0x5a5a5a!==_0x45d8f9['a'])&&(this['gl']['clearColor'](_0x51030b,_0x419ec6,_0x278f52,_0x5a5a5a),this['clearColor']['set'](_0x51030b,_0x419ec6,_0x278f52,_0x5a5a5a)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x1dcf30&Mo){const _0x1f7e33=_0x42f9e3['depth']??_0x1f9126['depth'];_0x1f7e33!==this['clearDepth']&&(this['gl']['clearDepth'](_0x1f7e33),this['clearDepth']=_0x1f7e33),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x1dcf30&Ah){const _0x31ea90=_0x42f9e3['stencil']??_0x1f9126['stencil'];_0x31ea90!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x31ea90),this['clearStenc'+'il']=_0x31ea90),_0x17df17['stencilMas'+'k'](0xe9f+0x13*-0x47+-0x85b*0x1),this['stencilWri'+'teMaskFron'+'t']=0x257c+0x3fb+0x40c*-0xa,this['stencilWri'+'teMaskBack']=-0x1bcc+-0x1269+0x6a*0x72;}_0x17df17['clear'](this['glClearFla'+'g'][_0x1dcf30]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x232d1e,_0x40af57,_0x431465,_0x68225e,_0x47fbcd){const _0x5c7870=this['gl'];_0x5c7870['readPixels'](_0x232d1e,_0x40af57,_0x431465,_0x68225e,_0x5c7870['RGBA'],_0x5c7870['UNSIGNED_B'+'YTE'],_0x47fbcd);}async['readPixels'+'Async'](_0x48bbaf,_0x56c8cc,_0x173f71,_0x18f5b8,_0x569d4e){var _0x2f7a4e;const _0x2c6a35=this['gl'],_0x38b475=(_0x20d2bd,_0x3490c2)=>{const _0xabcbc1=_0x2c6a35['fenceSync'](_0x2c6a35['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x271*0xb+-0x1b6f+0x94);return this['submit'](),new Promise((_0x50685e,_0x46663e)=>{function _0x46e303(){const _0x36d7a8=_0x2c6a35['clientWait'+'Sync'](_0xabcbc1,_0x20d2bd,-0x218a+0x8*0x1dc+-0x12aa*-0x1);_0x36d7a8===_0x2c6a35['WAIT_FAILE'+'D']?(_0x2c6a35['deleteSync'](_0xabcbc1),_0x46663e(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x36d7a8===_0x2c6a35['TIMEOUT_EX'+'PIRED']?setTimeout(_0x46e303,_0x3490c2):(_0x2c6a35['deleteSync'](_0xabcbc1),_0x50685e());}_0x46e303();});},_0x2daaeb=(_0x2f7a4e=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x1acb+0x1996+-0x135*-0x1):_0x2f7a4e['impl'],_0x2bca45=(_0x2daaeb==null?void(0x1498+-0x13d*-0xb+-0x2237):_0x2daaeb['_glFormat'])??_0x2c6a35['RGBA'],_0x309bd7=(_0x2daaeb==null?void(-0x44d+0xb41*-0x2+0x1acf):_0x2daaeb['_glPixelTy'+'pe'])??_0x2c6a35['UNSIGNED_B'+'YTE'],_0x408f65=_0x2c6a35['createBuff'+'er']();return _0x2c6a35['bindBuffer'](_0x2c6a35['PIXEL_PACK'+'_BUFFER'],_0x408f65),_0x2c6a35['bufferData'](_0x2c6a35['PIXEL_PACK'+'_BUFFER'],_0x569d4e['byteLength'],_0x2c6a35['STREAM_REA'+'D']),_0x2c6a35['readPixels'](_0x48bbaf,_0x56c8cc,_0x173f71,_0x18f5b8,_0x2bca45,_0x309bd7,0x7d*-0x29+-0x1*-0x6fd+0xd08),_0x2c6a35['bindBuffer'](_0x2c6a35['PIXEL_PACK'+'_BUFFER'],null),await _0x38b475(0x539*0x1+-0x3d*-0x6f+-0x2*0xfd6,0x13a+-0x1e76+0x1d50),_0x2c6a35['bindBuffer'](_0x2c6a35['PIXEL_PACK'+'_BUFFER'],_0x408f65),_0x2c6a35['getBufferS'+'ubData'](_0x2c6a35['PIXEL_PACK'+'_BUFFER'],0x1fa6+0xc15+-0x2bbb,_0x569d4e),_0x2c6a35['bindBuffer'](_0x2c6a35['PIXEL_PACK'+'_BUFFER'],null),_0x2c6a35['deleteBuff'+'er'](_0x408f65),_0x569d4e;}['readTextur'+'eAsync'](_0x22a7a7,_0x24baec,_0x2a7f4c,_0x41fa56,_0x328281,_0x2c48be){const _0x1ad162=_0x2c48be['face']??-0x1*0x10cd+0x163c+0xd*-0x6b,_0x138afb=_0x2c48be['renderTarg'+'et']??new pt({'colorBuffer':_0x22a7a7,'depth':!(0x2fc+-0x7b7+0x65*0xc),'face':_0x1ad162});v['assert'](_0x138afb['colorBuffe'+'r']===_0x22a7a7);const _0xc7993e=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x41fa56,_0x328281,-0x2378+0x124a+0x112f,_0x22a7a7['_format'])),_0x163d22=_0x2c48be['data']??new(Cy(_0x22a7a7['_format']))(_0xc7993e);return this['setRenderT'+'arget'](_0x138afb),this['initRender'+'Target'](_0x138afb),new Promise((_0x5e6d63,_0x31bb9b)=>{this['readPixels'+'Async'](_0x24baec,_0x2a7f4c,_0x41fa56,_0x328281,_0x163d22)['then'](_0x2cddf3=>{_0x2c48be['renderTarg'+'et']||_0x138afb['destroy'](),_0x5e6d63(_0x2cddf3);})['catch'](_0x31bb9b);});}['setAlphaTo'+'Coverage'](_0x97fb0a){this['alphaToCov'+'erage']!==_0x97fb0a&&(this['alphaToCov'+'erage']=_0x97fb0a,_0x97fb0a?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x3a58cc){if(this['transformF'+'eedbackBuf'+'fer']!==_0x3a58cc){this['transformF'+'eedbackBuf'+'fer']=_0x3a58cc;const _0x21adea=this['gl'];_0x3a58cc?(this['feedback']||(this['feedback']=_0x21adea['createTran'+'sformFeedb'+'ack']()),_0x21adea['bindTransf'+'ormFeedbac'+'k'](_0x21adea['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x21adea['bindTransf'+'ormFeedbac'+'k'](_0x21adea['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x4a6652){this['raster']!==_0x4a6652&&(this['raster']=_0x4a6652,_0x4a6652?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x3517c5){if(this['stencil']!==_0x3517c5){const _0x50fd5a=this['gl'];_0x3517c5?_0x50fd5a['enable'](_0x50fd5a['STENCIL_TE'+'ST']):_0x50fd5a['disable'](_0x50fd5a['STENCIL_TE'+'ST']),this['stencil']=_0x3517c5;}}['setStencil'+'Func'](_0x56641f,_0x488c88,_0x385d78){(this['stencilFun'+'cFront']!==_0x56641f||this['stencilRef'+'Front']!==_0x488c88||this['stencilMas'+'kFront']!==_0x385d78||this['stencilFun'+'cBack']!==_0x56641f||this['stencilRef'+'Back']!==_0x488c88||this['stencilMas'+'kBack']!==_0x385d78)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x56641f],_0x488c88,_0x385d78),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x56641f,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x488c88,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x385d78);}['setStencil'+'FuncFront'](_0x16a860,_0x4f37be,_0x1b351c){if(this['stencilFun'+'cFront']!==_0x16a860||this['stencilRef'+'Front']!==_0x4f37be||this['stencilMas'+'kFront']!==_0x1b351c){const _0x4234eb=this['gl'];_0x4234eb['stencilFun'+'cSeparate'](_0x4234eb['FRONT'],this['glComparis'+'on'][_0x16a860],_0x4f37be,_0x1b351c),this['stencilFun'+'cFront']=_0x16a860,this['stencilRef'+'Front']=_0x4f37be,this['stencilMas'+'kFront']=_0x1b351c;}}['setStencil'+'FuncBack'](_0x53ed49,_0x97cb2c,_0x47a84f){if(this['stencilFun'+'cBack']!==_0x53ed49||this['stencilRef'+'Back']!==_0x97cb2c||this['stencilMas'+'kBack']!==_0x47a84f){const _0x4bdfb3=this['gl'];_0x4bdfb3['stencilFun'+'cSeparate'](_0x4bdfb3['BACK'],this['glComparis'+'on'][_0x53ed49],_0x97cb2c,_0x47a84f),this['stencilFun'+'cBack']=_0x53ed49,this['stencilRef'+'Back']=_0x97cb2c,this['stencilMas'+'kBack']=_0x47a84f;}}['setStencil'+'Operation'](_0x8c5cfb,_0x2dd335,_0x3dbaca,_0x2eb3fb){(this['stencilFai'+'lFront']!==_0x8c5cfb||this['stencilZfa'+'ilFront']!==_0x2dd335||this['stencilZpa'+'ssFront']!==_0x3dbaca||this['stencilFai'+'lBack']!==_0x8c5cfb||this['stencilZfa'+'ilBack']!==_0x2dd335||this['stencilZpa'+'ssBack']!==_0x3dbaca)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x8c5cfb],this['glStencilO'+'p'][_0x2dd335],this['glStencilO'+'p'][_0x3dbaca]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x8c5cfb,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x2dd335,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x3dbaca),(this['stencilWri'+'teMaskFron'+'t']!==_0x2eb3fb||this['stencilWri'+'teMaskBack']!==_0x2eb3fb)&&(this['gl']['stencilMas'+'k'](_0x2eb3fb),this['stencilWri'+'teMaskFron'+'t']=_0x2eb3fb,this['stencilWri'+'teMaskBack']=_0x2eb3fb);}['setStencil'+'OperationF'+'ront'](_0x2c6907,_0x5cf9d0,_0x385ccc,_0x5615cd){(this['stencilFai'+'lFront']!==_0x2c6907||this['stencilZfa'+'ilFront']!==_0x5cf9d0||this['stencilZpa'+'ssFront']!==_0x385ccc)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x2c6907],this['glStencilO'+'p'][_0x5cf9d0],this['glStencilO'+'p'][_0x385ccc]),this['stencilFai'+'lFront']=_0x2c6907,this['stencilZfa'+'ilFront']=_0x5cf9d0,this['stencilZpa'+'ssFront']=_0x385ccc),this['stencilWri'+'teMaskFron'+'t']!==_0x5615cd&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x5615cd),this['stencilWri'+'teMaskFron'+'t']=_0x5615cd);}['setStencil'+'OperationB'+'ack'](_0x77ab0f,_0x56e57a,_0xddad85,_0x17a5f5){(this['stencilFai'+'lBack']!==_0x77ab0f||this['stencilZfa'+'ilBack']!==_0x56e57a||this['stencilZpa'+'ssBack']!==_0xddad85)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x77ab0f],this['glStencilO'+'p'][_0x56e57a],this['glStencilO'+'p'][_0xddad85]),this['stencilFai'+'lBack']=_0x77ab0f,this['stencilZfa'+'ilBack']=_0x56e57a,this['stencilZpa'+'ssBack']=_0xddad85),this['stencilWri'+'teMaskBack']!==_0x17a5f5&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x17a5f5),this['stencilWri'+'teMaskBack']=_0x17a5f5);}['setBlendSt'+'ate'](_0x29f332){const _0x5dcb6c=this['blendState'];if(!_0x5dcb6c['equals'](_0x29f332)){const _0x3b3260=this['gl'],{blend:_0x38caf4,colorOp:_0x2795fd,alphaOp:_0x96f589,colorSrcFactor:_0x559a28,colorDstFactor:_0x195e85,alphaSrcFactor:_0x150e46,alphaDstFactor:_0x1abaed}=_0x29f332;if(_0x5dcb6c['blend']!==_0x38caf4&&(_0x38caf4?_0x3b3260['enable'](_0x3b3260['BLEND']):_0x3b3260['disable'](_0x3b3260['BLEND'])),_0x5dcb6c['colorOp']!==_0x2795fd||_0x5dcb6c['alphaOp']!==_0x96f589){const _0x147738=this['glBlendEqu'+'ation'];_0x3b3260['blendEquat'+'ionSeparat'+'e'](_0x147738[_0x2795fd],_0x147738[_0x96f589]);}(_0x5dcb6c['colorSrcFa'+'ctor']!==_0x559a28||_0x5dcb6c['colorDstFa'+'ctor']!==_0x195e85||_0x5dcb6c['alphaSrcFa'+'ctor']!==_0x150e46||_0x5dcb6c['alphaDstFa'+'ctor']!==_0x1abaed)&&_0x3b3260['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x559a28],this['glBlendFun'+'ctionColor'][_0x195e85],this['glBlendFun'+'ctionAlpha'][_0x150e46],this['glBlendFun'+'ctionAlpha'][_0x1abaed]),_0x5dcb6c['allWrite']!==_0x29f332['allWrite']&&this['gl']['colorMask'](_0x29f332['redWrite'],_0x29f332['greenWrite'],_0x29f332['blueWrite'],_0x29f332['alphaWrite']),_0x5dcb6c['copy'](_0x29f332);}}['setBlendCo'+'lor'](_0x18f059,_0x213f67,_0x2ec02e,_0x14d037){const _0x503f7a=this['blendColor'];(_0x18f059!==_0x503f7a['r']||_0x213f67!==_0x503f7a['g']||_0x2ec02e!==_0x503f7a['b']||_0x14d037!==_0x503f7a['a'])&&(this['gl']['blendColor'](_0x18f059,_0x213f67,_0x2ec02e,_0x14d037),_0x503f7a['set'](_0x18f059,_0x213f67,_0x2ec02e,_0x14d037));}['setStencil'+'State'](_0x48f4e8,_0x3459d5){_0x48f4e8||_0x3459d5?(this['setStencil'+'Test'](!(-0x54b*0x2+-0x3ed*0x5+0x77*0x41)),_0x48f4e8===_0x3459d5?(this['setStencil'+'Func'](_0x48f4e8['func'],_0x48f4e8['ref'],_0x48f4e8['readMask']),this['setStencil'+'Operation'](_0x48f4e8['fail'],_0x48f4e8['zfail'],_0x48f4e8['zpass'],_0x48f4e8['writeMask'])):(_0x48f4e8??(_0x48f4e8=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x48f4e8['func'],_0x48f4e8['ref'],_0x48f4e8['readMask']),this['setStencil'+'OperationF'+'ront'](_0x48f4e8['fail'],_0x48f4e8['zfail'],_0x48f4e8['zpass'],_0x48f4e8['writeMask']),_0x3459d5??(_0x3459d5=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x3459d5['func'],_0x3459d5['ref'],_0x3459d5['readMask']),this['setStencil'+'OperationB'+'ack'](_0x3459d5['fail'],_0x3459d5['zfail'],_0x3459d5['zpass'],_0x3459d5['writeMask']))):this['setStencil'+'Test'](!(-0x8*0x1cf+0x7d0+0x6a9));}['setDepthSt'+'ate'](_0x783291){const _0x36f350=this['depthState'];if(!_0x36f350['equals'](_0x783291)){const _0x395e65=this['gl'],_0x101814=_0x783291['write'];_0x36f350['write']!==_0x101814&&_0x395e65['depthMask'](_0x101814);let {func:_0x52998d,test:_0x4fc74a}=_0x783291;!_0x4fc74a&&_0x101814&&(_0x4fc74a=!(0xecb+0x1aa2+-0x65*0x69),_0x52998d=Ai),_0x36f350['func']!==_0x52998d&&_0x395e65['depthFunc'](this['glComparis'+'on'][_0x52998d]),_0x36f350['test']!==_0x4fc74a&&(_0x4fc74a?_0x395e65['enable'](_0x395e65['DEPTH_TEST']):_0x395e65['disable'](_0x395e65['DEPTH_TEST']));const {depthBias:_0x4e37ef,depthBiasSlope:_0x79b791}=_0x783291;_0x4e37ef||_0x79b791?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x10d*-0x1f+0x2570*0x1+0x5*-0xf9),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x395e65['polygonOff'+'set'](_0x79b791,_0x4e37ef)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x42*-0x95+0x2534*0x1+-0x1*-0x137),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x36f350['copy'](_0x783291);}}['setCullMod'+'e'](_0x24c83f){if(this['cullMode']!==_0x24c83f){if(_0x24c83f===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x588760=this['glCull'][_0x24c83f];this['cullFace']!==_0x588760&&(this['gl']['cullFace'](_0x588760),this['cullFace']=_0x588760);}this['cullMode']=_0x24c83f;}}['setShader'](_0x1368c9,_0x5f0126=!(0xdd+-0x2242*-0x1+0x136*-0x1d)){_0x1368c9!==this['shader']&&(this['shader']=_0x1368c9,this['shaderAsyn'+'cCompile']=_0x5f0126,this['shaderVali'+'d']=void(0x465+0x7*-0x1b5+-0x3c7*-0x2),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0xf60a73){const {shader:_0x887667}=this,{impl:_0x5edb3e}=_0x887667;this['shaderVali'+'d']===void(-0x1985+0x527*-0x1+0x1eac)&&(_0x887667['failed']?this['shaderVali'+'d']=!(-0x1b7d*0x1+0x1*0x19ab+0x1d3):_0x887667['ready']||(this['shaderAsyn'+'cCompile']?_0x5edb3e['isLinked'](_0xf60a73)?_0x5edb3e['finalize'](this,_0x887667)||(_0x887667['failed']=!(0x1a3*-0xe+-0x3*-0x635+0x9d*0x7),this['shaderVali'+'d']=!(0x126+-0x1db3*0x1+-0xe47*-0x2)):this['shaderVali'+'d']=!(-0xbd3*0x2+-0x1*-0x3df+0x13c8):_0x5edb3e['finalize'](this,_0x887667)||(_0x887667['failed']=!(0x12a8+0x33a+-0x15e2),this['shaderVali'+'d']=!(-0x1bb*-0x12+-0xfa3+-0xf82)))),this['shaderVali'+'d']===void(0x1bda+0x492+-0x206c)&&(this['gl']['useProgram'](_0x5edb3e['glProgram']),this['shaderVali'+'d']=!(0x12be+0x9*0x36f+-0x31a5));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x2511ac=this['gl'];this['_vaoMap']['forEach']((_0x4d5648,_0x219da4,_0x11cbc6)=>{_0x2511ac['deleteVert'+'exArray'](_0x4d5648);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x2cbdfa){_0x2cbdfa?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x330d76=0x1*-0xcc2+0x1d2*0x5+0x40c){const _0x216579=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x216579['loseContex'+'t'](),setTimeout(()=>_0x216579['restoreCon'+'text'](),_0x330d76);}}let mb=-0x1*-0x3a9+0x16*0x67+0x1*-0xc83;class lr{constructor(_0x541204,_0xff71bb,_0x727983,_0x231c12=jt,_0x42883a,_0x13af89){this['device']=_0x541204,this['format']=_0xff71bb,this['numIndices']=_0x727983,this['usage']=_0x231c12,this['id']=mb++,this['impl']=_0x541204['createInde'+'xBufferImp'+'l'](this,_0x13af89);const _0x2f32f0=vv[_0xff71bb];this['bytesPerIn'+'dex']=_0x2f32f0,this['numBytes']=this['numIndices']*_0x2f32f0,_0x42883a?this['setData'](_0x42883a):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x541204['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x5847d8=this['device'],_0x456e0c=_0x5847d8['buffers']['indexOf'](this);_0x456e0c!==-(0x1686+0x1c*-0x159+-0xf37*-0x1)&&_0x5847d8['buffers']['splice'](_0x456e0c,0x1*-0x68d+0x19d4+-0x1346),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x5847d8),this['adjustVram'+'SizeTracki'+'ng'](_0x5847d8['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x53d068,_0x5ab925){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x5ab925+'\x20vram.ib:\x20'+_0x53d068['ib']+'\x20=>\x20'+(_0x53d068['ib']+_0x5ab925)),_0x53d068['ib']+=_0x5ab925;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x112aa6){return _0x112aa6['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x112aa6['byteLength']),!(-0x1467*-0x1+-0x1*-0x11c7+-0x262d)):(this['storage']=_0x112aa6,this['unlock'](),!(0x1733*-0x1+0x2598+-0x2e1*0x5));}['_lockTyped'+'Array'](){const _0x1bf324=this['lock']();return this['format']===nr?new Uint32Array(_0x1bf324):this['format']===Pi?new Uint16Array(_0x1bf324):new Uint8Array(_0x1bf324);}['writeData'](_0x1badc0,_0x33d584){const _0xdded49=this['_lockTyped'+'Array']();if(_0x1badc0['length']>_0x33d584){if(ArrayBuffer['isView'](_0x1badc0))_0x1badc0=_0x1badc0['subarray'](-0x2517+0x856+-0x1*-0x1cc1,_0x33d584),_0xdded49['set'](_0x1badc0);else{for(let _0x27d8a3=0x1*0x1fe5+0xb*0x2c7+-0x1f39*0x2;_0x27d8a3<_0x33d584;_0x27d8a3++)_0xdded49[_0x27d8a3]=_0x1badc0[_0x27d8a3];}}else _0xdded49['set'](_0x1badc0);this['unlock']();}['readData'](_0x458fd3){const _0x2269fe=this['_lockTyped'+'Array'](),_0x19afa7=this['numIndices'];if(ArrayBuffer['isView'](_0x458fd3))_0x458fd3['set'](_0x2269fe);else{_0x458fd3['length']=-0x1a56+0x1*-0x1ea1+-0x1*-0x38f7;for(let _0x3e6267=-0x10d0+0x305*-0x2+-0x1*-0x16da;_0x3e6267<_0x19afa7;_0x3e6267++)_0x458fd3[_0x3e6267]=_0x2269fe[_0x3e6267];}return _0x19afa7;}}class _b{constructor(){c(this,'clearValue',new Y(-0x1*-0x1222+0x1*-0x2625+0x1403,-0x7f6*-0x3+-0x197d+-0x3*-0x89,-0x193f+-0x1586+0x2ec5,-0x1*0x1053+-0x18b3+0x2907)),c(this,'clearValue'+'Linear',new Y(-0x1ba2+-0x13*-0x15d+-0x1*-0x1bb,-0x1*-0x1067+0x1de*0x1+-0x1245,0x6d7*0x3+-0x2e7+-0x119e,-0x66e+0x19ee*-0x1+0x205d)),c(this,'clear',!(0x171e+0xe7b*-0x1+0xa*-0xdd)),c(this,'store',!(-0x2f6*0x3+-0x87a+0x115d)),c(this,'resolve',!(0x11ee+-0x1ecb+0xcdd)),c(this,'genMipmaps',!(-0xb01+-0x9*0x2a1+0x6ef*0x5));}}class gb{constructor(){c(this,'clearDepth'+'Value',0x1*0xda1+-0x312+-0xa8e*0x1),c(this,'clearStenc'+'ilValue',0x2*-0xf3e+-0x12b2+0x312e),c(this,'clearDepth',!(0x3*-0x61f+0x20e2+0x2*-0x742)),c(this,'clearStenc'+'il',!(0x1d12+0x232*0x10+0x1*-0x4031)),c(this,'storeDepth',!(-0x172+-0x5*-0x1+0x16e)),c(this,'resolveDep'+'th',!(0xb66+-0x1b*-0xd0+-0x173*0x17)),c(this,'storeStenc'+'il',!(0x1*0x188f+-0x31d+-0x1571));}}class ds{constructor(_0x3dc66c){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0xcc1+-0xa87+-0x28*-0x95)),c(this,'_skipStart',!(-0x23c2+-0xffb+0x19df*0x2)),c(this,'_skipEnd',!(-0x10f1*0x1+0xfb*-0x1+0x1*0x11ed)),c(this,'executeEna'+'bled',!(0x1339+-0x3*-0xc79+-0x38a4*0x1)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x1*0xd5b+0x12a8+-0x54d),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0x2061+0x1c*0x157+-0x523)),c(this,'fullSizeCl'+'earRect',!(-0x393*0x1+0x29*0xd7+0xf6e*-0x2)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x3dc66c),this['device']=_0x3dc66c);}get['colorOps'](){return this['colorArray'+'Ops'][-0xe08*-0x2+-0x16ea+-0x526];}set['name'](_0x353eb2){this['_name']=_0x353eb2;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x380f12){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x380f12;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x485fa5){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x485fa5;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x30849c){this['_options']=_0x30849c,_0x30849c&&(this['scaleX']=this['scaleX']??-0x2c8+0xf10+-0xc47,this['scaleY']=this['scaleY']??-0x1*-0x1733+-0x3*0x57b+-0x6c1);}get['options'](){return this['_options'];}['init'](_0x2f5dc8=null,_0x58fc59){this['options']=_0x58fc59,this['renderTarg'+'et']=_0x2f5dc8,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x2a6+0xc41+-0x2*0x773),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0xd78845,_0x2e0462,_0x46db77,_0x7a2a3;const _0x1fd29c=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x1fd29c!=null&&_0x1fd29c['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x763+0x90d*0x1+-0x1*0x1aa));const _0x35a5a4=_0x1fd29c?((_0xd78845=_0x1fd29c['_colorBuff'+'ers'])==null?void(0x950+-0x1dd5+0x1485):_0xd78845['length'])??0xc5f+0xa*-0x277+-0x7*-0x1c1:-0x944+-0x174*0x10+0x2085;this['colorArray'+'Ops']['length']=0xb7b*0x3+-0x3b*0x8b+-0x58*0x7;for(let _0x48810f=0x4bb*0x7+0x166*0x6+0x1a9*-0x19;_0x48810f<_0x35a5a4;_0x48810f++){const _0xad035d=new _b();this['colorArray'+'Ops'][_0x48810f]=_0xad035d,this['samples']===-0x3e2*-0x7+-0x1756+0x1*-0x3d7&&(_0xad035d['store']=!(0x168f+-0x1*0xe3c+-0x853*0x1),_0xad035d['resolve']=!(0x33a*-0xb+0x1*0x212f+-0x94*-0x4));const _0x22879f=(_0x46db77=(_0x2e0462=this['renderTarg'+'et'])==null?void(0x256e+0xef9+-0x3467):_0x2e0462['_colorBuff'+'ers'])==null?void(-0x153*0x3+-0x935*-0x3+-0x6*0x3f1):_0x46db77[_0x48810f];if((_0x7a2a3=this['renderTarg'+'et'])!=null&&_0x7a2a3['mipmaps']&&(_0x22879f!=null&&_0x22879f['mipmaps'])){const _0x1646a0=ea(_0x22879f['_format']);_0xad035d['genMipmaps']=!_0x1646a0;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x5d39f6=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x922fbd=Math['floor'](_0x5d39f6['width']*this['scaleX']),_0x4a72c3=Math['floor'](_0x5d39f6['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x922fbd,_0x4a72c3);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x24fc96){this['_enabled']!==_0x24fc96&&(this['_enabled']=_0x24fc96,_0x24fc96?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x3e30cb){const _0x48e8d2=this['colorArray'+'Ops']['length'];for(let _0x49877c=-0x6*-0x52a+-0x6b8+-0x1844;_0x49877c<_0x48e8d2;_0x49877c++){const _0xe166c9=this['colorArray'+'Ops'][_0x49877c];_0x3e30cb&&(_0xe166c9['clearValue']['copy'](_0x3e30cb),_0xe166c9['clearValue'+'Linear']['linear'](_0x3e30cb)),_0xe166c9['clear']=!!_0x3e30cb;}}['setClearDe'+'pth'](_0x246d96){_0x246d96&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x246d96),this['depthStenc'+'ilOps']['clearDepth']=_0x246d96!==void(0x1*-0x25cb+0x391+0x223a);}['setClearSt'+'encil'](_0x2f9f84){_0x2f9f84&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x2f9f84),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x2f9f84!==void(-0x14*0xd7+-0x220b+0x32d7);}['render'](){if(this['enabled']){const _0x4b7805=this['device'],_0x1adf6e=this['renderTarg'+'et']!==void(-0x1*0x2513+0x37*-0x6+0x265d);v['call'](()=>{this['log'](_0x4b7805,_0x4b7805['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x1adf6e&&!this['_skipStart']&&_0x4b7805['startRende'+'rPass'](this),this['execute'](),_0x1adf6e&&!this['_skipEnd']&&_0x4b7805['endRenderP'+'ass'](this)),this['after'](),_0x4b7805['renderPass'+'Index']++;}}['log'](_0x2bb8d1,_0x227de3=-0x8b*0x2b+-0x4*0x85e+0x38d1){var _0x3f1bf4,_0x1dad68,_0x370e9e;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x2a850c=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x2bb8d1['backBuffer']:null),_0x137dff=!!(_0x2a850c!=null&&_0x2a850c['impl']['assignedCo'+'lorTexture'])||(_0x2a850c==null?void(-0x44+-0x1fe9+-0x1*-0x202d):_0x2a850c['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x941+0x1156*-0x1+0x1*0x815),_0x1de8aa=((_0x3f1bf4=_0x2a850c==null?void(-0x1db7*0x1+-0x573+0x232a):_0x2a850c['_colorBuff'+'ers'])==null?void(0x1364+0xb3d+-0x1ea1):_0x3f1bf4['length'])??(_0x137dff?-0x4*0xce+-0x189b+-0x2*-0xdea:-0x1*-0x1559+0x4*-0x679+0x48b),_0x57713e=_0x2a850c==null?void(-0x8ff+0x88*0x3+0x767):_0x2a850c['depth'],_0x7850d5=_0x2a850c==null?void(0x2167+-0x8d*0x2f+-0x784):_0x2a850c['stencil'],_0x5f3b74=_0x2a850c==null?void(-0x4*-0x4eb+0x993*-0x1+-0xeb*0xb):_0x2a850c['mipLevel'],_0xccfd48=_0x2a850c?'\x20RT:\x20'+(_0x2a850c?_0x2a850c['name']:'NULL')+'\x20'+(_0x1de8aa>0x1bed+0x1465+-0x3052?'[Color'+(_0x1de8aa>0x19c2*0x1+0x4*-0x91d+0xab3?'\x20x\x20'+_0x1de8aa:'')+']':'')+(_0x57713e?'[Depth]':'')+(_0x7850d5?'[Stencil]':'')+'\x20'+_0x2a850c['width']+'\x20x\x20'+_0x2a850c['height']+(this['samples']>0x15a3+-0xbbe+-0x9e5?'\x20samples:\x20'+this['samples']:'')+(_0x5f3b74>-0x26f5*-0x1+0x2637+-0x4d2c?'\x20mipLevel:'+'\x20'+_0x5f3b74:''):'',_0x26daaa=this['_skipStart']?'++':_0x227de3['toString']()['padEnd'](0x1*0x2275+0x2426+-0x4699,'\x20');v['trace'](jp,_0x26daaa+':\x20'+this['name']['padEnd'](0x136e+-0x1b46*-0x1+-0x2ea0,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0xccfd48['padEnd'](-0x4*0x2c3+0x9ab+0x17f));for(let _0x1def6b=-0x14*0x6d+-0xc5*0x4+-0x2*-0x5cc;_0x1def6b<_0x1de8aa;_0x1def6b++){const _0x51f058=this['colorArray'+'Ops'][_0x1def6b],_0x4092ed=(_0x1dad68=xt['get'](_0x137dff?_0x2bb8d1['backBuffer'+'Format']:_0x2a850c['getColorBu'+'ffer'](_0x1def6b)['format']))==null?void(-0x1add+0x3*0xbad+-0x16*0x5f):_0x1dad68['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x1def6b+']:\x20'+(_0x51f058['clear']?'clear':'load')+'->'+(_0x51f058['store']?'store':'discard')+'\x20'+(_0x51f058['resolve']?'resolve\x20':'')+(_0x51f058['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x4092ed+']\x20'+(_0x51f058['clear']?'[clear:\x20'+_0x51f058['clearValue']['toString'](!(0xd2b+-0x1ac1+0xd96*0x1),!(0x15bd+0x5c0*-0x2+0x1*-0xa3d))+']':''));}if(this['depthStenc'+'ilOps']){const _0x53c289=''+(_0x2a850c['depthBuffe'+'r']?'\x20[format:\x20'+((_0x370e9e=xt['get'](_0x2a850c['depthBuffe'+'r']['format']))==null?void(-0x5*0x6bb+-0x1*0x268f+0x3*0x1812):_0x370e9e['name'])+']':'');_0x57713e&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x53c289+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x7850d5&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x53c289+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x47a670){this['array'][this['index']]=_0x47a670;}function xb(_0x44cc78,_0x466bd5){this['array'][this['index']]=_0x44cc78,this['array'][this['index']+(-0xf23+0xca0+0x7*0x5c)]=_0x466bd5;}function Sb(_0x556ccd,_0x26a89d,_0x3e547d){this['array'][this['index']]=_0x556ccd,this['array'][this['index']+(0x255a+0x1e2b+0x4384*-0x1)]=_0x26a89d,this['array'][this['index']+(-0x11+0xa+-0x3*-0x3)]=_0x3e547d;}function vb(_0x5672b9,_0xe7b980,_0x8f1c9b,_0x3dbee8){this['array'][this['index']]=_0x5672b9,this['array'][this['index']+(-0xf23+0x188b+0x53*-0x1d)]=_0xe7b980,this['array'][this['index']+(0x8cd*0x1+-0x17*0xe+0x3*-0x283)]=_0x8f1c9b,this['array'][this['index']+(-0x824*0x1+0xab+-0x3be*-0x2)]=_0x3dbee8;}function bb(_0x36d0f7,_0x50571d,_0x2fde8c){this['array'][_0x36d0f7]=_0x50571d[_0x2fde8c];}function wb(_0x3287a7,_0x3abf6f,_0x4f4adc){this['array'][_0x3287a7]=_0x3abf6f[_0x4f4adc],this['array'][_0x3287a7+(0x1acd+0x125f*-0x1+0x3*-0x2cf)]=_0x3abf6f[_0x4f4adc+(0x1502*-0x1+-0x19*-0x42+0x1*0xe91)];}function Tb(_0x3248cd,_0x30369a,_0x5aeb72){this['array'][_0x3248cd]=_0x30369a[_0x5aeb72],this['array'][_0x3248cd+(-0x1c*0xb2+0x24*0xa3+-0x373*0x1)]=_0x30369a[_0x5aeb72+(0x2*-0xadd+-0xdae*0x2+0x3117)],this['array'][_0x3248cd+(0x241*0x5+-0x1*0x1ea5+-0x1362*-0x1)]=_0x30369a[_0x5aeb72+(-0x3d2+0x1*-0x148+0x51c)];}function Ab(_0x512a5f,_0x50b5cc,_0x1a5269){this['array'][_0x512a5f]=_0x50b5cc[_0x1a5269],this['array'][_0x512a5f+(-0x1*-0x1231+0x1ec6+-0x2*0x187b)]=_0x50b5cc[_0x1a5269+(0x1*0x1b4f+0x1*0xfe9+-0x2b37)],this['array'][_0x512a5f+(-0x2*-0x6bb+0x795+-0x5*0x435)]=_0x50b5cc[_0x1a5269+(-0x1652+-0x99*0x22+0x2aa6)],this['array'][_0x512a5f+(-0x203b+0xd*-0x295+0x41cf*0x1)]=_0x50b5cc[_0x1a5269+(-0x1*-0x1633+0x1*-0x1dd7+0x28d*0x3)];}function Eb(_0x326816,_0x22d8e0,_0x525a18){_0x22d8e0[_0x525a18]=this['array'][_0x326816];}function Cb(_0x170708,_0x5bef5b,_0x21503f){_0x5bef5b[_0x21503f]=this['array'][_0x170708],_0x5bef5b[_0x21503f+(-0x1*0x192a+-0x12*-0xc4+0xb63)]=this['array'][_0x170708+(0x2*0x315+-0x1*-0x1d7d+-0xbe2*0x3)];}function Mb(_0x567a9c,_0x20692,_0x3fbc92){_0x20692[_0x3fbc92]=this['array'][_0x567a9c],_0x20692[_0x3fbc92+(0xf*0xe9+0x1f37*0x1+-0x2cdd)]=this['array'][_0x567a9c+(-0x140f+0x61*-0x20+0x2030)],_0x20692[_0x3fbc92+(0x1ff3*0x1+0x2d*-0x3d+-0x8*0x2a7)]=this['array'][_0x567a9c+(0x85f+-0x2*-0x998+-0x1b8d)];}function Pb(_0x4321da,_0x1d119a,_0x2f7ff5){_0x1d119a[_0x2f7ff5]=this['array'][_0x4321da],_0x1d119a[_0x2f7ff5+(-0x18e*0x18+-0x96+0x25e7)]=this['array'][_0x4321da+(0x4e*0x8+0x5*0x505+0x4*-0x6e2)],_0x1d119a[_0x2f7ff5+(0x1498+-0x54*-0x1c+-0x1dc6)]=this['array'][_0x4321da+(0x1719+0x26f9*-0x1+-0xd6*-0x13)],_0x1d119a[_0x2f7ff5+(-0x244a*-0x1+0x1233+-0x367a)]=this['array'][_0x4321da+(-0x1e*-0x4+-0x81*-0x7+-0x3fc)];}class Rb{constructor(_0x450c73,_0x10db99,_0x1860af){switch(this['index']=-0xdc3+0x1838+0x1*-0xa75,this['numCompone'+'nts']=_0x10db99['numCompone'+'nts'],_0x1860af['interleave'+'d']?this['array']=new da[_0x10db99['dataType']](_0x450c73,_0x10db99['offset']):this['array']=new da[_0x10db99['dataType']](_0x450c73,_0x10db99['offset'],_0x1860af['vertexCoun'+'t']*_0x10db99['numCompone'+'nts']),this['stride']=_0x10db99['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x10db99['numCompone'+'nts']){case-0x14a8*-0x1+0x373*-0x7+0x37e:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case 0x208f+0x1461+-0x34ee:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0x1ae8+0x782+0x1369:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case-0x269e+0x6*0x2de+-0xd3*-0x1a:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x2a539b){return this['array'][this['index']+_0x2a539b];}['set'](_0x12a815,_0x2bb0c8,_0x3aec51,_0x43e4b8){}['getToArray'](_0x7c8bc1,_0x30f398,_0x5a367a){}['setFromArr'+'ay'](_0x4628ce,_0x52272c,_0x3bb839){}}class go{constructor(_0x3b5634){this['vertexBuff'+'er']=_0x3b5634,this['vertexForm'+'atSize']=_0x3b5634['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x38b20b=this['vertexBuff'+'er']['getFormat']();for(let _0x1793f3=-0x83*0x1b+-0x2*0xfd9+-0x2d83*-0x1;_0x1793f3<_0x38b20b['elements']['length'];_0x1793f3++){const _0x7c133e=_0x38b20b['elements'][_0x1793f3];this['accessors'][_0x1793f3]=new Rb(this['buffer'],_0x7c133e,_0x38b20b),this['element'][_0x7c133e['name']]=this['accessors'][_0x1793f3];}}['next'](_0x3a2c6a=0x5f*-0x55+-0x5*0x293+-0x89*-0x53){let _0x171651=-0xd95+0x3b*0x9b+-0x1624;const _0x5d09e6=this['accessors'],_0x2668a8=this['accessors']['length'];for(;_0x171651<_0x2668a8;){const _0xc3a1da=_0x5d09e6[_0x171651++];_0xc3a1da['index']+=_0x3a2c6a*_0xc3a1da['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x1ba27d,_0x5c65aa,_0x407826){const _0x5db3dd=this['element'][_0x1ba27d];if(_0x5db3dd){_0x407826>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x407826+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x407826=this['vertexBuff'+'er']['numVertice'+'s']);const _0x1f3404=_0x5db3dd['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x9dacc4=0xc*-0xdf+-0x530+0xfa4;for(let _0x38b8a5=0xecf+-0x27*-0xc3+0x103*-0x2c;_0x38b8a5<_0x407826;_0x38b8a5++)_0x5db3dd['setFromArr'+'ay'](_0x9dacc4,_0x5c65aa,_0x38b8a5*_0x1f3404),_0x9dacc4+=_0x5db3dd['stride'];}else{if(_0x5c65aa['length']>_0x407826*_0x1f3404){const _0x4b4f2c=_0x407826*_0x1f3404;if(ArrayBuffer['isView'](_0x5c65aa))_0x5c65aa=_0x5c65aa['subarray'](0x16*-0x11b+-0x1*0x16ca+-0x2f1c*-0x1,_0x4b4f2c),_0x5db3dd['array']['set'](_0x5c65aa);else{for(let _0x309ea4=0x8b*0x12+0x1*-0x246f+0x1aa9;_0x309ea4<_0x4b4f2c;_0x309ea4++)_0x5db3dd['array'][_0x309ea4]=_0x5c65aa[_0x309ea4];}}else _0x5db3dd['array']['set'](_0x5c65aa);}}}['readData'](_0x3df901,_0x2cd679){const _0x3a1584=this['element'][_0x3df901];let _0x317582=0x6b*0x49+0x11b*0x6+0x2525*-0x1;if(_0x3a1584){_0x317582=this['vertexBuff'+'er']['numVertice'+'s'];let _0x19651b;const _0x70c8f4=_0x3a1584['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x2cd679)&&(_0x2cd679['length']=0x9ea*-0x2+-0xc*-0x175+0x258),_0x3a1584['index']=0xd+-0x5*0x31c+0xf7f;let _0x56f734=0xbbb+-0x2497*0x1+0x18dc;for(_0x19651b=-0x76*-0x4f+0x1447*0x1+0x17*-0x277;_0x19651b<_0x317582;_0x19651b++)_0x3a1584['getToArray'](_0x56f734,_0x2cd679,_0x19651b*_0x70c8f4),_0x56f734+=_0x3a1584['stride'];}else{if(ArrayBuffer['isView'](_0x2cd679))_0x2cd679['set'](_0x3a1584['array']);else{_0x2cd679['length']=-0x1*0xfcf+0x1196+0xd*-0x23;const _0x5b6fc6=_0x317582*_0x70c8f4;for(_0x19651b=0x10a*0x5+-0x2106+0x1bd4;_0x19651b<_0x5b6fc6;_0x19651b++)_0x2cd679[_0x19651b]=_0x3a1584['array'][_0x19651b];}}}return _0x317582;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(-0x65*0x9+-0x162*0x14+0x1f36);class Db{constructor(_0x2744ec,_0x5929d3){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x5929d3&&(this['key']=_0x5929d3['keyCode'],this['element']=_0x5929d3['target'],this['event']=_0x5929d3);}}const Sl=new Db();function fd(_0x121fc4){return Sl['key']=_0x121fc4['keyCode'],Sl['element']=_0x121fc4['target'],Sl['event']=_0x121fc4,Sl;}function vl(_0xcb6ea0){return typeof _0xcb6ea0=='string'?_0xcb6ea0['toUpperCas'+'e']()['charCodeAt'](0x1d31+0x601+-0x35*0xaa):_0xcb6ea0;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x409c81,_0x455f9f={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x409c81&&this['attach'](_0x409c81),this['preventDef'+'ault']=_0x455f9f['preventDef'+'ault']||!(0x2d1*0xb+0x2da*0x1+-0x21d4),this['stopPropag'+'ation']=_0x455f9f['stopPropag'+'ation']||!(-0x3*0x17+0x15b6+-0x31*0x70));}['attach'](_0x505634){this['_element']&&this['detach'](),this['_element']=_0x505634,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x1*0x1304+-0x2d9+0x15de)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x154e+-0xf14*0x2+0x8db)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0xf78+-0xbdc+-0xd*0x47)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2*-0x3ce+0x1*-0x25e+-0x1bf*0x3)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0xd6e+0x133d+-0x20aa));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2d*0x4d+-0x2*-0xb6f+-0x954)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x34+-0x7*0x557+-0x12cb*-0x2));}['toKeyIdent'+'ifier'](_0x2afe68){_0x2afe68=vl(_0x2afe68);const _0x599cdb=Lb[_0x2afe68['toString']()];if(_0x599cdb)return _0x599cdb;let _0xd2246d=_0x2afe68['toString'](-0x220+0x1a9c+-0x3*0x824)['toUpperCas'+'e']();const _0xea0190=_0xd2246d['length'];for(let _0x2de318=-0x2669*0x1+-0xc37*-0x1+0xd19*0x2;_0x2de318<0xfd2+-0x26f1*-0x1+-0x36bf-_0xea0190;_0x2de318++)_0xd2246d='0'+_0xd2246d;return'U+'+_0xd2246d;}['_handleKey'+'Down'](_0x16f1a8){const _0x84010d=_0x16f1a8['keyCode']||_0x16f1a8['charCode'];if(_0x84010d===void(-0x76*0x3a+0xf4a*0x1+0xb72*0x1))return;const _0x35d67a=this['toKeyIdent'+'ifier'](_0x84010d);this['_keymap'][_0x35d67a]=!(0x239e+-0x70c+0x1*-0x1c92),this['fire']('keydown',fd(_0x16f1a8)),this['preventDef'+'ault']&&_0x16f1a8['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x16f1a8['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x45bfed){const _0x46d3cc=_0x45bfed['keyCode']||_0x45bfed['charCode'];if(_0x46d3cc===void(0x2a5+-0x869+-0x29*-0x24))return;const _0x177658=this['toKeyIdent'+'ifier'](_0x46d3cc);delete this['_keymap'][_0x177658],this['fire']('keyup',fd(_0x45bfed)),this['preventDef'+'ault']&&_0x45bfed['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x45bfed['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x2257b7){this['fire']('keypress',fd(_0x2257b7)),this['preventDef'+'ault']&&_0x2257b7['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x2257b7['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x16edcf in this['_lastmap'])delete this['_lastmap'][_0x16edcf];for(const _0x4678ab in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x4678ab)&&(this['_lastmap'][_0x4678ab]=this['_keymap'][_0x4678ab]);}['isPressed'](_0x599bbe){const _0x414496=vl(_0x599bbe),_0x53af70=this['toKeyIdent'+'ifier'](_0x414496);return!!this['_keymap'][_0x53af70];}['wasPressed'](_0x202e1d){const _0x3a74af=vl(_0x202e1d),_0x4973c3=this['toKeyIdent'+'ifier'](_0x3a74af);return!!this['_keymap'][_0x4973c3]&&!this['_lastmap'][_0x4973c3];}['wasRelease'+'d'](_0x16e065){const _0x35d161=vl(_0x16e065),_0x33814b=this['toKeyIdent'+'ifier'](_0x35d161);return!this['_keymap'][_0x33814b]&&!!this['_lastmap'][_0x33814b];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x405398,_0x523567){c(this,'x',-0x2677+-0x222d+0x48a4),c(this,'y',-0x1c9c+0x213b+-0x1*0x49f),c(this,'dx',0x2250+0x1a46+0x8d*-0x6e),c(this,'dy',-0x1*-0x1e52+0x428+-0x227a),c(this,'button',Ib),c(this,'wheelDelta',0xee4+0x1507+-0x23eb*0x1),c(this,'element'),c(this,'ctrlKey',!(-0x2610+0x1b05+-0x2c3*-0x4)),c(this,'altKey',!(0x1eae+0x21fc+-0x1*0x40a9)),c(this,'shiftKey',!(-0xbd*0x1b+-0x202a*-0x1+-0x1*0xc3a)),c(this,'metaKey',!(0x169*-0x1+0x1*0xa5+0xc5)),c(this,'event');let _0x5ecf7a={'x':0x0,'y':0x0};if(_0x523567){if(_0x523567 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x5ecf7a=_0x405398['_getTarget'+'Coords'](_0x523567);}else _0x523567={};if(_0x5ecf7a)this['x']=_0x5ecf7a['x'],this['y']=_0x5ecf7a['y'];else{if(Pu())this['x']=0x157f*0x1+0x1cf0*-0x1+0x771,this['y']=0x1f*-0x79+0x1*0x935+0x572;else return;}_0x523567['type']==='wheel'&&(_0x523567['deltaY']>-0x8ed+-0xb3b+0xa*0x204?this['wheelDelta']=0x2666*-0x1+-0x2593+0x4bfa:_0x523567['deltaY']<0xe36+-0x17d9*0x1+-0x9a3*-0x1&&(this['wheelDelta']=-(-0xb69+-0x1322+0x61c*0x5))),Pu()?(this['dx']=_0x523567['movementX']||_0x523567['webkitMove'+'mentX']||_0x523567['mozMovemen'+'tX']||0x61a+-0x1b04+0xa75*0x2,this['dy']=_0x523567['movementY']||_0x523567['webkitMove'+'mentY']||_0x523567['mozMovemen'+'tY']||0x1*0x1999+0xb1f*-0x2+-0x1*0x35b):(this['dx']=this['x']-_0x405398['_lastX'],this['dy']=this['y']-_0x405398['_lastY']),(_0x523567['type']==='mousedown'||_0x523567['type']==='mouseup')&&(this['button']=_0x523567['button']),this['buttons']=_0x405398['_buttons']['slice'](-0x72f*0x1+0xb18+0x4d*-0xd),this['element']=_0x523567['target'],this['ctrlKey']=_0x523567['ctrlKey']??!(0x17d*-0x3+-0x20a4*0x1+-0x17c*-0x19),this['altKey']=_0x523567['altKey']??!(0x26ab*0x1+-0x4a*-0x1+-0x24*0x115),this['shiftKey']=_0x523567['shiftKey']??!(0x1150+0x2*0xeef+-0x2f2d),this['metaKey']=_0x523567['metaKey']??!(0x4c3*0x1+-0xce6+0x412*0x2),this['event']=_0x523567;}}class bl extends ce{constructor(_0x369fcd){super(),c(this,'_lastX',-0x162f+0x167+0x14c8),c(this,'_lastY',-0x3*0x541+-0x22b6+-0x3b*-0xdb),c(this,'_buttons',[!(0x267*-0x5+-0x8f3+0x14f7),!(0x1*0x135d+0x1*-0x1cfa+0x99e),!(-0x2292+-0x2*0x89+0x23a5)]),c(this,'_lastbutto'+'ns',[!(0x1*0x12fd+-0x2683*-0x1+0x397f*-0x1),!(-0x5a*-0xe+-0x2024+0x1b39),!(0x1cee+-0xe07+0x2*-0x773)]),c(this,'_target',null),c(this,'_attached',!(0x2*0x844+-0x222f+0x8*0x235)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x296285=>{_0x296285['preventDef'+'ault']();},this['attach'](_0x369fcd));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x5c1a9e){if(this['_target']=_0x5c1a9e,this['_attached'])return;this['_attached']=!(-0x936+0x1*-0xd9b+-0x213*-0xb);const _0x327342={'passive':!(-0x844+0xe25*0x2+-0x1405)},_0x5192bc=ye['passiveEve'+'nts']?_0x327342:!(-0x1a19+-0x1*0xe96+0x28b0);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x5192bc),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x5192bc),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x5192bc),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x5192bc);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x1781+0x2*0xff3+-0x3766),this['_target']=null;const _0x351552={'passive':!(0x2e*0x8d+0xd15+-0x266a)},_0x25b38a=ye['passiveEve'+'nts']?_0x351552:!(0x20b6+0x36*-0x3b+-0x1443);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x25b38a),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x25b38a),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x25b38a),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x25b38a);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x1541a3,_0x16ce06){if(!document['body']['requestPoi'+'nterLock']){_0x16ce06&&_0x16ce06();return;}const _0x549f16=()=>{_0x1541a3(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x549f16);},_0x11b588=()=>{_0x16ce06(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x11b588);};_0x1541a3&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x549f16,!(-0x26fa+0x177c+0x1*0xf7f)),_0x16ce06&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x11b588,!(-0x65*0x5+0x9*0x41f+-0x231d)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x4f6b80){if(!document['exitPointe'+'rLock'])return;const _0x39fb0a=()=>{_0x4f6b80(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x39fb0a);};_0x4f6b80&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x39fb0a,!(0xde0+0xee3+-0x1cc2)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x1*-0xa60+-0x5*-0x1d5+-0x1*0x1389]=this['_buttons'][0xb92*-0x1+-0x539*0x6+0x8*0x55d],this['_lastbutto'+'ns'][0x1228*-0x1+0x1bdd+0x3*-0x33c]=this['_buttons'][0x1457+-0x23dc+-0x7c3*-0x2],this['_lastbutto'+'ns'][-0xb7a+0x7c3+-0x3b9*-0x1]=this['_buttons'][-0x3*-0x6ad+-0xe78*-0x1+-0x227d];}['isPressed'](_0x2f4803){return this['_buttons'][_0x2f4803];}['wasPressed'](_0x31a73a){return this['_buttons'][_0x31a73a]&&!this['_lastbutto'+'ns'][_0x31a73a];}['wasRelease'+'d'](_0x1f1657){return!this['_buttons'][_0x1f1657]&&this['_lastbutto'+'ns'][_0x1f1657];}['_handleUp'](_0x2d0ab1){this['_buttons'][_0x2d0ab1['button']]=!(-0x4cb+0x12c8+0x37f*-0x4);const _0xfba163=new ta(this,_0x2d0ab1);_0xfba163['event']&&this['fire'](Lm,_0xfba163);}['_handleDow'+'n'](_0x2d3c39){this['_buttons'][_0x2d3c39['button']]=!(0x6de+-0x739*0x4+-0x1*-0x1606);const _0x23efe3=new ta(this,_0x2d3c39);_0x23efe3['event']&&this['fire'](Im,_0x23efe3);}['_handleMov'+'e'](_0x1b192c){const _0xc2e495=new ta(this,_0x1b192c);_0xc2e495['event']&&(this['fire'](Dm,_0xc2e495),this['_lastX']=_0xc2e495['x'],this['_lastY']=_0xc2e495['y']);}['_handleWhe'+'el'](_0xa64b2e){const _0x285e96=new ta(this,_0xa64b2e);_0x285e96['event']&&this['fire'](Mu,_0x285e96);}['_getTarget'+'Coords'](_0x28dfde){const _0x4f4cab=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x986a40=Math['floor'](_0x4f4cab['left']),_0x16d25f=Math['floor'](_0x4f4cab['top']);return _0x28dfde['clientX']<_0x986a40||_0x28dfde['clientX']>=_0x986a40+this['_target']['clientWidt'+'h']||_0x28dfde['clientY']<_0x16d25f||_0x28dfde['clientY']>=_0x16d25f+this['_target']['clientHeig'+'ht']?null:{'x':_0x28dfde['clientX']-_0x986a40,'y':_0x28dfde['clientY']-_0x16d25f};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x8fcfdc,_0x42714c,_0x88c13b){return typeof _0x42714c=='function'&&(_0x88c13b=_0x42714c,_0x42714c={}),this['request']('GET',_0x8fcfdc,_0x42714c,_0x88c13b);}['post'](_0x13aaba,_0x55655f,_0x5b50e2,_0x2db448){return typeof _0x5b50e2=='function'&&(_0x2db448=_0x5b50e2,_0x5b50e2={}),_0x5b50e2['postdata']=_0x55655f,this['request']('POST',_0x13aaba,_0x5b50e2,_0x2db448);}['put'](_0xddae82,_0x8cf45e,_0x40e5b9,_0x2a6b20){return typeof _0x40e5b9=='function'&&(_0x2a6b20=_0x40e5b9,_0x40e5b9={}),_0x40e5b9['postdata']=_0x8cf45e,this['request']('PUT',_0xddae82,_0x40e5b9,_0x2a6b20);}['del'](_0x28275d,_0x52fec9,_0x58a6e8){return typeof _0x52fec9=='function'&&(_0x58a6e8=_0x52fec9,_0x52fec9={}),this['request']('DELETE',_0x28275d,_0x52fec9,_0x58a6e8);}['request'](_0x1c22d1,_0x174f44,_0x31aff2,_0x2ef597){let _0x38fbf6,_0x546b5b,_0x1de487,_0x3d8d5b=!(-0x21c6+-0x133*-0x1b+-0x1*-0x166);if(typeof _0x31aff2=='function'&&(_0x2ef597=_0x31aff2,_0x31aff2={}),_0x31aff2['retry']&&(_0x31aff2=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x31aff2)),_0x31aff2['callback']=_0x2ef597,_0x31aff2['async']==null&&(_0x31aff2['async']=!(0xe12*-0x1+-0x16dd+0x24ef)),_0x31aff2['headers']==null&&(_0x31aff2['headers']={}),_0x31aff2['postdata']!=null){if(_0x31aff2['postdata']instanceof Document)_0x1de487=_0x31aff2['postdata'];else{if(_0x31aff2['postdata']instanceof FormData)_0x1de487=_0x31aff2['postdata'];else{if(_0x31aff2['postdata']instanceof Object){let _0xd02559=_0x31aff2['headers']['Content-Ty'+'pe'];switch(_0xd02559===void(0x1c6e+0x93d*-0x2+-0x9f4)&&(_0x31aff2['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0xd02559=_0x31aff2['headers']['Content-Ty'+'pe']),_0xd02559){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x1de487='';let _0x2fbf28=!(-0x302+0xcfb+-0x9f9);for(const _0x317a6d in _0x31aff2['postdata'])if(_0x31aff2['postdata']['hasOwnProp'+'erty'](_0x317a6d)){_0x2fbf28?_0x2fbf28=!(-0x110d+-0x9*0x26a+0x4*0x9b2):_0x1de487+='&';const _0x465ada=encodeURIComponent(_0x317a6d),_0x59e5c9=encodeURIComponent(_0x31aff2['postdata'][_0x317a6d]);_0x1de487+=_0x465ada+'='+_0x59e5c9;}break;}default:case be['ContentTyp'+'e']['JSON']:_0xd02559==null&&(_0x31aff2['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x1de487=JSON['stringify'](_0x31aff2['postdata']);break;}}else _0x1de487=_0x31aff2['postdata'];}}}if(_0x31aff2['cache']===!(0x24c9+0x1e99+-0x4361*0x1)){const _0x3254df=ne();_0x38fbf6=new sd(_0x174f44),_0x38fbf6['query']?_0x38fbf6['query']=_0x38fbf6['query']+'&ts='+_0x3254df:_0x38fbf6['query']='ts='+_0x3254df,_0x174f44=_0x38fbf6['toString']();}_0x31aff2['query']&&(_0x38fbf6=new sd(_0x174f44),_0x546b5b=vh(_0x38fbf6['getQuery'](),_0x31aff2['query']),_0x38fbf6['setQuery'](_0x546b5b),_0x174f44=_0x38fbf6['toString']());const _0x36a59f=new XMLHttpRequest();_0x36a59f['open'](_0x1c22d1,_0x174f44,_0x31aff2['async']),_0x36a59f['withCreden'+'tials']=_0x31aff2['withCreden'+'tials']!==void(-0x1b2f+0x394*0x1+0x179b)?_0x31aff2['withCreden'+'tials']:!(0x4f7+-0x1622+0x112c),_0x36a59f['responseTy'+'pe']=_0x31aff2['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x174f44);for(const _0x28ff47 in _0x31aff2['headers'])_0x31aff2['headers']['hasOwnProp'+'erty'](_0x28ff47)&&_0x36a59f['setRequest'+'Header'](_0x28ff47,_0x31aff2['headers'][_0x28ff47]);_0x36a59f['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x1c22d1,_0x174f44,_0x31aff2,_0x36a59f);},_0x36a59f['onerror']=()=>{this['_onError'](_0x1c22d1,_0x174f44,_0x31aff2,_0x36a59f),_0x3d8d5b=!(-0x8bd+-0x3*0xa39+-0x9da*-0x4);};try{_0x36a59f['send'](_0x1de487);}catch(_0x4bf7c6){_0x3d8d5b||_0x31aff2['error'](_0x36a59f['status'],_0x36a59f,_0x4bf7c6);}return _0x36a59f;}['_guessResp'+'onseType'](_0x1b9675){const _0x3be56b=new sd(_0x1b9675),_0x2f2a39=fe['getExtensi'+'on'](_0x3be56b['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x2f2a39)>=-0x1963+0x216b+-0x8*0x101?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x2f2a39==='.json'?be['ResponseTy'+'pe']['JSON']:_0x2f2a39==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x442a99){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x442a99)>=0x10f5+-0x4*-0x90e+-0x352d;}['_isBinaryR'+'esponseTyp'+'e'](_0x17340a){return _0x17340a===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x17340a===be['ResponseTy'+'pe']['BLOB']||_0x17340a===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5a30fb,_0x352705,_0x4177fe,_0x18f86e){if(_0x18f86e['readyState']===0x1236+-0x1e29*0x1+0xbf7)switch(_0x18f86e['status']){case-0x3*0xfa+-0x1*0x2689+0x5*0x84b:{_0x18f86e['responseUR'+'L']&&_0x18f86e['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5a30fb,_0x352705,_0x4177fe,_0x18f86e):this['_onError'](_0x5a30fb,_0x352705,_0x4177fe,_0x18f86e);break;}case 0x14b1+-0x1a5a+-0x671*-0x1:case-0x55d*-0x1+-0x16ab+0x1217:case 0x1166+-0x238d*0x1+-0x1*-0x12f5:case-0x10ba+-0x4*0x5ab+-0x2896*-0x1:{this['_onSuccess'](_0x5a30fb,_0x352705,_0x4177fe,_0x18f86e);break;}default:{this['_onError'](_0x5a30fb,_0x352705,_0x4177fe,_0x18f86e);break;}}}['_onSuccess'](_0x542bde,_0x1b7cad,_0x4ed02d,_0x3e0ccd){let _0x7371a8,_0x8e8eb8;const _0x411c3e=_0x3e0ccd['getRespons'+'eHeader']('Content-Ty'+'pe');_0x411c3e&&(_0x8e8eb8=_0x411c3e['split'](';')[0x1711*-0x1+0x1*0x1f5d+-0x84c]['trim']());try{this['_isBinaryC'+'ontentType'](_0x8e8eb8)||this['_isBinaryR'+'esponseTyp'+'e'](_0x3e0ccd['responseTy'+'pe'])?_0x7371a8=_0x3e0ccd['response']:_0x8e8eb8===be['ContentTyp'+'e']['JSON']||_0x1b7cad['split']('?')[-0x1601+-0x1b*-0x83+0x20c*0x4]['endsWith']('.json')?_0x7371a8=JSON['parse'](_0x3e0ccd['responseTe'+'xt']):_0x3e0ccd['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x8e8eb8===be['ContentTyp'+'e']['XML']?_0x7371a8=_0x3e0ccd['responseXM'+'L']:_0x7371a8=_0x3e0ccd['responseTe'+'xt'],_0x4ed02d['callback'](null,_0x7371a8);}catch(_0x2c91bc){_0x4ed02d['callback'](_0x2c91bc);}}['_onError'](_0x2eb7cb,_0x453131,_0xb69c61,_0x29b6c5){if(!_0xb69c61['retrying']){if(_0xb69c61['retry']&&_0xb69c61['retries']<_0xb69c61['maxRetries']){_0xb69c61['retries']++,_0xb69c61['retrying']=!(0x76d+-0x1*0xa31+0xec*0x3);const _0x5c8bde=N['clamp'](Math['pow'](-0xd*-0x81+-0x2708+-0x207d*-0x1,_0xb69c61['retries'])*be['retryDelay'],0xf85+-0x3e*0x19+-0x977,_0xb69c61['maxRetryDe'+'lay']||-0x4d7*0x3+0x17*0x8b+-0x14*-0x114);console['log'](_0x2eb7cb+':\x20'+_0x453131+'\x20-\x20Error\x20'+_0x29b6c5['status']+('.\x20Retrying'+'\x20in\x20')+_0x5c8bde+'\x20ms'),setTimeout(()=>{_0xb69c61['retrying']=!(-0x591+-0x2463+0x29f5),this['request'](_0x2eb7cb,_0x453131,_0xb69c61,_0xb69c61['callback']);},_0x5c8bde);}else _0xb69c61['callback'](_0x29b6c5['status']===0x2190+0x220a+-0x439a?'Network\x20er'+'ror':_0x29b6c5['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0x14f*0x9+-0x2f7+-0x86c);let ls=be;const $e=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x18489f,_0x532bdc,_0x1bdd3c={}){if(this['volume']=_0x1bdd3c['volume']??0x26f6+-0x1b*-0xd+-0x2854,this['loop']=_0x1bdd3c['loop']??!(-0x2f9*0x4+0x1c9c+-0x10b7),this['pitch']=_0x1bdd3c['pitch']??-0x8*0x2b+0x11dc+-0x1*0x1083,this['sound']=_0x532bdc,this['paused']=!(-0x26dd*0x1+0xb7a+0x1b64),this['suspended']=!(-0x18b*-0x1+-0xdc6+0xc3c),this['manager']=_0x18489f,this['source']=null,Li()){this['startTime']=-0x4cf*0x1+0xef7+-0xa28,this['startOffse'+'t']=-0x1f21+-0x2*0xb14+0x3549;const _0x55e927=_0x18489f['context'];this['gain']=_0x55e927['createGain']();}else _0x532bdc['audio']&&(this['source']=_0x532bdc['audio']['cloneNode'](!(-0x1c67+0x1bc*0xa+-0x162*-0x8)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x30f880){this['loop']=_0x30f880,this['source']&&(this['source']['loop']=_0x30f880);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x1575+-0x1*-0x371+-0xc73*0x2),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(0x1*-0x1a1e+0x2503+0x2b9*-0x4),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x146f+-0x131b+-0x154,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(0x1577+-0x11de+-0x399),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x2411+0x1e5f*-0x1+-0xa2*0x9),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x765*0x2+-0x1ac9+0x53*0x25,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(-0x211*-0xa+-0x1e20+0x977));}['stop'](){this['source']&&(this['source']['stop'](0x16*-0x90+-0xef1+0x7*0x3e7),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x2b1ef2){_0x2b1ef2=N['clamp'](_0x2b1ef2,0xa26+-0x1*0x1f5b+0x1535,-0x125*-0x19+0x121f+-0x2ebb*0x1),this['volume']=_0x2b1ef2,this['gain']&&(this['gain']['gain']['value']=_0x2b1ef2*this['manager']['volume']);}['setPitch'](_0x1f04c9){this['pitch']=_0x1f04c9,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x1f04c9);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x1e70+0x13*-0x1c5+0x400f;}['_createSou'+'rce'](){const _0x324373=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x324373['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x324373['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x4e0*0x4+0x1276+0x10b*0x1),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(0x1fa7+0x9e3+-0x199*0x1a),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0xbd0+0x119*0x1+0xab8),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x423a42){_0x423a42=N['clamp'](_0x423a42,-0x891+0x18b*-0x15+0x28f8,0x1f99+-0x20a9+0x111),this['volume']=_0x423a42,this['source']&&(this['source']['volume']=_0x423a42*this['manager']['volume']);},'setPitch':function(_0x469d06){this['pitch']=_0x469d06,this['source']&&(this['source']['playbackRa'+'te']=_0x469d06);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x17*0x8c+0x1002+0x2*-0x1b7;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=-0x3*0xf80+-0x2107+0x7697;class Ru extends kh{constructor(_0x3d85a7,_0x2084e4,_0x12a1f8){super(_0x3d85a7,_0x2084e4,_0x12a1f8),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x3d85a7['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x174*0x18+0x353+0x1f8e,this['rollOffFac'+'tor']=-0x1e71+-0x26*-0x5c+0x10ca*0x1,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x38b321){this['position']['copy'](_0x38b321);const _0x14ae94=this['panner'];'positionX'in _0x14ae94?(_0x14ae94['positionX']['value']=_0x38b321['x'],_0x14ae94['positionY']['value']=_0x38b321['y'],_0x14ae94['positionZ']['value']=_0x38b321['z']):_0x14ae94['setPositio'+'n']&&_0x14ae94['setPositio'+'n'](_0x38b321['x'],_0x38b321['y'],_0x38b321['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x3591da){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x3591da);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x182780){this['panner']['maxDistanc'+'e']=_0x182780;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x5208ac){this['panner']['refDistanc'+'e']=_0x5208ac;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x17ad31){this['panner']['rolloffFac'+'tor']=_0x17ad31;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x4a9fb7){this['panner']['distanceMo'+'del']=_0x4a9fb7;}['_createSou'+'rce'](){const _0x5c90a5=this['manager']['context'];this['source']=_0x5c90a5['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x5c90a5['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x425de6,_0x43e432,_0x2e6d03,_0x249052,_0x4f6a8f,_0x566d64){l=l['sub2'](_0x425de6,_0x43e432);const _0x52d540=l['length']();if(_0x52d540<_0x2e6d03)return 0x1feb*-0x1+0x1f2d+0xbf;if(_0x52d540>_0x249052)return 0xc80+0x1d3c+-0x29bc;let _0x38fa34=0x17e*-0xb+0x13e3+-0x379;return _0x566d64===cc?_0x38fa34=-0x3*0x90f+-0x5*0x3d+0x1c5f-_0x4f6a8f*(_0x52d540-_0x2e6d03)/(_0x249052-_0x2e6d03):_0x566d64===Ff?_0x38fa34=_0x2e6d03/(_0x2e6d03+_0x4f6a8f*(_0x52d540-_0x2e6d03)):_0x566d64===cy&&(_0x38fa34=Math['pow'](_0x52d540/_0x2e6d03,-_0x4f6a8f)),N['clamp'](_0x38fa34,-0x71c+-0x2*-0x7f5+-0x8ce,0x15f+-0x7f+-0xdf);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x30f85c){if(this['position']['copy'](_0x30f85c),this['source']){const _0x3f218f=this['manager']['listener']['getPositio'+'n'](),_0x55e4f2=t(_0x3f218f,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x18509f=this['getVolume']();this['source']['volume']=_0x18509f*_0x55e4f2;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x15277a){this['maxDistanc'+'e']=_0x15277a;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x1de0fd){this['minDistanc'+'e']=_0x1de0fd;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x5994c5){this['rollOffFac'+'tor']=_0x5994c5;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x403bcf){this['distanceMo'+'del']=_0x403bcf;}});}class Ob{constructor(_0x400e66){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x400e66;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0xbbba74){this['position']['copy'](_0xbbba74);const _0x49855a=this['listener'];_0x49855a&&('positionX'in _0x49855a?(_0x49855a['positionX']['value']=_0xbbba74['x'],_0x49855a['positionY']['value']=_0xbbba74['y'],_0x49855a['positionZ']['value']=_0xbbba74['z']):_0x49855a['setPositio'+'n']&&_0x49855a['setPositio'+'n'](_0xbbba74['x'],_0xbbba74['y'],_0xbbba74['z']));}['setOrienta'+'tion'](_0x37a864){this['orientatio'+'n']['copy'](_0x37a864);const _0x10a36e=this['listener'];if(_0x10a36e){const _0xfa38d6=_0x37a864['data'];'forwardX'in _0x10a36e?(_0x10a36e['forwardX']['value']=-_0xfa38d6[0x41*0x3+0x22c*0x3+0x73f*-0x1],_0x10a36e['forwardY']['value']=-_0xfa38d6[0x2345+-0x22ce+-0xb*0xa],_0x10a36e['forwardZ']['value']=-_0xfa38d6[-0x23d8+0xf0b+0x14d7],_0x10a36e['upX']['value']=_0xfa38d6[-0x7a6+0xc7*0x27+-0x16a7],_0x10a36e['upY']['value']=_0xfa38d6[0xfae+0x1*-0x18c1+0x918],_0x10a36e['upZ']['value']=_0xfa38d6[0x1ff9+0xf65+-0x2f58]):_0x10a36e['setOrienta'+'tion']&&_0x10a36e['setOrienta'+'tion'](-_0xfa38d6[-0x2*0x124e+0x1899+0x1*0xc0b],-_0xfa38d6[-0x18d7*0x1+0x2477+0x17*-0x81],-_0xfa38d6[-0x71*-0x4+-0x1cc2*0x1+-0x28*-0xad],_0xfa38d6[0x2387*-0x1+0x1118+0x1273],_0xfa38d6[-0x141*0x1c+0x1341*-0x1+0x3662],_0xfa38d6[0x2070+0x1d99*0x1+-0x3e03]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x5aa01a=this['_manager']['context'];return _0x5aa01a?_0x5aa01a['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0xaf4+0x12c+0x9c9),this['listener']=new Ob(this),this['_volume']=0x394+0x13*0x3a+-0x7e1;}set['volume'](_0x5ca42f){_0x5ca42f=N['clamp'](_0x5ca42f,0x2f*0xa9+0xf66+-0x5*0x949,0x14d2+-0x22ee+0xe1d),this['_volume']=_0x5ca42f,this['fire']('volumechan'+'ge',_0x5ca42f);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x265b+0x66*-0x5b+0x4a9d),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x1126+-0x1b27*-0x1+-0xa00),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x33bd0a;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x33bd0a=this['_context'])==null||_0x33bd0a['close'](),this['_context']=null);}['playSound'](_0x4759fc,_0x4d41b4={}){let _0x1f9a90=null;return kh&&(_0x1f9a90=new kh(this,_0x4759fc,_0x4d41b4),_0x1f9a90['play']()),_0x1f9a90;}['playSound3'+'d'](_0x2530fd,_0x17bc7f,_0x4b24c0={}){let _0x2ed436=null;return Ru&&(_0x2ed436=new Ru(this,_0x2530fd,_0x4b24c0),_0x2ed436['setPositio'+'n'](_0x17bc7f),_0x4b24c0['volume']&&_0x2ed436['setVolume'](_0x4b24c0['volume']),_0x4b24c0['loop']&&_0x2ed436['setLoop'](_0x4b24c0['loop']),_0x4b24c0['maxDistanc'+'e']&&_0x2ed436['setMaxDist'+'ance'](_0x4b24c0['maxDistanc'+'e']),_0x4b24c0['minDistanc'+'e']&&_0x2ed436['setMinDist'+'ance'](_0x4b24c0['minDistanc'+'e']),_0x4b24c0['rollOffFac'+'tor']&&_0x2ed436['setRollOff'+'Factor'](_0x4b24c0['rollOffFac'+'tor']),_0x4b24c0['distanceMo'+'del']&&_0x2ed436['setDistanc'+'eModel'](_0x4b24c0['distanceMo'+'del']),_0x2ed436['play']()),_0x2ed436;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x5da513=this['_context']['createBuff'+'erSource']();_0x5da513['buffer']=this['_context']['createBuff'+'er'](-0x1*0xd48+0x3b*0xd+0xa4a,-0x3*0xa9a+0x411*-0x1+-0x8f8*-0x4,this['_context']['sampleRate']),_0x5da513['connect'](this['_context']['destinatio'+'n']),_0x5da513['start'](-0x3*0x2c3+0x1*-0xb5d+0x13a6),_0x5da513['onended']=_0x98892f=>{_0x5da513['disconnect'](-0x93*-0xc+0x1fc8+-0x26ac),this['fire']('resume');};},_0x1bcf25=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x1bcf25);})['catch'](_0x2bbfbf=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x2bbfbf);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x30550d=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x30550d);})['catch'](_0xee8eef=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0xee8eef);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x55d156=>{window['addEventLi'+'stener'](_0x55d156,this['_unlockHan'+'dlerFunc'],!(0x47*-0x7f+-0x16d5+0x59*0xa7));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x49aa98=>{window['removeEven'+'tListener'](_0x49aa98,this['_unlockHan'+'dlerFunc'],!(0xc7+0xe59*0x1+0x7*-0x229));});}}class Bb{constructor(_0x1ba91c){c(this,'audio'),c(this,'buffer'),_0x1ba91c instanceof Audio?this['audio']=_0x1ba91c:this['buffer']=_0x1ba91c;}get['duration'](){let _0x50722d=-0x3c4+-0x1d94+-0x42b*-0x8;return this['buffer']?_0x50722d=this['buffer']['duration']:this['audio']&&(_0x50722d=this['audio']['duration']),_0x50722d||-0x7*0x4ac+0x6*0x499+0x1*0x51e;}}const Pt=0x1afa+-0x2e*-0x52+-0x119*0x26,sa=-0xcad*0x1+0xb7f+0x12f,ws=0x4e8*0x1+0xae5*0x1+-0x137*0xd;function Rt(_0x173513,_0x58543d){return _0x173513%_0x58543d||0x5a4+0x4*0x6e0+0xca*-0x2a;}class ss extends ce{constructor(_0x4893c7,_0x591e12,_0x1af642){super(),c(this,'source',null),(this['_manager']=_0x4893c7,this['_volume']=_0x1af642['volume']!==void(0xb3e+0x13*0x1bb+0xfb*-0x2d)?N['clamp'](Number(_0x1af642['volume'])||0x1*0x1bc4+-0x12f3*-0x2+0xa*-0x691,0x2163+0xa*-0x29f+0x1*-0x72d,0x4a*0x4b+0x355*-0x7+-0x1a6*-0x1):0x15*-0x19+0xf*-0x81+0x99d*0x1,this['_pitch']=_0x1af642['pitch']!==void(-0x8f3+0x1176+-0x1*0x883)?Math['max'](0x18*-0x168+-0xb01*-0x2+0xbbe+0.01,Number(_0x1af642['pitch'])||0x2448+0xc26*0x2+0x1*-0x3c94):-0xf46+0xf6f+-0x2*0x14,this['_loop']=!!(_0x1af642['loop']!==void(-0x395*0x7+0x1d38+-0x1*0x425)&&_0x1af642['loop']),this['_sound']=_0x591e12,this['_state']=ws,this['_suspended']=!(-0x2424+0x1*0x220c+-0x1*-0x219),this['_suspendEn'+'dEvent']=0x152e+-0x23c6+0xe98,this['_suspendIn'+'stanceEven'+'ts']=!(-0x1*0x15dd+0x16a7+0x43*-0x3),this['_playWhenL'+'oaded']=!(-0x10b3+-0x1127+-0x10ed*-0x2),this['_startTime']=Math['max'](-0x2411+0x6*-0x417+-0x217*-0x1d,Number(_0x1af642['startTime'])||-0x21ce+0x1*0xc1e+0x15b*0x10),this['_duration']=Math['max'](0x665*0x2+0x13e*0x8+-0x16ba,Number(_0x1af642['duration'])||-0xc1*0xb+0x26cf+-0x3*0xa2c),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x1af642['onPlay'],this['_onPauseCa'+'llback']=_0x1af642['onPause'],this['_onResumeC'+'allback']=_0x1af642['onResume'],this['_onStopCal'+'lback']=_0x1af642['onStop'],this['_onEndCall'+'back']=_0x1af642['onEnd'],Li()?(this['_startedAt']=-0x24df+-0x1*0x1a02+0x3ee1,this['_currentTi'+'me']=-0x81b+-0x1*-0x2559+-0x1d3e,this['_currentOf'+'fset']=-0x21*-0xb7+0x1*0x11c5+-0x295c,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x18bb+-0x18c1+0x7),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x36+-0xefe+0x5*0x2f5),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x21c068){if(!(_0x21c068<0x22d9+0x12af*-0x1+0x1*-0x102a)){if(this['_state']===Pt){const _0x4c13dc=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x856*0x1+0x17e5+-0xf8f),this['stop'](),this['_startOffs'+'et']=_0x21c068,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x4c13dc;}else this['_startOffs'+'et']=_0x21c068,this['_currentTi'+'me']=_0x21c068;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0x403*-0x2+0x3d4+-0xbda:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x5d300e){this['_duration']=Math['max'](-0x9f6+0x32*0x89+-0x10cc,Number(_0x5d300e)||0x1*-0x1139+-0x13*0x15a+0x2ae7);const _0xce0d42=this['_state']===Pt;this['stop'](),_0xce0d42&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x48b*-0x5+0x16cf*0x1+-0x2*0xc;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x370495){this['_loop']=!!_0x370495,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x205bda){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x205bda)||0x277*-0x7+0xfc8+-0x1*-0x179,-0x718+0x1088+-0x970+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x3f037c){this['_sound']=_0x3f037c,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x4e3609){this['_startTime']=Math['max'](0x1*-0x1ded+0x338*0xb+-0x57b,Number(_0x4e3609)||-0x1400+0x503+0x3*0x4ff);const _0x1b94fe=this['_state']===Pt;this['stop'](),_0x1b94fe&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x24157c){_0x24157c=N['clamp'](_0x24157c,-0x462+-0x20b4+-0x2f*-0xca,0x25c0+-0x9*0x4e+0x135*-0x1d),this['_volume']=_0x24157c,this['gain']&&(this['gain']['gain']['value']=_0x24157c*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0xa7b+-0x1*0x1e57+0x13dc){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(0xcd1+-0x13d2+0x701),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x428*-0x8+0xd75+0x13cc),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0xa*0x30c+0x1662+-0x34d9),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x1681+-0x257+0x18d9*0x1):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x79d*-0x1+0x2b*0xdd+-0x1d82),!(-0x1*0x1233+0x5*-0x27f+-0x5*-0x623)):(this['_playAudio'+'Immediate'](),!(0x123*-0x5+0x3*-0x65+0x2*0x36f));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0xfca*0x1+-0x1fe0+0x1017),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x32ebe2=Rt(this['_startOffs'+'et'],this['duration']);_0x32ebe2=Rt(this['_startTime']+_0x32ebe2,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x28a+-0x24e+-0x5*0xc,_0x32ebe2,this['_duration']):this['source']['start'](-0xe2f*-0x1+0x2*-0x11a4+-0x1eb*-0xb,_0x32ebe2),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x24c4*-0x1+0xd3f*-0x1+-0x1785*0x1,this['_currentOf'+'fset']=_0x32ebe2,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x937*-0x1+0x20ef*-0x1+0x2a27),this['_state']!==Pt?!(-0x2*0x35+0x2a4*-0x8+0x158b*0x1):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x7*0x4de+-0x15ee+-0xc24),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x1f8a+0xb4*-0x7+-0x1a9e));}['resume'](){if(this['_state']!==sa)return!(0x8*0xea+-0x42b*-0x3+-0x13d0);let _0x5244af=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x5244af=Rt(this['_startOffs'+'et'],this['duration']),_0x5244af=Rt(this['_startTime']+_0x5244af,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x20f+0x201e+0x87*-0x39,_0x5244af,this['_duration']):this['source']['start'](0xb6a+0x2*0x303+-0x1170,_0x5244af),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x5244af,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x5*-0x1b3+-0x1*0x21dd+0x195f),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x19d*0xd+-0x1238+0x2731);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x935+0x2499+-0x1b63),this['_state']===ws)return!(0x1*-0xa38+-0x35e*-0x9+-0x1415);const _0x3f116c=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1883+0x1912*-0x1+0x1087*0x3,this['_currentTi'+'me']=0x22*-0x41+0x187+0x71b*0x1,this['_currentOf'+'fset']=0x98f+0x11da*0x1+-0x1b69,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x3f116c&&this['source']&&this['source']['stop'](-0x17e*-0xb+0x10f2+-0x215c),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x1bf5+0x1f04+0x1*-0x3af9);}['setExterna'+'lNodes'](_0x357d4e,_0x55066a){if(!_0x357d4e){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x55066a||(_0x55066a=_0x357d4e);const _0x24a321=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x357d4e&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x24a321),this['_firstNode']=_0x357d4e,this['_connector'+'Node']['connect'](_0x357d4e)),this['_lastNode']!==_0x55066a&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x24a321),this['_lastNode']=_0x55066a,this['_lastNode']['connect'](_0x24a321));}['clearExter'+'nalNodes'](){const _0x1cb072=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x1cb072),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x1cb072);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x55a8e2=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x55a8e2['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0x1d48*-0x1+-0x1ae*-0x1+-0xdcd*-0x2),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x1766+0xc*-0x1f5+0x1*0x17):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x2*-0x473+-0x208d+-0x8*-0x2f5),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x7d0+0x6*0x563+-0x2822));},'pause':function(){return!this['source']||this['_state']!==Pt?!(0x21b+0x1*0x1e3f+-0x2059):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x167*0x18+-0x34c*0x6+-0x35*0x43),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x4d4+0x1c*0x1+0x4f*-0x10));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x76b*-0x2+-0xd19+-0x2*-0xdf8):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x596*-0x4+0x58b+0x10ce),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x3*-0x5f3+-0x1f*0x9e+0x149));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x86b*-0x1+-0x818*-0x4+-0x28ca):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0xdf6+-0x226a+0x5*0x9ad),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x1876+-0x22*0x89+-0x644));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x8a4+-0xa7*-0x21+-0xce3);let _0x251031=Rt(this['_startOffs'+'et'],this['duration']);_0x251031=Rt(this['_startTime']+_0x251031,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x251031;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0xe2b+-0x1ff1+-0x25*-0x7b),this['source']=this['_sound']['audio']['cloneNode'](!(-0x1*0x8b+0x957+0x8cc*-0x1)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x5adc5a){_0x5adc5a=N['clamp'](_0x5adc5a,-0x528+0x1042+0x2*-0x58d,-0x19fe+-0x182f+0x322e),this['_volume']=_0x5adc5a,this['source']&&(this['source']['volume']=_0x5adc5a*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x19294b){this['_pitch']=Math['max'](Number(_0x19294b)||-0x1*-0x2cf+-0xad*-0x1+-0x37c,0x13*0x109+-0x3a8*-0x9+-0x3493+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x142be3){this['stop'](),this['_sound']=_0x142be3;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?-0x1597+0x1733+-0x19c:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x7df334){_0x7df334<0x256b+0x2586+-0x4af1||(this['_startOffs'+'et']=_0x7df334,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x7df334,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=-0xe*0x4e4+-0x23e5+-0x2fcf*-0x3;class jn extends ss{constructor(_0x3a62ef,_0x109c20,_0x18d555={}){super(_0x3a62ef,_0x109c20,_0x18d555),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x18d555['position']&&(this['position']=_0x18d555['position']),this['maxDistanc'+'e']=_0x18d555['maxDistanc'+'e']!==void(0x96*-0x10+0xd85+-0x425)?Number(_0x18d555['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x18d555['refDistanc'+'e']!==void(-0x1b74+-0x2f6*0x3+0x122b*0x2)?Number(_0x18d555['refDistanc'+'e']):-0x1337+-0x1*-0x1b7d+-0x845,this['rollOffFac'+'tor']=_0x18d555['rollOffFac'+'tor']!==void(0xc1a+0xe68+0x4e*-0x57)?Number(_0x18d555['rollOffFac'+'tor']):-0xebf+0x4d6*-0x1+0x1396,this['distanceMo'+'del']=_0x18d555['distanceMo'+'del']!==void(0x1f7c+0x5*-0x5a7+-0x5*0xa5)?_0x18d555['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x4867ef){this['_position']['copy'](_0x4867ef);const _0xa60a7d=this['panner'];'positionX'in _0xa60a7d?(_0xa60a7d['positionX']['value']=_0x4867ef['x'],_0xa60a7d['positionY']['value']=_0x4867ef['y'],_0xa60a7d['positionZ']['value']=_0x4867ef['z']):_0xa60a7d['setPositio'+'n']&&_0xa60a7d['setPositio'+'n'](_0x4867ef['x'],_0x4867ef['y'],_0x4867ef['z']);}get['position'](){return this['_position'];}set['velocity'](_0x3f3495){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x3f3495);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x81f112){this['panner']['maxDistanc'+'e']=_0x81f112;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x1035c4){this['panner']['refDistanc'+'e']=_0x1035c4;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x5d288d){this['panner']['rolloffFac'+'tor']=_0x5d288d;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x124233){this['panner']['distanceMo'+'del']=_0x124233;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x121151,_0x263661,_0x2ed154,_0x4c3312,_0x548d60,_0x4f9c0e){l=l['sub2'](_0x121151,_0x263661);const _0x8384bd=l['length']();if(_0x8384bd<_0x2ed154)return 0xff1+-0x1*0x8c1+-0x1*0x72f;if(_0x8384bd>_0x4c3312)return 0x2042+0x497+-0x24d9;let _0x5a675b=-0x25*0xd9+0x2fa*0x4+-0x1375*-0x1;return _0x4f9c0e===cc?_0x5a675b=-0x15c2*0x1+0x1f93+-0x9d0-_0x548d60*(_0x8384bd-_0x2ed154)/(_0x4c3312-_0x2ed154):_0x4f9c0e===Ff?_0x5a675b=_0x2ed154/(_0x2ed154+_0x548d60*(_0x8384bd-_0x2ed154)):_0x4f9c0e===cy&&(_0x5a675b=Math['pow'](_0x8384bd/_0x2ed154,-_0x548d60)),N['clamp'](_0x5a675b,0xa*0x232+-0x7d*-0x14+0x74*-0x46,-0x67*-0x49+0x1*-0x887+-0x61*0x37);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x5a6cb9){if(this['_position']['copy'](_0x5a6cb9),this['source']){const _0x55dbfa=this['_manager']['listener']['getPositio'+'n'](),_0x55c1c0=t(_0x55dbfa,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x4b3054=this['volume'];this['source']['volume']=_0x4b3054*_0x55c1c0*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x3d978f){this['_maxDistan'+'ce']=_0x3d978f;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x255541){this['_refDistan'+'ce']=_0x255541;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x2d106e){this['_rollOffFa'+'ctor']=_0x2d106e;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x5eae64){this['_distanceM'+'odel']=_0x5eae64;}});}const n0=-0x1a14+-0x42d*0x4+-0x4a*-0x94,yp=-0x20*-0x2+0x374*-0xa+-0x43*-0x83,Kt=-0x56*0x24+0x15d8+0x3a*-0x2b,is=0x7e7+0x124*-0x19+0x160*0xf,hr=-0xd22+-0x1582*0x1+0x22a8,xp=-0x22bd+0x19*0x77+0x1723,Hc=0x56*0x37+-0x10f6+0xbf*-0x2,a0=0x3c7*-0x1+0x76f*-0x4+-0x1dd*-0x12,o0=-0x910*-0x4+-0x1*0x123e+-0x11fa,l0=0x189d+-0x6af+-0x11e5,h0=-0x3f3*0x6+0xcb9+-0xb03*-0x1,Fa='none',zb='linear',Sp=0x1ea1*0x1+0x1223*-0x2+-0x5a7*-0x1,Ub=0xa8a+0x1*0xd25+-0x17af,Vb=0x3d*-0x17+-0x1168+0x16e5,c0=0x58c*-0x2+0xd3c+0xd*-0x29,Fi=-0x9d0*-0x1+0x377*-0x8+0x8f4*0x2,Xt=0x4b1+0x1*-0xf83+0xad3*0x1,vp=0xf*0x293+-0x1e0d*-0x1+0xa9*-0x68,bp=0x12bb*-0x1+-0xe*0x10d+-0x4*-0x85d,tl=-0x17ac+-0xb3f+0x22ef,oe=0xe2e+-0x222f+0x1401,Pe=0x21f5+-0x1300*-0x1+0x34f4*-0x1,Re=-0x2bd*-0xe+0x6cf+0x5*-0x907,yt=0x7f3+0xa43+-0x1236,Gb=0x4a9*-0x3+-0x1b76+0x1*0x2972,Hb=-0x1*-0x4bd+0x1d22+-0x1*0x21dd,Wb=-0x2519+-0xb49+-0x1*-0x3065,wp=0x1bbe+-0x1e1b+-0x25d*-0x1,$b=0x1ee5+0x1128+-0x300c,Dt=-0xda3*0x2+-0x1de+0xa*0x2ea,Hr=-0x1*0x1fec+0x1*-0x26ef+0x46dd*0x1,Wr=0x1*0xf05+0x48+-0xf4a,lh=-0x242b+-0x166b*0x1+-0x1a*-0x241,Bh=0x2*-0x11ea+-0xce6+-0x1*-0x30bf,Ts=0x1*-0x5a+0x9c*0x2b+-0x6*0x44e,Nh=0x5c1+0x19*0x37+0xb19*-0x1,zh=0x7*-0x3c1+-0xc4a+0xf1*0x29,Iu=0x52c*0x1+0x1a8b+-0x1fae,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(-0x1753+-0xf52+0x26a5)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(0x760*0x5+-0xcc9+-0x1817)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(-0x21d8+-0x2b*-0x45+-0xd3*-0x1b)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(-0x2ef*-0x1+-0x6a5+0x3b6)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(-0x13d*0x1d+0x4f4*-0x1+0xb*0x3b7)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(0x7ff+-0x1c92+-0x17*-0xe5)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(0xab5+0x711+-0x38e*0x5)}],[Wr,{'name':'VSM_32F','format':Ke,'vsm':!(0x485*-0x1+-0x1412+-0x1*-0x1897)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(-0x3b+-0x776+0x7b1*0x1)}]]),Tp=-0x1a02+-0x20b4+0x3ab7,Du=0x1037+-0x18f4*-0x1+-0x3*0xdb9,d0=-0x1c9*0x8+0x1*0x254b+-0x1703,Vs=0x1245*-0x1+-0x15eb*-0x1+0x1*-0x3a6,qb=-0x15bc*-0x1+0x13fa+0x3*-0xde7,Uh=-0x8e+-0x77b+-0x11*-0x79,Xb=-0x49*-0x47+-0x40d*-0x7+-0x3099,Gs=-0x5dd+0x16de+-0x1101,ua=-0x26c5+-0x463*0x8+0x49de,yo=-0x199e+0x9*0x17f+-0x33*-0x3d,Dr=0x124+0x1d67+-0x1e8a,Tl=-0x1d65+0x2f*-0x53+0x2ca4,u0=-0x1ef7+0x1cdf+-0x8*-0x43,jb=0x1f4d*-0x1+0x128b*0x1+-0xb*-0x129,km='mul',sl=0x25d8*0x1+-0x334+-0x6*0x5c6,hh=-0x1b67*0x1+-0x952+0x24ba,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=-0x9d*-0x9+-0x3e5*0x1+-0x1a0,aF=-0x23d4+0x1*0x22bd+-0x2*-0x8c,oF=0x54d+-0x270a+0x35*0xa3,lF=0x7e*0x24+-0x5a4*0x1+-0xc11,hF=0x12b7+-0x70f*0x3+0x27a,cF=-0x10*-0x1d+0x1f28+-0x20f3,f0=-0x1b4c+-0xdbe*0x2+-0x5*-0xaf6,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0x16*0x101+-0x69c+0x1cb2,Bo=0xbdc+-0x351*-0x7+0x1189*-0x2,Lu=-0x1a5a+0x253d*-0x1+-0x51*-0xc9,Ep=0x6fd*0x1+0x3c*0x58+-0x1b9c,Wc=0x1ec4+-0x14f*0x17+0xd*-0xd,m0=0x7*0x1d7+0x179e+0x247b*-0x1,_0=-0x1b78+-0x903*0x3+-0x25f*-0x17,g0=0x21cb+0x7e2*0x1+-0x3*0xddf,$c=0x7*0x27b+0x14fe*0x1+-0x263b,Fu=0x3*0x371+-0xc*0x55+-0x617,y0=0x67d+0xe9b*0x2+-0x2333,Cp=-0x1a98+-0x16e6+0x327e,Mp=-0x279*-0x6+-0x1ce7+0x1011,qc=-0x1523+0x81c+0x1*0x1107,Xc=-0x449*-0x3+0x1a*-0x1f+-0x1b5,x0=-0x110a+-0x1*0x4d5+-0x115*-0x23,jc=0xbc5+0x35*-0x10d+0x4bec,Ou=-0x3*0x24d5+0x688+0xa7f7,Ps=0x5*0x8c+0x3*-0x949+0x191f,cn=-0x1dd7+-0x3a8+0x10*0x218,Pp=-0x2a*0x90+0x24b*0x1+0x1557,Ei=-0x1*-0x1c12+0xec*0x1c+-0x72*0x79,ku=0x5*0xc5+-0x828+0x450,hs=-0x1571+0x1b24+-0x9*0xa2,cr=0x2219+-0x1*0x90b+-0xe*0x1ca,rr=-0x21*0x2f+0x4aa+0x169*0x1,gn=0x244c+-0xef*0x22+-0x48e,il=0xb56+0x1*0x2109+-0x2c5e,rl=0x83+-0x1be8+0x1b67,Oa=0x3a*0xa6+0x138e*0x1+-0x3927,Rp=-0x7*-0x67+0x146f+-0x173c,Ti=-0x1a55+0x37*0xb0+-0xb7b*0x1,nt=-0x5*0x184+0x99d+-0x208,Qe=-0x12d8*0x2+0xf4a*0x2+0x2*0x38f,ch=0x1214+-0x67*-0x1f+0x30e*-0xa,Al=0x2578+-0x26da+0x162,dh=0x6dc+-0x55*0x17+0xc7,Zb=0x6d9+-0x2361+-0xf*-0x1e7,Qb=0x713+0x2*-0x116f+0x1bcd*0x1,Bm=0x6bf+0x5*0x7+0x1*-0x6df,Jb=0x3*-0xca9+-0xc90*0x2+-0xd*-0x4db,ew=0x1762+0x136+0x3*-0x831,Ip=0x2329+-0x2636+0x30d,Bu=-0x1ed5+-0xc8f*0x3+-0x1*-0x4483,pe=0x2*-0xaa1+-0x1e14+0x3356,ke=-0x73d*-0x1+0x5*-0x1f8+0x29c,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x94ec75,_0x4bb167,_0xa3df4c){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x94ec75,this['bindGroupF'+'ormats'][Dh]=_0x4bb167,this['vertexForm'+'at']=_0xa3df4c);}['hasUniform'](_0x527dc8){for(let _0x39ceb8=-0x516+-0x1da4+0x1*0x22ba;_0x39ceb8<this['uniformFor'+'mats']['length'];_0x39ceb8++){const _0x24d6b1=this['uniformFor'+'mats'][_0x39ceb8];if(_0x24d6b1!=null&&_0x24d6b1['get'](_0x527dc8))return!(-0x65*0x47+-0x5dd*-0x3+0xa6c);}return!(0x199c*0x1+-0xeb*-0x13+-0x1d*0x17c);}['hasTexture'](_0x4df5d5){for(let _0xc2f469=-0x15c2+-0xfb*-0x3+-0x1*-0x12d1;_0xc2f469<this['bindGroupF'+'ormats']['length'];_0xc2f469++){const _0x2f256f=this['bindGroupF'+'ormats'][_0xc2f469];if(_0x2f256f!=null&&_0x2f256f['getTexture'](_0x4df5d5))return!(0xd4a+-0xbe5+-0x165);}return!(0x1f*-0xe9+-0x17c0+-0x19fc*-0x2);}['getVertexE'+'lement'](_0x2fa273){var _0x464916;return(_0x464916=this['vertexForm'+'at'])==null?void(0x43*-0x4+-0xe3f+0xf4b):_0x464916['elements']['find'](_0x3dfb15=>_0x3dfb15['name']===_0x2fa273);}['generateKe'+'y'](_0x3a6573){var _0x152309;let _0x2635e2=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x3a6573['isWebGPU']&&(_0x2635e2+=(_0x152309=this['vertexForm'+'at'])==null?void(-0x42d+-0x80*-0x37+-0x7*0x355):_0x152309['shaderProc'+'essingHash'+'String']),_0x2635e2;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x356879){const _0x1d3c6c=b0['get'](_0x356879);return v['assert'](_0x1d3c6c),_0x1d3c6c;}function WE(_0xacc7a,_0x234251){v['assert'](_0x234251),b0['get'](_0xacc7a,()=>_0x234251);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x836acf){const _0x2e053c=Array['from'](_0x836acf)['sort']((_0x44e4a1,_0x36d1a5)=>_0x44e4a1[-0x2*0xad8+-0x1b1*0x17+0x3c97]>_0x36d1a5[0x1fe5+-0x640+0x1f9*-0xd]?-0x30f*0x7+-0x1*0x1be6+0x3150:-(-0x53+0x25*-0x8a+0xa*0x207));return hn(JSON['stringify'](_0x2e053c));}}const $E=new Ot();class qE{constructor(_0x4c575c,_0x33da12,_0xed36f3={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x4c575c),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x4c575c),this['name']=_0x4c575c,this['index']=_0x33da12,Object['assign'](this,_0xed36f3),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x5091db;this['isShadow']?_0x5091db='SHADOW':this['isForward']?_0x5091db='FORWARD':this['index']===rl?_0x5091db='DEPTH':this['index']===Oa&&(_0x5091db='PICK'),this['defines']['set'](_0x5091db+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x8d3+-0x17c8+-0x209b*-0x1);const _0xca40a9=(_0x567482,_0x8bda33,_0x13be5f)=>{const _0x570655=this['allocate'](_0x567482,_0x13be5f);v['assert'](_0x570655['index']===_0x8bda33);};_0xca40a9('forward',gn,{'isForward':!(0x25*-0xe2+-0x1769+-0x12b1*-0x3)}),_0xca40a9('prepass',il),_0xca40a9('depth',rl),_0xca40a9('pick',Oa),_0xca40a9('shadow',Rp);}static['get'](_0x44ff6c){return v['assert'](_0x44ff6c),$E['get'](_0x44ff6c,()=>new Ks());}['allocate'](_0x328338,_0x580f60){let _0x832d61=this['passesName'+'d']['get'](_0x328338);return _0x832d61===void(0x1*0x285+0x195e+-0x1be3)&&(_0x832d61=new qE(_0x328338,this['nextIndex'],_0x580f60),this['passesName'+'d']['set'](_0x832d61['name'],_0x832d61),this['passesInde'+'xed'][_0x832d61['index']]=_0x832d61,this['nextIndex']++),_0x832d61;}['getByIndex'](_0x5c7b29){const _0x3142b2=this['passesInde'+'xed'][_0x5c7b29];return v['assert'](_0x3142b2),_0x3142b2;}['getByName'](_0x4efe4a){return this['passesName'+'d']['get'](_0x4efe4a);}}function Is(_0x4a18c6,_0x54f235,_0x442044,_0x1528f1,_0x2ef5f4,_0x41bab4=!(0x2f*-0x8e+-0x4b2*0x8+-0x5c9*-0xb),_0xcceb62={}){v['assert'](!(0x126c+0xf1b+-0xb2d*0x3)),typeof _0x41bab4=='boolean'?_0xcceb62['useTransfo'+'rmFeedback']=_0x41bab4:typeof _0x41bab4=='object'&&(_0xcceb62={..._0xcceb62,..._0x41bab4});const _0x5bcb11=ka(_0x4a18c6);let _0x28c49d=_0x5bcb11['getCachedS'+'hader'](_0x1528f1);return _0x28c49d||(_0x28c49d=new i0(_0x4a18c6,Mt['createDefi'+'nition'](_0x4a18c6,{..._0xcceb62,'name':_0x1528f1,'vertexCode':_0x54f235,'fragmentCode':_0x442044,'attributes':_0x2ef5f4})),_0x5bcb11['setCachedS'+'hader'](_0x1528f1,_0x28c49d)),_0x28c49d;}class XE extends It{constructor(_0x5dff6c,_0x505556){super(),this['key']=_0x5dff6c,this['shaderDefi'+'nition']=_0x505556;}['generateKe'+'y'](_0x55a04f){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x21648f,_0x228b94){return this['shaderDefi'+'nition'];}}function jE(_0x3f0f34,_0x254475){v['assert'](_0x3f0f34);const _0x9d4c59=_0x3f0f34['definition'],_0x1d3d39=(_0x9d4c59['name']??'shader')+'-id-'+_0x3f0f34['id'],_0x2921d5=new XE(_0x1d3d39,_0x9d4c59),_0x200e82='shader',_0x60d28=ka(_0x3f0f34['device']);v['assert'](!_0x60d28['isRegister'+'ed'](_0x200e82)),_0x60d28['register'](_0x200e82,_0x2921d5);const _0x223023=_0x60d28['getProgram'](_0x200e82,{},_0x254475);return _0x3f0f34['definition']['shaderLang'+'uage']===Ph&&(_0x223023['meshUnifor'+'mBufferFor'+'mat']=_0x9d4c59['meshUnifor'+'mBufferFor'+'mat'],_0x223023['meshBindGr'+'oupFormat']=_0x9d4c59['meshBindGr'+'oupFormat']),_0x60d28['unregister'](_0x200e82),_0x223023;}const Dp=(_0x1db53d,_0xca4c91)=>{const _0x44d05e=new Map(_0x1db53d['defines']);return _0xca4c91['cameraShad'+'erParams']['defines']['forEach']((_0x591968,_0x5d060c)=>_0x44d05e['set'](_0x5d060c,_0x591968)),Ks['get'](_0xca4c91['device'])['getByIndex'](_0xca4c91['pass'])['defines']['forEach']((_0x2e284f,_0x49ed1a)=>_0x44d05e['set'](_0x49ed1a,_0x2e284f)),_0x44d05e;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(-0x7c4*0x5+-0x1150+0x3825)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x2a68e0){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x21a70e=_0x2a68e0['device'];if(this['shader']=_0x2a68e0,v['assert'](_0x2a68e0),_0x21a70e['supportsUn'+'iformBuffe'+'rs']){const _0x1e5811=new Yc();this['shader']=jE(_0x2a68e0,_0x1e5811);const _0x1c892d=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x1c892d&&(this['uniformBuf'+'fer']=new gp(_0x21a70e,_0x1c892d,!(-0x21da+0x1*-0x990+0x1*0x2b6b)));const _0x41572c=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x41572c),this['bindGroup']=new mp(_0x21a70e,_0x41572c),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x1e6e01,_0x2fcfd0;(_0x1e6e01=this['uniformBuf'+'fer'])==null||_0x1e6e01['destroy'](),this['uniformBuf'+'fer']=null,(_0x2fcfd0=this['bindGroup'])==null||_0x2fcfd0['destroy'](),this['bindGroup']=null;}['render'](_0x260691,_0x3644bd){const _0x3a8ece=this['shader']['device'];G['pushGpuMar'+'ker'](_0x3a8ece,'QuadRender'),_0x260691&&(Va['set'](_0x3a8ece['vx'],_0x3a8ece['vy'],_0x3a8ece['vw'],_0x3a8ece['vh']),Ga['set'](_0x3a8ece['sx'],_0x3a8ece['sy'],_0x3a8ece['sw'],_0x3a8ece['sh']),_0x3644bd=_0x3644bd??_0x260691,_0x3a8ece['setViewpor'+'t'](_0x260691['x'],_0x260691['y'],_0x260691['z'],_0x260691['w']),_0x3a8ece['setScissor'](_0x3644bd['x'],_0x3644bd['y'],_0x3644bd['z'],_0x3644bd['w'])),_0x3a8ece['setVertexB'+'uffer'](_0x3a8ece['quadVertex'+'Buffer'],0x7a*-0x1c+-0x1664+0x2*0x11de);const _0x5e664f=this['shader'];if(_0x3a8ece['setShader'](_0x5e664f),_0x3a8ece['supportsUn'+'iformBuffe'+'rs']){_0x3a8ece['setBindGro'+'up'](Dh,_0x3a8ece['emptyBindG'+'roup']);const _0x366ec9=this['bindGroup'];_0x366ec9['update'](),_0x3a8ece['setBindGro'+'up'](Xy,_0x366ec9);const _0x3cb347=this['uniformBuf'+'fer'];_0x3cb347?(_0x3cb347['update'](pd),_0x3a8ece['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x3a8ece['setBindGro'+'up'](Eu,_0x3a8ece['emptyBindG'+'roup']);}_0x3a8ece['draw'](YE),_0x260691&&(_0x3a8ece['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x3a8ece['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x3a8ece);}}class KE extends ds{constructor(_0x26e788,_0x1bdeef,_0x3f0ea8,_0xd31e4a){super(_0x26e788),this['quad']=_0x1bdeef,this['rect']=_0x3f0ea8,this['scissorRec'+'t']=_0xd31e4a;}['execute'](){const {device:_0x24c63d}=this;G['pushGpuMar'+'ker'](_0x24c63d,this['name']+':'+this['quad']['shader']['name']),_0x24c63d['setCullMod'+'e'](mt),_0x24c63d['setDepthSt'+'ate'](as['NODEPTH']),_0x24c63d['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x24c63d);}}const ZE=new Q();function dn(_0x4f286f,_0x20c260,_0x21aa60,_0x2908de,_0x55cd0b){v['assert'](_0x20c260!==void(0x13c2+0x1*0x73+-0x1435));const _0x1f4f19=arguments[0xf38+-0x109e+0x79*0x3];v['call'](()=>{_0x1f4f19!==void(0x22e0+0x1*-0x1459+0x1*-0xe87)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x59f516=new Nu(_0x21aa60);_0x2908de||(_0x2908de=ZE,_0x2908de['x']=0x9ce+0x1cbf+-0x268d,_0x2908de['y']=-0x9d3+0x16ce+-0x1*0xcfb,_0x2908de['z']=_0x20c260?_0x20c260['width']:_0x4f286f['width'],_0x2908de['w']=_0x20c260?_0x20c260['height']:_0x4f286f['height']);const _0xf4639=new KE(_0x4f286f,_0x59f516,_0x2908de,_0x55cd0b);_0xf4639['init'](_0x20c260),_0xf4639['colorOps']['clear']=!(0x1e9*0xd+0x2*-0x68e+0xc*-0xfa),_0xf4639['depthStenc'+'ilOps']['clearDepth']=!(-0xc97*-0x3+-0x1cf9+-0x8cb*0x1),_0x4f286f['isWebGPU']&&_0x20c260===null&&_0x4f286f['samples']>-0xa41*-0x1+0x1366+-0x1da6&&(_0xf4639['colorOps']['store']=!(-0xcd7+0x215f+-0x1488)),_0xf4639['render'](),_0x59f516['destroy']();}class zm{constructor(_0x3da2b8,_0x40834f,_0x2c65fe){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x3da2b8,this['dynamic']=_0x40834f,this['batchGroup'+'Id']=_0x2c65fe);}['destroy'](_0x374c45,_0x45c394){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x374c45,_0x45c394),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x259603,_0x5740db){for(let _0x5b4fea=0x5fc*0x2+0x2582+0x2*-0x18bd;_0x5b4fea<_0x5740db['length'];_0x5b4fea++){const _0x45ca77=_0x259603['layers']['getLayerBy'+'Id'](_0x5740db[_0x5b4fea]);_0x45ca77&&_0x45ca77['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x1f9158,_0x5a2d4d){for(let _0x47b689=0x191b+-0x212c+0x811*0x1;_0x47b689<_0x5a2d4d['length'];_0x47b689++){const _0x1d3f15=_0x1f9158['layers']['getLayerBy'+'Id'](_0x5a2d4d[_0x47b689]);_0x1d3f15&&_0x1d3f15['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x1*-0x1813+0x2145+-0x932]['aabb']);for(let _0x38705d=-0x1*-0xad9+0x2311+0xa1*-0x49;_0x38705d<this['origMeshIn'+'stances']['length'];_0x38705d++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x38705d]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x113b+-0x4*0x4eb+0x24e7;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x3aadcc,_0x10f32b,_0x28168b,_0x136de7,_0x370ac0=[Fi]){c(this,'_ui',!(-0x7e9+0x551*-0x4+0x3*0x9ba)),c(this,'_sprite',!(0x6*-0x107+0x90a+-0x2df)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x3aadcc,this['name']=_0x10f32b,this['dynamic']=_0x28168b,this['maxAabbSiz'+'e']=_0x136de7,this['layers']=_0x370ac0);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x2f12dc){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x1b*-0x12f+0x6*0x1+-0x1ffb),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x1a47+0x80d+0x3*-0xb71),this['_updateBef'+'oreCull']=!(-0x3*0x313+0xdf0+-0x4b7),_0x2f12dc&&this['initSkin'](_0x2f12dc));}set['rootBone'](_0x5cdea4){this['_rootBone']=_0x5cdea4;}get['rootBone'](){return this['_rootBone'];}['init'](_0x4be38f,_0x5df41a){const _0x439433=_0x5df41a*(-0x1874+0x755*0x5+-0xc32);let _0x3374ba=Math['ceil'](Math['sqrt'](_0x439433));_0x3374ba=N['roundUp'](_0x3374ba,-0x1f03+-0x1*-0x1cf1+0xd*0x29);const _0x13dce9=Math['ceil'](_0x439433/_0x3374ba);this['boneTextur'+'e']=new he(_0x4be38f,{'width':_0x3374ba,'height':_0x13dce9,'format':Ke,'mipmaps':!(-0x581*-0x2+0x1844+0x2345*-0x1),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x3374ba,_0x13dce9,(0x2c9+-0x957+-0x17*-0x49)/_0x3374ba,(-0x103f*0x1+-0x52*-0x65+-0x9*0x1ca)/_0x13dce9],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x516a43,_0x1a5a0c){this['rootBone']=_0x516a43;const _0x5e8263=this['skin'],_0x27c99e=[];for(let _0x224b4e=-0x2ba*-0x3+0x1396+-0x1bc4;_0x224b4e<_0x5e8263['boneNames']['length'];_0x224b4e++){const _0x420be8=_0x5e8263['boneNames'][_0x224b4e];let _0x324e3b=_0x516a43['findByName'](_0x420be8);_0x324e3b||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x420be8+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x1a5a0c['name']+(',\x20rootBone'+':\x20')+_0x516a43['name']),_0x324e3b=_0x1a5a0c),_0x27c99e['push'](_0x324e3b);}this['bones']=_0x27c99e;}['initSkin'](_0x1684d2){this['skin']=_0x1684d2,this['bones']=[];const _0x4116a7=_0x1684d2['inverseBin'+'dPose']['length'];this['init'](_0x1684d2['device'],_0x4116a7),this['matrices']=[];for(let _0x2f3e0e=0x1c82+-0x45*-0x82+-0x3f8c;_0x2f3e0e<_0x4116a7;_0x2f3e0e++)this['matrices'][_0x2f3e0e]=new q();}['uploadBone'+'s'](_0x560363){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x267b80,_0x4dec99){if(this['_skinUpdat'+'eIndex']!==_0x4dec99){this['_skinUpdat'+'eIndex']=_0x4dec99,Um['copy'](_0x267b80['getWorldTr'+'ansform']())['invert']();for(let _0x11d71e=this['bones']['length']-(-0x599*0x4+-0x3*-0xd9+0x1*0x13da);_0x11d71e>=0x4e2*0x4+-0x11b8+-0x1d0;_0x11d71e--)this['matrices'][_0x11d71e]['mulAffine2'](Um,this['bones'][_0x11d71e]['getWorldTr'+'ansform']()),this['matrices'][_0x11d71e]['mulAffine2'](this['matrices'][_0x11d71e],this['skin']['inverseBin'+'dPose'][_0x11d71e]);}}['updateMatr'+'ices'](_0x379ca5,_0x423176){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x379ca5,_0x423176);}['updateMatr'+'ixPalette'](_0x2ca1a9,_0x5be3cf){this['_updateMat'+'rices'](_0x2ca1a9,_0x5be3cf);const _0x2515ad=this['matrixPale'+'tte'],_0x380303=this['bones']['length'];for(let _0xaef9db=-0x1a8d+0x5*-0x4f9+0x336a*0x1;_0xaef9db<_0x380303;_0xaef9db++){const _0x5735e7=this['matrices'][_0xaef9db]['data'],_0x3668b6=_0xaef9db*(-0x14b5+0x3a1*0x6+-0x105);_0x2515ad[_0x3668b6]=_0x5735e7[-0x4c3*-0x6+-0xf3f+-0xd53*0x1],_0x2515ad[_0x3668b6+(0x19c2+-0x2402+0xa41)]=_0x5735e7[0x3*0x107+-0x293+-0x6*0x15],_0x2515ad[_0x3668b6+(0x1543+0x1*0x1a7e+-0x2cf*0x11)]=_0x5735e7[0xf3a+0x2120+-0x3052],_0x2515ad[_0x3668b6+(0x1*0xac5+-0x2*-0x12ea+-0x3*0x1032)]=_0x5735e7[-0x92*-0x11+0x3*-0xb85+-0x1*-0x18e9],_0x2515ad[_0x3668b6+(-0x6e0+0x7*-0x1dc+0x13e8)]=_0x5735e7[0x1*-0x805+-0x1*-0x332+-0x26a*-0x2],_0x2515ad[_0x3668b6+(-0x1a23*-0x1+0x58*-0x3d+-0x526)]=_0x5735e7[0x1b*0x93+-0x1785+0x809],_0x2515ad[_0x3668b6+(0x13ce+-0x1127+-0x2a1)]=_0x5735e7[0x1002+0xdf*-0x12+0x19*-0x3],_0x2515ad[_0x3668b6+(-0x1*-0x236d+0x2*0x3b0+-0x2ac6)]=_0x5735e7[0x16ae+0x1521+-0x2bc2],_0x2515ad[_0x3668b6+(0x1477*-0x1+0x1fbe*0x1+-0xb3f)]=_0x5735e7[-0x1536+-0x223*-0x1+0x1315],_0x2515ad[_0x3668b6+(0x415+-0x1*0xdd2+0x342*0x3)]=_0x5735e7[-0x1ef3+0x632+0x1*0x18c7],_0x2515ad[_0x3668b6+(0x2292+-0x8d+-0x1*0x21fb)]=_0x5735e7[-0x1d35+-0x901*-0x3+0x23c],_0x2515ad[_0x3668b6+(0x18df+0x13*-0x16+0x2*-0xb99)]=_0x5735e7[0x2262+-0x2213+-0x41];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x4477cb,_0x239dec,_0x29b375){super();const _0x4a02b5=_0x239dec['length'];this['init'](_0x4477cb,_0x4a02b5),this['device']=_0x4477cb,this['rootNode']=_0x29b375,this['bones']=_0x239dec;}['updateMatr'+'ices'](_0x30b962,_0x18274b){}['updateMatr'+'ixPalette'](_0x1254e3,_0x20a6b8){const _0x5bd461=this['matrixPale'+'tte'],_0x8e4a4c=this['bones']['length'];for(let _0x18d36a=0x10ab+0x163+0x907*-0x2;_0x18d36a<_0x8e4a4c;_0x18d36a++){const _0x1a8f10=this['bones'][_0x18d36a]['getWorldTr'+'ansform']()['data'],_0x5921dd=_0x18d36a*(-0x1a2b+-0x33*-0x81+0x3*0x2c);_0x5bd461[_0x5921dd]=_0x1a8f10[-0x3f*0x77+0x172a*0x1+-0x61f*-0x1],_0x5bd461[_0x5921dd+(0x18d1+-0x5*0x45d+-0x2ff*0x1)]=_0x1a8f10[0x37f+0x10*0x254+-0x28bb],_0x5bd461[_0x5921dd+(-0x1935+-0x3*-0x220+-0xd*-0x173)]=_0x1a8f10[-0x89*0x14+0xf*0x19d+-0xd77],_0x5bd461[_0x5921dd+(0x747+-0x187e*0x1+-0x12*-0xf5)]=_0x1a8f10[-0x3*0x86a+0x362+-0xaf4*-0x2],_0x5bd461[_0x5921dd+(0x1cb+0x14a4+-0x166b)]=_0x1a8f10[-0x1*-0x25cc+-0x2168+-0x463],_0x5bd461[_0x5921dd+(0x1583+0x1*-0x1775+0x1f7)]=_0x1a8f10[0x1*-0x68f+0x1e1c+0xbc4*-0x2],_0x5bd461[_0x5921dd+(-0x80*0x43+-0x219a+0x4320)]=_0x1a8f10[0x1156*0x1+-0x1418*-0x1+0x3*-0xc77],_0x5bd461[_0x5921dd+(-0x1da9+-0x1472+0x3222)]=_0x1a8f10[-0x1*-0xdbd+0x7f*0x3b+0x623*-0x7],_0x5bd461[_0x5921dd+(-0x4*-0x733+-0x11ff*0x1+-0x1*0xac5)]=_0x1a8f10[0xaf*-0x32+-0x137+0x2367],_0x5bd461[_0x5921dd+(0x19*-0xff+0x24d+0x16a3)]=_0x1a8f10[-0xaa8*-0x3+-0xc*0x233+0x2*-0x2c7],_0x5bd461[_0x5921dd+(-0x8*0x1bf+-0x23c8+0x31ca)]=_0x1a8f10[-0x14a1+0x584*0x3+0xd3*0x5],_0x5bd461[_0x5921dd+(0x1*0xccf+0x10e+-0xdd2)]=_0x1a8f10[0xa64+-0x8e9*-0x4+-0x2dfa];}this['uploadBone'+'s'](this['device']);}}let QE=-0x409+-0x5d5+0x9de;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x17b2+-0x1*0x765+-0x12a*0xe),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=0x3eb*-0x8+-0x316+0x226e,this['maxIndices']=-0x595*-0x2+0x1b63+-0x268d,this['vertexCoun'+'t']=-0x3*0x34+0xb28+-0xa8c,this['indexCount']=0x6f5*0x4+-0xf45+-0xc8f,this['vertexStre'+'amsUpdated']=!(-0x5c6+0x182e+-0x1267),this['indexStrea'+'mUpdated']=!(0x2662+-0x26*0xc9+-0x88b),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x16d632,_0x47bc02){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x16d632,'Vertex\x20str'+'eam\x20'+_0x47bc02+'\x20has\x20'+_0x16d632+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x16d632;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0xb*-0xb1+-0x11a5*-0x1+-0x97*0x11),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x1f5b*0x1+-0xfb*-0x27+0x6df*-0x1),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',0x6e9*0x2+-0x2572+-0x32*-0x79),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x246e+-0x843+0x2cb5);class JE{constructor(_0x4f7086,_0xdc5ad8,_0x23f7e3,_0x27c1a1,_0x177210){this['data']=_0x4f7086,this['componentC'+'ount']=_0xdc5ad8,this['dataType']=_0x23f7e3,this['dataTypeNo'+'rmalize']=_0x27c1a1,this['asInt']=_0x177210;}}class Ie extends Gc{constructor(_0x11f36b,_0x43ac82){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',0x4*0x3fb+-0x236a+0x137e),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(-0x128d+-0x1*0xe45+0x20d3)),c(this,'_storageVe'+'rtex',!(0x1a20*0x1+-0x47c+-0x15a3)),(this['id']=QE++,v['assert'](_0x11f36b,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x11f36b,this['_storageIn'+'dex']=(_0x43ac82==null?void(-0x9fe+0x1865+0x3*-0x4cd):_0x43ac82['storageInd'+'ex'])||!(0xb9*0x5+0x8eb+-0xc87),this['_storageVe'+'rtex']=(_0x43ac82==null?void(-0x524*0x5+-0xd89+0x11f*0x23):_0x43ac82['storageVer'+'tex'])||!(-0x6*-0x3bd+-0x2*-0x5a7+-0x21bb));}static['fromGeomet'+'ry'](_0x2136c8,_0x5d0797,_0x130f99={}){const _0x5232fe=new Ie(_0x2136c8,_0x130f99),{positions:_0x30db3d,normals:_0xcaa934,tangents:_0x3fc45d,colors:_0x41226f,uvs:_0x5c5da0,uvs1:_0x104a19,blendIndices:_0xaecdd8,blendWeights:_0x42fbf9,indices:_0x3060cf}=_0x5d0797;return _0x30db3d&&_0x5232fe['setPositio'+'ns'](_0x30db3d),_0xcaa934&&_0x5232fe['setNormals'](_0xcaa934),_0x3fc45d&&_0x5232fe['setVertexS'+'tream'](Zs,_0x3fc45d,-0x258e+-0x1c4*-0xd+0xe9e),_0x41226f&&_0x5232fe['setColors3'+'2'](_0x41226f),_0x5c5da0&&_0x5232fe['setUvs'](0x1*0xc6f+0x1ff9*-0x1+-0x3d*-0x52,_0x5c5da0),_0x104a19&&_0x5232fe['setUvs'](0xd28+0x1*0x53+0xe6*-0xf,_0x104a19),_0xaecdd8&&_0x5232fe['setVertexS'+'tream'](qt,_0xaecdd8,0x25a4+-0x2*-0x283+-0x2aa6,_0xaecdd8['length']/(-0x1*-0x1e1d+-0x28*0x7+-0x19*0x129),Kr),_0x42fbf9&&_0x5232fe['setVertexS'+'tream'](Ys,_0x42fbf9,0x33f*0x1+-0xc17*0x3+0x210a),_0x3060cf&&_0x5232fe['setIndices'](_0x3060cf),_0x5232fe['update'](),_0x5232fe;}set['morph'](_0x4b2505){_0x4b2505!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x4b2505,_0x4b2505&&_0x4b2505['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x2178ba){this['_aabb']=_0x2178ba,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x4ab283=this['morph'];_0x4ab283&&(this['morph']=null,_0x4ab283['refCount']<-0x5b*0x18+-0x9e9+-0x1*-0x1272&&_0x4ab283['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x14da1c=-0x25*-0x9b+0xc60+0x1d*-0x133;_0x14da1c<this['indexBuffe'+'r']['length'];_0x14da1c++)this['_destroyIn'+'dexBuffer'](_0x14da1c);this['indexBuffe'+'r']['length']=-0x6bb*0x3+-0x23ff+0x3830,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x16c21c){this['indexBuffe'+'r'][_0x16c21c]&&(this['indexBuffe'+'r'][_0x16c21c]['destroy'](),this['indexBuffe'+'r'][_0x16c21c]=null);}['_initBoneA'+'abbs'](_0x1a7a43){this['boneAabb']=[],this['boneUsed']=[];let _0x3b3bd9,_0x493bb5,_0x582ab6,_0x44c2e4,_0x370b00;const _0x3ead04=[],_0x3b0a21=[],_0x1da082=this['boneUsed'],_0x490f49=this['skin']['boneNames']['length'];let _0x3a6171,_0x50fac1,_0x5b97f7;for(let _0x53f1e8=0x1eab+0x2049+-0x3ef4;_0x53f1e8<_0x490f49;_0x53f1e8++)_0x3ead04[_0x53f1e8]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x3b0a21[_0x53f1e8]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x30a21e=new go(this['vertexBuff'+'er']),_0x1dd590=_0x30a21e['element'][He],_0x153120=_0x30a21e['element'][Ys],_0x16bc4d=_0x30a21e['element'][qt],_0x3bebc6=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x24fea4=-0x95a+-0x2587+0x1*0x2ee1;_0x24fea4<_0x3bebc6;_0x24fea4++){for(let _0x1c105a=0x1*-0x8e2+0xd73+0x491*-0x1;_0x1c105a<0xab*-0x29+-0x151*-0x6+0x1381;_0x1c105a++)if(_0x153120['array'][_0x153120['index']+_0x1c105a]>-0x5*-0x15b+-0x2*0x97c+0xc31){const _0x596bff=_0x16bc4d['array'][_0x16bc4d['index']+_0x1c105a];if(_0x1da082[_0x596bff]=!(0x1850+0x3d3+0x1c23*-0x1),_0x3b3bd9=_0x1dd590['array'][_0x1dd590['index']],_0x493bb5=_0x1dd590['array'][_0x1dd590['index']+(-0x1*-0x14d5+-0x1484+-0x50)],_0x582ab6=_0x1dd590['array'][_0x1dd590['index']+(-0x78a+0x903+-0x177)],_0x44c2e4=_0x3b0a21[_0x596bff],_0x370b00=_0x3ead04[_0x596bff],_0x370b00['x']>_0x3b3bd9&&(_0x370b00['x']=_0x3b3bd9),_0x370b00['y']>_0x493bb5&&(_0x370b00['y']=_0x493bb5),_0x370b00['z']>_0x582ab6&&(_0x370b00['z']=_0x582ab6),_0x44c2e4['x']<_0x3b3bd9&&(_0x44c2e4['x']=_0x3b3bd9),_0x44c2e4['y']<_0x493bb5&&(_0x44c2e4['y']=_0x493bb5),_0x44c2e4['z']<_0x582ab6&&(_0x44c2e4['z']=_0x582ab6),_0x1a7a43){let _0x47b686=_0x3a6171=_0x3b3bd9,_0x1e376d=_0x50fac1=_0x493bb5,_0x3fc5a7=_0x5b97f7=_0x582ab6;for(let _0x1dfe39=-0x1*-0x9d9+-0x1942+0xf69;_0x1dfe39<_0x1a7a43['length'];_0x1dfe39++){const _0x2a3e11=_0x1a7a43[_0x1dfe39],_0xe9f2c5=_0x2a3e11['deltaPosit'+'ions'][_0x24fea4*(0x1*0x1305+-0x1*-0x1a32+-0x2d34)],_0x1118f2=_0x2a3e11['deltaPosit'+'ions'][_0x24fea4*(-0x2409+0x18a9*0x1+0xb63*0x1)+(-0x5f*-0x1a+-0x3*-0xb51+-0xa*0x45c)],_0x51fe6d=_0x2a3e11['deltaPosit'+'ions'][_0x24fea4*(-0x21e5+-0x1dd7*0x1+0x3fbf)+(0x1*0x214d+0x1362+-0x5*0xa89)];_0xe9f2c5<0x9c*-0x30+-0x8fd+-0x1*-0x263d?_0x47b686+=_0xe9f2c5:_0x3a6171+=_0xe9f2c5,_0x1118f2<0x2*0x61d+-0x26*0xd1+0x12cc?_0x1e376d+=_0x1118f2:_0x50fac1+=_0x1118f2,_0x51fe6d<0x1*0x1ceb+0x59*0x9+-0x200c?_0x3fc5a7+=_0x51fe6d:_0x5b97f7+=_0x51fe6d;}_0x370b00['x']>_0x47b686&&(_0x370b00['x']=_0x47b686),_0x370b00['y']>_0x1e376d&&(_0x370b00['y']=_0x1e376d),_0x370b00['z']>_0x3fc5a7&&(_0x370b00['z']=_0x3fc5a7),_0x44c2e4['x']<_0x3a6171&&(_0x44c2e4['x']=_0x3a6171),_0x44c2e4['y']<_0x50fac1&&(_0x44c2e4['y']=_0x50fac1),_0x44c2e4['z']<_0x5b97f7&&(_0x44c2e4['z']=_0x5b97f7);}}_0x30a21e['next']();}const _0x235765=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x945b24=>_0x945b24['name']===He);if(_0x235765&&_0x235765['normalize']){const _0x1e5a99=((()=>{switch(_0x235765['dataType']){case Rc:return _0x520a7a=>Math['max'](_0x520a7a/(-0x87d*0x2+-0x88*0x19+0x1ec1),-(0xe06+0x1b*-0x8a+0x89));case Kr:return _0x58b6f7=>_0x58b6f7/(0x1a7b+0x1028*0x1+0x4*-0xa69);case Ic:return _0x224e8e=>Math['max'](_0x224e8e/(-0x8d11+-0x1*-0xb771+0x559f),-(0x9ad+0x82b*-0x3+0xed5));case el:return _0x2b45e2=>_0x2b45e2/(-0x2e0f*-0x5+0x2f*-0x3b9+0x445*0x2f);default:return _0x2fe6bf=>_0x2fe6bf;}})());for(let _0x38a9eb=0x473*-0x3+-0x607+0x9b0*0x2;_0x38a9eb<_0x490f49;_0x38a9eb++)if(_0x1da082[_0x38a9eb]){const _0x58895f=_0x3ead04[_0x38a9eb],_0xbf191a=_0x3b0a21[_0x38a9eb];_0x58895f['set'](_0x1e5a99(_0x58895f['x']),_0x1e5a99(_0x58895f['y']),_0x1e5a99(_0x58895f['z'])),_0xbf191a['set'](_0x1e5a99(_0xbf191a['x']),_0x1e5a99(_0xbf191a['y']),_0x1e5a99(_0xbf191a['z']));}}for(let _0x283c4d=0x1d16+-0x1aaa+-0x136*0x2;_0x283c4d<_0x490f49;_0x283c4d++){const _0x307672=new _e();_0x307672['setMinMax'](_0x3ead04[_0x283c4d],_0x3b0a21[_0x283c4d]),this['boneAabb']['push'](_0x307672);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x5*-0x543+-0x1b31+0xe2&&this['indexBuffe'+'r'][0x2*-0x347+0x17c9+-0x113b]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x26*0x5+-0x887*0x3+0x18d7*0x1]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x1*0x771+-0x3ba+0xb2b]['numIndices']));}['clear'](_0x45b31d,_0x3e5071,_0x5f14be=-0x1cca+-0x211f+0x3de9,_0x1fd4eb=-0x1afa+0x1790+0x36a){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x1*-0xb57+0x713+-0x126a),this['_geometryD'+'ata']['maxVertice'+'s']=_0x5f14be,this['_geometryD'+'ata']['maxIndices']=_0x1fd4eb,this['_geometryD'+'ata']['verticesUs'+'age']=_0x45b31d?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x3e5071?jt:Th;}['setVertexS'+'tream'](_0xeec31,_0x2339c1,_0x4dfb1a,_0x2b8f5d,_0x2aef1b=Ee,_0x594297=!(0x125c+0x21f2+-0x344d*0x1),_0x1bd929=!(-0x5*0x13e+-0x1d*0xd1+0x1de4)){this['_initGeome'+'tryData']();const _0x3ecb09=_0x2b8f5d||_0x2339c1['length']/_0x4dfb1a;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x3ecb09,_0xeec31),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0xcf4+0x45*-0x3d+0x37d*0x1),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xeec31]=new JE(_0x2339c1,_0x4dfb1a,_0x2aef1b,_0x594297,_0x1bd929);}['getVertexS'+'tream'](_0x1ce6a5,_0x244b3c){let _0xef73eb=-0xc5d*-0x3+-0x1ec1+-0x656,_0x2429f3=!(-0xee2+0x1433+0xaa*-0x8);if(this['_geometryD'+'ata']){const _0x20c890=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1ce6a5];_0x20c890&&(_0x2429f3=!(0x4d*-0x1e+0x1140+-0x83a),_0xef73eb=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x244b3c)?_0x244b3c['set'](_0x20c890['data']):(_0x244b3c['length']=-0x1191+-0x1402+-0x2593*-0x1,_0x244b3c['push'](_0x20c890['data'])));}return _0x2429f3||this['vertexBuff'+'er']&&(_0xef73eb=new go(this['vertexBuff'+'er'])['readData'](_0x1ce6a5,_0x244b3c)),_0xef73eb;}['setPositio'+'ns'](_0x3b0439,_0x4dd503=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x528e32){this['setVertexS'+'tream'](He,_0x3b0439,_0x4dd503,_0x528e32,Ee,!(-0x1*0x103a+0x16a3+0x4*-0x19a));}['setNormals'](_0x11da68,_0x356246=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x13e60e){this['setVertexS'+'tream'](Yt,_0x11da68,_0x356246,_0x13e60e,Ee,!(0x1*-0x1f9a+-0x68f+0x262a));}['setUvs'](_0x54d2e3,_0x533179,_0x2b8a30=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x5b95d2){this['setVertexS'+'tream'](om+_0x54d2e3,_0x533179,_0x2b8a30,_0x5b95d2,Ee,!(0xa4e+-0xc1f+0x1d2));}['setColors'](_0x3f84c6,_0x3a4ad3=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x386325){this['setVertexS'+'tream'](At,_0x3f84c6,_0x3a4ad3,_0x386325,Ee,!(-0x2*0xfb8+0x3f6+-0x7*-0x3ed));}['setColors3'+'2'](_0x13453d,_0x3e9169){this['setVertexS'+'tream'](At,_0x13453d,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3e9169,Kr,!(0x1087+-0x31*-0x17+0x2*-0xa77));}['setIndices'](_0x3e03ea,_0x2f3e25){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x21b1+0x2617+0x8*-0x8f9),this['_geometryD'+'ata']['indices']=_0x3e03ea,this['_geometryD'+'ata']['indexCount']=_0x2f3e25||_0x3e03ea['length'];}['getPositio'+'ns'](_0x539ac2){return this['getVertexS'+'tream'](He,_0x539ac2);}['getNormals'](_0x80ce2e){return this['getVertexS'+'tream'](Yt,_0x80ce2e);}['getUvs'](_0x1c4c86,_0x29854d){return this['getVertexS'+'tream'](om+_0x1c4c86,_0x29854d);}['getColors'](_0x13ffd5){return this['getVertexS'+'tream'](At,_0x13ffd5);}['getIndices'](_0x644336){let _0x26f004=0x85b+0x113b+-0x83*0x32;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x1927c6=this['_geometryD'+'ata']['indices'];if(_0x26f004=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x644336))_0x644336['set'](_0x1927c6);else{_0x644336['length']=-0x1*0x1e5d+-0x35e*0xa+0x4009;for(let _0x51f996=0x347*0x3+0x31c+-0xcf1,_0x2acba9=_0x1927c6['length'];_0x51f996<_0x2acba9;_0x51f996++)_0x644336['push'](_0x1927c6[_0x51f996]);}}else this['indexBuffe'+'r']['length']>-0x1a43+0x1adc+-0x99&&this['indexBuffe'+'r'][0x1353+-0x6bf+-0x17*0x8c]&&(_0x26f004=this['indexBuffe'+'r'][0x1bda+-0x2*-0x137c+-0x42d2]['readData'](_0x644336));return _0x26f004;}['update'](_0x105b95=Ms,_0x53208a=!(0x3a*0x2+-0x12ec+0x4*0x49e)){if(this['_geometryD'+'ata']){if(_0x53208a){const _0x4a5b41=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x4a5b41&&_0x4a5b41['componentC'+'ount']===0x3*0x8a5+0x2*0x11a2+-0x58*0xb2&&(this['_aabb']['compute'](_0x4a5b41['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x28dccd=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x28dccd=!(0x16*0x18e+-0x13d+-0x20f7),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x28dccd&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x355a8c=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x355a8c=!(0xf8a+0x1*-0xc7a+-0x38*0xe),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x355a8c&&this['indexBuffe'+'r']['length']>-0x26*0xdd+0x7c+0x2052&&this['indexBuffe'+'r'][0x24*0x31+0x1d9a+-0x247e]&&(this['indexBuffe'+'r'][-0x524+0x176a+-0x1246]['destroy'](),this['indexBuffe'+'r'][0x1ca3+0x362+-0x2005]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0xba6+0x118f*-0x2+-0x4*-0xbb1]['type']=_0x105b95,this['indexBuffe'+'r']['length']>0x1e8b+-0x3f5*-0x5+-0x3254&&this['indexBuffe'+'r'][-0x1cf2+0x4*-0x3b6+0x2bca]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x10*-0x1eb+-0x1de7*0x1+0x1*0x3c97]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x538*0x1+-0x1b73+0x163b]['indexed']=!(0x214b*-0x1+0x19e6+-0x1*-0x765)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x1*-0x755+-0x1b34+-0xb83*-0x3]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0xcf2+-0x1*-0x19f7+-0x65*0x21]['indexed']=!(-0x1*0x22ed+-0x1ff0+0x42de)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x3*-0xaa5+0x20c0+-0xd1,this['_geometryD'+'ata']['indexCount']=0x2220+0x267e+0x11e*-0x41,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1f7b+-0xf*-0xb7+0x14c3),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x1602+-0x1c7c+0x67b),this['_geometryD'+'ata']['recreate']=!(0x119c+0xc34+0xd*-0x24b),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x2ec652){const _0x3f7f88=[];for(const _0x3d55a6 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x33cb29=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3d55a6];_0x3f7f88['push']({'semantic':_0x3d55a6,'components':_0x33cb29['componentC'+'ount'],'type':_0x33cb29['dataType'],'normalize':_0x33cb29['dataTypeNo'+'rmalize'],'asInt':_0x33cb29['asInt']});}return new Et(this['device'],_0x3f7f88,_0x2ec652);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x24412b=this['_geometryD'+'ata']['maxVertice'+'s'],_0x4d8108=this['_buildVert'+'exFormat'](_0x24412b);this['vertexBuff'+'er']=new os(this['device'],_0x4d8108,_0x24412b,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x33eafb=new go(this['vertexBuff'+'er']),_0x334724=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x8be61a in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x1c1eeb=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x8be61a];_0x33eafb['writeData'](_0x8be61a,_0x1c1eeb['data'],_0x334724),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x8be61a];}_0x33eafb['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x1506+0x200f+-0xb09||!this['indexBuffe'+'r'][-0x1ca6+0x248*-0x3+-0x237e*-0x1]){const _0x250972=this['_geometryD'+'ata']['maxVertice'+'s'],_0x3c4d38=_0x250972>-0x1030d+0x136f3*0x1+0x1*0xcc19||_0x250972===0x1*0x1135+0xe20+-0x269*0xd?nr:Pi,_0x481182=this['_storageIn'+'dex']?{'storage':!(0x12d0+-0x19f9+0x3*0x263)}:void(0xbd7*-0x2+0xd7b+0xa33);this['indexBuffe'+'r'][-0x1*-0xe1d+0x1*-0xb6f+-0x2ae]=new lr(this['device'],_0x3c4d38,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x1b7*-0x3+-0x32d*0x5+-0x3*-0x702),_0x481182);}const _0x5036b7=this['_geometryD'+'ata']['indices'];_0x5036b7&&(this['indexBuffe'+'r'][0x1*0x35b+-0xceb+0x990]['writeData'](_0x5036b7,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x1fc2ad){_0x1fc2ad===Dr?this['generateWi'+'reframe']():_0x1fc2ad===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x272*0x5+-0x32+-0xc08,'indexed':!(0xfb*-0x3+-0xa49+0x3*0x469)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x2da5da=this['vertexBuff'+'er']['numVertice'+'s'],_0x379cb0=[];let _0x54579e;if(this['indexBuffe'+'r']['length']>-0x1*0xd30+-0x1*-0x2591+-0x1861&&this['indexBuffe'+'r'][0x3*-0x329+0x1a5e+0x189*-0xb]){const _0x569bb9=[[0x1fb6+-0x388+-0x1c2e,-0x26b7+0x2432+0x26*0x11],[0x5*-0x431+0x361+0x1*0x1195,-0x3*-0xa49+-0x1696+-0x843],[0x1*-0x1df9+0xbdc+-0x1*-0x121f,-0x11ed+0x1cd*-0x7+0x4*0x7a2]],_0x1a3f2c=this['primitive'][yo]['base'],_0x2943aa=this['primitive'][yo]['count'],_0x111d32=this['indexBuffe'+'r'][yo],_0x1dcc05=new Lh[_0x111d32['format']](_0x111d32['storage']),_0x2580ef=new Set();for(let _0x8c8b3e=_0x1a3f2c;_0x8c8b3e<_0x1a3f2c+_0x2943aa;_0x8c8b3e+=-0x13b0+0x786+-0xc2d*-0x1)for(let _0x160d3f=-0x215b+0x1de*-0xd+-0x39a1*-0x1;_0x160d3f<0x12c9+0xf65+-0x222b;_0x160d3f++){const _0x1d11bf=_0x1dcc05[_0x8c8b3e+_0x569bb9[_0x160d3f][0x1*-0x266f+0x7b7+0x1eb8]],_0x1828be=_0x1dcc05[_0x8c8b3e+_0x569bb9[_0x160d3f][-0x7bd*-0x4+-0x2000+0x1*0x10d]],_0x4bf8fe=_0x1d11bf>_0x1828be?_0x1828be*_0x2da5da+_0x1d11bf:_0x1d11bf*_0x2da5da+_0x1828be;_0x2580ef['has'](_0x4bf8fe)||(_0x2580ef['add'](_0x4bf8fe),_0x379cb0['push'](_0x1d11bf,_0x1828be));}_0x54579e=_0x111d32['format'];}else{for(let _0x210a39=-0x731+-0x17c5*0x1+0x1ef6;_0x210a39<_0x2da5da;_0x210a39+=0x1615+-0xb8c*-0x2+-0x2d2a)_0x379cb0['push'](_0x210a39,_0x210a39+(0x100a*-0x2+-0x2043+-0x202c*-0x2),_0x210a39+(0x1632*-0x1+-0x15ab+0x2*0x15ef),_0x210a39+(0x8*-0x1cb+-0x32f+0x1189),_0x210a39+(0x18b3+-0x1f00*0x1+0x64f),_0x210a39);_0x54579e=_0x379cb0['length']>-0xbc6a+-0x1f726+0x3b38f?nr:Pi;}const _0x167524=new lr(this['vertexBuff'+'er']['device'],_0x54579e,_0x379cb0['length']);new Lh[_0x167524['format']](_0x167524['storage'])['set'](_0x379cb0),_0x167524['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x379cb0['length'],'indexed':!(-0x1*-0xe1e+-0x878+-0x5a6)},this['indexBuffe'+'r'][Dr]=_0x167524;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),Wm=new T(),$m=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x4fe02c,_0xfff2a6){return _0x4fe02c instanceof Function?_0x4fe02c:_0x14d0b0=>{let _0x1aa03f=_0x14d0b0[_0x4fe02c];return _0x1aa03f instanceof Function&&(_0x1aa03f=_0x1aa03f()),_0x1aa03f===_0xfff2a6;};}function w0(_0xdbb8d3,_0x456172){if(_0x456172(_0xdbb8d3))return _0xdbb8d3;const _0x325c38=_0xdbb8d3['_children'],_0x56b22a=_0x325c38['length'];for(let _0x32a88a=-0x39*0xa2+-0xa4b+0x2e5d;_0x32a88a<_0x56b22a;++_0x32a88a){const _0x3bec70=w0(_0x325c38[_0x32a88a],_0x456172);if(_0x3bec70)return _0x3bec70;}return null;}class De extends ce{constructor(_0x170be8='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(0x241*0x4+-0x1116+0x813,0x4f*0x3f+0x1ab6+-0x2e26,-0x23d*-0x5+-0x231+-0x8ff)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x2080+-0x207*0xa+0x34c7)),c(this,'_aabbVer',-0x1036+-0x2051+0x12f*0x29),c(this,'_frozen',!(-0x17e+-0x2500+0x267f)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0x102a*0x1+0x2501+-0x14d6)),c(this,'_worldScal'+'eSign',0xa21+0x6*0x1dd+-0x1*0x154f),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(-0x2*0x7dd+0x928*0x1+0x692)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',-0x1*0x11b4+-0x885*0x2+0x2*0x115f),c(this,'_enabled',!(0x231e*-0x1+-0x11a6+-0xb*-0x4cc)),c(this,'_enabledIn'+'Hierarchy',!(-0x2c*-0x7f+-0x16f8+0x1*0x125)),c(this,'scaleCompe'+'nsation',!(0xcfc+0x2*-0xc31+-0x3cd*-0x3)),this['name']=_0x170be8;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x1fff*0x1+-0x70*0x2+-0x838*-0x4));}get['normalMatr'+'ix'](){const _0x3a03d5=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x3a03d5['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x11e5+-0x1254+-0x7*-0x10)),_0x3a03d5;}set['enabled'](_0x5d6f1){var _0x4fe87b;this['_enabled']!==_0x5d6f1&&(this['_enabled']=_0x5d6f1,(_0x5d6f1&&((_0x4fe87b=this['_parent'])!=null&&_0x4fe87b['enabled'])||!_0x5d6f1)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x5d6f1));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x3e6be6=this['_parent'];if(!_0x3e6be6)return'';let _0xfecad4=this['name'];for(;_0x3e6be6&&_0x3e6be6['_parent'];)_0xfecad4=_0x3e6be6['name']+'/'+_0xfecad4,_0x3e6be6=_0x3e6be6['_parent'];return _0xfecad4;}get['root'](){let _0x2d4f46=this;for(;_0x2d4f46['_parent'];)_0x2d4f46=_0x2d4f46['_parent'];return _0x2d4f46;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x9a4165,_0x2879a7){_0x9a4165['_onHierarc'+'hyStateCha'+'nged'](_0x2879a7);const _0x35c130=_0x9a4165['_children'];for(let _0x2c2520=0x2*0x329+-0x7*0x309+-0xeed*-0x1,_0x24760f=_0x35c130['length'];_0x2c2520<_0x24760f;_0x2c2520++)_0x35c130[_0x2c2520]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x35c130[_0x2c2520],_0x2879a7);}['_onHierarc'+'hyStateCha'+'nged'](_0x881ee3){this['_enabledIn'+'Hierarchy']=_0x881ee3,_0x881ee3&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x3e5f59){_0x3e5f59['name']=this['name'];const _0x55a6a9=this['tags']['_list'];_0x3e5f59['tags']['clear']();for(let _0x2d2110=0x26cb+0x2311+-0x49dc;_0x2d2110<_0x55a6a9['length'];_0x2d2110++)_0x3e5f59['tags']['add'](_0x55a6a9[_0x2d2110]);_0x3e5f59['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x3e5f59['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x3e5f59['localScale']['copy'](this['localScale']),_0x3e5f59['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x3e5f59['position']['copy'](this['position']),_0x3e5f59['rotation']['copy'](this['rotation']),_0x3e5f59['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x3e5f59['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x3e5f59['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x3e5f59['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x3e5f59['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x3e5f59['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x3e5f59['_aabbVer']=this['_aabbVer']+(-0x1ec9+-0x1f78+0x3e42),_0x3e5f59['_enabled']=this['_enabled'],_0x3e5f59['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x3e5f59['_enabledIn'+'Hierarchy']=!(0x1*0x1a05+-0x505+-0x7d*0x2b);}['clone'](){const _0x1aadff=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x1aadff),_0x1aadff;}['copy'](_0x4f8a6c){return _0x4f8a6c['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x50505d=this['_children'];for(;_0x50505d['length'];){const _0xbc9375=_0x50505d['pop']();_0xbc9375['_parent']=null,_0xbc9375['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x445066,_0x29e716){const _0x37f53d=[],_0x32e58b=Xm(_0x445066,_0x29e716);return this['forEach'](_0xf555a7=>{_0x32e58b(_0xf555a7)&&_0x37f53d['push'](_0xf555a7);}),_0x37f53d;}['findOne'](_0x483b43,_0x3365c7){const _0x47a2f9=Xm(_0x483b43,_0x3365c7);return w0(this,_0x47a2f9);}['findByTag'](){const _0x11e5e0=arguments,_0x32a9c5=[],_0x2e6b29=(_0x147fc9,_0x399b38)=>{_0x399b38&&_0x147fc9['tags']['has'](..._0x11e5e0)&&_0x32a9c5['push'](_0x147fc9);for(let _0x341b6b=-0x1e47+-0x16ec+0x3533;_0x341b6b<_0x147fc9['_children']['length'];_0x341b6b++)_0x2e6b29(_0x147fc9['_children'][_0x341b6b],!(0x26d5+-0xd85*-0x1+-0x345a));};return _0x2e6b29(this,!(0x2390+0xa1d+-0x2dac)),_0x32a9c5;}['findByName'](_0x45c650){return this['findOne']('name',_0x45c650);}['findByPath'](_0x17617b){const _0x409dee=Array['isArray'](_0x17617b)?_0x17617b:_0x17617b['split']('/');let _0x811825=this;for(let _0xfadeb=-0x6*-0x4cd+-0x389+-0x1945,_0x3c325a=_0x409dee['length'];_0xfadeb<_0x3c325a;++_0xfadeb)if(_0x811825=_0x811825['children']['find'](_0x5e8387=>_0x5e8387['name']===_0x409dee[_0xfadeb]),!_0x811825)return null;return _0x811825;}['forEach'](_0x37da88,_0x2d8aa6){_0x37da88['call'](_0x2d8aa6,this);const _0x22171b=this['_children'],_0x527a0f=_0x22171b['length'];for(let _0x22f452=-0x260f+-0x47*0x4a+0x3*0x1387;_0x22f452<_0x527a0f;++_0x22f452)_0x22171b[_0x22f452]['forEach'](_0x37da88,_0x2d8aa6);}['isDescenda'+'ntOf'](_0x30ea3a){let _0x4acb23=this['_parent'];for(;_0x4acb23;){if(_0x4acb23===_0x30ea3a)return!(0x984+0x1069*0x1+0x19ed*-0x1);_0x4acb23=_0x4acb23['_parent'];}return!(-0x8c2+0x1b36+-0x1273);}['isAncestor'+'Of'](_0x53f28e){return _0x53f28e['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x2409+0xcf4+-0x30fc)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x815*0x1+-0xc72+0x1*0x1487&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x49e9ff;(_0x49e9ff=this['_parent'])==null||_0x49e9ff['removeChil'+'d'](this);}['reparent'](_0x4f73d7,_0x768bc3){this['remove'](),_0x4f73d7&&(_0x768bc3>=-0x17*-0x6d+0x358*0x2+0x1*-0x107b?_0x4f73d7['insertChil'+'d'](this,_0x768bc3):_0x4f73d7['addChild'](this));}['setLocalEu'+'lerAngles'](_0x3098bc,_0xdccae9,_0x58c4af){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x3098bc,_0xdccae9,_0x58c4af),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x3434aa,_0x149294,_0x20a3bf){_0x3434aa instanceof T?this['localPosit'+'ion']['copy'](_0x3434aa):this['localPosit'+'ion']['set'](_0x3434aa,_0x149294,_0x20a3bf),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x5d23ed,_0xe985e8,_0x4b2bca,_0x3c6f10){_0x5d23ed instanceof se?this['localRotat'+'ion']['copy'](_0x5d23ed):this['localRotat'+'ion']['set'](_0x5d23ed,_0xe985e8,_0x4b2bca,_0x3c6f10),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x458997,_0x341bf2,_0x217954){_0x458997 instanceof T?this['localScale']['copy'](_0x458997):this['localScale']['set'](_0x458997,_0x341bf2,_0x217954),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x1525*0x1+-0x39d+0xc61*0x2),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x294c34=this['_parent'];for(;_0x294c34;)_0x294c34['_frozen']=!(-0x36d+-0x5*0x68a+0x2420),_0x294c34=_0x294c34['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x15ca+-0x13*-0x12f+-0xb2),this['_dirtyWorl'+'d']=!(-0x2539*-0x1+-0x1bf+-0x237a);for(let _0x4a55f5=-0xf65+-0x1*0x20ed+-0x1829*-0x2;_0x4a55f5<this['_children']['length'];_0x4a55f5++)this['_children'][_0x4a55f5]['_dirtyWorl'+'d']||this['_children'][_0x4a55f5]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x248b+-0xc*-0x33b+0x239*-0x1),this['_worldScal'+'eSign']=-0x19df*0x1+0x1e71*0x1+-0x492,this['_aabbVer']++;}['setPositio'+'n'](_0x24da2c,_0x4015af,_0x35f9b9){_0x24da2c instanceof T?kt['copy'](_0x24da2c):kt['set'](_0x24da2c,_0x4015af,_0x35f9b9),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x53b96e,_0x5ea371,_0x22d4cc,_0x443c7a){if(_0x53b96e instanceof se?Bt['copy'](_0x53b96e):Bt['set'](_0x53b96e,_0x5ea371,_0x22d4cc,_0x443c7a),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x58a2e0=this['_parent']['getRotatio'+'n']();An['copy'](_0x58a2e0)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x9b10a4,_0x17f674){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x9b10a4),this['localRotat'+'ion']['copy'](_0x17f674);else{const _0x14c0a3=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x14c0a3)['invert'](),Ha['transformP'+'oint'](_0x9b10a4,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x17f674);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0xf604fa,_0x504bfd,_0x27f344){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0xf604fa,_0x504bfd,_0x27f344),this['_parent']!==null){const _0x1bbc64=this['_parent']['getRotatio'+'n']();An['copy'](_0x1bbc64)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x14144e){this['_prepareIn'+'sertChild'](_0x14144e),this['_children']['push'](_0x14144e),this['_onInsertC'+'hild'](_0x14144e);}['addChildAn'+'dSaveTrans'+'form'](_0x31a8e6){const _0x54addc=_0x31a8e6['getPositio'+'n'](),_0x30356d=_0x31a8e6['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x31a8e6),_0x31a8e6['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x54addc)),_0x31a8e6['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x30356d)),this['_children']['push'](_0x31a8e6),this['_onInsertC'+'hild'](_0x31a8e6);}['insertChil'+'d'](_0x575483,_0x388a27){this['_prepareIn'+'sertChild'](_0x575483),this['_children']['splice'](_0x388a27,0x2c*-0x7a+-0x6e*-0x10+0xe18,_0x575483),this['_onInsertC'+'hild'](_0x575483);}['_prepareIn'+'sertChild'](_0x5a330c){_0x5a330c['remove'](),v['assert'](_0x5a330c!==this,'GraphNode\x20'+(_0x5a330c==null?void(-0xf44+0x2410+0x4*-0x533):_0x5a330c['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x5a330c),'GraphNode\x20'+(_0x5a330c==null?void(-0x24a7*-0x1+0x140+-0x25e7):_0x5a330c['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x5a7164,_0x4d0e34,_0x476d18){this['fire'](_0x5a7164,_0x476d18);for(let _0x34c6b8=0x1266+0x1775+-0x1*0x29db;_0x34c6b8<this['_children']['length'];_0x34c6b8++)this['_children'][_0x34c6b8]['_fireOnHie'+'rarchy'](_0x4d0e34,_0x4d0e34,_0x476d18);}['_onInsertC'+'hild'](_0x344c82){_0x344c82['_parent']=this;const _0x4ed935=_0x344c82['_enabled']&&this['enabled'];_0x344c82['_enabledIn'+'Hierarchy']!==_0x4ed935&&(_0x344c82['_enabledIn'+'Hierarchy']=_0x4ed935,_0x344c82['_notifyHie'+'rarchyStat'+'eChanged'](_0x344c82,_0x4ed935)),_0x344c82['_updateGra'+'phDepth'](),_0x344c82['_dirtifyWo'+'rld'](),this['_frozen']&&_0x344c82['_unfreezeP'+'arentToRoo'+'t'](),_0x344c82['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x344c82);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x132f*0x1+-0xaa6+0x16c*-0x6):0x1*0x139d+-0x7f*-0x3+-0x151a;for(let _0x515848=0xf77+-0x143b+0x4c4,_0x2c40ae=this['_children']['length'];_0x515848<_0x2c40ae;_0x515848++)this['_children'][_0x515848]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0xba4fcb){const _0x531ff8=this['_children']['indexOf'](_0xba4fcb);_0x531ff8!==-(-0x15b3+0x1dd*-0xa+0x2856)&&(this['_children']['splice'](_0x531ff8,0x59d+0x901+-0x3*0x4df),_0xba4fcb['_parent']=null,_0xba4fcb['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0xba4fcb));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x1649+-0x17b7+0x2e01)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x2ab077;const _0x1c4c6d=this['_parent'];let _0x578d65=this['localScale'],_0x582799=_0x1c4c6d;if(_0x582799){for(;_0x582799&&_0x582799['scaleCompe'+'nsation'];)_0x582799=_0x582799['_parent'];_0x582799&&(_0x582799=_0x582799['_parent'],_0x582799&&(_0x2ab077=_0x582799['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x2ab077,this['localScale']),_0x578d65=Wm));}_d['setFromMat'+'4'](_0x1c4c6d['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x3cc1a0=_0x1c4c6d['worldTrans'+'form'];_0x1c4c6d['scaleCompe'+'nsation']&&($m['mul2'](_0x2ab077,_0x1c4c6d['getLocalSc'+'ale']()),Gm['setTRS'](_0x1c4c6d['worldTrans'+'form']['getTransla'+'tion'](md),_d,$m),_0x3cc1a0=Gm),_0x3cc1a0['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x578d65);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x221c+-0x1afe*-0x1+0x71f);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x24dc+0x1*-0x159a+-0xf42),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x1574b0=this['_children'];for(let _0x72aee8=0x1566+-0x7*-0x3d+-0x49d*0x5,_0x135568=_0x1574b0['length'];_0x72aee8<_0x135568;_0x72aee8++)_0x1574b0[_0x72aee8]['syncHierar'+'chy']();}['lookAt'](_0x4d0199,_0x1ab203,_0x588a09,_0x1e821b=0x217d+0x84e+-0x29cb,_0x31a1a1=-0x46b*-0x2+-0x20bb+0x17e6,_0x1a52b7=0x147a+-0x1b5e+0x6e4){if(_0x4d0199 instanceof T)gd['copy'](_0x4d0199),_0x1ab203 instanceof T?El['copy'](_0x1ab203):El['copy'](T['UP']);else{if(_0x588a09===void(0x1e54+0x1328+-0x317c))return;gd['set'](_0x4d0199,_0x1ab203,_0x588a09),El['set'](_0x1e821b,_0x31a1a1,_0x1a52b7);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x27e03b,_0x8b7a7d,_0x369d4e){_0x27e03b instanceof T?kt['copy'](_0x27e03b):kt['set'](_0x27e03b,_0x8b7a7d,_0x369d4e),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0xbbe0ca,_0x452f12,_0x5afff4){_0xbbe0ca instanceof T?kt['copy'](_0xbbe0ca):kt['set'](_0xbbe0ca,_0x452f12,_0x5afff4),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x4215b3,_0x337a,_0x4b49d2){if(Bt['setFromEul'+'erAngles'](_0x4215b3,_0x337a,_0x4b49d2),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x4eb29a=this['getRotatio'+'n'](),_0x2913d4=this['_parent']['getRotatio'+'n']();An['copy'](_0x2913d4)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x4eb29a);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x294226,_0x30ffdf,_0x9d5511){Bt['setFromEul'+'erAngles'](_0x294226,_0x30ffdf,_0x9d5511),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x5998b7){const _0xeedef0=T0['get'](_0x5998b7);return v['assert'](_0xeedef0),_0xeedef0;}function sC(_0x54069e,_0x23a167){v['assert'](_0x23a167),T0['get'](_0x54069e,()=>_0x23a167);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x33b856,_0x11691b)=>{_0x11691b['destroy']();}),this['cache']['clear']();}['incRef'](_0x203cfd){const _0x5d87d8=(this['cache']['get'](_0x203cfd)||0x178+0xccb+-0x1*0xe43)+(-0x3a*-0x22+0x103d+0x8*-0x2fe);this['cache']['set'](_0x203cfd,_0x5d87d8);}['decRef'](_0x25bc62){if(_0x25bc62){let _0x33bb40=this['cache']['get'](_0x25bc62);_0x33bb40&&(_0x33bb40--,_0x33bb40===-0x4*0x2b0+0x4*-0x337+0x179c?(this['cache']['delete'](_0x25bc62),_0x25bc62['destroy']()):this['cache']['set'](_0x25bc62,_0x33bb40));}}}class Si{static['incRef'](_0x4e3026){this['cache']['incRef'](_0x4e3026);}static['decRef'](_0x4c6eb4){this['cache']['decRef'](_0x4c6eb4);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=-0x2048+-0xc88+0x2cd0;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(0x10d*0x1c+0x1bb7+-0x391f);class aC{constructor(_0x2403ad){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(0xe3d+-0x1b49+-0x1*-0xd0d)),this['count']=_0x2403ad;}['destroy'](){var _0x5b46d1;this['_destroyVe'+'rtexBuffer']&&((_0x5b46d1=this['vertexBuff'+'er'])==null||_0x5b46d1['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x59658e){if(!this['bindGroup']){const _0x1b1b60=this['shader'];v['assert'](_0x1b1b60);const _0x58e19d=_0x1b1b60['meshBindGr'+'oupFormat'];v['assert'](_0x58e19d),this['bindGroup']=new mp(_0x59658e,_0x58e19d),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x5e3ae6){if(!this['uniformBuf'+'fer']){const _0x3bc269=this['shader'];v['assert'](_0x3bc269);const _0x404742=_0x3bc269['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x404742),this['uniformBuf'+'fer']=new gp(_0x5e3ae6,_0x404742,!(-0x23c3*-0x1+0x477+-0x2839));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x2dd911,_0x1d3068;(_0x2dd911=this['bindGroup'])==null||_0x2dd911['destroy'](),this['bindGroup']=null,(_0x1d3068=this['uniformBuf'+'fer'])==null||_0x1d3068['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0xfde6f1,_0x1b9839,_0x49a1ef=null){c(this,'castShadow',!(0x807*-0x4+-0x17f+-0xb34*-0x3)),c(this,'cull',!(0xc8e+-0xd*-0x152+-0x1db8)),c(this,'drawOrder',0x2055*0x1+-0xad0+0x313*-0x7),c(this,'node'),c(this,'visible',!(-0x493*-0x1+0x7b3+0x1*-0xc46)),c(this,'visibleThi'+'sFrame',!(0x2c9*-0x1+0x1*-0xbba+-0x4*-0x3a1)),c(this,'flipFacesF'+'actor',-0xf95+0xe6+0x50*0x2f),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x1b07+-0x18f3+-0x19fd*-0x2)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(-0x1cee+-0x14cd+0x31bc)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(-0x9dd+-0x713+0x10f1*0x1)),c(this,'_aabbMeshV'+'er',-(0x1a50*-0x1+-0x3b+0x1a8c)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x4*0x4c1+0x2*-0xaf7+-0x175*-0x2)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x95*0x19+0x1d*-0xf9+0xda8,-0x5*0x1c4+0x1*0x1155+0x1*-0x881]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(0x601+-0xc48+0x647)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(0x1124*-0x1+-0x2*0xe6d+-0x1d7*-0x19)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0x9*-0x3b9+0x24ad+-0x31c*0x1),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0xfde6f1 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x49a1ef,this['_mesh']=_0xfde6f1,_0xfde6f1['incRefCoun'+'t'](),this['material']=_0x1b9839,_0xfde6f1['vertexBuff'+'er']){const _0x3e4206=_0xfde6f1['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x3e4206['hasUv0']?m0:-0x2038+-0x1136+0x316e,this['_shaderDef'+'s']|=_0x3e4206['hasUv1']?_0:-0x46c+-0x902*-0x1+-0x496*0x1,this['_shaderDef'+'s']|=_0x3e4206['hasColor']?g0:-0x7ee+-0x2*0x1183+-0x4*-0xabd,this['_shaderDef'+'s']|=_0x3e4206['hasTangent'+'s']?Mp:-0x1454+0x923*0x1+0xb31*0x1;}this['updateKey']();}set['renderStyl'+'e'](_0x4bd152){this['_renderSty'+'le']=_0x4bd152,this['mesh']['prepareRen'+'derState'](_0x4bd152);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x4110f0){_0x4110f0!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x4110f0,_0x4110f0&&_0x4110f0['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x8a2c1e){this['_aabb']=_0x8a2c1e;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x39aabb=this['_customAab'+'b'],_0x1d7f5d=!!_0x39aabb;if(!_0x39aabb){if(_0x39aabb=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x406835=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x406835);}const _0x13137c=this['mesh']['boneUsed'];let _0xafc23c=!(0x42*-0x2e+-0x1d28+0x5dc*0x7);for(let _0xbfd432=-0x127f+-0x2f9+0x1578*0x1;_0xbfd432<this['mesh']['boneAabb']['length'];_0xbfd432++)_0x13137c[_0xbfd432]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0xbfd432],this['skinInstan'+'ce']['matrices'][_0xbfd432]),_0xafc23c?(_0xafc23c=!(0x1da0+0x21c9+0x1*-0x3f68),_0x39aabb['center']['copy'](Cl['center']),_0x39aabb['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x39aabb['add'](Cl));_0x1d7f5d=!(-0xba6*0x3+-0x219*0x1+0x250b);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x39aabb['center']['copy'](this['mesh']['aabb']['center']),_0x39aabb['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x39aabb['center']['set'](0x19*-0x1c+0x21e*-0xd+0x1e42,0x1*0x1813+-0xb*-0x245+-0x310a,0x156+0x754+-0x8aa),_0x39aabb['halfExtent'+'s']['set'](0x15ca*0x1+-0xc45+-0x985*0x1,-0x75f+0x2*-0x122e+-0x5*-0x8bf,0x5b9+0x2593+-0xa3*0x44)),this['mesh']&&this['mesh']['morph']){const _0x96aa4f=this['mesh']['morph']['aabb'];_0x39aabb['_expand'](_0x96aa4f['getMin'](),_0x96aa4f['getMax']());}_0x1d7f5d=!(0x24f1+-0x1a42+-0x223*0x5),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x1d7f5d&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x39aabb,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x2f124a=>{_0x2f124a['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x11066c,_0x36aef7,_0x27b7df,_0x1b35f9,_0x499348,_0x4d7172,_0x117841){var _0x47f3bc;const _0x37eb57=this['_shaderDef'+'s'];yr[-0xf5f+-0x14dd+0x1*0x243c]=_0x11066c,yr[0x1d*0x145+-0x2f*0x7b+-0xe3b]=_0x36aef7,yr[-0x1abb+-0xd0d+0x39e*0xb]=_0x37eb57,yr[0x1e4+0x2*0x113c+-0x2459]=_0x1b35f9['hash'];const _0x6c2328=Zy(yr);let _0x3fd27e=this['_shaderCac'+'he']['get'](_0x6c2328);if(!_0x3fd27e){const _0x385935=this['_material'];if(_0x3fd27e=new oC(),_0x3fd27e['shader']=_0x385935['variants']['get'](_0x6c2328),_0x3fd27e['hashes']=new Uint32Array(yr),!_0x3fd27e['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x4a5440=_0x385935['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x27b7df,'objDefs':_0x37eb57,'cameraShaderParams':_0x1b35f9,'pass':_0x11066c,'sortedLights':_0x117841,'viewUniformFormat':_0x499348,'viewBindGroupFormat':_0x4d7172,'vertexFormat':(_0x47f3bc=this['mesh']['vertexBuff'+'er'])==null?void(0x3*-0x1ff+-0xb0*0x35+0x1*0x2a6d):_0x47f3bc['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x385935['variants']['set'](_0x6c2328,_0x4a5440),_0x3fd27e['shader']=_0x4a5440;}this['_shaderCac'+'he']['set'](_0x6c2328,_0x3fd27e);}return v['call'](()=>{Wv['equals'](_0x3fd27e['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x3fd27e;}set['material'](_0x434572){this['clearShade'+'rs']();const _0xbfddc0=this['_material'];_0xbfddc0&&_0xbfddc0['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x434572,_0x434572&&(_0x434572['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x434572['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x28a5ed){this['_layer']=_0x28a5ed,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x4ee378){_0x4ee378!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x4ee378,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x301bdd){this['_calculate'+'SortDistan'+'ce']=_0x301bdd;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x48d7cf){this['_receiveSh'+'adow']!==_0x48d7cf&&(this['_receiveSh'+'adow']=_0x48d7cf,this['_updateSha'+'derDefs'](_0x48d7cf?this['_shaderDef'+'s']&-(0x1775+-0x17*0xbf+-0x64a):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x5631dc){this['_updateSha'+'derDefs'](_0x5631dc?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(-0xa3*0x27+-0x2*0x2c46+-0x1de*-0x5f));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0x139f+-0x3*0x5f+-0x1282;}set['skinInstan'+'ce'](_0x16b58e){this['_skinInsta'+'nce']=_0x16b58e,this['_updateSha'+'derDefs'](_0x16b58e?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0x4b8+0xc1c+-0x761)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x1f41e2){var _0x23f423;(_0x23f423=this['_morphInst'+'ance'])==null||_0x23f423['destroy'](),this['_morphInst'+'ance']=_0x1f41e2;let _0x110cdd=this['_shaderDef'+'s'];_0x110cdd=_0x1f41e2&&_0x1f41e2['morph']['morphPosit'+'ions']?_0x110cdd|qc:_0x110cdd&-(-0x17*-0xef+-0x1*0xe55+-0x323),_0x110cdd=_0x1f41e2&&_0x1f41e2['morph']['morphNorma'+'ls']?_0x110cdd|Xc:_0x110cdd&-(0xa76+0x187f+-0x6bd*0x4),_0x110cdd=_0x1f41e2&&_0x1f41e2['morph']['intRenderF'+'ormat']?_0x110cdd|jc:_0x110cdd&-(0xb49+-0x7b5*-0x7+0x2f*-0xb5),this['_updateSha'+'derDefs'](_0x110cdd);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x116a56){this['_screenSpa'+'ce']!==_0x116a56&&(this['_screenSpa'+'ce']=_0x116a56,this['_updateSha'+'derDefs'](_0x116a56?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(-0x721+-0x7*0x14b+-0x35*-0x53)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x16cefa){this['_key'][Ei]=_0x16cefa;}get['key'](){return this['_key'][Ei];}set['mask'](_0x3907df){const _0x539584=this['_shaderDef'+'s']&0xd*0x1bf2+0x757*0x43+-0x25710;this['_updateSha'+'derDefs'](_0x539584|_0x3907df<<0x26f8+0x264*0x8+-0x3a08*0x1);}get['mask'](){return this['_shaderDef'+'s']>>0x1bd7+0x24d+-0x5*0x604;}set['instancing'+'Count'](_0x460660){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x460660);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x27e+-0x1d03+0x5d*0x49;}['destroy'](){var _0x39cc01,_0x5233c4,_0x3610ab;const _0x30091f=this['mesh'];_0x30091f&&(this['mesh']=null,_0x30091f['refCount']<-0x14*-0x2+0x33+-0x2d*0x2&&_0x30091f['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x2451+-0x3*-0x1af+0x1f44],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x1ba6+0x1ee6+-0x3a8b],null),(_0x39cc01=this['_skinInsta'+'nce'])==null||_0x39cc01['destroy'](),this['_skinInsta'+'nce']=null,(_0x5233c4=this['morphInsta'+'nce'])==null||_0x5233c4['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x3610ab=this['instancing'+'Data'])==null||_0x3610ab['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x124fce,_0x48c9eb){if(_0x124fce){for(let _0x3508ba=0x4de*0x1+0x240a+-0x28e8;_0x3508ba<_0x124fce['length'];_0x3508ba++){_0x124fce[_0x3508ba]['_renderSty'+'le']=_0x48c9eb;const _0x55ec04=_0x124fce[_0x3508ba]['mesh'];xd['has'](_0x55ec04)||(xd['add'](_0x55ec04),_0x55ec04['prepareRen'+'derState'](_0x48c9eb));}xd['clear']();}}['_isVisible'](_0x1d4a73){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x1d4a73):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x1d4a73['frustum']['containsSp'+'here'](yd)>0x14cd+0x21ba+-0x3687):!(0x159b+-0xed+-0x14ad);}['updateKey'](){const _0x2d401d=this['material'],_0xa4db85=_0x2d401d['alphaToCov'+'erage']||_0x2d401d['alphaTest']?Kt:_0x2d401d['blendType'];this['_key'][Ei]=(this['layer']&-0x1*-0x1808+0x1*-0x2069+0x870)<<-0xf+-0xec*-0x17+0x1*-0x150a|(_0xa4db85===is?-0x10b5+-0x1*0x218f+-0x3245*-0x1:-0x93f+-0x2397+0x2cd6)<<-0x1*0xa0c+0x186f+-0xe49|(_0x2d401d['id']&-0x3e625b+-0x338487f+0x576aad9)<<-0x19d0+-0x201c+0x544*0xb;}['setInstanc'+'ing'](_0x2bd326,_0x1be75c=!(0x2b4+0x26b1+-0x2964)){_0x2bd326?(this['instancing'+'Data']=new aC(_0x2bd326['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x2bd326,_0x2bd326['format']['instancing']=!(-0x31*-0x82+0xebc+-0x13cf*0x2),this['cull']=_0x1be75c):(this['instancing'+'Data']=null,this['cull']=!(-0x16*0xdb+-0x15*-0xaa+0xc*0x68)),this['_updateSha'+'derDefs'](_0x2bd326?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(-0x279*0x4+0x1f0e+-0x1509));}['ensureMate'+'rial'](_0x3f0417){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x3f0417));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x11f297){return this['parameters'][_0x11f297];}['setParamet'+'er'](_0x368d02,_0x2d27c0,_0x53628b=-0x9c197c3*-0x29+0x135e4b8c*-0x1+-0x2c50b7*0x2d0){const _0x3c8bae=this['parameters'][_0x368d02];_0x3c8bae?(_0x3c8bae['data']=_0x2d27c0,_0x3c8bae['passFlags']=_0x53628b):this['parameters'][_0x368d02]={'scopeId':null,'data':_0x2d27c0,'passFlags':_0x53628b};}['setRealtim'+'eLightmap'](_0x1b526c,_0xf1143f){const _0xc2e2db=this['getParamet'+'er'](_0x1b526c);_0xc2e2db!==_0xf1143f&&(_0xc2e2db&&Si['decRef'](_0xc2e2db['data']),_0xf1143f?(Si['incRef'](_0xf1143f),this['setParamet'+'er'](_0x1b526c,_0xf1143f)):this['deletePara'+'meter'](_0x1b526c));}['deletePara'+'meter'](_0x7e5e59){this['parameters'][_0x7e5e59]&&delete this['parameters'][_0x7e5e59];}['setParamet'+'ers'](_0x18864b,_0xf33bce){const _0x3bc3cc=this['parameters'];for(const _0x1e9765 in _0x3bc3cc){const _0x54613b=_0x3bc3cc[_0x1e9765];_0x54613b['passFlags']&_0xf33bce&&(_0x54613b['scopeId']||(_0x54613b['scopeId']=_0x18864b['scope']['resolve'](_0x1e9765)),_0x54613b['scopeId']['setValue'](_0x54613b['data']));}}['setLightma'+'pped'](_0x4a584a){_0x4a584a?this['mask']=(this['mask']|cr)&-(-0x1fa3+-0x2f9+0x22a2):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x16*-0xf+0x2019*-0x1+-0xb*-0x309],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x1efb+0x1*0x16a9+0x17*-0x255],null),this['_shaderDef'+'s']&=-(-0x120e*0x1+-0x2*0x3b8+0x2a3f),this['mask']=(this['mask']|hs)&-(0x1458+-0x355+-0x10fc));}['setCustomA'+'abb'](_0x56942b){_0x56942b?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x56942b):this['_customAab'+'b']=_0x56942b['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x109c+-0x6d*0x32+-0x1f*-0x139)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[-0x9*0x3d5+-0x21d7*-0x1+0xa6,0x71*0x54+0x1201+-0x1d6*0x1e,0x14a5+0x251b+0x471*-0xd,-0x2*-0x91+0x246c+-0x258c,-0x1*-0x1527+0x4e1*-0x8+-0x394*-0x5,-0x1478+0x82*0x26+0x12d],hC=[0x8b2*0x1+0x7*0x2e1+0x5*-0x5c5,-0x1feb+-0x190d+-0x5*-0xb65,0x362*0xa+-0x103e+-0x1193,0xbc3*0x2+-0x160e+-0x178,0x124*-0x22+0x216+0x1*0x24b5,0x3fc+0x1ad0+-0x1eca],jm=new js();function Ym(_0x589d26,_0x201ee0){if(_0x589d26&&!_0x201ee0||!_0x589d26&&_0x201ee0)return!(0x1*-0x10f3+-0x323+0x1417);if(_0x589d26=_0x589d26['data'],_0x201ee0=_0x201ee0['data'],_0x589d26===_0x201ee0)return!(-0x1*0x16bd+-0x10fd*0x1+0x27ba);if(_0x589d26 instanceof Float32Array&&_0x201ee0 instanceof Float32Array){if(_0x589d26['length']!==_0x201ee0['length'])return!(0x182f+-0x11d*-0x1+-0x194b);for(let _0x2a70b2=0x1252+0xf29+-0x217b;_0x2a70b2<_0x589d26['length'];_0x2a70b2++)if(_0x589d26[_0x2a70b2]!==_0x201ee0[_0x2a70b2])return!(0x1390+0x1*0x1d39+0x30c8*-0x1);return!(-0x889+0x233b+-0x1ab2);}return!(-0x254*0x10+-0xb30+0x3071);}function cC(_0x50f75b,_0x6061be){for(const _0xf3fad2 in _0x50f75b)if(_0x50f75b['hasOwnProp'+'erty'](_0xf3fad2)&&!Ym(_0x50f75b[_0xf3fad2],_0x6061be[_0xf3fad2]))return!(0xf*-0x9b+0x1*-0x89+0x99f);for(const _0x9dfe38 in _0x6061be)if(_0x6061be['hasOwnProp'+'erty'](_0x9dfe38)&&!Ym(_0x6061be[_0x9dfe38],_0x50f75b[_0x9dfe38]))return!(-0x2149+-0xe*0xa7+0x2a6c);return!(0x138e+-0x1588+0x1fa);}function Sd(_0x4b2f27){return _0x4b2f27['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0xfb52c8,_0x350bd0,_0x3c9c3c){this['device']=_0xfb52c8,this['rootNode']=_0x350bd0,this['scene']=_0x3c9c3c,this['_init']=!(0x211b+-0x1e64+0x1*-0x2b6),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1*-0x259b+0x1*0x691+-0x1f0a*-0x1,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x32f192,_0xcc4dbf,_0x4c6d78,_0xa5312b,_0x17edf2){if(_0xa5312b===void(-0x213*0xe+-0x1d3b+0x3a45)&&(_0xa5312b=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0xa5312b]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xa5312b+('\x20already\x20e'+'xists.'));return;}const _0x2e1995=new et(_0xa5312b,_0x32f192,_0xcc4dbf,_0x4c6d78,_0x17edf2);return this['_batchGrou'+'ps'][_0xa5312b]=_0x2e1995,_0x2e1995;}['removeGrou'+'p'](_0x5c5988){if(!this['_batchGrou'+'ps'][_0x5c5988]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x5c5988+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0xb376ec=[];for(let _0x4c1104=-0x2a*-0xc1+-0x21f3*0x1+0x249;_0x4c1104<this['_batchList']['length'];_0x4c1104++)this['_batchList'][_0x4c1104]['batchGroup'+'Id']===_0x5c5988?this['destroyBat'+'ch'](this['_batchList'][_0x4c1104]):_0xb376ec['push'](this['_batchList'][_0x4c1104]);this['_batchList']=_0xb376ec,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x5c5988),delete this['_batchGrou'+'ps'][_0x5c5988];}['markGroupD'+'irty'](_0xc9bd08){this['_dirtyGrou'+'ps']['indexOf'](_0xc9bd08)<-0x54*-0x7+0x1aa9+-0x1cf5&&this['_dirtyGrou'+'ps']['push'](_0xc9bd08);}['getGroupBy'+'Name'](_0x4a68fe){const _0x39e206=this['_batchGrou'+'ps'];for(const _0x280b84 in _0x39e206)if(_0x39e206['hasOwnProp'+'erty'](_0x280b84)&&_0x39e206[_0x280b84]['name']===_0x4a68fe)return _0x39e206[_0x280b84];return null;}['getBatches'](_0x310c7a){const _0x251ee4=[],_0x313f5e=this['_batchList']['length'];for(let _0x16499=-0x3*0x36b+-0x161e+0x205f;_0x16499<_0x313f5e;_0x16499++){const _0x3ac1f5=this['_batchList'][_0x16499];_0x3ac1f5['batchGroup'+'Id']===_0x310c7a&&_0x251ee4['push'](_0x3ac1f5);}return _0x251ee4;}['_removeMod'+'elsFromBat'+'chGroup'](_0x3742cd,_0x576f81){if(_0x3742cd['enabled']){_0x3742cd['model']&&_0x3742cd['model']['batchGroup'+'Id']===_0x576f81&&(_0x3742cd['model']['batchGroup'+'Id']=-(-0x2138+-0x1*0xbb7+-0x10*-0x2cf)),_0x3742cd['render']&&_0x3742cd['render']['batchGroup'+'Id']===_0x576f81&&(_0x3742cd['render']['batchGroup'+'Id']=-(0xb60+-0x13f3+0xc*0xb7)),_0x3742cd['element']&&_0x3742cd['element']['batchGroup'+'Id']===_0x576f81&&(_0x3742cd['element']['batchGroup'+'Id']=-(0x16f5+0x9be+-0x20b2)),_0x3742cd['sprite']&&_0x3742cd['sprite']['batchGroup'+'Id']===_0x576f81&&(_0x3742cd['sprite']['batchGroup'+'Id']=-(0x24*0x68+-0x4e4*-0x7+-0xb*0x471));for(let _0x5c85be=0x47*-0x43+-0x149a+0x272f;_0x5c85be<_0x3742cd['_children']['length'];_0x5c85be++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x3742cd['_children'][_0x5c85be],_0x576f81);}}['insert'](_0xf5c97f,_0x5be829,_0x5e8851){const _0x35a2db=this['_batchGrou'+'ps'][_0x5be829];v['assert'](_0x35a2db,'Invalid\x20ba'+'tch\x20'+_0x5be829+'\x20insertion'),_0x35a2db&&_0x35a2db['_obj'][_0xf5c97f]['indexOf'](_0x5e8851)<0xb3f*0x3+-0x15a1+-0xc1c&&(_0x35a2db['_obj'][_0xf5c97f]['push'](_0x5e8851),this['markGroupD'+'irty'](_0x5be829));}['remove'](_0x1dcbfd,_0x13d1bc,_0x43fc98){const _0x57ce9f=this['_batchGrou'+'ps'][_0x13d1bc];if(v['assert'](_0x57ce9f,'Invalid\x20ba'+'tch\x20'+_0x13d1bc+'\x20insertion'),_0x57ce9f){const _0x437bb1=_0x57ce9f['_obj'][_0x1dcbfd]['indexOf'](_0x43fc98);_0x437bb1>=0x32b+-0x1532+-0x1*-0x1207&&(_0x57ce9f['_obj'][_0x1dcbfd]['splice'](_0x437bb1,0x1*-0x2485+-0xe*-0xa4+0x1b8e),this['markGroupD'+'irty'](_0x13d1bc));}}['_extractRe'+'nder'](_0x2a6968,_0x2f8057,_0x132be1,_0x4fad29){return _0x2a6968['render']&&(_0x2f8057=_0x4fad29[_0x2a6968['render']['batchGroup'+'Id']]=_0x2f8057['concat'](_0x2a6968['render']['meshInstan'+'ces']),_0x2a6968['render']['removeFrom'+'Layers']()),_0x2f8057;}['_extractMo'+'del'](_0xa09c41,_0x1d143d,_0x3c387c,_0x53b555){return _0xa09c41['model']&&_0xa09c41['model']['model']&&(_0x1d143d=_0x53b555[_0xa09c41['model']['batchGroup'+'Id']]=_0x1d143d['concat'](_0xa09c41['model']['meshInstan'+'ces']),_0xa09c41['model']['removeMode'+'lFromLayer'+'s'](),_0xa09c41['model']['_batchGrou'+'p']=_0x3c387c),_0x1d143d;}['_extractEl'+'ement'](_0x169f1f,_0x3b1724,_0x2bec84){if(!_0x169f1f['element'])return;let _0x56c91c=!(0x287*-0x3+-0x12a0*0x2+-0xef2*-0x3);_0x169f1f['element']['_text']&&_0x169f1f['element']['_text']['_model']['meshInstan'+'ces']['length']>-0xde9+-0x1*0x7ae+0x1597*0x1?(_0x3b1724['push'](_0x169f1f['element']['_text']['_model']['meshInstan'+'ces'][-0x1*-0x19ac+-0xd5d+0xc4f*-0x1]),_0x169f1f['element']['removeMode'+'lFromLayer'+'s'](_0x169f1f['element']['_text']['_model']),_0x56c91c=!(0x167e*0x1+0x1eb*0xe+-0x3158)):_0x169f1f['element']['_image']&&(_0x3b1724['push'](_0x169f1f['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x169f1f['element']['removeMode'+'lFromLayer'+'s'](_0x169f1f['element']['_image']['_renderabl'+'e']['model']),_0x169f1f['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x3b1724['push'](_0x169f1f['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x169f1f['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x169f1f['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x169f1f['element']['_dirtifyMa'+'sk'](),_0x169f1f['element']['_onPrerend'+'er']())),_0x56c91c=!(0xecc*-0x1+-0x264b*0x1+-0x3517*-0x1)),_0x56c91c&&(_0x2bec84['_ui']=!(-0x1bb6+0x10*-0x1e7+0x6*0x9b1),_0x169f1f['element']['_batchGrou'+'p']=_0x2bec84);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x378f0b,_0x3f2965){for(let _0x51752c=0x689+0x495+-0xb1e;_0x51752c<_0x3f2965['length'];_0x51752c++){const _0x47442a=_0x3f2965[_0x51752c],_0x1015ae=this['_batchGrou'+'ps'][_0x47442a];if(!_0x1015ae)continue;let _0x240485=_0x378f0b[_0x47442a];_0x240485||(_0x240485=_0x378f0b[_0x47442a]=[]);for(let _0x32b1c7=0xee6*-0x2+-0x5b*-0x65+0x3*-0x209;_0x32b1c7<_0x1015ae['_obj']['model']['length'];_0x32b1c7++)_0x240485=this['_extractMo'+'del'](_0x1015ae['_obj']['model'][_0x32b1c7],_0x240485,_0x1015ae,_0x378f0b);for(let _0x48a671=-0x10f*0x1+-0xdc9+0x4c*0x32;_0x48a671<_0x1015ae['_obj']['render']['length'];_0x48a671++)_0x240485=this['_extractRe'+'nder'](_0x1015ae['_obj']['render'][_0x48a671],_0x240485,_0x1015ae,_0x378f0b);for(let _0x4c5be4=-0x2276+-0x1d1b+0x3f91;_0x4c5be4<_0x1015ae['_obj']['element']['length'];_0x4c5be4++)this['_extractEl'+'ement'](_0x1015ae['_obj']['element'][_0x4c5be4],_0x240485,_0x1015ae);for(let _0x79682d=-0x249a*-0x1+0x1*-0xd12+-0x4*0x5e2;_0x79682d<_0x1015ae['_obj']['sprite']['length'];_0x79682d++){const _0x1c3f83=_0x1015ae['_obj']['sprite'][_0x79682d];_0x1c3f83['sprite']&&_0x1c3f83['sprite']['_meshInsta'+'nce']&&(_0x1015ae['dynamic']||_0x1c3f83['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x240485['push'](_0x1c3f83['sprite']['_meshInsta'+'nce']),_0x1c3f83['sprite']['removeMode'+'lFromLayer'+'s'](),_0x1015ae['_sprite']=!(-0x3d6+0x1ad2*-0x1+0x1ea8),_0x1c3f83['sprite']['_batchGrou'+'p']=_0x1015ae);}}}['generate'](_0x2f4e0a){const _0x5c87db={};_0x2f4e0a||(_0x2f4e0a=Object['keys'](this['_batchGrou'+'ps']));const _0x35d275=[];for(let _0x3d77e1=-0x20c5*-0x1+-0x1d81+-0x344;_0x3d77e1<this['_batchList']['length'];_0x3d77e1++){if(_0x2f4e0a['indexOf'](this['_batchList'][_0x3d77e1]['batchGroup'+'Id'])<-0x164*-0x5+-0x1c02+-0x16*-0xf5){_0x35d275['push'](this['_batchList'][_0x3d77e1]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x3d77e1]);}if(this['_batchList']=_0x35d275,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x5c87db,_0x2f4e0a),_0x2f4e0a===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x3*-0x806+0x9a4+0x2*-0x10db;else{const _0x13eb30=[];for(let _0x44ac81=0x1264+-0x23f0+0x118c;_0x44ac81<this['_dirtyGrou'+'ps']['length'];_0x44ac81++)_0x2f4e0a['indexOf'](this['_dirtyGrou'+'ps'][_0x44ac81])<-0x2129+-0x1*-0x63f+0x1aea&&_0x13eb30['push'](this['_dirtyGrou'+'ps'][_0x44ac81]);this['_dirtyGrou'+'ps']=_0x13eb30;}let _0x11c312,_0x44ae83,_0x3019d5,_0x21634b;for(const _0x4f6c62 in _0x5c87db)if(_0x5c87db['hasOwnProp'+'erty'](_0x4f6c62)){if(_0x11c312=_0x5c87db[_0x4f6c62],_0x3019d5=this['_batchGrou'+'ps'][_0x4f6c62],!_0x3019d5){v['error']('batch\x20grou'+'p\x20'+_0x4f6c62+'\x20not\x20found');continue;}_0x44ae83=this['prepare'](_0x11c312,_0x3019d5['dynamic'],_0x3019d5['maxAabbSiz'+'e'],_0x3019d5['_ui']||_0x3019d5['_sprite']);for(let _0x4d8250=-0x7*-0x7+-0x1a70+-0x1*-0x1a3f;_0x4d8250<_0x44ae83['length'];_0x4d8250++)_0x21634b=this['create'](_0x44ae83[_0x4d8250],_0x3019d5['dynamic'],parseInt(_0x4f6c62,0x1d19*0x1+-0x1f7*0x1+-0x4*0x6c6)),_0x21634b&&_0x21634b['addToLayer'+'s'](this['scene'],_0x3019d5['layers']);}}['prepare'](_0x40cc05,_0x2c1b51,_0x128b57=Number['POSITIVE_I'+'NFINITY'],_0x2a792d){if(_0x40cc05['length']===-0x1*0x641+0x193a+0x12f9*-0x1)return[];const _0x242aca=_0x128b57*(-0x1*0x1a6b+-0x23c9+-0x6*-0xa5e+0.5),_0x101623=-0x1a*-0x11f+-0x10a8*0x2+0x82a,_0x6bca95=-0x469*-0x38ff4b+0x3d*0x6d692cb+-0x13*0x15b5d5b1,_0x1551fa=new _e(),_0x1a2a00=new _e();let _0x47ca9c=null,_0x4b12d8;const _0x4b7b63=[];let _0xf0add7=-0xd1d+-0x7*-0x21+-0x209*-0x6;_0x2a792d&&_0x40cc05['sort']((_0x25c877,_0x1d83fe)=>_0x25c877['drawOrder']-_0x1d83fe['drawOrder']);let _0x5c4dff=_0x40cc05,_0x3c90fc;const _0x1c607b=_0x2a792d?function(_0x27c8e2){_0x47ca9c?_0x47ca9c['add'](_0x27c8e2['aabb']):_0x47ca9c=_0x27c8e2['aabb']['clone'](),_0x3c90fc['push'](_0x27c8e2);}:function(_0x40123c){_0x3c90fc['push'](_0x40123c);};for(;_0x5c4dff['length']>-0x164f+0x127*0x10+-0x1*-0x3df;){_0x4b7b63[_0xf0add7]=[_0x5c4dff[0x219c+0x601+0x279d*-0x1]],_0x3c90fc=[];const _0x3d8b44=_0x5c4dff[-0x239*0x11+0x5a6*0x1+0x13*0x1b1]['material'],_0x4e1315=_0x5c4dff[-0x84f*0x1+-0x1*-0x354+0x33*0x19]['layer'],_0x1abd6e=_0x5c4dff[0x1c20+-0x1f*0x9b+-0x1df*0x5]['_shaderDef'+'s'],_0x4ef7c8=_0x5c4dff[-0x23d0+0x1*0x1ae3+0x8ed*0x1]['parameters'],_0x4d39b9=_0x5c4dff[0xbf0+0x2542+-0x3132]['stencilFro'+'nt'];let _0x5db542=_0x5c4dff[0x2*0x709+-0x315*-0x1+-0x1127]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x4460ac=_0x5c4dff[-0x6b1*-0x5+-0x2370+0x3*0xa9]['drawOrder'];_0x1551fa['copy'](_0x5c4dff[-0x2103+-0x1*-0x10fc+0x1007]['aabb']);const _0x85db68=Sd(_0x5c4dff[0x10cb*0x2+0x460+-0x25f6]),_0x1da80d=_0x5c4dff[0x1fa3+-0x1*-0xd5+-0x2078]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x3d2672=_0x5c4dff[-0x12e1+-0x218c+0x346d]['mesh']['primitive'][-0x47*0x36+-0x1*0x1c3a+0x2b34]['indexed'];_0x47ca9c=null;for(let _0x8227f8=0x3a1*-0x2+0x16d8+-0xf95*0x1;_0x8227f8<_0x5c4dff['length'];_0x8227f8++){const _0x5e16f6=_0x5c4dff[_0x8227f8];if(_0x2c1b51&&_0x4b7b63[_0xf0add7]['length']>=_0x101623){_0x3c90fc=_0x3c90fc['concat'](_0x5c4dff['slice'](_0x8227f8));break;}if(_0x3d8b44!==_0x5e16f6['material']||_0x4e1315!==_0x5e16f6['layer']||_0x1da80d!==_0x5e16f6['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x3d2672!==_0x5e16f6['mesh']['primitive'][0xc4f*0x3+0x2580+0x291*-0x1d]['indexed']||_0x1abd6e!==_0x5e16f6['_shaderDef'+'s']||_0x5db542+_0x5e16f6['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x6bca95){_0x1c607b(_0x5e16f6);continue;}if(_0x1a2a00['copy'](_0x1551fa),_0x1a2a00['add'](_0x5e16f6['aabb']),_0x1a2a00['halfExtent'+'s']['x']>_0x242aca||_0x1a2a00['halfExtent'+'s']['y']>_0x242aca||_0x1a2a00['halfExtent'+'s']['z']>_0x242aca){_0x1c607b(_0x5e16f6);continue;}if(_0x4d39b9&&(!(_0x4b12d8=_0x5e16f6['stencilFro'+'nt'])||_0x4d39b9['func']!==_0x4b12d8['func']||_0x4d39b9['zpass']!==_0x4b12d8['zpass'])){_0x1c607b(_0x5e16f6);continue;}if(_0x85db68!==Sd(_0x5e16f6)){_0x1c607b(_0x5e16f6);continue;}if(!cC(_0x4ef7c8,_0x5e16f6['parameters'])){_0x1c607b(_0x5e16f6);continue;}if(_0x2a792d&&_0x47ca9c&&_0x47ca9c['intersects'](_0x5e16f6['aabb'])&&_0x5e16f6['drawOrder']!==_0x4460ac){_0x1c607b(_0x5e16f6);continue;}_0x1551fa['add'](_0x5e16f6['aabb']),_0x5db542+=_0x5e16f6['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x4b7b63[_0xf0add7]['push'](_0x5e16f6);}_0xf0add7++,_0x5c4dff=_0x3c90fc;}return _0x4b7b63;}['collectBat'+'chedMeshDa'+'ta'](_0x4900ed,_0x5b82aa){let _0x2292ff=null,_0x235925=-0x1135+0x13*0xbf+0x308,_0x3383ef=0x2428+-0x1995+0x1*-0xa93,_0x1e4352=null;for(let _0x54f347=0x115a+-0x43*-0x47+-0x23ef;_0x54f347<_0x4900ed['length'];_0x54f347++)if(_0x4900ed[_0x54f347]['visible']){const _0x48ee76=_0x4900ed[_0x54f347]['mesh'],_0x368d9c=_0x48ee76['vertexBuff'+'er']['numVertice'+'s'];if(_0x235925+=_0x368d9c,_0x48ee76['primitive'][0x10*0x195+0x1*0x6ad+-0x1ffd]['indexed'])_0x3383ef+=_0x48ee76['primitive'][-0x72*0x6+0x29d*0x3+-0xbd*0x7]['count'];else{const _0x3be9ed=_0x48ee76['primitive'][0x14ed+0x11a0+-0x268d]['type'];(_0x3be9ed===Yr||_0x3be9ed===ar)&&_0x48ee76['primitive'][0x11*-0x129+0x2*-0x1380+-0x1393*-0x3]['count']===0xddd+-0x676+0x3d*-0x1f&&(_0x3383ef+=-0x2*0x6c1+-0x3*-0x90d+0xd9f*-0x1);}if(!_0x2292ff){_0x1e4352=_0x4900ed[_0x54f347]['material'],_0x2292ff={};const _0x69e8fe=_0x48ee76['vertexBuff'+'er']['format']['elements'];for(let _0x404f4e=0x35*-0x2f+0x5*-0x749+-0xd3*-0x38;_0x404f4e<_0x69e8fe['length'];_0x404f4e++){const _0x7a6821=_0x69e8fe[_0x404f4e]['name'];_0x2292ff[_0x7a6821]={'numComponents':_0x69e8fe[_0x404f4e]['numCompone'+'nts'],'dataType':_0x69e8fe[_0x404f4e]['dataType'],'normalize':_0x69e8fe[_0x404f4e]['normalize'],'count':0x0};}_0x5b82aa&&(_0x2292ff[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(0x1cc*0x5+-0x51f*0x7+0x1ade),'count':0x0});}}return{'streams':_0x2292ff,'batchNumVerts':_0x235925,'batchNumIndices':_0x3383ef,'material':_0x1e4352};}['create'](_0x28a78e,_0x13cc4a,_0x1b0f1b){const _0x17b799=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0xae*0x7+0x7*0x29b+-0xd7b));let _0x107d91=null,_0x4824e9,_0x4b9d5b,_0x4ea858,_0x4c061e=null;const _0x4de8ae=this['collectBat'+'chedMeshDa'+'ta'](_0x28a78e,_0x13cc4a);if(_0x4de8ae['streams']){const _0x460a70=_0x4de8ae['streams'];let _0xe92218=_0x4de8ae['material'];const _0x19f605=_0x4de8ae['batchNumVe'+'rts'],_0x505e55=_0x4de8ae['batchNumIn'+'dices'];_0x4c061e=new zm(_0x28a78e,_0x13cc4a,_0x1b0f1b),this['_batchList']['push'](_0x4c061e);let _0x151cd2,_0x43af8b,_0x3c231d,_0x75cbe7=-0x1f77+0x2351+0x1*-0x3da,_0x50d642=0x1c7e+-0x15fd+-0x681,_0x4d2108;const _0xbebdaf=_0x19f605<=0x147c5+0xbd6c+-0x10532?Uint16Array:Uint32Array,_0x1144f0=new _0xbebdaf(_0x505e55);for(_0x4824e9 in _0x460a70)_0x107d91=_0x460a70[_0x4824e9],_0x107d91['typeArrayT'+'ype']=da[_0x107d91['dataType']],_0x107d91['elementByt'+'eSize']=_o[_0x107d91['dataType']],_0x107d91['buffer']=new _0x107d91['typeArrayT'+'ype'](_0x19f605*_0x107d91['numCompone'+'nts']);for(let _0x55d652=-0x1ed9*-0x1+0x155b+-0x3434;_0x55d652<_0x28a78e['length'];_0x55d652++)if(_0x28a78e[_0x55d652]['visible']){_0x4b9d5b=_0x28a78e[_0x55d652]['mesh'],_0x4ea858=_0x4b9d5b['vertexBuff'+'er']['numVertice'+'s'],_0x13cc4a||(_0x4d2108=_0x28a78e[_0x55d652]['node']['getWorldTr'+'ansform']());for(_0x4824e9 in _0x460a70)if(_0x4824e9!==qt){_0x107d91=_0x460a70[_0x4824e9];const _0x465408=new _0x107d91['typeArrayT'+'ype'](_0x107d91['buffer']['buffer'],_0x107d91['elementByt'+'eSize']*_0x107d91['count']),_0x5adef3=_0x4b9d5b['getVertexS'+'tream'](_0x4824e9,_0x465408)*_0x107d91['numCompone'+'nts'];if(_0x107d91['count']+=_0x5adef3,!_0x13cc4a&&_0x107d91['numCompone'+'nts']>=0x1a*0x26+-0x19d2+0x4b*0x4b){if(_0x4824e9===He){const _0x543ebf=_0x4d2108['data'],_0x11573f=_0x543ebf[-0x1abc+-0x63*0x25+0x1*0x290b],_0x33d510=_0x543ebf[0x1a1+-0x1874+-0x79c*-0x3],_0x55be88=_0x543ebf[-0x415+-0x1*0x9a3+0xdba*0x1],_0x413f49=_0x543ebf[0x12e*-0x1c+-0x1003*-0x1+-0x1*-0x1109],_0x2cd9b6=_0x543ebf[0x73*0x49+0x1*0x1499+-0x1*0x355f],_0x342122=_0x543ebf[-0xe0a+-0xac*0x1a+0x1f88],_0x426530=_0x543ebf[0x7fc+0x12*-0x158+-0x103c*-0x1],_0x307826=_0x543ebf[0x5ff*0x1+-0x1237*0x1+0xc41],_0x2a0090=_0x543ebf[-0xf0d*0x2+-0x14bb+0x32df],_0x9b3ce1=_0x543ebf[-0x11b9+0x1654+-0x48f],_0x3058e8=_0x543ebf[-0xa4*-0xd+-0x1e3d+0x1*0x15f6],_0x3c1a0d=_0x543ebf[0x1*0xb02+-0xb78+0x3*0x2c];let _0x329802,_0x357837,_0x2590e4;for(let _0xf70d8b=-0xd*0xa+0x9c2+-0x940;_0xf70d8b<_0x5adef3;_0xf70d8b+=_0x107d91['numCompone'+'nts'])_0x329802=_0x465408[_0xf70d8b],_0x357837=_0x465408[_0xf70d8b+(0xa3d*0x3+-0x9be*-0x1+-0x2*0x143a)],_0x2590e4=_0x465408[_0xf70d8b+(-0x33*-0x9b+-0x15d*-0x11+0x2*-0x1b06)],_0x465408[_0xf70d8b]=_0x329802*_0x11573f+_0x357837*_0x413f49+_0x2590e4*_0x426530+_0x9b3ce1,_0x465408[_0xf70d8b+(0xc4*-0x1d+-0x1a96+0x30cb)]=_0x329802*_0x33d510+_0x357837*_0x2cd9b6+_0x2590e4*_0x307826+_0x3058e8,_0x465408[_0xf70d8b+(0x1*-0x238a+0x727+0x1c65)]=_0x329802*_0x55be88+_0x357837*_0x342122+_0x2590e4*_0x2a0090+_0x3c1a0d;}else{if(_0x4824e9===Yt||_0x4824e9===Zs){jm['invertMat4'](_0x4d2108)['transpose']();const [_0x3e5622,_0x23823b,_0x2f6d7f,_0x19aaa8,_0x161a1a,_0x51a2bb,_0x1a012d,_0x65feed,_0x4440f6]=jm['data'];let _0x11ed34,_0x1d0d8c,_0x57c577;for(let _0x5d8d82=0x8e4+-0x41*-0x22+-0x1186;_0x5d8d82<_0x5adef3;_0x5d8d82+=_0x107d91['numCompone'+'nts'])_0x11ed34=_0x465408[_0x5d8d82],_0x1d0d8c=_0x465408[_0x5d8d82+(-0x2ae*0x2+0x2190+-0x1c33)],_0x57c577=_0x465408[_0x5d8d82+(-0x7*0xe9+-0x2157+0x7c*0x52)],_0x465408[_0x5d8d82]=_0x11ed34*_0x3e5622+_0x1d0d8c*_0x19aaa8+_0x57c577*_0x1a012d,_0x465408[_0x5d8d82+(-0xc11*-0x1+-0xef3+0x2e3)]=_0x11ed34*_0x23823b+_0x1d0d8c*_0x161a1a+_0x57c577*_0x65feed,_0x465408[_0x5d8d82+(0x1d61+0xa8+-0x1*0x1e07)]=_0x11ed34*_0x2f6d7f+_0x1d0d8c*_0x51a2bb+_0x57c577*_0x4440f6;}}}}if(_0x13cc4a){_0x107d91=_0x460a70[qt];for(let _0x27ed79=-0x128a+-0x18ea+0x2b74;_0x27ed79<_0x4ea858;_0x27ed79++)_0x107d91['buffer'][_0x107d91['count']++]=_0x55d652;}if(_0x4b9d5b['primitive'][-0x1ca7+0x6da+-0x15cd*-0x1]['indexed']){_0x151cd2=_0x4b9d5b['primitive'][0x115*-0x15+0x146*-0xa+0x2375*0x1]['base'],_0x43af8b=_0x4b9d5b['primitive'][-0x659+-0xa1*0x25+0x1d9e]['count'];const _0x5dda53=_0x4b9d5b['indexBuffe'+'r'][0x10fd+-0x13d*-0x1+-0x123a]['getFormat']();_0x3c231d=new Lh[_0x5dda53](_0x4b9d5b['indexBuffe'+'r'][0x3*0x883+0x693+-0x201c]['storage']);}else{const _0x57a4d7=_0x4b9d5b['primitive'][0x23ad+0x18b3*-0x1+0x232*-0x5]['type'];if(_0x57a4d7===Yr||_0x57a4d7===ar){if(_0x4b9d5b['primitive'][-0xd3e+0x2155+-0x8b*0x25]['count']===0x845*-0x2+0x40f+0xc7f)_0x151cd2=-0x1f56*-0x1+0x1746+-0x4*0xda7,_0x43af8b=-0x4*-0x106+0x20a2+0x24b4*-0x1,_0x3c231d=_0x57a4d7===Yr?lC:hC;else{_0x43af8b=-0x180f+-0x1166+0x1*0x2975;continue;}}}for(let _0x196b22=0x1*-0x205c+-0x15f+0x21bb;_0x196b22<_0x43af8b;_0x196b22++)_0x1144f0[_0x196b22+_0x50d642]=_0x3c231d[_0x151cd2+_0x196b22]+_0x75cbe7;_0x50d642+=_0x43af8b,_0x75cbe7+=_0x4ea858;}_0x4b9d5b=new Ie(this['device']);for(_0x4824e9 in _0x460a70)_0x107d91=_0x460a70[_0x4824e9],_0x4b9d5b['setVertexS'+'tream'](_0x4824e9,_0x107d91['buffer'],_0x107d91['numCompone'+'nts'],void(-0x5d7+0x8*-0x93+-0xa6f*-0x1),_0x107d91['dataType'],_0x107d91['normalize']);_0x1144f0['length']>0x2074+-0x2*-0x1338+0x4*-0x11b9&&_0x4b9d5b['setIndices'](_0x1144f0),_0x4b9d5b['update'](Ms,!(-0x466*0x2+-0x26f3+0xbf0*0x4)),_0x13cc4a&&(_0xe92218=_0xe92218['clone'](),_0xe92218['update']());const _0x169e55=new Le(_0x4b9d5b,_0xe92218,this['rootNode']);_0x169e55['castShadow']=_0x4c061e['origMeshIn'+'stances'][0xe09+-0xdb2+-0x1*0x57]['castShadow'],_0x169e55['parameters']=_0x4c061e['origMeshIn'+'stances'][-0x18bc+-0x18c3+-0x317f*-0x1]['parameters'],_0x169e55['layer']=_0x4c061e['origMeshIn'+'stances'][0x1179+0x79f*-0x1+0xc2*-0xd]['layer'],_0x169e55['_shaderDef'+'s']=_0x4c061e['origMeshIn'+'stances'][0x6*-0x457+0x7*0x48f+-0x5df]['_shaderDef'+'s'],_0x169e55['batching']=!(-0x15e6*0x1+0x903+-0x1*-0xce3),_0x169e55['cull']=_0x4c061e['origMeshIn'+'stances'][-0xb94+0x1*-0x143f+0x1fd3]['cull'];const _0x1e141e=this['_batchGrou'+'ps'][_0x1b0f1b];if(_0x1e141e&&_0x1e141e['_ui']&&(_0x169e55['cull']=!(-0x600+-0xcdd+0x12de)),_0x13cc4a){const _0xeaeaba=[];for(let _0x5e5857=-0x35*0x3+0xfa7+-0xf08;_0x5e5857<_0x4c061e['origMeshIn'+'stances']['length'];_0x5e5857++)_0xeaeaba['push'](_0x4c061e['origMeshIn'+'stances'][_0x5e5857]['node']);_0x169e55['skinInstan'+'ce']=new Vm(this['device'],_0xeaeaba,this['rootNode']);}_0x169e55['_updateAab'+'b']=!(-0x1a2a+-0x2275+0x4*0xf28),_0x169e55['drawOrder']=_0x4c061e['origMeshIn'+'stances'][0x267d+0x18c7+-0x3f44]['drawOrder'],_0x169e55['stencilFro'+'nt']=_0x4c061e['origMeshIn'+'stances'][0x20fe+0xced+0x1*-0x2deb]['stencilFro'+'nt'],_0x169e55['stencilBac'+'k']=_0x4c061e['origMeshIn'+'stances'][0x1d2*0xd+-0x1054*0x1+-0x6*0x139]['stencilBac'+'k'],_0x169e55['flipFacesF'+'actor']=Sd(_0x4c061e['origMeshIn'+'stances'][-0x2364+-0xa*0x32e+0x4330]),_0x169e55['castShadow']=_0x4c061e['origMeshIn'+'stances'][0x7bf+-0x2512+0x1d53]['castShadow'],_0x4c061e['meshInstan'+'ce']=_0x169e55,_0x4c061e['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x17b799,_0x4c061e;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0x1abb+-0x851+-0x1*-0x230c&&this['generate'](this['_dirtyGrou'+'ps']);const _0xc5c9d1=ne();for(let _0x20852f=0x12*0x4f+-0x66e+0x1*0xe0;_0x20852f<this['_batchList']['length'];_0x20852f++)this['_batchList'][_0x20852f]['dynamic']&&this['_batchList'][_0x20852f]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0xc5c9d1;}['clone'](_0x465957,_0x42f9c3){const _0x42a00d=new zm(_0x42f9c3,_0x465957['dynamic'],_0x465957['batchGroup'+'Id']);this['_batchList']['push'](_0x42a00d);const _0x4dc2e1=[];for(let _0xca71de=-0xbdb*-0x3+0x1a52+-0x3de3;_0xca71de<_0x42f9c3['length'];_0xca71de++)_0x4dc2e1['push'](_0x42f9c3[_0xca71de]['node']);return _0x42a00d['meshInstan'+'ce']=new Le(_0x465957['meshInstan'+'ce']['mesh'],_0x465957['meshInstan'+'ce']['material'],_0x465957['meshInstan'+'ce']['node']),_0x42a00d['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1*-0x5b3+0x5*-0x1ed+0x3ef),_0x42a00d['meshInstan'+'ce']['parameters']=_0x42f9c3[-0x1dfa+0x15*-0x1d1+0x441f]['parameters'],_0x42a00d['meshInstan'+'ce']['cull']=_0x42f9c3[0x2*-0x479+0x6*-0x48+0xaa2]['cull'],_0x42a00d['meshInstan'+'ce']['layer']=_0x42f9c3[0x45e*0x2+0x77f+0x1*-0x103b]['layer'],_0x465957['dynamic']&&(_0x42a00d['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x4dc2e1,this['rootNode'])),_0x42a00d['meshInstan'+'ce']['castShadow']=_0x465957['meshInstan'+'ce']['castShadow'],_0x42a00d;}['destroyBat'+'ch'](_0x5ad989){_0x5ad989['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x5ad989['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x55578b,_0x3ef816,_0x3a094c){if((_0x55578b==null?void(-0x1fc+-0x1*-0x12af+-0x1*0x10b3):_0x55578b['colorBuffe'+'r']['format'])!==_0x3a094c)return!(0x2*0x72d+0x85*-0x7+-0xab7);const _0x2bb84b=(_0x3ef816==null?void(-0x2*-0x359+0x1*0x1c7+-0x879):_0x3ef816['width'])||this['device']['width'],_0x547e90=(_0x3ef816==null?void(-0xcce*-0x2+-0x753*0x1+-0x1249):_0x3ef816['height'])||this['device']['height'];return!_0x55578b||_0x2bb84b!==_0x55578b['width']||_0x547e90!==_0x55578b['height'];}['allocateRe'+'nderTarget'](_0x2ee3c5,_0x31c6c1,_0x265ecb,_0x2d2703){const _0x195b6d=new he(_0x265ecb,{'name':Km,'format':_0x2d2703,'width':_0x31c6c1?_0x31c6c1['colorBuffe'+'r']['width']:_0x265ecb['width'],'height':_0x31c6c1?_0x31c6c1['colorBuffe'+'r']['height']:_0x265ecb['height'],'mipmaps':!(0x239b+0x1*-0x1a12+0x989*-0x1),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x2ee3c5?(_0x2ee3c5['destroyFra'+'meBuffers'](),_0x2ee3c5['_colorBuff'+'er']=_0x195b6d,_0x2ee3c5['_colorBuff'+'ers']=[_0x195b6d]):_0x2ee3c5=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x195b6d,'depth':!(0x18*0x13c+-0xbfa+-0x1*0x11a5),'stencil':!(0x1e59*-0x1+-0xe50+0x2caa),'autoResolve':!(0x2b3*-0x1+-0x2160+0x2414)}),_0x2ee3c5;}['releaseRen'+'derTarget'](_0x2ca5c8){_0x2ca5c8&&(_0x2ca5c8['destroyTex'+'tureBuffer'+'s'](),_0x2ca5c8['destroy']());}['frameUpdat'+'e'](){const _0x2647a1=this['device'],_0x4dd9cb=this['source'],_0x546aa6=(_0x4dd9cb==null?void(-0x2b*0x5+-0x1097+0x17*0xc2):_0x4dd9cb['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x4dd9cb==null?void(-0x709*-0x3+-0x2045+0xb2a*0x1):_0x4dd9cb['colorBuffe'+'r'],_0x546aa6)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x4dd9cb,_0x2647a1,_0x546aa6));const _0xa391f7=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x2647a1['scope']['resolve'](Km)['setValue'](_0xa391f7);}['execute'](){const _0x5e15fd=this['device'];G['pushGpuMar'+'ker'](_0x5e15fd,'GRAB-COLOR');const _0x598240=this['source'],_0xca3b50=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x5e15fd['isWebGPU']?(_0x5e15fd['copyRender'+'Target'](_0x598240,this['colorRende'+'rTarget'],!(-0x164c*-0x1+0x1*-0x1f15+0x1*0x8c9),!(-0x4*-0x6bd+0x16bc+-0x7*0x719)),_0x5e15fd['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x5e15fd['copyRender'+'Target'](_0x598240,this['colorRende'+'rTarget'],!(-0x1*-0x2677+-0x1f68+-0x70f),!(-0x12f1+0x29*0x5f+0x3bb)),_0x5e15fd['activeText'+'ure'](_0x5e15fd['maxCombine'+'dTextures']-(-0x1b64*0x1+-0x1f9b+-0x8*-0x760)),_0x5e15fd['bindTextur'+'e'](_0xca3b50),_0x5e15fd['gl']['generateMi'+'pmap'](_0xca3b50['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x5e15fd);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x188ef2,_0x1c78f2){super(_0x188ef2),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x1c78f2;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x1b9b2c,_0xb80714){const _0x32e8d4=(_0xb80714==null?void(-0xa*0x145+0x405+0x8ad):_0xb80714['width'])||this['device']['width'],_0xb3049b=(_0xb80714==null?void(0x1*0x187f+0x491+-0x1d10):_0xb80714['height'])||this['device']['height'];return!_0x1b9b2c||_0x32e8d4!==_0x1b9b2c['width']||_0xb3049b!==_0x1b9b2c['height'];}['allocateRe'+'nderTarget'](_0x51a65b,_0x2a01bd,_0x5a3a74,_0x59816d,_0x44d8f5){const _0x17584d=new he(_0x5a3a74,{'name':Zm,'format':_0x59816d,'width':_0x2a01bd?_0x2a01bd['colorBuffe'+'r']['width']:_0x5a3a74['width'],'height':_0x2a01bd?_0x2a01bd['colorBuffe'+'r']['height']:_0x5a3a74['height'],'mipmaps':!(0x1a+0x1df9+0x1*-0x1e12),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x51a65b?(_0x51a65b['destroyFra'+'meBuffers'](),_0x44d8f5?_0x51a65b['_depthBuff'+'er']=_0x17584d:(_0x51a65b['_colorBuff'+'er']=_0x17584d,_0x51a65b['_colorBuff'+'ers']=[_0x17584d])):_0x51a65b=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x44d8f5?null:_0x17584d,'depthBuffer':_0x44d8f5?_0x17584d:null,'depth':!_0x44d8f5,'stencil':_0x5a3a74['supportsSt'+'encil'],'autoResolve':!(0x1350*-0x1+0xa70*0x1+0x8e1*0x1)}),_0x51a65b;}['releaseRen'+'derTarget'](_0xcaefd8){_0xcaefd8&&(_0xcaefd8['destroyTex'+'tureBuffer'+'s'](),_0xcaefd8['destroy']());}['before'](){var _0x19adb4,_0x1525de;const _0xc62726=this['camera'],_0x5610bd=this['device'],_0x32946b=(_0xc62726==null?void(-0xd2*0x14+0x59e*0x1+0xaca):_0xc62726['renderTarg'+'et'])??_0x5610bd['backBuffer'];let _0x23d775=!(0x2*-0xe7f+0x7e7+0x1517),_0x8ea1c5=_0x32946b['stencil']?vc:Ci;_0x5610bd['isWebGPU']&&_0x32946b['samples']>0x3*0x971+-0xae5*-0x1+0x1*-0x2737&&(_0x8ea1c5=Ii,_0x23d775=!(0x1*0x1b6b+-0x27d*0xd+0x4ef));const _0x520144=((_0x19adb4=_0xc62726['renderTarg'+'et'])==null?void(0x1*0x18c5+0x7*0x42+-0x1a93):_0x19adb4['depthBuffe'+'r'])??((_0x1525de=_0xc62726['renderTarg'+'et'])==null?void(-0x19c0*0x1+-0x381+0x1d41):_0x1525de['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x520144)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0xc62726['renderTarg'+'et'],_0x5610bd,_0x8ea1c5,_0x23d775));const _0x5879ac=_0x23d775?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x5610bd['scope']['resolve'](Zm)['setValue'](_0x5879ac);}['execute'](){const _0x1d2202=this['device'];if(G['pushGpuMar'+'ker'](_0x1d2202,'GRAB-DEPTH'),_0x1d2202['isWebGL2']&&_0x1d2202['renderTarg'+'et']['samples']>0x1c11+0x3*-0x331+-0x127d*0x1){const _0x1fd6cb=_0x1d2202['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0xa31e5d=this['depthRende'+'rTarget'];_0x1d2202['renderTarg'+'et']=_0xa31e5d,_0x1d2202['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x1d2202,_0x1fd6cb,_0xa31e5d['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x1d2202['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x1d2202['copyRender'+'Target'](_0x1d2202['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x6bd*-0x1+-0x654+-0x68),!(0xd17*0x1+-0x24b4+0x179d));G['popGpuMark'+'er'](_0x1d2202);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(-0x8b8+-0x543*-0x2+-0x1cd)),c(this,'_ssaoEnabl'+'ed',!(0xbe*0x1e+-0x21e4+0xba1)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(-0x255e*0x1+-0x452+0xd*0x335)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(-0x8ae+0x259a+-0x1cec));}get['hash'](){if(this['_hash']===void(0x1*0x557+0x288*0x3+-0xcef)){const _0x42b97d=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x42b97d);}return this['_hash'];}get['defines'](){const _0x29fa89=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x504+0x52*0x65+-0x779*0x5),_0x29fa89['clear'](),this['_sceneDept'+'hMapLinear']&&_0x29fa89['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x2388+0x300*0x7+0x1d1*0x8)),_0x29fa89['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x29fa89['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x29fa89['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x29fa89;}['markDirty'](){this['_hash']=void(-0xabb+0x166*0xc+-0x60d*0x1),this['_definesDi'+'rty']=!(0x8b*-0x37+-0x4*0x2e6+0x1*0x2975);}set['fog'](_0x3924b4){this['_fog']!==_0x3924b4&&(this['_fog']=_0x3924b4,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0xc93dfd){this['_ssaoEnabl'+'ed']!==_0xc93dfd&&(this['_ssaoEnabl'+'ed']=_0xc93dfd,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x18a476){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x2575*-0x1+-0x48d+-0x20e8),this['_gammaCorr'+'ection']!==_0x18a476&&(this['_gammaCorr'+'ection']=_0x18a476,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x2b96ce){this['_toneMappi'+'ng']!==_0x2b96ce&&(this['_toneMappi'+'ng']=_0x2b96ce,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0xd5610d){this['_srgbRende'+'rTarget']!==_0xd5610d&&(this['_srgbRende'+'rTarget']=_0xd5610d,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x48f11b){this['_sceneDept'+'hMapLinear']!==_0x48f11b&&(this['_sceneDept'+'hMapLinear']=_0x48f11b,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',-0x755+0x526*0x5+0x3*-0x623),(this['_aspectRat'+'io']=(-0x1*-0x1293+0x9b*-0x5+-0xf7c)/(-0x2274+-0x110d+0x338a),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(-0x327+-0xd*0x259+0x14*0x1af+0.75,-0x1*0x23c9+0x24c8+-0x33*0x5+0.75,-0x4*-0x614+0xd24*-0x1+-0xb2c+0.75,0x19b0+-0x2*0x33d+-0x1335),this['_clearColo'+'rBuffer']=!(-0x227b+0x32*-0x32+0x2c3f),this['_clearDept'+'h']=-0x1*-0x1a74+-0x217f+-0x386*-0x2,this['_clearDept'+'hBuffer']=!(0x210d*0x1+-0x1404*-0x1+0xf7*-0x37),this['_clearSten'+'cil']=0x1*-0x39d+0x1d6e*0x1+0x1*-0x19d1,this['_clearSten'+'cilBuffer']=!(0x698*0x2+-0x1141+-0x1*-0x411),this['_cullFaces']=!(-0xcda+0x264e*-0x1+0x3328),this['_farClip']=0x8b0*-0x4+-0x85a*-0x2+0x15f4,this['_flipFaces']=!(0x1c17+-0x1c20+0xa),this['_fov']=-0x5a*0x35+0x238e*0x1+-0x10bf,this['_frustumCu'+'lling']=!(-0xb4b+-0x149e*-0x1+-0x953),this['_horizonta'+'lFov']=!(-0xf1*0x13+-0x12be+0x24a2),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x1*-0x12a+-0x22ef*-0x1+-0x2419+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x1a00+-0xb0f*0x2+0x218*0x17,this['_projectio'+'n']=Gs,this['_rect']=new Q(-0x3ef+-0x15d2+-0x13*-0x15b,0x15c5*-0x1+0x1c*-0x119+0x3481,0x2371*0x1+-0x125+0x1*-0x224b,-0x13*0x16b+-0x1e41*-0x1+-0x34f),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(0x1984+0x6+-0x3a6*0x7,0xc8a+-0xb6d+-0x11d,0x2*-0x449+-0x54a*0x7+0x2d99,0x5a*0x33+0x1*0xd7f+-0x1f6c),this['_scissorRe'+'ctClear']=!(0x9d*0x33+0xa13+0x16d*-0x1d),this['_aperture']=0x3*-0x4f+0x7*0x1ed+-0xc7e,this['_shutter']=(-0xd*0x1ca+0x1*-0x22b7+-0xb5*-0x52)/(-0x10c8+-0x43c+-0x14*-0x13f),this['_sensitivi'+'ty']=-0x4*0x619+0x43f*0x8+-0x5ac,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x6cd+-0x241e+0x2aeb),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(0x11*-0x164+-0x14af+-0x1*-0x2c53),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(-0x1726+0x1ba1+-0x47b),this['_shaderMat'+'ricesVersi'+'on']=0x1a57*-0x1+0x23b4+0x11*-0x8d,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[-0x210d+-0x1c3a+-0x9*-0x6cf,0xd*-0x175+0x1*0x17ab+0x4ba*-0x1,-0x729*-0x3+0x50b*0x2+-0x1f91,-0x166f+0x21d1+-0xb62],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x266839,_0x2856ec;(_0x266839=this['renderPass'+'ColorGrab'])==null||_0x266839['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x2856ec=this['renderPass'+'DepthGrab'])==null||_0x2856ec['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x11f*-0x1d+-0xecb*0x2+0x3e19;}['_storeShad'+'erMatrices'](_0x3d073d,_0x3b10de,_0x8a9e05,_0x48c9b9){this['_shaderMat'+'ricesVersi'+'on']!==_0x48c9b9&&(this['_shaderMat'+'ricesVersi'+'on']=_0x48c9b9,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x3d073d),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x3d073d),this['_viewProjI'+'nverse']['invert'](_0x3d073d),this['_jitters'][-0xd*0x83+0x1b6f*-0x1+0x2218]=this['_jitters'][-0xbf*-0x1+0xd*-0x2ef+0x2564],this['_jitters'][-0x14f1+0x1*0xcd7+0x81d]=this['_jitters'][-0x2558+0xc87+0x12*0x161],this['_jitters'][0xbbf*-0x1+-0x1524+0x20e3]=_0x3b10de,this['_jitters'][-0x1b19+-0x8a2+0x23bc]=_0x8a9e05);}get['fullSizeCl'+'earRect'](){const _0x259aae=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x259aae['x']===-0xb*-0x2e1+0xf62*0x2+-0x3e6f&&_0x259aae['y']===0x1a4b*0x1+-0x1aec+-0x17*-0x7&&_0x259aae['z']===-0xb22+-0xcff*-0x2+0xedb*-0x1&&_0x259aae['w']===0x63*0x17+-0x1d2a+0xad*0x1e;}set['aspectRati'+'o'](_0x32f432){this['_aspectRat'+'io']!==_0x32f432&&(this['_aspectRat'+'io']=_0x32f432,this['_projMatDi'+'rty']=!(0x1327+0x2df*0x7+-0x13a*0x20));}get['aspectRati'+'o'](){var _0x3218d7;return(_0x3218d7=this['xr'])!=null&&_0x3218d7['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x3984f0){this['_aspectRat'+'ioMode']!==_0x3984f0&&(this['_aspectRat'+'ioMode']=_0x3984f0,this['_projMatDi'+'rty']=!(-0x49*0x2+0x1f*0x125+-0x22e9));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x5eace2){this['_calculate'+'Projection']=_0x5eace2,this['_projMatDi'+'rty']=!(-0x187+-0x753+0x67*0x16);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x132181){this['_calculate'+'Transform']=_0x132181;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0xc4d87f){this['_clearColo'+'r']['copy'](_0xc4d87f);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x28c71d){this['_clearColo'+'rBuffer']=_0x28c71d;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x60a79e){this['_clearDept'+'h']=_0x60a79e;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0xa4c9e5){this['_clearDept'+'hBuffer']=_0xa4c9e5;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x1ad969){this['_clearSten'+'cil']=_0x1ad969;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x348711){this['_clearSten'+'cilBuffer']=_0x348711;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x329a69){this['_cullFaces']=_0x329a69;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x25c344){this['_farClip']!==_0x25c344&&(this['_farClip']=_0x25c344,this['_projMatDi'+'rty']=!(-0x1f80+-0x5*-0x72e+-0x466));}get['farClip'](){var _0x35de8e;return(_0x35de8e=this['xr'])!=null&&_0x35de8e['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x2a2116){this['_flipFaces']=_0x2a2116;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0xd81df9){this['_fov']!==_0xd81df9&&(this['_fov']=_0xd81df9,this['_projMatDi'+'rty']=!(-0x1efe*-0x1+0x1611+0x11*-0x31f));}get['fov'](){var _0x3cd2ee;return(_0x3cd2ee=this['xr'])!=null&&_0x3cd2ee['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x2ff98f){this['_frustumCu'+'lling']=_0x2ff98f;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x1386c0){this['_horizonta'+'lFov']!==_0x1386c0&&(this['_horizonta'+'lFov']=_0x1386c0,this['_projMatDi'+'rty']=!(0x37e*-0x2+-0x24b5+0x2bb1*0x1));}get['horizontal'+'Fov'](){var _0x2677eb;return(_0x2677eb=this['xr'])!=null&&_0x2677eb['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x1aadd2){this['_layers']=_0x1aadd2['slice'](-0x15a1+-0x1e9e*-0x1+-0x8fd),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x2ea953){this['_nearClip']!==_0x2ea953&&(this['_nearClip']=_0x2ea953,this['_projMatDi'+'rty']=!(0x1a8e+0x1f1*0x9+-0x2c07));}get['nearClip'](){var _0x52eb8e;return(_0x52eb8e=this['xr'])!=null&&_0x52eb8e['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x4ac6e5){this['_node']=_0x4ac6e5;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x452707){this['_orthoHeig'+'ht']!==_0x452707&&(this['_orthoHeig'+'ht']=_0x452707,this['_projMatDi'+'rty']=!(0x1*-0x158b+0x8c1*0x3+-0x4b8));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x29e9b4){this['_projectio'+'n']!==_0x29e9b4&&(this['_projectio'+'n']=_0x29e9b4,this['_projMatDi'+'rty']=!(0x2452+0x30*0x20+-0x2a52));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x4ecc8e){this['_rect']['copy'](_0x4ecc8e);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x466877){this['_renderTar'+'get']=_0x466877;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x5ce51e){this['_scissorRe'+'ct']['copy'](_0x5ce51e);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x2effab=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x2effab)['invert'](),this['_viewMatDi'+'rty']=!(-0x1bc6+-0x22fc+0x3ec3);}return this['_viewMat'];}set['aperture'](_0x2987f2){this['_aperture']=_0x2987f2;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x5bec5c){this['_sensitivi'+'ty']=_0x5bec5c;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x1129e2){this['_shutter']=_0x1129e2;}get['shutter'](){return this['_shutter'];}set['xr'](_0x32693e){this['_xr']!==_0x32693e&&(this['_xr']=_0x32693e,this['_projMatDi'+'rty']=!(-0x1c6*-0x3+-0x2540+0x1fee));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x1345be){return this['_aspectRat'+'io']=_0x1345be['_aspectRat'+'io'],this['_farClip']=_0x1345be['_farClip'],this['_fov']=_0x1345be['_fov'],this['_horizonta'+'lFov']=_0x1345be['_horizonta'+'lFov'],this['_nearClip']=_0x1345be['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x1345be['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x1345be['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x1345be['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x1345be['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x1345be['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x1345be['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x1345be['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x1345be['calculateT'+'ransform'],this['clearColor']=_0x1345be['clearColor'],this['clearColor'+'Buffer']=_0x1345be['clearColor'+'Buffer'],this['clearDepth']=_0x1345be['clearDepth'],this['clearDepth'+'Buffer']=_0x1345be['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x1345be['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x1345be['clearStenc'+'ilBuffer'],this['cullFaces']=_0x1345be['cullFaces'],this['flipFaces']=_0x1345be['flipFaces'],this['frustumCul'+'ling']=_0x1345be['frustumCul'+'ling'],this['layers']=_0x1345be['layers'],this['orthoHeigh'+'t']=_0x1345be['orthoHeigh'+'t'],this['projection']=_0x1345be['projection'],this['rect']=_0x1345be['rect'],this['renderTarg'+'et']=_0x1345be['renderTarg'+'et'],this['scissorRec'+'t']=_0x1345be['scissorRec'+'t'],this['aperture']=_0x1345be['aperture'],this['shutter']=_0x1345be['shutter'],this['sensitivit'+'y']=_0x1345be['sensitivit'+'y'],this['shaderPass'+'Info']=_0x1345be['shaderPass'+'Info'],this['jitter']=_0x1345be['jitter'],this['_projMatDi'+'rty']=!(0x2*-0xc92+-0x3*0xa0b+0x3745*0x1),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x162b46,_0x2aba7d){var _0x16ae7d;_0x2aba7d?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x162b46)):((_0x16ae7d=this['renderPass'+'ColorGrab'])==null||_0x16ae7d['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x18db61,_0x16acd2,_0x52e19c){var _0x40cb87;_0x52e19c?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x18db61,this)):((_0x40cb87=this['renderPass'+'DepthGrab'])==null||_0x40cb87['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x17f2*-0x1+-0xa*0x2ac+0x1*0x2c7));}['worldToScr'+'een'](_0x33a034,_0x35d807,_0xc6ee4a,_0x5d03e6=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x33a034,_0x5d03e6);const _0x3e835d=this['_viewProjM'+'at']['data'],_0x4e2643=_0x33a034['x']*_0x3e835d[0x23*0x3+0x2ab*-0x1+-0x7*-0x53]+_0x33a034['y']*_0x3e835d[0x156d+0x16ec+-0x2c52]+_0x33a034['z']*_0x3e835d[-0x1*-0x1859+0x1cb7+-0x3505*0x1]+(-0x10f5+0x1142+-0x4c)*_0x3e835d[0x9d*0x11+-0x44b+-0x613];return _0x5d03e6['x']=(_0x5d03e6['x']/_0x4e2643+(0xd3b+-0x1f5+-0xb45))*(0x2176+-0x1*0xae+-0x8*0x419+0.5)*_0x35d807,_0x5d03e6['y']=(0x1de1*-0x1+-0x3*-0x93b+0x231-_0x5d03e6['y']/_0x4e2643)*(0x4a*-0x4a+-0x25+0x1589*0x1+0.5)*_0xc6ee4a,_0x5d03e6;}['screenToWo'+'rld'](_0x5d324f,_0x3cf528,_0x2a150f,_0x527de7,_0x5c1fa4,_0x5807e3=new T()){const _0x57e09c=this['farClip']-this['nearClip'];if(En['set'](_0x5d324f/_0x527de7,(_0x5c1fa4-_0x3cf528)/_0x5c1fa4,_0x2a150f/_0x57e09c),En['mulScalar'](-0xa40+-0x2677*0x1+0x30b9),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x45a074=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x45a074['transformP'+'oint'](Wa,Qm);const _0x5d59a8=this['_node']['getPositio'+'n']();_0x5807e3['sub2'](Qm,_0x5d59a8),_0x5807e3['normalize'](),_0x5807e3['mulScalar'](_0x2a150f),_0x5807e3['add'](_0x5d59a8);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x5807e3);return _0x5807e3;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0xfd9980=this['_orthoHeig'+'ht'],_0x13bec1=_0xfd9980*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x13bec1,_0x13bec1,-_0xfd9980,_0xfd9980,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0xa*-0x355+-0x3ff+-0x1d52);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x3f7cbf=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x7b6*-0x1+-0x16a5+-0x1*-0x1ebf)/this['_sensitivi'+'ty']);return(0x7b*-0x10+-0x23c*0x5+0x12dd)/(Math['pow'](-0x1281+-0x1775*0x1+0x29f8,_0x3f7cbf)*(0x413+0x17be+0x590*-0x5+0.19999999999999996));}['getScreenS'+'ize'](_0x1c1325){if(this['_projectio'+'n']===Gs){const _0x2a6db6=this['_node']['getPositio'+'n']()['distance'](_0x1c1325['center']);if(_0x2a6db6<_0x1c1325['radius'])return 0x1b1e+-0x17d6+-0x347;const _0x2fe9c5=Math['asin'](_0x1c1325['radius']/_0x2a6db6),_0x101c8b=Math['tan'](_0x2fe9c5),_0x157f9b=Math['tan'](this['fov']/(0x1d96+-0x1e76*0x1+0x1*0xe2)*N['DEG_TO_RAD']);return Math['min'](_0x101c8b/_0x157f9b,0x19e+-0x2a2*-0x5+0x61*-0x27);}return N['clamp'](_0x1c1325['radius']/this['_orthoHeig'+'ht'],-0x24f4+0x3ee*0x3+0x192a,-0x12*0x50+-0x2*0x7cd+0x5*0x43f);}['getFrustum'+'Corners'](_0xdd52fc=this['nearClip'],_0xb5ed2e=this['farClip']){const _0x2aa560=this['fov']*Math['PI']/(-0x23b0+-0x2004+0x18e*0x2c);let _0x4e2755,_0x125aff;this['projection']===Gs?this['horizontal'+'Fov']?(_0x4e2755=_0xdd52fc*Math['tan'](_0x2aa560/(0x1bda+0x2*0xd2d+-0x2*0x1b19)),_0x125aff=_0x4e2755/this['aspectRati'+'o']):(_0x125aff=_0xdd52fc*Math['tan'](_0x2aa560/(0x1*0xe5+0xb26*0x1+0x4f*-0x27)),_0x4e2755=_0x125aff*this['aspectRati'+'o']):(_0x125aff=this['_orthoHeig'+'ht'],_0x4e2755=_0x125aff*this['aspectRati'+'o']);const _0x1b2d8e=pC;return _0x1b2d8e[0x3c4*-0x3+-0x328+0xe74]['x']=_0x4e2755,_0x1b2d8e[-0x1fbb+0x1063+0xf58]['y']=-_0x125aff,_0x1b2d8e[0x17af*-0x1+-0x19e1+0x3190]['z']=-_0xdd52fc,_0x1b2d8e[0x6d5+0xc*0x5f+-0x2*0x5a4]['x']=_0x4e2755,_0x1b2d8e[-0x2170+0x748+0x1a29]['y']=_0x125aff,_0x1b2d8e[0x1*0xd3b+0x11*0x135+-0x35*0xa3]['z']=-_0xdd52fc,_0x1b2d8e[-0x12*-0xf9+0x2265+-0x33e5]['x']=-_0x4e2755,_0x1b2d8e[0x6d*0x46+0x17f*-0x4+-0x7f*0x30]['y']=_0x125aff,_0x1b2d8e[-0xa1*-0x20+-0xe67+-0x5b7]['z']=-_0xdd52fc,_0x1b2d8e[0x6a*0x41+0x20*0xc0+0x9d*-0x53]['x']=-_0x4e2755,_0x1b2d8e[-0x9b5*0x4+-0x713*-0x2+0x18b1]['y']=-_0x125aff,_0x1b2d8e[0x94f*0x2+-0x225d*-0x1+-0x34f8]['z']=-_0xdd52fc,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x4e2755=_0xb5ed2e*Math['tan'](_0x2aa560/(-0xd*-0x195+0x21a*0x1+-0x16a9)),_0x125aff=_0x4e2755/this['aspectRati'+'o']):(_0x125aff=_0xb5ed2e*Math['tan'](_0x2aa560/(-0x1477+-0x1792+0x2c0b*0x1)),_0x4e2755=_0x125aff*this['aspectRati'+'o'])),_0x1b2d8e[-0x1a2+-0x4f4+0x69a]['x']=_0x4e2755,_0x1b2d8e[0x105*0x7+0xfa8+-0x16c7]['y']=-_0x125aff,_0x1b2d8e[0xa*0x1ae+0x11f*0x5+-0x1663]['z']=-_0xb5ed2e,_0x1b2d8e[0x1f58+0xdb1+-0x2d04]['x']=_0x4e2755,_0x1b2d8e[-0x119d+-0x17c*-0x17+0x1082*-0x1]['y']=_0x125aff,_0x1b2d8e[-0xa59+0x3ab*0x6+-0xba4]['z']=-_0xb5ed2e,_0x1b2d8e[-0x1*0x1283+0x994+0x8f5]['x']=-_0x4e2755,_0x1b2d8e[-0xbcb*0x2+0x88c+0xf10]['y']=_0x125aff,_0x1b2d8e[0xe76+-0x2294+0x1424*0x1]['z']=-_0xb5ed2e,_0x1b2d8e[0x2145+-0x14af+-0x283*0x5]['x']=-_0x4e2755,_0x1b2d8e[-0x4e2+-0x14b3+0x254*0xb]['y']=-_0x125aff,_0x1b2d8e[-0x3*-0x8f3+0x22c5+-0x3d97]['z']=-_0xb5ed2e,_0x1b2d8e;}['setXrPrope'+'rties'](_0x381b82){Object['assign'](this['_xrPropert'+'ies'],_0x381b82),this['_projMatDi'+'rty']=!(-0x965+-0x39c+0xd01);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x36cc3e,_0x555d21,_0x677c7){const _0x205f0b=new ol();switch(_0x205f0b['node']=new De(_0x36cc3e),_0x205f0b['aspectRati'+'o']=-0x1*-0x7c9+0x1b6+0x97e*-0x1,_0x205f0b['aspectRati'+'oMode']=Bu,_0x205f0b['_scissorRe'+'ctClear']=!(0x1590+-0x253*0x1+0x1*-0x133d),_0x555d21){case Pe:_0x205f0b['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x677c7]),_0x205f0b['fov']=-0x1*0x1682+0x2*-0x163+-0x11*-0x182,_0x205f0b['projection']=Gs;break;case Re:_0x205f0b['projection']=Gs;break;case oe:_0x205f0b['projection']=ua;break;}return _0x205f0b;}static['evalSpotCo'+'okieMatrix'](_0x46e174){let _0x5b047c=Qi['_spotCooki'+'eCamera'];_0x5b047c||(_0x5b047c=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x5b047c),_0x5b047c['fov']=_0x46e174['_outerCone'+'Angle']*(0x2680+-0x22be+0x140*-0x3);const _0x567f6c=_0x5b047c['_node'];_0x567f6c['setPositio'+'n'](_0x46e174['_node']['getPositio'+'n']()),_0x567f6c['setRotatio'+'n'](_0x46e174['_node']['getRotatio'+'n']()),_0x567f6c['rotateLoca'+'l'](-(-0x22c0+0x2*-0x653+-0x17e*-0x20),-0x1*0x404+-0x8a5*0x3+0x1df3,-0x2*-0x1181+-0x2603+-0x301*-0x1),e_['setTRS'](_0x567f6c['getPositio'+'n'](),_0x567f6c['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x5b047c['projection'+'Matrix'],e_);const _0x20293d=_0x46e174['cookieMatr'+'ix'],_0x47c5c7=_0x46e174['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x47c5c7['x'],_0x47c5c7['y'],_0x47c5c7['z'],_0x47c5c7['w']),_0x20293d['mul2'](s_,t_),_0x20293d;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x2bb*0x5+0xf*-0x18+-0x101*-0xf,-0x1*0x12d7+0xb1b*-0x3+0x16*0x263,0xd6*0x1d+0x1*-0xb23+-0xc67),new se()['setFromEul'+'erAngles'](0x5c5+-0x1078+0xab3,-(0x1a5d*0x1+0x41*0x7d+-0x9a0*0x6),-0x1b50+-0x86*-0x49+-0x2d*0x3a),new se()['setFromEul'+'erAngles'](-0x1040+0x2180*0x1+0xe*-0x135,0x132+0x82e+0x64*-0x18,0x25cf*-0x1+-0x4ff*-0x1+0x8c*0x3c),new se()['setFromEul'+'erAngles'](-(-0x1b38+-0x1c53+-0x37e5*-0x1),-0x2a0+-0x524+-0x11c*-0x7,0x170a+-0xe5c+-0x8ae),new se()['setFromEul'+'erAngles'](0x1*-0x6af+-0x1ff4+0x9*0x44b,0x2e4+-0x1e28+0x1bf8,-0x15d4*-0x1+-0x2599+0x1079*0x1),new se()['setFromEul'+'erAngles'](-0x2*0x1b1+-0x21f7+0x2559*0x1,-0x2*0x1bd+0x1*-0x45d+0x1*0x7d7,-0x145d+-0x2*-0x655+-0x9*-0xef)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=0x20c5+0x18cf+-0x3994+0.000001,Zt=new T(),xr=new Float32Array(0x64f+-0x1e90+0x1847),mC=new T(-(0xe2a+-0x1397+0x56d*0x1+0.5),-0x2*0x3b3+-0xecc+0x1632,-0x4fb*0x2+0x346*-0x1+0x4*0x34f),_C=new T(0x79a+0x17d9*-0x1+0x103f*0x1,-0xa*0x19b+0x8*0x34a+-0xa42*0x1,0x1315*-0x1+-0x1e7a+0x318f+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x5a3290){c(this,'areaLights'+'Enabled',!(-0x17d*-0x11+-0x273+-0x16d9)),(this['device']=_0x5a3290,this['cookiesEna'+'bled']=!(-0x1*-0x2201+-0x4*0x2d4+0x2d6*-0x8),this['shadowsEna'+'bled']=!(-0x17e0+-0xba*0x4+0x1ac9),this['areaLights'+'Enabled']=!(0x8a*-0x16+0x11a1+-0x5c4),this['maxLights']=0x248d*-0x1+0xdaa+0x17e2);const _0x3860ec=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((-0x187f*-0x1+-0x489+-0x6*0x353)*_0x3860ec*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x3860ec,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x5859d2=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x167f+-0x853*-0x1+0xe30)*_0x5859d2*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x5859d2,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x1f58+-0x623*-0x5+-0x3e07,this['invMaxAtte'+'nuation']=0x2*0xb6f+-0xb0c+0xbd2*-0x1,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x1efb85=(_0x44ebff,_0x11dc67)=>Object['keys'](_0x44ebff)['map'](_0x4394b=>'#define\x20'+_0x11dc67+_0x4394b+'\x20'+_0x44ebff[_0x4394b])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1efb85(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x1efb85(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x21aec0,_0x18d2c;(_0x21aec0=this['lightsText'+'ure8'])==null||_0x21aec0['destroy'](),this['lightsText'+'ure8']=null,(_0x18d2c=this['lightsText'+'ureFloat'])==null||_0x18d2c['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0xc17679,_0x1a98f9,_0x21fae2,_0x8ce1d2,_0x5a062f){return new he(_0xc17679,{'name':_0x5a062f,'width':_0x1a98f9,'height':_0x21fae2,'mipmaps':!(-0x1ed7+-0xb12+0x29ea),'format':_0x8ce1d2,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x17ec00,_0x1dc449){this['invMaxColo'+'rValue']=(0x1833+-0x1*-0x827+-0x27d*0xd)/_0x1dc449,this['invMaxAtte'+'nuation']=(0x20f6+-0x9*-0x382+-0x4087)/_0x17ec00;}['setBounds'](_0x1f8110,_0x26648a){this['boundsMin']['copy'](_0x1f8110),this['boundsDelt'+'a']['copy'](_0x26648a);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x5aee40,_0x39a97f){_0x39a97f['_node']['getWorldTr'+'ansform']()['getY'](_0x5aee40)['mulScalar'](-(-0x1bda+-0x2016*-0x1+-0x43b)),_0x5aee40['normalize']();}['getLightAr'+'eaSizes'](_0x15630d){const _0x4d3d82=_0x15630d['_node']['getWorldTr'+'ansform']();return _0x4d3d82['transformV'+'ector'](mC,Zt),xr[0xcbb*0x1+-0x1198+0xf9*0x5]=Zt['x'],xr[0x1*-0x1a1+0xe4d+-0xcab]=Zt['y'],xr[0x444*-0x2+-0x205f+-0x1*-0x28e9]=Zt['z'],_0x4d3d82['transformV'+'ector'](_C,Zt),xr[0x1*-0x8cb+-0xcde*-0x1+0x8*-0x82]=Zt['x'],xr[-0x1893+0x1c43*-0x1+0x34da]=Zt['y'],xr[0x1*0xd13+-0x793+-0x57b]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x13d468,_0xa01c8,_0x56c06e,_0x318350,_0x57882e,_0x2a9e52){_0x13d468[_0xa01c8+(0x5*0x4e6+0x1057+-0x28d5)]=_0x318350?-0x70a+0x21*0x14+-0x1*-0x575:0x1a1*-0x9+0x1c*0x67+0x365,_0x13d468[_0xa01c8+(-0xe52+0x1ab*-0x1+0x2e*0x59)]=this['areaLights'+'Enabled']?_0x56c06e['_shape']*(-0x5a2+-0x1b09+0x20eb):-0x6fd+0x1124+-0xa27,_0x13d468[_0xa01c8+(0x4*0x2d8+-0x3*-0x584+-0x1bea)]=_0x56c06e['_falloffMo'+'de']*(0x1baa+0x1173*-0x2+0x83b),_0x13d468[_0xa01c8+(-0x1a89*0x1+-0x164f*-0x1+0x43d)]=_0x57882e?_0x2a9e52*(0x1a8b+-0x1343+-0x1*0x649):0x3*0x1b4+-0x5*-0x7cd+-0x2c1d;}['addLightDa'+'taColor'](_0x3685fb,_0x12f3a9,_0x2e05cb,_0x347316){const _0x4b5e26=this['invMaxColo'+'rValue'],_0x2ef292=_0x2e05cb['_colorLine'+'ar'];Wt['float2Byte'+'s'](_0x2ef292[0xa1d+0x886+0x16f*-0xd]*_0x4b5e26,_0x3685fb,_0x12f3a9+(-0x134e+0x13*0x107+-0x37),0xc2b+0x1b5d+-0x2786),Wt['float2Byte'+'s'](_0x2ef292[0x1a*-0x62+-0x1a2e*0x1+0x2423]*_0x4b5e26,_0x3685fb,_0x12f3a9+(-0xb*0x13c+-0x1a9d+0x2833),0x1b61+0x51c+-0x67f*0x5),Wt['float2Byte'+'s'](_0x2ef292[-0x1f*-0x10d+0x23*-0x34+0x13*-0x157]*_0x4b5e26,_0x3685fb,_0x12f3a9+(-0x52+-0x2*0x925+0x95*0x20),0x132e+-0x7*-0xd4+-0x18f8),_0x3685fb[_0x12f3a9+(0xfc2+0x961*0x3+0x2bdf*-0x1)]=_0x347316?0xfe7+0x69d*-0x3+0x4ef:-0x1*0x2501+0x19bc+-0x5*-0x241;const _0x2a7e5b=!!(_0x2e05cb['mask']&hs),_0x33c7a6=!!(_0x2e05cb['mask']&cr);_0x3685fb[_0x12f3a9+(-0x1f9d+-0x1f7*-0x3+0x3*0x895)]=_0x2a7e5b&&_0x33c7a6?-0x1*-0x1df7+0x32*0xa7+-0x3e16:_0x33c7a6?-0x1fe8+0x1d5*-0x10+0x3e37:-0x20ad+0x2c2*0xc+-0x6b;}['addLightDa'+'taSpotAngl'+'es'](_0x21cef5,_0x59e0f0,_0x5f0e8c){Wt['float2Byte'+'s'](_0x5f0e8c['_innerCone'+'AngleCos']*(0x3*-0x607+0x3*0x4e5+0x366+0.5-i_)+(-0x2bf*-0x4+-0x4e1*-0x1+-0xfdd+0.5),_0x21cef5,_0x59e0f0+(-0xa54+0x3c*0xa6+-0x1c94),-0x80e+0x1eef+-0x16df),Wt['float2Byte'+'s'](_0x5f0e8c['_outerCone'+'AngleCos']*(0x25b8+-0xd51+0x1867*-0x1+0.5-i_)+(-0x227e+0x1a90+-0xcb*-0xa+0.5),_0x21cef5,_0x59e0f0+(0x2*-0x1345+-0x3ad+-0x3*-0xe13),0x5*-0x5d7+0x31*-0x87+0x4*0xdc3);}['addLightDa'+'taShadowBi'+'as'](_0x1cdb7c,_0x1b31f4,_0x99f293){const _0x5339d9=_0x99f293['getRenderD'+'ata'](null,-0xc70+-0xdfd*0x1+0x1a6d),_0x147756=_0x99f293['_getUnifor'+'mBiasValue'+'s'](_0x5339d9);Wt['float2Byte'+'sRange'](_0x147756['bias'],_0x1cdb7c,_0x1b31f4,-(-0x2c*0x45+0x590+0x64d),-0xb8f+-0x81f*0x4+0x1*0x2c1f,0xffa*0x2+-0xb44*-0x1+-0x2b36),Wt['float2Byte'+'s'](_0x147756['normalBias'],_0x1cdb7c,_0x1b31f4+(0x58*-0x4a+-0x6b*0xb+0x1e0b),-0x3b*-0x45+0x136f+-0x2354);}['addLightDa'+'taCookies'](_0x4c8a05,_0x442800,_0xef11){const _0x26d7e1=_0xef11['_cookieCha'+'nnel']==='rgb';if(_0x4c8a05[_0x442800+(-0x1911+-0x14c0+0x13d*0x25)]=Math['floor'](_0xef11['cookieInte'+'nsity']*(-0x2*-0x9ef+0x3*0x9b+-0x14b0)),_0x4c8a05[_0x442800+(-0x1079*0x1+-0x11e7*0x1+0x2261)]=_0x26d7e1?-0xdda+-0x14d9+0x23b2:0x17b7+0x178+-0x1*0x192f,!_0x26d7e1){const _0x231175=_0xef11['_cookieCha'+'nnel'];_0x4c8a05[_0x442800+(-0x17a8+0x269*0xd+-0x7a9)]=_0x231175==='rrr'?-0x150a+0xf57+0x6b2:0x5*-0x684+-0x3*-0x4ff+0x1197,_0x4c8a05[_0x442800+(-0x2698+0x2554+0x149)]=_0x231175==='ggg'?0x5*-0x316+0x1*0x6f7+0x976:0xe5c+0xe9b+-0x1cf7,_0x4c8a05[_0x442800+(-0x27*0x3a+-0x12d4+-0x4*-0x6ec)]=_0x231175==='bbb'?0x114*0x10+-0x1170+-0x12f*-0x1:-0x1333+0x957*0x1+0x9dc*0x1,_0x4c8a05[_0x442800+(0xc*-0x79+-0x11a5*0x1+0xa6*0x24)]=_0x231175==='aaa'?-0x1d6+0x1dfb+-0x1b26:0x10dc+-0x188c+0x7b0;}}['addLightDa'+'ta'](_0x5a68b0,_0x5e8e23){const _0x59b832=_0x5a68b0['_type']===Re,_0x45380c=_0x5a68b0['atlasViewp'+'ortAllocat'+'ed'],_0x1cc196=this['cookiesEna'+'bled']&&!!_0x5a68b0['_cookie']&&_0x45380c,_0x35398f=this['areaLights'+'Enabled']&&_0x5a68b0['shape']!==yt,_0x5610d5=this['shadowsEna'+'bled']&&_0x5a68b0['castShadow'+'s']&&_0x45380c,_0x3cfd51=_0x5a68b0['_node']['getPositio'+'n']();let _0x550f11=null,_0x85c602=null;_0x59b832?_0x5610d5?_0x550f11=_0x5a68b0['getRenderD'+'ata'](null,-0x249d+0x40*0x1e+0x1d1d)['shadowMatr'+'ix']:_0x1cc196&&(_0x550f11=Ma['evalSpotCo'+'okieMatrix'](_0x5a68b0)):(_0x5610d5||_0x1cc196)&&(_0x85c602=_0x5a68b0['atlasViewp'+'ort']);const _0x147bae=this['lights8'],_0x98cb58=_0x5e8e23*this['lightsText'+'ure8']['width']*(0xca*-0x8+0x6aa*-0x3+0x1a52);this['addLightDa'+'taFlags'](_0x147bae,_0x98cb58+(0x2222+0x1*-0x238d+0x16f)*Sr['FLAGS'],_0x5a68b0,_0x59b832,_0x5610d5,_0x5a68b0['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x147bae,_0x98cb58+(-0xa01+-0x42e+0xe33)*Sr['COLOR_A'],_0x5a68b0,_0x1cc196),_0x59b832&&this['addLightDa'+'taSpotAngl'+'es'](_0x147bae,_0x98cb58+(-0xa*-0x347+0x1fd4+-0x4096*0x1)*Sr['SPOT_ANGLE'+'S'],_0x5a68b0),_0x5a68b0['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x147bae,_0x98cb58+(-0xb9a+0x40*-0x1b+-0x92f*-0x2)*Sr['SHADOW_BIA'+'S'],_0x5a68b0),_0x1cc196&&this['addLightDa'+'taCookies'](_0x147bae,_0x98cb58+(-0x7*-0x245+-0x25b3+0x15d4)*Sr['COOKIE_A'],_0x5a68b0);const _0x204b27=this['lightsFloa'+'t'],_0x1a3f0e=_0x5e8e23*this['lightsText'+'ureFloat']['width']*(-0x501*-0x5+-0x2300+0x9ff);if(_0x204b27[_0x1a3f0e+(-0x4*0x2ee+-0x1235*-0x1+0x679*-0x1)*lt['POSITION_R'+'ANGE']+(-0x1c1f+0x1bf1+0x2*0x17)]=_0x3cfd51['x'],_0x204b27[_0x1a3f0e+(-0x15bb+-0x1b0f*-0x1+-0x550)*lt['POSITION_R'+'ANGE']+(0x1c4c*-0x1+-0xc86+-0x5d5*-0x7)]=_0x3cfd51['y'],_0x204b27[_0x1a3f0e+(-0x29c+-0x1219+-0x425*-0x5)*lt['POSITION_R'+'ANGE']+(0xef4+-0x38e+-0xb64)]=_0x3cfd51['z'],_0x204b27[_0x1a3f0e+(0x505+0x138+-0x639*0x1)*lt['POSITION_R'+'ANGE']+(-0x89*-0x25+0x1fb5+0x337f*-0x1)]=_0x5a68b0['attenuatio'+'nEnd'],_0x59b832&&(this['getSpotDir'+'ection'](Zt,_0x5a68b0),_0x204b27[_0x1a3f0e+(0x1942+0x1c02+-0xd5*0x40)*lt['SPOT_DIREC'+'TION']+(0xa20+-0x3*0x57+-0x91b)]=Zt['x'],_0x204b27[_0x1a3f0e+(-0x241+0x31*0x2a+-0x7*0xd3)*lt['SPOT_DIREC'+'TION']+(0x1422+0x3be+-0x17df)]=Zt['y'],_0x204b27[_0x1a3f0e+(0x246c+0x39*0x3f+0x1*-0x326f)*lt['SPOT_DIREC'+'TION']+(0x311+0x239*0x1+-0x2*0x2a4)]=Zt['z']),_0x550f11){const _0x4be208=_0x550f11['data'];for(let _0x5824bb=-0x1*-0x1e5+-0x19c6+0x17e1;_0x5824bb<0x17cb+-0x1367*-0x2+0x3e89*-0x1;_0x5824bb++)_0x204b27[_0x1a3f0e+(-0x641+-0x2cb*-0xa+-0x15a9)*lt['PROJ_MAT_0']+_0x5824bb]=_0x4be208[_0x5824bb];}if(_0x85c602&&(_0x204b27[_0x1a3f0e+(0x14f0+-0x1991+-0x1*-0x4a5)*lt['ATLAS_VIEW'+'PORT']+(-0x789*0x5+-0x527*-0x6+0x6c3)]=_0x85c602['x'],_0x204b27[_0x1a3f0e+(-0x1*-0x99d+0x173b+-0x20d4)*lt['ATLAS_VIEW'+'PORT']+(0x939+-0xd*-0x1ab+-0x1ee7)]=_0x85c602['y'],_0x204b27[_0x1a3f0e+(0x60*-0x67+0x601*0x2+-0x1*-0x1aa2)*lt['ATLAS_VIEW'+'PORT']+(-0x145c+0x1*-0x1871+-0x2ccf*-0x1)]=_0x85c602['z']/(0x2209+0x197b+-0x3b81*0x1)),_0x35398f){const _0x27fe1c=this['getLightAr'+'eaSizes'](_0x5a68b0);_0x204b27[_0x1a3f0e+(0x1*-0x226f+-0x73*-0xf+0x1bb6)*lt['AREA_DATA_'+'WIDTH']+(-0x82*0x2b+-0x5*-0x6f1+-0xcdf)]=_0x27fe1c[0xece+0x13b5+-0xb81*0x3],_0x204b27[_0x1a3f0e+(0xc59*-0x3+-0x20d1+0x45e0)*lt['AREA_DATA_'+'WIDTH']+(0x12e7+-0x1f3b+-0x4d*-0x29)]=_0x27fe1c[0xce3+0xfb2+-0x76*0x3e],_0x204b27[_0x1a3f0e+(0x16b2+0xc*0x61+-0xaa*0x29)*lt['AREA_DATA_'+'WIDTH']+(0x2*0xeb1+-0x21ae+0x44e)]=_0x27fe1c[0x1688+-0x1*0x1421+-0x265],_0x204b27[_0x1a3f0e+(0x17*-0x142+-0x222f+-0x150b*-0x3)*lt['AREA_DATA_'+'HEIGHT']+(0x2a1+0x25*0x2f+-0x96c)]=_0x27fe1c[-0x14e*0x12+-0x365*0xb+-0x4ae*-0xd],_0x204b27[_0x1a3f0e+(0x1a75*-0x1+0x1*0x204d+-0x2*0x2ea)*lt['AREA_DATA_'+'HEIGHT']+(-0x1*0x1265+-0x1a5*-0x13+-0xcd9)]=_0x27fe1c[0x1f+0x1d9e+-0x1db9],_0x204b27[_0x1a3f0e+(0x421*0x2+-0x194*-0x8+-0x14de)*lt['AREA_DATA_'+'HEIGHT']+(0x2f*-0x9b+-0xbee+0x2865)]=_0x27fe1c[-0x830+0x19e4+-0x9*0x1f7];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x1*-0x887+-0x136d+0xae6+0.000001,n_=-0x1*-0x2689+-0x189f+0x216;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x5dcd52){c(this,'clusterTex'+'ture'),(this['device']=_0x5dcd52,this['name']='Untitled',this['reportCoun'+'t']=-0x25ae+0x2675+0x1*-0xc7,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(-0x1ff5+-0x1*-0x203e+0x18*-0x3,-0xe*-0x24f+-0xc26+-0x3*0x6b9,0x1c8f+0x13*-0xbf+0x9*-0x199),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x238f*-0x1+-0x135a*0x1+-0x33d*0x5,this['_maxAttenu'+'ation']=0x63*-0x2c+-0xb3a*-0x1+-0x26*-0x27,this['_maxColorV'+'alue']=-0x1058+-0x1*-0xf23+0x135,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x5dcd52),this['registerUn'+'iforms'](_0x5dcd52));}set['maxCellLig'+'htCount'](_0x5e4f21){_0x5e4f21!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x5e4f21,this['_cellsDirt'+'y']=!(-0x180d+-0x1*-0x651+0x11bc));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x4d2d7b){Ml['copy'](_0x4d2d7b)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(0x250c+-0x263b+0x12f));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x109598){this['_clusterSk'+'ipId']=_0x109598['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x109598['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x109598['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x109598['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0xdef+-0x204e+-0x931*-0x2),this['_clusterBo'+'undsMinId']=_0x109598['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x19d3+0x1c5+-0x133*0x17),this['_clusterBo'+'undsDeltaI'+'d']=_0x109598['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x2403+-0x1*-0x6a+-0x246a),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x109598['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x1a3f+-0x2b1*0x1+-0x1cf3*-0x1),this['_clusterCe'+'llsDotId']=_0x109598['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x1fd0+-0x1293+0x2*0x1933),this['_clusterCe'+'llsMaxId']=_0x109598['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x203*-0x1+0x24b3+0x10d*-0x21),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x109598['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x31a*0x2+0x13fa+-0xdc4);}['updatePara'+'ms'](_0x5901ea){_0x5901ea&&(this['cells']=_0x5901ea['cells'],this['maxCellLig'+'htCount']=_0x5901ea['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x5901ea['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x5901ea['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x5901ea['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x1196+-0x2*-0xd47+-0x2c23);const _0x2b155d=this['_cells']['x'],_0xd77d24=this['_cells']['y'],_0x1ea98e=this['_cells']['z'],_0x3ff059=_0x2b155d*_0xd77d24*_0x1ea98e,_0x585d36=this['maxCellLig'+'htCount']*_0x3ff059;let _0x535269=Math['ceil'](Math['sqrt'](_0x585d36));_0x535269=N['roundUp'](_0x535269,this['maxCellLig'+'htCount']);const _0x40f457=Math['ceil'](_0x585d36/_0x535269);v['assert'](_0x535269<=n_&&_0x40f457<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x1*0x1e85+-0x12f5+0x317a]=_0x2b155d,this['_clusterCe'+'llsMaxData'][0x75*0x4a+-0x5e1*0x3+-0x102e]=_0xd77d24,this['_clusterCe'+'llsMaxData'][0x9ca+0x177a+-0x306*0xb]=_0x1ea98e,this['_clusterCe'+'llsDotData'][-0x6*0x166+0x519+0x3*0x119]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x52f+-0x892+0xdc2]=_0x2b155d*_0x1ea98e*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x238*-0x8+0x1*0x1d0f+0x2ecd*-0x1]=_0x2b155d*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x585d36),this['counts']=new Int32Array(_0x3ff059),this['_clusterTe'+'xtureSizeD'+'ata'][-0x5*-0x733+0x1f61+0xe0*-0x4d]=_0x535269,this['_clusterTe'+'xtureSizeD'+'ata'][-0xea7+0x196e+-0xac6]=(0x1017*-0x1+0x3c*0x75+-0xb54)/_0x535269,this['_clusterTe'+'xtureSizeD'+'ata'][-0xc43*-0x1+0x1615+-0x2256]=(0x210b+-0x14bd+0x43*-0x2f)/_0x40f457,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x535269,_0x40f457,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x3b0*-0x6+0x20f7+0xb*-0x502?0xa29+0x2069+-0x2a92:-0x1*0x1cca+0x2*-0x135e+0x4387),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x2108af=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1d43+0x10d*0x22+-0x677]=this['_cells']['x']/_0x2108af['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1235+0x1f00+-0x1*0x3134]=this['_cells']['y']/_0x2108af['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0xdea+-0x1*0x8bc+0x296*-0x2]=this['_cells']['z']/_0x2108af['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0xdba+-0x2113+0x1359]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x1cb4+-0x21b2+0x3e67]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x2674+-0x164a+-0x1028]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0xd68+0x1*0x721+-0x1489]=_0x2108af['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1b83*0x1+-0x1fea+0x468]=_0x2108af['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xbf6+0x1bd7+0xfdf*-0x1]=_0x2108af['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x1*-0x21a9+0x2*0x11eb+-0x457f]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x2238+-0x1a0b*-0x1+-0x3c42]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x22a68a,_0x254c7e,_0x3a71a7){_0x254c7e['copy'](_0x22a68a['min']),_0x254c7e['sub'](this['boundsMin']),_0x254c7e['div'](this['boundsDelt'+'a']),_0x254c7e['mul2'](_0x254c7e,this['cells']),_0x254c7e['floor'](),_0x3a71a7['copy'](_0x22a68a['max']),_0x3a71a7['sub'](this['boundsMin']),_0x3a71a7['div'](this['boundsDelt'+'a']),_0x3a71a7['mul2'](_0x3a71a7,this['cells']),_0x3a71a7['ceil'](),_0x254c7e['max'](T['ZERO']),_0x3a71a7['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0xa0b67f){const _0x3f0eb3=this['lightsBuff'+'er']['maxLights'],_0x4b029c=this['_usedLight'+'s'];let _0x13339e=0x21eb+0x1e78+-0x4062;_0xa0b67f['forEach'](_0x182081=>{const _0x54a933=!!(_0x182081['mask']&(hs|cr)),_0x489e4d=_0x182081['type']===Re&&_0x182081['_outerCone'+'Angle']===-0x1*0x49e+-0xd*0x18d+0x18c7;if(_0x182081['enabled']&&_0x182081['type']!==oe&&_0x182081['visibleThi'+'sFrame']&&_0x182081['intensity']>0x1624+-0xf6c+0x35c*-0x2&&_0x54a933&&!_0x489e4d){if(_0x13339e<_0x3f0eb3){let _0x108d7a;_0x13339e<_0x4b029c['length']?_0x108d7a=_0x4b029c[_0x13339e]:(_0x108d7a=new a_(),_0x4b029c['push'](_0x108d7a)),_0x108d7a['light']=_0x182081,_0x182081['getBoundin'+'gBox'](bd),_0x108d7a['min']['copy'](bd['getMin']()),_0x108d7a['max']['copy'](bd['getMax']()),_0x13339e++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x3f0eb3-(0x219b+-0x6b6*0x2+-0xf6*0x15))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x4b029c['length']=_0x13339e;}['evaluateBo'+'unds'](){const _0x349f0f=this['_usedLight'+'s'],_0x52606b=this['boundsMin'],_0x182521=this['boundsMax'];if(_0x349f0f['length']>-0x1*-0x24bb+-0x1576+-0x1*0xf44){_0x52606b['copy'](_0x349f0f[0x1*-0x24d+-0x56b+-0x1*-0x7b9]['min']),_0x182521['copy'](_0x349f0f[-0x2*0x21+-0x1d45+0x1d88]['max']);for(let _0x225536=0x4*-0x6a+-0x15ac*-0x1+-0xd*0x18a;_0x225536<_0x349f0f['length'];_0x225536++)_0x52606b['min'](_0x349f0f[_0x225536]['min']),_0x182521['max'](_0x349f0f[_0x225536]['max']);}else _0x52606b['set'](-0x2ea+0x1117+-0x1*0xe2d,-0xd06+-0xc07+0x190d,-0x10b1*0x2+0xb10+0x1652),_0x182521['set'](0x2eb+0x1*-0x17a5+0x14bb,0x189b+-0x1c5f+0x3c5,-0x11e9+0x7c*-0x3b+0x2e7e);this['boundsDelt'+'a']['sub2'](_0x182521,_0x52606b),this['lightsBuff'+'er']['setBounds'](_0x52606b,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x556d71=-0x5c*-0x3+0xaaf*0x3+-0x303*0xb,_0x280264=0xbc3*-0x1+-0x16a*-0x5+0x4b1;const _0x129cd1=this['_usedLight'+'s'];for(let _0x3b8692=-0x1877*0x1+-0x4*0x150+0x3*0x9e8;_0x3b8692<_0x129cd1['length'];_0x3b8692++){const _0x435aaa=_0x129cd1[_0x3b8692]['light'];_0x556d71=Math['max'](_0x435aaa['attenuatio'+'nEnd'],_0x556d71);const _0x1a4db9=_0x435aaa['_colorLine'+'ar'];_0x280264=Math['max'](_0x1a4db9[0x1*0x1f1+-0x38b*-0x6+-0x1733],_0x280264),_0x280264=Math['max'](_0x1a4db9[-0x6ff+0x21d5+-0x1*0x1ad5],_0x280264),_0x280264=Math['max'](_0x1a4db9[-0x20e0+0xdc1+0x1321],_0x280264);}this['_maxAttenu'+'ation']=_0x556d71+r_,this['_maxColorV'+'alue']=_0x280264+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x172203){this['counts']['fill'](-0x1*0xb8d+-0x23*0xff+0x2e6a),this['clusters']['fill'](0x1*0x373+-0x21*0x6c+0xa79),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x172203?_0x172203['areaLights'+'Enabled']:!(0xa*-0x1d5+0xdc5+0x16*0x35);const _0x147c1c=this['_cells']['x'],_0x22c107=this['_cells']['z'],_0x5e2100=this['counts'],_0x114cd3=this['_maxCellLi'+'ghtCount'],_0x1791b0=this['clusters'],_0x323437=this['maxCellLig'+'htCount'];let _0x484a76=!(-0x2*0x883+0x2044+-0xf3d);const _0x1a3f1a=this['_usedLight'+'s'];for(let _0x4ab1da=0xcdf+0xb*0x295+-0x2945;_0x4ab1da<_0x1a3f1a['length'];_0x4ab1da++){const _0x83d96c=_0x1a3f1a[_0x4ab1da],_0x2ca9e3=_0x83d96c['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x2ca9e3,_0x4ab1da),this['evalLightC'+'ellMinMax'](_0x83d96c,Pl,Rl);const _0x3a9946=Pl['x'],_0x52113f=Rl['x'],_0x1610f9=Pl['y'],_0x2ccd7b=Rl['y'],_0x1b6c79=Pl['z'],_0x581d5a=Rl['z'];for(let _0x3c9352=_0x3a9946;_0x3c9352<=_0x52113f;_0x3c9352++)for(let _0x530a04=_0x1b6c79;_0x530a04<=_0x581d5a;_0x530a04++)for(let _0x5f068c=_0x1610f9;_0x5f068c<=_0x2ccd7b;_0x5f068c++){const _0x30c1ad=_0x3c9352+_0x147c1c*(_0x530a04+_0x5f068c*_0x22c107),_0x19cc45=_0x5e2100[_0x30c1ad];_0x19cc45<_0x114cd3?(_0x1791b0[_0x323437*_0x30c1ad+_0x19cc45]=_0x4ab1da,_0x5e2100[_0x30c1ad]=_0x19cc45+(0x1*0x21ae+0x4a6*0x7+0xfd*-0x43)):_0x484a76=!(-0x121*0x1+-0x83*-0x8+-0x2f7);}}_0x484a76&&this['reportCoun'+'t']<-0x1*-0x26ad+-0x1bf+0xb*-0x35b&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x1f01+0xb*0xd0+-0x1*0x27ed?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x2d1303,_0xaa88f6=null){this['updatePara'+'ms'](_0xaa88f6),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x2d1303),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0xaa88f6),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=0x124e+-0xb74+-0x6d8+0.39996322972865306,ll={'circlePoint'(_0xc3bb9a){const _0x515eb4=Math['sqrt'](Math['random']()),_0x43b158=Math['random']()*(0x2*-0xfda+-0x63*-0x53+-0x63)*Math['PI'];_0xc3bb9a['x']=_0x515eb4*Math['cos'](_0x43b158),_0xc3bb9a['y']=_0x515eb4*Math['sin'](_0x43b158);},'circlePointDeterministic'(_0xb941ce,_0x341d19,_0x35b7ee){const _0x5eef2e=_0x341d19*o_,_0x2d0d37=Math['sqrt'](_0x341d19)/Math['sqrt'](_0x35b7ee);_0xb941ce['x']=_0x2d0d37*Math['cos'](_0x5eef2e),_0xb941ce['y']=_0x2d0d37*Math['sin'](_0x5eef2e);},'spherePointDeterministic'(_0x1e5dc6,_0x23ae66,_0x6bca6f,_0x2fba48=-0x2b*-0x59+-0x258f+0x169c,_0x2006b2=-0x2*0x74f+0x1*0xf0b+0xc*-0x9){_0x2fba48=0x162*0xd+-0x2260+0x1067-(-0x1*0x21e4+-0x5f5+0x27db)*_0x2fba48,_0x2006b2=-0xb83+-0x17*-0x2e+-0x46*-0x1b-(-0x355*-0x1+-0x164e*-0x1+-0x19a1)*_0x2006b2;const _0x173b79=N['lerp'](_0x2fba48,_0x2006b2,_0x23ae66/_0x6bca6f),_0x3950c3=Math['sqrt'](-0x1177+0x1*0x4e0+0x7c*0x1a-_0x173b79*_0x173b79),_0x58b406=o_*_0x23ae66;_0x1e5dc6['x']=Math['cos'](_0x58b406)*_0x3950c3,_0x1e5dc6['y']=_0x173b79,_0x1e5dc6['z']=Math['sin'](_0x58b406)*_0x3950c3;},'radicalInverse'(_0x40f372){let _0x1a6304=(_0x40f372<<0x2*0x112a+0x2518+0x4*-0x11d7|_0x40f372>>>0x1*0x18da+0x1abe+-0x22*0x184)>>>-0x1*0x812+0x13fb+-0x1*0xbe9;return _0x1a6304=((_0x1a6304&0x67609c25*-0x1+-0x8d934cb+0xc58f2645)<<0x114a*0x2+-0x1e57+-0x21e*0x2|(_0x1a6304&-0x242b78*-0x73+0x97d4db78+0x1e1a8f*0x16)>>>-0x438+0x2*0x9e+0x2fd)>>>-0xaad*-0x1+0x1*0x59a+-0x9*0x1cf,_0x1a6304=((_0x1a6304&0x2*0x937ee47+0x1*-0x2b5d3f8a+0x4c20962f*0x1)<<0xdc*0x20+-0x2*-0xb1d+0x637*-0x8|(_0x1a6304&0x1c*0x5761d4+-0xb4f7e753*-0x1+0xe463249)>>>-0x75d+-0x1bbf+0x231e*0x1)>>>-0x1d18+0x515+0x1803,_0x1a6304=((_0x1a6304&0x18c5ec97+0x1ed*0xd42f1+0x1*-0x2340c7a5)<<0x83*0x4b+0xeb4+-0xd1*0x41|(_0x1a6304&0x10a66b092+-0x10fa971d*-0x19+-0xc290a6b*0x25)>>>-0x1b5b+0x1e71*0x1+-0x189*0x2)>>>0x7*0x3a4+0xe71+-0x3*0xd4f,_0x1a6304=((_0x1a6304&-0xa4*-0x151d5+0x32d61*-0x72+0x190c9bd)<<0x4*0x4b3+-0x1b88+-0x44*-0x21|(_0x1a6304&-0xb5063813+-0x15a668271+0x30e6db984)>>>0x18dc+0x2*-0xe21+0x36e)>>>-0x727+-0x1f78+-0x269f*-0x1,_0x1a6304*(0x43*-0x4b+0x1148+0x259+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x3de7dd){return gC[_0x3de7dd]||'decodeGamm'+'a';}static['encodeFunc'](_0x44d016){return yC[_0x44d016]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x65fd57,_0x1e4192){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x1e4192['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x65fd57['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x1afad0=>{switch(_0x1afad0){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x110f7d,_0x9e4fb4,_0xeb1a3d)=>{if(_0x110f7d<=0x5fe*0x3+-0x16b3+0x5d*0xd)_0x9e4fb4[_0xeb1a3d+(0x163e+-0xbf4+-0xa4a)]=0x449*-0x7+-0x2*-0x2c+0x1da7,_0x9e4fb4[_0xeb1a3d+(-0x1e86+0x280+0x19*0x11f)]=-0x39*-0x61+0x1cfd+0x23*-0x172,_0x9e4fb4[_0xeb1a3d+(0x138*-0xd+-0x2*-0x1b7+0xc6c)]=-0x1*0x16cb+-0x11*0x22+0x190d,_0x9e4fb4[_0xeb1a3d+(-0x1718+0x5*0x15b+-0x13*-0xdc)]=0xb*0x5+-0x1efd+0x1ec6;else{if(_0x110f7d>=-0x315*0x9+-0x1615+0x31d3)_0x9e4fb4[_0xeb1a3d+(-0x10f*0x11+-0x75d+0x195c)]=0x4a3+-0x1376+0xfd2*0x1,_0x9e4fb4[_0xeb1a3d+(-0x11c7+-0xcae*-0x2+-0x794)]=-0x64c*-0x1+0x1eb*-0x5+0x34b,_0x9e4fb4[_0xeb1a3d+(-0x39*-0xf+0x1c8d+-0x1fe2)]=-0x64c*0x4+-0x1558+0x1*0x2e88,_0x9e4fb4[_0xeb1a3d+(-0x1*-0x2395+-0xe*0x15e+-0x106e)]=0x8*-0x2ae+-0x1cb3+-0x2f3*-0x11;else{let _0x2a2b4c=(-0x1*0x150a+0x136a+-0x3*-0x8b)*_0x110f7d%(-0x139*-0x19+-0x19*-0xea+-0x356a),_0x1fe9b9=(0x1b4c+-0x274+-0x37*0x6f)*_0x110f7d%(0x992+0xd3+-0x13*0x8c),_0x338237=(0x3*-0x208e+-0xdb*-0x11+-0xae0*-0x1f)*_0x110f7d%(-0xaf9*0x1+-0x1835+0x232f);const _0x24e26b=(0x1ade7ab+-0x2d1*0x3326+-0x20d6a6*0x1)*_0x110f7d%(0x1ef6*0x1+0x1b1c+0x1*-0x3a11);_0x2a2b4c-=_0x1fe9b9/(0xe75+0x2231+-0x2fa7),_0x1fe9b9-=_0x338237/(-0x1*-0xbfe+-0x31*-0x9e+0xcf*-0x33),_0x338237-=_0x24e26b/(-0xe59+0x24*-0x1c+0x1348),_0x9e4fb4[_0xeb1a3d+(-0xe60+-0x27c+-0x1*-0x10dc)]=Math['min'](-0x1e0b+0x1ca9+0x1*0x261,Math['floor'](_0x2a2b4c*(0x203*-0x9+0x2d8*0x1+0x1*0x1043))),_0x9e4fb4[_0xeb1a3d+(-0x19*0x117+-0x4a*-0x1a+0x13bc)]=Math['min'](-0x298*-0x3+0x5aa+0xc73*-0x1,Math['floor'](_0x1fe9b9*(-0x13*0xf+-0x1b*0x117+-0x16*-0x16f))),_0x9e4fb4[_0xeb1a3d+(-0x205f+0xd*-0x19+0x3b*0x92)]=Math['min'](0x1c9a*0x1+-0x15b1+-0x5ea,Math['floor'](_0x338237*(0x1d2f+0x18c3+0x5e2*-0x9))),_0x9e4fb4[_0xeb1a3d+(0x15c0+-0x14d8+0x1*-0xe5)]=Math['min'](-0x1*0x10f1+-0x1*-0xba+0x1136,Math['floor'](_0x24e26b*(-0x123f+-0x1a8d+0x2dcc)));}}},xC=_0x289cc5=>{const _0x2f3fd0=_0x289cc5['length'],_0x580e2d=Math['min'](_0x2f3fd0,0xf36+0x11*0x133+0xb33*-0x3),_0x52b35a=Math['ceil'](_0x2f3fd0/_0x580e2d),_0x1246f5=new Uint8Array(_0x580e2d*_0x52b35a*(0x63a+0x163e+-0x97c*0x3));let _0x2895be=-0x20de+-0x1e49+0x3f27;for(let _0x30593d=-0x87d*0x3+0x1e5*0x11+-0x35f*0x2;_0x30593d<_0x2f3fd0;_0x30593d+=-0x1*0xc41+0xa93+0x1b2)Il(_0x289cc5[_0x30593d+(0x287*-0x7+0xb52+-0xe9*-0x7)]*(-0x144b+0x1cf2+0x1bb*-0x5+0.5)+(0x20f*-0x7+0xc15*-0x2+-0x5*-0x7b7+0.5),_0x1246f5,_0x2895be+(0x464*0x7+0x10fd*-0x2+0xa6*0x5)),Il(_0x289cc5[_0x30593d+(0x1*0x48a+0x37*-0x43+-0x1*-0x9dc)]*(-0x1*0x1bd2+0x1d3a+-0x168+0.5)+(0x7*0x1d2+-0x976+-0x348+0.5),_0x1246f5,_0x2895be+(-0x3*0x1be+-0x11da+-0x1*-0x1718)),Il(_0x289cc5[_0x30593d+(-0x47*0x19+0x19e4+-0x12f3)]*(-0x1*-0x2f+0x23f3+-0x2422+0.5)+(0x8a*-0x3+0x838+0x1*-0x69a+0.5),_0x1246f5,_0x2895be+(0x1*-0x2081+0x1*-0x1a45+0x3ace)),Il(_0x289cc5[_0x30593d+(-0x37*0xd+-0x10ea+0x13b8)]/(0x1762+0x58+-0x2a2*0x9),_0x1246f5,_0x2895be+(0x13*-0x17+0x1bff+-0x1a3e)),_0x2895be+=0x7b3+-0x2195+-0x7b*-0x36;return{'width':_0x580e2d,'height':_0x52b35a,'data':_0x1246f5};},SC=(_0x23d708,_0x1454c3,_0x1c2a40,_0x50a14b)=>{const _0x519e5f=_0x1c2a40*(0x26b*-0xb+-0x1*-0x22b9+-0x81e)*Math['PI'],_0x2aa141=Math['pow'](-0x130f+-0x35f*-0x7+-0x489-_0x1454c3,(0x3*-0x663+-0xa08+0x4a*0x65)/(_0x50a14b+(-0x6f6+0xfb*0x1b+-0x1382))),_0x1bf0d5=Math['sqrt'](-0x214f+0xa86+0x16ca-_0x2aa141*_0x2aa141);_0x23d708['set'](Math['cos'](_0x519e5f)*_0x1bf0d5,Math['sin'](_0x519e5f)*_0x1bf0d5,_0x2aa141)['normalize']();},vC=(_0x42056c,_0x26fb32,_0x20f18e)=>{const _0x305679=_0x20f18e*(0x1617+-0x31*0x8+0x148d*-0x1)*Math['PI'],_0x5e9a10=Math['sqrt'](-0x1*-0x7e+-0xfa*-0x17+-0x16f3-_0x26fb32),_0x398de3=Math['sqrt'](_0x26fb32);_0x42056c['set'](Math['cos'](_0x305679)*_0x398de3,Math['sin'](_0x305679)*_0x398de3,_0x5e9a10)['normalize']();},bC=(_0x1111c3,_0x41cf13,_0x4d4d2d,_0x3ec832)=>{const _0x55eb37=_0x4d4d2d*(0x4f6+0xb0c+-0x1000)*Math['PI'],_0x98a043=Math['sqrt']((0xe3*0x23+-0xc77+-0x2a7*0x7-_0x41cf13)/(-0xdb+-0x2*-0x31+0x7a+(_0x3ec832*_0x3ec832-(0x1f37+-0x226e+0x338))*_0x41cf13)),_0x430453=Math['sqrt'](-0x1*-0x3dd+-0x1d3*-0x9+-0x1447-_0x98a043*_0x98a043);_0x1111c3['set'](Math['cos'](_0x55eb37)*_0x430453,Math['sin'](_0x55eb37)*_0x430453,_0x98a043)['normalize']();},wC=(_0x3e9102,_0x8c3bf2)=>{const _0x2652b8=_0x3e9102*_0x8c3bf2,_0x3de988=_0x8c3bf2/(-0x2027+-0x1*0x1d1f+0x3d47-_0x3e9102*_0x3e9102+_0x2652b8*_0x2652b8);return _0x3de988*_0x3de988*((0x20af+0xc9b+-0x2d49)/Math['PI']);},TC=(_0x5c8f33,_0x45ea87)=>{const _0x2aa9ab=new T(),_0x5dfb1c=[];for(let _0x11b59e=0x1e0f+-0x767*0x4+-0x73;_0x11b59e<_0x5c8f33;++_0x11b59e)SC(_0x2aa9ab,_0x11b59e/_0x5c8f33,ll['radicalInv'+'erse'](_0x11b59e),_0x45ea87),_0x5dfb1c['push'](_0x2aa9ab['x'],_0x2aa9ab['y'],_0x2aa9ab['z'],-0x1fc8+-0x1f*0xd1+0x3917);return _0x5dfb1c;},AC=(_0x8aa33c,_0x33fd7c)=>{const _0xbedbde=_0x33fd7c/_0x8aa33c,_0x553a04=new T(),_0x148392=[];for(let _0x72c003=-0x362*0x9+-0xfa3+0x2e15;_0x72c003<_0x8aa33c;++_0x72c003){vC(_0x553a04,_0x72c003/_0x8aa33c,ll['radicalInv'+'erse'](_0x72c003));const _0x3d2a75=_0x553a04['z']/Math['PI'],_0x2340a3=(-0x187d+-0x1edf+0x375c+0.5)*Math['log2'](_0xbedbde/_0x3d2a75);_0x148392['push'](_0x553a04['x'],_0x553a04['y'],_0x553a04['z'],_0x2340a3);}return _0x148392;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x5059a4,_0x11e52e)=>{const _0x5be91f=EC[_0x5059a4];return _0x5be91f&&_0x5be91f[_0x11e52e]||_0x5059a4;},MC=(_0x4a556d,_0x532e83,_0x3500f3)=>{const _0x59e82d=_0x3500f3/_0x4a556d,_0x22df66=0x1*0x14ef+-0x44a+-0x10a4-Math['log2'](_0x532e83)/(0x1437+-0x1*-0x1ac7+-0x2ef3),_0x20b4db=_0x22df66*_0x22df66,_0x539405=new T(),_0x3fdfcd=new T(),_0x3df75a=new T(-0x17c2+-0x16fb*0x1+0x2ebd,-0x69*0x58+-0x31d*0x2+0x2a52,0x2*0xb88+0x12f9+-0xa82*0x4),_0x8b4282=[],_0x8f2ec0=CC(_0x4a556d,_0x532e83);for(let _0x3ec317=0x3*-0xc45+-0x371+-0x5c0*-0x7;_0x3ec317<_0x8f2ec0;++_0x3ec317){bC(_0x539405,_0x3ec317/_0x8f2ec0,ll['radicalInv'+'erse'](_0x3ec317),_0x20b4db);const _0x5c3e98=_0x539405['z'];if(_0x3fdfcd['set'](_0x539405['x'],_0x539405['y'],_0x539405['z'])['mulScalar']((-0xd46*0x2+0x1c2a+-0x19c)*_0x5c3e98)['sub'](_0x3df75a),_0x3fdfcd['z']>0xb2*-0x7+0xe51+-0x973){const _0x2e3670=wC(Math['min'](0x1aa1+0x1c3+-0x1c63,_0x5c3e98),_0x20b4db)/(0x23ca+-0x57*0x4f+0x1*-0x8ed)+(0x466+-0xe05*0x1+0x3*0x335+0.001),_0x5de622=(0xe9c+0x2350+-0x31ec+0.5)*Math['log2'](_0x59e82d/_0x2e3670);_0x8b4282['push'](_0x3fdfcd['x'],_0x3fdfcd['y'],_0x3fdfcd['z'],_0x5de622);}}for(;_0x8b4282['length']<_0x4a556d*(-0x7*-0x15e+0x1*0x32b+-0xcb9);)_0x8b4282['push'](0x225f+-0x292*-0xb+-0x3ea5,0x1*-0x26c9+-0xf*-0x22d+0x626,-0xd3e+0x1bf+0xb7f*0x1,-0x5*0x5eb+0x45*-0x36+0x2c25);return _0x8b4282;},PC=(_0x8fbc56,_0x4ae055,_0x49dec1)=>{const _0x327abc=xC(_0x49dec1);return new he(_0x8fbc56,{'name':_0x4ae055,'width':_0x327abc['width'],'height':_0x327abc['height'],'mipmaps':!(-0xad7*0x2+-0x1b71+-0x6*-0x830),'minFilter':de,'magFilter':de,'levels':[_0x327abc['data']]});};class C0{constructor(_0x3a99ef=!(0xfaa+0x1b70*-0x1+-0x1*-0xbc6)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x3a99ef;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x4e171d,_0x2025c2)=>{_0x4e171d['destroy']();});}['get'](_0x930f78,_0x263c08){if(!this['map']['has'](_0x930f78)){const _0x4863c6=_0x263c08();return this['map']['set'](_0x930f78,_0x4863c6),_0x4863c6;}return this['map']['get'](_0x930f78);}}const RC=new C0(!(0x1e52+-0x1916+-0x53b)),IC=new Ot(),Lp=(_0x1c8f13,_0x480e88,_0x3ac205)=>IC['get'](_0x1c8f13,()=>new C0())['get'](_0x480e88,()=>PC(_0x1c8f13,_0x480e88,RC['get'](_0x480e88,_0x3ac205))),DC=(_0x5dc4b3,_0x38ea37,_0x3b049a)=>{const _0x282bd2='lambert-sa'+'mples-'+_0x38ea37+'-'+_0x3b049a;return Lp(_0x5dc4b3,_0x282bd2,()=>AC(_0x38ea37,_0x3b049a));},LC=(_0x4f53b5,_0x56703,_0x35bce2)=>{const _0x55d4ea='phong-samp'+'les-'+_0x56703+'-'+_0x35bce2;return Lp(_0x4f53b5,_0x55d4ea,()=>TC(_0x56703,_0x35bce2));},FC=(_0x55f360,_0x1d64c7,_0x56c9e5,_0x5b5588)=>{const _0x33aa62='ggx-sample'+'s-'+_0x1d64c7+'-'+_0x56c9e5+'-'+_0x5b5588;return Lp(_0x55f360,_0x33aa62,()=>MC(_0x1d64c7,_0x56c9e5,_0x5b5588));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x3bb76d,_0x481ff9,_0x8a9950={}){var _0x2cf0ff,_0x4d2280;v['assert'](_0x3bb76d instanceof he&&_0x481ff9 instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x28d779=_0x8a9950['seamPixels']??0x1*0xe8f+0x9b2+-0x1841,_0xf0d4b=(((_0x2cf0ff=_0x8a9950['rect'])==null?void(-0x1099+-0xd*0x2ff+0x378c):_0x2cf0ff['z'])??_0x481ff9['width'])-_0x28d779*(0x237e+-0x22*0x6e+-0x2*0xa70),_0x169b69=(((_0x4d2280=_0x8a9950['rect'])==null?void(0x2262+0x41+-0x1*0x22a3):_0x4d2280['w'])??_0x481ff9['height'])-_0x28d779*(-0x108+-0x1*-0x105d+-0xf53);if(_0xf0d4b<0x2174+-0x564*-0x1+-0x26d7||_0x169b69<-0x1d89+-0x7*0x4b0+0x3e5a)return!(-0x19d2*-0x1+-0x15af+-0x422);const _0x2c7297={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x1e4ec9=_0x8a9950['hasOwnProp'+'erty']('specularPo'+'wer')?_0x8a9950['specularPo'+'wer']:0x57*-0x40+-0x21a*0x1+0x17db,_0x66635d=_0x8a9950['hasOwnProp'+'erty']('face')?_0x8a9950['face']:null,_0x5a4bc8=_0x8a9950['hasOwnProp'+'erty']('distributi'+'on')?_0x8a9950['distributi'+'on']:_0x1e4ec9===0x1d87+0x5*-0x66+-0x1b88?'none':'phong',_0x59c89a=_0x2c7297[_0x5a4bc8]||'reproject',_0x316a4c=_0x59c89a['startsWith']('prefilterS'+'amples'),_0x5c858e=Es['decodeFunc'](_0x3bb76d['encoding']),_0x4978e7=Es['encodeFunc'](_0x481ff9['encoding']),_0x586b8e='sample'+l_(_0x3bb76d['projection']),_0x48c1a9='getDirecti'+'on'+l_(_0x481ff9['projection']),_0x5446d2=_0x8a9950['hasOwnProp'+'erty']('numSamples')?_0x8a9950['numSamples']:-0x2512+0x29*0x6d+0x1*0x179d,_0x3eedc0=_0x59c89a+'_'+_0x5c858e+'_'+_0x4978e7+'_'+_0x586b8e+'_'+_0x48c1a9+'_'+_0x5446d2,_0x4c8556=_0x3bb76d['device'];let _0x3b0393=ka(_0x4c8556)['getCachedS'+'hader'](_0x3eedc0);if(!_0x3b0393){const _0x524332='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x59c89a+'\x0a'+(_0x316a4c?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x3bb76d['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x5c858e+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x4978e7+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x586b8e+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x48c1a9+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x5446d2+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x5446d2))['toFixed'](-0x347*-0x2+0x1301+-0x2*0xcc7)+'\x0a';_0x3b0393=Is(_0x4c8556,OC,_0x524332+'\x0a'+X['reprojectP'+'S'],_0x3eedc0);}G['pushGpuMar'+'ker'](_0x4c8556,'ReprojectT'+'exture'),_0x4c8556['setBlendSt'+'ate'](_t['NOBLEND']);const _0x324ce1=_0x4c8556['scope']['resolve'](_0x3bb76d['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x324ce1),_0x324ce1['setValue'](_0x3bb76d);const _0x6ac50c=_0x4c8556['scope']['resolve']('params'),_0x341b80=_0x4c8556['scope']['resolve']('uvMod');_0x28d779>0x3c*0x59+0x1d22+-0x31fe?_0x341b80['setValue']([(_0xf0d4b+_0x28d779*(0x1*0x12cd+0x1*-0x2581+0x12b6))/_0xf0d4b,(_0x169b69+_0x28d779*(0x4*0x73+-0x3*0x265+0x565))/_0x169b69,-_0x28d779/_0xf0d4b,-_0x28d779/_0x169b69]):_0x341b80['setValue']([-0x1294+0xb9f+0x6f6,0x1*0x47a+-0x17cd+0x1354,-0x3f9*-0x5+0x6bd+-0x1a9a,0x1317+-0x1f80+0xc69]);const _0x2468d3=[-0x85d+0x49*-0x8+-0xaa5*-0x1,_0x481ff9['width']*_0x481ff9['height']*(_0x481ff9['cubemap']?0x5d0*0x2+-0x218a+0x270*0x9:0x123+-0xa5*0x2e+0x19*0x124),_0x3bb76d['width']*_0x3bb76d['height']*(_0x3bb76d['cubemap']?-0x487*-0x4+0x3b3*0x6+-0x2848:-0xb3e+-0x412*-0x1+-0xb*-0xa7)];if(_0x316a4c){const _0x473c1c=_0x3bb76d['width']*_0x3bb76d['height']*(_0x3bb76d['cubemap']?0x9*0x33a+-0x3fd*-0x9+-0x40e9:-0x14bd*-0x1+-0x1822*0x1+0x366),_0x2e0752=_0x5a4bc8==='ggx'?FC(_0x4c8556,_0x5446d2,_0x1e4ec9,_0x473c1c):_0x5a4bc8==='lambert'?DC(_0x4c8556,_0x5446d2,_0x473c1c):LC(_0x4c8556,_0x5446d2,_0x1e4ec9);_0x4c8556['scope']['resolve']('samplesTex')['setValue'](_0x2e0752),_0x4c8556['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x11b*-0x1f+-0x1f*-0x124+-0x1*0x116)/_0x2e0752['width'],(-0x1db1+-0x1360+-0x1*-0x3112)/_0x2e0752['height']]);}for(let _0x5a009e=0x99c+0xd*-0x1df+-0xeb7*-0x1;_0x5a009e<(_0x481ff9['cubemap']?-0x595*-0x2+-0x1eb8*0x1+0x1394:0x4*-0x305+0x1*-0x22ae+0x2ec3);_0x5a009e++)if(_0x66635d===null||_0x5a009e===_0x66635d){const _0xadebb1=new pt({'colorBuffer':_0x481ff9,'face':_0x5a009e,'depth':!(-0x15fb+0x1f*0x1e+0x125a),'flipY':_0x4c8556['isWebGPU']});_0x2468d3[-0x12bb+0x1*-0x1fff+0x32ba*0x1]=_0x5a009e,_0x6ac50c['setValue'](_0x2468d3),dn(_0x4c8556,_0xadebb1,_0x3b0393,_0x8a9950==null?void(-0xd7*0x5+0x1477+-0x1*0x1044):_0x8a9950['rect']),_0xadebb1['destroy']();}return G['popGpuMark'+'er'](_0x4c8556),!(-0x12*-0x4f+-0x2*0x161+0x2*-0x166);}const wd=(_0x9a298c,_0x1de6cd=-0x242*0x6+0xe85+-0xf9)=>0x6b*0x4f+-0x890+-0x1874*0x1+Math['floor'](Math['log2'](Math['max'](_0x9a298c,_0x1de6cd))),kC=_0x24469e=>_0x24469e['textureHal'+'fFloatRend'+'erable'],BC=_0x51e4e4=>_0x51e4e4['textureFlo'+'atRenderab'+'le'],NC=_0x1a5054=>kC(_0x1a5054)?Je:BC(_0x1a5054)?Ke:Se,zC=_0x224f4f=>Se,UC=(_0x45299a,_0x4bb7a8,_0x5722b9,_0x45e488)=>new he(_0x45299a,{'name':'lighting-'+_0x4bb7a8,'cubemap':!(0x1d*0x14b+0x2b*-0x38+-0x1c17),'width':_0x4bb7a8,'height':_0x4bb7a8,'format':_0x5722b9,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(0xba1*-0x1+-0x1b4f+0x26f1)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x3cd63c,_0x24099d){const _0x4f5665=_0x3cd63c['device'];G['pushGpuMar'+'ker'](_0x4f5665,'genSkyboxC'+'ubemap');const _0xac8b89=UC(_0x4f5665,_0x24099d||(_0x3cd63c['cubemap']?_0x3cd63c['width']:_0x3cd63c['width']/(-0x26a3+0xdf6+0x18b1)),Se);return Qs(_0x3cd63c,_0xac8b89,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x4f5665),_0xac8b89;}static['generateLi'+'ghtingSour'+'ce'](_0x2748a9,_0x5fafaa){const _0xfcafd9=_0x2748a9['device'];G['pushGpuMar'+'ker'](_0xfcafd9,'genLightin'+'gSource');const _0x4d0d85=NC(_0xfcafd9),_0x39e997=(_0x5fafaa==null?void(0x59f+-0x19*0x89+-0x14b*-0x6):_0x5fafaa['target'])||new he(_0xfcafd9,{'name':'lighting-s'+'ource','cubemap':!(-0x417*0x5+-0x148a+0x5db*0x7),'width':(_0x5fafaa==null?void(0x1*-0x17f6+-0x337*-0xb+-0x1*0xb67):_0x5fafaa['size'])||0x1e1a+0x1b13+-0x38ad,'height':(_0x5fafaa==null?void(-0x112*0x22+-0x2*0xc53+0x3d0a):_0x5fafaa['size'])||-0x9*0x3b9+-0x5*-0x1d7+0x18ce,'format':_0x4d0d85,'type':_0x4d0d85===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(0x7*-0x57b+-0x108d+0x61a*0x9)});return Qs(_0x2748a9,_0x39e997,{'numSamples':_0x2748a9['mipmaps']?0x1f99+-0x7cf*0x2+-0xffa:-0x98d*0x2+-0x5a7+0x1cc1}),G['popGpuMark'+'er'](_0xfcafd9),_0x39e997;}static['generateAt'+'las'](_0x52064b,_0x5b73fa){const _0x32ef07=_0x52064b['device'],_0x35b75c=zC();G['pushGpuMar'+'ker'](_0x32ef07,'genAtlas');const _0x13b040=(_0x5b73fa==null?void(0x243d+-0x6*-0x33d+-0x37ab):_0x5b73fa['target'])||new he(_0x32ef07,{'name':'envAtlas','width':(_0x5b73fa==null?void(0x1adc+0xe9e+0x297a*-0x1):_0x5b73fa['size'])||0x3*0x5f7+0x2c5*-0x1+-0xd20,'height':(_0x5b73fa==null?void(-0x15c7+0x17fc+-0x5*0x71):_0x5b73fa['size'])||0x17ba+0x3*0xa7+0x8d*-0x2b,'format':_0x35b75c,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x25ac+0x20*-0x7+-0x24cb*0x1)});G['pushGpuMar'+'ker'](_0x32ef07,'mipmaps');const _0x1eb341=_0x13b040['width']/(-0x166d+0x71*0x3b+-0x19e),_0x526870=new Q(-0x17ea*0x1+-0x20*0x12e+-0x3*-0x148e,0x59f*-0x1+-0x62b+-0x5e5*-0x2,(0x5*-0x731+-0x1b*0x1b+0x28ce)*_0x1eb341,(0x17fe+-0x226e+0xb70)*_0x1eb341),_0x18b512=wd(-0x177+0x1d05+-0x1a8e)-wd(0x2631+0x49*-0x57+-0xd5e);for(let _0x25169a=-0xd30+-0x32e*0x8+-0x8*-0x4d4;_0x25169a<_0x18b512;++_0x25169a)Qs(_0x52064b,_0x13b040,{'numSamples':0x1,'rect':_0x526870,'seamPixels':_0x1eb341}),_0x526870['x']+=_0x526870['w'],_0x526870['y']+=_0x526870['w'],_0x526870['z']=Math['max'](0x1469+0x1533+0x299b*-0x1,Math['floor'](_0x526870['z']*(0x1*-0x50d+-0x2*-0x14e+0x271+0.5))),_0x526870['w']=Math['max'](-0x182f+-0x8b8+0x20e8*0x1,Math['floor'](_0x526870['w']*(0x11ce*-0x1+-0xdb2*0x2+-0xb2*-0x41+0.5)));G['popGpuMark'+'er'](_0x32ef07),G['pushGpuMar'+'ker'](_0x32ef07,'reflection'+'s'),_0x526870['set'](0x1b26+0x14*-0x1c+-0x18f6,(-0x234d+-0xd77+-0x34*-0xf5)*_0x1eb341,(0x7*0x48+0x1434+-0x152c)*_0x1eb341,(-0x6*-0x359+-0x1512+0x17c*0x1)*_0x1eb341);for(let _0x56c098=0x1b12+0x8*-0x28d+0x37*-0x1f;_0x56c098<-0x35f*-0xa+-0x1*-0x1093+-0x3242;++_0x56c098)Qs(_0x52064b,_0x13b040,{'numSamples':(_0x5b73fa==null?void(0x2342*0x1+-0x1836+-0xb0c):_0x5b73fa['numReflect'+'ionSamples'])||-0x7*-0x4f4+0x5c*0x2c+-0x4*0xb9f,'distribution':(_0x5b73fa==null?void(-0x1*0x1a71+-0x2681*-0x1+-0xc10):_0x5b73fa['distributi'+'on'])||'ggx','specularPower':Math['max'](0x146+-0x1493+0x161*0xe,-0x13f1+0x20e9+-0x1a8*0x3>>_0x56c098*(-0x1b83+0x1*-0x258+0x1*0x1ddd)),'rect':_0x526870,'seamPixels':_0x1eb341}),_0x526870['y']+=_0x526870['w'],_0x526870['z']=Math['max'](-0x4d4+-0x1*-0x1153+-0xc7e,Math['floor'](_0x526870['z']*(-0x1db3+0x1*0x13c1+-0x1*-0x9f2+0.5))),_0x526870['w']=Math['max'](0x1*0x1d02+-0x16a3+-0x65e,Math['floor'](_0x526870['w']*(0x647*0x1+0x1589+0xa*-0x2c8+0.5)));return G['popGpuMark'+'er'](_0x32ef07),G['pushGpuMar'+'ker'](_0x32ef07,'ambient'),_0x526870['set']((-0x1*0x181d+0x2415+-0xb78)*_0x1eb341,(0x3*0xcfb+0x1c43+-0x692*0xa)*_0x1eb341,(0xe11+0x13ca+-0x219b)*_0x1eb341,(-0x1ab7+-0x22c5+-0x2*-0x1ece)*_0x1eb341),Qs(_0x52064b,_0x13b040,{'numSamples':(_0x5b73fa==null?void(0x9f5*-0x1+-0x99c+0x1391):_0x5b73fa['numAmbient'+'Samples'])||-0x1*0x2218+-0x1370+0x3d88,'distribution':'lambert','rect':_0x526870,'seamPixels':_0x1eb341}),G['popGpuMark'+'er'](_0x32ef07),G['popGpuMark'+'er'](_0x32ef07),_0x13b040;}static['generatePr'+'efilteredA'+'tlas'](_0x5f4dbf,_0x5d197a){const _0x20a0d2=_0x5f4dbf[0x113c+-0x1c83+0xb47*0x1]['device'],_0x59f5ff=_0x5f4dbf[-0x236a+0x63c+0x1d2e]['format'],_0x43ba05=_0x5f4dbf[0x247f*-0x1+0xa28*-0x1+-0xf8d*-0x3]['type'];G['pushGpuMar'+'ker'](_0x20a0d2,'genPrefilt'+'eredAtlas');const _0x3a533b=(_0x5d197a==null?void(-0x1c03*-0x1+-0x2*-0xa93+-0x3129):_0x5d197a['target'])||new he(_0x20a0d2,{'name':'envPrefilt'+'eredAtlas','width':(_0x5d197a==null?void(-0x1fc9*-0x1+-0xf9a+-0x102f):_0x5d197a['size'])||-0xb39+0x21ea+-0x14b1,'height':(_0x5d197a==null?void(0x7*0x1c3+0x10f1+0x9c2*-0x3):_0x5d197a['size'])||0x963+-0x4b9+-0x2aa,'format':_0x59f5ff,'type':_0x43ba05,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x1d*-0x81+0x1*-0x23d2+0x3270)});G['pushGpuMar'+'ker'](_0x20a0d2,'mipmaps');const _0xcb3050=_0x3a533b['width']/(-0xe5*0x12+0x5*0x196+0xa2c),_0x16a04c=new Q(0xd7b*-0x2+-0x2*0xced+0x410*0xd,0x1150+-0x1d4b*-0x1+-0x7b*0x61,(-0x1d1f+-0x67+0x1f86)*_0xcb3050,(0x11b1+0xff*-0x19+0x41b*0x2)*_0xcb3050),_0x573e48=wd(0x1340+-0xe3e+-0x7*0x6e);for(let _0x3100ac=0x2277+-0x16*-0x161+0x35*-0x139;_0x3100ac<_0x573e48;++_0x3100ac)Qs(_0x5f4dbf[0x9f*0x25+-0x6e9+-0x1012],_0x3a533b,{'numSamples':0x1,'rect':_0x16a04c,'seamPixels':_0xcb3050}),_0x16a04c['x']+=_0x16a04c['w'],_0x16a04c['y']+=_0x16a04c['w'],_0x16a04c['z']=Math['max'](0x8b0+-0x27b*0x2+-0x3b9,Math['floor'](_0x16a04c['z']*(0x489*-0x8+0x679*0x3+0x10dd+0.5))),_0x16a04c['w']=Math['max'](-0x1bf1*0x1+-0x1471+0x3063*0x1,Math['floor'](_0x16a04c['w']*(-0x4*-0x6a5+0x371*0x5+-0x2bc9+0.5)));G['popGpuMark'+'er'](_0x20a0d2),G['pushGpuMar'+'ker'](_0x20a0d2,'reflection'+'s'),_0x16a04c['set'](0xa89+-0x279+0x3*-0x2b0,(0x95*-0x25+-0x6*-0x182+-0x1*-0xd7d)*_0xcb3050,(0x4*-0x2e0+-0x2*0x4c7+0x160e)*_0xcb3050,(-0x59*0x14+-0x6*-0x63a+0x3*-0x9f8)*_0xcb3050);for(let _0x57fab8=0x5ab+-0x1*-0x1913+-0x1ebd;_0x57fab8<_0x5f4dbf['length'];++_0x57fab8)Qs(_0x5f4dbf[_0x57fab8],_0x3a533b,{'numSamples':0x1,'rect':_0x16a04c,'seamPixels':_0xcb3050}),_0x16a04c['y']+=_0x16a04c['w'],_0x16a04c['z']=Math['max'](0xe40+0x191*0xf+-0x25be,Math['floor'](_0x16a04c['z']*(0x12*-0x133+0xac1+0xad5+0.5))),_0x16a04c['w']=Math['max'](0xc86+-0x9c*0x13+-0x1*0xf1,Math['floor'](_0x16a04c['w']*(-0x17da*-0x1+0xc20+-0x399*0xa+0.5)));return G['popGpuMark'+'er'](_0x20a0d2),G['pushGpuMar'+'ker'](_0x20a0d2,'ambient'),_0x16a04c['set']((-0x7f9+0x487*-0x3+0x160e)*_0xcb3050,(-0xe5f+-0x2174+0x3*0x1071)*_0xcb3050,(0x4c+0x50a+-0x516)*_0xcb3050,(-0x20ff+-0x9*0x23+0x225a)*_0xcb3050),_0x5d197a!=null&&_0x5d197a['legacyAmbi'+'ent']?Qs(_0x5f4dbf[-0x969+0x2*-0xea4+0x26b6],_0x3a533b,{'numSamples':0x1,'rect':_0x16a04c,'seamPixels':_0xcb3050}):Qs(_0x5f4dbf[0x2581+-0x2*-0x264+-0x2a49],_0x3a533b,{'numSamples':(_0x5d197a==null?void(0x200f+-0x29*0x87+-0xa70):_0x5d197a['numSamples'])||-0x1836+-0xd6*0x23+0xe*0x464,'distribution':'lambert','rect':_0x16a04c,'seamPixels':_0xcb3050}),G['popGpuMark'+'er'](_0x20a0d2),G['popGpuMark'+'er'](_0x20a0d2),_0x3a533b;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x4f5c7c,_0x12a40c)=>{const _0x1e96e7=_0x4f5c7c['split']('.')['map'](_0x3dfc2d=>parseInt(_0x3dfc2d,0xebe+-0x11b1+0x3*0xff)),_0xb524a9=_0x12a40c['split']('.')['map'](_0x3befc2=>parseInt(_0x3befc2,-0x1*-0x12a+0xd2f+-0xe4f));return _0x1e96e7[-0xdb6+0x26*-0xdf+0x2ed0]<_0xb524a9[0x6*0x5d5+-0x1a3*-0xe+0x44*-0xda]||_0x1e96e7[-0x2045+0x92b+0x171a]===_0xb524a9[0x41c*0x8+-0x1*-0xb8d+0x29d*-0x11]&&_0x1e96e7[-0x10d4+0xc3*0x1b+0x2*-0x1de]<_0xb524a9[0x3*-0x43b+0x1b6a+-0xeb8];},WC=_0x445b5d=>{const _0xc606fb=_0x445b5d['APIVersion'];for(const _0x13c5b8 in _0x445b5d)if(_0x13c5b8!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x13c5b8)){const _0x18123c=VC[_0x13c5b8];_0x18123c&&(!_0xc606fb||HC(_0xc606fb,_0x18123c))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x13c5b8+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x18123c+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0xc606fb||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x3bad85=GC[_0x13c5b8];_0x3bad85?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x13c5b8+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x3bad85+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x13c5b8+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x3e529c){_0x3e529c['forEach'](_0xf3d39a=>{_0xf3d39a['endsWith']('\x0a')?this['code']+=_0xf3d39a:this['code']+=_0xf3d39a+'\x0a';});}['prepend'](..._0x37acf7){_0x37acf7['forEach'](_0x578550=>{_0x578550['endsWith']('\x0a')?this['code']=_0x578550+this['code']:this['code']=_0x578550+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class $C{constructor(_0x24708e,_0x42a3b0){if(this['device']=_0x24708e,this['options']=_0x42a3b0,this['attributes']={'vertex_position':He},_0x42a3b0['userAttrib'+'utes']){for(const [_0x1fb092,_0x2c1b95]of Object['entries'](_0x42a3b0['userAttrib'+'utes']))this['attributes'][_0x2c1b95]=_0x1fb092;}if(_0x42a3b0['chunks']){const _0x2e7f7d=_0x42a3b0['chunks'];WC(_0x2e7f7d),this['chunks']=Object['create'](X);for(const _0x19554e in X)if(_0x2e7f7d['hasOwnProp'+'erty'](_0x19554e)){const _0x439487=_0x2e7f7d[_0x19554e];for(const _0x287e38 in Td)Td['hasOwnProp'+'erty'](_0x287e38)&&_0x439487['indexOf'](_0x287e38)>=-0x17*-0xcf+0x3*-0x90f+0x894&&(this['attributes'][_0x287e38]=Td[_0x287e38]);this['chunks'][_0x19554e]=_0x439487;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x42a3b0['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x42a3b0['lights']['length']>0x1cdb+-0x1585*0x1+-0x3*0x272||_0x42a3b0['dirLightMa'+'pEnabled']||_0x42a3b0['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x42a3b0['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x42a3b0['useSpecula'+'r']||_0x42a3b0['ambientSH']||_0x42a3b0['useHeights']||_0x42a3b0['enableGGXS'+'pecular']||_0x42a3b0['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x42a3b0['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x42a3b0['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x42a3b0['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x42a3b0['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x548ff2,_0x1d354f,_0x408a4f){return _0x548ff2+=_0x1d354f['baseVS'],(_0x408a4f['nineSliced'+'Mode']===nt||_0x408a4f['nineSliced'+'Mode']===Qe)&&(_0x548ff2+=_0x1d354f['baseNineSl'+'icedVS']),_0x548ff2;}['_setMapTra'+'nsform'](_0x2105c3,_0x2f631d,_0x5ef33d,_0x30cb83){const _0x331d47=_0x5ef33d+_0x30cb83*(-0x1*-0x2485+-0x906+-0x1b1b*0x1);if(!_0x2105c3[0x57*-0x30+0x1025+0x2e][_0x331d47]){const _0x196062='texture_'+_0x2f631d+('MapTransfo'+'rm');_0x2105c3[-0x1cf5*0x1+0x5e5*0x1+0x1710]+='uniform\x20ve'+'c3\x20'+_0x196062+'0;\x0a',_0x2105c3[0x27*-0x5d+-0x171*-0x3+0x9d8]+='uniform\x20ve'+'c3\x20'+_0x196062+'1;\x0a',_0x2105c3[-0x55a+0xddf+0x1*-0x884]+='varying\x20ve'+'c2\x20vUV'+_0x30cb83+'_'+_0x5ef33d+';\x0a',_0x2105c3[0x1b49+-0x1*0x25bb+0xa74]+='\x20\x20\x20vUV'+_0x30cb83+'_'+_0x5ef33d+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x30cb83+',\x201),\x20'+_0x196062+('0),\x20dot(ve'+'c3(uv')+_0x30cb83+',\x201),\x20'+_0x196062+'1));\x0a',_0x2105c3[-0x1*-0x1237+0xc1*-0x2+-0x1*0x10b2][_0x331d47]=!(-0x15e*-0x18+0x1bcf+-0x2e3*0x15);}return _0x2105c3;}['_fsGetBase'+'Code'](){const _0x4225d8=this['options'],_0x36f75a=this['chunks'];let _0x14829a=this['chunks']['basePS'];return _0x4225d8['nineSliced'+'Mode']===nt?_0x14829a+=_0x36f75a['baseNineSl'+'icedPS']:_0x4225d8['nineSliced'+'Mode']===Qe&&(_0x14829a+=_0x36f75a['baseNineSl'+'icedTiledP'+'S']),_0x14829a;}['_fsGetStar'+'tCode'](_0x28f723,_0x214953,_0x5c4c82,_0x8069eb){let _0x24a280=_0x5c4c82['startPS'];return _0x8069eb['nineSliced'+'Mode']===nt?_0x24a280+=_0x5c4c82['startNineS'+'licedPS']:_0x8069eb['nineSliced'+'Mode']===Qe&&(_0x24a280+=_0x5c4c82['startNineS'+'licedTiled'+'PS']),_0x24a280;}['_getLightS'+'ourceShape'+'String'](_0x491ea4){switch(_0x491ea4){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x142ed1,_0x45b697,_0x5233be){const _0x37ac00=this['device'],_0x4db5a3=this['options'],_0x22220f=this['chunks'];let _0x491c07='',_0x3d84f4='',_0x2c2fac='';_0x491c07=this['_vsAddBase'+'Code'](_0x491c07,_0x22220f,_0x4db5a3),_0x3d84f4+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x2c2fac+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x3d84f4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x491c07+=_0x22220f['transformV'+'S'],this['needsNorma'+'l']&&(_0x491c07+=_0x22220f['normalCore'+'VS'],_0x491c07+=_0x22220f['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x3d84f4+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x4db5a3['reflection'+'Source']==='sphereMap'&&_0x37ac00['fragmentUn'+'iformsCoun'+'t']<=0xc3a+0x16cf+0x7*-0x4ff&&(_0x491c07+=_0x22220f['viewNormal'+'VS'],_0x3d84f4+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x4db5a3['hasTangent'+'s']&&(_0x4db5a3['useHeights']||_0x4db5a3['useNormals']||_0x4db5a3['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x491c07+=_0x22220f['tangentBin'+'ormalVS'],_0x3d84f4+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x3d84f4+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x4db5a3['enableGGXS'+'pecular']&&(_0x3d84f4+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x39156d=0x242d+-0xf23+-0x8*0x2a1;for(let _0x50a53b=-0x47+-0x1*0xeb3+0x27f*0x6;_0x50a53b<_0x39156d;_0x50a53b++)_0x142ed1[_0x50a53b]&&(this['attributes']['vertex_tex'+'Coord'+_0x50a53b]='TEXCOORD'+_0x50a53b,_0x491c07+=_0x22220f['uv'+_0x50a53b+'VS'],_0x3d84f4+='\x20\x20\x20vec2\x20uv'+_0x50a53b+'\x20=\x20getUv'+_0x50a53b+'();\x0a'),_0x45b697[_0x50a53b]&&(_0x3d84f4+='\x20\x20\x20vUv'+_0x50a53b+'\x20=\x20uv'+_0x50a53b+';\x0a');const _0x5afaf3=[_0x491c07,this['varyings'],_0x3d84f4,[]];_0x5233be['forEach'](_0x38480c=>{this['_setMapTra'+'nsform'](_0x5afaf3,_0x38480c['name'],_0x38480c['id'],_0x38480c['uv']);}),_0x491c07=_0x5afaf3[0x38*-0x78+-0x1*0x12f0+-0x30*-0xf1],this['varyings']=_0x5afaf3[0xf40+-0x20df+-0x5e*-0x30],_0x3d84f4=_0x5afaf3[0x3b+0x25b3*-0x1+0x257a],_0x4db5a3['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x3d84f4+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x4db5a3['useMsdf']&&_0x4db5a3['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x3d84f4+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x491c07+=_0x22220f['msdfVS']),(_0x4db5a3['useMorphPo'+'sition']||_0x4db5a3['useMorphNo'+'rmal'])&&(_0x2c2fac+='#define\x20MO'+'RPHING\x0a',_0x4db5a3['useMorphTe'+'xtureBased'+'Int']&&(_0x2c2fac+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x4db5a3['useMorphPo'+'sition']&&(_0x2c2fac+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x4db5a3['useMorphNo'+'rmal']&&(_0x2c2fac+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x4db5a3['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x4db5a3['batch']?_0x2c2fac+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x2c2fac+='#define\x20SK'+'IN\x0a')):_0x4db5a3['useInstanc'+'ing']&&(_0x2c2fac+='#define\x20IN'+'STANCING\x0a'),_0x4db5a3['screenSpac'+'e']&&(_0x2c2fac+='#define\x20SC'+'REENSPACE\x0a'),_0x4db5a3['pixelSnap']&&(_0x2c2fac+='#define\x20PI'+'XELSNAP\x0a'),_0x491c07+='\x0a',_0x491c07+=_0x22220f['startVS'],_0x491c07+=_0x3d84f4,_0x491c07+=_0x22220f['endVS'],_0x491c07+='}',Object['keys'](h_)['forEach'](_0x3dab5b=>{_0x491c07['indexOf'](_0x3dab5b)>=-0x3*-0x6b2+-0x568+-0xeae&&(this['varyings']+='varying\x20'+h_[_0x3dab5b]+'\x20'+_0x3dab5b+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x3dab5b['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x2c2fac+this['varyings']+_0x491c07;}['_fsGetBegi'+'nCode'](){let _0xd24e45='';for(let _0x534070=-0x9f*0x15+0xa95+0x276;_0x534070<this['defines']['length'];_0x534070++)_0xd24e45+='#define\x20'+this['defines'][_0x534070]+'\x0a';return _0xd24e45;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x3b3478=this['_fsGetBegi'+'nCode']();return _0x3b3478+=this['varyings'],_0x3b3478+=this['varyingDef'+'ines'],_0x3b3478+=this['frontendDe'+'cl'],_0x3b3478+=this['frontendCo'+'de'],_0x3b3478+=It['begin'](),_0x3b3478+=this['frontendFu'+'nc'],_0x3b3478+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x3b3478+=It['end'](),_0x3b3478;}['_fsGetPreP'+'assCode'](){let _0x2e83e0=this['_fsGetBegi'+'nCode']();return _0x2e83e0+=this['varyings'],_0x2e83e0+=this['varyingDef'+'ines'],_0x2e83e0+=this['chunks']['floatAsUin'+'tPS'],_0x2e83e0+=this['frontendDe'+'cl'],_0x2e83e0+=this['frontendCo'+'de'],_0x2e83e0+=It['begin'](),_0x2e83e0+=this['frontendFu'+'nc'],_0x2e83e0+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x2e83e0+=It['end'](),_0x2e83e0;}['_fsGetShad'+'owPassCode'](){const _0x52222e=this['options'],_0xedfb2f=this['chunks'],_0x355424=this['varyings'],_0xd3c10=this['shaderPass'+'Info']['lightType'];let _0x14bf12=this['shaderPass'+'Info']['shadowType'];_0xd3c10!==oe&&_0x52222e['clusteredL'+'ightingEna'+'bled']&&(_0x14bf12===Hr||_0x14bf12===Wr||_0x14bf12===Ts)&&(_0x14bf12=Dt);const _0x44da5b=ir['get'](_0x14bf12);v['assert'](_0x44da5b);const _0x4103dc=(_0x44da5b==null?void(-0x56e+-0xc31+0x15b*0xd):_0x44da5b['vsm'])??!(-0x1c91+-0x12e0+-0x2*-0x17b9),_0xce3614=(_0x44da5b==null?void(-0x316+0x115*-0x11+0x157b):_0x44da5b['pcss'])??!(-0x14d5*0x1+-0xbf7*0x3+0x38bb);let _0x14e002=this['_fsGetBegi'+'nCode']();_0x14bf12===Wr?_0x14e002+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x14bf12===Hr&&(_0x14e002+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0xd3c10!==oe&&(_0x14e002+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x14e002+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x14e002+=_0x355424,_0x14e002+=this['varyingDef'+'ines'],_0x14e002+=this['frontendDe'+'cl'],_0x14e002+=this['frontendCo'+'de'],_0x14bf12===Ts&&(_0x14e002+=X['linearizeD'+'epthPS']),_0x14e002+=It['begin'](),_0x14e002+=this['frontendFu'+'nc'];const _0x518a6a=_0xd3c10===oe||!_0x4103dc&&_0xd3c10===Re;let _0x33367a=!(-0xa11*-0x2+0x1*0x192b+0x1a*-0x1be);return _0x518a6a?(_0x14e002+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0xce3614&&_0xd3c10!==oe&&(_0x14e002+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x14e002+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x33367a=!(0xec7+0x623*0x1+-0x14ea)),_0x4103dc?_0x14e002+=_0xedfb2f['storeEVSMP'+'S']:_0xce3614?_0x14e002+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x33367a&&(_0x14e002+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x14e002+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x14e002+=It['end'](),_0x14e002;}['_fsGetLitP'+'assCode'](){var _0x572856;const _0x4221be=this['device'],_0x54b79f=this['options'],_0x47c0cc=this['chunks'],_0x44cc91=new sr(),_0x3db37c=new sr(),_0x4d1c7d=new sr(),_0x1f4ba9=new sr();_0x54b79f['opacityFad'+'esSpecular']===!(-0x44b*-0x4+0x2315+-0x3440)&&_0x44cc91['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x54b79f['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x54b79f['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x54b79f['fresnelMod'+'el']>-0x22*-0x2+-0x7ab+0x767&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x54b79f['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x54b79f['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x41427f=[];let _0xf20d54=-0x1483+-0x10ce+0x2551,_0x5e9b66=!(-0x1170+-0x1*-0x1091+0xe0),_0x4ae5c4=!(0xfce+0x2269+-0x3236),_0x10fa5a=!(0x257d+-0x1*0x91d+-0x10d*0x1b),_0x14e2da=_0x54b79f['lights']['some'](_0x1d3685=>_0x1d3685['_shape']&&_0x1d3685['_shape']!==yt);_0x54b79f['clusteredL'+'ightingEna'+'bled']&&_0x54b79f['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x14e2da=!(0x5*0x1cf+-0x4*0x289+-0x1*-0x119)),(_0x14e2da||_0x54b79f['clusteredL'+'ightingEna'+'bled'])&&(_0x44cc91['append']('#define\x20AR'+'EA_LIGHTS'),_0x44cc91['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x44cc91['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x4bc67b=-0x1*-0x2342+-0x3f6*0x4+-0xa*0x1f1;_0x4bc67b<_0x54b79f['lights']['length'];_0x4bc67b++){const _0x5613c6=_0x54b79f['lights'][_0x4bc67b],_0x2e053f=_0x5613c6['_type'];if(_0x54b79f['clusteredL'+'ightingEna'+'bled']&&_0x2e053f!==oe)continue;const _0x270dd6=_0x14e2da&&_0x5613c6['_shape']?_0x5613c6['_shape']:yt;_0x44cc91['append']('uniform\x20ve'+'c3\x20light'+_0x4bc67b+'_color;'),_0x5613c6['_shadowTyp'+'e']===Ts&&_0x5613c6['castShadow'+'s']&&!_0x54b79f['noShadow']&&(_0x44cc91['append']('uniform\x20fl'+'oat\x20light'+_0x4bc67b+('_shadowSea'+'rchArea;')),_0x44cc91['append']('uniform\x20ve'+'c4\x20light'+_0x4bc67b+('_cameraPar'+'ams;')),_0x2e053f===oe&&_0x44cc91['append']('uniform\x20ve'+'c4\x20light'+_0x4bc67b+('_softShado'+'wParams;'))),_0x2e053f===oe?_0x44cc91['append']('uniform\x20ve'+'c3\x20light'+_0x4bc67b+('_direction'+';')):(_0x44cc91['append']('uniform\x20ve'+'c3\x20light'+_0x4bc67b+'_position;'),_0x44cc91['append']('uniform\x20fl'+'oat\x20light'+_0x4bc67b+'_radius;'),_0x2e053f===Re&&(_0x44cc91['append']('uniform\x20ve'+'c3\x20light'+_0x4bc67b+('_direction'+';')),_0x44cc91['append']('uniform\x20fl'+'oat\x20light'+_0x4bc67b+('_innerCone'+'Angle;')),_0x44cc91['append']('uniform\x20fl'+'oat\x20light'+_0x4bc67b+('_outerCone'+'Angle;')))),_0x270dd6!==yt&&(_0x2e053f===oe&&_0x44cc91['append']('uniform\x20ve'+'c3\x20light'+_0x4bc67b+'_position;'),_0x44cc91['append']('uniform\x20ve'+'c3\x20light'+_0x4bc67b+('_halfWidth'+';')),_0x44cc91['append']('uniform\x20ve'+'c3\x20light'+_0x4bc67b+('_halfHeigh'+'t;'))),_0x5613c6['castShadow'+'s']&&!_0x54b79f['noShadow']&&(_0x44cc91['append']('uniform\x20ma'+'t4\x20light'+_0x4bc67b+('_shadowMat'+'rix;')),_0x44cc91['append']('uniform\x20fl'+'oat\x20light'+_0x4bc67b+('_shadowInt'+'ensity;')),_0x2e053f===oe&&(_0x44cc91['append']('uniform\x20ma'+'t4\x20light'+_0x4bc67b+('_shadowMat'+'rixPalette'+'[4];')),_0x44cc91['append']('uniform\x20ve'+'c4\x20light'+_0x4bc67b+('_shadowCas'+'cadeDistan'+'ces;')),_0x44cc91['append']('uniform\x20in'+'t\x20light'+_0x4bc67b+('_shadowCas'+'cadeCount;')),_0x44cc91['append']('uniform\x20fl'+'oat\x20light'+_0x4bc67b+('_shadowCas'+'cadeBlend;'))),_0x44cc91['append']('uniform\x20ve'+'c4\x20light'+_0x4bc67b+('_shadowPar'+'ams;')),_0x2e053f===oe&&(_0x5e9b66=!(0x6fb*-0x4+-0x28*0xea+0x2*0x203e)),_0x2e053f===Pe?_0x44cc91['append']('uniform\x20'+(_0x5613c6['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x4bc67b+('_shadowMap'+';')):_0x44cc91['append']('uniform\x20'+(_0x5613c6['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x4bc67b+('_shadowMap'+';')),_0xf20d54++,_0x41427f[_0x5613c6['_shadowTyp'+'e']]=!(-0xef3+-0xa90*-0x2+0x3*-0x20f),_0x5613c6['_isVsm']&&(_0x4ae5c4=!(-0x1b7c+0x378*-0x7+0x33c4)),_0x5613c6['_shadowTyp'+'e']===Ts&&(_0x10fa5a=!(0x7c+0x8b*0x2e+0xcbb*-0x2))),_0x5613c6['_cookie']&&(_0x5613c6['_cookie']['_cubemap']?_0x2e053f===Pe&&(_0x44cc91['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x4bc67b+'_cookie;'),_0x44cc91['append']('uniform\x20fl'+'oat\x20light'+_0x4bc67b+('_cookieInt'+'ensity;')),(!_0x5613c6['castShadow'+'s']||_0x54b79f['noShadow'])&&_0x44cc91['append']('uniform\x20ma'+'t4\x20light'+_0x4bc67b+('_shadowMat'+'rix;'))):_0x2e053f===Re&&(_0x44cc91['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x4bc67b+'_cookie;'),_0x44cc91['append']('uniform\x20fl'+'oat\x20light'+_0x4bc67b+('_cookieInt'+'ensity;')),(!_0x5613c6['castShadow'+'s']||_0x54b79f['noShadow'])&&_0x44cc91['append']('uniform\x20ma'+'t4\x20light'+_0x4bc67b+('_shadowMat'+'rix;')),_0x5613c6['_cookieTra'+'nsform']&&(_0x44cc91['append']('uniform\x20ve'+'c4\x20light'+_0x4bc67b+('_cookieMat'+'rix;')),_0x44cc91['append']('uniform\x20ve'+'c2\x20light'+_0x4bc67b+('_cookieOff'+'set;')))));}const _0x5fa08d=this['needsNorma'+'l']&&(_0x54b79f['useNormals']||_0x54b79f['useClearCo'+'atNormals']||_0x54b79f['enableGGXS'+'pecular']&&!_0x54b79f['useHeights']);if(_0x5fa08d&&(_0x54b79f['hasTangent'+'s']?_0x3db37c['append'](_0x47c0cc['TBNPS']):_0x54b79f['useNormals']||_0x54b79f['useClearCo'+'atNormals']?_0x3db37c['append'](_0x47c0cc['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x3db37c['append'](_0x47c0cc['TBNObjectS'+'pacePS']),_0x54b79f['twoSidedLi'+'ghting']&&_0x3db37c['append'](_0x47c0cc['twoSidedLi'+'ghtingPS'])),_0x3db37c['append'](_0x47c0cc['sphericalP'+'S']),_0x3db37c['append'](_0x47c0cc['decodePS']),_0x3db37c['append'](_0x47c0cc['gammaPS']),_0x3db37c['append'](_0x47c0cc['tonemappin'+'gPS']),_0x3db37c['append'](_0x47c0cc['fogPS']),_0x3db37c['append'](this['frontendCo'+'de']),_0x54b79f['useCubeMap'+'Rotation']&&_0x44cc91['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x3db37c['append'](_0x47c0cc['cubeMapRot'+'atePS']),_0x3db37c['append'](_0x54b79f['cubeMapPro'+'jection']>-0xea*0x7+0x172b+-0x10c5?_0x47c0cc['cubeMapPro'+'jectBoxPS']:_0x47c0cc['cubeMapPro'+'jectNonePS']),_0x3db37c['append'](_0x54b79f['skyboxInte'+'nsity']?_0x47c0cc['envMultipl'+'yPS']:_0x47c0cc['envConstPS'])),(this['lighting']&&_0x54b79f['useSpecula'+'r']||this['reflection'+'s'])&&(_0x54b79f['useMetalne'+'ss']&&_0x3db37c['append'](_0x47c0cc['metalnessM'+'odulatePS']),_0x54b79f['fresnelMod'+'el']===Sp&&_0x3db37c['append'](_0x47c0cc['fresnelSch'+'lickPS']),_0x54b79f['useIridesc'+'ence']&&_0x3db37c['append'](_0x47c0cc['iridescenc'+'eDiffracti'+'onPS'])),_0x54b79f['useAo'])switch(_0x3db37c['append'](_0x47c0cc['aoDiffuseO'+'ccPS']),_0x54b79f['occludeSpe'+'cular']){case Bo:_0x3db37c['append'](_0x54b79f['occludeSpe'+'cularFloat']?_0x47c0cc['aoSpecOccS'+'implePS']:_0x47c0cc['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x3db37c['append'](_0x54b79f['occludeSpe'+'cularFloat']?_0x47c0cc['aoSpecOccP'+'S']:_0x47c0cc['aoSpecOccC'+'onstPS']);break;}_0x54b79f['reflection'+'Source']==='envAtlasHQ'?(_0x3db37c['append'](_0x47c0cc['envAtlasPS']),_0x3db37c['append'](_0x47c0cc['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x54b79f['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x54b79f['reflection'+'Encoding'])))):_0x54b79f['reflection'+'Source']==='envAtlas'?(_0x3db37c['append'](_0x47c0cc['envAtlasPS']),_0x3db37c['append'](_0x47c0cc['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x54b79f['reflection'+'Encoding'])))):_0x54b79f['reflection'+'Source']==='cubeMap'?_0x3db37c['append'](_0x47c0cc['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x54b79f['reflection'+'Encoding']))):_0x54b79f['reflection'+'Source']==='sphereMap'&&_0x3db37c['append'](_0x47c0cc['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x54b79f['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x54b79f['useClearCo'+'at']&&_0x3db37c['append'](_0x47c0cc['reflection'+'CCPS']),_0x54b79f['useSheen']&&_0x3db37c['append'](_0x47c0cc['reflection'+'SheenPS'])),_0x54b79f['useRefract'+'ion']&&(_0x54b79f['useDynamic'+'Refraction']?(_0x54b79f['dispersion']&&(_0x44cc91['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x44cc91['append']('#define\x20DI'+'SPERSION\x0a')),_0x3db37c['append'](_0x47c0cc['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x3db37c['append'](_0x47c0cc['refraction'+'CubePS'])),_0x54b79f['useSheen']&&_0x3db37c['append'](_0x47c0cc['lightSheen'+'PS']),_0x54b79f['clusteredL'+'ightingEna'+'bled']&&(_0x3db37c['append'](_0x47c0cc['clusteredL'+'ightUtilsP'+'S']),_0x54b79f['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x3db37c['append'](_0x47c0cc['clusteredL'+'ightCookie'+'sPS']),_0x54b79f['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x54b79f['noShadow']&&(_0x41427f[Dt]=!(0xeba+-0x1e51+0x1*0xf97),_0x41427f[lh]=!(-0x1df9*0x1+-0xe1*0x13+0x1*0x2eac),_0x41427f[Ts]=!(-0x301*-0xa+0x202b+0x7*-0x8e3))),(_0xf20d54>-0x1cb3*-0x1+0x2524+-0x41d7||_0x54b79f['clusteredL'+'ightingEna'+'bled'])&&(_0x5e9b66&&_0x3db37c['append'](_0x47c0cc['shadowCasc'+'adesPS']),(_0x41427f[Bh]||_0x41427f[Dt]||_0x41427f[Nh]||_0x41427f[zh])&&_0x3db37c['append'](_0x47c0cc['shadowStan'+'dardPS']),(_0x41427f[lh]||_0x41427f[Iu])&&_0x3db37c['append'](_0x47c0cc['shadowStan'+'dardGL2PS']),_0x4ae5c4&&(_0x3db37c['append'](_0x47c0cc['shadowVSM_'+'commonPS']),_0x41427f[Hr]&&_0x3db37c['append'](_0x47c0cc['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x41427f[Wr]&&_0x3db37c['append'](_0x4221be['extTexture'+'FloatLinea'+'r']?_0x47c0cc['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x47c0cc['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x10fa5a&&(_0x3db37c['append'](_0x47c0cc['linearizeD'+'epthPS']),_0x3db37c['append'](_0x47c0cc['shadowPCSS'+'PS']),_0x3db37c['append'](_0x47c0cc['shadowSoft'+'PS']))),_0x54b79f['enableGGXS'+'pecular']&&_0x3db37c['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x3db37c['append'](_0x47c0cc['lightDiffu'+'seLambertP'+'S']),(_0x14e2da||_0x54b79f['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x3db37c['append'](_0x47c0cc['ltcPS']));let _0x88b17a=!(0xa71+-0x21e*0x2+-0x634);_0x54b79f['useSpecula'+'r']&&(this['lighting']&&_0x3db37c['append'](_0x54b79f['enableGGXS'+'pecular']?_0x47c0cc['lightSpecu'+'larAnisoGG'+'XPS']:_0x47c0cc['lightSpecu'+'larBlinnPS']),!_0x54b79f['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x54b79f['diffuseMap'+'Enabled']&&(_0x44cc91['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x44cc91['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x88b17a=!(-0x7*-0x322+0x244c+0x3a3a*-0x1))),_0x3db37c['append'](_0x47c0cc['combinePS']),_0x54b79f['lightMapEn'+'abled']&&_0x3db37c['append'](_0x54b79f['useSpecula'+'r']&&_0x54b79f['dirLightMa'+'pEnabled']?_0x47c0cc['lightmapDi'+'rAddPS']:_0x47c0cc['lightmapAd'+'dPS']);const _0x189f2c=!_0x54b79f['lightMapEn'+'abled']||_0x54b79f['lightMapWi'+'thoutAmbie'+'nt'];_0x189f2c&&(_0x54b79f['ambientSou'+'rce']==='ambientSH'?_0x3db37c['append'](_0x47c0cc['ambientSHP'+'S']):_0x54b79f['ambientSou'+'rce']==='envAtlas'?(_0x54b79f['reflection'+'Source']!=='envAtlas'&&_0x54b79f['reflection'+'Source']!=='envAtlasHQ'&&_0x3db37c['append'](_0x47c0cc['envAtlasPS']),_0x3db37c['append'](_0x47c0cc['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x54b79f['ambientEnc'+'oding'])))):_0x3db37c['append'](_0x47c0cc['ambientCon'+'stantPS'])),_0x88b17a||_0x44cc91['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x54b79f['useMsdf']&&(_0x54b79f['msdfTextAt'+'tribute']||_0x44cc91['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x3db37c['append'](_0x47c0cc['msdfPS'])),this['needsNorma'+'l']&&(_0x3db37c['append'](_0x47c0cc['viewDirPS']),_0x54b79f['useSpecula'+'r']&&_0x3db37c['append'](_0x54b79f['enableGGXS'+'pecular']?_0x47c0cc['reflDirAni'+'soPS']:_0x47c0cc['reflDirPS']));let _0x353de1=!(-0x2d9+0x172d*0x1+-0x1453),_0x171e5c=!(0x961+-0xf77+0x617),_0x33c26f=!(0x11ec+0x17ae+-0x1*0x2999),_0x19f8b2=!(0x15*-0x11b+0x26*0x1d+0x2*0x975),_0x1a9406=!(-0x3*-0x39+0x12*0x80+-0x9aa),_0xf2cd45;if(_0x54b79f['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x19f8b2=!(-0x128d+-0xe2*0x5+-0x16f7*-0x1),_0x353de1=!(0x1053+0x1*-0x149e+0x44b),_0x171e5c=!(0xf27+0x1*-0x21b6+0x1*0x128f),_0x1a9406=!(0x485*0x4+-0x1031+-0x1e3),_0x3db37c['append'](_0x47c0cc['floatUnpac'+'kingPS']),_0x54b79f['lightMaskD'+'ynamic']&&_0x44cc91['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x54b79f['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x44cc91['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x54b79f['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x54b79f['noShadow']){const _0x3f51ca=(_0x572856=ir['get'](_0x54b79f['clusteredL'+'ightingSha'+'dowType']))==null?void(0x2092+0x831+-0x28c3):_0x572856['name'];v['assert'](_0x3f51ca);const _0x177845=_0x3f51ca['substring'](-0x1f*-0xd5+0x106b+-0x1*0x2a36,0x1b7*-0x1+0x1eca+-0x1d0f);_0x44cc91['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x44cc91['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x177845);}_0x54b79f['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x44cc91['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x44cc91['append'](E0['getShaderD'+'efines']()),_0x54b79f['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x54b79f['noShadow']&&_0x3db37c['append'](_0x47c0cc['clusteredL'+'ightShadow'+'sPS']),_0x3db37c['append'](_0x47c0cc['clusteredL'+'ightPS']);}if(_0x1f4ba9['append'](this['_fsGetStar'+'tCode'](_0x1f4ba9,_0x4221be,_0x47c0cc,_0x54b79f)),this['needsNorma'+'l']&&(_0x1f4ba9['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x54b79f['useHeights']||_0x54b79f['useNormals'])&&_0x54b79f['hasTangent'+'s']&&(_0x1f4ba9['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x1f4ba9['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x1f4ba9['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x5fa08d&&(_0x1f4ba9['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x54b79f['twoSidedLi'+'ghting']&&_0x1f4ba9['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x1f4ba9['append'](this['frontendFu'+'nc']),_0x54b79f['ssao']&&(_0x3db37c['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x4d1c7d['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x54b79f['useSpecula'+'r']&&_0x4d1c7d['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x54b79f['useClearCo'+'at']&&_0x4d1c7d['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x54b79f['useSpecula'+'r']||this['reflection'+'s'])&&(_0x54b79f['useMetalne'+'ss']&&(_0x4d1c7d['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x4d1c7d['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x4d1c7d['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x54b79f['useIridesc'+'ence']&&_0x4d1c7d['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x189f2c&&(_0x4d1c7d['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x54b79f['useSpecula'+'r']&&_0x4d1c7d['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x54b79f['separateAm'+'bient']&&_0x4d1c7d['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x88b17a||_0x4d1c7d['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x54b79f['useAo']&&!_0x54b79f['occludeDir'+'ect']&&_0x4d1c7d['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x54b79f['lightMapEn'+'abled']&&_0x4d1c7d['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x54b79f['useClearCo'+'at']&&(_0x4d1c7d['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x54b79f['fresnelMod'+'el']>0x287*0x1+0x1786*0x1+-0x1a0d?(_0x4d1c7d['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x4d1c7d['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x4d1c7d['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x54b79f['useSpecula'+'rityFactor']&&_0x4d1c7d['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x54b79f['useSheen']&&_0x4d1c7d['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x4d1c7d['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x54b79f['fresnelMod'+'el']>-0x13bd*0x1+-0x1f45+0x3302*0x1?_0x4d1c7d['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x4d1c7d['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x54b79f['useSpecula'+'rityFactor']&&_0x4d1c7d['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x14e2da&&(_0x4d1c7d['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x54b79f['useSpecula'+'r']&&_0x4d1c7d['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0xdda96f=0x244d+-0x1d41+-0xa4*0xb;_0xdda96f<_0x54b79f['lights']['length'];_0xdda96f++){const _0x20979f=_0x54b79f['lights'][_0xdda96f],_0x69ec3b=_0x20979f['_type'];if(_0x54b79f['clusteredL'+'ightingEna'+'bled']&&_0x69ec3b!==oe)continue;_0xf2cd45=!(-0x170b+0x1a7b+0x3*-0x125);const _0x26fa84=_0x14e2da&&_0x20979f['_shape']?_0x20979f['shape']:yt,_0x1fac95=_0x14e2da&&_0x20979f['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x26fa84):'';if(_0x26fa84!==yt&&_0x4d1c7d['append']('\x20\x20\x20\x20calc'+_0x1fac95+('LightValue'+'s(light')+_0xdda96f+('_position,'+'\x20light')+_0xdda96f+('_halfWidth'+',\x20light')+_0xdda96f+('_halfHeigh'+'t);')),_0x69ec3b===oe?(_0x4d1c7d['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0xdda96f+('_direction'+';')),_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x20979f['_cookie']&&(_0x69ec3b===Re&&!_0x20979f['_cookie']['_cubemap']||_0x69ec3b===Pe&&_0x20979f['_cookie']['_cubemap'])&&(_0x1a9406=!(0x12*-0x150+0x10a2+0xa*0xb3),_0xf2cd45=!(-0x2104*0x1+-0x156f+-0x3673*-0x1)),_0x4d1c7d['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0xdda96f+('_position)'+';')),_0x353de1=!(0x1*0xcfb+0x1f51+-0x2c4c),_0xf2cd45&&(_0x69ec3b===Re?_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x20979f['_cookieFal'+'loff']?'':'Clip')+(_0x20979f['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0xdda96f+('_cookie,\x20l'+'ight')+_0xdda96f+('_shadowMat'+'rix,\x20light')+_0xdda96f+('_cookieInt'+'ensity')+(_0x20979f['_cookieTra'+'nsform']?',\x20light'+_0xdda96f+('_cookieMat'+'rix,\x20light')+_0xdda96f+('_cookieOff'+'set'):'')+').'+_0x20979f['_cookieCha'+'nnel']+';'):_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0xdda96f+('_cookie,\x20l'+'ight')+_0xdda96f+('_shadowMat'+'rix,\x20light')+_0xdda96f+('_cookieInt'+'ensity).')+_0x20979f['_cookieCha'+'nnel']+';')),_0x26fa84===yt?_0x20979f['_falloffMo'+'de']===wp?(_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0xdda96f+('_radius,\x20d'+'LightDirW)'+';')),_0x171e5c=!(0x4*0x7c+-0x185c+0x5*0x47c)):(_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0xdda96f+('_radius,\x20d'+'LightDirW)'+';')),_0x33c26f=!(-0x2*-0x60d+0x1*-0x7ae+-0x2*0x236)):(_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0xdda96f+('_radius,\x20d'+'LightDirW)'+';')),_0x33c26f=!(-0x265b+0x168f+0xfcc)),_0x4d1c7d['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x69ec3b===Re&&(_0xf2cd45&&!_0x20979f['_cookieFal'+'loff']||(_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0xdda96f+('_direction'+',\x20light')+_0xdda96f+('_innerCone'+'Angle,\x20lig'+'ht')+_0xdda96f+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x19f8b2=!(0x1969+-0x3*0x9eb+0x8b*0x8)))),_0x26fa84!==yt?_0x69ec3b===oe?_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x1fac95+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x20979f['castShadow'+'s']&&!_0x54b79f['noShadow']){const _0x440aca=ir['get'](_0x20979f['_shadowTyp'+'e']);v['assert'](_0x440aca);const _0x331a9e=_0x20979f['_shadowTyp'+'e']===Ts,_0x2690b3=_0x440aca==null?void(-0x3*0x39d+-0x5*-0x373+-0x19a*0x4):_0x440aca['vsm'],_0xe16a42=_0x440aca==null?void(0x1*-0x13d6+-0x6b*-0x42+-0x7c0):_0x440aca['pcf'];let _0x16e27a=null,_0x49b56d;switch(_0x20979f['_shadowTyp'+'e']){case Hr:_0x16e27a='VSM16',_0x49b56d='5.54';break;case Wr:_0x16e27a='VSM32',_0x49b56d='15.0';break;case Bh:case Nh:_0x16e27a='PCF1x1';break;case lh:case Iu:_0x16e27a='PCF5x5';break;case Ts:_0x16e27a='PCSS';break;case Dt:case zh:default:_0x16e27a='PCF3x3';break;}if(_0x16e27a!==null){_0x20979f['_normalOff'+'setBias']&&!_0x20979f['_isVsm']&&_0x3db37c['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x69ec3b===oe&&_0x3db37c['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0xe16a42||_0x331a9e||_0x4221be['isWebGPU'])&&_0x3db37c['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x69ec3b===Pe&&_0x3db37c['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x3062e7=_0x47c0cc['shadowSamp'+'leCoordPS'];_0x3db37c['append'](_0x3062e7['replace']('$LIGHT',_0xdda96f)),_0x3db37c['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x3db37c['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x3db37c['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x3db37c['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x258e33='light'+_0xdda96f+('_shadowMat'+'rix');_0x69ec3b===oe&&_0x20979f['numCascade'+'s']>-0x21e6+-0x1276+0x345d&&(_0x4d1c7d['append']('int\x20cascad'+'eIndex'+_0xdda96f+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0xdda96f+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0xdda96f+('_shadowCas'+'cadeCount)'+';')),_0x20979f['cascadeBle'+'nd']>0x1f2*0x13+0x2463*0x1+-0x4959&&_0x4d1c7d['append']('cascadeInd'+'ex'+_0xdda96f+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0xdda96f+',\x20light'+_0xdda96f+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0xdda96f+('_shadowCas'+'cadeCount,'+'\x20light')+_0xdda96f+('_shadowCas'+'cadeBlend)'+';')),_0x4d1c7d['append']('mat4\x20casca'+'deShadowMa'+'t'+_0xdda96f+'\x20=\x20light'+_0xdda96f+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0xdda96f+'];'),_0x258e33='cascadeSha'+'dowMat'+_0xdda96f),_0x4d1c7d['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0xdda96f+'('+_0x258e33+',\x20light'+_0xdda96f+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x69ec3b===oe&&_0x4d1c7d['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0xdda96f+('_shadowCas'+'cadeDistan'+'ces);'));let _0x2c76d2='SHADOWMAP_'+'PASS(light'+_0xdda96f+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0xdda96f+('_shadowPar'+'ams');if(_0x2690b3)_0x2c76d2=_0x2c76d2+',\x20'+_0x49b56d+(',\x20dLightDi'+'rW');else{if(_0x331a9e){let _0x38a86=_0x69ec3b===oe?'light'+_0xdda96f+('_softShado'+'wParams'):'vec2(light'+_0xdda96f+('_shadowSea'+'rchArea)');_0x26fa84!==yt&&(_0x38a86='vec2(lengt'+'h(light'+_0xdda96f+('_halfWidth'+'),\x20length('+'light')+_0xdda96f+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0xdda96f+('_shadowSea'+'rchArea')),_0x2c76d2=_0x2c76d2+',\x20light'+_0xdda96f+('_cameraPar'+'ams,\x20')+_0x38a86+(',\x20dLightDi'+'rW');}}_0x69ec3b===Pe?(_0x16e27a='Point'+_0x16e27a,_0x331a9e||(_0x2c76d2=_0x2c76d2+(',\x20dLightDi'+'rW'))):_0x69ec3b===Re&&(_0x16e27a='Spot'+_0x16e27a),_0x4d1c7d['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0xdda96f+('\x20=\x20getShad'+'ow')+_0x16e27a+'('+_0x2c76d2+');'),_0x4d1c7d['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0xdda96f+',\x20light'+_0xdda96f+('_shadowInt'+'ensity);'));}}if(_0x26fa84!==yt?_0x54b79f['useSpecula'+'r']?_0x4d1c7d['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x4d1c7d['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3':'')+';'):_0x14e2da&&_0x54b79f['useSpecula'+'r']?_0x4d1c7d['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x4d1c7d['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3':'')+';'),_0x54b79f['useSpecula'+'r']&&_0x4d1c7d['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x20979f['affectSpec'+'ularity']){if(_0x26fa84!==yt)_0x54b79f['useClearCo'+'at']&&_0x4d1c7d['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x1fac95+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3':'')+';'),_0x54b79f['useSpecula'+'r']&&_0x4d1c7d['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x1fac95+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3':'')+';');else{let _0x55a168=!(0xf5*0x1+-0x1e50+0xeae*0x2);_0x69ec3b===oe&&_0x54b79f['fresnelMod'+'el']>0x1c58+-0x65c*-0x6+-0x4280&&(_0x55a168=!(-0x1567+0x231f+-0xdb8)),_0x54b79f['useClearCo'+'at']&&_0x4d1c7d['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3':'')+(_0x55a168?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x54b79f['useSheen']&&_0x4d1c7d['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3'+';':';')),_0x54b79f['useSpecula'+'r']&&_0x4d1c7d['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0xdda96f+'_color'+(_0xf2cd45?'\x20*\x20dAtten3':'')+(_0x55a168?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x69ec3b!==oe&&_0x4d1c7d['append']('\x20\x20\x20\x20}');}_0x54b79f['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x171e5c=!(-0x1fb3+-0x22f+0x2*0x10f1),_0x33c26f=!(-0x19*0x124+-0x1*-0x16e5+0x59f*0x1),_0x353de1=!(-0x1043*0x1+0xa9d+0x5a6),_0x4d1c7d['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x14e2da&&(_0x54b79f['useClearCo'+'at']&&_0x4d1c7d['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x54b79f['useSpecula'+'r']&&_0x4d1c7d['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x54b79f['useRefract'+'ion']&&_0x4d1c7d['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x54b79f['useAo']&&(_0x54b79f['occludeDir'+'ect']&&_0x4d1c7d['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x54b79f['occludeSpe'+'cular']===Bo||_0x54b79f['occludeSpe'+'cular']===Lu)&&_0x4d1c7d['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x54b79f['useSpecula'+'rityFactor']&&_0x4d1c7d['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x54b79f['opacityFad'+'esSpecular']===!(-0x2579+-0x1bb3+-0x412d*-0x1)&&((_0x54b79f['blendType']===Kt||_0x54b79f['blendType']===hr)&&(_0x4d1c7d['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x4d1c7d['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x4d1c7d['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x4d1c7d['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x4d1c7d['append'](_0x47c0cc['endPS']),_0x54b79f['blendType']===Kt||_0x54b79f['blendType']===Hc||_0x54b79f['alphaToCov'+'erage']?_0x4d1c7d['append'](_0x47c0cc['outputAlph'+'aPS']):_0x54b79f['blendType']===hr?_0x4d1c7d['append'](_0x47c0cc['outputAlph'+'aPremulPS']):_0x4d1c7d['append'](_0x47c0cc['outputAlph'+'aOpaquePS']),_0x54b79f['useMsdf']&&_0x4d1c7d['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x4d1c7d['append'](_0x47c0cc['outputPS']),_0x4d1c7d['append'](_0x47c0cc['debugOutpu'+'tPS']),_0x353de1&&_0x3db37c['prepend'](_0x47c0cc['lightDirPo'+'intPS']),_0x171e5c&&_0x3db37c['prepend'](_0x47c0cc['falloffLin'+'earPS']),_0x33c26f&&_0x3db37c['prepend'](_0x47c0cc['falloffInv'+'SquaredPS']),_0x19f8b2&&_0x3db37c['prepend'](_0x47c0cc['spotPS']),_0x1a9406&&!_0x54b79f['clusteredL'+'ightingEna'+'bled']&&_0x3db37c['prepend'](_0x47c0cc['cookiePS']);let _0x276a69='';const _0x92cf4d='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x4d1c7d['code']+'\x0a}';_0x3db37c['append'](_0x92cf4d),_0x1f4ba9['append'](_0x47c0cc['debugProce'+'ssFrontend'+'PS']),_0x1f4ba9['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x1f4ba9['append'](It['end']());const _0x18298a=_0x44cc91['code']+_0x3db37c['code']+_0x1f4ba9['code'];return _0x18298a['includes']('dTBN')&&(_0x276a69+='mat3\x20dTBN;'+'\x0a'),_0x18298a['includes']('dVertexNor'+'malW')&&(_0x276a69+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x18298a['includes']('dTangentW')&&(_0x276a69+='vec3\x20dTang'+'entW;\x0a'),_0x18298a['includes']('dBinormalW')&&(_0x276a69+='vec3\x20dBino'+'rmalW;\x0a'),_0x18298a['includes']('dViewDirW')&&(_0x276a69+='vec3\x20dView'+'DirW;\x0a'),_0x18298a['includes']('dReflDirW')&&(_0x276a69+='vec3\x20dRefl'+'DirW;\x0a'),_0x18298a['includes']('dHalfDirW')&&(_0x276a69+='vec3\x20dHalf'+'DirW;\x0a'),_0x18298a['includes']('ccReflDirW')&&(_0x276a69+='vec3\x20ccRef'+'lDirW;\x0a'),_0x18298a['includes']('dLightDirN'+'ormW')&&(_0x276a69+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x18298a['includes']('dLightDirW')&&(_0x276a69+='vec3\x20dLigh'+'tDirW;\x0a'),_0x18298a['includes']('dLightPosW')&&(_0x276a69+='vec3\x20dLigh'+'tPosW;\x0a'),_0x18298a['includes']('dShadowCoo'+'rd')&&(_0x276a69+='vec3\x20dShad'+'owCoord;\x0a'),_0x18298a['includes']('dReflectio'+'n')&&(_0x276a69+='vec4\x20dRefl'+'ection;\x0a'),_0x18298a['includes']('dDiffuseLi'+'ght')&&(_0x276a69+='vec3\x20dDiff'+'useLight;\x0a'),_0x18298a['includes']('dSpecularL'+'ight')&&(_0x276a69+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x18298a['includes']('dAtten')&&(_0x276a69+='float\x20dAtt'+'en;\x0a'),_0x18298a['includes']('dAttenD')&&(_0x276a69+='float\x20dAtt'+'enD;\x0a'),_0x18298a['includes']('dAtten3')&&(_0x276a69+='vec3\x20dAtte'+'n3;\x0a'),_0x18298a['includes']('dMsdf')&&(_0x276a69+='vec4\x20dMsdf'+';\x0a'),_0x18298a['includes']('ccFresnel')&&(_0x276a69+='float\x20ccFr'+'esnel;\x0a'),_0x18298a['includes']('ccReflecti'+'on')&&(_0x276a69+='vec3\x20ccRef'+'lection;\x0a'),_0x18298a['includes']('ccSpecular'+'Light')&&(_0x276a69+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x18298a['includes']('ccSpecular'+'ityNoFres')&&(_0x276a69+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x18298a['includes']('sSpecularL'+'ight')&&(_0x276a69+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x18298a['includes']('sReflectio'+'n')&&(_0x276a69+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x276a69+this['frontendDe'+'cl']+_0x18298a;}['generateFr'+'agmentShad'+'er'](_0x137e99,_0x14875b,_0xe39638,_0xe22969){const _0x405a00=this['options'];this['frontendDe'+'cl']=_0x137e99,this['frontendCo'+'de']=_0x14875b,this['frontendFu'+'nc']=_0xe39638,this['lightingUv']=_0xe22969,_0x405a00['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x405a00['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x405a00['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x405a00['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x405a00['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0x2f+-0x22b*-0x9+-0x13b1)),c(this,'chunks',{}),c(this,'pass',0x182a+0x203a+-0x3864),c(this,'alphaTest',!(0x193*-0x7+0x1*-0x25ab+0x30b1)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(0x22f2+-0xb*0x7d+-0x1d92)),c(this,'screenSpac'+'e',!(0x2*-0x895+0xe76+0x2b5)),c(this,'skin',!(0x147d*0x1+0xee1*0x1+0x337*-0xb)),c(this,'batch',!(0xd2a+0xce7+-0x1a10)),c(this,'useInstanc'+'ing',!(0x217a+0x1*0x46+-0x21bf)),c(this,'useMorphPo'+'sition',!(0x279*0xb+0x2201+-0x3d33)),c(this,'useMorphNo'+'rmal',!(0xb*0xf5+-0x2*-0x9b1+-0x1de8)),c(this,'useMorphTe'+'xtureBased'+'Int',!(0x1*-0x17e1+-0x11*0xab+-0xbbf*-0x3)),c(this,'nineSliced'+'Mode',0x2154+-0x24d7*0x1+-0x383*-0x1),c(this,'clusteredL'+'ightingEna'+'bled',!(0x19f8+0x1*-0xafa+0x77f*-0x2)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x7a7*-0x1+-0x2664+0x2e0c)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x5*0x615+-0xa6d+-0x13fb)),c(this,'clusteredL'+'ightingSha'+'dowType',0x1*0x21bb+0x1532*0x1+0x2b*-0x147),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x1dcf+0x399*0x4+-0x6*-0x292)),c(this,'vertexColo'+'rs',!(0x1681+-0x138*-0x3+-0x1a28)),c(this,'lightMapEn'+'abled',!(-0x1452+0x1*0x1a1c+0x1*-0x5c9)),c(this,'dirLightMa'+'pEnabled',!(-0x94e*0x3+-0x2034+0x3c1f)),c(this,'useHeights',!(-0x6b*-0x45+-0x35*0x29+-0x1459)),c(this,'useNormals',!(-0x10d0+0x1c8b+0xbba*-0x1)),c(this,'useClearCo'+'atNormals',!(0x10f*0x15+0x2131+-0x376b)),c(this,'useAo',!(0x19f8+-0x2f4+0x89*-0x2b)),c(this,'diffuseMap'+'Enabled',!(-0x79d*-0x3+-0xfa6+0xe6*-0x8)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x11d7*0x1+0x244e+0x116*-0x11)),c(this,'ambientSH',!(0x23*0x31+-0x1521+0x1*0xe6f)),c(this,'ssao',!(-0xb*0x35b+-0x538+0x1*0x2a22)),c(this,'twoSidedLi'+'ghting',!(-0x1f0+0x1*-0x1662+0x1df*0xd)),c(this,'occludeDir'+'ect',!(-0x1f46*0x1+-0x1c16+0x3b5d)),c(this,'occludeSpe'+'cular',0x1*0x16b5+0x1013+-0x26c8),c(this,'occludeSpe'+'cularFloat',!(0x173d+-0x1*-0x1ceb+-0x3427)),c(this,'useMsdf',!(-0x1a8*-0xe+0x19e2*-0x1+0x2b3*0x1)),c(this,'msdfTextAt'+'tribute',!(0x37f+0x10b1*-0x1+0xd33)),c(this,'alphaToCov'+'erage',!(0x26e9+-0x1010+-0x16d8)),c(this,'opacityFad'+'esSpecular',!(0x19f5+0xf35*-0x2+0x476)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',0x16c*-0x17+0x6cf+0x19e5),c(this,'useSpecula'+'r',!(0x13ef*-0x1+-0xa1a+-0x301*-0xa)),c(this,'useSpecula'+'rityFactor',!(-0x20e2+-0x10a8+0x318b*0x1)),c(this,'enableGGXS'+'pecular',!(0x44f*0x2+0x3d*-0x17+-0x191*0x2)),c(this,'fresnelMod'+'el',0x2003+0xe84+-0x1*0x2e87),c(this,'useRefract'+'ion',!(0x3*-0x6bb+0x33*-0x95+0x31e1)),c(this,'useClearCo'+'at',!(0xf6a+-0x8*0x18+-0xea9)),c(this,'useSheen',!(0x2604+-0xf*0x4d+0x860*-0x4)),c(this,'useIridesc'+'ence',!(0x9d2+0xa6c*-0x1+0x5*0x1f)),c(this,'useMetalne'+'ss',!(-0x1d4+0x26e*0x9+0x1*-0x1409)),c(this,'useDynamic'+'Refraction',!(-0x2138+-0x3f*0x29+0x2b50)),c(this,'dispersion',!(-0xf4e+-0x4*-0x4c7+0x1*-0x3cd)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(0x1fc9+0x1025*0x2+-0x3b*0x116)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0x3*0x4e9+-0x1abe+0x297a),c(this,'useCubeMap'+'Rotation',!(0x2c2+0x20b5+-0x5e9*0x6)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x13*0x1f1+-0x8dd+0x2dc1)),c(this,'lights',[]),c(this,'noShadow',!(-0x1*0x1fff+0x1*-0xd1e+0x15e*0x21)),c(this,'lightMaskD'+'ynamic',-0xf*-0x1ff+0x1fe1+-0x52*0xc1),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(0x50*0x1d+-0x220a+0x18fb));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0xaa5+0x1f94+-0xc1*0x38)),c(this,'specularTi'+'nt',!(0xd00+0xa2*-0x31+0x57*0x35)),c(this,'metalnessT'+'int',!(0xb1d+-0x1868+0xd4c)),c(this,'glossTint',!(-0x2702+0xe99*0x1+0x1*0x186a)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x2466+-0x228c*-0x1+0x1db)),c(this,'glossInver'+'t',!(-0x1916+-0x1a89+0x33a0)),c(this,'sheenGloss'+'Invert',!(-0x679*0x1+0x1e*0x51+0x182*-0x2)),c(this,'clearCoatG'+'lossInvert',!(-0x12cd*-0x1+-0x232*-0x8+-0x245c)),c(this,'useAO',!(0x1660+-0xa7*0x35+0xc34)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x9246ea){return'lit'+Object['keys'](_0x9246ea)['sort']()['map'](_0x560fe3=>_0x560fe3==='chunks'?Uu['generateCh'+'unksKey'](_0x9246ea):_0x560fe3==='lights'?Uu['generateLi'+'ghtsKey'](_0x9246ea):_0x560fe3+_0x9246ea[_0x560fe3])['join']('\x0a');},'generateLightsKey'(_0xa1d312){return'lights:'+_0xa1d312['lights']['map'](_0x43d94b=>!_0xa1d312['clusteredL'+'ightingEna'+'bled']||_0x43d94b['_type']===oe?_0x43d94b['key']+',':'')['join']('');},'generateChunksKey'(_0x15121b){return'chunks:\x0a'+Object['keys'](_0x15121b['chunks']??{})['sort']()['map'](_0x5ae422=>_0x5ae422+_0x15121b['chunks'][_0x5ae422])['join']('');}},fa=[],Ad=_0x3ef906=>Object['keys'](_0x3ef906)['filter'](_0x3d3d21=>_0x3d3d21!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x103cc0){let _0x2d3b0b;return _0x103cc0===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x103cc0)),_0x2d3b0b=this['propsMin']):_0x103cc0===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x103cc0)),_0x2d3b0b=this['props']):_0x2d3b0b=Ad(_0x103cc0),'standard:\x0a'+It['definesHas'+'h'](_0x103cc0['defines'])+'\x0a'+_0x2d3b0b['map'](_0x453688=>_0x453688+_0x103cc0[_0x453688])['join']('\x0a')+Uu['generateKe'+'y'](_0x103cc0['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x226e77,_0x16ca8c,_0x2a676b){const _0x247aef=_0x2a676b[_0x226e77],_0x2087cf=_0x2a676b[_0x16ca8c],_0x8d8162=_0x2a676b['litOptions']['pass']===gn;let _0x20b48c;return _0x8d8162&&_0x2a676b['litOptions']['nineSliced'+'Mode']===nt||_0x8d8162&&_0x2a676b['litOptions']['nineSliced'+'Mode']===Qe?_0x20b48c='nineSliced'+'Uv':(_0x247aef===0x1b*-0x7+0x1b9a+-0x1add?_0x20b48c='vUv'+_0x2087cf:_0x20b48c='vUV'+_0x2087cf+'_'+_0x247aef,_0x2a676b['heightMap']&&_0x226e77!=='heightMapT'+'ransform'&&(_0x20b48c+='\x20+\x20dUvOffs'+'et')),_0x20b48c;}['_addMapDef'](_0x5171f9,_0x1a7fb7){return _0x1a7fb7?'#define\x20'+_0x5171f9+'\x0a':'#undef\x20'+_0x5171f9+'\x0a';}['_addMapDef'+'s'](_0x25f86d,_0x1191fa,_0x1ae666,_0x38a425,_0x2d62e9){return this['_addMapDef']('MAPFLOAT',_0x25f86d)+this['_addMapDef']('MAPCOLOR',_0x1191fa)+this['_addMapDef']('MAPVERTEX',_0x1ae666)+this['_addMapDef']('MAPTEXTURE',_0x38a425)+this['_addMapDef']('MAPINVERT',_0x2d62e9);}['_addMap'](_0x2603f2,_0x51c647,_0x504c44,_0x12ede7,_0x438075,_0x5f4770=null){const _0x54bb38=_0x2603f2+'Map',_0x1c4b8c=_0x54bb38+'Uv',_0x22070c=_0x54bb38+'Identifier',_0x37a2f4=_0x54bb38+'Transform',_0x7aaa1d=_0x54bb38+'Channel',_0x13b304=_0x2603f2+('VertexColo'+'rChannel'),_0x25ee62=_0x2603f2+'Tint',_0x62fd65=_0x2603f2+('VertexColo'+'r'),_0xf17d2c=_0x2603f2+'Mode',_0xa0f356=_0x2603f2+'Invert',_0x282aa7=_0x504c44[_0x25ee62],_0x40b8d1=_0x504c44[_0x62fd65],_0x5526d8=_0x504c44[_0x54bb38],_0x3c6512=_0x504c44[_0x22070c],_0x5313cd=_0x504c44[_0xf17d2c];let _0x43e769=_0x12ede7[_0x51c647];if(_0x5526d8){const _0x35c3cb=this['_getUvSour'+'ceExpressi'+'on'](_0x37a2f4,_0x1c4b8c,_0x504c44);if(_0x43e769=_0x43e769['replace'](/\$UV/g,_0x35c3cb)['replace'](/\$CH/g,_0x504c44[_0x7aaa1d]),_0x438075&&_0x43e769['search'](/\$SAMPLER/g)!==-(-0x197e+-0x2191+-0x24*-0x1a4)){let _0x1aa0e3='texture_'+_0x54bb38;const _0x486325=_0x438075[_0x3c6512];_0x486325?_0x1aa0e3=_0x486325:_0x438075[_0x3c6512]=_0x1aa0e3,_0x43e769=_0x43e769['replace'](/\$SAMPLER/g,_0x1aa0e3);}if(_0x5f4770&&(_0x504c44[_0x7aaa1d]==='aaa'?_0x43e769=_0x43e769['replace'](/\$DECODE/g,'passThroug'+'h'):_0x43e769=_0x43e769['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5f4770)),_0x43e769['indexOf']('$texture2D'+'SAMPLE'))){const _0x1b8fee={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x43e769=_0x43e769['replace'](/\$texture2DSAMPLE/g,_0x1b8fee[_0x5f4770]||'texture2D');}}_0x40b8d1&&(_0x43e769=_0x43e769['replace'](/\$VC/g,_0x504c44[_0x13b304])),_0x5313cd&&(_0x43e769=_0x43e769['replace'](/\$DETAILMODE/g,_0x5313cd));const _0x2bb31f=!!(_0x282aa7&-0x3*0x89+0x166b+0x2f9*-0x7),_0x581a6f=!!(_0x282aa7&-0x1c*-0x28+0x1eeb+-0x2349*0x1),_0x354358=!!_0x504c44[_0xa0f356];return _0x43e769=this['_addMapDef'+'s'](_0x2bb31f,_0x581a6f,_0x40b8d1,_0x5526d8,_0x354358)+_0x43e769,_0x43e769['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x4bde97,_0xc444a8,_0x2432dd){if(_0x2432dd[_0x4bde97]>0x2*-0x77d+0x9*-0x2c2+0xc*0x351){if(_0x2432dd[_0x4bde97]<_0xc444a8['length'])return _0xc444a8['substring'](-0x185*0xe+0x3f*0x25+0xc2b*0x1,_0x2432dd[_0x4bde97]);if(_0x2432dd[_0x4bde97]>_0xc444a8['length']){let _0x14c4be=_0xc444a8;const _0x11782d=_0x14c4be['charAt'](_0x14c4be['length']-(0x2251+-0xfff+0x1*-0x1251)),_0x5d9eb5=_0x2432dd[_0x4bde97]-_0x14c4be['length'];for(let _0x26d31a=0x2*-0xf57+-0x2682+0x4530;_0x26d31a<_0x5d9eb5;_0x26d31a++)_0x14c4be+=_0x11782d;return _0x14c4be;}return _0xc444a8;}}['createShad'+'erDefiniti'+'on'](_0x5c4c39,_0x2d27cb){const _0x3ac203=Ks['get'](_0x5c4c39)['getByIndex'](_0x2d27cb['litOptions']['pass'])['isForward'],_0x5652fb=new $C(_0x5c4c39,_0x2d27cb['litOptions']),_0xd39eef=[],_0x38d99e=[],_0x16729c=[],_0x122c77=0x194a+-0x6*-0x11f+-0x2002,_0x3967f1={};for(const _0x220fd6 in fa){const _0x4c6964=_0x220fd6+'Map';if(_0x2d27cb[_0x220fd6+('VertexColo'+'r')]){const _0x1bae83=_0x220fd6+('VertexColo'+'rChannel');_0x2d27cb[_0x1bae83]=this['_correctCh'+'annel'](_0x220fd6,_0x2d27cb[_0x1bae83],fa);}if(_0x2d27cb[_0x4c6964]){const _0x5107c0=_0x4c6964+'Channel',_0x325938=_0x4c6964+'Transform',_0xd6aa3=_0x4c6964+'Uv';_0x2d27cb[_0xd6aa3]=Math['min'](_0x2d27cb[_0xd6aa3],_0x122c77-(-0x1c90+0x3*0xc15+-0x7ae*0x1)),_0x2d27cb[_0x5107c0]=this['_correctCh'+'annel'](_0x220fd6,_0x2d27cb[_0x5107c0],fa);const _0x255ae3=_0x2d27cb[_0xd6aa3];_0xd39eef[_0x255ae3]=!(0x16db+-0x10*0x86+0x151*-0xb),_0x38d99e[_0x255ae3]=_0x38d99e[_0x255ae3]||_0x2d27cb[_0x4c6964]&&!_0x2d27cb[_0x325938],_0x2d27cb[_0x325938]&&_0x16729c['push']({'name':_0x220fd6,'id':_0x2d27cb[_0x325938],'uv':_0x2d27cb[_0xd6aa3]});}}_0x2d27cb['forceUv1']&&(_0xd39eef[-0x21ed+-0x4c9+-0xb*-0x385]=!(0x11a8+-0x1cea+0xb42),_0x38d99e[0x64e*-0x5+-0x7f5*0x1+0x277c]=_0x38d99e[0xcc1+-0x1*0xe75+-0x17*-0x13]!==void(0x1*0x1ff3+-0x19a8+-0x3*0x219)?_0x38d99e[-0x11d0+0x4ff*0x7+-0x1128]:!(0x6a2+0x14*0x173+0x1*-0x239e)),_0x5652fb['generateVe'+'rtexShader'](_0xd39eef,_0x38d99e,_0x16729c),_0x2d27cb['litOptions']['fresnelMod'+'el']=_0x2d27cb['litOptions']['fresnelMod'+'el']===0x1dc1*-0x1+-0x5*-0x4f4+-0x1*-0x4fd?Sp:_0x2d27cb['litOptions']['fresnelMod'+'el'];const _0x3ff26c=new sr(),_0x48983c=new sr(),_0x440de7=new sr(),_0x17cde5=new sr();let _0x4b101e='';if(_0x2d27cb['litOptions']['nineSliced'+'Mode']===Qe?_0x3ff26c['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x3ff26c['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x3ac203){if(_0x2d27cb['heightMap']&&(_0x3ff26c['append']('vec2\x20dUvOf'+'fset;'),_0x48983c['append'](this['_addMap']('height','parallaxPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getParalla'+'x();')),_0x2d27cb['litOptions']['blendType']!==is||_0x2d27cb['litOptions']['alphaTest']||_0x2d27cb['litOptions']['alphaToCov'+'erage']||_0x2d27cb['litOptions']['opacityDit'+'her']!==Rs){_0x3ff26c['append']('float\x20dAlp'+'ha;'),_0x48983c['append'](this['_addMap']('opacity','opacityPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getOpacity'+'();'),_0x17cde5['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x2d27cb['litOptions']['alphaTest']&&(_0x48983c['append'](_0x5652fb['chunks']['alphaTestP'+'S']),_0x440de7['append']('alphaTest('+'dAlpha);'));const _0x5669ae=_0x2d27cb['litOptions']['opacityDit'+'her'];_0x5669ae!==Rs&&(_0x5669ae===Nm&&_0x3ff26c['append'](_0x5652fb['chunks']['bayerPS']),_0x3ff26c['append']('#define\x20DI'+'THER_'+_0x5669ae['toUpperCas'+'e']()+'\x0a'),_0x3ff26c['append'](_0x5652fb['chunks']['opacityDit'+'herPS']),_0x440de7['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x3ff26c['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x5652fb['needsNorma'+'l']){if((_0x2d27cb['normalMap']||_0x2d27cb['clearCoatN'+'ormalMap'])&&(_0x48983c['append'](_0x2d27cb['packedNorm'+'al']?_0x5652fb['chunks']['normalXYPS']:_0x5652fb['chunks']['normalXYZP'+'S']),!_0x2d27cb['litOptions']['hasTangent'+'s'])){const _0x5c5e2e=_0x2d27cb['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x4b101e=this['_getUvSour'+'ceExpressi'+'on'](_0x5c5e2e+'Transform',_0x5c5e2e+'Uv',_0x2d27cb);}_0x3ff26c['append']('vec3\x20dNorm'+'alW;'),_0x48983c['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x48983c['append'](this['_addMap']('normal','normalMapP'+'S',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getNormal('+');'),_0x17cde5['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x5652fb['needsScene'+'Color']&&_0x3ff26c['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x5652fb['needsScree'+'nSize']&&_0x3ff26c['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x5652fb['needsTrans'+'forms']&&(_0x3ff26c['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x3ff26c['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x2d27cb['diffuseDet'+'ail']||_0x2d27cb['aoDetail'])&&_0x48983c['append'](_0x5652fb['chunks']['detailMode'+'sPS']),_0x3ff26c['append']('vec3\x20dAlbe'+'do;'),_0x2d27cb['diffuseDet'+'ail']&&_0x48983c['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1,_0x2d27cb['diffuseDet'+'ailEncodin'+'g'])),_0x48983c['append'](this['_addMap']('diffuse','diffusePS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1,_0x2d27cb['diffuseEnc'+'oding'])),_0x440de7['append']('getAlbedo('+');'),_0x17cde5['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x2d27cb['litOptions']['useRefract'+'ion']&&(_0x3ff26c['append']('float\x20dTra'+'nsmission;'),_0x48983c['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getRefract'+'ion();'),_0x17cde5['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x3ff26c['append']('float\x20dThi'+'ckness;'),_0x48983c['append'](this['_addMap']('thickness','thicknessP'+'S',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getThickne'+'ss();'),_0x17cde5['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x2d27cb['litOptions']['dispersion']&&_0x17cde5['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x2d27cb['litOptions']['useIridesc'+'ence']&&(_0x3ff26c['append']('float\x20dIri'+'descence;'),_0x48983c['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getIridesc'+'ence();'),_0x17cde5['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x3ff26c['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x48983c['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getIridesc'+'enceThickn'+'ess();'),_0x17cde5['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x5652fb['lighting']&&_0x2d27cb['litOptions']['useSpecula'+'r']||_0x5652fb['reflection'+'s']?(_0x3ff26c['append']('vec3\x20dSpec'+'ularity;'),_0x3ff26c['append']('float\x20dGlo'+'ssiness;'),_0x2d27cb['litOptions']['useSheen']&&(_0x3ff26c['append']('vec3\x20sSpec'+'ularity;'),_0x48983c['append'](this['_addMap']('sheen','sheenPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1,_0x2d27cb['sheenEncod'+'ing'])),_0x440de7['append']('getSheen()'+';'),_0x17cde5['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x3ff26c['append']('float\x20sGlo'+'ssiness;'),_0x48983c['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getSheenGl'+'ossiness()'+';'),_0x17cde5['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x2d27cb['litOptions']['useMetalne'+'ss']&&(_0x3ff26c['append']('float\x20dMet'+'alness;'),_0x48983c['append'](this['_addMap']('metalness','metalnessP'+'S',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getMetalne'+'ss();'),_0x17cde5['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x3ff26c['append']('float\x20dIor'+';'),_0x48983c['append'](this['_addMap']('ior','iorPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getIor();'),_0x17cde5['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x2d27cb['litOptions']['useSpecula'+'rityFactor']&&(_0x3ff26c['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x48983c['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getSpecula'+'rityFactor'+'();'),_0x17cde5['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x2d27cb['useSpecula'+'rColor']?_0x48983c['append'](this['_addMap']('specular','specularPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1,_0x2d27cb['specularEn'+'coding'])):_0x48983c['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x48983c['append'](this['_addMap']('gloss','glossPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getGlossin'+'ess();'),_0x440de7['append']('getSpecula'+'rity();'),_0x17cde5['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x17cde5['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x3ff26c['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x3ff26c['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x2d27cb['aoDetail']&&_0x48983c['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),(_0x2d27cb['aoMap']||_0x2d27cb['aoVertexCo'+'lor']||_0x2d27cb['useAO'])&&(_0x3ff26c['append']('float\x20dAo;'),_0x48983c['append'](this['_addMap']('ao','aoPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getAO();'),_0x17cde5['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x3ff26c['append']('vec3\x20dEmis'+'sion;'),_0x48983c['append'](this['_addMap']('emissive','emissivePS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1,_0x2d27cb['emissiveEn'+'coding'])),_0x440de7['append']('getEmissio'+'n();'),_0x17cde5['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x2d27cb['litOptions']['useClearCo'+'at']&&(_0x3ff26c['append']('float\x20ccSp'+'ecularity;'),_0x3ff26c['append']('float\x20ccGl'+'ossiness;'),_0x3ff26c['append']('vec3\x20ccNor'+'malW;'),_0x48983c['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x48983c['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x48983c['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getClearCo'+'at();'),_0x440de7['append']('getClearCo'+'atGlossine'+'ss();'),_0x440de7['append']('getClearCo'+'atNormal()'+';'),_0x17cde5['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x17cde5['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x17cde5['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x2d27cb['lightMap']||_0x2d27cb['lightVerte'+'xColor']){const _0x4180b9=_0x2d27cb['dirLightMa'+'p']&&_0x2d27cb['litOptions']['useSpecula'+'r'],_0x317f43=_0x4180b9?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x3ff26c['append']('vec3\x20dLigh'+'tmap;'),_0x4180b9&&_0x3ff26c['append']('vec3\x20dLigh'+'tmapDir;'),_0x48983c['append'](this['_addMap']('light',_0x317f43,_0x2d27cb,_0x5652fb['chunks'],_0x3967f1,_0x2d27cb['lightMapEn'+'coding'])),_0x440de7['append']('getLightMa'+'p();'),_0x17cde5['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x4180b9&&_0x17cde5['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x48983c['code']['indexOf']('texture2DS'+'RGB')===-(-0xd9b+-0x1bad+-0xdc3*-0x3)&&_0x48983c['code']['indexOf']('texture2DR'+'GBM')===-(0x214e+0xb*-0x57+0x10*-0x1d9)&&_0x48983c['code']['indexOf']('texture2DR'+'GBE')===-(-0x5a2*0x4+-0x2663+0x3cec),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x2750e3=_0x2d27cb['litOptions']['opacitySha'+'dowDither'];(_0x2d27cb['litOptions']['alphaTest']||_0x2750e3)&&(_0x3ff26c['append']('float\x20dAlp'+'ha;'),_0x48983c['append'](this['_addMap']('opacity','opacityPS',_0x2d27cb,_0x5652fb['chunks'],_0x3967f1)),_0x440de7['append']('getOpacity'+'();'),_0x17cde5['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x2d27cb['litOptions']['alphaTest']&&(_0x48983c['append'](_0x5652fb['chunks']['alphaTestP'+'S']),_0x440de7['append']('alphaTest('+'dAlpha);')),_0x2750e3!==Rs&&(_0x2750e3===Nm&&_0x3ff26c['append'](_0x5652fb['chunks']['bayerPS']),_0x3ff26c['append']('#define\x20DI'+'THER_'+_0x2750e3['toUpperCas'+'e']()+'\x0a'),_0x3ff26c['append'](_0x5652fb['chunks']['opacityDit'+'herPS']),_0x440de7['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x3ff26c['append'](_0x5652fb['chunks']['litShaderA'+'rgsPS']),_0x48983c['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x440de7['code']+'\x0a'+_0x17cde5['code']+'\x0a\x20}\x0a'),_0x440de7['code']='evaluateFr'+'ontend();';for(const _0x58bd3f in _0x3967f1)_0x3ff26c['append']('uniform\x20sa'+'mpler2D\x20'+_0x3967f1[_0x58bd3f]+';');_0x440de7['code']='\x0a'+_0x440de7['code']['split']('\x0a')['map'](_0x38f8c2=>'\x20\x20\x20\x20'+_0x38f8c2)['join']('\x0a')+'\x0a\x0a',_0x5652fb['generateFr'+'agmentShad'+'er'](_0x3ff26c['code'],_0x48983c['code'],_0x440de7['code'],_0x4b101e);const _0x156fcc=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x5652fb['chunks']),..._0x5652fb['chunks'],..._0x2d27cb['litOptions']['chunks']})),_0x2018cd=new Map(_0x2d27cb['defines']),_0x2fca51=Mt['createDefi'+'nition'](_0x5c4c39,{'name':'StandardSh'+'ader','attributes':_0x5652fb['attributes'],'vertexCode':_0x5652fb['vshader'],'fragmentCode':_0x5652fb['fshader'],'vertexIncludes':_0x156fcc,'fragmentIncludes':_0x156fcc,'fragmentDefines':_0x2018cd,'vertexDefines':_0x2018cd});return _0x5652fb['shaderPass'+'Info']['isForward']&&(_0x2fca51['tag']=Ly),_0x2fca51;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=-0x58*-0x53+0x16c3+0x334b*-0x1;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0xe3b*0x2+0x5dd+-0x2252)),c(this,'parameters',{}),c(this,'alphaTest',0x88*-0x21+0x62*0x15+0x97e),c(this,'alphaToCov'+'erage',!(0x91c+0x739*0x3+0x1ec6*-0x1)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(-0x1*-0x1db7+-0x12a3+0x4*-0x2c5)),c(this,'_shaderVer'+'sion',0x3e*-0x25+-0xa6*0x10+0x9ab*0x2),c(this,'_scene',null),c(this,'dirty',!(-0x1*-0x3c3+0xa31*-0x3+0x1ad0*0x1)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0xc5699f){this['_dirtyShad'+'er']=!(-0x12d5+0x2580+0x1b*-0xb1),this['_chunks']=_0xc5699f;}get['chunks'](){return this['_dirtyShad'+'er']=!(-0x14b*-0xa+-0x1*0x211c+0x12*0x11f),this['_chunks'];}set['depthBias'](_0x1d9cf6){this['_depthStat'+'e']['depthBias']=_0x1d9cf6;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x26d43c){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x26d43c;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x1262c4){this['_blendStat'+'e']['redWrite']=_0x1262c4;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x3699e5){this['_blendStat'+'e']['greenWrite']=_0x3699e5;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x2f8180){this['_blendStat'+'e']['blueWrite']=_0x2f8180;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x4ea8a0){this['_blendStat'+'e']['alphaWrite']=_0x4ea8a0;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x2d0eaa=this['transparen'+'t'],_0x4631a4=this['meshInstan'+'ces'];for(let _0x5a3440=-0x1a6b*0x1+-0x1a91+0x34fc;_0x5a3440<_0x4631a4['length'];_0x5a3440++)_0x4631a4[_0x5a3440]['transparen'+'t']=_0x2d0eaa;}set['blendState'](_0x168c44){this['_blendStat'+'e']['copy'](_0x168c44),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x4cf756){const _0x173943=Ft[_0x4cf756];v['assert'](_0x173943,'Unknown\x20bl'+'end\x20mode\x20'+_0x4cf756),this['_blendStat'+'e']['setColorBl'+'end'](_0x173943['op'],_0x173943['src'],_0x173943['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x173943['alphaOp']??_0x173943['op'],_0x173943['alphaSrc']??_0x173943['src'],_0x173943['alphaDst']??_0x173943['dst']);const _0x3aa895=_0x4cf756!==is;this['_blendStat'+'e']['blend']!==_0x3aa895&&(this['_blendStat'+'e']['blend']=_0x3aa895,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x1e6e8e,colorSrcFactor:_0x2164be,colorDstFactor:_0x3cb8df,alphaOp:_0x4bf231,alphaSrcFactor:_0xa6c0a5,alphaDstFactor:_0x5b995c}=this['_blendStat'+'e'];for(let _0x589284=0x237e+-0x5f4+-0x1d8a;_0x589284<Ft['length'];_0x589284++){const _0x8a7e02=Ft[_0x589284];if(_0x8a7e02['src']===_0x2164be&&_0x8a7e02['dst']===_0x3cb8df&&_0x8a7e02['op']===_0x1e6e8e&&_0x8a7e02['src']===_0xa6c0a5&&_0x8a7e02['dst']===_0x5b995c&&_0x8a7e02['op']===_0x4bf231)return _0x589284;}return Kt;}set['depthState'](_0x275f95){this['_depthStat'+'e']['copy'](_0x275f95);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x354e78){this['_depthStat'+'e']['test']=_0x354e78;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x198d51){this['_depthStat'+'e']['func']=_0x198d51;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x5a3143){this['_depthStat'+'e']['write']=_0x5a3143;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x1b8549){var _0x53977d;this['name']=_0x1b8549['name'],this['alphaTest']=_0x1b8549['alphaTest'],this['alphaToCov'+'erage']=_0x1b8549['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x1b8549['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x1b8549['_depthStat'+'e']),this['cull']=_0x1b8549['cull'],this['stencilFro'+'nt']=(_0x53977d=_0x1b8549['stencilFro'+'nt'])==null?void(-0x11ff+-0x1fc2+0x31c1*0x1):_0x53977d['clone'](),_0x1b8549['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x1b8549['stencilFro'+'nt']===_0x1b8549['stencilBac'+'k']?this['stencilFro'+'nt']:_0x1b8549['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x94cd80 in _0x1b8549['parameters'])_0x1b8549['parameters']['hasOwnProp'+'erty'](_0x94cd80)&&this['_setParame'+'terSimple'](_0x94cd80,_0x1b8549['parameters'][_0x94cd80]['data']);this['defines']['clear'](),_0x1b8549['defines']['forEach']((_0x59d934,_0x4919d6)=>this['defines']['set'](_0x4919d6,_0x59d934));const _0x2838eb=_0x1b8549['_chunks'];for(const _0x2cf12c in _0x2838eb)_0x2838eb['hasOwnProp'+'erty'](_0x2cf12c)&&(this['_chunks'][_0x2cf12c]=_0x2838eb[_0x2cf12c]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x8d7b4b=this['meshInstan'+'ces'];for(let _0x4660cd=-0x1*0x2129+-0x1520+-0x1*-0x3649;_0x4660cd<_0x8d7b4b['length'];_0x4660cd++)_0x8d7b4b[_0x4660cd]['updateKey']();}['updateUnif'+'orms'](_0x3091dd,_0x171a54){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x4e2e81){v['assert'](!(-0x507+0x3*0x73f+-0x2f*0x5b),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x2*0xb62+-0xd1d*0x1+-0x5f*0x1a),this['clearVaria'+'nts']()),this['dirty']=!(0xf58+-0x1*0x1640+0x22*0x34);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x31a7f9=this['meshInstan'+'ces'],_0x55b2b7=_0x31a7f9['length'];for(let _0x46751d=-0x14a2*0x1+0x1*-0x2c9+0x176b*0x1;_0x46751d<_0x55b2b7;_0x46751d++)_0x31a7f9[_0x46751d]['clearShade'+'rs']();}['getParamet'+'er'](_0x309b8a){return this['parameters'][_0x309b8a];}['_setParame'+'terSimple'](_0x741ac9,_0x85c7e){v['call'](()=>{_0x85c7e===void(0x127d*0x1+0x164*-0x8+-0x75d*0x1)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x741ac9+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x3e54df=this['parameters'][_0x741ac9];_0x3e54df?_0x3e54df['data']=_0x85c7e:this['parameters'][_0x741ac9]={'scopeId':null,'data':_0x85c7e};}['setParamet'+'er'](_0x36ec9b,_0x8bda98){if(_0x8bda98===void(0x1349*0x1+0x19ff+0x3c6*-0xc)&&typeof _0x36ec9b=='object'){const _0x58b138=_0x36ec9b;if(_0x58b138['length']){for(let _0x71d0d1=-0x1554*0x1+0x13*0x50+0x1*0xf64;_0x71d0d1<_0x58b138['length'];_0x71d0d1++)this['setParamet'+'er'](_0x58b138[_0x71d0d1]);return;}_0x36ec9b=_0x58b138['name'],_0x8bda98=_0x58b138['value'];}this['_setParame'+'terSimple'](_0x36ec9b,_0x8bda98);}['deletePara'+'meter'](_0xc3a835){this['parameters'][_0xc3a835]&&delete this['parameters'][_0xc3a835];}['setParamet'+'ers'](_0x129636,_0x1aaad9){const _0x53de04=this['parameters'];_0x1aaad9===void(-0x546*0x1+-0xb*-0x25+-0x17*-0x29)&&(_0x1aaad9=_0x53de04);for(const _0xc2de09 in _0x1aaad9){const _0x322a64=_0x53de04[_0xc2de09];_0x322a64&&(_0x322a64['scopeId']||(_0x322a64['scopeId']=_0x129636['scope']['resolve'](_0xc2de09)),_0x322a64['scopeId']['setValue'](_0x322a64['data']));}}['setDefine'](_0x44a122,_0xc44f27){let _0x5c32f6=!(-0x2*0x77e+-0x1bff+0xe*0x312);const {defines:_0x3934eb}=this;_0xc44f27!==void(-0x14*0x7a+0x219+-0x1*-0x76f)&&_0xc44f27!==!(-0x3*-0xb11+-0x25*0xd3+-0x2b3)?(_0x5c32f6=!_0x3934eb['has'](_0x44a122)||_0x3934eb['get'](_0x44a122)!==_0xc44f27,_0x3934eb['set'](_0x44a122,_0xc44f27)):(_0x5c32f6=_0x3934eb['has'](_0x44a122),_0x3934eb['delete'](_0x44a122)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x5c32f6);}['getDefine'](_0x500800){return this['defines']['has'](_0x500800);}['destroy'](){this['variants']['clear']();for(let _0x510fc4=0x1*0x182d+-0x850*0x3+-0xd*-0xf;_0x510fc4<this['meshInstan'+'ces']['length'];_0x510fc4++){const _0x39f425=this['meshInstan'+'ces'][_0x510fc4];if(_0x39f425['clearShade'+'rs'](),_0x39f425['_material']=null,_0x39f425['mesh']){const _0x1167e3=al(_0x39f425['mesh']['device']);this!==_0x1167e3&&(_0x39f425['material']=_0x1167e3);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x35*0x6a+-0x5*-0x2b5+0x869;}['addMeshIns'+'tanceRef'](_0x409902){this['meshInstan'+'ces']['push'](_0x409902);}['removeMesh'+'InstanceRe'+'f'](_0x11a90f){const _0x543595=this['meshInstan'+'ces'],_0x39ac64=_0x543595['indexOf'](_0x11a90f);_0x39ac64!==-(-0x1503+0x2380+-0xe7c)&&_0x543595['splice'](_0x39ac64,0x1365*0x1+0x34b*0x3+-0x3b*0x7f);}}class As{static['update'](_0x37a9b2,_0x577ac1,_0x3322b2,_0x17c7b3,_0x612aaa,_0x539fc5,_0x18bef9){As['updateShar'+'edOptions'](_0x37a9b2,_0x577ac1,_0x3322b2,_0x612aaa,_0x539fc5),As['updateMate'+'rialOption'+'s'](_0x37a9b2,_0x577ac1),As['updateEnvO'+'ptions'](_0x37a9b2,_0x577ac1,_0x3322b2,_0x17c7b3),As['updateLigh'+'tingOption'+'s'](_0x37a9b2,_0x577ac1,_0x612aaa,_0x18bef9);}static['updateShar'+'edOptions'](_0xc97224,_0x7dee59,_0x4321cf,_0xbf05d7,_0x308481){_0xc97224['chunks']=_0x7dee59['chunks'],_0xc97224['pass']=_0x308481,_0xc97224['alphaTest']=_0x7dee59['alphaTest']>0x1ebf+-0x5e+-0x1e61*0x1,_0xc97224['blendType']=_0x7dee59['blendType'],_0xc97224['screenSpac'+'e']=_0xbf05d7&&(_0xbf05d7&Cp)!==0x74c*0x3+0xc0*-0x32+0xf9c,_0xc97224['skin']=_0xbf05d7&&(_0xbf05d7&Wc)!==-0x1*0x146+0xf6a+-0xe24,_0xc97224['useInstanc'+'ing']=_0xbf05d7&&(_0xbf05d7&$c)!==-0x2668+-0x15b8+-0x34*-0x128,_0xc97224['useMorphPo'+'sition']=_0xbf05d7&&(_0xbf05d7&qc)!==0x16c3+0x1391+-0x2a54,_0xc97224['useMorphNo'+'rmal']=_0xbf05d7&&(_0xbf05d7&Xc)!==-0x21f5+-0x5d*-0x1+-0x28*-0xd7,_0xc97224['useMorphTe'+'xtureBased'+'Int']=_0xbf05d7&&(_0xbf05d7&jc)!==-0x31d*0xb+0x10*-0xb1+-0x679*-0x7,_0xc97224['hasTangent'+'s']=_0xbf05d7&&(_0xbf05d7&Mp)!==0x35*-0x81+-0x151b+0x2fd0,_0xc97224['nineSliced'+'Mode']=_0x7dee59['nineSliced'+'Mode']||Ti,_0x7dee59['useLightin'+'g']&&_0x4321cf['clusteredL'+'ightingEna'+'bled']?(_0xc97224['clusteredL'+'ightingEna'+'bled']=!(-0x1e1c+0x23a7*0x1+-0x21*0x2b),_0xc97224['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x4321cf['lighting']['cookiesEna'+'bled'],_0xc97224['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x4321cf['lighting']['shadowsEna'+'bled'],_0xc97224['clusteredL'+'ightingSha'+'dowType']=_0x4321cf['lighting']['shadowType'],_0xc97224['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x4321cf['lighting']['areaLights'+'Enabled']):(_0xc97224['clusteredL'+'ightingEna'+'bled']=!(0x17fe+-0xfb*0x1b+-0x6*-0x6a),_0xc97224['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x1362+-0x99d*0x1+0x7d*-0x14),_0xc97224['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x4*0x4+0xa4d+-0x1*0xa3c),_0xc97224['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x324+-0x467*0x1+-0x6c*-0x3));}static['updateMate'+'rialOption'+'s'](_0x490e21,_0x5d6477){_0x490e21['separateAm'+'bient']=!(0x7b5*-0x1+0x2*-0x99b+0x6bb*0x4),_0x490e21['customFrag'+'mentShader']=null,_0x490e21['pixelSnap']=_0x5d6477['pixelSnap'],_0x490e21['ambientSH']=_0x5d6477['ambientSH'],_0x490e21['twoSidedLi'+'ghting']=_0x5d6477['twoSidedLi'+'ghting'],_0x490e21['occludeDir'+'ect']=_0x5d6477['occludeDir'+'ect'],_0x490e21['occludeSpe'+'cular']=_0x5d6477['occludeSpe'+'cular'],_0x490e21['occludeSpe'+'cularFloat']=_0x5d6477['occludeSpe'+'cularInten'+'sity']!==0x2302+0x39*0x3+-0x23ac,_0x490e21['useMsdf']=!(-0x1b8d+-0x1147+0x2cd5),_0x490e21['msdfTextAt'+'tribute']=!(-0x2033*0x1+0x55*-0x1d+0x29d5),_0x490e21['alphaToCov'+'erage']=_0x5d6477['alphaToCov'+'erage'],_0x490e21['opacityFad'+'esSpecular']=_0x5d6477['opacityFad'+'esSpecular'],_0x490e21['opacityDit'+'her']=_0x5d6477['opacityDit'+'her'],_0x490e21['cubeMapPro'+'jection']=u0,_0x490e21['useSpecula'+'r']=_0x5d6477['hasSpecula'+'r'],_0x490e21['useSpecula'+'rityFactor']=_0x5d6477['hasSpecula'+'rityFactor'],_0x490e21['enableGGXS'+'pecular']=_0x5d6477['ggxSpecula'+'r'],_0x490e21['fresnelMod'+'el']=_0x5d6477['fresnelMod'+'el'],_0x490e21['useRefract'+'ion']=_0x5d6477['hasRefract'+'ion'],_0x490e21['useClearCo'+'at']=_0x5d6477['hasClearCo'+'at'],_0x490e21['useSheen']=_0x5d6477['hasSheen'],_0x490e21['useIridesc'+'ence']=_0x5d6477['hasIrrides'+'cence'],_0x490e21['useMetalne'+'ss']=_0x5d6477['hasMetalne'+'ss'],_0x490e21['useDynamic'+'Refraction']=_0x5d6477['dynamicRef'+'raction'],_0x490e21['dispersion']=_0x5d6477['dispersion']>-0x1*-0x443+-0x22f7+0x1eb4,_0x490e21['vertexColo'+'rs']=!(-0x1e71+-0x1*0x1052+0x2ec4),_0x490e21['lightMapEn'+'abled']=_0x5d6477['hasLightin'+'g'],_0x490e21['dirLightMa'+'pEnabled']=_0x5d6477['dirLightMa'+'p'],_0x490e21['useHeights']=_0x5d6477['hasHeights'],_0x490e21['useNormals']=_0x5d6477['hasNormals'],_0x490e21['useClearCo'+'atNormals']=_0x5d6477['hasClearCo'+'atNormals'],_0x490e21['useAo']=_0x5d6477['hasAo'],_0x490e21['diffuseMap'+'Enabled']=_0x5d6477['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x546988,_0x3f945f,_0x1f5d3d,_0x588e84){_0x546988['fog']=_0x3f945f['useFog']?_0x588e84['fog']:Fa,_0x546988['gamma']=_0x588e84['shaderOutp'+'utGamma'],_0x546988['toneMap']=_0x3f945f['useTonemap']?_0x588e84['toneMappin'+'g']:f0,_0x3f945f['useSkybox']&&_0x1f5d3d['envAtlas']&&_0x1f5d3d['skybox']?(_0x546988['reflection'+'Source']='envAtlasHQ',_0x546988['reflection'+'Encoding']=_0x1f5d3d['envAtlas']['encoding'],_0x546988['reflection'+'CubemapEnc'+'oding']=_0x1f5d3d['skybox']['encoding']):_0x3f945f['useSkybox']&&_0x1f5d3d['envAtlas']?(_0x546988['reflection'+'Source']='envAtlas',_0x546988['reflection'+'Encoding']=_0x1f5d3d['envAtlas']['encoding']):_0x3f945f['useSkybox']&&_0x1f5d3d['skybox']?(_0x546988['reflection'+'Source']='cubeMap',_0x546988['reflection'+'Encoding']=_0x1f5d3d['skybox']['encoding']):(_0x546988['reflection'+'Source']=null,_0x546988['reflection'+'Encoding']=null),_0x3f945f['ambientSH']?(_0x546988['ambientSou'+'rce']='ambientSH',_0x546988['ambientEnc'+'oding']=null):_0x546988['reflection'+'Source']&&_0x1f5d3d['envAtlas']?(_0x546988['ambientSou'+'rce']='envAtlas',_0x546988['ambientEnc'+'oding']=_0x1f5d3d['envAtlas']['encoding']):(_0x546988['ambientSou'+'rce']='constant',_0x546988['ambientEnc'+'oding']=null);const _0x43c8a3=!!_0x546988['reflection'+'Source'];_0x546988['skyboxInte'+'nsity']=_0x43c8a3,_0x546988['useCubeMap'+'Rotation']=_0x43c8a3&&_0x1f5d3d['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x239077,_0x1f5eb7,_0xfc9ebc,_0x37ee32){if(_0x239077['lightMapWi'+'thoutAmbie'+'nt']=!(0x13d*-0x17+0x11*-0x1d5+0x3ba1),_0x1f5eb7['useLightin'+'g']){const _0x2fda4e=[],_0x14b7f7=_0xfc9ebc?_0xfc9ebc>>-0x211*0xa+-0x221a+0x36d4:hs;_0x239077['lightMaskD'+'ynamic']=!!(_0x14b7f7&hs),_0x239077['lightMapWi'+'thoutAmbie'+'nt']=!(0x22ff+0x13f1*0x1+0x11f*-0x31),_0x37ee32&&(As['collectLig'+'hts'](oe,_0x37ee32[oe],_0x2fda4e,_0x14b7f7),As['collectLig'+'hts'](Pe,_0x37ee32[Pe],_0x2fda4e,_0x14b7f7),As['collectLig'+'hts'](Re,_0x37ee32[Re],_0x2fda4e,_0x14b7f7)),_0x239077['lights']=_0x2fda4e;}else _0x239077['lights']=[];(_0x239077['lights']['length']===0x2676+-0x9c4+-0x2*0xe59||(_0xfc9ebc&Ep)!==-0x1*-0x865+0x64f+0x1*-0xeb4)&&(_0x239077['noShadow']=!(0x77+-0xf6*0x10+0xee9));}static['collectLig'+'hts'](_0x4142cf,_0x153aee,_0x22ab67,_0x20b2aa){for(let _0x4c2858=0x64+-0x1725+0x16c1;_0x4c2858<_0x153aee['length'];_0x4c2858++){const _0xfdc0ed=_0x153aee[_0x4c2858];_0xfdc0ed['enabled']&&_0xfdc0ed['mask']&_0x20b2aa&&_0x22ab67['push'](_0xfdc0ed);}}}const c_=(_0x169dfb,_0x1611d3)=>{if(_0x169dfb['length']!==_0x1611d3['length'])return!(0x23b*0x8+0x49b+-0x1672);for(let _0x332083=0x1eb5+0x2*-0x5ff+-0x12b7;_0x332083<_0x169dfb['length'];++_0x332083)if(_0x169dfb[_0x332083]!==_0x1611d3[_0x332083])return!(-0xbd3+-0x449*0x1+0x101d);return!(0x9e9+0x8*-0x259+0x8df);},YC=_0x8dd57=>_0x8dd57['r']!==-0x2568+-0x95*0x40+-0x45*-0x115||_0x8dd57['g']!==-0x3*-0x2dc+0xf8d+-0x1820||_0x8dd57['b']!==-0x1bbd+-0xada*-0x3+-0x4d0,KC=_0x540b33=>_0x540b33['r']!==-0x1923+-0x10b5+-0xce*-0x34||_0x540b33['g']!==0x5*-0x40d+0x28c*0xe+0x1*-0xf67||_0x540b33['b']!==-0x25d5+-0x1f10+0x44e5;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x14b7a4,_0x3a7761,_0x59f12f,_0x4fa080,_0x539ece,_0x45ff43){this['_updateSha'+'redOptions'](_0x14b7a4,_0x3a7761,_0x59f12f,_0x4fa080,_0x539ece),this['_updateMin'+'Options'](_0x14b7a4,_0x59f12f,_0x539ece),this['_updateUVO'+'ptions'](_0x14b7a4,_0x59f12f,_0x4fa080,!(-0x84a+0x449+0x401));}['updateRef'](_0x3d60fc,_0x113234,_0x4f9b4a,_0x2f8594,_0xf2d791,_0x4e408b,_0x1ab336){this['_updateSha'+'redOptions'](_0x3d60fc,_0x113234,_0x2f8594,_0xf2d791,_0x4e408b),this['_updateEnv'+'Options'](_0x3d60fc,_0x2f8594,_0x113234,_0x4f9b4a),this['_updateMat'+'erialOptio'+'ns'](_0x3d60fc,_0x2f8594),_0x3d60fc['litOptions']['hasTangent'+'s']=_0xf2d791&&(_0xf2d791&Mp)!==-0x355+0xd79+-0xb*0xec,this['_updateLig'+'htOptions'](_0x3d60fc,_0x113234,_0x2f8594,_0xf2d791,_0x1ab336),this['_updateUVO'+'ptions'](_0x3d60fc,_0x2f8594,_0xf2d791,!(-0x1b08+0x15d6+0x533),_0x4f9b4a);}['_updateSha'+'redOptions'](_0x44b45d,_0x31bd0c,_0x182052,_0x46f6dd,_0x2a09ad){_0x44b45d['forceUv1']=_0x182052['forceUv1'],_0x182052['userAttrib'+'utes']&&(_0x44b45d['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x182052['userAttrib'+'utes']['entries']())),_0x44b45d['litOptions']['chunks']=_0x182052['chunks']||{},_0x44b45d['litOptions']['pass']=_0x2a09ad,_0x44b45d['litOptions']['alphaTest']=_0x182052['alphaTest']>0x2*-0x865+-0x19a+0x1ac*0xb,_0x44b45d['litOptions']['blendType']=_0x182052['blendType'],_0x44b45d['litOptions']['screenSpac'+'e']=_0x46f6dd&&(_0x46f6dd&Cp)!==-0x1*0x1c1+-0x22b9+0x17*0x196,_0x44b45d['litOptions']['skin']=_0x46f6dd&&(_0x46f6dd&Wc)!==-0xe16+0xd5c+0xba,_0x44b45d['litOptions']['batch']=_0x46f6dd&&(_0x46f6dd&Ou)!==-0x2*-0xac9+-0x1c95+-0x5*-0x167,_0x44b45d['litOptions']['useInstanc'+'ing']=_0x46f6dd&&(_0x46f6dd&$c)!==-0x165b+-0x1*-0xc42+0xa19,_0x44b45d['litOptions']['useMorphPo'+'sition']=_0x46f6dd&&(_0x46f6dd&qc)!==0x1d3e+-0x3d*0x1+-0x1b*0x113,_0x44b45d['litOptions']['useMorphNo'+'rmal']=_0x46f6dd&&(_0x46f6dd&Xc)!==0x26bc+0x155b+-0x3c17,_0x44b45d['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x46f6dd&&(_0x46f6dd&jc)!==0xb08+0x1*-0x57+-0x11*0xa1,_0x44b45d['litOptions']['nineSliced'+'Mode']=_0x182052['nineSliced'+'Mode']||-0x90c+0x39d+0x1*0x56f,_0x31bd0c['clusteredL'+'ightingEna'+'bled']&&_0x182052['useLightin'+'g']?(_0x44b45d['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x2*-0x133+0x9f0+-0xc56*0x1),_0x44b45d['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x31bd0c['lighting']['cookiesEna'+'bled'],_0x44b45d['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x31bd0c['lighting']['shadowsEna'+'bled'],_0x44b45d['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x31bd0c['lighting']['shadowType'],_0x44b45d['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x31bd0c['lighting']['areaLights'+'Enabled']):(_0x44b45d['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x4d6+-0x8*0x25f+0x7*0x205),_0x44b45d['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x115c+-0x72f*0x3+-0x26ea*-0x1),_0x44b45d['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x702*0x2+0x5ed+-0x38*-0x25),_0x44b45d['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x930+-0x164b+0x1f7c));}['_updateUVO'+'ptions'](_0x390d91,_0x49682c,_0xb0105e,_0x47f6cc,_0x1ecdec){let _0x2561a1=!(-0x132d+-0x1bf*-0x2+0xfb0),_0x2ca554=!(-0x1*-0x1433+0x2472+-0x5*0xb54),_0x148fe3=!(0x199e*0x1+-0xc6b+-0xd32*0x1);_0xb0105e&&(_0x2561a1=(_0xb0105e&m0)!==0x1ec2+0x5db+-0x249d,_0x2ca554=(_0xb0105e&_0)!==-0x2624+0x1128*-0x2+0x1*0x4874,_0x148fe3=(_0xb0105e&g0)!==0x159e*-0x1+0x1f95+-0x9f7),_0x390d91['litOptions']['vertexColo'+'rs']=!(0x117b+0xf48+0x7*-0x4ae),this['_mapXForms']=[];const _0x34fa43={};for(const _0xedb3c0 in fa)this['_updateTex'+'Options'](_0x390d91,_0x49682c,_0xedb3c0,_0x2561a1,_0x2ca554,_0x148fe3,_0x47f6cc,_0x34fa43);this['_mapXForms']=null,_0x390d91['litOptions']['ssao']=_0x1ecdec==null?void(0x2593+-0x78a+-0x1e09):_0x1ecdec['ssaoEnable'+'d'],_0x390d91['useAO']=_0x390d91['litOptions']['ssao'],_0x390d91['litOptions']['lightMapEn'+'abled']=_0x390d91['lightMap'],_0x390d91['litOptions']['dirLightMa'+'pEnabled']=_0x390d91['dirLightMa'+'p'],_0x390d91['litOptions']['useHeights']=_0x390d91['heightMap'],_0x390d91['litOptions']['useNormals']=_0x390d91['normalMap'],_0x390d91['litOptions']['useClearCo'+'atNormals']=_0x390d91['clearCoatN'+'ormalMap'],_0x390d91['litOptions']['useAo']=_0x390d91['aoMap']||_0x390d91['aoVertexCo'+'lor']||_0x390d91['litOptions']['ssao'],_0x390d91['litOptions']['diffuseMap'+'Enabled']=_0x390d91['diffuseMap'];}['_updateTex'+'Options'](_0x275bb5,_0x155669,_0x35f358,_0x6948c6,_0x3bc382,_0x582d47,_0xeb313b,_0x5a2b64){const _0x4766f3=_0x35f358==='opacity';if(!_0xeb313b||_0x4766f3){const _0x3fddd2=_0x35f358+'Map',_0x56cee1=_0x35f358+('VertexColo'+'r'),_0x2ff182=_0x35f358+('VertexColo'+'rChannel'),_0x570b42=_0x3fddd2+'Channel',_0x2f9be3=_0x3fddd2+'Transform',_0x4a4342=_0x3fddd2+'Uv',_0x10d214=_0x3fddd2+'Identifier';if(_0x35f358!=='light'&&(_0x275bb5[_0x3fddd2]=!(0xc8e+-0xb1*-0x17+-0x1c74),_0x275bb5[_0x10d214]=void(0x6*0x110+-0x642+-0x1e),_0x275bb5[_0x570b42]='',_0x275bb5[_0x2f9be3]=-0x536+-0x1565+-0x1a9b*-0x1,_0x275bb5[_0x4a4342]=0x2d1*0xc+-0x2249+-0x5*-0x19),_0x275bb5[_0x56cee1]=!(-0x51e+0xbb2+-0x693),_0x275bb5[_0x2ff182]='',_0x4766f3&&_0x155669['blendType']===is&&_0x155669['alphaTest']===-0x17*-0x161+-0x1*0x1a32+0x1d7*-0x3&&!_0x155669['alphaToCov'+'erage']&&_0x155669['opacityDit'+'her']===Rs)return;if(_0x35f358!=='height'&&_0x155669[_0x56cee1]&&_0x582d47&&(_0x275bb5[_0x56cee1]=_0x155669[_0x56cee1],_0x275bb5[_0x2ff182]=_0x155669[_0x2ff182],_0x275bb5['litOptions']['vertexColo'+'rs']=!(-0x6e*0x1d+-0x25a8+-0x190f*-0x2)),_0x155669[_0x3fddd2]){let _0x307fd3=!(0x15fe+0xc89*-0x1+-0x1*0x975);if(_0x155669[_0x4a4342]===-0x168c+0x1eda+0x1*-0x84e&&!_0x6948c6&&(_0x307fd3=!(0x5*-0x257+-0x1674+0x88a*0x4)),_0x155669[_0x4a4342]===0xd00+-0x1*-0x11de+0x1*-0x1edd&&!_0x3bc382&&(_0x307fd3=!(0xd*0x53+0x55c+-0xe*0xaf)),_0x307fd3){const _0x17ec59=_0x155669[_0x3fddd2]['id'];let _0x4c16e9=_0x5a2b64[_0x17ec59];_0x4c16e9===void(-0x16ae+-0x1*0x11ca+0x40c*0xa)&&(_0x5a2b64[_0x17ec59]=_0x35f358,_0x4c16e9=_0x35f358),_0x275bb5[_0x3fddd2]=!!_0x155669[_0x3fddd2],_0x275bb5[_0x10d214]=_0x4c16e9,_0x275bb5[_0x2f9be3]=this['_getMapTra'+'nsformID'](_0x155669['getUniform'](_0x2f9be3),_0x155669[_0x4a4342]),_0x275bb5[_0x570b42]=_0x155669[_0x570b42],_0x275bb5[_0x4a4342]=_0x155669[_0x4a4342];}}}}['_updateMin'+'Options'](_0x518350,_0x41879d,_0x54d3af){const _0x3a25e9=_0x54d3af===il;_0x518350['litOptions']['opacitySha'+'dowDither']=_0x3a25e9?_0x41879d['opacityDit'+'her']:_0x41879d['opacitySha'+'dowDither'],_0x518350['litOptions']['linearDept'+'h']=_0x3a25e9,_0x518350['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x232d2a,_0x5162c5){var _0x5b052b,_0x257b5a,_0x1c6b27,_0x615d02;const _0x57f92d=!!(_0x5162c5['useMetalne'+'ss']||_0x5162c5['specularMa'+'p']||_0x5162c5['sphereMap']||_0x5162c5['cubeMap']||KC(_0x5162c5['specular'])||_0x5162c5['specularit'+'yFactor']>0x1e4c+-0x1*0xbaf+-0x129d&&_0x5162c5['useMetalne'+'ss']||_0x5162c5['enableGGXS'+'pecular']||_0x5162c5['clearCoat']>-0xb*-0x2a6+-0x261d+0x1*0x8fb),_0x4f37e6=!_0x5162c5['useMetalne'+'ss']||_0x5162c5['useMetalne'+'ssSpecular'+'Color'],_0x21c4ca=_0x57f92d&&(_0x5162c5['specularTi'+'nt']||!_0x5162c5['specularMa'+'p']&&!_0x5162c5['specularVe'+'rtexColor'])&&YC(_0x5162c5['specular']),_0x1a2ee0=_0x57f92d&&_0x5162c5['useMetalne'+'ssSpecular'+'Color']&&(_0x5162c5['specularit'+'yFactorTin'+'t']||_0x5162c5['specularit'+'yFactor']<0x1*0x1291+0xc08+0x1e98*-0x1&&!_0x5162c5['specularit'+'yFactorMap']),_0x2bea14=_0x5162c5['normalMap']?_0x5162c5['normalMap']['format']===$o||_0x5162c5['normalMap']['type']===op:!(-0x2fa*-0xa+0x151*-0x9+-0x11ea*0x1),_0x52964b=(_0x407f38,_0x144fe2)=>Math['abs'](_0x407f38-_0x144fe2)<-0x1c88+-0x1*-0x1b05+0x183+0.0001;_0x232d2a['specularTi'+'nt']=_0x21c4ca?-0x1bbd+-0x5*-0x4dd+0x36e:-0x1d*0x26+0x3*0x69d+-0xf89,_0x232d2a['specularit'+'yFactorTin'+'t']=_0x1a2ee0?0x12b*0xc+-0x1*-0x1025+-0x1e28:0x1e28+0x3*0x526+-0x2d9a*0x1,_0x232d2a['metalnessT'+'int']=_0x5162c5['useMetalne'+'ss']&&_0x5162c5['metalness']<-0x1*-0x541+-0x1*0x86+0x5*-0xf2?-0x1645+-0x1cbc+-0x2*-0x1981:0x349*-0x1+-0x1ccf*0x1+0x4f*0x68,_0x232d2a['glossTint']=-0x229c+0x957+0x2*0xca3,_0x232d2a['diffuseEnc'+'oding']=(_0x5b052b=_0x5162c5['diffuseMap'])==null?void(0x5*-0x361+0xf5*-0x5+0x15ae*0x1):_0x5b052b['encoding'],_0x232d2a['diffuseDet'+'ailEncodin'+'g']=(_0x257b5a=_0x5162c5['diffuseDet'+'ailMap'])==null?void(-0x1a9c+0x187c*-0x1+0x3318):_0x257b5a['encoding'],_0x232d2a['emissiveEn'+'coding']=(_0x1c6b27=_0x5162c5['emissiveMa'+'p'])==null?void(0x5*-0x3d1+0x2d+0x12e8):_0x1c6b27['encoding'],_0x232d2a['lightMapEn'+'coding']=(_0x615d02=_0x5162c5['lightMap'])==null?void(-0x2062+-0x1bc6+0x3c28):_0x615d02['encoding'],_0x232d2a['packedNorm'+'al']=_0x2bea14,_0x232d2a['refraction'+'Tint']=_0x52964b(_0x5162c5['refraction'],-0x1*-0x1aba+0x10*-0x125+0x869*-0x1)?0x3*-0x79c+0x7*0x4a0+-0x98c:0x1fbd+0xd1*0x2+-0x2*0x10af,_0x232d2a['refraction'+'IndexTint']=_0x52964b(_0x5162c5['refraction'+'Index'],(0xb21+-0x135f*-0x1+0x1*-0x1e7f)/(-0x1*-0x229+-0x108f+0x3*0x4cd+0.5))?0x19b5+-0x80c+-0x11a9:-0x1f1b+0x1e3*0x13+-0x4bd,_0x232d2a['thicknessT'+'int']=_0x5162c5['useDynamic'+'Refraction']&&_0x5162c5['thickness']!==-0xc40+0x11d8+-0x597?-0x5*0x3b9+-0x11*0x18e+0x3*0xf04:-0x1501*-0x1+-0x1da4+0xc9*0xb,_0x232d2a['specularEn'+'coding']=_0x5162c5['specularEn'+'coding']||'linear',_0x232d2a['sheenEncod'+'ing']=_0x5162c5['sheenEncod'+'ing']||'linear',_0x232d2a['aoMapUv']=_0x5162c5['aoUvSet'],_0x232d2a['aoDetail']=!!_0x5162c5['aoMap'],_0x232d2a['diffuseDet'+'ail']=!!_0x5162c5['diffuseMap'],_0x232d2a['normalDeta'+'il']=!!_0x5162c5['normalMap'],_0x232d2a['diffuseDet'+'ailMode']=_0x5162c5['diffuseDet'+'ailMode'],_0x232d2a['aoDetailMo'+'de']=_0x5162c5['aoDetailMo'+'de'],_0x232d2a['clearCoatT'+'int']=_0x52964b(_0x5162c5['clearCoat'],0x1aba+0x1*-0x61b+-0x149e)?-0xf*-0x1ab+-0xd26+-0xbdf:0x19c5+-0x1*-0x1a51+-0xc7*0x43,_0x232d2a['clearCoatG'+'loss']=!!_0x5162c5['clearCoatG'+'loss'],_0x232d2a['clearCoatG'+'lossTint']=_0x5162c5['clearCoatG'+'loss']!==0x3*0x4e5+-0x3*-0x47d+-0x28f*0xb?0xced*-0x3+0x10*0x1fa+-0x728*-0x1:0x24a7+-0x21d1*0x1+-0x2*0x16b,_0x232d2a['iorTint']=_0x52964b(_0x5162c5['refraction'+'Index'],(-0x1a*0x68+-0x3*0x161+-0x1*-0xeb4)/(0x1d7+0x2*0x1123+-0x4*0x907+0.5))?-0x1eee+0x1253*0x1+0x1*0xc9b:0x54b+-0x1732*-0x1+-0x1c7c,_0x232d2a['iridescenc'+'eTint']=_0x5162c5['iridescenc'+'e']!==0x19fa+-0x12a*-0x10+-0x2c99?-0x118c*-0x1+0x3d*0x95+-0x350c:-0x1*0x15dd+-0x4e1*-0x1+0x10fc,_0x232d2a['glossInver'+'t']=_0x5162c5['glossInver'+'t'],_0x232d2a['sheenGloss'+'Invert']=_0x5162c5['sheenGloss'+'Invert'],_0x232d2a['clearCoatG'+'lossInvert']=_0x5162c5['clearCoatG'+'lossInvert'],_0x232d2a['useSpecula'+'rColor']=_0x4f37e6,_0x232d2a['litOptions']['separateAm'+'bient']=!(0x2650+-0x236a+-0x2e5),_0x232d2a['litOptions']['customFrag'+'mentShader']=_0x5162c5['customFrag'+'mentShader'],_0x232d2a['litOptions']['pixelSnap']=_0x5162c5['pixelSnap'],_0x232d2a['litOptions']['ambientSH']=!!_0x5162c5['ambientSH'],_0x232d2a['litOptions']['twoSidedLi'+'ghting']=_0x5162c5['twoSidedLi'+'ghting'],_0x232d2a['litOptions']['occludeSpe'+'cular']=_0x5162c5['occludeSpe'+'cular'],_0x232d2a['litOptions']['occludeSpe'+'cularFloat']=_0x5162c5['occludeSpe'+'cularInten'+'sity']!==-0xf*-0x1ca+0x5*-0xb5+-0x174c,_0x232d2a['litOptions']['useMsdf']=!!_0x5162c5['msdfMap'],_0x232d2a['litOptions']['msdfTextAt'+'tribute']=!!_0x5162c5['msdfTextAt'+'tribute'],_0x232d2a['litOptions']['alphaToCov'+'erage']=_0x5162c5['alphaToCov'+'erage'],_0x232d2a['litOptions']['opacityFad'+'esSpecular']=_0x5162c5['opacityFad'+'esSpecular'],_0x232d2a['litOptions']['opacityDit'+'her']=_0x5162c5['opacityDit'+'her'],_0x232d2a['litOptions']['cubeMapPro'+'jection']=_0x5162c5['cubeMapPro'+'jection'],_0x232d2a['litOptions']['occludeDir'+'ect']=_0x5162c5['occludeDir'+'ect'],_0x232d2a['litOptions']['useSpecula'+'r']=_0x57f92d,_0x232d2a['litOptions']['useSpecula'+'rityFactor']=(_0x1a2ee0||!!_0x5162c5['specularit'+'yFactorMap'])&&_0x5162c5['useMetalne'+'ssSpecular'+'Color'],_0x232d2a['litOptions']['enableGGXS'+'pecular']=_0x5162c5['enableGGXS'+'pecular'],_0x232d2a['litOptions']['fresnelMod'+'el']=_0x5162c5['fresnelMod'+'el'],_0x232d2a['litOptions']['useRefract'+'ion']=(_0x5162c5['refraction']||!!_0x5162c5['refraction'+'Map'])&&(_0x5162c5['useDynamic'+'Refraction']||!!_0x232d2a['litOptions']['reflection'+'Source']),_0x232d2a['litOptions']['useClearCo'+'at']=!!_0x5162c5['clearCoat'],_0x232d2a['litOptions']['useSheen']=_0x5162c5['useSheen'],_0x232d2a['litOptions']['useIridesc'+'ence']=_0x5162c5['useIridesc'+'ence']&&_0x5162c5['iridescenc'+'e']!==0xe51+0x1cc2+-0x2b13,_0x232d2a['litOptions']['useMetalne'+'ss']=_0x5162c5['useMetalne'+'ss'],_0x232d2a['litOptions']['useDynamic'+'Refraction']=_0x5162c5['useDynamic'+'Refraction'],_0x232d2a['litOptions']['dispersion']=_0x5162c5['dispersion']>0x1f0+0x1*0xcb3+0x4e1*-0x3;}['_updateEnv'+'Options'](_0x3fe58e,_0x6f0010,_0x14b0b3,_0x31538e){_0x3fe58e['litOptions']['fog']=_0x6f0010['useFog']?_0x31538e['fog']:Fa,_0x3fe58e['litOptions']['gamma']=_0x31538e['shaderOutp'+'utGamma'],_0x3fe58e['litOptions']['toneMap']=_0x6f0010['useTonemap']?_0x31538e['toneMappin'+'g']:f0;let _0x10ac6a=!(0x4f4+-0x1ef3+0x34*0x80);if(_0x6f0010['envAtlas']&&_0x6f0010['cubeMap']?(_0x3fe58e['litOptions']['reflection'+'Source']='envAtlasHQ',_0x3fe58e['litOptions']['reflection'+'Encoding']=_0x6f0010['envAtlas']['encoding'],_0x3fe58e['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x6f0010['cubeMap']['encoding']):_0x6f0010['envAtlas']?(_0x3fe58e['litOptions']['reflection'+'Source']='envAtlas',_0x3fe58e['litOptions']['reflection'+'Encoding']=_0x6f0010['envAtlas']['encoding']):_0x6f0010['cubeMap']?(_0x3fe58e['litOptions']['reflection'+'Source']='cubeMap',_0x3fe58e['litOptions']['reflection'+'Encoding']=_0x6f0010['cubeMap']['encoding']):_0x6f0010['sphereMap']?(_0x3fe58e['litOptions']['reflection'+'Source']='sphereMap',_0x3fe58e['litOptions']['reflection'+'Encoding']=_0x6f0010['sphereMap']['encoding']):_0x6f0010['useSkybox']&&_0x14b0b3['envAtlas']&&_0x14b0b3['skybox']?(_0x3fe58e['litOptions']['reflection'+'Source']='envAtlasHQ',_0x3fe58e['litOptions']['reflection'+'Encoding']=_0x14b0b3['envAtlas']['encoding'],_0x3fe58e['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x14b0b3['skybox']['encoding'],_0x10ac6a=!(0xc3b+0x25b1+-0x5a*0x8e)):_0x6f0010['useSkybox']&&_0x14b0b3['envAtlas']?(_0x3fe58e['litOptions']['reflection'+'Source']='envAtlas',_0x3fe58e['litOptions']['reflection'+'Encoding']=_0x14b0b3['envAtlas']['encoding'],_0x10ac6a=!(-0x1105+-0xc00*-0x1+0x101*0x5)):_0x6f0010['useSkybox']&&_0x14b0b3['skybox']?(_0x3fe58e['litOptions']['reflection'+'Source']='cubeMap',_0x3fe58e['litOptions']['reflection'+'Encoding']=_0x14b0b3['skybox']['encoding'],_0x10ac6a=!(-0x851+-0x24b5+0x2d06)):(_0x3fe58e['litOptions']['reflection'+'Source']=null,_0x3fe58e['litOptions']['reflection'+'Encoding']=null),_0x6f0010['ambientSH'])_0x3fe58e['litOptions']['ambientSou'+'rce']='ambientSH',_0x3fe58e['litOptions']['ambientEnc'+'oding']=null;else{const _0x3a41b8=_0x6f0010['envAtlas']||(_0x6f0010['useSkybox']&&_0x14b0b3['envAtlas']?_0x14b0b3['envAtlas']:null);_0x3a41b8&&!_0x6f0010['sphereMap']?(_0x3fe58e['litOptions']['ambientSou'+'rce']='envAtlas',_0x3fe58e['litOptions']['ambientEnc'+'oding']=_0x3a41b8['encoding']):(_0x3fe58e['litOptions']['ambientSou'+'rce']='constant',_0x3fe58e['litOptions']['ambientEnc'+'oding']=null);}_0x3fe58e['litOptions']['skyboxInte'+'nsity']=_0x10ac6a,_0x3fe58e['litOptions']['useCubeMap'+'Rotation']=_0x10ac6a&&_0x14b0b3['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x3bc5cf,_0x377980,_0x448155,_0x1e1770,_0x1c9640){if(_0x3bc5cf['lightMap']=!(0xde5*-0x1+0xa7c+0x36a),_0x3bc5cf['lightMapCh'+'annel']='',_0x3bc5cf['lightMapUv']=0x46b+0x1939+0x10f*-0x1c,_0x3bc5cf['lightMapTr'+'ansform']=0x50*0x33+-0x1*-0x14dd+0x24cd*-0x1,_0x3bc5cf['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1*-0x2135+-0x86f*0x2+-0x1056),_0x3bc5cf['dirLightMa'+'p']=!(0x7ea+0x1*0x305+-0xaee),_0x1e1770&&(_0x3bc5cf['litOptions']['noShadow']=(_0x1e1770&Ep)!==-0xf*-0x22e+-0x25bb*-0x1+-0x466d*0x1,(_0x1e1770&Fu)!==0x5b*0x2f+0x27*0x75+-0x2288*0x1&&(_0x3bc5cf['lightMapEn'+'coding']=_0x377980['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x3bc5cf['lightMap']=!(0x197+0x70b+-0xdd*0xa),_0x3bc5cf['lightMapCh'+'annel']='rgb',_0x3bc5cf['lightMapUv']=0x4c+-0x14*-0x1a3+-0x2107,_0x3bc5cf['lightMapTr'+'ansform']=0x16bb+-0x5f+-0x1dd*0xc,_0x3bc5cf['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x448155['lightMap'],(_0x1e1770&y0)!==-0x2*0x9c5+0xaed*0x1+-0x93*-0xf&&(_0x3bc5cf['dirLightMa'+'p']=!(0x4*0x147+-0x199+-0x383)),(_0x1e1770&x0)!==-0x1ca5*-0x1+0x1*-0x2285+0x5e0&&(_0x3bc5cf['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x310+-0x223+-0xec)))),_0x448155['useLightin'+'g']){const _0x3a411c=[],_0x1b6368=_0x1e1770?_0x1e1770>>-0x2415+-0xf43*0x1+0x3368:hs;_0x3bc5cf['litOptions']['lightMaskD'+'ynamic']=!!(_0x1b6368&hs),_0x1c9640&&(As['collectLig'+'hts'](oe,_0x1c9640[oe],_0x3a411c,_0x1b6368),As['collectLig'+'hts'](Pe,_0x1c9640[Pe],_0x3a411c,_0x1b6368),As['collectLig'+'hts'](Re,_0x1c9640[Re],_0x3a411c,_0x1b6368)),_0x3bc5cf['litOptions']['lights']=_0x3a411c;}else _0x3bc5cf['litOptions']['lights']=[];_0x3bc5cf['litOptions']['lights']['length']===-0x1d50+-0x880+0x25d0&&(_0x3bc5cf['litOptions']['noShadow']=!(-0x128f+0x63b*-0x5+0x31b6));}['_getMapTra'+'nsformID'](_0x928d5,_0x2583e1){if(!_0x928d5)return 0x13*-0x137+0x646+-0x14b*-0xd;let _0x585e43=this['_mapXForms'][_0x2583e1];_0x585e43||(_0x585e43=[],this['_mapXForms'][_0x2583e1]=_0x585e43);for(let _0x51a250=0x12df*-0x2+0x26*0x5c+-0x1*-0x1816;_0x51a250<_0x585e43['length'];_0x51a250++)if(c_(_0x585e43[_0x51a250][0xd3c+0x13f2*0x1+-0x1*0x212e]['value'],_0x928d5[-0x86*-0x11+0x197b+-0x2261]['value'])&&c_(_0x585e43[_0x51a250][0x781+0x1857+-0x1*0x1fd7]['value'],_0x928d5[0x8*-0x197+-0x1d7*-0xd+-0x599*0x2]['value']))return _0x51a250+(0x4d*0x53+0x2610+-0x3f06);return _0x585e43['push'](_0x928d5);}}function qe(_0x41286d,_0x34bea2=!(0x1742+0x7d*-0x11+-0xef5*0x1),_0x9911c5=!(0x121c+-0x1294+0x78)){const _0x147427={};return _0x147427[_0x41286d+'Map']='texture',_0x147427[_0x41286d+'MapTiling']='vec2',_0x147427[_0x41286d+'MapOffset']='vec2',_0x147427[_0x41286d+('MapRotatio'+'n')]='number',_0x147427[_0x41286d+'MapUv']='number',_0x34bea2&&(_0x147427[_0x41286d+'MapChannel']='string',_0x9911c5&&(_0x147427[_0x41286d+('VertexColo'+'r')]='boolean',_0x147427[_0x41286d+('VertexColo'+'rChannel')]='string')),_0x147427;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(-0x11d0+-0xe7a+0x204a),!(-0x6d7*-0x1+0x1a11+-0x20e7)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(-0x1f99*0x1+-0x1*0x15e3+0xc*0x475),!(-0x9c0+0x585+0x43c)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0xd7b+0x23c5+-0xa3*0x23)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x3*-0x967+-0x1ec0+0x3af6)),'bumpiness':'number',...qe('normalDeta'+'il',!(-0x1286*-0x2+-0x1*-0xb63+-0x1837*0x2)),'normalDetailMapBumpiness':'number',...qe('height',!(-0x20a6+-0x90b*-0x1+0x1*0x179b),!(-0x7f*0x19+0x20c3*0x1+-0x145b*0x1)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let $a=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x412c47=>{this['_'+_0x412c47]=uh[_0x412c47]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x7df8e8){return super['copy'](_0x7df8e8),Object['keys'](uh)['forEach'](_0xc23826=>{this[_0xc23826]=_0x7df8e8[_0xc23826];}),this['userAttrib'+'utes']=new Map(_0x7df8e8['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x358765,_0x2c030c){this['userAttrib'+'utes']['set'](_0x2c030c,_0x358765);}['_setParame'+'ter'](_0x5432ce,_0x3c19fa){$a['add'](_0x5432ce),this['setParamet'+'er'](_0x5432ce,_0x3c19fa);}['_setParame'+'ters'](_0x410783){_0x410783['forEach'](_0x570c15=>{this['_setParame'+'ter'](_0x570c15['name'],_0x570c15['value']);});}['_processPa'+'rameters'](_0x3ce8cf){const _0x3fe1a3=this[_0x3ce8cf];_0x3fe1a3['forEach'](_0x8c61a3=>{$a['has'](_0x8c61a3)||delete this['parameters'][_0x8c61a3];}),this[_0x3ce8cf]=$a,$a=_0x3fe1a3,$a['clear']();}['_updateMap'](_0x5ecab5){const _0xb2cfc7=_0x5ecab5+'Map',_0x1fbef8=this[_0xb2cfc7];if(_0x1fbef8){this['_setParame'+'ter']('texture_'+_0xb2cfc7,_0x1fbef8);const _0x4719b6=_0xb2cfc7+'Transform',_0x4b593b=this['getUniform'](_0x4719b6);_0x4b593b&&this['_setParame'+'ters'](_0x4b593b);}}['_allocUnif'+'orm'](_0x54aef4,_0x201784){let _0x5189f3=this['_uniformCa'+'che'][_0x54aef4];return _0x5189f3||(_0x5189f3=_0x201784(),this['_uniformCa'+'che'][_0x54aef4]=_0x5189f3),_0x5189f3;}['getUniform'](_0x1b6792,_0x5b8f10,_0x3c205c){return P0[_0x1b6792](this,_0x5b8f10,_0x3c205c);}['updateUnif'+'orms'](_0x3eec22,_0x4fb721){const _0x4344e4=_0x1c5bd9=>this['getUniform'](_0x1c5bd9,_0x3eec22,_0x4fb721);this['_setParame'+'ter']('material_a'+'mbient',_0x4344e4('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x4344e4('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x1b9c+-0x1826+0x33c3)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x4344e4('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x4344e4('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x4344e4('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>0xd31+0x3ff+-0x1130&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x1c9f+0x1ee6+-0x247&&this['emissive']['g']===0xa*-0x376+0x7*0x1f0+0xc*0x1c1&&this['emissive']['b']===0x2578+-0x56*-0x51+-0x40ae&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x4344e4('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x11*-0x133+0x8e+-0x1*0x14f1&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x1327+-0x7e9+0x8*0x362&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x4344e4('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x23a7+-0x14a7*0x1+0x384e?-0x40d*0x9+-0x52f+0x14*0x215:(-0x3*0xb3c+0x1b74+0x641)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x19e6+0x26cb+-0x40b0)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x4344e4('cubeMapPro'+'jectionBox'));for(const _0x125e6b in fa)this['_updateMap'](_0x125e6b);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x4344e4('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x3eec22,_0x4fb721);}['updateEnvU'+'niforms'](_0x411c9a,_0x21d67f){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x21d67f['envAtlas']&&_0x21d67f['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x21d67f['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x21d67f['skybox'])):_0x21d67f['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x21d67f['envAtlas']):_0x21d67f['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x21d67f['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x32969d){const {device:_0x4d5290,scene:_0x10be58,pass:_0x1aff82,objDefs:_0x3dc5e5,sortedLights:_0x2089f0,cameraShaderParams:_0x2aaf18}=_0x32969d;this['updateEnvU'+'niforms'](_0x4d5290,_0x10be58);const _0x31ccd1=Ks['get'](_0x4d5290)['getByIndex'](_0x1aff82),_0x178325=_0x1aff82===rl||_0x1aff82===Oa||_0x1aff82===il||_0x31ccd1['isShadow'];let _0x120913=_0x178325?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x120913['defines']=Dp(this,_0x32969d),_0x178325?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x120913,_0x10be58,this,_0x3dc5e5,_0x1aff82,_0x2089f0):this['shaderOptB'+'uilder']['updateRef'](_0x120913,_0x10be58,_0x2aaf18,this,_0x3dc5e5,_0x1aff82,_0x2089f0),_0x120913['defines']['set']('TONEMAP',p0[_0x120913['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x120913=this['onUpdateSh'+'ader'](_0x120913));const _0x286aea=new Yc(_0x32969d['viewUnifor'+'mFormat'],_0x32969d['viewBindGr'+'oupFormat'],_0x32969d['vertexForm'+'at']),_0x2de7e7=ka(_0x4d5290);_0x2de7e7['register']('standard',Ed);const _0x1df391=_0x2de7e7['getProgram']('standard',_0x120913,_0x286aea,this['userId']);return this['_dirtyShad'+'er']=!(-0x1*-0x10de+-0x135f+0x282),_0x1df391;}['destroy'](){for(const _0x40e286 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x40e286]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0xaacab6,_0x5205cf)=>{P0[_0xaacab6]=_0x5205cf;},Op=(_0x702177,_0x43a724,_0x294af8,_0x514977)=>{Object['defineProp'+'erty'](cs['prototype'],_0x702177,{'get':_0x514977||function(){return this['_'+_0x702177];},'set':_0x294af8}),uh[_0x702177]={'value':_0x43a724};},JC=_0x5b349f=>{const _0x319d0e='_'+_0x5b349f['name'],_0x2997c2=_0x5b349f['dirtyShade'+'rFunc']||(()=>!(-0x1d7e+-0x16*-0x13a+0x141*0x2)),_0x2cd090=function(_0x33bfbd){const _0x13670b=this[_0x319d0e];_0x13670b!==_0x33bfbd&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x2997c2(_0x13670b,_0x33bfbd),this[_0x319d0e]=_0x33bfbd);};Op(_0x5b349f['name'],()=>_0x5b349f['defaultVal'+'ue'],_0x2cd090,_0x5b349f['getterFunc']);},eM=_0x551e88=>{const _0x4d7b7f='_'+_0x551e88['name'],_0x25b275=_0x551e88['dirtyShade'+'rFunc']||(()=>!(0x23ad+-0x1ae3+0x2ee*-0x3)),_0x3839ed=function(_0x37ebad){const _0xb3d25f=this[_0x4d7b7f];_0xb3d25f['equals'](_0x37ebad)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x25b275(_0xb3d25f,_0x37ebad),this[_0x4d7b7f]=_0xb3d25f['copy'](_0x37ebad));};Op(_0x551e88['name'],()=>_0x551e88['defaultVal'+'ue']['clone'](),_0x3839ed,_0x551e88['getterFunc']);},ts=_0x2dcf1a=>_0x2dcf1a['defaultVal'+'ue']&&_0x2dcf1a['defaultVal'+'ue']['clone']?eM(_0x2dcf1a):JC(_0x2dcf1a);function Ge(_0x2e8141,_0x304539='rgb',_0x5cf4db=!(0x1c86+0x1*0x17a5+-0x1*0x342b),_0x465ca2=-0xa*-0x3e3+0x1*0xd4c+-0x342a){fa[_0x2e8141]=_0x304539['length']||-(0x1d81+0x35*-0x56+-0x1f3*0x6),ts({'name':_0x2e8141+'Map','defaultValue':null,'dirtyShaderFunc':(_0x360a4d,_0x3b1408)=>!!_0x360a4d!=!!_0x3b1408||_0x360a4d&&(_0x360a4d['type']!==_0x3b1408['type']||_0x360a4d['format']!==_0x3b1408['format'])}),ts({'name':_0x2e8141+'MapTiling','defaultValue':new W(0xf8e+-0xbb9+-0x3d4,0xbf5+0x44d+0x56b*-0x3)}),ts({'name':_0x2e8141+'MapOffset','defaultValue':new W(0x1*-0x24bb+-0x13a5+-0x10*-0x386,0x2518+0xf35+-0x344d*0x1)}),ts({'name':_0x2e8141+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x2e8141+'MapUv','defaultValue':_0x465ca2}),_0x304539&&(ts({'name':_0x2e8141+'MapChannel','defaultValue':_0x304539}),_0x5cf4db&&(ts({'name':_0x2e8141+('VertexColo'+'r'),'defaultValue':!(0x6c+0x2650+0x1*-0x26bb)}),ts({'name':_0x2e8141+('VertexColo'+'rChannel'),'defaultValue':_0x304539})));const _0x1f88c1=_0x2e8141+'MapTiling',_0x5b1c1b=_0x2e8141+'MapOffset',_0x43503e=_0x2e8141+('MapRotatio'+'n'),_0x5422eb=_0x2e8141+('MapTransfo'+'rm');Zc(_0x5422eb,(_0x42b90a,_0x392fa6,_0x3d2d4b)=>{const _0x245e9b=_0x42b90a[_0x1f88c1],_0x2f16b3=_0x42b90a[_0x5b1c1b],_0x99723b=_0x42b90a[_0x43503e];if(_0x245e9b['x']===0xbe*0xd+-0x737+-0x26e&&_0x245e9b['y']===-0xd07+0x7c*-0x2+0xe00&&_0x2f16b3['x']===0x1892+-0x15b3+-0x7*0x69&&_0x2f16b3['y']===0x23*0xda+0x1fce+-0x3d9c&&_0x99723b===-0x3a0*-0x1+-0x7da+0x43a)return null;const _0x268b3f=_0x42b90a['_allocUnif'+'orm'](_0x5422eb,()=>[{'name':'texture_'+_0x5422eb+'0','value':new Float32Array(-0x11fe*-0x1+-0x86b*-0x3+0x4*-0xacf)},{'name':'texture_'+_0x5422eb+'1','value':new Float32Array(0x553*-0x4+-0x94c+0x1e9b)}]),_0x10195b=Math['cos'](_0x99723b*N['DEG_TO_RAD']),_0x289b0b=Math['sin'](_0x99723b*N['DEG_TO_RAD']),_0x326819=_0x268b3f[-0x1*0x6b1+0x103*-0x8+0xec9*0x1]['value'];_0x326819[0x27*0x51+-0x1*0xece+0x277]=_0x10195b*_0x245e9b['x'],_0x326819[-0x1bb*-0x5+0x16fe+0xc*-0x2a3]=-_0x289b0b*_0x245e9b['y'],_0x326819[0xf57+0x1cbe+-0x2c13]=_0x2f16b3['x'];const _0x492851=_0x268b3f[-0xae7+-0x18ce+0x2*0x11db]['value'];return _0x492851[0xa89+-0xdf*-0x18+-0x1f71]=_0x289b0b*_0x245e9b['x'],_0x492851[-0x135b+-0x2570*-0x1+-0x1214]=_0x10195b*_0x245e9b['y'],_0x492851[-0x1cd9+-0x25a9+0x4284]=0xb25+-0x2605+0x3d7*0x7-_0x245e9b['y']-_0x2f16b3['y'],_0x268b3f;});}function Cn(_0x4305db,_0x3b4b6b){ts({'name':_0x4305db,'defaultValue':_0x3b4b6b,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x4e9*-0x5+0x2*0xf5f+-0x631),this['_'+_0x4305db];}}),Zc(_0x4305db,(_0x3db4ad,_0x3b4e48,_0x49c871)=>{const _0x29ab4a=_0x3db4ad['_allocUnif'+'orm'](_0x4305db,()=>new Float32Array(0x12b5+0x161*0x3+-0x1*0x16d5)),_0x55532e=_0x3db4ad[_0x4305db];return Dl['linear'](_0x55532e),_0x29ab4a[0x266f+-0x3*-0x3cb+-0x31d0]=Dl['r'],_0x29ab4a[-0x255+-0x11cd+0x1423]=Dl['g'],_0x29ab4a[-0x26a9+-0x4*-0x8d8+-0x1*-0x34b]=Dl['b'],_0x29ab4a;});}function Ce(_0x23da96,_0xe69aeb,_0x5c16b8){ts({'name':_0x23da96,'defaultValue':_0xe69aeb,'dirtyShaderFunc':(_0x46401a,_0xa52b7b)=>(_0x46401a===0x1*-0x1292+-0x5d7*0x1+-0x823*-0x3||_0x46401a===0x13*0x24+0x1*-0x979+0x6ce*0x1)!=(_0xa52b7b===0xbfb*-0x2+-0x21e5+-0x39db*-0x1||_0xa52b7b===0x263a+-0x5d2+-0x3*0xacd)}),Zc(_0x23da96,_0x5c16b8);}function qa(_0x553ffc,_0x52ad30){ts({'name':_0x553ffc,'defaultValue':null,'dirtyShaderFunc':(_0x1390a2,_0x4c345f)=>!!_0x1390a2==!!_0x4c345f}),Zc(_0x553ffc,_0x52ad30);}function we(_0x4b9eaa,_0x13fbe1){ts({'name':_0x4b9eaa,'defaultValue':_0x13fbe1});}function tM(){Cn('ambient',new Y(0x123*-0x13+-0xa1*0x1f+0x2919,-0x24ba+-0x2075+0x4530,0x98f*0x1+-0x101a+-0x2*-0x346)),Cn('diffuse',new Y(-0x1894+0x13*0x106+-0x1*-0x523,0x2a5*-0x2+-0x58c*0x1+0xad7,0x1035+-0x26c5+0x1691)),Cn('specular',new Y(0x99d+-0x8*-0x50+-0xc1d,0x1fc5*-0x1+-0x6fb*-0x3+0xad4,0x170*0x10+0x179+0x1*-0x1879)),Cn('emissive',new Y(0x1d64+-0x841*0x4+0x4*0xe8,-0x837+-0x5*-0x5e1+0x2*-0xa97,-0x40*-0x1d+0x21d4+-0x2914*0x1)),Cn('sheen',new Y(0x1*-0xef8+-0xe*0x28d+0xa23*0x5,0x5d*0x18+-0x15c7*0x1+0xd10,0x1101+-0x21*0x125+0x14c5)),Cn('attenuatio'+'n',new Y(0x2*0x81+0x2422+0x3*-0xc61,0x31a*-0x2+-0xe*0x19+0x793,-0x248c+-0xaab+-0x2f38*-0x1)),Ce('emissiveIn'+'tensity',-0xfbd+-0x3*-0xb07+-0x1157*0x1),Ce('specularit'+'yFactor',0x11a*0x2+0x3a6*0x8+0x1*-0x1f63),Ce('sheenGloss',-0x25f4+-0x10d9+0x36cd),Ce('gloss',0x51*-0x13+-0xb2b+0x112e+0.25),Ce('aoIntensit'+'y',-0x10e5+0x1e0b+0x5*-0x2a1),Ce('heightMapF'+'actor',-0xee0+0x12a7+-0x3c6,(_0x2ee957,_0x33b9ec,_0x85f77c)=>_0x2ee957['heightMapF'+'actor']*(0x25b5+0x1bb*-0x1+-0x23fa+0.025)),Ce('opacity',0xe6b+0x326*-0x7+0x1*0x7a0),Ce('alphaFade',0x472+0x29*-0xf+-0x20a),Ce('alphaTest',-0x12da+0x37f*0x6+-0x220),Ce('bumpiness',-0x952+0x26db*-0x1+0x302e),Ce('normalDeta'+'ilMapBumpi'+'ness',0x1f8b+0xaf3+-0x2a7d),Ce('reflectivi'+'ty',0x1fea+0x1f0f+0xa*-0x64c),Ce('occludeSpe'+'cularInten'+'sity',0x1ba3+0xe09*-0x1+-0xd99),Ce('refraction',0x5b*-0x33+0x13b*-0x11+-0x270c*-0x1),Ce('refraction'+'Index',(-0x1db1+-0xd39*-0x2+0xd0*0x4)/(-0x21b5*0x1+-0x1f9c+-0x1*-0x4152+0.5)),Ce('dispersion',0x95*0x2f+-0x11*-0x1+-0x14*0x15f),Ce('thickness',-0x2*-0xdf4+0x216*0xc+0x34f*-0x10),Ce('attenuatio'+'nDistance',-0x1*0xbed+0x100f+-0x2*0x211),Ce('metalness',-0x20fe+-0x72+0x2171),Ce('anisotropy',-0x1*-0x13+-0x7*0xb9+-0x74*-0xb),Ce('clearCoat',0x1ecb*0x1+0x182d+0x2*-0x1b7c),Ce('clearCoatG'+'loss',-0x8*-0x1c6+0x2208+-0x3037),Ce('clearCoatB'+'umpiness',0x1f6c+0x741*-0x1+-0x182a),Ce('aoUvSet',-0x1*0x8a4+0x58f*0x7+-0x1e45,null),Ce('iridescenc'+'e',0x1f9f+-0x1*0x9c+0x1f03*-0x1),Ce('iridescenc'+'eRefractio'+'nIndex',(-0xa*-0x277+0x13bf+-0x2c64)/(0x1*-0x151a+-0x20c8+-0x59*-0x9b+0.5)),Ce('iridescenc'+'eThickness'+'Min',-0xd9c+-0x1c5e+-0x36*-0xc7),Ce('iridescenc'+'eThickness'+'Max',-0x1357*-0x2+-0xbfc+-0x1ab2),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x468b40,_0x1c5ef9,_0x4bd529)=>{const _0x532fa1=_0x468b40['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x68f*-0x5+-0x1*-0x17fb+-0x38c3)},{'name':'envBoxMax','value':new Float32Array(0x151e+0x2*0xd60+-0x2fdb)}]),_0x5d8c20=_0x468b40['cubeMapPro'+'jectionBox']['getMin'](),_0x139e3e=_0x532fa1[0x7*0x11d+-0x4d*0x6+0x5fd*-0x1]['value'];_0x139e3e[-0x2ea+0xb3d+-0x853]=_0x5d8c20['x'],_0x139e3e[0x2116+0x1*0x1625+-0x373a]=_0x5d8c20['y'],_0x139e3e[0x1df*-0x1+0x1ae4+0x1903*-0x1]=_0x5d8c20['z'];const _0x5f3226=_0x468b40['cubeMapPro'+'jectionBox']['getMax'](),_0x3ff3e1=_0x532fa1[0x1048+-0x1f6d+0xf26]['value'];return _0x3ff3e1[0x24c1+0x12c0+-0x3781]=_0x5f3226['x'],_0x3ff3e1[-0x21cf+0x12ee+0x4f6*0x3]=_0x5f3226['y'],_0x3ff3e1[0x1cc3*-0x1+-0x36c+-0x7b*-0x43]=_0x5f3226['z'],_0x532fa1;}),we('specularTi'+'nt',!(0xdd*0x9+-0x163*0x13+0x1295)),we('specularit'+'yFactorTin'+'t',!(-0x23db*-0x1+0x26a9+-0x7*0xaa5)),we('useMetalne'+'ss',!(0x1271*0x1+-0x3c+-0x5*0x3a4)),we('useMetalne'+'ssSpecular'+'Color',!(0x3df+-0x1*0x20e4+0x1d06*0x1)),we('useSheen',!(0x2009+-0x1c31*0x1+-0x3d7)),we('enableGGXS'+'pecular',!(0x1*0x6df+-0x2165+-0x1a87*-0x1)),we('occludeDir'+'ect',!(-0x3*0x89e+-0xaf7*-0x1+0xee4)),we('opacityFad'+'esSpecular',!(0x701*-0x3+0x15d4+-0xb*0x13)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(-0x1*-0x19b9+-0xb*0x2f+-0x17b3*0x1)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0xb14+-0x4*-0x1e0+0x394)),we('useLightin'+'g',!(0xa8a+0x1*-0x2501+0x1a77)),we('useTonemap',!(0x1*-0x1405+-0x2*-0xc0b+-0x411)),we('useSkybox',!(0x3*0x14d+-0xe73*-0x1+-0x57*0x36)),we('forceUv1',!(-0x2*-0x8d3+-0x1920+0x77b)),we('pixelSnap',!(-0x749*-0x3+0x1*-0x1a9e+0x4c4)),we('twoSidedLi'+'ghting',!(-0x823*0x1+-0x1e3e+0x2662)),we('nineSliced'+'Mode',void(-0x29*0xed+-0xb53+-0x14c*-0x26)),we('msdfTextAt'+'tribute',!(0x10ce+0x8f*-0x5+-0xe02)),we('useIridesc'+'ence',!(0x1b1e+0x1*-0x6aa+0x417*-0x5)),we('glossInver'+'t',!(0x1*0x1259+-0x112a+0x1*-0x12e)),we('sheenGloss'+'Invert',!(-0x811+-0x37*0x99+0x28f1)),we('clearCoatG'+'lossInvert',!(-0x62*-0x47+0xfc4+-0x2af1*0x1)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(0x1f7*-0x7+0x1*-0x2609+0x33cb*0x1)),Ge('ao','g'),Ge('light','rgb',!(-0x5f7+-0x1*0x2452+0x5*0x875),0x219c+0x17*0x1a9+0x2*-0x23e5),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(0x1445*0x1+-0x3*-0x36f+-0x1e91)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0x9*0x237+0x2335+0x5*-0xb07)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x564ca5=function(){return this['_prefilter'+'edCubemaps'];},_0x1e884f=function(_0x4d9d43){const _0x37dba8=this['_prefilter'+'edCubemaps'];_0x4d9d43=_0x4d9d43||[];let _0x1c49ba=!(-0x6a+-0x102b*0x1+0x1096),_0x360e58=!(-0x3f1*-0x3+-0x7c3*-0x5+-0x32a2);for(let _0x31d1b4=0x684+-0x4fd+-0x11*0x17;_0x31d1b4<-0x6*0x491+0xad*-0x27+0x35c7;++_0x31d1b4){const _0x36bb1d=_0x4d9d43[_0x31d1b4]||null;_0x37dba8[_0x31d1b4]!==_0x36bb1d&&(_0x37dba8[_0x31d1b4]=_0x36bb1d,_0x1c49ba=!(0x9e9+-0x1*0x136f+0x986)),_0x360e58=_0x360e58&&!!_0x37dba8[_0x31d1b4];}_0x1c49ba&&(_0x360e58?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x37dba8,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x100a+-0x7cd+0x83d*-0x1));},_0x39b5ea=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x39b5ea['slice'](),_0x1e884f,_0x564ca5);}tM();const dt=class dt{static['render'](_0x38892a,_0x10fbb8){const _0x1a2694=_0x10fbb8['device'],_0x5e2412=_0x38892a['cells'],_0x227eb1=_0x38892a['lightsBuff'+'er'],_0x122eb9=_0x227eb1['boundsMin'],_0x2a6bb4=_0x227eb1['boundsDelt'+'a'],_0x4a8a42=_0x122eb9['clone']()['add'](_0x2a6bb4),_0x2d3202=_0x227eb1['boundsDelt'+'a']['clone']()['div'](_0x5e2412),_0x2e230b=dt['gridPositi'+'ons'],_0x3de8a3=dt['gridColors'],_0x14a563=new Y(-0x1499+0x1*0x16cc+-0x233+0.3,-0x1974+-0x138c+0x8*0x5a0+0.3,0x2621+0x2*-0x13+-0x25fb+0.3),_0x4286b7=(_0x2111a0,_0x156052,_0x8efb69,_0x4a3517,_0x55e510,_0x1e1d05,_0x403f28,_0x249c17,_0x32a5d2)=>{for(let _0x2b014c=0x2b4*-0x1+0x201c+-0x1d68;_0x2b014c<=_0x2111a0;_0x2b014c++)for(let _0x1bdb8f=0x416+-0x8ce*-0x3+-0x1e80;_0x1bdb8f<=_0x156052;_0x1bdb8f++){const _0x545f5c=_0x8efb69+_0x2b014c*_0x4a3517,_0x2cf5a9=_0x55e510+_0x1bdb8f*_0x1e1d05;_0x32a5d2===0x1*0x1a8d+0x42d*0x3+-0x2714?_0x2e230b['push'](_0x545f5c,_0x403f28,_0x2cf5a9,_0x545f5c,_0x249c17,_0x2cf5a9):_0x32a5d2===-0x17*0xb3+-0x490*-0x8+-0x146a?_0x2e230b['push'](_0x545f5c,_0x2cf5a9,_0x403f28,_0x545f5c,_0x2cf5a9,_0x249c17):_0x32a5d2===-0x94+-0x1c80+0x2*0xe8b&&_0x2e230b['push'](_0x403f28,_0x545f5c,_0x2cf5a9,_0x249c17,_0x545f5c,_0x2cf5a9);}};if(_0x4286b7(_0x5e2412['x'],_0x5e2412['z'],_0x122eb9['x'],_0x2d3202['x'],_0x122eb9['z'],_0x2d3202['z'],_0x122eb9['y'],_0x4a8a42['y'],0x12ec+0x1*0x11e7+-0x24d3),_0x4286b7(_0x5e2412['x'],_0x5e2412['y'],_0x122eb9['x'],_0x2d3202['x'],_0x122eb9['y'],_0x2d3202['y'],_0x122eb9['z'],_0x4a8a42['z'],0x24d9*-0x1+-0x1a96+0x3f70),_0x4286b7(_0x5e2412['y'],_0x5e2412['z'],_0x122eb9['y'],_0x2d3202['y'],_0x122eb9['z'],_0x2d3202['z'],_0x122eb9['x'],_0x4a8a42['x'],-0x1*0x2401+-0x301+0x2704),_0x2e230b['length']){const _0x6b6f44=_0x2e230b['length']/(-0x3*-0x513+0x1*0x1d6d+0x3*-0xee1);if(_0x6b6f44!==_0x3de8a3['length']/(-0x27+-0x1e33+0x1e5e)){_0x3de8a3['length']=0x1*-0x85d+0xd8b*0x2+-0x12b9;for(let _0x19d9b7=-0xbc4+-0xbb0+0x1774;_0x19d9b7<_0x6b6f44;_0x19d9b7++)_0x3de8a3['push'](_0x14a563['r'],_0x14a563['g'],_0x14a563['b'],_0x14a563['a']);}_0x10fbb8['drawLineAr'+'rays'](_0x2e230b,_0x3de8a3),_0x2e230b['length']=-0x1f*0x9d+-0xd*-0x242+-0xa57*0x1;}let _0x4a9550=dt['mesh'];_0x4a9550||(_0x4a9550=new Ie(_0x1a2694),_0x4a9550['clear'](!(-0x1e4*0x13+-0x8*0x199+-0x185a*-0x2),!(-0x1ad+-0xd37+-0x772*-0x2)),dt['mesh']=_0x4a9550);const _0x34dd3a=[],_0x597d65=[],_0x1e57d7=[],_0x40f47d=_0x38892a['_cells']['x'],_0x24e7f0=_0x38892a['_cells']['z'],_0x68255c=_0x38892a['counts'],_0x2644ca=_0x38892a['_maxCellLi'+'ghtCount'],_0x32cddd=new T(),_0x1aa630=new T(),_0x2d61ff=new T(),_0x2115a1=_0x2a6bb4['clone']()['div'](_0x5e2412);let _0x5b6506=0x1eb8+0x1832+-0x1aa*0x21;for(let _0x24d459=0x4d*-0x42+-0x2186+0xe*0x3d0;_0x24d459<_0x5e2412['x'];_0x24d459++)for(let _0x482851=-0x73*0x2a+-0x90c+0x1bea;_0x482851<_0x5e2412['z'];_0x482851++)for(let _0x357cad=0x5*0x416+0x2122+-0x2*0x1ac8;_0x357cad<_0x5e2412['y'];_0x357cad++){const _0x422c34=_0x24d459+_0x40f47d*(_0x482851+_0x357cad*_0x24e7f0),_0x2bcb9b=_0x68255c[_0x422c34];if(_0x2bcb9b>-0x1a59+-0x358*0x2+-0xb03*-0x3){_0x32cddd['x']=_0x122eb9['x']+_0x2115a1['x']*_0x24d459,_0x32cddd['y']=_0x122eb9['y']+_0x2115a1['y']*_0x357cad,_0x32cddd['z']=_0x122eb9['z']+_0x2115a1['z']*_0x482851,_0x1aa630['add2'](_0x32cddd,_0x2115a1),_0x34dd3a['push'](_0x32cddd['x'],_0x32cddd['y'],_0x1aa630['z']),_0x34dd3a['push'](_0x1aa630['x'],_0x32cddd['y'],_0x1aa630['z']),_0x34dd3a['push'](_0x1aa630['x'],_0x1aa630['y'],_0x1aa630['z']),_0x34dd3a['push'](_0x32cddd['x'],_0x1aa630['y'],_0x1aa630['z']),_0x34dd3a['push'](_0x1aa630['x'],_0x32cddd['y'],_0x32cddd['z']),_0x34dd3a['push'](_0x32cddd['x'],_0x32cddd['y'],_0x32cddd['z']),_0x34dd3a['push'](_0x32cddd['x'],_0x1aa630['y'],_0x32cddd['z']),_0x34dd3a['push'](_0x1aa630['x'],_0x1aa630['y'],_0x32cddd['z']),_0x2d61ff['lerp'](dt['colorLow'],dt['colorHigh'],_0x2bcb9b/_0x2644ca)['round']();for(let _0x565a85=-0xea3+0x3*-0x406+0x9f*0x2b;_0x565a85<0x78c+-0x1aa8+0x23*0x8c;_0x565a85++)_0x597d65['push'](_0x2d61ff['x'],_0x2d61ff['y'],_0x2d61ff['z'],-0x1*0x1db3+-0x1b33+0x38e7);_0x1e57d7['push'](_0x5b6506*(0x15be*-0x1+-0x20ee+-0x6*-0x91e)+(0x5*-0xce+-0x1ca2+-0x2*-0x1054),_0x5b6506*(0x2546+-0x21a3+-0x39b*0x1)+(-0x11*-0x48+0x1460+0x1*-0x1927),_0x5b6506*(-0x164c+0x1b7b+-0x527)+(-0x1898*0x1+-0x1*0x49f+-0x1d3a*-0x1)),_0x1e57d7['push'](_0x5b6506*(-0x257*-0x1+-0x775+-0x2*-0x293)+(0x2*-0x37f+0xd2f+-0x62e),_0x5b6506*(0x1eaf+0x1b6d+0x33a*-0x12)+(-0x19f8+0x87e+0x117b),_0x5b6506*(-0x3b5*0xa+0x1*-0x135d+-0x5*-0xb4b)+(0x236b*-0x1+-0x1*-0x1ecb+0x4a2)),_0x1e57d7['push'](_0x5b6506*(0x633+-0xd6c+-0x741*-0x1)+(0x24a+0x24f+0x17*-0x33),_0x5b6506*(0x1*-0x34a+0x16f6+0x13a4*-0x1)+(-0x4*0x46d+0x19c7+-0x80e),_0x5b6506*(0x1aff+-0x61*0x59+0x1*0x6c2)+(-0x1223+-0x45*-0x15+0xb*0x123)),_0x1e57d7['push'](_0x5b6506*(-0x268d+-0x2089+0x471e)+(-0x140f+-0x5*-0x7b7+-0x1*0x127d),_0x5b6506*(0x231d+0x13d*0x1d+0x46fe*-0x1)+(0xddc+-0xf1*0x1+-0xce6),_0x5b6506*(0x361*0x1+0x1*-0x1a05+0x16ac)+(0x6c9+0x1bfa*0x1+-0x22bd)),_0x1e57d7['push'](_0x5b6506*(0x16d3+-0xb4a+-0x5*0x24d)+(-0x34a*-0x5+-0x251e+0x14af),_0x5b6506*(-0x1359+-0x1db7*0x1+0x3118)+(-0x1be*-0x5+0x13ae+0x3*-0x976),_0x5b6506*(-0x18f4+-0x2a*0xca+0x3a20)+(-0x18bc+0x241b+-0xb59)),_0x1e57d7['push'](_0x5b6506*(0x22fa+-0xf0+-0x2202)+(0x46f*-0x1+0x1749+-0x12d8),_0x5b6506*(0x16b*0x1a+-0x1ab6*0x1+-0xa20)+(0x1eb5*0x1+-0xb7e+-0x1330),_0x5b6506*(-0x8ee+0x237a+-0xd42*0x2)+(-0x506*0x2+-0x3b*-0x3b+0x2b*-0x15)),_0x1e57d7['push'](_0x5b6506*(0x1*-0x9b2+-0x25b1+0x3d*0xc7)+(0xb5*0x8+-0x2*0x9de+-0x23*-0x67),_0x5b6506*(-0x607*0x1+-0x11b*0x17+0x193*0x14)+(0x1*0xda1+-0x1270+0x4cf*0x1),_0x5b6506*(-0x9*-0x31b+0x17a4+-0x338f*0x1)+(-0x19*-0x6d+-0x1009+0x568)),_0x1e57d7['push'](_0x5b6506*(0x2*-0x12d6+0x16*-0x1c6+-0x5*-0xf58)+(-0xf53+-0x9e3+0x1936),_0x5b6506*(0x188+0xad5*0x3+0x9*-0x3c7)+(0x1bcf+0x5*0x4b0+-0x333a),_0x5b6506*(0x1f1e*0x1+0x26df+-0x45f5*0x1)+(0x1f*0x1+-0x1379*-0x1+0x9ca*-0x2)),_0x1e57d7['push'](_0x5b6506*(0x22be+0x830+-0x11*0x286)+(0x1b46+-0x1*0x1915+-0x230),_0x5b6506*(0x126*-0x15+-0x13c7+0x8c9*0x5)+(0xfe8+-0xc88+0x35c*-0x1),_0x5b6506*(-0x102+0x1*0x2007+-0x1efd*0x1)+(-0xb*-0x27+-0x551*0x5+0x2*0xc75)),_0x1e57d7['push'](_0x5b6506*(0x1*-0x1885+0x24a3+0xe*-0xdd)+(-0x2651+0x1ec+0x2469),_0x5b6506*(0x806+-0x14b9+0xcbb)+(0x213d*0x1+-0x1657+-0xfd*0xb),_0x5b6506*(0x24a5+0x20af+0x4*-0x1153)+(0x1b4e+-0x1*-0xc9b+0xd4d*-0x3)),_0x1e57d7['push'](_0x5b6506*(0x289*-0x2+0xf46+-0xa2c)+(-0x71*0xc+-0x16ed+-0x3*-0x96a),_0x5b6506*(0x135b+-0x24ad+0x115a)+(-0x8*0x39a+-0x396+0x2066),_0x5b6506*(0x5a7*-0x1+-0x11c4+0x1773*0x1)+(-0x23de+0x1c55+0x78f)),_0x1e57d7['push'](_0x5b6506*(0xbc9+0x167*0x16+0x1*-0x2a9b)+(-0x24*-0x83+0x12ac+-0x2518),_0x5b6506*(-0x392+-0x8*-0x367+-0x179e)+(0x23a4+0xf1*0x9+-0x2c1a),_0x5b6506*(-0x1357+-0xf*-0x53+0x3*0x4d6)+(0x16eb*-0x1+0x74f*0x3+-0x4*-0x41)),_0x5b6506++;}}if(_0x5b6506){if(_0x4a9550['setPositio'+'ns'](_0x34dd3a),_0x4a9550['setColors3'+'2'](_0x597d65),_0x4a9550['setIndices'](_0x1e57d7),_0x4a9550['update'](Ms,!(-0x2127+-0x20fe+0x4226)),!dt['meshInstan'+'ce']){const _0x6851dd=new cs();_0x6851dd['useLightin'+'g']=!(0x20e9+-0x2*-0x367+-0x11*0x256),_0x6851dd['emissive']=new Y(-0x2509*0x1+0x1*-0x4a5+0x29af*0x1,0xff3+-0x10f8+0x106,0x42*-0x4+0x62+0xa7),_0x6851dd['emissiveVe'+'rtexColor']=!(0x52*-0x72+-0x591+0x2a15),_0x6851dd['blendType']=Hc,_0x6851dd['depthWrite']=!(-0x102f*0x1+-0x1f8*-0x7+-0x16*-0x1c),_0x6851dd['update']();const _0x1ad7cc=new De('WorldClust'+'ersDebug');_0x1ad7cc['worldTrans'+'form']=q['IDENTITY'],_0x1ad7cc['_dirtyWorl'+'d']=_0x1ad7cc['_dirtyNorm'+'al']=!(0x2185+-0x2370+0x1ec),dt['meshInstan'+'ce']=new Le(_0x4a9550,_0x6851dd,_0x1ad7cc),dt['meshInstan'+'ce']['cull']=!(-0x5*0x10d+0xef*-0x1d+0x2055);}const _0x4ac334=dt['meshInstan'+'ce'];_0x10fbb8['immediate']['drawMesh'](_0x4ac334['material'],_0x4ac334['node']['worldTrans'+'form'],null,_0x4ac334,_0x10fbb8['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(0x4f*0x73+0x1c7f+-0x3ffb,0x2418+0x21d7+-0x1*0x45ee,-0x7a0+-0x7ed+0xf8e)),c(dt,'colorHigh',new T(0xa3b+-0x247b+0x1a68,0x1669*0x1+0x26*-0x107+0x10a1,-0x2*0x925+0x1*0x678+0xbd2));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x96f7c6=atob(sM);vi=Uint8Array['from'](_0x96f7c6,_0x1aa545=>_0x1aa545['charCodeAt'](-0x20dc+-0x2e*0x33+-0xa3*-0x42));}},iM=()=>(R0(),vi);class rM{constructor(_0x3a8e67=0x133*-0x19+-0x1e8d+0x3c88){c(this,'seed',-0x26c1+0x3d8+0x9*0x3e1),(this['seed']=_0x3a8e67*(-0x1248+0x1002+0x24a),R0());}['_next'](){this['seed']=(this['seed']+(0xe38+0xcf7*0x3+-0x3519))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(-0x7*-0x2e5+0x1*0x1cab+-0x2fef);}['vec4'](_0x1c1d17=new Q()){return this['_next'](),_0x1c1d17['set'](vi[this['seed']],vi[this['seed']+(0x208f*-0x1+0x1ebf+0x9b*0x3)],vi[this['seed']+(-0xf9b+0x1a*-0x169+-0x5cf*-0x9)],vi[this['seed']+(-0x13b4+-0x24f9+0x38b0)])['mulScalar']((-0x1876+0xc10+0xc67)/(-0xad6+-0xefe+0x3*0x8f1));}}const nM=[new T(-(0x1c49*0x1+0x58*-0x2+-0x8*0x373),0x5fb*0x2+0x1a14*0x1+-0x260a,0x5*0x1b7+-0x1*-0x11e1+-0x1a74),new T(-0x223a+-0x14d6+0x3711,0xf52*0x2+0xfec+-0x2e90,-0x2*0x6be+0x161+0xc1b),new T(0x15*-0x146+-0xfd*-0x11+0x9f1,-(0x1335*0x2+-0x368*-0x4+-0x3409),0x25a8+-0x12db+0x1*-0x12cd),new T(0x16be*-0x1+0x418*-0x3+0x2306*0x1,-0x23e4+0x3e*-0x11+0x2803*0x1,0x2328+0x15cc+0x1b*-0x21c),new T(-0x1174+-0x172b*-0x1+-0x4d*0x13,0x73e+0xb1f*0x1+-0x125d,-(-0xa79+0x26c5*0x1+-0x1*0x1c4b)),new T(-0x3*0xa4e+-0x1*0x1df7+0x3ce1,-0x9*0x37f+0x12c*-0x1f+0x43cb,-0x170a+0x4*-0x5e7+0x2ea7)];class aM{constructor(){c(this,'colors',new Float32Array((-0x1174+-0x3b2+0x152c)*(0x9*-0xea+-0x1*0x1659+0x1e96)));}['update'](_0x1a770d,_0x25e978){const _0x1315d0=this['colors'],{r:_0x47be9b,g:_0x5dd2a9,b:_0x2ccd43}=_0x1a770d;for(let _0x3809d6=-0x2fa*0x1+-0x265c+0x2*0x14ab;_0x3809d6<-0x41*-0xb+-0x53a+0x275;_0x3809d6++)_0x1315d0[_0x3809d6*(0xa37+0x2579+-0x2fad)]=_0x47be9b,_0x1315d0[_0x3809d6*(-0x1068+0x1*-0x147+0x11b2)+(0xe9f+-0xcb6+-0x1e8)]=_0x5dd2a9,_0x1315d0[_0x3809d6*(0x19e7+-0x2439+-0x211*-0x5)+(0x6ad+-0x2f*-0x7+0x1*-0x7f4)]=_0x2ccd43;for(let _0xfd3805=0x252+-0x3b6*-0x8+0x1001*-0x2;_0xfd3805<_0x25e978['length'];_0xfd3805++){const _0x58c8bb=_0x25e978[_0xfd3805];if(_0x58c8bb['_type']===oe)for(let _0x1e839c=0x20b8+0xfcd+-0x3085*0x1;_0x1e839c<0xc17+0xa31*0x2+-0x2073;_0x1e839c++){const _0x229547=Math['max'](nM[_0x1e839c]['dot'](_0x58c8bb['_direction']),-0x815*0x1+0x1b32+-0x131d)*_0x58c8bb['_intensity'],_0x3bf88e=_0x58c8bb['_color'];_0x1315d0[_0x1e839c*(-0x173f+-0x1e2*-0x2+0x137e)]+=_0x3bf88e['r']*_0x229547,_0x1315d0[_0x1e839c*(0x5*0x6a6+-0x4ff*-0x1+-0x2a*0xe9)+(-0x919*0x2+-0x43e+0x1671)]+=_0x3bf88e['g']*_0x229547,_0x1315d0[_0x1e839c*(-0x1a4e+0x1e1*-0x3+0x4*0x7fd)+(-0x239d+-0x1*-0x1572+0xe2d)]+=_0x3bf88e['b']*_0x229547;}}}}const oM=(_0x52f83e,_0x4e0ca4,_0x397506,_0x3dd7f5)=>{const _0x421416=new he(_0x52f83e,{'name':''+_0x4e0ca4+_0x397506,'width':_0x397506,'height':_0x397506,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x1*0x1287+0xfa9+-0x1*0x222f)});return _0x421416['lock']()['set'](_0x3dd7f5),_0x421416['unlock'](),_0x421416;},lM=new Ot(),hM=_0x67643b=>lM['get'](_0x67643b,()=>{const _0x41574b=iM(),_0x4f7e18=Math['sqrt'](_0x41574b['length']/(0x6d*-0x17+-0x1f38+-0x3*-0xdad));return oM(_0x67643b,'BlueNoise',_0x4f7e18,_0x41574b);});class un{constructor(_0x29a3af,_0x21a163){this['texture']=_0x29a3af,this['cached']=!(0x3d9+0xc07*0x2+0x1*-0x1be6),this['renderTarg'+'ets']=_0x21a163;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x4a7c=this['renderTarg'+'ets'];for(let _0x1a35fc=0x1d10+0xef9+-0x2c09;_0x1a35fc<_0x4a7c['length'];_0x1a35fc++)_0x4a7c[_0x1a35fc]['destroy']();this['renderTarg'+'ets']['length']=0x1*-0x1af9+-0xafd+0x25f6;}static['getShadowF'+'iltering'](_0x864676,_0xe598e0){return _0xe598e0===Wr?_0x864676['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x5ae992,_0x440dc5){let _0x163ef7=null;return _0x440dc5['_type']===Pe?_0x163ef7=this['createCube'+'map'](_0x5ae992,_0x440dc5['_shadowRes'+'olution'],_0x440dc5['_shadowTyp'+'e']):_0x163ef7=this['create2dMa'+'p'](_0x5ae992,_0x440dc5['_shadowRes'+'olution'],_0x440dc5['_shadowTyp'+'e']),_0x163ef7;}static['createAtla'+'s'](_0x186cdc,_0x55fd9f,_0x267959){const _0x5cfd5b=this['create2dMa'+'p'](_0x186cdc,_0x55fd9f,_0x267959),_0x16d7c8=_0x5cfd5b['renderTarg'+'ets'],_0x4ac677=_0x16d7c8[0x919*-0x1+0x29*0x80+0xb67*-0x1];for(let _0x2040e9=-0xc35+0x149*0x13+-0xc36;_0x2040e9<-0x1*-0x1ced+0xc38+-0x2920;_0x2040e9++)_0x16d7c8['push'](_0x4ac677);return _0x5cfd5b;}static['create2dMa'+'p'](_0x1f60bc,_0x1e5cdb,_0x36c3fa){var _0x228260;const _0x50c5c0=ir['get'](_0x36c3fa);v['assert'](_0x50c5c0);let _0x5a724b=_0x50c5c0['format'];_0x5a724b===Ii&&!_0x1f60bc['textureFlo'+'atRenderab'+'le']&&_0x1f60bc['textureHal'+'fFloatRend'+'erable']&&(_0x5a724b=Ec);const _0x2faee9=(_0x228260=xt['get'](_0x5a724b))==null?void(0x221+-0x10b2+0x71*0x21):_0x228260['name'],_0x11801b=this['getShadowF'+'iltering'](_0x1f60bc,_0x36c3fa),_0x316833=new he(_0x1f60bc,{'profilerHint':Tu,'format':_0x5a724b,'width':_0x1e5cdb,'height':_0x1e5cdb,'mipmaps':!(0x2*-0xbd8+-0x159e*-0x1+-0x1*-0x213),'minFilter':_0x11801b,'magFilter':_0x11801b,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x2faee9});let _0x10a20f=null;return _0x50c5c0!=null&&_0x50c5c0['pcf']?(_0x316833['compareOnR'+'ead']=!(0x1c4a+-0xdb*0x1f+-0x1c5),_0x316833['compareFun'+'c']=Eh,_0x10a20f=new pt({'depthBuffer':_0x316833})):_0x10a20f=new pt({'colorBuffer':_0x316833,'depth':!(-0x3*-0xa9+-0x23c5+0x1*0x21ca)}),_0x1f60bc['isWebGPU']&&(_0x10a20f['flipY']=!(0x1d0e*0x1+0x843+-0x2551*0x1)),new un(_0x316833,[_0x10a20f]);}static['createCube'+'map'](_0x57a408,_0x496967,_0x4cae9a){var _0x4f255e;const _0x1440b6=ir['get'](_0x4cae9a);v['assert'](_0x1440b6);const _0x3e2650=(_0x4f255e=xt['get'](_0x1440b6['format']))==null?void(-0x871+-0x1b25*-0x1+-0x12b4):_0x4f255e['name'],_0x15df39=_0x4cae9a===Ts,_0x5f3e38=_0x15df39?de:st,_0x42c16c=new he(_0x57a408,{'profilerHint':Tu,'format':_0x1440b6==null?void(-0x1d23+-0x4f8+0x221b):_0x1440b6['format'],'width':_0x496967,'height':_0x496967,'cubemap':!(0x716+0x1*0x2185+-0x289b),'mipmaps':!(-0x11e5*0x1+0xd53+0x493),'minFilter':_0x5f3e38,'magFilter':_0x5f3e38,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x3e2650});_0x15df39||(_0x42c16c['compareOnR'+'ead']=!(-0x2*0x8c6+0xeb*0x1f+-0x1*0xae9),_0x42c16c['compareFun'+'c']=Eh);const _0x919174=[];for(let _0x2f75a6=-0x13c*0x16+0x2f1*0x4+0xf64;_0x2f75a6<0x139f+-0x1145*-0x2+0x1*-0x3623;_0x2f75a6++)_0x15df39?_0x919174['push'](new pt({'colorBuffer':_0x42c16c,'face':_0x2f75a6,'depth':!(-0x2092+0xeeb*0x2+0x2bc)})):_0x919174['push'](new pt({'depthBuffer':_0x42c16c,'face':_0x2f75a6}));return new un(_0x42c16c,_0x919174);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x105dc2){this['size']=Math['floor'](_0x105dc2['w']*(0xfc3*-0x1+-0x1*0x10b9+-0x4*-0x91f)),this['used']=!(-0xe4f*0x1+-0x1d08+0x4c*0x92),this['lightId']=-(-0x214e+0x1*-0x386+0x24d5),this['rect']=_0x105dc2;}}class uM{constructor(_0x2fc44d){this['device']=_0x2fc44d,this['version']=-0x1e1c+0xb*-0x12c+0x65*0x6d,this['shadowAtla'+'sResolutio'+'n']=-0xbe3+-0x1c09+0x4*0xbfb,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x23b2+-0x23e6*-0x1+-0x4795,this['cookieAtla'+'sResolutio'+'n']=0x2*0x782+-0x1840+0x8*0x128,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(0x3d1*-0x6+-0x1ef6+0x35dd*0x1),'mipmaps':!(-0xd*0x75+0xd*-0x254+0x2436),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x196a+-0x17*-0x31+-0x434*-0x5),'flipY':!(-0x108f+0x23c8+-0x1*0x1339)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(-0x16db+-0xfc*-0x13+-0x1*-0x427,-0x22+0x1a*0x12e+-0x1*0x1e8a),new W(0x21a1*0x1+0xfe7+-0x3188,-0x250c+0x22e6+-0x13*-0x1d),new W(-0x1c56+-0x170f*0x1+0x3366,-0x1a3+-0x489*0x4+0x13c7*0x1),new W(-0x3*-0x1a5+-0x2506+-0x2*-0x100c,-0x1142+-0x581+0x16c4),new W(0x2a2+0x203f+-0x22df,-0xb0f*0x1+-0x1a05+-0x7*-0x54c),new W(0x10f1*-0x2+0xdb*-0xd+0x2d03,0x22cf+0x1e27+-0x40f5)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0x1*0x2527+-0x32*0xc7+-0x1*-0x1b8),this['allocateCo'+'okieAtlas'](0x217d+0x3a9+0x101*-0x25),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x336723;(_0x336723=this['shadowAtla'+'s'])==null||_0x336723['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x539a9f,_0x90a954;(_0x539a9f=this['cookieAtla'+'s'])==null||_0x539a9f['destroy'](),this['cookieAtla'+'s']=null,(_0x90a954=this['cookieRend'+'erTarget'])==null||_0x90a954['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x3a4174,_0x407816=Dt){var _0x16db07;const _0x21b51e=(_0x16db07=this['shadowAtla'+'s'])==null?void(0x1937+0x4e7+-0x1e1e):_0x16db07['texture']['format'],_0x5d740a=ir['get'](_0x407816)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x3a4174||_0x21b51e!==_0x5d740a){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x3a4174,_0x407816),this['shadowAtla'+'s']['cached']=!(-0x12d6+0x2555+-0x3b3*0x5);const _0x543db8=(0xd*0x247+0x4d5+-0x226c)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x543db8,_0x543db8,-(-0x1cab+0x6a2+0x160b)*_0x543db8,-(0x66+-0x2*0x9ca+0x1330)*_0x543db8);}}['allocateCo'+'okieAtlas'](_0x43d7d0){this['cookieAtla'+'s']['width']!==_0x43d7d0&&(this['cookieRend'+'erTarget']['resize'](_0x43d7d0,_0x43d7d0),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x2a+-0x202f+0x2007),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x3ccdb8=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x1a26+0x1116+0x910]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x3ccdb8),this['_shadowAtl'+'asParams'][-0x41*-0xb+0x194e*0x1+-0x1c19*0x1]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x1*0x1741+0xd44*0x2+-0x346*0x1]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x27e9d0,_0x4c5cc2){let _0x17f158=_0x4c5cc2['atlasSplit'];if(!_0x17f158){const _0x5f180c=Math['ceil'](Math['sqrt'](_0x27e9d0));_0x17f158=dM,_0x17f158[0x1db*-0x4+0x1b49+-0x13dd]=_0x5f180c,_0x17f158['length']=0x1fc*0x3+0x44*0x86+0x84f*-0x5;}if(!((_0x59b497,_0x6165ff)=>_0x59b497['length']===_0x6165ff['length']&&_0x59b497['every']((_0x1ebf42,_0x57d446)=>_0x1ebf42===_0x6165ff[_0x57d446]))(_0x17f158,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x3aa+0x2233+-0x1e89*0x1,this['atlasSplit']['length']=-0x247f+0x565+-0x3*-0xa5e,this['atlasSplit']['push'](..._0x17f158);const _0x5af451=this['atlasSplit'][0x4*-0x1e2+0x1*0x1566+-0xdde];if(_0x5af451>0x2*0x3df+0x977+-0x1134){const _0x2081d9=(0x3*-0x829+0x821*-0x4+0x1c80*0x2)/_0x5af451;for(let _0x340357=-0x143+-0x26cf+0x2812;_0x340357<_0x5af451;_0x340357++)for(let _0x712701=0xa19*-0x2+-0xc68+0x209a;_0x712701<_0x5af451;_0x712701++){const _0x3ae17b=new Q(_0x340357*_0x2081d9,_0x712701*_0x2081d9,_0x2081d9,_0x2081d9),_0x2ecb01=this['atlasSplit'][-0x1730+-0x9*-0x327+-0x52e+_0x340357*_0x5af451+_0x712701];if(_0x2ecb01>-0x34b+0x10c1*0x1+-0x109*0xd){for(let _0x4c3400=-0x20c5*0x1+-0x199a+-0x1375*-0x3;_0x4c3400<_0x2ecb01;_0x4c3400++)for(let _0x51f8d4=0x151d+0xe21+0x233e*-0x1;_0x51f8d4<_0x2ecb01;_0x51f8d4++){const _0x371e64=_0x2081d9/_0x2ecb01,_0x50209a=new Q(_0x3ae17b['x']+_0x4c3400*_0x371e64,_0x3ae17b['y']+_0x51f8d4*_0x371e64,_0x371e64,_0x371e64);this['slots']['push'](new Md(_0x50209a));}}else this['slots']['push'](new Md(_0x3ae17b));}}else this['slots']['push'](new Md(new Q(0x3*0x185+-0x162d+-0x6e*-0x29,0x1a15*0x1+-0x6*0x193+0x1*-0x10a3,0x2f9*0x7+-0x2623+0x1155,0xe9e+-0x1b1*-0x3+-0x13b0)));this['slots']['sort']((_0xe01d69,_0x11b128)=>_0x11b128['size']-_0xe01d69['size']);}}['collectLig'+'hts'](_0x48a116,_0x4b8d6d){const _0x9199ab=_0x4b8d6d['cookiesEna'+'bled'],_0x2a3390=_0x4b8d6d['shadowsEna'+'bled'];let _0x6674a0=!(-0xe9*-0x3+0x258b+-0xa9*0x3d),_0x1bd26f=!(0x639+-0x191c+0x12e4*0x1);const _0x5de4ba=cM;return _0x5de4ba['length']=-0x13ec+-0x1f36+-0x5*-0xa3a,(_0x9199ab||_0x2a3390)&&(_0x529c83=>{for(let _0x5b39d9=0xcf7+-0x332+-0x9c5;_0x5b39d9<_0x529c83['length'];_0x5b39d9++){const _0x2fcb4a=_0x529c83[_0x5b39d9];if(_0x2fcb4a['visibleThi'+'sFrame']){const _0x49b7e0=_0x2a3390&&_0x2fcb4a['castShadow'+'s'],_0x4eba4e=_0x9199ab&&!!_0x2fcb4a['cookie'];_0x6674a0||(_0x6674a0=_0x49b7e0),_0x1bd26f||(_0x1bd26f=_0x4eba4e),(_0x49b7e0||_0x4eba4e)&&_0x5de4ba['push'](_0x2fcb4a);}}})(_0x48a116),_0x5de4ba['sort']((_0x42de0f,_0x310151)=>_0x310151['maxScreenS'+'ize']-_0x42de0f['maxScreenS'+'ize']),_0x6674a0&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x4b8d6d['shadowType']),_0x1bd26f&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x6674a0||_0x1bd26f)&&this['subdivide'](_0x5de4ba['length'],_0x4b8d6d),_0x5de4ba;}['setupSlot'](_0x9d59b5,_0x22ee23){_0x9d59b5['atlasViewp'+'ort']['copy'](_0x22ee23);const _0x305736=_0x9d59b5['numShadowF'+'aces'];for(let _0x52ce0a=0x1*0x1a89+0x71d*0x4+-0x36fd;_0x52ce0a<_0x305736;_0x52ce0a++)if(_0x9d59b5['castShadow'+'s']||_0x9d59b5['_cookie']){if(Js['copy'](_0x22ee23),Cd['copy'](_0x22ee23),_0x9d59b5['_type']===Re&&Js['add'](this['scissorVec']),_0x9d59b5['_type']===Pe){const _0x5c5c15=Js['z']/(0x12*-0x13f+0x242c+-0x5f*0x25),_0x47878b=this['cubeSlotsO'+'ffsets'][_0x52ce0a];Js['x']+=_0x5c5c15*_0x47878b['x'],Js['y']+=_0x5c5c15*_0x47878b['y'],Js['z']=_0x5c5c15,Js['w']=_0x5c5c15,Cd['copy'](Js);}if(_0x9d59b5['castShadow'+'s']){const _0x4df5f2=_0x9d59b5['getRenderD'+'ata'](null,_0x52ce0a);_0x4df5f2['shadowView'+'port']['copy'](Js),_0x4df5f2['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x1d5b21,_0x96e666,_0x1a75ac){_0x1d5b21['atlasViewp'+'ortAllocat'+'ed']=!(-0x6b*-0x21+-0xce5+-0xe6);const _0x35810c=this['slots'][_0x96e666];_0x35810c['lightId']=_0x1d5b21['id'],_0x35810c['used']=!(0x25b*0x9+-0x298+-0x129b),_0x1a75ac&&(_0x1d5b21['atlasSlotU'+'pdated']=!(-0xa2f+-0x272*-0xf+-0x1a7f),_0x1d5b21['atlasVersi'+'on']=this['version'],_0x1d5b21['atlasSlotI'+'ndex']=_0x96e666);}['update'](_0x75f715,_0x542606){this['shadowAtla'+'sResolutio'+'n']=_0x542606['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x542606['cookieAtla'+'sResolutio'+'n'];const _0x165794=this['collectLig'+'hts'](_0x75f715,_0x542606);if(_0x165794['length']>-0x8*-0x28c+0x3*0xaa3+-0x3449){const _0x14e85b=this['slots'];for(let _0x278b2b=-0x842*-0x1+-0x2c6*0x3+-0x4*-0x4;_0x278b2b<_0x14e85b['length'];_0x278b2b++)_0x14e85b[_0x278b2b]['used']=!(0x3*0x4ae+0x7f6*0x2+0x1df5*-0x1);const _0x1d0630=Math['min'](_0x165794['length'],_0x14e85b['length']);for(let _0x2f077d=-0x1*0x17a7+0x13c1+0x3e6;_0x2f077d<_0x1d0630;_0x2f077d++){const _0xc25989=_0x165794[_0x2f077d];_0xc25989['castShadow'+'s']&&(_0xc25989['_shadowMap']=this['shadowAtla'+'s']);const _0x3b537e=_0x14e85b[_0xc25989['atlasSlotI'+'ndex']];if(_0xc25989['atlasVersi'+'on']===this['version']&&_0xc25989['id']===(_0x3b537e==null?void(0x9*0x104+0x1*-0x1c4e+0x132a):_0x3b537e['lightId'])){const _0x248081=_0x14e85b[_0xc25989['atlasSlotI'+'ndex']];_0x248081['size']===_0x14e85b[_0x2f077d]['size']&&!_0x248081['used']&&this['assignSlot'](_0xc25989,_0xc25989['atlasSlotI'+'ndex'],!(-0xf21+0x32f*-0xa+0x48*0xa7));}}let _0x1f908f=-0x1*0x19f9+0x9f7+0x1002;for(let _0x24e4c0=0x1b5+0x125e+0x1*-0x1413;_0x24e4c0<_0x1d0630;_0x24e4c0++){for(;_0x1f908f<_0x14e85b['length']&&_0x14e85b[_0x1f908f]['used'];)_0x1f908f++;const _0x2c6a3e=_0x165794[_0x24e4c0];_0x2c6a3e['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x2c6a3e,_0x1f908f,!(0x4e8+-0x15f9*0x1+-0x11*-0x101));const _0x53a0b3=_0x14e85b[_0x2c6a3e['atlasSlotI'+'ndex']];this['setupSlot'](_0x2c6a3e,_0x53a0b3['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x3d1920=>{_0x3d1920['forEach'](_0x16fc27=>{_0x16fc27['destroy']();});}),this['cache']['clear']();}['getKey'](_0x3271c9){const _0x210469=_0x3271c9['_type']===Pe,_0x1cf3ad=_0x3271c9['_shadowTyp'+'e'],_0x236157=_0x3271c9['_shadowRes'+'olution'];return _0x210469+'-'+_0x1cf3ad+'-'+_0x236157;}['get'](_0x10c251,_0x1c4ebd){const _0xaf06fd=this['getKey'](_0x1c4ebd),_0x325cdb=this['cache']['get'](_0xaf06fd);if(_0x325cdb&&_0x325cdb['length'])return _0x325cdb['pop']();const _0x232ffb=un['create'](_0x10c251,_0x1c4ebd);return _0x232ffb['cached']=!(0x224a+-0x1968+-0x2f6*0x3),_0x232ffb;}['add'](_0x1b7319,_0x3634ad){const _0x5425fa=this['getKey'](_0x1b7319),_0x1d3c69=this['cache']['get'](_0x5425fa);_0x1d3c69?_0x1d3c69['push'](_0x3634ad):this['cache']['set'](_0x5425fa,[_0x3634ad]);}}class pM extends ds{constructor(_0x334c6a,_0x230aae,_0x4bb270,_0x5b4bcd,_0x2f8974){super(_0x334c6a),mn['setName'](this,this['name']+'-'+_0x4bb270['_node']['name']),this['requiresCu'+'bemaps']=!(-0x59*-0x55+-0x4*-0x75a+0x3af4*-0x1),this['shadowRend'+'erer']=_0x230aae,this['light']=_0x4bb270,this['face']=_0x5b4bcd,this['applyVsm']=_0x2f8974,this['shadowCame'+'ra']=_0x230aae['prepareFac'+'e'](_0x4bb270,null,_0x5b4bcd),_0x230aae['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x1b7*-0x9+-0x837+0x17a6));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x4c2+-0x1df2+0x22b5));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x38688a,_0x3aed86){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x38688a,this['shadowRend'+'erer']=_0x3aed86,this['device']=_0x38688a['device']);}['cull'](_0x56b46b,_0xe58fa1,_0x123834=null){const _0x36673b=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x56b46b['visibleThi'+'sFrame']=!(0x708+0x23*-0xaf+-0x19*-0xad),_0x36673b||_0x56b46b['_shadowMap']||(_0x56b46b['_shadowMap']=un['create'](this['device'],_0x56b46b));const _0xf3adcd=_0x56b46b['_type'],_0x5531e7=_0xf3adcd===Re?-0x1eb9+-0x157f+0x3439:0xd9b+-0xa3c+0x359*-0x1;for(let _0x30a30c=-0x2530+0x228c+0x2a4;_0x30a30c<_0x5531e7;_0x30a30c++){const _0x51ae5b=_0x56b46b['getRenderD'+'ata'](null,_0x30a30c),_0x4a8bb4=_0x51ae5b['shadowCame'+'ra'];_0x4a8bb4['nearClip']=_0x56b46b['attenuatio'+'nEnd']/(0x1*-0x3fb+0x2645+0xf31*-0x2),_0x4a8bb4['farClip']=_0x56b46b['attenuatio'+'nEnd'];const _0x362e0b=_0x4a8bb4['_node'],_0x1c3e1a=_0x56b46b['_node'];if(_0x362e0b['setPositio'+'n'](_0x1c3e1a['getPositio'+'n']()),_0xf3adcd===Re)_0x4a8bb4['fov']=_0x56b46b['_outerCone'+'Angle']*(-0x23d6+-0x272*-0x1+-0x1*-0x2166),_0x362e0b['setRotatio'+'n'](_0x1c3e1a['getRotatio'+'n']()),_0x362e0b['rotateLoca'+'l'](-(0x8*0x4bd+0x2071+0xb5*-0x63),0xabc+-0x2*0x1295+0x1a6e,0x331*0x3+0x1fd*0x1+0x10*-0xb9);else{if(_0xf3adcd===Pe){if(_0x36673b){const _0x411dca=(0x15fa+-0x220+0x2*-0x9ec)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x56b46b['atlasViewp'+'ort']['z']/(-0x8b8+0x26f5+0x49*-0x6a))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x4a8bb4['fov']=Math['atan'](-0x176d+0x1d9c+-0x62e+_0x411dca)*N['RAD_TO_DEG']*(-0x1*0x20ad+-0x336*0x7+0x3*0x1263);}else _0x4a8bb4['fov']=-0xd*0x2f+0x1*0x1b61+-0x18a4;}}this['renderer']['updateCame'+'raFrustum'](_0x4a8bb4),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0xe58fa1,_0x56b46b,_0x51ae5b['visibleCas'+'ters'],_0x4a8bb4,_0x123834);}}['prepareLig'+'hts'](_0x2b0acc,_0x235ae1){let _0x39b0ae;for(let _0x524c96=0x401+-0x8*-0x253+-0x1699;_0x524c96<_0x235ae1['length'];_0x524c96++){const _0x3efb4e=_0x235ae1[_0x524c96];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3efb4e)&&_0x3efb4e['atlasViewp'+'ortAllocat'+'ed']){_0x2b0acc['push'](_0x3efb4e);for(let _0x507cda=0xb*-0x61+0x4*0x8d+0x1f7*0x1;_0x507cda<_0x3efb4e['numShadowF'+'aces'];_0x507cda++)_0x39b0ae=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3efb4e,null,_0x507cda);}}return _0x39b0ae;}['buildNonCl'+'usteredRen'+'derPasses'](_0x420c38,_0x5369f6){for(let _0x2a514b=0x67d+0x72c+-0xd*0x10d;_0x2a514b<_0x5369f6['length'];_0x2a514b++){const _0x7500d2=_0x5369f6[_0x2a514b];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x7500d2)){const _0xedebfa=_0x7500d2['_type']===Re,_0x566156=_0x7500d2['numShadowF'+'aces'];for(let _0x2f67f2=0x1541*0x1+0x1d58+-0x3299;_0x2f67f2<_0x566156;_0x2f67f2++){const _0x487277=new pM(this['device'],this['shadowRend'+'erer'],_0x7500d2,_0x2f67f2,_0xedebfa);_0x420c38['addRenderP'+'ass'](_0x487277);}}}}}class _M extends ds{constructor(_0x4f70fc,_0x2a9b46,_0x1daaf5,_0x4be8eb,_0x3507a6){super(_0x4f70fc),mn['setName'](this,this['name']+'-'+_0x1daaf5['_node']['name']),this['shadowRend'+'erer']=_0x2a9b46,this['light']=_0x1daaf5,this['camera']=_0x4be8eb,this['allCascade'+'sRendering']=_0x3507a6;}['execute'](){const {light:_0x361d99,camera:_0x3f8281,shadowRenderer:_0x4a1da4,allCascadesRendering:_0x31f779}=this,_0x44f540=_0x361d99['numShadowF'+'aces'],_0x3b0810=_0x361d99['shadowUpda'+'teOverride'+'s'];for(let _0x382481=-0x22ca+-0x1fe5+0x42af;_0x382481<_0x44f540;_0x382481++)(_0x3b0810==null?void(-0x378*-0x1+0x25*0x11+0x1*-0x5ed):_0x3b0810[_0x382481])!==Ps&&_0x4a1da4['renderFace'](_0x361d99,_0x3f8281,_0x382481,!_0x31f779),(_0x3b0810==null?void(-0x1ff0+0x20ad+-0xbd):_0x3b0810[_0x382481])===cn&&(_0x3b0810[_0x382481]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x5184fb,_0x5bfb9f,_0x4cfa69){Fe[-0x19*-0x9d+-0xe*-0x170+-0x2375]['x']=Fe[-0x21cd+-0x10d*-0xb+-0x163f*-0x1]['x']=Fe[-0x1f84+0x11*-0x1cf+0x3e45]['x']=Fe[-0x1b67+-0x228c+0x3df6]['x']=_0x5bfb9f['x'],Fe[0x9*0x403+0xde8+-0x3202]['y']=Fe[0x246+-0x1*0x16e1+-0x5b*-0x3a]['y']=Fe[0xe28+-0x69e+-0x783]['y']=Fe[-0x9*0x2ba+0x194*-0x5+0x2073]['y']=_0x5bfb9f['y'],Fe[-0x1*-0x176e+0x778+-0x293*0xc]['z']=Fe[0x1672+0xf34+-0x25a3]['z']=Fe[0x20c+0x3f6+-0x5fc]['z']=Fe[-0xb*-0x28c+-0x1e92*-0x1+0x1385*-0x3]['z']=_0x5bfb9f['z'],Fe[-0x229*-0x6+0xf*0x216+-0x2c3c]['x']=Fe[0x1be9+0xea8+-0x30a*0xe]['x']=Fe[-0x1920*0x1+-0x1a5a+-0x338*-0x10]['x']=Fe[-0x2*0x709+-0xd79+-0x1*-0x1b92]['x']=_0x4cfa69['x'],Fe[-0x52d*0x2+-0x3*-0x635+-0x845]['y']=Fe[0x20a8+-0x2a0+0x3d*-0x7e]['y']=Fe[-0xf*-0xd1+-0x869*-0x1+0xa52*-0x2]['y']=Fe[-0x2e*0x4d+0x172f+-0x953]['y']=_0x4cfa69['y'],Fe[-0x7cf*-0x3+-0x1*0xf31+-0x83c]['z']=Fe[-0x61c*0x3+0x353+-0x781*-0x2]['z']=Fe[0x497+-0xba2+0xd*0x8b]['z']=Fe[0x2398+0x24f0+-0x4883]['z']=_0x4cfa69['z'];let _0x4dc586=-0x2d28c2646+0x41a753a64+-0x185*-0xb075ad,_0x4d8992=-(0x56f7ae2e+0x30027eb5a+-0x2a7d*0x618fd);for(let _0x3ceb51=0x3*0x2a+0x1a9c+-0x1*0x1b1a;_0x3ceb51<-0x1aac+0x1064+0xa50;++_0x3ceb51){_0x5184fb['transformP'+'oint'](Fe[_0x3ceb51],Fe[_0x3ceb51]);const _0x51083c=Fe[_0x3ceb51]['z'];_0x51083c<_0x4dc586&&(_0x4dc586=_0x51083c),_0x51083c>_0x4d8992&&(_0x4d8992=_0x51083c);}return Pd['min']=_0x4dc586,Pd['max']=_0x4d8992,Pd;}class yM{constructor(_0x4d965e,_0x5bea50){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4d965e,this['shadowRend'+'erer']=_0x5bea50,this['device']=_0x4d965e['device']);}['cull'](_0x16a0ab,_0x456d7f,_0x44fbfa,_0x42e2d1=null){_0x16a0ab['visibleThi'+'sFrame']=!(0x253d+0xe9f*-0x2+-0x7ff),_0x16a0ab['_shadowMap']||(_0x16a0ab['_shadowMap']=un['create'](this['device'],_0x16a0ab));const _0x1bcf62=_0x44fbfa['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x16a0ab,_0x1bcf62,Math['min'](_0x44fbfa['_farClip'],_0x16a0ab['shadowDist'+'ance']));const _0x3f7478=_0x16a0ab['shadowUpda'+'teOverride'+'s'];for(let _0x49866b=-0x96b+-0x35d+0xcc8;_0x49866b<_0x16a0ab['numCascade'+'s']&&(_0x3f7478==null?void(-0x1c69+-0x27*0x97+0x336a):_0x3f7478[_0x49866b])!==Ps;_0x49866b++){const _0xe1b48d=_0x16a0ab['getRenderD'+'ata'](_0x44fbfa,_0x49866b),_0x9cbab4=_0xe1b48d['shadowCame'+'ra'];_0x9cbab4['renderTarg'+'et']=_0x16a0ab['_shadowMap']['renderTarg'+'ets'][0x893+-0xe45+0x5b2],_0xe1b48d['shadowView'+'port']['copy'](_0x16a0ab['cascades'][_0x49866b]),_0xe1b48d['shadowScis'+'sor']['copy'](_0x16a0ab['cascades'][_0x49866b]);const _0x3d20ba=_0x9cbab4['_node'],_0x3fee64=_0x16a0ab['_node'];_0x3d20ba['setPositio'+'n'](_0x3fee64['getPositio'+'n']()),_0x3d20ba['setRotatio'+'n'](_0x3fee64['getRotatio'+'n']()),_0x3d20ba['rotateLoca'+'l'](-(0x2309+-0x404+-0xa39*0x3),0x1*-0x1111+-0x1c9c+-0x1*-0x2dad,0x1c7*0xd+-0x6*-0x583+0x382d*-0x1);const _0x52e5b6=_0x49866b===-0x36*0x19+-0x1992+0x1ed8?_0x1bcf62:_0x16a0ab['_shadowCas'+'cadeDistan'+'ces'][_0x49866b-(0x47+0xadc+0x96*-0x13)],_0x443678=_0x16a0ab['_shadowCas'+'cadeDistan'+'ces'][_0x49866b],_0x3b4df8=_0x44fbfa['getFrustum'+'Corners'](_0x52e5b6,_0x443678);ei['set'](-0x24ec+0x19e8*-0x1+0x3ed4,-0x20eb+0x1029+0x37*0x4e,0xabb*-0x3+-0x1415+-0x2*-0x1a23);const _0x396d59=_0x44fbfa['node']['getWorldTr'+'ansform']();for(let _0x96d4ff=-0x126b+0x1067+0x2*0x102;_0x96d4ff<0x7*-0x4a3+0x3ad*-0x1+0x242a*0x1;_0x96d4ff++)_0x396d59['transformP'+'oint'](_0x3b4df8[_0x96d4ff],_0x3b4df8[_0x96d4ff]),ei['add'](_0x3b4df8[_0x96d4ff]);ei['mulScalar']((-0xf53+0xa7*-0x3+0x1149)/(-0x1536+-0xd3*-0x1+-0x146b*-0x1));let _0x34eefb=0x1ca*0xb+-0x11d3+-0x1db;for(let _0x30df7f=0x1d7b+-0xa20+-0x135b;_0x30df7f<0x7df+-0x1dbe+0x59*0x3f;_0x30df7f++){const _0x2c528b=_0x3b4df8[_0x30df7f]['sub'](ei)['length']();_0x2c528b>_0x34eefb&&(_0x34eefb=_0x2c528b);}const _0x2d6b48=_0x3d20ba['right'],_0x2739d3=_0x3d20ba['up'],_0x2dd570=_0x3d20ba['forward'],_0x1fdbe7=(0x2*-0xd0f+-0x19ee*-0x1+-0x3*-0x10+0.25)*_0x16a0ab['_shadowRes'+'olution']/_0x34eefb,_0x53cba3=Math['ceil'](ei['dot'](_0x2739d3)*_0x1fdbe7)/_0x1fdbe7,_0x19a41d=Math['ceil'](ei['dot'](_0x2d6b48)*_0x1fdbe7)/_0x1fdbe7,_0x6bf230=_0x2739d3['mulScalar'](_0x53cba3),_0x27ef03=_0x2d6b48['mulScalar'](_0x19a41d),_0x56587e=ei['dot'](_0x2dd570),_0x376eaf=_0x2dd570['mulScalar'](_0x56587e);ei['add2'](_0x6bf230,_0x27ef03)['add'](_0x376eaf),_0x3d20ba['setPositio'+'n'](ei),_0x3d20ba['translateL'+'ocal'](-0x13b6+0x8f3+0xac3,-0x184c+-0x1ed*-0x1+0x165f,-0x4fdb2+-0x2*0xd7892+-0x2*-0x17988b),_0x9cbab4['nearClip']=0x20cb+-0xd81+-0x134a+0.01,_0x9cbab4['farClip']=0x2642b6+0x1*-0x2da46b+0x799*0x4fd,_0x9cbab4['orthoHeigh'+'t']=_0x34eefb,this['renderer']['updateCame'+'raFrustum'](_0x9cbab4),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x456d7f,_0x16a0ab,_0xe1b48d['visibleCas'+'ters'],_0x9cbab4,_0x42e2d1);let _0x1f52e6=!(0xc85*0x2+0x2b2+0x47*-0x64);const _0x46a7b1=_0xe1b48d['visibleCas'+'ters'];for(let _0x568fe0=-0x5*-0xf8+0x4d*0x5+-0x659;_0x568fe0<_0x46a7b1['length'];_0x568fe0++){const _0x4fb5ec=_0x46a7b1[_0x568fe0];_0x1f52e6?(_0x1f52e6=!(-0x1*-0x23ef+-0x117b+-0x1*0x1273),Ll['copy'](_0x4fb5ec['aabb'])):Ll['add'](_0x4fb5ec['aabb']);}d_['copy'](_0x3d20ba['getWorldTr'+'ansform']())['invert']();const _0x13867c=gM(d_,Ll['getMin'](),Ll['getMax']());_0x3d20ba['translateL'+'ocal'](0x266a+-0x224*-0x4+-0x2efa,0xb3*0x27+0x17b3+-0x32f8,_0x13867c['max']+(-0xb36*0x1+0x1a17+0x125*-0xd+0.1)),_0x9cbab4['farClip']=_0x13867c['max']-_0x13867c['min']+(-0x5b4+-0x25ed*-0x1+-0x1*0x2039+0.2),_0xe1b48d['projection'+'Compensati'+'on']=_0x34eefb;}}['generateSp'+'litDistanc'+'es'](_0x45a438,_0x843324,_0x28c8be){_0x45a438['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x28c8be);for(let _0xcf2ce7=-0x1cae+-0x1a28+0x36d7;_0xcf2ce7<_0x45a438['numCascade'+'s'];_0xcf2ce7++){const _0xd613b4=_0xcf2ce7/_0x45a438['numCascade'+'s'],_0x2232ae=_0x843324+(_0x28c8be-_0x843324)*_0xd613b4,_0x45a5a2=_0x843324*(_0x28c8be/_0x843324)**_0xd613b4,_0x2bac1c=N['lerp'](_0x2232ae,_0x45a5a2,_0x45a438['cascadeDis'+'tribution']);_0x45a438['_shadowCas'+'cadeDistan'+'ces'][_0xcf2ce7-(-0xd44+-0xa1*0x36+-0x1*-0x2f3b)]=_0x2bac1c;}}['getLightRe'+'nderPass'](_0x405a87,_0xe6bb5f){v['assert'](_0x405a87&&_0x405a87['_type']===oe);let _0x26b430=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x405a87)){const _0x22be4e=_0x405a87['numShadowF'+'aces'],_0x8a4b3e=_0x405a87['shadowUpda'+'teOverride'+'s'];let _0x41c949=!(-0x119a+0x162c+-0x492),_0x52f191;for(let _0x17b970=-0x1535+0x7e*0x2a+0x89;_0x17b970<_0x22be4e;_0x17b970++)(_0x8a4b3e==null?void(0x173c+0x1*-0x2275+0xb39):_0x8a4b3e[_0x17b970])===Ps&&(_0x41c949=!(-0x24cc+0x20a0+0x1*0x42d)),_0x52f191=this['shadowRend'+'erer']['prepareFac'+'e'](_0x405a87,_0xe6bb5f,_0x17b970);_0x26b430=new _M(this['device'],this['shadowRend'+'erer'],_0x405a87,_0xe6bb5f,_0x41c949),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x26b430,_0x52f191,_0x41c949);}return _0x26b430;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(0x17e*-0x2+-0x44e+0x74c),Xa=new Q(0xe3+-0x9f*-0x9+-0x679,0x1d2*-0xb+0x12fa+0x10d,0x5*0x3fa+0x206e+0xc*-0x45c,0x1fc+0x1719*0x1+0x1915*-0x1),p_=new q();function xM(_0x4c27ca,_0x146874){return Math['exp'](-(_0x4c27ca*_0x4c27ca)/((0xc0b*-0x2+-0x7*0x10b+0x1f65)*_0x146874*_0x146874));}function SM(_0x527583){const _0x552812=(_0x527583-(0x1*-0x1343+0x241a+0x1af*-0xa))/(-0x5*0x545+0xef6+0xb69),_0x3a05db=(_0x527583-(0x1615+0x1360+0x17b*-0x1c))*(0x40e*-0x4+0x2*-0xd46+0x5c*0x77+0.5),_0x549dc1=new Array(_0x527583);let _0x25b2b8=-0x11*0x1bb+0x226*-0xb+0x350d*0x1;for(let _0x5763d0=-0x1d*0xdf+0x1*0xaf3+0xe50;_0x5763d0<_0x527583;++_0x5763d0)_0x549dc1[_0x5763d0]=xM(_0x5763d0-_0x3a05db,_0x552812),_0x25b2b8+=_0x549dc1[_0x5763d0];for(let _0x5f5534=-0x3c4+-0x1b87+0x1*0x1f4b;_0x5f5534<_0x527583;++_0x5f5534)_0x549dc1[_0x5f5534]/=_0x25b2b8;return _0x549dc1;}class I0{constructor(_0x3eac36,_0x11afe6){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x3eac36['device'],this['renderer']=_0x3eac36,this['lightTextu'+'reAtlas']=_0x11afe6);const _0xa7f78b=this['device']['scope'];this['sourceId']=_0xa7f78b['resolve']('source'),this['pixelOffse'+'tId']=_0xa7f78b['resolve']('pixelOffse'+'t'),this['weightId']=_0xa7f78b['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0xa7f78b['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x1*-0x32b+-0x1*0xc96+-0x7e1*-0x2),!(-0x1*0x152b+0x2*-0xa76+0x1*0x2a18),!(-0x37*0x3e+-0x17*0xc7+-0x7cd*-0x4),!(-0x1*-0x737+-0x148f+0x11*0xc9));}static['createShad'+'owCamera'](_0x5c6122,_0x45111b,_0x13bd94){const _0x452f71=Ma['create']('ShadowCame'+'ra',_0x45111b,_0x13bd94),_0x3a187a=ir['get'](_0x5c6122);v['assert'](_0x3a187a);const _0x1ace78=(_0x3a187a==null?void(-0x24a+0x2b8*0x3+0x5de*-0x1):_0x3a187a['vsm'])??!(-0x1*0x1ac5+0x1c64+-0x19e),_0x224385=(_0x3a187a==null?void(0x369+-0x23ba*-0x1+-0x2723):_0x3a187a['pcf'])??!(0x1221*-0x1+0x1b62*0x1+-0x940);return _0x1ace78?_0x452f71['clearColor']=new Y(0x1678+0x4d4+-0x1b4c,0x4a2*-0x1+0x59*0x1d+-0x9b*0x9,0x174f+0x1fd1+-0x3720,-0x18f1+-0x52d*0x1+0x1e1e):_0x452f71['clearColor']=new Y(0x109*0xb+-0x2437*0x1+0x1e9*0xd,0x96d*0x2+-0x36c+-0xf6d*0x1,-0xf89+0x848+0x742,-0x1131+0x1*-0x80f+0x3*0x86b),_0x452f71['clearDepth'+'Buffer']=!(0x12d6+-0x14aa+0x1d4),_0x452f71['clearStenc'+'ilBuffer']=!(0x1cc*-0x5+0x29*-0xec+0x2ec9*0x1),_0x452f71['clearColor'+'Buffer']=!_0x224385,_0x452f71;}['_cullShado'+'wCastersIn'+'ternal'](_0x302a8e,_0x55cd7f,_0x57a785){const _0x11817f=_0x302a8e['length'];for(let _0x347356=-0x1d2c+-0x1c2f+0x395b;_0x347356<_0x11817f;_0x347356++){const _0x160963=_0x302a8e[_0x347356];_0x160963['castShadow']&&(!_0x160963['cull']||_0x160963['_isVisible'](_0x57a785))&&(_0x160963['visibleThi'+'sFrame']=!(-0xbb4+0x1*0x24bb+-0x95*0x2b),_0x55cd7f['push'](_0x160963));}}['cullShadow'+'Casters'](_0x176f16,_0x511e5d,_0x243beb,_0xe8b0fe,_0xcd0d7f){if(_0x243beb['length']=-0x1ebe+-0x1*-0x1597+0x1*0x927,_0xcd0d7f)this['_cullShado'+'wCastersIn'+'ternal'](_0xcd0d7f,_0x243beb,_0xe8b0fe);else{const _0x289ad3=_0x176f16['layerList'],_0x5664b4=_0x289ad3['length'];for(let _0x5b3c13=-0x1*-0xa25+-0xb8e+0x169*0x1;_0x5b3c13<_0x5664b4;_0x5b3c13++){const _0x28d368=_0x289ad3[_0x5b3c13];_0x28d368['_lightsSet']['has'](_0x511e5d)&&(Rd['has'](_0x28d368)||(Rd['add'](_0x28d368),this['_cullShado'+'wCastersIn'+'ternal'](_0x28d368['shadowCast'+'ers'],_0x243beb,_0xe8b0fe)));}Rd['clear']();}_0x243beb['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x2a5140,_0x1036b4){const _0x182f6d=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x1036b4['_isPcf']:_0x1036b4['_isPcf']&&_0x1036b4['_type']!==Pe;_0x2a5140['setBlendSt'+'ate'](_0x182f6d?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x2a5140['setDepthSt'+'ate'](_0x1036b4['shadowDept'+'hState']),_0x2a5140['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x510db1,_0x5008ce,_0x53a03f,_0x42508f){const _0x3f187c=_0x5008ce['_node'];_0x510db1['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x3f187c['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x510db1['attenuatio'+'nEnd'])),u_['setTRS'](_0x3f187c['getPositio'+'n'](),_0x3f187c['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x5008ce['projection'+'Matrix'],u_);const _0x795185=_0x53a03f['shadowView'+'port'];_0x5008ce['rect']=_0x795185,_0x5008ce['scissorRec'+'t']=_0x53a03f['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x795185['x'],_0x795185['y'],_0x795185['z'],_0x795185['w']),_0x53a03f['shadowMatr'+'ix']['mul2'](p_,f_),_0x510db1['_type']===oe&&_0x510db1['_shadowMat'+'rixPalette']['set'](_0x53a03f['shadowMatr'+'ix']['data'],_0x42508f*(0x5*-0x1b9+0x287*-0x3+0x821*0x2));}['getShadowP'+'ass'](_0x5ba397){var _0x1c1faa;const _0x5e5850=_0x5ba397['_type'],_0x470de0=_0x5ba397['_shadowTyp'+'e'];let _0x22db56=(_0x1c1faa=this['shadowPass'+'Cache'][_0x5e5850])==null?void(-0x183+-0x1009+0x118c):_0x1c1faa[_0x470de0];if(!_0x22db56){const _0x53caab='ShadowPass'+'_'+_0x5e5850+'_'+_0x470de0;_0x22db56=Ks['get'](this['device'])['allocate'](_0x53caab,{'isShadow':!(-0x13cd+0x1910+-0x543),'lightType':_0x5e5850,'shadowType':_0x470de0}),this['shadowPass'+'Cache'][_0x5e5850]||(this['shadowPass'+'Cache'][_0x5e5850]=[]),this['shadowPass'+'Cache'][_0x5e5850][_0x470de0]=_0x22db56;}return _0x22db56['index'];}['submitCast'+'ers'](_0x1774ae,_0x166c0e,_0x46967d){const _0x1298c2=this['device'],_0x173e4f=this['renderer'],_0x420a4f=_0x173e4f['scene'],_0x5a5567=0x2*-0x187+0x97d+0x2*-0x337<<Rp,_0x1fbd33=this['getShadowP'+'ass'](_0x166c0e),_0x429837=_0x46967d['shaderPara'+'ms'],_0x37902c=_0x46967d['renderTarg'+'et']['flipY']?-(-0x1*-0x904+-0x2295+-0x1*-0x1992):-0x17d7*-0x1+-0x32d+-0x14a9,_0x3aae45=_0x1774ae['length'];for(let _0x11f92f=-0x57e*-0x3+0x1*-0xaf9+-0x1*0x581;_0x11f92f<_0x3aae45;_0x11f92f++){const _0x2c9899=_0x1774ae[_0x11f92f],_0x1bd0e9=_0x2c9899['mesh'];_0x2c9899['ensureMate'+'rial'](_0x1298c2);const _0x1309c1=_0x2c9899['material'];G['pushGpuMar'+'ker'](_0x1298c2,'Node:\x20'+_0x2c9899['node']['name']+(',\x20Material'+':\x20')+_0x1309c1['name']),_0x173e4f['setBaseCon'+'stants'](_0x1298c2,_0x1309c1),_0x173e4f['setSkinnin'+'g'](_0x1298c2,_0x2c9899),_0x1309c1['dirty']&&(_0x1309c1['updateUnif'+'orms'](_0x1298c2,_0x420a4f),_0x1309c1['dirty']=!(0xf26+0x81f*-0x1+0x3a*-0x1f)),_0x173e4f['setupCullM'+'ode'](!(0xe2*-0x15+0x91*-0x17+0x1*0x1f91),_0x37902c,_0x2c9899),_0x1309c1['setParamet'+'ers'](_0x1298c2),_0x2c9899['setParamet'+'ers'](_0x1298c2,_0x5a5567);const _0x9bbe1c=_0x2c9899['getShaderI'+'nstance'](_0x1fbd33,-0x3*-0x33f+-0x28*0x7+-0x8a5*0x1,_0x420a4f,_0x429837,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x316129=_0x9bbe1c['shader'];v['assert'](_0x316129,'no\x20shader\x20'+'for\x20pass\x20'+_0x1fbd33,_0x1309c1),_0x2c9899['_key'][ku]=_0x316129['id'],_0x1298c2['setShader'](_0x316129),_0x173e4f['setVertexB'+'uffers'](_0x1298c2,_0x1bd0e9),_0x173e4f['setMorphin'+'g'](_0x1298c2,_0x2c9899['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x9bbe1c,_0x2c9899);const _0x15f611=_0x2c9899['renderStyl'+'e'];_0x1298c2['setIndexBu'+'ffer'](_0x1bd0e9['indexBuffe'+'r'][_0x15f611]),_0x173e4f['drawInstan'+'ce'](_0x1298c2,_0x2c9899,_0x1bd0e9,_0x15f611),_0x173e4f['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x1298c2);}}['needsShado'+'wRendering'](_0x27448f){const _0x416f1b=_0x27448f['enabled']&&_0x27448f['castShadow'+'s']&&_0x27448f['shadowUpda'+'teMode']!==Ps&&_0x27448f['visibleThi'+'sFrame'];return _0x27448f['shadowUpda'+'teMode']===cn&&(_0x27448f['shadowUpda'+'teMode']=Ps),_0x416f1b&&(this['renderer']['_shadowMap'+'Updates']+=_0x27448f['numShadowF'+'aces']),_0x416f1b;}['getLightRe'+'nderData'](_0x39379a,_0x81a1e5,_0x1dcb64){return _0x39379a['getRenderD'+'ata'](_0x39379a['_type']===oe?_0x81a1e5:null,_0x1dcb64);}['setupRende'+'rPass'](_0x22990e,_0x2d0fe6,_0x7ea38){const _0x3dfe71=_0x2d0fe6['renderTarg'+'et'];_0x22990e['init'](_0x3dfe71),_0x22990e['depthStenc'+'ilOps']['clearDepth'+'Value']=0xefe+-0x10cb+-0x9a*-0x3,_0x22990e['depthStenc'+'ilOps']['clearDepth']=_0x7ea38,_0x3dfe71['depthBuffe'+'r']?_0x22990e['depthStenc'+'ilOps']['storeDepth']=!(-0xc3f+0x1*-0x25c1+-0x320*-0x10):(_0x22990e['colorOps']['clearValue']['copy'](_0x2d0fe6['clearColor']),_0x22990e['colorOps']['clear']=_0x7ea38,_0x22990e['depthStenc'+'ilOps']['storeDepth']=!(0x7*-0xf9+0x1*-0x1999+-0x1*-0x2069)),_0x22990e['requiresCu'+'bemaps']=!(-0x1128+0x1a8b+-0x962);}['prepareFac'+'e'](_0x191122,_0x3b073a,_0x5c590c){const _0x3f817d=_0x191122['_type'],_0x10a9fe=this['getLightRe'+'nderData'](_0x191122,_0x3b073a,_0x5c590c)['shadowCame'+'ra'],_0x18c903=_0x3f817d===oe?0x53*0xb+-0x2443+0x20b2:_0x5c590c;return _0x10a9fe['renderTarg'+'et']=_0x191122['_shadowMap']['renderTarg'+'ets'][_0x18c903],_0x10a9fe;}['renderFace'](_0x8eb7ce,_0x294c8c,_0x19841b,_0x392b83,_0xf0f95=!(-0x1d98+-0x1596+-0x1*-0x332e)){const _0x3738e7=this['device'],_0x3ecfae=ne();G['pushGpuMar'+'ker'](_0x3738e7,'SHADOW\x20'+_0x8eb7ce['_node']['name']+'\x20FACE\x20'+_0x19841b);const _0x592e39=this['getLightRe'+'nderData'](_0x8eb7ce,_0x294c8c,_0x19841b),_0x218e20=_0x592e39['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x8eb7ce,_0x218e20,_0x592e39,_0x19841b);const _0x448f7c=_0x218e20['renderTarg'+'et'],_0xb2bf50=this['renderer'];_0xb2bf50['setCameraU'+'niforms'](_0x218e20,_0x448f7c),_0x3738e7['supportsUn'+'iformBuffe'+'rs']&&_0xb2bf50['setupViewU'+'niformBuff'+'ers'](_0x592e39['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x2674*0x1+0x1fda+-0x176f*0x3),_0xf0f95?(_0xb2bf50['setupViewp'+'ort'](_0x218e20,_0x448f7c),_0x392b83&&_0xb2bf50['clear'](_0x218e20)):_0xb2bf50['clearView'](_0x218e20,_0x448f7c,!(0x1f10+0xf*0x128+-0x60d*0x8),!(0x8f*0x22+-0xe*-0x185+-0x2843)),this['setupRende'+'rState'](_0x3738e7,_0x8eb7ce),this['submitCast'+'ers'](_0x592e39['visibleCas'+'ters'],_0x8eb7ce,_0x218e20),G['popGpuMark'+'er'](_0x3738e7),_0xb2bf50['_shadowMap'+'Time']+=ne()-_0x3ecfae;}['render'](_0x2809dd,_0x50545d,_0x346770=!(-0x1*0x107e+0x61*0x35+-0x397)){if(this['needsShado'+'wRendering'](_0x2809dd)){const _0x4f04f8=_0x2809dd['numShadowF'+'aces'];for(let _0x168c6e=-0x13*0x6a+0x1*0x221+-0x1*-0x5bd;_0x168c6e<_0x4f04f8;_0x168c6e++)this['prepareFac'+'e'](_0x2809dd,_0x50545d,_0x168c6e),this['renderFace'](_0x2809dd,_0x50545d,_0x168c6e,!(0xa+-0x2*0xe43+0x4*0x71f),_0x346770);this['renderVsm'](_0x2809dd,_0x50545d);}}['renderVsm'](_0x5188ba,_0x464146){_0x5188ba['_isVsm']&&_0x5188ba['_vsmBlurSi'+'ze']>0x3*-0x68a+-0x2dc+0x167b&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x5188ba['_type']===oe)&&this['applyVsmBl'+'ur'](_0x5188ba,_0x464146);}['getVsmBlur'+'Shader'](_0x35e38f,_0x21bacb){const _0x3a7f6c=this['blurVsmSha'+'der'];let _0x1001f4=_0x3a7f6c[_0x35e38f][_0x21bacb];if(!_0x1001f4){this['blurVsmWei'+'ghts'][_0x21bacb]=SM(_0x21bacb);const _0x53630a=X['fullscreen'+'QuadVS'];let _0xbabded='#define\x20SA'+'MPLES\x20'+_0x21bacb+'\x0a';_0xbabded+=this['blurVsmSha'+'derCode'][_0x35e38f];const _0x2b6f34='blurVsm'+_0x35e38f+_0x21bacb;_0x1001f4=Is(this['device'],_0x53630a,_0xbabded,_0x2b6f34),_0x3a7f6c[_0x35e38f][_0x21bacb]=_0x1001f4;}return _0x1001f4;}['applyVsmBl'+'ur'](_0x499665,_0x1d17a9){const _0x49f322=this['device'];G['pushGpuMar'+'ker'](_0x49f322,'VSM\x20'+_0x499665['_node']['name']),_0x49f322['setBlendSt'+'ate'](_t['NOBLEND']);const _0x2179f9=_0x499665['getRenderD'+'ata'](_0x499665['_type']===oe?_0x1d17a9:null,0x9*0x132+-0x11a4+0x6e2)['shadowCame'+'ra']['renderTarg'+'et'],_0x2275be=this['renderer']['shadowMapC'+'ache']['get'](_0x49f322,_0x499665),_0x2c94c5=_0x2275be['renderTarg'+'ets'][-0x1a04+-0xb8f*-0x1+0xe75],_0x38a61f=_0x499665['vsmBlurMod'+'e'],_0x16a3cf=_0x499665['_vsmBlurSi'+'ze'],_0x3d9f5a=this['getVsmBlur'+'Shader'](_0x38a61f,_0x16a3cf);Xa['z']=_0x499665['_shadowRes'+'olution']-(-0x1*0x9d+0x1fb3+-0x27*0xcc),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x2179f9['colorBuffe'+'r']),vr[0x113e+0xbe2+-0x1d20]=(-0x2*-0x23b+-0x12df*0x1+0xe6a)/_0x499665['_shadowRes'+'olution'],vr[0x1f6d+0xb40+-0xaab*0x4]=-0x36*-0x4+0x55*0x33+-0x11c7,this['pixelOffse'+'tId']['setValue'](vr),_0x38a61f===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x16a3cf]),dn(_0x49f322,_0x2c94c5,_0x3d9f5a,null,Xa),this['sourceId']['setValue'](_0x2c94c5['colorBuffe'+'r']),vr[-0x62*-0x11+0x796+-0xe17]=vr[0x2*0x58f+-0xff9+0x4db],vr[0xad*0x23+0x192e+-0x1*0x30d5]=0x2*0x1177+-0x7*0xa+-0x22a8,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x49f322,_0x2179f9,_0x3d9f5a,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x499665,_0x2275be),G['popGpuMark'+'er'](_0x49f322);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x1af73b){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x1af73b;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x3047b9=>{_0x3047b9['destroy']();}),this['_allocated']['length']=-0x7d1+0x26a8+0x62b*-0x5;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x1cdacd=new zu(this['device']);_0x1cdacd['name']='ClusterEmp'+'ty',_0x1cdacd['update']([]),this['_empty']=_0x1cdacd;}return this['_empty'];}['assign'](_0x14f6f4){const _0x551d33=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=0x2d7*0x9+0xbab+-0x253a,this['_clusters']['clear']();const _0x119fe1=_0x14f6f4['length'];for(let _0x116632=-0xbf*0x12+-0x1c2a+-0x1*-0x2998;_0x116632<_0x119fe1;_0x116632++){const _0xebb349=_0x14f6f4[_0x116632]['renderActi'+'ons'];if(_0xebb349){const _0x4a52c2=_0xebb349['length'];for(let _0x2d7d5e=-0x4*0x481+-0x2535+0xd3*0x43;_0x2d7d5e<_0x4a52c2;_0x2d7d5e++){const _0x3c90be=_0xebb349[_0x2d7d5e];_0x3c90be['lightClust'+'ers']=null;const _0x246592=_0x3c90be['layer'];if(_0x246592['hasCluster'+'edLights']&&_0x246592['meshInstan'+'ces']['length']){const _0x185b51=_0x246592['getLightId'+'Hash'](),_0x17f352=this['_clusters']['get'](_0x185b51);let _0x2f4b89=_0x17f352==null?void(0xc1*-0xb+-0x90d+-0x128*-0xf):_0x17f352['lightClust'+'ers'];_0x2f4b89||(_0x2f4b89=Fl['pop']()??new zu(this['device']),mn['setName'](_0x2f4b89,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x2f4b89),this['_clusters']['set'](_0x185b51,_0x3c90be)),_0x3c90be['lightClust'+'ers']=_0x2f4b89;}_0x3c90be['lightClust'+'ers']||(_0x3c90be['lightClust'+'ers']=_0x551d33);}}}Fl['forEach'](_0x2468b6=>_0x2468b6['destroy']()),Fl['length']=0x1*0x851+0x2*-0x443+-0x35*-0x1;}['update'](_0x3ab094,_0x4a543b){this['assign'](_0x3ab094),this['_clusters']['forEach'](_0xe58763=>{const _0x3b719f=_0xe58763['layer'];_0xe58763['lightClust'+'ers']['update'](_0x3b719f['clusteredL'+'ightsSet'],_0x4a543b);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x4622c5,_0x2426a3){super(_0x4622c5),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x2426a3,this['requiresCu'+'bemaps']=!(0xd3b+-0x15bd+-0x883*-0x1),this['blitTextur'+'eId']=_0x4622c5['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x4622c5['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x49ab9c,_0x56d258;(_0x49ab9c=this['_quadRende'+'rer2D'])==null||_0x49ab9c['destroy'](),this['_quadRende'+'rer2D']=null,(_0x56d258=this['_quadRende'+'rerCube'])==null||_0x56d258['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x18ad4d,_0xf707a){v['assert'](_0x18ad4d);const _0x2b2a65=new kp(_0x18ad4d['device'],_0xf707a);return _0x2b2a65['init'](_0x18ad4d),_0x2b2a65['colorOps']['clear']=!(-0x7+0x48b*0x4+0x6c*-0x2b),_0x2b2a65['depthStenc'+'ilOps']['clearDepth']=!(0x1*0x397+0x2*0x128+0x1*-0x5e6),_0x2b2a65;}['update'](_0x4e7876){const _0x354d77=this['_filteredL'+'ights'];this['filter'](_0x4e7876,_0x354d77),this['executeEna'+'bled']=_0x354d77['length']>-0x7*-0xba+-0xcd1*0x3+0x215d;}['filter'](_0x35342a,_0x1aa7a2){for(let _0x164b54=-0x595*-0x5+-0xaaa+-0x5*0x373;_0x164b54<_0x35342a['length'];_0x164b54++){const _0x51d27f=_0x35342a[_0x164b54];_0x51d27f['_type']!==oe&&_0x51d27f['atlasViewp'+'ortAllocat'+'ed']&&_0x51d27f['atlasSlotU'+'pdated']&&_0x51d27f['enabled']&&_0x51d27f['cookie']&&_0x51d27f['visibleThi'+'sFrame']&&_0x1aa7a2['push'](_0x51d27f);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x5574c5=0x1d1d+-0x1*-0x1d15+-0x3a32;_0x5574c5<0x2c6+-0x2ba*-0x2+-0x834;_0x5574c5++){const _0x47ab4c=Ma['create'](null,Pe,_0x5574c5),_0x2144c2=_0x47ab4c['projection'+'Matrix'],_0x37338a=_0x47ab4c['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x5574c5]=new q()['mul2'](_0x2144c2,_0x37338a)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x20b651=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x20b651);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x5b220e=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x5b220e);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x4f93e7=this['device'];_0x4f93e7['setBlendSt'+'ate'](_t['NOBLEND']),_0x4f93e7['setCullMod'+'e'](mt),_0x4f93e7['setDepthSt'+'ate'](as['NODEPTH']),_0x4f93e7['setStencil'+'State']();const _0x49f1f5=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x5b5113=this['_cubeSlots'+'Offsets'],_0x1e9f52=this['_filteredL'+'ights'];for(let _0x2bed02=0x10f7+-0x16*-0x125+-0x2a25;_0x2bed02<_0x1e9f52['length'];_0x2bed02++){const _0xaeb49f=_0x1e9f52[_0x2bed02];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0xaeb49f['_node']['name']);const _0x46f343=_0xaeb49f['numShadowF'+'aces'],_0x1c348c=_0x46f343>-0x16f7*-0x1+-0x2560+0xe6a?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x46f343>-0x1*-0xcb1+-0x1d56+-0x10a6*-0x1&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0xaeb49f['cookie']);for(let _0x2b62f9=-0x3*0x2f2+0x1a6a+0x7d*-0x24;_0x2b62f9<_0x46f343;_0x2b62f9++){if(Gi['copy'](_0xaeb49f['atlasViewp'+'ort']),_0x46f343>-0x6f0+0x2*-0x386+0xdfd){const _0x250ba5=Gi['z']/(-0x1235+0x170b+-0x4d3*0x1),_0x5bc51c=_0x5b5113[_0x2b62f9];Gi['x']+=_0x250ba5*_0x5bc51c['x'],Gi['y']+=_0x250ba5*_0x5bc51c['y'],Gi['z']=_0x250ba5,Gi['w']=_0x250ba5,this['invViewPro'+'jId']['setValue'](Id[_0x2b62f9]['data']);}Gi['mulScalar'](_0x49f1f5),_0x1c348c['render'](Gi);}G['popGpuMark'+'er'](_0x4f93e7);}_0x1e9f52['length']=-0x1b2d+0x8*0xeb+0x13d5;}}class TM extends ds{constructor(_0x68904b,_0x39e65d,_0x44be7d){super(_0x68904b),this['requiresCu'+'bemaps']=!(0x17ad+-0x2*-0xc18+-0x2fdc),this['shadowRend'+'erer']=_0x39e65d,this['shadowRend'+'ererLocal']=_0x44be7d;}['update'](_0xe8f8f3){const _0x38a490=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x47c7bd=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x38a490,_0xe8f8f3),_0x1210b1=_0x38a490['length'];this['enabled']=_0x1210b1>-0x1d*-0x10f+-0x48e+-0x17*0x123,_0x1210b1&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x47c7bd,!(-0xd*-0x20c+0x1*-0x2383+0x5f*0x18));}['execute'](){const _0xb9b5ee=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x1b74df=_0xb9b5ee['length'];for(let _0x5a9a4e=0x3*-0x2f9+0x1e02+-0x1517;_0x5a9a4e<_0x1b74df;_0x5a9a4e++){const _0x5d9640=_0xb9b5ee[_0x5a9a4e];for(let _0x447249=0x5ca*0x1+-0x3*0x6d+-0x15*0x37;_0x447249<_0x5d9640['numShadowF'+'aces'];_0x447249++)this['shadowRend'+'erer']['renderFace'](_0x5d9640,null,_0x447249,!(-0x1*-0x905+0x17a5+-0x2*0x1055));}_0xb9b5ee['length']=0xbc3*-0x1+-0x1a33+0x12fb*0x2;}}class AM extends ds{constructor(_0x80e43f,_0x3b6de4,_0x1f4b91,_0xc5743f,_0x5883b5){super(_0x80e43f),this['renderer']=_0x3b6de4,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x5883b5['cookieRend'+'erTarget'],_0x5883b5['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x80e43f,_0x1f4b91,_0xc5743f),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x1c488b,_0x179f94,_0x3f300d,_0x2e68dd,_0x4d0b4d){this['frameGraph']=_0x1c488b,this['cookiesRen'+'derPass']['enabled']=_0x3f300d,_0x3f300d&&this['cookiesRen'+'derPass']['update'](_0x2e68dd),this['shadowRend'+'erPass']['enabled']=_0x179f94,_0x179f94&&this['shadowRend'+'erPass']['update'](_0x4d0b4d);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x3bae33=ne(),{renderer:_0x460c72}=this,{scene:_0x44633c}=_0x460c72;_0x460c72['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x44633c['lighting']),_0x460c72['_lightClus'+'tersTime']+=ne()-_0x3bae33,_0x460c72['_lightClus'+'ters']=_0x460c72['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=-0x1*0xe7c+-0x8c2+0x173e;const Hi=new q(),Wi=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](0x15e4+0x2df*0x1+0xc61*-0x2,-(-0x18e5+0x16a2+0xa*0x3a),-0x6d9*0x2+0x1139*-0x1+0x1eec),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0x1*-0x678+-0xc62*-0x3+0x1ead*-0x1,-0x222e+-0x147+0x2375*0x1,0x1285+-0x1cf*0x8+-0x40d,-0xc37+0x1*-0x1a3f+0x2676,0x791*0x1+-0x254e+-0x1dbd*-0x1,0x25cd*0x1+0x25ec*0x1+-0x4bb8,-0x265c+0x112*-0x7+0x2dda,0x341+-0xafc+0x7bb*0x1,-0x1455+0x7b8+0xc9d,0x1c9e+-0xac9+0x1*-0x11d5,0x1949+0x3df*0x3+-0x24e6*0x1+0.5,0x1086+-0x9*0xf5+-0xe1*0x9,0x2c*-0x29+-0x248d+0x2b99,-0x184c+0x1d5f+-0x513,0x3*-0x4ae+-0x7*-0x24b+0x5*-0x67+0.5,0x1445*-0x1+0x8b*-0x3e+-0x35f*-0x10]),x_=[new W(-0x1*-0x1235+-0xe66+0x1*-0x3cf+0.5,-0x3*-0xa27+-0x2c4+-0x1a1*0x11+0.333333),new W(0xc37+-0x217d*0x1+-0x2*-0xaa3+0.25,0x222b*0x1+-0x2*0x114a+0x69+0.666667),new W(-0x250+-0x1cf+-0x5*-0xd3+0.75,-0x1254+-0x682+0x18d6+0.111111),new W(-0x39*-0x6f+-0x5d7+-0x12e0+0.125,-0x221b+0x19c2+0x859*0x1+0.444444),new W(-0xaa8+-0xfc6+0x1a6e+0.625,-0xec5*0x1+-0x1a*-0x81+0x1ab*0x1+0.777778),new W(-0xcbe+0x1*0x1924+-0xc66+0.375,-0x1*0x25b8+-0xd20+0x32d8+0.222222),new W(0x1c27+-0x74d*-0x5+0x4*-0x102a+0.875,0xe55*-0x1+-0x255f+0x33b4+0.555556),new W(0x2421*0x1+-0x4*-0x367+-0x31bd+0.0625,0x9*0x143+-0x17e*0x17+-0x16f7*-0x1+0.888889),new W(-0x71f+-0x1acf+-0x65*-0x56+0.5625,0x1e74+0xf*0x161+-0xd*0x3ef+0.037037),new W(-0x10*-0x264+-0x1*0x1aa5+-0xb9b*0x1+0.3125,0x2*0xc9+-0x117f+0xfed+0.37037),new W(0xd63+-0x169*-0x6+-0x15d9+0.8125,0x131a+0x611+-0x192b+0.703704),new W(-0x1467+0xdd3*0x1+0x1*0x694+0.1875,0x7+0x81a+-0x821+0.148148),new W(0x1cf*-0x3+0x1*0x57e+-0x11+0.6875,-0x1a82+-0x29*-0x4f+0xddb*0x1+0.481481),new W(0x8dd*-0x2+0x7*-0x22a+0x20e0+0.4375,0x3*0x958+0x2474+-0x407c+0.814815),new W(0x1085*-0x2+0xad8+0x1632+0.9375,-0x1ad+-0xaa7+0xc54+0.259259),new W(-0x840*0x4+0x6c8+-0x1a38*-0x1+0.03125,0x4*0x6c3+0x1a22+0x1*-0x352e+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x5e02f1){c(this,'clustersDe'+'bugRendere'+'d',!(-0x17fd+-0xd13+-0xc5b*-0x3)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(-0x1ed4+-0x1*-0x954+0x15fb)),(this['device']=_0x5e02f1,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x5e02f1),this['lightTextu'+'reAtlas']=new uM(_0x5e02f1),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x14d4*-0x1+0x6*-0x2d2+0x25c0,this['_morphTime']=-0xd6a+-0x3*-0x62f+-0x523,this['_cullTime']=0x21*0xaa+0xd*-0x1f7+0x3a1,this['_shadowMap'+'Time']=-0xb*-0x31f+0x884+-0x2ad9,this['_lightClus'+'tersTime']=0x1b7e+0x1722+-0x48*0xb4,this['_layerComp'+'ositionUpd'+'ateTime']=-0x1db8+-0x18*0xb3+0x2*0x1740,this['_shadowDra'+'wCalls']=0x2a*-0x73+-0x11fd+0x75f*0x5,this['_skinDrawC'+'alls']=-0x39*-0x15+-0x1e8+0x1*-0x2c5,this['_instanced'+'DrawCalls']=-0x4*0x6be+0xa3*-0x2e+0x3842,this['_shadowMap'+'Updates']=-0xa45+-0x1*0x2110+0x2b55,this['_numDrawCa'+'llsCulled']=-0x1c2c*-0x1+-0x1*0x12c1+0x96b*-0x1,this['_camerasRe'+'ndered']=-0x10c*-0x19+-0x1c52+0x5*0x6e,this['_lightClus'+'ters']=-0x1d0f+-0x72b+0x243a);const _0x1f6e6e=_0x5e02f1['scope'];this['boneTextur'+'eId']=_0x1f6e6e['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x1f6e6e['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x1f6e6e['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x1f6e6e['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x1f6e6e['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x1582+-0x1fa0+0xaa1*0x5),this['viewPosId']=_0x1f6e6e['resolve']('view_posit'+'ion'),this['projId']=_0x1f6e6e['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x1f6e6e['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x1f6e6e['resolve']('matrix_vie'+'w'),this['viewId3']=_0x1f6e6e['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x1f6e6e['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x1f6e6e['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x1f6e6e['resolve']('tbnBasis'),this['nearClipId']=_0x1f6e6e['resolve']('camera_nea'+'r'),this['farClipId']=_0x1f6e6e['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x624+-0x21b5+0x1b95),this['cameraPara'+'msId']=_0x1f6e6e['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x1f6e6e['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0x1588+-0x7*0x3cf+0x3031,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(-0xe2e+0x23b1+0x157f*-0x1),this['blueNoiseJ'+'itterId']=_0x1f6e6e['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x1f6e6e['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x1f6e6e['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x1f6e6e['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x1f6e6e['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x1f6e6e['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x1d51+0x216+0x1b3b),this['morphPosit'+'ionTex']=_0x1f6e6e['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x1f6e6e['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x1f6e6e['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x1f6e6e['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x2ba82,_0x1742a6){if(_0x2ba82['layer']===_0x1742a6['layer']){if(_0x2ba82['drawOrder']&&_0x1742a6['drawOrder'])return _0x2ba82['drawOrder']-_0x1742a6['drawOrder'];if(_0x2ba82['zdist']&&_0x1742a6['zdist'])return _0x1742a6['zdist']-_0x2ba82['zdist'];if(_0x2ba82['zdist2']&&_0x1742a6['zdist2'])return _0x2ba82['zdist2']-_0x1742a6['zdist2'];}return _0x1742a6['_key'][Ei]-_0x2ba82['_key'][Ei];}['sortCompar'+'eMesh'](_0x76210e,_0x18fc90){if(_0x76210e['layer']===_0x18fc90['layer']){if(_0x76210e['drawOrder']&&_0x18fc90['drawOrder'])return _0x76210e['drawOrder']-_0x18fc90['drawOrder'];if(_0x76210e['zdist']&&_0x18fc90['zdist'])return _0x18fc90['zdist']-_0x76210e['zdist'];}const _0x2d9143=_0x76210e['_key'][Ei],_0x130407=_0x18fc90['_key'][Ei];return _0x2d9143===_0x130407&&_0x76210e['mesh']&&_0x18fc90['mesh']?_0x18fc90['mesh']['id']-_0x76210e['mesh']['id']:_0x130407-_0x2d9143;}['sortCompar'+'eDepth'](_0x49164b,_0x22a2e9){const _0xa5b104=_0x49164b['_key'][ku],_0xb391b6=_0x22a2e9['_key'][ku];return _0xa5b104===_0xb391b6&&_0x49164b['mesh']&&_0x22a2e9['mesh']?_0x22a2e9['mesh']['id']-_0x49164b['mesh']['id']:_0xb391b6-_0xa5b104;}['setupViewp'+'ort'](_0x3333d4,_0x19b71a){const _0x30043a=this['device'],_0x3a858f=_0x19b71a?_0x19b71a['width']:_0x30043a['width'],_0x3666ca=_0x19b71a?_0x19b71a['height']:_0x30043a['height'],_0x1ce52c=_0x3333d4['rect'];let _0x32d45d=Math['floor'](_0x1ce52c['x']*_0x3a858f),_0x5930d8=Math['floor'](_0x1ce52c['y']*_0x3666ca),_0x269787=Math['floor'](_0x1ce52c['z']*_0x3a858f),_0xbacc74=Math['floor'](_0x1ce52c['w']*_0x3666ca);if(_0x30043a['setViewpor'+'t'](_0x32d45d,_0x5930d8,_0x269787,_0xbacc74),_0x3333d4['_scissorRe'+'ctClear']){const _0x1dbb8d=_0x3333d4['scissorRec'+'t'];_0x32d45d=Math['floor'](_0x1dbb8d['x']*_0x3a858f),_0x5930d8=Math['floor'](_0x1dbb8d['y']*_0x3666ca),_0x269787=Math['floor'](_0x1dbb8d['z']*_0x3a858f),_0xbacc74=Math['floor'](_0x1dbb8d['w']*_0x3666ca);}_0x30043a['setScissor'](_0x32d45d,_0x5930d8,_0x269787,_0xbacc74);}['setCameraU'+'niforms'](_0x5d5419,_0x11396a){var _0x32ff7d,_0x51911e;const _0x3be924=_0x11396a==null?void(-0x26ef+-0x12bb+0x39aa):_0x11396a['flipY'];let _0x2c0a3a=0x1cfd+-0x3ee+-0x85a*0x3;if(_0x5d5419['xr']&&_0x5d5419['xr']['session']){const _0x241bd3=((_0x51911e=(_0x32ff7d=_0x5d5419['_node'])==null?void(0x25f0+0x16cf*-0x1+-0xf21):_0x32ff7d['parent'])==null?void(0xfb*0x1b+-0xf5e+-0xb1b):_0x51911e['getWorldTr'+'ansform']())||null,_0x51f530=_0x5d5419['xr']['views'];_0x2c0a3a=_0x51f530['list']['length'];for(let _0x3130cb=-0x2*0xd79+0x303*0x3+0x5*0x395;_0x3130cb<_0x2c0a3a;_0x3130cb++){const _0x1d6e32=_0x51f530['list'][_0x3130cb];_0x1d6e32['updateTran'+'sforms'](_0x241bd3),_0x5d5419['frustum']['setFromMat'+'4'](_0x1d6e32['projViewOf'+'fMat']);}}else{let _0x4b1aee=_0x5d5419['projection'+'Matrix'];_0x5d5419['calculateP'+'rojection']&&_0x5d5419['calculateP'+'rojection'](_0x4b1aee,Al);let _0x1a9fcb=_0x5d5419['getProject'+'ionMatrixS'+'kybox']();_0x3be924&&(_0x4b1aee=EM['mul2'](g_,_0x4b1aee),_0x1a9fcb=CM['mul2'](g_,_0x1a9fcb)),this['device']['isWebGPU']&&(_0x4b1aee=MM['mul2'](y_,_0x4b1aee),_0x1a9fcb=PM['mul2'](y_,_0x1a9fcb));const {jitter:_0x539bb8}=_0x5d5419;let _0x458a57=0x1bd8+0x262*-0x1+-0x1976,_0x1a40a1=0x4*0x50+0x1e60+0x3f4*-0x8;if(_0x539bb8>0x1*-0x31d+-0x126*0xe+0x1331){const _0x4f8c08=_0x11396a?_0x11396a['width']:this['device']['width'],_0x45fa53=_0x11396a?_0x11396a['height']:this['device']['height'],_0x24108a=x_[this['device']['renderVers'+'ion']%x_['length']];_0x458a57=_0x539bb8*(_0x24108a['x']*(0x3*0xc03+-0xfb+-0x230c)-(-0xc3*-0xd+0xb0*-0x2+-0x886))/_0x4f8c08,_0x1a40a1=_0x539bb8*(_0x24108a['y']*(-0x3a1*0x4+0x7e1+0x237*0x3)-(-0x960+-0xe*0x1fd+0x7*0x551))/_0x45fa53,_0x4b1aee=RM['copy'](_0x4b1aee),_0x4b1aee['data'][-0xd83+-0xb*-0x343+-0x1656]=_0x458a57,_0x4b1aee['data'][-0x2041*-0x1+-0x4b7+-0x1b81*0x1]=_0x1a40a1,_0x1a9fcb=IM['copy'](_0x1a9fcb),_0x1a9fcb['data'][-0xa7b*-0x1+0xe3+-0x1*0xb56]=_0x458a57,_0x1a9fcb['data'][-0x10b9+-0x17e*-0x1+0x3d1*0x4]=_0x1a40a1,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x54a1c4=_0x539bb8>0x14*-0x8+0x160b+-0x156b?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][0x12*0x161+0x1cd6+-0x35a8]=_0x54a1c4['x'],this['blueNoiseJ'+'itterData'][-0x3b6*0x2+-0x2*-0x2db+-0x1b7*-0x1]=_0x54a1c4['y'],this['blueNoiseJ'+'itterData'][-0x549*0x2+0x7e7+0x2ad]=_0x54a1c4['z'],this['blueNoiseJ'+'itterData'][0x2*-0xae3+-0x133*-0x13+-0x100]=_0x54a1c4['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x4b1aee['data']),this['projSkybox'+'Id']['setValue'](_0x1a9fcb['data']),_0x5d5419['calculateT'+'ransform'])_0x5d5419['calculateT'+'ransform'](Wi,Al);else{const _0x13c5b7=_0x5d5419['_node']['getPositio'+'n'](),_0x4950e0=_0x5d5419['_node']['getRotatio'+'n']();Wi['setTRS'](_0x13c5b7,_0x4950e0,T['ONE']);}this['viewInvId']['setValue'](Wi['data']),Mn['copy'](Wi)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x4b1aee,Mn),this['viewProjId']['setValue'](Hi['data']),_0x5d5419['_storeShad'+'erMatrices'](Hi,_0x458a57,_0x1a40a1,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x3be924?-(-0x1*-0x2661+0x1*-0x1157+-0x1509):-0x2278*0x1+0x19df*-0x1+0x2*0x1e2c),this['dispatchVi'+'ewPos'](_0x5d5419['_node']['getPositio'+'n']()),_0x5d5419['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x3be924?-(0x7e9+0x1208+-0x28*0xa6):-0x159+0x2153+-0x1ff9);const _0x1e9cb8=_0x5d5419['_nearClip'],_0x5b8cae=_0x5d5419['_farClip'];return this['nearClipId']['setValue'](_0x1e9cb8),this['farClipId']['setValue'](_0x5b8cae),this['cameraPara'+'ms'][0x2687+-0x261*-0x10+0x4c97*-0x1]=(0x17d4+-0x14e0+0x1*-0x2f3)/_0x5b8cae,this['cameraPara'+'ms'][0x1c4*0x10+-0x45f+-0x17e0]=_0x5b8cae,this['cameraPara'+'ms'][0x225*0xd+-0xa4+-0x1*0x1b3b]=_0x1e9cb8,this['cameraPara'+'ms'][-0xeba+0x2be+-0x25*-0x53]=_0x5d5419['projection']===ua?0x49*-0x1+-0x85f*-0x4+0x4be*-0x7:-0x81a*0x2+0xf*-0x182+-0x1369*-0x2,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x5d5419['getExposur'+'e']():this['scene']['exposure']),_0x2c0a3a;}['clear'](_0x47c931,_0x32b46f,_0x1769c1,_0x494efe){const _0x55578f=(_0x32b46f??_0x47c931['_clearColo'+'rBuffer']?Co:0x1*-0xe2f+0xc95+0x19a)|(_0x1769c1??_0x47c931['_clearDept'+'hBuffer']?Mo:-0x94c+-0xe9f+0x27*0x9d)|(_0x494efe??_0x47c931['_clearSten'+'cilBuffer']?Ah:0x2fe*-0xb+0x17ed+0x8fd);if(_0x55578f){const _0x20fa1b=this['device'];G['pushGpuMar'+'ker'](_0x20fa1b,'CLEAR'),_0x20fa1b['clear']({'color':[_0x47c931['_clearColo'+'r']['r'],_0x47c931['_clearColo'+'r']['g'],_0x47c931['_clearColo'+'r']['b'],_0x47c931['_clearColo'+'r']['a']],'depth':_0x47c931['_clearDept'+'h'],'stencil':_0x47c931['_clearSten'+'cil'],'flags':_0x55578f}),G['popGpuMark'+'er'](_0x20fa1b);}}['setCamera'](_0x367563,_0x4d8fcf,_0x59a4b1,_0x1a902f=null){this['setCameraU'+'niforms'](_0x367563,_0x4d8fcf),this['clearView'](_0x367563,_0x4d8fcf,_0x59a4b1,!(0x1f6+-0x5b0*0x2+-0x1*-0x96b));}['clearView'](_0x2a9163,_0x2c5a27,_0x6250ed,_0x3f6859){const _0x4a14e7=this['device'];if(G['pushGpuMar'+'ker'](_0x4a14e7,'CLEAR-VIEW'),_0x4a14e7['setRenderT'+'arget'](_0x2c5a27),_0x4a14e7['updateBegi'+'n'](),_0x3f6859&&(_0x4a14e7['setColorWr'+'ite'](!(0x25d8+0x1*-0x1be3+-0x1*0x9f5),!(-0x2*-0xc1+-0x9*0x284+-0x1522*-0x1),!(-0x25c*0xa+-0x1*-0xd2b+0xa6d*0x1),!(0x38*-0x34+0x18ff+-0xd9f*0x1)),_0x4a14e7['setDepthWr'+'ite'](!(0x1*-0x1b4c+0x1607+0x545))),this['setupViewp'+'ort'](_0x2a9163,_0x2c5a27),_0x6250ed){const _0x502e87=_0x2a9163['_clearOpti'+'ons'];_0x4a14e7['clear'](_0x502e87||{'color':[_0x2a9163['_clearColo'+'r']['r'],_0x2a9163['_clearColo'+'r']['g'],_0x2a9163['_clearColo'+'r']['b'],_0x2a9163['_clearColo'+'r']['a']],'depth':_0x2a9163['_clearDept'+'h'],'flags':(_0x2a9163['_clearColo'+'rBuffer']?Co:0x13a0+-0x128*-0x2+-0x30*0x75)|(_0x2a9163['_clearDept'+'hBuffer']?Mo:-0x3*0x53+0x1c9*0x11+-0x1d60)|(_0x2a9163['_clearSten'+'cilBuffer']?Ah:0xb65*-0x1+-0x1bac+-0x89*-0x49),'stencil':_0x2a9163['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x4a14e7);}['setupCullM'+'ode'](_0x1d1174,_0x2774dd,_0x574aa0){const _0x1328d3=_0x574aa0['material'];let _0x14b818=mt;if(_0x1d1174){let _0x2cf42f=-0x1c79+0x3*-0x61+0x1d9d;(_0x1328d3['cull']===mo||_0x1328d3['cull']===rn)&&(_0x2cf42f=_0x2774dd*_0x574aa0['flipFacesF'+'actor']*_0x574aa0['node']['worldScale'+'Sign']),_0x2cf42f<-0xcc1+-0x1*-0x1aa5+-0x379*0x4?_0x14b818=_0x1328d3['cull']===mo?rn:mo:_0x14b818=_0x1328d3['cull'];}this['device']['setCullMod'+'e'](_0x14b818),_0x14b818===mt&&_0x1328d3['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x574aa0['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x1f7738){if(_0x1f7738['xr']&&_0x1f7738['xr']['views']['list']['length']){const _0x582099=_0x1f7738['xr']['views']['list'][0x2613+0x1c9d*-0x1+0xad*-0xe];Hi['mul2'](_0x582099['projMat'],_0x582099['viewOffMat']),_0x1f7738['frustum']['setFromMat'+'4'](Hi);return;}const _0x40441e=_0x1f7738['projection'+'Matrix'];if(_0x1f7738['calculateP'+'rojection']&&_0x1f7738['calculateP'+'rojection'](_0x40441e,Al),_0x1f7738['calculateT'+'ransform'])_0x1f7738['calculateT'+'ransform'](Wi,Al);else{const _0x808ab=_0x1f7738['_node']['getPositio'+'n'](),_0x3fff40=_0x1f7738['_node']['getRotatio'+'n']();Wi['setTRS'](_0x808ab,_0x3fff40,T['ONE']),this['viewInvId']['setValue'](Wi['data']);}Mn['copy'](Wi)['invert'](),Hi['mul2'](_0x40441e,Mn),_0x1f7738['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x2b34fb,_0x21f216){_0x2b34fb['setCullMod'+'e'](_0x21f216['cull']),_0x21f216['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x21f216['opacityMap']),(_0x21f216['opacityMap']||_0x21f216['alphaTest']>-0x1*-0x4ab+0xdca+-0x1275)&&this['alphaTestI'+'d']['setValue'](_0x21f216['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x4eee60){Dd++;const _0x24fe99=_0x4eee60['length'];if(_0x24fe99===0x43b*0x2+-0x906+0x90*0x1)return;const _0x399de7=ne();for(let _0x5b3d6a=0x14f*-0x1+-0x7*-0x251+0x1dd*-0x8;_0x5b3d6a<_0x24fe99;_0x5b3d6a++){const _0x86a96=_0x4eee60[_0x5b3d6a]['skinInstan'+'ce'];_0x86a96&&(_0x86a96['updateMatr'+'ices'](_0x4eee60[_0x5b3d6a]['node'],Dd),_0x86a96['_dirty']=!(0xcba+-0xd0a+0xa*0x8));}this['_skinTime']+=ne()-_0x399de7;}['updateGpuS'+'kinMatrice'+'s'](_0x1130cf){const _0x2c83cd=ne();for(const _0xc23233 of _0x1130cf){const _0x283c58=_0xc23233['skinInstan'+'ce'];_0x283c58&&_0x283c58['_dirty']&&(_0x283c58['updateMatr'+'ixPalette'](_0xc23233['node'],Dd),_0x283c58['_dirty']=!(0x1*-0x231c+-0x5*0x3f5+0x2*0x1b73));}this['_skinTime']+=ne()-_0x2c83cd;}['updateMorp'+'hing'](_0x2c1d07){const _0x2e7243=ne();for(const _0x24e9ca of _0x2c1d07){const _0x3c7c8c=_0x24e9ca['morphInsta'+'nce'];_0x3c7c8c&&_0x3c7c8c['_dirty']&&_0x3c7c8c['update']();}this['_morphTime']+=ne()-_0x2e7243;}['updateGSpl'+'ats'](_0x22ee62){var _0x2277b0;for(const _0x254e0e of _0x22ee62)(_0x2277b0=_0x254e0e['gsplatInst'+'ance'])==null||_0x2277b0['update']();}['gpuUpdate'](_0x416887){this['updateGpuS'+'kinMatrice'+'s'](_0x416887),this['updateMorp'+'hing'](_0x416887),this['updateGSpl'+'ats'](_0x416887);}['setVertexB'+'uffers'](_0x1e5413,_0x5f000a){_0x1e5413['setVertexB'+'uffer'](_0x5f000a['vertexBuff'+'er']);}['setMorphin'+'g'](_0x2cade9,_0x57cb59){_0x57cb59&&(_0x57cb59['prepareRen'+'dering'](_0x2cade9),_0x2cade9['setVertexB'+'uffer'](_0x57cb59['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x57cb59['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x57cb59['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x57cb59['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x266cfe,_0x5e91d9){const _0x29a661=_0x5e91d9['skinInstan'+'ce'];if(_0x29a661){this['_skinDrawC'+'alls']++;const _0x59d063=_0x29a661['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x59d063),this['boneTextur'+'eSizeId']['setValue'](_0x29a661['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x41422f){const _0x148aff=this['viewPos'];_0x148aff[-0x3*-0x923+-0x1066+-0xb03]=_0x41422f['x'],_0x148aff[-0xe*-0x20e+0x4*-0x8c1+0x641]=_0x41422f['y'],_0x148aff[-0x1a08+-0x2561*0x1+0x3f6b]=_0x41422f['z'],this['viewPosId']['setValue'](_0x148aff);}['initViewBi'+'ndGroupFor'+'mat'](_0x1d936a){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x477ad1=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',$t),new gt('skyboxInte'+'nsity',$s),new gt('exposure',$s),new gt('textureBia'+'s',$s)];_0x1d936a&&_0x477ad1['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',$t),new gt('clusterTex'+'tureSize',$t),new gt('clusterBou'+'ndsMin',$t),new gt('clusterBou'+'ndsDelta',$t),new gt('clusterCel'+'lsDot',$t),new gt('clusterCel'+'lsMax',$t),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x477ad1);const _0xe085b1=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x1d936a&&_0xe085b1['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0xe085b1);}}['setupViewU'+'niformBuff'+'ers'](_0x2a5a33,_0x4e06d8,_0x2fda23,_0x168303){v['assert'](Array['isArray'](_0x2a5a33),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x5edf1b=this['device'];for(v['assert'](_0x168303===-0x3d7+0x29*-0x35+0xc55,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x2a5a33['length']<_0x168303;){const _0x52b457=new gp(_0x5edf1b,_0x4e06d8,!(0xfcb+-0x1d2e+0xd64)),_0x47f8e7=new mp(_0x5edf1b,_0x2fda23,_0x52b457);mn['setName'](_0x47f8e7,'ViewBindGr'+'oup_'+_0x47f8e7['id']),_0x2a5a33['push'](_0x47f8e7);}const _0x4e43be=_0x2a5a33[0x8ba*0x2+-0x2ee+-0xe86];_0x4e43be['defaultUni'+'formBuffer']['update'](),_0x4e43be['update'](),_0x5edf1b['setBindGro'+'up'](Dh,_0x4e43be);}['setupMeshU'+'niformBuff'+'ers'](_0x368410,_0x12f02e){const _0x452463=this['device'];if(_0x452463['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x12f02e['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x12f02e['node']['normalMatr'+'ix']['data']);const _0x441620=_0x368410['getBindGro'+'up'](_0x452463);_0x441620['update'](),_0x452463['setBindGro'+'up'](Xy,_0x441620),_0x368410['getUniform'+'Buffer'](_0x452463)['update'](kd),_0x452463['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x252592,_0x1c5087,_0x38d10c,_0x9106cc,_0x3aa47f){const _0x560353=_0x1c5087['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x560353['data']),_0x3aa47f&&this['normalMatr'+'ixId']['setValue'](_0x1c5087['node']['normalMatr'+'ix']['data']);const _0x1ccdac=_0x1c5087['instancing'+'Data'];_0x1ccdac?_0x1ccdac['count']>-0x405*-0x6+-0x2624+0xe06?(this['_instanced'+'DrawCalls']++,_0x252592['setVertexB'+'uffer'](_0x1ccdac['vertexBuff'+'er']),_0x252592['draw'](_0x38d10c['primitive'][_0x9106cc],_0x1ccdac['count'])):_0x252592['clearVerte'+'xBuffer']():_0x252592['draw'](_0x38d10c['primitive'][_0x9106cc]);}['drawInstan'+'ce2'](_0x413596,_0x3e50be,_0x4379b4,_0x3d3b71){const _0x54c3f2=_0x3e50be['instancing'+'Data'];_0x54c3f2?_0x54c3f2['count']>-0x421+-0xfda*0x2+0x23d5?(this['_instanced'+'DrawCalls']++,_0x413596['draw'](_0x4379b4['primitive'][_0x3d3b71],_0x54c3f2['count'],!(-0x9*-0x18d+0x23a4+-0x3199))):_0x413596['clearVerte'+'xBuffer']():_0x413596['draw'](_0x4379b4['primitive'][_0x3d3b71],void(0x9f*0x27+-0x2651+0xe18),!(-0x220d*-0x1+0x923+-0x2b30));}['cull'](_0x2f7285,_0x288876,_0x30a1f9){const _0x537b7d=ne(),_0x2bf28a=_0x30a1f9['opaque'];_0x2bf28a['length']=-0x3f*0x5c+0x2694+-0xff0;const _0xcd835b=_0x30a1f9['transparen'+'t'];_0xcd835b['length']=-0xcd5+-0x254a+0x321f;const _0x45d263=_0x2f7285['frustumCul'+'ling'],_0x6fc12f=_0x288876['length'];for(let _0x48bc9f=-0x9*0x67+-0x1*0x14cb+0x186a;_0x48bc9f<_0x6fc12f;_0x48bc9f++){const _0x10b01e=_0x288876[_0x48bc9f];_0x10b01e['visible']&&(!_0x45d263||!_0x10b01e['cull']||_0x10b01e['_isVisible'](_0x2f7285))&&(_0x10b01e['visibleThi'+'sFrame']=!(0x25c*0xb+-0x9b*0x6+-0x2*0xb29),(_0x10b01e['transparen'+'t']?_0xcd835b:_0x2bf28a)['push'](_0x10b01e),(_0x10b01e['skinInstan'+'ce']||_0x10b01e['morphInsta'+'nce']||_0x10b01e['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x10b01e),_0x10b01e['gsplatInst'+'ance']&&_0x10b01e['gsplatInst'+'ance']['cameras']['push'](_0x2f7285)));}this['_cullTime']+=ne()-_0x537b7d,this['_numDrawCa'+'llsCulled']+=_0x45d263?_0x6fc12f:0x1*-0x1709+0x4*0x511+0x2c5*0x1;}['collectLig'+'hts'](_0x2ad4d0){this['lights']['length']=0xe6b+0x13*0xbe+0x1*-0x1c85,this['localLight'+'s']['length']=0x1*-0xf6e+0x25c5+0x331*-0x7;const _0x48f6fe=this['scene']['_stats'];_0x48f6fe['dynamicLig'+'hts']=-0x7*-0xeb+0x4*0x2fc+-0x3*0x61f,_0x48f6fe['bakedLight'+'s']=-0x1570+-0x26f*0xb+-0x1*-0x3035;const _0x579c99=_0x2ad4d0['layerList']['length'];for(let _0x526f62=-0xa7*-0x3b+-0x18c+-0x24f1;_0x526f62<_0x579c99;_0x526f62++){const _0xc1060b=_0x2ad4d0['layerList'][_0x526f62];if(!Od['has'](_0xc1060b)){Od['add'](_0xc1060b);const _0x37a195=_0xc1060b['_lights'];for(let _0x119b9f=0x67*0x7+-0x840+0x1*0x56f;_0x119b9f<_0x37a195['length'];_0x119b9f++){const _0x113e23=_0x37a195[_0x119b9f];Fd['has'](_0x113e23)||(Fd['add'](_0x113e23),this['lights']['push'](_0x113e23),_0x113e23['_type']!==oe&&this['localLight'+'s']['push'](_0x113e23),(_0x113e23['mask']&hs||_0x113e23['mask']&cr)&&_0x48f6fe['dynamicLig'+'hts']++,_0x113e23['mask']&rr&&_0x48f6fe['bakedLight'+'s']++);}}}_0x48f6fe['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x5a4432,_0x2cea0b){const _0x4ef712=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x5bc9d6=this['scene']['physicalUn'+'its'];for(let _0x4f33b2=-0x19f4+-0xa86*-0x2+0x4e8*0x1;_0x4f33b2<_0x2cea0b['length'];_0x4f33b2++){const _0x1a7944=_0x2cea0b[_0x4f33b2];if(_0x1a7944['enabled']){if(_0x1a7944['_type']!==oe){if(_0x1a7944['getBoundin'+'gSphere'](Ld),_0x5a4432['frustum']['containsSp'+'here'](Ld)){_0x1a7944['visibleThi'+'sFrame']=!(-0x1f02+0x121c+0x1*0xce6),_0x1a7944['usePhysica'+'lUnits']=_0x5bc9d6;const _0x5656c4=_0x5a4432['getScreenS'+'ize'](Ld);_0x1a7944['maxScreenS'+'ize']=Math['max'](_0x1a7944['maxScreenS'+'ize'],_0x5656c4);}else _0x4ef712||_0x1a7944['castShadow'+'s']&&!_0x1a7944['shadowMap']&&(_0x1a7944['visibleThi'+'sFrame']=!(-0xce*-0x28+-0x268b*-0x1+-0x46bb));}else _0x1a7944['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x402e7b){const _0x342b21=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x2085fe=0x2251+0x1*0x128f+-0x34e0;_0x2085fe<this['localLight'+'s']['length'];_0x2085fe++){const _0x41c346=this['localLight'+'s'][_0x2085fe];_0x41c346['_type']!==oe&&(_0x342b21?_0x41c346['atlasSlotU'+'pdated']&&_0x41c346['shadowUpda'+'teMode']===Ps&&(_0x41c346['shadowUpda'+'teMode']=cn):_0x41c346['shadowUpda'+'teMode']===Ps&&_0x41c346['castShadow'+'s']&&(_0x41c346['getRenderD'+'ata'](null,-0x12*-0x7f+0xa4*0x29+0x11*-0x212)['shadowCame'+'ra']['renderTarg'+'et']||(_0x41c346['shadowUpda'+'teMode']=cn)),_0x41c346['visibleThi'+'sFrame']&&_0x41c346['castShadow'+'s']&&_0x41c346['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x41c346,_0x402e7b));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x2e85df=_0x402e7b['cameras'];for(let _0x55fcf1=0x13f3*0x1+0x178*0x11+-0x2ceb;_0x55fcf1<_0x2e85df['length'];_0x55fcf1++){const _0x121e73=_0x2e85df[_0x55fcf1];if(_0x121e73['enabled']){const _0x369b5e=_0x121e73['camera'];let _0x4329b4;const _0x4587d1=_0x369b5e['layers'];for(let _0x20a64d=0x1*0x124a+0x6a7*-0x1+0x9*-0x14b;_0x20a64d<_0x4587d1['length'];_0x20a64d++){const _0x388a14=_0x402e7b['getLayerBy'+'Id'](_0x4587d1[_0x20a64d]);if(_0x388a14){const _0x5cf907=_0x388a14['splitLight'+'s'][oe];for(let _0x5c2004=0x7c1+0x1a3a+-0x21fb;_0x5c2004<_0x5cf907['length'];_0x5c2004++){const _0x4574d1=_0x5cf907[_0x5c2004];_0x4574d1['castShadow'+'s']&&!Pn['has'](_0x4574d1)&&(Pn['add'](_0x4574d1),_0x4329b4=_0x4329b4??[],_0x4329b4['push'](_0x4574d1),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4574d1,_0x402e7b,_0x369b5e));}}}_0x4329b4&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x369b5e,_0x4329b4),Pn['clear']();}}}['cullCompos'+'ition'](_0x14e3fa){const _0x1cb6c0=ne(),{scene:_0x3a5ba9}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x4ad1e5=_0x14e3fa['cameras']['length'];this['_camerasRe'+'ndered']+=_0x4ad1e5;for(let _0x3bd1cd=-0xc9f+0x23f9+-0x62*0x3d;_0x3bd1cd<_0x4ad1e5;_0x3bd1cd++){const _0x10b6fe=_0x14e3fa['cameras'][_0x3bd1cd];_0x3a5ba9==null||_0x3a5ba9['fire'](ow,_0x10b6fe);const _0x8b01a6=_0x10b6fe['renderTarg'+'et'];_0x10b6fe['frameUpdat'+'e'](_0x8b01a6),this['updateCame'+'raFrustum'](_0x10b6fe['camera']);const _0xcb8ede=_0x10b6fe['layers'];for(let _0x566dc1=0x6*0x1e9+0x1*-0x1917+0xda1;_0x566dc1<_0xcb8ede['length'];_0x566dc1++){const _0x23677b=_0x14e3fa['getLayerBy'+'Id'](_0xcb8ede[_0x566dc1]);if(_0x23677b&&_0x23677b['enabled']){this['cullLights'](_0x10b6fe['camera'],_0x23677b['_lights']);const _0x56117c=_0x23677b['getCulledI'+'nstances'](_0x10b6fe['camera']);this['cull'](_0x10b6fe['camera'],_0x23677b['meshInstan'+'ces'],_0x56117c);}}_0x3a5ba9==null||_0x3a5ba9['fire'](lw,_0x10b6fe);}_0x3a5ba9['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x14e3fa),this['_cullTime']+=ne()-_0x1cb6c0;}['updateShad'+'ers'](_0x3f91ca,_0x31a4b3){const _0x445809=_0x3f91ca['length'];for(let _0x5b7165=0x16eb+0x1c77+0x2*-0x19b1;_0x5b7165<_0x445809;_0x5b7165++){const _0x3c3191=_0x3f91ca[_0x5b7165]['material'];if(_0x3c3191&&!Pn['has'](_0x3c3191)&&(Pn['add'](_0x3c3191),_0x3c3191['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x31a4b3&&(!_0x3c3191['useLightin'+'g']||_0x3c3191['emitter']&&!_0x3c3191['emitter']['lighting']))continue;_0x3c3191['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x38e0ef){const _0x1b87fc=this['scene'],_0x232188=_0x1b87fc['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0xfc25ad=0x2114+0xa6c+-0x2b80;const _0x12c075=_0x38e0ef['layerList'],_0x4f407e=_0x12c075['length'];for(let _0x3b15b4=-0x2f*0x77+-0x1f95+0x1ab7*0x2;_0x3b15b4<_0x4f407e;_0x3b15b4++){const _0x4f8120=_0x12c075[_0x3b15b4]['meshInstan'+'ces'],_0x14e295=_0x4f8120['length'];_0xfc25ad+=_0x14e295;for(let _0x2b1eb1=-0x124e+0x111d+-0x3d*-0x5;_0x2b1eb1<_0x14e295;_0x2b1eb1++){const _0xe149bb=_0x4f8120[_0x2b1eb1];_0xe149bb['visibleThi'+'sFrame']=!(0x14ca+-0x2*0x1367+0x1205),_0x232188&&Bd['push'](_0xe149bb),_0xe149bb['skinInstan'+'ce']&&Nd['push'](_0xe149bb);}}if(_0x1b87fc['_stats']['meshInstan'+'ces']=_0xfc25ad,_0x232188){const _0xb307e3=!_0x1b87fc['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0xb307e3),_0x1b87fc['updateShad'+'ers']=!(0x3a*0x7f+0x1ff*-0x5+-0x1a*0xb9),this['device']['_shadersDi'+'rty']=!(0x13bc+0x2*-0x217+-0xf8d),_0x1b87fc['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0xe*-0xc9+0x1*-0x1727+0x1*0x2225,Nd['length']=0x4*0x44+0x109*0x1+0x219*-0x1;const _0x4dc5e3=this['lights'],_0x4d3bb7=_0x4dc5e3['length'];for(let _0x359f1f=0x1*-0x1c0b+0x207*0x6+0xfe1;_0x359f1f<_0x4d3bb7;_0x359f1f++)_0x4dc5e3[_0x359f1f]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x299749){const _0x841352=ne(),_0xd8149a=_0x299749['layerList']['length'],_0x3dcae0=this['scene']['_shaderVer'+'sion'];for(let _0x346b18=0xfc3+0xf96+-0x1f59;_0x346b18<_0xd8149a;_0x346b18++){const _0x36922b=_0x299749['layerList'][_0x346b18];_0x36922b['_shaderVer'+'sion']=_0x3dcae0,_0x36922b['_skipRende'+'rCounter']=-0x3*-0x6d3+0xa89+0x12*-0x1b9,_0x36922b['_forwardDr'+'awCalls']=0x3a+-0x1*-0x242c+-0x2466,_0x36922b['_shadowDra'+'wCalls']=0x1e73+-0xb*0x41+-0x1ba8,_0x36922b['_renderTim'+'e']=0x53e*-0x1+0x87c+-0x1*0x33e;}_0x299749['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x841352;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1ec4+-0x18d3+0x17c*-0x4),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x86d+0x1ddb*0x1+0x1*-0x156d),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x30*-0x18+0x1005+-0x1484),this['clearDepth']=!(0x1*-0x55d+0x1151*0x1+0xa1*-0x13),this['clearStenc'+'il']=!(-0x1*0x1bae+-0x54f+0x20fe),this['triggerPos'+'tprocess']=!(0xe*0x44+-0xca*-0x1f+0x1*-0x1c2d),this['firstCamer'+'aUse']=!(-0x17*-0xb9+-0x3d*0x2f+-0x56b),this['lastCamera'+'Use']=!(-0x19d1*-0x1+-0x1*-0x13e8+-0x2db8),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0xcb9+0x2015+0x2ccd*-0x1));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x136c60=>{_0x136c60['defaultUni'+'formBuffer']['destroy'](),_0x136c60['destroy']();}),this['viewBindGr'+'oups']['length']=0x796*0x2+-0x1985+-0xa59*-0x1;}['setupClear'+'s'](_0x39d702,_0x18ed76){this['clearColor']=(_0x39d702==null?void(-0x8f8+0x1385+-0xa8d):_0x39d702['clearColor'+'Buffer'])||_0x18ed76['clearColor'+'Buffer'],this['clearDepth']=(_0x39d702==null?void(0x1222+-0xb43*0x3+0x1*0xfa7):_0x39d702['clearDepth'+'Buffer'])||_0x18ed76['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x39d702==null?void(-0x1bea+-0x193*-0xd+-0x773*-0x1):_0x39d702['clearStenc'+'ilBuffer'])||_0x18ed76['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x39652d,_0x3a57e4,_0x21acca,_0x413cad){super(_0x39652d),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(-0x209*0x1+0xe5e+-0xc54)),(this['layerCompo'+'sition']=_0x3a57e4,this['scene']=_0x21acca,this['renderer']=_0x413cad);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0xb9*-0x2+0x19a0+-0x63*0x46;}['addRenderA'+'ction'](_0x4c4255){this['renderActi'+'ons']['push'](_0x4c4255);}['addLayer'](_0xcc429e,_0x575a0c,_0x3e68c6,_0x3c8a5d=!(0x180c+-0x12d*-0x1+-0xb*0x24b)){v['assert'](_0xcc429e),v['assert'](this['renderTarg'+'et']!==void(0x1*0x9f+0x1*0x1e4d+-0x7bb*0x4),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0xcc429e['camera']['layersSet']['has'](_0x575a0c['id']),'Camera\x20'+_0xcc429e['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x575a0c['name']+'.');const _0x19176a=new D0();if(_0x19176a['renderTarg'+'et']=this['renderTarg'+'et'],_0x19176a['camera']=_0xcc429e,_0x19176a['layer']=_0x575a0c,_0x19176a['transparen'+'t']=_0x3e68c6,_0x3c8a5d){const _0x3e9597=this['renderActi'+'ons']['length']===0x1a56+0x1e5+-0x1c3b;_0x19176a['setupClear'+'s'](_0x3e9597?_0xcc429e:void(-0x1*-0x36d+-0xf52+-0x5*-0x261),_0x575a0c);}this['addRenderA'+'ction'](_0x19176a);}['addLayers'](_0x3b3d48,_0x39dd9f,_0x1f52b9,_0x1b0903,_0x287adb,_0x9974=!(0x737*-0x4+0x1*0x2012+-0x336)){const {layerList:_0x1cc391,subLayerList:_0x19f4e8}=_0x3b3d48;let _0x2b558f=_0x1b0903,_0x447b15=_0x1f52b9;for(;_0x447b15<_0x1cc391['length'];){const _0x5c85f8=_0x1cc391[_0x447b15],_0x1795bb=_0x19f4e8[_0x447b15];if(_0x39dd9f['camera']['layersSet']['has'](_0x5c85f8['id'])&&(this['addLayer'](_0x39dd9f,_0x5c85f8,_0x1795bb,_0x2b558f),_0x2b558f=!(-0x2092*0x1+-0x6*0x4f3+-0x3e45*-0x1)),_0x447b15++,_0x5c85f8['id']===_0x287adb&&_0x1795bb===_0x9974)break;}return _0x447b15;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0xaddceb,renderActions:_0x43f8f2}=this;for(let _0x3b6e4c=-0x222b+-0x6b*0x17+0xe98*0x3;_0x3b6e4c<_0x43f8f2['length'];_0x3b6e4c++){const _0x52feb4=_0x43f8f2[_0x3b6e4c]['camera']['camera'],_0x489b95=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x52feb4);if(_0x489b95)for(let _0x57836e=0x809*0x3+-0x21d0+0x9b5;_0x57836e<_0x489b95['length'];_0x57836e++){const _0x81306f=_0x489b95[_0x57836e];if(_0xaddceb['dirLightSh'+'adows']['get'](_0x81306f)!==_0x52feb4){_0xaddceb['dirLightSh'+'adows']['set'](_0x81306f,_0x52feb4);const _0x1e5659=_0xaddceb['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x81306f,_0x52feb4);_0x1e5659&&this['beforePass'+'es']['push'](_0x1e5659);}}}}['updateClea'+'rs'](){const _0x12b434=this['renderActi'+'ons'][-0x1d4*-0x1+0x16b7+0x188b*-0x1];if(_0x12b434){const _0x414375=_0x12b434['camera']['camera'],_0x19c952=_0x414375['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x19c952&&_0x12b434['clearColor']?_0x414375['clearColor']:void(-0x801+-0x26a0+0x2ea1)),this['setClearDe'+'pth'](_0x19c952&&_0x12b434['clearDepth']&&!this['noDepthCle'+'ar']?_0x414375['clearDepth']:void(0x137*0x3+0x1556+-0x18fb)),this['setClearSt'+'encil'](_0x19c952&&_0x12b434['clearStenc'+'il']?_0x414375['clearStenc'+'il']:void(-0xf4+0x6f3*0x1+-0x5ff));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x942b16}=this;for(let _0x172d16=0x1d0+-0x1bfa+0x11*0x18a;_0x172d16<_0x942b16['length'];_0x172d16++){const _0xa5c6a1=_0x942b16[_0x172d16];_0xa5c6a1['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0xa5c6a1['camera']);}}['execute'](){const {layerComposition:_0x2d9041,renderActions:_0x5a95ae}=this;for(let _0x95cba=0x71*0x7+-0x1fd9+0x1cc2;_0x95cba<_0x5a95ae['length'];_0x95cba++){const _0xdf9408=_0x5a95ae[_0x95cba],_0x42d41a=_0xdf9408['layer'];v['call'](()=>{_0x2d9041['getLayerBy'+'Name'](_0x42d41a['name'])||v['warnOnce']('Layer\x20'+_0x42d41a['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x2d9041['isEnabled'](_0x42d41a,_0xdf9408['transparen'+'t'])&&this['renderRend'+'erAction'](_0xdf9408,_0x95cba===-0x455*0x9+0x2242+0x4bb);}}['after'](){for(let _0x1a62b0=-0x1644+-0xc4c+0x38*0x9e;_0x1a62b0<this['renderActi'+'ons']['length'];_0x1a62b0++){const _0x194881=this['renderActi'+'ons'][_0x1a62b0];_0x194881['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x194881['camera']);}this['beforePass'+'es']['length']=-0x1*-0x17a3+-0x173d+-0x2*0x33;}['renderRend'+'erAction'](_0x5a038f,_0x2580da){var _0x4c1d52;const {renderer:_0x454849,scene:_0x5413cf}=this,_0x50025b=_0x454849['device'],{layer:_0x4b65d3,transparent:_0x233b46,camera:_0x1ddd7f}=_0x5a038f;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x1ddd7f?_0x1ddd7f['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x4b65d3['name']+'('+(_0x233b46?'TRANSP':'OPAQUE')+')');const _0x44a89e=ne();if(_0x1ddd7f){const _0x566655=_0x1ddd7f['gammaCorre'+'ction'],_0x1e653b=_0x1ddd7f['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x2384+0x1a59+-0x3ddd)&&(_0x1ddd7f['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0xa9*0x1f+0x2de+0x21*-0xb5)&&(_0x1ddd7f['toneMappin'+'g']=this['toneMappin'+'g']),_0x5413cf['fire'](nw,_0x1ddd7f,_0x4b65d3,_0x233b46);const _0x1eb3d8={'lightClusters':_0x5a038f['lightClust'+'ers']},_0x7d0465=((_0x4c1d52=_0x1ddd7f['camera']['shaderPass'+'Info'])==null?void(-0x2b0*-0xd+-0xeb7+-0x1439*0x1):_0x4c1d52['index'])??gn;(!_0x2580da||!_0x1ddd7f['camera']['fullSizeCl'+'earRect'])&&(_0x1eb3d8['clearColor']=_0x5a038f['clearColor'],_0x1eb3d8['clearDepth']=_0x5a038f['clearDepth'],_0x1eb3d8['clearStenc'+'il']=_0x5a038f['clearStenc'+'il']);const _0x19b85f=_0x5a038f['renderTarg'+'et']??_0x50025b['backBuffer'];_0x454849['renderForw'+'ardLayer'](_0x1ddd7f['camera'],_0x19b85f,_0x4b65d3,_0x233b46,_0x7d0465,_0x5a038f['viewBindGr'+'oups'],_0x1eb3d8),_0x50025b['setBlendSt'+'ate'](_t['NOBLEND']),_0x50025b['setStencil'+'State'](null,null),_0x50025b['setAlphaTo'+'Coverage'](!(0xa*0x189+-0x2b8*0x2+-0x2b*0x3b)),_0x5413cf['fire'](aw,_0x1ddd7f,_0x4b65d3,_0x233b46),this['gammaCorre'+'ction']!==void(0x1*0x171d+0x1a2*-0xf+0x161)&&(_0x1ddd7f['gammaCorre'+'ction']=_0x566655),this['toneMappin'+'g']!==void(0x4*-0x6ce+-0x2*-0x548+0xa4*0x1a)&&(_0x1ddd7f['toneMappin'+'g']=_0x1e653b);}G['popGpuMark'+'er'](this['device']),_0x4b65d3['_renderTim'+'e']+=ne()-_0x44a89e;}['log'](_0x259a5a,_0x4658c6){if(super['log'](_0x259a5a,_0x4658c6),Xs['get'](Jn)){const {layerComposition:_0x5e75b5}=this;this['renderActi'+'ons']['forEach']((_0x23d093,_0x13153e)=>{const _0x5ea6fb=_0x23d093['layer'],_0x5b6e32=_0x5ea6fb['enabled']&&_0x5e75b5['isEnabled'](_0x5ea6fb,_0x23d093['transparen'+'t']),_0x4323e5=_0x23d093['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x13153e+':'+('\x20Cam:\x20'+(_0x4323e5?_0x4323e5['entity']['name']:'-'))['padEnd'](0xbf9+-0x10c3*-0x1+-0x1ca6*0x1,'\x20')+('\x20Lay:\x20'+_0x5ea6fb['name'])['padEnd'](-0x1*-0x1f07+-0x3c*0x6f+-0x4ed,'\x20')+(_0x23d093['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x5b6e32?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x5ea6fb['meshInstan'+'ces']['length'])['padEnd'](0x2477*-0x1+-0x41a+0x2*0x144b,'\x20'));});}}}class FM extends ds{constructor(_0x8cbc63,_0x7403b1,_0x157c83){super(_0x8cbc63),this['renderer']=_0x7403b1,this['renderActi'+'on']=_0x157c83,this['requiresCu'+'bemaps']=!(-0x223f+-0x46b+0x26ab);}['execute'](){const _0x231860=this['renderActi'+'on'],_0x16cc1c=_0x231860['camera'];v['assert'](_0x231860['triggerPos'+'tprocess']&&_0x16cc1c['onPostproc'+'essing']),_0x16cc1c['onPostproc'+'essing']();}}const OM=[[],[],[]],$i=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x45*-0x4+0x5*-0x52f+0x1aff,this['shaderInst'+'ances']['length']=-0x1791*-0x1+-0x17*0x1f+-0x5*0x428,this['isNewMater'+'ial']['length']=-0x3*0x68c+-0x1*0x8b+0x142f,this['lightMaskC'+'hanged']['length']=-0x1*0x20c3+-0xe9b*-0x1+0x48a*0x4;}};function kM(_0x3584ea){const _0x128e4a=[];for(let _0x31c12b=0x265*-0x4+-0x1*0x12d+-0xac1*-0x1;_0x31c12b<_0x3584ea;++_0x31c12b){const _0x2fc69b=Math['sqrt'](_0x31c12b+(0x1642+-0x1*-0x1d7b+0xf*-0x373+0.5))/Math['sqrt'](_0x3584ea);_0x128e4a['push'](_0x2fc69b);}return _0x128e4a;}function BM(_0x3597cb){const _0x25130d=[];for(let _0x393089=-0x150a+-0xea7*0x1+0x23b1;_0x393089<_0x3597cb;_0x393089++){const _0x5c9221=_0x393089/_0x3597cb,_0x583703=Math['sqrt'](_0x5c9221*_0x5c9221);_0x25130d['push'](_0x583703);}return _0x25130d;}const _i=class _i extends DM{constructor(_0x28264f){super(_0x28264f);const _0x752d29=this['device'];this['_forwardDr'+'awCalls']=-0x438+-0x9f4+-0xe2c*-0x1,this['_materialS'+'witches']=0x6*-0x24a+-0x130e+-0x1*-0x20ca,this['_depthMapT'+'ime']=-0x12b6+-0xb*0x87+-0x1*-0x1883,this['_forwardTi'+'me']=-0x4*-0x763+-0x60*0xc+-0x4*0x643,this['_sortTime']=0x19fa+0x1983+-0x31*0x10d;const _0x1445fc=_0x752d29['scope'];this['fogColorId']=_0x1445fc['resolve']('fog_color'),this['fogStartId']=_0x1445fc['resolve']('fog_start'),this['fogEndId']=_0x1445fc['resolve']('fog_end'),this['fogDensity'+'Id']=_0x1445fc['resolve']('fog_densit'+'y'),this['ambientId']=_0x1445fc['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x1445fc['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x1445fc['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x1445fc['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x1445fc['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x1445fc['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x2*0x39+0x41b+-0x1*0x3a5),this['fogColor']=new Float32Array(0x1*-0x31f+0xef5*0x1+-0x3*0x3f1),this['ambientCol'+'or']=new Float32Array(0x67a+-0x30a+-0x36d),this['pcssDiskSa'+'mples']=kM(-0x1ea4+0xbf*-0x14+0x2da0),this['pcssSphere'+'Samples']=BM(0x1d52+0xf44*0x2+-0x1*0x3bca);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x2339a0){const _0x317278=this['ambientCol'+'or'];if($i['linear'](_0x2339a0['ambientLig'+'ht']),_0x317278[-0x80*-0x38+0x8e8*0x1+-0x1274*0x2]=$i['r'],_0x317278[-0x16bd*0x1+0x2*0x5f4+0x1*0xad6]=$i['g'],_0x317278[0x133c+-0x4*0x305+-0x131*0x6]=$i['b'],_0x2339a0['physicalUn'+'its']){for(let _0x4fdbdd=-0x1013*0x1+-0x17b*0x1+0x118e;_0x4fdbdd<0x8f1*0x4+-0xfd0+-0x5*0x3fd;_0x4fdbdd++)_0x317278[_0x4fdbdd]*=_0x2339a0['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x317278),this['skyboxInte'+'nsityId']['setValue'](_0x2339a0['physicalUn'+'its']?_0x2339a0['skyboxLumi'+'nance']:_0x2339a0['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x2339a0['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x4f3da6,_0x34631d){const _0x14e95c='light'+_0x34631d;this['lightColor'+'Id'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+'_color'),this['lightDir'][_0x34631d]=new Float32Array(0x2548+-0x16d2+0x19b*-0x9),this['lightDirId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+'_direction'),this['lightShado'+'wMapId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+'_radius'),this['lightPos'][_0x34631d]=new Float32Array(0x1*-0x1796+0x39*-0x4c+0x2885),this['lightPosId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+'_position'),this['lightWidth'][_0x34631d]=new Float32Array(-0x73*-0x5+-0xc25*-0x1+-0xe61),this['lightWidth'+'Id'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+'_halfWidth'),this['lightHeigh'+'t'][_0x34631d]=new Float32Array(0x8*0x477+0x6*0x370+-0x3855),this['lightHeigh'+'tId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+'_cookie'),this['lightCooki'+'eIntId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x34631d]=_0x4f3da6['resolve'](_0x14e95c+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x15bd43,_0x340f00,_0x173fd5,_0x493691,_0x296116){this['lightPos'][_0x340f00][-0x136+0x140+0x2*-0x5]=_0x493691['x']-_0x173fd5['x']*_0x296116,this['lightPos'][_0x340f00][0x664+0xa17+0x1*-0x107a]=_0x493691['y']-_0x173fd5['y']*_0x296116,this['lightPos'][_0x340f00][-0xd3d+-0x423*0x7+0x151a*0x2]=_0x493691['z']-_0x173fd5['z']*_0x296116,this['lightPosId'][_0x340f00]['setValue'](this['lightPos'][_0x340f00]);const _0x33f372=_0x15bd43['transformV'+'ector'](new T(-(-0x1*0x187d+-0x2498+0x3d15+0.5),-0x4*0x99b+0x719+0x1f53,0x4a0+-0x1*0xdff+0x95f));this['lightWidth'][_0x340f00][-0x580+-0x1fed+-0x1*-0x256d]=_0x33f372['x']*_0x296116,this['lightWidth'][_0x340f00][-0x2158+-0xa1*0x22+-0x1*-0x36bb]=_0x33f372['y']*_0x296116,this['lightWidth'][_0x340f00][0x125*0x19+0x223e+-0x1f*0x207]=_0x33f372['z']*_0x296116,this['lightWidth'+'Id'][_0x340f00]['setValue'](this['lightWidth'][_0x340f00]);const _0x2390d2=_0x15bd43['transformV'+'ector'](new T(0x11fa+-0x24b6+-0x1b4*-0xb,-0x17*-0x184+-0x2606+0x32a,-0x445*-0x2+0x167a*0x1+0xa*-0x31a+0.5));this['lightHeigh'+'t'][_0x340f00][-0x1c17+-0x26*0x67+0x5*0x8ad]=_0x2390d2['x']*_0x296116,this['lightHeigh'+'t'][_0x340f00][-0x1*-0xded+0x1617+-0x2403]=_0x2390d2['y']*_0x296116,this['lightHeigh'+'t'][_0x340f00][-0x1*0x595+0x2d2+0x2c5]=_0x2390d2['z']*_0x296116,this['lightHeigh'+'tId'][_0x340f00]['setValue'](this['lightHeigh'+'t'][_0x340f00]);}['dispatchDi'+'rectLights'](_0x2744f5,_0x15ed7f,_0x5f243a){let _0x44b718=-0xa4*-0x1+-0x1*-0xa90+0x3bc*-0x3;const _0x3d13cf=this['device']['scope'];for(let _0xe0c463=0x305*-0x3+-0x2667*-0x1+0x4*-0x756;_0xe0c463<_0x2744f5['length'];_0xe0c463++){if(!(_0x2744f5[_0xe0c463]['mask']&_0x15ed7f))continue;const _0x439f90=_0x2744f5[_0xe0c463],_0x1537dd=_0x439f90['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x44b718]||this['_resolveLi'+'ght'](_0x3d13cf,_0x44b718),this['lightColor'+'Id'][_0x44b718]['setValue'](_0x439f90['_colorLine'+'ar']),_0x1537dd['getY'](_0x439f90['_direction'])['mulScalar'](-(0x92*0x2f+0x2277+-0xf51*0x4)),_0x439f90['_direction']['normalize'](),this['lightDir'][_0x44b718][0x995+0x67b+-0x1010]=_0x439f90['_direction']['x'],this['lightDir'][_0x44b718][-0x1*-0x1f99+-0x740+0x4*-0x616]=_0x439f90['_direction']['y'],this['lightDir'][_0x44b718][-0x3*-0x62+-0x591*0x6+0x2*0x1021]=_0x439f90['_direction']['z'],this['lightDirId'][_0x44b718]['setValue'](this['lightDir'][_0x44b718]),_0x439f90['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x1537dd,_0x44b718,_0x439f90['_direction'],_0x5f243a['_node']['getPositio'+'n'](),_0x5f243a['farClip']),_0x439f90['castShadow'+'s']){const _0x5ba692=_0x439f90['getRenderD'+'ata'](_0x5f243a,0x877+0x1f79*-0x1+0x1702),_0xe277c1=_0x439f90['_getUnifor'+'mBiasValue'+'s'](_0x5ba692);this['lightShado'+'wMapId'][_0x44b718]['setValue'](_0x5ba692['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x44b718]['setValue'](_0x5ba692['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x44b718]['setValue'](_0x439f90['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x44b718]['setValue'](_0x439f90['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x44b718]['setValue'](_0x439f90['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x44b718]['setValue'](0x2*-0x1a6+0x117a+-0xe2d-_0x439f90['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x44b718]['setValue'](_0x439f90['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x44b718]['setValue'](_0x439f90['_softShado'+'wParams']),_0x5ba692['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x44b718]['setValue'](_0x439f90['penumbraSi'+'ze']/_0x5ba692['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x5ba692['projection'+'Compensati'+'on']);const _0x295f01=_0x439f90['_shadowCam'+'eraParams'];_0x295f01['length']=0x4*-0x7bb+0x1e6a+0x86,_0x295f01[0x9fe*-0x3+0xd*-0x301+0x4507]=-0x432+-0x24c9*0x1+0x28fb,_0x295f01[-0x984+0x4a*0x41+-0x945]=_0x5ba692['shadowCame'+'ra']['_farClip'],_0x295f01[0x1f21+-0x1879+0x2*-0x353]=_0x5ba692['shadowCame'+'ra']['_nearClip'],_0x295f01[0x19d3*-0x1+0x1*-0x18d9+0x32af]=-0x1a90+-0x10c1*0x1+-0x2b52*-0x1,this['lightCamer'+'aParamsId'][_0x44b718]['setValue'](_0x295f01);const _0x1e7b04=_0x439f90['_shadowRen'+'derParams'];_0x1e7b04['length']=0x1b59+0x1*0x1079+0x4de*-0x9,_0x1e7b04[0xa*0x1ec+-0xf9c+0x2a*-0x16]=_0x439f90['_shadowRes'+'olution'],_0x1e7b04[-0x1*-0xe34+0xd6*-0x10+-0xd3]=_0xe277c1['normalBias'],_0x1e7b04[-0x1641+0xdf6+-0x1a9*-0x5]=_0xe277c1['bias'],_0x1e7b04[0x9*0xd1+0x7a*0x25+-0x18f8]=-0xa9f*-0x1+-0x26b2+0x1c13,this['lightShado'+'wParamsId'][_0x44b718]['setValue'](_0x1e7b04);}_0x44b718++;}return _0x44b718;}['setLTCPosi'+'tionalLigh'+'t'](_0xc02f85,_0x268969){const _0x19afa1=_0xc02f85['transformV'+'ector'](new T(-(0x53*0x1d+-0x1*-0xb27+-0x148e+0.5),-0x5*0x591+0xf7d+-0x13c*-0xa,-0x42a*-0x3+0x1c15*0x1+0x2893*-0x1));this['lightWidth'][_0x268969][-0x2051*0x1+0x5*0x61f+0x1*0x1b6]=_0x19afa1['x'],this['lightWidth'][_0x268969][-0x697*0x4+0x163e*0x1+-0x5*-0xd3]=_0x19afa1['y'],this['lightWidth'][_0x268969][-0x1667+0x93*-0xc+0x1*0x1d4d]=_0x19afa1['z'],this['lightWidth'+'Id'][_0x268969]['setValue'](this['lightWidth'][_0x268969]);const _0x49a60b=_0xc02f85['transformV'+'ector'](new T(0x1855*0x1+0x853*0x3+0x314e*-0x1,0x45*-0x45+0x1*-0x26d2+0x396b*0x1,-0x849+-0x6*-0x277+-0x681+0.5));this['lightHeigh'+'t'][_0x268969][-0x19*0xb3+-0x17e+0x12f9]=_0x49a60b['x'],this['lightHeigh'+'t'][_0x268969][0x15bd+0x23e3*0x1+-0x399f]=_0x49a60b['y'],this['lightHeigh'+'t'][_0x268969][-0x1024*0x2+-0x1a8f+0x3ad9]=_0x49a60b['z'],this['lightHeigh'+'tId'][_0x268969]['setValue'](this['lightHeigh'+'t'][_0x268969]);}['dispatchOm'+'niLight'](_0x46c58c,_0x25375b,_0x244809){const _0x2c7011=_0x25375b['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x244809]||this['_resolveLi'+'ght'](_0x46c58c,_0x244809),this['lightRadiu'+'sId'][_0x244809]['setValue'](_0x25375b['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x244809]['setValue'](_0x25375b['_colorLine'+'ar']),_0x2c7011['getTransla'+'tion'](_0x25375b['_position']),this['lightPos'][_0x244809][-0x2*0xb1f+0x1a0e+-0x8*0x7a]=_0x25375b['_position']['x'],this['lightPos'][_0x244809][0x413+-0x2c1+-0x151]=_0x25375b['_position']['y'],this['lightPos'][_0x244809][-0x4ac+0x2664+-0x21b6]=_0x25375b['_position']['z'],this['lightPosId'][_0x244809]['setValue'](this['lightPos'][_0x244809]),_0x25375b['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x2c7011,_0x244809),_0x25375b['castShadow'+'s']){const _0x528b87=_0x25375b['getRenderD'+'ata'](null,0x1*0x183f+0x81*-0xf+-0x30*0x59);this['lightShado'+'wMapId'][_0x244809]['setValue'](_0x528b87['shadowBuff'+'er']);const _0x533287=_0x25375b['_getUnifor'+'mBiasValue'+'s'](_0x528b87),_0x154a1a=_0x25375b['_shadowRen'+'derParams'];_0x154a1a['length']=-0x1fea+-0x19*0x11d+0x3bc3,_0x154a1a[-0x2471+0x2237*-0x1+0x46a8]=_0x25375b['_shadowRes'+'olution'],_0x154a1a[0x3b*-0x42+0x170c+-0x7d5*0x1]=_0x533287['normalBias'],_0x154a1a[0x20b6+0xa04*-0x1+-0x8*0x2d6]=_0x533287['bias'],_0x154a1a[-0x13be+-0xa71+0x1e32]=(0x1892+-0x1*-0x161b+0x67*-0x74)/_0x25375b['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x244809]['setValue'](_0x154a1a),this['lightShado'+'wIntensity'][_0x244809]['setValue'](_0x25375b['shadowInte'+'nsity']);const _0x3ea114=_0x25375b['penumbraSi'+'ze']/_0x528b87['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x244809]['setValue'](_0x3ea114);const _0x50aa51=_0x25375b['_shadowCam'+'eraParams'];_0x50aa51['length']=0x90+0xd*0x14f+0x118f*-0x1,_0x50aa51[0xa1*0x7+0x40e*-0x1+-0x59*0x1]=-0x1bf5*0x1+0x675*0x2+0xf0b,_0x50aa51[0x6*0x5a8+-0x54+-0x219b]=_0x528b87['shadowCame'+'ra']['_farClip'],_0x50aa51[0x1*0x1972+-0x42*-0x29+-0x2402]=_0x528b87['shadowCame'+'ra']['_nearClip'],_0x50aa51[-0x4*0x6ad+-0x1669*-0x1+0x44e]=-0x18e5+0x1*0x2677+-0xd92,this['lightCamer'+'aParamsId'][_0x244809]['setValue'](_0x50aa51);}_0x25375b['_cookie']&&(this['lightCooki'+'eId'][_0x244809]['setValue'](_0x25375b['_cookie']),this['lightShado'+'wMatrixId'][_0x244809]['setValue'](_0x2c7011['data']),this['lightCooki'+'eIntId'][_0x244809]['setValue'](_0x25375b['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x39e91f,_0x46b7c5,_0x119c08){const _0x444467=_0x46b7c5['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x119c08]||this['_resolveLi'+'ght'](_0x39e91f,_0x119c08),this['lightInAng'+'leId'][_0x119c08]['setValue'](_0x46b7c5['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x119c08]['setValue'](_0x46b7c5['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x119c08]['setValue'](_0x46b7c5['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x119c08]['setValue'](_0x46b7c5['_colorLine'+'ar']),_0x444467['getTransla'+'tion'](_0x46b7c5['_position']),this['lightPos'][_0x119c08][-0x2f2*0x9+-0x7dc*0x3+0x3216]=_0x46b7c5['_position']['x'],this['lightPos'][_0x119c08][-0x1*-0x23d8+-0xd56*0x2+-0x92b]=_0x46b7c5['_position']['y'],this['lightPos'][_0x119c08][0x256d+0x2*-0x10ed+-0x391]=_0x46b7c5['_position']['z'],this['lightPosId'][_0x119c08]['setValue'](this['lightPos'][_0x119c08]),_0x46b7c5['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x444467,_0x119c08),_0x444467['getY'](_0x46b7c5['_direction'])['mulScalar'](-(-0x3*-0x405+-0x136b+0x75d)),_0x46b7c5['_direction']['normalize'](),this['lightDir'][_0x119c08][-0x1*0x12c1+0x6ba+-0x1*-0xc07]=_0x46b7c5['_direction']['x'],this['lightDir'][_0x119c08][-0x1*-0x3b+0x1be3+-0x1c1d*0x1]=_0x46b7c5['_direction']['y'],this['lightDir'][_0x119c08][-0x10d0+-0x10d3+0x21*0x105]=_0x46b7c5['_direction']['z'],this['lightDirId'][_0x119c08]['setValue'](this['lightDir'][_0x119c08]),_0x46b7c5['castShadow'+'s']){const _0x367006=_0x46b7c5['getRenderD'+'ata'](null,-0x1376*-0x1+-0x1*-0x25f7+-0x396d);this['lightShado'+'wMapId'][_0x119c08]['setValue'](_0x367006['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x119c08]['setValue'](_0x367006['shadowMatr'+'ix']['data']);const _0x58d71c=_0x46b7c5['_getUnifor'+'mBiasValue'+'s'](_0x367006),_0x7d7203=_0x46b7c5['_shadowRen'+'derParams'];_0x7d7203['length']=-0xd0c+-0x787*-0x4+-0x110c*0x1,_0x7d7203[-0x2dd*-0x1+-0x1cfd+0x130*0x16]=_0x46b7c5['_shadowRes'+'olution'],_0x7d7203[0x1*-0x1626+-0xb90+0x21b7]=_0x58d71c['normalBias'],_0x7d7203[-0x1dc6+0x12a4+0xb24]=_0x58d71c['bias'],_0x7d7203[-0xb*0x115+0x1ea3+-0x12b9]=(-0xf*-0x157+-0x846*0x1+-0x59*0x22)/_0x46b7c5['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x119c08]['setValue'](_0x7d7203),this['lightShado'+'wIntensity'][_0x119c08]['setValue'](_0x46b7c5['shadowInte'+'nsity']);const _0x15744e=_0x46b7c5['penumbraSi'+'ze']/_0x367006['shadowCame'+'ra']['renderTarg'+'et']['width'],_0xe1a3b9=_0x367006['shadowCame'+'ra']['_fov']*Math['PI']/(0xc8d+-0x14c7+-0x17d*-0x6),_0x45134a=(-0xb*-0x108+-0x1*-0xb65+-0x16bc)/Math['tan'](_0xe1a3b9/(-0x24ab*0x1+-0x1d8e+0xd3f*0x5));this['lightShado'+'wSearchAre'+'aId'][_0x119c08]['setValue'](_0x15744e*_0x45134a);const _0x2e714e=_0x46b7c5['_shadowCam'+'eraParams'];_0x2e714e['length']=0xc19+0x37+-0x1*0xc4c,_0x2e714e[0x1a7e+0x1862+-0x32e0]=0xd6*0x14+-0x13*-0x202+-0x36de,_0x2e714e[-0x847+-0xbc*0x15+-0x4a*-0x52]=_0x367006['shadowCame'+'ra']['_farClip'],_0x2e714e[-0x1488+0xce5*-0x1+0x216f]=_0x367006['shadowCame'+'ra']['_nearClip'],_0x2e714e[0x20ff+-0x5c*-0x1+0x1*-0x2158]=-0x1b*0xc5+0x200e+0xb47*-0x1,this['lightCamer'+'aParamsId'][_0x119c08]['setValue'](_0x2e714e);}if(_0x46b7c5['_cookie']){if(!_0x46b7c5['castShadow'+'s']){const _0xdbd064=Ma['evalSpotCo'+'okieMatrix'](_0x46b7c5);this['lightShado'+'wMatrixId'][_0x119c08]['setValue'](_0xdbd064['data']);}this['lightCooki'+'eId'][_0x119c08]['setValue'](_0x46b7c5['_cookie']),this['lightCooki'+'eIntId'][_0x119c08]['setValue'](_0x46b7c5['cookieInte'+'nsity']),_0x46b7c5['_cookieTra'+'nsform']&&(_0x46b7c5['_cookieTra'+'nsformUnif'+'orm'][-0x4c*0x2d+-0x2517+0x3273]=_0x46b7c5['_cookieTra'+'nsform']['x'],_0x46b7c5['_cookieTra'+'nsformUnif'+'orm'][0xa2*-0x4+-0x1ff6+0x227f]=_0x46b7c5['_cookieTra'+'nsform']['y'],_0x46b7c5['_cookieTra'+'nsformUnif'+'orm'][-0x1*-0x1039+-0x1*-0x1e16+-0xf6f*0x3]=_0x46b7c5['_cookieTra'+'nsform']['z'],_0x46b7c5['_cookieTra'+'nsformUnif'+'orm'][0x8f8+0x1a98+-0x13*0x1df]=_0x46b7c5['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x119c08]['setValue'](_0x46b7c5['_cookieTra'+'nsformUnif'+'orm']),_0x46b7c5['_cookieOff'+'setUniform'][0x67*0x59+0x143*-0x1c+0x3*-0x29]=_0x46b7c5['_cookieOff'+'set']['x'],_0x46b7c5['_cookieOff'+'setUniform'][0x6d4+-0xbc3*0x1+0x4f0]=_0x46b7c5['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x119c08]['setValue'](_0x46b7c5['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x3f1239,_0x125a53,_0x39cbe6){let _0x24678a=_0x39cbe6;const _0x15cfe2=this['device']['scope'],_0xfa03af=_0x3f1239[Pe],_0x464017=_0xfa03af['length'];for(let _0x4d958f=-0x2*-0x2fe+0x9ac+-0xfa8;_0x4d958f<_0x464017;_0x4d958f++){const _0x570fe2=_0xfa03af[_0x4d958f];_0x570fe2['mask']&_0x125a53&&(this['dispatchOm'+'niLight'](_0x15cfe2,_0x570fe2,_0x24678a),_0x24678a++);}const _0x46f3ba=_0x3f1239[Re],_0x578c1a=_0x46f3ba['length'];for(let _0x5940e9=-0x1566+-0x1d34+0x3*0x10de;_0x5940e9<_0x578c1a;_0x5940e9++){const _0x2a01bb=_0x46f3ba[_0x5940e9];_0x2a01bb['mask']&_0x125a53&&(this['dispatchSp'+'otLight'](_0x15cfe2,_0x2a01bb,_0x24678a),_0x24678a++);}}['renderForw'+'ardPrepare'+'Materials'](_0x59e6f3,_0x3dafeb,_0x10faf3,_0x12d397,_0x192660,_0x4c6431){const _0x5a7b7a=_0x59e6f3['fog']??this['scene']['fog'],_0x11fe5b=_0x59e6f3['shaderPara'+'ms'];_0x11fe5b['fog']=_0x5a7b7a['type'],_0x11fe5b['srgbRender'+'Target']=(_0x3dafeb==null?void(0x175+0x20*-0xd5+-0x11*-0x17b):_0x3dafeb['isColorBuf'+'ferSrgb'](-0x355*0x5+-0x23f6+0x349f))??!(0x1d96+-0xd52+0x1*-0x1043);const _0x2ce6d4=(_0x32f8ee,_0x4dc6c8,_0x1191c9,_0x2165c1)=>{br['drawCalls']['push'](_0x32f8ee),br['shaderInst'+'ances']['push'](_0x4dc6c8),br['isNewMater'+'ial']['push'](_0x1191c9),br['lightMaskC'+'hanged']['push'](_0x2165c1);};br['clear']();const _0x34ebd0=this['device'],_0xe8e088=this['scene'],_0x4e8091=_0xe8e088['clusteredL'+'ightingEna'+'bled'],_0x325d46=(_0x192660==null?void(0x1*-0xa7e+-0x1af0+0x256e):_0x192660['getLightHa'+'sh'](_0x4e8091))??-0xbd3+0x14ff+-0x496*0x2;let _0x4eec43=null,_0x520a99,_0x43ca3c;const _0x58a9b2=_0x10faf3['length'];for(let _0xa7bf3c=-0x1617+-0x270d*0x1+0x3d24;_0xa7bf3c<_0x58a9b2;_0xa7bf3c++){const _0x4733e0=_0x10faf3[_0xa7bf3c];if(_0x59e6f3===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x192660){if(_0x192660['_skipRende'+'rCounter']>=_0x192660['skipRender'+'After'])continue;_0x192660['_skipRende'+'rCounter']++;}_0x4733e0['ensureMate'+'rial'](_0x34ebd0);const _0x3a4d50=_0x4733e0['material'],_0x19f8da=_0x4733e0['_shaderDef'+'s'],_0x837620=_0x4733e0['mask'];_0x3a4d50&&_0x3a4d50===_0x4eec43&&_0x19f8da!==_0x520a99&&(_0x4eec43=null),_0x3a4d50!==_0x4eec43&&(this['_materialS'+'witches']++,_0x3a4d50['_scene']=_0xe8e088,_0x3a4d50['dirty']&&(G['pushGpuMar'+'ker'](_0x34ebd0,'Node:\x20'+_0x4733e0['node']['name']+(',\x20Material'+':\x20')+_0x3a4d50['name']),_0x3a4d50['updateUnif'+'orms'](_0x34ebd0,_0xe8e088),_0x3a4d50['dirty']=!(0x6b*0x2a+-0xce6+-0x4a7),G['popGpuMark'+'er'](_0x34ebd0)));const _0x39cceb=_0x4733e0['getShaderI'+'nstance'](_0x4c6431,_0x325d46,_0xe8e088,_0x11fe5b,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x12d397);_0x2ce6d4(_0x4733e0,_0x39cceb,_0x3a4d50!==_0x4eec43,!_0x4eec43||_0x837620!==_0x43ca3c),_0x4eec43=_0x3a4d50,_0x520a99=_0x19f8da,_0x43ca3c=_0x837620;}return br;}['renderForw'+'ardInterna'+'l'](_0x5dae05,_0xb7e7a9,_0x2e07d4,_0x294661,_0x35e77b,_0x4347eb){const _0x5c754e=this['device'],_0x5cd55a=this['scene'],_0x176e18=0xf*-0x1ef+0x9bf*0x1+-0x1343*-0x1<<_0x294661,_0x31b473=_0x4347eb?-(0xb*0x29+-0x10d9*0x2+-0x92*-0x38):-0xc39+0x2672+-0x1a38,_0x177b81=_0x5cd55a['clusteredL'+'ightingEna'+'bled'],_0xea60aa=_0xb7e7a9['drawCalls']['length'];for(let _0x21832f=0x1fc7+0xaff+-0x2ac6;_0x21832f<_0xea60aa;_0x21832f++){const _0x11d630=_0xb7e7a9['drawCalls'][_0x21832f],_0x3bb05c=_0xb7e7a9['isNewMater'+'ial'][_0x21832f],_0x1160ac=_0xb7e7a9['lightMaskC'+'hanged'][_0x21832f],_0x20fc31=_0xb7e7a9['shaderInst'+'ances'][_0x21832f],_0x36b0bc=_0x11d630['material'],_0x533de9=_0x11d630['mask'];if(_0x3bb05c){if(_0x5c754e['setShader'](_0x20fc31['shader'],!(0x6b4+-0x210e+-0x3*-0x8c9)),_0x36b0bc['setParamet'+'ers'](_0x5c754e),_0x1160ac){const _0x486997=this['dispatchDi'+'rectLights'](_0x2e07d4[oe],_0x533de9,_0x5dae05);_0x177b81||this['dispatchLo'+'calLights'](_0x2e07d4,_0x533de9,_0x486997);}this['alphaTestI'+'d']['setValue'](_0x36b0bc['alphaTest']),_0x5c754e['setBlendSt'+'ate'](_0x36b0bc['blendState']),_0x5c754e['setDepthSt'+'ate'](_0x36b0bc['depthState']),_0x5c754e['setAlphaTo'+'Coverage'](_0x36b0bc['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x5c754e,'Node:\x20'+_0x11d630['node']['name']+(',\x20Material'+':\x20')+_0x36b0bc['name']),this['setupCullM'+'ode'](_0x5dae05['_cullFaces'],_0x31b473,_0x11d630);const _0x35992e=_0x11d630['stencilFro'+'nt']??_0x36b0bc['stencilFro'+'nt'],_0x494fcc=_0x11d630['stencilBac'+'k']??_0x36b0bc['stencilBac'+'k'];_0x5c754e['setStencil'+'State'](_0x35992e,_0x494fcc),_0x11d630['setParamet'+'ers'](_0x5c754e,_0x176e18),_0x5c754e['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x11d630['id']);const _0x44ea82=_0x11d630['mesh'];this['setVertexB'+'uffers'](_0x5c754e,_0x44ea82),this['setMorphin'+'g'](_0x5c754e,_0x11d630['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x5c754e,_0x11d630),this['setupMeshU'+'niformBuff'+'ers'](_0x20fc31,_0x11d630);const _0x1afe03=_0x11d630['renderStyl'+'e'];if(_0x5c754e['setIndexBu'+'ffer'](_0x44ea82['indexBuffe'+'r'][_0x1afe03]),_0x35e77b==null||_0x35e77b(_0x11d630,_0x21832f),_0x5dae05['xr']&&_0x5dae05['xr']['session']&&_0x5dae05['xr']['views']['list']['length']){const _0xb502ee=_0x5dae05['xr']['views'];for(let _0x5cfb8b=0xf45*0x1+0x4d4+-0x1419;_0x5cfb8b<_0xb502ee['list']['length'];_0x5cfb8b++){const _0x137828=_0xb502ee['list'][_0x5cfb8b];_0x5c754e['setViewpor'+'t'](_0x137828['viewport']['x'],_0x137828['viewport']['y'],_0x137828['viewport']['z'],_0x137828['viewport']['w']),this['projId']['setValue'](_0x137828['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x137828['projMat']['data']),this['viewId']['setValue'](_0x137828['viewOffMat']['data']),this['viewInvId']['setValue'](_0x137828['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x137828['viewMat3']['data']),this['viewProjId']['setValue'](_0x137828['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x137828['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x5cfb8b),_0x5cfb8b===0x25e3*-0x1+-0x3d1+0x2*0x14da?this['drawInstan'+'ce'](_0x5c754e,_0x11d630,_0x44ea82,_0x1afe03,!(0x9ee+0xdf5*-0x1+-0x407*-0x1)):this['drawInstan'+'ce2'](_0x5c754e,_0x11d630,_0x44ea82,_0x1afe03),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x5c754e,_0x11d630,_0x44ea82,_0x1afe03,!(0x2333+0x385*0x7+-0x3*0x13f2)),this['_forwardDr'+'awCalls']++;_0x21832f<_0xea60aa-(0x91*0x4+-0x51d+0x2da)&&!_0xb7e7a9['isNewMater'+'ial'][_0x21832f+(-0x6d*-0x33+-0x11c9*0x2+0xddc)]&&_0x36b0bc['setParamet'+'ers'](_0x5c754e,_0x11d630['parameters']),G['popGpuMark'+'er'](_0x5c754e);}}['renderForw'+'ard'](_0x4a5f11,_0x2771a2,_0x16cb2e,_0x2f7444,_0x4ef364,_0x2532ff,_0x54331f,_0xd52796){const _0xe3cb6d=ne(),_0x554f88=this['renderForw'+'ardPrepare'+'Materials'](_0x4a5f11,_0x2771a2,_0x16cb2e,_0x2f7444,_0x54331f,_0x4ef364);this['renderForw'+'ardInterna'+'l'](_0x4a5f11,_0x554f88,_0x2f7444,_0x4ef364,_0x2532ff,_0xd52796),br['clear'](),this['_forwardTi'+'me']+=ne()-_0xe3cb6d;}['renderForw'+'ardLayer'](_0x2a0af3,_0x6385f2,_0x2a5557,_0x16a3b3,_0x2e32cc,_0x63726a,_0xe4d7f6={}){const {scene:_0x5be56d,device:_0x1e7f64}=this,_0x9a32bc=_0x5be56d['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x2a0af3,_0x6385f2);let _0x57a3ca,_0x148eeb;if(_0x2a5557){const _0x74ea0b=ne();_0x2a5557['sortVisibl'+'e'](_0x2a0af3,_0x16a3b3),this['_sortTime']+=ne()-_0x74ea0b;const _0x5300cc=_0x2a5557['getCulledI'+'nstances'](_0x2a0af3);_0x57a3ca=_0x16a3b3?_0x5300cc['transparen'+'t']:_0x5300cc['opaque'],_0x5be56d['immediate']['onPreRende'+'rLayer'](_0x2a5557,_0x57a3ca,_0x16a3b3),_0x2a5557['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x5be56d['ambientLig'+'ht'],_0x2a5557['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x148eeb=_0x2a5557['splitLight'+'s'];}else _0x57a3ca=_0xe4d7f6['meshInstan'+'ces'],_0x148eeb=_0xe4d7f6['splitLight'+'s']??OM;if(v['assert'](_0x57a3ca,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x9a32bc){const _0x24aad1=_0xe4d7f6['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x24aad1['activate'](),_0x2a5557&&!this['clustersDe'+'bugRendere'+'d']&&_0x5be56d['lighting']['debugLayer']===_0x2a5557['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x1e0b+-0x1*0xe57+0x7da*-0x2),Vu['render'](_0x24aad1,this['scene']));}_0x5be56d['_activeCam'+'era']=_0x2a0af3;const _0x52ae3e=_0x2a0af3['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x52ae3e);const _0x5efc67=this['setCameraU'+'niforms'](_0x2a0af3,_0x6385f2);_0x1e7f64['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x63726a,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x5efc67);const _0x3081a5=_0xe4d7f6['clearColor']??!(-0x4d0+-0x52d+0x4ff*0x2),_0x269ab4=_0xe4d7f6['clearDepth']??!(0x696+-0x4f9*-0x1+-0x2*0x5c7),_0x5a9574=_0xe4d7f6['clearStenc'+'il']??!(-0x1d89*-0x1+-0xc38*-0x1+-0x29c0);(_0x3081a5||_0x269ab4||_0x5a9574)&&this['clear'](_0x2a0af3,_0x3081a5,_0x269ab4,_0x5a9574);const _0x4d0d3d=!!(_0x2a0af3['_flipFaces']^(_0x6385f2==null?void(0x2518+0x9d*-0x1b+0x7*-0x2ef):_0x6385f2['flipY'])),_0x1d2cab=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x2a0af3,_0x6385f2,_0x57a3ca,_0x148eeb,_0x2e32cc,null,_0x2a5557,_0x4d0d3d),_0x2a5557&&(_0x2a5557['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x1d2cab);}['setFogCons'+'tants'](_0x42a7e6){if(_0x42a7e6['type']!==Fa){$i['linear'](_0x42a7e6['color']);const _0x19783e=this['fogColor'];_0x19783e[-0x865+0x1535+-0xcd0]=$i['r'],_0x19783e[0x24ce+-0x14ad+0x158*-0xc]=$i['g'],_0x19783e[0x8a*-0x4+0x5c2+0x17*-0x28]=$i['b'],this['fogColorId']['setValue'](_0x19783e),_0x42a7e6['type']===zb?(this['fogStartId']['setValue'](_0x42a7e6['start']),this['fogEndId']['setValue'](_0x42a7e6['end'])):this['fogDensity'+'Id']['setValue'](_0x42a7e6['density']);}}['setSceneCo'+'nstants'](){const _0x1abee0=this['scene'];this['dispatchGl'+'obalLights'](_0x1abee0);const _0xa1bfab=this['device'];this['_screenSiz'+'e'][-0x1880+-0x30e*0xc+-0x2*-0x1e94]=_0xa1bfab['width'],this['_screenSiz'+'e'][-0x174*-0x10+0x2*0x21f+-0x1*0x1b7d]=_0xa1bfab['height'],this['_screenSiz'+'e'][-0x191c+-0x1dc*-0x2+-0xb*-0x1f2]=(-0x260*0x9+0xa86+-0xadb*-0x1)/_0xa1bfab['width'],this['_screenSiz'+'e'][0x739+0x1*-0x1baf+0x1479]=(0xc97+-0x2c*-0x1b+-0x113a)/_0xa1bfab['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x417658,_0x498a3f){const _0x5d2223=this['scene'];if(_0x417658['reset'](),_0x5d2223['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x590c77,cookiesEnabled:_0x50d493}=_0x5d2223['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x417658,_0x590c77,_0x50d493,this['lights'],this['localLight'+'s']),_0x417658['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x417658,this['localLight'+'s']);let _0x5f05e3=0x7dc+0x16b0+0xaa*-0x2e,_0x2abc2b=!(0x1b9f+0x1a8b+-0x362a),_0x8b7a91=null;const _0x317e30=_0x498a3f['_renderAct'+'ions'];for(let _0x2508f3=_0x5f05e3;_0x2508f3<_0x317e30['length'];_0x2508f3++){const _0x62d08d=_0x317e30[_0x2508f3],{layer:_0x17c77f,camera:_0x2c4429}=_0x62d08d;if(_0x62d08d['useCameraP'+'asses'])v['call'](()=>{_0x2c4429['postEffect'+'s']['effects']['length']>-0x174+-0x153c+0x2d6*0x8&&v['warnOnce']('Camera\x20\x27'+_0x2c4429['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x2c4429['camera']['renderPass'+'es']['forEach'](_0x2e3597=>{_0x417658['addRenderP'+'ass'](_0x2e3597);});else{const _0x501281=_0x17c77f['id']===Xt,_0x23b080=_0x501281&&(_0x2c4429['renderScen'+'eColorMap']||_0x2c4429['renderScen'+'eDepthMap']);_0x2abc2b&&(_0x2abc2b=!(-0x10b1+0x1691+-0x5df),_0x5f05e3=_0x2508f3,_0x8b7a91=_0x62d08d['renderTarg'+'et']);const _0x2e9ad2=_0x317e30[_0x2508f3+(-0x1*0x105a+-0x178*0x2+0x134b)],_0x29d5c1=(_0x2e9ad2?!_0x2e9ad2['useCameraP'+'asses']&&_0x2e9ad2['layer']['id']===Xt:!(0x1eb0+0x7*-0x11b+0xb2*-0x21))&&(_0x2c4429['renderScen'+'eColorMap']||_0x2c4429['renderScen'+'eDepthMap']),_0x1d263e=_0x2e9ad2?_0x2e9ad2['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x2e9ad2['camera']['camera']):!(-0x176e*0x1+-0x1df2*0x1+0x38f*0xf);if(!_0x2e9ad2||_0x2e9ad2['renderTarg'+'et']!==_0x8b7a91||_0x1d263e||_0x29d5c1||_0x23b080){if(_0x501281&&_0x5f05e3===_0x2508f3||this['addMainRen'+'derPass'](_0x417658,_0x498a3f,_0x8b7a91,_0x5f05e3,_0x2508f3),_0x501281){if(_0x2c4429['renderScen'+'eColorMap']){const _0x2d4b1a=_0x2c4429['camera']['renderPass'+'ColorGrab'];_0x2d4b1a['source']=_0x2c4429['renderTarg'+'et'],_0x417658['addRenderP'+'ass'](_0x2d4b1a);}_0x2c4429['renderScen'+'eDepthMap']&&_0x417658['addRenderP'+'ass'](_0x2c4429['camera']['renderPass'+'DepthGrab']);}if(_0x62d08d['triggerPos'+'tprocess']&&(_0x2c4429!=null&&_0x2c4429['onPostproc'+'essing'])){const _0x2ea962=new FM(this['device'],this,_0x62d08d);_0x417658['addRenderP'+'ass'](_0x2ea962);}_0x2abc2b=!(0x7*0x19+0x23*0x81+-0x1252);}}}}['addMainRen'+'derPass'](_0x57cab6,_0x4e648c,_0x35ecb7,_0x212f7b,_0x230abb){const _0x15dbc4=new LM(this['device'],_0x4e648c,this['scene'],this);_0x15dbc4['init'](_0x35ecb7);const _0x2eb197=_0x4e648c['_renderAct'+'ions'];for(let _0x33b737=_0x212f7b;_0x33b737<=_0x230abb;_0x33b737++)_0x15dbc4['addRenderA'+'ction'](_0x2eb197[_0x33b737]);_0x57cab6['addRenderP'+'ass'](_0x15dbc4);}['update'](_0x1c4070){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x1c4070),this['collectLig'+'hts'](_0x1c4070),this['beginFrame'](_0x1c4070),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x1c4070),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',-0x1ead+0x1*-0x429+0x22d6),c(_i,'skipRender'+'After',-0x25f4+0x1fae+0x92*0xb);let Gh=_i,zd=0x4*-0xce+0x817+-0x4df;const ja=[],Ol=new Set();function NM(_0x5bd5ed,_0x58dbbe){return _0x5bd5ed['drawOrder']-_0x58dbbe['drawOrder'];}function zM(_0x373025,_0x2c7baa){const _0xc9f1dd=_0x373025['_key'][Ei],_0x3d550b=_0x2c7baa['_key'][Ei];return _0xc9f1dd===_0x3d550b&&_0x373025['mesh']&&_0x2c7baa['mesh']?_0x2c7baa['mesh']['id']-_0x373025['mesh']['id']:_0x3d550b-_0xc9f1dd;}function UM(_0x14e201,_0x2e3b8f){return _0x2e3b8f['zdist']-_0x14e201['zdist'];}function VM(_0x961531,_0x2f4f73){return _0x961531['zdist']-_0x2f4f73['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x5086cc={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(-0x35e*-0x1+0x27+-0x385)),c(this,'requiresLi'+'ghtCube',!(-0x1259+-0x2388+0x35e2)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(0x107+-0x49*0x3f+-0x1*-0x10f1)),(_0x5086cc['id']!==void(-0x116+0x1*0xc91+-0x1*0xb7b)?(this['id']=_0x5086cc['id'],zd=Math['max'](this['id']+(-0x1c47+-0x3a*0x95+0x3e0a),zd)):this['id']=zd++,this['name']=_0x5086cc['name'],this['_enabled']=_0x5086cc['enabled']??!(-0xed4+0x5*0xea+-0xd*-0xca),this['_refCounte'+'r']=this['_enabled']?0x130d+0x16cd+-0x29d9:0x89*-0x1f+0xff+-0x3e6*-0x4,this['opaqueSort'+'Mode']=_0x5086cc['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x5086cc['transparen'+'tSortMode']??Bm,_0x5086cc['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x5086cc['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x5086cc['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x5086cc['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x5086cc['clearStenc'+'ilBuffer'],this['onEnable']=_0x5086cc['onEnable'],this['onDisable']=_0x5086cc['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x1737*-0x1+-0x13*0x14d+0x2fee,this['_lightHash'+'Dirty']=!(-0xacd+0x15ff+-0x3*0x3bb),this['_lightIdHa'+'sh']=-0x7*-0x2f6+-0x23d8+0xf1e,this['_lightIdHa'+'shDirty']=!(-0x1ad*-0x1+0xb*0x78+-0x2e*0x26),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x2db*0x1+0x144b+-0x2*0xb93,this['_renderTim'+'e']=-0x1087+-0x2c2*0x5+-0x1*-0x1e51,this['_forwardDr'+'awCalls']=0x1039+-0x18d*0x11+-0x2*-0x512,this['_shadowDra'+'wCalls']=-0x1d0c+0x1f8c+-0x280,this['_shaderVer'+'sion']=-(0x31*0x21+-0xfb*0x2+-0x22d*0x2));}set['enabled'](_0x53da46){_0x53da46!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x23e*0x11+-0x1c04+-0x1af*0x6),this['_enabled']=_0x53da46,_0x53da46?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x49ad56){this['_clearColo'+'rBuffer']=_0x49ad56,this['_dirtyComp'+'osition']=!(0x1f74+-0x1bf8+-0x37c);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x4d4e17){this['_clearDept'+'hBuffer']=_0x4d4e17,this['_dirtyComp'+'osition']=!(-0x1*0x853+0x1277+-0xa24);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x2d420b){this['_clearSten'+'cilBuffer']=_0x2d420b,this['_dirtyComp'+'osition']=!(0x9be+-0x1*-0x1867+-0x2225);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x1f55+-0x1eeb+0x2*-0x35;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x1aeb+0x149+0x2*0xcd1&&(this['_enabled']=!(-0x1*-0xd21+0x2fa+-0x101b),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x220e+0x1892+0x7*0x15b)this['_enabled']=!(0x1223*-0x2+-0x19*-0xa9+0x13c6),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x2*-0xc25+-0x92f+0x1*-0xf1b){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x5ee634,_0x403fcf){const _0x2327f8=this['meshInstan'+'ces'],_0x51a982=this['meshInstan'+'cesSet'];for(let _0x7dafe6=0x1313+0xd*-0x116+0x3*-0x1a7;_0x7dafe6<_0x5ee634['length'];_0x7dafe6++){const _0x53c431=_0x5ee634[_0x7dafe6];_0x51a982['has'](_0x53c431)||(_0x2327f8['push'](_0x53c431),_0x51a982['add'](_0x53c431),Ol['add'](_0x53c431['material']));}if(_0x403fcf||this['addShadowC'+'asters'](_0x5ee634),Ol['size']>-0x1ca4+-0x1924+-0x4*-0xd72){const _0x59d4bc=this['_shaderVer'+'sion'];Ol['forEach'](_0x35e76c=>{_0x59d4bc>=0x358+-0x17d4+0x147c&&_0x35e76c['_shaderVer'+'sion']!==_0x59d4bc&&(_0x35e76c['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x35e76c['clearVaria'+'nts'](),_0x35e76c['_shaderVer'+'sion']=_0x59d4bc);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x511fc4,_0x5b5c0d){const _0x11e34a=this['meshInstan'+'ces'],_0xe4caf6=this['meshInstan'+'cesSet'];for(let _0x3e8c06=-0x1d8a+-0x22ff+-0x3*-0x1583;_0x3e8c06<_0x511fc4['length'];_0x3e8c06++){const _0x30c3ab=_0x511fc4[_0x3e8c06];if(_0xe4caf6['has'](_0x30c3ab)){_0xe4caf6['delete'](_0x30c3ab);const _0x222f17=_0x11e34a['indexOf'](_0x30c3ab);_0x222f17>=0x19af+-0x12*0x13+-0x1859*0x1&&_0x11e34a['splice'](_0x222f17,-0x3*0x9eb+-0x2470+0x2119*0x2);}}_0x5b5c0d||this['removeShad'+'owCasters'](_0x511fc4);}['addShadowC'+'asters'](_0x382d39){const _0x182cba=this['shadowCast'+'ers'],_0x579b71=this['shadowCast'+'ersSet'];for(let _0x238881=-0xb*-0x23b+-0x2301+-0x2*-0x53c;_0x238881<_0x382d39['length'];_0x238881++){const _0x7515c4=_0x382d39[_0x238881];_0x7515c4['castShadow']&&!_0x579b71['has'](_0x7515c4)&&(_0x579b71['add'](_0x7515c4),_0x182cba['push'](_0x7515c4));}}['removeShad'+'owCasters'](_0xac0aca){const _0x730a1e=this['shadowCast'+'ers'],_0xcd151e=this['shadowCast'+'ersSet'];for(let _0x10bfc2=0x541*0x6+0x221+0x1*-0x21a7;_0x10bfc2<_0xac0aca['length'];_0x10bfc2++){const _0x472d51=_0xac0aca[_0x10bfc2];if(_0xcd151e['has'](_0x472d51)){_0xcd151e['delete'](_0x472d51);const _0x1213fa=_0x730a1e['indexOf'](_0x472d51);_0x1213fa>=0x1aa4+0x2*0x121+-0x1ce6&&_0x730a1e['splice'](_0x1213fa,0x13*0x11f+0xbea*0x3+-0x390a);}}}['clearMeshI'+'nstances'](_0x3395ac=!(0x11b0+0x26*0xd7+-0x3199)){this['meshInstan'+'ces']['length']=-0x1*-0x17b9+-0x77*-0x22+-0x3*0xd2d,this['meshInstan'+'cesSet']['clear'](),_0x3395ac||(this['shadowCast'+'ers']['length']=0x36*0x69+-0x20ea+0xac4,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0x1f*-0x71+-0xb*-0x2a1+-0xf3c),this['_lightIdHa'+'shDirty']=!(-0xbcc+-0x514+0x10e0),this['_splitLigh'+'tsDirty']=!(-0x2527+0x25cf+-0xe*0xc);}['hasLight'](_0x495b99){return this['_lightsSet']['has'](_0x495b99);}['addLight'](_0x335112){const _0x564d4c=_0x335112['light'];this['_lightsSet']['has'](_0x564d4c)||(this['_lightsSet']['add'](_0x564d4c),this['_lights']['push'](_0x564d4c),this['markLights'+'Dirty']()),_0x564d4c['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x564d4c);}['removeLigh'+'t'](_0x4ea061){const _0xb89980=_0x4ea061['light'];this['_lightsSet']['has'](_0xb89980)&&(this['_lightsSet']['delete'](_0xb89980),this['_lights']['splice'](this['_lights']['indexOf'](_0xb89980),-0x1315*-0x1+-0x8*-0x1d8+0x1*-0x21d4),this['markLights'+'Dirty']()),_0xb89980['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0xb89980);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x26cbba=>_0x26cbba['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x93b+0x5*0x311+0x30*-0x83,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0xb55*0x2+0x19b2+-0x307);const _0x37f4d4=this['_splitLigh'+'ts'];for(let _0x3a0c43=0x229b+-0x1*-0x1211+-0x34ac;_0x3a0c43<_0x37f4d4['length'];_0x3a0c43++)_0x37f4d4[_0x3a0c43]['length']=0x27*-0x35+-0x2*0x7a8+0x1763;const _0x77665f=this['_lights'];for(let _0x38af8f=0x73*-0x26+0x7c+0xb*0x182;_0x38af8f<_0x77665f['length'];_0x38af8f++){const _0x189ee=_0x77665f[_0x38af8f];_0x189ee['enabled']&&_0x37f4d4[_0x189ee['_type']]['push'](_0x189ee);}for(let _0x5dfc58=0x1468*-0x1+0x1*-0x1da8+0x3210;_0x5dfc58<_0x37f4d4['length'];_0x5dfc58++)_0x37f4d4[_0x5dfc58]['sort']((_0x57aeeb,_0x1f5aa2)=>_0x57aeeb['key']-_0x1f5aa2['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x5aa9b2,_0x278f3c,_0x1724f9){let _0x1a12b5=-0x1*0xb29+0xac*-0x37+0x301d;const _0x3cb1a5=this['_lights'];for(let _0xd74694=0x201e*-0x1+0x153a+0x29*0x44;_0xd74694<_0x3cb1a5['length'];_0xd74694++){const _0x4ec8a0=_0x3cb1a5[_0xd74694]['type']!==oe;(_0x5aa9b2&&_0x4ec8a0||_0x278f3c&&!_0x4ec8a0)&&ja['push'](_0x1724f9?_0x3cb1a5[_0xd74694]['id']:_0x3cb1a5[_0xd74694]['key']);}return ja['length']>-0x126d+-0x11*0x246+0x3913&&(ja['sort'](),_0x1a12b5=Zy(ja),ja['length']=-0x138f+-0x21d1+0x8*0x6ac),_0x1a12b5;}['getLightHa'+'sh'](_0x5a7e14){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x687*-0x3+0x1729+0xf*-0x3d),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x5a7e14,!(-0xcda*0x3+-0x1259+0x38e7),!(0x1dc1+-0xbd*-0xb+-0x25df))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x2344+0xc2f+-0x2f72*0x1),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1*0x21cd+0x1*0x22e1+-0x2*0x8a),!(-0x8a7+0x1*0x12f5+-0xa4d*0x1),!(-0x1907+0x11ed+0x71a))),this['_lightIdHa'+'sh'];}['addCamera'](_0x13e328){this['camerasSet']['has'](_0x13e328['camera'])||(this['camerasSet']['add'](_0x13e328['camera']),this['cameras']['push'](_0x13e328),this['_dirtyComp'+'osition']=!(-0x1cfd+0x1b3c+0x1c1));}['removeCame'+'ra'](_0x3e7e74){if(this['camerasSet']['has'](_0x3e7e74['camera'])){this['camerasSet']['delete'](_0x3e7e74['camera']);const _0x3f3999=this['cameras']['indexOf'](_0x3e7e74);this['cameras']['splice'](_0x3f3999,0xcc8*0x3+0x1360+0x133d*-0x3),this['_dirtyComp'+'osition']=!(-0xbc*0x8+0xda0+-0x7c0);}}['clearCamer'+'as'](){this['cameras']['length']=0x18ca+-0xa*0x1e6+0x1*-0x5ce,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x1c0b+0x305*0x3+-0x14*-0xf3);}['_calculate'+'SortDistan'+'ces'](_0x1abdb0,_0x3ebddf,_0x3774c4,_0x5af384){for(let _0xd40faa=0x33c+0x1eb*-0x5+0x65b;_0xd40faa<_0x3ebddf;_0xd40faa++){const _0x37fab9=_0x1abdb0[_0xd40faa];if(_0x37fab9['layer']<=Vb)continue;if(_0x37fab9['calculateS'+'ortDistanc'+'e']){_0x37fab9['zdist']=_0x37fab9['calculateS'+'ortDistanc'+'e'](_0x37fab9,_0x3774c4,_0x5af384);continue;}const _0x8e3631=_0x37fab9['aabb']['center'],_0x3d516a=_0x8e3631['x']-_0x3774c4['x'],_0x5bfc66=_0x8e3631['y']-_0x3774c4['y'],_0x2b6b9d=_0x8e3631['z']-_0x3774c4['z'];_0x37fab9['zdist']=_0x3d516a*_0x5af384['x']+_0x5bfc66*_0x5af384['y']+_0x2b6b9d*_0x5af384['z'];}}['getCulledI'+'nstances'](_0x40ff29){let _0x5b34be=this['_visibleIn'+'stances']['get'](_0x40ff29);return _0x5b34be||(_0x5b34be=new HM(),this['_visibleIn'+'stances']['set'](_0x40ff29,_0x5b34be)),_0x5b34be;}['sortVisibl'+'e'](_0x3c4bf7,_0x2da289){const _0x416baf=_0x2da289?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x416baf===dh)return;const _0x113c5b=this['getCulledI'+'nstances'](_0x3c4bf7),_0x1ced41=_0x2da289?_0x113c5b['transparen'+'t']:_0x113c5b['opaque'],_0xcdc01=_0x3c4bf7['node'];if(_0x416baf===ew){const _0x202d18=_0xcdc01['getPositio'+'n'](),_0x3e66bf=_0xcdc01['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x1ced41,_0x1ced41['length'],_0x202d18,_0x3e66bf),this['customSort'+'Callback']&&_0x1ced41['sort'](this['customSort'+'Callback']);}else{if(_0x416baf===Bm||_0x416baf===Jb){const _0x1b1f76=_0xcdc01['getPositio'+'n'](),_0x588bc9=_0xcdc01['forward'];this['_calculate'+'SortDistan'+'ces'](_0x1ced41,_0x1ced41['length'],_0x1b1f76,_0x588bc9);}_0x1ced41['sort'](GM[_0x416baf]);}}}const WM=(_0x48382a,_0x1b0e30)=>_0x48382a['priority']-_0x1b0e30['priority'],No=_0x24dc56=>_0x24dc56['sort'](WM);class S_ extends ce{constructor(_0x27b620='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0x1d27+-0x29d+-0x1a89)),(this['name']=_0x27b620,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x5b0914=>_0x5b0914['destroy']()),this['_renderAct'+'ions']['length']=-0x106e+-0x1*-0x14a8+-0x21d*0x2;}['_update'](){const _0x384d81=this['layerList']['length'];if(!this['_dirty']){for(let _0x1929e4=0x279*0x1+0x16d4+-0x194d;_0x1929e4<_0x384d81;_0x1929e4++)if(this['layerList'][_0x1929e4]['_dirtyComp'+'osition']){this['_dirty']=!(-0x5c9*-0x3+-0x59*-0x59+0x464*-0xb);break;}}if(this['_dirty']){this['_dirty']=!(-0x1b62+0x17a3*-0x1+0x2*0x1983),this['cameras']['length']=0x936+0x18*-0x146+0x155a;for(let _0x410b85=-0x11*0x170+-0x5*-0x397+0x67d;_0x410b85<_0x384d81;_0x410b85++){const _0x3ba2de=this['layerList'][_0x410b85];_0x3ba2de['_dirtyComp'+'osition']=!(-0xc0+0x15f5+-0x1534);for(let _0x1046d8=0x1199+0x1f*-0x2b+-0xc64;_0x1046d8<_0x3ba2de['cameras']['length'];_0x1046d8++){const _0x43cd8d=_0x3ba2de['cameras'][_0x1046d8];this['cameras']['indexOf'](_0x43cd8d)<-0xa99+0x333+0x2*0x3b3&&this['cameras']['push'](_0x43cd8d);}}this['cameras']['length']>-0x13*-0x49+0x20*0x116+-0x282a&&No(this['cameras']);let _0x110946=-0x2*0x115a+-0x8bd+-0x3f3*-0xb;this['destroyRen'+'derActions']();for(let _0xf698a3=0x1*0x116b+-0x257a+-0xd*-0x18b;_0xf698a3<this['cameras']['length'];_0xf698a3++){const _0x530655=this['cameras'][_0xf698a3];if(_0x530655['camera']['renderPass'+'es']['length']>0x22*-0x5c+-0x1*0x243d+0x3075){this['addDummyRe'+'nderAction'](_0x110946,_0x530655),_0x110946++;continue;}let _0x1594aa=!(0x730+-0xb1*-0x17+-0x1717);const _0x290e14=_0x110946;let _0x582eac=null,_0x3db295=!(-0x11cd+-0x1*-0x266f+0x1*-0x14a1);for(let _0x294963=-0x11bc+0x18fb*0x1+-0x73f*0x1;_0x294963<_0x384d81;_0x294963++){const _0x236b1a=this['layerList'][_0x294963];if(_0x236b1a['enabled']&&this['subLayerEn'+'abled'][_0x294963]&&_0x236b1a['cameras']['length']>-0x1*-0x21f1+-0x24b4+0x65*0x7&&_0x530655['layers']['indexOf'](_0x236b1a['id'])>=-0x1987+-0x11b+-0x1*-0x1aa2){!_0x3db295&&_0x236b1a['id']===_0x530655['disablePos'+'tEffectsLa'+'yer']&&(_0x3db295=!(-0xa*-0x317+-0x1*0x5fb+-0x18eb),_0x582eac&&(_0x582eac['triggerPos'+'tprocess']=!(-0x23*-0x2+-0x1e4f+0x1e09)));const _0x2d5d3c=this['subLayerLi'+'st'][_0x294963];_0x582eac=this['addRenderA'+'ction'](_0x110946,_0x236b1a,_0x2d5d3c,_0x530655,_0x1594aa,_0x3db295),_0x110946++,_0x1594aa=!(-0x6*-0x2c3+0x650*0x3+-0x2381);}}_0x290e14<_0x110946&&(_0x582eac['lastCamera'+'Use']=!(0xb89+-0x1c33+0x10aa)),!_0x3db295&&_0x582eac&&(_0x582eac['triggerPos'+'tprocess']=!(0xe27+-0x115a*-0x1+0x1f81*-0x1)),_0x530655['renderTarg'+'et']&&_0x530655['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x290e14-(0xc7*0xe+0x9bf+-0x21*0xa0),_0x530655);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x4a30f3){v['assert'](this['_renderAct'+'ions']['length']===_0x4a30f3);const _0x11fde4=new D0();return this['_renderAct'+'ions']['push'](_0x11fde4),_0x11fde4;}['addDummyRe'+'nderAction'](_0x266aa6,_0x476451){const _0x55ba22=this['getNextRen'+'derAction'](_0x266aa6);_0x55ba22['camera']=_0x476451,_0x55ba22['useCameraP'+'asses']=!(-0x1c39+0xb01+0x1138);}['addRenderA'+'ction'](_0x155a51,_0x4b58b5,_0x3688c0,_0xdca12c,_0x1fd90b,_0x4ebe38){let _0x64ddf0=_0x4b58b5['id']!==Xt?_0xdca12c['renderTarg'+'et']:null,_0x32ed47=!(-0x85f*0x1+0x3*-0x14b+-0xc41*-0x1);const _0x18e0f8=this['_renderAct'+'ions'];for(let _0x168200=_0x155a51-(-0x19*-0x9+0x1bf8+0x47*-0x68);_0x168200>=-0x2c1*-0x4+0x87c+-0x1380;_0x168200--)if(_0x18e0f8[_0x168200]['camera']===_0xdca12c&&_0x18e0f8[_0x168200]['renderTarg'+'et']===_0x64ddf0){_0x32ed47=!(-0x1349*0x1+-0xaaa+0x1df3);break;}_0x4ebe38&&_0xdca12c['postEffect'+'sEnabled']&&(_0x64ddf0=null);const _0x202db7=this['getNextRen'+'derAction'](_0x155a51);_0x202db7['triggerPos'+'tprocess']=!(-0x767*0x2+-0x1e93+0x2d62),_0x202db7['layer']=_0x4b58b5,_0x202db7['transparen'+'t']=_0x3688c0,_0x202db7['camera']=_0xdca12c,_0x202db7['renderTarg'+'et']=_0x64ddf0,_0x202db7['firstCamer'+'aUse']=_0x1fd90b,_0x202db7['lastCamera'+'Use']=!(0xa*0xa9+0x2d5+-0x96e);const _0x5a87a1=_0x1fd90b||!_0x32ed47,_0x4140df=_0x4b58b5['clearColor'+'Buffer']||_0x4b58b5['clearDepth'+'Buffer']||_0x4b58b5['clearStenc'+'ilBuffer'];return(_0x5a87a1||_0x4140df)&&_0x202db7['setupClear'+'s'](_0x5a87a1?_0xdca12c:void(-0x3e9+0x9*0x44f+0x22de*-0x1),_0x4b58b5),_0x202db7;}['propagateR'+'enderTarge'+'t'](_0x26a03b,_0x4a49e7){for(let _0x1d0426=_0x26a03b;_0x1d0426>=0x798+0x3d*0x6d+-0x2191;_0x1d0426--){const _0x1761c8=this['_renderAct'+'ions'][_0x1d0426],_0x5f39f1=_0x1761c8['layer'];if(_0x1761c8['renderTarg'+'et']&&_0x5f39f1['id']!==Xt)break;if(_0x5f39f1['id']===Xt)continue;if(_0x1761c8['useCameraP'+'asses'])break;const _0xf3a71c=_0x1761c8==null?void(0x2c*0xc2+-0x1472+0xfe*-0xd):_0x1761c8['camera']['camera'];if(_0xf3a71c&&(!_0x4a49e7['camera']['rect']['equals'](_0xf3a71c['rect'])||!_0x4a49e7['camera']['scissorRec'+'t']['equals'](_0xf3a71c['scissorRec'+'t'])))break;_0x1761c8['renderTarg'+'et']=_0x4a49e7['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x337f12=-0xa3*-0x29+0x13eb+0x2e06*-0x1;_0x337f12<this['_renderAct'+'ions']['length'];_0x337f12++){const _0x3884e1=this['_renderAct'+'ions'][_0x337f12],_0x35db7c=_0x3884e1['camera'];if(_0x3884e1['useCameraP'+'asses'])v['trace'](pl,_0x337f12+('CustomPass'+'es\x20Cam:\x20')+(_0x35db7c?_0x35db7c['entity']['name']:'-'));else{const _0x6437e0=_0x3884e1['layer'],_0x4d1470=_0x6437e0['enabled']&&this['isEnabled'](_0x6437e0,_0x3884e1['transparen'+'t']),_0x13c92f=(_0x3884e1['clearColor']?'Color\x20':'.....\x20')+(_0x3884e1['clearDepth']?'Depth\x20':'.....\x20')+(_0x3884e1['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x337f12+('\x20Cam:\x20'+(_0x35db7c?_0x35db7c['entity']['name']:'-'))['padEnd'](-0x1f9*-0xe+0x9*-0x3c1+-0x1*-0x641,'\x20')+('\x20Lay:\x20'+_0x6437e0['name'])['padEnd'](0x184*0x15+0x8f9*0x1+-0x28b7,'\x20')+(_0x3884e1['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x4d1470?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x3884e1['renderTarg'+'et']?_0x3884e1['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1*0xe3b+0x26b+0x3fa*0x3,'\x20')+'\x20Clear:\x20'+_0x13c92f+(_0x3884e1['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x3884e1['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x3884e1['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x382ded){const _0x21fddf=this['layerIdMap']['get'](_0x382ded['id'])===_0x382ded;return v['assert'](!_0x21fddf,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x382ded['name']),_0x21fddf;}['_isSublaye'+'rAdded'](_0x560586,_0x5849aa){return(_0x5849aa?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x560586)!==void(0x9e7+0x1a86+0x749*-0x5)?(v['error']('Sublayer\x20'+_0x560586['name']+(',\x20transpar'+'ent:\x20')+_0x5849aa+('\x20is\x20alread'+'y\x20added.')),!(0x2c7*-0xc+0x885*0x4+-0x1*0xc0)):!(-0x775+0x15ed+-0xe77);}['push'](_0x4aba46){this['_isLayerAd'+'ded'](_0x4aba46)||(this['layerList']['push'](_0x4aba46),this['layerList']['push'](_0x4aba46),this['_opaqueOrd'+'er'][_0x4aba46['id']]=this['subLayerLi'+'st']['push'](!(0x549+0x2623+-0x2b6b))-(-0x1099+0x1*0xe51+0x249),this['_transpare'+'ntOrder'][_0x4aba46['id']]=this['subLayerLi'+'st']['push'](!(0x1*0x1baf+0x12e7+-0x2e96))-(0x1*-0x1a89+-0x19*0x15b+-0x1*-0x3c6d),this['subLayerEn'+'abled']['push'](!(-0x1cda+-0xf1f+0x2bf9)),this['subLayerEn'+'abled']['push'](!(-0x1*-0x4aa+0x1aa3+-0x1f4d)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x12*-0xd6+0x1754+-0x266*0x10),this['fire']('add',_0x4aba46));}['insert'](_0x27b4e1,_0x5dc64c){if(this['_isLayerAd'+'ded'](_0x27b4e1))return;this['layerList']['splice'](_0x5dc64c,-0x122+0x1888+-0x4ae*0x5,_0x27b4e1,_0x27b4e1),this['subLayerLi'+'st']['splice'](_0x5dc64c,-0x114b*-0x1+-0xed9+-0x2*0x139,!(-0x25e*-0x7+0x1*0xdfb+0x1e8c*-0x1),!(0x1*0x144d+0xe3*-0xc+0x1*-0x9a9));const _0x25fa12=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x5dc64c,_0x25fa12-(0x1*0x301+-0x11dd*-0x1+-0x14dd)),this['_updateTra'+'nsparentOr'+'der'](_0x5dc64c,_0x25fa12-(0xa0c*0x2+-0x1*0x7b2+-0xc65)),this['subLayerEn'+'abled']['splice'](_0x5dc64c,-0xa*-0x8b+0x1783*0x1+-0x1cf1,!(0x5*0x490+0x3*-0x94d+0x517),!(0x1cb1*-0x1+0x4a*0x9+0x1a17)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x13b3+-0x76*0x4+0x158b),this['fire']('add',_0x27b4e1);}['remove'](_0x5d591d){let _0x4f32c0=this['layerList']['indexOf'](_0x5d591d);for(delete this['_opaqueOrd'+'er'][_0x4f32c0],delete this['_transpare'+'ntOrder'][_0x4f32c0];_0x4f32c0>=-0x184*-0xd+0x25d8+-0x398c;)this['layerList']['splice'](_0x4f32c0,0x178f+-0x1*0x1588+-0x206),this['subLayerLi'+'st']['splice'](_0x4f32c0,-0x4ae+-0xa08+0xeb7),this['subLayerEn'+'abled']['splice'](_0x4f32c0,-0x1b09+0xaf5+0x1015),_0x4f32c0=this['layerList']['indexOf'](_0x5d591d),this['_dirty']=!(0x1e*-0x1a+0x1f87+-0x1c7b),this['fire']('remove',_0x5d591d);const _0x112ace=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x5b3+-0x1b69+0x211c,_0x112ace-(-0x3*0x516+0xdd*0x22+-0xe17)),this['_updateTra'+'nsparentOr'+'der'](0x18d4+0x44e*-0x3+0x19*-0x7a,_0x112ace-(-0x15c*-0xe+0x22b*-0xe+-0xdf*-0xd)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x2f8ef2){this['_isSublaye'+'rAdded'](_0x2f8ef2,!(0x1333+0x107*0x2+-0x1540))||(this['layerList']['push'](_0x2f8ef2),this['_opaqueOrd'+'er'][_0x2f8ef2['id']]=this['subLayerLi'+'st']['push'](!(-0x2370+0xea1+0xa68*0x2))-(0x1ea6+-0x18c0+0x3*-0x1f7),this['subLayerEn'+'abled']['push'](!(-0x40*0x56+-0x1256+0x27d6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xbcb*-0x1+-0x3f8*0x7+-0x1*-0x2793),this['fire']('add',_0x2f8ef2));}['insertOpaq'+'ue'](_0x530f8a,_0x2d8221){if(this['_isSublaye'+'rAdded'](_0x530f8a,!(0x1333+-0x1380+-0x1*-0x4e)))return;this['layerList']['splice'](_0x2d8221,-0x1679+-0x2055+0x36ce,_0x530f8a),this['subLayerLi'+'st']['splice'](_0x2d8221,-0x249+0x5*-0x629+0x2116,!(-0x1*-0xc73+-0xa27+-0x24b));const _0x51ec91=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x2d8221,_0x51ec91-(0x1b*-0x135+-0x131f+0x33b7)),this['subLayerEn'+'abled']['splice'](_0x2d8221,-0x19cb+-0xf5e*-0x1+-0x1*-0xa6d,!(-0x5*-0x4e1+0x25fa+0x3e5f*-0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xd*0x235+-0x369*-0x2+0x1*-0x2383),this['fire']('add',_0x530f8a);}['removeOpaq'+'ue'](_0x2c0020){for(let _0x64ef7f=-0x2*0x126f+0x31d+-0x1*-0x21c1,_0x10da57=this['layerList']['length'];_0x64ef7f<_0x10da57;_0x64ef7f++)if(this['layerList'][_0x64ef7f]===_0x2c0020&&!this['subLayerLi'+'st'][_0x64ef7f]){this['layerList']['splice'](_0x64ef7f,0xa5*0x16+-0x1913+0xf*0xba),this['subLayerLi'+'st']['splice'](_0x64ef7f,0x18e2+0x36+-0x1917),_0x10da57--,this['_updateOpa'+'queOrder'](_0x64ef7f,_0x10da57-(0x94+-0xb1*-0xa+-0x77d)),this['subLayerEn'+'abled']['splice'](_0x64ef7f,0x1*0x1e89+0x147b+-0x3303),this['_dirty']=!(-0xc2e*-0x1+-0x2f*-0x66+-0xb8*0x2b),this['layerList']['indexOf'](_0x2c0020)<0x7ec+-0x64b*0x6+0x2*0xeeb&&this['fire']('remove',_0x2c0020);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x936bc0){this['_isSublaye'+'rAdded'](_0x936bc0,!(0x26c9+-0xa70+-0x1c59))||(this['layerList']['push'](_0x936bc0),this['_transpare'+'ntOrder'][_0x936bc0['id']]=this['subLayerLi'+'st']['push'](!(0x2162+0xd2e+0x1748*-0x2))-(0x362+-0x1664*-0x1+-0x19c5),this['subLayerEn'+'abled']['push'](!(-0x11fb+0x3e6*-0x6+0x295f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x755*-0x4+-0xdb8*-0x1+-0x2b0c),this['fire']('add',_0x936bc0));}['insertTran'+'sparent'](_0x5364dd,_0x4431cc){if(this['_isSublaye'+'rAdded'](_0x5364dd,!(0x7*0x4dc+-0x1b21+0x2b*-0x29)))return;this['layerList']['splice'](_0x4431cc,0x1b43+-0x18d+-0x19b6,_0x5364dd),this['subLayerLi'+'st']['splice'](_0x4431cc,-0x1a40+-0x1b76+-0x35b6*-0x1,!(0xf7b+0x1931+-0x28ac));const _0x10a1b3=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x4431cc,_0x10a1b3-(0x1d4d+-0x1*0x20ef+0x31*0x13)),this['subLayerEn'+'abled']['splice'](_0x4431cc,-0x2*-0x7ef+-0x2*-0x94f+-0x227c,!(-0x13b*-0x19+0x256c+-0x442f*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x21a4+0x1*-0x279+0x241d),this['fire']('add',_0x5364dd);}['removeTran'+'sparent'](_0x1cc46a){for(let _0x25b0a0=-0x2400+0x1f*0x30+-0x170*-0x15,_0x3c74b4=this['layerList']['length'];_0x25b0a0<_0x3c74b4;_0x25b0a0++)if(this['layerList'][_0x25b0a0]===_0x1cc46a&&this['subLayerLi'+'st'][_0x25b0a0]){this['layerList']['splice'](_0x25b0a0,0x525*0x3+0x1f*-0x92+0x12*0x20),this['subLayerLi'+'st']['splice'](_0x25b0a0,-0x14a2+0xee*-0x7+0x1b25),_0x3c74b4--,this['_updateTra'+'nsparentOr'+'der'](_0x25b0a0,_0x3c74b4-(0x1a06+0xa27+-0x14*0x1cf)),this['subLayerEn'+'abled']['splice'](_0x25b0a0,-0x72b*0x1+0x20e3*0x1+-0x1d*0xe3),this['_dirty']=!(0xeb9+-0x26b7+0x53*0x4a),this['layerList']['indexOf'](_0x1cc46a)<0x147+0x1fad+-0x20f4&&this['fire']('remove',_0x1cc46a);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x42f39a){return this['layerOpaqu'+'eIndexMap']['get'](_0x42f39a)??-(-0x339*0xc+-0x129*0x3+0x2a28);}['getTranspa'+'rentIndex'](_0x5cb214){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x5cb214)??-(0x2201+0x469*-0x7+-0x321);}['isEnabled'](_0x3f7bbd,_0x2dc8ca){if(_0x3f7bbd['enabled']){const _0x37b94f=_0x2dc8ca?this['getTranspa'+'rentIndex'](_0x3f7bbd):this['getOpaqueI'+'ndex'](_0x3f7bbd);if(_0x37b94f>=-0x1311*0x2+0x45*-0x35+0x1f1*0x1b)return this['subLayerEn'+'abled'][_0x37b94f];}return!(-0x1511*-0x1+0xa*0x305+-0x12*0x2d9);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x379ade=-0x1908+-0x75a*0x1+0x2062;_0x379ade<this['layerList']['length'];_0x379ade++){const _0x1e096f=this['layerList'][_0x379ade];this['layerIdMap']['set'](_0x1e096f['id'],_0x1e096f),this['layerNameM'+'ap']['set'](_0x1e096f['name'],_0x1e096f),(this['subLayerLi'+'st'][_0x379ade]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x1e096f,_0x379ade);}}['getLayerBy'+'Id'](_0x1e84af){return this['layerIdMap']['get'](_0x1e84af)??null;}['getLayerBy'+'Name'](_0x3aeb36){return this['layerNameM'+'ap']['get'](_0x3aeb36)??null;}['_updateOpa'+'queOrder'](_0x17fa29,_0x4e5de5){for(let _0xac9fa1=_0x17fa29;_0xac9fa1<=_0x4e5de5;_0xac9fa1++)this['subLayerLi'+'st'][_0xac9fa1]===!(0x16*0x128+-0x15b1+-0x3be)&&(this['_opaqueOrd'+'er'][this['layerList'][_0xac9fa1]['id']]=_0xac9fa1);}['_updateTra'+'nsparentOr'+'der'](_0x34eacd,_0x5c0db2){for(let _0x2f1a14=_0x34eacd;_0x2f1a14<=_0x5c0db2;_0x2f1a14++)this['subLayerLi'+'st'][_0x2f1a14]===!(0x108e+0x1*-0x2611+0x1583)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x2f1a14]['id']]=_0x2f1a14);}['_sortLayer'+'sDescendin'+'g'](_0x2a3ac0,_0x1efc95,_0x2ab6a7){let _0x482941=-(-0x7*-0x97+-0x1518+0x10f8),_0x3ff4c7=-(0x2*0x782+0x1fab+0x5*-0x956);for(let _0x58da92=0x24db+-0x63d+-0x1*0x1e9e,_0x385600=_0x2a3ac0['length'];_0x58da92<_0x385600;_0x58da92++){const _0x39ac7c=_0x2a3ac0[_0x58da92];_0x2ab6a7['hasOwnProp'+'erty'](_0x39ac7c)&&(_0x482941=Math['max'](_0x482941,_0x2ab6a7[_0x39ac7c]));}for(let _0x4fb5de=0x230e+-0x241d+0x10f,_0x1ffe1c=_0x1efc95['length'];_0x4fb5de<_0x1ffe1c;_0x4fb5de++){const _0x3eca79=_0x1efc95[_0x4fb5de];_0x2ab6a7['hasOwnProp'+'erty'](_0x3eca79)&&(_0x3ff4c7=Math['max'](_0x3ff4c7,_0x2ab6a7[_0x3eca79]));}return _0x482941===-(-0x1*0x26d5+0x20d9*-0x1+0x9*0x7f7)&&_0x3ff4c7!==-(0x1162+0x3d6+-0x1537)?-0xa5c+0x1*0x2225+0x5f2*-0x4:_0x3ff4c7===-(-0x1*0x922+0x913+0x10)&&_0x482941!==-(0x1*-0xbd7+-0x101f+-0x1bf7*-0x1)?-(-0x1262+-0x77+-0x12da*-0x1):_0x3ff4c7-_0x482941;}['sortTransp'+'arentLayer'+'s'](_0xf2b96,_0x51b591){return this['_sortLayer'+'sDescendin'+'g'](_0xf2b96,_0x51b591,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x45e079,_0x2ca8fe){return this['_sortLayer'+'sDescendin'+'g'](_0x45e079,_0x2ca8fe,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(0x72a*-0x5+0x188+-0x273*-0xe,-0x1fd8+0x17f0+0x7e8,0x1e3e+-0x133*0x9+-0x1372,0x11*-0x243+0x1*0x202d+0x647*0x1)],[new Q(-0x1669+-0x6*-0x520+-0x23*0x3d,-0x4c0+0x5*0x3d8+0x1cf*-0x8,0x4f*0x17+0x1414*0x1+0x90f*-0x3+0.5,-0x2216+0x182d+-0x2b*-0x3b+0.5),new Q(0xd4f*-0x2+-0x4*0x6f7+0x367a,-0x56*0x48+0x2088+-0x858+0.5,-0x13*0x20b+-0x6eb+-0x1*-0x2dbc+0.5,-0xcd5*0x3+-0x11*0xd5+0x118c*0x3+0.5)],[new Q(-0x616+0xd*0x2db+0x46f*-0x7,-0x1df0+0x19ef+0x401*0x1,-0x2e3*0x2+0x8b0+-0x2ea+0.5,-0xe14+0x4d7+0x93d+0.5),new Q(-0xed0+0xf02+-0x2*0x19,-0xdbd*-0x2+0x2129+-0x3ca3*0x1+0.5,0x11c6+0x5*-0x1fd+-0x7d5+0.5,0x14*-0xab+-0x182b+0x2587+0.5),new Q(0x4*-0x3a9+-0x4*0xb0+0x1164+0.5,0x125*-0x16+-0x63*-0x47+-0xb*0x35,-0x18b0+0x8ed+-0x327*-0x5+0.5,0x14*-0x148+0xc64*0x1+0x7*0x1e4+0.5)],[new Q(0x3f2+-0xa60+0x66e,0x2175+-0x1c5e+-0x1*0x517,0x8f8+-0x49f*-0x7+-0x7*0x5e7+0.5,-0x416*-0x8+0x5c+-0x210c+0.5),new Q(-0x4*0x269+0xc3c+0x298*-0x1,-0x1*-0x1226+-0x62*-0xa+-0x2*0xafd+0.5,0x1*-0x734+-0x1305+0x1a39+0.5,-0x1674+-0xe5f+0x24d3+0.5),new Q(-0x13d*0x17+0x7e9+0x1492+0.5,0xe62+0x2e*-0xc4+0x14d6,0x157d+0x2258+-0x37d5+0.5,-0x1*0x4e9+0x25f7+0x1087*-0x2+0.5),new Q(-0xc2*0x1+-0x1c8e+0x1d50+0.5,-0x14dc+-0x1a49+0x95*0x51+0.5,-0x3ee*-0x3+0x2*0xdc7+0x4eb*-0x8+0.5,0x1*-0x7+-0xe2+0xe9+0.5)]];let qM=-0x39*0x4d+0x89*0xb+0xb42;class XM{constructor(_0x2e2740,_0x25115f,_0x453a31){this['light']=_0x453a31,this['camera']=_0x2e2740,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x453a31['_shadowTyp'+'e'],_0x453a31['_type'],_0x25115f),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(0x1*-0xe4b+-0x1b*-0x107+-0x6b9*0x2,-0x1*0x148b+0x16e+0x131d*0x1,0xe7*0x28+-0x3a*0x1+-0x23dd*0x1,-0x659+-0xafd*-0x2+-0xfa0),this['shadowScis'+'sor']=new Q(-0x871+0x15cd*-0x1+-0x1e3e*-0x1,-0x1149+-0x3*0xb6b+0x897*0x6,0x1*-0x2419+-0x11*-0x235+-0x16b,-0x1bf0+0x30a*0x1+-0x7d*-0x33),this['projection'+'Compensati'+'on']=-0x938*0x3+0x49b+0x170d,this['face']=_0x25115f,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1f0443=>{_0x1f0443['defaultUni'+'formBuffer']['destroy'](),_0x1f0443['destroy']();}),this['viewBindGr'+'oups']['length']=0x179+0x55+0x16*-0x15;}get['shadowBuff'+'er'](){const _0x3779d9=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x3779d9?this['light']['_isPcf']?_0x3779d9['depthBuffe'+'r']:_0x3779d9['colorBuffe'+'r']:null;}}class zo{constructor(_0x3efbdc,_0x12458e){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x3efbdc,this['clusteredL'+'ighting']=_0x12458e,this['id']=qM++,this['_type']=oe,this['_color']=new Y(0x236c+0x318+-0x2684+0.8,0x1a1d+-0xee6+-0xb37+0.8,0xe7+-0x10af*0x1+0x1*0xfc8+0.8),this['_intensity']=-0x3*-0x8d9+0x25d1+0x5*-0xcdf,this['_affectSpe'+'cularity']=!(-0x22a+-0x1*0xc2d+0xe57),this['_luminance']=0x1f81+0x4*-0x622+-0x6f9,this['_castShado'+'ws']=!(0x1*-0x52a+-0x1951+0x4*0x79f),this['_enabled']=!(-0x2290+0x4dc*-0x1+0x276d),this['_mask']=hs,this['isStatic']=!(-0x1f08+-0x216f+0x4078),this['key']=0x908*0x4+-0x296*0xc+0x2*-0x28c,this['bakeDir']=!(0x2025+0x1*0x1945+-0x396a),this['bakeNumSam'+'ples']=0x2*0xc1b+-0x3af+0x4a*-0x47,this['bakeArea']=0x193b+0x1861+-0x319c,this['attenuatio'+'nStart']=-0x11a9+0x2480+-0x12cd,this['attenuatio'+'nEnd']=-0x8aa*-0x2+-0xd9*-0x17+-0x24c9,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=0x26b5+-0x2701+0x57,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x287*-0x1+0xac0+-0x839+0.01)*(0x16b0+0x1891+0x2f41*-0x1+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x1*-0xe92+-0xbf*0x1f+0x890,this['_cookieFal'+'loff']=!(-0x13a*0x4+-0x2*-0xdb7+0x1686*-0x1),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x9fc+0x1*-0x151a+0x1f1a),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x49*0x22+-0x24ea*0x1+0x2e9e),this['_cookieTra'+'nsformSet']=!(-0x11ec+-0x755+-0x3d*-0x6a),this['_cookieOff'+'setSet']=!(-0xb7e*0x1+-0x2661+-0x18f*-0x20),this['_innerCone'+'Angle']=-0x1*0x1606+0x599+-0x1*-0x1095,this['_outerCone'+'Angle']=-0x1562+-0x20ab+-0x2*-0x1b1d,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0xa9e*-0x1+0x38b*0x7+-0xe2e,this['_cascadeBl'+'end']=-0x1*0xfd+0x1*-0xadb+-0x4*-0x2f6,this['cascadeDis'+'tribution']=0x22a7+0x1*0x5d9+0x48*-0x90+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(-0x2c6+0x431*0x8+-0x1ebf),this['_updateLin'+'earColor'](),this['_position']=new T(-0x1*-0xc77+-0x1b6b+0xef4,0x1dc*0x14+-0xe+-0x2522,-0x1a2c+-0x26a5+0x159b*0x3),this['_direction']=new T(-0xa*-0x3+-0xdff*-0x2+-0x1c1c*0x1,-0x11*0x10d+0xa*-0x215+-0xce5*-0x3,-0x2208+0x17*0x16+0x200e),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x1*0x143f+0x59*-0x25+-0x6ae)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x2421+0x60e+-0x2a2f),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0x6*-0x38f+-0xa2e*-0x1+-0x1f60,this['_shadowRes'+'olution']=-0x9*0x94+-0x1783*0x1+0x20b7,this['_shadowBia'+'s']=-(-0x1b7+0xb*-0x269+0x1c3a+0.0005),this['shadowInte'+'nsity']=0x40*0x8b+0x136a+0x3629*-0x1,this['_normalOff'+'setBias']=-0x116c+-0xcad+0x1e19,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x4*-0x6a7+0xc66+0x1*-0x2701),this['_isPcf']=!(-0x1610*0x1+-0x15b*0x1c+0x1e02*0x2),this['_softShado'+'wParams']=new Float32Array(0x1c05+0xd98+-0x17*0x1cf),this['shadowSamp'+'les']=-0x621*-0x6+0x2*-0x9b9+0x1*-0x1144,this['shadowBloc'+'kerSamples']=-0x11b7*-0x1+0x21e2+-0x3389,this['penumbraSi'+'ze']=0x1af7+-0x1356+-0x20*0x3d,this['penumbraFa'+'lloff']=0x2512+0x5b9+-0x2aca,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1*0x1109+-0x336+-0x6*-0x360),this['atlasVersi'+'on']=0xe2*-0x1+0x132b*0x1+-0x1249,this['atlasSlotI'+'ndex']=0x1*-0x3db+-0x2*0xbab+0x1*0x1b31,this['atlasSlotU'+'pdated']=!(0x1c4f*0x1+-0x1*-0x2665+-0x1*0x42b3),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x2234+0x1a35+0x8*-0x78d),this['maxScreenS'+'ize']=-0x28*0x64+0xd*0x2dd+-0x123*0x13,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x14a8bc=0x5*-0x69f+-0x1da1+0xa*0x646;_0x14a8bc<this['_renderDat'+'a']['length'];_0x14a8bc++)this['_renderDat'+'a'][_0x14a8bc]['destroy']();this['_renderDat'+'a']['length']=0x64c*0x1+-0x1b32+0x14e6;}}['addLayer'](_0x58ace4){this['layers']['add'](_0x58ace4);}['removeLaye'+'r'](_0x47c045){this['layers']['delete'](_0x47c045);}set['shadowSamp'+'les'](_0x276578){this['_softShado'+'wParams'][0x11a*0x17+0x2155+-0x3aab]=_0x276578;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x12a8+0x2*-0x11bd+-0x2*-0x1b11];}set['shadowBloc'+'kerSamples'](_0x8e997){this['_softShado'+'wParams'][0x130e*0x2+-0x5c1+-0x205a*0x1]=_0x8e997;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x3*0xb13+-0x7f1+0x292b];}set['shadowBias'](_0x4bd47c){this['_shadowBia'+'s']!==_0x4bd47c&&(this['_shadowBia'+'s']=_0x4bd47c,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x2ec96b){(!this['cascades']||this['numCascade'+'s']!==_0x2ec96b)&&(this['cascades']=$M[_0x2ec96b-(0x1ed4+-0x1164+0xd6f*-0x1)],this['_shadowMat'+'rixPalette']=new Float32Array((-0xcdd+0x13a1+-0x10*0x6c)*(0x207b*0x1+-0x15*0x3d+-0x1b6a)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x2*0x59a+0x8e*0x9+0x63a),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x897337){this['_cascadeBl'+'end']!==_0x897337&&(this['_cascadeBl'+'end']=_0x897337,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x541b89){this['_shadowMap']!==_0x541b89&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x541b89);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x14d9ef){this['_mask']!==_0x14d9ef&&(this['_mask']=_0x14d9ef,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x190f4f=this['_type'];return _0x190f4f===oe?this['numCascade'+'s']:_0x190f4f===Pe?-0xa4b+-0xb7d+0x15ce:-0x1133+-0x13e9+0x251d;}set['type'](_0x419b73){if(this['_type']===_0x419b73)return;this['_type']=_0x419b73,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x264c02=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x264c02;}get['type'](){return this['_type'];}set['shape'](_0x4b4f62){if(this['_shape']===_0x4b4f62)return;this['_shape']=_0x4b4f62,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x2e9462=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x2e9462;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x5910d7){this['_usePhysic'+'alUnits']!==_0x5910d7&&(this['_usePhysic'+'alUnits']=_0x5910d7,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x325823){if(this['_shadowTyp'+'e']===_0x325823)return;const _0x2a6f02=this['device'];_0x325823===Ts&&!_0x2a6f02['textureFlo'+'atRenderab'+'le']&&!_0x2a6f02['textureHal'+'fFloatRend'+'erable']&&(_0x325823=Dt),this['_type']===Pe&&_0x325823!==Bh&&_0x325823!==Dt&&_0x325823!==Nh&&_0x325823!==zh&&_0x325823!==Ts&&(_0x325823=Dt),_0x325823===Wr&&(!_0x2a6f02['textureFlo'+'atRenderab'+'le']||!_0x2a6f02['textureFlo'+'atFilterab'+'le'])&&(_0x325823=Hr),_0x325823===Hr&&!_0x2a6f02['textureHal'+'fFloatRend'+'erable']&&(_0x325823=Dt);const _0xf8da61=ir['get'](_0x325823);this['_isVsm']=(_0xf8da61==null?void(0x1ab3+0x1c0c*0x1+-0x36bf*0x1):_0xf8da61['vsm'])??!(0x9f6+-0x7a4+-0x251),this['_isPcf']=(_0xf8da61==null?void(0xd2d+0x1444+-0x2171):_0xf8da61['pcf'])??!(0x26d*0x9+-0x1dca+0x7f6),this['_shadowTyp'+'e']=_0x325823,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x18d112){this['_enabled']!==_0x18d112&&(this['_enabled']=_0x18d112,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x1bbc3d){this['_castShado'+'ws']!==_0x1bbc3d&&(this['_castShado'+'ws']=_0x1bbc3d,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0x5b*-0x53+0xae7+-0x94d*-0x2;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x5d1bee){this['_shadowRes'+'olution']!==_0x5d1bee&&(this['_type']===Pe?_0x5d1bee=Math['min'](_0x5d1bee,this['device']['maxCubeMap'+'Size']):_0x5d1bee=Math['min'](_0x5d1bee,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x5d1bee,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x214719){this['_vsmBlurSi'+'ze']!==_0x214719&&(_0x214719%(-0x48c+-0x127f+-0x1*-0x170d)===0x4b*-0x26+-0x1c9a+0x27bc&&_0x214719++,this['_vsmBlurSi'+'ze']=_0x214719);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x3ffb3e){if(this['_normalOff'+'setBias']!==_0x3ffb3e){const _0x5985de=!this['_normalOff'+'setBias']&&_0x3ffb3e||this['_normalOff'+'setBias']&&!_0x3ffb3e;this['_normalOff'+'setBias']=_0x3ffb3e,_0x5985de&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x21c32c){this['_falloffMo'+'de']!==_0x21c32c&&(this['_falloffMo'+'de']=_0x21c32c,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x255cbf){this['_innerCone'+'Angle']!==_0x255cbf&&(this['_innerCone'+'Angle']=_0x255cbf,this['_innerCone'+'AngleCos']=Math['cos'](_0x255cbf*Math['PI']/(0xb05*0x2+-0x9e1+0xb75*-0x1)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x113d5b){this['_outerCone'+'Angle']!==_0x113d5b&&(this['_outerCone'+'Angle']=_0x113d5b,this['_updateOut'+'erAngle'](_0x113d5b),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x3ed91f){this['_penumbraS'+'ize']=_0x3ed91f,this['_softShado'+'wParams'][-0x21d0+0xb*-0xb5+-0x17*-0x1cf]=_0x3ed91f;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x52330e){this['_softShado'+'wParams'][0x26*-0x7c+-0x1*-0x3d7+0xe94]=_0x52330e;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0xbf3+-0x99*-0x3+-0xdbb];}['_updateOut'+'erAngle'](_0x390916){const _0x438ec9=_0x390916*Math['PI']/(0xbcb*0x3+-0x35*0x1+-0x8*0x44f);this['_outerCone'+'AngleCos']=Math['cos'](_0x438ec9),this['_outerCone'+'AngleSin']=Math['sin'](_0x438ec9);}set['intensity'](_0x249d48){this['_intensity']!==_0x249d48&&(this['_intensity']=_0x249d48,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x54f3f8){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x54f3f8,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x16ff3e){this['_luminance']!==_0x16ff3e&&(this['_luminance']=_0x16ff3e,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0x325+-0x839+-0x34*-0x19,-0x26fb+0x2033*0x1+0x6c8,0x1c3*0xd+0x2085+-0x1*0x376b,0x14af+0xeaa+-0x2358)),this['_atlasView'+'port'];}set['cookie'](_0x2f2e13){this['_cookie']!==_0x2f2e13&&(this['_cookie']=_0x2f2e13,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x3d05b4){this['_cookieFal'+'loff']!==_0x3d05b4&&(this['_cookieFal'+'loff']=_0x3d05b4,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x546cf6){if(this['_cookieCha'+'nnel']!==_0x546cf6){if(_0x546cf6['length']<-0x1af5+-0x1*-0x2e1+0x1817){const _0x50e2d5=_0x546cf6['charAt'](_0x546cf6['length']-(0x2488+-0x1f*-0x57+-0x2f10)),_0x307ce8=0x846+0x232*-0x4+0x85-_0x546cf6['length'];for(let _0x141aeb=0x1ffa+0x71*0x3+-0x214d;_0x141aeb<_0x307ce8;_0x141aeb++)_0x546cf6+=_0x50e2d5;}this['_cookieCha'+'nnel']=_0x546cf6,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x2be6d4){this['_cookieTra'+'nsform']!==_0x2be6d4&&(this['_cookieTra'+'nsform']=_0x2be6d4,this['_cookieTra'+'nsformSet']=!!_0x2be6d4,_0x2be6d4&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(-0x8ae*-0x3+-0x12ac+-0x75d)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x1f9580){if(this['_cookieOff'+'set']===_0x1f9580)return;!!(this['_cookieTra'+'nsformSet']||_0x1f9580)&&!_0x1f9580&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x182a+-0x16c4+-0x2*-0x1777,-0xe3b+-0x47b*0x3+0x6eb*0x4):this['_cookieOff'+'set']=_0x1f9580,this['_cookieOff'+'setSet']=!!_0x1f9580,_0x1f9580&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0xdc7+0x1f84+-0x22*0x155,-0x1754+-0xbe3+0x2338,0x137*0x1d+-0x29f+-0x209c,-0x1f42+0x4*0x616+0x375*0x2),this['_cookieTra'+'nsformSet']=!(0x2691*-0x1+0x4*0x1cb+0x1*0x1f66)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=0xc05+0x1c3*0xe+-0x24af,this['atlasViewp'+'ortAllocat'+'ed']=!(0x2042+0x97f+-0x29c0),this['atlasSlotU'+'pdated']=!(0x25*0xfa+0x1*0x1229+-0x2*0x1b25);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x143d58=0x2627*0x1+0x4b2*0x3+-0x343d;_0x143d58<this['shadowUpda'+'teOverride'+'s']['length'];_0x143d58++)this['shadowUpda'+'teOverride'+'s'][_0x143d58]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x143d58]=cn);}}['getRenderD'+'ata'](_0x619468,_0x38d0bb){for(let _0x5baac7=-0x2*0xc02+0x2e8+0x151c;_0x5baac7<this['_renderDat'+'a']['length'];_0x5baac7++){const _0x249242=this['_renderDat'+'a'][_0x5baac7];if(_0x249242['camera']===_0x619468&&_0x249242['face']===_0x38d0bb)return _0x249242;}const _0x5c5e1c=new XM(_0x619468,_0x38d0bb,this);return this['_renderDat'+'a']['push'](_0x5c5e1c),_0x5c5e1c;}['clone'](){const _0x28ee86=new zo(this['device'],this['clusteredL'+'ighting']);return _0x28ee86['type']=this['_type'],_0x28ee86['setColor'](this['_color']),_0x28ee86['intensity']=this['_intensity'],_0x28ee86['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x28ee86['luminance']=this['_luminance'],_0x28ee86['castShadow'+'s']=this['castShadow'+'s'],_0x28ee86['_enabled']=this['_enabled'],_0x28ee86['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x28ee86['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x28ee86['falloffMod'+'e']=this['_falloffMo'+'de'],_0x28ee86['shadowType']=this['_shadowTyp'+'e'],_0x28ee86['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x28ee86['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x28ee86['vsmBias']=this['vsmBias'],_0x28ee86['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x28ee86['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x28ee86['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x28ee86['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x28ee86['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x28ee86['numCascade'+'s']=this['numCascade'+'s'],_0x28ee86['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x28ee86['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x28ee86['shape']=this['_shape'],_0x28ee86['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x28ee86['shadowBias']=this['shadowBias'],_0x28ee86['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x28ee86['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x28ee86['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x28ee86['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x28ee86['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x28ee86['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x28ee86['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x28ee86['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x28ee86;}static['getLightUn'+'itConversi'+'on'](_0x3820a5,_0xcf9b20=Math['PI']/(-0x6a*0x38+-0x386+0x1aba),_0xc24df3=-0x1*-0x2073+-0x14ad+0x89*-0x16){switch(_0x3820a5){case Re:{const _0x1bc725=Math['cos'](_0xcf9b20),_0x243151=Math['cos'](_0xc24df3);return(0x56f+-0x12d1+-0x6b2*-0x2)*Math['PI']*(0x2*-0x229+-0x19cd+0x20*0xf1-_0x243151+(_0x243151-_0x1bc725)/(0x1fd6*-0x1+0x2350+-0x378));}case Pe:return(0x15*-0x159+-0x388*0xb+0x4329)*Math['PI'];case oe:return-0xf5b+0x19+0xf43;}}['_getUnifor'+'mBiasValue'+'s'](_0x23b060){const _0x2adee6=_0x23b060['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(0x31d*0xb+0x2520+-0x475f+0.00001)*(0xc2*0x18+-0x1*-0x109d+-0x22b9):ti['bias']=this['shadowBias']*(0x182c+-0x19d3+0x1bb),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0xe40+0x1e7+0xc60)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(-0x1*-0x24c1+0xd1d*-0x1+-0x17a4+0.00001)*(-0x385*0x9+0x6aa+0x1917*0x1):ti['bias']=this['shadowBias']/_0x2adee6*(0x1a0c*0x1+0x4dd*-0x4+-0x1*0x634),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x2adee6/(-0x1638+-0x83f+-0x1*-0x1e7e)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x252f47){if(this['_type']===Re){const _0x2a8310=this['attenuatio'+'nEnd'],_0x4748a6=this['_outerCone'+'Angle'],_0x2a8232=this['_outerCone'+'AngleCos'],_0x6fc0aa=this['_node'];kl['copy'](_0x6fc0aa['up']),_0x4748a6>-0x2*0xd3f+0xf3d*0x1+0x7*0x1a2?(_0x252f47['radius']=_0x2a8310*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x2a8310*_0x2a8232)):(_0x252f47['radius']=_0x2a8310/((-0xba3+0x9a*0x13+0x37)*_0x2a8232),kl['mulScalar'](-_0x252f47['radius'])),_0x252f47['center']['add2'](_0x6fc0aa['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x252f47['center']=this['_node']['getPositio'+'n'](),_0x252f47['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x116b48){if(this['_type']===Re){const _0x619177=this['attenuatio'+'nEnd'],_0x241dc3=this['_outerCone'+'Angle'],_0x2266fe=this['_node'],_0x76b644=Math['abs'](Math['sin'](_0x241dc3*N['DEG_TO_RAD'])*_0x619177);_0x116b48['center']['set'](0x1*0x376+0x74*0x11+-0xb2a,-_0x619177*(0x1e05+0x46f*0x8+0x5*-0xd19+0.5),-0x1*0x18d9+-0x5d7+0x1eb0),_0x116b48['halfExtent'+'s']['set'](_0x76b644,_0x619177*(-0x9a0+0x21d0+-0x1830+0.5),_0x76b644),_0x116b48['setFromTra'+'nsformedAa'+'bb'](_0x116b48,_0x2266fe['getWorldTr'+'ansform'](),!(-0x17*-0x91+0x15a0+-0x22a7));}else this['_type']===Pe&&(_0x116b48['center']['copy'](this['_node']['getPositio'+'n']()),_0x116b48['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x5*-0x3c9+0x1650+0x1cb*-0x17,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x1b5c+0xfff+0x3f1*-0xb;else{const _0x3bdcb6=this['shadowBias']*-(0x2fc+-0x260e+0x26fa);this['shadowDept'+'hState']['depthBias']=_0x3bdcb6,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x3bdcb6;}}['_updateLin'+'earColor'](){let _0x1b2bcd=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x1b2bcd=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x3d2b6b=this['_color'],_0x53d8b2=this['_colorLine'+'ar'];_0x1b2bcd>=-0xcdc+-0x1c49+0x2926?Ya['linear'](_0x3d2b6b)['mulScalar'](_0x1b2bcd):Ya['copy'](_0x3d2b6b)['mulScalar'](_0x1b2bcd)['linear'](),_0x53d8b2[0x449+0x24dc*0x1+-0xdb7*0x3]=Ya['r'],_0x53d8b2[-0x19d4+0x1568+-0x1*-0x46d]=Ya['g'],_0x53d8b2[-0x7d7+0x86f+-0x96]=Ya['b'];}['setColor'](){arguments['length']===0x1eb2*0x1+-0x2306+0x455?this['_color']['set'](arguments[0x3*0xaf4+0x1*-0x23e9+-0x47*-0xb]['r'],arguments[0x71f*-0x1+-0x1b1f+0x3*0xb6a]['g'],arguments[-0x1211+-0x1263+0x2474*0x1]['b']):arguments['length']===0x1356+-0x19d1+0x2*0x33f&&this['_color']['set'](arguments[-0x2*0xe7f+0x2427+-0x729*0x1],arguments[-0x12*0x6+-0x26*-0x71+0x2d*-0x5d],arguments[0x1*0xb6c+0x1*-0x1258+0x6ee]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x13139c=>{_0x13139c['hasLight'](this)&&_0x13139c['markLights'+'Dirty']();});}['updateKey'](){let _0x548b66=this['_type']<<0xc9*-0x1c+-0x1*-0x230b+-0xcf2|this['_shadowTyp'+'e']<<-0x43f*0x7+-0x1bfc+0x39ce|this['_falloffMo'+'de']<<0x20c3+-0xd*-0xb3+-0x29c3*0x1|(this['_normalOff'+'setBias']!==-0x1282+-0xb2e+0x4c*0x64?0x20ab+0x9*-0x153+-0x71*0x2f:-0x6*-0x36e+0x240a+-0x389e)<<0x1e0e*-0x1+-0x106*0x4+0x7*0x4e4|(this['_cookie']?-0x1*0x791+-0x119b+0x192d:-0x118a+0x13c2+0x1*-0x238)<<0x432+0x171f+-0x245*0xc|(this['_cookieFal'+'loff']?0x25a*0x6+-0x138+-0x1*0xce3:-0x15*-0x6c+-0x8ad+-0x2f*0x1)<<0x14cb+0xba2+-0x31*0xa9|Ud[this['_cookieCha'+'nnel']['charAt'](-0x19*-0x2f+-0xbbc+0x725)]<<-0x3c*-0x32+0x15cc+-0x10b9*0x2|(this['_cookieTra'+'nsform']?-0xfc1*0x1+0x375*-0xb+0x35c9:0xff2+-0x1fc+-0xdf6)<<0x1ad1+-0x31*-0xa9+-0x142*0x2f|this['_shape']<<-0x8e3+0x3*-0x61f+0x1b4a|(this['numCascade'+'s']>-0x9d2+-0x828*-0x1+-0x3*-0x8e?-0xbcf+0xe0f*-0x1+0x19df:0x3*-0xb1d+-0x815*0x4+0x1*0x41ab)<<-0x2f3+0x1b7d+0x82b*-0x3|(this['_cascadeBl'+'end']>-0x310*0x6+-0x79e+0x19fe?0x1ccf+-0x1657+0x1*-0x677:-0x239b*0x1+-0x25*0x83+0x166*0x27)<<-0x6df*0x1+-0x18b*0x1+0x872*0x1|(this['affectSpec'+'ularity']?-0x182a*-0x1+0x15c0+-0x2de9:-0x210c+0x17*-0x104+-0x3868*-0x1)<<-0x1b4b+0x1*-0x3e8+0x1f3a|this['mask']<<0x1*-0x26f9+-0x2*-0x637+0x1a91|(this['_castShado'+'ws']?-0x26d7+-0xa*0x1de+-0x332*-0x12:-0x330+-0xf12+0x1242)<<0x5b*0x1e+0x2489+-0x1*0x2f30;this['_cookieCha'+'nnel']['length']===-0xbdd*-0x3+0x21b0+0x554*-0xd&&(_0x548b66|=Ud[this['_cookieCha'+'nnel']['charAt'](0x7*-0xb4+0xebf*0x1+-0x4e9*0x2)]<<0x13f7+-0x63b+-0xdac,_0x548b66|=Ud[this['_cookieCha'+'nnel']['charAt'](0x1*0x1d71+-0x17f1+-0x1*0x57e)]<<-0x10b7+-0xf76+-0x1*-0x203b),_0x548b66!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x548b66;}}class L0{constructor(_0x3b52ef,_0x2f347d,_0x3306e4){c(this,'_areaLight'+'sEnabled',!(-0xb91+-0x2*0x10bd+0x4*0xb43)),c(this,'_cells',new T(-0x3bf+0x1f7*0xc+-0x233*0x9,0xb3*0x2b+-0x20b6+0x2a8,0x32a+-0x1f95+0x1c75*0x1)),c(this,'_maxLights'+'PerCell',-0x194+0x2*0x66a+-0x69*0x19),c(this,'_shadowsEn'+'abled',!(0x124*0x17+-0x1c0*-0xe+-0x32bc)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',-0x2038+-0x1938+0x4170),c(this,'_cookiesEn'+'abled',!(0x12e*-0x20+0x215*0x11+-0x2*-0x12e)),c(this,'_cookieAtl'+'asResoluti'+'on',-0x1e63+-0x1*0x1de1+0x101*0x44),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x3b52ef,this['_maxTextur'+'eSize']=_0x2f347d,this['_dirtyLigh'+'tsFnc']=_0x3306e4);}['applySetti'+'ngs'](_0x27d414){this['shadowsEna'+'bled']=_0x27d414['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x27d414['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x27d414['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x27d414['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x27d414['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x27d414['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x27d414['lightingSh'+'adowType']??this['shadowType'],_0x27d414['lightingCe'+'lls']&&(this['cell']=new T(_0x27d414['lightingCe'+'lls']));}set['cells'](_0x2f06ea){this['_cells']['copy'](_0x2f06ea);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x41d38b){this['_maxLights'+'PerCell']=N['clamp'](_0x41d38b,-0x101c+-0x14a2+0x24bf*0x1,0x233*0x6+-0xe06+0x1d3);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x1fabae){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x1fabae,0x2330+-0x1*0x115f+-0x287*0x7,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x34e020){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x34e020,-0x683+-0x24c7+-0x1*-0x2b6a,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x1aae0b){this['_shadowTyp'+'e']!==_0x1aae0b&&(this['_shadowTyp'+'e']=_0x1aae0b,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x45c4fb){this['_cookiesEn'+'abled']!==_0x45c4fb&&(this['_cookiesEn'+'abled']=_0x45c4fb,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x190b95){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x190b95&&(this['_areaLight'+'sEnabled']=_0x190b95,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x4b92b1){this['_shadowsEn'+'abled']!==_0x4b92b1&&(this['_shadowsEn'+'abled']=_0x4b92b1,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(-0xf64+0x105*-0xe+0x1daa),Lt,at,at);class fn{constructor(_0x360bd3){c(this,'shaderCach'+'e',[]),(this['morph']=_0x360bd3,_0x360bd3['incRefCoun'+'t'](),this['device']=_0x360bd3['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0xca8662=-0x38b+0x515*-0x3+0x1e1*0xa;_0xca8662<_0x360bd3['_targets']['length'];_0xca8662++){const _0x204336=_0x360bd3['_targets'][_0xca8662];_0x204336['name']&&this['_weightMap']['set'](_0x204336['name'],_0xca8662),this['setWeight'](_0xca8662,_0x204336['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x435b86=(_0x2320fd,_0x585e30)=>(this[_0x585e30]=_0x360bd3['_createTex'+'ture'](_0x2320fd,_0x360bd3['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x585e30],'depth':!(-0x18f5+0x2*0x1202+-0xb0e*0x1)}));_0x360bd3['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x435b86('MorphRTPos','texturePos'+'itions')),_0x360bd3['morphNorma'+'ls']&&(this['rtNormals']=_0x435b86('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x360bd3['morphTextu'+'reWidth'],_0x360bd3['morphTextu'+'reHeight']]);const _0x1f8983=_0x360bd3['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x1f8983['x']*(-0x195e+0x2053+-0x1*0x6f1),_0x1f8983['y']*(0x1a*0x74+-0xc1*-0xd+-0x1*0x1591),_0x1f8983['z']*(0xb67+0x2098+-0x2bfb)]);const _0xeb10ea=_0x360bd3['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0xeb10ea['x']*(-0x9*0x3f+-0x2173+0x1*0x23ac),_0xeb10ea['y']*(0x1501*0x1+-0x18e2+0x3e3),_0xeb10ea['z']*(0x1a*0xc+-0x58b+0x455)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x4c1*0x1+0xd70+-0x122f,-0x1*-0x129e+0x7*0x224+-0x2198,0x21*-0x7f+0xff7*0x1+0x6a]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x14fe+0x110e+-0x260b*0x1),-(-0x195*0x5+-0x1*0x931+0x111b*0x1),-(0xe2b+-0x14*0x9b+-0x2*0x107)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x311c5d=-0x7c0+-0x13ea+0x1baa;_0x311c5d<this['maxSubmitC'+'ount'];_0x311c5d++)this['morphBlend'+'Tex'+_0x311c5d]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x311c5d);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(-0x2586*0x1+-0xb6+0x27*0xfb);}['destroy'](){this['shader']=null;const _0x5aa804=this['morph'];_0x5aa804&&(this['morph']=null,_0x5aa804['decRefCoun'+'t'](),_0x5aa804['refCount']<0xc*0x19b+-0x13*-0x166+-0x2dd5*0x1&&_0x5aa804['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x1fc3a6){if(typeof _0x1fc3a6=='string'){const _0x277dd2=this['_weightMap']['get'](_0x1fc3a6);return _0x277dd2===void(0x270*0x4+-0x1*-0x214a+-0x2b0a)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x1fc3a6+'.'),_0x277dd2;}return _0x1fc3a6;}['getWeight'](_0x45ea3e){const _0x28c096=this['_getWeight'+'Index'](_0x45ea3e);return this['_weights'][_0x28c096];}['setWeight'](_0x4a2f49,_0x10e085){const _0x2102b6=this['_getWeight'+'Index'](_0x4a2f49);v['assert'](_0x2102b6>=-0xedc+0x3ca*-0x1+0x12a6&&_0x2102b6<this['morph']['_targets']['length']),this['_weights'][_0x2102b6]=_0x10e085,this['_dirty']=!(0x1621*0x1+-0x1741+0x12*0x10);}['_getFragme'+'ntShader'](_0x42955d){let _0x315e58='',_0x342106='';for(let _0x3e01b5=-0xb5a*0x2+-0x2*0x18c+0x1*0x19cc;_0x3e01b5<_0x42955d;_0x3e01b5++)_0x315e58+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x3e01b5+';',_0x342106+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x3e01b5+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x3e01b5+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x42955d>0x7b9*-0x1+-0x1f*-0x79+-0x6ee?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x42955d+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x315e58+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x342106+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x1d12d8){let _0x4f3240=this['shaderCach'+'e'][_0x1d12d8];if(!_0x4f3240){const _0x2059c8=this['_getFragme'+'ntShader'](_0x1d12d8),_0x14bb16=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x4f3240=Is(this['device'],jM,_0x2059c8,'textureMor'+'ph'+_0x1d12d8,void(-0x269f+-0x1dde+0x447d),{'fragmentOutputTypes':[_0x14bb16]}),this['shaderCach'+'e'][_0x1d12d8]=_0x4f3240;}return _0x4f3240;}['_updateTex'+'tureRender'+'Target'](_0x44702a,_0x239006,_0x42b136){const _0x15dd3b=this['device'],_0x1719c0=(_0x2a0d25,_0x2369f7)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x15dd3b['setBlendSt'+'ate'](_0x2369f7?YM:_t['NOBLEND']);const _0x5034cc=this['_getShader'](_0x2a0d25);dn(_0x15dd3b,_0x44702a,_0x5034cc);};this['setAabbUni'+'forms'](_0x42b136);let _0x2ebbc6=-0xc41+0x2a*0x28+-0x1*-0x5b1,_0x278908=!(0x7d*-0xc+0x1884+0x1*-0x12a7);const _0x2d1806=this['_activeTar'+'gets']['length'];for(let _0x46c830=0xff8+-0x2d7+0x1*-0xd21;_0x46c830<_0x2d1806;_0x46c830++){const _0x17e147=this['_activeTar'+'gets'][_0x46c830],_0x265ce2=_0x17e147['target'][_0x239006];_0x265ce2&&(this['morphBlend'+'Tex'+_0x2ebbc6]['setValue'](_0x265ce2),this['_shaderMor'+'phWeights'][_0x2ebbc6]=_0x17e147['weight'],_0x2ebbc6++,_0x2ebbc6>=this['maxSubmitC'+'ount']&&(_0x1719c0(_0x2ebbc6,_0x278908),_0x2ebbc6=0x4*0x579+0x1cb3+0x1*-0x3297,_0x278908=!(-0x161a+-0x3f*-0x92+-0x3b*0x3c)));}(_0x2ebbc6>0x1b0a+-0x1*0x7e3+-0x1327||_0x2d1806===-0x28*0x12+0xad7+-0x807&&!this['zeroTextur'+'es'])&&_0x1719c0(_0x2ebbc6,_0x278908);}['_updateTex'+'tureMorph'](){const _0x5d6b21=this['device'];G['pushGpuMar'+'ker'](_0x5d6b21,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x263d+0x6a0+-0x2cdd*0x1||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x570*-0x7+-0x73d+-0x1ed3*0x1)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0x4a7+-0x1783+0x1c2b)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0x71+0x6f7*-0x1+-0x2*-0x343),G['popGpuMark'+'er'](_0x5d6b21);}['setAabbUni'+'forms'](_0x59d6f3=!(-0x1*0x2309+-0x13*0x7c+0x2c3d)){this['aabbSizeId']['setValue'](_0x59d6f3?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x59d6f3?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x34a67b){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x72f+-0x2544+0x1e16);const _0x4d220d=this['morph']['_targets'];let _0x57e922=0x1*0x367+0x9b+-0x402;const _0x450d40=-0x7*-0x254+-0x833+-0x819+0.00001;for(let _0xb57d85=-0x2c*0x36+0x25b9+-0x9*0x329;_0xb57d85<_0x4d220d['length'];_0xb57d85++){const _0x57d7f5=Math['abs'](this['getWeight'](_0xb57d85));if(_0x57d7f5>_0x450d40){this['_activeTar'+'gets']['length']<=_0x57e922&&(this['_activeTar'+'gets'][_0x57e922]={});const _0xa5d57c=this['_activeTar'+'gets'][_0x57e922++];_0xa5d57c['absWeight']=_0x57d7f5,_0xa5d57c['weight']=this['getWeight'](_0xb57d85),_0xa5d57c['target']=_0x4d220d[_0xb57d85];}}this['_activeTar'+'gets']['length']=_0x57e922,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x5209c1,_0x194343)=>_0x5209c1['absWeight']<_0x194343['absWeight']?0x2*0xfe+-0x15*-0x135+-0x27c*0xb:_0x194343['absWeight']<_0x5209c1['absWeight']?-(-0x4*0x628+0x1928+-0x87):-0xc97+0x141*0x7+0x3d0),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0xf53*-0x1+-0x406+-0x673*-0x3,this['_immutable']=!(0x2412+-0x15a8+-0xd9*0x11));}['getGraph'](){return this['graph'];}['setGraph'](_0x1e5290){this['graph']=_0x1e5290;}['getCameras'](){return this['cameras'];}['setCameras'](_0x514cce){this['cameras']=_0x514cce;}['getLights'](){return this['lights'];}['setLights'](_0x519cd6){this['lights']=_0x519cd6;}['getMateria'+'ls'](){const _0x5c99b8=[];for(let _0x530dd0=0x869+0x14cd+-0x1d36;_0x530dd0<this['meshInstan'+'ces']['length'];_0x530dd0++){const _0x46ead0=this['meshInstan'+'ces'][_0x530dd0];_0x5c99b8['indexOf'](_0x46ead0['material'])===-(-0x21ee+-0x1e48+0x4037)&&_0x5c99b8['push'](_0x46ead0['material']);}return _0x5c99b8;}['clone'](){const _0x3df955=[],_0x22745c=[],_0x504e2a=function(_0x4411f1){const _0x3145c1=_0x4411f1['clone']();_0x3df955['push'](_0x4411f1),_0x22745c['push'](_0x3145c1);for(let _0x324a95=0x22c0+0x1*-0x16c+-0x2154;_0x324a95<_0x4411f1['_children']['length'];_0x324a95++)_0x3145c1['addChild'](_0x504e2a(_0x4411f1['_children'][_0x324a95]));return _0x3145c1;},_0x295d96=_0x504e2a(this['graph']),_0x21bb25=[],_0x30405c=[],_0x1e4037=[];for(let _0x277452=0x2*-0x788+-0x8d8*0x4+0x3270;_0x277452<this['skinInstan'+'ces']['length'];_0x277452++){const _0x3eac82=this['skinInstan'+'ces'][_0x277452]['skin'],_0x3d1dad=new nl(_0x3eac82),_0x5a8d87=[];for(let _0x32beed=-0x67*0x1f+0x2*-0x10e7+0x167*0x21;_0x32beed<_0x3eac82['boneNames']['length'];_0x32beed++){const _0x52a903=_0x3eac82['boneNames'][_0x32beed],_0x1368dc=_0x295d96['findByName'](_0x52a903);_0x5a8d87['push'](_0x1368dc);}_0x3d1dad['bones']=_0x5a8d87,_0x30405c['push'](_0x3d1dad);}for(let _0x31b3de=-0x15ed*0x1+-0x2405*-0x1+-0xe18;_0x31b3de<this['morphInsta'+'nces']['length'];_0x31b3de++){const _0x55038b=this['morphInsta'+'nces'][_0x31b3de]['morph'],_0x568d9b=new fn(_0x55038b);_0x1e4037['push'](_0x568d9b);}for(let _0x464148=-0xd*-0x7c+-0x25ff+0x5*0x657;_0x464148<this['meshInstan'+'ces']['length'];_0x464148++){const _0x76aa3a=this['meshInstan'+'ces'][_0x464148],_0x5bd1d0=_0x3df955['indexOf'](_0x76aa3a['node']),_0x5071b4=new Le(_0x76aa3a['mesh'],_0x76aa3a['material'],_0x22745c[_0x5bd1d0]);if(_0x76aa3a['skinInstan'+'ce']){const _0x4b0de4=this['skinInstan'+'ces']['indexOf'](_0x76aa3a['skinInstan'+'ce']);_0x5071b4['skinInstan'+'ce']=_0x30405c[_0x4b0de4];}if(_0x76aa3a['morphInsta'+'nce']){const _0xa16669=this['morphInsta'+'nces']['indexOf'](_0x76aa3a['morphInsta'+'nce']);_0x5071b4['morphInsta'+'nce']=_0x1e4037[_0xa16669];}_0x21bb25['push'](_0x5071b4);}const _0x2b9455=new Oi();return _0x2b9455['graph']=_0x295d96,_0x2b9455['meshInstan'+'ces']=_0x21bb25,_0x2b9455['skinInstan'+'ces']=_0x30405c,_0x2b9455['morphInsta'+'nces']=_0x1e4037,_0x2b9455['getGraph']()['syncHierar'+'chy'](),_0x2b9455;}['destroy'](){const _0x3dd0ae=this['meshInstan'+'ces'];for(let _0x5eb044=0x7ef*0x1+0x1*0xddf+0x15ce*-0x1;_0x5eb044<_0x3dd0ae['length'];_0x5eb044++)_0x3dd0ae[_0x5eb044]['destroy']();this['meshInstan'+'ces']['length']=0x1*-0x7bb+-0x68+0x823;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x104d05,_0x2d48ff,{preferHighPrecision:_0x2bd8bb=!(0x1*-0x104b+-0xdf9+-0x1e45*-0x1)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x2d48ff,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x2d48ff,this['preferHigh'+'Precision']=_0x2bd8bb,v['assert'](_0x104d05['every'](_0x790926=>!_0x790926['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x104d05['slice']());const _0x431941=this['device'],_0xf518eb=_0x431941['textureHal'+'fFloatRend'+'erable']?Je:void(0x1f12+-0xf84+-0xf8e),_0x130da5=_0x431941['textureFlo'+'atRenderab'+'le']?Ke:void(0xf7c+0x1bbc+-0x2b38);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x130da5??_0xf518eb:_0xf518eb??_0x130da5,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x228c72=new T(),_0x5772aa=new T();for(let _0x5ccad2=0x3ed*-0x2+-0x1779+0x1f53;_0x5ccad2<this['_targets']['length'];_0x5ccad2++){const _0x37e877=this['_targets'][_0x5ccad2]['aabb'];_0x228c72['min'](_0x37e877['getMin']()),_0x5772aa['max'](_0x37e877['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x228c72,_0x5772aa);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x574d65=-0x1cbb+0x10d5+0xbe6;_0x574d65<this['_targets']['length'];_0x574d65++)this['_targets'][_0x574d65]['_postInit']();}['_findSpars'+'eSet'](_0x20cfad,_0x2d4873,_0xd97c9){let _0x49155f=0x226b+0xb28+-0x13*0x266;const _0x4247d6=_0x20cfad[0x2194+0x11*0xd8+-0x2*0x17f6]['length'];for(let _0x259989=-0x1b5e+-0x3e5+0x35*0x97;_0x259989<_0x4247d6;_0x259989+=0x1*-0x1783+-0x1173*-0x1+0x613){let _0x12031d=!(-0x556*-0x7+-0xeba+-0x169f);for(let _0x5d65c7=-0x94e*-0x2+0xe54+0x1078*-0x2;_0x5d65c7<_0x20cfad['length'];_0x5d65c7++){const _0x2df21e=_0x20cfad[_0x5d65c7];if(_0x2df21e[_0x259989]!==-0x467*0x5+0x228d+0x5*-0x282||_0x2df21e[_0x259989+(-0x1*-0x22+0x12*-0x17+0x17d)]!==-0x1f4b*0x1+-0x53*-0x65+0x1*-0x174||_0x2df21e[_0x259989+(-0x423+-0x2*0xd24+-0x1e6d*-0x1)]!==0x83e+-0x2448+0x1c0a){_0x12031d=!(-0xdea+-0x1*-0xa94+0x356);break;}}_0x12031d?(_0x2d4873['push'](_0x49155f),_0xd97c9['push'](_0x259989/(0x23d2+0x2*-0x126a+0x3*0x57)),_0x49155f++):_0x2d4873['push'](-0xc9e+0x907*0x4+-0x177e*0x1);}return _0x49155f;}['_initTextu'+'reBased'](){const _0xc9bc74=[],_0x22abfb=[];for(let _0x178a4a=-0x2396+0x22fe+0x98;_0x178a4a<this['_targets']['length'];_0x178a4a++){const _0x2dc506=this['_targets'][_0x178a4a];_0x2dc506['options']['deltaPosit'+'ions']&&(_0xc9bc74['push'](_0x2dc506['options']['deltaPosit'+'ions']),_0x22abfb['push']({'target':_0x2dc506,'name':'texturePos'+'itions'})),_0x2dc506['options']['deltaNorma'+'ls']&&(_0xc9bc74['push'](_0x2dc506['options']['deltaNorma'+'ls']),_0x22abfb['push']({'target':_0x2dc506,'name':'textureNor'+'mals'}));}const _0x1f980b=[],_0x3b70fc=[],_0x3b3d53=this['_findSpars'+'eSet'](_0xc9bc74,_0x1f980b,_0x3b70fc),_0x29259f=this['device']['maxTexture'+'Size'];let _0x30be92=Math['ceil'](Math['sqrt'](_0x3b3d53));_0x30be92=Math['min'](_0x30be92,_0x29259f);const _0x4625a6=Math['ceil'](_0x3b3d53/_0x30be92);if(_0x4625a6>_0x29259f)return!(-0xb*0xfc+0x1a53+-0x6*0x295);this['morphTextu'+'reWidth']=_0x30be92,this['morphTextu'+'reHeight']=_0x4625a6;let _0x82e546=!(0x5*-0x23f+-0x5*0x49+0xca9),_0x3237ed=-0x7df+0x1*-0x4b2+0xc94;const _0x29c7ab=Wt['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x82e546=!(-0x237*-0x9+-0xc8e+-0x761),_0x3237ed=-0x14ff+0x23b*-0x4+0x1def);const _0x4174ac=[];for(let _0x180190=-0x18*-0x155+-0x1*0x9ff+-0x15f9;_0x180190<_0xc9bc74['length'];_0x180190++)_0x4174ac['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x43a7e7=-0x1*0x20ef+-0x1d1*-0x13+0x65*-0x4;_0x43a7e7<_0xc9bc74['length'];_0x43a7e7++){const _0x1749b9=_0xc9bc74[_0x43a7e7],_0x3ef108=_0x4174ac[_0x43a7e7],_0x18de6e=_0x3ef108['lock']();if(_0x82e546)for(let _0x1278e7=-0x12c9+-0x49e+0x1767;_0x1278e7<_0x3b70fc['length'];_0x1278e7++){const _0x221869=_0x3b70fc[_0x1278e7]*(-0x25d2+-0x574+0x2b49),_0x552598=_0x1278e7*_0x3237ed+_0x3237ed;_0x18de6e[_0x552598]=_0x29c7ab(_0x1749b9[_0x221869]),_0x18de6e[_0x552598+(-0x2*-0xd5f+0x8c3+-0x2380)]=_0x29c7ab(_0x1749b9[_0x221869+(-0x4*-0x2fe+-0x1*0xf4f+-0x1ac*-0x2)]),_0x18de6e[_0x552598+(-0xe61+0x1d*0x6a+0x261)]=_0x29c7ab(_0x1749b9[_0x221869+(-0xe3e*-0x2+-0x41b*-0x1+0x2095*-0x1)]);}else for(let _0x3fa23b=-0x245d+0x5*-0x793+0x4a3c*0x1;_0x3fa23b<_0x3b70fc['length'];_0x3fa23b++){const _0xe9fc67=_0x3b70fc[_0x3fa23b]*(-0x1d3*0x1+-0xdeb+0xfc1),_0x108387=_0x3fa23b*_0x3237ed+_0x3237ed;_0x18de6e[_0x108387]=_0x1749b9[_0xe9fc67],_0x18de6e[_0x108387+(-0xf61+0xbf2+0x370)]=_0x1749b9[_0xe9fc67+(-0x1794+0x1e85+-0x10*0x6f)],_0x18de6e[_0x108387+(-0x1b94+0xa72+0x1124)]=_0x1749b9[_0xe9fc67+(0x7*0x187+0x316+-0xdc5)];}_0x3ef108['unlock'](),_0x22abfb[_0x43a7e7]['target']['_setTextur'+'e'](_0x22abfb[_0x43a7e7]['name'],_0x3ef108);}const _0x58f181=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(0xc*-0x2b+0x5*-0x38b+0x13bb*0x1)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x58f181,_0x1f980b['length']),_0x1f980b['length'],{'data':new Uint32Array(_0x1f980b)}),!(-0x14b+0x224b*0x1+0x42*-0x80);}['destroy'](){var _0x2a30ec;(_0x2a30ec=this['vertexBuff'+'erIds'])==null||_0x2a30ec['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x47749c=0xf1*-0x2+0x16ee+-0x382*0x6;_0x47749c<this['_targets']['length'];_0x47749c++)this['_targets'][_0x47749c]['destroy']();this['_targets']['length']=-0x61b+0xa3a+0x41f*-0x1;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x9d*-0xb+0xd27+-0x667),this['_morphNorm'+'als']=!(0x1d07*-0x1+0x1271+0xa97);for(let _0x3853c4=-0x14bb*-0x1+-0x1*0x16da+0x21f;_0x3853c4<this['_targets']['length'];_0x3853c4++){const _0x4faedc=this['_targets'][_0x3853c4];_0x4faedc['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x142c+0x1c17+-0x7eb)),_0x4faedc['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x469*-0x7+0x1*-0x314+0x58f*-0x5));}}['_createTex'+'ture'](_0x54115b,_0x44ed3a){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x44ed3a,'cubemap':!(0x1*0xe8a+-0xb6f+-0x31a),'mipmaps':!(-0x43f*0x7+0x74*0x33+-0x79*-0xe),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x54115b});}}class Qc{constructor(_0xd93be){c(this,'used',!(0x1*-0xe83+0x22ce+-0x144a)),(v['assert'](arguments['length']===-0x1b04+-0x8*-0x4ae+0x1*-0xa6b),this['options']=_0xd93be,this['_name']=_0xd93be['name'],this['_defaultWe'+'ight']=_0xd93be['defaultWei'+'ght']||-0x25c+0x1d5e+0x1b02*-0x1,this['_aabb']=_0xd93be['aabb'],this['deltaPosit'+'ions']=_0xd93be['deltaPosit'+'ions']);}['destroy'](){var _0xa8b6c0,_0x4c1c63;(_0xa8b6c0=this['texturePos'+'itions'])==null||_0xa8b6c0['destroy'](),this['texturePos'+'itions']=null,(_0x4c1c63=this['textureNor'+'mals'])==null||_0x4c1c63['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x162+-0x1c*-0x6+-0xba*-0x1);}['_setTextur'+'e'](_0xb6e074,_0x1461c3){this[_0xb6e074]=_0x1461c3;}}let si,v_=0x127f+-0x1a2+-0x86e*0x2;const ie=-0xc8c+0x1*-0x2201+0x2e91,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x44c16b){return _0x44c16b-Math['floor'](_0x44c16b);}function KM(_0x28ccef){return Math['max'](Math['min'](_0x28ccef,-0x1*0x17db+-0x1*0x1d7+0x19b3),0x11ef+-0x1ae5+0x8f6);}function Hd(_0x5a405e,_0x5204df){return _0x5a405e-_0x5204df*Math['floor'](_0x5a405e/_0x5204df);}function ZM(_0x3f54c8){let _0x371a5d=ia(_0x3f54c8),_0x429324=ia((-0x890+0x1398+-0xa09)*_0x3f54c8),_0x2bc11a=ia((0x3*0x7119+-0x5819+-0x2cf*-0x1)*_0x3f54c8),_0x4c9ffa=ia((-0x117a*-0xe363+0x8f44213+-0xee7eb42)*_0x3f54c8);return _0x371a5d-=_0x429324/(0x10bf+0x24df+0x13*-0x2c5),_0x429324-=_0x2bc11a/(0x1951*0x1+-0x19*0x1e+-0x1564),_0x2bc11a-=_0x4c9ffa/(0x1fa3+-0x1b1a*-0x1+-0x30a*0x13),_0x4c9ffa-=_0x4c9ffa/(-0x1795*-0x1+-0x106c*0x2+0xa42),[_0x371a5d,_0x429324,_0x2bc11a,_0x4c9ffa];}function Nl(_0x4f1455){let _0x10db36=ia(_0x4f1455),_0x4d8d53=ia((0x1a55+0x1e72+-0x6*0x94c)*_0x4f1455);return _0x10db36-=_0x4d8d53/(0x604+0x1f8a+-0x1*0x248f),_0x4d8d53-=_0x4d8d53/(0x15a0+0xa89+0xf95*-0x2),[_0x10db36,_0x4d8d53];}class QM{constructor(_0x4cb96e){this['_emitter']=_0x4cb96e;}['calcSpawnP'+'osition'](_0x150a8a,_0x1f3888,_0x3231bf,_0x557fda,_0x1484f2){const _0x8a8167=this['_emitter'],_0x45fd6c=Math['random'](),_0xc30f5e=Math['random'](),_0x730be2=Math['random'](),_0x1e5e84=Math['random']();if(_0x8a8167['useCpu']&&(_0x150a8a[_0x1484f2*ie+(0x19dd+-0xcfe+0xcdf*-0x1)+_0x8a8167['numParticl'+'esPot']*(-0xfb8*-0x1+0x1*0x2201+-0x31b7)*ie]=_0x45fd6c,_0x150a8a[_0x1484f2*ie+(0x496*-0x2+0x26ba+-0x1d8d*0x1)+_0x8a8167['numParticl'+'esPot']*(0x7*0x62+0xf*0x123+-0x13b9)*ie]=_0xc30f5e,_0x150a8a[_0x1484f2*ie+(-0x732+-0xb92*-0x1+-0x2b*0x1a)+_0x8a8167['numParticl'+'esPot']*(-0x21ae+-0x1328+0x34d8)*ie]=_0x730be2),ze['x']=_0x45fd6c-(0xe67+-0xa2e+-0x2f*0x17+0.5),ze['y']=_0xc30f5e-(-0xd88+0xed*-0x1f+0x2a3b+0.5),ze['z']=_0x730be2-(0x2245+-0x17ba+0x1*-0xa8b+0.5),_0x8a8167['emitterSha'+'pe']===Vs){const _0x52b93c=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x27c769=_0x52b93c+(-0x1433+-0xde8+0x1*0x221b+0.5-_0x52b93c)*_0x3231bf[0x18cb+-0xf85+-0x1*0x946],_0x6a53ce=_0x52b93c+(-0x1*0x793+-0x99a+0x112d+0.5-_0x52b93c)*_0x3231bf[-0x44d*0x5+-0x1*-0x6c4+0xebe],_0x3f64b2=_0x52b93c+(0x2653+-0xb05+-0x1b4e+0.5-_0x52b93c)*_0x3231bf[0x1c6d+0x1748+-0xa57*0x5];ze['x']=_0x27c769*(_0x52b93c===Math['abs'](ze['x'])?Math['sign'](ze['x']):(-0x1*0x3e1+-0x1677+-0xd2d*-0x2)*ze['x']),ze['y']=_0x6a53ce*(_0x52b93c===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0x5*0x1e7+-0xa6+0xa2b)*ze['y']),ze['z']=_0x3f64b2*(_0x52b93c===Math['abs'](ze['z'])?Math['sign'](ze['z']):(-0x86*-0x16+0x136b+-0x1eed)*ze['z']),_0x8a8167['localSpace']?ks['copy'](_0x1f3888['transformP'+'oint'](ze)):ks['copy'](_0x557fda)['add'](_0x1f3888['transformP'+'oint'](ze));}else{ze['normalize']();const _0x3d8971=_0x8a8167['emitterRad'+'ius']===0x1*-0x835+-0x910+0x1145*0x1?-0x270c+0x11c5+0xd*0x1a3:_0x8a8167['emitterRad'+'iusInner']/_0x8a8167['emitterRad'+'ius'],_0x576810=_0x1e5e84*(0xb46*0x1+0x1d5a+-0x289f-_0x3d8971)+_0x3d8971;_0x8a8167['localSpace']?ks['copy'](ze['mulScalar'](_0x576810*_0x8a8167['emitterRad'+'ius'])):ks['copy'](_0x557fda)['add'](ze['mulScalar'](_0x576810*_0x8a8167['emitterRad'+'ius']));}let _0x2f4cc6=-N['lerp'](_0x8a8167['rate'],_0x8a8167['rate2'],_0x45fd6c)*_0x1484f2;if(_0x8a8167['pack8']){const _0x5c6e17=(ks['x']-_0x8a8167['worldBound'+'s']['center']['x'])/_0x8a8167['worldBound'+'sSize']['x']+(-0x1caf+-0x3f*0x41+-0x2cae*-0x1+0.5),_0x527acf=(ks['y']-_0x8a8167['worldBound'+'s']['center']['y'])/_0x8a8167['worldBound'+'sSize']['y']+(-0x7d*0x14+0x1bee+-0x122a+0.5),_0x254aff=(ks['z']-_0x8a8167['worldBound'+'s']['center']['z'])/_0x8a8167['worldBound'+'sSize']['z']+(-0x16eb+0x14ed+0x1fe+0.5);let _0x5fcfb8=N['lerp'](_0x8a8167['startAngle']*N['DEG_TO_RAD'],_0x8a8167['startAngle'+'2']*N['DEG_TO_RAD'],_0x45fd6c);_0x5fcfb8=_0x5fcfb8%(Math['PI']*(-0x5*0x224+-0x2*0x11e7+0x2e84))/(Math['PI']*(-0x1828+0x859*-0x2+-0x14*-0x20b));const _0x409ae6=Nl(_0x5c6e17);_0x150a8a[_0x1484f2*ie]=_0x409ae6[-0x724+-0x214a+0x286e],_0x150a8a[_0x1484f2*ie+(-0x9*0x14d+0x17f*-0x13+-0xf*-0x2ad)]=_0x409ae6[-0x2332+-0xed7+0x857*0x6];const _0x575da1=Nl(_0x527acf);_0x150a8a[_0x1484f2*ie+(0x1bf4*0x1+-0x1051+0xe5*-0xd)]=_0x575da1[-0x1baa+0x14fe*0x1+0x6ac],_0x150a8a[_0x1484f2*ie+(0xe2b+-0x3d9*-0x2+-0x15da)]=_0x575da1[0x9e*0x22+-0x3e9+-0x1112*0x1];const _0x322f18=Nl(_0x254aff);_0x150a8a[_0x1484f2*ie+(0x5e*-0x1d+0x11*-0x127+0x1e3d)+_0x8a8167['numParticl'+'esPot']*ie]=_0x322f18[-0xbf*-0x28+0x133*0x14+-0x35d4],_0x150a8a[_0x1484f2*ie+(0x4ca*0x5+-0x2593*0x1+0xda2)+_0x8a8167['numParticl'+'esPot']*ie]=_0x322f18[-0x87b*0x2+0x25*0x8f+-0x3*0x13c];const _0x45286a=Nl(_0x5fcfb8);_0x150a8a[_0x1484f2*ie+(-0x9d+-0x783*-0x1+-0x6e4)+_0x8a8167['numParticl'+'esPot']*ie]=_0x45286a[0x1648+0x2453*-0x1+0xe0b],_0x150a8a[_0x1484f2*ie+(0x5e*-0x61+-0x23b*0xe+0x42db)+_0x8a8167['numParticl'+'esPot']*ie]=_0x45286a[0x4*-0x3fb+0x1659+-0x66c];const _0x5b250a=0x7*-0x39e+0x3*-0x57f+0x29d0;_0x150a8a[_0x1484f2*ie+(-0x1fe+-0x599+0x79a)+_0x8a8167['numParticl'+'esPot']*ie*(0x1*-0xc1e+0x64b+-0x1*-0x5d5)]=_0x5b250a;const _0x4ab80b=Math['max'](_0x8a8167['lifetime'],(_0x8a8167['numParticl'+'es']-(0x1c8f+-0xc96+-0xff8))*Math['max'](_0x8a8167['rate'],_0x8a8167['rate2'])),_0x3294c4=_0x8a8167['lifetime']+(-0x2*0xe11+0x9c4+0x125f);_0x2f4cc6=(_0x2f4cc6+_0x4ab80b)/(_0x4ab80b+_0x3294c4);const _0x385c8b=ZM(_0x2f4cc6);_0x150a8a[_0x1484f2*ie+(0x2614+0x1345+0x3959*-0x1)+_0x8a8167['numParticl'+'esPot']*ie*(-0x1dfb+0x17f6+0x608)]=_0x385c8b[-0x270+-0x17e4+0x1a54],_0x150a8a[_0x1484f2*ie+(-0x287+-0xb7a+0xb*0x146)+_0x8a8167['numParticl'+'esPot']*ie*(-0x2414+0x1*-0x21f+0x2636)]=_0x385c8b[0x1051*0x1+-0x3f9+-0xc57],_0x150a8a[_0x1484f2*ie+(-0xe81+-0x1*0xb2d+0x19b0)+_0x8a8167['numParticl'+'esPot']*ie*(0x909+0x2690+-0x2f96)]=_0x385c8b[0xf*0x175+0x47*-0x2b+-0x9ec],_0x150a8a[_0x1484f2*ie+(0x1*0x201f+0x1*0x142f+-0x344b)+_0x8a8167['numParticl'+'esPot']*ie*(0xda1+0x17f*0x1a+-0x2*0x1a42)]=_0x385c8b[-0x1*0x1af+0x64f*0x5+-0x11b*0x1b];}else _0x150a8a[_0x1484f2*ie]=ks['x'],_0x150a8a[_0x1484f2*ie+(0xf3b+0x584+-0x14be)]=ks['y'],_0x150a8a[_0x1484f2*ie+(-0x2*0xc5b+-0x1*0x22e5+-0x1*-0x3b9d)]=ks['z'],_0x150a8a[_0x1484f2*ie+(-0xed8+-0xa0b+0x18e6*0x1)]=N['lerp'](_0x8a8167['startAngle']*N['DEG_TO_RAD'],_0x8a8167['startAngle'+'2']*N['DEG_TO_RAD'],_0x45fd6c),_0x150a8a[_0x1484f2*ie+(0x22a3+0x15fc+0x2*-0x1c4e)+_0x8a8167['numParticl'+'esPot']*ie]=_0x2f4cc6;}['update'](_0x5ad030,_0xa02215,_0x4b2ada,_0x210d59,_0x3da900,_0x32574d,_0x4eb7e6,_0x2503ed){let _0x306b5f,_0x4b4887,_0x4c4ccd;const _0x4fb696=this['_emitter'];if(_0x4fb696['meshInstan'+'ce']['node']){const _0x5578b6=_0x4fb696['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x40e9c6=-0x1c78+-0x11*-0x1bc+0x104*-0x1;_0x40e9c6<0xd*-0x1ab+0x1*0x2227+0x6a*-0x1e;_0x40e9c6++)Vd['data'][_0x40e9c6]=_0x5578b6['data'][_0x40e9c6];Gd['copy'](Vd),Gd['invert'](),si=_0x4fb696['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x32574d=_0x4fb696['meshInstan'+'ce']['node']===null||_0x4fb696['localSpace']?T['ZERO']:_0x4fb696['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x19a5e3=_0x4fb696['camera']?_0x4fb696['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x58287b=_0x4fb696['useMesh']?0x2*-0x46f+-0x1656+0x641*0x5:0x8af+-0x1*0x19e8+0x1148;let _0x304e55,_0x5dd806,_0x99fc7b,_0x382daf,_0x470296,_0xe4367a,_0x1aa816,_0xb5d389,_0x1c45e4;const _0x4f1f1d=_0x4fb696['precision']-(0xb*-0x37f+-0x2060+0x2*0x236b);for(let _0x3eeab7=0xa9a+0x1895+-0x232f;_0x3eeab7<_0x4fb696['numParticl'+'es'];_0x3eeab7++){const _0x5e5713=Math['floor'](_0x4fb696['vbCPU'][_0x3eeab7*_0x4fb696['numParticl'+'eVerts']*(_0x4fb696['useMesh']?0xbf8+0x3*0x25+-0xc61:0x163*-0x16+-0x106*-0x1+0x8*0x3b0)+(-0xa0*-0x2e+0xfef*0x1+-0x2cac*0x1)]),_0xd14790=_0x4b2ada[_0x5e5713*ie+(-0xe3*-0x1+-0x1175+0x1092)+_0x4fb696['numParticl'+'esPot']*(-0x4ff*-0x7+0xb83+-0x2e7a)*ie];ps['x']=_0xd14790,ps['y']=_0x4b2ada[_0x5e5713*ie+(-0xfe3+0x1*0xab2+0x532)+_0x4fb696['numParticl'+'esPot']*(0x2*-0x7d8+0x156*0x6+0x7ae)*ie],ps['z']=_0x4b2ada[_0x5e5713*ie+(0x2*0xd8b+0x1*-0xe5f+-0xcb5)+_0x4fb696['numParticl'+'esPot']*(-0xa*-0x239+0x4*0x6b+0x2*-0xbf2)*ie];const _0x545e1c=_0x4fb696['rate']+(_0x4fb696['rate2']-_0x4fb696['rate'])*_0xd14790,_0x24246f=_0x4fb696['lifetime'];let _0x988f48=_0x4b2ada[_0x5e5713*ie+(-0xeae*-0x1+-0xae9+-0x1a*0x25)+_0x4fb696['numParticl'+'esPot']*ie]+_0x4eb7e6;const _0x27ca2d=KM(_0x988f48/_0x24246f);let _0x57119a=-0x1890+-0xe59+-0x26e9*-0x1,_0x50df56=-0x1b45+0x3d1*0x9+-0x714;const _0x1c7afc=-0xeba*0x2+0x1656+0x38f*0x2;(_0x988f48-_0x4eb7e6<=0x2f8+0x34a+0xb2*-0x9||_0x988f48>=_0x24246f)&&this['calcSpawnP'+'osition'](_0x4b2ada,_0x210d59,_0x3da900,_0x32574d,_0x5e5713);let _0x5061b0=_0x988f48>0x1*-0x177c+0x4a4+0x12d8&&_0x988f48<_0x24246f;_0x5061b0&&(_0x4c4ccd=_0x27ca2d*_0x4f1f1d,_0x304e55=Math['floor'](_0x4c4ccd),_0x5dd806=Math['ceil'](_0x4c4ccd),_0x4c4ccd%=0x6c2*0x2+-0x1*0x11ad+0x42a,_0x306b5f=_0x4fb696['qRotSpeed'][_0x304e55],_0x4b4887=_0x4fb696['qRotSpeed'][_0x5dd806],_0x99fc7b=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qRotSpeed2'][_0x304e55],_0x4b4887=_0x4fb696['qRotSpeed2'][_0x5dd806],_0x382daf=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qScale'][_0x304e55],_0x4b4887=_0x4fb696['qScale'][_0x5dd806],_0x57119a=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qScale2'][_0x304e55],_0x4b4887=_0x4fb696['qScale2'][_0x5dd806],_0x470296=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qAlpha'][_0x304e55],_0x4b4887=_0x4fb696['qAlpha'][_0x5dd806],_0xe4367a=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qAlpha2'][_0x304e55],_0x4b4887=_0x4fb696['qAlpha2'][_0x5dd806],_0x1aa816=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qRadialSpe'+'ed'][_0x304e55],_0x4b4887=_0x4fb696['qRadialSpe'+'ed'][_0x5dd806],_0xb5d389=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qRadialSpe'+'ed2'][_0x304e55],_0x4b4887=_0x4fb696['qRadialSpe'+'ed2'][_0x5dd806],_0x1c45e4=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0xb5d389+=(_0x1c45e4-_0xb5d389)*(_0xd14790*(0x1d83+0x293*0x5+-0xd7*0x32)%(-0x25b0+-0xd5c+0x74b*0x7)),Rn['x']=_0x4b2ada[_0x5e5713*ie],Rn['y']=_0x4b2ada[_0x5e5713*ie+(0xe39*0x1+0x1fd+-0x1035)],Rn['z']=_0x4b2ada[_0x5e5713*ie+(0xd*0x166+-0x19f0+0x7c4)],_0x4fb696['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x32574d),Ka['normalize']()['mulScalar'](_0xb5d389),_0x304e55*=-0x1cc8+0x5a4*-0x4+0x335b,_0x5dd806*=-0x2359+-0xbc+0x2418,_0x306b5f=_0x4fb696['qLocalVelo'+'city'][_0x304e55],_0x4b4887=_0x4fb696['qLocalVelo'+'city'][_0x5dd806],Ze['x']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qLocalVelo'+'city'][_0x304e55+(0x1cb0+-0x1*-0x14b3+-0x3162)],_0x4b4887=_0x4fb696['qLocalVelo'+'city'][_0x5dd806+(-0x103e+-0x182+0x11c1)],Ze['y']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qLocalVelo'+'city'][_0x304e55+(0x1416+-0x27*-0x66+-0x239e*0x1)],_0x4b4887=_0x4fb696['qLocalVelo'+'city'][_0x5dd806+(-0x1f1b+0xbc+0x1e61)],Ze['z']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qLocalVelo'+'city2'][_0x304e55],_0x4b4887=_0x4fb696['qLocalVelo'+'city2'][_0x5dd806],Dn['x']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qLocalVelo'+'city2'][_0x304e55+(0x9*-0x19e+0x186b*0x1+0x2*-0x4ee)],_0x4b4887=_0x4fb696['qLocalVelo'+'city2'][_0x5dd806+(0x2cc+0x3*-0x319+0x680)],Dn['y']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qLocalVelo'+'city2'][_0x304e55+(-0x18a1+-0x1*0x22ab+0x3b4e)],_0x4b4887=_0x4fb696['qLocalVelo'+'city2'][_0x5dd806+(-0x10c9+0x2*-0x1031+0x312d)],Dn['z']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qVelocity'][_0x304e55],_0x4b4887=_0x4fb696['qVelocity'][_0x5dd806],Nt['x']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qVelocity'][_0x304e55+(-0x1add+-0x16bf+-0x3d1*-0xd)],_0x4b4887=_0x4fb696['qVelocity'][_0x5dd806+(-0x1c3e+0x2215+-0x6*0xf9)],Nt['y']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qVelocity'][_0x304e55+(0x5f*0x1f+-0x4*-0x737+-0x285b)],_0x4b4887=_0x4fb696['qVelocity'][_0x5dd806+(0x1*-0x2c+-0x26f1+0x271f)],Nt['z']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qVelocity2'][_0x304e55],_0x4b4887=_0x4fb696['qVelocity2'][_0x5dd806],In['x']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qVelocity2'][_0x304e55+(0x117d+0x116+-0x1292)],_0x4b4887=_0x4fb696['qVelocity2'][_0x5dd806+(0x17c2+0xc56+-0x2417*0x1)],In['y']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,_0x306b5f=_0x4fb696['qVelocity2'][_0x304e55+(-0x19b6+-0x1dee+-0x11*-0x346)],_0x4b4887=_0x4fb696['qVelocity2'][_0x5dd806+(-0xc99+0x523*-0x1+0x11be)],In['z']=_0x306b5f+(_0x4b4887-_0x306b5f)*_0x4c4ccd,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x4fb696['initialVel'+'ocity']>0x2455+0x2465+-0xc1f*0x6&&(_0x4fb696['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0xe*-0x1dc+0x25b0+0x1fdb*-0x2)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x4fb696['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x4fb696['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x99fc7b+=(_0x382daf-_0x99fc7b)*ps['y'],_0x57119a=(_0x57119a+(_0x470296-_0x57119a)*(_0xd14790*(0x1c*0x6d+-0x120d*-0x2+0x47b*-0x2)%(-0x1e13+0x70*-0x3e+-0xe*-0x416)))*v_,_0x50df56=(_0x1aa816-_0xe4367a)*(_0xd14790*(-0x1*0x21f+0x2695+-0x208e)%(-0x21b5+0x3*0xb57+-0x1*0x4f)),_0x4fb696['meshInstan'+'ce']['node']&&(_0x4fb696['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x4fb696['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x4eb7e6)),vt['copy'](b_),_0x4b2ada[_0x5e5713*ie]=vt['x'],_0x4b2ada[_0x5e5713*ie+(0x7a8+0x1746+0x261*-0xd)]=vt['y'],_0x4b2ada[_0x5e5713*ie+(0x2*0x8b3+-0x1*0x1a21+0x8bd)]=vt['z'],_0x4b2ada[_0x5e5713*ie+(0x7b1*0x3+0x2*-0x669+-0xa3e)]+=_0x99fc7b*_0x4eb7e6,_0x4fb696['wrap']&&_0x4fb696['wrapBounds']&&(_0x4fb696['localSpace']||vt['sub'](_0x32574d),vt['x']=Hd(vt['x'],_0x4fb696['wrapBounds']['x'])-_0x4fb696['wrapBounds']['x']*(0x1e27+-0x33+-0x1df4+0.5),vt['y']=Hd(vt['y'],_0x4fb696['wrapBounds']['y'])-_0x4fb696['wrapBounds']['y']*(0x5*-0x5e7+0x36c+0x1a17*0x1+0.5),vt['z']=Hd(vt['z'],_0x4fb696['wrapBounds']['z'])-_0x4fb696['wrapBounds']['z']*(-0xfb0*0x1+-0x35b*-0x1+0xc55+0.5),_0x4fb696['localSpace']||vt['add'](_0x32574d)),_0x4fb696['sort']>-0x1f8f+0x1099*-0x1+-0x43*-0xb8&&(_0x4fb696['sort']===-0x7d1+-0x1*-0x1ae5+-0x13*0x101?(wr['copy'](vt)['sub'](_0x19a5e3),_0x4fb696['particleDi'+'stance'][_0x5e5713]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x4fb696['sort']===0x655*-0x5+0x2056+-0xab?_0x4fb696['particleDi'+'stance'][_0x5e5713]=_0x988f48:_0x4fb696['sort']===-0x1b05*0x1+-0xccf*0x3+0x4175*0x1&&(_0x4fb696['particleDi'+'stance'][_0x5e5713]=-_0x988f48))),_0x2503ed?_0x988f48<0x8*0x3ba+0x1d9b*-0x1+0x35*-0x1&&(_0x4b2ada[_0x5e5713*ie+(0x1*0x1ec7+-0x134+0x2*-0xec8)+_0x4fb696['numParticl'+'esPot']*(0xf*0x185+-0x469*0x7+-0x6*-0x159)*ie]=-(-0x8f9+-0x18ce+0x21c8)):(_0x988f48>=_0x24246f&&(_0x988f48-=Math['max'](_0x24246f,(_0x4fb696['numParticl'+'es']-(0x176b+0x1327*0x1+0x1*-0x2a91))*_0x545e1c),_0x4b2ada[_0x5e5713*ie+(0x1c47+0x1*-0xae5+-0x115f)+_0x4fb696['numParticl'+'esPot']*(-0x2*-0x92f+0x94*0x43+-0x3918)*ie]=_0x4fb696['loop']?-0x24c4+0xbff*-0x1+0x30c4:-(0x137*0x9+0x136d+-0x1e5b)),_0x988f48<0xc29*-0x1+-0xf64+0x1b8d&&_0x4fb696['loop']&&(_0x4b2ada[_0x5e5713*ie+(0x2d*-0x5b+-0x1*-0x15c5+-0x5c3)+_0x4fb696['numParticl'+'esPot']*(0xe21+-0x22a7+0x291*0x8)*ie]=0x1f*0xb+-0x2135+-0x1fe1*-0x1)),_0x4b2ada[_0x5e5713*ie+(0x21f8+-0x1a84+-0x771*0x1)+_0x4fb696['numParticl'+'esPot']*(-0x4*-0x76d+-0x164d+-0x765)*ie]<-0x69*0x57+0x1fae+0x29*0x19&&(_0x5061b0=!(0x1*-0xeab+-0xfab+0x1e57)),_0x4b2ada[_0x5e5713*ie+(-0x2221+0x849+-0x19db*-0x1)+_0x4fb696['numParticl'+'esPot']*ie]=_0x988f48;for(let _0x19e26f=0x31*0x91+-0x79*-0x39+-0x36b2;_0x19e26f<_0x4fb696['numParticl'+'eVerts'];_0x19e26f++){const _0x575fd5=(_0x3eeab7*_0x4fb696['numParticl'+'eVerts']+_0x19e26f)*(_0x4fb696['useMesh']?-0x1*-0x6fd+0x6*0x19c+-0x17*0xb9:0x10a3+-0x2410+0x7*0x2c7);let _0x3978f2=_0x4fb696['vbCPU'][_0x575fd5],_0x54c221=_0x4fb696['vbCPU'][_0x575fd5+(0x2*0xed1+0x21d6+-0x911*0x7)],_0x20bc00=_0x4fb696['vbCPU'][_0x575fd5+(0x1d5d*0x1+0x15b6+-0x3311)];_0x5061b0||(_0x3978f2=_0x54c221=_0x20bc00=0xec9+-0xf1a+0x51);const _0x22c0a5=_0x3eeab7*_0x4fb696['numParticl'+'eVerts']*_0x58287b+_0x19e26f*_0x58287b;_0x5ad030[_0x22c0a5]=vt['x'],_0x5ad030[_0x22c0a5+(0x3*0x25c+0xa18+-0x36f*0x5)]=vt['y'],_0x5ad030[_0x22c0a5+(0xdec+-0x10e6+0xbf*0x4)]=vt['z'],_0x5ad030[_0x22c0a5+(-0xf07+0x1e4+0xd26)]=_0x27ca2d,_0x5ad030[_0x22c0a5+(0x14f*0x19+-0x26c1*-0x1+-0x4774)]=_0x4fb696['alignToMot'+'ion']?_0x1c7afc:_0x4b2ada[_0x5e5713*ie+(-0x1aae+-0x1e3e*-0x1+0x3*-0x12f)],_0x5ad030[_0x22c0a5+(-0x75*-0xd+-0x68f+0xa3)]=_0x57119a,_0x5ad030[_0x22c0a5+(-0x65*0xc+0x8*0x53+0x22a)]=_0x50df56,_0x5ad030[_0x22c0a5+(-0xdaf+0x2685+-0x18cf)]=Bl['x'],_0x5ad030[_0x22c0a5+(0x2296+0x321*0x9+-0x3eb7)]=_0x3978f2,_0x5ad030[_0x22c0a5+(-0x867+-0x1*-0x1c57+0x13e7*-0x1)]=_0x54c221,_0x5ad030[_0x22c0a5+(0x1*-0x1c1+0x1ef6+-0x1d2b)]=_0x20bc00,_0x5ad030[_0x22c0a5+(-0x1aed+-0x7*-0x2ec+0x684)]=Bl['y'],_0x5ad030[_0x22c0a5+(0x1*0x2059+0xb1f+-0x2b6c)]=_0x5e5713,_0x5ad030[_0x22c0a5+(0xf*0x1eb+0x6*0x235+-0x29f6)]=Bl['z'],_0x5ad030[_0x22c0a5+(-0x13a8+-0x15df*0x1+-0x851*-0x5)]=_0x4fb696['vbCPU'][_0x575fd5+(-0x1109*-0x1+0x94*0x34+-0x2f16)],_0x4fb696['useMesh']&&(_0x5ad030[_0x22c0a5+(0x1f*0xb3+0x1a83+-0x3*0x100b)]=_0x4fb696['vbCPU'][_0x575fd5+(0x17*0x2a+-0x12e*-0x1d+0xf*-0x288)],_0x5ad030[_0x22c0a5+(0xe*-0x83+0xd*-0x1af+0x1d1d*0x1)]=_0x4fb696['vbCPU'][_0x575fd5+(0x909+-0x6f*-0x30+-0x17*0x14c)]);}}if(_0x4fb696['sort']>Du&&_0x4fb696['camera']){const _0x4f6daf=_0x4fb696['useMesh']?-0x19ab+0xc8+0x18e9:0x604+-0x29*-0x5d+-0x14e5,_0xb19c9c=_0x4fb696['particleDi'+'stance'];for(let _0x623416=-0x1af1*-0x1+-0x7f6+-0x12fb;_0x623416<_0x4fb696['numParticl'+'es'];_0x623416++)_0xa02215[_0x623416][0x1d31+0x8*-0x2dc+-0x651]=_0x623416,_0xa02215[_0x623416][-0x68*-0xa+0x1e0e+0x3*-0xb5f]=_0xb19c9c[Math['floor'](_0x4fb696['vbCPU'][_0x623416*_0x4fb696['numParticl'+'eVerts']*_0x4f6daf+(-0x1*-0x7d3+-0x1d64+0xaca*0x2)])];_0x4fb696['vbOld']['set'](_0x4fb696['vbCPU']),_0xa02215['sort']((_0x57be97,_0x3f2739)=>_0x57be97[0x1*-0x20d3+-0x51f+0x25f3]-_0x3f2739[-0x3*-0x471+0x103f+0x9*-0x349]);for(let _0x4bf13e=0x1050+-0x16b7+-0xb*-0x95;_0x4bf13e<_0x4fb696['numParticl'+'es'];_0x4bf13e++){const _0x48f87c=_0xa02215[_0x4bf13e][-0xdcb+0xbbf*0x1+0x20c]*_0x4fb696['numParticl'+'eVerts']*_0x4f6daf,_0x47f0d4=_0x4bf13e*_0x4fb696['numParticl'+'eVerts']*_0x4f6daf;for(let _0x35629a=0x16bd+-0x8e1+-0xddc*0x1;_0x35629a<_0x4fb696['numParticl'+'eVerts']*_0x4f6daf;_0x35629a++)_0x4fb696['vbCPU'][_0x47f0d4+_0x35629a]=_0x4fb696['vbOld'][_0x48f87c+_0x35629a];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x5e2824,_0x178823){this['_emitter']=_0x5e2824,this['frameRando'+'mUniform']=new Float32Array(-0x19f*-0xd+0x1b7c+-0x308c),this['emitterPos'+'Uniform']=new Float32Array(-0x5*-0x5c3+-0x2162+0x496),this['emitterSca'+'leUniform']=new Float32Array([-0x1bcb+-0x1*0xc36+0x239*0x12,0x2*0x856+-0x65*0x3+-0xf7c,-0xd*0x223+-0xa9*-0x1d+-0xb*-0xc9]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x1*0x26b3+0x1*0x16f1+-0x3*0x148b),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x21b7+0xdfe+0x4c5*-0xa),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x12c5*-0x1+-0x49*-0x7b+-0x35d5),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x1f24+-0x1d60+0x3c87*0x1),this['constantPa'+'rticleTexI'+'N']=_0x178823['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x178823['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x178823['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x178823['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x178823['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x178823['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x178823['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x178823['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x178823['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x178823['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x178823['scope']['resolve']('delta'),this['constantRa'+'te']=_0x178823['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x178823['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x178823['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x178823['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x178823['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x178823['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x178823['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x178823['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x178823['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x178823['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x178823['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x178823['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x178823['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x178823['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x178823['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x178823['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x178823['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x178823['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x178823['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x178823['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x178823['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x178823['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x178823['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x178823['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x178823['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x178823['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x10fb+-0x9*0x356+0x2f01]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x32*0xb2+0x43*0x3b+-0x7*0x72c]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x16*0x103+-0x2345*0x1+-0x53b*-0xb]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x53*-0x63+0x549+-0x1ad*-0x10]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x7*0x56a+-0x787+0x17*-0x152]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x11ef*0x1+-0x17*0x49+0xb5e*-0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x9d3+-0x1*0x10a3+-0x2*-0x368]=Math['random'](),this['frameRando'+'mUniform'][-0x180a+-0x1a72*0x1+0x327d]=Math['random'](),this['frameRando'+'mUniform'][0x120c+-0xe+-0x11fc]=Math['random']();}['update'](_0x141900,_0x104ff7,_0x2df718,_0x52e743,_0x5229f5){G['pushGpuMar'+'ker'](_0x141900,'ParticleGP'+'U');const _0x5bc3da=this['_emitter'];_0x141900['setBlendSt'+'ate'](_t['NOBLEND']),_0x141900['setDepthSt'+'ate'](as['NODEPTH']),_0x141900['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x6a1+-0x1c00+0x22a2)/_0x5bc3da['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x5bc3da['precision']),this['constantNu'+'mParticles']['setValue'](_0x5bc3da['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x5bc3da['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x5bc3da['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x5bc3da['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x5bc3da['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x5bc3da['internalTe'+'x3']);const _0xbdf027=_0x5bc3da['meshInstan'+'ce']['node'],_0x50dc66=_0xbdf027===null?T['ONE']:_0xbdf027['localScale'];if(_0x5bc3da['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x90+-0x269*-0x3+-0x6ab]=_0x5bc3da['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x71*0x2e+-0xf3+0x1*-0x135a]=_0x5bc3da['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x135d*0x1+0x22ab+-0x3606]=_0x5bc3da['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x1*-0xc98+0x2*-0x92+0x5ba*-0x2]=_0x5bc3da['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x782+-0x1*-0x925+-0x1a2]=_0x5bc3da['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x4*0x1dd+-0x2*-0x1212+-0xe57*0x2]=_0x5bc3da['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x3cc33a=_0x5bc3da['maxVel']*Math['max'](Math['max'](_0x50dc66['x'],_0x50dc66['y']),_0x50dc66['z']);_0x3cc33a=Math['max'](_0x3cc33a,-0x95f+-0x5*-0x4a9+0x1*-0xded),this['constantMa'+'xVel']['setValue'](_0x3cc33a);}const _0x5c89a2=_0xbdf027===null||_0x5bc3da['localSpace']?T['ZERO']:_0xbdf027['getPositio'+'n'](),_0x3783e9=_0xbdf027===null?q['IDENTITY']:_0xbdf027['getWorldTr'+'ansform']();_0x5bc3da['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x104ff7),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x2df718)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x5bc3da['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x5bc3da['emitterRad'+'ius']===-0x1*0x7ed+-0x13*-0x18a+-0x1551?-0xd38+-0x18f3+0x262b*0x1:_0x5bc3da['emitterRad'+'iusInner']/_0x5bc3da['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x5bc3da['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x3783e9),A_['invertMat4'](_0x3783e9),this['emitterPos'+'Uniform'][-0x2434+0x2*-0xd17+0x3e62]=_0x5c89a2['x'],this['emitterPos'+'Uniform'][0x2449+-0xee3*-0x2+-0x420e]=_0x5c89a2['y'],this['emitterPos'+'Uniform'][-0x24a1+-0xdbe*-0x2+0x927]=_0x5c89a2['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x52e743),this['constantRa'+'te']['setValue'](_0x5bc3da['rate']),this['constantRa'+'teDiv']['setValue'](_0x5bc3da['rate2']-_0x5bc3da['rate']),this['constantSt'+'artAngle']['setValue'](_0x5bc3da['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x5bc3da['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x5bc3da['seed']),this['constantLi'+'fetime']['setValue'](_0x5bc3da['lifetime']),this['emitterSca'+'leUniform'][0x657+-0x21e5+0xdc7*0x2]=_0x50dc66['x'],this['emitterSca'+'leUniform'][-0xc4+-0x2*-0xcdc+-0x18f3]=_0x50dc66['y'],this['emitterSca'+'leUniform'][-0x2087+-0x55*-0x4b+0x7a2]=_0x50dc66['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x5bc3da['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x5bc3da['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x5bc3da['rotSpeedUM'+'ax'][-0xd*0x52+-0x1821+0x1c4b]);let _0x5804e5=_0x5bc3da['swapTex']?_0x5bc3da['particleTe'+'xOUT']:_0x5bc3da['particleTe'+'xIN'];_0x5804e5=_0x5bc3da['beenReset']?_0x5bc3da['particleTe'+'xStart']:_0x5804e5;const _0x453851=_0x5bc3da['swapTex']?_0x5bc3da['particleTe'+'xIN']:_0x5bc3da['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x5804e5),dn(_0x141900,_0x5bc3da['swapTex']?_0x5bc3da['rtParticle'+'TexIN']:_0x5bc3da['rtParticle'+'TexOUT'],_0x5229f5?_0x5bc3da['shaderPart'+'icleUpdate'+'OnStop']:_0x5bc3da['loop']?_0x5bc3da['shaderPart'+'icleUpdate'+'Respawn']:_0x5bc3da['shaderPart'+'icleUpdate'+'NoRespawn']),_0x5bc3da['material']['setParamet'+'er']('particleTe'+'xOUT',_0x5804e5),_0x5bc3da['material']['setParamet'+'er']('particleTe'+'xIN',_0x453851),_0x5bc3da['beenReset']=!(-0x19ed*-0x1+-0x3*-0x44d+0x3*-0xcf1),_0x5bc3da['swapTex']=!_0x5bc3da['swapTex'],_0x5bc3da['prevWorldB'+'oundsSize']['copy'](_0x5bc3da['worldBound'+'sSize']),_0x5bc3da['prevWorldB'+'oundsCente'+'r']['copy'](_0x5bc3da['worldBound'+'s']['center']),_0x5bc3da['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x141900);}}class e1 extends It{['generateKe'+'y'](_0x586ddf){let _0x22ef95='particle_'+It['definesHas'+'h'](_0x586ddf['defines'])+'_';for(const _0x1d9b47 in _0x586ddf)_0x586ddf['hasOwnProp'+'erty'](_0x1d9b47)&&(_0x22ef95+=_0x586ddf[_0x1d9b47]);return _0x22ef95;}['_animTex'](_0x37c982){let _0x3ed7ea='';return _0x3ed7ea+=_0x37c982['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x3ed7ea+=X['particleAn'+'imTexVS'],_0x3ed7ea;}['createShad'+'erDefiniti'+'on'](_0x40875e,_0x5226d6){const _0x38ed74='#define\x20PA'+'RTICLE_'+(_0x5226d6['useCpu']?'CPU':'GPU')+'\x0a';let _0x1a0df1='#define\x20PA'+'RTICLE\x0a'+_0x38ed74,_0x24a04b='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x38ed74;_0x5226d6['mesh']&&(_0x24a04b+='#define\x20US'+'E_MESH\x0a'),_0x5226d6['localSpace']&&(_0x24a04b+='#define\x20LO'+'CAL_SPACE\x0a'),_0x5226d6['screenSpac'+'e']&&(_0x24a04b+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x5226d6['animTex']&&(_0x24a04b+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x5226d6['animTex']&&(_0x24a04b+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x5226d6['animTex']&&(_0x24a04b+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x5226d6['normal']===0xd1+-0x1c2a+0x1b5b&&(_0x24a04b+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x5226d6['normal']===0x25e9+0xaeb+-0x30d3&&(_0x24a04b+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x5226d6['soft']&&(_0x24a04b+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x47b55a=_0x5226d6['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x5226d6['useCpu']?(_0x5226d6['soft']>-0x584*0x1+-0x75*-0x41+0x1*-0x1831&&(_0x24a04b+=X['screenDept'+'hPS']),_0x24a04b+=X['particle_c'+'puVS'],_0x5226d6['localSpace']&&(_0x24a04b+=X['particle_l'+'ocalShiftV'+'S']),_0x5226d6['animTex']&&(_0x24a04b+=this['_animTex'](_0x5226d6)),_0x5226d6['alignToMot'+'ion']&&(_0x24a04b+=X['particle_p'+'ointAlongV'+'S']),_0x24a04b+=_0x5226d6['mesh']?X['particle_m'+'eshVS']:_0x47b55a,_0x5226d6['normal']===0x1890+-0x1*-0xcb+-0x289*0xa&&(_0x24a04b+=X['particle_n'+'ormalVS']),_0x5226d6['normal']===0x1269+0x2*0x79b+-0x219d*0x1&&(_0x24a04b+=X['particle_T'+'BNVS']),_0x5226d6['stretch']>0x83c+-0x1cab*-0x1+0x8d*-0x43&&(_0x24a04b+=X['particle_s'+'tretchVS']),_0x24a04b+=X['particle_c'+'pu_endVS'],_0x5226d6['soft']>-0x7*0x2f9+0x60a+0xec5&&(_0x24a04b+=X['particle_s'+'oftVS'])):(_0x24a04b+=X['particle_i'+'nitVS'],_0x24a04b+=_0x5226d6['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x5226d6['soft']>0xb97+-0x454+-0x743&&(_0x24a04b+=X['screenDept'+'hPS']),_0x24a04b+=X['particleVS'],_0x5226d6['localSpace']&&(_0x24a04b+=X['particle_l'+'ocalShiftV'+'S']),_0x5226d6['animTex']&&(_0x24a04b+=this['_animTex'](_0x5226d6)),_0x5226d6['wrap']&&(_0x24a04b+=X['particle_w'+'rapVS']),_0x5226d6['alignToMot'+'ion']&&(_0x24a04b+=X['particle_p'+'ointAlongV'+'S']),_0x24a04b+=_0x5226d6['mesh']?X['particle_m'+'eshVS']:_0x47b55a,_0x5226d6['normal']===0xcb9*-0x1+-0x1a17+0x26d1&&(_0x24a04b+=X['particle_n'+'ormalVS']),_0x5226d6['normal']===0x1351+0x72*0x30+-0x28af&&(_0x24a04b+=X['particle_T'+'BNVS']),_0x5226d6['stretch']>-0x4*0x3ee+0x2b*-0x7c+0x1246*0x2&&(_0x24a04b+=X['particle_s'+'tretchVS']),_0x24a04b+=X['particle_e'+'ndVS'],_0x5226d6['soft']>-0x152a+-0x19d*0x13+-0xa5d*-0x5&&(_0x24a04b+=X['particle_s'+'oftVS'])),_0x24a04b+='}\x0a',_0x5226d6['normal']>0x207d+0x1a76+-0x3af3&&(_0x5226d6['normal']===0x1204+0xba2*0x2+-0x2947?_0x1a0df1+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x5226d6['normal']===-0x7*0x106+-0x1*-0x2248+-0x4*0x6c7&&(_0x1a0df1+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x1a0df1+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x5226d6['soft']&&(_0x1a0df1+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x1a0df1+=X['decodePS'],_0x1a0df1+='#include\x20\x22'+'gammaPS\x22\x0a',_0x1a0df1+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x1a0df1+='#include\x20\x22'+'fogPS\x22\x0a',_0x5226d6['normal']===-0x1873+-0x66*0x12+0x1fa1&&(_0x1a0df1+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x5226d6['soft']>-0x21a8+-0x1215+0x33bd&&(_0x1a0df1+=X['screenDept'+'hPS']),_0x1a0df1+=X['particlePS'],_0x5226d6['soft']>0x98c+-0x9*-0x1d5+-0x535*0x5&&(_0x1a0df1+=X['particle_s'+'oftPS']),_0x5226d6['normal']===-0x1*-0x5d1+-0x11*-0x19e+-0x214e&&(_0x1a0df1+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x5226d6['normal']===-0x600+-0x1*0x21c1+0x27c3&&(_0x1a0df1+=X['particle_n'+'ormalMapPS']),_0x5226d6['normal']>-0x5d6*0x1+0x247e+-0x51c*0x6&&(_0x1a0df1+=_0x5226d6['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x5226d6['normal']>-0x25b+0xd91+-0xb36&&(_0x1a0df1+=X['particle_l'+'ightingPS']),_0x5226d6['blend']===Kt?_0x1a0df1+=X['particle_b'+'lendNormal'+'PS']:_0x5226d6['blend']===yp?_0x1a0df1+=X['particle_b'+'lendAddPS']:_0x5226d6['blend']===xp&&(_0x1a0df1+=X['particle_b'+'lendMultip'+'lyPS']),_0x1a0df1+=X['particle_e'+'ndPS'];const _0x1905a9=new Map(Object['entries']({...X,..._0x5226d6['chunks']}));return Mt['createDefi'+'nition'](_0x40875e,{'name':'ParticleSh'+'ader','vertexCode':_0x24a04b,'fragmentCode':_0x1a0df1,'fragmentDefines':_0x5226d6['defines'],'fragmentIncludes':_0x1905a9,'vertexDefines':_0x5226d6['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0xdfe0eb){super(),c(this,'emitter',null),(this['emitter']=_0xdfe0eb,v['assert'](_0xdfe0eb));}['getShaderV'+'ariant'](_0x4a041c){const {device:_0x25c928,scene:_0x45afd4,cameraShaderParams:_0x4de85a}=_0x4a041c,{emitter:_0x4e0981}=this,_0x102a84={'defines':Dp(this,_0x4a041c),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x4e0981['lighting']?_0x4e0981['normalMap']!==null?0x1875+-0x1037+0x41e*-0x2:-0x1cc6+0x1*-0x268a+0x4351:0x3*0x9d3+0x1e6+-0x1f5f,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x4de85a==null?void(0xb14+0x137b+0x1e8f*-0x1):_0x4de85a['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x4de85a==null?void(-0xff2+-0x1f7c+0x1*0x2f6e):_0x4de85a['toneMappin'+'g'])??Ap,'fog':_0x45afd4&&!this['emitter']['noFog']?_0x45afd4['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x4e0981['inTools']?!(0x750+-0x31d+0x166*-0x3):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x5e2569=new Yc(_0x4a041c['viewUnifor'+'mFormat'],_0x4a041c['viewBindGr'+'oupFormat'],_0x4a041c['vertexForm'+'at']),_0x866312=ka(_0x25c928);return _0x866312['register']('particle',t1),_0x866312['getProgram']('particle',_0x102a84,_0x5e2569,this['userId']);}}const E_=[[-(0x1c9c+-0xa96+-0x1205),-(-0x2598*0x1+-0xbbc+0xad*0x49)],[-0x267*-0x3+-0x1f35+-0x5*-0x4cd,-(-0x1*0x14b6+-0x283*0x1+0x173a)],[-0x1d*-0x3+-0x595*0x5+0x1b93,0x5*-0x359+0x17b+0xf43],[-(0x229e+0xd*0x8b+0x7*-0x5f4),-0x1*0x1953+-0x2*-0x1261+-0xb6e]];function Qt(_0x1ee8db,_0x21ae02,_0x39fe65,_0x134a3e,_0xd90b2a=Ke,_0x5067a8,_0x36b20f){let _0x219f3c=de;_0x36b20f&&(_0xd90b2a===Se||_0xd90b2a===rs)&&(_0x219f3c=st);const _0x396fdc=new he(_0x1ee8db,{'width':_0x21ae02,'height':_0x39fe65,'format':_0xd90b2a,'cubemap':!(0x918+0x23*0x1b+-0x4*0x332),'mipmaps':!(0x16b3+0x1*0xb31+-0x21e3),'minFilter':_0x219f3c,'magFilter':_0x219f3c,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x9d5654=_0x396fdc['lock']();if(_0xd90b2a===Se||_0xd90b2a===rs){const _0xfb2d5a=new Uint8Array(_0x134a3e['length']);for(let _0x1a2a80=0x4b3*0x7+-0x13ab*0x1+-0xd3a*0x1;_0x1a2a80<_0x134a3e['length'];_0x1a2a80++)_0xfb2d5a[_0x1a2a80]=_0x134a3e[_0x1a2a80]*_0x5067a8*(0x8*0x113+0x2*0x397+-0x61*0x27);_0x134a3e=_0xfb2d5a;}return _0x9d5654['set'](_0x134a3e),_0x396fdc['unlock'](),_0x396fdc;}function C_(_0x3e4fdf){return Math['max'](Math['min'](_0x3e4fdf,0x1379+-0x15c1*0x1+0x249),-0x114*0x17+-0x1e3e+0x370a);}const M_=new Cs([0x10de+0xc7e+-0x1*0x1d5c,-0x1*-0x230d+-0x19f*-0xf+-0x13ca*0x3,0x1209+0xbd2*0x2+-0x29ac,-0x1*-0x1695+-0x14f5+-0x10*0x1a]),P_=new Cs([0x1*0x127f+0x79f*0x5+-0x40b*0xe,-0x1336+0x19d*-0xd+0x4*0xa0c,-0x3*-0x44b+0x1e7*-0xc+0x9f4,-0x1ed8+0x1699+0x840]),R_=new jr([0x959*0x2+0x3f1*0x1+-0x5*0x487,-0x7fc+0x2525+-0x1d29*0x1,0x2eb+-0x17d7*0x1+0x14ed,-0x1a76*-0x1+-0x5*-0x39+-0x1b93],[-0x14d0+-0x67*-0x47+-0x7c1*0x1,0xd7b+0x2152+0x2ecd*-0x1,0x14db+0x1a32+-0x2f0c,-0x441*-0x2+-0x9*-0x10e+-0x1200],[0x1c3f+0x9b3+-0x25f2,-0x872+0x2*-0x14a+0x1*0xb06,-0x16d5*0x1+-0xfe7+0x26bd,0x2fd+0xb5*0x2b+-0x2164]),i1=new jr([-0x150b+-0x2*0x3f6+-0x1*-0x1cf7,-0x169*-0x13+0xa2a+-0x24f4,0x14cb+0x1d18+0x4fd*-0xa,-0x7*0x530+0x1a87*0x1+-0x1*-0x9ca],[0x1*-0xf26+-0x4bc+0x13e2,-0x26c8+0x2*0x49a+-0x1*-0x1d95,-0xa09*-0x1+0x651+-0x1059*0x1,0x11*-0x8a+0x39*0xb+-0x5*-0x158],[-0x6*-0x5e7+0x9*-0x27e+-0xcfc,0x1*0x955+0x1*-0x542+-0x412,-0x2289+-0xe9b+0x3125,0x1*0x49+0x1*0x248f+0x24d7*-0x1]);let ii=-0x1*0x523+-0x1651*0x1+0x1b76;const zl=0x1e8d+-0x20c0+0x237,ri=new Float32Array(-0x1*-0x1c61+-0xa35+-0x1229*0x1),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x27c33c,_0x5cb815){fh[_0x27c33c]!==void(-0x1*-0x1994+-0x10cb+-0x8c9)&&fh[_0x27c33c]!==null?Hu[_0x27c33c]=fh[_0x27c33c]:Hu[_0x27c33c]=_0x5cb815;}function O0(_0x3afe29,_0x276579,_0x16b6a6){return(_0x3afe29*(0xc7*-0x7+0x1b5*0x13+-0x19ff)<<-0x1c*0x52+0x7*0xdf+-0x1*-0x2ef|_0x276579*(-0x22d6+-0xd*-0x2b6+-0x97*-0x1)<<-0x9d*-0x3+0x22c8+-0x2497|_0x16b6a6*(0x258c+-0x689*-0x3+-0x3828))/(-0x1*-0x369+-0x1551+0x11e9<<0x1af3+0x1fdb+-0x3ab6);}function D_(_0x4e3f78,_0x15b397){const _0x46078f=_0x4e3f78['length']/(0x1*0x3fd+-0x1b76+0x4*0x5df),_0x18cf2f=new Array(_0x46078f*(-0xa7*0x39+-0x3b9*0x3+0x305e));for(let _0x29da56=-0x180*0xa+0x19d0+0x568*-0x2;_0x29da56<_0x46078f;_0x29da56++)_0x18cf2f[_0x29da56*(0x13a9*0x1+-0xe33+0x11*-0x52)]=_0x4e3f78[_0x29da56*(-0xb7c+0xe*0x6d+-0x6d*-0xd)],_0x18cf2f[_0x29da56*(-0x425*-0x3+-0x1463*-0x1+-0x20ce)+(-0x432*-0x2+0x2d8+-0xb3b)]=_0x4e3f78[_0x29da56*(0x575+-0x9c7+-0x455*-0x1)+(-0x25e9+0x1cd9+-0x911*-0x1)],_0x18cf2f[_0x29da56*(0x16b*0x7+-0x2010+0x1627)+(-0x2*0x381+0x148b+-0x1*0xd87)]=_0x4e3f78[_0x29da56*(-0x2508+0x128*0x6+0xa09*0x3)+(-0x2684+-0x1*0x1951+0x3fd7)],_0x18cf2f[_0x29da56*(0x182c+0x14c1+-0x2ce9)+(-0x1217+0x157d+-0x363)]=O0(_0x15b397[_0x29da56*(0x14bb+0x11bc+-0x2674)],_0x15b397[_0x29da56*(-0xa7d+-0x13*-0x52+0x46a*0x1)+(0x1*0x907+-0x614*-0x6+-0x2d7e)],_0x15b397[_0x29da56*(-0x3*0x26b+-0x1*-0x685+-0xbf*-0x1)+(0x131+0x169e+-0x17cd)]);return _0x18cf2f;}function r1(_0x4d4acd,_0x23caf0){const _0x10d426=new Array(_0x23caf0['length']*(0x8*0x2c9+-0x580+0x1d*-0x94));for(let _0x267f79=-0x2314+-0x23a2+0x46b6;_0x267f79<_0x23caf0['length'];_0x267f79++)_0x10d426[_0x267f79*(0x1b1a*0x1+0x5ec+-0x2102)]=_0x4d4acd[_0x267f79*(-0x16e3+-0x1c0b+-0x26d*-0x15)],_0x10d426[_0x267f79*(0x47d*-0x1+-0x1*0x5ce+0x1d*0x5b)+(-0x14b4+0x1*-0x10af+0x2564)]=_0x4d4acd[_0x267f79*(-0x1cc+-0x8f*0x1+0x25e)+(-0xd8c*0x2+-0x11b*0x3+0x1e6a)],_0x10d426[_0x267f79*(0xef*0x24+-0x857+-0x1941)+(-0x5f*0x25+-0x1*0x4fd+0x11a*0x11)]=_0x4d4acd[_0x267f79*(0x22ee+-0x10f*-0x1b+0x2*-0x1fc0)+(0x389*-0x5+0x2*-0x4bd+0x11*0x199)],_0x10d426[_0x267f79*(-0x1bbf+-0x25ed*-0x1+0x2*-0x515)+(0x1f*-0x55+0x1f*0x65+-0x1ed)]=_0x23caf0[_0x267f79];return _0x10d426;}function n1(_0x5b6778,_0x1ed262,_0x1be50,_0x1b7525,_0xde26ce){const _0x42610d=new Array(_0x5b6778['length']*(-0x1974+-0x450*-0x7+-0x8*0x97));for(let _0x1c35ff=-0x2*0x1334+0x13a2+-0xb2*-0x1b;_0x1c35ff<_0x5b6778['length'];_0x1c35ff++)_0x42610d[_0x1c35ff*(-0x6e+-0xc4a+0xcbc)]=_0x5b6778[_0x1c35ff],_0x42610d[_0x1c35ff*(-0x17b1+-0xced*-0x1+-0x3*-0x398)+(0xf95*0x1+-0x25f+0x45*-0x31)]=_0x1ed262[_0x1c35ff],_0x42610d[_0x1c35ff*(0x21eb+-0x17*0x58+-0x19ff)+(0x8*0x41+-0x23b0*0x1+0x21aa)]=0x15ea+0x78f+0x3*-0x9d3,_0x42610d[_0x1c35ff*(-0x17ce+0x17*-0x58+0x1fba)+(-0x137e+-0x7e+-0x13ff*-0x1)]=O0(_0x1be50[_0x1c35ff],_0x1b7525[_0x1c35ff],_0xde26ce[_0x1c35ff]);return _0x42610d;}function a1(_0x4f60e7,_0x3fe43a){const _0x571db1=new Array(_0x4f60e7['length']*(0x195b+-0x53*0x59+-0x5a*-0xa));for(let _0xf5e9ba=0xfcb+0x1f*-0x41+-0xd*0x9c;_0xf5e9ba<_0x4f60e7['length'];_0xf5e9ba++)_0x571db1[_0xf5e9ba*(-0x19a2+-0x98c+0x2332)]=_0x4f60e7[_0xf5e9ba],_0x571db1[_0xf5e9ba*(-0x2*0x13c+0x1ceb+-0x1*0x1a6f)+(0x25cf+0x771+-0x2d3f)]=_0x3fe43a[_0xf5e9ba],_0x571db1[_0xf5e9ba*(0x46b+0xf9+0x20*-0x2b)+(-0x1fa*0xc+-0x149d*-0x1+-0x1*-0x31d)]=-0x92*-0x25+0xa61+0x1*-0x1f7b,_0x571db1[_0xf5e9ba*(-0x1c04+0x224c+-0x644)+(-0x1fc*-0xd+0x1e71+-0x2*0x1c1d)]=-0x608+0x1*-0xd6d+0x1375;return _0x571db1;}function o1(_0x5c7846){const _0x54eaef=Math['max'](_0x5c7846['rate'],_0x5c7846['rate2'])*_0x5c7846['numParticl'+'es']+_0x5c7846['lifetime'];return Date['now']()+_0x54eaef*(-0x26*0x3c+0x6*0x17d+0x3e2);}function l1(_0x4272fa,_0x293e67){const _0xa9ae83=new Float32Array(_0x4272fa['length']);for(let _0x1f79dd=0x1016+0x5*-0x3f1+0x39f;_0x1f79dd<_0x4272fa['length'];_0x1f79dd++)_0xa9ae83[_0x1f79dd]=_0x4272fa[_0x1f79dd]-_0x293e67[_0x1f79dd];return _0xa9ae83;}function Fr(_0x427596,_0x2fd17b){const _0x4227b2=_0x2fd17b['length'],_0x94274b=_0x427596['length']/_0x4227b2;for(let _0x12a2b8=-0x1f87*-0x1+0x516*-0x1+0x3c7*-0x7;_0x12a2b8<_0x94274b;_0x12a2b8++)for(let _0x3cd361=-0x7aa+0x4f*0x47+0xe3f*-0x1;_0x3cd361<_0x4227b2;_0x3cd361++){const _0x5e2f1f=Math['abs'](_0x427596[_0x12a2b8*_0x4227b2+_0x3cd361]);_0x2fd17b[_0x3cd361]=Math['max'](_0x2fd17b[_0x3cd361],_0x5e2f1f);}}function h1(_0x449bc7,_0x16ab2a){const _0x21120b=_0x16ab2a['length'],_0x203db2=_0x449bc7['length']/_0x21120b;for(let _0x1a3c2d=-0x10bb*0x1+-0x1917*-0x1+-0x85c;_0x1a3c2d<_0x203db2;_0x1a3c2d++)for(let _0x289811=-0xa0e*0x3+-0x1*0x49d+-0x133*-0x1d;_0x289811<_0x21120b;_0x289811++)_0x449bc7[_0x1a3c2d*_0x21120b+_0x289811]/=_0x16ab2a[_0x289811]===0x18ff+0x13af+-0x1*0x2cae?-0x9*0x2fe+-0x1ea+0x1cd9:_0x16ab2a[_0x289811],_0x449bc7[_0x1a3c2d*_0x21120b+_0x289811]*=0x1*0x10d2+0x14e+-0x3a0*0x5+0.5,_0x449bc7[_0x1a3c2d*_0x21120b+_0x289811]+=0x1a32+-0x1*-0x7da+-0x220c*0x1+0.5;}function Ar(_0x76f41f,_0x33b2f1,_0x5cc1aa){const _0x3a67d6=l1(_0x33b2f1,_0x76f41f);return Fr(_0x3a67d6,_0x5cc1aa),h1(_0x3a67d6,_0x5cc1aa),_0x3a67d6;}const c1=new Ot();class d1{constructor(_0x50948e,_0x4c33ea){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x50948e;const _0x23388c=_0x50948e,_0x446583=-0x1f30+-0x116*-0x13+0xaae;this['precision']=_0x446583,this['_addTimeTi'+'me']=0x12*-0x103+-0x154*0x14+0x2cc6,Hu=this,fh=_0x4c33ea,re('numParticl'+'es',0x577+0x28+-0x59e),this['numParticl'+'es']>_0x50948e['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x50948e['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x50948e['maxTexture'+'Size']),re('rate',0xcc9+0x1190+-0x1e58),re('rate2',this['rate']),re('lifetime',0x2090+0x214a+-0x41a8),re('emitterExt'+'ents',new T(0x1d1f+0x1*-0x59+-0x1cc6,0x4*-0x98+-0x8cd+0xb2d,0x5da+-0x79d*-0x4+0x3*-0xc1a)),re('emitterExt'+'entsInner',new T(0x2*0xd72+0x612+-0x20f6,-0x134d+0x3*-0x87f+0x2cca,-0xdfb*0x1+0x1576+-0x17f*0x5)),re('emitterRad'+'ius',-0x2454+0x15df+0xe75),re('emitterRad'+'iusInner',0x1d0e+0x1890+0x359e*-0x1),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',0x17cf+0x14f*0x9+0x2395*-0x1),re('wrap',!(-0x2a6+0x7*-0x412+0x1f25)),re('localSpace',!(-0x2de*0x7+-0x372+-0xdf*-0x1b)),re('screenSpac'+'e',!(0x1095+-0x2*-0x11a7+-0x1d*0x1ca)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(0xab3+-0x1*-0xa7f+-0x1532)),re('preWarm',!(-0x335+-0x1807+0x1b3d)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(0xab2+-0x1*0x2f1+-0x7c0)),re('halfLamber'+'t',!(-0x1a31+-0xaec+0x251e)),re('intensity',-0x101f+0xafb+-0x1*-0x525),re('stretch',-0xee5*0x1+0x1856+-0x971*0x1),re('alignToMot'+'ion',!(-0x14d4+0x42c+0x10a9)),re('depthSofte'+'ning',-0x457*0x3+0x114f+-0x16e*0x3),re('mesh',null),re('particleNo'+'rmal',new T(-0x367*0xb+-0x24*0xc1+0x4091,-0x12b5+0x3*0x897+0xd*-0x8b,0x13f5*0x1+-0x17*-0xc1+-0x254c)),re('orientatio'+'n',Uh),re('depthWrite',!(0x14e+0x1677*-0x1+0x152a)),re('noFog',!(0x10*0x28+-0x2d*0xa6+0x1aaf)),re('blendType',Kt),re('node',null),re('startAngle',0x164e+0x4*0x691+0x1849*-0x2),re('startAngle'+'2',this['startAngle']),re('animTilesX',-0x248*-0xf+-0x26ae+0x477),re('animTilesY',0x3*0x303+0x22af+-0x2bb7),re('animStartF'+'rame',0x8f1+-0x3a*-0x35+-0x14f3),re('animNumFra'+'mes',0x335*0x2+0x32a+0x3*-0x331),re('animNumAni'+'mations',0x207*-0xe+-0xc6b+0x28ce),re('animIndex',-0x867+-0x2f6*0x1+0xb5d),re('randomizeA'+'nimIndex',!(0x4*0x647+0x25*-0x21+-0x1456)),re('animSpeed',0x2*-0x8fb+-0xe59+0x2*0x1028),re('animLoop',!(0x2*0x417+-0x513*-0x2+-0x66*0x2e)),this['_gpuUpdate'+'r']=new JM(this,_0x23388c),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x26b*-0x2+0x1b*0xa7+-0x1670*0x1),this['wrapBounds'+'Uniform']=new Float32Array(-0x1a*0x4+-0x2670+0x7*0x58d),this['emitterSca'+'leUniform']=new Float32Array([0x17d7+-0x93*0x7+0x13d1*-0x1,0xfe1+0x3*-0xcbd+-0x7*-0x331,-0xfb5*0x1+0x3bb*0x8+-0xe22]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0xb*-0x31a+0x1106+0x111a),this['animParams']=new Float32Array(0x27*-0xc1+-0x1c3f*0x1+-0x1*-0x39aa),this['animIndexP'+'arams']=new Float32Array(-0x1c86*0x1+-0x1c6e+-0x38f6*-0x1),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x22d2+-0x792+-0x1b3f),this['useMesh']=!(0x2665+0x492*-0x2+-0x1d41),this['useCpu']=!_0x50948e['supportsGp'+'uParticles'],this['pack8']=!(0x1e4c+0xac*-0x1b+-0xc28*0x1),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=-0x6d3*0x5+0x2*0xb19+-0x1*-0xbed,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x8a2+0x1f03+-0x27a5,this['numParticl'+'eIndices']=0x1e8b+0x8*-0x38f+0x213*-0x1,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x1413+-0x847+-0xa*0x12e,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x667*0x3+0x12*-0x10d+-0x131*-0x20)/(0x18c7+-0x3*0x241+-0x11c8),this['maxSubStep'+'s']=-0x1ab9+-0x2410*-0x1+0x94d*-0x1,this['simTime']=-0x2f*-0x1c+-0xfc2+0xa9e,this['simTimeTot'+'al']=-0xe5f+0x36c+0xaf3,this['beenReset']=!(0x362*-0x1+-0x41*-0x79+-0x1b56),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x234afd=new Float32Array(-0x48*-0x9+0x1a46+-0x18ce);for(let _0x1dcea0=0x1565+-0x5*0x1b8+-0x1*0xccd;_0x1dcea0<-0x1f9*-0xe+-0x2435+0x5*0x1bb;_0x1dcea0++)for(let _0xbdc482=-0x406*-0x1+0x49*0x1+-0x1*0x44f;_0xbdc482<0x2226+0x1*-0x23de+0x1c8;_0xbdc482++){const _0x54627e=_0xbdc482+(-0x2*0x559+0xa5*-0x39+-0x170*-0x21)-(0x1*-0x2383+0x6*-0x6b+-0x3*-0xcaf+0.5),_0x5d9922=_0x1dcea0+(0x16ae*0x1+-0xe8b+-0x2b6*0x3)-(0x1363+-0x1829+0x3*0x19a+0.5),_0x4c4e12=C_(-0x2704+-0xe8+-0x1*-0x27ed-C_(Math['sqrt'](_0x54627e*_0x54627e+_0x5d9922*_0x5d9922)/(-0x337*0x1+-0x1*-0x137+0x210))-(-0x1800+0x1a88+-0x144*0x2+0.5)),_0x2361b4=_0x1dcea0*(0xcb*-0x7+-0x18b0+0x1e4d)+_0xbdc482;_0x234afd[_0x2361b4*(0x1e6c+0x99+0x1f01*-0x1)]=0x1578+0x1314*-0x1+-0x263,_0x234afd[_0x2361b4*(-0xc17*0x2+0x281+0x269*0x9)+(0xbfa*0x1+0x255c+0x3155*-0x1)]=-0x2186+-0x778+0x5*0x833,_0x234afd[_0x2361b4*(-0x30e*0x4+0x82*-0x26+0x1f88)+(-0xcb5*0x2+-0x2383*0x1+0x3cef*0x1)]=0x1*-0xa93+0x5*0x1cf+-0x83*-0x3,_0x234afd[_0x2361b4*(0x2*0x27c+0x195c+0x8*-0x3ca)+(0x66a*-0x2+0x3*-0x87c+0x264b*0x1)]=_0x4c4e12;}const _0x5d6419=Qt(this['graphicsDe'+'vice'],0x1*-0x3c7+-0x351+0x728,-0x6f*0x2e+-0x3ea*0x3+0x1fc0,_0x234afd,rs,0x7f0+-0x1324+-0x13*-0x97,!(0x67*0x11+-0x1743+0x106c));return _0x5d6419['minFilter']=st,_0x5d6419['magFilter']=st,_0x5d6419;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0xc*-0x1d9+0x23e0+-0x3a0b)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0xc7d*-0x1+0x2155+-0x2dd1)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x1ca2+-0x18ea+-0x13d*0x3)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x5b5*-0x3+-0x1d*0x29+-0x67*0x1f)),this['worldBound'+'sAdd']['x']+=0x1421*-0x1+0x1bb9*-0x1+0x2fda+0.5,this['worldBound'+'sAdd']['y']+=-0x119*0x11+-0x39e*-0x8+-0xa47+0.5,this['worldBound'+'sAdd']['z']+=0x339+-0x22e3+0x1faa+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x5dba69=!(-0xcbc*-0x1+0x239b*-0x1+0x16e0);this['emitterSha'+'pe']===Vs?_0x5dba69=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x5dba69=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x5dba69&&this['calculateL'+'ocalBounds']();}const _0x5d7def=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x5d7def),this['worldBound'+'sTrail'][0x1*0x1c73+-0x25bd+0x52*0x1d]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1fa1+-0x853*0x2+-0xefa]['add'](this['worldBound'+'sNoTrail']);const _0x255d61=this['simTimeTot'+'al'];_0x255d61>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x61*0x33+-0xc4f+-0xfd1*-0x2]['copy'](this['worldBound'+'sTrail'][-0x5*0x4e1+0xef*0x26+-0xb14]),this['worldBound'+'sTrail'][-0x2*0x3e2+-0x567+-0x696*-0x2]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x255d61+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x24be+-0x67*0x2e+-0x123c]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x18ab+-0xf6f*0x1+0x281c),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5d7def),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5d7def)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x193e+-0x1*0x12e3+-0x65a-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x17fb*0x1+-0x2b*-0xe1+-0xdd0]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x20f3+0x25e1+-0x1*0x46d3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x4*-0x25+0x2*0x4d1+-0x51b*0x2]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x28*-0xf7+0x932+-0x58*0x8b),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0xed*-0x28+0x27*-0x14+0x2814,this['timeToSwit'+'chBounds']=0x173b+-0x2*-0x4c7+0x1*-0x20c9);}['calculateL'+'ocalBounds'](){let _0x3fea26=Number['MAX_VALUE'],_0x89b8b5=Number['MAX_VALUE'],_0xadc74b=Number['MAX_VALUE'],_0x10e885=-Number['MAX_VALUE'],_0x6f6fae=-Number['MAX_VALUE'],_0x4d9f74=-Number['MAX_VALUE'],_0x2580ee=-0x6af*0x4+0x202d+0x571*-0x1,_0x5dc2ca=0x2*0xd85+0x11bf*0x2+-0x3e88;const _0xccd593=this['lifetime']/this['precision'],_0x190351=[this['qVelocity'],this['qVelocity2']],_0x1d2cd8=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x1f561b=[-0x1850+0x582+0x12ce,-0x7e1*0x3+-0x3fd*-0x9+0xc42*-0x1],_0x557d90=[0x9d*-0x7+0x1884+-0x1*0x1439,0x90d*-0x2+0xa1d+0x7fd],_0x33037c=[0xd77+-0x2*-0x76b+0x69*-0x45,-0x760+-0x1a*0x11b+0x241e],_0x1293be=[0x178b+-0x5*0x2db+-0x944,-0xc98+-0xad*-0xb+0x529*0x1],_0x536e7a=[-0x12f*0x9+0x432*0x7+-0x12b7,0x3b3*-0x1+0x641*-0x1+0x9f4];let _0x5a58b1,_0x121e00,_0xd1edf5;for(let _0x4ff6eb=-0xe4c*-0x1+0x13cc+-0x2218;_0x4ff6eb<this['precision']+(-0x1c*0x6d+0x1*-0x1fac+-0x2b99*-0x1);_0x4ff6eb++){const _0x35bf06=Math['min'](_0x4ff6eb,this['precision']-(-0x1d*0x137+-0x39*-0x97+-0x1*-0x19d));for(let _0x55f773=0x1*0x1be9+-0x1b76+0x17*-0x5;_0x55f773<-0x3a6*-0xa+-0x11*-0x69+0x635*-0x7;_0x55f773++)_0x5a58b1=_0x1d2cd8[_0x55f773][_0x35bf06*(0xf43*-0x1+-0x6d9*-0x1+0x86d*0x1)+(0x5*-0x72b+0x1adc+0x8fb)]*_0xccd593+_0x1f561b[_0x55f773],_0x121e00=_0x1d2cd8[_0x55f773][_0x35bf06*(-0xc3b*-0x3+-0x1ba0+-0x90e)+(0x19d5+-0x2*0x10a6+-0x1de*-0x4)]*_0xccd593+_0x557d90[_0x55f773],_0xd1edf5=_0x1d2cd8[_0x55f773][_0x35bf06*(-0x21d8+-0x1*0xa5+-0x2280*-0x1)+(0x128c+0x1038+0x2*-0x1161)]*_0xccd593+_0x33037c[_0x55f773],_0x3fea26=Math['min'](_0x5a58b1,_0x3fea26),_0x89b8b5=Math['min'](_0x121e00,_0x89b8b5),_0xadc74b=Math['min'](_0xd1edf5,_0xadc74b),_0x10e885=Math['max'](_0x5a58b1,_0x10e885),_0x6f6fae=Math['max'](_0x121e00,_0x6f6fae),_0x4d9f74=Math['max'](_0xd1edf5,_0x4d9f74),_0x1f561b[_0x55f773]=_0x5a58b1,_0x557d90[_0x55f773]=_0x121e00,_0x33037c[_0x55f773]=_0xd1edf5;for(let _0x362494=0x1*-0x1cf6+-0x4df*0x2+-0x26b4*-0x1;_0x362494<0x25d*-0x1+0x443*-0x7+-0x101a*-0x2;_0x362494++)_0x536e7a[_0x362494]+=_0xccd593*Math['sqrt'](_0x190351[_0x362494][_0x35bf06*(0x218e+-0x1*-0x1f49+-0x40d4)+(0xa84+-0x1d8a*-0x1+-0x280e)]*_0x190351[_0x362494][_0x35bf06*(0xf05+0x11c2+-0xaec*0x3)+(-0x1553+0x793+0xdc0)]+_0x190351[_0x362494][_0x35bf06*(0xb*-0x21f+0x1*-0x1c13+-0x1*-0x336b)+(0x1809+0x1e6c+-0x3674)]*_0x190351[_0x362494][_0x35bf06*(-0xab7+0x1*0xa69+0x51)+(-0x599+0x1*0x25f7+0x679*-0x5)]+_0x190351[_0x362494][_0x35bf06*(0x167c+-0x1*0x1cf1+-0x18*-0x45)+(-0x2656*-0x1+0x248f*0x1+-0x4ae3)]*_0x190351[_0x362494][_0x35bf06*(0x2109+-0x1f19+-0x1d*0x11)+(0x18f5*0x1+0xf3c+-0x282f)]);_0x1293be[0x1a26+-0x107+-0x191f]+=this['qRadialSpe'+'ed'][_0x35bf06]*_0xccd593,_0x1293be[-0x878+0x1d03+0x16*-0xef]+=this['qRadialSpe'+'ed2'][_0x35bf06]*_0xccd593,_0x2580ee=Math['max'](_0x2580ee,Math['max'](Math['abs'](_0x1293be[0xb30*-0x3+0x8a2+0x18ee]),Math['abs'](_0x1293be[0x1e3b+-0x2526+-0x2*-0x376]))),_0x5dc2ca=Math['max'](_0x5dc2ca,this['qScale'][_0x35bf06]);}this['emitterSha'+'pe']===Vs?(_0x5a58b1=this['emitterExt'+'ents']['x']*(0x1567+-0x727*0x5+0xe5c+0.5),_0x121e00=this['emitterExt'+'ents']['y']*(-0x1b18+-0x1*-0xf25+0xbf3+0.5),_0xd1edf5=this['emitterExt'+'ents']['z']*(0x373+0x1cfe+0x67d*-0x5+0.5)):(_0x5a58b1=this['emitterRad'+'ius'],_0x121e00=this['emitterRad'+'ius'],_0xd1edf5=this['emitterRad'+'ius']);const _0x21ceea=Math['max'](_0x536e7a[0xdab*-0x2+-0xe6d+-0x1*-0x29c3],_0x536e7a[0x2063*0x1+0x1017+-0x3079]);Ul['x']=_0x3fea26-_0x5dc2ca-_0x5a58b1-_0x2580ee-_0x21ceea,Ul['y']=_0x89b8b5-_0x5dc2ca-_0x121e00-_0x2580ee-_0x21ceea,Ul['z']=_0xadc74b-_0x5dc2ca-_0xd1edf5-_0x2580ee-_0x21ceea,Vl['x']=_0x10e885+_0x5dc2ca+_0x5a58b1+_0x2580ee+_0x21ceea,Vl['y']=_0x6f6fae+_0x5dc2ca+_0x121e00+_0x2580ee+_0x21ceea,Vl['z']=_0x4d9f74+_0x5dc2ca+_0xd1edf5+_0x2580ee+_0x21ceea,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x52595a=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x52595a['maxVertexT'+'extures']<=-0x1*-0x269e+-0x3*-0x14d+-0x2a84||_0x52595a['fragmentUn'+'iformsCoun'+'t']<0x343*-0x7+0x2*-0xe75+0x33ff||_0x52595a['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x52595a['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?0x1b83*0x1+-0x1*0xe12+-0xd6d:0x1b05+0xe07*-0x1+-0x115*0xc,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x189a+0x1*-0x1e15+0x57b]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x21f3+-0x1*0x1c8b+0x14d5*0x3]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x504*0x5+-0x1a8f+0x33a5),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x2e7fdd=-0xf9f+-0x1*0x1b8e+0x2b2d;_0x2e7fdd<this['numParticl'+'es'];_0x2e7fdd++)this['vbToSort'][_0x2e7fdd]=[0x1*-0x193a+-0x1302+-0x161e*-0x2,-0x49*-0x82+0x894+-0x2da6];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x541594=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[-0x17cf+-0x6*0x67f+0x3ec9]=this['emitterExt'+'ents']['x']!==0x243f+0xd1*0xa+-0x2c69?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x65*0x55+-0x560+0x10b*-0x1b,ri[-0xb58+-0x132+0xc8b]=this['emitterExt'+'ents']['y']!==-0xb88+-0x1*0x107b+0x1c03?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x1f2b+0x1*-0x4a9+0x1a82*-0x1,ri[-0x12a*-0xb+-0x241+-0xa8b]=this['emitterExt'+'ents']['z']!==0x1dbe+-0x537+-0x1887?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0xf7e+0x24f2+-0x1574);for(let _0x296ec4=0x1*-0x1beb+0x2427+-0x83c;_0x296ec4<this['numParticl'+'es'];_0x296ec4++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x541594,_0x296ec4),this['useCpu']&&(this['particleTe'+'x'][_0x296ec4*zl+(-0x94b*-0x2+0xab5+-0x3a9*0x8)+this['numParticl'+'esPot']*(0x1b0b+-0x41f*0x8+0x5ef)*zl]=-0x905+-0x1c01+0x2507);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x95b23d=0x24cc+-0x1*-0x51e+0x172*-0x1d;_0x95b23d<this['particleTe'+'xStart']['length'];_0x95b23d++)this['particleTe'+'xStart'][_0x95b23d]=this['particleTe'+'x'][_0x95b23d];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x52595a,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x1*-0x1611+-0x874*0x1+-0x2*-0xf43,!(-0x448+0x223d+0x11c*-0x1b)),this['particleTe'+'xOUT']=Qt(_0x52595a,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x2*-0x10e4+-0x1471*-0x1+-0xd58*-0x1,!(0x47d+0x9a9+-0xe25)),this['particleTe'+'xStart']=Qt(_0x52595a,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,-0x4d*0x29+0x265d+-0x1a07,!(-0x1*-0x1c7f+-0x1*0x486+-0x17f8))):(this['particleTe'+'xIN']=Qt(_0x52595a,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x52595a,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x52595a,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x6*-0x2ee+-0x175*-0x3+0xd36)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x2ef+-0x73*-0xb+-0x201)}),this['swapTex']=!(-0x1331+0x13c3+0x5*-0x1d));const _0x37d087=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x26e047=_0x37d087+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x44e8c8=_0x37d087+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x1aac72=_0x37d087+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x37b788='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x52595a,X['fullscreen'+'QuadVS'],_0x26e047,'ParticleUp'+'dateRespaw'+'n-'+_0x37b788),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x52595a,X['fullscreen'+'QuadVS'],_0x44e8c8,'ParticleUp'+'dateNoResp'+'awn-'+_0x37b788),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x52595a,X['fullscreen'+'QuadVS'],_0x1aac72,'ParticleUp'+'dateStop-'+_0x37b788),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0xc83+-0x3*-0xc1c+-0x9*0x2a5,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x11c0+-0x2*-0xdd8+-0x2*0x16b8]['numIndices']:-0x5*-0x3cb+0x1628+-0x1*0x2919,this['_allocate'](this['numParticl'+'es']);const _0x5962a5=new Ie(_0x52595a);_0x5962a5['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x5962a5['indexBuffe'+'r'][0x1fdc+0x2*0x1215+-0x4406]=this['indexBuffe'+'r'],_0x5962a5['primitive'][0x80a+0x8b*0x3+0x113*-0x9]['type']=Ms,_0x5962a5['primitive'][-0x291*-0xd+-0x95f*-0x1+-0x2abc]['base']=0x224b+0xda0*-0x2+-0x70b,_0x5962a5['primitive'][0x2239+0x1fd1+-0x420a]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x5962a5['primitive'][0x2*-0xb93+0x5*0x2b+-0x1*-0x164f]['indexed']=!(-0x2444+-0x9*0x371+0x1*0x433d),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x4c30d0=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x1fbe+-0xa26+0x4*-0x566);this['meshInstan'+'ce']=new Le(_0x5962a5,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0xad6+0xde*0x2b+-0x1*0x301f),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0xccc+-0xffe+0x1cca),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x7fc*-0x2+-0xd0e+-0x5*0x95),this['meshInstan'+'ce']['visible']=_0x4c30d0,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x8a1*-0x3+0x1b93+0x1*-0x1b0,!(0x135d*-0x2+0x1*0x22e1+-0x1*-0x3da)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0xb43*0x1+0x1c1*-0x7+0x178b&&(this['animTilesX']>-0xa33*0x2+0x14b4+-0x4d||this['animTilesY']>-0x15f+0x2*0xca6+-0x17ec)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x17edd6=this['precision'],_0x4d1caf=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x17edd6),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x17edd6),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x17edd6,0x15d*-0x11+0x11b6+0x577,-0x2e3*0xb+0x2ff*-0x2+0x25c0),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x17edd6),this['qScale']=this['scaleGraph']['quantize'](_0x17edd6),this['qAlpha']=this['alphaGraph']['quantize'](_0x17edd6),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x17edd6),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x17edd6),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x17edd6),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x17edd6,0x22e2+-0x2*-0x847+0x8*-0x66e,-0x16ce*0x1+0xda2+0x9*0x105),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x17edd6),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x17edd6),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x17edd6),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x17edd6);for(let _0x56a3a5=0x1*0xc58+-0xab*0xb+-0x1*0x4ff;_0x56a3a5<_0x17edd6;_0x56a3a5++)this['qRotSpeed'][_0x56a3a5]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x56a3a5]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x1*-0x230d+-0x3*-0x157+-0x270f),this['velocityUM'+'ax']=new Float32Array(-0x18a4+0x2*0xd1d+-0x193),this['colorUMax']=new Float32Array(-0x5*0x9b+0x1*0x1685+-0x1*0x137b),this['rotSpeedUM'+'ax']=[-0xe74+0x1fd*-0xe+0x1525*0x2],this['scaleUMax']=[-0x236e+-0xcf1+0x305f],this['alphaUMax']=[-0x11b3+0x347+0x4*0x39b],this['radialSpee'+'dUMax']=[0xbf4+-0x7*-0x3bf+-0x262d],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x338d7c=[0x142c+0x7*0x511+0x37a3*-0x1,0x10fd+-0x1*0x2051+0x3*0x51c,-0x21d5+0x4*-0x2e+0x228d];Fr(this['qVelocity'],_0x338d7c);const _0x3d3e9c=[-0x17*0xd7+-0x11c7+-0x2*-0x128c,0x4ff*-0x1+-0x6*-0x2c2+-0xb8d,0x1*0x2123+-0x2060+-0xc3];Fr(this['qVelocity2'],_0x3d3e9c);const _0x55f9ab=[0xb42+-0x1355+0x813,0x8*0x27b+0x37*0x89+-0x3147,0x8b5+-0x171e+0x77*0x1f];Fr(this['qLocalVelo'+'city'],_0x55f9ab);const _0x1a057b=[0x1*-0x301+-0x1*0x1021+0x1322*0x1,0x2271+-0xde+-0x23d*0xf,-0x1fdd+-0x4*-0x431+0xf19];Fr(this['qLocalVelo'+'city2'],_0x1a057b);const _0x2ec8bc=[-0x5d2+-0x1215+0x17e7];Fr(this['qRadialSpe'+'ed'],_0x2ec8bc);const _0x3e1891=[-0x1332+-0x1*-0xb0f+0x823];Fr(this['qRadialSpe'+'ed2'],_0x3e1891);let _0x53f6a5=Math['max'](_0x338d7c[0x3d1*0x7+-0x2e*-0x2f+0x2329*-0x1],_0x3d3e9c[-0x6d1+-0x1*-0x1111+0x10*-0xa4]);_0x53f6a5=Math['max'](_0x53f6a5,_0x338d7c[-0xb*0x133+-0x7*0x513+-0x103d*-0x3]),_0x53f6a5=Math['max'](_0x53f6a5,_0x3d3e9c[0x23a*-0x5+-0x1000*-0x1+-0x4dd]),_0x53f6a5=Math['max'](_0x53f6a5,_0x338d7c[-0x17af+-0x2*-0xc96+0x1*-0x17b]),_0x53f6a5=Math['max'](_0x53f6a5,_0x3d3e9c[-0x1*0xf6d+0x16c7+-0x758]);let _0x5e633e=Math['max'](_0x55f9ab[-0x75*-0x8+0x1*0x1365+0x3*-0x7af],_0x1a057b[0x977*-0x2+-0x1377+-0x2665*-0x1]);_0x5e633e=Math['max'](_0x5e633e,_0x55f9ab[-0x5fc+-0x1cf1+0x22ee]),_0x5e633e=Math['max'](_0x5e633e,_0x1a057b[-0x1*-0xfa3+0x1e6c+-0x2e0e]),_0x5e633e=Math['max'](_0x5e633e,_0x55f9ab[-0x1*-0x1a1e+0x1*0x2259+-0x3c75]),_0x5e633e=Math['max'](_0x5e633e,_0x1a057b[-0x147a+-0x1199+0x2615]);const _0x2bcde2=Math['max'](_0x2ec8bc[0x1*-0x1789+0x1b8f+-0xce*0x5],_0x3e1891[0x18a2+0x299+-0x1b3b*0x1]);this['maxVel']=_0x53f6a5+_0x5e633e+_0x2bcde2;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x4d1caf,_0x17edd6,-0x146+-0x5*-0xb0+0x1*-0x229,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x4d1caf,_0x17edd6,0x335+0x5*-0x4cb+0x14c3*0x1,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x4d1caf,_0x17edd6,-0x254e+0x4*-0x74b+-0x1629*-0x3,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x4d1caf,_0x17edd6,-0x10d8+0xae0+-0xb*-0x8b,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x4d1caf,_0x17edd6,-0x31*0x4c+-0xcec+0x1b79,r1(this['qColor'],this['qAlpha']),rs,-0x2*0x6ce+0x139+0xc64,!(-0x8*0x71+-0x383*-0x9+0x1*-0x1c13));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x5b24a2=new s1(this);return _0x5b24a2['name']='EmitterMat'+'erial:'+this['node']['name'],_0x5b24a2['cull']=mt,_0x5b24a2['alphaWrite']=!(-0x1*-0x26f5+0x35*-0x1b+-0x9*0x3b5),_0x5b24a2['blendType']=this['blendType'],_0x5b24a2['depthWrite']=this['depthWrite'],_0x5b24a2;}['resetMater'+'ial'](){const _0x5cfcf5=this['material'];_0x5cfcf5['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x5cfcf5['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x5cfcf5['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x5cfcf5['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x5cfcf5['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x5cfcf5['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x5cfcf5['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x5cfcf5['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x5cfcf5['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x5cfcf5['setParamet'+'er']('colorParam',this['colorParam']),_0x5cfcf5['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x5cfcf5['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x5cfcf5['setParamet'+'er']('lifetime',this['lifetime']),_0x5cfcf5['setParamet'+'er']('rate',this['rate']),_0x5cfcf5['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x5cfcf5['setParamet'+'er']('seed',this['seed']),_0x5cfcf5['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x210*0x1+-0x1148+0xf38]),_0x5cfcf5['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x2639+-0x109d*-0x1+0x567*0x4]),_0x5cfcf5['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x125*-0x8+0x158*-0x10+0xc58]),_0x5cfcf5['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x5cfcf5['setParamet'+'er']('graphSampl'+'eSize',(-0x977*0x1+-0x13db+0x1d53)/this['precision']),_0x5cfcf5['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x1001+-0x1ec2+0xec2,0xd76+-0x1*0x1759+0x9e4,0x18f6+0x388+0x27*-0xbb])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x5cfcf5['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x5cfcf5['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x5cfcf5['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x1333*-0x1+-0xba*0x18+-0x1c3]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x1011+0x9*0x138+-0x1b08]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x742+-0xcd0+0x590]=this['wrapBounds']['z'],_0x5cfcf5['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x9b1*-0x3+-0x74b*-0x3+0x2*-0x197a&&_0x5cfcf5['setParamet'+'er']('softening',(0x1813+0x3*0xba7+-0x3b07)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0xdc4+-0x190+-0xbd0))),this['stretch']>0x1*-0xe5c+0x17eb*-0x1+-0xef*-0x29&&(_0x5cfcf5['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x2dea6c,_0xd898e7;if(this['orientatio'+'n']===Uh)_0x2dea6c=new Float32Array([0x22d0+0x9fa*-0x1+0x18d5*-0x1,0x117f*0x1+0x10cd+0x1126*-0x2,0x1c3a+-0x7a9+-0x2d*0x75]),_0xd898e7=new Float32Array([-0x169+-0x2*0x1223+0x25af,0x13ca+0x233d+-0x1*0x3707,-0x1eb+-0x5d5*-0x3+-0x1bb*0x9]);else{let _0x57aa18;this['orientatio'+'n']===Xb?_0x57aa18=this['particleNo'+'rmal']['normalize']():_0x57aa18=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x24cc9e=new T(-0x67*0x3d+-0xcc0+0x254c,-0x2187*0x1+-0xbab*0x1+0x2d32,0x2103+0x16e6+0x12a3*-0x3);Math['abs'](_0x24cc9e['dot'](_0x57aa18))===0xe36+-0x12ef+0x4ba&&_0x24cc9e['set'](0x5*0x137+0x14*0x112+-0x1b7b,-0x1d7a+-0x156a+0x1*0x32e4,0x10b5+0x74a*0x1+-0x17fe);const _0xe1eaed=new T()['cross'](_0x57aa18,_0x24cc9e)['normalize']();_0x24cc9e['cross'](_0xe1eaed,_0x57aa18)['normalize'](),_0x2dea6c=new Float32Array([_0x24cc9e['x'],_0x24cc9e['y'],_0x24cc9e['z']]),_0xd898e7=new Float32Array([_0xe1eaed['x'],_0xe1eaed['y'],_0xe1eaed['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x2dea6c),this['material']['setParamet'+'er']('faceBinorm',_0xd898e7);}['_allocate'](_0x161c24){const _0x15683a=_0x161c24*this['numParticl'+'eVerts'],_0x3cccba=_0x161c24*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x2b*-0x9d+-0x22e0+0x1*0x3d3f)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x15683a){const _0x2ee6c2=[];this['useCpu']?_0x2ee6c2['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0xe0d+-0x2c*-0x87+0x1*-0x923:-0x1eb*-0x11+0x632*0x3+-0x332f*0x1,'type':Ee}):(_0x2ee6c2['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x2ee6c2['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x5a12b5=new Et(this['graphicsDe'+'vice'],_0x2ee6c2);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x5a12b5,_0x15683a,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x3cccba);const _0x5ca019=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x2cb4cf,_0x36f17d,_0x18cb64;if(this['useMesh']){_0x2cb4cf=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x36f17d=_0x2cb4cf['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x39bb25=-0xd*0x1db+-0x76f+-0x241*-0xe;_0x39bb25<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x39bb25++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x39bb25]['name']===ns){_0x18cb64=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x39bb25]['offset']/(-0x730+-0x1a23+0x2157);break;}}for(let _0xe61ef3=0xab7+0x24a7+-0x2f5e;_0xe61ef3<_0x15683a;_0xe61ef3++){const _0x548e2d=Math['floor'](_0xe61ef3/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x491c2d=_0xe61ef3%this['numParticl'+'eVerts'];_0x5ca019[_0xe61ef3*(-0xf2*0x10+-0x2c*0x44+0x1ad6)]=_0x2cb4cf[_0x491c2d*_0x36f17d],_0x5ca019[_0xe61ef3*(-0x2088+0x7cd+0x18c1)+(0x1d64+-0x1*-0x76d+-0x24d0)]=_0x2cb4cf[_0x491c2d*_0x36f17d+(0x1*0x1837+-0x11b*0xa+-0xd28)],_0x5ca019[_0xe61ef3*(-0x7*-0x223+-0x18a9*-0x1+-0x7*0x5a8)+(-0x11e7+0x2447+0x92f*-0x2)]=_0x2cb4cf[_0x491c2d*_0x36f17d+(0x4*0x845+-0x1943+0x1*-0x7cf)],_0x5ca019[_0xe61ef3*(0x42*0x56+0xd5d+-0x2383)+(0x7c+0x10aa+-0x1*0x1123)]=_0x548e2d,_0x5ca019[_0xe61ef3*(-0x1526+-0x2356*0x1+0x3*0x12d6)+(0x18bf+0x211+-0x1acc)]=_0x2cb4cf[_0x491c2d*_0x36f17d+_0x18cb64+(-0x481*-0x8+0x1832+-0x3c3a)],_0x5ca019[_0xe61ef3*(0x19b5+0x1cf7+0x2*-0x1b53)+(-0x132f*-0x2+-0x1*-0x2645+-0x4c9e)]=-0x6fb*0x2+-0xc79*0x1+0x1a70-_0x2cb4cf[_0x491c2d*_0x36f17d+_0x18cb64+(-0x3*-0x9b2+0x1bd+0x5*-0x62a)];}else{const _0x5a2427=_0xe61ef3%(-0x2028+-0x3d1*0x7+-0x43*-0xe1);_0x5ca019[_0xe61ef3*(0x1352+-0x20d+-0x277*0x7)]=E_[_0x5a2427][-0x457*0x5+-0xb*0x8+0x759*0x3],_0x5ca019[_0xe61ef3*(0x3b*-0x7f+-0xf35+-0x2c7e*-0x1)+(-0x8*0x260+-0x3*0x6a7+-0x137b*-0x2)]=E_[_0x5a2427][-0xafc+-0x250*-0x2+0x65d],_0x5ca019[_0xe61ef3*(0xc3a+0x386+-0xfbc)+(-0x2*-0xffb+0x1*-0x19f9+0x1*-0x5fb)]=-0x1d1e*0x1+-0x22fe+0x401c,_0x5ca019[_0xe61ef3*(-0x566*0x1+-0x8f2+-0x397*-0x4)+(-0x1482+-0x1ece+0x1*0x3353)]=_0x548e2d;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x5ca019),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x4ecdc7=0x5de+0x163*-0x3+-0x1b5;const _0x3e2d4a=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x2441ae=this['mesh']['indexBuffe'+'r'][-0x87a+-0x7a4+0x80f*0x2];_0x2cb4cf=new Lh[_0x2441ae['format']](_0x2441ae['lock']());}for(let _0x303eac=0x1*-0x138b+-0xc1c+0x1fa7;_0x303eac<_0x161c24;_0x303eac++)if(this['useMesh']){for(let _0x1497ea=0xa23+0x1f6f+-0x22*0x139;_0x1497ea<this['numParticl'+'eIndices'];_0x1497ea++)_0x3e2d4a[_0x303eac*this['numParticl'+'eIndices']+_0x1497ea]=_0x2cb4cf[_0x1497ea]+_0x303eac*this['numParticl'+'eVerts'];}else{const _0x3a6b46=_0x303eac*(-0xa*0x22b+0x5b*0x38+0x1ca);_0x3e2d4a[_0x4ecdc7++]=_0x3a6b46,_0x3e2d4a[_0x4ecdc7++]=_0x3a6b46+(-0x21c5+-0xfe1+-0x29d*-0x13),_0x3e2d4a[_0x4ecdc7++]=_0x3a6b46+(-0x1727+0x1c67+-0x53e),_0x3e2d4a[_0x4ecdc7++]=_0x3a6b46,_0x3e2d4a[_0x4ecdc7++]=_0x3a6b46+(0x615+0x6eb+-0xcfe),_0x3e2d4a[_0x4ecdc7++]=_0x3a6b46+(0x1058+0x1353+-0x518*0x7);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x1*0x15c6+-0x1280*-0x1+-0x2846]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x1b7*0x7+-0x1972+0x2573),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0xe30d00=-0x1357+0x1dcf+-0x1*0xa78;_0xe30d00<this['particleTe'+'xStart']['length'];_0xe30d00++)this['particleTe'+'x'][_0xe30d00]=this['particleTe'+'xStart'][_0xe30d00];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x1cb539=this['loop'];this['loop']=!(-0x127+-0xc27+-0xd*-0x106),this['addTime'](0x10d*0xd+0x6*-0x3bb+0x8b9,!(-0x14f9+0x1aa1+0x1*-0x5a7)),this['loop']=_0x1cb539,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x183a82){const _0x3561c2=_0x183a82/this['lifetime'],_0x58404a=Math['min'](Math['floor'](_0x3561c2*this['precision']),this['precision']),_0x1ef9cb=_0x183a82/_0x58404a;for(let _0x4e14c5=-0x1685+-0x1*-0xbf7+0xa8e;_0x4e14c5<_0x58404a;_0x4e14c5++)this['addTime'](_0x1ef9cb,!(-0xcad*0x1+0x163b+0x1*-0x98d));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x27eb73,_0x441492){const _0x471281=this['graphicsDe'+'vice'],_0x6b7a98=ne();if(this['simTimeTot'+'al']+=_0x27eb73,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0xba9b8f=this['animTilesP'+'arams'];_0xba9b8f[0x1d61*-0x1+0x9ef+0x1372]=(-0x6c*-0x36+0x2574+0x11*-0x38b)/this['animTilesX'],_0xba9b8f[0xe9f*0x1+-0x596+-0x908]=(-0x1*0x21b9+-0x13f3+-0x1*-0x35ad)/this['animTilesY'];const _0x594c1f=this['animParams'];_0x594c1f[-0x1db9+-0x81a+0x25d3]=this['animStartF'+'rame'],_0x594c1f[0x21ef+0xcf0+0x2ede*-0x1]=this['animNumFra'+'mes']*this['animSpeed'],_0x594c1f[-0x6*-0xc7+0x29c+-0xf*0x7c]=this['animNumFra'+'mes']-(0x1*-0x254b+-0x13a*-0x14+0xcc4),_0x594c1f[0xe*-0x2c0+-0x1*0x1c4f+0x1*0x42d2]=this['animNumAni'+'mations']-(-0x8b9*-0x4+0x41f*0x5+-0x377e);const _0x50d806=this['animIndexP'+'arams'];_0x50d806[-0x1b06+0x55b+-0x2b*-0x81]=this['animIndex'],_0x50d806[-0x1b9f*-0x1+-0x9ca+0x475*-0x4]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[0xeb*-0x11+0xbfd*0x3+-0x145c]=this['emitterExt'+'ents']['x']!==0x22*-0xed+0xfc0+0xfba?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1b57+0x1496+-0x2fed,ri[0xafd*-0x3+-0xd*0x141+-0x3145*-0x1]=this['emitterExt'+'ents']['y']!==0x10de+-0xb*-0x167+-0x204b?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0xc30+-0x43*-0x25+0x281,ri[-0xbf5*0x1+-0x20ac+0xd*0x36f]=this['emitterExt'+'ents']['z']!==-0x1497+0x1*-0x11f3+0x268a?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x58a*-0x6+-0x1956+-0x7e6,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x58f09a;const _0x39305b=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x1*0x14da+-0x20d7+0x3ff*0x3]=_0x39305b['x'],this['emitterSca'+'leUniform'][0x76a+-0x15*-0x29+-0xac6]=_0x39305b['y'],this['emitterSca'+'leUniform'][-0x892+0x2625+-0x1d91]=_0x39305b['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x58f09a=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x63*0x1+0x2087+-0x2024]=_0x58f09a['x'],this['emitterPos'+'Uniform'][0x186c+0x1*-0x62e+-0x29b*0x7]=_0x58f09a['y'],this['emitterPos'+'Uniform'][-0x826+0x1cea+-0x14c2]=_0x58f09a['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x471281,Tr,ri,_0x27eb73,_0x441492);else{const _0x274247=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x274247,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x58f09a,_0x27eb73,_0x441492);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x1fe9+-0x9dd+-0x5d*-0x73)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x6b7a98;}['_destroyRe'+'sources'](){var _0x4ff9c0,_0xe07ddf,_0x3e1858,_0x3b8499,_0x33466a,_0x4cdae6,_0x16c052,_0x4b785a,_0x3eb327,_0x106eb5,_0x4e8d23,_0x6e6543;(_0x4ff9c0=this['particleTe'+'xIN'])==null||_0x4ff9c0['destroy'](),this['particleTe'+'xIN']=null,(_0xe07ddf=this['particleTe'+'xOUT'])==null||_0xe07ddf['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x3e1858=this['rtParticle'+'TexIN'])==null||_0x3e1858['destroy'](),this['rtParticle'+'TexIN']=null,(_0x3b8499=this['rtParticle'+'TexOUT'])==null||_0x3b8499['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x33466a=this['internalTe'+'x0'])==null||_0x33466a['destroy'](),this['internalTe'+'x0']=null,(_0x4cdae6=this['internalTe'+'x1'])==null||_0x4cdae6['destroy'](),this['internalTe'+'x1']=null,(_0x16c052=this['internalTe'+'x2'])==null||_0x16c052['destroy'](),this['internalTe'+'x2']=null,(_0x4b785a=this['internalTe'+'x3'])==null||_0x4b785a['destroy'](),this['internalTe'+'x3']=null,(_0x3eb327=this['colorParam'])==null||_0x3eb327['destroy'](),this['colorParam']=null,(_0x106eb5=this['vertexBuff'+'er'])==null||_0x106eb5['destroy'](),this['vertexBuff'+'er']=void(-0xe49+0x13*-0x97+0x197e),(_0x4e8d23=this['indexBuffe'+'r'])==null||_0x4e8d23['destroy'](),this['indexBuffe'+'r']=void(-0x1faa+-0x1*0xfe3+-0x149*-0x25),(_0x6e6543=this['material'])==null||_0x6e6543['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x1a1b84){const _0x4361f6=_0x1a1b84['shaderDesc'],_0xac6530=_0x4361f6['vertexCode']?hn(_0x4361f6['vertexCode']):0x7f5+-0x765+-0x90,_0x1ff273=_0x4361f6['fragmentCo'+'de']?hn(_0x4361f6['fragmentCo'+'de']):-0xd*-0x26e+-0x14*-0xbc+0x1723*-0x2,_0x5a3a3b=It['definesHas'+'h'](_0x1a1b84['defines']);let _0x525755=_0x4361f6['uniqueName']+'_'+_0xac6530+'_'+_0x1ff273+'_'+_0x5a3a3b;return _0x1a1b84['skin']&&(_0x525755+='_skin'),_0x1a1b84['useInstanc'+'ing']&&(_0x525755+='_inst'),_0x1a1b84['useMorphPo'+'sition']&&(_0x525755+='_morphp'),_0x1a1b84['useMorphNo'+'rmal']&&(_0x525755+='_morphn'),_0x1a1b84['useMorphTe'+'xtureBased'+'Int']&&(_0x525755+='_morphi'),_0x525755;}['createAttr'+'ibutesDefi'+'nition'](_0x52839d,_0x5073e6){const _0x5dee79=_0x5073e6['shaderDesc']['attributes'],_0x17b860=_0x5dee79?{..._0x5dee79}:void(0x8ac+-0x1b5a+0x957*0x2);_0x5073e6['skin']&&(_0x17b860['vertex_bon'+'eWeights']=Ys,_0x17b860['vertex_bon'+'eIndices']=qt),(_0x5073e6['useMorphPo'+'sition']||_0x5073e6['useMorphNo'+'rmal'])&&(_0x17b860['morph_vert'+'ex_id']=ya),_0x52839d['attributes']=_0x17b860;}['createVert'+'exDefiniti'+'on'](_0x333827,_0x53b260,_0x4b750f){const _0x3e0876=_0x53b260['shaderDesc'];if(_0x333827['shaderLang'+'uage']===Ph)_0x333827['vertexCode']=_0x3e0876['vertexCode'];else{const _0x3dbb27=new Map(_0x4b750f),_0x55222b=new Map(_0x53b260['defines']);_0x3dbb27['set']('transformI'+'nstancingV'+'S',''),_0x53b260['skin']&&_0x55222b['set']('SKIN',!(0x1*0xa9f+-0x128c+0x7ed*0x1)),_0x53b260['useInstanc'+'ing']&&_0x55222b['set']('INSTANCING',!(-0x5*0x73+-0xe8f+0x1*0x10ce)),(_0x53b260['useMorphPo'+'sition']||_0x53b260['useMorphNo'+'rmal'])&&(_0x55222b['set']('MORPHING',!(0x820+0x1a33+-0x12f*0x1d)),_0x53b260['useMorphTe'+'xtureBased'+'Int']&&_0x55222b['set']('MORPHING_I'+'NT',!(0xe6c+0x21dc+0xf*-0x338)),_0x53b260['useMorphPo'+'sition']&&_0x55222b['set']('MORPHING_P'+'OSITION',!(-0x843*-0x3+-0x15b*0xc+-0x3*0x2d7)),_0x53b260['useMorphNo'+'rmal']&&_0x55222b['set']('MORPHING_N'+'ORMAL',!(0x9b*0x3e+-0x22bc+0x1*-0x2ce))),_0x333827['vertexCode']=_0x3e0876['vertexCode'],_0x333827['vertexIncl'+'udes']=_0x3dbb27,_0x333827['vertexDefi'+'nes']=_0x55222b;}}['createFrag'+'mentDefini'+'tion'](_0x405792,_0x22ccfc,_0x1cb7fc){const _0x1adc3a=_0x22ccfc['shaderDesc'];if(_0x405792['shaderLang'+'uage']===Ph)_0x405792['fragmentCo'+'de']=_0x1adc3a['fragmentCo'+'de'];else{const _0x3af07a=new Map(_0x1cb7fc),_0x1cc1b7=new Map(_0x22ccfc['defines']);_0x405792['fragmentCo'+'de']=_0x1adc3a['fragmentCo'+'de'],_0x405792['fragmentIn'+'cludes']=_0x3af07a,_0x405792['fragmentDe'+'fines']=_0x1cc1b7;}}['createShad'+'erDefiniti'+'on'](_0x5d947e,_0x57c1de){const _0x292f8f=_0x57c1de['shaderDesc'],_0x4dd8c4={'name':'ShaderMate'+'rial-'+_0x292f8f['uniqueName'],'shaderLanguage':_0x292f8f['shaderLang'+'uage'],'fragmentOutputTypes':_0x292f8f['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x292f8f['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x292f8f['meshBindGr'+'oupFormat']},_0x5059df=new Map(Object['entries']({...X,..._0x57c1de['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x4dd8c4,_0x57c1de),this['createVert'+'exDefiniti'+'on'](_0x4dd8c4,_0x57c1de,_0x5059df),this['createFrag'+'mentDefini'+'tion'](_0x4dd8c4,_0x57c1de,_0x5059df),Mt['createDefi'+'nition'](_0x5d947e,_0x4dd8c4);}}const f1=new u1();class Ra extends yn{constructor(_0x45e10a){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x45e10a;}set['shaderDesc'](_0x9a5a92){_0x9a5a92&&(v['assert'](_0x9a5a92['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x9a5a92['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x9a5a92?{..._0x9a5a92}:void(0x1*0x26b3+-0x15fa+-0x10b9),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x50902c){return super['copy'](_0x50902c),this['shaderDesc']=_0x50902c['shaderDesc'],this;}['getShaderV'+'ariant'](_0xbd84dd){const {objDefs:_0x82d3b4}=_0xbd84dd,_0xc55e95={'defines':Dp(this,_0xbd84dd),'skin':(_0x82d3b4&Wc)!==-0x25*0x3b+0x19bf+-0x1138*0x1,'useInstancing':(_0x82d3b4&$c)!==0x1d*-0x66+0xd*0x174+0x6*-0x139,'useMorphPosition':(_0x82d3b4&qc)!==0x1d6+0x16fe+-0x1*0x18d4,'useMorphNormal':(_0x82d3b4&Xc)!==0x16*0x40+0x1d9c+-0x231c,'useMorphTextureBasedInt':(_0x82d3b4&jc)!==-0x258a+-0x1627+0x3bb1,'pass':_0xbd84dd['pass'],'gamma':_0xbd84dd['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0xbd84dd['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0xbd84dd['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x19fb48=new Yc(_0xbd84dd['viewUnifor'+'mFormat'],_0xbd84dd['viewBindGr'+'oupFormat'],_0xbd84dd['vertexForm'+'at']),_0x566026=ka(_0xbd84dd['device']);return _0x566026['register']('shader-mat'+'erial',f1),_0x566026['getProgram']('shader-mat'+'erial',_0xc55e95,_0x19fb48,this['userId']);}}const k0=(_0x1736f0,_0x2fca54)=>{const _0x4beb75=_0x2fca54['length']/(-0x1c*0xa8+0x1b5e+-0x8fb*0x1),_0x45dd69=_0x1736f0['length']/(0x11*0x3a+-0x19*-0x10f+-0x6*0x50d),_0x2c2fcb=new T(),_0x3bc2ec=new T(),_0xd874fe=new T(),_0x53b804=new T(),_0x522d96=new T(),_0x471bb0=new T(),_0x3cac83=[];for(let _0x4627d7=-0x7*0x4a7+-0x135b+0x19f6*0x2;_0x4627d7<_0x1736f0['length'];_0x4627d7++)_0x3cac83[_0x4627d7]=-0x1869+-0xb*0xd1+0x2164;for(let _0x3d3009=0x2*-0x177+0x10fb+-0xe0d;_0x3d3009<_0x4beb75;_0x3d3009++){const _0x8efc60=_0x2fca54[_0x3d3009*(-0x31*-0x20+0x1155+-0xbb9*0x2)],_0x2f3e8f=_0x2fca54[_0x3d3009*(0x1*-0x1793+-0x2*-0xd8a+0x37e*-0x1)+(0x1a46+-0x208c+-0x647*-0x1)],_0x5dbbff=_0x2fca54[_0x3d3009*(-0x5*-0x3f2+-0x182*0xb+-0x321)+(-0x7*-0x222+-0x9c5*0x2+-0x1*-0x49e)];_0x2c2fcb['set'](_0x1736f0[_0x8efc60*(0x12*0x1b1+-0x2302+-0x1*-0x493)],_0x1736f0[_0x8efc60*(0x1*0x47+-0x1997*-0x1+0x19db*-0x1)+(0x2c*0x11+0xa32+-0xd1d)],_0x1736f0[_0x8efc60*(-0x471*-0x7+-0x1735+-0x7df*0x1)+(0x8*-0x27a+-0x2*-0xc91+-0x550)]),_0x3bc2ec['set'](_0x1736f0[_0x2f3e8f*(0x1dda+0x17b*0x3+-0x449*0x8)],_0x1736f0[_0x2f3e8f*(0x1*0x1dcb+-0x81d+-0x15ab*0x1)+(0x1ad+-0x53*-0x3+-0x2a5)],_0x1736f0[_0x2f3e8f*(0x80c+0x2*-0x5f9+0x3e9)+(-0xd34+0xb31+0x205)]),_0xd874fe['set'](_0x1736f0[_0x5dbbff*(0x224e+0x111c+-0x1*0x3367)],_0x1736f0[_0x5dbbff*(-0x2b*0xbe+0x443*0x2+0x1767)+(-0x2*0x5+-0x2*-0x133d+-0x1*0x266f)],_0x1736f0[_0x5dbbff*(0xbb0+0x106c*-0x2+0x152b)+(0xb93*-0x1+0x247d*0x1+-0x2*0xc74)]),_0x53b804['sub2'](_0x3bc2ec,_0x2c2fcb),_0x522d96['sub2'](_0xd874fe,_0x2c2fcb),_0x471bb0['cross'](_0x53b804,_0x522d96)['normalize'](),_0x3cac83[_0x8efc60*(-0x1380+-0x5*0x6b6+-0x3511*-0x1)]+=_0x471bb0['x'],_0x3cac83[_0x8efc60*(-0x114a+-0xeeb*0x1+0x1*0x2038)+(0x509+-0x1e8d+-0x8b*-0x2f)]+=_0x471bb0['y'],_0x3cac83[_0x8efc60*(-0x1186+0x1035+0x22*0xa)+(0x9ae+0x1126+-0x1ad2)]+=_0x471bb0['z'],_0x3cac83[_0x2f3e8f*(-0x1d7a+-0x55d*-0x1+0x1820)]+=_0x471bb0['x'],_0x3cac83[_0x2f3e8f*(-0xd20+-0x1*0xbfb+0x191e)+(0x24f8+0xacc+0x1*-0x2fc3)]+=_0x471bb0['y'],_0x3cac83[_0x2f3e8f*(0x2*-0x7dd+-0x1562+-0x11*-0x22f)+(0x8*0x24+-0x18d*0xe+0x1498)]+=_0x471bb0['z'],_0x3cac83[_0x5dbbff*(0x1*0xb85+0x2e7*-0x1+-0x89b)]+=_0x471bb0['x'],_0x3cac83[_0x5dbbff*(-0x4*-0x328+0x160d+-0x22aa)+(-0x44c+0x1*-0x1997+0x1de4*0x1)]+=_0x471bb0['y'],_0x3cac83[_0x5dbbff*(-0x1d4a+-0x252c+-0x4279*-0x1)+(-0x252e*0x1+0x4*0x5cb+0xe04)]+=_0x471bb0['z'];}for(let _0x3a78b9=-0x2436+0x4b9+0x1f7d;_0x3a78b9<_0x45dd69;_0x3a78b9++){const _0x26a6bc=_0x3cac83[_0x3a78b9*(-0x1*-0xd6f+0x17c8+-0x2534)],_0x3ffd5f=_0x3cac83[_0x3a78b9*(-0x318+-0x28*-0x39+-0xf*0x63)+(-0x1cae+-0x6db+0x238a)],_0x15a3fc=_0x3cac83[_0x3a78b9*(-0x7b5+0x11b3+-0x49*0x23)+(0x7dc+-0x25f9+0x1e1f)],_0x4a8cda=(0x2181+-0x1845+-0x93b*0x1)/Math['sqrt'](_0x26a6bc*_0x26a6bc+_0x3ffd5f*_0x3ffd5f+_0x15a3fc*_0x15a3fc);_0x3cac83[_0x3a78b9*(0x1cf6+0xf4*-0x11+-0xcbf)]*=_0x4a8cda,_0x3cac83[_0x3a78b9*(-0x1*-0x6ce+0x9c3+-0x108e)+(0x1693+-0x3a*0x7+0x44*-0x4f)]*=_0x4a8cda,_0x3cac83[_0x3a78b9*(-0x23e0+0x2248+0x19b)+(-0x1d07+0x21e4+-0x4db)]*=_0x4a8cda;}return _0x3cac83;},fr=(_0x277c4f,_0x5291d1,_0x5bfff6,_0x3f2096)=>{const _0x5e40c6=_0x3f2096['length']/(0xfe9+0x21cb+-0x31b1),_0x5a146c=_0x277c4f['length']/(-0x19bb+0x1dcb+-0x40d),_0x36072e=new T(),_0x2bda07=new T(),_0x590167=new T(),_0x22c653=new W(),_0x1b280f=new W(),_0x3aa413=new W(),_0x13d956=new T(),_0x32cef8=new T(),_0x29fe19=new Float32Array(_0x5a146c*(-0x1*-0x20ed+0x2b9+-0x23a3)),_0x24a36b=new Float32Array(_0x5a146c*(-0x8ab+-0xbb*0x1f+-0x1*-0x1f53)),_0x303826=[];for(let _0x277de7=-0x1439+0x43*-0x5+0xd4*0x1a;_0x277de7<_0x5e40c6;_0x277de7++){const _0x241084=_0x3f2096[_0x277de7*(0x209+0x2235+-0x243b)],_0x462edd=_0x3f2096[_0x277de7*(-0x52*-0xc+-0x1cc3+0x18ee)+(0x1604+-0x950+-0xcb3)],_0x51b45d=_0x3f2096[_0x277de7*(0xe40+0xca+-0xf07)+(-0x76*0x3b+-0xa76+-0x1*-0x25aa)];_0x36072e['set'](_0x277c4f[_0x241084*(0xcb9+0x23b*-0xe+-0xa*-0x1da)],_0x277c4f[_0x241084*(0x497+0x2107+-0x3*0xc89)+(0x1*-0x12df+-0x90*0x2+0x1400)],_0x277c4f[_0x241084*(0x58*0x6d+0x323*0x7+0x12*-0x34d)+(0x117a+0x14b9*-0x1+0x341*0x1)]),_0x2bda07['set'](_0x277c4f[_0x462edd*(0x1*0x1083+0x1d0f+-0x2d8f)],_0x277c4f[_0x462edd*(0x2e*0x4a+-0x114c+0x4f*0xd)+(0x10f5+-0x1*0x101c+-0xd8)],_0x277c4f[_0x462edd*(-0xc*0x5d+-0x2384+0x27e3)+(-0x14cf+-0xb42+0x2013)]),_0x590167['set'](_0x277c4f[_0x51b45d*(-0x2*-0x6fb+0x2b*0x7+-0xf20)],_0x277c4f[_0x51b45d*(0x245c+0x1d28+0x29*-0x199)+(-0x208c+-0x7ee+0x287b)],_0x277c4f[_0x51b45d*(-0x1*-0x1314+-0x1dbf+-0x1*-0xaae)+(-0x23c2+-0x13f*0xa+0x2*0x181d)]),_0x22c653['set'](_0x5bfff6[_0x241084*(-0x2517+0x12b2*-0x1+0x37cb)],_0x5bfff6[_0x241084*(0xc5f+0xfc1+-0x1c1e)+(-0x738+0x380+-0x3b9*-0x1)]),_0x1b280f['set'](_0x5bfff6[_0x462edd*(-0x7*0x503+0x1*0x885+0x1*0x1a92)],_0x5bfff6[_0x462edd*(0x2025+-0x14db+-0xb48)+(-0x4fb+-0x23e0+0x28dc)]),_0x3aa413['set'](_0x5bfff6[_0x51b45d*(-0x1490*0x1+-0x3*-0xc8e+-0x1118)],_0x5bfff6[_0x51b45d*(-0x2e3*0x9+-0x6ad+0x1*0x20aa)+(0x7d*-0xd+-0xd*-0xca+-0x3e8)]);const _0x28b53a=_0x2bda07['x']-_0x36072e['x'],_0x33a964=_0x590167['x']-_0x36072e['x'],_0x58e9e3=_0x2bda07['y']-_0x36072e['y'],_0x39f471=_0x590167['y']-_0x36072e['y'],_0x2e0fec=_0x2bda07['z']-_0x36072e['z'],_0x1268b6=_0x590167['z']-_0x36072e['z'],_0x742576=_0x1b280f['x']-_0x22c653['x'],_0x18f84b=_0x3aa413['x']-_0x22c653['x'],_0x4f7eb3=_0x1b280f['y']-_0x22c653['y'],_0x22659d=_0x3aa413['y']-_0x22c653['y'],_0x17b0b1=_0x742576*_0x22659d-_0x18f84b*_0x4f7eb3;if(_0x17b0b1===-0x1266+0x1*-0x240a+-0x34*-0x10c)_0x13d956['set'](-0xd42+-0x1a31+0x2773,-0x1f78+0x258b+0x3*-0x206,-0x7*0xbf+0x120e+0x1*-0xcd5),_0x32cef8['set'](-0x2*-0xa26+-0x1*-0x20d2+-0x351d,-0x1426+0x1*0xb9e+0x888,-0x9a*0x21+-0x24bd+0x21*0x1b7);else{const _0x5a80f4=(-0x1fa2*0x1+-0x9*-0x12d+-0x7*-0x302)/_0x17b0b1;_0x13d956['set']((_0x22659d*_0x28b53a-_0x4f7eb3*_0x33a964)*_0x5a80f4,(_0x22659d*_0x58e9e3-_0x4f7eb3*_0x39f471)*_0x5a80f4,(_0x22659d*_0x2e0fec-_0x4f7eb3*_0x1268b6)*_0x5a80f4),_0x32cef8['set']((_0x742576*_0x33a964-_0x18f84b*_0x28b53a)*_0x5a80f4,(_0x742576*_0x39f471-_0x18f84b*_0x58e9e3)*_0x5a80f4,(_0x742576*_0x1268b6-_0x18f84b*_0x2e0fec)*_0x5a80f4);}_0x29fe19[_0x241084*(-0x1*0x15ce+-0x34*-0x86+-0x567)+(-0xf7f+-0x1*-0x1135+-0x1b6)]+=_0x13d956['x'],_0x29fe19[_0x241084*(-0x635+-0x1dc4+0x23fc)+(-0x13*-0x10d+-0x3*-0x1db+0x1*-0x1987)]+=_0x13d956['y'],_0x29fe19[_0x241084*(0x10bd*-0x1+-0x60f+0x16cf)+(-0x11c1*0x1+-0x2e*0x45+0x44f*0x7)]+=_0x13d956['z'],_0x29fe19[_0x462edd*(-0x21dd*0x1+-0x13ea+-0x396*-0xf)+(-0x129a*-0x2+0x9ba+-0x2eee)]+=_0x13d956['x'],_0x29fe19[_0x462edd*(-0x8f9+-0x8*0x11c+0x11dc)+(-0x35f*0x9+-0x29*0xa5+0x38c5)]+=_0x13d956['y'],_0x29fe19[_0x462edd*(-0x1f8c+-0x25*0xd+0x2170)+(-0x16c0+-0xbe8*0x3+0x3a7a)]+=_0x13d956['z'],_0x29fe19[_0x51b45d*(0x111*-0xc+0x222c*0x1+-0x155d)+(0x18*0x199+-0x2085*-0x1+-0x46dd)]+=_0x13d956['x'],_0x29fe19[_0x51b45d*(-0x7fb+0x2*0x1160+-0x1ac2)+(-0x2*0x605+0x1af5*0x1+-0x53*0x2e)]+=_0x13d956['y'],_0x29fe19[_0x51b45d*(0x44+-0x667*0x5+0x1fc2)+(0x2001+0x5e*-0x3b+-0xa55)]+=_0x13d956['z'],_0x24a36b[_0x241084*(0xa62+0x11f7+-0x1c56)+(0x87*-0x3b+-0xe2f+0x2d4c)]+=_0x32cef8['x'],_0x24a36b[_0x241084*(0x1bae+0x1e43+-0x5cb*0xa)+(0x25+-0x1*0x8c3+-0x1*-0x89f)]+=_0x32cef8['y'],_0x24a36b[_0x241084*(-0x13c5+0xe*-0xe1+0x2016)+(0x710+-0x26b2+0x1fa4)]+=_0x32cef8['z'],_0x24a36b[_0x462edd*(-0x2628+-0x134f+-0xe*-0x41b)+(0x1938+0x603+-0x1f3b)]+=_0x32cef8['x'],_0x24a36b[_0x462edd*(-0xfb0*-0x1+-0x1b46+-0xb99*-0x1)+(0x7*-0x51e+-0x1*-0x246f+0x4*-0x27)]+=_0x32cef8['y'],_0x24a36b[_0x462edd*(-0x2411+0xedf+0x1535)+(-0x1c20+-0x97*-0x23+0x77d)]+=_0x32cef8['z'],_0x24a36b[_0x51b45d*(0x1218+0x1*0xe3f+-0x4*0x815)+(-0x12fa+-0x1*0xdd2+0x20cc)]+=_0x32cef8['x'],_0x24a36b[_0x51b45d*(0x14b1+-0x75b*-0x4+-0x321a)+(0x1*-0x1173+0xd36+0x43e)]+=_0x32cef8['y'],_0x24a36b[_0x51b45d*(-0x65*0x43+0x2*-0x384+0x217a)+(0x2f3+0x1321+0x19*-0xe2)]+=_0x32cef8['z'];}const _0x1ef725=new T(),_0x4c8043=new T(),_0x46ca55=new T(),_0x5a57f3=new T();for(let _0x294574=0x1051+0x1c72+-0x2cc3;_0x294574<_0x5a146c;_0x294574++){_0x46ca55['set'](_0x5291d1[_0x294574*(0xba*-0x1+-0x1345+-0xa01*-0x2)],_0x5291d1[_0x294574*(0x7*-0x3e+0xddc+0x40d*-0x3)+(0xbdd*0x1+0x1c3+-0xb*0x13d)],_0x5291d1[_0x294574*(-0x1ba2+-0x1f1a+0x3abf)+(0x2*0xb57+0x11d1+-0x819*0x5)]),_0x1ef725['set'](_0x29fe19[_0x294574*(-0xe5e+0x7e5*0x3+-0x18d*0x6)],_0x29fe19[_0x294574*(-0x8a*0x7+-0x1*0x1181+0x154a)+(-0x1d64+-0x106+0x1e6b)],_0x29fe19[_0x294574*(-0x5fc*-0x4+0x1*0x7fd+-0x1fea)+(0x1*0x15bb+0x878+0x83*-0x3b)]),_0x4c8043['set'](_0x24a36b[_0x294574*(-0x89b+0xfd*0x9+-0x47*0x1)],_0x24a36b[_0x294574*(-0x2a7*-0x1+0x799+-0xa3d)+(-0x2*0xb85+0x35*0x61+-0x17b*-0x2)],_0x24a36b[_0x294574*(-0x25b3*0x1+0x5c*-0x51+0x42d2)+(-0x1*0x19fd+-0x15ad+0x2fac)]);const _0x43252a=_0x46ca55['dot'](_0x1ef725);_0x5a57f3['copy'](_0x46ca55)['mulScalar'](_0x43252a),_0x5a57f3['sub2'](_0x1ef725,_0x5a57f3)['normalize'](),_0x303826[_0x294574*(0x3c0+0x1*0x7d+-0x439)]=_0x5a57f3['x'],_0x303826[_0x294574*(0x173*0x3+0x2*0xaa1+-0x1997)+(-0x1e1f+0x2*-0x151+0x20c2*0x1)]=_0x5a57f3['y'],_0x303826[_0x294574*(-0x1*0xfd9+-0x20e8+-0x5*-0x9c1)+(0x23a4+-0x1*0x53+-0x234f)]=_0x5a57f3['z'],_0x5a57f3['cross'](_0x46ca55,_0x1ef725),_0x303826[_0x294574*(-0x29+-0x1565*0x1+-0x16*-0xfb)+(-0xcaf*0x2+-0x1347+0x2ca8)]=_0x5a57f3['dot'](_0x4c8043)<-0x15e6+-0x1c47+0x322d?-(0x1*0x1f39+-0x12c4+-0x31d*0x4):-0x514*0x2+-0x16a3+-0x2*-0x1066;}return _0x303826;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const Wu=(-0x1a7f+-0x9*0x387+0x3a42)/(-0x882+0x3*0x8ef+-0x120b),L_=0x4*0x3e4+0xa02+-0x1991-Wu*(-0x353*0x1+-0xdf*-0xd+-0x16*0x5d);class $u extends pn{constructor(_0x49a08e={}){super();const _0x4508cf=_0x49a08e['halfExtent'+'s']??new T(-0x245e+0x119*-0x7+0x2c0d+0.5,-0x2*0x63a+-0x121e+0x1e92+0.5,0x3cf+0x8dd+-0xcac+0.5),_0xf406bb=_0x49a08e['widthSegme'+'nts']??-0x49c+0x288+0x215,_0x387346=_0x49a08e['lengthSegm'+'ents']??0x2615+0x1*0xf6f+-0x3583,_0x2f79e4=_0x49a08e['heightSegm'+'ents']??0x6ac*-0x2+-0x1021+0x7*0x436,_0x258ca6=_0x49a08e['yOffset']??-0x1*0xd92+0xa1d+0x375,_0x456ff3=-_0x4508cf['y']+_0x258ca6,_0x5e2845=_0x4508cf['y']+_0x258ca6,_0x3d0a22=[new T(-_0x4508cf['x'],_0x456ff3,_0x4508cf['z']),new T(_0x4508cf['x'],_0x456ff3,_0x4508cf['z']),new T(_0x4508cf['x'],_0x5e2845,_0x4508cf['z']),new T(-_0x4508cf['x'],_0x5e2845,_0x4508cf['z']),new T(_0x4508cf['x'],_0x456ff3,-_0x4508cf['z']),new T(-_0x4508cf['x'],_0x456ff3,-_0x4508cf['z']),new T(-_0x4508cf['x'],_0x5e2845,-_0x4508cf['z']),new T(_0x4508cf['x'],_0x5e2845,-_0x4508cf['z'])],_0x316c01=[[0x112a+0x135*-0xb+-0x3e3,0x1818+-0x9d*-0xb+-0x1ed6,0x15*-0x52+-0x1*0x256a+0x2c27],[-0x1*-0x9b9+0x1d*0x17+0x4*-0x314,0x2*-0xd24+0x15e1+0x46c,0x1dce+-0x14e1+-0x8e6],[-0x355*-0x7+-0x47*0x67+0x541*0x1,0xa11*0x1+-0x16e5+-0x3e*-0x35,0x1415+-0x1*0x14fb+0x1*0xec],[-0x207d+-0xd*0x1b2+0x3688*0x1,-0x851*-0x4+-0x9bd+-0x1787,0x3b4*0x1+0x1a60+-0x1e10],[0x1*-0x2164+0xea+0x5*0x67f,-0x230b+0x1afd+0x812,-0x791+0x1c3e+0x14ab*-0x1],[0x60c+0x1de3+-0x23ea,-0x2119+0x1d8c+0x38d,-0x1*-0x24da+-0x88f*-0x4+-0x4710]],_0x1e7dc9=[[-0xeee+-0x9*-0x2b6+-0x978,-0x2*-0xde5+0x1d*0xb3+-0x1*0x3011,-0x19f4+-0x1009*-0x2+-0x61d],[0x1f8c+-0x20ab+0x11f,0x3bd+-0x61*0x4c+0x190f,-(0xa61+-0xc5*-0x25+-0x26d9)],[0xe1e+0x2*-0xef6+0xfce*0x1,0x24c*-0x7+-0x12f2+0x7*0x501,0xb*0x36d+-0x23fd+0x1b2*-0x1],[0x17e1+0x262*-0x5+-0xbf7,-(0x1*-0x252d+-0x3ff*-0x7+-0x935*-0x1),0x6*0x3ee+0x757*0x3+0x3*-0xf33],[0x25cf+0x72b+-0x2cf9,-0xf21+0x667+0x8ba,0x1539+0x130d*-0x1+-0x2*0x116],[-(-0x1e98+0x1*-0x1223+-0x4*-0xc2f),-0x1*0x1237+0xa0c+0x82b,0x12c9+-0x1f4c+-0xc83*-0x1]],_0x442c8f={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x3f007f=[],_0x5a980b=[],_0xe735dc=[],_0x966a30=[];let _0x3910aa=-0x6a6*0x5+0x1*0x16c+-0xfe9*-0x2;const _0xd02cde=(_0x15a43b,_0x1459f4,_0x27ee83)=>{const _0x2c8c39=new T(),_0x55cea4=new T(),_0x29c38a=new T(),_0x157952=new T();for(let _0x36c340=-0x1d5b+0x1be8+0x7*0x35;_0x36c340<=_0x1459f4;_0x36c340++)for(let _0x385ed2=0x8*0x40f+0x1*-0xf0d+-0x116b;_0x385ed2<=_0x27ee83;_0x385ed2++){_0x2c8c39['lerp'](_0x3d0a22[_0x316c01[_0x15a43b][0xb8*-0x11+0x5f6+0x642]],_0x3d0a22[_0x316c01[_0x15a43b][0x1823*-0x1+0x11*-0x12e+0x2c32]],_0x36c340/_0x1459f4),_0x55cea4['lerp'](_0x3d0a22[_0x316c01[_0x15a43b][0x1*-0x254b+0xa34*-0x1+0x7*0x6c9]],_0x3d0a22[_0x316c01[_0x15a43b][-0x2*0x10c9+-0x1b20+0x3cb4]],_0x385ed2/_0x27ee83),_0x29c38a['sub2'](_0x55cea4,_0x3d0a22[_0x316c01[_0x15a43b][0x2144+0x131e+0x12a*-0x2d]]),_0x157952['add2'](_0x2c8c39,_0x29c38a);let _0x746ac6=_0x36c340/_0x1459f4,_0x57cb04=_0x385ed2/_0x27ee83;_0x3f007f['push'](_0x157952['x'],_0x157952['y'],_0x157952['z']),_0x5a980b['push'](_0x1e7dc9[_0x15a43b][-0x1*0x9cb+-0x56f+0xf3a],_0x1e7dc9[_0x15a43b][0x1*-0x1115+-0x1*-0x250a+-0x13f4],_0x1e7dc9[_0x15a43b][0x1*0x8e+-0x15d0+0x4*0x551]),_0xe735dc['push'](_0x746ac6,-0xc41+0x2*-0x8db+0x77e*0x4-_0x57cb04),_0x746ac6=_0x746ac6*L_+Wu,_0x57cb04=_0x57cb04*L_+Wu,_0x746ac6/=-0x66e+0x178c+-0x1*0x111b,_0x57cb04/=-0x15da*-0x1+-0x2458+0xe81*0x1,_0x746ac6+=_0x15a43b%(-0x213e*0x1+-0x6*-0x309+0x1*0xf0b)/(0x1795+0x1f*-0x13+0x25d*-0x9),_0x57cb04+=Math['floor'](_0x15a43b/(0x536+-0x1*-0x1231+-0x1764))/(0x44a+0x9b9+-0xe00),_0x36c340<_0x1459f4&&_0x385ed2<_0x27ee83&&(_0x966a30['push'](_0x3910aa+_0x27ee83+(0x491*0x5+0x171b+-0x2def),_0x3910aa+(-0x1*0x1405+0x97*0x3b+-0xec7),_0x3910aa),_0x966a30['push'](_0x3910aa+_0x27ee83+(0x92d+0x549*0x7+0x35*-0xdf),_0x3910aa+_0x27ee83+(-0x16*0x31+-0x3a5+0x7dd),_0x3910aa+(-0x1ded+0x13f*-0x1d+0x4211))),_0x3910aa++;}};_0xd02cde(_0x442c8f['FRONT'],_0xf406bb,_0x2f79e4),_0xd02cde(_0x442c8f['BACK'],_0xf406bb,_0x2f79e4),_0xd02cde(_0x442c8f['TOP'],_0xf406bb,_0x387346),_0xd02cde(_0x442c8f['BOTTOM'],_0xf406bb,_0x387346),_0xd02cde(_0x442c8f['RIGHT'],_0x387346,_0x2f79e4),_0xd02cde(_0x442c8f['LEFT'],_0x387346,_0x2f79e4),this['positions']=_0x3f007f,this['normals']=_0x5a980b,this['uvs']=_0xe735dc,this['uvs1']=_0xe735dc,this['indices']=_0x966a30,_0x49a08e['calculateT'+'angents']&&(this['tangents']=fr(_0x3f007f,_0x5a980b,_0xe735dc,_0x966a30));}}class B0 extends pn{constructor(_0x83d81c={}){super();const _0x1f0675=_0x83d81c['radius']??0x5f2+-0x7*0x10d+0x169*0x1+0.5,_0x51ad1f=_0x83d81c['latitudeBa'+'nds']??-0x2116+-0x15e4+0x581*0xa,_0x23c1d2=_0x83d81c['longitudeB'+'ands']??-0xb*0xfd+-0x23c1+0x2eb0,_0x3f6e13=[],_0x278586=[],_0x47630c=[],_0x4a4d08=[];for(let _0x545638=-0x7cb+-0x708+0xed3;_0x545638<=_0x51ad1f;_0x545638++){const _0x703245=_0x545638*Math['PI']/_0x51ad1f,_0x4aa55c=Math['sin'](_0x703245),_0x453b9f=Math['cos'](_0x703245);for(let _0x41475e=-0x1cbe+0xe80+0x2*0x71f;_0x41475e<=_0x23c1d2;_0x41475e++){const _0x3a3f75=_0x41475e*(0x2232+0xf11+-0x3141)*Math['PI']/_0x23c1d2-Math['PI']/(0x475+0x2*-0x239+-0x1*0x1),_0x36fdba=Math['sin'](_0x3a3f75),_0x20e7af=Math['cos'](_0x3a3f75)*_0x4aa55c,_0x3cc6a9=_0x453b9f,_0x31217f=_0x36fdba*_0x4aa55c,_0x39f41f=0xc15+-0xdc7*0x2+0xf7a-_0x41475e/_0x23c1d2,_0x49970d=0x21f1+-0xe95+-0x135b-_0x545638/_0x51ad1f;_0x3f6e13['push'](_0x20e7af*_0x1f0675,_0x3cc6a9*_0x1f0675,_0x31217f*_0x1f0675),_0x278586['push'](_0x20e7af,_0x3cc6a9,_0x31217f),_0x47630c['push'](_0x39f41f,-0x1c2e+0x10f*-0x17+0x3488-_0x49970d);}}for(let _0x183bf6=0x214*-0x11+0x1*0x5dd+0x1d77;_0x183bf6<_0x51ad1f;++_0x183bf6)for(let _0x199959=-0x2612+0x4*0x6e5+0x1*0xa7e;_0x199959<_0x23c1d2;++_0x199959){const _0x3f1474=_0x183bf6*(_0x23c1d2+(-0x1e9e+0x161e*0x1+-0x7*-0x137))+_0x199959,_0x1c44ee=_0x3f1474+_0x23c1d2+(0x219c+0x35*-0x2f+-0x17e0);_0x4a4d08['push'](_0x3f1474+(-0xc3c+0x247a+-0x183d),_0x1c44ee,_0x3f1474),_0x4a4d08['push'](_0x3f1474+(0x10b*0xe+-0x95b+-0x1*0x53e),_0x1c44ee+(-0x13b9+-0x35*0x8d+0x30eb),_0x1c44ee);}this['positions']=_0x3f6e13,this['normals']=_0x278586,this['uvs']=_0x47630c,this['uvs1']=_0x47630c,this['indices']=_0x4a4d08,_0x83d81c['calculateT'+'angents']&&(this['tangents']=fr(_0x3f6e13,_0x278586,_0x47630c,_0x4a4d08));}}class p1 extends B0{constructor(_0x5cefe0={}){const _0x4866fd=_0x5cefe0['latitudeBa'+'nds']??-0xd36+0x137*-0x3+0x10eb,_0x56f510=_0x5cefe0['longitudeB'+'ands']??-0x266b+-0x1*0x1563+-0x1*-0x3bde;super({'radius':0.5,'latitudeBands':_0x4866fd,'longitudeBands':_0x56f510});const _0x4d79ca=-0x7a7+0x19dc*0x1+-0x1235+0.1,_0x446c7f=-0x26c6+0x3*0x543+0x16fd+0.95,_0x194746=_0x446c7f*_0x446c7f,_0x4926fa=this['positions'];for(let _0x19c189=0x1*0x8ef+-0x2189+-0x43*-0x5e;_0x19c189<_0x4926fa['length'];_0x19c189+=0x42*0x48+-0x1*-0x111b+-0x23a8){const _0x1a96e8=_0x4926fa[_0x19c189]/(-0x1a9b+0x379*0x6+-0x7*-0xd3+0.5);let _0x16b758=_0x4926fa[_0x19c189+(-0x1c15+0xc15*-0x3+-0x4055*-0x1)]/(0x20c0+0x243e+-0x44fe+0.5);const _0xe682b8=_0x4926fa[_0x19c189+(-0x613*0x1+-0x1*-0x251b+-0x2d2*0xb)]/(-0x3*0x8e1+-0x1e49+0x38ec+0.5);_0x16b758<-0x24a7+0x5*0x4cf+-0x64e*-0x2&&(_0x16b758*=0x53*-0x2d+-0x11e*0x17+-0x2849*-0x1+0.3,_0x1a96e8*_0x1a96e8+_0xe682b8*_0xe682b8<_0x194746&&(_0x16b758=-(0x19c8+0x427+0x61*-0x4f+0.1))),_0x16b758+=_0x4d79ca,_0x16b758*=0x638+0x17b*-0x16+0x1a5a+0.5,_0x4926fa[_0x19c189+(0x1f5f+0x1*-0x480+0x2*-0xd6f)]=_0x16b758;}}}class So{static['create'](_0x599205,_0x258c40){switch(_0x258c40){case tw:return So['box'](_0x599205);case sw:return So['dome'](_0x599205);}return v['assert'](_0x258c40===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x258c40),So['infinite'](_0x599205);}static['infinite'](_0x4f3e6b){return Ie['fromGeomet'+'ry'](_0x4f3e6b,new $u(_0x4f3e6b));}static['box'](_0x583f28){return Ie['fromGeomet'+'ry'](_0x583f28,new $u({'yOffset':0.5}));}static['dome'](_0x18c037){const _0x2c20d1=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x2c20d1['normals']=void(0xd3*-0x16+-0x26b9+0xb5f*0x5),_0x2c20d1['uvs']=void(-0x18e6+-0x23ae+-0x1*-0x3c94),Ie['fromGeomet'+'ry'](_0x18c037,_0x2c20d1);}}class m1{constructor(_0x31e140,_0xa3be23,_0x48f5a0,_0x2fab04,_0x50092c){c(this,'meshInstan'+'ce',null);const _0x264237=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x264237['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x2fab04['encoding'])),_0x50092c!==xo&&_0x264237['setDefine']('SKYMESH',''),_0x2fab04['cubemap']&&_0x264237['setDefine']('SKY_CUBEMA'+'P',''),_0x264237['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0xa3be23['skyboxHigh'+'lightMulti'+'plier']),_0x2fab04['cubemap']?_0x264237['setParamet'+'er']('texture_cu'+'beMap',_0x2fab04):(_0x264237['setParamet'+'er']('texture_en'+'vAtlas',_0x2fab04),_0x264237['setParamet'+'er']('mipLevel',_0xa3be23['skyboxMip'])),_0x264237['cull']=mo,_0x264237['depthWrite']=!(0xb06+0x1e4d+-0x2952);const _0x269340=_0xa3be23['layers']['getLayerBy'+'Id'](vp);if(_0x269340){const _0x33657e=So['create'](_0x31e140,_0x50092c),_0xdfc5df=new Le(_0x33657e,_0x264237,_0x48f5a0);this['meshInstan'+'ce']=_0xdfc5df,_0xdfc5df['cull']=!(0x2*-0x4b5+0x4*0x96e+-0x1c4d),_0xdfc5df['pick']=!(-0x2*-0x1a+-0x1*0x60d+-0xe*-0x6b),_0x269340['addMeshIns'+'tances']([_0xdfc5df]),this['skyLayer']=_0x269340;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x5b8ccb){c(this,'_type',xo),c(this,'_center',new T(0x1ba0+0x797*0x2+-0x2ace,0x16cc+0x18c+-0x1857,-0x1ecb+0x4*0x833+0x13*-0x1b)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x5b8ccb['device'],this['scene']=_0x5b8ccb,this['center']=new T(-0x1085+-0x1a60+0x2ae5,0x5*0x161+-0x2054+0x25*0xb0,0x683*0x2+0xc9*-0x17+0x509*0x1),this['centerArra'+'y']=new Float32Array(-0xe5*-0x7+-0x2*0x49d+0x3*0xfe),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x5aff51){this['type']=_0x5aff51['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x5aff51['skyMeshPos'+'ition']??[0x246b+-0x1*0x1377+-0x7*0x26c,-0x1*-0x17f3+0x8d2*-0x4+0x3c7*0x3,-0x1*0x1a3f+0x920+0x9*0x1e7])),this['node']['setLocalEu'+'lerAngles'](new T(_0x5aff51['skyMeshRot'+'ation']??[0x134*0x11+-0x18c8*-0x1+0xf14*-0x3,-0x4*0x349+0x39*-0x9+0xf25,-0x21*-0xbc+0x1*-0x44f+-0x13ed])),this['node']['setLocalSc'+'ale'](new T(_0x5aff51['skyMeshSca'+'le']??[-0x8df*0x3+0xaab*0x1+-0x1*-0xff3,0x1b7*-0x11+-0xd*-0x1c4+-0x4*-0x18d,-0x2*0xbd5+0xb23+0xc88])),_0x5aff51['skyCenter']&&(this['_center']=new T(_0x5aff51['skyCenter']));}set['type'](_0x5d24e6){this['_type']!==_0x5d24e6&&(this['_type']=_0x5d24e6,this['scene']['updateShad'+'ers']=!(-0x1855+0x718+-0x3*-0x5bf),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x256bc5){this['_center']['copy'](_0x256bc5);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x4b6611=this['scene']['_getSkybox'+'Tex']();_0x4b6611&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x4b6611,this['type']),this['scene']['fire']('set:skybox',_0x4b6611));}['resetSkyMe'+'sh'](){var _0x89565;(_0x89565=this['skyMesh'])==null||_0x89565['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x42f360,centerArray:_0x17da20}=this,_0xe64f78=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x42f360,_0xe64f78),_0x17da20[-0xa3*-0xe+0x1f*0x29+-0xde1]=_0xe64f78['x'],_0x17da20[0x1*-0x2c+0x1*-0x2162+0x1*0x218f]=_0xe64f78['y'],_0x17da20[0x910+-0x1ae*0x1+0x10*-0x76]=_0xe64f78['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x17da20);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x141c+0xe90+0x58d*0x1);class g1{constructor(_0x2be9cd,_0x2df512,_0x40c962){this['material']=_0x2df512,this['layer']=_0x40c962,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x2be9cd),this['meshInstan'+'ce']=null;}['addLines'](_0x18faab,_0x3e2dc9){const _0x48b7bb=this['positions'],_0x5cc31f=_0x18faab['length'];for(let _0x531a35=0x137+-0x134c+-0x1215*-0x1;_0x531a35<_0x5cc31f;_0x531a35++){const _0x24284e=_0x18faab[_0x531a35];_0x48b7bb['push'](_0x24284e['x'],_0x24284e['y'],_0x24284e['z']);}const _0x169126=this['colors'];if(_0x3e2dc9['length'])for(let _0x23505c=-0x8be+0x2*-0x815+0x18e8;_0x23505c<_0x5cc31f;_0x23505c++){const _0x4cdd5f=_0x3e2dc9[_0x23505c];_0x169126['push'](_0x4cdd5f['r'],_0x4cdd5f['g'],_0x4cdd5f['b'],_0x4cdd5f['a']);}else{for(let _0x13cc88=0xb34+0xacc+-0x1600;_0x13cc88<_0x5cc31f;_0x13cc88++)_0x169126['push'](_0x3e2dc9['r'],_0x3e2dc9['g'],_0x3e2dc9['b'],_0x3e2dc9['a']);}}['addLinesAr'+'rays'](_0x467c94,_0x4f8b83){const _0x4e3ba9=this['positions'];for(let _0x4031a3=-0x4*0x80f+-0x2522+0x2ab*0x1a;_0x4031a3<_0x467c94['length'];_0x4031a3+=-0x1731+0x1*-0x1172+0x28a6)_0x4e3ba9['push'](_0x467c94[_0x4031a3],_0x467c94[_0x4031a3+(-0x3fe*0x1+0x2*0x11d4+-0x1fa9)],_0x467c94[_0x4031a3+(-0x4c1*-0x8+-0x1227+0x1*-0x13df)]);const _0x7bf494=this['colors'];if(_0x4f8b83['length']){for(let _0x5a5e16=0x1c1d+-0x1db9*-0x1+-0x39d6;_0x5a5e16<_0x4f8b83['length'];_0x5a5e16+=0x14da+0xc4+-0x159a)_0x7bf494['push'](_0x4f8b83[_0x5a5e16],_0x4f8b83[_0x5a5e16+(-0xd75*0x2+0x2b*-0xc7+0x4*0xf16)],_0x4f8b83[_0x5a5e16+(0x1b93+-0x64*0x2+-0x1*0x1ac9)],_0x4f8b83[_0x5a5e16+(0x1e5*0x7+0x3*0x4bd+-0x59*0x4f)]);}else{const _0x224d21=_0x467c94['length']/(0x171+-0x1d83+-0x5b*-0x4f);for(let _0x505ac6=0x28*-0x83+-0xbe*0x22+-0x104*-0x2d;_0x505ac6<_0x224d21;_0x505ac6++)_0x7bf494['push'](_0x4f8b83['r'],_0x4f8b83['g'],_0x4f8b83['b'],_0x4f8b83['a']);}}['onPreRende'+'r'](_0x24cc5d,_0x3649a9){this['positions']['length']>-0xec0+-0x5*-0x595+0x463*-0x3&&this['material']['transparen'+'t']===_0x3649a9&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(0x1d01+-0x2062+0x362)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x24cc5d['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x7*0x332+0x3e3+-0xd*0x205,this['colors']['length']=-0x331+0xaab+-0x77a;}}class y1{constructor(_0x272e10){this['device']=_0x272e10,this['map']=new Map();}['getBatch'](_0x45d1dc,_0x8bf41){let _0x2da968=this['map']['get'](_0x45d1dc);return _0x2da968||(_0x2da968=new g1(this['device'],_0x45d1dc,_0x8bf41),this['map']['set'](_0x45d1dc,_0x2da968)),_0x2da968;}['onPreRende'+'r'](_0x45d7ff,_0x592a9c){this['map']['forEach'](_0x5b0752=>{_0x5b0752['onPreRende'+'r'](_0x45d7ff,_0x592a9c);});}['clear'](){this['map']['forEach'](_0x5b5182=>_0x5b5182['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x4185c2){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x4185c2,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x5a63d8){const _0x6c46b6=new Ra(x1);return _0x6c46b6['blendType']=Kt,_0x6c46b6['depthTest']=_0x5a63d8,_0x6c46b6['update'](),_0x6c46b6;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x5ea+0x10bd+-0x16a7))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x1b*-0xc+0xf48+-0x23*0x79))),this['_materialN'+'oDepth'];}['getBatch'](_0x5f3b96,_0x417f44){let _0x5983a5=this['batchesMap']['get'](_0x5f3b96);_0x5983a5||(_0x5983a5=new y1(this['device']),this['batchesMap']['set'](_0x5f3b96,_0x5983a5)),this['allBatches']['add'](_0x5983a5);const _0x505f66=_0x417f44?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x5983a5['getBatch'](_0x505f66,_0x5f3b96);}['getShaderD'+'esc'](_0x32d9fb,_0x158aea){return this['shaderDesc'+'s']['has'](_0x32d9fb)||this['shaderDesc'+'s']['set'](_0x32d9fb,{'uniqueName':'DebugShade'+'r:'+_0x32d9fb,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x158aea,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x32d9fb);}['getTexture'+'ShaderDesc'](_0x5a0c24){const _0x51c1aa=Es['decodeFunc'](_0x5a0c24);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x5a0c24,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x51c1aa+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0xec7+-0x497+0x135e+0.5),-(0xe*-0x70+0xc4a*-0x2+0xa3c*0x3+0.5),0x1cec+0xc94+-0x2980,-0xa5*-0x8+0x148d+0x19b5*-0x1+0.5,-(-0x264e+-0x4*0x6+-0xa*-0x3d7+0.5),-0x3*0x75b+0x1e9a+-0x889,-(0x1*0x1066+0x1*-0x1054+0x3*-0x6+0.5),-0x1e3e+0x1c*-0x100+0x3a3e+0.5,-0x1*0x3f6+-0x2626+-0x1*-0x2a1c,-0x2*0xc0+0x79f+0x1*-0x61f+0.5,-0x1069+-0xc0*-0x21+-0x23*0x3d+0.5,0x5*0x191+0x14c4+0x1c99*-0x1]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x2e7012,_0x57c141,_0x140f0e,_0xeeb532,_0x535c1d){if(!_0xeeb532){const _0x44c5cd=this['getGraphNo'+'de'](_0x57c141);_0xeeb532=new Le(_0x140f0e,_0x2e7012,_0x44c5cd);}let _0x1bbae7=this['layerMeshI'+'nstances']['get'](_0x535c1d);_0x1bbae7||(_0x1bbae7=[],this['layerMeshI'+'nstances']['set'](_0x535c1d,_0x1bbae7)),_0x1bbae7['push'](_0xeeb532);}['drawWireAl'+'ignedBox'](_0x39b958,_0x3bd034,_0x2cfd2d,_0xca395f,_0x1e50af,_0x462912){if(_0x462912){const _0x6b4cbb=(_0x6dcf1d,_0x2b3720,_0x5d959)=>{Ln['set'](_0x6dcf1d,_0x2b3720,_0x5d959),_0x462912['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x6b4cbb(_0x39b958['x'],_0x39b958['y'],_0x39b958['z']),_0x6b4cbb(_0x39b958['x'],_0x3bd034['y'],_0x39b958['z']),_0x6b4cbb(_0x39b958['x'],_0x3bd034['y'],_0x39b958['z']),_0x6b4cbb(_0x3bd034['x'],_0x3bd034['y'],_0x39b958['z']),_0x6b4cbb(_0x3bd034['x'],_0x3bd034['y'],_0x39b958['z']),_0x6b4cbb(_0x3bd034['x'],_0x39b958['y'],_0x39b958['z']),_0x6b4cbb(_0x3bd034['x'],_0x39b958['y'],_0x39b958['z']),_0x6b4cbb(_0x39b958['x'],_0x39b958['y'],_0x39b958['z']),_0x6b4cbb(_0x39b958['x'],_0x39b958['y'],_0x3bd034['z']),_0x6b4cbb(_0x39b958['x'],_0x3bd034['y'],_0x3bd034['z']),_0x6b4cbb(_0x39b958['x'],_0x3bd034['y'],_0x3bd034['z']),_0x6b4cbb(_0x3bd034['x'],_0x3bd034['y'],_0x3bd034['z']),_0x6b4cbb(_0x3bd034['x'],_0x3bd034['y'],_0x3bd034['z']),_0x6b4cbb(_0x3bd034['x'],_0x39b958['y'],_0x3bd034['z']),_0x6b4cbb(_0x3bd034['x'],_0x39b958['y'],_0x3bd034['z']),_0x6b4cbb(_0x39b958['x'],_0x39b958['y'],_0x3bd034['z']),_0x6b4cbb(_0x39b958['x'],_0x39b958['y'],_0x39b958['z']),_0x6b4cbb(_0x39b958['x'],_0x39b958['y'],_0x3bd034['z']),_0x6b4cbb(_0x39b958['x'],_0x3bd034['y'],_0x39b958['z']),_0x6b4cbb(_0x39b958['x'],_0x3bd034['y'],_0x3bd034['z']),_0x6b4cbb(_0x3bd034['x'],_0x3bd034['y'],_0x39b958['z']),_0x6b4cbb(_0x3bd034['x'],_0x3bd034['y'],_0x3bd034['z']),_0x6b4cbb(_0x3bd034['x'],_0x39b958['y'],_0x39b958['z']),_0x6b4cbb(_0x3bd034['x'],_0x39b958['y'],_0x3bd034['z']);}else Jt['push'](_0x39b958['x'],_0x39b958['y'],_0x39b958['z'],_0x39b958['x'],_0x3bd034['y'],_0x39b958['z'],_0x39b958['x'],_0x3bd034['y'],_0x39b958['z'],_0x3bd034['x'],_0x3bd034['y'],_0x39b958['z'],_0x3bd034['x'],_0x3bd034['y'],_0x39b958['z'],_0x3bd034['x'],_0x39b958['y'],_0x39b958['z'],_0x3bd034['x'],_0x39b958['y'],_0x39b958['z'],_0x39b958['x'],_0x39b958['y'],_0x39b958['z'],_0x39b958['x'],_0x39b958['y'],_0x3bd034['z'],_0x39b958['x'],_0x3bd034['y'],_0x3bd034['z'],_0x39b958['x'],_0x3bd034['y'],_0x3bd034['z'],_0x3bd034['x'],_0x3bd034['y'],_0x3bd034['z'],_0x3bd034['x'],_0x3bd034['y'],_0x3bd034['z'],_0x3bd034['x'],_0x39b958['y'],_0x3bd034['z'],_0x3bd034['x'],_0x39b958['y'],_0x3bd034['z'],_0x39b958['x'],_0x39b958['y'],_0x3bd034['z'],_0x39b958['x'],_0x39b958['y'],_0x39b958['z'],_0x39b958['x'],_0x39b958['y'],_0x3bd034['z'],_0x39b958['x'],_0x3bd034['y'],_0x39b958['z'],_0x39b958['x'],_0x3bd034['y'],_0x3bd034['z'],_0x3bd034['x'],_0x3bd034['y'],_0x39b958['z'],_0x3bd034['x'],_0x3bd034['y'],_0x3bd034['z'],_0x3bd034['x'],_0x39b958['y'],_0x39b958['z'],_0x3bd034['x'],_0x39b958['y'],_0x3bd034['z']);this['getBatch'](_0x1e50af,_0xca395f)['addLinesAr'+'rays'](Jt,_0x2cfd2d),Jt['length']=-0x1fab+-0xa99+0x1*0x2a44;}['drawWireSp'+'here'](_0x5bd26a,_0xd3217d,_0x1e5455,_0x403aeb,_0x5bc0e7,_0x389d54){const _0x1eac7c=(0x2320+-0x53*-0xf+-0x27fb)*Math['PI']/_0x403aeb;let _0x15d2b0=-0x1baf+0xf18+-0x125*-0xb;for(let _0x3c7be1=0xd3*0x2f+-0x208+0x1*-0x24b5;_0x3c7be1<_0x403aeb;_0x3c7be1++){const _0x4d51e6=Math['sin'](_0x15d2b0),_0x22a2c1=Math['cos'](_0x15d2b0);_0x15d2b0+=_0x1eac7c;const _0x5bc1da=Math['sin'](_0x15d2b0),_0x27d19e=Math['cos'](_0x15d2b0);Jt['push'](_0x5bd26a['x']+_0xd3217d*_0x4d51e6,_0x5bd26a['y'],_0x5bd26a['z']+_0xd3217d*_0x22a2c1),Jt['push'](_0x5bd26a['x']+_0xd3217d*_0x5bc1da,_0x5bd26a['y'],_0x5bd26a['z']+_0xd3217d*_0x27d19e),Jt['push'](_0x5bd26a['x']+_0xd3217d*_0x4d51e6,_0x5bd26a['y']+_0xd3217d*_0x22a2c1,_0x5bd26a['z']),Jt['push'](_0x5bd26a['x']+_0xd3217d*_0x5bc1da,_0x5bd26a['y']+_0xd3217d*_0x27d19e,_0x5bd26a['z']),Jt['push'](_0x5bd26a['x'],_0x5bd26a['y']+_0xd3217d*_0x4d51e6,_0x5bd26a['z']+_0xd3217d*_0x22a2c1),Jt['push'](_0x5bd26a['x'],_0x5bd26a['y']+_0xd3217d*_0x5bc1da,_0x5bd26a['z']+_0xd3217d*_0x27d19e);}this['getBatch'](_0x389d54,_0x5bc0e7)['addLinesAr'+'rays'](Jt,_0x1e5455),Jt['length']=0x8c3*0x4+0x2479+-0x4785;}['getGraphNo'+'de'](_0x3649f8){const _0x463f32=new De('ImmediateD'+'ebug');return _0x463f32['worldTrans'+'form']=_0x3649f8,_0x463f32['_dirtyWorl'+'d']=_0x463f32['_dirtyNorm'+'al']=!(-0x1e9+-0x2345+0x252f),_0x463f32;}['onPreRende'+'rLayer'](_0x19b22b,_0x29e8b9,_0x210425){if(this['batchesMap']['forEach']((_0x448fc4,_0x271de4)=>{_0x271de4===_0x19b22b&&_0x448fc4['onPreRende'+'r'](_0x29e8b9,_0x210425);}),!this['updatedLay'+'ers']['has'](_0x19b22b)){this['updatedLay'+'ers']['add'](_0x19b22b);const _0x1a0d4a=this['layerMeshI'+'nstances']['get'](_0x19b22b);if(_0x1a0d4a){for(let _0x192063=0x10b*0x3+-0x870+0x54f;_0x192063<_0x1a0d4a['length'];_0x192063++)_0x29e8b9['push'](_0x1a0d4a[_0x192063]);_0x1a0d4a['length']=0x136d*-0x2+-0x2441+0x4b1b;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x3d8654=>_0x3d8654['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(-0x1b*-0xe3+-0xe9e+-0x953,0x14f3+-0x11e+0x1*-0x13d5,0x22b4+0xdcc+0x40*-0xc2)),c(this,'density',0x1b35+0x7*0x486+-0x3adf),c(this,'start',-0x3f*0x16+-0xb49+0x4*0x42d),c(this,'end',0x5c7*0x3+-0x3a4+-0xa7*0xf);}}class ci extends ce{constructor(_0x37255a){super(),c(this,'ambientBak'+'e',!(-0x14d7+0x6fd*0x2+0x36f*0x2)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x1074+-0x1*0x621+-0xa53),c(this,'ambientBak'+'eOcclusion'+'Contrast',-0x1*-0x224f+0x335*-0xb+0x1f*0x8),c(this,'ambientLig'+'ht',new Y(0x10f*0x17+0x1021*0x1+-0x287a,0x17bf+-0x2*0x155+0x1515*-0x1,-0x1f*-0x130+-0x720+-0x64*0x4c)),c(this,'ambientLum'+'inance',0xe2*-0x29+0x16be*0x1+-0x29*-0x54),c(this,'exposure',-0x1a0a+-0x33a*0xc+0x40c3*0x1),c(this,'lightmapSi'+'zeMultipli'+'er',-0x8b*-0x11+-0x180+0x1*-0x7ba),c(this,'lightmapMa'+'xResolutio'+'n',-0x1*0xcb4+0x20c9+-0xc15),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x88e+0x1aea+-0x125b*0x1)),c(this,'lightmapHD'+'R',!(-0x3*-0x79d+0x1f88+-0x365e)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0x97b*-0x1+0x38*-0x47+0x3e*0x19)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x37255a,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x37255a,this['_gravity']=new T(0x198e+-0x1e6c+0x4de,-(-0x1*-0x60e+0x4*0x575+0x1bd9*-0x1+0.8000000000000007),-0x1*0x197+-0x2*-0x6af+-0xbc7),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0xdff*-0x1+-0xc9*-0x25+-0xf0d,this['_skyboxLum'+'inance']=-0x97e+0x235d+-0x19df,this['_skyboxMip']=-0xac3*0x2+-0x2184+-0xa*-0x581,this['_skyboxHig'+'hlightMult'+'iplier']=-0x1c13*0x1+0x26e6+-0xad2,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x48+-0x225*-0xe+-0x1dbd),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0xa3a+-0x3*-0x493+-0x12a*0x3,this['_ambientBa'+'keSpherePa'+'rt']=0x20b6+0x1*-0x1fbb+-0xfb+0.4,this['_lightmapF'+'ilterRange']=-0xa*0x30+-0x1*0x2135+-0xbb5*-0x3,this['_lightmapF'+'ilterSmoot'+'hness']=-0x1*-0x304+0x1*-0xd81+0xa7d+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x7a1+-0x1f1c+-0x177b*-0x1),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x20b4+0x1d39*0x1+-0x3ded*0x1);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x3aa+0x6ae+-0x304),this['_shaderVer'+'sion']=0x15ca+0x49d*-0x8+0xf1e,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x50093b){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x50093b),0x1804*0x1+0x248c*0x1+-0x25*0x1a3,-0x23b0+-0x9c2+0x2e71*0x1);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x1e6989){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x1e6989,-0x13d6+0x121d+0x1b9+0.001,-0x1*0x2f5+-0x1*0x1dda+0x20d0);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x7caa01){if(this['device']['isWebGPU']&&!_0x7caa01){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x7caa01){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x7caa01;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x1b2ea3){_0x1b2ea3!==this['_envAtlas']&&(this['_envAtlas']=_0x1b2ea3,_0x1b2ea3&&(_0x1b2ea3['addressU']=ae,_0x1b2ea3['addressV']=ae,_0x1b2ea3['minFilter']=st,_0x1b2ea3['magFilter']=st,_0x1b2ea3['mipmaps']=!(-0x4*-0x7c0+0x989*-0x4+0x725)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x3f88d1){const _0x38c0a0=this['_layers'];this['_layers']=_0x3f88d1,this['fire']('set:layers',_0x38c0a0,_0x3f88d1);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x501bb3){this['_lightmapF'+'ilterRange']=Math['max'](_0x501bb3,0x1673+0x1561+-0x33*0xdc+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x146f34){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x146f34,-0x2149+-0xb*0xb3+0x2*0x147d+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x4317d9){_0x4317d9=_0x4317d9||[];const _0x4a1842=this['_prefilter'+'edCubemaps'];(_0x4a1842['length']!==_0x4317d9['length']||_0x4a1842['some']((_0x144b5f,_0x67375b)=>_0x144b5f!==_0x4317d9[_0x67375b]))&&(_0x4317d9['length']===-0x27*0xe2+0x196c+0x908&&_0x4317d9['every'](_0x4e930b=>!!_0x4e930b)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x4317d9,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x4317d9['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x23094a){_0x23094a!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x23094a,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x5c14ca){_0x5c14ca!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x5c14ca,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x10e22c){_0x10e22c!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x10e22c,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x34c946){_0x34c946!==this['_skyboxMip']&&(this['_skyboxMip']=_0x34c946,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x4e2e2b){_0x4e2e2b!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x4e2e2b,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x57ec95){if(!this['_skyboxRot'+'ation']['equals'](_0x57ec95)){const _0x383211=_0x57ec95['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x57ec95),_0x383211?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x57ec95,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x383211&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x22b*-0x1+0xc28+-0xe53),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x7abb2a,_0x17a069,_0x1c2c28=Y['WHITE'],_0x1ee0b4=!(0x24fa+0xad*-0x29+-0x945),_0x33d273=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x33d273,_0x1ee0b4)['addLines']([_0x7abb2a,_0x17a069],[_0x1c2c28,_0x1c2c28]);}['drawLines'](_0x4316da,_0x20192b,_0x404ea6=!(0x24d9+0x1*-0x18db+-0xbfe),_0x4faa5a=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4faa5a,_0x404ea6)['addLines'](_0x4316da,_0x20192b);}['drawLineAr'+'rays'](_0x52f02e,_0x4153a0,_0x50bd7a=!(-0x24b+-0x29*0x98+0x1aa3),_0x52f789=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x52f789,_0x50bd7a)['addLinesAr'+'rays'](_0x52f02e,_0x4153a0);}['applySetti'+'ngs'](_0x7307a9){const _0x382325=_0x7307a9['physics'],_0x114352=_0x7307a9['render'];this['_gravity']['set'](_0x382325['gravity'][0x2568+-0x15*-0x18f+-0x4623],_0x382325['gravity'][0x3*-0x3fc+-0x261b+0x3210],_0x382325['gravity'][0x2*-0x3c5+-0x680+0xe0c]),this['ambientLig'+'ht']['set'](_0x114352['global_amb'+'ient'][-0x3bb+0x224b*-0x1+0x2606],_0x114352['global_amb'+'ient'][0x1065+-0x2105*0x1+0x10a1],_0x114352['global_amb'+'ient'][0x1f0e+-0x2314+-0x3*-0x158]),this['ambientLum'+'inance']=_0x114352['ambientLum'+'inance'],this['fog']['type']=_0x114352['fog'],this['fog']['color']['set'](_0x114352['fog_color'][-0x61e+0x12bf+0x1*-0xca1],_0x114352['fog_color'][0x97a*-0x4+-0xb98+0x3181],_0x114352['fog_color'][-0x1565+0x23e3*0x1+-0xe7c]),this['fog']['start']=_0x114352['fog_start'],this['fog']['end']=_0x114352['fog_end'],this['fog']['density']=_0x114352['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x114352['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x114352['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x114352['lightmapMo'+'de'],this['exposure']=_0x114352['exposure'],this['_skyboxInt'+'ensity']=_0x114352['skyboxInte'+'nsity']??0x1*-0xd2e+0x76e+0x3*0x1eb,this['_skyboxLum'+'inance']=_0x114352['skyboxLumi'+'nance']??0x85b6+-0xb*0x24b+-0x1e5d*0x1,this['_skyboxMip']=_0x114352['skyboxMip']??-0x1cd9+0x1ce4+-0x1*0xb,_0x114352['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x114352['skyboxRota'+'tion'][0x13*-0xad+-0x1*0xc91+0x1968],_0x114352['skyboxRota'+'tion'][-0x3*-0x26d+0xb0b+0x1251*-0x1],_0x114352['skyboxRota'+'tion'][-0x1621+0x1*-0x14b3+0x156b*0x2])),this['sky']['applySetti'+'ngs'](_0x114352),this['clusteredL'+'ightingEna'+'bled']=_0x114352['clusteredL'+'ightingEna'+'bled']??!(-0x17*0xc5+0x1b7a+-0x116*0x9),this['lighting']['applySetti'+'ngs'](_0x114352),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0xf28a8b=>{_0x114352['hasOwnProp'+'erty'](_0xf28a8b)&&(this[_0xf28a8b]=_0x114352[_0xf28a8b]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x4fff24=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x4fff24[[-0x23*0xa3+-0xf15+0x2*0x12af,0x1e63+0x6*-0x4ca+-0x1a6,0x25eb+-0x1*0x1732+0x75b*-0x2,-0x17fc*0x1+0x1ddc+-0x5dc,-0x65+0x5*-0x7b3+-0x1*-0x26e9,0x24bb*0x1+-0x3*0xbeb+0x2*-0x7a][this['_skyboxMip']]]||this['_envAtlas']||_0x4fff24[-0x16*0xe5+0x2510*0x1+-0x1162]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x4fff24[-0x6*0x3a5+0x1*-0x88f+0x1e6d]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x21*-0x11b+0x12fb+-0x3776);}['setSkybox'](_0x5eab20){_0x5eab20?(this['skybox']=_0x5eab20[0x2a*0xe3+0x18ed+0x3e2b*-0x1]||null,_0x5eab20[0x1*0x1323+-0xc1+-0x1261]&&!_0x5eab20[0xea3+-0xadb*-0x2+-0x2458]['cubemap']?this['envAtlas']=_0x5eab20[0x178f+-0x247c+0xcee]:this['prefiltere'+'dCubemaps']=_0x5eab20['slice'](-0x2*-0x524+0x858+0x7*-0x2a9)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x4cd39b,_0x5551a7,_0x5c2d44){this['device']=_0x4cd39b,this['inverseBin'+'dPose']=_0x5551a7,this['boneNames']=_0x5c2d44;}}const b1=[0x11*-0x1ed+0x1e1*-0xd+0x6*0x987,0x1c1*-0x2+0x1*0xa9c+-0x12f*0x6,-0x1*-0x2d+-0x1*-0x3fd+-0x429,-0x1600+-0x2*0x9bd+-0x2*-0x14bd,-0x1c84+-0x3b8+0x4*0x80f,0x17e+-0x1cf+0x29*0x2,-0x19*-0x3b+-0x5de*-0x5+0x3*-0xbb3,0x1*-0x15b2+-0x1*-0x1e13+-0x3*0x2cb,0x1ea0+0x1c5e+-0x1*0x3afd,-0x1537*0x1+-0x8*-0x35+-0x138f*-0x1,0x1417+0xe*0x1aa+0x2b63*-0x1,0x1*0x913+-0xc*-0xca+-0x128a],w1=[-0x1e4c+-0x3*-0xaa9+0x1af*-0x1,-0x59*0x6d+-0x1833+0x3e19,-0x1e8b+-0xbf4+0x1541*0x2,-0xf26*-0x2+0xb2f*-0x3+0x343*0x1,-0x9dc+0x1*0x25f1+-0xe09*0x2,-0x885+-0x25c4+0x9e*0x4b];class T1 extends ce{constructor(_0x1eb523,_0x212e08){super(),this['_device']=_0x1eb523,this['_pixelsPer'+'Unit']=_0x212e08&&_0x212e08['pixelsPerU'+'nit']!==void(0x3b9+-0x1*0x17f5+0x143c)?_0x212e08['pixelsPerU'+'nit']:0x1e25*0x1+0x1*-0x16d9+-0x74b,this['_renderMod'+'e']=_0x212e08&&_0x212e08['renderMode']!==void(-0x4*-0x3fd+0x1cae+-0x2ca2)?_0x212e08['renderMode']:Ti,this['_atlas']=_0x212e08&&_0x212e08['atlas']!==void(0x1b86+0x1*-0x24d9+0x953)?_0x212e08['atlas']:null,this['_frameKeys']=_0x212e08&&_0x212e08['frameKeys']!==void(-0x28c*-0x1+-0x1*-0x1887+-0x1b13)?_0x212e08['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x1*0x2a5+-0x14c6+0x1222),this['_meshesDir'+'ty']=!(-0x14d0+-0x2f3+0x17c4),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x2c715f){this['_frameKeys']=_0x2c715f,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x7*0x45a+-0xe04+-0x5*0x34a):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x2c715f);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x432cf8){_0x432cf8!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x432cf8,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x14b+0x1803+0x16b8*-0x1):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x432cf8));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x1742e5){this['_pixelsPer'+'Unit']!==_0x1742e5&&(this['_pixelsPer'+'Unit']=_0x1742e5,this['fire']('set:pixels'+'PerUnit',_0x1742e5),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x2f8+0x1c1e+0xc93*-0x2):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0xa4fabd){if(this['_renderMod'+'e']===_0xa4fabd)return;const _0x29b592=this['_renderMod'+'e'];this['_renderMod'+'e']=_0xa4fabd,this['fire']('set:render'+'Mode',_0xa4fabd),(_0x29b592===Ti||_0xa4fabd===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2146+0xeb1+-0xffd*0x3):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x431520=this['_meshes']['length'];for(let _0x1b3261=-0x16be+0x12b*0x9+0xc3b;_0x1b3261<_0x431520;_0x1b3261++){const _0x410e24=this['_meshes'][_0x1b3261];_0x410e24&&_0x410e24['destroy']();}const _0x4bffda=this['_frameKeys']['length'];this['_meshes']=new Array(_0x4bffda);const _0x45dade=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x31d5a9=-0xb*0x1ab+-0x6f*-0x4b+0xe2c*-0x1;_0x31d5a9<_0x4bffda;_0x31d5a9++){const _0xf0654f=this['_atlas']['frames'][this['_frameKeys'][_0x31d5a9]];this['_meshes'][_0x31d5a9]=_0xf0654f?_0x45dade['call'](this,_0xf0654f):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x1b8558){const _0x2bfe93=_0x1b8558['rect'],_0xf56ad3=this['_atlas']['texture']['width'],_0x1090d3=this['_atlas']['texture']['height'],_0x28ac32=_0x2bfe93['z']/this['_pixelsPer'+'Unit'],_0x2836e3=_0x2bfe93['w']/this['_pixelsPer'+'Unit'],_0x8f2df6=_0x1b8558['pivot']['x'],_0x241abb=_0x1b8558['pivot']['y'],_0x143b1e=[-_0x8f2df6*_0x28ac32,-_0x241abb*_0x2836e3,-0xe7f+0x246b*-0x1+0x32ea,(-0x1*0x12a9+0x1898+-0x17*0x42-_0x8f2df6)*_0x28ac32,-_0x241abb*_0x2836e3,0x2026+0x433*-0x1+-0x1bf3,(-0x29*0xbf+0xc85+-0x1213*-0x1-_0x8f2df6)*_0x28ac32,(0x1003+-0x14b4+0x4b2-_0x241abb)*_0x2836e3,0xb3d*0x2+0x379*-0x4+-0x896,-_0x8f2df6*_0x28ac32,(-0x1*0x11d7+-0x2b5+0x148d*0x1-_0x241abb)*_0x2836e3,0x1*-0x2029+-0x1*0x1e73+0x3e9c],_0x15949e=_0x2bfe93['x']/_0xf56ad3,_0x39192f=-0x2090+0x1c1*0xa+-0x1*-0xf07-_0x2bfe93['y']/_0x1090d3,_0x587276=(_0x2bfe93['x']+_0x2bfe93['z'])/_0xf56ad3,_0x27b205=0xf42+0xd71*0x2+-0x2a23-(_0x2bfe93['y']+_0x2bfe93['w'])/_0x1090d3,_0x1e9301=[_0x15949e,_0x39192f,_0x587276,_0x39192f,_0x587276,_0x27b205,_0x15949e,_0x27b205],_0x42c973=new pn();return _0x42c973['positions']=_0x143b1e,_0x42c973['normals']=b1,_0x42c973['uvs']=_0x1e9301,_0x42c973['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x42c973);}['_create9Sl'+'iceMesh'](){const _0xb745cd=W['ONE'],_0x242e08=-0x195*-0x1+0x1d3+-0x365,_0x4a086d=-0xf92+-0x1f0b*-0x1+-0x7bb*0x2,_0xdc536a=[],_0x51ddd4=[],_0x1188a4=[],_0x2c05dc=[];let _0x31207b=-0x1b4*0x4+-0x1a6a+0x109d*0x2;for(let _0x1ceb0a=0x1095+-0x1*0x498+0x63*-0x1f;_0x1ceb0a<=_0x242e08;_0x1ceb0a++){const _0x14279d=_0x1ceb0a===0x1234+0xe*0x1ab+0x12*-0x24f||_0x1ceb0a===_0x242e08?-0x177*-0x1+-0x1*0x587+0x410*0x1:0x1*-0x783+0x6bb+0xc9;for(let _0x22d6e3=0x6b5+-0x1b98+0x14e3;_0x22d6e3<=_0x4a086d;_0x22d6e3++){const _0x15dafe=-_0xb745cd['x']+(0xb35+-0x27*-0xd5+-0x2ba6)*_0xb745cd['x']*(_0x1ceb0a<=-0x5f2+0x6de+0x5*-0x2f?-0xc71+0x1*-0x23c6+-0x1*-0x3037:0xf*0x1db+-0x3c*0x97+-0x66*-0x13)/_0x242e08,_0x57d71b=0xdf*0xb+-0x2a0+-0x6f5,_0x8d412f=-(-_0xb745cd['y']+(0xb7*0x2a+0xf03+-0x2d07)*_0xb745cd['y']*(_0x22d6e3<=-0x9e*0x8+-0xcf8+0x11e9?-0x1830+-0x1*0x925+0x2155:-0x43*0x42+0x1d1c+-0xbd3)/_0x4a086d),_0x4a7fc6=_0x22d6e3===0x252f+-0xe5*-0x25+-0xad*0x68||_0x22d6e3===_0x4a086d?-0x10*-0x1c6+-0x1bc7+-0x11*0x9:0x1ff4+0x13e9+-0x33dc;_0xdc536a['push'](-_0x15dafe,_0x57d71b,_0x8d412f),_0x51ddd4['push'](-0x26db+-0x1*-0x120d+0x14ce,0x1*0x1+0x1ac1*-0x1+0x8eb*0x3,0x1622*0x1+0x2089+0x36ab*-0x1),_0x1188a4['push'](_0x14279d,_0x4a7fc6),_0x1ceb0a<_0x242e08&&_0x22d6e3<_0x4a086d&&(_0x2c05dc['push'](_0x31207b+_0x4a086d+(-0x1acc+0x1523+0x2*0x2d5),_0x31207b+(-0x1b4d+-0x11e7+0x2d35),_0x31207b),_0x2c05dc['push'](_0x31207b+_0x4a086d+(0x2*0x1215+-0x1042+-0x1*0x13e7),_0x31207b+_0x4a086d+(-0x1313+-0x2*-0x12dd+-0x12a5),_0x31207b+(0x53f+-0x13ee+0xeb0))),_0x31207b++;}}const _0x49da0b=new pn();return _0x49da0b['positions']=_0xdc536a,_0x49da0b['normals']=_0x51ddd4,_0x49da0b['uvs']=_0x1188a4,_0x49da0b['indices']=_0x2c05dc,Ie['fromGeomet'+'ry'](this['_device'],_0x49da0b);}['_onSetFram'+'es'](_0x51691a){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x20ec+-0x1bf2+-0x4fa):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x5def38,_0x38abdb){const _0x3d14f2=this['_frameKeys']['indexOf'](_0x5def38);_0x3d14f2<0x1c5d+-0xd37+-0xf26||(_0x38abdb?this['renderMode']===Ti&&(this['_meshes'][_0x3d14f2]=this['_createSim'+'pleMesh'](_0x38abdb)):this['_meshes'][_0x3d14f2]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x1253ee){const _0x240a18=this['_frameKeys']['indexOf'](_0x1253ee);_0x240a18<0x14e2+-0x29*-0xb5+-0x31df||(this['_meshes'][_0x240a18]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0xfbb+0xb*-0x176+0x48b*0x7),this['_meshesDir'+'ty']=!(0x26dc+-0x16ce+-0x100d);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x1c01+-0x1*-0x1532+-0x3132),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x1881+-0xb54+-0xd2c);}['destroy'](){for(const _0x4af158 of this['_meshes'])_0x4af158&&_0x4af158['destroy']();this['_meshes']['length']=0x1874+-0xc6a*0x2+-0x2*-0x30;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x17e313){this['_texture']=_0x17e313,this['fire']('set:textur'+'e',_0x17e313);}get['texture'](){return this['_texture'];}set['frames'](_0x672d43){this['_frames']=_0x672d43,this['fire']('set:frames',_0x672d43);}get['frames'](){return this['_frames'];}['setFrame'](_0x459080,_0x21a813){let _0x2852cf=this['_frames'][_0x459080];_0x2852cf?(_0x2852cf['rect']['copy'](_0x21a813['rect']),_0x2852cf['pivot']['copy'](_0x21a813['pivot']),_0x2852cf['border']['copy'](_0x21a813['border'])):(_0x2852cf={'rect':_0x21a813['rect']['clone'](),'pivot':_0x21a813['pivot']['clone'](),'border':_0x21a813['border']['clone']()},this['_frames'][_0x459080]=_0x2852cf),this['fire']('set:frame',_0x459080['toString'](),_0x2852cf);}['removeFram'+'e'](_0x1125d2){const _0x41fd0e=this['_frames'][_0x1125d2];_0x41fd0e&&(delete this['_frames'][_0x1125d2],this['fire']('remove:fra'+'me',_0x1125d2['toString'](),_0x41fd0e));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x3e0c14,_0x18c2a5,_0x3b63cc,_0x2cb579){this['time']=_0x3e0c14,this['position']=_0x18c2a5,this['rotation']=_0x3b63cc,this['scale']=_0x2cb579;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',-0x81*-0x38+-0x3*-0x865+-0x3567),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x712d34){return this['_nodeDict'][_0x712d34];}['addNode'](_0x5da05a){this['_nodes']['push'](_0x5da05a),this['_nodeDict'][_0x5da05a['_name']]=_0x5da05a;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0x9cd+0x1783*0x1+-0x214f),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x34d1bb){this['_targetNod'+'e']=_0x34d1bb;}}class Wd{constructor(_0x296952){c(this,'looping',!(0x206c+-0x46*-0x43+-0x32be)),(this['_animation']=null,this['_time']=0x4e8*0x4+-0x1a05*-0x1+-0x5f*0x7b,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0xe7fd4b=_0x58fd68=>{const _0x52e7d7=new E1();_0x52e7d7['_name']=_0x58fd68['name'],this['_interpola'+'tedKeys']['push'](_0x52e7d7),this['_interpola'+'tedKeyDict'][_0x58fd68['name']]=_0x52e7d7,this['_currKeyIn'+'dices'][_0x58fd68['name']]=-0x1469+0x4d*-0xb+-0x16*-0x114;for(let _0x4e3e39=0x14d9+0x32*-0x87+0x585;_0x4e3e39<_0x58fd68['_children']['length'];_0x4e3e39++)_0xe7fd4b(_0x58fd68['_children'][_0x4e3e39]);};_0xe7fd4b(_0x296952);}set['animation'](_0x3cff38){this['_animation']=_0x3cff38,this['currentTim'+'e']=0x13ca+0x131+0x83*-0x29;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0xc927b0){this['_time']=_0xc927b0;const _0x37acfb=this['_interpola'+'tedKeys']['length'];for(let _0x4674e4=-0x2394+0x12d9+0x10bb;_0x4674e4<_0x37acfb;_0x4674e4++){const _0x18adae=this['_interpola'+'tedKeys'][_0x4674e4]['_name'];this['_currKeyIn'+'dices'][_0x18adae]=0x2f7+-0x5*0x688+0x1db1;}this['addTime'](-0xa21+0x1243+-0x822),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x1d714c){if(this['_animation']!==null){const _0x431319=this['_animation']['_nodes'],_0xe93875=this['_animation']['duration'];if(this['_time']===_0xe93875&&!this['looping'])return;if(this['_time']+=_0x1d714c,this['_time']>_0xe93875){this['_time']=this['looping']?0x9d+-0x6b5+0x618:_0xe93875;for(let _0x13fa12=0xf4d+0x2639+-0x41e*0xd;_0x13fa12<_0x431319['length'];_0x13fa12++){const _0x265770=_0x431319[_0x13fa12]['_name'];this['_currKeyIn'+'dices'][_0x265770]=0xf95+-0x233f+-0x68e*-0x3;}}else{if(this['_time']<0x13bb+-0x1f5b+0x5d0*0x2){this['_time']=this['looping']?_0xe93875:-0x3*-0x35f+-0x11*0x1d+-0x830;for(let _0x380718=0x19d1*-0x1+0x223+0x17ae;_0x380718<_0x431319['length'];_0x380718++){const _0x3b8e34=_0x431319[_0x380718],_0x2c75cd=_0x3b8e34['_name'];this['_currKeyIn'+'dices'][_0x2c75cd]=_0x3b8e34['_keys']['length']-(-0x3*0x8bb+-0x989*0x1+0x4*0x8ef);}}}const _0x389394=_0x1d714c>=0x2cd*-0x5+0xce4+0xf*0x13?-0x6*0x3e+-0x1c59+-0x2*-0xee7:-(0x24d7*0x1+-0x16b7+0xf*-0xf1);for(let _0x647502=-0xc9b+-0x18b3*0x1+0x254e;_0x647502<_0x431319['length'];_0x647502++){const _0x4bedbb=_0x431319[_0x647502],_0x203b1d=_0x4bedbb['_name'],_0x2136f1=_0x4bedbb['_keys'],_0xe7f0c7=this['_interpola'+'tedKeyDict'][_0x203b1d];if(_0xe7f0c7===void(-0x2c8+-0x14c2+0x178a)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x203b1d);continue;}let _0x1574db=!(0x1646+-0x499*0x7+0x9ea);if(_0x2136f1['length']!==0x17*-0xe9+0x202b+-0xb3b)for(let _0x42f8b0=this['_currKeyIn'+'dices'][_0x203b1d];_0x42f8b0<_0x2136f1['length']-(0x1*-0x2097+-0x1*-0x41c+0x2*0xe3e)&&_0x42f8b0>=-0xce7*0x3+0x579*0x1+-0x58a*-0x6;_0x42f8b0+=_0x389394){const _0x5bbfe4=_0x2136f1[_0x42f8b0],_0x4d9b72=_0x2136f1[_0x42f8b0+(-0x954*0x3+-0x1bc5+0x37c2)];if(_0x5bbfe4['time']<=this['_time']&&_0x4d9b72['time']>=this['_time']){const _0x455e9c=(this['_time']-_0x5bbfe4['time'])/(_0x4d9b72['time']-_0x5bbfe4['time']);_0xe7f0c7['_pos']['lerp'](_0x5bbfe4['position'],_0x4d9b72['position'],_0x455e9c),_0xe7f0c7['_quat']['slerp'](_0x5bbfe4['rotation'],_0x4d9b72['rotation'],_0x455e9c),_0xe7f0c7['_scale']['lerp'](_0x5bbfe4['scale'],_0x4d9b72['scale'],_0x455e9c),_0xe7f0c7['_written']=!(-0x3*0x56f+0x165a+-0x60d),this['_currKeyIn'+'dices'][_0x203b1d]=_0x42f8b0,_0x1574db=!(0xca8+-0x21f*-0xd+-0x3*0xd69);break;}}(_0x2136f1['length']===-0x960+0xc*0x146+-0x5e7||!_0x1574db&&this['_time']===0x2f5+-0x974+0x67f&&this['looping'])&&(_0xe7f0c7['_pos']['copy'](_0x2136f1[-0xcd4*0x1+-0x3*0x219+0x131f]['position']),_0xe7f0c7['_quat']['copy'](_0x2136f1[0x1fe1+-0x2*-0x272+-0x24c5]['rotation']),_0xe7f0c7['_scale']['copy'](_0x2136f1[0xa*-0x77+-0x2*-0x22f+0x18*0x3]['scale']),_0xe7f0c7['_written']=!(-0x1e0c+-0x1680+0x76*0x72));}}}['blend'](_0x4c828b,_0x4cc38d,_0x210f3f){const _0x11b49b=this['_interpola'+'tedKeys']['length'];for(let _0xcda03d=-0x224c+0x1f*-0xe8+0x84*0x79;_0xcda03d<_0x11b49b;_0xcda03d++){const _0xd87aa0=_0x4c828b['_interpola'+'tedKeys'][_0xcda03d],_0x4ff13f=_0x4cc38d['_interpola'+'tedKeys'][_0xcda03d],_0xfc1545=this['_interpola'+'tedKeys'][_0xcda03d];_0xd87aa0['_written']&&_0x4ff13f['_written']?(_0xfc1545['_quat']['slerp'](_0xd87aa0['_quat'],_0x4cc38d['_interpola'+'tedKeys'][_0xcda03d]['_quat'],_0x210f3f),_0xfc1545['_pos']['lerp'](_0xd87aa0['_pos'],_0x4cc38d['_interpola'+'tedKeys'][_0xcda03d]['_pos'],_0x210f3f),_0xfc1545['_scale']['lerp'](_0xd87aa0['_scale'],_0x4ff13f['_scale'],_0x210f3f),_0xfc1545['_written']=!(-0x1*0xe12+0xcb+0xd47*0x1)):_0xd87aa0['_written']?(_0xfc1545['_quat']['copy'](_0xd87aa0['_quat']),_0xfc1545['_pos']['copy'](_0xd87aa0['_pos']),_0xfc1545['_scale']['copy'](_0xd87aa0['_scale']),_0xfc1545['_written']=!(0x725+0x1147+-0x186c)):_0x4ff13f['_written']&&(_0xfc1545['_quat']['copy'](_0x4ff13f['_quat']),_0xfc1545['_pos']['copy'](_0x4ff13f['_pos']),_0xfc1545['_scale']['copy'](_0x4ff13f['_scale']),_0xfc1545['_written']=!(-0x1279*-0x2+-0x1c2f+0x8c3*-0x1));}}['setGraph'](_0x2c97ca){if(this['graph']=_0x2c97ca,_0x2c97ca)for(let _0x470492=-0x1309+0x1470+-0x167;_0x470492<this['_interpola'+'tedKeys']['length'];_0x470492++){const _0x1ac091=this['_interpola'+'tedKeys'][_0x470492],_0x42af74=_0x2c97ca['findByName'](_0x1ac091['_name']);this['_interpola'+'tedKeys'][_0x470492]['setTarget'](_0x42af74);}else{for(let _0x1a8c40=-0x133f*0x2+-0x1655*0x1+0x17*0x2a5;_0x1a8c40<this['_interpola'+'tedKeys']['length'];_0x1a8c40++)this['_interpola'+'tedKeys'][_0x1a8c40]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x3977f6=-0x2410+0x17d8+0xc38;_0x3977f6<this['_interpola'+'tedKeys']['length'];_0x3977f6++){const _0x2dab8c=this['_interpola'+'tedKeys'][_0x3977f6];if(_0x2dab8c['_written']){const _0x4b6ae6=_0x2dab8c['getTarget']();_0x4b6ae6['localPosit'+'ion']['copy'](_0x2dab8c['_pos']),_0x4b6ae6['localRotat'+'ion']['copy'](_0x2dab8c['_quat']),_0x4b6ae6['localScale']['copy'](_0x2dab8c['_scale']),_0x4b6ae6['_dirtyLoca'+'l']||_0x4b6ae6['_dirtifyLo'+'cal'](),_0x2dab8c['_written']=!(-0x1*0xf98+-0x945+0x18de);}}}}const ys=(0x2508+0x19e9+0xb5*-0x59)/(0x2*0xb7b+-0x78*0x2c+-0x1*0x216),Bs=-0x1*0xfc1+-0x38f+-0x1*-0x1351-ys*(0x1572+0x20bd+-0x45*0xc9);class Bp extends pn{constructor(_0x4ae13f,_0x2cf33c,_0x5925ba,_0x2ef42c,_0x3100a0,_0xa8bc2f){super();const _0x261bdb=new T(),_0x3d8e46=new T(),_0x27b9f4=new T(),_0x2ae35c=new T(),_0x2f64ea=new T(),_0x449137=new T(),_0x51eb50=[],_0x1980b5=[],_0x253091=[],_0x19f9a8=[],_0x2f2a08=[];let _0x3db73c;if(_0x5925ba>-0x488*-0x2+0x1844+0x855*-0x4){for(let _0x3d310b=0x1e33+-0x1518+0x9*-0x103;_0x3d310b<=_0x2ef42c;_0x3d310b++)for(let _0x48595e=0x1227+0x25cb+-0x7*0x7fe;_0x48595e<=_0x3100a0;_0x48595e++){const _0x2ebe1a=_0x48595e/_0x3100a0*(-0x7b5*0x3+0x1abe+-0x39d)*Math['PI']-Math['PI'],_0x374ce0=Math['sin'](_0x2ebe1a),_0x54975d=Math['cos'](_0x2ebe1a);_0x2f64ea['set'](_0x374ce0*_0x4ae13f,-_0x5925ba/(-0x3d*0x6d+-0x2c*-0x31+0x118f),_0x54975d*_0x4ae13f),_0x2ae35c['set'](_0x374ce0*_0x2cf33c,_0x5925ba/(0x2422+-0x1bcc+0x42a*-0x2),_0x54975d*_0x2cf33c),_0x261bdb['lerp'](_0x2f64ea,_0x2ae35c,_0x3d310b/_0x2ef42c),_0x3d8e46['sub2'](_0x2ae35c,_0x2f64ea)['normalize'](),_0x449137['set'](_0x54975d,0xd3d*0x1+0xee5+-0x1c22,-_0x374ce0),_0x27b9f4['cross'](_0x449137,_0x3d8e46)['normalize'](),_0x51eb50['push'](_0x261bdb['x'],_0x261bdb['y'],_0x261bdb['z']),_0x1980b5['push'](_0x27b9f4['x'],_0x27b9f4['y'],_0x27b9f4['z']);let _0x2b0fce=_0x48595e/_0x3100a0,_0x3ca362=_0x3d310b/_0x2ef42c;_0x253091['push'](_0x2b0fce,-0x6*0x328+0x16a1+-0x3b0-_0x3ca362);const _0x36fe97=_0x3ca362;if(_0x3ca362=_0x2b0fce,_0x2b0fce=_0x36fe97,_0x2b0fce=_0x2b0fce*Bs+ys,_0x3ca362=_0x3ca362*Bs+ys,_0x2b0fce/=0x8b*0x3+0x1cb3+-0x1e51,_0x19f9a8['push'](_0x2b0fce,0x1519*-0x1+-0x8e*-0x43+-0x1010-_0x3ca362),_0x3d310b<_0x2ef42c&&_0x48595e<_0x3100a0){const _0x476204=_0x3d310b*(_0x3100a0+(-0x2600*0x1+0x4b1*0x6+-0x57*-0x1d))+_0x48595e,_0x1ef204=_0x3d310b*(_0x3100a0+(-0x206e+0x8f*-0xb+0x2694))+(_0x48595e+(0x1e97+0x42d*-0x9+0x9*0xc7)),_0x12d694=(_0x3d310b+(0x12bb+-0x17c4+-0x2b*-0x1e))*(_0x3100a0+(-0xc07+-0x12e9*-0x2+-0x19ca))+_0x48595e,_0x2a594f=(_0x3d310b+(0x9fb+0x1eb8+-0x28b2))*(_0x3100a0+(0xaab*0x3+-0x254d+0x54d))+(_0x48595e+(0x386*-0x4+0x264+0x3*0x3e7));_0x2f2a08['push'](_0x476204,_0x1ef204,_0x12d694),_0x2f2a08['push'](_0x1ef204,_0x2a594f,_0x12d694);}}}if(_0xa8bc2f){const _0x4de4e3=Math['floor'](_0x3100a0/(0xf62+0x1a2*0x2+-0x12a4)),_0x5ab0f1=_0x3100a0,_0x3b715b=_0x5925ba/(-0x3ed+-0x58f+-0x10e*-0x9);for(let _0x1d565f=-0x1*-0x1f55+-0x2*0x625+-0x130b;_0x1d565f<=_0x4de4e3;_0x1d565f++){const _0x5882ce=_0x1d565f*Math['PI']*(0x1d3e+-0x4f*0x53+0x1*-0x3a1+0.5)/_0x4de4e3,_0x1f33b6=Math['sin'](_0x5882ce),_0x5c57bf=Math['cos'](_0x5882ce);for(let _0x2545b8=0x1*-0x44f+0x105b*0x2+-0x1c67;_0x2545b8<=_0x5ab0f1;_0x2545b8++){const _0x38a193=_0x2545b8*(-0x102e+0x637+0x9f9)*Math['PI']/_0x5ab0f1-Math['PI']/(0xe61+-0x12b1+0x2*0x229),_0xf90ff5=Math['sin'](_0x38a193),_0x544a83=Math['cos'](_0x38a193)*_0x1f33b6,_0x3e2afb=_0x5c57bf,_0x31e7c6=_0xf90ff5*_0x1f33b6;let _0x1cc88e=0x14f8+0x1*-0x2065+0xd1*0xe-_0x2545b8/_0x5ab0f1,_0x375da2=0x1582*-0x1+0x1b9a*0x1+-0x1*0x617-_0x1d565f/_0x4de4e3;_0x51eb50['push'](_0x544a83*_0x2cf33c,_0x3e2afb*_0x2cf33c+_0x3b715b,_0x31e7c6*_0x2cf33c),_0x1980b5['push'](_0x544a83,_0x3e2afb,_0x31e7c6),_0x253091['push'](_0x1cc88e,-0xd5*-0x11+-0x1*-0x1c85+-0x1*0x2aa9-_0x375da2),_0x1cc88e=_0x1cc88e*Bs+ys,_0x375da2=_0x375da2*Bs+ys,_0x1cc88e/=-0x13*-0x86+0x18f6+0x1*-0x22e5,_0x375da2/=0x1024*-0x2+0x1*-0xbc3+0x2c0e,_0x1cc88e+=(-0x1c19*0x1+0xe2c+0xdee)/(0x2168+-0x175*-0x10+-0x38b5),_0x19f9a8['push'](_0x1cc88e,0x1a64+-0x1873+-0x1f0-_0x375da2);}}_0x3db73c=(_0x2ef42c+(-0x2ec+0x15e*-0x19+0x251b))*(_0x3100a0+(-0x81*0x25+0x15a4+-0x2*0x17f));for(let _0x14794f=-0xfd1+0x260*-0x2+0x1491;_0x14794f<_0x4de4e3;++_0x14794f)for(let _0x3b1cda=0x1597+-0x1dbd+0x826;_0x3b1cda<_0x5ab0f1;++_0x3b1cda){const _0x31ad97=_0x14794f*(_0x5ab0f1+(-0x6*0x2+0xbad+-0xba0))+_0x3b1cda,_0x4b4991=_0x31ad97+_0x5ab0f1+(-0xb*0x2ce+0x93e+0x159d);_0x2f2a08['push'](_0x3db73c+_0x31ad97+(0x127*-0xe+-0x68c+0x16af),_0x3db73c+_0x4b4991,_0x3db73c+_0x31ad97),_0x2f2a08['push'](_0x3db73c+_0x31ad97+(0x351*-0x2+0x10c4+0xa21*-0x1),_0x3db73c+_0x4b4991+(-0x1b1c+-0x3*0x392+-0x25d3*-0x1),_0x3db73c+_0x4b4991);}for(let _0x2f8229=0x371*-0x3+0x8a7+0x1ac;_0x2f8229<=_0x4de4e3;_0x2f8229++){const _0x2ceed1=Math['PI']*(0x33a+-0x199f+0x1665+0.5)+_0x2f8229*Math['PI']*(-0x268+-0xd*-0x3b+-0x97+0.5)/_0x4de4e3,_0x8d5f3e=Math['sin'](_0x2ceed1),_0x11fc6c=Math['cos'](_0x2ceed1);for(let _0x4945e9=-0x8ab+-0x221c+0x2ac7;_0x4945e9<=_0x5ab0f1;_0x4945e9++){const _0x975baa=_0x4945e9*(0x2671+0x227b+-0x2*0x2475)*Math['PI']/_0x5ab0f1-Math['PI']/(0x3b1*-0x3+-0x2530+-0x3045*-0x1),_0x2b794f=Math['sin'](_0x975baa),_0x1e7766=Math['cos'](_0x975baa)*_0x8d5f3e,_0x5598ee=_0x11fc6c,_0x2ae36b=_0x2b794f*_0x8d5f3e;let _0x24e65e=-0xf39+-0x888+-0xbe1*-0x2-_0x4945e9/_0x5ab0f1,_0x1468ab=0x476+0x8eb*0x3+0x1d6*-0x11-_0x2f8229/_0x4de4e3;_0x51eb50['push'](_0x1e7766*_0x2cf33c,_0x5598ee*_0x2cf33c-_0x3b715b,_0x2ae36b*_0x2cf33c),_0x1980b5['push'](_0x1e7766,_0x5598ee,_0x2ae36b),_0x253091['push'](_0x24e65e,0x14+0x1367*0x2+-0x26e1-_0x1468ab),_0x24e65e=_0x24e65e*Bs+ys,_0x1468ab=_0x1468ab*Bs+ys,_0x24e65e/=-0x16fd*-0x1+-0x24c4+-0xdca*-0x1,_0x1468ab/=-0x21*0xe5+0x2579+-0x7f1,_0x24e65e+=(-0x372+-0x2*-0x11d9+-0x203e*0x1)/(-0x113d*-0x2+-0x2*0xf5e+-0x3bb),_0x19f9a8['push'](_0x24e65e,-0x1f*0x113+-0x1235+-0x1*-0x3383-_0x1468ab);}}_0x3db73c=(_0x2ef42c+(-0x148a*-0x1+0x269b+-0x3b24))*(_0x3100a0+(0x1343+-0x15d0+0x28e))+(_0x5ab0f1+(0xd*0x2b3+-0x1906+0x7*-0x170))*(_0x4de4e3+(-0x556+0x14d9+0x1*-0xf82));for(let _0x497019=-0x20ab+-0x1*0x24c7+0x3*0x1726;_0x497019<_0x4de4e3;++_0x497019)for(let _0x382370=-0x2*-0x1cc+-0xf10+0xb78;_0x382370<_0x5ab0f1;++_0x382370){const _0x2c7987=_0x497019*(_0x5ab0f1+(-0x479+-0x2155+-0x1*-0x25cf))+_0x382370,_0x492787=_0x2c7987+_0x5ab0f1+(-0x32b+0x1a78*0x1+-0x174c*0x1);_0x2f2a08['push'](_0x3db73c+_0x2c7987+(-0x1*0x1149+-0x1af1+0x2c3b),_0x3db73c+_0x492787,_0x3db73c+_0x2c7987),_0x2f2a08['push'](_0x3db73c+_0x2c7987+(0x566*-0x1+-0x1ee5+0xca*0x2e),_0x3db73c+_0x492787+(-0x1*0x1d35+0xa6f*0x2+0x858*0x1),_0x3db73c+_0x492787);}}else{if(_0x3db73c=(_0x2ef42c+(-0x1*0x154e+0x306+-0x1249*-0x1))*(_0x3100a0+(-0xaf0+0xe*-0x1cd+0x2427)),_0x4ae13f>0x991*0x1+-0x38a*-0x5+-0x1b43)for(let _0x127477=-0x212+0xe5e+-0xc4c;_0x127477<_0x3100a0;_0x127477++){const _0x3d3612=_0x127477/_0x3100a0*(-0x1a*0x34+0x72a+-0x1e0)*Math['PI'],_0x1f13c3=Math['sin'](_0x3d3612),_0x5ef999=-_0x5925ba/(-0x28f*-0x8+0xd*0x52+-0x18a0),_0x457872=Math['cos'](_0x3d3612);let _0x400b74=-0x1*-0x17a3+-0x1b7b+0x3d9-(_0x1f13c3+(0x5*0x749+-0x1*-0x4bd+-0x2929))/(-0x31b+-0x1c68+0x1f85),_0x2d02b7=(_0x457872+(0xc5*-0x1e+-0x1*0x99d+0xd*0x284))/(0xb4d+0x9*0x1a1+-0x19f4);_0x51eb50['push'](_0x1f13c3*_0x4ae13f,_0x5ef999,_0x457872*_0x4ae13f),_0x1980b5['push'](0x2d5*-0x2+-0x22fc+0xf2*0x2b,-(-0x1840+-0xdc5+0x2606),-0x1961+0x1f9f+-0x5e*0x11),_0x253091['push'](_0x400b74,-0x2595+0x2*-0x109+-0x34e*-0xc-_0x2d02b7),_0x400b74=_0x400b74*Bs+ys,_0x2d02b7=_0x2d02b7*Bs+ys,_0x400b74/=-0x665*0x5+0x2*-0xe3b+0x3*0x1426,_0x2d02b7/=0x625+0x685+-0xca7,_0x400b74+=(0x17e2+-0x9*-0x3bc+-0x1*0x397d)/(-0xb*0x2ab+-0x1e68+0x3bc4),_0x19f9a8['push'](_0x400b74,-0xa2f+0xd*-0x3f+-0x1*-0xd63-_0x2d02b7),_0x127477>0x1ed+0x910+-0xafc&&_0x2f2a08['push'](_0x3db73c,_0x3db73c+_0x127477,_0x3db73c+_0x127477-(-0x20f5+-0x24ae+0x45a4));}if(_0x3db73c+=_0x3100a0,_0x2cf33c>-0x1cfa+0x2*-0xcfe+-0x7da*-0x7)for(let _0x3f51af=-0x1497+-0x1d63*-0x1+-0x8cc;_0x3f51af<_0x3100a0;_0x3f51af++){const _0x273678=_0x3f51af/_0x3100a0*(-0x128*-0x1f+-0x223*-0x3+-0x2a3f)*Math['PI'],_0xd17a81=Math['sin'](_0x273678),_0x33f9f7=_0x5925ba/(-0x26d8+0x10ff+0x749*0x3),_0x284554=Math['cos'](_0x273678);let _0x59273e=-0x1e6e+0x308+0x1b67-(_0xd17a81+(0x31*-0xad+0x1*-0x2284+0x43a2))/(-0x7e7+-0x25f6+0x2ddf),_0x18197f=(_0x284554+(0x1ebd*-0x1+-0xda6+0x2c64))/(-0x89b+0x21d*0x3+-0x3*-0xc2);_0x51eb50['push'](_0xd17a81*_0x2cf33c,_0x33f9f7,_0x284554*_0x2cf33c),_0x1980b5['push'](0x6e+-0x606+0x4*0x166,-0x1c9b+-0x1*0x20f2+0x2*0x1ec7,0x168c*-0x1+-0x19*-0x169+-0xcb5),_0x253091['push'](_0x59273e,0x11*-0x1cd+-0x2*-0xbe7+0x6d0-_0x18197f),_0x59273e=_0x59273e*Bs+ys,_0x18197f=_0x18197f*Bs+ys,_0x59273e/=0x2*0xe85+0xa85*-0x2+-0x7fd,_0x18197f/=0xa1*0x10+0xd2e+-0x173b,_0x59273e+=(0x11a1*-0x2+0x179+0x21cb)/(0x358*0x8+0x4*0x650+0x33fd*-0x1),_0x19f9a8['push'](_0x59273e,-0x99d+0x3*0xce5+-0x1d11-_0x18197f),_0x3f51af>0x3*-0xb96+0x21c6+0xfd&&_0x2f2a08['push'](_0x3db73c,_0x3db73c+_0x3f51af-(-0x17a3+-0x81a+0x1*0x1fbe),_0x3db73c+_0x3f51af);}}this['positions']=_0x51eb50,this['normals']=_0x1980b5,this['uvs']=_0x253091,this['uvs1']=_0x19f9a8,this['indices']=_0x2f2a08;}}class C1 extends Bp{constructor(_0x3ff860={}){const _0x460a08=_0x3ff860['radius']??-0x1ca9+-0x13dc+0x3085+0.3,_0xefb5c9=_0x3ff860['height']??0x1*0x1909+-0x3*0xa93+0x1*0x6b1,_0x4d4a2c=_0x3ff860['heightSegm'+'ents']??0xae3+-0x20e2+0x1600,_0x22437f=_0x3ff860['sides']??0x5*0x440+0xb50+-0x207c;super(_0x460a08,_0x460a08,_0xefb5c9-(-0xf*-0x33+-0x2*-0x4d7+-0xca9)*_0x460a08,_0x4d4a2c,_0x22437f,!(0xd*0x275+-0x1*0x21b9+0x1c8)),_0x3ff860['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0xb904bd={}){const _0x50d384=_0xb904bd['baseRadius']??0x23ef+0x4*-0x181+-0x1*0x1deb+0.5,_0x52ab31=_0xb904bd['peakRadius']??-0x2021+0x1*0x173c+-0x8e5*-0x1,_0x365259=_0xb904bd['height']??-0x1ccb+-0x18e8+0x35b4,_0x2f60cc=_0xb904bd['heightSegm'+'ents']??0x5*-0x7cf+-0x1*0x253+0x32f*0xd,_0x2422a1=_0xb904bd['capSegment'+'s']??-0x2*0xfd1+0x41*0x85+-0x211;super(_0x50d384,_0x52ab31,_0x365259,_0x2f60cc,_0x2422a1,!(-0x2f*-0xcd+0x1351*-0x1+-0x1251)),_0xb904bd['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x20edff={}){const _0x17ad20=_0x20edff['radius']??0x1*-0x1ed9+0x1d2e+-0x1ab*-0x1+0.5,_0x452fef=_0x20edff['height']??-0x2168+-0x10c1+0x1*0x322a,_0x328953=_0x20edff['heightSegm'+'ents']??0x2*-0x120f+-0x3b*-0xa6+-0x21f,_0x5e0141=_0x20edff['capSegment'+'s']??-0x1*-0x1a2e+-0x4bd+-0x1*0x155d;super(_0x17ad20,_0x17ad20,_0x452fef,_0x328953,_0x5e0141,!(0x27f*0x6+0x10c9+-0x2*0xfe1)),_0x20edff['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x3e1a96={}){super();const _0x52b336=_0x3e1a96['halfExtent'+'s']??new W(-0xd6*0x1+0x35*-0x83+0x1bf5+0.5,-0x929*-0x2+0x9b7+0x1c09*-0x1+0.5),_0x3fc655=_0x3e1a96['widthSegme'+'nts']??-0x466+-0xc56*-0x1+-0x7eb,_0x545eba=_0x3e1a96['lengthSegm'+'ents']??0x1*0x1d+0x18c6+-0x18de,_0xac7b81=[],_0x235f79=[],_0x4067d0=[],_0x2404c5=[];let _0xb5190b=0xfb5*0x2+-0x15c9*0x1+-0x9a1;for(let _0x141057=-0x102d+0xe49+0x1e4;_0x141057<=_0x3fc655;_0x141057++)for(let _0x3c902d=-0x349+-0x7d1+0x3a*0x31;_0x3c902d<=_0x545eba;_0x3c902d++){const _0x246346=-_0x52b336['x']+(-0x1*-0x233b+0x12de+-0x3617)*_0x52b336['x']*_0x141057/_0x3fc655,_0x3da72d=-0x1efc+-0x1c41+0x3b3d,_0x539f42=-(-_0x52b336['y']+(-0x18a7+-0x4b6+-0x1*-0x1d5f)*_0x52b336['y']*_0x3c902d/_0x545eba),_0x48eefd=_0x141057/_0x3fc655,_0x5e5695=_0x3c902d/_0x545eba;_0xac7b81['push'](_0x246346,_0x3da72d,_0x539f42),_0x235f79['push'](-0xa*0x2a2+-0x1886+0x32da,-0x3*0x525+-0x1*0xd7+0x9*0x1cf,0x1373+-0x1*-0x1413+-0x2786),_0x4067d0['push'](_0x48eefd,0x25f2+-0x1*0x6bb+-0x1f36-_0x5e5695),_0x141057<_0x3fc655&&_0x3c902d<_0x545eba&&(_0x2404c5['push'](_0xb5190b+_0x545eba+(-0x196d+0x2f*0x55+0x5*0x1f7),_0xb5190b+(0xe5*0xb+0x17aa*0x1+-0x43*0x80),_0xb5190b),_0x2404c5['push'](_0xb5190b+_0x545eba+(0x6bd+-0x1*-0x73b+-0xdf7),_0xb5190b+_0x545eba+(-0x3a+-0x8*-0x3be+-0x1db4),_0xb5190b+(-0x1884+-0x1*0xc67+-0x2*-0x1276))),_0xb5190b++;}this['positions']=_0xac7b81,this['normals']=_0x235f79,this['uvs']=_0x4067d0,this['uvs1']=_0x4067d0,this['indices']=_0x2404c5,_0x3e1a96['calculateT'+'angents']&&(this['tangents']=fr(_0xac7b81,_0x235f79,_0x4067d0,_0x2404c5));}}class I1 extends pn{constructor(_0x2d9bbb={}){super();const _0x42a855=_0x2d9bbb['tubeRadius']??-0x1*0x12e2+-0x36*-0x87+-0x998*0x1+0.2,_0x11d0f4=_0x2d9bbb['ringRadius']??0xb8+0x778*-0x2+0xe*0x104+0.3,_0x1bdea7=(_0x2d9bbb['sectorAngl'+'e']??0xb61+-0x7a3*-0x3+-0x20e2)*N['DEG_TO_RAD'],_0x445643=_0x2d9bbb['segments']??-0x13fc+0x193+0x117*0x11,_0x1f4d0a=_0x2d9bbb['sides']??-0x19c*-0x1+-0x1*0x1e7a+0x1cf2,_0x8627ef=[],_0x9458fd=[],_0x1b9603=[],_0x59154d=[];for(let _0x1d2777=0x10f5+0x1675+-0x276a;_0x1d2777<=_0x1f4d0a;_0x1d2777++)for(let _0x221c29=0x1a9e+0xb*0x7a+-0xfee*0x2;_0x221c29<=_0x445643;_0x221c29++){const _0x375c37=Math['cos'](_0x1bdea7*_0x221c29/_0x445643)*(_0x11d0f4+_0x42a855*Math['cos']((0xb0e+0x16e4+-0x18*0x16a)*Math['PI']*_0x1d2777/_0x1f4d0a)),_0x286ef2=Math['sin']((-0x8df*-0x1+0x1*0x667+-0xf44)*Math['PI']*_0x1d2777/_0x1f4d0a)*_0x42a855,_0x5cdbb0=Math['sin'](_0x1bdea7*_0x221c29/_0x445643)*(_0x11d0f4+_0x42a855*Math['cos']((-0x14c6+-0x3*0x2d9+-0x1d53*-0x1)*Math['PI']*_0x1d2777/_0x1f4d0a)),_0x51f60d=Math['cos'](_0x1bdea7*_0x221c29/_0x445643)*Math['cos']((-0x1*0x101d+0x1*0x58c+0x1*0xa93)*Math['PI']*_0x1d2777/_0x1f4d0a),_0xb47274=Math['sin']((-0x2429+-0x1d*0x13f+0x484e)*Math['PI']*_0x1d2777/_0x1f4d0a),_0x1227bc=Math['sin'](_0x1bdea7*_0x221c29/_0x445643)*Math['cos']((0x134*0x7+0x1*0x2072+-0x28dc*0x1)*Math['PI']*_0x1d2777/_0x1f4d0a),_0x2c0d18=_0x1d2777/_0x1f4d0a,_0x3c1a46=0x106f+-0x5*-0x105+-0x21*0xa7-_0x221c29/_0x445643;if(_0x8627ef['push'](_0x375c37,_0x286ef2,_0x5cdbb0),_0x9458fd['push'](_0x51f60d,_0xb47274,_0x1227bc),_0x1b9603['push'](_0x2c0d18,0x425+0x11*-0x11+-0x303-_0x3c1a46),_0x1d2777<_0x1f4d0a&&_0x221c29<_0x445643){const _0x55f56d=_0x1d2777*(_0x445643+(0x1f85+-0x2db+0x17*-0x13f))+_0x221c29,_0x1ed516=(_0x1d2777+(0x14b5+0x4*0x8+-0x1f*0xac))*(_0x445643+(-0x1274+-0x1f12+0x3187))+_0x221c29,_0x4b59f2=_0x1d2777*(_0x445643+(-0x132a+-0x1e9f+-0x1*-0x31ca))+(_0x221c29+(-0x16ab+0xcf1+0x2f*0x35)),_0x5e505d=(_0x1d2777+(0x2*-0x361+0x1*0xa51+-0x38e))*(_0x445643+(0x112d+-0x215*0x7+-0x299))+(_0x221c29+(-0x709+-0x29*0x8+0x1aa*0x5));_0x59154d['push'](_0x55f56d,_0x1ed516,_0x4b59f2),_0x59154d['push'](_0x1ed516,_0x5e505d,_0x4b59f2);}}this['positions']=_0x8627ef,this['normals']=_0x9458fd,this['uvs']=_0x1b9603,this['uvs1']=_0x1b9603,this['indices']=_0x59154d,_0x2d9bbb['calculateT'+'angents']&&(this['tangents']=fr(_0x8627ef,_0x9458fd,_0x1b9603,_0x59154d));}}class D1{constructor(_0x5d2822,_0x28572b){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x5d2822,this['_isClearin'+'gCache']=!(-0x21a7*0x1+-0x2431+0x45d9),this['_precached']=!(0x1005+-0x1e3d+-0x14b*-0xb),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x26bf6b=new A0();_0x28572b['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x26bf6b,_0x28572b,null,[],gn,null),_0x28572b['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x28572b,null,Rp,null),_0x5d2822['on']('destroy:sh'+'ader',_0x175af5=>{this['removeFrom'+'Cache'](_0x175af5);});}['destroy'](){this['clearCache']();}['register'](_0x377ae9,_0x3f5043){this['_generator'+'s']['has'](_0x377ae9)||this['_generator'+'s']['set'](_0x377ae9,_0x3f5043);}['unregister'](_0x542ce4){this['_generator'+'s']['has'](_0x542ce4)&&this['_generator'+'s']['delete'](_0x542ce4);}['isRegister'+'ed'](_0x3f871c){return this['_generator'+'s']['has'](_0x3f871c);}['generateSh'+'aderDefini'+'tion'](_0xaf2603,_0x25effb,_0x1b6bf5,_0x1996e4){var _0x151f9f,_0x54ce7f;let _0xe515ca=this['definition'+'sCache']['get'](_0x1b6bf5);if(!_0xe515ca){let _0x294b76;(_0x151f9f=_0x1996e4['litOptions'])!=null&&_0x151f9f['lights']&&(_0x294b76=_0x1996e4['litOptions']['lights'],_0x1996e4['litOptions']['lights']=_0x294b76['map'](_0x58f1c3=>{const _0x290052=_0x58f1c3['clone']?_0x58f1c3['clone']():_0x58f1c3;return _0x290052['key']=_0x58f1c3['key'],_0x290052;})),this['storeNewPr'+'ogram'](_0x25effb,_0x1996e4),(_0x54ce7f=_0x1996e4['litOptions'])!=null&&_0x54ce7f['lights']&&(_0x1996e4['litOptions']['lights']=_0x294b76),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x25effb+'\x20key\x20'+_0x1b6bf5+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x377879=this['_device'];_0xe515ca=_0xaf2603['createShad'+'erDefiniti'+'on'](_0x377879,_0x1996e4),_0xe515ca['name']=_0xe515ca['name']??(_0x1996e4['pass']?_0x25effb+'-pass:'+_0x1996e4['pass']:_0x25effb),this['definition'+'sCache']['set'](_0x1b6bf5,_0xe515ca);}return _0xe515ca;}['getCachedS'+'hader'](_0x190ce0){return this['processedC'+'ache']['get'](_0x190ce0);}['setCachedS'+'hader'](_0x11cf13,_0x20ce3b){this['processedC'+'ache']['set'](_0x11cf13,_0x20ce3b);}['getProgram'](_0x121086,_0x4e527f,_0x5e8a6d,_0x259d77){const _0x1d985f=this['_generator'+'s']['get'](_0x121086);if(!_0x1d985f)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x121086),null;const _0x47920f=_0x1d985f['generateKe'+'y'](_0x4e527f),_0xfe9f17=hn(_0x47920f),_0x4b1f39=_0x5e8a6d['generateKe'+'y'](this['_device']),_0x4f349f=hn(_0x4b1f39),_0x28ba46=_0xfe9f17+'#'+_0x4f349f;let _0x102ac9=this['getCachedS'+'hader'](_0x28ba46);if(!_0x102ac9){const _0x3150db=this['generateSh'+'aderDefini'+'tion'](_0x1d985f,_0x121086,_0xfe9f17,_0x4e527f);v['assert'](_0x3150db);let _0x4e1cb1='',_0x443213;_0x4e527f['pass']!==void(-0x1986+0x1*-0x1d71+0x36f7)&&(_0x443213=Ks['get'](this['_device'])['getByIndex'](_0x4e527f['pass']),_0x4e1cb1='-'+_0x443213['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x259d77,'shaderPassInfo':_0x443213,'definition':_0x3150db});const _0x27268d={'name':''+_0x3150db['name']+_0x4e1cb1+'-proc','attributes':_0x3150db['attributes'],'vshader':_0x3150db['vshader'],'vincludes':_0x3150db['vincludes'],'fincludes':_0x3150db['fincludes'],'fshader':_0x3150db['fshader'],'processingOptions':_0x5e8a6d,'shaderLanguage':_0x3150db['shaderLang'+'uage'],'meshUniformBufferFormat':_0x3150db['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x3150db['meshBindGr'+'oupFormat']};_0x102ac9=new i0(this['_device'],_0x27268d),v['call'](()=>{_0x102ac9['_generatio'+'nKey']=_0x47920f,_0x102ac9['_processin'+'gKey']=_0x4b1f39;}),this['setCachedS'+'hader'](_0x28ba46,_0x102ac9);}return _0x102ac9;}['storeNewPr'+'ogram'](_0x3592f2,_0x46b159){let _0x4d4c36={};if(_0x3592f2==='standard'){const _0x5d21fe=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x46b159['pass']);for(const _0x48ffea in _0x46b159)(_0x46b159['hasOwnProp'+'erty'](_0x48ffea)&&_0x5d21fe[_0x48ffea]!==_0x46b159[_0x48ffea]||_0x48ffea==='pass')&&(_0x4d4c36[_0x48ffea]=_0x46b159[_0x48ffea]);for(const _0xb73998 in _0x46b159['litOptions'])_0x4d4c36[_0xb73998]=_0x46b159['litOptions'][_0xb73998];}else _0x4d4c36=_0x46b159;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x3592f2,'options':_0x4d4c36}));}['dumpProgra'+'ms'](){let _0x5cf5b4='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x5cf5b4+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x7f8+0x6a3*0x3+-0x1be1]&&(_0x5cf5b4+='\x0a\x09'+this['_programsC'+'ollection'][-0x463*0x1+0x2247+-0x1de4]);for(let _0x5d8489=-0xc3c+0xc59+-0x1c;_0x5d8489<this['_programsC'+'ollection']['length'];++_0x5d8489)_0x5cf5b4+=',\x0a\x09'+this['_programsC'+'ollection'][_0x5d8489];_0x5cf5b4+='\x0a];\x0a',_0x5cf5b4+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x5cf5b4+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x5cf5b4+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x49c0ae=document['createElem'+'ent']('a');_0x49c0ae['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x5cf5b4)),_0x49c0ae['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x49c0ae['style']['display']='none',document['body']['appendChil'+'d'](_0x49c0ae),_0x49c0ae['click'](),document['body']['removeChil'+'d'](_0x49c0ae);}['clearCache'](){this['_isClearin'+'gCache']=!(0xb61+0x5*-0x271+0xd4),this['processedC'+'ache']['forEach'](_0x1e6d98=>{_0x1e6d98['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0xc92*-0x1+0x4*-0x73f+-0x1d3*-0x9);}['removeFrom'+'Cache'](_0x5e6597){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x5ca513,_0x2c6f29)=>{_0x5e6597===_0x5ca513&&this['processedC'+'ache']['delete'](_0x2c6f29);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0xe3b8ef){const _0xece1b8=Ks['get'](this['_device'])['getByIndex'](_0xe3b8ef);return _0xe3b8ef===rl||_0xe3b8ef===Oa||_0xe3b8ef===il||_0xece1b8['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0xbd834){if(_0xbd834){const _0x39c057=new Array(_0xbd834['length']);for(let _0xc99c9b=0x160d+-0x21cd+0x5e*0x20;_0xc99c9b<_0xbd834['length'];_0xc99c9b++){if(_0xbd834[_0xc99c9b]['name']==='standard'){const _0x15c265=_0xbd834[_0xc99c9b]['options'],_0x4d4812=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x15c265['pass']);for(const _0x26e88d in _0x4d4812)_0x4d4812['hasOwnProp'+'erty'](_0x26e88d)&&_0x15c265[_0x26e88d]===void(-0xf1+0xf2e+-0xe3d)&&(_0x15c265[_0x26e88d]=_0x4d4812[_0x26e88d]);}_0x39c057[_0xc99c9b]=this['getProgram'](_0xbd834[_0xc99c9b]['name'],_0xbd834[_0xc99c9b]['options']);}}this['_precached']=!(-0xbbe+0x2317+-0x1759*0x1);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),$d=new _e(),N_=new _e(),B1=new Y(-0xcec+0xc70+-0x5*-0x19,0x1100+-0x28e*-0x1+-0x138d,-0xce*-0x26+-0xb4*-0x29+-0x3b68,-0x116a*0x1+0x26f5*-0x1+-0x1*-0x385f+0.4),qd=0x1f*0x9b+0xb2*-0x26+-0x7a7*-0x1+0.28209479177387814;class N1{constructor(_0x484f6d,_0x226996,_0x39b48b,_0x59181e,_0x21055b,_0xff0d40){const _0x400358=_0x484f6d['getProp']('x'),_0xf34efa=_0x484f6d['getProp']('y'),_0x58ac06=_0x484f6d['getProp']('z'),_0x41e4b5=_0x484f6d['getProp']('rot_1'),_0x18193e=_0x484f6d['getProp']('rot_2'),_0x213e13=_0x484f6d['getProp']('rot_3'),_0x3a6eda=_0x484f6d['getProp']('rot_0'),_0x3544c7=_0x484f6d['getProp']('motion_0'),_0x3a6f23=_0x484f6d['getProp']('motion_1'),_0x80804c=_0x484f6d['getProp']('motion_2'),_0x5853de=_0x484f6d['getProp']('scale_0'),_0x36ffba=_0x484f6d['getProp']('scale_1'),_0x5748b5=_0x484f6d['getProp']('scale_2'),_0x63a88d=_0x484f6d['getProp']('f_dc_0'),_0x5216c4=_0x484f6d['getProp']('f_dc_1'),_0x398433=_0x484f6d['getProp']('f_dc_2'),_0x5a82c6=_0x484f6d['getProp']('opacity'),_0x5a28b1=_0x4f5ab3=>{if(_0x4f5ab3>0x2464+-0x13ec+0x4*-0x41e)return(-0x1*0x26b+-0x716*0x3+0x7*0x362)/(0x49*0x56+0x4f3+-0x1d78+Math['exp'](-_0x4f5ab3));const _0x565908=Math['exp'](_0x4f5ab3);return _0x565908/(-0x10d4+-0x8b*0x17+0x6*0x4e3+_0x565908);};this['read']=_0x44f859=>{_0x226996&&(_0x226996['x']=_0x400358[_0x44f859],_0x226996['y']=_0xf34efa[_0x44f859],_0x226996['z']=_0x58ac06[_0x44f859]),_0x39b48b&&_0x39b48b['set'](_0x41e4b5[_0x44f859],_0x18193e[_0x44f859],_0x213e13[_0x44f859],_0x3a6eda[_0x44f859]),_0x59181e&&_0x59181e['set'](Math['exp'](_0x5853de[_0x44f859]),Math['exp'](_0x36ffba[_0x44f859]),Math['exp'](_0x5748b5[_0x44f859])),_0xff0d40&&_0x3544c7&&_0xff0d40['set'](_0x3544c7[_0x44f859],_0x3a6f23[_0x44f859],_0x80804c[_0x44f859]),_0x21055b&&_0x21055b['set'](0x200c+-0x1*-0x1145+0x19*-0x1f9+0.5+_0x63a88d[_0x44f859]*qd,0x9b1+-0x145a+0xaa9+0.5+_0x5216c4[_0x44f859]*qd,-0xc*-0x3d+-0xd*-0xaa+-0x5bf*0x2+0.5+_0x398433[_0x44f859]*qd,_0x5a28b1(_0x5a82c6[_0x44f859]));};}}const z_=(_0x3e1470,_0xa0193d,_0x4d4c03)=>{B_['set'](_0x4d4c03['x'],_0x4d4c03['y'],_0x4d4c03['z'],_0x4d4c03['w'])['normalize'](),_0x3e1470['setTRS'](_0xa0193d,B_,T['ONE']);};class Ia{constructor(_0xccac9c){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x108093,_0x3de3ee,_0x16b4be;this['elements']=_0xccac9c,this['numSplats']=(_0x108093=this['getElement']('vertex'))==null?void(-0x82+-0x111a*-0x1+0xb1*-0x18):_0x108093['count'],this['is4D']=!!((_0x16b4be=(_0x3de3ee=this['getElement']('vertex'))==null?void(-0x22d5+-0x1253+0x3528):_0x3de3ee['properties']['find'](_0xafe0a6=>_0xafe0a6['name']==='t'))!=null&&_0x16b4be['storage']);}['appendGSpl'+'atData'](_0x115f3d,_0x432214,_0x38a844){const _0x2ce880=this['getElement']('vertex')['properties'];_0x2ce880['find'](_0x346962=>_0x346962['name']==='time_index')||_0x2ce880['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x115f3d['numSplats'];for(let _0x2a39e5=-0x1f91*-0x1+-0x831*-0x1+-0x27c2;_0x2a39e5<_0x2ce880['length'];_0x2a39e5++){const _0x17ec62=_0x2ce880[_0x2a39e5],_0x17a123=_0x115f3d['getElement']('vertex')['properties']['find'](_0x34edf8=>_0x34edf8['name']===_0x17ec62['name']);if(_0x17ec62['name']==='time_index'){const _0xde55bf=new Float32Array(this['numSplats']);_0xde55bf['fill'](_0x432214),_0xde55bf['set'](_0x17ec62['storage'],0xe*-0xa1+0xe5+0x7e9),_0x17ec62['storage']=_0xde55bf;}else{if(_0x17a123&&_0x17ec62['name']==='t'){const _0x26b7a9=new Float32Array(this['numSplats']);if(_0x26b7a9['set'](_0x17ec62['storage'],0xba2*0x3+-0x2b3*0x1+-0x2033*0x1),_0x38a844){for(let _0x331af6=_0x17ec62['storage']['length'];_0x331af6<this['numSplats'];_0x331af6++)_0x26b7a9[_0x331af6]=_0x17a123['storage'][_0x331af6-_0x17ec62['storage']['length']]+_0x38a844[(-0x120d+-0x3b2+0x15c1)*_0x432214];}else _0x26b7a9['set'](_0x17a123['storage'],_0x17ec62['storage']['length']);_0x17ec62['storage']=_0x26b7a9;}else{if(_0x17a123){const _0x472136=new Float32Array(this['numSplats']);_0x472136['set'](_0x17ec62['storage'],0x417+0x1616+-0x1a2d),_0x472136['set'](_0x17a123['storage'],_0x17ec62['storage']['length']),_0x17ec62['storage']=_0x472136;}}}}}static['calcSplatA'+'abb'](_0x4c8056,_0x14cf44,_0x382d72,_0xdecbc7){z_(Fn,_0x14cf44,_0x382d72),$d['center']['set'](-0x1df1+0x1*0x21d6+-0x3e5,0x1def+0x8f1+-0x26e0,0x1*0x256f+-0x1da*-0x7+0x733*-0x7),$d['halfExtent'+'s']['set'](_0xdecbc7['x']*(-0x128c+-0x3*0x97c+0x2f02),_0xdecbc7['y']*(0x6*0x5fb+-0xda3+-0x1*0x163d),_0xdecbc7['z']*(0x4*-0x52+-0xf18+0x9*0x1d2)),_0x4c8056['setFromTra'+'nsformedAa'+'bb']($d,Fn);}['getProp'](_0x5aad30,_0x57187a='vertex'){var _0x495dc4,_0x1ef160;return(_0x1ef160=(_0x495dc4=this['getElement'](_0x57187a))==null?void(-0x136+-0x1*0x1ed3+-0x3b*-0x8b):_0x495dc4['properties']['find'](_0x2f3ffd=>_0x2f3ffd['name']===_0x5aad30))==null?void(0x6e*0x46+-0x151*-0x1+-0x1f65):_0x1ef160['storage'];}['getElement'](_0x533687){return this['elements']['find'](_0x2db157=>_0x2db157['name']===_0x533687);}['addProp'](_0x5980a4,_0x118372){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x5980a4,'storage':_0x118372,'byteSize':0x4});}['createIter'](_0x3a2eae,_0x14a16e,_0x251588,_0x3b78c4,_0x187cfb){return new N1(this,_0x3a2eae,_0x14a16e,_0x251588,_0x3b78c4,_0x187cfb);}['calcAabb'](_0x12c9ea,_0xcc685){let _0x3e0b6b,_0x3abb61,_0x169bfe,_0x430744,_0x56356b,_0x8a79b0,_0x54f7f8=!(0x1a0b+0x4d9*0x2+-0x7*0x51b);const _0x203963=this['getProp']('x'),_0xc17f32=this['getProp']('y'),_0x8bd837=this['getProp']('z'),_0x5cedcf=this['getProp']('scale_0'),_0x2333d4=this['getProp']('scale_1'),_0x139beb=this['getProp']('scale_2');for(let _0x518644=-0xad*-0xd+-0x10*0x135+0xa87;_0x518644<this['numSplats'];++_0x518644){if(_0xcc685&&!_0xcc685(_0x518644))continue;const _0x3c3d51=(0x5*-0x78d+-0xd6e+0x3331)*Math['exp'](Math['max'](_0x5cedcf[_0x518644],_0x2333d4[_0x518644],_0x139beb[_0x518644])),_0x5823b7=_0x203963[_0x518644],_0x1350be=_0xc17f32[_0x518644],_0x421736=_0x8bd837[_0x518644];_0x54f7f8?(_0x54f7f8=!(0x25*0xe2+-0x20c1+0x18),_0x3e0b6b=_0x5823b7-_0x3c3d51,_0x3abb61=_0x1350be-_0x3c3d51,_0x169bfe=_0x421736-_0x3c3d51,_0x430744=_0x5823b7+_0x3c3d51,_0x56356b=_0x1350be+_0x3c3d51,_0x8a79b0=_0x421736+_0x3c3d51):(_0x3e0b6b=Math['min'](_0x3e0b6b,_0x5823b7-_0x3c3d51),_0x3abb61=Math['min'](_0x3abb61,_0x1350be-_0x3c3d51),_0x169bfe=Math['min'](_0x169bfe,_0x421736-_0x3c3d51),_0x430744=Math['max'](_0x430744,_0x5823b7+_0x3c3d51),_0x56356b=Math['max'](_0x56356b,_0x1350be+_0x3c3d51),_0x8a79b0=Math['max'](_0x8a79b0,_0x421736+_0x3c3d51));}return _0x54f7f8||(_0x12c9ea['center']['set']((_0x3e0b6b+_0x430744)*(0x19f4+0x1940+-0x3334+0.5),(_0x3abb61+_0x56356b)*(0x7*-0x2af+0x4*-0x161+0x184d+0.5),(_0x169bfe+_0x8a79b0)*(-0xf1+0x4*0x158+-0x46f+0.5)),_0x12c9ea['halfExtent'+'s']['set']((_0x430744-_0x3e0b6b)*(0x199*-0x17+0x1*0x97c+0x7*0x3e5+0.5),(_0x56356b-_0x3abb61)*(-0x2449+0x1*-0x21b8+0x4601+0.5),(_0x8a79b0-_0x169bfe)*(0x3e3+-0x1*-0x7b3+-0xb96+0.5))),!_0x54f7f8;}['calcAabbEx'+'act'](_0x5c5316,_0x42684a){const _0x28aaba=new T(),_0x581866=new se(),_0xe9eca0=new T(),_0x56245e=this['createIter'](_0x28aaba,_0x581866,_0xe9eca0);let _0x5d543a=!(0x43b*0x8+0x3*0x1e2+-0x277e);for(let _0x3ae4b1=-0x24fb+0xae1+-0xd*-0x202;_0x3ae4b1<this['numSplats'];++_0x3ae4b1)_0x42684a&&!_0x42684a(_0x3ae4b1)||(_0x56245e['read'](_0x3ae4b1),_0x5d543a?(_0x5d543a=!(-0x1017+-0x1*0x1505+0x251d*0x1),Ia['calcSplatA'+'abb'](_0x5c5316,_0x28aaba,_0x581866,_0xe9eca0)):(Ia['calcSplatA'+'abb'](N_,_0x28aaba,_0x581866,_0xe9eca0),_0x5c5316['add'](N_)));return!_0x5d543a;}['getCenters'](_0x1048ff){const _0x1c0fce=this['getProp']('x'),_0x49ee69=this['getProp']('y'),_0x53da41=this['getProp']('z');for(let _0x35c058=0xa1*-0x27+-0x141*-0xd+-0x4e*-0x1b;_0x35c058<this['numSplats'];++_0x35c058)_0x1048ff[_0x35c058*(-0xb01+0x4ae*-0x1+0x2*0x7d9)+(-0x783*-0x1+0x1faa+-0x272d)]=_0x1c0fce[_0x35c058],_0x1048ff[_0x35c058*(-0x6*0x67+-0x2707*0x1+0x2974)+(0xf05+0x1084+-0x1f88)]=_0x49ee69[_0x35c058],_0x1048ff[_0x35c058*(-0x3*0xc7b+-0xa*-0x15+-0x412*-0x9)+(0xbc7+-0x1*0x2259+0x1694)]=_0x53da41[_0x35c058];}['getMuT'](){const _0xbe65c2=this['getProp']('t');if(!_0xbe65c2)return;const _0x2a5c88=new Float32Array(this['numSplats']);for(let _0x143266=-0x26ec*-0x1+0x788*-0x5+0x1b*-0xc;_0x143266<this['numSplats'];++_0x143266)_0x2a5c88[_0x143266]=_0xbe65c2[_0x143266];return _0x2a5c88;}['getTScale'](){const _0x47b711=this['getProp']('t_scale');if(!_0x47b711)return;const _0x3f58b2=new Float32Array(this['numSplats']);for(let _0x4a87ca=-0x7b3+-0x47*-0x43+0x18e*-0x7;_0x4a87ca<this['numSplats'];++_0x4a87ca)_0x3f58b2[_0x4a87ca]=Math['exp'](_0x47b711[_0x4a87ca]);return _0x3f58b2;}['getMotion'](_0x5f38bb){const _0x4d52cf=this['getProp']('motion_0'),_0x2b57f9=this['getProp']('motion_1'),_0x13813f=this['getProp']('motion_2');if(!(!_0x4d52cf||!_0x2b57f9||!_0x13813f)){for(let _0x2e7987=-0x1ad+0x269b+-0x1d*0x146;_0x2e7987<this['numSplats'];++_0x2e7987)_0x5f38bb[_0x2e7987*(-0x14f5+0x81a+0xcde)+(-0xb67+-0x2*0x301+0x1169)]=_0x4d52cf[_0x2e7987],_0x5f38bb[_0x2e7987*(-0xeb+-0x1afd+0x3fd*0x7)+(-0xe52+-0x1*0x23a+0x13*0xdf)]=_0x2b57f9[_0x2e7987],_0x5f38bb[_0x2e7987*(0x2e6+-0x23ca+0x20e7)+(0x1*-0x24df+0x1*0x2141+0x3a0)]=_0x13813f[_0x2e7987];}}['getTimeInd'+'ex'](_0x515277){const _0x1b7aa8=this['getProp']('time_index');_0x1b7aa8&&_0x515277['set'](_0x1b7aa8,0x25a+-0x31*-0x94+-0x1eae);}['calcFocalP'+'oint'](_0x13e8f3,_0x1162ee){const _0x456a03=this['getProp']('x'),_0x28f246=this['getProp']('y'),_0x7c8b82=this['getProp']('z'),_0x6503bf=this['getProp']('scale_0'),_0x14c876=this['getProp']('scale_1'),_0x21c6ba=this['getProp']('scale_2');_0x13e8f3['x']=-0x84d+-0x45f+0x2*0x656,_0x13e8f3['y']=0x1367+0x326*-0x8+0x1*0x5c9,_0x13e8f3['z']=0x13bf+0x22f9+0x1*-0x36b8;let _0x4e253f=0x425+-0x1ec3+0x1a9e;for(let _0x4482d3=-0xa26*0x1+0x1f0b+-0x14e5;_0x4482d3<this['numSplats'];++_0x4482d3){if(_0x1162ee&&!_0x1162ee(_0x4482d3))continue;const _0x120702=(0x10ce+0xff8+-0x20c5)/(0xac4+-0x1*-0xb17+-0x15da+Math['exp'](Math['max'](_0x6503bf[_0x4482d3],_0x14c876[_0x4482d3],_0x21c6ba[_0x4482d3])));_0x13e8f3['x']+=_0x456a03[_0x4482d3]*_0x120702,_0x13e8f3['y']+=_0x28f246[_0x4482d3]*_0x120702,_0x13e8f3['z']+=_0x7c8b82[_0x4482d3]*_0x120702,_0x4e253f+=_0x120702;}_0x13e8f3['mulScalar']((0x1913+-0x84f*0x1+-0x10c3)/_0x4e253f);}['renderWire'+'frameBound'+'s'](_0x2126f6,_0x469eb2){const _0x3e10f2=new T(),_0x25ae28=new se(),_0x410c2e=new T(),_0x49a488=new T(),_0x129b6e=new T(),_0x35afc9=this['createIter'](_0x3e10f2,_0x25ae28,_0x410c2e);for(let _0x3d3fb8=0xc7a*0x3+-0xf84+0x42*-0x55;_0x3d3fb8<this['numSplats'];++_0x3d3fb8)_0x35afc9['read'](_0x3d3fb8),z_(Fn,_0x3e10f2,_0x25ae28),Fn['mul2'](_0x469eb2,Fn),_0x49a488['set'](_0x410c2e['x']*-(-0x1*0x241b+-0xefc+0x3319),_0x410c2e['y']*-(-0x26c3*-0x1+0x1743+0xc4*-0x51),_0x410c2e['z']*-(0x2*-0x7d4+-0x25*0x5a+0x1cac)),_0x129b6e['set'](_0x410c2e['x']*(-0x180c+-0xe13*0x1+0xe3*0x2b),_0x410c2e['y']*(-0xce4+0x64d*-0x1+0x1333),_0x410c2e['z']*(-0x1c1f*-0x1+0x5de+-0x21fb*0x1)),_0x2126f6['immediate']['drawWireAl'+'ignedBox'](_0x49a488,_0x129b6e,B1,!(-0xb*0x3b+-0x2f*0x9a+0x1ecf),_0x2126f6['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(-0x1*0xcc7+-0x1854+-0x13*-0x1f4);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x714e87=-0x9*-0x317+-0x1*0x16a+-0x1a65;_0x714e87<0x1*-0x16b9+0xa68*0x3+0x2c6*-0x3;++_0x714e87)if(!this['getProp']('f_rest_'+_0x714e87))return _0x714e87;return-0x2*-0xd37+0x169f*-0x1+0x2*-0x1d1;})())]??0x4*-0x8f9+-0xa*0x3d+0x2646;}['calcMorton'+'Order'](){const _0x5d6149=_0x59b223=>{let _0x1f51ee=_0x59b223[-0x4*-0x60f+-0x1*0xee6+0x2*-0x4ab],_0x3aac96=_0x59b223[0x102e+-0x1a*-0x1+-0x1048];for(let _0x2c0373=-0x3*0x5f3+-0x1784+-0x2*-0x14af;_0x2c0373<_0x59b223['length'];_0x2c0373++)_0x59b223[_0x2c0373]<_0x1f51ee&&(_0x1f51ee=_0x59b223[_0x2c0373]),_0x59b223[_0x2c0373]>_0x3aac96&&(_0x3aac96=_0x59b223[_0x2c0373]);return{'min':_0x1f51ee,'max':_0x3aac96};},_0xbed057=(_0x4f4dcb,_0x27be16,_0x31a624)=>{const _0x399ffd=_0x548a49=>(_0x548a49&=-0x108e*0x2+-0x3*0x132+-0x1*-0x28b1,_0x548a49=(_0x548a49^_0x548a49<<-0x65*-0x37+0x1da7+-0x334a)&-0x4d*0x50de851+-0x1d1804a7a+0x455af2bd6,_0x548a49=(_0x548a49^_0x548a49<<-0x3*0x677+0xc6d+0x700)&0x3f5b8a1*0x1+0x2873659+0x9e1*-0x5a4b,_0x548a49=(_0x548a49^_0x548a49<<-0x1d5c+0x2*-0x765+0x2c2a)&0x2*0x2b5ef48+-0xfe*-0x12347+-0x380ae3f,_0x548a49=(_0x548a49^_0x548a49<<-0x1*0xb7b+0x5b*0x29+-0x316)&-0x37*-0x1f6bd7+-0x47aaa82+0x9e*0xb2223,_0x548a49);return(_0x399ffd(_0x31a624)<<-0x18b*-0x7+-0x14d4+-0x16f*-0x7)+(_0x399ffd(_0x27be16)<<0x1709*-0x1+0x59*-0x31+-0x1*-0x2813)+_0x399ffd(_0x4f4dcb);},_0x30e4dd=this['getProp']('x'),_0x1277f3=this['getProp']('y'),_0x36ff42=this['getProp']('z'),{min:_0x34c277,max:_0x178c07}=_0x5d6149(_0x30e4dd),{min:_0x194f13,max:_0x55b8c2}=_0x5d6149(_0x1277f3),{min:_0x283f3e,max:_0x331bf4}=_0x5d6149(_0x36ff42),_0x4bb23c=_0x34c277===_0x178c07?0x1676+-0x7*0xda+-0x1080:(0x245f+-0x76f+0x72*-0x38)/(_0x178c07-_0x34c277),_0x1b1d49=_0x194f13===_0x55b8c2?-0x47*0x4f+-0x1449+0x1eb*0x16:(-0x1611*0x1+-0x2*-0x1274+-0xad7)/(_0x55b8c2-_0x194f13),_0x3f3e2e=_0x283f3e===_0x331bf4?0xd*0x1fd+-0x5d6+0x1*-0x1403:(-0xc05+0x20c8*-0x1+0x30cd)/(_0x331bf4-_0x283f3e),_0x30a779=new Map();for(let _0x52fb5d=-0x1998+0x93f+0x87*0x1f;_0x52fb5d<this['numSplats'];_0x52fb5d++){const _0x2eebb0=Math['floor']((_0x30e4dd[_0x52fb5d]-_0x34c277)*_0x4bb23c),_0x4a212c=Math['floor']((_0x1277f3[_0x52fb5d]-_0x194f13)*_0x1b1d49),_0x12db50=Math['floor']((_0x36ff42[_0x52fb5d]-_0x283f3e)*_0x3f3e2e),_0x49b551=_0xbed057(_0x2eebb0,_0x4a212c,_0x12db50),_0x26e986=_0x30a779['get'](_0x49b551);_0x26e986?_0x26e986['push'](_0x52fb5d):_0x30a779['set'](_0x49b551,[_0x52fb5d]);}const _0x1fc615=Array['from'](_0x30a779['keys']())['sort']((_0x2b213d,_0x5acc55)=>_0x2b213d-_0x5acc55),_0x435fbe=new Uint32Array(this['numSplats']);let _0x5a307d=-0x207a*-0x1+0x3*-0x7c+0x2d2*-0xb;for(let _0x2a152e=-0x1fac+0xdf8+0x11b4;_0x2a152e<_0x1fc615['length'];++_0x2a152e){const _0x9f5cae=_0x30a779['get'](_0x1fc615[_0x2a152e]);for(let _0x44575e=0x7d4+-0x36*0xd+-0x516;_0x44575e<_0x9f5cae['length'];++_0x44575e)_0x435fbe[_0x5a307d++]=_0x9f5cae[_0x44575e];}return _0x435fbe;}['reorder'](_0x5b8bd8){const _0xdbe40e=new Map(),_0x296263=_0x270a7c=>{if(_0xdbe40e['has'](_0x270a7c)){const _0xec0a0d=_0xdbe40e['get'](_0x270a7c);return _0xdbe40e['delete'](_0x270a7c),_0xec0a0d;}return new ArrayBuffer(_0x270a7c);},_0xe04aec=_0x44ab61=>{_0xdbe40e['set'](_0x44ab61['byteLength'],_0x44ab61);},_0x21c545=_0xf1f94c=>{const _0x32252f=new _0xf1f94c['constructo'+'r'](_0x296263(_0xf1f94c['byteLength']));for(let _0x46c375=-0x13b*0xa+0x1*-0x16c3+0x1*0x2311;_0x46c375<_0x5b8bd8['length'];_0x46c375++)_0x32252f[_0x46c375]=_0xf1f94c[_0x5b8bd8[_0x46c375]];return _0xe04aec(_0xf1f94c['buffer']),_0x32252f;};this['elements']['forEach'](_0x93d9a9=>{_0x93d9a9['properties']['forEach'](_0x1f4151=>{_0x1f4151['storage']&&(_0x1f4151['storage']=_0x21c545(_0x1f4151['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x4c5ccb={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x3b5387=_0x4c5ccb['dither']??Rs,_0x4d4583=_0x3b5387!==Rs,_0x2f9737=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x4c5ccb['vertex']??X['gsplatVS'],'fragmentCode':_0x4c5ccb['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x2f9737['setDefine']('DITHER_'+_0x3b5387['toUpperCas'+'e'](),''),_0x2f9737['cull']=mt,_0x2f9737['blendType']=_0x4d4583?is:hr,_0x2f9737['depthWrite']=_0x4d4583,_0x2f9737['update'](),_0x2f9737;};async function z1(){self['onmessage']=async _0x217040=>{const {data:_0x10ed62}=_0x217040;switch(_0x10ed62['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x4969c0(_0x10ed62['numSplats'],_0x10ed62['shBands'],_0x10ed62['SHData']);break;}};const _0x4969c0=(_0x21ce70,_0x436383,_0xa6cc7)=>{const _0x46611e=new Uint32Array(_0x21ce70*(-0x79+0x2*-0x6be+0xdf9)),_0x508cc5=new Uint32Array(_0x21ce70*(0x1cc3*-0x1+0x92+0x1c35)),_0x22c48d=new Uint32Array(_0x21ce70*(-0x11*0x79+0x210d+0x10*-0x190)),_0x289e6a=new Uint32Array(_0x21ce70*(0x20a7+-0x11b+-0x1f88)),_0x316524={0x1:0x3,0x2:0x8,0x3:0xf}[_0x436383],_0x283a78=_0xa6cc7,_0xd93925=-0x1c9*-0x11+-0x103f+-0x1*0x61b,_0x2a1566=0x1093+-0x1*0x1048+0x3b4,_0x4287b4=new Float32Array(-0x92*-0x3e+0x16e2+-0x3a3d),_0x343371=new Uint32Array(_0x4287b4['buffer']),_0x5ba073=new Array(_0x316524*(-0x41*0x1f+0xd1*-0x13+0x1765))['fill'](0x254a*0x1+0xb0f+0x1*-0x3059);for(let _0x24b276=-0x2628+0x2243+-0x3e5*-0x1;_0x24b276<_0x21ce70;++_0x24b276){for(let _0x25cdff=0x1d8b+0x213c+-0x3ec7;_0x25cdff<_0x316524;++_0x25cdff)_0x5ba073[_0x25cdff*(-0x1c47*0x1+-0x1cc3+0x390d*0x1)]=_0x283a78[_0x25cdff][_0x24b276],_0x5ba073[_0x25cdff*(-0xced*0x2+0x97*0x19+-0xb1e*-0x1)+(-0x4bb+-0x44*0x6f+0x2238)]=_0x283a78[_0x25cdff+_0x316524][_0x24b276],_0x5ba073[_0x25cdff*(0x1fd1+0x1*0xf71+0x3b*-0xcd)+(0x11b+-0x1*-0xc1b+-0xd34)]=_0x283a78[_0x25cdff+_0x316524*(0xc80+0x257*0x6+0xd44*-0x2)][_0x24b276];let _0x5282f9=_0x5ba073[0xe1f+-0x4*-0x155+-0x1373*0x1];for(let _0x2d0a36=0x1*0x11d1+-0x291+-0xf3f*0x1;_0x2d0a36<_0x316524*(0x4*-0x3d3+-0x1a1b+-0xba*-0x39);++_0x2d0a36)_0x5282f9=Math['max'](_0x5282f9,Math['abs'](_0x5ba073[_0x2d0a36]));if(_0x5282f9!==0xcf1*0x3+0x13da+0x3*-0x138f){for(let _0x18c5f7=-0x5*0x6be+-0x1bf*-0x11+-0x1*-0x407;_0x18c5f7<_0x316524;++_0x18c5f7)_0x5ba073[_0x18c5f7*(0x167f*-0x1+-0x15b5*-0x1+0xcd)+(-0x9*-0x60+-0x1a*-0x178+-0x2990)]=Math['max'](0x1d5c+-0x15*0x48+-0x1774,Math['min'](_0xd93925,Math['floor']((_0x5ba073[_0x18c5f7*(0x1e09+-0x157+-0x1caf)+(-0x2374+0x227b+0xf9)]/_0x5282f9*(0xbc4+0x9ce+-0x1592+0.5)+(0x16af+-0x1792+0xe3+0.5))*_0xd93925+(-0x572*0x1+0xb53+-0x2b*0x23+0.5)))),_0x5ba073[_0x18c5f7*(0x1284+-0x5*0x311+-0x32c)+(-0x1*0x5e9+0x1518+0xf2e*-0x1)]=Math['max'](0x11*-0xde+0x30d*0x8+0x4d5*-0x2,Math['min'](_0x2a1566,Math['floor']((_0x5ba073[_0x18c5f7*(0x13a1+-0x1662+0x2c4)+(-0x6a1*0x1+0x58d+0x1*0x115)]/_0x5282f9*(0x1c13*-0x1+0x3*0x78a+0x575+0.5)+(-0x1b5d+-0x8*0x329+-0x1*-0x34a5+0.5))*_0x2a1566+(-0x1*-0xd24+-0x76e+0x11*-0x56+0.5)))),_0x5ba073[_0x18c5f7*(-0x1a67+0x247*-0x3+-0xb15*-0x3)+(0x1*0xb9+-0x1215+0x115e)]=Math['max'](-0x2353+-0x1*-0xf9a+0x13b9,Math['min'](_0xd93925,Math['floor']((_0x5ba073[_0x18c5f7*(0x1b38+-0x1*-0x78d+-0x22c2)+(-0x34*0x12+0x4*-0x36d+-0x27*-0x72)]/_0x5282f9*(-0x32*0x91+0x220b+-0x5b9+0.5)+(0x9a6+-0x1d91+0x13eb+0.5))*_0xd93925+(0x1bd0+-0x2*-0x12d1+-0x4172+0.5))));_0x4287b4[-0x846+0x3*-0x61e+0x1aa0]=_0x5282f9,_0x46611e[_0x24b276*(-0x314+0x12f+-0xa3*-0x3)+(0x5*-0x62f+-0x94c*0x1+0x47*0x91)]=_0x343371[-0xe44+0xc*0x277+-0xf50],_0x46611e[_0x24b276*(-0x1967+0x1*0x5ad+0x10a*0x13)+(-0x9*0x286+0x1c53+-0x59c)]=_0x5ba073[0x782+0x1*-0x19a2+0xa0*0x1d]<<0x1ea5+0x1*-0xcd3+-0x13*0xef|_0x5ba073[0xae6*0x1+0x743+-0x1228]<<0x82c+-0x125c*0x1+0xa3b*0x1|_0x5ba073[-0x889+-0x22ec+-0x1*-0x2b77],_0x46611e[_0x24b276*(0x235c+-0xdb9*0x2+-0x7e6)+(-0x39*0x49+-0x2612+0x3655)]=_0x5ba073[0x1935*-0x1+0x77d+0x11bb]<<0x2bd*0x9+0x4*0x9ba+0x4*-0xfde|_0x5ba073[-0xc42+0x4d*0x13+0x68f]<<-0x808*0x2+0x8d1+0x137*0x6|_0x5ba073[0x21f6+-0x5*-0x29e+-0x2f07],_0x46611e[_0x24b276*(-0x603+0xeb9+-0x8b2)+(-0x559+0x1c7*-0x1+-0x57*-0x15)]=_0x5ba073[0x1640+0xe*-0x1b7+-0x6*-0x4c]<<0x1126+-0x1110+-0x1*0x1|_0x5ba073[-0x1*0x7fb+0x5ed+0x215]<<0x1*-0x1edf+-0x1f9*0xe+0x3a88|_0x5ba073[0x5*0x5f9+-0x1eb3+0x3*0x4a],_0x436383>0x1*-0x79f+-0xe3f+-0x1*-0x15df&&(_0x508cc5[_0x24b276*(-0x2*0x1237+-0xa77*-0x1+0x19fb)+(0x2068+-0x2c7+-0xcd*0x25)]=_0x5ba073[-0x24f6+0x3b0*0x4+0x163f]<<-0xb19+0x61*-0x32+0x1e20|_0x5ba073[-0x1c58+0x1*0x7b+0x1be7]<<0x857*-0x1+0x112c+-0x8ca|_0x5ba073[0x17e3+0xb23*-0x2+-0x192],_0x508cc5[_0x24b276*(0x22e5*-0x1+-0x1*0x1b05+0x3dee)+(0x1*-0x1+-0x17f*0x14+0x1dee)]=_0x5ba073[-0xd54*-0x1+0x2*-0xb3f+0x936]<<0xeb*-0x1+0xc*-0x2d1+0x22cc|_0x5ba073[-0x1d6f+-0x85+-0x1*-0x1e01]<<-0x9d*0x5+0x313+0x9|_0x5ba073[0x45*0xa+-0x11d1+0x6f*0x23],_0x508cc5[_0x24b276*(-0x1654+0x1*-0x2391+0x39e9)+(0x415+0x1739+0xda6*-0x2)]=_0x5ba073[-0xa46+0x20ef+-0x1*0x169a]<<-0xc4b+0x2b*0x2f+0x47b|_0x5ba073[-0x109a+-0xcb*0x1d+0x27a9]<<-0x12d3+-0x143e+0x271c*0x1|_0x5ba073[0x18e5+0x1a44+-0x3318],_0x508cc5[_0x24b276*(-0xb*0x107+-0x15ce+0x211f)+(-0x1753+0x1*-0x16de+0x4*0xb8d)]=_0x5ba073[-0x1d40+0x2151*-0x1+0x3ea3]<<0x2480+0x1fa3+-0x232*0x1f|_0x5ba073[0x4*0x893+0x1*0xf1+-0x232a]<<0x116c+0x3a*-0x55+0x1e1|_0x5ba073[0x1b91*0x1+0x1f3*-0x1+-0x198a],_0x436383>-0x52d+0x4*-0x555+0xb*0x269?(_0x22c48d[_0x24b276*(-0x1e7+0x1aa5*0x1+-0x18ba)+(-0x1923*-0x1+-0xbca+-0xd59)]=_0x5ba073[0x301*0x6+-0xbab*0x1+-0x323*0x2]<<-0x1a01+0x1e80+-0x46a|_0x5ba073[-0xb*-0x33+0x1*0x8c4+0x17*-0x79]<<-0x5b5*0x1+-0x1178+0x1738|_0x5ba073[-0x454+0x215f+-0x2*0xe7a],_0x22c48d[_0x24b276*(-0x21a0+0x1e8e+-0x18b*-0x2)+(0x8da*-0x2+-0x1*-0xdcc+0x3e9)]=_0x5ba073[0x2276+0x68*0x29+-0x6*0x881]<<-0x2e7*-0x8+-0x46f+0x7e*-0x26|_0x5ba073[-0xb9b*-0x1+-0x1b2b+0xd3*0x13]<<-0x134*0x1f+-0x125*0x1f+0x48d2*0x1|_0x5ba073[0x20ac+-0x16*-0x172+-0x405e],_0x22c48d[_0x24b276*(-0x2*0x868+-0x1ebe+0x2f92*0x1)+(0x1e5d+-0x1510+-0x94b)]=_0x5ba073[0x1a08+-0xbc*-0x4+-0x1cdd]<<-0x1ac7+-0x1883+0x335f*0x1|_0x5ba073[-0xb9d+0x78+-0x43*-0x2b]<<-0x2541+0x1*0x183b+0xd11*0x1|_0x5ba073[-0x1*-0x15f7+0x26*0xc8+-0x1*0x338a],_0x22c48d[_0x24b276*(0x379*0x2+-0xa6*-0x12+-0x129a)+(-0x6b1+-0x1d15+-0x23c9*-0x1)]=_0x5ba073[0x1c0+0xa*-0x1b5+0xf70]<<-0xd5f+0xec*-0x2+-0x3d3*-0x4|_0x5ba073[-0x23d2+-0x219f+0x4590]<<0x629*-0x1+-0x5c4+0xbf8|_0x5ba073[0x68*0x22+-0xa14+-0x134*0x3],_0x289e6a[_0x24b276*(0x13b2+0xc9*0x7+-0x509*0x5)+(0x5*0x35a+0x2b1+-0x1373)]=_0x5ba073[-0x1*0x1e91+0x1314*-0x1+0x31c6]<<0x825*0x4+0x3*-0x559+-0x1074|_0x5ba073[0x15af+0x1e1*-0x2+-0x11cb]<<0x182f*-0x1+0x1c67+-0x42d|_0x5ba073[-0x58+-0x19d4*-0x1+0x67*-0x3f],_0x289e6a[_0x24b276*(-0x67*0x3a+0x238+0xa91*0x2)+(-0x262e+-0x1d47+0x4376)]=_0x5ba073[0x1*0x21fd+-0x1*0x1245+-0x4*0x3e5]<<0x16db+-0x229c+-0x3*-0x3f2|_0x5ba073[-0x7*-0x493+-0xb6d+0x6d1*-0x3]<<0x79*0xf+-0x1*0x980+0x13a*0x2|_0x5ba073[0x12e*0x1c+0x84a*-0x4+0x46],_0x289e6a[_0x24b276*(-0x73*0x4+-0x49c+0x66c)+(-0x1e18+-0x12e0+0x30fa)]=_0x5ba073[-0x1fb9+0x23fd+-0x41d]<<-0xd86+-0x1ad+0xc*0x146|_0x5ba073[-0x10c8+0x2265+-0x1175]<<-0xd46*0x1+0x1f63+0x1212*-0x1|_0x5ba073[-0x67*0x5a+-0x3*-0x7b6+-0x1*-0xd3d],_0x289e6a[_0x24b276*(-0x11f7+0x4*-0x1bb+0x18e7)+(0x6ab+-0x1ea+-0x4be)]=_0x5ba073[-0x1779+-0x221*0x11+0x3bd4*0x1]<<0x4*0x41b+0x14e*0x1d+-0x362d|_0x5ba073[-0x4*-0x583+0x69*-0x12+-0xe7f*0x1]<<0x24b6+0xf7a+-0x3425|_0x5ba073[0x2*-0x57a+0xd3d*0x1+-0x21d]):_0x22c48d[_0x24b276]=_0x5ba073[0x8a4+0x4fd*0x4+-0x1c83]<<-0x1fc7+0x2fc+0x108*0x1c|_0x5ba073[0x937+-0x9ae+-0x8d*-0x1]<<0x7a9*0x2+-0x3a*-0x6e+-0x2833|_0x5ba073[0x15*0x3d+-0x3b*-0x1c+-0xf*0xc2]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x46611e,'sh4to7Data':_0x508cc5,'sh8to11Data':_0x22c48d,'sh12to15Data':_0x289e6a},[_0x46611e['buffer'],_0x508cc5['buffer'],_0x22c48d['buffer'],_0x289e6a['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x9de20b=>{if(!this['worker'])return;const {data:_0x160f9b}=_0x9de20b;switch(_0x160f9b['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x160f9b['sh1to3Data'],_0x160f9b['sh4to7Data'],_0x160f9b['sh8to11Dat'+'a'],_0x160f9b['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x20614f,_0x3df38b,_0xc12fc1){var _0xe21707;(_0xe21707=this['worker'])==null||_0xe21707['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x20614f,'shBands':_0x3df38b,'SHData':_0xc12fc1});}['destroy'](){var _0x50e019;this['worker']&&((_0x50e019=this['worker'])==null||_0x50e019['terminate'](),this['worker']=null);}}const U_=(_0x16a97c,_0x229aaf)=>{const _0x574f34=[];for(let _0x5416f7=-0x2451*-0x1+-0x1f*0x8b+-0xac*0x1d;_0x5416f7<_0x229aaf;++_0x5416f7)_0x574f34['push'](_0x16a97c['getProp']('f_rest_'+_0x5416f7));return _0x574f34;};class V1{constructor(_0x3f56ab,_0x395537){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x59c9f5=_0x395537['numSplats'];this['device']=_0x3f56ab,this['numSplats']=_0x59c9f5,this['numSplatsV'+'isible']=_0x59c9f5,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x395537['numSplats']*(0x1e2f+-0x2*-0x313+-0x2452)),this['motion']=new Float32Array(_0x395537['numSplats']*(-0x46e*0x4+-0x5d3+0x178e)),this['timeIndex']=new Float32Array(_0x395537['numSplats']),_0x395537['getCenters'](this['centers']),_0x395537['getMotion'](this['motion']),_0x395537['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x395537['getMuT'](this['timeOption']),this['tScale']=_0x395537['getTScale'](),this['is4D']=_0x395537['is4D'],this['aabb']=new _e(),_0x395537['calcAabb'](this['aabb']);const _0x1ea179=this['evalTextur'+'eSize'](_0x59c9f5);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x1ea179),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x1ea179),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x1ea179),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x1ea179),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x1ea179),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x1ea179)),this['updateColo'+'rData'](_0x395537),this['updateTran'+'sformData'](_0x395537),this['shBands']=_0x395537['shBands'],this['shBands']>-0x1a05*-0x1+-0x1e8c+0x487&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x1ea179),this['shBands']>0x256+0x3*-0x59e+-0x3f*-0x3b&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x1ea179),this['shBands']>0x23c*0x1+0x96b*-0x3+0x3*0x8ad?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x1ea179),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x1ea179)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x1ea179)),this['updateSHDa'+'ta'](_0x395537));}['updateData'](_0x3e3f4c){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x5cc4af=_0x3e3f4c['numSplats'];this['numSplats']=_0x5cc4af,this['numSplatsV'+'isible']=_0x5cc4af,this['centers']=new Float32Array(_0x3e3f4c['numSplats']*(0x9b7*-0x1+-0x994*0x3+0x446*0x9)),this['motion']=new Float32Array(_0x3e3f4c['numSplats']*(0x121d+-0x1*0x2020+-0xa*-0x167)),this['timeIndex']=new Float32Array(_0x3e3f4c['numSplats']),_0x3e3f4c['getCenters'](this['centers']),_0x3e3f4c['getMotion'](this['motion']),_0x3e3f4c['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x3e3f4c['getMuT'](this['timeOption']),this['tScale']=_0x3e3f4c['getTScale'](),this['is4D']=_0x3e3f4c['is4D'],this['aabb']=new _e(),_0x3e3f4c['calcAabb'](this['aabb']);const _0x282d2c=this['evalTextur'+'eSize'](_0x5cc4af);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x282d2c),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x282d2c),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x282d2c),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x282d2c),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x282d2c),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x282d2c)),this['updateColo'+'rData'](_0x3e3f4c),this['updateTran'+'sformData'](_0x3e3f4c),this['shBands']=_0x3e3f4c['shBands'],this['shBands']>0x19e9+0x18*0x44+-0x2049&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x282d2c),this['shBands']>0x173c+0x175*-0x1+-0x15c6&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x282d2c),this['shBands']>0x1281+-0x1570+0x2f1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x282d2c),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x282d2c)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x282d2c)),this['updateSHDa'+'ta'](_0x3e3f4c));}['destroy'](){var _0x4c8f6e,_0x80b9a0,_0x8d6f07,_0x75211e,_0x1ae7e5,_0x26a54e,_0xc3152e,_0xdabbda,_0x3b26f8,_0xa6ec09;(_0x4c8f6e=this['colorTextu'+'re'])==null||_0x4c8f6e['destroy'](),(_0x80b9a0=this['transformA'+'Texture'])==null||_0x80b9a0['destroy'](),(_0x8d6f07=this['transformB'+'Texture'])==null||_0x8d6f07['destroy'](),(_0x75211e=this['transformR'+'Texture'])==null||_0x75211e['destroy'](),(_0x1ae7e5=this['transformT'+'SpeedTextu'+'re'])==null||_0x1ae7e5['destroy'](),(_0x26a54e=this['transformT'+'Texture'])==null||_0x26a54e['destroy'](),(_0xc3152e=this['sh1to3Text'+'ure'])==null||_0xc3152e['destroy'](),(_0xdabbda=this['sh4to7Text'+'ure'])==null||_0xdabbda['destroy'](),(_0x3b26f8=this['sh8to11Tex'+'ture'])==null||_0x3b26f8['destroy'](),(_0xa6ec09=this['sh12to15Te'+'xture'])==null||_0xa6ec09['destroy']();}['createMate'+'rial'](_0x3bd5a8){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x3269f1=z0(_0x3bd5a8);return _0x3269f1['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x3269f1['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x3269f1['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x3269f1['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x3269f1['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x3269f1['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x3269f1['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x3269f1['setDefine']('SH_BANDS',this['shBands']),_0x3269f1['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x3269f1['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x3269f1['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x3269f1['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x3269f1['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x3269f1;}['evalTextur'+'eSize'](_0x222bae){const _0x2b4484=Math['ceil'](Math['sqrt'](_0x222bae)),_0x2087a8=Math['ceil'](_0x222bae/_0x2b4484);return new W(_0x2b4484,_0x2087a8);}['createText'+'ure'](_0x47dad5,_0x239a18,_0x110ae8){return new he(this['device'],{'name':_0x47dad5,'width':_0x110ae8['x'],'height':_0x110ae8['y'],'format':_0x239a18,'cubemap':!(-0x1734+0x5f8+0x3*0x5bf),'mipmaps':!(-0x4*0x566+0x535*-0x7+0x3a0c),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x29ce59){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x2453c2=this['colorTextu'+'re'];if(!_0x2453c2)return;const _0x14be52=Wt['float2Half'],_0x23c6e7=_0x2453c2['lock'](),_0x14587b=_0x29ce59['getProp']('f_dc_0'),_0x5dd5e0=_0x29ce59['getProp']('f_dc_1'),_0x1d5106=_0x29ce59['getProp']('f_dc_2'),_0x585cb3=_0x29ce59['getProp']('opacity'),_0x1969c7=0x906+0xcbf*-0x1+-0x3b9*-0x1+0.28209479177387814;for(let _0xef6bc9=0x43*0x6f+-0x1fc0*0x1+0x2b3*0x1;_0xef6bc9<this['numSplats'];++_0xef6bc9){const _0x1e6f61=_0x14587b[_0xef6bc9]*_0x1969c7+(0x1b5d+0x1ec9+-0x3a26+0.5),_0x291a7c=_0x5dd5e0[_0xef6bc9]*_0x1969c7+(0x1e66+0x463*0x1+-0x22c9+0.5),_0x5ca2f9=_0x1d5106[_0xef6bc9]*_0x1969c7+(0x1460+-0x79*0xc+0x3ad*-0x4+0.5),_0x3082b5=(-0x1*-0x24fb+0x1*0x650+-0x2b4a)/(0x111e+-0x26df+0x15c2+Math['exp'](-_0x585cb3[_0xef6bc9]));_0x23c6e7[_0xef6bc9*(0x1b14+0xf07+-0x1af*0x19)+(0x17f0+-0x8a5*0x1+-0xf4b)]=_0x14be52(_0x1e6f61),_0x23c6e7[_0xef6bc9*(-0x2*-0x11ba+-0xdc1+0x319*-0x7)+(0x52f+0x1*-0x15ce+0x10a0)]=_0x14be52(_0x291a7c),_0x23c6e7[_0xef6bc9*(0x4f7+-0x21e+-0x91*0x5)+(-0x17f1+0x18d9*-0x1+0x30cc)]=_0x14be52(_0x5ca2f9),_0x23c6e7[_0xef6bc9*(-0x2659+-0xa9f+0x30fc)+(-0x3*-0x2b3+-0x2367+0x1b51)]=_0x14be52(_0x3082b5);}_0x2453c2['unlock']();}['updateTran'+'sformData'](_0x319230){var _0x2fc20a,_0x586504,_0x557526,_0x22a290;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x429c87=Wt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x47a1a8=this['transformA'+'Texture']['lock'](),_0x340238=new Float32Array(_0x47a1a8['buffer']),_0x4bc1e9=this['transformR'+'Texture']['lock'](),_0x4b2acc=new Float32Array(_0x4bc1e9['buffer']),_0x1e6b82=this['transformB'+'Texture']['lock'](),_0x209bba=(_0x2fc20a=this['transformT'+'SpeedTextu'+'re'])==null?void(-0x4*0x909+0x7*-0x6b+0x2711):_0x2fc20a['lock']();let _0x396fd4;_0x209bba&&(_0x396fd4=new Float32Array(_0x209bba['buffer']));const _0x1389ba=(_0x586504=this['transformT'+'Texture'])==null?void(0x489+-0x1d7+-0x2b2):_0x586504['lock']();let _0x3c77cf;_0x1389ba&&(_0x3c77cf=new Float32Array(_0x1389ba['buffer']));const _0x36ff88=new T(),_0x3f0125=new se(),_0x908fd0=new T(),_0x416208=new T(),_0x397110=_0x319230['createIter'](_0x36ff88,_0x3f0125,_0x908fd0,null,_0x416208),_0x2e48de=_0x319230['getProp']('t'),_0x26b152=_0x319230['getProp']('t_scale');for(let _0x2e8000=0xb*0x1ec+-0x611*0x5+0x931;_0x2e8000<this['numSplats'];_0x2e8000++)_0x397110['read'](_0x2e8000),_0x3f0125['normalize'](),_0x3f0125['w']<0x7e1*0x3+0x1*-0x337+-0x51b*0x4&&_0x3f0125['mulScalar'](-(-0x98+0x8e6+-0x84d)),_0x340238[_0x2e8000*(-0xa97*0x3+-0x9*0x26+0x211f)+(0x8e0+0x232f+0x2c0f*-0x1)]=_0x36ff88['x'],_0x340238[_0x2e8000*(0x1fa0+-0x1*0x1296+-0xd06)+(-0x71*-0x9+-0x5ab*-0x2+-0xf4e)]=_0x36ff88['y'],_0x340238[_0x2e8000*(0x119c+0x4*0x6e1+-0x2d1c)+(0x6cf+-0x8f*-0x32+-0x1*0x22bb)]=_0x36ff88['z'],_0x1e6b82[_0x2e8000*(0x1*0x26e9+0x1781+-0x3e66)+(-0x611*0x4+-0x1199+0x29dd)]=_0x429c87(_0x908fd0['x']),_0x1e6b82[_0x2e8000*(-0xc7b+-0x1d31+0x29b0)+(0xe*-0x61+0x1*0xc41+0x379*-0x2)]=_0x429c87(_0x908fd0['y']),_0x1e6b82[_0x2e8000*(0x1d5f+-0x6d6+0x481*-0x5)+(-0xe35+-0x345+-0x4*-0x45f)]=_0x429c87(_0x908fd0['z']),_0x4b2acc[_0x2e8000*(-0x1*0x26c9+0x1*0xd78+0x1955)+(-0x2a5*-0x4+-0x101*-0x18+-0x22ac)]=_0x3f0125['x'],_0x4b2acc[_0x2e8000*(0x12eb*0x1+0x1c9+-0x14b0)+(-0x20e1*0x1+-0x883+-0x1*-0x2965)]=_0x3f0125['y'],_0x4b2acc[_0x2e8000*(0x1db+-0x86*0x8+-0x1*-0x259)+(-0xeb3+0x1*0x261f+-0x176a)]=_0x3f0125['z'],this['is4D']&&_0x396fd4&&_0x3c77cf&&(_0x396fd4[_0x2e8000*(0x1c03+-0x44*-0x11+-0x2083)+(0x1727*0x1+-0x15c3+-0xb2*0x2)]=_0x416208['x'],_0x396fd4[_0x2e8000*(-0x1*0x1402+-0xd58+0x215e)+(-0x14e3+0x49*0x1d+0xc9f)]=_0x416208['y'],_0x396fd4[_0x2e8000*(-0x1*0x67e+-0xbaa*0x3+0x2980)+(0x23f9+0x4*0x569+0x399b*-0x1)]=_0x416208['z'],_0x3c77cf[_0x2e8000*(0x41*-0x91+0x211b+0x1dd*0x2)+(-0x20*-0xcc+0x41*-0x5+0x183b*-0x1)]=_0x2e48de?_0x2e48de[_0x2e8000]:-0xd4f*0x2+0x17f*0x2+0x3f0*0x6,_0x3c77cf[_0x2e8000*(0x6f1+0x1e7*0x14+0x1d*-0x18d)+(0x1*-0x2642+-0x21d*0x3+0x2c9a)]=_0x26b152?Math['exp'](_0x26b152[_0x2e8000]):-0x1fd5+0x210c+-0x137*0x1);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x557526=this['transformT'+'SpeedTextu'+'re'])==null||_0x557526['unlock'](),(_0x22a290=this['transformT'+'Texture'])==null||_0x22a290['unlock']();}['updateSHDa'+'ta'](_0x3f6805){var _0x3b3d1f,_0x4a7cdf,_0x5a0678,_0x184a76,_0x27d9e2,_0x122f9e,_0xc895a0;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x24e2d6=(_0x3b3d1f=this['sh1to3Text'+'ure'])==null?void(-0x127b+-0x1*0x175+0x13f0):_0x3b3d1f['lock'](),_0x5f08ba=(_0x4a7cdf=this['sh4to7Text'+'ure'])==null?void(-0x15e4+-0x16*0x8+-0x44*-0x55):_0x4a7cdf['lock'](),_0x175244=(_0x5a0678=this['sh8to11Tex'+'ture'])==null?void(-0x8f3*-0x1+0xd*-0x2d4+-0x1*-0x1bd1):_0x5a0678['lock'](),_0x212fda=(_0x184a76=this['sh12to15Te'+'xture'])==null?void(0x121a+-0x490+-0xd8a):_0x184a76['lock'](),_0x444510={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x3bc5d7=U_(_0x3f6805,_0x444510*(-0x1e8c+0x2*0x102a+-0x1c5)),_0x13afb7=0xbe4+0x105*-0x4+0x2f,_0x53ee04=0x1fa6+-0xb*-0x166+-0x2b09,_0x2f1e0a=new Float32Array(-0x1d*0xc+-0x589*-0x1+0x2*-0x216),_0x467d6f=new Uint32Array(_0x2f1e0a['buffer']),_0x467eb5=new Array(_0x444510*(-0xbbc+-0x195e+0x251d))['fill'](0x18e0+-0x1259+0x687*-0x1);for(let _0x4d6140=-0x4*0x33b+0x868+-0x44*-0x11;_0x4d6140<_0x3f6805['numSplats'];++_0x4d6140){for(let _0xe4b039=-0x161f+-0x4e*-0x10+0x113f;_0xe4b039<_0x444510;++_0xe4b039)_0x467eb5[_0xe4b039*(0x914+0x5fe*-0x3+0x8e9)]=_0x3bc5d7[_0xe4b039][_0x4d6140],_0x467eb5[_0xe4b039*(0x59*0x17+-0x19*-0x119+-0x236d)+(0x1*0x1b8e+0x1870+-0x33fd)]=_0x3bc5d7[_0xe4b039+_0x444510][_0x4d6140],_0x467eb5[_0xe4b039*(0x1*-0x24e0+-0x1fd4+0x44b7)+(-0xb20*0x3+0x1b48+0x61a)]=_0x3bc5d7[_0xe4b039+_0x444510*(0xb*0x35+0x1e6d+-0x20b2)][_0x4d6140];let _0x1f02ab=_0x467eb5[0x5ba+0x1465*0x1+-0x2e7*0x9];for(let _0x1eb4a9=0x6f*-0x1+0x2*-0xe3+0x236;_0x1eb4a9<_0x444510*(-0x15*0xfc+-0x1bcd+-0x6b*-0x74);++_0x1eb4a9)_0x1f02ab=Math['max'](_0x1f02ab,Math['abs'](_0x467eb5[_0x1eb4a9]));if(_0x1f02ab!==-0x1dd4*-0x1+0x166f+-0x3443){for(let _0x18c7ba=-0xf5*0x1e+0x8b2*-0x1+0x2568;_0x18c7ba<_0x444510;++_0x18c7ba)_0x467eb5[_0x18c7ba*(-0xe*0x4e+-0x49*-0x41+-0xa*0x16d)+(0x17bb+-0x1d85+0x6*0xf7)]=Math['max'](-0x15e0+0x653+0x52f*0x3,Math['min'](_0x13afb7,Math['floor']((_0x467eb5[_0x18c7ba*(0x3ce*0x6+-0xeb1*0x1+0xd0*-0xa)+(-0x443*0x2+0x135*-0x13+0x1f75)]/_0x1f02ab*(-0x129f+-0xa4b+0x1cea+0.5)+(-0x1bc+-0xe24+0xfe0+0.5))*_0x13afb7+(0x8d*-0x1+0x11*0x17f+0xc71*-0x2+0.5)))),_0x467eb5[_0x18c7ba*(0x241f*0x1+0x605*0x5+0x1*-0x4235)+(0xd5*0x1+-0x1c92+0x1bbe)]=Math['max'](-0x2*0xbe3+-0x9ec+0x13*0x1c6,Math['min'](_0x53ee04,Math['floor']((_0x467eb5[_0x18c7ba*(0x2d2*-0x1+0xb27*0x1+-0x852)+(0x1835+-0xd13+0xb21*-0x1)]/_0x1f02ab*(0x17d5*-0x1+0x43c*-0x4+-0x31*-0xd5+0.5)+(-0x25*0x65+0xb83+0x316+0.5))*_0x53ee04+(0xe49+-0x7*-0x251+0x1e8*-0x10+0.5)))),_0x467eb5[_0x18c7ba*(-0xa98*0x1+-0xbf*0x5+0xe56)+(-0x561+-0x11*-0xd9+-0xb*0xd2)]=Math['max'](0x14*0x1c+0x559*0x1+0x1*-0x789,Math['min'](_0x13afb7,Math['floor']((_0x467eb5[_0x18c7ba*(-0x4ba+-0x6a5+0xb62)+(-0x3*0x18c+-0x11*-0x1f7+-0x1cc1)]/_0x1f02ab*(0x1*0x5ce+0x4f+0x139*-0x5+0.5)+(-0x9*0x3e9+0x13ee+0xf43+0.5))*_0x13afb7+(-0x111d+-0x21f1+0x1*0x330e+0.5))));_0x2f1e0a[-0x1f54+0x32*0x61+0xc62]=_0x1f02ab,_0x24e2d6[_0x4d6140*(0x3b3+-0x1ba3*0x1+-0xe*-0x1b6)+(0x12a1+0x24c2*0x1+-0x509*0xb)]=_0x467d6f[0x21a7+0x4*-0x1cf+-0x1a6b],_0x24e2d6[_0x4d6140*(-0x1988+-0x1e59+0x37e5)+(0x63f+0x43c+-0xa7a)]=_0x467eb5[0x73*0x7+0x12*-0x95+-0x755*-0x1]<<-0xc9c+-0x2524+0x31d5|_0x467eb5[0x5*-0x377+-0xc85*0x1+0x1dd9]<<0x7*0x2e7+-0x130c+-0x9d*0x2|_0x467eb5[-0x1c00+0x23b4+-0x7b2],_0x24e2d6[_0x4d6140*(-0x176+-0x71d+0x2dd*0x3)+(-0x1*-0x18dd+0x1c78+-0x3553)]=_0x467eb5[0xaa1+0x14*-0x110+0x2*0x551]<<-0x1*0x234a+-0x4c*0xa+0x2657|_0x467eb5[-0xea5*-0x1+-0xf2*-0x29+-0x3563]<<-0x5f0+0x1bbb*-0x1+-0x35f*-0xa|_0x467eb5[-0x13d8+0xa19+0x9c4],_0x24e2d6[_0x4d6140*(0x47c*-0x4+0x1124+-0xd0*-0x1)+(-0x6d*0x1+-0x15ed+0x165d)]=_0x467eb5[0x1fb7+0x2e7*-0xb+0x3c]<<0x1a*0x175+-0x19*-0x8f+-0x33c4|_0x467eb5[-0x110+0x1de4+0x1ccd*-0x1]<<0x7b+-0x14ad+0x143d|_0x467eb5[0x46*-0x77+-0xf53*-0x1+-0x373*-0x5],this['shBands']>-0xd43+0x21a2+-0x145e&&(_0x5f08ba[_0x4d6140*(-0x1*0xc14+-0xc*0xa3+0x13bc)+(-0x1*-0xb96+0xc4*-0xf+-0x1a)]=_0x467eb5[0x535+-0x32*-0x14+-0x914]<<0x1ae9+-0x2ed*-0x3+-0x239b*0x1|_0x467eb5[-0x6aa+0x1499+-0xde5]<<0x23ac+0x1*0x3+0x11d2*-0x2|_0x467eb5[0x122d+0x2*0x5f8+0x3*-0xa06],_0x5f08ba[_0x4d6140*(0x179c+-0xee1+-0x8b7)+(-0x201e+-0x3*-0x7eb+0x2ca*0x3)]=_0x467eb5[0xe6c+0x249a+-0x519*0xa]<<0xede+-0x1f31+0x1068|_0x467eb5[-0x7*0x1f1+-0x95f*0x3+0x29c1]<<-0x1*0x20a5+-0x1ca0+0x3d50|_0x467eb5[0x9ed*-0x1+-0xa34+0x142f],_0x5f08ba[_0x4d6140*(-0x109b+-0xae2+0x1b81)+(0x2*-0x65+-0x1*0x4+0x1a*0x8)]=_0x467eb5[0x67*-0x29+0x1*0x2325+-0x1297*0x1]<<0x2355+0xa39*-0x1+-0x1907|_0x467eb5[0x2510+-0x13aa+-0x13d*0xe]<<-0x48b+0x130b+-0xe75|_0x467eb5[0x1a3f+-0xef4*-0x2+-0x3816*0x1],_0x5f08ba[_0x4d6140*(0x155e*-0x1+-0xe2e+0x2390)+(0xc*-0x26c+-0x40a+-0x211d*-0x1)]=_0x467eb5[0x4*0x164+-0x5*-0x403+-0x198d]<<-0x13bf+-0x411*-0x3+0x7*0x117|_0x467eb5[-0x1ca5*0x1+-0xa5a+-0x3*-0xd06]<<0x1cb8+0x1582+-0x1bb*0x1d|_0x467eb5[0x12d7+-0x1c6a*0x1+0x9a7],this['shBands']>-0x1a00+0x1*-0x11bc+-0x16*-0x1fd?(_0x175244[_0x4d6140*(0x131*0xe+-0x17c+-0xf2e)+(-0xb27+-0x43*0x67+0x261c)]=_0x467eb5[-0x62*-0x58+0x26df+-0x243d*0x2]<<0x11f5+0x42*-0x68+0x8f0|_0x467eb5[0x110c+0x3*0xaff+-0x31f3]<<-0x1e13+-0x21f4+-0x2*-0x2009|_0x467eb5[0x2592+0x2bc+0x163*-0x1d],_0x175244[_0x4d6140*(0x11c3+0x1*0x8d2+-0x1a91)+(0x26ea+-0xf13*0x1+-0x17d6)]=_0x467eb5[0x21*0x89+0x2*0x9d+-0x1*0x12cb]<<-0x2217+0x2*-0x1302+0x4830|_0x467eb5[-0x1*0x1e36+-0x5e2+-0x1*-0x2431]<<0x17b*-0xb+0x8b1+0x7a3|_0x467eb5[-0x1*0x3c3+-0x12b2+0x168f],_0x175244[_0x4d6140*(0x2*0x1302+-0x228f+0x1*-0x371)+(0x22d4+0xc4b+-0x2f1d)]=_0x467eb5[0x21f8+-0x11*0x97+-0xbeb*0x2]<<-0x2061*0x1+0x1a89+0x29*0x25|_0x467eb5[-0xe33*-0x1+0x1556*-0x1+0x73f]<<-0xf8b+-0x1*-0x466+-0x2cc*-0x4|_0x467eb5[-0x8b5+-0x124c+-0x90a*-0x3],_0x175244[_0x4d6140*(0x224f+-0x1a4e+-0x199*0x5)+(0x1b70+0x3*0x421+-0x27d0)]=_0x467eb5[0x30b*0x5+0x22e6+-0x1*0x31ff]<<-0x79d*0x3+0x2320+0x61a*-0x2|_0x467eb5[-0x14f0+0x1104+0x40b]<<-0x1871+-0x4b1+-0xb*-0x2a7|_0x467eb5[-0xdf*0x27+-0x1127+0x3340],_0x212fda[_0x4d6140*(-0x1*0x14c9+-0x5*-0x38f+-0x37*-0xe)+(0x1aba+-0x1*0x19ee+0xc*-0x11)]=_0x467eb5[-0xbdd+0x24aa*0x1+-0xc56*0x2]<<0x1*0x1709+0xca*-0x2+-0x1560|_0x467eb5[-0xf42+-0x1db1+0x2d15]<<-0x13f1+0x14c6+-0x2*0x65|_0x467eb5[-0x18d0+0x77f+0x1174],_0x212fda[_0x4d6140*(0x1a7f+-0xa47+-0x11*0xf4)+(-0xf*0x1f7+-0x2*0xad+0x1ed4)]=_0x467eb5[0x2*-0xb23+-0x1bae+0x728*0x7]<<-0x13a5+-0x10*0x3+0x13ea|_0x467eb5[-0x1c37+0x702+0x155a]<<-0x45*0x49+-0x6*-0x18a+0xa7c|_0x467eb5[-0x9f1+-0x188d+0x22a4],_0x212fda[_0x4d6140*(0x43*-0x73+-0xb32+0x294f)+(0x1f*-0x25+-0x126a+0x16e7)]=_0x467eb5[0x1c*-0x14b+-0x1a5*-0x3+-0x4*-0x7db]<<0x1*0x12e9+0xcb4+-0x1f88*0x1|_0x467eb5[0x1faf+0x24bc+-0xda7*0x5]<<0x261f*0x1+0x19*-0x138+-0x79c|_0x467eb5[-0xa6+0x182f*-0x1+0x18fe],_0x212fda[_0x4d6140*(-0x1b1f+-0x1726+0x3249)+(0xcbb*0x3+-0xb2d*-0x3+0x1d*-0x279)]=_0x467eb5[0x190b+-0x2140+0x85f]<<0x27+-0x13*0x1a1+0x1ee1|_0x467eb5[0x1e4f+-0x29*0xaa+-0x2ea]<<0x181c+0x949*0x3+-0x33ec|_0x467eb5[0x1de*-0x7+-0x1*0x1c03+0x2941*0x1]):_0x175244[_0x4d6140]=_0x467eb5[0x7b*-0x1+0xc2f*0x2+-0x2*0xbe7]<<0x19b5+-0x1de*-0x3+-0x1f3a|_0x467eb5[0x141*-0x3+-0xeb1+-0x1*-0x128a]<<-0xe88+-0xc57+0x41*0x6a|_0x467eb5[-0x1849*0x1+-0x147d+-0x1*-0x2cdd]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x27d9e2=this['sh4to7Text'+'ure'])==null||_0x27d9e2['unlock'](),(_0x122f9e=this['sh8to11Tex'+'ture'])==null||_0x122f9e['unlock'](),(_0xc895a0=this['sh12to15Te'+'xture'])==null||_0xc895a0['unlock']();}['updateSHDa'+'taByWorker'](_0x4950b3){const _0x124cff={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x4c813e=U_(_0x4950b3,_0x124cff*(-0x91c+0xf72+-0x653*0x1));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x4950b3['numSplats'],this['shBands'],_0x4c813e),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x2a4479,_0x5305e4,_0x34973f,_0x3762d7)=>{var _0x4826d8,_0x193bc2,_0x4867e8,_0x553065,_0x32f833,_0x2430f2,_0x5f41b8,_0x31dd05,_0x1e0578,_0x43de9d;const _0x2e2f79=(_0x4826d8=this['sh1to3Text'+'ure'])==null?void(-0xbf5+-0x2538+0x312d):_0x4826d8['lock']();if(new Uint32Array(_0x2e2f79['buffer'])['set'](_0x2a4479),(_0x193bc2=this['sh1to3Text'+'ure'])==null||_0x193bc2['unlock'](),this['shBands']>-0x206a+0x291+0x1dda){const _0x14b211=(_0x4867e8=this['sh4to7Text'+'ure'])==null?void(0x22f5+0x1f6a+-0x425f):_0x4867e8['lock']();if(new Uint32Array(_0x14b211['buffer'])['set'](_0x5305e4),(_0x553065=this['sh4to7Text'+'ure'])==null||_0x553065['unlock'](),this['shBands']>-0x3*-0x91e+0x1*-0xe41+0xd17*-0x1){const _0x8d9801=(_0x32f833=this['sh8to11Tex'+'ture'])==null?void(-0x52a+0x207*0x13+-0x215b):_0x32f833['lock']();new Uint32Array(_0x8d9801['buffer'])['set'](_0x34973f),(_0x2430f2=this['sh8to11Tex'+'ture'])==null||_0x2430f2['unlock']();const _0x18849b=(_0x5f41b8=this['sh12to15Te'+'xture'])==null?void(-0x7*0x15b+-0x1*0x1c8b+0x1*0x2608):_0x5f41b8['lock']();new Uint32Array(_0x18849b['buffer'])['set'](_0x3762d7),(_0x31dd05=this['sh12to15Te'+'xture'])==null||_0x31dd05['unlock']();}else{const _0x6a580d=(_0x1e0578=this['sh8to11Tex'+'ture'])==null?void(-0x13c4+0x1411*0x1+-0x4d):_0x1e0578['lock']();new Uint32Array(_0x6a580d['buffer'])['set'](_0x34973f),(_0x43de9d=this['sh8to11Tex'+'ture'])==null||_0x43de9d['unlock']();}}});}}async function G1(){let _0x581ead=null,_0x279a72=null,_0x270c5b=null,_0x1d0925=null,_0x1ed7e3=null,_0xee4ce3=null,_0x1073a7=null,_0x2265a6=null,_0x55a774=null,_0x14f726=null,_0x2a9af7=null,_0x12c5f2=null,_0x47e55b=null,_0x11861a=null,_0x3f7564=null,_0x360260=null,_0x5f340e=null,_0x472d29=null,_0x18b4b8=null,_0x949642=null,_0x47df73=null,_0x55cb06=null,_0x58153a=null,_0x46763c=null,_0x54f47e=null,_0x27e254=Float32Array['BYTES_PER_'+'ELEMENT'],_0x14f8a0=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x8f470a=0x23fe+0x773*-0x5+0x141,_0x239fe5=!(0xfec+-0x1*0x2117+0x112b),_0x4dc178,_0x5dd1b8,_0xf08e5a={'x':0x0,'y':0x0,'z':0x0},_0x302dea={'x':0x0,'y':0x0,'z':0x0},_0x1abf21=!(0x1358+-0x7dd+-0xb7b),_0x790f02=!(-0x2557+-0x3ac+0xdac*0x3),_0x1e8f4e=!(-0x72d*-0x1+-0xb09+-0x3dd*-0x1),_0x565d28=0x5df+0x16f6*-0x1+0x36b*0x5,_0x3d1bd9=0xedb+0x153*-0x1+0x8*-0x1b1,_0x141a95=!(0x19d2+-0x12*-0x70+-0x21b1),_0x2ec189=null;self['onmessage']=async _0x4311d3=>{const {data:_0x4959e3}=_0x4311d3;switch(_0x4959e3['type']){case'initWorker':_0x8f470a=_0x4959e3['numSplats'],_0x3dcec5(),_0x239fe5=_0x4959e3['is4d'],await _0x8c6787(_0x4959e3['sortWasmUr'+'l']),_0x3a41e8(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x4959e3['dataReady']){if(_0xee4ce3&&_0x4959e3['centers']&&_0xee4ce3['length']===_0x4959e3['centers']['length']){const _0x2facf8=new Float32Array(_0x4959e3['centers']);_0xee4ce3['set'](_0x2facf8);}if(_0x55a774&&_0x4959e3['timeIndex']&&_0x55a774['length']===_0x4959e3['timeIndex']['length']){const _0x21e66f=new Uint32Array(_0x4959e3['timeIndex']);_0x55a774['set'](_0x21e66f);}if(_0x12c5f2&&_0x4959e3['motion']&&_0x12c5f2['length']===_0x4959e3['motion']['length']){const _0x5d2a1d=new Float32Array(_0x4959e3['motion']);_0x12c5f2['set'](_0x5d2a1d);}if(_0x239fe5&&_0x14f726&&_0x2a9af7&&_0x4959e3['muT']&&_0x4959e3['tScale']&&_0x14f726['length']===_0x4959e3['muT']['length']&&_0x2a9af7['length']===_0x4959e3['tScale']['length']&&(_0x14f726['set'](_0x4959e3['muT']),_0x2a9af7['set'](_0x4959e3['tScale'])),_0x1073a7){for(let _0x5ea029=0x21c0+0x1*0xeb9+-0x3079;_0x5ea029<_0x1073a7['length'];++_0x5ea029)_0x1073a7[_0x5ea029]=_0x5ea029;}_0x1ed7e3&&_0x4959e3['timeOption']&&_0x1ed7e3['set'](_0x4959e3['timeOption']),setTimeout(()=>{_0x1d13d2();},0xb*0x79+-0x177*0xf+0x10c6);}break;case'setTime':_0x4dc178=_0x4959e3['time'],_0x41a47b();break;case'setUseTemp'+'oralSort':_0x1abf21=_0x4959e3['useTempora'+'lSort'];break;case'sort':if(!_0x270c5b)return;_0x270c5b[0x4eb*-0x1+0x3e8+0x103]=_0x4959e3['cameraPosi'+'tion']['x'],_0x270c5b[-0x12ed+0x211f+0x7*-0x207]=_0x4959e3['cameraPosi'+'tion']['y'],_0x270c5b[-0xe1e+0x1855+-0xa35]=_0x4959e3['cameraPosi'+'tion']['z'],_0x1d0925[-0x9ba+0x23e7+-0x1a2d]=_0x4959e3['cameraDire'+'ction']['x'],_0x1d0925[0x171c+-0x1bae*0x1+0x493]=_0x4959e3['cameraDire'+'ction']['y'],_0x1d0925[-0xe*0xa6+-0x12a9+-0x1bbf*-0x1]=_0x4959e3['cameraDire'+'ction']['z'],_0x41a47b();break;}};const _0x41a47b=()=>{_0x2ec189&&clearTimeout(_0x2ec189),_0x2ec189=setTimeout(()=>{_0x2ec189=null,_0x32ae48();},0x2f*-0x35+-0x1c10+0x25cb);},_0x3dcec5=()=>{_0x3d1bd9=Math['max'](-0x1269*-0x1+-0x8d1*-0x1+-0x2*0xd98,Math['min'](-0x15b*-0x1+-0x1ece+-0x1d87*-0x1,Math['round'](Math['log2'](_0x8f470a/(0x25*-0xd1+0x1c65+0x6*0x4e))))),_0x565d28=(-0x2146+-0x118f+0x32d7)**_0x3d1bd9+(-0x1*0x25cb+-0xb55*-0x1+-0x1*-0x1a77);},_0x3a41e8=()=>(_0x47e55b=-0x31*0xcb+0x311+0x23ca,_0x11861a=_0x47e55b+_0x8f470a*_0x27e254*(0x84e+-0x5d9+-0x272),_0x18b4b8=_0x11861a+(0x51*-0x3a+-0x2*-0xd60+-0x802)*_0x27e254*(0xe20+0xfb8+-0x1dd6),_0x949642=_0x18b4b8+_0x8f470a*_0x14f8a0,_0x47df73=_0x949642+(0x1664+-0x230e+0x3b*0x37)*_0x27e254,_0x55cb06=_0x47df73+(-0x26f*-0x10+0xf*-0xc7+0x4*-0x6d1)*_0x27e254,_0x58153a=_0x55cb06+(-0x1*-0xdbc+0x26e1+0x1*-0x349a)*_0x27e254,_0x46763c=_0x58153a+(-0x1*-0x1eea+-0x79f*-0x1+-0x2686*0x1)*_0x27e254,_0x54f47e=_0x46763c+_0x8f470a*_0x14f8a0,_0xee4ce3=new Float32Array(_0x279a72,_0x47e55b,_0x8f470a*(-0x16*-0x60+-0x1*0x12b9+-0x2c*-0x3d)),_0x1ed7e3=new Float32Array(_0x279a72,_0x11861a,(-0xe40+-0x23e5+0x11*0x2f9)*(0xef6+-0x1852+0x1*0x95e)),_0x1073a7=new Uint32Array(_0x279a72,_0x18b4b8,_0x8f470a),_0x2265a6=new Uint32Array(_0x1073a7),_0x270c5b=new Float32Array(_0x279a72,_0x949642,0xca7*-0x3+-0x2203+0x1*0x47fb),_0x1d0925=new Float32Array(_0x279a72,_0x47df73,0x871+-0x3d*0x7a+0x14a4),_0x239fe5&&(_0x5f340e=_0x54f47e+_0x565d28*_0x14f8a0,_0x472d29=_0x5f340e+_0x8f470a*_0x27e254,_0x360260=_0x472d29+_0x8f470a*_0x27e254,_0x3f7564=_0x360260+_0x8f470a*(0x974+-0x78f*0x3+-0x1*-0xd3c)*_0x27e254,_0x14f726=new Float32Array(_0x279a72,_0x5f340e,_0x8f470a),_0x2a9af7=new Float32Array(_0x279a72,_0x472d29,_0x8f470a),_0x12c5f2=new Float32Array(_0x279a72,_0x360260,_0x8f470a*(0x19f3+-0x1a95+0x37*0x3)),_0x55a774=new Uint32Array(_0x279a72,_0x3f7564,_0x8f470a)),{'sharedMemory':_0x279a72,'layout':{'timeOptionPtr':_0x11861a,'timeIndexPtr':_0x3f7564,'centersPtr':_0x47e55b,'motionPtr':_0x360260,'muTPtr':_0x5f340e,'tScalePtr':_0x472d29,'orderPtr':_0x18b4b8,'cameraPositionPtr':_0x949642,'cameraDirectionPtr':_0x47df73,'boundMinPtr':_0x55cb06,'boundMaxPtr':_0x58153a,'distancesPtr':_0x46763c,'countBufferPtr':_0x54f47e}}),_0x8c6787=async _0x4223b3=>{let _0x3fd60b=_0x8f470a*_0x27e254*(-0x13e7*0x1+0x3*0x2e7+-0x13*-0x97);_0x3fd60b+=_0x8f470a*_0x14f8a0,_0x3fd60b+=(-0x20a6+-0x559*-0x3+0x109e)*_0x27e254,_0x3fd60b+=(0x541+-0xee*-0x23+-0x25c8)*_0x27e254,_0x3fd60b+=(0x48d+0x2*-0xf6e+0x1a52)*_0x27e254,_0x3fd60b+=(-0xd11*-0x2+-0xf89+-0x10f*0xa)*_0x27e254,_0x3fd60b+=_0x8f470a*_0x27e254,_0x3fd60b+=_0x565d28*_0x14f8a0,_0x3fd60b+=(0x7*0x3fe+0x2bd*0x5+-0x293f)*_0x27e254*(-0x1e2+-0x1*0xfcb+-0x9*-0x1f7),_0x3fd60b+=_0x8f470a*_0x14f8a0,_0x239fe5&&(_0x3fd60b+=_0x8f470a*_0x27e254,_0x3fd60b+=_0x8f470a*_0x27e254,_0x3fd60b+=_0x8f470a*_0x27e254*(0x255e+0x165*-0xb+-0x1604*0x1));const _0x55d2bb=(0x1*-0x653+0xf*0xe5+-0x6d8)*(0x53*-0xa+-0x802+0xf40),_0x5c66f4=Math['ceil'](_0x3fd60b/_0x55d2bb),_0x2db2d4={'env':{'memory':new WebAssembly['Memory']({'initial':_0x5c66f4,'maximum':_0x5c66f4,'shared':!(0x62c+-0x318+-0x314)}),'pthread_self':function(){return-0x266f*0x1+0x1*0x9d+-0x1*-0x25d2;},'emscripten_builtin_memalign':function(){return 0x15cb+-0xc5*-0x31+0x2*-0x1dc0;},'loggerVec3':(_0x2aa89b,_0x2ef528,_0x264ca3,_0x2281b4)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x2aa89b+']\x200:'+_0x2ef528+'\x201:'+_0x264ca3+'\x202:'+_0x2281b4);},'loggerFloat':(_0x2dba9d,_0x1fe932)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x2dba9d+']\x20a:'+_0x1fe932);},'loggerValue':(_0x3371be,_0x3a25d5,_0x5bd8d5,_0x36d128,_0x38f60b)=>{console['log']('C++\x20logger'+'Value\x20['+_0x3371be+']\x20minDist:'+_0x3a25d5+'\x20maxDist:'+_0x5bd8d5+'\x20range:'+_0x36d128+'\x20divider:'+_0x38f60b);},'loggerCamera':(_0x5c6d33,_0x45b83e,_0x3e47fb,_0x5b2619,_0x57f8ee,_0x13888a,_0xcca57a)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x5c6d33+']\x20x:'+_0x45b83e+'\x20y:'+_0x3e47fb+'\x20z:'+_0x5b2619+'\x20dx:'+_0x57f8ee+'\x20dy:'+_0x13888a+'\x20dz:'+_0xcca57a);},'loggerBound':(_0x1f6864,_0x5d96c0,_0x13425f,_0x334725,_0x1adf31,_0x3749b5)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x1f6864+'\x20minY:'+_0x5d96c0+'\x20minZ:'+_0x13425f+'\x20maxX:'+_0x334725+'\x20maxY:'+_0x1adf31+'\x20maxZ:'+_0x3749b5);},'loggerDebug':_0x4326ac=>{console['log']('C++\x20logger'+'Debug\x20['+_0x4326ac+']');}}};try{const _0x4918fc=await(await fetch(_0x4223b3))['arrayBuffe'+'r']();return _0x581ead=(await WebAssembly['instantiat'+'e'](_0x4918fc,_0x2db2d4))['instance'],_0x279a72=_0x2db2d4['env']['memory']['buffer'],_0x581ead;}catch(_0x319eec){throw console['error']('加载WASM模块失败'+':',_0x319eec),_0x319eec;}},_0x1d13d2=()=>{if(!_0x581ead)return;const {calcAABB:_0xfd92f4}=_0x581ead['exports'];_0xfd92f4(_0x47e55b,_0x55cb06,_0x58153a,_0x8f470a);},_0x32ae48=()=>{if(!_0x581ead||_0x18b4b8===null||_0x47e55b===null||_0x949642===null||_0x47df73===null||_0x55cb06===null||_0x58153a===null)return;const _0xe247=_0x270c5b[0xb7e+0xdb3+-0x1931],_0x4618f5=_0x270c5b[0xe1c+-0x165a+0x83f*0x1],_0x46e970=_0x270c5b[-0x1e*0xf9+-0x9fa*0x3+0x3b1e],_0x16ab96=_0x1d0925[0xdf*-0xb+-0x1629+0xfdf*0x2],_0x50622c=_0x1d0925[0x5*-0x409+0x2*-0x13e+-0x3c7*-0x6],_0x22afb9=_0x1d0925[0xe52+0x116+-0xf66],_0x301ff4=-0x861+-0x25b6+0x3*0xf5d+0.001;if(!_0x790f02&&Math['abs'](_0xe247-_0xf08e5a['x'])<_0x301ff4&&Math['abs'](_0x4618f5-_0xf08e5a['y'])<_0x301ff4&&Math['abs'](_0x46e970-_0xf08e5a['z'])<_0x301ff4&&Math['abs'](_0x16ab96-_0x302dea['x'])<_0x301ff4&&Math['abs'](_0x50622c-_0x302dea['y'])<_0x301ff4&&Math['abs'](_0x22afb9-_0x302dea['z'])<_0x301ff4&&Math['abs'](_0x4dc178-_0x5dd1b8)<-0xbf*0x17+-0x2*-0xea3+-0xc1d*0x1+0.01)return;if(_0x1e8f4e){_0x141a95=!(-0xc5e+-0x7*-0x1c3+-0x9*-0x1);return;}_0x1e8f4e=!(-0x2*-0x9a2+-0x141*-0xb+-0x210f),_0x790f02=!(-0x18a9+-0x27b+0x1b25),_0x5dd1b8=_0x4dc178,_0xf08e5a['x']=_0xe247,_0xf08e5a['y']=_0x4618f5,_0xf08e5a['z']=_0x46e970,_0x302dea['x']=_0x16ab96,_0x302dea['y']=_0x50622c,_0x302dea['z']=_0x22afb9,_0x141a95=!(-0x162b+-0x172f+0x2d5b);const {sortIndexes:_0xac624e}=_0x581ead['exports'];try{const _0x1e8d72=_0xac624e(_0x18b4b8,_0x47e55b,_0x360260,_0x5f340e,_0x472d29,_0x949642,_0x47df73,_0x55cb06,_0x58153a,_0x46763c,_0x54f47e,_0x4dc178,_0x1abf21,_0x239fe5,_0x8f470a,_0x565d28,_0x3d1bd9,_0x11861a,_0x3f7564);_0x2265a6['set'](_0x1073a7),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x1e8d72,'order':_0x2265a6});}catch(_0x4642f3){console['error']('排序操作失败:',_0x4642f3),self['postMessag'+'e']({'type':'error','error':_0x4642f3['message']});}_0x1e8f4e=!(-0x120d+-0x1*0x123b+-0x2449*-0x1),_0x141a95&&_0x41a47b();};}class H1 extends ce{constructor(_0x26fe92,_0x367b14=!(0x3a0*-0x4+-0x2*0x303+-0x4a*-0x47)){super(),c(this,'worker',null),c(this,'numSplats',-0xea0+0x136d+-0x4cd),c(this,'is4d',!(0x3dd*-0x6+0x16a*-0x9+-0x1*-0x23e8)),c(this,'sortStartT'+'ime',0x4*0x33+-0x4a5*-0x5+-0x1805),c(this,'orderTextu'+'re'),(this['numSplats']=_0x26fe92,this['is4d']=_0x367b14,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x389fc7=>{if(!this['worker'])return;const {data:_0x22f7cd}=_0x389fc7;switch(_0x22f7cd['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x22f7cd['order']){const _0x3f89be=this['orderTextu'+'re']['lock']();new Uint32Array(_0x3f89be['buffer'])['set'](_0x22f7cd['order']),this['orderTextu'+'re']['unlock']();}let _0x1e7d53=-0x1ac2+-0x135*0x11+0x13*0x27d;this['sortStartT'+'ime']!==-0x1b83+0x39a+0x17e9&&(_0x1e7d53=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x389fc7['data']['count'],_0x1e7d53),this['sortStartT'+'ime']=0x153c+-0x1*0xaf7+-0xb*0xef;break;case'error':console['error']('Worker错误:',_0x22f7cd['error']),this['fire']('error',_0x22f7cd['error']);break;}};const _0x54edf7=self['location']['origin']+('/viewer/so'+'rter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x54edf7,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x3ebe90,_0x4b384c,_0x509403,_0x29b490,_0x319af6,_0x4d7722,_0xb080ab){var _0x3a97c2;(!_0xb080ab||_0xb080ab['length']===-0x26*0xb1+0x10d*0x1c+-0x326)&&(_0xb080ab=[-0x2567+-0x1030+0x327*0x11,-0x110b+-0x3*-0x909+0x3*-0x359]),this['orderTextu'+'re']=_0x3ebe90,(_0x3a97c2=this['worker'])==null||_0x3a97c2['postMessag'+'e']({'type':'initData','centers':_0x4b384c,'muT':_0x509403,'tScale':_0x29b490,'motion':_0x319af6,'timeIndex':_0x4d7722,'timeOption':_0xb080ab,'dataReady':!(0x1193+-0x1276+0xe3)});}['resize'](_0x37c95e){this['destroy'](),this['numSplats']=_0x37c95e,this['_initWorke'+'r']();}['setCamera'](_0xa3f177,_0x1fbd61){this['worker']&&(this['sortStartT'+'ime']===-0x1864+-0x19cb+0x322f&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0xa3f177['x'],'y':_0xa3f177['y'],'z':_0xa3f177['z']},'cameraDirection':{'x':_0x1fbd61['x'],'y':_0x1fbd61['y'],'z':_0x1fbd61['z']}}));}['setCurrent'+'Time'](_0x5bf787){this['worker']&&(this['sortStartT'+'ime']===-0x1*-0x2429+-0x22ee+-0x13b&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x5bf787}));}['setUseTemp'+'oralSort'](_0x3923a2){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x3923a2});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),kn=new T(),Gl=[-0x182e+0x12c4+0x15*0x42,0x2f6+0xa49+0xd3f*-0x1];class Np{constructor(_0x1d547d,_0x4a50a4){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',0xfe0+0x1*0x1a67+0x4f*-0x89),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x1d547d['numSplats']),this['splat']=_0x1d547d,this['options']=Object['assign'](this['options'],_0x4a50a4));const _0x3ac04c=_0x1d547d['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x30485f=-0x1*-0x1b32+-0x493*-0x6+-0x3624,_0x5dbdf6=Math['ceil'](_0x1d547d['numSplats']/_0x30485f)*_0x30485f/_0x30485f,_0x48cfd7=new Uint32Array(_0x5dbdf6);for(let _0xc364c2=0x2*-0x1ed+0xd3*-0x13+0x1383;_0xc364c2<_0x5dbdf6;++_0xc364c2)_0x48cfd7[_0xc364c2]=_0xc364c2*_0x30485f;const _0x4a86ce=new Et(_0x3ac04c,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x1cd3+-0x60a*0x1+0x55*0x69)}]),_0x46dc01=new os(_0x3ac04c,_0x4a86ce,_0x5dbdf6,{'usage':jt,'data':_0x48cfd7['buffer']}),_0x2a3d63=new Float32Array((-0x24df+-0x19f+0x268a)*_0x30485f),_0x4b2c66=new Uint32Array((-0x1144*-0x1+-0x13*-0x3b+-0x159f)*_0x30485f);for(let _0x364fe7=-0x1be*-0xa+-0x3df*0x1+0x1*-0xd8d;_0x364fe7<_0x30485f;++_0x364fe7){_0x2a3d63['set']([-(-0x1237+0x2394+0x2c*-0x65),-(-0x6*0x19b+0x2236*-0x1+-0x2bd9*-0x1),_0x364fe7,-0x1ec*0xa+0x2350+-0x1017,-(0x21ce+0x1cfd*-0x1+-0x4d0),_0x364fe7,-0xc10+0x1e9b+-0x1*0x128a,-0x84d+0x1e19+-0x15cb,_0x364fe7,-(-0x834+0x1*-0x686+0xebb),-0x1913+0x1f2*-0xc+0x306c,_0x364fe7],_0x364fe7*(0x129f+0x2702+-0x3995));const _0x3da074=_0x364fe7*(-0x342+-0x6*-0x24f+-0x1*0xa94);_0x4b2c66['set']([0x9bc+-0xa4a+0x47*0x2+_0x3da074,0xf36+-0x1914+-0x13*-0x85+_0x3da074,0x1*-0x24d7+0xafe*0x3+0x3df+_0x3da074,0xef3*-0x1+-0x700+0x15f3+_0x3da074,-0x1*0x47f+-0x1384+0x1805+_0x3da074,0x2*-0xdbf+0xffc+-0xb85*-0x1+_0x3da074],_0x364fe7*(0x1bf*-0xf+-0xe4+0x303*0x9));}const _0x867f25=new Ie(_0x3ac04c);_0x867f25['setPositio'+'ns'](_0x2a3d63,-0x2c7*-0x1+0x1c64+-0xf94*0x2),_0x867f25['setIndices'](_0x4b2c66),_0x867f25['update'](),this['mesh']=_0x867f25,this['mesh']['aabb']['copy'](_0x1d547d['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x46dc01,!(0xd67+0x20d+-0xf74)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x2fc+-0x2*-0x9d3+-0x10aa*0x1,(!_0x4a50a4['dither']||_0x4a50a4['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x4c0fb6;(_0x4c0fb6=this['sorter'])==null||_0x4c0fb6['initData'](this['orderTextu'+'re'],_0x1d547d['centers'],_0x1d547d['muT'],_0x1d547d['tScale'],_0x1d547d['motion'],_0x1d547d['timeIndex'],_0x1d547d['timeOption']);}),this['sorter']['on']('updated',_0x401e95=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x401e95/_0x30485f),this['material']['setParamet'+'er']('numSplats',_0x401e95);}));}['updateData'](_0x567cb2){var _0x18627a;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x567cb2['numSplats']),this['splat']=_0x567cb2;const _0x1761b9=_0x567cb2['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0xe22d05=-0x208+-0x14c0+0x1748,_0x444cbd=Math['ceil'](_0x567cb2['numSplats']/_0xe22d05)*_0xe22d05/_0xe22d05,_0x552709=new Uint32Array(_0x444cbd);for(let _0x5d4401=0xcd2+-0x67f+-0x1*0x653;_0x5d4401<_0x444cbd;++_0x5d4401)_0x552709[_0x5d4401]=_0x5d4401*_0xe22d05;const _0x2e8abc=new Et(_0x1761b9,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x1*-0x189d+-0x1*-0x8cf+0xfce)}]),_0x27dc3c=new os(_0x1761b9,_0x2e8abc,_0x444cbd,{'usage':jt,'data':_0x552709['buffer']});this['mesh']['aabb']['copy'](_0x567cb2['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x27dc3c,!(0x197d+0x13d*-0x1f+-0x673*-0x2)),this['meshInstan'+'ce']['instancing'+'Count']=-0x4ab+-0xd3*0xf+-0x28*-0x6d,(_0x18627a=this['sorter'])==null||_0x18627a['resize'](_0x567cb2['numSplats']);}['releaseSeq'](_0x29fd7f){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x29fd7f);}['destroy'](){var _0x152dd4,_0x371fec,_0x277950;(_0x152dd4=this['material'])==null||_0x152dd4['destroy'](),(_0x371fec=this['meshInstan'+'ce'])==null||_0x371fec['destroy'](),(_0x277950=this['sorter'])==null||_0x277950['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x39eab6){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x39eab6),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x5c5845=this['splat']['device'];if(Gl[0x2*-0xdd3+-0x2*-0x4f2+0x11c2]=_0x5c5845['width'],Gl[0xa3*0x1f+0x2477+-0x3833]=_0x5c5845['height'],this['cameras']['length']>-0x29*-0xd3+-0x9b*0x10+-0x181b*0x1){const _0x5d46fe=this['cameras'][0x1*0x261e+0x106*-0x1+-0x128c*0x2]['xr'];_0x5d46fe&&_0x5d46fe['active']&&_0x5d46fe['views']['list']['length']===-0xd3*-0xc+-0x164e+-0xc6c*-0x1&&(Gl[-0x2*0x9b1+-0x127+0x1489]/=-0xed1+0x21d0+-0x12fd);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x59c62e){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x405fa9=_0x59c62e['getWorldTr'+'ansform']();_0x405fa9['getTransla'+'tion'](On),_0x405fa9['getZ'](kn);const _0x16019f=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x236c7e=W1['invert'](_0x16019f);_0x236c7e['transformP'+'oint'](On,On),_0x236c7e['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x1*0x4db+0xa0f*0x1+-0xeea){const _0x20fe5f=this['cameras'][0xb3*0x26+-0x10a+-0xac*0x26];this['sort'](_0x20fe5f['_node']),this['cameras']['length']=0xa2*-0x1+0x2f6*0x2+0x1*-0x54a;}}['updateTime'](_0x2df520){this['time']=_0x2df520;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x353644){U0=_0x353644;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x21c2b7){v['assert'](_0x21c2b7),_0x21c2b7['frameUpdat'+'e']();const _0x5a317c=_0x21c2b7['beforePass'+'es'];for(let _0x3a001c=-0xb*-0x199+-0x23f1+-0x92f*-0x2;_0x3a001c<_0x5a317c['length'];_0x3a001c++){const _0x3f25b3=_0x5a317c[_0x3a001c];_0x3f25b3['enabled']&&this['addRenderP'+'ass'](_0x3f25b3);}_0x21c2b7['enabled']&&this['renderPass'+'es']['push'](_0x21c2b7);const _0x58e32e=_0x21c2b7['afterPasse'+'s'];for(let _0x15f434=-0x26b*0x9+-0x1*0x229e+0x3861;_0x15f434<_0x58e32e['length'];_0x15f434++){const _0x58cd0b=_0x58e32e[_0x15f434];_0x58cd0b['enabled']&&this['addRenderP'+'ass'](_0x58cd0b);}}['reset'](){this['renderPass'+'es']['length']=-0x269d+0x1647+-0x29*-0x66;}['compile'](){const _0x3f8615=this['renderTarg'+'etMap'],_0xc131bc=this['renderPass'+'es'];for(let _0x2f7a6b=-0x1*-0x1e73+-0x285*0x5+-0x11da;_0x2f7a6b<_0xc131bc['length'];_0x2f7a6b++){const _0x5b8aa7=_0xc131bc[_0x2f7a6b],_0x26224c=_0x5b8aa7['renderTarg'+'et'];if(_0x26224c!==void(-0x5a2+0x17eb+-0x1f*0x97)){const _0x39a429=_0x3f8615['get'](_0x26224c);if(_0x39a429){const _0x505094=_0x5b8aa7['colorArray'+'Ops']['length'];for(let _0x4c612d=0x13*-0x1f3+0x2*-0xda0+0x4049*0x1;_0x4c612d<_0x505094;_0x4c612d++)_0x5b8aa7['colorArray'+'Ops'][_0x4c612d]['clear']||(_0x39a429['colorArray'+'Ops'][_0x4c612d]['store']=!(0x8*0x1a+-0x266f+0x259f));_0x5b8aa7['depthStenc'+'ilOps']['clearDepth']||(_0x39a429['depthStenc'+'ilOps']['storeDepth']=!(0x2559*0x1+-0x1c2f+-0x1*0x92a)),_0x5b8aa7['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x39a429['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x2506+-0x362+-0x21a4));}_0x3f8615['set'](_0x26224c,_0x5b8aa7);}}for(let _0x45a7dd=-0xa05*-0x1+-0xcf2+0x6b*0x7;_0x45a7dd<_0xc131bc['length']-(-0x11d7*-0x2+0x5dc*-0x5+-0x661);_0x45a7dd++){const _0x3e5529=_0xc131bc[_0x45a7dd],_0x229d09=_0x3e5529['renderTarg'+'et'],_0x3d970e=_0xc131bc[_0x45a7dd+(-0x1*0xc59+-0xe*-0x16d+-0x3ce*0x2)],_0xa6c45b=_0x3d970e['renderTarg'+'et'];_0x229d09!==_0xa6c45b||_0x229d09===void(0x166e+0x9f9+-0x2067)||_0x3d970e['depthStenc'+'ilOps']['clearDepth']||_0x3d970e['depthStenc'+'ilOps']['clearStenc'+'il']||_0x3d970e['colorArray'+'Ops']['some'](_0x33f85e=>_0x33f85e['clear'])||_0x3e5529['afterPasse'+'s']['length']>0xec7+-0x202+-0xcc5||_0x3d970e['beforePass'+'es']['length']>-0x2143*-0x1+0x1a23*0x1+-0x3b66||(_0x3e5529['_skipEnd']=!(0x20d9+0x25d7+-0x46b0),_0x3d970e['_skipStart']=!(0xd64+0xe69+0xb*-0x287));}let _0x5bccfc=null,_0xdc1356=null;for(let _0x20fc74=0x25f7+-0x70*-0x3b+-0x1*0x3fc7;_0x20fc74<_0xc131bc['length'];_0x20fc74++){const _0x33b8ff=_0xc131bc[_0x20fc74],_0x2e4385=_0x33b8ff['renderTarg'+'et'],_0x5148d4=_0x2e4385==null?void(-0x2*-0xf94+-0x1193+-0x1*0xd95):_0x2e4385['colorBuffe'+'r'];if(_0x5148d4!=null&&_0x5148d4['cubemap']){if(_0x5bccfc===_0x5148d4){const _0x118272=_0xdc1356['colorArray'+'Ops']['length'];for(let _0x38cc1a=-0x21f9+0x1af*-0x5+0x2a64;_0x38cc1a<_0x118272;_0x38cc1a++)_0xdc1356['colorArray'+'Ops'][_0x38cc1a]['mipmaps']=!(-0x2f*0x17+0x2*-0xc25+0x721*0x4);}_0x5bccfc=_0x2e4385['colorBuffe'+'r'],_0xdc1356=_0x33b8ff;}else _0x33b8ff['requiresCu'+'bemaps']&&(_0x5bccfc=null,_0xdc1356=null);}_0x3f8615['clear']();}['render'](_0x2d1c9d){this['compile']();const _0x4556c4=this['renderPass'+'es'];for(let _0x1fc2c8=-0x993+-0x1222+0x1bb5*0x1;_0x1fc2c8<_0x4556c4['length'];_0x1fc2c8++)_0x4556c4[_0x1fc2c8]['render']();}}class j1{constructor(_0x58dead,_0x129280){this['texture0']=_0x58dead,this['texture1']=_0x129280;}['destroy'](){var _0xb9b0b4,_0x2119e8;(_0xb9b0b4=this['texture0'])==null||_0xb9b0b4['destroy'](),(_0x2119e8=this['texture1'])==null||_0x2119e8['destroy']();}}const H_=new Ot();class $r{static['createText'+'ure'](_0x11b1ac,_0x59516b,_0x20e1cb,_0x103fa2=''){return new he(_0x11b1ac,{'name':'AreaLightL'+'UT'+_0x103fa2,'width':_0x20e1cb,'height':_0x20e1cb,'format':_0x59516b,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x2b+-0x1*-0xd08+0x1*-0xcdc)});}static['applyTextu'+'res'](_0x30b2bd,_0x3fd2b7,_0x543ce6){H_['remove'](_0x30b2bd),H_['get'](_0x30b2bd,()=>new j1(_0x3fd2b7,_0x3fd2b7===_0x543ce6?null:_0x543ce6)),_0x30b2bd['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x3fd2b7),_0x30b2bd['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x543ce6);}static['createPlac'+'eholder'](_0x11e366){const _0x184b1a=$r['createText'+'ure'](_0x11e366,Je,0x1*-0x213a+0x1b94+0x5a8,'placeholde'+'r');_0x184b1a['lock']()['fill'](-0x17e7+0x1*-0x101e+0x2805),_0x184b1a['unlock'](),$r['applyTextu'+'res'](_0x11e366,_0x184b1a,_0x184b1a);}static['set'](_0xe438fc,_0x564815,_0x1c254a){function _0x17d24e(_0xcb7c3c,_0x39cae2,_0x16812f){const _0x11c009=$r['createText'+'ure'](_0xcb7c3c,_0x16812f,-0x1*0x794+-0x1945*-0x1+-0x1171);return _0x11c009['lock']()['set'](_0x39cae2),_0x11c009['unlock'](),_0x11c009;}function _0x2bfbe6(_0x475cb1){const _0x1883e5=_0x475cb1['length'],_0x58febb=new Uint16Array(_0x1883e5),_0x39f23d=Wt['float2Half'];for(let _0x3c066c=0x21e0+0x202a+-0x420a;_0x3c066c<_0x1883e5;_0x3c066c++)_0x58febb[_0x3c066c]=_0x39f23d(_0x475cb1[_0x3c066c]);return _0x58febb;}const _0x314203=_0x564815,_0x2fed43=_0x1c254a,_0x5aab90=_0x2bfbe6(_0x314203),_0x4271bd=_0x2bfbe6(_0x2fed43),_0x3562c5=_0x17d24e(_0xe438fc,_0x5aab90,Je),_0x36756a=_0x17d24e(_0xe438fc,_0x4271bd,Je);$r['applyTextu'+'res'](_0xe438fc,_0x3562c5,_0x36756a);}}const Wh='en-US',$h={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x19b373,_0x5c3f20){for(let _0x135759=-0x105d+0x16*0x144+-0xb7b,_0x28a469=_0x19b373['length'];_0x135759<_0x28a469;_0x135759++)zp[_0x19b373[_0x135759]]=_0x5c3f20;}function pi(_0x4d2d4a){const _0x38cf8f=_0x4d2d4a['indexOf']('-');return _0x38cf8f!==-(0xfd*0x3+-0x115c+-0x2*-0x733)?_0x4d2d4a['substring'](-0x43b+0x738+0x55*-0x9,_0x38cf8f):_0x4d2d4a;}function Y1(_0x15811c,_0x1bf8ff){const _0x344908=_0x15811c['indexOf']('-');return _0x344908!==-(0x190f+-0x2*0x851+-0x86c)?_0x1bf8ff+_0x15811c['substring'](_0x344908):_0x1bf8ff;}function V0(_0x26da50,_0x6895ec){if(_0x6895ec[_0x26da50])return _0x26da50;let _0x551828=$h[_0x26da50];if(_0x551828&&_0x6895ec[_0x551828])return _0x551828;const _0x48c41d=pi(_0x26da50);return _0x551828=$h[_0x48c41d],_0x6895ec[_0x551828]?_0x551828:_0x6895ec[_0x48c41d]?_0x48c41d:Wh;}pr(['ja','ko','th','vi','zh','id'],_0x26587f=>-0xd5c+0x5a1+0x7bb),pr(['fa','hi'],_0x3dbc0c=>_0x3dbc0c>=0x22f*0x3+0x21cd+-0x285a&&_0x3dbc0c<=0x1*-0x869+-0xa59+0x12c3?0x9d7*-0x1+-0x1418*-0x1+-0xa41:-0x1*-0x1b62+-0x1077+0x16*-0x7f),pr(['fr','pt'],_0x232cc1=>_0x232cc1>=0x2a+0x59*-0x16+0x77c&&_0x232cc1<-0x154*-0x1+0x8b+-0x1dd?-0x110e+0x1756+-0x648:0x1*-0x1358+-0x1eaa+0x3b*0xd9),pr(['da'],_0x5220a3=>_0x5220a3===0xc2*-0x1c+0x6*0x51b+-0x49*0x21||!Number['isInteger'](_0x5220a3)&&_0x5220a3>=-0xc7*-0x3+-0x2378*0x1+0x2123&&_0x5220a3<=-0x24af+0x2*-0x673+0x3196?-0xf6*0x1+0x755*-0x4+0x1e4a:0x4c6*0x2+0x2cf*-0x2+-0x43*0xf),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x7f96d0=>_0x7f96d0===-0x84a*0x4+-0x2*-0x631+0x14c7*0x1?-0x2644*-0x1+0x7*0xca+-0x2bca:-0x4*-0x2ef+-0x215d+0x15a2),pr(['ru','uk'],_0x6d21eb=>{if(Number['isInteger'](_0x6d21eb)){const _0x4b538c=_0x6d21eb%(-0x161e+0x38*0x52+0x438),_0x56bff0=_0x6d21eb%(-0x1*0xb99+0x704+0x4f9);if(_0x4b538c===-0x2*-0x104b+0x3*0x365+0x77*-0x5c&&_0x56bff0!==-0x4*-0x569+0x223+-0x17bc)return-0xaa6+-0x2*-0xe06+-0x1166;if(_0x4b538c>=-0x27a*-0x2+0xf9a*0x2+-0x2426&&_0x4b538c<=-0x220a+-0x183a+0x3a48&&(_0x56bff0<0x111*-0x7+-0x11*-0x81+-0x10e||_0x56bff0>0x38b*0xa+0x886+-0x751*0x6))return-0x4f6*-0x5+0x262c+-0x3ef9;if(_0x4b538c===0x14d7+0x2cf*0x1+-0x17a6*0x1||_0x4b538c>=0x6cb+0x22ea+-0x1d*0x170&&_0x4b538c<=-0x6+-0x85d+0x86c||_0x56bff0>=0x21cf+0x7*-0x593+0x541&&_0x56bff0<=0x10f*-0x1+0x1*-0x24c1+-0x83*-0x4a)return-0x3a*-0x23+-0x1875+0x1089;}return-0xa2*-0x29+-0xaea*0x3+0x6cf;}),pr(['pl'],_0x1d9373=>{if(Number['isInteger'](_0x1d9373)){if(_0x1d9373===0x10a5+-0x43*0x29+-0x5e9*0x1)return 0x688+-0x49a*0x7+0xad*0x26;const _0xac161a=_0x1d9373%(-0x1*-0x2224+-0x1b6+0x4*-0x819),_0x424056=_0x1d9373%(-0x3b*0x1d+-0x20bb+-0xa*-0x3fb);if(_0xac161a>=0x2*-0x6ad+-0x2*-0x1024+-0x12ec&&_0xac161a<=0x275+-0x701+0x92*0x8&&(_0x424056<0x1204*0x2+-0xe80+-0x2c*0x7d||_0x424056>-0xd*-0xa3+0xdea+-0x1623))return 0xb5d*-0x3+0x1e98+-0x20*-0x1c;if(_0xac161a>=0x7*-0x37f+0x32e*0x1+0x1*0x154b&&_0xac161a<=0xb7*-0xb+0x1b1*-0xb+0x1a79||_0xac161a>=-0x512+-0xa99+0xfb0&&_0xac161a<=-0x1b9f+-0x463+0x200b||_0x424056>=-0x243f+0x497*0x1+-0xfda*-0x2&&_0x424056<=-0x1e7c+0x2395*-0x1+0x421f)return 0x2155*0x1+-0x1f3d*0x1+-0x216;}return 0x10b1+0x2019+-0x30c7;}),pr(['ar'],_0x313e7f=>{if(_0x313e7f===0x298*-0xe+0x1f*0x135+-0x11b)return-0xadb+0xa2f+-0x56*-0x2;if(_0x313e7f===0xb9f+0x19c2+-0x2560)return 0x53*0x32+-0x63*0x1b+0x3*-0x1ec;if(_0x313e7f===0x5d0+-0x1fb1+0x8a1*0x3)return 0x15a1*0x1+-0x40*-0x6d+-0x30df;if(Number['isInteger'](_0x313e7f)){const _0x501857=_0x313e7f%(-0xb28+0x1a*-0x1+0xba6);if(_0x501857>=-0x4*0x319+-0x1461+0x20c8&&_0x501857<=0x1*0x78a+-0xe2+-0x69e)return 0x1*-0x130+0xeb+0x48;if(_0x501857>=-0x216*-0x4+0x22d6+0xe61*-0x3&&_0x501857<=-0x30*0xbf+-0x3*0x78d+0x1f*0x1e6)return 0x204d+-0x3*0xab+-0x26*0xcc;}return-0x25*-0xab+0x1169*0x1+-0x2a1b;});const K1=zp[pi(Wh)];function Xd(_0x6f56d4){return zp[_0x6f56d4]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x3c6b54='',_0x42ea9c='',_0x10e70a=null,_0x57b8cb=null,_0xe0079a=null,_0x391ad9=null){this['url']=_0x3c6b54,this['filename']=_0x42ea9c,this['hash']=_0x10e70a,this['size']=_0x57b8cb,this['opt']=_0xe0079a,this['contents']=_0x391ad9;}['equals'](_0x8840d3){return this['url']===_0x8840d3['url']&&this['filename']===_0x8840d3['filename']&&this['hash']===_0x8840d3['hash']&&this['size']===_0x8840d3['size']&&this['opt']===_0x8840d3['opt']&&this['contents']===_0x8840d3['contents'];}}let Q1=-(-0xd*-0xe+0x77f*0x4+-0x1eb1*0x1);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x21126a,_0x143894,_0x4e2f04,_0x3760f0,_0x112f5e){super(),this['_id']=Q1--,this['_name']=_0x21126a||'',this['type']=_0x143894,this['tags']=new po(this),this['_preload']=!(-0x17b3*0x1+-0x1021+0x3*0xd47),this['_file']=null,this['_data']=_0x3760f0||{},this['options']=_0x112f5e||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(0x1c55*0x1+0x691*-0x4+-0x84*0x4),this['loading']=!(-0x267a+-0x1*0x503+0x2b7e),this['registry']=null,_0x4e2f04&&(this['file']=_0x4e2f04);}set['id'](_0xbe3a66){this['_id']=_0xbe3a66;}get['id'](){return this['_id'];}set['name'](_0x5b9b34){if(this['_name']===_0x5b9b34)return;const _0x53b78a=this['_name'];this['_name']=_0x5b9b34,this['fire']('name',this,this['_name'],_0x53b78a);}get['name'](){return this['_name'];}set['file'](_0x2d9863){var _0x522469,_0x3871d2;if(_0x2d9863&&_0x2d9863['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0xecb+-0xfe2+-0x4*-0x46)){const _0xa28cb8=((_0x3871d2=(_0x522469=this['registry'])==null?void(-0x1b0a+-0x15*-0x6f+-0x1*-0x11ef):_0x522469['_loader'])==null?void(0x2299+0x1605+-0x389e):_0x3871d2['_app'])||tn(),_0x53deaf=_0xa28cb8==null?void(-0x553+0x7f*-0x14+-0xf3f*-0x1):_0xa28cb8['graphicsDe'+'vice'];if(_0x53deaf)for(let _0x906517=-0x13bf+0x1d*-0xeb+-0x946*-0x5,_0x490782=W_['length'];_0x906517<_0x490782;_0x906517++){const _0x2d62b1=W_[_0x906517];if(_0x2d9863['variants'][_0x2d62b1]&&_0x53deaf[J1[_0x2d62b1]]){_0x2d9863=_0x2d9863['variants'][_0x2d62b1];break;}if(_0xa28cb8['enableBund'+'les']){const _0x5ed692=_0xa28cb8['bundles']['listBundle'+'sForAsset'](this);if(_0x5ed692&&_0x5ed692['find'](_0x14c262=>{var _0x5d540;return(_0x5d540=_0x14c262==null?void(-0x174a+0x1286*0x1+0x4c4):_0x14c262['file'])==null?void(-0xa*-0x32b+-0x2ed*-0x8+-0x3716):_0x5d540['variants'][_0x2d62b1];}))break;}}}const _0x3d9367=this['_file'],_0x521ac4=_0x2d9863?new Z1(_0x2d9863['url'],_0x2d9863['filename'],_0x2d9863['hash'],_0x2d9863['size'],_0x2d9863['opt'],_0x2d9863['contents']):null;(!!_0x521ac4!=!!_0x3d9367||_0x521ac4&&!_0x521ac4['equals'](_0x3d9367))&&(this['_file']=_0x521ac4,this['fire']('change',this,'file',_0x521ac4,_0x3d9367),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x5df6d6){const _0x5ee763=this['_data'];this['_data']=_0x5df6d6,_0x5df6d6!==_0x5ee763&&(this['fire']('change',this,'data',_0x5df6d6,_0x5ee763),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x4e4ab7){const _0x5e26a8=this['_resources'][0x1*-0x267d+-0x242e*0x1+0x4aab*0x1];this['_resources'][0x209+-0x1e96+-0x1c8d*-0x1]=_0x4e4ab7,this['fire']('change',this,'resource',_0x4e4ab7,_0x5e26a8);}get['resource'](){return this['_resources'][0x1*-0x12a1+0xd54*0x1+0x54d];}set['resources'](_0x17060e){const _0x4a2eeb=this['_resources'];this['_resources']=_0x17060e,this['fire']('change',this,'resources',_0x17060e,_0x4a2eeb);}get['resources'](){return this['_resources'];}set['preload'](_0x307e75){_0x307e75=!!_0x307e75,this['_preload']!==_0x307e75&&(this['_preload']=_0x307e75,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x41efb3){_0x41efb3=!!_0x41efb3,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x41efb3!==this['_loadFaces'])&&(this['_loadFaces']=_0x41efb3,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0xc7f8a2=this['file'];if(!_0xc7f8a2||!_0xc7f8a2['url'])return null;let _0x12d4d1=_0xc7f8a2['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x12d4d1)&&(_0x12d4d1=this['registry']['prefix']+_0x12d4d1),this['type']!=='script'&&_0xc7f8a2['hash']){const _0xfa6f9c=_0x12d4d1['indexOf']('?')!==-(0x76*-0x26+-0xe2a+-0x1faf*-0x1)?'&':'?';_0x12d4d1+=_0xfa6f9c+'t='+_0xc7f8a2['hash'];}return _0x12d4d1;}['getAbsolut'+'eUrl'](_0x1cadde){if(_0x1cadde['startsWith']('blob:')||_0x1cadde['startsWith']('data:'))return _0x1cadde;const _0x45e280=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x45e280,_0x1cadde);}['getLocaliz'+'edAssetId'](_0xcac972){return _0xcac972=V0(_0xcac972,this['_i18n']),this['_i18n'][_0xcac972]||null;}['addLocaliz'+'edAssetId'](_0x22e42e,_0x4c0395){this['_i18n'][_0x22e42e]=_0x4c0395,this['fire']('add:locali'+'zed',_0x22e42e,_0x4c0395);}['removeLoca'+'lizedAsset'+'Id'](_0x462962){const _0xda148=this['_i18n'][_0x462962];_0xda148&&(delete this['_i18n'][_0x462962],this['fire']('remove:loc'+'alized',_0x462962,_0xda148));}['ready'](_0x21c75e,_0x22fd31){_0x22fd31=_0x22fd31||this,this['loaded']?_0x21c75e['call'](_0x22fd31,this):this['once']('load',_0x223612=>{_0x21c75e['call'](_0x22fd31,_0x223612);});}['reload'](){this['loaded']&&(this['loaded']=!(0x21d+0x1*0x2236+-0x2452),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x69e+0x2dd*0x1+-0x1f*-0x1f)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x16b450=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x1911+0x8fb*-0x4+0x8b*0x14),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x3a5f84=-0x1085+0x24c0+-0x143b;_0x3a5f84<_0x16b450['length'];++_0x3a5f84){const _0x7ca25f=_0x16b450[_0x3a5f84];_0x7ca25f&&_0x7ca25f['destroy']&&_0x7ca25f['destroy']();}}static['fetchArray'+'Buffer'](_0x434416,_0x234320,_0x4f8ced,_0x54403a=-0x2168+-0x706*0x2+-0x2f74*-0x1){var _0x5bb0b3;(_0x5bb0b3=_0x4f8ced==null?void(-0x1251+0x1*0xf55+0x17e*0x2):_0x4f8ced['file'])!=null&&_0x5bb0b3['contents']?setTimeout(()=>{_0x234320(null,_0x4f8ced['file']['contents']);}):$e['get'](_0x434416,{'cache':!(-0x6a3*-0x4+-0x7*0x35b+0x9*-0x57),'responseType':'arraybuffe'+'r','retry':_0x54403a>0x60b+0x117d+-0x6*0x3ec,'maxRetries':_0x54403a},_0x234320);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized'),(function(){let _0x28f6a7;try{const _0x31b83e=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x28f6a7=_0x31b83e();}catch(_0x3531bf){_0x28f6a7=window;}_0x28f6a7['setInterva'+'l'](_0x1b736b,0x257*-0xd+-0x92e*0x4+0x4af3);}());class eP{constructor(_0x51b24e=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x51b24e;}['addItem'](_0x293115){const _0x144266=_0x293115['tags']['_list'];for(const _0x2b3b8f of _0x144266)this['add'](_0x2b3b8f,_0x293115);}['removeItem'](_0x4b7e3a){const _0x4f394f=_0x4b7e3a['tags']['_list'];for(const _0x89dba9 of _0x4f394f)this['remove'](_0x89dba9,_0x4b7e3a);}['add'](_0x24cddf,_0x44a7ec){this['_index'][_0x24cddf]&&this['_index'][_0x24cddf]['list']['indexOf'](_0x44a7ec)!==-(-0x2*-0x30b+0x892*0x2+-0x1739)||(this['_index'][_0x24cddf]||(this['_index'][_0x24cddf]={'list':[]},this['_key']&&(this['_index'][_0x24cddf]['keys']={})),this['_index'][_0x24cddf]['list']['push'](_0x44a7ec),this['_key']&&(this['_index'][_0x24cddf]['keys'][_0x44a7ec[this['_key']]]=_0x44a7ec));}['remove'](_0x55d0eb,_0x2155fd){if(!this['_index'][_0x55d0eb]||this['_key']&&!this['_index'][_0x55d0eb]['keys'][_0x2155fd[this['_key']]])return;const _0x56434c=this['_index'][_0x55d0eb]['list']['indexOf'](_0x2155fd);_0x56434c!==-(-0x1ee5+0x687*0x4+-0x1*-0x4ca)&&(this['_index'][_0x55d0eb]['list']['splice'](_0x56434c,0x982+-0x878*0x4+-0x16f*-0x11),this['_key']&&delete this['_index'][_0x55d0eb]['keys'][_0x2155fd[this['_key']]],this['_index'][_0x55d0eb]['list']['length']===-0x1b*-0xba+0x1*0x1cbb+-0x3059&&delete this['_index'][_0x55d0eb]);}['find'](_0x26841b){const _0x5e1542={},_0x184bee=[];let _0x4e8054,_0x2e6f52,_0xfe20c9,_0x4f2c32,_0x47b6b8;const _0x54a0fb=(_0x5a696d,_0x1414d6)=>this['_index'][_0x5a696d]['list']['length']-this['_index'][_0x1414d6]['list']['length'];for(let _0x421efa=-0x1*-0x23b5+0xa2*-0x2d+-0x73b;_0x421efa<_0x26841b['length'];_0x421efa++){if(_0x2e6f52=_0x26841b[_0x421efa],_0x2e6f52 instanceof Array){if(_0x2e6f52['length']===0x147a+0x1912+0x2c*-0x109)continue;if(_0x2e6f52['length']===-0x1361+0x59*-0x10+0x3e*0x67)_0x2e6f52=_0x2e6f52[-0x634*0x1+-0x24ec+0x2b20];else{_0x47b6b8=!(0x11*0x198+-0x4a*0x36+-0xb7b);for(let _0x5ee4be=0x1727+-0x2f*-0x60+0x1*-0x28c7;_0x5ee4be<_0x2e6f52['length'];_0x5ee4be++)if(!this['_index'][_0x2e6f52[_0x5ee4be]]){_0x47b6b8=!(-0x1a41+-0x242e+-0x5ad*-0xb);break;}if(_0x47b6b8)continue;_0xfe20c9=_0x2e6f52['slice'](0x1*-0x12d5+0x2575+-0x12a0)['sort'](_0x54a0fb),_0x4f2c32=_0xfe20c9['slice'](-0x631+-0x3*0x4b9+0x145d),_0x4f2c32['length']===0xbe8+0x23b2*-0x1+-0x1*-0x17cb&&(_0x4f2c32=_0x4f2c32[0xed7+-0x41*-0x95+-0x1*0x34ac]);for(let _0x400003=0x6ef+0x17b6+-0x1ea5*0x1;_0x400003<this['_index'][_0xfe20c9[0x900*-0x3+-0x24d8+0x3fd8]]['list']['length'];_0x400003++)_0x4e8054=this['_index'][_0xfe20c9[-0x5*0x262+0x19*-0xe2+-0xc*-0x2d5]]['list'][_0x400003],(this['_key']?!_0x5e1542[_0x4e8054[this['_key']]]:_0x184bee['indexOf'](_0x4e8054)===-(-0x1*-0x1257+-0x2338+-0x1*-0x10e2))&&_0x4e8054['tags']['has'](_0x4f2c32)&&(this['_key']&&(_0x5e1542[_0x4e8054[this['_key']]]=!(-0x4*-0x891+-0x3a3+-0x1ea1)),_0x184bee['push'](_0x4e8054));continue;}}if(_0x2e6f52&&typeof _0x2e6f52=='string'&&this['_index'][_0x2e6f52]){for(let _0x4a0d91=-0x3*0x303+0x2093+-0x17*0x106;_0x4a0d91<this['_index'][_0x2e6f52]['list']['length'];_0x4a0d91++)_0x4e8054=this['_index'][_0x2e6f52]['list'][_0x4a0d91],this['_key']?_0x5e1542[_0x4e8054[this['_key']]]||(_0x5e1542[_0x4e8054[this['_key']]]=!(0x1fc7+-0x1613*-0x1+-0x35da),_0x184bee['push'](_0x4e8054)):_0x184bee['indexOf'](_0x4e8054)===-(0x54c+-0x3*0x36d+0xb*0x74)&&_0x184bee['push'](_0x4e8054);}}return _0x184bee;}}class ao extends ce{constructor(_0x133a1f){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x133a1f;}['list'](_0x5e9b7b={}){const _0x514c10=Array['from'](this['_assets']);return _0x5e9b7b['preload']!==void(-0x2*0xd5a+-0x1*0x63d+0x20f1)?_0x514c10['filter'](_0x1104fc=>_0x1104fc['preload']===_0x5e9b7b['preload']):_0x514c10;}['add'](_0x63678c){var _0x3864ed,_0x289efd;this['_assets']['has'](_0x63678c)||(this['_assets']['add'](_0x63678c),this['_idToAsset']['set'](_0x63678c['id'],_0x63678c),(_0x3864ed=_0x63678c['file'])!=null&&_0x3864ed['url']&&this['_urlToAsse'+'t']['set'](_0x63678c['file']['url'],_0x63678c),this['_nameToAss'+'et']['has'](_0x63678c['name'])||this['_nameToAss'+'et']['set'](_0x63678c['name'],new Set()),this['_nameToAss'+'et']['get'](_0x63678c['name'])['add'](_0x63678c),_0x63678c['on']('name',this['_onNameCha'+'nge'],this),_0x63678c['registry']=this,this['_tags']['addItem'](_0x63678c),_0x63678c['tags']['on']('add',this['_onTagAdd'],this),_0x63678c['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x63678c),this['fire']('add:'+_0x63678c['id'],_0x63678c),(_0x289efd=_0x63678c['file'])!=null&&_0x289efd['url']&&this['fire']('add:url:'+_0x63678c['file']['url'],_0x63678c),_0x63678c['preload']&&this['load'](_0x63678c));}['remove'](_0x58f8c5){var _0x42317e,_0x4f9d92;if(!this['_assets']['has'](_0x58f8c5))return!(-0xedb*-0x1+0x32b*-0x3+-0x559);if(this['_assets']['delete'](_0x58f8c5),this['_idToAsset']['delete'](_0x58f8c5['id']),(_0x42317e=_0x58f8c5['file'])!=null&&_0x42317e['url']&&this['_urlToAsse'+'t']['delete'](_0x58f8c5['file']['url']),_0x58f8c5['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x58f8c5['name'])){const _0x3b6e64=this['_nameToAss'+'et']['get'](_0x58f8c5['name']);_0x3b6e64['delete'](_0x58f8c5),_0x3b6e64['size']===-0x1*-0x9e5+0x11*-0xcb+0x396&&this['_nameToAss'+'et']['delete'](_0x58f8c5['name']);}return this['_tags']['removeItem'](_0x58f8c5),_0x58f8c5['tags']['off']('add',this['_onTagAdd'],this),_0x58f8c5['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x58f8c5['fire']('remove',_0x58f8c5),this['fire']('remove',_0x58f8c5),this['fire']('remove:'+_0x58f8c5['id'],_0x58f8c5),(_0x4f9d92=_0x58f8c5['file'])!=null&&_0x4f9d92['url']&&this['fire']('remove:url'+':'+_0x58f8c5['file']['url'],_0x58f8c5),!(-0x1f8b+0x2084+-0xf9*0x1);}['get'](_0x1be31d){return this['_idToAsset']['get'](Number(_0x1be31d));}['getByUrl'](_0x21d004){return this['_urlToAsse'+'t']['get'](_0x21d004);}['load'](_0x4ee304,_0x33a06c){if((_0x4ee304['loading']||_0x4ee304['loaded'])&&!(_0x33a06c!=null&&_0x33a06c['force']))return;const _0x2c93d0=_0x4ee304['file'],_0x3551f0=()=>{this['fire']('load',_0x4ee304),this['fire']('load:'+_0x4ee304['id'],_0x4ee304),_0x2c93d0&&_0x2c93d0['url']&&this['fire']('load:url:'+_0x2c93d0['url'],_0x4ee304),_0x4ee304['fire']('load',_0x4ee304);},_0x4e4c61=_0x3dd65d=>{if(_0x3dd65d instanceof Array?_0x4ee304['resources']=_0x3dd65d:_0x4ee304['resource']=_0x3dd65d,this['_loader']['patch'](_0x4ee304,this),_0x4ee304['type']==='bundle'){const _0x4e2956=_0x4ee304['data']['assets'];for(let _0x40de45=-0x1ecb+0x1b30+0x39b;_0x40de45<_0x4e2956['length'];_0x40de45++){const _0x52bb2e=this['_idToAsset']['get'](_0x4e2956[_0x40de45]);_0x52bb2e&&!_0x52bb2e['loaded']&&this['load'](_0x52bb2e,{'force':!(0x185b+-0x435*0x5+-0x352)});}_0x4ee304['resource']['loaded']?_0x3551f0():(this['fire']('load:start',_0x4ee304),this['fire']('load:start'+':'+_0x4ee304['id'],_0x4ee304),_0x2c93d0&&_0x2c93d0['url']&&this['fire']('load:start'+':url:'+_0x2c93d0['url'],_0x4ee304),_0x4ee304['fire']('load:start',_0x4ee304),_0x4ee304['resource']['on']('load',_0x3551f0));}else _0x3551f0();},_0x36a7d5=(_0x1382f6,_0x552d14,_0x3acf2b)=>{if(_0x4ee304['loaded']=!(0x26*-0x43+-0xbf1*-0x3+-0x19e1),_0x4ee304['loading']=!(-0x22dd+0x2679+-0x39b),_0x1382f6)this['fire']('error',_0x1382f6,_0x4ee304),this['fire']('error:'+_0x4ee304['id'],_0x1382f6,_0x4ee304),_0x4ee304['fire']('error',_0x1382f6,_0x4ee304);else{if(_0x4ee304['type']==='script'){const _0x306819=this['_loader']['getHandler']('script');_0x306819['_cache'][_0x4ee304['id']]&&_0x306819['_cache'][_0x4ee304['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x306819['_cache'][_0x4ee304['id']]),_0x306819['_cache'][_0x4ee304['id']]=_0x3acf2b;}_0x4e4c61(_0x552d14);}};if(_0x2c93d0||_0x4ee304['type']==='cubemap'){this['fire']('load:start',_0x4ee304),this['fire']('load:'+_0x4ee304['id']+':start',_0x4ee304),_0x4ee304['loading']=!(0x2*0x1279+-0x1639+-0xeb9);const _0x3b2ba1=_0x4ee304['getFileUrl']();if(_0x4ee304['type']==='bundle'){const _0x208e49=_0x4ee304['data']['assets'];for(let _0x391594=0x9*0x173+-0x29*0xbf+0x118c;_0x391594<_0x208e49['length'];_0x391594++){const _0x40353e=this['_idToAsset']['get'](_0x208e49[_0x391594]);_0x40353e&&(_0x40353e['loaded']||_0x40353e['resource']||_0x40353e['loading']||(_0x40353e['loading']=!(-0x1fcd*0x1+-0x184*-0x1+0x1*0x1e49)));}}this['_loader']['load'](_0x3b2ba1,_0x4ee304['type'],_0x36a7d5,_0x4ee304,_0x33a06c);}else{const _0x4acba2=this['_loader']['open'](_0x4ee304['type'],_0x4ee304['data']);_0x4ee304['loaded']=!(0xdc+-0x101e*0x1+0xf42),_0x4e4c61(_0x4acba2);}}['loadFromUr'+'l'](_0xb278dc,_0x86ffdb,_0x4a682f){this['loadFromUr'+'lAndFilena'+'me'](_0xb278dc,null,_0x86ffdb,_0x4a682f);}['loadFromUr'+'lAndFilena'+'me'](_0x493524,_0xb44eae,_0x4cfdc2,_0x4f1192){const _0x545021=fe['getBasenam'+'e'](_0xb44eae||_0x493524),_0x31e0c9={'filename':_0xb44eae||_0x545021,'url':_0x493524};let _0x5e0b5c=this['getByUrl'](_0x493524);if(!_0x5e0b5c)_0x5e0b5c=new le(_0x545021,_0x4cfdc2,_0x31e0c9),this['add'](_0x5e0b5c);else{if(_0x5e0b5c['loaded']){_0x4f1192(_0x5e0b5c['loadFromUr'+'lError']||null,_0x5e0b5c);return;}}const _0x3be7ca=_0x321c00=>{_0x321c00['once']('load',_0x444a67=>{_0x4cfdc2==='material'?this['_loadTextu'+'res'](_0x444a67,(_0x1b7c63,_0x4c364d)=>{_0x4f1192(_0x1b7c63,_0x444a67);}):_0x4f1192(null,_0x444a67);}),_0x321c00['once']('error',_0x3fa987=>{_0x3fa987&&(this['loadFromUr'+'lError']=_0x3fa987),_0x4f1192(_0x3fa987,_0x321c00);}),this['load'](_0x321c00);};_0x5e0b5c['resource']?_0x4f1192(null,_0x5e0b5c):_0x4cfdc2==='model'?this['_loadModel'](_0x5e0b5c,_0x3be7ca):_0x3be7ca(_0x5e0b5c);}['_loadModel'](_0x30c4d6,_0x5ec8b1){const _0x40b999=_0x30c4d6['getFileUrl'](),_0x3a7d72=fe['getExtensi'+'on'](_0x40b999);if(_0x3a7d72==='.json'||_0x3a7d72==='.glb'){const _0x3f8bb5=fe['getDirecto'+'ry'](_0x40b999),_0x489fd7=fe['getBasenam'+'e'](_0x40b999),_0x2fb828=fe['join'](_0x3f8bb5,_0x489fd7['replace'](_0x3a7d72,'.mapping.j'+'son'));this['_loader']['load'](_0x2fb828,'json',(_0x5543c7,_0x519337)=>{_0x5543c7?(_0x30c4d6['data']={'mapping':[]},_0x5ec8b1(_0x30c4d6)):this['_loadMater'+'ials'](_0x30c4d6,_0x519337,(_0x502035,_0x40e726)=>{_0x30c4d6['data']=_0x519337,_0x5ec8b1(_0x30c4d6);});});}else _0x5ec8b1(_0x30c4d6);}['_loadMater'+'ials'](_0x1c7383,_0x8285a5,_0x45fda9){const _0x454dab=[];let _0x2846ff=-0x5b8+0x5af*-0x5+0x2223;const _0x9d87fd=(_0x4843db,_0x5c73c6)=>{this['_loadTextu'+'res'](_0x5c73c6,(_0x139b2c,_0x4ef5f5)=>{_0x454dab['push'](_0x5c73c6),_0x454dab['length']===_0x2846ff&&_0x45fda9(null,_0x454dab);});};for(let _0x3585bc=0x1f*-0x56+0x1d57+0x55*-0x39;_0x3585bc<_0x8285a5['mapping']['length'];_0x3585bc++){const _0x428aaf=_0x8285a5['mapping'][_0x3585bc]['path'];if(_0x428aaf){_0x2846ff++;const _0xdca9d6=_0x1c7383['getAbsolut'+'eUrl'](_0x428aaf);this['loadFromUr'+'l'](_0xdca9d6,'material',_0x9d87fd);}}_0x2846ff===-0x17ab+0x17*0xa+-0x1d*-0xc9&&_0x45fda9(null,_0x454dab);}['_loadTextu'+'res'](_0x2d331d,_0xebc53d){const _0x56a9b6=[];let _0x4c19ba=-0xf31+-0x1900+0x2831;const _0x16c03d=_0x2d331d['data'];if(_0x16c03d['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x2d331d['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0xebc53d(null,_0x56a9b6);return;}const _0xea7997=(_0x3a8e6e,_0xecf7ac)=>{_0x3a8e6e&&console['error'](_0x3a8e6e),_0x56a9b6['push'](_0xecf7ac),_0x56a9b6['length']===_0x4c19ba&&_0xebc53d(null,_0x56a9b6);},_0x1676b1=Kc;for(let _0xd88315=-0x1*0x1bb9+-0x2*-0x1208+0x131*-0x7;_0xd88315<_0x1676b1['length'];_0xd88315++){const _0x19f1bf=_0x16c03d[_0x1676b1[_0xd88315]];if(_0x19f1bf&&typeof _0x19f1bf=='string'){_0x4c19ba++;const _0x19a15c=_0x2d331d['getAbsolut'+'eUrl'](_0x19f1bf);this['loadFromUr'+'l'](_0x19a15c,'texture',_0xea7997);}}_0x4c19ba===-0x2*0x10f9+0x6fa+0x1af8&&_0xebc53d(null,_0x56a9b6);}['_onTagAdd'](_0x4d0666,_0x517255){this['_tags']['add'](_0x4d0666,_0x517255);}['_onTagRemo'+'ve'](_0x5ad739,_0x556fed){this['_tags']['remove'](_0x5ad739,_0x556fed);}['_onNameCha'+'nge'](_0x324909,_0x3b37fe,_0x5cf7e7){if(this['_nameToAss'+'et']['has'](_0x5cf7e7)){const _0x4244ad=this['_nameToAss'+'et']['get'](_0x5cf7e7);_0x4244ad['delete'](_0x324909),_0x4244ad['size']===0x8aa*-0x1+-0xb73+0x141d&&this['_nameToAss'+'et']['delete'](_0x5cf7e7);}this['_nameToAss'+'et']['has'](_0x324909['name'])||this['_nameToAss'+'et']['set'](_0x324909['name'],new Set()),this['_nameToAss'+'et']['get'](_0x324909['name'])['add'](_0x324909);}['findByTag'](..._0x9e8ddc){return this['_tags']['find'](_0x9e8ddc);}['filter'](_0x174f60){return Array['from'](this['_assets'])['filter'](_0x3e50b5=>_0x174f60(_0x3e50b5));}['find'](_0x202edc,_0x371324){const _0x5d8931=this['_nameToAss'+'et']['get'](_0x202edc);if(!_0x5d8931)return null;for(const _0x5a77fb of _0x5d8931)if(!_0x371324||_0x5a77fb['type']===_0x371324)return _0x5a77fb;return null;}['findAll'](_0x4aa6c9,_0x5118dd){const _0x2ccd72=this['_nameToAss'+'et']['get'](_0x4aa6c9);if(!_0x2ccd72)return[];const _0x5ebbf4=Array['from'](_0x2ccd72);return _0x5118dd?_0x5ebbf4['filter'](_0x23e761=>_0x23e761['type']===_0x5118dd):_0x5ebbf4;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x57cc4a){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x57cc4a,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x784a31){if(_0x784a31['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x784a31['id'],_0x784a31),this['_assets']['on']('load:start'+':'+_0x784a31['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x784a31['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x784a31['id'],this['_onBundleE'+'rror'],this);const _0x4019b2=_0x784a31['data']['assets'];for(let _0x439645=-0x4c6*0x7+-0x1*0x491+0x25fb;_0x439645<_0x4019b2['length'];_0x439645++)this['_indexAsse'+'tInBundle'](_0x4019b2[_0x439645],_0x784a31);}else this['_assetToBu'+'ndles']['has'](_0x784a31['id'])&&this['_indexAsse'+'tFileUrls'](_0x784a31);}['_unbindAss'+'etEvents'](_0xf54171){this['_assets']['off']('load:start'+':'+_0xf54171,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0xf54171,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0xf54171,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x4e6c8c,_0x1946a2){let _0x128bba=this['_assetToBu'+'ndles']['get'](_0x4e6c8c);_0x128bba||(_0x128bba=new Set(),this['_assetToBu'+'ndles']['set'](_0x4e6c8c,_0x128bba)),_0x128bba['add'](_0x1946a2);const _0xcece12=this['_assets']['get'](_0x4e6c8c);_0xcece12&&this['_indexAsse'+'tFileUrls'](_0xcece12);}['_indexAsse'+'tFileUrls'](_0x467a9d){const _0x35e943=this['_getAssetF'+'ileUrls'](_0x467a9d);if(_0x35e943)for(let _0x4d0d0e=-0x1*-0x22e9+-0xc8*0x14+0x1*-0x1349;_0x4d0d0e<_0x35e943['length'];_0x4d0d0e++){const _0x58197e=this['_assetToBu'+'ndles']['get'](_0x467a9d['id']);_0x58197e&&this['_urlsToBun'+'dles']['set'](_0x35e943[_0x4d0d0e],_0x58197e);}}['_getAssetF'+'ileUrls'](_0x526302){let _0x2a90a1=_0x526302['getFileUrl']();if(!_0x2a90a1)return null;_0x2a90a1=_0x2a90a1['split']('?')[0x1be6+-0x2405*-0x1+-0x3feb];const _0x3e8a92=[_0x2a90a1];if(_0x526302['type']==='font'){const _0x349554=_0x526302['data']['info']['maps']['length'];for(let _0x2470e5=-0xeec*0x1+-0x80*0x15+0x196d;_0x2470e5<_0x349554;_0x2470e5++)_0x3e8a92['push'](_0x2a90a1['replace']('.png',_0x2470e5+'.png'));}return _0x3e8a92;}['_onAssetRe'+'move'](_0x40740e){if(_0x40740e['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x40740e['id']),this['_unbindAss'+'etEvents'](_0x40740e['id']);const _0x4f9822=_0x40740e['data']['assets'];for(let _0x2f9a0f=0x252c+0x170*0x2+-0x280c;_0x2f9a0f<_0x4f9822['length'];_0x2f9a0f++){const _0x473cf0=this['_assetToBu'+'ndles']['get'](_0x4f9822[_0x2f9a0f]);if(_0x473cf0&&(_0x473cf0['delete'](_0x40740e),_0x473cf0['size']===-0xdf7+0x1d7c+0x1d*-0x89)){this['_assetToBu'+'ndles']['delete'](_0x4f9822[_0x2f9a0f]);for(const [_0x3b1db4,_0x40301a]of this['_urlsToBun'+'dles'])_0x40301a===_0x473cf0&&this['_urlsToBun'+'dles']['delete'](_0x3b1db4);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x40740e['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x40740e['id']))return;this['_assetToBu'+'ndles']['delete'](_0x40740e['id']);const _0x1ef293=this['_getAssetF'+'ileUrls'](_0x40740e);if(!_0x1ef293)return;for(let _0xd65a06=-0xb6*-0x2b+0x16*0xa0+-0x2c52;_0xd65a06<_0x1ef293['length'];_0xd65a06++)this['_urlsToBun'+'dles']['delete'](_0x1ef293[_0xd65a06]);}}['_onBundleL'+'oadStart'](_0x1bb509){_0x1bb509['resource']['on']('add',(_0x3d02b6,_0x1313f4)=>{const _0x5a8de4=this['_fileReque'+'sts']['get'](_0x3d02b6);if(_0x5a8de4){for(let _0x29183b=-0x1c24+-0x95b+-0x14b*-0x1d;_0x29183b<_0x5a8de4['length'];_0x29183b++)_0x5a8de4[_0x29183b](null,_0x1313f4);this['_fileReque'+'sts']['delete'](_0x3d02b6);}});}['_onBundleL'+'oad'](_0x2b6406){if(!_0x2b6406['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x2b6406['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x553f3d,_0xaf6165]of this['_fileReque'+'sts']){const _0x5d8d31=this['_urlsToBun'+'dles']['get'](_0x553f3d);if(!_0x5d8d31||!_0x5d8d31['has'](_0x2b6406))continue;const _0x53bf3a=decodeURIComponent(_0x553f3d);let _0x2acca0,_0xf63d27;if(_0x2b6406['resource']['has'](_0x53bf3a))_0xf63d27=_0x2b6406['resource']['get'](_0x53bf3a);else{if(_0x2b6406['resource']['loaded'])_0x2acca0='Bundle\x20'+_0x2b6406['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x553f3d;else continue;}for(let _0x283391=0x70*0xb+-0x62+0x6*-0xbd;_0x283391<_0xaf6165['length'];_0x283391++)_0xaf6165[_0x283391](_0x2acca0,_0x2acca0||_0xf63d27);this['_fileReque'+'sts']['delete'](_0x553f3d);}}['_onBundleE'+'rror'](_0x2a87ef){for(const [_0x4b17f7,_0xae8a20]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4b17f7)){for(let _0x109f6a=-0x364+0x29*-0xcf+0x248b;_0x109f6a<_0xae8a20['length'];_0x109f6a++)_0xae8a20[_0x109f6a](_0x2a87ef);this['_fileReque'+'sts']['delete'](_0x4b17f7);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x67ffe8){const _0x5b75c1=this['_urlsToBun'+'dles']['get'](_0x67ffe8);if(!_0x5b75c1)return null;let _0x43ea13=null;for(const _0x4073fd of _0x5b75c1){if(_0x4073fd['loaded']&&_0x4073fd['resource'])return _0x4073fd;_0x4073fd['loading']&&(_0x43ea13=_0x4073fd);}return _0x43ea13;}['listBundle'+'sForAsset'](_0x22337a){const _0x13e40e=this['_assetToBu'+'ndles']['get'](_0x22337a['id']);return _0x13e40e?Array['from'](_0x13e40e):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x87d1aa){return this['_urlsToBun'+'dles']['has'](_0x87d1aa);}['urlIsLoade'+'dOrLoading'](_0x5bebf0){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5bebf0);}['loadUrl'](_0x38f5b2,_0x290ae4){const _0x1cd52f=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x38f5b2);if(!_0x1cd52f){_0x290ae4('URL\x20'+_0x38f5b2+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x1cd52f['loaded']){const _0x463a61=decodeURIComponent(_0x38f5b2);if(_0x1cd52f['resource']['has'](_0x463a61)){_0x290ae4(null,_0x1cd52f['resource']['get'](_0x463a61));return;}else{if(_0x1cd52f['resource']['loaded']){_0x290ae4('Bundle\x20'+_0x1cd52f['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x38f5b2);return;}}}let _0x193d4d=this['_fileReque'+'sts']['get'](_0x38f5b2);_0x193d4d||(_0x193d4d=[],this['_fileReque'+'sts']['set'](_0x38f5b2,_0x193d4d)),_0x193d4d['push'](_0x290ae4);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x12e51b of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x12e51b);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x345a07){const _0x208651=_0x345a07['id'];if(this[_0x208651])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x208651+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x208651]=_0x345a07,this['list']['push'](_0x345a07);}['remove'](_0x71dcc4){const _0x56af7e=_0x71dcc4['id'];if(!this[_0x56af7e])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x56af7e+('\x27\x20register'+'ed'));delete this[_0x56af7e];const _0x27e0c4=this['list']['indexOf'](this[_0x56af7e]);_0x27e0c4!==-(0x2*-0x541+0x24fa+0x5*-0x54b)&&this['list']['splice'](_0x27e0c4,0xdc2*-0x2+-0x1b73*-0x1+0x1*0x12);}['destroy'](){this['off']();for(let _0x2a34ef=-0x2229+0x2*0x10bb+-0xb3*-0x1;_0x2a34ef<this['list']['length'];_0x2a34ef++)this['list'][_0x2a34ef]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x265+0x15f5+-0x138f));}['addFile'](_0x1bffe9,_0x53a2b5){this['_index']['has'](_0x1bffe9)||(this['_index']['set'](_0x1bffe9,_0x53a2b5),this['fire']('add',_0x1bffe9,_0x53a2b5));}['has'](_0x39453e){return this['_index']['has'](_0x39453e);}['get'](_0x49ec1c){return this['_index']['get'](_0x49ec1c)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x266bcb){!_0x266bcb||this['_loaded']||(this['_loaded']=!(0x95e+0x1f6d+-0x28cb),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x357d53,_0x4f69cb=''){super(),c(this,'headerSize',0x1a58*0x1+-0x64f*0x3+-0x13*0x49),c(this,'paddingSiz'+'e',0x1a36+-0xe77*0x1+0x1*-0x9bf),c(this,'bytesRead',-0xf1b+0xa9*0x31+-0x113e*0x1),c(this,'bytesRecei'+'ved',0xc42*-0x3+0x1701*0x1+0xf*0xeb),c(this,'headerRead',!(0x871*0x3+0x1*-0x174b+-0x207)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x1*0x2b1+0x150f+0x92f*-0x2)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x2588+0x2*0x1cd+0x6db*-0x6),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x4f69cb||'',this['reader']=_0x357d53['body']['getReader'](),this['reader']['read']()['then'](_0x4f1418=>{this['pump'](_0x4f1418['done'],_0x4f1418['value']);})['catch'](_0x5ca1c6=>{this['fire']('error',_0x5ca1c6);}));}['pump'](_0x28f517,_0x33c3e5){if(_0x28f517)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x33c3e5['byteLength'];const _0x39ee59=new Uint8Array(this['data']['length']+_0x33c3e5['length']);for(_0x39ee59['set'](this['data']),_0x39ee59['set'](_0x33c3e5,this['data']['length']),this['data']=_0x39ee59;this['readFile'](););return this['reader']['read']()['then'](_0x458c7f=>{this['pump'](_0x458c7f['done'],_0x458c7f['value']);})['catch'](_0x1ceeb2=>{this['fire']('error',_0x1ceeb2);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x2*0x759+0x1612+0x4*-0x1d8);const _0x538a14=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x13f6d0=this['decoder']['decode'](_0x538a14);if(this['fileName']=_0x13f6d0['substring'](0x262f+-0x302+-0x232d,-0x2*0x12bb+0x3*-0x54a+0x35b8)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x13f6d0['substring'](-0xd44+0x113b*0x2+-0x14b6,-0x1173+0x1db*-0xa+-0x2489*-0x1),0xf0b+0xa9*0x25+0x2*-0x13b8),this['fileType']=_0x13f6d0['substring'](-0x24cd+-0x1b65+0x40ce,0x30d*0x1+-0x1005+0xd95),this['ustarForma'+'t']=_0x13f6d0['substring'](0xe7c+0x2418+-0x3193,0x1e05+-0x1*-0xe64+-0x15b1*0x2),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x1f34+-0x20c0+0x18d)){const _0x31de27=_0x13f6d0['substring'](0xbe1*0x2+0xeaf+-0x4a3*0x8,-0xb*-0x1e3+0x1962+-0x1*0x2c2f)['replace'](/\0/g,'');_0x31de27['length']>-0x54*0x2e+-0x20d5+-0x2fed*-0x1&&(this['fileName']=_0x31de27['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x136e+0x1*0x1767+-0x1f9;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x4c8+0x1f+-0x4e6);if(this['fileType']===''||this['fileType']==='0'){const _0x48b7b3=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x37f7a6={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x48b7b3};this['fire']('file',_0x37f7a6);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x1d7f+0x16*0xaa+-0x4*-0x3b9);const _0x2cd0e5=this['bytesRead']%this['paddingSiz'+'e'];return _0x2cd0e5!==-0x15f4+-0x2*0x4db+0x1faa&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x2cd0e5),!(-0x1*0x934+0x25f2+-0x1cbe);}return!(-0x14f6+-0x11ab*0x2+0x384d);}}class Ne{constructor(_0x481607,_0x28ea41){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',0x16dd+-0x1311+-0x3cc),(this['_app']=_0x481607,this['handlerTyp'+'e']=_0x28ea41);}set['maxRetries'](_0x5b1b8f){this['_maxRetrie'+'s']=_0x5b1b8f;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x28d371,_0x18f590,_0x4739cd){}['open'](_0x527791,_0x5eb83b,_0x14514c){return _0x5eb83b;}['patch'](_0xb9cd14,_0x3a2574){}}class rP extends Ne{constructor(_0x45f37a){super(_0x45f37a,'bundle'),this['_assets']=_0x45f37a['assets'];}['_fetchRetr'+'ies'](_0x49bcec,_0x24ab6a,_0x2a65f1=0x38*0x79+0x1838+-0x4*0xcac){return new Promise((_0x143b88,_0x3a69fc)=>{const _0x5c4f8b=()=>{fetch(_0x49bcec,_0x24ab6a)['then'](_0x143b88)['catch'](_0x689d34=>{_0x2a65f1++,_0x2a65f1<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x2a65f1),_0x5c4f8b()):_0x3a69fc(_0x689d34);});};_0x5c4f8b();});}['load'](_0x31cc99,_0x490b9b){typeof _0x31cc99=='string'&&(_0x31cc99={'load':_0x31cc99,'original':_0x31cc99}),this['_fetchRetr'+'ies'](_0x31cc99['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x40b41e=>{const _0x42d403=new Xu();_0x490b9b(null,_0x42d403);const _0x4c1d8c=new iP(_0x40b41e,this['_assets']['prefix']);_0x4c1d8c['on']('file',_0xc885c=>{_0x42d403['addFile'](_0xc885c['name'],_0xc885c['data']);}),_0x4c1d8c['on']('done',()=>{_0x42d403['loaded']=!(-0x167+0x99*-0x23+0x1652*0x1);}),_0x4c1d8c['on']('error',_0x7a58c=>{v['error'](_0x7a58c),_0x490b9b(_0x7a58c);});})['catch'](_0x307cb5=>{v['error'](_0x307cb5),_0x490b9b(_0x307cb5);});}['open'](_0xd05a6a,_0x593074){return _0x593074;}}class pa{constructor(_0x10a88d){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x10a88d;}['addHandler'](_0x3b2d5c,_0x4d37fb){this['_handlers'][_0x3b2d5c]=_0x4d37fb,_0x4d37fb['_loader']=this;}['removeHand'+'ler'](_0x55e428){delete this['_handlers'][_0x55e428];}['getHandler'](_0x55f239){return this['_handlers'][_0x55f239];}static['makeKey'](_0x5089d2,_0x315b78){return _0x5089d2+'-'+_0x315b78;}['load'](_0x5092a2,_0x11e7ab,_0xa7b5ef,_0x27a064,_0x171ceb){var _0x77a9c7;const _0x31bc92=this['_handlers'][_0x11e7ab];if(!_0x31bc92){const _0x222aae='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x11e7ab+('\x27\x20when\x20loa'+'ding\x20[')+_0x5092a2+']';v['errorOnce'](_0x222aae),_0xa7b5ef(_0x222aae);return;}if(!_0x5092a2){this['_loadNull'](_0x31bc92,_0xa7b5ef,_0x27a064);return;}const _0x599fd1=pa['makeKey'](_0x5092a2,_0x11e7ab);if(this['_cache'][_0x599fd1]!==void(0x214d+-0x1ce4+-0x469))_0xa7b5ef(null,this['_cache'][_0x599fd1]);else{if(this['_requests'][_0x599fd1])this['_requests'][_0x599fd1]['push'](_0xa7b5ef);else{this['_requests'][_0x599fd1]=[_0xa7b5ef];const _0x399f99=this,_0x99497a=function(_0x1e597a,_0x55676f){if(_0x1e597a){_0x399f99['_onFailure'](_0x599fd1,_0x1e597a);return;}if(_0x55676f['load']instanceof DataView){if(_0x31bc92['openBinary']){if(!_0x399f99['_requests'][_0x599fd1])return;try{const _0x90d1dd=_0x31bc92['openBinary'](_0x55676f['load']);_0x399f99['_onSuccess'](_0x599fd1,_0x90d1dd);}catch(_0x9359b1){_0x399f99['_onFailure'](_0x599fd1,_0x9359b1);}return;}_0x55676f['load']=URL['createObje'+'ctURL'](new Blob([_0x55676f['load']])),_0x27a064&&(_0x27a064['urlObject']&&URL['revokeObje'+'ctURL'](_0x27a064['urlObject']),_0x27a064['urlObject']=_0x55676f['load']);}_0x31bc92['load'](_0x55676f,(_0x3e4128,_0x1788da,_0x475b75)=>{if(_0x399f99['_requests'][_0x599fd1]){if(_0x3e4128){_0x399f99['_onFailure'](_0x599fd1,_0x3e4128);return;}try{_0x399f99['_onSuccess'](_0x599fd1,_0x31bc92['open'](_0x55676f['original'],_0x1788da,_0x27a064),_0x475b75);}catch(_0x40a3f9){_0x399f99['_onFailure'](_0x599fd1,_0x40a3f9);}}},_0x27a064);},_0x50da35=_0x5092a2['split']('?')[0x1*0xd29+0x1ee7+-0x2c10];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x50da35)&&!(_0x171ceb&&_0x171ceb['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x50da35)){const _0x1b4a9a=this['_app']['bundles']['listBundle'+'sForAsset'](_0x27a064);let _0x6a4d5f;_0x171ceb&&_0x171ceb['bundlesFil'+'ter']&&(_0x6a4d5f=_0x171ceb['bundlesFil'+'ter'](_0x1b4a9a)),_0x6a4d5f||(_0x1b4a9a==null||_0x1b4a9a['sort']((_0x50105a,_0x2294df)=>_0x50105a['file']['size']-_0x2294df['file']['size']),_0x6a4d5f=_0x1b4a9a==null?void(0x1*-0x1a2f+0x7*0x31d+0x464):_0x1b4a9a[-0x2*0xc91+-0x1f11+-0x3833*-0x1]),_0x6a4d5f&&((_0x77a9c7=this['_app']['assets'])==null||_0x77a9c7['load'](_0x6a4d5f));}this['_app']['bundles']['loadUrl'](_0x50da35,(_0x4bea52,_0x5772fe)=>{_0x99497a(_0x4bea52,{'load':_0x5772fe,'original':_0x50da35});});}else _0x99497a(null,{'load':_0x5092a2,'original':_0x27a064&&_0x27a064['file']['filename']||_0x5092a2});}}}['_loadNull'](_0x4aded6,_0x54784d,_0x228333){const _0x471629=function(_0x4764a1,_0x1e3e83,_0x877821){if(_0x4764a1)_0x54784d(_0x4764a1);else try{_0x54784d(null,_0x4aded6['open'](null,_0x1e3e83,_0x228333),_0x877821);}catch(_0x239943){_0x54784d(_0x239943);}};_0x4aded6['load'](null,_0x471629,_0x228333);}['_onSuccess'](_0x5c7de2,_0x1605a2,_0x1ef1f4){_0x1605a2!==null?this['_cache'][_0x5c7de2]=_0x1605a2:delete this['_cache'][_0x5c7de2];for(let _0x342799=0x155d+0x17d*0x4+-0x1b51;_0x342799<this['_requests'][_0x5c7de2]['length'];_0x342799++)this['_requests'][_0x5c7de2][_0x342799](null,_0x1605a2,_0x1ef1f4);delete this['_requests'][_0x5c7de2];}['_onFailure'](_0x145b3d,_0x3cc2fb){if(console['error'](_0x3cc2fb),this['_requests'][_0x145b3d]){for(let _0x2ae2b3=-0x1eb8*0x1+0x2*0x503+-0x2*-0xa59;_0x2ae2b3<this['_requests'][_0x145b3d]['length'];_0x2ae2b3++)this['_requests'][_0x145b3d][_0x2ae2b3](_0x3cc2fb);delete this['_requests'][_0x145b3d];}}['open'](_0x1ff226,_0x15c766){const _0x44ac3c=this['_handlers'][_0x1ff226];return _0x44ac3c?_0x44ac3c['open'](null,_0x15c766):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1ff226),_0x15c766);}['patch'](_0xb4fbbf,_0x126413){const _0x154d4f=this['_handlers'][_0xb4fbbf['type']];if(!_0x154d4f){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0xb4fbbf['type']);return;}_0x154d4f['patch']&&_0x154d4f['patch'](_0xb4fbbf,_0x126413);}['clearCache'](_0x3bc6b3,_0x249bbe){const _0x51b905=pa['makeKey'](_0x3bc6b3,_0x249bbe);delete this['_cache'][_0x51b905];}['getFromCac'+'he'](_0x394b14,_0x4d1d70){const _0x47cb68=pa['makeKey'](_0x394b14,_0x4d1d70);if(this['_cache'][_0x47cb68])return this['_cache'][_0x47cb68];}['enableRetr'+'y'](_0x1a6cf7=-0x163a*-0x1+-0xf8e+-0x6a7){_0x1a6cf7=Math['max'](-0x20b*0x7+0x19*0x60+0x1*0x4ed,_0x1a6cf7)||-0xfef+-0x846+0x1835*0x1;for(const _0x17c23b in this['_handlers'])this['_handlers'][_0x17c23b]['maxRetries']=_0x1a6cf7;}['disableRet'+'ry'](){for(const _0x263d9f in this['_handlers'])this['_handlers'][_0x263d9f]['maxRetries']=-0x815+-0xa9e+0x12b3*0x1;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0xdc7a1b){if(!_0xdc7a1b['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0xdc7a1b['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0xdc7a1b['header']['version']!==0x1e4f+-0x1f19+-0x1*-0xcb)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0xdc7a1b['data']){if(!Array['isArray'](_0xdc7a1b['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0xf28b0f=-0x10c*0x19+-0x1943+0x9*0x5b7,_0x250cf6=_0xdc7a1b['data']['length'];_0xf28b0f<_0x250cf6;_0xf28b0f++){const _0x1116f1=_0xdc7a1b['data'][_0xf28b0f];if(!_0x1116f1['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xf28b0f+('].info\x22\x20fi'+'eld'));if(!_0x1116f1['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xf28b0f+('].info.loc'+'ale\x22\x20field'));if(typeof _0x1116f1['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0xf28b0f+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x1116f1['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xf28b0f+('].messages'+'\x22\x20field'));}}['parse'](_0x4c3b5d){return this['_validate'](_0x4c3b5d),_0x4c3b5d['data'];}}class aP extends ce{constructor(_0x30445c){super(),this['locale']=Wh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x30445c,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x56ea48){const _0x112bb5={};for(let _0x1d31cd=-0x1299+0x2*-0xfa1+0x31db,_0x266f49=_0x56ea48['length'];_0x1d31cd<_0x266f49;_0x1d31cd++){const _0x34c782=_0x56ea48[_0x1d31cd]instanceof le?_0x56ea48[_0x1d31cd]['id']:_0x56ea48[_0x1d31cd];_0x112bb5[_0x34c782]=!(-0x136d+-0x1b8e+-0xfa9*-0x3);}let _0x113f8d=this['_assets']['length'];for(;_0x113f8d--;){const _0x463900=this['_assets'][_0x113f8d];if(!_0x112bb5[_0x463900]){this['_app']['assets']['off']('add:'+_0x463900,this['_onAssetAd'+'d'],this);const _0x21a534=this['_app']['assets']['get'](_0x463900);_0x21a534&&this['_onAssetRe'+'move'](_0x21a534),this['_assets']['splice'](_0x113f8d,0x955+0xd*-0x20e+0x1162);}}for(const _0x5e0941 in _0x112bb5){const _0x895b76=parseInt(_0x5e0941,0xa82*-0x1+-0x266f+0x1*0x30fb);if(this['_assets']['indexOf'](_0x895b76)!==-(0x1bb3+0x3*-0x57f+-0xb35))continue;this['_assets']['push'](_0x895b76);const _0x1d0d2f=this['_app']['assets']['get'](_0x895b76);_0x1d0d2f?this['_onAssetAd'+'d'](_0x1d0d2f):this['_app']['assets']['once']('add:'+_0x895b76,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x1c542a){if(this['_locale']===_0x1c542a)return;let _0x39c255=pi(_0x1c542a);if(_0x39c255==='in'&&(_0x39c255='id',_0x1c542a=Y1(_0x1c542a,_0x39c255),this['_locale']===_0x1c542a))return;const _0x40c43d=this['_locale'];this['_locale']=_0x1c542a,this['_lang']=_0x39c255,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x1c542a,_0x40c43d);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x34c316,_0x4174ca){return V0(_0x34c316,_0x4174ca);}['findAvaila'+'bleLocale'](_0x1ef56b){if(this['_translati'+'ons'][_0x1ef56b])return _0x1ef56b;const _0x2aec55=pi(_0x1ef56b);return this['_findFallb'+'ackLocale'](_0x1ef56b,_0x2aec55);}['getText'](_0x4e3336,_0x3e922e){let _0x53e429=_0x4e3336,_0x229c6b;_0x3e922e||(_0x3e922e=this['_locale'],_0x229c6b=this['_lang']);let _0x11e28f=this['_translati'+'ons'][_0x3e922e];return _0x11e28f||(_0x229c6b||(_0x229c6b=pi(_0x3e922e)),_0x3e922e=this['_findFallb'+'ackLocale'](_0x3e922e,_0x229c6b),_0x11e28f=this['_translati'+'ons'][_0x3e922e]),_0x11e28f&&_0x11e28f['hasOwnProp'+'erty'](_0x4e3336)&&(_0x53e429=_0x11e28f[_0x4e3336],Array['isArray'](_0x53e429)&&(_0x53e429=_0x53e429[0x2ed*-0x1+-0x1*-0x2081+-0x765*0x4]),_0x53e429==null&&(_0x53e429=_0x4e3336)),_0x53e429;}['getPluralT'+'ext'](_0x1235f8,_0x3151be,_0x1cdb92){let _0x31e71d=_0x1235f8,_0x1d8114,_0x136d53;_0x1cdb92?(_0x1d8114=pi(_0x1cdb92),_0x136d53=Xd(_0x1d8114)):(_0x1cdb92=this['_locale'],_0x1d8114=this['_lang'],_0x136d53=this['_pluralFn']);let _0x682602=this['_translati'+'ons'][_0x1cdb92];if(_0x682602||(_0x1cdb92=this['_findFallb'+'ackLocale'](_0x1cdb92,_0x1d8114),_0x1d8114=pi(_0x1cdb92),_0x136d53=Xd(_0x1d8114),_0x682602=this['_translati'+'ons'][_0x1cdb92]),_0x682602&&_0x682602[_0x1235f8]&&_0x136d53){const _0x364ac1=_0x136d53(_0x3151be);_0x31e71d=_0x682602[_0x1235f8][_0x364ac1],_0x31e71d==null&&(_0x31e71d=_0x1235f8);}return _0x31e71d;}['addData'](_0x2b9cf1){let _0x2909e0;try{_0x2909e0=this['_parser']['parse'](_0x2b9cf1);}catch(_0x56ae7b){console['error'](_0x56ae7b);return;}for(let _0x52a1dd=-0x1f8a+-0x1914+-0x2*-0x1c4f,_0xf79759=_0x2909e0['length'];_0x52a1dd<_0xf79759;_0x52a1dd++){const _0x5bb655=_0x2909e0[_0x52a1dd],_0x5ede1b=_0x5bb655['info']['locale'],_0x1d98c5=_0x5bb655['messages'];if(!this['_translati'+'ons'][_0x5ede1b]){this['_translati'+'ons'][_0x5ede1b]={};const _0x2ebdbf=pi(_0x5ede1b);this['_available'+'Langs'][_0x2ebdbf]||(this['_available'+'Langs'][_0x2ebdbf]=_0x5ede1b);}Object['assign'](this['_translati'+'ons'][_0x5ede1b],_0x1d98c5),this['fire']('data:add',_0x5ede1b,_0x1d98c5);}}['removeData'](_0x2b7169){let _0x3ea45d;try{_0x3ea45d=this['_parser']['parse'](_0x2b7169);}catch(_0x33b09b){console['error'](_0x33b09b);return;}for(let _0x417409=-0x214a+-0x1*-0x1e9d+0x2ad,_0x401083=_0x3ea45d['length'];_0x417409<_0x401083;_0x417409++){const _0x5a7000=_0x3ea45d[_0x417409],_0x4b58e6=_0x5a7000['info']['locale'],_0x52e54c=this['_translati'+'ons'][_0x4b58e6];if(!_0x52e54c)continue;const _0xd4c8fe=_0x5a7000['messages'];for(const _0x2ef4a9 in _0xd4c8fe)delete _0x52e54c[_0x2ef4a9];Object['keys'](_0x52e54c)['length']===0x19c*0xd+-0x177a+-0x147*-0x2&&(delete this['_translati'+'ons'][_0x4b58e6],delete this['_available'+'Langs'][pi(_0x4b58e6)]),this['fire']('data:remov'+'e',_0x4b58e6,_0xd4c8fe);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x48874f,_0x1ed150){let _0x10daa9=$h[_0x48874f];return _0x10daa9&&this['_translati'+'ons'][_0x10daa9]||(_0x10daa9=$h[_0x1ed150],_0x10daa9&&this['_translati'+'ons'][_0x10daa9])||(_0x10daa9=this['_available'+'Langs'][_0x1ed150],_0x10daa9&&this['_translati'+'ons'][_0x10daa9])?_0x10daa9:Wh;}['_onAssetAd'+'d'](_0x280c5e){_0x280c5e['on']('load',this['_onAssetLo'+'ad'],this),_0x280c5e['on']('change',this['_onAssetCh'+'ange'],this),_0x280c5e['on']('remove',this['_onAssetRe'+'move'],this),_0x280c5e['on']('unload',this['_onAssetUn'+'load'],this),_0x280c5e['resource']&&this['_onAssetLo'+'ad'](_0x280c5e);}['_onAssetLo'+'ad'](_0x481060){this['addData'](_0x481060['resource']);}['_onAssetCh'+'ange'](_0x2a8d54){_0x2a8d54['resource']&&this['addData'](_0x2a8d54['resource']);}['_onAssetRe'+'move'](_0x296d43){_0x296d43['off']('load',this['_onAssetLo'+'ad'],this),_0x296d43['off']('change',this['_onAssetCh'+'ange'],this),_0x296d43['off']('remove',this['_onAssetRe'+'move'],this),_0x296d43['off']('unload',this['_onAssetUn'+'load'],this),_0x296d43['resource']&&this['removeData'](_0x296d43['resource']),this['_app']['assets']['once']('add:'+_0x296d43['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x43bb8f){_0x43bb8f['resource']&&this['removeData'](_0x43bb8f['resource']);}}class oP extends ce{constructor(_0x32e875){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x32e875;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x5c2dc3,_0x2f02af){_0x2f02af&&this['_scriptSch'+'emas']['set'](_0x5c2dc3,_0x2f02af);}['getSchema'](_0x3642bd){return this['_scriptSch'+'emas']['get'](_0x3642bd);}['add'](_0x402170){const _0x440d86=_0x402170['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x440d86)?(setTimeout(()=>{if(_0x402170['prototype']['swap']){const _0x5f0adf=this['_scripts'][_0x440d86],_0x3c1969=this['_list']['indexOf'](_0x5f0adf);this['_list'][_0x3c1969]=_0x402170,this['_scripts'][_0x440d86]=_0x402170,this['fire']('swap',_0x440d86,_0x402170),this['fire']('swap:'+_0x440d86,_0x402170);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x440d86+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x21d6+0xd*-0xc2+-0x17fb*0x1)):(this['_scripts'][_0x440d86]=_0x402170,this['_list']['push'](_0x402170),this['fire']('add',_0x440d86,_0x402170),this['fire']('add:'+_0x440d86,_0x402170),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x440d86)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x113eac=this['app']['systems']['script']['_component'+'s'];let _0x37ba80;const _0x5acced=[],_0x3a2a6b=[];for(_0x113eac['loopIndex']=0xd*0x43+-0x427+0xc0;_0x113eac['loopIndex']<_0x113eac['length'];_0x113eac['loopIndex']++){const _0x9ccc28=_0x113eac['items'][_0x113eac['loopIndex']];if(_0x9ccc28['_scriptsIn'+'dex'][_0x440d86]&&_0x9ccc28['_scriptsIn'+'dex'][_0x440d86]['awaiting']){_0x9ccc28['_scriptsDa'+'ta']&&_0x9ccc28['_scriptsDa'+'ta'][_0x440d86]&&(_0x37ba80=_0x9ccc28['_scriptsDa'+'ta'][_0x440d86]['attributes']);const _0x2a53a8=_0x9ccc28['create'](_0x440d86,{'preloading':!(0x6c9+-0x10*-0x145+-0x1b19),'ind':_0x9ccc28['_scriptsIn'+'dex'][_0x440d86]['ind'],'attributes':_0x37ba80});_0x2a53a8&&_0x5acced['push'](_0x2a53a8);for(const _0x5189ff of _0x9ccc28['scripts'])_0x9ccc28['initialize'+'Attributes'](_0x5189ff);}}for(let _0xf733b9=0x19c7+0x19ef*0x1+0x19db*-0x2;_0xf733b9<_0x5acced['length'];_0xf733b9++)_0x5acced[_0xf733b9]['enabled']&&(_0x5acced[_0xf733b9]['_initializ'+'ed']=!(0x1cf0+-0x2*0xb00+-0x6f0),_0x3a2a6b['push'](_0x5acced[_0xf733b9]),_0x5acced[_0xf733b9]['initialize']&&_0x5acced[_0xf733b9]['initialize']());for(let _0x27aea5=-0x8*-0x254+0x821+-0x8eb*0x3;_0x27aea5<_0x3a2a6b['length'];_0x27aea5++)!_0x3a2a6b[_0x27aea5]['enabled']||_0x3a2a6b[_0x27aea5]['_postIniti'+'alized']||(_0x3a2a6b[_0x27aea5]['_postIniti'+'alized']=!(-0x10ac+0x9e5*-0x1+0x1a91),_0x3a2a6b[_0x27aea5]['postInitia'+'lize']&&_0x3a2a6b[_0x27aea5]['postInitia'+'lize']());}),!(0x10b8+-0x2*0x38b+0x1*-0x9a2));}['remove'](_0x1ac779){let _0x148cb3=_0x1ac779,_0x4216c5=_0x1ac779;if(typeof _0x4216c5!='string'?_0x4216c5=_0x148cb3['__name']:_0x148cb3=this['get'](_0x4216c5),this['get'](_0x4216c5)!==_0x148cb3)return!(0xd*-0x57+-0x1397+0x1803);delete this['_scripts'][_0x4216c5];const _0x2a7eb4=this['_list']['indexOf'](_0x148cb3);return this['_list']['splice'](_0x2a7eb4,0x8a8+0x6dc+-0xf83),this['fire']('remove',_0x4216c5,_0x148cb3),this['fire']('remove:'+_0x4216c5,_0x148cb3),!(0x1*-0x1269+-0x207e*-0x1+-0xe15);}['get'](_0x38f237){return this['_scripts'][_0x38f237]||null;}['has'](_0x18e841){if(typeof _0x18e841=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x18e841);if(!_0x18e841)return!(-0x9*0x34a+0x1*-0x128f+-0x55a*-0x9);const _0x3a9481=_0x18e841['__name'];return this['_scripts'][_0x3a9481]===_0x18e841;}['list'](){return this['_list'];}}const lP=(_0x4bb5d5,_0xd6f143)=>_0x4bb5d5['constructo'+'r']['order']-_0xd6f143['constructo'+'r']['order'],hP=_0x5dfb83=>_0x5dfb83['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x5a47b4=>{_0x5a47b4['length']=0x1c4b+0x1*0x5d1+0x887*-0x4,G0['push'](_0x5a47b4);},ac=class ac extends De{constructor(_0x3e7b3d,_0x59600c=tn()){super(_0x3e7b3d),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0x240b*-0x1+0x1b75+0x897*0x1)),c(this,'_guid',null),c(this,'_template',!(0xbbf+0x952*0x1+-0x8*0x2a2)),(v['assert'](_0x59600c,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x59600c);}['addCompone'+'nt'](_0xc1e46,_0x3eb067){const _0xdc0d7c=this['_app']['systems'][_0xc1e46];return _0xdc0d7c?this['c'][_0xc1e46]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0xc1e46+('\x27\x20componen'+'t')),null):_0xdc0d7c['addCompone'+'nt'](this,_0x3eb067):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0xc1e46+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x329060){const _0x41871b=this['_app']['systems'][_0x329060];if(!_0x41871b){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x329060+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x329060]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x329060+('\x27\x20componen'+'t'));return;}_0x41871b['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x493e74){const _0x4cc632=this['findOne'](_0x36a20d=>{var _0x566820;return(_0x566820=_0x36a20d['c'])==null?void(-0x7f9+-0x1185*0x1+-0xcbf*-0x2):_0x566820[_0x493e74];});return _0x4cc632&&_0x4cc632['c'][_0x493e74];}['findCompon'+'ents'](_0x52c088){return this['find'](_0x9ed83e=>{var _0x18b388;return(_0x18b388=_0x9ed83e['c'])==null?void(-0x23e0+-0x2*-0x9a3+-0x19*-0xaa):_0x18b388[_0x52c088];})['map'](_0x51f8e9=>_0x51f8e9['c'][_0x52c088]);}['findScript'](_0x526094){const _0x4efc1e=this['findOne'](_0xc65e13=>{var _0x501c42,_0x4290aa;return(_0x4290aa=(_0x501c42=_0xc65e13['c'])==null?void(-0x867+0x301*-0x3+0x116a):_0x501c42['script'])==null?void(-0x1*-0xcfe+0x1741+-0x407*0x9):_0x4290aa['has'](_0x526094);});return _0x4efc1e==null?void(-0x1a07+-0x20f2+0x1e7*0x1f):_0x4efc1e['c']['script']['get'](_0x526094);}['findScript'+'s'](_0x187155){return this['find'](_0x35fdd8=>{var _0x2509eb,_0x10c707;return(_0x10c707=(_0x2509eb=_0x35fdd8['c'])==null?void(-0x10*0x126+-0x26cd+-0x77*-0x7b):_0x2509eb['script'])==null?void(-0x2632+-0x26bf+0x4cf1):_0x10c707['has'](_0x187155);})['map'](_0x456cab=>_0x456cab['c']['script']['get'](_0x187155));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0xf72cfa){const _0x3318a6=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x3318a6[this['_guid']],this['_guid']=_0xf72cfa,_0x3318a6[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x19b053,_0x49eae4){let _0x4136ac=!(-0x162+0x1*0x1202+-0x109f);_0x19b053===this&&Za['length']===0x1ead+-0x46c+0x1a41*-0x1&&(_0x4136ac=!(-0x1eae+0xc76+0x91c*0x2)),_0x19b053['_beingEnab'+'led']=!(-0x1b1c+-0x182e+0x334a),_0x19b053['_onHierarc'+'hyStateCha'+'nged'](_0x49eae4),_0x19b053['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x19b053);const _0x8cd7d3=_0x19b053['_children'];for(let _0x4bc5ac=0x26a5*0x1+-0x355*0x3+-0x1ca6,_0xa4aeb1=_0x8cd7d3['length'];_0x4bc5ac<_0xa4aeb1;_0x4bc5ac++)_0x8cd7d3[_0x4bc5ac]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x8cd7d3[_0x4bc5ac],_0x49eae4);if(_0x19b053['_beingEnab'+'led']=!(-0x19f5+0x256c+0x5bb*-0x2),_0x4136ac){for(let _0x5d905c=-0x389+-0x16*0x12d+0x1d67;_0x5d905c<Za['length'];_0x5d905c++)Za[_0x5d905c]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=0x251f*0x1+-0x2414+-0x1*0x10b;}}['_onHierarc'+'hyStateCha'+'nged'](_0x18e25e){super['_onHierarc'+'hyStateCha'+'nged'](_0x18e25e);const _0xeeb3ca=this['_getSorted'+'Components']();for(let _0x3253c0=0xc23+-0xf*-0x105+0xdb7*-0x2;_0x3253c0<_0xeeb3ca['length'];_0x3253c0++){const _0x1e8f9c=_0xeeb3ca[_0x3253c0];_0x1e8f9c['enabled']&&(_0x18e25e?_0x1e8f9c['onEnable']():_0x1e8f9c['onDisable']());}$_(_0xeeb3ca);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x2ac073=this['_getSorted'+'Components']();for(let _0x2b5c99=-0x1*0x1a64+-0x27d+-0x1*-0x1ce1;_0x2b5c99<_0x2ac073['length'];_0x2b5c99++)_0x2ac073[_0x2b5c99]['onPostStat'+'eChange']();$_(_0x2ac073);}['findByGuid'](_0x23eab7){if(this['_guid']===_0x23eab7)return this;const _0x4e5e32=this['_app']['_entityInd'+'ex'][_0x23eab7];return _0x4e5e32&&(_0x4e5e32===this||_0x4e5e32['isDescenda'+'ntOf'](this))?_0x4e5e32:null;}['destroy'](){this['_destroyin'+'g']=!(-0xe8c+-0x511*0x7+0x1f*0x19d);for(const _0x3748c0 in this['c'])this['c'][_0x3748c0]['enabled']=!(0x1*0x1e50+-0x19c6+0x3*-0x183);for(const _0x1a2ded in this['c'])this['c'][_0x1a2ded]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x1*-0x2582+0x2*-0xe41+0x7*-0x149);}['clone'](){const _0x26357e={},_0x3b20c1=this['_cloneRecu'+'rsively'](_0x26357e);return _0x26357e[this['getGuid']()]=_0x3b20c1,H0(this,this,_0x3b20c1,_0x26357e),_0x3b20c1;}['_getSorted'+'Components'](){const _0x2bc10f=this['c'],_0x8d8149=cP();let _0x47e80e=-0x86c+-0x1ce7*-0x1+-0x147b;for(const _0x5f3cd3 in _0x2bc10f)if(_0x2bc10f['hasOwnProp'+'erty'](_0x5f3cd3)){const _0x58e8af=_0x2bc10f[_0x5f3cd3];_0x47e80e|=_0x58e8af['constructo'+'r']['order']!==-0x1ef2+0xd63+0x118f,_0x8d8149['push'](_0x58e8af);}return _0x47e80e&&_0x8d8149['length']>-0x2ed*-0x3+0x506+-0xdcc&&hP(_0x8d8149),_0x8d8149;}['_cloneRecu'+'rsively'](_0x829b01){const _0x43da9c=new this['constructo'+'r'](void(0x4ac+-0x18d0+-0x2*-0xa12),this['_app']);super['_cloneInte'+'rnal'](_0x43da9c);for(const _0x3d1834 in this['c'])this['c'][_0x3d1834]['system']['cloneCompo'+'nent'](this,_0x43da9c);for(let _0x89ea99=-0x20d*0x9+0x2357*-0x1+-0x16*-0x272;_0x89ea99<this['_children']['length'];_0x89ea99++){const _0x2133d3=this['_children'][_0x89ea99];if(_0x2133d3 instanceof ac){const _0x526bb7=_0x2133d3['_cloneRecu'+'rsively'](_0x829b01);_0x43da9c['addChild'](_0x526bb7),_0x829b01[_0x2133d3['getGuid']()]=_0x526bb7;}}return _0x43da9c;}};c(ac,'EVENT_DEST'+'ROY','destroy');let We=ac;function H0(_0x31d4c7,_0x2332e2,_0x5ec891,_0x778c18){if(_0x2332e2 instanceof We){const _0x29d64b=_0x2332e2['c'];for(const _0x328afa in _0x29d64b){const _0x2767e0=_0x29d64b[_0x328afa],_0xf09c73=_0x2767e0['system']['getPropert'+'iesOfType']('entity');for(let _0x56133c=-0x21*0x33+0x1*0x140f+-0x4*0x35f,_0x2d7944=_0xf09c73['length'];_0x56133c<_0x2d7944;_0x56133c++){const _0x5add36=_0xf09c73[_0x56133c]['name'],_0x4a65d0=_0x2767e0[_0x5add36];if(!!_0x31d4c7['findByGuid'](_0x4a65d0)){const _0x331153=_0x778c18[_0x4a65d0]['getGuid']();_0x331153?_0x5ec891['c'][_0x328afa][_0x5add36]=_0x331153:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x29d64b['script']&&_0x5ec891['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x29d64b['script'],_0x778c18),_0x29d64b['render']&&_0x5ec891['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x29d64b['render'],_0x778c18),_0x29d64b['button']&&_0x5ec891['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x29d64b['button'],_0x778c18),_0x29d64b['scrollview']&&_0x5ec891['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x29d64b['scrollview'],_0x778c18),_0x29d64b['scrollbar']&&_0x5ec891['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x29d64b['scrollbar'],_0x778c18),_0x29d64b['anim']&&_0x5ec891['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x29d64b['anim'],_0x778c18);const _0x484bf6=_0x2332e2['children']['filter'](_0x59a336=>_0x59a336 instanceof We),_0x13db6d=_0x5ec891['children']['filter'](_0x8cf9da=>_0x8cf9da instanceof We);for(let _0x35adc1=-0x76*-0x2b+0x1378+-0x6b*0x5e,_0x178ad6=_0x484bf6['length'];_0x35adc1<_0x178ad6;_0x35adc1++)H0(_0x31d4c7,_0x484bf6[_0x35adc1],_0x13db6d[_0x35adc1],_0x778c18);}}class q_{constructor(_0x4a99f7,_0x2d7a89){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x14b*0xc+-0x1*0x6d2+-0x8b1)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x4a99f7,this['url']=_0x2d7a89);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x322064){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x322064;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x4c2b30,_0x2794aa){if(this['_index']['hasOwnProp'+'erty'](_0x4c2b30))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x4c2b30),!(0x1a7+0x221+-0x3c7);const _0x482e45=new q_(_0x4c2b30,_0x2794aa),_0x3b304a=this['_list']['push'](_0x482e45);return this['_index'][_0x482e45['name']]=_0x3b304a-(-0x1*0x9a9+0x1cf*0x3+0x1f*0x23),this['_urlIndex'][_0x482e45['url']]=_0x3b304a-(0x17c7+0x98a+-0x2150),!(0x236b+0xb*0x2e1+-0x4316);}['find'](_0x705320){return this['_index']['hasOwnProp'+'erty'](_0x705320)?this['_list'][this['_index'][_0x705320]]:null;}['findByUrl'](_0x3600ed){return this['_urlIndex']['hasOwnProp'+'erty'](_0x3600ed)?this['_list'][this['_urlIndex'][_0x3600ed]]:null;}['remove'](_0x507470){if(this['_index']['hasOwnProp'+'erty'](_0x507470)){const _0x46b299=this['_index'][_0x507470];let _0x43c7df=this['_list'][_0x46b299];delete this['_urlIndex'][_0x43c7df['url']],delete this['_index'][_0x507470],this['_list']['splice'](_0x46b299,0x1a8f+0x1*-0x1933+-0x15b);for(let _0x560591=0xb3d+-0x2280+-0x18d*-0xf;_0x560591<this['_list']['length'];_0x560591++)_0x43c7df=this['_list'][_0x560591],this['_index'][_0x43c7df['name']]=_0x560591,this['_urlIndex'][_0x43c7df['url']]=_0x560591;}}['_loadScene'+'Data'](_0x15b335,_0x4919c1,_0x36a91c){const _0x6c4c76=this['_app'];let _0x580c90=_0x15b335;if(typeof _0x15b335=='string'&&(_0x15b335=this['findByUrl'](_0x580c90)||this['find'](_0x580c90)||new q_('Untitled',_0x580c90)),_0x580c90=_0x15b335['url'],!_0x580c90){_0x36a91c('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x15b335['loaded']){_0x36a91c(null,_0x15b335);return;}_0x6c4c76['assets']&&_0x6c4c76['assets']['prefix']&&!Da['test'](_0x580c90)&&(_0x580c90=fe['join'](_0x6c4c76['assets']['prefix'],_0x580c90)),_0x15b335['_onLoadedC'+'allbacks']['push'](_0x36a91c),_0x15b335['_loading']||_0x6c4c76['loader']['getHandler']('hierarchy')['load'](_0x580c90,(_0x324c71,_0x519bac)=>{_0x15b335['data']=_0x519bac,_0x15b335['_loading']=!(-0x22d6+0x5*0x58c+0x71b*0x1);for(let _0x48e919=-0xd6b+0x5*-0x5cb+0xe*0x307;_0x48e919<_0x15b335['_onLoadedC'+'allbacks']['length'];_0x48e919++)_0x15b335['_onLoadedC'+'allbacks'][_0x48e919](_0x324c71,_0x15b335);_0x4919c1||(_0x15b335['data']=null),_0x15b335['_onLoadedC'+'allbacks']['length']=0xd4a+0x19c2+-0x270c;}),_0x15b335['_loading']=!(0xd95+-0x1*-0x173d+-0x24d2);}['loadSceneD'+'ata'](_0x123bce,_0x19fda4){this['_loadScene'+'Data'](_0x123bce,!(-0x21f2+-0x1*-0xad3+0x171f),_0x19fda4);}['unloadScen'+'eData'](_0x1ca9cc){typeof _0x1ca9cc=='string'&&(_0x1ca9cc=this['findByUrl'](_0x1ca9cc)),_0x1ca9cc&&(_0x1ca9cc['data']=null);}['_loadScene'+'Hierarchy'](_0x117a83,_0x5d75bb,_0x1d2651){this['_loadScene'+'Data'](_0x117a83,!(0x1*-0x1620+0x102a+-0x1fd*-0x3),(_0x16c464,_0x57cac5)=>{if(_0x16c464){_0x1d2651&&_0x1d2651(_0x16c464);return;}_0x5d75bb&&_0x5d75bb(_0x57cac5);const _0x2c52ca=this['_app'],_0x4fd6f7=()=>{const _0x206900=_0x2c52ca['loader']['getHandler']('hierarchy');_0x2c52ca['systems']['script']['preloading']=!(-0x1a99+-0x2*0x6b9+-0x43*-0x99);const _0x26c3a2=_0x206900['open'](_0x57cac5['url'],_0x57cac5['data']);_0x2c52ca['systems']['script']['preloading']=!(-0x167*-0x5+0x1973+-0x2075),_0x2c52ca['loader']['clearCache'](_0x57cac5['url'],'hierarchy'),_0x2c52ca['root']['addChild'](_0x26c3a2),_0x2c52ca['systems']['fire']('initialize',_0x26c3a2),_0x2c52ca['systems']['fire']('postInitia'+'lize',_0x26c3a2),_0x2c52ca['systems']['fire']('postPostIn'+'itialize',_0x26c3a2),_0x1d2651&&_0x1d2651(null,_0x26c3a2);};_0x2c52ca['_preloadSc'+'ripts'](_0x57cac5['data'],_0x4fd6f7);});}['loadSceneH'+'ierarchy'](_0x39bd93,_0x35612b){this['_loadScene'+'Hierarchy'](_0x39bd93,null,_0x35612b);}['loadSceneS'+'ettings'](_0x4a5176,_0x345318){this['_loadScene'+'Data'](_0x4a5176,!(0x1425+-0x1d3e+0x91a*0x1),(_0x108ef6,_0x42e407)=>{_0x108ef6?_0x345318&&_0x345318(_0x108ef6):(this['_app']['applyScene'+'Settings'](_0x42e407['data']['settings']),_0x345318&&_0x345318(null));});}['changeScen'+'e'](_0x2c3a35,_0x4f577d){const _0x17cc4c=this['_app'],_0x1c37a3=_0x5d0898=>{const {children:_0x59d579}=_0x17cc4c['root'];for(;_0x59d579['length'];)_0x59d579[-0x1773+-0x19a9+0x311c*0x1]['destroy']();_0x17cc4c['applyScene'+'Settings'](_0x5d0898['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x2c3a35,_0x1c37a3,_0x4f577d);}['loadScene'](_0x22992f,_0x23bb08){const _0x1676a9=this['_app'],_0x466636=_0x1676a9['loader']['getHandler']('scene');_0x1676a9['assets']&&_0x1676a9['assets']['prefix']&&!Da['test'](_0x22992f)&&(_0x22992f=fe['join'](_0x1676a9['assets']['prefix'],_0x22992f)),_0x466636['load'](_0x22992f,(_0x162063,_0x4c7680)=>{if(_0x162063)_0x23bb08&&_0x23bb08(_0x162063);else{const _0x47dec4=()=>{_0x1676a9['systems']['script']['preloading']=!(0x9a7+-0x1*0x1edd+0x1536);const _0x19ee88=_0x466636['open'](_0x22992f,_0x4c7680),_0x4be96a=this['findByUrl'](_0x22992f);_0x4be96a&&!_0x4be96a['loaded']&&(_0x4be96a['data']=_0x4c7680),_0x1676a9['systems']['script']['preloading']=!(-0x13ad+0x1ae3+-0x735),_0x1676a9['loader']['clearCache'](_0x22992f,'scene'),_0x1676a9['loader']['patch']({'resource':_0x19ee88,'type':'scene'},_0x1676a9['assets']),_0x1676a9['root']['addChild'](_0x19ee88['root']),_0x1676a9['systems']['rigidbody']&&typeof Ammo<'u'&&_0x1676a9['systems']['rigidbody']['gravity']['set'](_0x19ee88['_gravity']['x'],_0x19ee88['_gravity']['y'],_0x19ee88['_gravity']['z']),_0x23bb08&&_0x23bb08(null,_0x19ee88);};_0x1676a9['_preloadSc'+'ripts'](_0x4c7680,_0x47dec4);}});}}class uP{constructor(_0x19ff41){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x19ff41['_shaderSta'+'ts'],this['vram']=_0x19ff41['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x327b55;return(_0x327b55=tn()['lightmappe'+'r'])==null?void(-0xafb*-0x1+0xb77+-0x1ba*0xd):_0x327b55['stats'];}get['batcher'](){const _0x30e6f8=tn()['_batcher'];return _0x30e6f8?_0x30e6f8['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x1c35b3){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(0xe43+-0x22*0x3d+-0x628)),c(this,'_inFrameUp'+'date',!(-0xbf*-0x16+0xa94+-0x8ff*0x3)),c(this,'_libraries'+'Loaded',!(-0x1ee+-0x21bb+0x2*0x11d5)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(0x123b+0x1a49+-0x2c84)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0x1a1e+-0x185e+-0x1bf)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0xc3a*0x1+-0x1451+0x1*0x817),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0x1bcd+-0x1c96+0x3864),c(this,'maxDeltaTi'+'me',0x15f8+-0x16f*0x2+-0x131a+0.1),c(this,'frame',0x1a6a+0x175a+-0xe*0x38e),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x18a*-0xf+-0x1764+0x2e7a)),c(this,'renderNext'+'Frame',!(-0x1ca3*-0x1+0x2477+0x5eb*-0xb)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(-0xd76+0x8bd+0x4b9):no['indexOf']('$'))<0x1065+0x1e25+-0x2e8a&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x1c35b3['id']]=this,qu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(-0x400+0x1*-0x9c2+-0x24b*-0x6));}['init'](_0x2a382a){const {assetPrefix:_0x42bc2c,batchManager:_0x2f3300,componentSystems:_0x5d8e24,elementInput:_0x40e4bd,gamepads:_0x27c8a8,graphicsDevice:_0x1cbee3,keyboard:_0x593394,lightmapper:_0x294e58,mouse:_0x16e683,resourceHandlers:_0x29c122,scriptsOrder:_0x512d62,scriptPrefix:_0x3e8d01,soundManager:_0x56eec4,touch:_0x4754af,xr:_0x5adcea}=_0x2a382a;v['assert'](_0x1cbee3,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x1cbee3,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x1cbee3),this['_soundMana'+'ger']=_0x56eec4,this['scene']=new ci(_0x1cbee3),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x42bc2c&&(this['assets']['prefix']=_0x42bc2c),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x512d62||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(0x19f3+-0x2480+0xa8e),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0xb14b54=new S_('default');_0xb14b54['pushOpaque'](this['defaultLay'+'erWorld']),_0xb14b54['pushOpaque'](this['defaultLay'+'erDepth']),_0xb14b54['pushOpaque'](this['defaultLay'+'erSkybox']),_0xb14b54['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0xb14b54['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0xb14b54['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0xb14b54['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0xb14b54,$r['createPlac'+'eholder'](_0x1cbee3),this['renderer']=new Gh(_0x1cbee3),this['renderer']['scene']=this['scene'],_0x294e58&&(this['lightmappe'+'r']=new _0x294e58(_0x1cbee3,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x2f3300&&(this['_batcher']=new _0x2f3300(_0x1cbee3,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x593394||null,this['mouse']=_0x16e683||null,this['touch']=_0x4754af||null,this['gamepads']=_0x27c8a8||null,_0x40e4bd&&(this['elementInp'+'ut']=_0x40e4bd,this['elementInp'+'ut']['app']=this),this['xr']=_0x5adcea?new _0x5adcea(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x3e8d01||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x29c122['forEach'](_0x37d0a8=>{const _0x4d6586=new _0x37d0a8(this);this['loader']['addHandler'](_0x4d6586['handlerTyp'+'e'],_0x4d6586);}),_0x5d8e24['forEach'](_0x4b028b=>{this['systems']['add'](new _0x4b028b(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x5*-0x226+-0xe*-0x34+0x7e6)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x303+-0x260d+0x230b))):document['mozHidden']!==void(-0x1*-0xdfd+-0xb88+-0x275)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x25d*0x1+0x163*0x1a+-0x4*0x86c))):document['msHidden']!==void(0x1*0x189+0x2249+-0x23d2)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x191f+0x2334+-0xa14))):document['webkitHidd'+'en']!==void(0x112+-0x1a6f*-0x1+0x1*-0x1b81)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0xee5+-0x14e*0x11+-0x15*-0x1c4)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x61ffd3){return _0x61ffd3?Gr['_applicati'+'ons'][_0x61ffd3]:tn();}['_initDefau'+'ltMaterial'](){const _0x10a582=new cs();_0x10a582['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x10a582);}['_initProgr'+'amLibrary'](){const _0x42e55e=new D1(this['graphicsDe'+'vice'],new cs());WE(this['graphicsDe'+'vice'],_0x42e55e);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4306c3,_0x300c75){$e['get'](_0x4306c3,(_0x40ac91,_0x1b337a)=>{if(_0x40ac91){_0x300c75(_0x40ac91);return;}const _0x1935ba=_0x1b337a['applicatio'+'n_properti'+'es'],_0x565fed=_0x1b337a['scenes'],_0x596c47=_0x1b337a['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x1935ba,_0x4a5753=>{this['_parseScen'+'es'](_0x565fed),this['_parseAsse'+'ts'](_0x596c47),_0x300c75(_0x4a5753||null);});});}['preload'](_0x4d543f){this['fire']('preload:st'+'art');const _0x13c9d6=this['assets']['list']({'preload':!(-0x24d1+-0x356*-0x2+0x1e25)});if(_0x13c9d6['length']===-0x1de5+0x1451+0x994){this['fire']('preload:en'+'d'),_0x4d543f();return;}let _0x50ae5f=-0xd2a*-0x1+0x1+-0x1*0xd2b;const _0x40da5a=()=>{_0x50ae5f++,this['fire']('preload:pr'+'ogress',_0x50ae5f/_0x13c9d6['length']),_0x50ae5f===_0x13c9d6['length']&&(this['fire']('preload:en'+'d'),_0x4d543f());};_0x13c9d6['forEach'](_0x3d32a0=>{_0x3d32a0['loaded']?_0x40da5a():(_0x3d32a0['once']('load',_0x40da5a),_0x3d32a0['once']('error',_0x40da5a),this['assets']['load'](_0x3d32a0));});}['_preloadSc'+'ripts'](_0xb0f11,_0x2389ac){_0x2389ac();}['_parseAppl'+'icationPro'+'perties'](_0x4e3af4,_0x264619){if(typeof _0x4e3af4['maxAssetRe'+'tries']=='number'&&_0x4e3af4['maxAssetRe'+'tries']>0x1108*-0x1+-0xf7e+0x2086&&this['loader']['enableRetr'+'y'](_0x4e3af4['maxAssetRe'+'tries']),_0x4e3af4['useDeviceP'+'ixelRatio']||(_0x4e3af4['useDeviceP'+'ixelRatio']=_0x4e3af4['use_device'+'_pixel_rat'+'io']),_0x4e3af4['resolution'+'Mode']||(_0x4e3af4['resolution'+'Mode']=_0x4e3af4['resolution'+'_mode']),_0x4e3af4['fillMode']||(_0x4e3af4['fillMode']=_0x4e3af4['fill_mode']),this['_width']=_0x4e3af4['width'],this['_height']=_0x4e3af4['height'],_0x4e3af4['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x4e3af4['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x4e3af4['fillMode'],this['_width'],this['_height']),_0x4e3af4['layers']&&_0x4e3af4['layerOrder']){const _0x157197=new S_('applicatio'+'n'),_0x644e89={};for(const _0x2efe1d in _0x4e3af4['layers']){const _0x4774d7=_0x4e3af4['layers'][_0x2efe1d];_0x4774d7['id']=parseInt(_0x2efe1d,-0x10*-0xcf+-0x1e85+0x119f),_0x4774d7['enabled']=_0x4774d7['id']!==Xt,_0x644e89[_0x2efe1d]=new Lr(_0x4774d7);}for(let _0x38d856=0x1*0x69a+0x349*-0x2+-0x8,_0x2778d1=_0x4e3af4['layerOrder']['length'];_0x38d856<_0x2778d1;_0x38d856++){const _0x4f8269=_0x4e3af4['layerOrder'][_0x38d856],_0x1ac2a9=_0x644e89[_0x4f8269['layer']];_0x1ac2a9&&(_0x4f8269['transparen'+'t']?_0x157197['pushTransp'+'arent'](_0x1ac2a9):_0x157197['pushOpaque'](_0x1ac2a9),_0x157197['subLayerEn'+'abled'][_0x38d856]=_0x4f8269['enabled']);}this['scene']['layers']=_0x157197;}if(_0x4e3af4['batchGroup'+'s']){const _0x1c38df=this['batcher'];if(_0x1c38df)for(let _0x5db942=0x1f08+-0x1efd+0xb*-0x1,_0x4ec734=_0x4e3af4['batchGroup'+'s']['length'];_0x5db942<_0x4ec734;_0x5db942++){const _0x4c9536=_0x4e3af4['batchGroup'+'s'][_0x5db942];_0x1c38df['addGroup'](_0x4c9536['name'],_0x4c9536['dynamic'],_0x4c9536['maxAabbSiz'+'e'],_0x4c9536['id'],_0x4c9536['layers']);}}_0x4e3af4['i18nAssets']&&(this['i18n']['assets']=_0x4e3af4['i18nAssets']),this['_loadLibra'+'ries'](_0x4e3af4['libraries'],_0x264619);}['_loadLibra'+'ries'](_0x5635a0,_0x507d2b){const _0x7ed2ef=_0x5635a0['length'];let _0x44939f=_0x7ed2ef;const _0x2b9fe0=/^https?:\/\//;if(_0x7ed2ef){const _0xa05502=(_0x1ab66c,_0x1c8ee1)=>{_0x44939f--,_0x1ab66c?_0x507d2b(_0x1ab66c):_0x44939f===0x2052+-0x3*-0x479+-0x2dbd&&(this['onLibrarie'+'sLoaded'](),_0x507d2b(null));};for(let _0x890546=0x1af6+-0x66f+-0x1487*0x1;_0x890546<_0x7ed2ef;++_0x890546){let _0x23c650=_0x5635a0[_0x890546];!_0x2b9fe0['test'](_0x23c650['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x23c650=fe['join'](this['_scriptPre'+'fix'],_0x23c650)),this['loader']['load'](_0x23c650,'script',_0xa05502);}}else this['onLibrarie'+'sLoaded'](),_0x507d2b(null);}['_parseScen'+'es'](_0x1ad1a1){if(_0x1ad1a1){for(let _0x2baf47=-0x743+-0x1785*-0x1+-0x2*0x821;_0x2baf47<_0x1ad1a1['length'];_0x2baf47++)this['scenes']['add'](_0x1ad1a1[_0x2baf47]['name'],_0x1ad1a1[_0x2baf47]['url']);}}['_parseAsse'+'ts'](_0x5deb50){const _0x3d44e2=[],_0x3fe730={},_0x2d7c8d={};for(let _0x4e0962=-0x2bb*-0xb+-0x1*-0x856+0xb*-0x37d;_0x4e0962<this['scriptsOrd'+'er']['length'];_0x4e0962++){const _0x98e9e4=this['scriptsOrd'+'er'][_0x4e0962];_0x5deb50[_0x98e9e4]&&(_0x3fe730[_0x98e9e4]=!(-0x17e*0x3+0xf16+-0xa9c),_0x3d44e2['push'](_0x5deb50[_0x98e9e4]));}if(this['enableBund'+'les']){for(const _0xb1d0f5 in _0x5deb50)_0x5deb50[_0xb1d0f5]['type']==='bundle'&&(_0x2d7c8d[_0xb1d0f5]=!(0x9d9+0x16f1+-0x3*0xaee),_0x3d44e2['push'](_0x5deb50[_0xb1d0f5]));}for(const _0xa876ad in _0x5deb50)_0x3fe730[_0xa876ad]||_0x2d7c8d[_0xa876ad]||_0x3d44e2['push'](_0x5deb50[_0xa876ad]);for(let _0x23a7e2=0x10c0*0x2+-0x7ee+0x6*-0x443;_0x23a7e2<_0x3d44e2['length'];_0x23a7e2++){const _0x37a1a7=_0x3d44e2[_0x23a7e2],_0x43b3b4=new le(_0x37a1a7['name'],_0x37a1a7['type'],_0x37a1a7['file'],_0x37a1a7['data']);if(_0x43b3b4['id']=parseInt(_0x37a1a7['id'],-0x1*-0x1acd+-0x375+-0x174e),_0x43b3b4['preload']=_0x37a1a7['preload']?_0x37a1a7['preload']:!(0xb*0x16+0x2405*-0x1+0x2314),_0x43b3b4['loaded']=_0x37a1a7['type']==='script'&&_0x37a1a7['data']&&_0x37a1a7['data']['loadingTyp'+'e']>0x1fdd+-0xdda+-0x1203,_0x43b3b4['tags']['add'](_0x37a1a7['tags']),_0x37a1a7['i18n']){for(const _0x60a5b4 in _0x37a1a7['i18n'])_0x43b3b4['addLocaliz'+'edAssetId'](_0x60a5b4,_0x37a1a7['i18n'][_0x60a5b4]);}this['assets']['add'](_0x43b3b4);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x1*-0xaee+-0x2569*0x1+-0x1a7b*-0x1);}),this['frame']=-0x1*0xa5d+-0xc90+0x16ed,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x6b66d5){this['controller']&&this['controller']['update'](_0x6b66d5),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x2527de){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x2527de),this['systems']['fire']('animationU'+'pdate',_0x2527de),this['systems']['fire']('postUpdate',_0x2527de),this['fire']('update',_0x2527de),this['inputUpdat'+'e'](_0x2527de),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=-0x1d0f+0x2*-0x6c1+0x2a91,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x440fe0){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x440fe0),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x440fe0),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x1c2ab4,_0x32bfa5,_0x4f7def){const _0x2a6776=this['stats']['frame'];_0x2a6776['dt']=_0x32bfa5,_0x2a6776['ms']=_0x4f7def,_0x1c2ab4>_0x2a6776['_timeToCou'+'ntFrames']?(_0x2a6776['fps']=_0x2a6776['_fpsAccum'],_0x2a6776['_fpsAccum']=0x32e+-0x25aa+-0x1*-0x227c,_0x2a6776['_timeToCou'+'ntFrames']=_0x1c2ab4+(-0x1*0xe5d+-0x159f+0x27e4)):_0x2a6776['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x307+-0x1f55+-0x225c*-0x1;}['_fillFrame'+'Stats'](){let _0x47df93=this['stats']['frame'];_0x47df93['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x47df93['materials']=this['renderer']['_materialS'+'witches'],_0x47df93['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x47df93['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x47df93['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x47df93['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x47df93['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x442e64=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x47df93['triangles']=_0x442e64[Ms]/(0x1199+0xbc4+-0x1ba*0x11)+Math['max'](_0x442e64[ar]-(-0x1*-0x1215+-0x122b*0x2+0x1243),-0x24eb+0x5*-0xb9+0x2888)+Math['max'](_0x442e64[Yr]-(0x1698+0x190b*0x1+-0x2fa1),-0x1*0x1b05+-0x1457+-0x1b1*-0x1c),_0x47df93['cullTime']=this['renderer']['_cullTime'],_0x47df93['sortTime']=this['renderer']['_sortTime'],_0x47df93['skinTime']=this['renderer']['_skinTime'],_0x47df93['morphTime']=this['renderer']['_morphTime'],_0x47df93['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x47df93['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x47df93['otherPrimi'+'tives']=0x42b*-0x7+-0x4*-0x78d+-0x107;for(let _0x57c5b6=-0x8ed+0x25bc+-0x1ccf;_0x57c5b6<_0x442e64['length'];_0x57c5b6++)_0x57c5b6<Ms&&(_0x47df93['otherPrimi'+'tives']+=_0x442e64[_0x57c5b6]),_0x442e64[_0x57c5b6]=0x1c1*0xd+-0x705+-0xfc8;this['renderer']['_camerasRe'+'ndered']=0x19f5+-0xa22+-0x1*0xfd3,this['renderer']['_materialS'+'witches']=-0x2*0x1fd+-0x4*0x287+0x1*0xe16,this['renderer']['_shadowMap'+'Updates']=0x56*-0x1b+-0x7ce+0x10e0,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x1167+-0x1977+0x2ade,this['renderer']['_cullTime']=-0x1db9*-0x1+0x132b+-0x30e4,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x1*-0x21e9+0x112d*-0x1+0x1a*0x1f7,this['renderer']['_lightClus'+'tersTime']=0x1579+-0x4f*0x11+-0x2*0x81d,this['renderer']['_sortTime']=-0x18bc+0x1*0x1511+0x3ab*0x1,this['renderer']['_skinTime']=0xc2c*-0x3+0x1d9+0x22ab,this['renderer']['_morphTime']=-0x1f2a+0x18fb*0x1+-0x62f*-0x1,this['renderer']['_shadowMap'+'Time']=-0x2*0x392+0xbcd+0x1*-0x4a9,this['renderer']['_depthMapT'+'ime']=0x204e+-0x138e+-0x88*0x18,this['renderer']['_forwardTi'+'me']=0x535*-0x4+-0x1d2d+0x2f1*0x11,_0x47df93=this['stats']['drawCalls'],_0x47df93['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x47df93['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x47df93['depth']=0x200e+0x5*-0x133+-0x1a0f,_0x47df93['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x47df93['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x47df93['immediate']=-0x17f*0x6+0x5*-0x535+-0x2303*-0x1,_0x47df93['instanced']=0x2332+-0x119*-0x13+0x12af*-0x3,_0x47df93['removedByI'+'nstancing']=0x250e+-0x1011+-0x1*0x14fd,_0x47df93['misc']=_0x47df93['total']-(_0x47df93['forward']+_0x47df93['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x113+0x2126+-0x2013,this['renderer']['_shadowDra'+'wCalls']=-0x12e*-0xd+-0x25a8+-0xb29*-0x2,this['renderer']['_forwardDr'+'awCalls']=-0x846*-0x4+0x1e5a+-0x3f72,this['renderer']['_numDrawCa'+'llsCulled']=-0x1*-0x7eb+-0x1*-0x73+0x85e*-0x1,this['renderer']['_skinDrawC'+'alls']=-0x10be+0x25f1+0x711*-0x3,this['renderer']['_immediate'+'Rendered']=0x7*-0x367+0x58f+0x72*0x29,this['renderer']['_instanced'+'DrawCalls']=0x1ba6+0x2*-0xa8d+-0x346*0x2,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x47df93=this['stats']['particles'],_0x47df93['updatesPer'+'Frame']=_0x47df93['_updatesPe'+'rFrame'],_0x47df93['frameTime']=_0x47df93['_frameTime'],_0x47df93['_updatesPe'+'rFrame']=0x69*0x42+-0x1611*0x1+-0x501,_0x47df93['_frameTime']=0x1*-0x274+-0xb*-0x37f+-0x2401;}['setCanvasF'+'illMode'](_0x455910,_0x278783,_0x370459){this['_fillMode']=_0x455910,this['resizeCanv'+'as'](_0x278783,_0x370459);}['setCanvasR'+'esolution'](_0x36480d,_0x7b8890,_0x4e20c9){this['_resolutio'+'nMode']=_0x36480d,_0x36480d===G_&&_0x7b8890===void(-0x3*-0x3fc+0x35b*0x3+-0x1605)&&(_0x7b8890=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x4e20c9=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x7b8890,_0x4e20c9);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x27644a,_0x3b752d){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x3d700d=window['innerWidth'],_0x16d2e1=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x474fe5=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x85b1bb=_0x3d700d/_0x16d2e1;_0x474fe5>_0x85b1bb?(_0x27644a=_0x3d700d,_0x3b752d=_0x27644a/_0x474fe5):(_0x3b752d=_0x16d2e1,_0x27644a=_0x3b752d*_0x474fe5);}else this['_fillMode']===$1&&(_0x27644a=_0x3d700d,_0x3b752d=_0x16d2e1);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x27644a+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x3b752d+'px',this['updateCanv'+'asSize'](),{'width':_0x27644a,'height':_0x3b752d};}['updateCanv'+'asSize'](){var _0x18477c;if(!(!this['_allowResi'+'ze']||(_0x18477c=this['xr'])!=null&&_0x18477c['active'])&&this['_resolutio'+'nMode']===G_){const _0x496cf6=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x496cf6['clientWidt'+'h'],_0x496cf6['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x19ab+-0x1*0xa73+-0x3ce*0x4),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x2f42be){let _0x5c1ab6;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x1395e1,_0x5c25db,_0x1143fb]=_0x2f42be['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x1395e1,_0x5c25db,_0x1143fb);}this['scene']['applySetti'+'ngs'](_0x2f42be),_0x2f42be['render']['hasOwnProp'+'erty']('skybox')&&(_0x2f42be['render']['skybox']?(_0x5c1ab6=this['assets']['get'](_0x2f42be['render']['skybox']),_0x5c1ab6?this['setSkybox'](_0x5c1ab6):this['assets']['once']('add:'+_0x2f42be['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x526090,_0x2799ea){_0x526090&&_0x2799ea?$r['set'](this['graphicsDe'+'vice'],_0x526090,_0x2799ea):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x297521){if(_0x297521!==this['_skyboxAss'+'et']){const _0x550ceb=()=>{this['setSkybox'](null);},_0x1ea8c0=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x1ea8c0,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x550ceb,this),this['_skyboxAss'+'et']['off']('change',_0x1ea8c0,this)),this['_skyboxAss'+'et']=_0x297521,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x1ea8c0,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x550ceb,this),this['_skyboxAss'+'et']['on']('change',_0x1ea8c0,this),this['scene']['skyboxMip']===-0x2163+0xe59+0x130a&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x6f3+-0xe9c+0x7a9)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x1ea8c0();}}['_firstBake'](){var _0x59f96c;(_0x59f96c=this['lightmappe'+'r'])==null||_0x59f96c['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x6aa647;(_0x6aa647=this['batcher'])==null||_0x6aa647['generate']();}['_processTi'+'mestamp'](_0x23a436){return _0x23a436;}['drawLine'](_0xe05391,_0x3f221e,_0x14b0ee,_0x4c80da,_0x30fe05){this['scene']['drawLine'](_0xe05391,_0x3f221e,_0x14b0ee,_0x4c80da,_0x30fe05);}['drawLines'](_0x19b555,_0x47ebc2,_0x5def96=!(0xec4+0x2205+-0xb5*0x45),_0x42ed30=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x19b555,_0x47ebc2,_0x5def96,_0x42ed30);}['drawLineAr'+'rays'](_0x39ab6c,_0x267d89,_0x1b38b3=!(0x67*0x5d+0x1576+0x3ae1*-0x1),_0x52a697=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x39ab6c,_0x267d89,_0x1b38b3,_0x52a697);}['drawWireSp'+'here'](_0x544142,_0x4948c4,_0x4507d2=Y['WHITE'],_0x3c20ae=0xd5d+-0xf*-0x47+-0x196*0xb,_0x29329e=!(0x1d*-0xdb+-0x905*0x2+-0x2ad9*-0x1),_0x4abc91=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x544142,_0x4948c4,_0x4507d2,_0x3c20ae,_0x29329e,_0x4abc91);}['drawWireAl'+'ignedBox'](_0x54ebfa,_0x57b47e,_0x40ebe0=Y['WHITE'],_0x2895bf=!(-0x1b2e+0x26ff*0x1+-0xbd1),_0x535ef4=this['scene']['defaultDra'+'wLayer'],_0x3098d8){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x54ebfa,_0x57b47e,_0x40ebe0,_0x2895bf,_0x535ef4,_0x3098d8);}['drawMeshIn'+'stance'](_0x23ee2e,_0x5428fd=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x23ee2e,_0x5428fd);}['drawMesh'](_0x3cab3e,_0x13b2ff,_0x20c2c0,_0x5ecf6d=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x13b2ff,_0x20c2c0,_0x3cab3e,null,_0x5ecf6d);}['drawQuad'](_0x9845a1,_0x57d810,_0x648ff6=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x57d810,_0x9845a1,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x648ff6);}['drawTextur'+'e'](_0x4a3884,_0x11a137,_0x3c4d81,_0x19c86b,_0x2800ff,_0xe601f0,_0x1460c1=this['scene']['defaultDra'+'wLayer'],_0x2a81e1=!(-0xb48+0x8e0*0x1+0x1*0x268)){if(_0x2a81e1===!(0x1fe4+0xd4*0xc+0x29d3*-0x1)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x155f7d=new q();_0x155f7d['setTRS'](new T(_0x4a3884,_0x11a137,-0x5*0x751+0xdad*0x1+-0x8*-0x2dd),se['IDENTITY'],new T(_0x3c4d81,-_0x19c86b,0xa07+-0x2475*-0x1+-0x2e7c)),_0xe601f0||(_0xe601f0=new Ra(),_0xe601f0['cull']=mt,_0xe601f0['setParamet'+'er']('colorMap',_0x2800ff),_0xe601f0['shaderDesc']=_0x2a81e1?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x2800ff['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0xe601f0['update']()),this['drawQuad'](_0x155f7d,_0xe601f0,_0x1460c1);}['drawDepthT'+'exture'](_0x56dff4,_0x153f41,_0x31116b,_0x2631a0,_0x3fbfac=this['scene']['defaultDra'+'wLayer']){const _0x5cea4e=new Ra();_0x5cea4e['cull']=mt,_0x5cea4e['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x5cea4e['update'](),this['drawTextur'+'e'](_0x56dff4,_0x153f41,_0x31116b,_0x2631a0,null,_0x5cea4e,_0x3fbfac);}['destroy'](){var _0x3e7ba1,_0x1053dc,_0x2a58cb,_0x53dc14;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x18f2+0x19d1+-0xdf);return;}const _0x5e3788=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2044+0x213d+-0xf8)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x3a8+0x1*0xccb+-0x491*0x2)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*0x1a2d+0x16a6+0x388)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x21f4+0x119c+0x1059))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x35c342=this['assets']['list']();for(let _0x41b72e=0x179*0x11+-0x11e2+-0x1*0x727;_0x41b72e<_0x35c342['length'];_0x41b72e++)_0x35c342[_0x41b72e]['unload'](),_0x35c342[_0x41b72e]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x30fe0f=this['loader']['getHandler']('script');_0x30fe0f==null||_0x30fe0f['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x3e7ba1=this['lightmappe'+'r'])==null||_0x3e7ba1['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x1053dc=this['xr'])==null||_0x1053dc['end'](),(_0x2a58cb=this['xr'])==null||_0x2a58cb['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x53dc14=this['_soundMana'+'ger'])==null||_0x53dc14['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x5e3788]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x2a822e){_0x2a822e['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x2a822e['frameReque'+'stId']),_0x2a822e['frameReque'+'stId']=void(-0x18c9*-0x1+0x22d1*-0x1+0xa08));}['getEntityF'+'romIndex'](_0x5862c8){return this['_entityInd'+'ex'][_0x5862c8];}['_registerS'+'ceneImmedi'+'ate'](_0x90b3ad){this['on']('postrender',_0x90b3ad['immediate']['onPostRend'+'er'],_0x90b3ad['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x1e4a86){const _0x387d30=_0x1e4a86;return function(_0x15bf69,_0x18a119){var _0x48e175,_0x23269c,_0x5eda75,_0x5adad4;if(!_0x387d30['graphicsDe'+'vice'])return;_0x387d30['frameReque'+'stId']&&((_0x23269c=(_0x48e175=_0x387d30['xr'])==null?void(0x1*-0x2393+-0x3*0x25f+0x2ab0):_0x48e175['session'])==null||_0x23269c['cancelAnim'+'ationFrame'](_0x387d30['frameReque'+'stId']),cancelAnimationFrame(_0x387d30['frameReque'+'stId']),_0x387d30['frameReque'+'stId']=null),_0x387d30['_inFrameUp'+'date']=!(0xa0*-0x5+0x6b*0x3a+-0x6a*0x33),qu(_0x387d30);const _0x50686d=_0x387d30['_processTi'+'mestamp'](_0x15bf69)||ne(),_0xd4a73e=_0x50686d-(_0x387d30['_time']||_0x50686d);let _0x28a418=_0xd4a73e/(0x2e6+-0x2d4*-0x8+0x159e*-0x1);if(_0x28a418=N['clamp'](_0x28a418,0x2357*0x1+0x207d+-0x43d4,_0x387d30['maxDeltaTi'+'me']),_0x28a418*=_0x387d30['timeScale'],_0x387d30['_time']=_0x50686d,(_0x5eda75=_0x387d30['xr'])!=null&&_0x5eda75['session']?_0x387d30['frameReque'+'stId']=_0x387d30['xr']['session']['requestAni'+'mationFram'+'e'](_0x387d30['tick']):_0x387d30['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x387d30['tick']):null,_0x387d30['graphicsDe'+'vice']['contextLos'+'t'])return;_0x387d30['_fillFrame'+'StatsBasic'](_0x50686d,_0x28a418,_0xd4a73e),_0x387d30['_fillFrame'+'Stats'](),_0x387d30['fire']('frameupdat'+'e',_0xd4a73e);let _0x35ac06=!(-0x214*-0x8+0x1d*0x13a+-0x3432);_0x18a119?(_0x35ac06=(_0x5adad4=_0x387d30['xr'])==null?void(-0x1932+0x1e9*0x6+0xdbc):_0x5adad4['update'](_0x18a119),_0x387d30['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x18a119['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x387d30['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x35ac06&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x387d30['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0x51+-0xe9*0x1c+0x19cf)+'ms'),_0x387d30['update'](_0x28a418),_0x387d30['fire']('framerende'+'r'),(_0x387d30['autoRender']||_0x387d30['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](-0xb4d*-0x1+0x5e6+0x5bb*-0x3)+'ms'),_0x387d30['updateCanv'+'asSize'](),_0x387d30['frameStart'](),_0x387d30['render'](),_0x387d30['frameEnd'](),_0x387d30['renderNext'+'Frame']=!(0xe14+0x6*-0x449+0xba3),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x349*0x5+0x935+0x290*-0xa)+'ms')),jd['timestamp']=ne(),jd['target']=_0x387d30,_0x387d30['fire']('frameend',jd)),_0x387d30['_inFrameUp'+'date']=!(0x12e1+-0x59a*0x3+0x2*-0x109),_0x387d30['_destroyRe'+'quested']&&_0x387d30['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class W0{constructor(_0x546392,_0x1001a4,_0x52a0b3){this['scene']=_0x546392,this['light']=_0x1001a4,this['store'](),_0x1001a4['numCascade'+'s']=-0x83*-0x15+0x17*0xca+0x2*-0xe72,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x1001a4['castShadow'+'s']=_0x1001a4['bakeShadow'+'s']&&_0x52a0b3['shadowsEna'+'bled']),_0x1001a4['type']!==oe&&(_0x1001a4['_node']['getWorldTr'+'ansform'](),_0x1001a4['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x29b8b0=this['light'];_0x29b8b0['mask']=this['mask'],_0x29b8b0['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x29b8b0['enabled']=this['enabled'],_0x29b8b0['intensity']=this['intensity'],_0x29b8b0['_node']['setLocalRo'+'tation'](this['rotation']),_0x29b8b0['numCascade'+'s']=this['numCascade'+'s'],_0x29b8b0['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x2*-0x587+0x267f+-0x127*0x2b),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x4dcf01){const _0x58c591=this['light'];_0x58c591['enabled']=!(0x1*0x3f0+-0x19*-0x2a+-0x809),_0x58c591['shadowMap']&&(_0x58c591['shadowMap']['cached']&&_0x4dcf01['add'](_0x58c591,_0x58c591['shadowMap']),_0x58c591['shadowMap']=null);}}const Hl=new W();class mP extends W0{constructor(_0x5d079e,_0x2baeb7){super(_0x5d079e['scene'],_0x2baeb7,_0x5d079e['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:0x10de+-0xb9e*-0x1+-0x1c7b;}['prepareVir'+'tualLight'](_0x1563c5,_0x43fff0){const _0x357187=this['light'];if(_0x357187['_node']['setLocalRo'+'tation'](this['rotation']),_0x1563c5>-0xd14+-0x1487+0x219b){const _0x693476=_0x357187['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x1563c5,_0x43fff0),Hl['mulScalar'](_0x693476*(0x1*0x23bc+-0xab+-0x2311+0.5)),_0x357187['_node']['rotateLoca'+'l'](Hl['x'],-0x24ed*-0x1+0x935*-0x1+-0xddc*0x2,Hl['y']);}_0x357187['_node']['getWorldTr'+'ansform']();const _0x31bd15=-0x14bc+0x383+0x113b*0x1+0.20000000000000018,_0x54d7e4=Math['pow'](this['intensity'],_0x31bd15);_0x357187['intensity']=Math['pow'](_0x54d7e4/_0x43fff0,(-0x2f*-0x11+0x1e97+-0x21b5)/_0x31bd15);}}const X_=new T();class j_ extends W0{constructor(_0x19223e){const _0x28bafc=_0x19223e['scene'],_0x85b4b4=new We('AmbientLig'+'ht');_0x85b4b4['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x591+0x2*0x3a3+-0xcd7),'affectLightmapped':!(-0x8b8+0xec*-0xe+0x15a1),'bake':!(0xdf1+-0x344+-0x1*0xaad),'bakeNumSamples':_0x28bafc['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x5ab+0x274+-0x81f),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0xf35+0x72f*-0x4+0x1b1*0x8)}),super(_0x28bafc,_0x85b4b4['light']['light'],_0x19223e['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x14fd81,_0x4c8f86){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x14fd81,_0x4c8f86,0x1*0xa2c+-0x1eff*-0x1+-0x292b,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0xc66+0x21bb+0x24*-0x148))),this['light']['_node']['rotateLoca'+'l'](-0xc8c+0x1e49+-0x1*0x1163,-0xc9a+-0x3b*0x1b+-0x1*-0x12d3,-0x7d9+0x1a49+0x24e*-0x8);const _0x131cfb=-0x4a*0x27+-0x90e+0x2*0xa2b+0.20000000000000018,_0x3c8218=(-0x5*0x12d+-0x2c1+0x4f*0x1c)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x97abea=Math['pow'](_0x3c8218,_0x131cfb);this['light']['intensity']=Math['pow'](_0x97abea/_0x4c8f86,(0x1e0b+0x2*-0x1239+0x668)/_0x131cfb);}}class Wl{constructor(_0x2fa7b5,_0x112dea=null){this['node']=_0x2fa7b5,this['component']=_0x2fa7b5['render']||_0x2fa7b5['model'],_0x112dea=_0x112dea||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x112dea,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0xfd9*0x1+-0x2199+-0x11cf*-0x1;class _P{constructor(_0x2a6a37){this['device']=_0x2a6a37,this['shaderDila'+'te']=Is(_0x2a6a37,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x2a6a37['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x2a6a37['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0xc*0x2eb+0x2fc*0xa+0x52e),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x326357){this['constantTe'+'xSource']['setValue'](_0x326357);}['prepare'](_0x3b83a5,_0x30b131){this['pixelOffse'+'t'][-0x2*-0x6cd+0x16f5*0x1+-0x1*0x248f]=(-0x1*-0x9c7+-0xd*0x76+-0x3c8)/_0x3b83a5,this['pixelOffse'+'t'][0x1*-0x10cb+0x19*-0x17b+0x2d5*0x13]=(0x1*-0x1fcd+0xa36+0x1598)/_0x30b131,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x456fee,_0x31e8c3,_0x209037){const _0xf7368b=_0x209037?-0x1*-0x10b5+-0x1*0x1408+0x353:-0x4*-0x482+0x773*-0x1+-0xa94;if(!this['shaderDeno'+'ise'][_0xf7368b]){const _0x2f58da='lmBilatera'+'lDeNoise-'+(_0x209037?'hdr':'rgbm'),_0x10a762=_0x209037?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0xf7368b]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x10a762+vo['bilateralD'+'eNoisePS'],_0x2f58da),this['sigmas']=new Float32Array(0x687+-0x7*-0x593+-0x2d8a),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x2*-0x8b5+-0x1fae+0xe44]=_0x456fee,this['sigmas'][-0x3a1+-0x22d2*0x1+-0x2e*-0xd6]=_0x31e8c3,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x456fee,_0x31e8c3);}['getDenoise'](_0x167d0f){const _0x46c11c=_0x167d0f?0x5f1+0x21c3+-0x21*0x134:0xbc9+-0x512+0x2*-0x35b;return this['shaderDeno'+'ise'][_0x46c11c];}['getDilate'](_0x488734,_0x20aea6){const _0x20f6fb=_0x20aea6?0x13*0x79+0x9e9+-0x64c*0x3:-0xa4+-0x1*0x116+-0x1bb*-0x1;if(!this['shaderDila'+'te'][_0x20f6fb]){const _0x49408f='lmDilate-'+(_0x20aea6?'hdr':'rgbm'),_0x400590=_0x20aea6?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x20f6fb]=Is(_0x488734,X['fullscreen'+'QuadVS'],_0x400590+vo['dilatePS'],_0x49408f);}return this['shaderDila'+'te'][_0x20f6fb];}['evaluateDe'+'noiseUnifo'+'rms'](_0x566901,_0x544637){function _0x449a57(_0x4cb8b4,_0x1cf81b){return(-0x1b9*0x3+-0xe4e+-0x1379*-0x1+0.39894)*Math['exp'](-(-0x1e12+-0x103+0x1f15+0.5)*_0x4cb8b4*_0x4cb8b4/(_0x1cf81b*_0x1cf81b))/_0x1cf81b;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x372818=this['kernel'],_0x18dd61=Math['floor']((Y_-(0x5*-0x115+0xa22+0x97*-0x8))/(-0x170f+0x252f+-0xe1e));for(let _0x1b29a4=-0x2413+0x646+0x1dcd*0x1;_0x1b29a4<=_0x18dd61;++_0x1b29a4){const _0x4dd28d=_0x449a57(_0x1b29a4,_0x566901);_0x372818[_0x18dd61+_0x1b29a4]=_0x4dd28d,_0x372818[_0x18dd61-_0x1b29a4]=_0x4dd28d;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x4c5902=(-0x23ad+0x1826+0xb88)/_0x449a57(0xb4b+0x178*-0x4+-0x56b,_0x544637);this['bZnorm']['setValue'](_0x4c5902);}}class gP extends ds{constructor(_0x12f221,_0x59f541,_0x12d699,_0x51700b,_0x16a950,_0x4e3365){super(_0x12f221),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x59f541,this['camera']=_0x12d699,this['worldClust'+'ers']=_0x51700b,this['receivers']=_0x16a950,this['lightArray']=_0x4e3365);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x8c2823=>{_0x8c2823['defaultUni'+'formBuffer']['destroy'](),_0x8c2823['destroy']();}),this['viewBindGr'+'oups']['length']=-0x9*-0x23b+-0x11ff*-0x1+-0x2612;}['execute'](){const _0x95365d=this['device'];G['pushGpuMar'+'ker'](_0x95365d,'Lightmappe'+'r');const {renderer:_0x479b67,camera:_0x4d74ad,receivers:_0xb2cc5e,renderTarget:_0x4124fa,worldClusters:_0x30c9ae,lightArray:_0xeb6078}=this;_0x479b67['renderForw'+'ardLayer'](_0x4d74ad,_0x4124fa,null,void(-0x3d*-0x9c+0x6*0x29b+-0x34ce),gn,this['viewBindGr'+'oups'],{'meshInstances':_0xb2cc5e,'splitLights':_0xeb6078,'lightClusters':_0x30c9ae}),G['popGpuMark'+'er'](_0x95365d);}}const yP=-0x22c+0x22b8+-0x188c,xP=-0x1247+-0xcdc+0x1*0x1f23,SP=0x35*-0xa7+-0x1*-0x16f5+0xaf*0x11,$l=new T();class vP{constructor(_0x13d892,_0x4b872a,_0x1945e8,_0x3f88ca,_0x2273a0){this['device']=_0x13d892,this['root']=_0x4b872a,this['scene']=_0x1945e8,this['renderer']=_0x3f88ca,this['assets']=_0x2273a0,this['shadowMapC'+'ache']=_0x3f88ca['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x748+-0xcfc+-0x1*-0x5b5),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x14c989;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x14c989=this['camera'])==null||_0x14c989['destroy'](),this['camera']=null;}['initBake'](_0x1ae2cf){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x2218+0x20a3+0x42bb*-0x1),this['lightmapFi'+'lters']=new _P(_0x1ae2cf),this['constantBa'+'keDir']=_0x1ae2cf['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x519376=new ol();_0x519376['clearColor']['set'](0xd2*-0x16+0x2bd*0xa+-0x956,-0x24d2+-0x229*0xc+0xa75*0x6,-0xf31+0x14f7+0x5c6*-0x1,0x237b+0x1c0f+-0x3f8a),_0x519376['clearColor'+'Buffer']=!(0x73*0x41+0x11f*0x7+0x250c*-0x1),_0x519376['clearDepth'+'Buffer']=!(0x168*-0xd+0x79*0x52+-0x1*0x1479),_0x519376['clearStenc'+'ilBuffer']=!(0xe47+-0x13e+-0xd08*0x1),_0x519376['frustumCul'+'ling']=!(0x1679+0x3bf+-0x1a37),_0x519376['projection']=ua,_0x519376['aspectRati'+'o']=-0x1b33+-0x1657+0x318b,_0x519376['node']=new De(),this['camera']=_0x519376,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x1be47b=new L0(_0x1ae2cf['supportsAr'+'eaLights'],_0x1ae2cf['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x1be47b;const _0xad27c0=this['scene']['lighting'];_0x1be47b['shadowsEna'+'bled']=_0xad27c0['shadowsEna'+'bled'],_0x1be47b['shadowAtla'+'sResolutio'+'n']=_0xad27c0['shadowAtla'+'sResolutio'+'n'],_0x1be47b['cookiesEna'+'bled']=_0xad27c0['cookiesEna'+'bled'],_0x1be47b['cookieAtla'+'sResolutio'+'n']=_0xad27c0['cookieAtla'+'sResolutio'+'n'],_0x1be47b['areaLights'+'Enabled']=_0xad27c0['areaLights'+'Enabled'],_0x1be47b['cells']=new T(-0x13*-0x17b+0xe27+0x3*-0xe17,-0x25e+-0x1380+0x15e1,0xa25+-0xb66+0x144),_0x1be47b['maxLightsP'+'erCell']=0x2576+-0x77f*-0x1+-0x2cf1,this['worldClust'+'ers']=new zu(_0x1ae2cf),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x33cd0b){this['materials']=[];function _0x4c49f6(_0x306f0d){Si['decRef'](_0x306f0d['colorBuffe'+'r']),_0x306f0d['destroy']();}this['renderTarg'+'ets']['forEach'](_0x62395d=>{_0x4c49f6(_0x62395d);}),this['renderTarg'+'ets']['clear'](),_0x33cd0b['forEach'](_0x260863=>{_0x260863['renderTarg'+'ets']['forEach'](_0x3e265d=>{_0x4c49f6(_0x3e265d);}),_0x260863['renderTarg'+'ets']['length']=0x4a+-0xb32+0xae8;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x24df09,_0x1b4b84,_0x3a623e,_0x56fca4){const _0x50fbf2=new cs();_0x50fbf2['name']='lmMaterial'+'-pass:'+_0x3a623e+'-ambient:'+_0x56fca4,_0x50fbf2['chunks']['APIVersion']=hi;const _0x1762ba='#define\x20UV'+'1LAYOUT\x0a';if(_0x50fbf2['chunks']['transformV'+'S']=_0x1762ba+X['transformV'+'S'],_0x3a623e===xP){let _0x49de7d=vo['bakeLmEndP'+'S'];_0x56fca4?_0x49de7d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x1b4b84['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](-0xada+-0x1*0x1285+-0x10*-0x1d6)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x1b4b84['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x209a+0x2*0x4f6+-0x2a85)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x49de7d:_0x50fbf2['ambient']=new Y(-0x22d0*-0x1+0x92d+0x1*-0x2bfd,-0x25cf*0x1+0x21b0+-0xd3*-0x5,0x1c3*-0x7+0x3*-0x18a+-0x10f3*-0x1),_0x50fbf2['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x50fbf2['chunks']['endPS']=_0x49de7d,_0x50fbf2['lightMap']=this['blackTex'];}else _0x50fbf2['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x50fbf2['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x50fbf2['chunks']['outputAlph'+'aPS']='\x0a',_0x50fbf2['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x50fbf2['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x50fbf2['cull']=mt,_0x50fbf2['forceUv1']=!(0x1*0x1946+-0x15c5+0xd*-0x45),_0x50fbf2['update'](),_0x50fbf2;}['createMate'+'rials'](_0x18bd5e,_0x432f64,_0x4d4ab2){for(let _0xdb91ad=0x1af2+-0x9*0x19+-0x1*0x1a11;_0xdb91ad<_0x4d4ab2;_0xdb91ad++)this['passMateri'+'als'][_0xdb91ad]||(this['passMateri'+'als'][_0xdb91ad]=this['createMate'+'rialForPas'+'s'](_0x18bd5e,_0x432f64,_0xdb91ad,!(0x1e3e+-0xef*0x11+-0xe5e)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x18bd5e,_0x432f64,-0x25ab+0xc1a*0x3+0x15d,!(-0x2d1+0x10fd*0x1+-0xe2c)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x5037c0){return _0x5037c0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x246c+-0xaf0+0x2f5c),_0x5037c0['litOptions']['separateAm'+'bient']=!(-0x31f+0x1092+0xb*-0x139),_0x5037c0;});}['createText'+'ure'](_0x2e800f,_0x5aa4c2){return new he(this['device'],{'profilerHint':Oy,'width':_0x2e800f,'height':_0x2e800f,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x2187+-0x1d+0x21a5*0x1),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x5aa4c2});}['collectMod'+'els'](_0x46401c,_0x15f298,_0x5d69bf){var _0x4449ff,_0xf67759,_0x2a8a7b;if(!_0x46401c['enabled'])return;let _0x16bf7e;if((_0x4449ff=_0x46401c['model'])!=null&&_0x4449ff['model']&&((_0xf67759=_0x46401c['model'])!=null&&_0xf67759['enabled'])&&(_0x5d69bf&&_0x5d69bf['push'](new Wl(_0x46401c)),_0x46401c['model']['lightmappe'+'d']&&_0x15f298&&(_0x16bf7e=_0x46401c['model']['model']['meshInstan'+'ces'])),(_0x2a8a7b=_0x46401c['render'])!=null&&_0x2a8a7b['enabled']&&(_0x5d69bf&&_0x5d69bf['push'](new Wl(_0x46401c)),_0x46401c['render']['lightmappe'+'d']&&_0x15f298&&(_0x16bf7e=_0x46401c['render']['meshInstan'+'ces'])),_0x16bf7e){let _0x258c20=!(0x182c+0x7b2+-0x1fde);for(let _0x2b3fa2=-0xbe2+-0x6cb*0x4+0x270e;_0x2b3fa2<_0x16bf7e['length'];_0x2b3fa2++)if(!_0x16bf7e[_0x2b3fa2]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x46401c['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x258c20=!(-0x5*-0x517+-0x248+0x2*-0xb95);break;}if(_0x258c20){const _0x269265=[];for(let _0x47945d=0x5*-0x742+-0xb80+0x2fca;_0x47945d<_0x16bf7e['length'];_0x47945d++){const _0x40761b=_0x16bf7e[_0x47945d]['mesh'];this['_tempSet']['has'](_0x40761b)?_0x15f298['push'](new Wl(_0x46401c,[_0x16bf7e[_0x47945d]])):_0x269265['push'](_0x16bf7e[_0x47945d]),this['_tempSet']['add'](_0x40761b);}this['_tempSet']['clear'](),_0x269265['length']>-0x10*0x17e+-0xd5c+0x1*0x253c&&_0x15f298['push'](new Wl(_0x46401c,_0x269265));}}for(let _0x2a9218=-0x324*0x4+0x1c2c+-0xf9c;_0x2a9218<_0x46401c['_children']['length'];_0x2a9218++)this['collectMod'+'els'](_0x46401c['_children'][_0x2a9218],_0x15f298,_0x5d69bf);}['prepareSha'+'dowCasters'](_0x327ce9){const _0xed97ce=[];for(let _0x59deff=-0x72*0x13+-0x1*-0x788+0xee;_0x59deff<_0x327ce9['length'];_0x59deff++){const _0x1f766b=_0x327ce9[_0x59deff]['component'];if(_0x1f766b['castShadow'+'s']=_0x1f766b['castShadow'+'sLightmap'],_0x1f766b['castShadow'+'sLightmap']){const _0x1c90ff=_0x327ce9[_0x59deff]['meshInstan'+'ces'];for(let _0x43d9db=0xf29+0x1da9+-0x2cd2;_0x43d9db<_0x1c90ff['length'];_0x43d9db++)_0x1c90ff[_0x43d9db]['visibleThi'+'sFrame']=!(-0x21b1+-0x5c1+0x2772),_0xed97ce['push'](_0x1c90ff[_0x43d9db]);}}return _0xed97ce;}['updateTran'+'sforms'](_0x38a579){for(let _0x422aed=0x1*0x9c5+0xdb*-0x3+0x1*-0x734;_0x422aed<_0x38a579['length'];_0x422aed++){const _0x1b9200=_0x38a579[_0x422aed]['meshInstan'+'ces'];for(let _0x270bd8=0x1033+-0x2*-0x10d+-0x1*0x124d;_0x270bd8<_0x1b9200['length'];_0x270bd8++)_0x1b9200[_0x270bd8]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x5c050a){let _0x2c4123;const _0x301ffa=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x19cf+-0xb3*-0x2f+0x4*-0xea7,_0x22e83e=$l;let _0x1c1ec5,_0x5bf3dd;_0x5c050a['model']?(_0x5bf3dd=_0x5c050a['model']['lightmapSi'+'zeMultipli'+'er'],_0x5c050a['model']['asset']?(_0x2c4123=this['assets']['get'](_0x5c050a['model']['asset'])['data'],_0x2c4123['area']&&(_0x1c1ec5=_0x2c4123['area'])):_0x5c050a['model']['_area']&&(_0x2c4123=_0x5c050a['model'],_0x2c4123['_area']&&(_0x1c1ec5=_0x2c4123['_area']))):_0x5c050a['render']&&(_0x5bf3dd=_0x5c050a['render']['lightmapSi'+'zeMultipli'+'er'],_0x5c050a['render']['type']!=='asset'&&_0x5c050a['render']['_area']&&(_0x2c4123=_0x5c050a['render'],_0x2c4123['_area']&&(_0x1c1ec5=_0x2c4123['_area'])));const _0x424e83={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x1c1ec5&&(_0x424e83['x']=_0x1c1ec5['x'],_0x424e83['y']=_0x1c1ec5['y'],_0x424e83['z']=_0x1c1ec5['z'],_0x424e83['uv']=_0x1c1ec5['uv']);const _0x1b0efe=_0x5bf3dd||0x2*0xed4+0xb*-0x101+-0x129c;_0x424e83['x']*=_0x1b0efe,_0x424e83['y']*=_0x1b0efe,_0x424e83['z']*=_0x1b0efe;const _0x520e1c=_0x5c050a['render']||_0x5c050a['model'],_0x5013d8=this['computeNod'+'eBounds'](_0x520e1c['meshInstan'+'ces']);_0x22e83e['copy'](_0x5013d8['halfExtent'+'s']);let _0x189715=_0x424e83['x']*_0x22e83e['y']*_0x22e83e['z']+_0x424e83['y']*_0x22e83e['x']*_0x22e83e['z']+_0x424e83['z']*_0x22e83e['x']*_0x22e83e['y'];return _0x189715/=_0x424e83['uv'],_0x189715=Math['sqrt'](_0x189715),Math['min'](N['nextPowerO'+'fTwo'](_0x189715*_0x301ffa),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x1eb186,_0x36cc3,_0x119d5b,_0x51dd3e){for(let _0x3e89f1=-0x2319*0x1+0x17*-0x14e+0x411b*0x1;_0x3e89f1<_0x1eb186['length'];_0x3e89f1++){const _0x182d55=_0x1eb186[_0x3e89f1],_0x2a1a76=_0x182d55['meshInstan'+'ces'];for(let _0x453478=0x1*0x1a89+-0x4*-0xc1+-0x5e9*0x5;_0x453478<_0x2a1a76['length'];_0x453478++){const _0x3e821a=_0x2a1a76[_0x453478];if(_0x3e821a['setLightma'+'pped'](_0x36cc3),_0x36cc3){_0x51dd3e&&(_0x3e821a['_shaderDef'+'s']|=_0x51dd3e),_0x3e821a['mask']=cr;for(let _0x50eb55=0x7f6+0x2505+-0x8ff*0x5;_0x50eb55<_0x119d5b;_0x50eb55++){const _0x147d13=_0x182d55['renderTarg'+'ets'][_0x50eb55]['colorBuffe'+'r'];_0x147d13['minFilter']=st,_0x147d13['magFilter']=st,_0x3e821a['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x50eb55],_0x147d13);}}}}}['bake'](_0x1d78ba,_0x521f6d=ch){const _0x264d52=this['device'],_0x156459=ne();this['scene']['_updateSky'+'Mesh'](),_0x264d52['fire']('lightmappe'+'r:start',{'timestamp':_0x156459,'target':this}),this['stats']['renderPass'+'es']=-0x7a*-0x4a+-0x51b+-0x1*0x1e29,this['stats']['shadowMapT'+'ime']=0x2b*0x59+0x970*-0x2+0x3ed,this['stats']['forwardTim'+'e']=-0x19cc+0x21db+-0x80f;const _0x42f68c=_0x264d52['_shaderSta'+'ts']['linked'],_0x90861d=_0x264d52['_renderTar'+'getCreatio'+'nTime'],_0x5a3b8e=_0x264d52['_shaderSta'+'ts']['compileTim'+'e'],_0x3e9b74=[],_0x53f2bb=[];if(_0x1d78ba){for(let _0x5b223d=-0x7b5*0x4+0x1857+-0x1*-0x67d;_0x5b223d<_0x1d78ba['length'];_0x5b223d++)this['collectMod'+'els'](_0x1d78ba[_0x5b223d],_0x3e9b74,null);this['collectMod'+'els'](this['root'],null,_0x53f2bb);}else this['collectMod'+'els'](this['root'],_0x3e9b74,_0x53f2bb);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x3e9b74['length']>-0x3c6*0x9+0x1*0x1fda+0x21c){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x2a5d14=_0x521f6d===ch?0x1*-0x1849+-0x12b9+0x2b04:-0x112+-0xbaa+-0x3*-0x43f;this['setLightma'+'pping'](_0x3e9b74,!(0x19ce+-0x82*0x5+0xf*-0x18d),_0x2a5d14),this['initBake'](_0x264d52),this['bakeIntern'+'al'](_0x2a5d14,_0x3e9b74,_0x53f2bb);let _0x21923b=Fu;_0x521f6d===ch&&(_0x21923b|=y0),this['scene']['ambientBak'+'e']&&(_0x21923b|=x0),this['setLightma'+'pping'](_0x3e9b74,!(-0xabd*-0x3+0xefb*-0x1+-0x113c),_0x2a5d14,_0x21923b),this['finishBake'](_0x3e9b74);}G['popGpuMark'+'er'](this['device']);const _0x14cebd=ne();this['stats']['totalRende'+'rTime']=_0x14cebd-_0x156459,this['stats']['shadersLin'+'ked']=_0x264d52['_shaderSta'+'ts']['linked']-_0x42f68c,this['stats']['compileTim'+'e']=_0x264d52['_shaderSta'+'ts']['compileTim'+'e']-_0x5a3b8e,this['stats']['fboTime']=_0x264d52['_renderTar'+'getCreatio'+'nTime']-_0x90861d,this['stats']['lightmapCo'+'unt']=_0x3e9b74['length'],_0x264d52['fire']('lightmappe'+'r:end',{'timestamp':_0x14cebd,'target':this});}['allocateTe'+'xtures'](_0x1bc014,_0x3b4f59){for(let _0x19029f=0x1*-0x202+-0x17f8+0x19fa;_0x19029f<_0x1bc014['length'];_0x19029f++){const _0x1367af=_0x1bc014[_0x19029f],_0x5849a1=this['calculateL'+'ightmapSiz'+'e'](_0x1367af['node']);for(let _0x4de4c5=0x1435+-0x962*0x1+-0xad3;_0x4de4c5<_0x3b4f59;_0x4de4c5++){const _0x8a04da=this['createText'+'ure'](_0x5849a1,'lightmappe'+'r_lightmap'+'_'+_0x19029f);Si['incRef'](_0x8a04da),_0x1367af['renderTarg'+'ets'][_0x4de4c5]=new pt({'colorBuffer':_0x8a04da,'depth':!(0x202+-0xc14+0x1*0xa13)});}if(!this['renderTarg'+'ets']['has'](_0x5849a1)){const _0x62a32e=this['createText'+'ure'](_0x5849a1,'lightmappe'+'r_temp_lig'+'htmap_'+_0x5849a1);Si['incRef'](_0x62a32e),this['renderTarg'+'ets']['set'](_0x5849a1,new pt({'colorBuffer':_0x62a32e,'depth':!(0x20e7+-0x205+-0x11*0x1d1)}));}}}['prepareLig'+'htsToBake'](_0x3e04e8,_0x3e70ab){if(this['scene']['ambientBak'+'e']){const _0x4a6778=new j_(this);_0x3e70ab['push'](_0x4a6778);}const _0x124ba6=this['renderer']['lights'];for(let _0x74ec2=0x204+0x3*0x511+-0x3*0x5bd;_0x74ec2<_0x124ba6['length'];_0x74ec2++){const _0x1f5d17=_0x124ba6[_0x74ec2],_0x2f5ed0=new mP(this,_0x1f5d17);_0x3e04e8['push'](_0x2f5ed0),_0x1f5d17['enabled']&&(_0x1f5d17['mask']&rr)!==-0x2160+0x1cec+0x474&&(_0x1f5d17['mask']=rr|cr|hs,_0x1f5d17['shadowUpda'+'teMode']=_0x1f5d17['type']===oe?Pp:cn,_0x3e70ab['push'](_0x2f5ed0));}_0x3e70ab['sort']();}['restoreLig'+'hts'](_0x3fd23f){for(let _0x5ca3f6=0x2*0x311+-0x246e*-0x1+-0x2a90;_0x5ca3f6<_0x3fd23f['length'];_0x5ca3f6++)_0x3fd23f[_0x5ca3f6]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x1ee6+0x49*0x9+-0x2177,0x1*-0xf07+0x2077+-0x1170,-0x1b0e+-0x1ffa+-0x761*-0x8),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x4f9183){const _0x2d273e=new _e();if(_0x4f9183['length']>0x1209+0x1f8d+0x3196*-0x1){_0x2d273e['copy'](_0x4f9183[-0x3a*0x9+0x34c*0x5+0xe72*-0x1]['aabb']);for(let _0x1a488e=-0x4*-0x34+0x1d3b+0x2*-0xf05;_0x1a488e<_0x4f9183['length'];_0x1a488e++)_0x2d273e['add'](_0x4f9183[_0x1a488e]['aabb']);}return _0x2d273e;}['computeNod'+'esBounds'](_0x16f1e6){for(let _0x6009db=0x2*0x52c+-0x1b79+-0x5*-0x36d;_0x6009db<_0x16f1e6['length'];_0x6009db++){const _0x5646d3=_0x16f1e6[_0x6009db]['meshInstan'+'ces'];_0x16f1e6[_0x6009db]['bounds']=this['computeNod'+'eBounds'](_0x5646d3);}}['computeBou'+'nds'](_0x4614c7){const _0x140189=new _e();for(let _0x41c216=-0x1cc7+-0xd9*0x27+0xc5e*0x5;_0x41c216<_0x4614c7['length'];_0x41c216++){_0x140189['copy'](_0x4614c7[-0x11b9+-0xb1*-0x24+-0x72b]['aabb']);for(let _0x298090=0x1fb0+0x23d3+0x21c1*-0x2;_0x298090<_0x4614c7['length'];_0x298090++)_0x140189['add'](_0x4614c7[_0x298090]['aabb']);}return _0x140189;}['backupMate'+'rials'](_0x2dab83){for(let _0x504c33=0x2451+0x2571+-0x49c2;_0x504c33<_0x2dab83['length'];_0x504c33++)this['materials'][_0x504c33]=_0x2dab83[_0x504c33]['material'];}['restoreMat'+'erials'](_0x2bfb62){for(let _0x5f3b36=0x242+0x962*-0x4+0x2346;_0x5f3b36<_0x2bfb62['length'];_0x5f3b36++)_0x2bfb62[_0x5f3b36]['material']=this['materials'][_0x5f3b36];}['lightCamer'+'aPrepare'](_0x46a083,_0x1efca1){const _0x40cae2=_0x1efca1['light'];let _0x36d298;return _0x40cae2['type']===Re&&(_0x36d298=_0x40cae2['getRenderD'+'ata'](null,-0x2*-0x865+0x1*0x1832+0x56*-0x7a)['shadowCame'+'ra'],_0x36d298['_node']['setPositio'+'n'](_0x40cae2['_node']['getPositio'+'n']()),_0x36d298['_node']['setRotatio'+'n'](_0x40cae2['_node']['getRotatio'+'n']()),_0x36d298['_node']['rotateLoca'+'l'](-(0x301*-0x1+0x26f9+-0x239e),0x30c+-0x1*0xcaa+0x99e*0x1,0x5a6+-0x6e5*-0x4+0x2*-0x109d),_0x36d298['projection']=Gs,_0x36d298['nearClip']=_0x40cae2['attenuatio'+'nEnd']/(-0xc7*-0x13+0x930+0x6af*-0x3),_0x36d298['farClip']=_0x40cae2['attenuatio'+'nEnd'],_0x36d298['aspectRati'+'o']=-0x1*-0x1ad7+0x416*-0x1+-0x5b0*0x4,_0x36d298['fov']=_0x40cae2['_outerCone'+'Angle']*(-0x1*0xaba+0x5a4*0x3+-0x630),this['renderer']['updateCame'+'raFrustum'](_0x36d298)),_0x36d298;}['lightCamer'+'aPrepareAn'+'dCull'](_0x557986,_0x4124e1,_0x3435eb,_0x56e7d0){const _0x228fb4=_0x557986['light'];let _0x960dc9=!(-0x42*-0x2+0x3*0xb8c+-0x2328);if(_0x228fb4['type']===oe){$l['copy'](_0x56e7d0['center']),$l['y']+=_0x56e7d0['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n']($l),this['camera']['node']['setEulerAn'+'gles'](-(-0x53*0x25+-0x827*0x3+-0x7*-0x542),0xd01*0x3+0x57+-0x275a,0x1357*0x1+0x1e*-0x7a+-0x1*0x50b),this['camera']['nearClip']=-0x1c43+0xc60+0x31*0x53,this['camera']['farClip']=_0x56e7d0['halfExtent'+'s']['y']*(-0x2376+0xf44+-0x1*-0x1434);const _0x32ccd4=Math['max'](_0x56e7d0['halfExtent'+'s']['x'],_0x56e7d0['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x32ccd4;}else _0x557986['lightBound'+'s']['intersects'](_0x4124e1['bounds'])||(_0x960dc9=!(-0x1063+0x479+-0x1b*-0x71));if(_0x228fb4['type']===Re){let _0x548c07=!(-0x1361+-0x4*-0x6f+0x11a6);const _0x5ba936=_0x4124e1['meshInstan'+'ces'];for(let _0xf901ed=0x20ac+-0xd1c+-0x1390;_0xf901ed<_0x5ba936['length'];_0xf901ed++)if(_0x5ba936[_0xf901ed]['_isVisible'](_0x3435eb)){_0x548c07=!(-0x67*0x5+-0x1c33+0x1e36);break;}_0x548c07||(_0x960dc9=!(0x5fd*-0x1+0x1cd5+-0x16d7*0x1));}return _0x960dc9;}['setupLight'+'Array'](_0x1c6007,_0x46b8ae){_0x1c6007[oe]['length']=-0x2e*0xb5+0xa8f+0x15f7,_0x1c6007[Pe]['length']=-0x2d*0xc4+-0x1f7b*-0x1+0x2f9,_0x1c6007[Re]['length']=-0xa81*0x1+0x3d*-0x1c+0x112d,_0x1c6007[_0x46b8ae['type']][-0x937*0x1+-0x17c3+0x3*0xafe]=_0x46b8ae,_0x46b8ae['visibleThi'+'sFrame']=!(-0x28f*-0x1+0x18f7+-0x1b86);}['renderShad'+'owMap'](_0x242fb1,_0x791cbb,_0x10f8bd,_0x483543){const _0x31bef9=_0x483543['light'],_0x265dad=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x2f7c34=_0x31bef9['castShadow'+'s']&&(!_0x265dad||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x791cbb&&_0x2f7c34){if(!_0x31bef9['shadowMap']&&!_0x265dad&&(_0x31bef9['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x31bef9)),_0x31bef9['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x31bef9,_0x242fb1,this['camera'],_0x10f8bd);const _0xa2e4d4=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x31bef9,this['camera']);_0xa2e4d4==null||_0xa2e4d4['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x74d*-0x3+-0x871*0x3+0x36c);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x31bef9,_0x242fb1,_0x10f8bd),this['renderer']['shadowRend'+'erer']['render'](_0x31bef9,this['camera'],!(-0x1a5+0x1ffe+-0x2*0xf2c));}}return!(-0x1*-0xe4e+-0x5a6*0x5+0x8*0x1be);}['postproces'+'sTextures'](_0x2b441a,_0x74e9e9,_0x1866d9){const _0x5cd649=this['lightmapFi'+'lters']['getDilate'](_0x2b441a,this['bakeHDR']);let _0x500cf5;const _0x5d3d54=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x5d3d54&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x500cf5=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x2b441a['setBlendSt'+'ate'](_t['NOBLEND']),_0x2b441a['setDepthSt'+'ate'](as['NODEPTH']),_0x2b441a['setStencil'+'State'](null,null);for(let _0x360483=-0x173f*0x1+-0x2*-0x97+0x1611;_0x360483<_0x74e9e9['length'];_0x360483++){const _0x14cad0=_0x74e9e9[_0x360483];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x360483);for(let _0x50dd69=-0xed4+-0x1*-0x1c5e+-0xd8a;_0x50dd69<_0x1866d9;_0x50dd69++){const _0x3b1e4f=_0x14cad0['renderTarg'+'ets'][_0x50dd69],_0x5e3b45=_0x3b1e4f['colorBuffe'+'r'],_0x7b13fc=this['renderTarg'+'ets']['get'](_0x5e3b45['width']),_0x4811a3=_0x7b13fc['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x5e3b45['width'],_0x5e3b45['height']);for(let _0x1bf357=-0x5ba*0x3+-0xaad+0x3*0x949;_0x1bf357<0x1*0x1f99+0x1a0b*-0x1+-0x58d;_0x1bf357++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x5e3b45),dn(_0x2b441a,_0x7b13fc,_0x5d3d54&&_0x50dd69===-0x1f41+0x1a99+0x4a8&&_0x1bf357===0x131c+0x29*-0x5e+0xad*-0x6?_0x500cf5:_0x5cd649),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x4811a3),dn(_0x2b441a,_0x3b1e4f,_0x5cd649);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x53a0c0,_0x1a6389,_0x2cab07){const _0x1b3081=this['scene'],_0x2c09ef=_0x1b3081['layers'],_0x4d9951=this['device'],_0x311cbd=_0x1b3081['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x4d9951,_0x1b3081,_0x53a0c0),this['setupScene'](),_0x2c09ef['_update'](),this['computeNod'+'esBounds'](_0x1a6389),this['allocateTe'+'xtures'](_0x1a6389,_0x53a0c0),this['renderer']['collectLig'+'hts'](_0x2c09ef);const _0x387486=[],_0x45e6ab=[];this['prepareLig'+'htsToBake'](_0x387486,_0x45e6ab),this['updateTran'+'sforms'](_0x2cab07);const _0x5c8fc4=this['prepareSha'+'dowCasters'](_0x2cab07);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x5c8fc4),this['renderer']['gpuUpdate'](_0x5c8fc4);const _0x5a0040=this['computeBou'+'nds'](_0x5c8fc4);let _0x1f9739,_0x14f269,_0x46b61b,_0x2b6a00;for(_0x1f9739=-0x1c33*-0x1+0x25c5+-0x41f8;_0x1f9739<_0x1a6389['length'];_0x1f9739++)for(_0x46b61b=_0x1a6389[_0x1f9739]['meshInstan'+'ces'],_0x14f269=0xa46+0x239e+-0x21*0x164;_0x14f269<_0x46b61b['length'];_0x14f269++)_0x2b6a00=_0x46b61b[_0x14f269],_0x2b6a00['setLightma'+'pped'](!(0x49d*0x5+-0x1d5d+0x64d)),_0x2b6a00['mask']=rr,_0x2b6a00['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x29*0xbd+0x1d*0x3e+0x173f],this['blackTex']),_0x2b6a00['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x98e+-0x2527*-0x1+-0x2eb4],this['blackTex']);for(_0x14f269=0x1f2a+0x102e+-0x2f58;_0x14f269<_0x45e6ab['length'];_0x14f269++)_0x45e6ab[_0x14f269]['light']['enabled']=!(-0x595*0x5+-0x75a+0x2344);const _0xa1b638=[[],[],[]];let _0x1a9ad2,_0x46f83e,_0x40999d=!(-0x77f+0x1e6d+-0x16ed);for(_0x1f9739=-0xa95+-0x1196+0x1c2b;_0x1f9739<_0x45e6ab['length'];_0x1f9739++){const _0x882780=_0x45e6ab[_0x1f9739],_0x32464a=_0x882780 instanceof j_,_0x45e7e0=_0x882780['light']['type']===oe;let _0xca8668=_0x882780['numVirtual'+'Lights'];_0x53a0c0>-0x49*-0x4a+0x13*0xe9+0x999*-0x4&&_0xca8668>0x1*0x1407+0x1*-0x138b+0x7b*-0x1&&_0x882780['light']['bakeDir']&&(_0xca8668=-0x1*0x7ec+-0x22*0xb5+0x1ff7,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x423acc=0xb32+-0x1f*0x33+-0x1*0x505;_0x423acc<_0xca8668;_0x423acc++){G['pushGpuMar'+'ker'](_0x4d9951,'Light:'+_0x882780['light']['_node']['name']+':'+_0x423acc),_0xca8668>0x18e2+0x61b+-0x1efc*0x1&&_0x882780['prepareVir'+'tualLight'](_0x423acc,_0xca8668),_0x882780['startBake']();let _0x1d1a29=!(-0x214f+0x5f5+0x1b5b);const _0x4dfd7e=this['lightCamer'+'aPrepare'](_0x4d9951,_0x882780);for(_0x46f83e=0x15f8+-0x2b*-0x1+-0x1623*0x1;_0x46f83e<_0x1a6389['length'];_0x46f83e++){const _0x40ab0f=_0x1a6389[_0x46f83e];if(_0x46b61b=_0x40ab0f['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x882780,_0x40ab0f,_0x4dfd7e,_0x5a0040))continue;this['setupLight'+'Array'](_0xa1b638,_0x882780['light']);const _0x2df7c0=_0x45e7e0?[]:[_0x882780['light']];for(_0x311cbd&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x2df7c0,this['lightingPa'+'rams']),_0x1d1a29=this['renderShad'+'owMap'](_0x2c09ef,_0x1d1a29,_0x5c8fc4,_0x882780),_0x311cbd&&this['worldClust'+'ers']['update'](_0x2df7c0,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x46b61b),_0x1a9ad2=-0x2568+-0xbc6+0x5*0x9d6;_0x1a9ad2<_0x53a0c0&&!(_0x1a9ad2>0x2*0x10bd+-0x1693+-0xae7&&_0x423acc>-0x7da+0x33b*0x9+-0x1539*0x1||_0x32464a&&_0x1a9ad2>0x426*-0x8+0xb0d*0x1+0x1623);_0x1a9ad2++){G['pushGpuMar'+'ker'](_0x4d9951,'LMPass:'+_0x1a9ad2);const _0xb2fe7a=_0x40ab0f['renderTarg'+'ets'][_0x1a9ad2],_0x1f6e54=_0x40ab0f['renderTarg'+'ets'][_0x1a9ad2]['colorBuffe'+'r']['width'],_0x1cd4b6=this['renderTarg'+'ets']['get'](_0x1f6e54),_0xf419d3=_0x1cd4b6['colorBuffe'+'r'];_0x1a9ad2===-0x104d*-0x1+0x2*0x1e1+0x18b*-0xd?_0x40999d=_0x1b3081['updateShad'+'ers']:_0x40999d&&(_0x1b3081['updateShad'+'ers']=!(-0x10eb+-0x526*-0x6+-0xdf9));let _0x129592=this['passMateri'+'als'][_0x1a9ad2];for(_0x32464a&&_0x423acc+(-0x261d*-0x1+-0x7be*0x3+-0xee2)===_0xca8668&&_0x1a9ad2===-0x180b+0x2*-0x812+0x282f&&(_0x129592=this['ambientAOM'+'aterial']),_0x14f269=-0x15bb*-0x1+-0x1fad+-0x1*-0x9f2;_0x14f269<_0x46b61b['length'];_0x14f269++)_0x46b61b[_0x14f269]['material']=_0x129592;if(this['renderer']['updateShad'+'ers'](_0x46b61b),_0x1a9ad2===SP&&this['constantBa'+'keDir']['setValue'](_0x882780['light']['bakeDir']?-0x9*-0x54+0x1cf9+-0x1fec:0x25*0x37+-0xda+-0x719),_0x4d9951['isWebGPU']){const _0x785eb2=new gP(_0x4d9951,this['renderer'],this['camera'],_0x311cbd?this['worldClust'+'ers']:null,_0x46b61b,_0xa1b638);_0x785eb2['init'](_0x1cd4b6),_0x785eb2['render'](),_0x785eb2['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x1cd4b6,!(-0x221*-0x5+0x1586+-0x202b)),_0x311cbd&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0xb01*-0x3+0x94+-0x1b5*-0x13,this['renderer']['_shadowMap'+'Time']=-0x2193+-0x11d2+0x3b*0xdf,this['renderer']['renderForw'+'ard'](this['camera'],_0x1cd4b6,_0x46b61b,_0xa1b638,gn),_0x4d9951['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x40ab0f['renderTarg'+'ets'][_0x1a9ad2]=_0x1cd4b6,this['renderTarg'+'ets']['set'](_0x1f6e54,_0xb2fe7a),_0x14f269=-0x605*-0x4+-0x1987*-0x1+-0x319b;_0x14f269<_0x46b61b['length'];_0x14f269++)_0x2b6a00=_0x46b61b[_0x14f269],_0x2b6a00['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x1a9ad2],_0xf419d3),_0x2b6a00['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x4d9951);}this['restoreMat'+'erials'](_0x46b61b);}_0x882780['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x4d9951);}}for(this['postproces'+'sTextures'](_0x4d9951,_0x1a6389,_0x53a0c0),_0x46f83e=0xdc+0xb67+-0xc43;_0x46f83e<_0x2cab07['length'];_0x46f83e++)_0x2cab07[_0x46f83e]['restore']();this['restoreLig'+'hts'](_0x387486),this['restoreSce'+'ne'](),_0x311cbd||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x4ded48,_0x348be3){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x4ded48,this['entity']=_0x348be3,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x320125,_0x152afe,_0x3101f5){this['fire']('set_'+_0x320125,_0x320125,_0x152afe,_0x3101f5);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x602d67,_0x2cd899){_0x2cd899['forEach'](_0x18573b=>{const _0x2508e2=typeof _0x18573b=='object'?_0x18573b['name']:_0x18573b;Object['defineProp'+'erty'](_0x602d67,_0x2508e2,{'get':function(){return this['data'][_0x2508e2];},'set':function(_0x575a37){const _0x1600f0=this['data'],_0x1b3bf8=_0x1600f0[_0x2508e2];_0x1600f0[_0x2508e2]=_0x575a37,this['fire']('set',_0x2508e2,_0x1b3bf8,_0x575a37);},'configurable':!(0xa78*0x2+-0x1b9a+-0x1*-0x6aa)});}),_0x602d67['_accessors'+'Built']=!(0x1e62+0x1575+0x33d7*-0x1);}['buildAcces'+'sors'](_0x1c1243){oc['_buildAcce'+'ssors'](this,_0x1c1243);}['onSetEnabl'+'ed'](_0x549997,_0x5b05d6,_0x398348){_0x5b05d6!==_0x398348&&this['entity']['enabled']&&(_0x398348?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x5e4e94=this['system']['store'][this['entity']['getGuid']()];return _0x5e4e94?_0x5e4e94['data']:null;}set['enabled'](_0x42addd){}get['enabled'](){return!(0x1*-0xf04+-0x11f2+0x20f6);}};c(oc,'order',-0x1d*-0x83+0x1166+0x3f*-0x83);let ue=oc;class Xe extends ce{constructor(_0x4d0eed){super(),this['app']=_0x4d0eed,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x320bf3,_0x40f96d={}){const _0x27967d=new this['ComponentT'+'ype'](this,_0x320bf3),_0x2cfdee=new this['DataType']();return this['store'][_0x320bf3['getGuid']()]={'entity':_0x320bf3,'data':_0x2cfdee},_0x320bf3[this['id']]=_0x27967d,_0x320bf3['c'][this['id']]=_0x27967d,this['initialize'+'ComponentD'+'ata'](_0x27967d,_0x40f96d,[]),this['fire']('add',_0x320bf3,_0x27967d),_0x27967d;}['removeComp'+'onent'](_0x2cabc0){const _0x5a42fc=this['id'],_0x1bff7a=this['store'][_0x2cabc0['getGuid']()],_0x4ee102=_0x2cabc0['c'][_0x5a42fc];_0x4ee102['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x2cabc0,_0x4ee102),delete this['store'][_0x2cabc0['getGuid']()],_0x2cabc0[_0x5a42fc]=void(0x1*0x62+-0x24fc+0x249a),delete _0x2cabc0['c'][_0x5a42fc],this['fire']('remove',_0x2cabc0,_0x1bff7a['data']);}['cloneCompo'+'nent'](_0xc073c5,_0x509361){const _0x206ef6=this['store'][_0xc073c5['getGuid']()];return this['addCompone'+'nt'](_0x509361,_0x206ef6['data']);}['initialize'+'ComponentD'+'ata'](_0x5dc9d7,_0x3219b2={},_0x4a9f98){for(let _0x524327=-0x18aa+-0x8fa+-0x21a4*-0x1,_0x2d8bf9=_0x4a9f98['length'];_0x524327<_0x2d8bf9;_0x524327++){const _0x58f0a9=_0x4a9f98[_0x524327];let _0x65e4dd,_0xfdf13b;typeof _0x58f0a9=='object'?(_0x65e4dd=_0x58f0a9['name'],_0xfdf13b=_0x58f0a9['type']):(_0x65e4dd=_0x58f0a9,_0xfdf13b=void(-0x31*-0x13+-0x1*0x9f5+0x652));let _0x5344dd=_0x3219b2[_0x65e4dd];_0x5344dd!==void(0x1*-0x3e+0x1273*-0x1+-0x1b3*-0xb)?(_0xfdf13b!==void(0xe3a*0x1+-0x15f8*-0x1+-0x2432)&&(_0x5344dd=bP(_0x5344dd,_0xfdf13b)),_0x5dc9d7[_0x65e4dd]=_0x5344dd):_0x5dc9d7[_0x65e4dd]=_0x5dc9d7['data'][_0x65e4dd];}_0x5dc9d7['enabled']&&_0x5dc9d7['entity']['enabled']&&_0x5dc9d7['onEnable']();}['getPropert'+'iesOfType'](_0x45e77e){const _0x128936=[];return(this['schema']||[])['forEach'](_0x306610=>{_0x306610&&typeof _0x306610=='object'&&_0x306610['type']===_0x45e77e&&_0x128936['push'](_0x306610);}),_0x128936;}['destroy'](){this['off']();}}function bP(_0x2830a5,_0x2368d4){if(!_0x2830a5)return _0x2830a5;switch(_0x2368d4){case'rgb':return _0x2830a5 instanceof Y?_0x2830a5['clone']():new Y(_0x2830a5[-0x222e+-0x1f82+0x20d8*0x2],_0x2830a5[-0x1*0x972+-0xc7*-0x1a+-0xac3],_0x2830a5[-0x1fd3*0x1+-0x1*0x1579+0x1aa7*0x2]);case'rgba':return _0x2830a5 instanceof Y?_0x2830a5['clone']():new Y(_0x2830a5[0x11a5*0x2+0xd42+-0x34*0xef],_0x2830a5[0x9f3+-0x3*-0x769+0x202d*-0x1],_0x2830a5[-0x2304+0xb9f+0x1767],_0x2830a5[-0x5*-0x445+0x16f1+-0x2c47]);case'vec2':return _0x2830a5 instanceof W?_0x2830a5['clone']():new W(_0x2830a5[0x2*-0xa34+-0x2176+0x35de],_0x2830a5[-0x1f79+-0x1d69*0x1+0x3ce3*0x1]);case'vec3':return _0x2830a5 instanceof T?_0x2830a5['clone']():new T(_0x2830a5[0x2575*0x1+-0xef8+-0x77f*0x3],_0x2830a5[-0xb38+-0x19*-0x16f+-0x189e],_0x2830a5[0x2*0x1ab+-0xc51*-0x3+-0x2847]);case'vec4':return _0x2830a5 instanceof Q?_0x2830a5['clone']():new Q(_0x2830a5[-0x26e*-0x1+0x5d4+-0x842],_0x2830a5[-0x594+-0x1*-0x25bd+-0x2028],_0x2830a5[0x2509+-0xf*0x17f+-0xe96],_0x2830a5[-0x2f*0x7c+-0x1c61+0x3328]);case'boolean':case'number':case'string':return _0x2830a5;case'entity':return _0x2830a5;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x2368d4);}}const $0=0x14ae+-0x186b+0x3bd,ju=-0x1172+-0x1b3e+0x2cb1,Yu=-0x1*-0x2507+-0x1246*0x1+-0x12bf;class wP{constructor(){this['_left']=(0x1*-0x1b6d+0x1f84+-0x416)/(-0x83*-0x43+0x43*-0x8+0x7b*-0x43),this['_right']=-(-0x1*-0xad9+0x2683*-0x1+-0x3*-0x939)/(-0x2269+-0x17d6+0x3a3f),this['_len']=0x549*-0x5+-0x1b71*0x1+-0x18a*-0x23,this['_recip']=0x1826+-0x2a6*-0xa+-0x32a2,this['_p0']=0x14b6*-0x1+-0x861+0x1d17,this['_p1']=-0x3fd+0xfc1*0x2+-0x1b85,this['_t']=0x3f7+-0xf59*-0x1+0x18*-0xce,this['_hermite']={'valid':!(-0xb6+-0x36c+0x423),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x2450cf,_0x9b8d36){if(_0x2450cf<this['_left']||_0x2450cf>=this['_right']){const _0x1bfb15=_0x9b8d36['length'];if(!_0x1bfb15)this['_left']=-(0x367*0x5+0x1*-0x349+-0xdb9)/(0x167e*-0x1+-0x26e*-0xb+-0x43c*0x1),this['_right']=(0x2ac+0x2138+-0x23e3*0x1)/(-0xe12+0x1932+-0xb20),this['_len']=-0x34*-0xe+0xb*-0xb+-0x25f*0x1,this['_recip']=0x1ebb*0x1+-0x20e2+0x227,this['_p0']=this['_p1']=-0xd41*-0x1+0x2e7+0x58*-0x2f;else{if(_0x2450cf<_0x9b8d36[-0xaa8+0x1*0x122e+-0x786*0x1])this['_left']=-(0x65c+-0xbcb*-0x3+0x1*-0x29bc)/(0x1125+-0x25c2+0x149d*0x1),this['_right']=_0x9b8d36[-0x2201*0x1+-0x4*0x18d+-0x2835*-0x1],this['_len']=0xb*-0x13a+-0x841*-0x2+-0x4*0xc1,this['_recip']=-0x12f7+0x14b5*0x1+-0x1*0x1be,this['_p0']=this['_p1']=0x48b*-0x8+0x804+-0x4*-0x715;else{if(_0x2450cf>=_0x9b8d36[_0x1bfb15-(-0x63d+0x1e35*-0x1+0x2473)])this['_left']=_0x9b8d36[_0x1bfb15-(0x1280+-0x1773+-0x1*-0x4f4)],this['_right']=(-0x26af+0xd*-0x2c1+0x4a7d)/(-0x7a*-0x4a+-0x26*-0xb+-0x1*0x24e6),this['_len']=0x19dc+0x193e+-0x1f*0x1a6,this['_recip']=0x151d+0x140e+-0x292b,this['_p0']=this['_p1']=_0x1bfb15-(0x2*-0x5db+0x1b7d+-0x1*0xfc6);else{const _0x126533=this['_findKey'](_0x2450cf,_0x9b8d36);this['_left']=_0x9b8d36[_0x126533],this['_right']=_0x9b8d36[_0x126533+(-0xb1b+-0x684+0x11a0)],this['_len']=this['_right']-this['_left'];const _0x55b98a=(0x1ec8+0xed8+-0x2d9f)/this['_len'];this['_recip']=isFinite(_0x55b98a)?_0x55b98a:0xb03+-0x40*-0x20+-0x1303,this['_p0']=_0x126533,this['_p1']=_0x126533+(-0x114*0x1d+0x14fa+0x5*0x20f);}}}}this['_t']=this['_recip']===0xa*-0x3d7+0x3b*0x13+0x2205*0x1?0x1*0x8cc+0xb34+0x8*-0x280:(_0x2450cf-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x2*0xab1+-0x1ef4+0x3457);}['_findKey'](_0x1c593b,_0x5705ea){let _0x38ed3d=-0x1047+0x3*0x73b+-0x56a;for(;_0x1c593b>=_0x5705ea[_0x38ed3d+(-0x22ac+-0x976*-0x1+0x1937*0x1)];)_0x38ed3d++;return _0x38ed3d;}['eval'](_0x485522,_0x16ed74,_0x208ef2){const _0x29c4ab=_0x208ef2['_data'],_0x106188=_0x208ef2['_component'+'s'],_0x509978=this['_p0']*_0x106188;if(_0x16ed74===$0){for(let _0x1e09d4=-0x2*0xfa5+-0x2*-0x11de+-0x472;_0x1e09d4<_0x106188;++_0x1e09d4)_0x485522[_0x1e09d4]=_0x29c4ab[_0x509978+_0x1e09d4];}else{const _0x29b60f=this['_t'],_0x1a2747=this['_p1']*_0x106188;switch(_0x16ed74){case ju:for(let _0x4894f4=-0xb8b+-0x9e9+0x1574;_0x4894f4<_0x106188;++_0x4894f4)_0x485522[_0x4894f4]=N['lerp'](_0x29c4ab[_0x509978+_0x4894f4],_0x29c4ab[_0x1a2747+_0x4894f4],_0x29b60f);break;case Yu:{const _0x21f5a8=this['_hermite'];if(!_0x21f5a8['valid']){const _0x50caa7=_0x29b60f*_0x29b60f,_0x13fba9=_0x29b60f+_0x29b60f,_0x1fcf93=0x161*0xe+-0x297*-0x5+0x408*-0x8-_0x29b60f,_0x59d5c6=_0x1fcf93*_0x1fcf93;_0x21f5a8['valid']=!(0xc*0x179+0xf*0x1b3+-0x2b29),_0x21f5a8['p0']=(-0x19fa+-0x2637+0x4032+_0x13fba9)*_0x59d5c6,_0x21f5a8['m0']=_0x29b60f*_0x59d5c6,_0x21f5a8['p1']=_0x50caa7*(0x16eb+-0x24b4+0x373*0x4-_0x13fba9),_0x21f5a8['m1']=_0x50caa7*(_0x29b60f-(0x1dd5+-0x1093+-0x57*0x27));}const _0x3130ae=(this['_p0']*(0x1076+0x39a*-0x1+-0x8f*0x17)+(0x9*-0xc9+-0xa2*0xb+0xe08))*_0x106188,_0x3b343e=(this['_p0']*(-0x10d*0x5+0x7*-0x3a0+-0xd4*-0x25)+(-0x13b5+0x37d*-0x2+0x1ab1))*_0x106188,_0x388c8d=(this['_p1']*(-0x19e0+0x10b4+-0x92f*-0x1)+(0xd*0xc9+-0x104c+-0xf*-0x68))*_0x106188,_0x2eaec0=(this['_p1']*(0x2532+0x335*0x7+-0x3ba2)+(-0x15e0+0xccc+0x914))*_0x106188;for(let _0x395781=0x6a6*0x1+0x244+-0x8ea;_0x395781<_0x106188;++_0x395781)_0x485522[_0x395781]=_0x21f5a8['p0']*_0x29c4ab[_0x3130ae+_0x395781]+_0x21f5a8['m0']*_0x29c4ab[_0x3b343e+_0x395781]*this['_len']+_0x21f5a8['p1']*_0x29c4ab[_0x388c8d+_0x395781]+_0x21f5a8['m1']*_0x29c4ab[_0x2eaec0+_0x395781]*this['_len'];break;}}}}}class K_{constructor(_0xad9805){this['_name']=_0xad9805['name']+'Snapshot',this['_time']=-(-0x9b0+0x1798+0xde7*-0x1),this['_cache']=[],this['_results']=[];for(let _0x2e188e=0x550+0x1*0xf16+-0x1466;_0x2e188e<_0xad9805['_inputs']['length'];++_0x2e188e)this['_cache'][_0x2e188e]=new wP();const _0x22b535=_0xad9805['_curves'],_0x115e66=_0xad9805['_outputs'];for(let _0x115524=0x268b+-0x29*-0x57+0x347a*-0x1;_0x115524<_0x22b535['length'];++_0x115524){const _0x4f6d60=_0x22b535[_0x115524],_0x69d21c=_0x115e66[_0x4f6d60['_output']],_0x2a15f9=[];for(let _0x5086a5=-0x656+0xe*-0x250+-0x135b*-0x2;_0x5086a5<_0x69d21c['_component'+'s'];++_0x5086a5)_0x2a15f9[_0x5086a5]=0x258c+-0x4*0x7fa+-0x5a4;this['_results'][_0x115524]=_0x2a15f9;}}}const Eo=class Eo{constructor(_0x96a535,_0x4c7fdc,_0x4796b0,_0x23df9a,_0x23a256,_0x543a7a){this['_name']=_0x96a535['name'],this['_track']=_0x96a535,this['_snapshot']=new K_(_0x96a535),this['_playing']=_0x23df9a,this['_time']=_0x4c7fdc,this['_speed']=_0x4796b0,this['_loop']=_0x23a256,this['_blendWeig'+'ht']=-0xb*0x29+0x27*0xa7+0x13f*-0x13,this['_blendOrde'+'r']=0x2bf+-0x2d9+0x2*0xd,this['_eventHand'+'ler']=_0x543a7a,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x446b5a){this['_name']=_0x446b5a;}get['name'](){return this['_name'];}set['track'](_0x110d0e){this['_track']=_0x110d0e,this['_snapshot']=new K_(_0x110d0e);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x1c0c1d){this['_time']=_0x1c0c1d,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x4e6351){const _0x96e311=Math['sign'](_0x4e6351)!==Math['sign'](this['_speed']);this['_speed']=_0x4e6351,_0x96e311&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x1f1212){this['_loop']=_0x1f1212;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x2c0581){this['_blendWeig'+'ht']=_0x2c0581;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x441a07){this['_blendOrde'+'r']=_0x441a07;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x1f048f){this['_eventCurs'+'or']=_0x1f048f;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0xa*0x2fc+0x527*-0x2+0x2826:this['_track']['events']['length']-(0x484+0x1714+0x1b97*-0x1);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0xb4*-0x7+-0x1*-0xcf7+-0x1*0x11e3;}['nextEventA'+'headOfTime'](_0x47b46f){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x47b46f:this['nextEvent']['time']>=_0x47b46f:!(-0x25*-0x77+0x166*0xb+-0x2094);}['nextEventB'+'ehindTime'](_0x52beca){return this['nextEvent']?_0x52beca===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x52beca:this['nextEvent']['time']<=_0x52beca:this['isReverse']?this['nextEvent']['time']>_0x52beca:this['nextEvent']['time']<_0x52beca:!(0xe26+0xbad*-0x3+-0x1e6*-0xb);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0xc05+-0x496+-0x3*0x27a):-0x2*0xcb3+0xc45+0x1*0xd21;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x170*-0x3+-0x16b6+0x25*0xbb):-0x1*0x989+-0xc19*-0x1+-0x28f,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x2449+0x31*-0x16+0x1*0x287f:this['_eventCurs'+'or']<-0x1204*-0x2+0xb42+0x2*-0x17a5&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0xce0+0xc78+0x7*0xf));}['clipFrameT'+'ime'](_0x1fb4e0){const _0x1212a7=Eo['eventFrame'];_0x1212a7['start']=0x277*-0xb+0x1953*0x1+0xe5*0x2,_0x1212a7['end']=_0x1fb4e0,_0x1212a7['residual']=0x151a*-0x1+-0x1*-0x1499+-0x81*-0x1,this['isReverse']?_0x1fb4e0<-0x1091*-0x2+-0x9cf+0x7*-0x355&&(_0x1212a7['start']=this['track']['duration'],_0x1212a7['end']=0xf+-0x12bc+0x1*0x12ad,_0x1212a7['residual']=_0x1fb4e0+this['track']['duration']):_0x1fb4e0>this['track']['duration']&&(_0x1212a7['start']=-0x1*-0x6a+-0xdea+-0x20*-0x6c,_0x1212a7['end']=this['track']['duration'],_0x1212a7['residual']=_0x1fb4e0-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x11f239,_0x186abd){return this['nextEventA'+'headOfTime'](_0x11f239)&&this['nextEventB'+'ehindTime'](_0x186abd)?(this['fireNextEv'+'ent'](),!(0x11b*-0xb+0x178c+-0xb63)):!(-0x45*0x3+-0xe0*-0x5+-0x390);}['activeEven'+'tsForFrame'](_0xb4d9ba,_0x462f85){const _0x32d292=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x462f85);const _0x5dbfd6=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0xb4d9ba,_0x32d292['end'])&&_0x5dbfd6!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x32d292['residual'])>-0xc*-0xcd+-0xfde+0x642*0x1&&this['activeEven'+'tsForFrame'](_0x32d292['start'],_0x32d292['residual']);}['progressFo'+'rTime'](_0x47748e){return _0x47748e*this['_speed']/this['_track']['duration'];}['_update'](_0x27a742){if(this['_playing']){let _0x5bbbb4=this['_time'];const _0x67251f=this['_track']['duration'],_0x4bfee6=this['_speed'],_0x1b63e5=this['_loop'];this['_track']['events']['length']>-0x13e7*-0x1+0xfa9+-0x10*0x239&&_0x67251f>-0x6b*-0x3d+-0x65a*0x5+0x643&&this['activeEven'+'tsForFrame'](_0x5bbbb4,_0x5bbbb4+_0x4bfee6*_0x27a742),_0x5bbbb4+=_0x4bfee6*_0x27a742,_0x4bfee6>=-0x2662+-0xf19*0x2+-0x31e*-0x16?_0x5bbbb4>_0x67251f&&(_0x1b63e5?_0x5bbbb4=_0x5bbbb4%_0x67251f||0x1*-0x172c+0xa6d+0xcbf:(_0x5bbbb4=this['_track']['duration'],this['pause']())):_0x5bbbb4<0x1*-0x2197+-0xf*-0x190+-0x71*-0x17&&(_0x1b63e5?_0x5bbbb4=_0x67251f+(_0x5bbbb4%_0x67251f||0x2078*-0x1+0x855+0x1823):(_0x5bbbb4=-0x1*0xa04+-0xa82*0x1+0x1486,this['pause']())),this['_time']=_0x5bbbb4;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x219+-0x234e+0x2135*0x1),this['_time']=-0x23bd*-0x1+-0x42*0x4f+0xf5f*-0x1;}['stop'](){this['_playing']=!(0x1*0x770+-0x2432+-0x1*-0x1cc3),this['_time']=0x2*-0xfe1+-0x1*-0x9b1+0x1*0x1611;}['pause'](){this['_playing']=!(-0x13*-0xe3+0xed3+0x1*-0x1fab);}['resume'](){this['_playing']=!(-0x2*-0xd3a+0x433*0x3+-0x270d);}['reset'](){this['_time']=0x837*-0x4+0x907+0x17d5;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x29c683,_0x361765){const _0x3da841=_0x29c683['length'];let _0x286098=-0x1d91+-0x5ee+0xe9*0x27;for(let _0x93fcd4=0x80*-0x40+0x1*-0x91b+-0x11*-0x26b;_0x93fcd4<_0x3da841;++_0x93fcd4)_0x286098+=_0x29c683[_0x93fcd4]*_0x361765[_0x93fcd4];return _0x286098;}static['normalize'](_0x39b48f){let _0x5ab2b0=Tt['dot'](_0x39b48f,_0x39b48f);if(_0x5ab2b0>0x1*0x589+-0xb9d+-0x2*-0x30a){_0x5ab2b0=(-0xb28+-0x1*-0x1247+-0x38f*0x2)/Math['sqrt'](_0x5ab2b0);const _0x57721b=_0x39b48f['length'];for(let _0x64cd28=-0x2a*0x6b+-0x661+0x17ef;_0x64cd28<_0x57721b;++_0x64cd28)_0x39b48f[_0x64cd28]*=_0x5ab2b0;}}static['set'](_0x5750a7,_0x359ece,_0x588e7d){const _0x471bc4=_0x5750a7['length'];if(_0x588e7d==='quaternion'){let _0x26484e=Tt['dot'](_0x359ece,_0x359ece);_0x26484e>0xfb5*0x1+-0x14fb+0xf*0x5a&&(_0x26484e=(-0x1*0x1367+0x1a97+-0x72f)/Math['sqrt'](_0x26484e));for(let _0x57a825=0x15b*-0xd+-0x6e5+0x1884;_0x57a825<_0x471bc4;++_0x57a825)_0x5750a7[_0x57a825]=_0x359ece[_0x57a825]*_0x26484e;}else{for(let _0x5e202b=-0x8de*-0x2+-0x811*0x1+0xb*-0xe1;_0x5e202b<_0x471bc4;++_0x5e202b)_0x5750a7[_0x5e202b]=_0x359ece[_0x5e202b];}}static['blendVec'](_0x440720,_0x123b63,_0x587b29,_0x2a136d){const _0x5dd7f5=_0x2a136d?0x1a19*0x1+-0x3d9+-0x163f:0x210a+-0x16c3+0x1*-0xa46-_0x587b29,_0x2472c1=_0x440720['length'];for(let _0xef1abd=0x1*0x15d+-0x155c+0x13ff*0x1;_0xef1abd<_0x2472c1;++_0xef1abd)_0x440720[_0xef1abd]=_0x440720[_0xef1abd]*_0x5dd7f5+_0x123b63[_0xef1abd]*_0x587b29;}static['blendQuat'](_0x29174c,_0xf0539f,_0x4adaff,_0x43fb5e){const _0x511c6c=_0x29174c['length'],_0x1222aa=_0x43fb5e?-0x1418+0x38*0xa1+-0xf1f:-0x8f0+-0x110a*-0x2+-0x1923-_0x4adaff;Tt['dot'](_0x29174c,_0xf0539f)<0x1*-0x6a+0x1*-0x49c+0x283*0x2&&(_0x4adaff=-_0x4adaff);for(let _0xe6b2a3=0x8ef*-0x2+-0x15ab+-0x1*-0x2789;_0xe6b2a3<_0x511c6c;++_0xe6b2a3)_0x29174c[_0xe6b2a3]=_0x29174c[_0xe6b2a3]*_0x1222aa+_0xf0539f[_0xe6b2a3]*_0x4adaff;_0x43fb5e||Tt['normalize'](_0x29174c);}static['blend'](_0x146c7a,_0x2df9c,_0x18d0f6,_0x52e8e9,_0x261bf7){_0x52e8e9==='quaternion'?Tt['blendQuat'](_0x146c7a,_0x2df9c,_0x18d0f6,_0x261bf7):Tt['blendVec'](_0x146c7a,_0x2df9c,_0x18d0f6,_0x261bf7);}static['stableSort'](_0x69c1b8,_0x3d6f3c){const _0x583a8e=_0x69c1b8['length'];for(let _0x55829a=-0x3*0x2e9+-0x1fc4+-0x7*-0x5c9;_0x55829a<_0x583a8e-(-0x810+0x1ccf+-0x14be);++_0x55829a)for(let _0x1cd819=_0x55829a+(-0xb9*-0x1b+0x2*-0xf64+0xb46);_0x1cd819<_0x583a8e;++_0x1cd819)if(_0x3d6f3c(_0x69c1b8[_0x1cd819],_0x69c1b8[_0x55829a])){const _0x1b7842=_0x69c1b8[_0x55829a];_0x69c1b8[_0x55829a]=_0x69c1b8[_0x1cd819],_0x69c1b8[_0x1cd819]=_0x1b7842;}}}const Ue=class Ue{constructor(_0x2649e3,_0x4c33d7){this['_component']=_0x2649e3,this['mask']=new Int8Array(_0x2649e3['layers']['length']),this['weights']=new Float32Array(_0x2649e3['layers']['length']),this['totalWeigh'+'t']=-0x1667+0xfc3+0x6a4,this['counter']=-0x2134+-0x1*-0x53+0x20e1,this['layerCount'+'er']=-0x56*0x47+0x22de+-0xb04,this['valueType']=_0x4c33d7,this['dirty']=!(-0x1*0x11e7+0x23e*-0xb+0x281*0x11),this['value']=_0x4c33d7===Ue['TYPE_QUAT']?[0xd5*0x1d+-0x24f4+-0x1*-0xcd3,0x5f+-0x1efb*-0x1+-0x1f5a,-0x4*-0x8cf+-0x176e+-0x1*0xbce,-0x9*-0x452+0x1e65+-0x4546]:[0x48b+-0xd52+-0x141*-0x7,-0x1*-0x1c45+0x11c0+-0x2e05,-0x107*0x25+-0x1*-0x254b+-0x5c*-0x2],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x4c38b4){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x1e38+0xe9*-0x6+0x23ae||!this['mask'][_0x4c38b4]?-0x588+0x1d17+0x178f*-0x1:this['_normalize'+'Weights']?this['weights'][_0x4c38b4]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x4c38b4],-0x137f+-0x12b0+0x7a3*0x5,-0x77b*-0x5+-0x1b36+-0x146*0x8);}['_layerBlen'+'dType'](_0x48a6af){return this['_component']['layers'][_0x48a6af]['blendType'];}['setMask'](_0x55c3a8,_0x4fea5f){this['mask'][_0x55c3a8]=_0x4fea5f,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x55c3a8]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0x8*0x35+-0x7f*0x37+0x1cf1*0x1,0x126*-0xd+0x1bc5+-0xcd7,_0x55c3a8)),this['dirty']=!(0x7*0x61+0x66+-0x30d));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x976+0x24af*-0x1+0x1*0x2e25;for(let _0x34d13d=-0x24d7*0x1+-0x1ef7+0x1*0x43ce;_0x34d13d<this['weights']['length'];_0x34d13d++)this['weights'][_0x34d13d]=this['_component']['layers'][_0x34d13d]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x34d13d]*this['weights'][_0x34d13d];this['dirty']=!(-0x1cc5+0x1b78+-0x14e*-0x1);}['updateValu'+'e'](_0x1146e6,_0x12ebe8){if(this['counter']===-0x162b+0x4*-0x56f+0x2be7&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],-0xe8f*0x1+-0xe*0xc4+-0x652*-0x4,this['valueType'])),!(!this['mask'][_0x1146e6]||this['getWeight'](_0x1146e6)===-0x2*0x10f0+-0x1704+0x52c*0xb)){if(this['_layerBlen'+'dType'](_0x1146e6)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x62fd01=Ue['q1']['set'](this['value'][-0x1da7*0x1+-0x13d5+0x317c],this['value'][-0xdd5*-0x2+-0x2*-0x381+-0x22ab*0x1],this['value'][-0xf7*0x1+-0x1440+0x1539],this['value'][-0x11*-0x1cf+0x145e+-0x1*0x331a]),_0x7ad6ff=Ue['q2']['set'](this['baseValue'][-0xe3c+-0x5bb+0x10d*0x13],this['baseValue'][0x13*0x17+0x37*-0x17+0x33d],this['baseValue'][0x11*-0x18+0x1144+-0xfaa],this['baseValue'][0x1197*0x2+-0x17ee+-0xb3d]),_0x578bb7=Ue['q3']['set'](_0x12ebe8[-0x832*-0x3+-0x1*0x1d+-0x1879],_0x12ebe8[0x91*-0x1+-0x970+0xa02],_0x12ebe8[-0x1074+0x5*0x400+-0x38a*0x1],_0x12ebe8[-0x1f*0xbb+-0x18a5+-0x2f4d*-0x1]),_0x4b2761=_0x7ad6ff['invert']()['mul'](_0x578bb7);_0x4b2761['slerp'](se['IDENTITY'],_0x4b2761,this['getWeight'](_0x1146e6)),_0x62fd01['mul'](_0x4b2761),Ue['quatArr'][-0x6dd*-0x1+0x52e+-0xc0b]=_0x62fd01['x'],Ue['quatArr'][-0x1a51*-0x1+-0xe*-0x241+0x134a*-0x3]=_0x62fd01['y'],Ue['quatArr'][-0x329*0x9+-0x4*0x82e+0x3d2b]=_0x62fd01['z'],Ue['quatArr'][-0x10c7+-0xe8f*-0x1+-0x23b*-0x1]=_0x62fd01['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][0x1*-0x241f+-0xe0*-0x26+0x2df]=_0x12ebe8[0x2*-0x7ca+0x1*0x222f+-0x129b*0x1]-this['baseValue'][-0x7ef+-0x223d+0x2a2c],Ue['vecArr'][-0x141+-0x1022+-0x2a*-0x6a]=_0x12ebe8[-0x1*-0x2677+-0x1667*0x1+-0x100f]-this['baseValue'][-0x2482+-0x5*0x140+0xe41*0x3],Ue['vecArr'][0x1a8b+0x8ae+-0x2337]=_0x12ebe8[0x237d+-0x1*0x1b65+-0xe6*0x9]-this['baseValue'][0x31b+-0x2132+0x1e19],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x1146e6),this['valueType'],!(-0x1bdb+-0xb2a*0x3+0x9*0x6d1));}else Tt['blend'](this['value'],_0x12ebe8,this['getWeight'](_0x1146e6),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0x19b6+-0xb95+0x1*0x254b,-0xf*-0xa3+0x1f14+-0x28a1,-0xa*0xb7+-0x1e38+0x255e,0x822+0xc0f+-0x1430]),c(Ue,'vecArr',[0x163a+-0x1*0x1e64+0x82a,-0x532+-0xd36+-0x98*-0x1f,-0x13e1+-0x86f+0x1c50]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[-0x6f5+0x1fd*-0xe+-0x3*-0xb99,-0x1905+-0x455+0x1d5a,0xa3d*-0x2+0x22df*-0x1+0x3759,0x5*-0x10f+0x16bd+0x5*-0x37d]);let bo=Ue;class j0{constructor(_0x18a6a9){this['_binder']=_0x18a6a9,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x362833){const _0x34c07b=this['_targets'],_0x248ee2=this['_binder'],_0x14ea05=_0x362833['track']['curves'],_0x19ef57=_0x362833['snapshot'],_0x37d89e=[],_0x4fe5ac=[];for(let _0xce6c4f=0x74*-0xa+-0x9b*0x35+0x249f;_0xce6c4f<_0x14ea05['length'];++_0xce6c4f){const _0x48f3e7=_0x14ea05[_0xce6c4f]['paths'];for(let _0x245c83=0x1b22+-0x270a+0xbe8;_0x245c83<_0x48f3e7['length'];++_0x245c83){const _0x5d1ff6=_0x48f3e7[_0x245c83],_0x5a9e12=_0x248ee2['resolve'](_0x5d1ff6);let _0x32ec38=_0x34c07b[_0x5a9e12&&_0x5a9e12['targetPath']||null];if(!_0x32ec38&&_0x5a9e12){_0x32ec38={'target':_0x5a9e12,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x283010=0x1d*0x67+0xf7e+-0x1b29;_0x283010<_0x32ec38['target']['components'];++_0x283010)_0x32ec38['value']['push'](0x10d2+-0x287*-0x1+-0x1359);if(_0x34c07b[_0x5a9e12['targetPath']]=_0x32ec38,_0x248ee2['animCompon'+'ent']){if(!_0x248ee2['animCompon'+'ent']['targets'][_0x5a9e12['targetPath']]){let _0x261dde;_0x5a9e12['targetPath']['substring'](_0x5a9e12['targetPath']['length']-(0x14aa+0x1f73+-0x3410))==='localRotat'+'ion'?_0x261dde=bo['TYPE_QUAT']:_0x261dde=bo['TYPE_VEC3'],_0x248ee2['animCompon'+'ent']['targets'][_0x5a9e12['targetPath']]=new bo(_0x248ee2['animCompon'+'ent'],_0x261dde);}_0x248ee2['animCompon'+'ent']['targets'][_0x5a9e12['targetPath']]['layerCount'+'er']++,_0x248ee2['animCompon'+'ent']['targets'][_0x5a9e12['targetPath']]['setMask'](_0x248ee2['layerIndex'],-0x1b8+-0x10c6+0x127f);}}_0x32ec38&&(_0x32ec38['curves']++,_0x37d89e['push'](_0x19ef57['_results'][_0xce6c4f]),_0x4fe5ac['push'](_0x32ec38));}}this['_clips']['push'](_0x362833),this['_inputs']['push'](_0x37d89e),this['_outputs']['push'](_0x4fe5ac);}['removeClip'](_0x36ce72){const _0x3861f3=this['_targets'],_0x1be864=this['_binder'],_0x4d8f5d=this['_clips'],_0x6bdd7d=_0x4d8f5d[_0x36ce72]['track']['curves'];for(let _0x4253c3=-0x8*0xfc+0x1af0+-0x1310;_0x4253c3<_0x6bdd7d['length'];++_0x4253c3){const _0x596b1f=_0x6bdd7d[_0x4253c3]['paths'];for(let _0x4446af=0x2380+-0x1a9e+-0x8e2;_0x4446af<_0x596b1f['length'];++_0x4446af){const _0x4e60a8=_0x596b1f[_0x4446af],_0x35c81a=this['_binder']['resolve'](_0x4e60a8);_0x35c81a&&(_0x35c81a['curves']--,_0x35c81a['curves']===-0x1021+-0x2212+0xb5*0x47&&(_0x1be864['unresolve'](_0x4e60a8),delete _0x3861f3[_0x35c81a['targetPath']],_0x1be864['animCompon'+'ent']&&_0x1be864['animCompon'+'ent']['targets'][_0x35c81a['targetPath']]['layerCount'+'er']--));}}_0x4d8f5d['splice'](_0x36ce72,0x1884+-0x1490+-0x1*0x3f3),this['_inputs']['splice'](_0x36ce72,0x2b*-0x1a+0x1*-0x1019+0x1478),this['_outputs']['splice'](_0x36ce72,-0x772+0x6d*0x53+-0x1be4*0x1);}['removeClip'+'s'](){for(;this['_clips']['length']>0x9b*-0x19+0x1021+0xfe*-0x1;)this['removeClip'](-0x4e4+-0x837+0xd1b);}['updateClip'+'Track'](_0x382ec3,_0x239779){this['_clips']['forEach'](_0x4add19=>{_0x4add19['name']['includes'](_0x382ec3)&&(_0x4add19['track']=_0x239779);}),this['rebind']();}['findClip'](_0x31e241){const _0x20a5dc=this['_clips'];for(let _0x423fc1=-0xaa4+0x1d16+-0x1272;_0x423fc1<_0x20a5dc['length'];++_0x423fc1){const _0x1ac166=_0x20a5dc[_0x423fc1];if(_0x1ac166['name']===_0x31e241)return _0x1ac166;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x3f49f1=[...this['clips']];this['removeClip'+'s'](),_0x3f49f1['forEach'](_0x472b41=>{this['addClip'](_0x472b41);});}['assignMask'](_0x318085){return this['_binder']['assignMask'](_0x318085);}['update'](_0x29d40b,_0x1de26d=!(-0x95b+0x1*-0x765+-0x20*-0x86)){const _0x511afb=this['_clips'],_0x12f755=_0x511afb['map']((_0x2092d8,_0x320cdc)=>_0x320cdc);Tt['stableSort'](_0x12f755,(_0x12dc30,_0x2270b5)=>_0x511afb[_0x12dc30]['blendOrder']<_0x511afb[_0x2270b5]['blendOrder']);for(let _0x111adb=0x21d5+-0x50+-0x2185;_0x111adb<_0x12f755['length'];++_0x111adb){const _0x4f2638=_0x12f755[_0x111adb],_0x330759=_0x511afb[_0x4f2638],_0x56fc96=this['_inputs'][_0x4f2638],_0x51b3fd=this['_outputs'][_0x4f2638],_0x25d92f=_0x330759['blendWeigh'+'t'];if(_0x25d92f>-0x2*0x63c+0xbd9+0x9f&&_0x330759['_update'](_0x29d40b),!_0x1de26d)break;let _0x42b7bb,_0x15a152,_0x295c42;if(_0x25d92f>=0x317*-0x3+-0x1*0xde9+0x4a3*0x5){for(let _0x4a13fb=0x21f1*0x1+-0x1*-0xa13+-0x2c04;_0x4a13fb<_0x56fc96['length'];++_0x4a13fb)_0x42b7bb=_0x56fc96[_0x4a13fb],_0x15a152=_0x51b3fd[_0x4a13fb],_0x295c42=_0x15a152['value'],Tt['set'](_0x295c42,_0x42b7bb,_0x15a152['target']['type']),_0x15a152['blendCount'+'er']++;}else{if(_0x25d92f>0x2*-0x76+0x1204+-0x1118){for(let _0x65503b=0x1f67*0x1+0x1cf7+0x2*-0x1e2f;_0x65503b<_0x56fc96['length'];++_0x65503b)_0x42b7bb=_0x56fc96[_0x65503b],_0x15a152=_0x51b3fd[_0x65503b],_0x295c42=_0x15a152['value'],_0x15a152['blendCount'+'er']===0x5e*-0x13+-0x68c*0x3+0x1a9e?Tt['set'](_0x295c42,_0x42b7bb,_0x15a152['target']['type']):Tt['blend'](_0x295c42,_0x42b7bb,_0x25d92f,_0x15a152['target']['type']),_0x15a152['blendCount'+'er']++;}}}const _0x689170=this['_targets'],_0xf26912=this['_binder'];for(const _0xad1023 in _0x689170)if(_0x689170['hasOwnProp'+'erty'](_0xad1023)){const _0x1fd567=_0x689170[_0xad1023];if(_0xf26912['animCompon'+'ent']&&_0x1fd567['target']['isTransfor'+'m']){const _0x51acd2=_0xf26912['animCompon'+'ent']['targets'][_0xad1023];_0x51acd2['counter']===_0x51acd2['layerCount'+'er']&&(_0x51acd2['counter']=0x1*0x220f+0xa9d+-0x2cac),_0x51acd2['path']||(_0x51acd2['path']=_0xad1023,_0x51acd2['baseValue']=_0x1fd567['target']['get'](),_0x51acd2['setter']=_0x1fd567['target']['set']),_0x51acd2['updateValu'+'e'](_0xf26912['layerIndex'],_0x1fd567['value']),_0x51acd2['counter']++;}else _0x1fd567['target']['set'](_0x1fd567['value']);_0x1fd567['blendCount'+'er']=-0x23b1+-0x56d*-0x2+0x18d7;}this['_binder']['update'](_0x29d40b);}}class Y0{constructor(_0x4ae33a){this['_events']=[..._0x4ae33a],this['_events']['sort']((_0x29b8fb,_0x227692)=>_0x29b8fb['time']-_0x227692['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x1ac71a,_0x2cbea3,_0x22e670,_0x581aba,_0x181165,_0x3aeff7=new Y0([])){this['_name']=_0x1ac71a,this['_duration']=_0x2cbea3,this['_inputs']=_0x22e670,this['_outputs']=_0x581aba,this['_curves']=_0x181165,this['_animEvent'+'s']=_0x3aeff7;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x5b2ddd){this['_animEvent'+'s']=_0x5b2ddd;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x1a3df9,_0x29ac04){_0x29ac04['_time']=_0x1a3df9;const _0xeb8bd7=this['_inputs'],_0x22dd72=this['_outputs'],_0x5b7f43=this['_curves'],_0x255c05=_0x29ac04['_cache'],_0x3e93e4=_0x29ac04['_results'];for(let _0x4dceca=-0x2422+0x1*-0x109a+-0x5dc*-0x9;_0x4dceca<_0xeb8bd7['length'];++_0x4dceca)_0x255c05[_0x4dceca]['update'](_0x1a3df9,_0xeb8bd7[_0x4dceca]['_data']);for(let _0x112f49=0x1015+0x7f*0x13+-0xcc1*0x2;_0x112f49<_0x5b7f43['length'];++_0x112f49){const _0x509fa6=_0x5b7f43[_0x112f49],_0x5bb7fe=_0x22dd72[_0x509fa6['_output']],_0x49f6b7=_0x3e93e4[_0x112f49];_0x255c05[_0x509fa6['_input']]['eval'](_0x49f6b7,_0x509fa6['_interpola'+'tion'],_0x5bb7fe);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x137159,_0x2bfce3){_0x2bfce3=_0x2bfce3||'.';const _0x276227=function(_0x14caa4){return _0x14caa4['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x2bfce3,'g'),'\x5c'+_0x2bfce3);};return _0x137159['map'](_0x276227)['join'](_0x2bfce3);}static['splitPath'](_0x241479,_0x26b336){_0x26b336=_0x26b336||'.';const _0x36c2f1=[];let _0x59b3d9='',_0x2beacb=0xf07+0x1*0x1ef4+-0x2dfb;for(;_0x2beacb<_0x241479['length'];){let _0x16947c=_0x241479[_0x2beacb++];_0x16947c==='\x5c'&&_0x2beacb<_0x241479['length']?(_0x16947c=_0x241479[_0x2beacb++],_0x16947c==='\x5c'||_0x16947c===_0x26b336?_0x59b3d9+=_0x16947c:_0x59b3d9+='\x5c'+_0x16947c):_0x16947c===_0x26b336?(_0x36c2f1['push'](_0x59b3d9),_0x59b3d9=''):_0x59b3d9+=_0x16947c;}return _0x59b3d9['length']>-0x1*-0xaad+-0x6e9*0x1+-0x3c4&&_0x36c2f1['push'](_0x59b3d9),_0x36c2f1;}static['encode'](_0x1724df,_0x28b7f7,_0x288ac9){return(Array['isArray'](_0x1724df)?_0x1724df['join']('/'):_0x1724df)+'/'+_0x28b7f7+'/'+(Array['isArray'](_0x288ac9)?_0x288ac9['join']('/'):_0x288ac9);}['resolve'](_0x165989){return null;}['unresolve'](_0x3cae1c){}['update'](_0x2ade32){}}class Zu{constructor(_0x1a591f,_0x419511,_0x1653a3,_0x1a3d12){_0x1a591f['set']?(this['_set']=_0x1a591f['set'],this['_get']=_0x1a591f['get']):this['_set']=_0x1a591f,this['_type']=_0x419511,this['_component'+'s']=_0x1653a3,this['_targetPat'+'h']=_0x1a3d12,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0xe5d+-0x1175+0x17*0x23))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x7c*-0x40+-0x1abf+-0x66c*-0x9))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x239b+-0x480+0xef*0x2b))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x409b79){c(this,'_isPathInM'+'ask',(_0x1ca51d,_0x3860e2)=>{const _0x9e0c30=this['_mask'][_0x1ca51d];if(_0x9e0c30){if(_0x9e0c30['children']||_0x3860e2&&_0x9e0c30['value']!==!(-0x7e4+-0x82c*-0x3+-0x109f))return!(-0x77e+-0x1*-0x269f+-0x1f21*0x1);}else return!(0x37*0x2f+0x9ec+-0x1404);return!(0xaf1*-0x3+0x22ba+-0x51*0x6);});if(this['graph']=_0x409b79,!_0x409b79)return;this['_mask']=null;const _0x55a71b={},_0xfce70b=function(_0x1b38c6){_0x55a71b[_0x1b38c6['name']]=_0x1b38c6;for(let _0xbe66a5=0x9d*0x11+0x166f+-0x20dc;_0xbe66a5<_0x1b38c6['children']['length'];++_0xbe66a5)_0xfce70b(_0x1b38c6['children'][_0xbe66a5]);};_0xfce70b(_0x409b79),this['nodes']=_0x55a71b,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x279b4d=function(_0x99a4bc){let _0x12b149=_0x99a4bc;for(;_0x12b149&&!(_0x12b149 instanceof We);)_0x12b149=_0x12b149['parent'];let _0xfd7463;return _0x12b149&&(_0x12b149['render']?_0xfd7463=_0x12b149['render']['meshInstan'+'ces']:_0x12b149['model']&&(_0xfd7463=_0x12b149['model']['meshInstan'+'ces'])),_0xfd7463;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x5575ef){const _0x469baa=_0x5575ef['localPosit'+'ion'],_0x18eba8=function(_0x511ef9){_0x469baa['set'](..._0x511ef9);};return Ji['createAnim'+'Target'](_0x18eba8,'vector',-0x1*0x10ea+0x16cc+-0x1*0x5df,_0x5575ef,'localPosit'+'ion');},'localRotation':function(_0x318c4f){const _0x3b102a=_0x318c4f['localRotat'+'ion'],_0x492001=function(_0x9f4e5b){_0x3b102a['set'](..._0x9f4e5b);};return Ji['createAnim'+'Target'](_0x492001,'quaternion',-0x2f*0x63+-0x3c9*0xa+0x380b,_0x318c4f,'localRotat'+'ion');},'localScale':function(_0x408965){const _0x562048=_0x408965['localScale'],_0x2c5fe0=function(_0x44d86e){_0x562048['set'](..._0x44d86e);};return Ji['createAnim'+'Target'](_0x2c5fe0,'vector',-0x11f*-0x13+0x1*-0xe17+-0x733,_0x408965,'localScale');},'weight':function(_0x2f8946,_0x41ab67){_0x41ab67['indexOf']('name.')===0x2559*-0x1+0x1c66+0x8f3?_0x41ab67=_0x41ab67['replace']('name.',''):_0x41ab67=Number(_0x41ab67);const _0x4cb528=_0x279b4d(_0x2f8946);let _0x507d86;if(_0x4cb528){for(let _0x219b5b=0x1f0e+0x159d+-0x61*0x8b;_0x219b5b<_0x4cb528['length'];++_0x219b5b)if(_0x4cb528[_0x219b5b]['node']['name']===_0x2f8946['name']&&_0x4cb528[_0x219b5b]['morphInsta'+'nce']){const _0x7bb7c3=_0x4cb528[_0x219b5b]['morphInsta'+'nce'],_0xed54b5=_0x333703=>{_0x7bb7c3['setWeight'](_0x41ab67,_0x333703[0x138d+0x54f+-0x18dc]);};_0x507d86||(_0x507d86=[]),_0x507d86['push'](_0xed54b5);}}if(_0x507d86){const _0x5380ba=_0x5f0cbe=>{for(let _0x2ad486=-0x1c4e+-0xa46+0x2694;_0x2ad486<_0x507d86['length'];++_0x2ad486)_0x507d86[_0x2ad486](_0x5f0cbe);};return Ji['createAnim'+'Target'](_0x5380ba,'number',0xd4b+-0x1f*-0xac+-0x18d*0x16,_0x2f8946,'weight.'+_0x41ab67);}return null;},'materialTexture':(_0x13d86a,_0x44cd7e)=>{const _0x935c8=_0x279b4d(_0x13d86a);if(_0x935c8){let _0x5514ca;for(let _0x101487=0xcfe+0x1*0x1e15+-0x1*0x2b13;_0x101487<_0x935c8['length'];++_0x101487)if(_0x935c8[_0x101487]['node']['name']===_0x13d86a['name']){_0x5514ca=_0x935c8[_0x101487];break;}if(_0x5514ca){const _0x47c278=_0x5c4be2=>{const _0x29703c=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x5c4be2[-0xf45*0x1+-0x2006*0x1+0x2f4b]);_0x29703c&&_0x29703c['resource']&&_0x29703c['type']==='texture'&&(_0x5514ca['material'][_0x44cd7e]=_0x29703c['resource'],_0x5514ca['material']['update']());};return Ji['createAnim'+'Target'](_0x47c278,'vector',0x1283*-0x1+-0x2*-0xa1e+0x14*-0x16,_0x13d86a,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x4eed95){if(!this['_mask'])return!(-0x534+0x2313+0x3*-0x9f5);const _0x47b976=[_0x4eed95['entityPath'][-0x5*-0x101+-0x125*0x6+0x2b*0xb],this['graph']['name']];for(let _0x310c40=0x3*0x932+-0x1648+-0x54e;_0x310c40<_0x47b976['length'];++_0x310c40){let _0x461fdd=_0x47b976[_0x310c40];if(this['_isPathInM'+'ask'](_0x461fdd,_0x4eed95['entityPath']['length']===0x149f+0x1712*-0x1+0x274))return!(0x1432+0x2317+-0x3749);for(let _0x209447=-0x8fe*0x1+-0x17c6+-0x1*-0x20c5;_0x209447<_0x4eed95['entityPath']['length'];_0x209447++)if(_0x461fdd+='/'+_0x4eed95['entityPath'][_0x209447],this['_isPathInM'+'ask'](_0x461fdd,_0x209447===_0x4eed95['entityPath']['length']-(0x13b2+0x4dd+-0x188e)))return!(-0x1b4a+0x732+0x1418);}return!(-0x2616+0x16fe+0xf19);}['findNode'](_0x5494c4){if(!this['_isPathAct'+'ive'](_0x5494c4))return null;let _0x3e204b;if(this['graph']&&(_0x3e204b=this['graph']['findByPath'](_0x5494c4['entityPath']),_0x3e204b||(_0x3e204b=this['graph']['findByPath'](_0x5494c4['entityPath']['slice'](0x58*-0x46+-0xb2a+0x233b)))),!_0x3e204b){_0x3e204b=this['nodes'][_0x5494c4['entityPath'][_0x5494c4['entityPath']['length']-(-0x102b+-0x65a*0x6+0x3648)]||''];const _0x1a46c3=qr['encode'](_0x5494c4['entityPath'][_0x5494c4['entityPath']['length']-(0x1*-0x1bdd+0x366+0x1878)]||'','graph',_0x5494c4['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x1a46c3]===0x229e+0xf26*-0x1+0x97*-0x21&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x1a46c3+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x1a46c3])?this['visitedFal'+'lbackGraph'+'Paths'][_0x1a46c3]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x1a46c3]=-0xdb1+0x17ca+-0xa19;}return _0x3e204b;}static['createAnim'+'Target'](_0x3bab19,_0x177e50,_0x107fd7,_0x217a79,_0x4a8764,_0x81bac7){const _0x4f33fd=qr['encode'](_0x217a79['path'],_0x81bac7||'entity',_0x4a8764);return new Zu(_0x3bab19,_0x177e50,_0x107fd7,_0x4f33fd);}['resolve'](_0x47e87c){const _0x10eca9=qr['encode'](_0x47e87c['entityPath'],_0x47e87c['component'],_0x47e87c['propertyPa'+'th']);let _0x4a7d45=this['targetCach'+'e'][_0x10eca9];if(_0x4a7d45)return _0x4a7d45;const _0xbc138a=this['findNode'](_0x47e87c);if(!_0xbc138a)return null;const _0x2ed5ca=this['handlers'][_0x47e87c['propertyPa'+'th']];return!_0x2ed5ca||(_0x4a7d45=_0x2ed5ca(_0xbc138a),!_0x4a7d45)?null:(this['targetCach'+'e'][_0x10eca9]=_0x4a7d45,this['nodeCounts'][_0xbc138a['path']]?this['nodeCounts'][_0xbc138a['path']]++:(this['activeNode'+'s']['push'](_0xbc138a),this['nodeCounts'][_0xbc138a['path']]=0x43*-0x5c+-0x15d*-0x17+0x62*-0x13),_0x4a7d45);}['unresolve'](_0xf9a750){if(_0xf9a750['component']!=='graph')return;const _0x34ffad=this['nodes'][_0xf9a750['entityPath'][_0xf9a750['entityPath']['length']-(0x1*0x8fe+-0x22*-0x89+-0x1b2f)]||''];if(this['nodeCounts'][_0x34ffad['path']]--,this['nodeCounts'][_0x34ffad['path']]===-0x1*0x757+0x1fb+0x55c){const _0x42452b=this['activeNode'+'s'],_0x4041c3=_0x42452b['indexOf'](_0x34ffad['node']),_0x1b8cde=_0x42452b['length'];_0x4041c3<_0x1b8cde-(-0xbc*0x8+-0x265c+0x2c3d)&&(_0x42452b[_0x4041c3]=_0x42452b[_0x1b8cde-(-0x2131+0x3*-0xa77+0x4097)]),_0x42452b['pop']();}}['update'](_0x298507){const _0x5813b7=this['activeNode'+'s'];for(let _0x2e8182=0x3b*-0x97+0x123*0x9+0x1892;_0x2e8182<_0x5813b7['length'];++_0x2e8182)_0x5813b7[_0x2e8182]['_dirtifyLo'+'cal']();}['assignMask'](_0x270e4a){return _0x270e4a!==this['_mask']?(this['_mask']=_0x270e4a,!(0x1877*-0x1+0x7*0xd9+0x1288)):!(0xa9*-0xf+0x3*-0xbc8+0x2d40);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0xe9+-0x1fc7*-0x1+-0x1ede)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x847+0x1*-0x220f+0x19c8),c(this,'blending',!(-0x111*0x2+-0xb*0x51+-0x59e*-0x1)),c(this,'blendSpeed',-0xa93*0x3+0x34c+0x1c6d),c(this,'activate',!(-0x17*0x3e+0x6f7*0x5+0x1*-0x1d41)),c(this,'speed',-0x47*0x81+-0x3*0x79f+0x3aa5);}set['animations'](_0x410de7){this['_animation'+'s']=_0x410de7,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x5332d3){const _0xa94e88=this['_assets'];if(_0xa94e88&&_0xa94e88['length']){for(let _0x3800c2=-0x18b9+-0x55*-0x3f+0x3ce;_0x3800c2<_0xa94e88['length'];_0x3800c2++)if(_0xa94e88[_0x3800c2]){const _0x6f807b=this['system']['app']['assets']['get'](_0xa94e88[_0x3800c2]);if(_0x6f807b){_0x6f807b['off']('change',this['onAssetCha'+'nged'],this),_0x6f807b['off']('remove',this['onAssetRem'+'oved'],this);const _0x1a6e30=this['animations'+'Index'][_0x6f807b['id']];this['currAnim']===_0x1a6e30&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x1a6e30],delete this['animations'+'Index'][_0x6f807b['id']];}}}this['_assets']=_0x5332d3;const _0x509519=_0x5332d3['map'](_0x4e19e8=>_0x4e19e8 instanceof le?_0x4e19e8['id']:_0x4e19e8);this['loadAnimat'+'ionAssets'](_0x509519);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0xb0432c){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0xb0432c,this['skeleton']['addTime'](-0x12*0x16e+-0x1*0x823+-0x12b*-0x1d),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x2bc8e2=this['animEvalua'+'tor']['clips'];for(let _0x3e9b3d=-0x3a8+-0x97b+-0x1*-0xd23;_0x3e9b3d<_0x2bc8e2['length'];++_0x3e9b3d)_0x2bc8e2[_0x3e9b3d]['time']=_0xb0432c;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x3602f3=this['animEvalua'+'tor']['clips'];if(_0x3602f3['length']>0x902*-0x1+-0x82+0x984)return _0x3602f3[_0x3602f3['length']-(-0x371*-0x1+-0xc67+0x9*0xff)]['time'];}return-0x229e+0x1*0x14cb+0x1*0xdd3;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x4a4+0x15a4+-0x1100);}set['loop'](_0x49c2cc){if(this['_loop']=_0x49c2cc,this['skeleton']&&(this['skeleton']['looping']=_0x49c2cc),this['animEvalua'+'tor']){for(let _0x4cee01=-0x1701+0x7*0x593+-0x1004;_0x4cee01<this['animEvalua'+'tor']['clips']['length'];++_0x4cee01)this['animEvalua'+'tor']['clips'][_0x4cee01]['loop']=_0x49c2cc;}}get['loop'](){return this['_loop'];}['play'](_0x382792,_0x451660=-0x121a*0x1+-0x68a+0x18a4){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x382792]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x382792+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x382792,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x3d81e6=this['animations'][this['prevAnim']],_0x13cc49=this['animations'][this['currAnim']];if(this['blending']=_0x451660>0xb*-0x25d+-0x1*0x51b+0x1f1a&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x2230+0x368+0x1ec8,this['blendSpeed']=(0x453+0x867+-0xcb9)/_0x451660),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x3d81e6,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x13cc49):this['skeleton']['animation']=_0x13cc49),this['animEvalua'+'tor']){const _0x358f88=this['animEvalua'+'tor'];if(this['blending']){for(;_0x358f88['clips']['length']>-0x1*-0x2384+-0x1*-0x1601+0x132c*-0x3;)_0x358f88['removeClip'](0x1d7+0x2cc+-0x4a3);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x246bd3=new Xh(this['animations'][this['currAnim']],0xc*0x321+-0x2*0x35f+-0x2*0xf67,-0x23bd+-0x6b*-0x59+-0x175,!(-0x25f8+-0x71d*-0x3+0x10a1),this['loop']);_0x246bd3['name']=this['currAnim'],_0x246bd3['blendWeigh'+'t']=this['blending']?-0x1593+-0x1c62+0x31f5:-0x99b+-0x332*-0x1+-0x1*-0x66a,_0x246bd3['reset'](),this['animEvalua'+'tor']['addClip'](_0x246bd3);}}this['playing']=!(-0x1215*-0x2+-0x1*0xb71+0x1*-0x18b9);}}['getAnimati'+'on'](_0xebc73b){return this['animations'][_0xebc73b];}['setModel'](_0x9f863e){_0x9f863e!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x9f863e,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x3a3113=this['entity']['model'];if(_0x3a3113){const _0x1f0c4f=_0x3a3113['model'];_0x1f0c4f&&_0x1f0c4f!==this['model']&&this['setModel'](_0x1f0c4f);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x3b50f4=Object['keys'](this['_animation'+'s']);_0x3b50f4['length']>0x557*-0x1+-0x4bd*0x2+0xed1&&this['play'](_0x3b50f4[-0xd75+-0x20*0xb5+0x2415]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x48bfb4=this['model'],_0x29a6ba=this['animations'];let _0x3d2830=!(-0x1d2b+0x1c39+-0xf3*-0x1),_0x181391=!(0x2*0xd2b+0x1fdf+-0x3a34);for(const _0x2c5be8 in _0x29a6ba)_0x29a6ba['hasOwnProp'+'erty'](_0x2c5be8)&&(_0x29a6ba[_0x2c5be8]['constructo'+'r']===Ri?_0x181391=!(-0x1ddc+0xae7*-0x3+-0x3e91*-0x1):_0x3d2830=!(0x2700+-0x16*0xfb+0x2e*-0x61));const _0x16bd2e=_0x48bfb4['getGraph']();_0x3d2830?(this['fromSkel']=new Wd(_0x16bd2e),this['toSkel']=new Wd(_0x16bd2e),this['skeleton']=new Wd(_0x16bd2e),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x16bd2e)):_0x181391&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0xac1874){if(!_0xac1874||!_0xac1874['length'])return;const _0xda4bee=this['system']['app']['assets'],_0x1214f2=_0x2c8b8e=>{if(_0x2c8b8e['resources']['length']>0x428+-0x616*-0x5+-0x2295){for(let _0x3d5b25=0x5d*-0x53+0x1d0a+-0x5f*-0x3;_0x3d5b25<_0x2c8b8e['resources']['length'];_0x3d5b25++)this['animations'][_0x2c8b8e['resources'][_0x3d5b25]['name']]=_0x2c8b8e['resources'][_0x3d5b25],this['animations'+'Index'][_0x2c8b8e['id']]=_0x2c8b8e['resources'][_0x3d5b25]['name'];}else this['animations'][_0x2c8b8e['name']]=_0x2c8b8e['resource'],this['animations'+'Index'][_0x2c8b8e['id']]=_0x2c8b8e['name'];this['animations']=this['animations'];},_0x2d6909=_0x1c068c=>{_0x1c068c['off']('change',this['onAssetCha'+'nged'],this),_0x1c068c['on']('change',this['onAssetCha'+'nged'],this),_0x1c068c['off']('remove',this['onAssetRem'+'oved'],this),_0x1c068c['on']('remove',this['onAssetRem'+'oved'],this),_0x1c068c['resource']?_0x1214f2(_0x1c068c):(_0x1c068c['once']('load',_0x1214f2,this),this['enabled']&&this['entity']['enabled']&&_0xda4bee['load'](_0x1c068c));};for(let _0x4ffd21=-0x265a+-0x861+0x2ebb,_0xdcd1ff=_0xac1874['length'];_0x4ffd21<_0xdcd1ff;_0x4ffd21++){const _0x13b9ac=_0xda4bee['get'](_0xac1874[_0x4ffd21]);_0x13b9ac?_0x2d6909(_0x13b9ac):_0xda4bee['on']('add:'+_0xac1874[_0x4ffd21],_0x2d6909);}}['onAssetCha'+'nged'](_0x67255,_0x578e44,_0x427f4f,_0x59fb55){if(_0x578e44==='resource'||_0x578e44==='resources'){if(_0x578e44==='resources'&&_0x427f4f&&_0x427f4f['length']===-0x8f*-0xd+0xe78+0x1*-0x15bb&&(_0x427f4f=null),_0x427f4f){let _0x5b86ff=!(-0x44d*0x3+-0x132a*-0x1+0x642*-0x1);if(_0x427f4f['length']>-0x423+-0x2207+0x1*0x262b){if(_0x59fb55&&_0x59fb55['length']>-0x16cd+0x7*0x47c+-0x2*0x44b){for(let _0x206825=-0x2*-0xa45+-0x1533+0xa9;_0x206825<_0x59fb55['length'];_0x206825++)delete this['animations'][_0x59fb55[_0x206825]['name']];}else delete this['animations'][_0x67255['name']];_0x5b86ff=!(0x254f*-0x1+-0x1f77+-0x16ed*-0x3);for(let _0x418742=-0x16bc+-0x1ad*-0xa+0x5fa;_0x418742<_0x427f4f['length'];_0x418742++)this['animations'][_0x427f4f[_0x418742]['name']]=_0x427f4f[_0x418742],!_0x5b86ff&&this['currAnim']===_0x427f4f[_0x418742]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5b86ff=!(0x4cd*0x2+0xbd3+-0x156d*0x1),this['play'](_0x427f4f[_0x418742]['name']));_0x5b86ff||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x59fb55&&_0x59fb55['length']>0x4a*-0x79+-0x1f2*-0x6+0x174f){for(let _0x39ba65=-0x2502+0x554*0x1+0x1fae;_0x39ba65<_0x59fb55['length'];_0x39ba65++)delete this['animations'][_0x59fb55[_0x39ba65]['name']];}this['animations'][_0x67255['name']]=_0x427f4f[0xae+0x579*-0x1+0x4cb]||_0x427f4f,_0x5b86ff=!(-0x1de3+0x12ca+0x1*0xb1a),this['currAnim']===_0x67255['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5b86ff=!(0x45*-0x24+-0x1*0xc5b+0x160f*0x1),this['play'](_0x67255['name'])),_0x5b86ff||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x67255['id']]=_0x67255['name'];}else{if(_0x59fb55['length']>0x24fd+0x1*-0x25+-0x24d7){for(let _0x2a02fb=0x5*0x22f+-0x16*-0x19d+-0x2e69;_0x2a02fb<_0x59fb55['length'];_0x2a02fb++)delete this['animations'][_0x59fb55[_0x2a02fb]['name']],this['currAnim']===_0x59fb55[_0x2a02fb]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x67255['name']],this['currAnim']===_0x67255['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x67255['id']];}}}['onAssetRem'+'oved'](_0x5caa65){if(_0x5caa65['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x5caa65['resources']['length']>0x1f*-0x77+0x10f8+-0xda*0x3){for(let _0x2a3cd9=-0x20e9+0x1b3b*0x1+-0x1*-0x5ae;_0x2a3cd9<_0x5caa65['resources']['length'];_0x2a3cd9++)delete this['animations'][_0x5caa65['resources'][_0x2a3cd9]['name']],this['currAnim']===_0x5caa65['resources'][_0x2a3cd9]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x5caa65['name']],this['currAnim']===_0x5caa65['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x5caa65['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x15e1*-0x1+0x19d0+0x2fb0*-0x1),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0xfe7+-0xc39*-0x3+-0x3*0x1186,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x384e57=-0x2*-0x277+0x1282+-0x1770;_0x384e57<this['animEvalua'+'tor']['clips']['length'];++_0x384e57)this['animEvalua'+'tor']['clips'][_0x384e57]['stop']();this['animEvalua'+'tor']['update'](0x2c9+-0x927+0x65e),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x15082d=this['assets'],_0x50d8d0=this['system']['app']['assets'];if(_0x15082d)for(let _0x59e6e6=-0x7*0x2b5+-0xc17+0x1f0a,_0x58495f=_0x15082d['length'];_0x59e6e6<_0x58495f;_0x59e6e6++){let _0x564b45=_0x15082d[_0x59e6e6];_0x564b45 instanceof le||(_0x564b45=_0x50d8d0['get'](_0x564b45)),_0x564b45&&!_0x564b45['resource']&&_0x50d8d0['load'](_0x564b45);}if(this['activate']&&!this['currAnim']){const _0x198d62=Object['keys'](this['animations']);_0x198d62['length']>-0x9e*-0x3b+0xb0e+-0x2f78&&this['play'](_0x198d62[-0x2598+-0x11d1*-0x1+0x3d*0x53]);}}['onBeforeRe'+'move'](){for(let _0x57198a=0x112d+-0x134b*-0x2+-0x37c3;_0x57198a<this['assets']['length'];_0x57198a++){let _0x53aaba=this['assets'][_0x57198a];typeof _0x53aaba=='number'&&(_0x53aaba=this['system']['app']['assets']['get'](_0x53aaba)),_0x53aaba&&(_0x53aaba['off']('change',this['onAssetCha'+'nged'],this),_0x53aaba['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x155d11){if(this['blending']&&(this['blend']+=_0x155d11*this['blendSpeed'],this['blend']>=-0x2b4+0x1c70+0x7*-0x3ad&&(this['blend']=-0x1e58*-0x1+0xb66+-0x5*0x859)),this['playing']){const _0x548364=this['skeleton'];if(_0x548364!==null&&this['model']!==null){if(this['blending'])_0x548364['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x177d8d=_0x155d11*this['speed'];_0x548364['addTime'](_0x177d8d),this['speed']>0x1a28+0x5*-0x6d1+0x7ed*0x1&&_0x548364['_time']===_0x548364['animation']['duration']&&!this['loop']?this['playing']=!(-0x19*-0xb3+0xdf*0x1d+-0x2abd):this['speed']<-0x3*0x15b+-0x15*0x5b+0x24*0x52&&_0x548364['_time']===-0x26*-0x1d+-0xb5*-0x11+-0x1053&&!this['loop']&&(this['playing']=!(0x2529+-0x1*0x1025+-0xb*0x1e9));}this['blending']&&this['blend']===-0x644+-0x86d*-0x3+-0x1302&&(_0x548364['animation']=this['toSkel']['animation']),_0x548364['updateGrap'+'h']();}}const _0x181383=this['animEvalua'+'tor'];if(_0x181383){for(let _0xdaab84=-0x25b0+0x14bd*-0x1+0x3a6d*0x1;_0xdaab84<_0x181383['clips']['length'];++_0xdaab84){const _0x4254c5=_0x181383['clips'][_0xdaab84];_0x4254c5['speed']=this['speed'],this['playing']?_0x4254c5['resume']():_0x4254c5['pause']();}this['blending']&&_0x181383['clips']['length']>-0x3*-0xa61+0x1*-0x1b19+-0x409&&(_0x181383['clips'][0x1*-0x15a3+0x192e+-0x38a]['blendWeigh'+'t']=this['blend']),_0x181383['update'](_0x155d11);}this['blending']&&this['blend']===-0xb44*-0x2+-0x8a8+-0xddf&&(this['blending']=!(0x2352*-0x1+-0x72*0x13+0x2bc9));}}class zP{constructor(){this['enabled']=!(0x2549*-0x1+0x2e*-0xba+0x17*0x313);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x4154b3){super(_0x4154b3),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x73d5a9,_0x5787f2,_0x47a5e4){_0x47a5e4=['activate','enabled','loop','speed','assets'];for(const _0x40e1d2 of _0x47a5e4)_0x5787f2['hasOwnProp'+'erty'](_0x40e1d2)&&(_0x73d5a9[_0x40e1d2]=_0x5787f2[_0x40e1d2]);super['initialize'+'ComponentD'+'ata'](_0x73d5a9,_0x5787f2,Qu);}['cloneCompo'+'nent'](_0x41c595,_0x5aa78d){this['addCompone'+'nt'](_0x5aa78d,{}),_0x5aa78d['animation']['assets']=_0x41c595['animation']['assets']['slice'](),_0x5aa78d['animation']['speed']=_0x41c595['animation']['speed'],_0x5aa78d['animation']['loop']=_0x41c595['animation']['loop'],_0x5aa78d['animation']['activate']=_0x41c595['animation']['activate'],_0x5aa78d['animation']['enabled']=_0x41c595['animation']['enabled'];const _0x295e52={},_0x2b2d9f=_0x41c595['animation']['animations'];for(const _0x414ca9 in _0x2b2d9f)_0x2b2d9f['hasOwnProp'+'erty'](_0x414ca9)&&(_0x295e52[_0x414ca9]=_0x2b2d9f[_0x414ca9]);_0x5aa78d['animation']['animations']=_0x295e52;const _0x52d566={},_0x318d11=_0x41c595['animation']['animations'+'Index'];for(const _0x30d30c in _0x318d11)_0x318d11['hasOwnProp'+'erty'](_0x30d30c)&&(_0x52d566[_0x30d30c]=_0x318d11[_0x30d30c]);return _0x5aa78d['animation']['animations'+'Index']=_0x52d566,_0x5aa78d['animation'];}['onBeforeRe'+'move'](_0x2bc9c8,_0x275503){_0x275503['onBeforeRe'+'move']();}['onUpdate'](_0x5c7a0a){const _0x4e44e7=this['store'];for(const _0x3c00b3 in _0x4e44e7)if(_0x4e44e7['hasOwnProp'+'erty'](_0x3c00b3)){const _0x475b7f=_0x4e44e7[_0x3c00b3];_0x475b7f['data']['enabled']&&_0x475b7f['entity']['enabled']&&_0x475b7f['entity']['animation']['update'](_0x5c7a0a);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x3150b3,_0x2ea0cb,_0x4a900a,_0x4c782b,_0xd899d7=0x2b*0xa4+0x18e*-0x13+0x1ff){this['_state']=_0x3150b3,this['_parent']=_0x2ea0cb,this['_name']=_0x4a900a,Array['isArray'](_0x4c782b)?(this['_point']=new W(_0x4c782b[-0x13ef+0x1*0x240d+-0x101e],_0x4c782b[0x1023+-0x2071*0x1+-0x19*-0xa7]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x4c782b,this['_pointLeng'+'th']=_0x4c782b),this['_speed']=_0xd899d7,this['_weightedS'+'peed']=-0x1312+0x229b+-0xf88,this['_weight']=0x2e*0xa2+0xe45+-0xad8*0x4,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x17e923){this['_weight']=_0x17e923;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x2a080a=this['_state']['totalWeigh'+'t'];return _0x2a080a===-0x19c2+-0xc*0x291+0x388e?0x301+0xaca+0xdcb*-0x1:this['weight']/_0x2a080a;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x526d2b){this['_weightedS'+'peed']=_0x526d2b;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x5b2c55){this['_animTrack']=_0x5b2c55;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x53c0e6,_0x650acc,_0x13039f,_0x5b617c,_0x2440e9,_0x119a80,_0x12ce4b,_0x1c4528,_0x3e9b64){super(_0x53c0e6,_0x650acc,_0x13039f,_0x5b617c),this['_parameter'+'s']=_0x2440e9,this['_parameter'+'Values']=new Array(_0x2440e9['length']),this['_children']=[],this['_findParam'+'eter']=_0x3e9b64,this['_syncAnima'+'tions']=_0x12ce4b!==!(-0x1*-0x2543+-0x972+-0x1bd0),this['_pointCach'+'e']={};for(let _0x15dca0=-0x21c9+0xd76+0x1*0x1453;_0x15dca0<_0x119a80['length'];_0x15dca0++){const _0x2a2023=_0x119a80[_0x15dca0];_0x2a2023['children']?this['_children']['push'](_0x1c4528(_0x2a2023['type'],_0x53c0e6,this,_0x2a2023['name'],0x1338+0xe9*0x17+-0x2826,_0x2a2023['parameter']?[_0x2a2023['parameter']]:_0x2a2023['parameters'],_0x2a2023['children'],_0x2a2023['syncAnimat'+'ions'],_0x1c4528,_0x3e9b64)):this['_children']['push'](new Uo(_0x53c0e6,this,_0x2a2023['name'],_0x2a2023['point'],_0x2a2023['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x5d440d){for(let _0x398eff=-0xd*0x1cd+-0x4b5+0x1c1e;_0x398eff<this['_children']['length'];_0x398eff++)if(this['_children'][_0x398eff]['name']===_0x5d440d)return this['_children'][_0x398eff];return null;}['updatePara'+'meterValue'+'s'](){let _0xcbeaea=!(-0x2618+-0xb*0x25d+-0x71f*-0x9);for(let _0x1620da=0x10*-0x1fa+0x126b+0xd35;_0x1620da<this['_parameter'+'Values']['length'];_0x1620da++){const _0x15fca8=this['_findParam'+'eter'](this['_parameter'+'s'][_0x1620da])['value'];this['_parameter'+'Values'][_0x1620da]!==_0x15fca8&&(this['_parameter'+'Values'][_0x1620da]=_0x15fca8,_0xcbeaea=!(0x538*-0x6+-0x2697+-0x1*-0x45e8));}return _0xcbeaea;}['getNodeWei'+'ghtedDurat'+'ion'](_0x2f3f34){return this['_children'][_0x2f3f34]['animTrack']['duration']/this['_children'][_0x2f3f34]['speedMulti'+'plier']*this['_children'][_0x2f3f34]['weight'];}['getNodeCou'+'nt'](){let _0x29b215=-0x425+0x218a+-0x1d65;for(let _0xf62e88=0x1bd8+0x61*0x43+0x1*-0x353b;_0xf62e88<this['_children']['length'];_0xf62e88++)this['_children'][_0xf62e88]['constructo'+'r']===Ba?_0x29b215+=this['_children'][_0xf62e88]['getNodeCou'+'nt']():_0x29b215++;return _0x29b215;}}class VP extends Ba{constructor(_0x1f42aa,_0x5d55ba,_0x3f4fae,_0x1fbae3,_0x16ca5f,_0x3a2d84,_0x543d4e,_0x4d25db,_0x34b312){_0x3a2d84['sort']((_0x1caab0,_0xd470ef)=>_0x1caab0['point']-_0xd470ef['point']),super(_0x1f42aa,_0x5d55ba,_0x3f4fae,_0x1fbae3,_0x16ca5f,_0x3a2d84,_0x543d4e,_0x4d25db,_0x34b312);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x383295=0x6f6+-0x742+-0x2*-0x26;this['_children'][0x1884+-0x1e2e+0x5aa]['weight']=-0xe67+0x772*-0x4+-0x2c2f*-0x1;for(let _0x1dc6d6=-0xb0e*-0x3+0x2362+0x4*-0x1123;_0x1dc6d6<this['_children']['length'];_0x1dc6d6++){const _0x32740c=this['_children'][_0x1dc6d6];if(_0x1dc6d6!==this['_children']['length']-(-0x21f8+-0x8*0x358+0x3cb9)){const _0xdde39a=this['_children'][_0x1dc6d6+(-0x1*-0x1949+0x117e*0x1+0x2ac6*-0x1)];if(_0x32740c['point']===_0xdde39a['point'])_0x32740c['weight']=0x1*0x231b+-0x58d+-0x1d8e+0.5,_0xdde39a['weight']=0x621+0xb71+0x1a*-0xad+0.5;else{if(N['between'](this['_parameter'+'Values'][-0x1085+-0x1a59*-0x1+-0x9d4],_0x32740c['point'],_0xdde39a['point'],!(-0x1df+0x5*0x2f+-0x2*-0x7a))){const _0x32a3a4=Math['abs'](_0x32740c['point']-_0xdde39a['point']),_0x4980fd=Math['abs'](_0x32740c['point']-this['_parameter'+'Values'][-0x1361*0x2+0xf8a+0x1738]),_0x2622f6=(_0x32a3a4-_0x4980fd)/_0x32a3a4;_0x32740c['weight']=_0x2622f6,_0xdde39a['weight']=0x1576+0x1de0*-0x1+0x86b-_0x2622f6;}else _0xdde39a['weight']=0x7*-0x119+0x120a+-0xa5b;}}this['_syncAnima'+'tions']&&(_0x383295+=_0x32740c['animTrack']['duration']/_0x32740c['absoluteSp'+'eed']*_0x32740c['weight']);}if(this['_syncAnima'+'tions'])for(let _0x4888a0=-0x15d1+0x3d*-0x13+0x1a58;_0x4888a0<this['_children']['length'];_0x4888a0++){const _0x370f79=this['_children'][_0x4888a0];_0x370f79['weightedSp'+'eed']=_0x370f79['animTrack']['duration']/_0x370f79['absoluteSp'+'eed']/_0x383295;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x1d450e,_0x2b6c38){const _0x2ebc19=''+_0x1d450e+_0x2b6c38;return this['_pointCach'+'e'][_0x2ebc19]||(this['_pointCach'+'e'][_0x2ebc19]=this['_children'][_0x2b6c38]['point']['clone']()['sub'](this['_children'][_0x1d450e]['point'])),this['_pointCach'+'e'][_0x2ebc19];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5b9b20,_0x3262e8;gi['_p']['set'](...this['_parameter'+'Values']),_0x5b9b20=-0x2467+0x1009*-0x1+-0x3470*-0x1,_0x3262e8=0x52e+-0x1f3f+0x1a11*0x1;for(let _0x140ff7=0x16f2+-0x2*-0xf89+-0x3604;_0x140ff7<this['_children']['length'];_0x140ff7++){const _0x49f7fc=this['_children'][_0x140ff7],_0x5236bf=_0x49f7fc['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x5236bf);let _0x30677b=Number['MAX_VALUE'];for(let _0x51e0f4=-0x14ff+0x728*-0x1+-0x1c27*-0x1;_0x51e0f4<this['_children']['length'];_0x51e0f4++){if(_0x140ff7===_0x51e0f4)continue;const _0x3dd46e=this['pointDista'+'nceCache'](_0x140ff7,_0x51e0f4),_0x45caab=N['clamp'](-0x1e8a+0xd4b*0x2+-0x3f5*-0x1-gi['_pip']['dot'](_0x3dd46e)/_0x3dd46e['lengthSq'](),-0x5b*-0x1d+-0x1f7c+-0x27*-0x8b,0x1*-0x20bc+-0x1*0x1b65+0x3c22);_0x45caab<_0x30677b&&(_0x30677b=_0x45caab);}_0x49f7fc['weight']=_0x30677b,_0x5b9b20+=_0x30677b,this['_syncAnima'+'tions']&&(_0x3262e8+=_0x49f7fc['animTrack']['duration']/_0x49f7fc['absoluteSp'+'eed']*_0x49f7fc['weight']);}for(let _0x29ac44=-0x8*-0x4c7+0x63f*0x5+-0x4573;_0x29ac44<this['_children']['length'];_0x29ac44++){const _0x57e573=this['_children'][_0x29ac44];_0x57e573['weight']=_0x57e573['_weight']/_0x5b9b20,this['_syncAnima'+'tions']&&(_0x57e573['weightedSp'+'eed']=_0x57e573['animTrack']['duration']/_0x57e573['absoluteSp'+'eed']/_0x3262e8);}}};c(gi,'_p',new W()),c(gi,'_pip',new W());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x24fce0,_0x53c624){const _0x1d638b=''+_0x24fce0+_0x53c624;return this['_pointCach'+'e'][_0x1d638b]||(this['_pointCach'+'e'][_0x1d638b]=new W((this['_children'][_0x53c624]['pointLengt'+'h']-this['_children'][_0x24fce0]['pointLengt'+'h'])/((this['_children'][_0x53c624]['pointLengt'+'h']+this['_children'][_0x24fce0]['pointLengt'+'h'])/(0x3e*-0x12+-0xe8c+-0x1*-0x12ea)),W['angleRad'](this['_children'][_0x24fce0]['point'],this['_children'][_0x53c624]['point'])*(0xecd+-0x2*-0x538+-0x3*0x869))),this['_pointCach'+'e'][_0x1d638b];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2a60d2,_0x37a9b9;yi['_p']['set'](...this['_parameter'+'Values']);const _0x4e4273=yi['_p']['length']();_0x2a60d2=-0x7*-0x39b+0x1164+0x7*-0x617,_0x37a9b9=-0x1088+0x7f*0x16+-0x1*-0x59e;for(let _0x16e566=0x8c6+-0xd5*-0x2+-0xa70;_0x16e566<this['_children']['length'];_0x16e566++){const _0x1a5a6e=this['_children'][_0x16e566],_0x59ebf4=_0x1a5a6e['point'],_0x4c409d=_0x1a5a6e['pointLengt'+'h'];let _0x196e31=Number['MAX_VALUE'];for(let _0x1afb15=-0x11*-0xd+-0x94b+0x86e;_0x1afb15<this['_children']['length'];_0x1afb15++){if(_0x16e566===_0x1afb15)continue;const _0x1db201=this['pointCache'](_0x16e566,_0x1afb15),_0x369dc4=this['_children'][_0x1afb15]['pointLengt'+'h'];yi['_pip']['set']((_0x4e4273-_0x4c409d)/((_0x369dc4+_0x4c409d)/(-0x1*0x1f3+0x69c+-0x4a7)),W['angleRad'](_0x59ebf4,yi['_p'])*(-0x6a*-0x53+-0xa6a+0x265*-0xa));const _0x1f1ccb=N['clamp'](0x218f+0x1*0x238a+-0x4518-Math['abs'](yi['_pip']['dot'](_0x1db201)/_0x1db201['lengthSq']()),-0x201c+-0x24*-0x58+0xc*0x1a5,0x805+0x2590+-0x2d94);_0x1f1ccb<_0x196e31&&(_0x196e31=_0x1f1ccb);}_0x1a5a6e['weight']=_0x196e31,_0x2a60d2+=_0x196e31,this['_syncAnima'+'tions']&&(_0x37a9b9+=_0x1a5a6e['animTrack']['duration']/_0x1a5a6e['absoluteSp'+'eed']*_0x1a5a6e['weight']);}for(let _0x1b189f=0x1*0x1d75+-0x597+-0x17de;_0x1b189f<this['_children']['length'];_0x1b189f++){const _0x419833=this['_children'][_0x1b189f];if(_0x419833['weight']=_0x419833['_weight']/_0x2a60d2,this['_syncAnima'+'tions']){const _0x240cdb=_0x419833['animTrack']['duration']/_0x37a9b9*_0x2a60d2;_0x419833['weightedSp'+'eed']=_0x419833['absoluteSp'+'eed']*_0x240cdb;}}}};c(yi,'_p',new W()),c(yi,'_pip',new W());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3e374b=0x1745+-0x1a68+-0xb*-0x49,_0x2c257f=0x4*0x734+0x1a06+-0x36d6;for(let _0x28dc3f=0x5a6+0x15da+-0x1b80;_0x28dc3f<this['_children']['length'];_0x28dc3f++)if(_0x3e374b+=Math['max'](this['_parameter'+'Values'][_0x28dc3f],0x1f1+0x15*-0x119+-0xe*-0x182),this['_syncAnima'+'tions']){const _0x52a323=this['_children'][_0x28dc3f];_0x2c257f+=_0x52a323['animTrack']['duration']/_0x52a323['absoluteSp'+'eed']*_0x52a323['weight'];}for(let _0x1ef282=0x1ed*-0x9+0x25b5+-0x1460;_0x1ef282<this['_children']['length'];_0x1ef282++){const _0x57e9ee=this['_children'][_0x1ef282],_0x2fd59e=Math['max'](this['_parameter'+'Values'][_0x1ef282],-0x2609+0x5*0x37+-0xa6*-0x39);_0x3e374b?(_0x57e9ee['weight']=_0x2fd59e/_0x3e374b,this['_syncAnima'+'tions']&&(_0x57e9ee['weightedSp'+'eed']=_0x57e9ee['animTrack']['duration']/_0x57e9ee['absoluteSp'+'eed']/_0x2c257f)):(_0x57e9ee['weight']=-0x1f7b*-0x1+0x2*0x3f5+-0x2765,this['_syncAnima'+'tions']&&(_0x57e9ee['weightedSp'+'eed']=0x1ff9+0x10a1+-0x309a));}}}class eg{constructor(_0x33aeeb,_0x3126ab,_0x22788b=-0x15f5+0xe7a+0x77c,_0x5b934a=!(0x100a*-0x1+-0x1*0x26ad+0x36b7),_0x4b86d2){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x33aeeb,this['_name']=_0x3126ab,this['_speed']=_0x22788b,this['_loop']=_0x5b934a,this['_hasAnimat'+'ions']=!(0x6ed+0x1dac+-0x2498),_0x4b86d2?this['_blendTree']=this['_createTre'+'e'](_0x4b86d2['type'],this,null,_0x3126ab,0x1*-0x1304+-0x1fd2+-0x32d7*-0x1,_0x4b86d2['parameter']?[_0x4b86d2['parameter']]:_0x4b86d2['parameters'],_0x4b86d2['children'],_0x4b86d2['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x3126ab,-0xa*-0x227+0x7*-0x56f+0x7*0x25c,_0x22788b));}['_createTre'+'e'](_0x522c49,_0x5590f3,_0x10d5d9,_0x1ae94f,_0x2d0679,_0xfe5ab8,_0x1d66bb,_0x279372,_0x3b155b,_0x5d9d34){switch(_0x522c49){case FP:return new VP(_0x5590f3,_0x10d5d9,_0x1ae94f,_0x2d0679,_0xfe5ab8,_0x1d66bb,_0x279372,_0x3b155b,_0x5d9d34);case kP:return new Ju(_0x5590f3,_0x10d5d9,_0x1ae94f,_0x2d0679,_0xfe5ab8,_0x1d66bb,_0x279372,_0x3b155b,_0x5d9d34);case OP:return new ef(_0x5590f3,_0x10d5d9,_0x1ae94f,_0x2d0679,_0xfe5ab8,_0x1d66bb,_0x279372,_0x3b155b,_0x5d9d34);case BP:return new GP(_0x5590f3,_0x10d5d9,_0x1ae94f,_0x2d0679,_0xfe5ab8,_0x1d66bb,_0x279372,_0x3b155b,_0x5d9d34);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x522c49);}['_getNodeFr'+'omPath'](_0x1639e2){let _0x5f43db=this['_blendTree'];for(let _0x1b2d4f=0x49e+-0x12a1+0xc*0x12b;_0x1b2d4f<_0x1639e2['length'];_0x1b2d4f++)_0x5f43db=_0x5f43db['getChild'](_0x1639e2[_0x1b2d4f]);return _0x5f43db;}['addAnimati'+'on'](_0x2465ce,_0x575251){const _0x5d1bcd=_0x2465ce['join']('.'),_0x42d5f8=this['_animation'+'List']['findIndex'](_0x1390af=>_0x1390af['path']===_0x5d1bcd);if(_0x42d5f8>=0x3*-0xa49+0x235d*-0x1+0x4238)this['_animation'+'List'][_0x42d5f8]['animTrack']=_0x575251;else{const _0x40a9dd=this['_getNodeFr'+'omPath'](_0x2465ce);_0x40a9dd['animTrack']=_0x575251,this['_animation'+'List']['push'](_0x40a9dd);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x1*0xe2d+0x14c*-0x1b+0x7*0x707&&this['_animation'+'List']['every'](_0xe7a1a1=>_0xe7a1a1['animTrack']&&_0xe7a1a1['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x229451){this['_animation'+'List']=_0x229451,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x47fca9){this['_speed']=_0x47fca9;}get['speed'](){return this['_speed'];}set['loop'](_0x3229bd){this['_loop']=_0x3229bd;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?0xd38+-0x5ea*-0x4+-0x24df:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(-0x24b6+0xc48+0x186f)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x16d5+-0xfce*0x1+-0x9*-0x44b){const _0x221203=this['name']+'.'+this['animations'][0x1566+-0x1*-0x943+-0x1ea9]['animTrack']['name'],_0xa0b85e=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x221203);if(_0xa0b85e)return _0xa0b85e['loop'];}return!(0x258d*-0x1+0xe35+0x1759);}get['totalWeigh'+'t'](){let _0x47fca1=-0x22ae+0x13e7+0x123*0xd;for(let _0x597503=0x535*0x2+-0x1*0xa76+0xc;_0x597503<this['animations']['length'];_0x597503++)_0x47fca1+=this['animations'][_0x597503]['weight'];return _0x47fca1;}get['timelineDu'+'ration'](){let _0x1dda64=0x94a+-0x9fe+-0xc*-0xf;for(let _0x30be68=0x19dd+-0xe*0x38+-0x16cd;_0x30be68<this['animations']['length'];_0x30be68++){const _0x4c35a2=this['animations'][_0x30be68];_0x4c35a2['animTrack']['duration']>_0x1dda64&&(_0x1dda64=_0x4c35a2['animTrack']['duration']);}return _0x1dda64;}}class Yh{constructor({from:_0x5ac0e9,to:_0x2da749,time:_0x58a7a9=-0xa91+-0x19f2+0x1*0x2483,priority:_0x44b3e0=-0x8cc+0x2306+-0x1a3a,conditions:_0x16693a=[],exitTime:_0x35874f=null,transitionOffset:_0x129c5b=null,interruptionSource:_0x196d1f=q0}){this['_from']=_0x5ac0e9,this['_to']=_0x2da749,this['_time']=_0x58a7a9,this['_priority']=_0x44b3e0,this['_condition'+'s']=_0x16693a,this['_exitTime']=_0x35874f,this['_transitio'+'nOffset']=_0x129c5b,this['_interrupt'+'ionSource']=_0x196d1f;}get['from'](){return this['_from'];}set['to'](_0x270d05){this['_to']=_0x270d05;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x28b504,_0x298af5,_0x28be0e,_0x2ee391,_0x2a03fd,_0x169948,_0x581ec7){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',0x9df*0x2+0x1ed8+-0x4a*0xaf),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x52*-0x1+0x399+-0x3eb)),c(this,'_playing',!(-0x193*0x5+0x6d9*0x5+-0x1a5d)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',-0x1e02+0x1*-0x18fd+0x3700),c(this,'_totalTran'+'sitionTime',-0x629*0x2+0xb7c+0xd7),c(this,'_isTransit'+'ioning',!(-0x535*-0x2+0xe2c+0x1895*-0x1)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x881+0x21*0xd3+-0x23b4),c(this,'_timeInSta'+'teBefore',-0x1*-0x20c3+0x10a4+0x3167*-0x1),c(this,'findParame'+'ter',_0x279a9c=>this['_findParam'+'eter'](_0x279a9c)),(this['_animEvalu'+'ator']=_0x28b504,this['_eventHand'+'ler']=_0x2a03fd,this['_findParam'+'eter']=_0x169948,this['_consumeTr'+'igger']=_0x581ec7);for(let _0x3e70f9=0x5a5*-0x2+-0x5cc*-0x2+0x6*-0xd;_0x3e70f9<_0x298af5['length'];_0x3e70f9++)this['_states'][_0x298af5[_0x3e70f9]['name']]=new eg(this,_0x298af5[_0x3e70f9]['name'],_0x298af5[_0x3e70f9]['speed'],_0x298af5[_0x3e70f9]['loop'],_0x298af5[_0x3e70f9]['blendTree']),this['_stateName'+'s']['push'](_0x298af5[_0x3e70f9]['name']);this['_transitio'+'ns']=_0x28be0e['map'](_0x56fd09=>new Yh({..._0x56fd09})),this['_activate']=_0x2ee391;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0xea5232){this['_activeSta'+'teName']=_0xea5232;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x378a1a){this['_previousS'+'tateName']=_0x378a1a;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x488bb3=!(-0x575+0x2*-0xa8b+0x1a8b);for(let _0xf29a75=0x8b*-0x47+0x1991+0x6*0x22a;_0xf29a75<this['_stateName'+'s']['length'];_0xf29a75++)this['_states'][this['_stateName'+'s'][_0xf29a75]]['playable']||(_0x488bb3=!(0x5*-0x52+-0x26*0x11+-0x97*-0x7));return _0x488bb3;}set['playing'](_0x5bb87d){this['_playing']=_0x5bb87d;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x172bc7=0xef0+0x1f8e+-0x2e7e;for(let _0x2e8601=-0x3a7*0x9+0x1f25+0x1ba;_0x2e8601<this['activeStat'+'eAnimation'+'s']['length'];_0x2e8601++){const _0x27d3b2=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x2e8601]['name']);_0x27d3b2&&(_0x172bc7=Math['max'](_0x172bc7,_0x27d3b2['track']['duration']));}this['_activeSta'+'teDuration']=_0x172bc7,this['_activeSta'+'teDuration'+'Dirty']=!(-0x92c*-0x4+-0x727+-0x1d88);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x45d9fd){this['_timeInSta'+'teBefore']=_0x45d9fd,this['_timeInSta'+'te']=_0x45d9fd;for(let _0xda7259=0xbd3+0x2465+0x8*-0x607;_0xda7259<this['activeStat'+'eAnimation'+'s']['length'];_0xda7259++){const _0x1309ad=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0xda7259]['name']);_0x1309ad&&(_0x1309ad['time']=_0x45d9fd);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x5c5212){return this['_animEvalu'+'ator']['assignMask'](_0x5c5212);}['_findState'](_0x2ecd19){return this['_states'][_0x2ecd19];}['_getActive'+'StateProgr'+'essForTime'](_0x5b32c1){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return 0x3*0x60+-0x4e*0x30+-0x1*-0xd81;const _0x4df2c0=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x59e*-0x5+-0x1d3*0xa+-0x9d8]['name']);return _0x4df2c0?_0x4df2c0['progressFo'+'rTime'](_0x5b32c1):null;}['_findTrans'+'itionsFrom'+'State'](_0x44b21c){let _0x208b82=this['_findTrans'+'itionsFrom'+'StateCache'][_0x44b21c];return _0x208b82||(_0x208b82=this['_transitio'+'ns']['filter'](_0x29d66c=>_0x29d66c['from']===_0x44b21c),No(_0x208b82),this['_findTrans'+'itionsFrom'+'StateCache'][_0x44b21c]=_0x208b82),_0x208b82;}['_findTrans'+'itionsBetw'+'eenStates'](_0x173927,_0x3df6f5){let _0x44806f=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x173927+'->'+_0x3df6f5];return _0x44806f||(_0x44806f=this['_transitio'+'ns']['filter'](_0x18909d=>_0x18909d['from']===_0x173927&&_0x18909d['to']===_0x3df6f5),No(_0x44806f),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x173927+'->'+_0x3df6f5]=_0x44806f),_0x44806f;}['_transitio'+'nHasCondit'+'ionsMet'](_0x5bf86f){const _0x47ff50=_0x5bf86f['conditions'];for(let _0x52bdb3=-0x1*-0x18df+0xa9*-0x1f+0x18*-0x2f;_0x52bdb3<_0x47ff50['length'];_0x52bdb3++){const _0x56ea1c=_0x47ff50[_0x52bdb3],_0x295934=this['_findParam'+'eter'](_0x56ea1c['parameterN'+'ame']);switch(_0x56ea1c['predicate']){case MP:if(!(_0x295934['value']>_0x56ea1c['value']))return!(-0x1*-0x2448+-0xc90+-0x1d3*0xd);break;case PP:if(!(_0x295934['value']<_0x56ea1c['value']))return!(-0x1d*0xee+0x715*0x3+0x5b8);break;case RP:if(!(_0x295934['value']>=_0x56ea1c['value']))return!(-0x45*0x1b+-0xd7f*0x2+-0x29*-0xd6);break;case IP:if(!(_0x295934['value']<=_0x56ea1c['value']))return!(0x16a*0xa+-0x8c5+-0x1*0x55e);break;case DP:if(_0x295934['value']!==_0x56ea1c['value'])return!(0x5a+-0x3e*-0x7f+0x1*-0x1f1b);break;case LP:if(_0x295934['value']===_0x56ea1c['value'])return!(-0x59c+0x4d*0x6b+-0x1a92);break;}}return!(-0x421*0x4+-0x6*-0x468+0x1*-0x9ec);}['_findTrans'+'ition'](_0x2281d6,_0x3037b5){let _0x12cebb=[];if(_0x2281d6&&_0x3037b5)_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x2281d6,_0x3037b5));else{if(!this['_isTransit'+'ioning'])_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x12cebb=_0x12cebb['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x12cebb=_0x12cebb['filter'](_0x451d23=>{if(_0x451d23['to']===this['activeStat'+'eName'])return!(0x1343*-0x1+-0x2554+0x1*0x3898);if(_0x451d23['hasExitTim'+'e']){let _0x519811=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x18aed9=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x451d23['exitTime']<-0x2*-0x1e4+-0x1dfa+0x1a33&&this['activeStat'+'e']['loop']&&(_0x519811-=Math['floor'](_0x519811),_0x18aed9-=Math['floor'](_0x18aed9)),_0x18aed9===_0x519811){if(_0x18aed9!==_0x451d23['exitTime'])return null;}else{if(!(_0x451d23['exitTime']>_0x519811&&_0x451d23['exitTime']<=_0x18aed9))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x451d23);}),_0x12cebb['length']>0xbef*0x1+-0x2333+-0x5d1*-0x4){const _0x18c2de=_0x12cebb[0x3*0xa2f+0x915+0x13*-0x216];if(_0x18c2de['to']===Ku){const _0x1f8509=this['_findTrans'+'itionsFrom'+'State'](oo)[-0x10df+0x1*-0x24a9+0x3588];_0x18c2de['to']=_0x1f8509['to'];}return _0x18c2de;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x54c6d9){let _0x5c5fe8,_0x4604c2,_0x3d4d33;this['previousSt'+'ate']=_0x54c6d9['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x54c6d9['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0xabc+-0x8bf+-0x1fd);for(let _0x146d08=0x1341+-0x1dcb+0xa8a;_0x146d08<_0x54c6d9['conditions']['length'];_0x146d08++){const _0x2d63d5=_0x54c6d9['conditions'][_0x146d08];this['_findParam'+'eter'](_0x2d63d5['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x2d63d5['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0xf22b24=Math['min'](this['_totalTran'+'sitionTime']!==0x5*0x2a9+-0x8e*0xe+0x589*-0x1?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1*0xc31+0x11e9+-0x1e19,0x20*0xf6+-0x97b+0x1544*-0x1);for(let _0x205d91=-0x5b3*-0x1+0xc7*-0x26+0x17d7;_0x205d91<this['_transitio'+'nPreviousS'+'tates']['length'];_0x205d91++){this['_isTransit'+'ioning']?_0x205d91!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x10b4+-0x67f+-0x1734*-0x1)?this['_transitio'+'nPreviousS'+'tates'][_0x205d91]['weight']*=0x483+0x1d02+0x3c*-0x8f-_0xf22b24:this['_transitio'+'nPreviousS'+'tates'][_0x205d91]['weight']=_0xf22b24:this['_transitio'+'nPreviousS'+'tates'][_0x205d91]['weight']=0x3b*-0x79+-0x1*-0xc3b+0xfa9*0x1,_0x5c5fe8=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x205d91]['name']);for(let _0x20112e=0x10af+-0x11*-0x115+-0x14*0x1c1;_0x20112e<_0x5c5fe8['animations']['length'];_0x20112e++)_0x4604c2=_0x5c5fe8['animations'][_0x20112e],_0x3d4d33=this['_animEvalu'+'ator']['findClip'](_0x4604c2['name']+'.previous.'+_0x205d91),_0x3d4d33||(_0x3d4d33=this['_animEvalu'+'ator']['findClip'](_0x4604c2['name']),_0x3d4d33['name']=_0x4604c2['name']+'.previous.'+_0x205d91),_0x205d91!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x101e*-0x2+-0xf*0x245+-0x74*-0x4)&&_0x3d4d33['pause']();}}this['_isTransit'+'ioning']=!(0x2*-0x1367+0x24cb*-0x1+0x3*0x1933),this['_totalTran'+'sitionTime']=_0x54c6d9['time'],this['_currTrans'+'itionTime']=0x35*-0xb5+-0xa57+-0x990*-0x5,this['_transitio'+'nInterrupt'+'ionSource']=_0x54c6d9['interrupti'+'onSource'];const _0x117d28=this['activeStat'+'e'],_0x4b3c4a=_0x54c6d9['transition'+'Offset']&&_0x54c6d9['transition'+'Offset']>-0x3da+0x19b8*-0x1+0x5*0x5ea&&_0x54c6d9['transition'+'Offset']<-0x22f8+-0x1*-0xf0e+-0x1*-0x13eb;let _0x1458f2=0x12ac+0x379+-0x1625,_0x1d49e1=-0x1aeb+-0x6b0+-0x7*-0x4cd;if(_0x4b3c4a){const _0x5799a4=_0x117d28['timelineDu'+'ration']*_0x54c6d9['transition'+'Offset'];_0x1458f2=_0x5799a4,_0x1d49e1=_0x5799a4;}this['_timeInSta'+'te']=_0x1458f2,this['_timeInSta'+'teBefore']=_0x1d49e1;for(let _0x44eb5a=0x2*-0xfe8+0x10c7+0xf09;_0x44eb5a<_0x117d28['animations']['length'];_0x44eb5a++){if(_0x3d4d33=this['_animEvalu'+'ator']['findClip'](_0x117d28['animations'][_0x44eb5a]['name']),_0x3d4d33)_0x3d4d33['reset']();else{const _0x383dbb=Number['isFinite'](_0x117d28['animations'][_0x44eb5a]['speed'])?_0x117d28['animations'][_0x44eb5a]['speed']:_0x117d28['speed'];_0x3d4d33=new Xh(_0x117d28['animations'][_0x44eb5a]['animTrack'],this['_timeInSta'+'te'],_0x383dbb,!(-0xa*-0xa9+0xcd7+0xed*-0x15),_0x117d28['loop'],this['_eventHand'+'ler']),_0x3d4d33['name']=_0x117d28['animations'][_0x44eb5a]['name'],this['_animEvalu'+'ator']['addClip'](_0x3d4d33);}if(_0x54c6d9['time']>0x29*-0x3f+-0x5*0x7f+0xc92?_0x3d4d33['blendWeigh'+'t']=0x1*-0x270f+0xd3d+0x19d2:_0x3d4d33['blendWeigh'+'t']=_0x117d28['animations'][_0x44eb5a]['normalized'+'Weight'],_0x3d4d33['play'](),_0x4b3c4a)_0x3d4d33['time']=_0x117d28['timelineDu'+'ration']*_0x54c6d9['transition'+'Offset'];else{const _0x4ba813=_0x117d28['speed']>=0x1c95+0x1ae5+0x6*-0x93f?-0x5b*-0xa+-0x61a*0x1+0x28c:this['activeStat'+'eDuration'];_0x3d4d33['time']=_0x4ba813;}}}['_transitio'+'nToState'](_0x419cd5){if(!this['_findState'](_0x419cd5))return;let _0x147b1a=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x419cd5);_0x147b1a||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x147b1a=new Yh({'from':null,'to':_0x419cd5})),this['updateStat'+'eFromTrans'+'ition'](_0x147b1a);}['assignAnim'+'ation'](_0x2eb940,_0x2f8d1c,_0x3cae94,_0x488c35){const _0x330238=_0x2eb940['split']('.');let _0x7e9305=this['_findState'](_0x330238[-0x112*-0x13+0x34*0x6a+-0x29de]);_0x7e9305||(_0x7e9305=new eg(this,_0x330238[0x1dc3+-0x524+-0x23d*0xb],_0x3cae94),this['_states'][_0x330238[-0x24f5*-0x1+-0x1*0x286+-0x226f]]=_0x7e9305,this['_stateName'+'s']['push'](_0x330238[0xfee+0x812*-0x3+0x848])),_0x7e9305['addAnimati'+'on'](_0x330238,_0x2f8d1c),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x7e9305['name'],_0x2f8d1c),_0x3cae94!==void(0x3c7*0x9+0x1*0x12d6+0x19*-0x21d)&&(_0x7e9305['speed']=_0x3cae94),_0x488c35!==void(0x4*0x239+-0x1*0x9d7+0x3*0x51)&&(_0x7e9305['loop']=_0x488c35),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x232f+0x23a6+-0x1*0x77);}['removeNode'+'Animations'](_0x337261){if(jh['indexOf'](_0x337261)!==-(0x226b+-0x1dae*0x1+0xca*-0x6))return!(-0x65*-0x5+-0x1*0x17ff+0x1607);const _0x594b6f=this['_findState'](_0x337261);return _0x594b6f?(_0x594b6f['animations']=[],!(-0x197b*-0x1+-0x180*0x2+0x1*-0x167b)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x337261),!(-0x120e+-0x1a*0x50+0x1a2f));}['play'](_0x3cd94a){_0x3cd94a&&this['_transitio'+'nToState'](_0x3cd94a),this['_playing']=!(0xf80+-0x121a*0x1+0x12*0x25);}['pause'](){this['_playing']=!(0x8ad+0x1b2a+-0x23d6);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0x1b0e*0x1+-0x1586+-0x587),this['_currTrans'+'itionTime']=-0x1070+-0x538*-0x2+0x601,this['_totalTran'+'sitionTime']=0xd91+0xd0*-0x14+0x2b0,this['_isTransit'+'ioning']=!(-0x30d*-0x8+-0xdad+0x55d*-0x2),this['_timeInSta'+'te']=-0x2ab*0x6+-0x7e1+0x17e3,this['_timeInSta'+'teBefore']=-0x1313+0x1d72+-0xa5f,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x21b05e){if(!this['_playing'])return;let _0x522512,_0x2f73cc,_0xb275e2;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x21b05e*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x21b05e=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x434b2a=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x434b2a&&this['updateStat'+'eFromTrans'+'ition'](_0x434b2a),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x21b05e,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x346676=this['_totalTran'+'sitionTime']!==-0x43b*0x4+-0x1fb9*-0x1+0x1*-0xecd?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x13ee+-0x1*-0x114a+0x2a5;for(let _0x4efe68=0x258b+0x3*-0x599+-0x14c0;_0x4efe68<this['_transitio'+'nPreviousS'+'tates']['length'];_0x4efe68++){_0x522512=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x4efe68]['name']);const _0x3b3544=this['_transitio'+'nPreviousS'+'tates'][_0x4efe68]['weight'];for(let _0x38e872=0x17a*0x1+0x1c39+-0x1db3;_0x38e872<_0x522512['animations']['length'];_0x38e872++)_0x2f73cc=_0x522512['animations'][_0x38e872],_0xb275e2=this['_animEvalu'+'ator']['findClip'](_0x2f73cc['name']+'.previous.'+_0x4efe68),_0xb275e2&&(_0xb275e2['blendWeigh'+'t']=(-0xb4b*-0x1+-0x26b9+-0x1b6f*-0x1-_0x346676)*_0x2f73cc['normalized'+'Weight']*_0x3b3544);}_0x522512=this['activeStat'+'e'];for(let _0x4a271e=0x2*-0xa70+0x464*0x1+-0xd3*-0x14;_0x4a271e<_0x522512['animations']['length'];_0x4a271e++)_0x2f73cc=_0x522512['animations'][_0x4a271e],this['_animEvalu'+'ator']['findClip'](_0x2f73cc['name'])['blendWeigh'+'t']=_0x346676*_0x2f73cc['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0xd22+-0x1*-0x1727+-0xa04*0x1);const _0x13abf0=this['activeStat'+'eAnimation'+'s']['length'],_0x228293=this['_animEvalu'+'ator']['clips']['length'];for(let _0x2fe64d=-0x140c+0x728+0xce4;_0x2fe64d<_0x228293-_0x13abf0;_0x2fe64d++)this['_animEvalu'+'ator']['removeClip'](0x743+-0x1621+0xede);this['_transitio'+'nPreviousS'+'tates']=[],_0x522512=this['activeStat'+'e'];for(let _0x326071=-0x2687+0x4*-0x4f+0x27c3;_0x326071<_0x522512['animations']['length'];_0x326071++)_0x2f73cc=_0x522512['animations'][_0x326071],_0xb275e2=this['_animEvalu'+'ator']['findClip'](_0x2f73cc['name']),_0xb275e2&&(_0xb275e2['blendWeigh'+'t']=_0x2f73cc['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x522512=this['activeStat'+'e'];for(let _0xb95083=-0x32b*-0x2+-0xa3a*0x3+-0x4c*-0x52;_0xb95083<_0x522512['animations']['length'];_0xb95083++)_0x2f73cc=_0x522512['animations'][_0xb95083],_0xb275e2=this['_animEvalu'+'ator']['findClip'](_0x2f73cc['name']),_0xb275e2&&(_0xb275e2['blendWeigh'+'t']=_0x2f73cc['normalized'+'Weight'],_0x2f73cc['parent']['syncAnimat'+'ions']&&(_0xb275e2['speed']=_0x2f73cc['speed']));}}this['_animEvalu'+'ator']['update'](_0x21b05e,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new W(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x2715d1,_0x47c018,_0x5ea9cd,_0x533a63,_0xad2cc0){super(_0x47c018),this['animCompon'+'ent']=_0x2715d1,this['_mask']=_0x533a63,this['layerName']=_0x5ea9cd,this['layerIndex']=_0xad2cc0;}static['_packFloat'](_0x331006){return _0x331006[0x414+-0x1*-0x756+-0xb6a];}static['_packBoole'+'an'](_0x394ac7){return!!_0x394ac7[0x2dd*0x7+0x74b+-0xdab*0x2];}static['_packVec2'](_0x345e48){return Yd['x']=_0x345e48[-0x12*-0xe5+-0x269+-0xdb1],Yd['y']=_0x345e48[-0x188f+-0x7*0x92+0x1c8e],Yd;}static['_packVec3'](_0x37b0be){return ql['x']=_0x37b0be[-0x17*-0x1a7+-0x1cc4+-0x93d],ql['y']=_0x37b0be[0x671*0x1+0x1*-0x1d4a+0x16da],ql['z']=_0x37b0be[-0x23e+-0x175e+0x199e],ql;}static['_packVec4'](_0x13c359){return Ja['x']=_0x13c359[-0x101*0x1f+0x1f35+0x2*-0xb],Ja['y']=_0x13c359[0x260d+0x561+-0x2b6d],Ja['z']=_0x13c359[0x1*0x24cf+0x2581+-0x4a4e],Ja['w']=_0x13c359[-0x97c+-0x2256+0x2bd5],Ja;}static['_packColor'](_0x52c0ea){return eo['r']=_0x52c0ea[0xef+0x13f7+-0xa73*0x2],eo['g']=_0x52c0ea[-0x17*0x101+0x2601+-0x15b*0xb],eo['b']=_0x52c0ea[-0x3b*0x53+-0x5d9*0x6+-0x295*-0x15],eo['a']=_0x52c0ea[0x1840+0xa4d*-0x2+0x3a3*-0x1],eo;}static['_packQuat'](_0x3e29f0){return to['x']=_0x3e29f0[0x2650+0x1e76+-0x44c6],to['y']=_0x3e29f0[-0x2*-0xc46+0x1783+-0x300e],to['z']=_0x3e29f0[0x243f*-0x1+0xc08+0x813*0x3],to['w']=_0x3e29f0[-0x1*-0x1ec1+0x2539+-0x43f7],to;}['resolve'](_0x5c7a13){const _0x31b239=qr['encode'](_0x5c7a13['entityPath'],_0x5c7a13['component'],_0x5c7a13['propertyPa'+'th']);let _0x4dd827=this['targetCach'+'e'][_0x31b239];if(_0x4dd827)return _0x4dd827;let _0x321890,_0x13115d,_0x5b5416;switch(_0x5c7a13['component']){case'entity':_0x321890=this['_getEntity'+'FromHierar'+'chy'](_0x5c7a13['entityPath']),_0x5b5416=qr['encode'](_0x321890['path'],'entity',_0x5c7a13['propertyPa'+'th']),_0x13115d=_0x321890;break;case'graph':if(_0x13115d=this['findNode'](_0x5c7a13),!_0x13115d)return null;_0x5b5416=qr['encode'](_0x13115d['path'],'graph',_0x5c7a13['propertyPa'+'th']);break;default:if(_0x321890=this['_getEntity'+'FromHierar'+'chy'](_0x5c7a13['entityPath']),_0x13115d=_0x321890['findCompon'+'ent'](_0x5c7a13['component']),!_0x13115d)return null;_0x5b5416=qr['encode'](_0x321890['path'],_0x5c7a13['component'],_0x5c7a13['propertyPa'+'th']);break;}return _0x4dd827=this['_createAni'+'mTargetFor'+'Property'](_0x13115d,_0x5c7a13['propertyPa'+'th'],_0x5b5416),this['targetCach'+'e'][_0x31b239]=_0x4dd827,_0x4dd827;}['update'](_0xe5a656){const _0x3b0264=this['activeNode'+'s'];if(_0x3b0264){for(let _0x3c24d2=-0x2f*-0xaa+0x1d37+-0x1*0x3c6d;_0x3c24d2<_0x3b0264['length'];_0x3c24d2++)_0x3b0264[_0x3c24d2]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x2af108){if(!this['animCompon'+'ent']['entity']['name']===_0x2af108[0x1203+-0x1304+0x101])return null;const _0x52ed64=this['animCompon'+'ent']['entity'];return _0x2af108['length']===-0x1*-0x395+-0x1ab2+0x171e?_0x52ed64:_0x52ed64['_parent']['findByPath'](_0x2af108);}['_resolvePa'+'th'](_0x5350e0,_0x4a4563,_0x3fea07){const _0x42a282=_0x4a4563['length']-(_0x3fea07?0x4*0x34f+0xdab*-0x2+0xe1a:0x598+0x1*-0x2337+0x3b4*0x8);for(let _0x527eee=-0xa21*0x1+0x2513+-0x1af2*0x1;_0x527eee<_0x42a282;_0x527eee++)_0x5350e0=_0x5350e0[_0x4a4563[_0x527eee]];return _0x5350e0;}['_setter'](_0x5e8340,_0x39e746,_0x5f4064){const _0x19f7d3=this['_resolvePa'+'th'](_0x5e8340,_0x39e746),_0x50cd64=_0x39e746[_0x39e746['length']-(0x1404+-0x3e1*0x5+-0x9e*0x1)],_0x53eb9b='set'+_0x50cd64['substring'](-0x1*0xb26+-0x4f*-0x45+-0xa25,0x172c+-0x220b+0xae0)['toUpperCas'+'e']()+_0x50cd64['substring'](0x25f0+-0x2a*-0x1b+-0x2a5d);if(_0x19f7d3[_0x53eb9b]){let _0x39ef2f=_0x19f7d3['get'+_0x50cd64['substring'](-0x2193+-0x15*-0x65+-0x3*-0x86e,0x25*-0xff+-0x13*-0xa+0x241e)['toUpperCas'+'e']()+_0x50cd64['substring'](0x1db7+-0x13ce+-0x9e8)]['bind'](_0x19f7d3)();_0x39ef2f=[_0x39ef2f['x'],_0x39ef2f['y'],_0x39ef2f['z'],_0x39ef2f['w']];const _0x2ebd55=_0x19f7d3[_0x53eb9b]['bind'](_0x19f7d3);return{'set':_0x15d37f=>{_0x2ebd55(_0x5f4064(_0x15d37f));},'get':()=>_0x39ef2f};}const _0x57ad31=_0x19f7d3[_0x50cd64];if(typeof _0x57ad31=='object'&&_0x57ad31['hasOwnProp'+'erty']('copy'))return function(_0x6482c0){_0x57ad31['copy'](_0x5f4064(_0x6482c0));};if([W,T,Q,Y,se]['indexOf'](_0x19f7d3['constructo'+'r'])!==-(-0xfa0+-0x2*-0x925+0x3*-0xe3)&&_0x39e746['length']>-0x7c3+-0x791*0x2+-0x6*-0x3d1){const _0x51f210=_0x39e746['length']>0x1ff4+-0x5f7+-0x1*0x19fb?this['_resolvePa'+'th'](_0x5e8340,_0x39e746['slice'](0xaa5*-0x1+-0x24dd+0x2f82,-(-0x7*-0x41b+0x1c*0x132+-0x3e34))):_0x5e8340,_0x4e686d=_0x39e746[_0x39e746['length']-(0x59*0x2e+0x2bf+-0x12bb)];return function(_0x116972){_0x19f7d3[_0x50cd64]=_0x5f4064(_0x116972),_0x51f210[_0x4e686d]=_0x19f7d3;};}return function(_0xccaa4d){_0x19f7d3[_0x50cd64]=_0x5f4064(_0xccaa4d);};}['_createAni'+'mTargetFor'+'Property'](_0x9e6dbd,_0x48abae,_0x51e4af){if(this['handlers']&&_0x48abae[0x28*0x8a+-0x17c8+0x11c*0x2]['startsWith']('weight.'))return this['handlers']['weight'](_0x9e6dbd,_0x48abae[-0x2378*0x1+-0x1a8d+0x3e05]['replace']('weight.',''));if(this['handlers']&&_0x48abae[0x1fcf+0x2315+-0x42e4]==='material'&&_0x48abae['length']===0x255e+0x1*-0x1da5+-0x7b7){const _0x5a002a=_0x48abae[-0x1*0x9d5+0x52a+-0x4*-0x12b];if(_0x5a002a['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x9e6dbd,_0x5a002a);}const _0x46ede6=this['_resolvePa'+'th'](_0x9e6dbd,_0x48abae,!(-0x324*-0x1+-0x24e4+0x21c0));if(typeof _0x46ede6>'u')return null;let _0x1b3196,_0x36fa29,_0x44b983;if(typeof _0x46ede6=='number')_0x1b3196=this['_setter'](_0x9e6dbd,_0x48abae,mi['_packFloat']),_0x36fa29='vector',_0x44b983=0x4*-0x825+-0x18ee+-0x3983*-0x1;else{if(typeof _0x46ede6=='boolean')_0x1b3196=this['_setter'](_0x9e6dbd,_0x48abae,mi['_packBoole'+'an']),_0x36fa29='vector',_0x44b983=0x1abb+-0xe5a*0x1+0x210*-0x6;else{if(typeof _0x46ede6=='object')switch(_0x46ede6['constructo'+'r']){case W:_0x1b3196=this['_setter'](_0x9e6dbd,_0x48abae,mi['_packVec2']),_0x36fa29='vector',_0x44b983=0x5f8*-0x6+0x126+-0x4f4*-0x7;break;case T:_0x1b3196=this['_setter'](_0x9e6dbd,_0x48abae,mi['_packVec3']),_0x36fa29='vector',_0x44b983=-0x5c9+0x17*0x6b+0x3d1*-0x1;break;case Q:_0x1b3196=this['_setter'](_0x9e6dbd,_0x48abae,mi['_packVec4']),_0x36fa29='vector',_0x44b983=-0x5e3+0x1408+-0xe21;break;case Y:_0x1b3196=this['_setter'](_0x9e6dbd,_0x48abae,mi['_packColor']),_0x36fa29='vector',_0x44b983=-0x1*0x6a3+0x739+-0x1*0x92;break;case se:_0x1b3196=this['_setter'](_0x9e6dbd,_0x48abae,mi['_packQuat']),_0x36fa29='quaternion',_0x44b983=-0x1474+-0x2d*-0x93+-0x55f;break;default:return null;}}}return _0x48abae['indexOf']('material')!==-(0x1e71+0x113d+-0x2fad)?new Zu(_0x15281f=>{_0x1b3196(_0x15281f),_0x9e6dbd['material']['update']();},_0x36fa29,_0x44b983,_0x51e4af):new Zu(_0x1b3196,_0x36fa29,_0x44b983,_0x51e4af);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x37a2f1={},_0x5039b1=function(_0x4d1e6d){_0x37a2f1[_0x4d1e6d['name']]=_0x4d1e6d;for(let _0x3b3df8=0x1*-0x101a+-0x2582+0x5e*0x92;_0x3b3df8<_0x4d1e6d['children']['length'];++_0x3b3df8)_0x5039b1(_0x4d1e6d['children'][_0x3b3df8]);};_0x5039b1(this['graph']),this['nodes']=_0x37a2f1;}}class WP{constructor(_0x4117d6,_0x26678f,_0x4c83fe,_0x28addf=0x1aaa+0x1bf1*0x1+-0x2*0x1b4d,_0x166654=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0x3aa+-0xaa5+0x6fb),c(this,'_blendTime'+'Elapsed',0x1951*-0x1+-0x1e1f*-0x1+0x2*-0x267),c(this,'_startingW'+'eight',0xad3*-0x1+0x40f*0x2+0x3f*0xb),c(this,'_targetWei'+'ght',0x1bf4+0x129a+0x1*-0x2e8e),(this['_name']=_0x4117d6,this['_controlle'+'r']=_0x26678f,this['_component']=_0x4c83fe,this['_weight']=_0x28addf,this['_blendType']=_0x166654);}get['name'](){return this['_name'];}set['playing'](_0x228672){this['_controlle'+'r']['playing']=_0x228672;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x464d95){const _0x59b129=this['_controlle'+'r'],_0x1412f9=_0x59b129['playing'];_0x59b129['playing']=!(-0x24f4+-0x3ea+-0x2*-0x146f),_0x59b129['activeStat'+'eCurrentTi'+'me']=_0x464d95,_0x1412f9||_0x59b129['update'](0x13fb+0x6fb+-0xee*0x1d),_0x59b129['playing']=_0x1412f9;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x14c9ab){this['_weight']=_0x14c9ab,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x4517c1){_0x4517c1!==this['_blendType']&&(this['_blendType']=_0x4517c1,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x596d8a){this['_controlle'+'r']['assignMask'](_0x596d8a)&&this['_component']['rebind'](),this['_mask']=_0x596d8a;}get['mask'](){return this['_mask'];}['play'](_0x4c2c7f){this['_controlle'+'r']['play'](_0x4c2c7f);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x425294){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x425294):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x2ba*0x6+0x1*0x1c65+-0xc09,this['_blendTime'+'Elapsed']=0x999+-0x8*-0x359+-0x2461,this['_startingW'+'eight']=-0x1c20+-0x1*-0x742+-0x2*-0xa6f,this['_targetWei'+'ght']=0xd*-0xb5+-0x18f8+0x31b*0xb)),this['_controlle'+'r']['update'](_0x425294);}['blendToWei'+'ght'](_0x40aff8,_0x908855){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x40aff8,this['_blendTime']=Math['max'](-0x5d4+0xe3*-0x2+0x79a,_0x908855),this['_blendTime'+'Elapsed']=-0x1*-0x1857+-0x33b+-0x151c;}['assignAnim'+'ation'](_0x7e1bc1,_0x2060f2,_0x23d90f,_0x3ed613){if(!(_0x2060f2 instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x7e1bc1,_0x2060f2,_0x23d90f,_0x3ed613),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x49*0x85+-0x6ec*-0x1+-0x1*-0x1f01&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x7e1bc1})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0xa4e+0x13a4+0x1de*-0x5));}['removeNode'+'Animations'](_0x49d97d){this['_controlle'+'r']['removeNode'+'Animations'](_0x49d97d)&&(this['_component']['playing']=!(0xd9*-0x7+0xd*0x208+0x1*-0x1478));}['getAnimati'+'onAsset'](_0x4b7bdd){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x4b7bdd];}['transition'](_0x5436a7,_0x36e48c=-0x96*-0x23+0x4*-0x5a0+0x1fe*0x1,_0x4bbc10=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x5436a7,'time':_0x36e48c,'transitionOffset':_0x4bbc10}));}}class mh{constructor(_0x8335b5){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x8335b5['layers']))this['_layers']=_0x8335b5['layers'];else for(const _0x4322ee in _0x8335b5['layers']){const _0x11cf70=_0x8335b5['layers'][_0x4322ee],_0x58338f={'name':_0x11cf70['name'],'blendType':_0x11cf70['blendType'],'weight':_0x11cf70['weight'],'states':[],'transitions':[]};for(let _0x1bd956=0x1611+0x2142+-0x3753;_0x1bd956<_0x11cf70['states']['length'];_0x1bd956++)_0x58338f['states']['push'](_0x8335b5['states'][_0x11cf70['states'][_0x1bd956]]);for(let _0x375121=0x35*-0xb9+-0x6f*-0xd+0x1*0x20aa;_0x375121<_0x11cf70['transition'+'s']['length'];_0x375121++){const _0x1343d9=_0x8335b5['transition'+'s'][_0x11cf70['transition'+'s'][_0x375121]];if(_0x1343d9['conditions']&&!Array['isArray'](_0x1343d9['conditions'])){const _0x5cc3b3=Object['keys'](_0x1343d9['conditions']),_0xf26f14=[];for(let _0x571b21=0x5c9*0x5+-0x12d5+-0xa18;_0x571b21<_0x5cc3b3['length'];_0x571b21++){const _0x3aafcd=_0x1343d9['conditions'][_0x5cc3b3[_0x571b21]];_0x3aafcd['parameterN'+'ame']&&_0xf26f14['push'](_0x3aafcd);}_0x1343d9['conditions']=_0xf26f14;}Number['isInteger'](_0x1343d9['from'])&&(_0x1343d9['from']=_0x8335b5['states'][_0x1343d9['from']]['name']),Number['isInteger'](_0x1343d9['to'])&&(_0x1343d9['to']=_0x8335b5['states'][_0x1343d9['to']]['name']),_0x58338f['transition'+'s']['push'](_0x1343d9);}this['_layers']['push'](_0x58338f);}for(const _0x3de5a3 in _0x8335b5['parameters']){const _0x2d5b32=_0x8335b5['parameters'][_0x3de5a3];this['_parameter'+'s'][_0x2d5b32['name']]={'type':_0x2d5b32['type'],'value':_0x2d5b32['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0x1ade+-0xdf*0x3+0x2*0xebe),c(this,'_activate',!(0x14*0x123+0x914+0xfe8*-0x2)),c(this,'_playing',!(-0x1f5f+0x195+0x1dcb*0x1)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(0x3ba+0xd81*-0x1+0x8*0x139)),c(this,'findParame'+'ter',_0xadfc7e=>this['_parameter'+'s'][_0xadfc7e]),c(this,'consumeTri'+'gger',_0x4907de=>{this['_consumedT'+'riggers']['add'](_0x4907de);});}set['stateGraph'+'Asset'](_0x2b37af){if(_0x2b37af===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x4efd24,_0x5db38d;_0x2b37af instanceof le?(_0x4efd24=_0x2b37af['id'],_0x5db38d=this['system']['app']['assets']['get'](_0x4efd24),_0x5db38d||(this['system']['app']['assets']['add'](_0x2b37af),_0x5db38d=this['system']['app']['assets']['get'](_0x4efd24))):(_0x4efd24=_0x2b37af,_0x5db38d=this['system']['app']['assets']['get'](_0x4efd24)),!(!_0x5db38d||this['_stateGrap'+'hAsset']===_0x4efd24)&&(_0x5db38d['resource']?(this['_stateGrap'+'h']=_0x5db38d['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x5db38d['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x5db38d['once']('load',_0x1055ca=>{this['_stateGrap'+'h']=_0x1055ca['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x5db38d['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x5db38d)),this['_stateGrap'+'hAsset']=_0x4efd24);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x3fc263){this['_normalize'+'Weights']=_0x3fc263,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x382731){this['_animation'+'Assets']=_0x382731,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x5bb397){this['_speed']=_0x5bb397;}get['speed'](){return this['_speed'];}set['activate'](_0x5b72e0){this['_activate']=_0x5b72e0;}get['activate'](){return this['_activate'];}set['playing'](_0x1e2ddf){this['_playing']=_0x1e2ddf;}get['playing'](){return this['_playing'];}set['rootBone'](_0x379ae0){if(typeof _0x379ae0=='string'){const _0x47d818=this['entity']['root']['findByGuid'](_0x379ae0);v['assert'](_0x47d818,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x379ae0+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x47d818;}else _0x379ae0 instanceof We?this['_rootBone']=_0x379ae0:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x30722a){this['_stateGrap'+'h']=_0x30722a;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x3cbbbd){this['_layerIndi'+'ces']=_0x3cbbbd;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x538cdc){this['_parameter'+'s']=_0x538cdc;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x2483bf){this['_targets']=_0x2483bf;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x16e856=-0x11*-0x183+0x1*0x163+-0x1b16;_0x16e856<this['_layers']['length'];_0x16e856++)if(!this['_layers'][_0x16e856]['playable'])return!(-0x4ee+-0x667+0xb56);return!(0x6a*-0x29+0x1*-0xf59+0x5*0x677);}get['baseLayer'](){return this['_layers']['length']>-0x44*-0x3b+-0x2*-0x11d5+-0x3356?this['_layers'][0x139d*-0x1+-0x1c09+-0x7f1*-0x6]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x2b87bd){const _0x5e3a99=this['animationA'+'ssets'],_0x36e81d=this['layers']['map'](_0x3698f8=>_0x3698f8['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x2b87bd['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x5e3a99,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x23e56,_0x35a2ce)=>{_0x23e56['mask']=_0x36e81d[_0x35a2ce];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x1e0de5=Object['values'](this['_targets']);for(let _0x2c5a08=-0x1878+-0x1*-0x1b61+0x5*-0x95;_0x2c5a08<_0x1e0de5['length'];_0x2c5a08++)_0x1e0de5[_0x2c5a08]['dirty']=!(-0x19c1*0x1+-0x69*-0x3+0x1886);}['_addLayer']({name:_0x3bea51,states:_0x3887bf,transitions:_0x25e13a,weight:_0x382f11,mask:_0x385d80,blendType:_0x1e9321}){let _0x227e1e;this['rootBone']?_0x227e1e=this['rootBone']:_0x227e1e=this['entity'];const _0x22cee3=this['_layers']['length'],_0xba4c67=new mi(this,_0x227e1e,_0x3bea51,_0x385d80,_0x22cee3),_0x26d7e6=new j0(_0xba4c67),_0x5dcc7e=new HP(_0x26d7e6,_0x3887bf,_0x25e13a,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x3bea51,_0x5dcc7e,this,_0x382f11,_0x1e9321)),this['_layerIndi'+'ces'][_0x3bea51]=_0x22cee3,this['_layers'][_0x22cee3];}['addLayer'](_0x5c7803,_0x109235,_0x50cd21,_0x494af0){const _0x455c5d=this['findAnimat'+'ionLayer'](_0x5c7803);if(_0x455c5d)return _0x455c5d;const _0x38334b=[{'name':'START','speed':0x1}],_0x3370a0=[];return this['_addLayer']({'name':_0x5c7803,'states':_0x38334b,'transitions':_0x3370a0,'weight':_0x109235,'mask':_0x50cd21,'blendType':_0x494af0});}['_assignPar'+'ameters'](_0x4c058e){this['_parameter'+'s']={};const _0xf9ce34=Object['keys'](_0x4c058e['parameters']);for(let _0x97f79a=-0x1799+0xbfc+0xb9d;_0x97f79a<_0xf9ce34['length'];_0x97f79a++){const _0x4216c0=_0xf9ce34[_0x97f79a];this['_parameter'+'s'][_0x4216c0]={'type':_0x4c058e['parameters'][_0x4216c0]['type'],'value':_0x4c058e['parameters'][_0x4216c0]['value']};}}['loadStateG'+'raph'](_0x5e3e3a){this['_stateGrap'+'h']=_0x5e3e3a,this['_assignPar'+'ameters'](_0x5e3e3a),this['_layers']=[];let _0x4a81f9=!(0x25*0x9d+0x7ac+-0x1e5c);for(let _0x15b034=0x1*-0xdc7+-0x24ad+0x3274;_0x15b034<_0x5e3e3a['layers']['length'];_0x15b034++){const _0x1868dd=_0x5e3e3a['layers'][_0x15b034];this['_addLayer']({..._0x1868dd}),_0x1868dd['states']['some'](_0x2e5610=>_0x2e5610['blendTree'])&&(_0x4a81f9=!(-0x738*0x1+0x115*-0x1+-0x84d*-0x1));}_0x4a81f9||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x3b645d=-0x17*-0xa7+0x50d+-0x140e;_0x3b645d<this['_layers']['length'];_0x3b645d++){const _0x19ec70=this['_layers'][_0x3b645d],_0x515c2a=_0x19ec70['name'];for(let _0x20b4ba=0xcfa*-0x3+-0x908+0x2ff6;_0x20b4ba<_0x19ec70['states']['length'];_0x20b4ba++){const _0x255990=_0x19ec70['states'][_0x20b4ba];if(jh['indexOf'](_0x255990)===-(0x1f9+0x1b98+-0x1d90)){const _0x308122=_0x515c2a+':'+_0x255990;this['_animation'+'Assets'][_0x308122]||(this['_animation'+'Assets'][_0x308122]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0xbb25db=0x24*0x75+-0x7*0x1d3+-0x3af;_0xbb25db<this['_layers']['length'];_0xbb25db++){const _0x407cf6=this['_layers'][_0xbb25db];for(let _0x582105=0x1875+-0x3*-0x90f+-0x33a2*0x1;_0x582105<_0x407cf6['states']['length'];_0x582105++){const _0x54adda=_0x407cf6['states'][_0x582105];if(jh['indexOf'](_0x54adda)!==-(0x1ba7+0x8e*0x2b+-0x19c*0x20))continue;const _0x4b7649=this['_animation'+'Assets'][_0x407cf6['name']+':'+_0x54adda];if(!_0x4b7649||!_0x4b7649['asset']){this['findAnimat'+'ionLayer'](_0x407cf6['name'])['assignAnim'+'ation'](_0x54adda,Ri['EMPTY']);continue;}const _0x289e11=_0x4b7649['asset'],_0x3335e5=this['system']['app']['assets']['get'](_0x289e11);_0x3335e5&&(_0x3335e5['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x407cf6['name'],_0x54adda,_0x3335e5):(_0x3335e5['once']('load',function(_0x57955f,_0x5e4a6f){return function(_0xc6e7d7){this['onAnimatio'+'nAssetLoad'+'ed'](_0x57955f,_0x5e4a6f,_0xc6e7d7);}['bind'](this);}['bind'](this)(_0x407cf6['name'],_0x54adda)),this['system']['app']['assets']['load'](_0x3335e5)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x41233e,_0x1b8fc8,_0x123911){this['findAnimat'+'ionLayer'](_0x41233e)['assignAnim'+'ation'](_0x1b8fc8,_0x123911['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x38*0x40+-0x2229+0x302a),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x38f059=0x1e38*-0x1+-0x5*-0x13c+0x180c;_0x38f059<this['_layers']['length'];_0x38f059++){const _0x4d3068=this['_layers'][_0x38f059]['playing'];this['_layers'][_0x38f059]['reset'](),this['_layers'][_0x38f059]['playing']=_0x4d3068;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x38f2db=>{this['_targets'][_0x38f2db]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x5bbf3c=-0x191*0x11+-0x11*-0xcf+0xce2;_0x5bbf3c<this['_layers']['length'];_0x5bbf3c++)this['_layers'][_0x5bbf3c]['rebind']();}['findAnimat'+'ionLayer'](_0xbfdf9d){const _0x5bd006=this['_layerIndi'+'ces'][_0xbfdf9d];return this['_layers'][_0x5bd006]||null;}['addAnimati'+'onState'](_0x4aee5,_0x2b67cb,_0x2002b1=0x167*0x2+-0x26e*0xc+0xd*0x207,_0x18c4f8=!(0x203*0x1+0x1*-0x18ff+0x16fc),_0x62895b='Base'){var _0x3fcfb9;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x62895b,'states':[{'name':'START','speed':0x1},{'name':_0x4aee5,'speed':_0x2002b1,'loop':_0x18c4f8,'defaultState':!(0x10e5+-0x54d*-0x1+-0x1632)}],'transitions':[{'from':'START','to':_0x4aee5}]}],'parameters':{}}));const _0xec0c7d=this['findAnimat'+'ionLayer'](_0x62895b);_0xec0c7d?_0xec0c7d['assignAnim'+'ation'](_0x4aee5,_0x2b67cb,_0x2002b1,_0x18c4f8):(_0x3fcfb9=this['addLayer'](_0x62895b))==null||_0x3fcfb9['assignAnim'+'ation'](_0x4aee5,_0x2b67cb,_0x2002b1,_0x18c4f8);}['assignAnim'+'ation'](_0x39e87b,_0x11b8b2,_0x1086c8,_0x340059=-0xd45*0x1+-0x7*0x513+0x30cb,_0xa53040=!(0x1*-0x13ec+0x132f+0x9*0x15)){if(!this['_stateGrap'+'h']&&_0x39e87b['indexOf']('.')===-(0x19*-0x9e+-0x1c0*-0x4+-0x86f*-0x1)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x39e87b,'speed':_0x340059,'loop':_0xa53040,'defaultState':!(-0x2*-0x205+-0x283*-0x7+-0x159f)}],'transitions':[{'from':'START','to':_0x39e87b}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x39e87b,_0x11b8b2);return;}const _0x25e109=_0x1086c8?this['findAnimat'+'ionLayer'](_0x1086c8):this['baseLayer'];if(!_0x25e109){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x25e109['assignAnim'+'ation'](_0x39e87b,_0x11b8b2,_0x340059,_0xa53040);}['removeNode'+'Animations'](_0x433c7d,_0x515e31){const _0x4bcd97=_0x515e31?this['findAnimat'+'ionLayer'](_0x515e31):this['baseLayer'];if(!_0x4bcd97){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x4bcd97['removeNode'+'Animations'](_0x433c7d);}['getParamet'+'erValue'](_0xcf5da,_0x327693){const _0x3dd3a1=this['_parameter'+'s'][_0xcf5da];if(_0x3dd3a1&&_0x3dd3a1['type']===_0x327693)return _0x3dd3a1['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0xcf5da+('\x22\x20of\x20type\x20'+'\x22')+_0x327693+'\x22');}['setParamet'+'erValue'](_0x1f4a8f,_0x239e2b,_0x552be4){const _0x1cb156=this['_parameter'+'s'][_0x1f4a8f];if(_0x1cb156&&_0x1cb156['type']===_0x239e2b){_0x1cb156['value']=_0x552be4;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x1f4a8f+('\x22\x20of\x20type\x20'+'\x22')+_0x239e2b+'\x22');}['getFloat'](_0x479c63){return this['getParamet'+'erValue'](_0x479c63,Q_);}['setFloat'](_0x105eaf,_0x4e992c){this['setParamet'+'erValue'](_0x105eaf,Q_,_0x4e992c);}['getInteger'](_0xb01e5c){return this['getParamet'+'erValue'](_0xb01e5c,Z_);}['setInteger'](_0x2b9b72,_0x5ac5bf){typeof _0x5ac5bf=='number'&&_0x5ac5bf%(0x68e*-0x3+0x2*-0x74b+-0x2241*-0x1)===0x22ba+-0x170f*-0x1+-0x39c9?this['setParamet'+'erValue'](_0x2b9b72,Z_,_0x5ac5bf):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x2b9b72,_0x5ac5bf);}['getBoolean'](_0x13baa6){return this['getParamet'+'erValue'](_0x13baa6,J_);}['setBoolean'](_0x5a17ac,_0x1e568b){this['setParamet'+'erValue'](_0x5a17ac,J_,!!_0x1e568b);}['getTrigger'](_0x3d3cc5){return this['getParamet'+'erValue'](_0x3d3cc5,ph);}['setTrigger'](_0x4ab7c0,_0x43dd15=!(0x2226+-0xf92*0x2+-0x1*0x301)){this['setParamet'+'erValue'](_0x4ab7c0,ph,!(0x25*-0x3e+0x1456*-0x1+-0x1*-0x1d4c)),_0x43dd15&&this['_consumedT'+'riggers']['add'](_0x4ab7c0);}['resetTrigg'+'er'](_0x31177a){this['setParamet'+'erValue'](_0x31177a,ph,!(0x1*0x10f5+-0x5cb*-0x6+-0x33b6));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x2208e4){for(let _0x24c7f8=0x174b+-0x3*-0x4b5+-0x256a;_0x24c7f8<this['layers']['length'];_0x24c7f8++)this['layers'][_0x24c7f8]['update'](_0x2208e4*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x423fd0=>{this['parameters'][_0x423fd0]['value']=!(-0x1e06+-0x7*-0x545+-0x36e*0x2);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xe9219f,_0x214448){_0xe9219f['rootBone']&&_0x214448[_0xe9219f['rootBone']['getGuid']()]?this['rootBone']=_0x214448[_0xe9219f['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(-0x7*0x45f+0x67c+0x181d*0x1);}}const tf=['enabled'];class qP extends Xe{constructor(_0x35a8b5){super(_0x35a8b5),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x223243,_0x166458,_0x470319){super['initialize'+'ComponentD'+'ata'](_0x223243,_0x166458,tf);const _0x3916c9=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x166458)['forEach'](_0x275740=>{_0x3916c9['includes'](_0x275740)||(_0x223243[_0x275740]=_0x166458[_0x275740]);}),_0x166458['stateGraph']&&(_0x223243['stateGraph']=_0x166458['stateGraph'],_0x223243['loadStateG'+'raph'](_0x223243['stateGraph'])),_0x166458['layers']&&_0x166458['layers']['forEach']((_0x519e9a,_0x57ed84)=>{_0x519e9a['_controlle'+'r']['states']['forEach'](_0x1a2834=>{_0x519e9a['_controlle'+'r']['_states'][_0x1a2834]['_animation'+'List']['forEach'](_0x26cad0=>{if(!_0x26cad0['animTrack']||_0x26cad0['animTrack']===Ri['EMPTY']){const _0x1f3752=this['app']['assets']['get'](_0x519e9a['_component']['_animation'+'Assets'][_0x519e9a['name']+':'+_0x26cad0['name']]['asset']);_0x1f3752&&!_0x1f3752['loaded']&&_0x1f3752['once']('load',()=>{_0x223243['layers'][_0x57ed84]['assignAnim'+'ation'](_0x26cad0['name'],_0x1f3752['resource']);});}else _0x223243['layers'][_0x57ed84]['assignAnim'+'ation'](_0x26cad0['name'],_0x26cad0['animTrack']);});});}),_0x166458['animationA'+'ssets']&&(_0x223243['animationA'+'ssets']=Object['assign'](_0x223243['animationA'+'ssets'],_0x166458['animationA'+'ssets'])),_0x166458['masks']&&Object['keys'](_0x166458['masks'])['forEach'](_0x3a5eda=>{if(_0x223243['layers'][_0x3a5eda]){const _0x1d2e05=_0x166458['masks'][_0x3a5eda]['mask'],_0x327e41={};Object['keys'](_0x1d2e05)['forEach'](_0x578f34=>{_0x327e41[decodeURI(_0x578f34)]=_0x1d2e05[_0x578f34];}),_0x223243['layers'][_0x3a5eda]['mask']=_0x327e41;}});}['onAnimatio'+'nUpdate'](_0x635a2f){const _0x11e595=this['store'];for(const _0x346369 in _0x11e595)if(_0x11e595['hasOwnProp'+'erty'](_0x346369)){const _0xcf4855=_0x11e595[_0x346369]['entity']['anim'];_0xcf4855['data']['enabled']&&_0xcf4855['entity']['enabled']&&_0xcf4855['playing']&&_0xcf4855['update'](_0x635a2f);}}['cloneCompo'+'nent'](_0x1f459c,_0x40d672){let _0x596e76;(!_0x1f459c['anim']['rootBone']||_0x1f459c['anim']['rootBone']===_0x1f459c)&&(_0x596e76={},_0x1f459c['anim']['layers']['forEach']((_0x5171c5,_0x5c988b)=>{if(_0x5171c5['mask']){const _0x5606df={};Object['keys'](_0x5171c5['mask'])['forEach'](_0x4a4d47=>{const _0x2d54fb=_0x4a4d47['split']('/');_0x2d54fb['shift']();const _0x302f6a=[_0x40d672['name'],..._0x2d54fb]['join']('/');_0x5606df[_0x302f6a]=_0x5171c5['mask'][_0x4a4d47];}),_0x596e76[_0x5c988b]={'mask':_0x5606df};}}));const _0x12777a={'enabled':_0x1f459c['anim']['enabled'],'stateGraphAsset':_0x1f459c['anim']['stateGraph'+'Asset'],'animationAssets':_0x1f459c['anim']['animationA'+'ssets'],'speed':_0x1f459c['anim']['speed'],'activate':_0x1f459c['anim']['activate'],'playing':_0x1f459c['anim']['playing'],'rootBone':_0x1f459c['anim']['rootBone'],'stateGraph':_0x1f459c['anim']['stateGraph'],'layers':_0x1f459c['anim']['layers'],'layerIndices':_0x1f459c['anim']['layerIndic'+'es'],'parameters':_0x1f459c['anim']['parameters'],'normalizeWeights':_0x1f459c['anim']['normalizeW'+'eights'],'masks':_0x596e76};return this['addCompone'+'nt'](_0x40d672,_0x12777a);}['onBeforeRe'+'move'](_0x5e32e6,_0x190d5d){_0x190d5d['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x37d07c=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x37d07c);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(0x2af+0x8*-0x18d+-0x13*-0x83);}}const J0=['enabled'];class jP extends Xe{constructor(_0x36bf53){super(_0x36bf53),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x36bf53['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x9228a5,_0x5e4be6,_0x4995f1){_0x4995f1=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x9228a5,_0x5e4be6,_0x4995f1);}['onUpdate'](_0x512a1e){if(this['current']){const _0x397f6f=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x397f6f);const _0x3c7655=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x3c7655);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0x150b+0x232b+0xe2*-0x10,tg=0x3e5*0x1+-0x1e57+0x1*0x1a73,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x8439e4,_0x109e10){super(_0x8439e4,_0x109e10),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0xdf4+-0x5*-0x460+-0x23d3)),c(this,'_hoveringC'+'ounter',0xdbd+0x2*0xe5a+-0x29*0x109),c(this,'_isPressed',!(-0x1ba+-0x7f+0xa*0x39)),c(this,'_defaultTi'+'nt',new Y(0x1d10+0x1*0x2677+0x86*-0x81,0x25d2+-0x1b9a+-0x20b*0x5,-0x5*0x57+0x1edc+0x3*-0x9b8,-0xa6+0x2682+-0x25db)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x13*0x153+-0xf*-0x51+0x2b8*-0xb),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x11*0x173+0x23dd*-0x1+0x3c81),this['_hoveringC'+'ounter']=-0x1*0x1b3e+0x3c0+-0xc2*-0x1f,this['_isPressed']=!(0x5*0x24f+0x1cd*0x7+-0x1825*0x1),this['_defaultTi'+'nt']=new Y(-0x1*-0x1c61+-0xd36*-0x1+-0x14cb*0x2,0x29f+0x171*0xe+-0xb66*0x2,0x1a5*0x14+-0x110c+-0x1*0xfd7,-0x21a7+0x2e*0xd3+-0x442),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0xefb+0x183f+-0x273a,this['_toggleLif'+'ecycleList'+'eners']('on',_0x8439e4));}get['data'](){const _0x23b681=this['system']['store'][this['entity']['getGuid']()];return _0x23b681?_0x23b681['data']:null;}set['enabled'](_0x5dd0dd){this['_setValue']('enabled',_0x5dd0dd);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x1420ee){this['_setValue']('active',_0x1420ee);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x3624e2){if(this['_imageEnti'+'ty']!==_0x3624e2){const _0x46b9db=typeof _0x3624e2=='string';if(this['_imageEnti'+'ty']&&_0x46b9db&&this['_imageEnti'+'ty']['getGuid']()===_0x3624e2)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x3624e2 instanceof De?this['_imageEnti'+'ty']=_0x3624e2:_0x46b9db?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x3624e2)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x46b9db&&_0x3624e2&&(this['data']['imageEntit'+'y']=_0x3624e2);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x559502){this['_setValue']('hitPadding',_0x559502);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x458823){this['_setValue']('transition'+'Mode',_0x458823);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x214748){this['_setValue']('hoverTint',_0x214748);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x505947){this['_setValue']('pressedTin'+'t',_0x505947);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x2458a0){this['_setValue']('inactiveTi'+'nt',_0x2458a0);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0xf8b461){this['_setValue']('fadeDurati'+'on',_0xf8b461);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x1ed484){this['_setValue']('hoverSprit'+'eAsset',_0x1ed484);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0xf056f4){this['_setValue']('hoverSprit'+'eFrame',_0xf056f4);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x5c9336){this['_setValue']('pressedSpr'+'iteAsset',_0x5c9336);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x18f06d){this['_setValue']('pressedSpr'+'iteFrame',_0x18f06d);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x4e630e){this['_setValue']('inactiveSp'+'riteAsset',_0x4e630e);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x1748a5){this['_setValue']('inactiveSp'+'riteFrame',_0x1748a5);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x5cebe5,_0x29e257){const _0x42789e=this['data'],_0xb3262=_0x42789e[_0x5cebe5];_0x42789e[_0x5cebe5]=_0x29e257,this['fire']('set',_0x5cebe5,_0xb3262,_0x29e257);}['_toggleLif'+'ecycleList'+'eners'](_0xa668e,_0x2ba4f7){var _0x5c2315;this[_0xa668e]('set_active',this['_onSetActi'+'ve'],this),this[_0xa668e]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0xa668e]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xa668e]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xa668e]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xa668e]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xa668e]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xa668e]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xa668e]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xa668e]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xa668e]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0xa668e==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x5c2315=this['_evtElemen'+'tAdd'])==null||_0x5c2315['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x326092,_0x5a76f9,_0x21153b){_0x5a76f9!==_0x21153b&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x2d7e03,_0x3a7914,_0x371a03){_0x3a7914!==_0x371a03&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x3a7914),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x19859d,_0xfbdefe,_0x4eec4c){_0xfbdefe!==_0x4eec4c&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x3e56c6,_0x3431a5;(_0x3e56c6=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x3e56c6['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x3431a5=this['_imageEnti'+'ty'])!=null&&_0x3431a5['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x4c6698=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x4c6698['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x4c6698['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x4c6698['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x4c6698['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x4c6698['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x54213c,_0x6609c0,_0x135a6b,_0x59e468,_0xdb709;(_0x54213c=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x54213c['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x6609c0=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x6609c0['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x135a6b=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x135a6b['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x59e468=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x59e468['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0xdb709=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0xdb709['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x162718){if(this['entity']['element']){const _0x3e92f2=_0x162718==='on';if(_0x3e92f2&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x162718]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x162718]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x162718]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x162718]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x162718]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x162718]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x162718]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x162718]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x162718]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x162718]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x162718]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x162718]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x162718]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x162718]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x3e92f2;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x260cc4;const _0x2a0c4b=(_0x260cc4=this['_imageEnti'+'ty'])==null?void(-0x441+0xaa6+-0x665):_0x260cc4['element'];!_0x2a0c4b||_0x2a0c4b['type']===_h||(this['_storeDefa'+'ultColor'](_0x2a0c4b['color']),this['_storeDefa'+'ultOpacity'](_0x2a0c4b['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x2a0c4b['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x2a0c4b['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x4b046b){this['_defaultTi'+'nt']['r']=_0x4b046b['r'],this['_defaultTi'+'nt']['g']=_0x4b046b['g'],this['_defaultTi'+'nt']['b']=_0x4b046b['b'];}['_storeDefa'+'ultOpacity'](_0x4cfb4e){this['_defaultTi'+'nt']['a']=_0x4cfb4e;}['_storeDefa'+'ultSpriteA'+'sset'](_0x1aaebe){this['_defaultSp'+'riteAsset']=_0x1aaebe;}['_storeDefa'+'ultSpriteF'+'rame'](_0x321798){this['_defaultSp'+'riteFrame']=_0x321798;}['_onSetColo'+'r'](_0xaa4188){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0xaa4188),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x43cacf){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x43cacf),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x1b9d01){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x1b9d01),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x15594d){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x15594d),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x6de91){this['_isHoverin'+'g']=!(0x15e*-0x7+0x34*0x98+0x36*-0x65),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x6de91);}['_onMouseLe'+'ave'](_0x13d282){this['_isHoverin'+'g']=!(0xebc+0x3b*-0x86+0x1027),this['_isPressed']=!(0x595*0x6+-0x21e5*0x1+-0x8*-0xd),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x13d282);}['_onMouseDo'+'wn'](_0x111bb5){this['_isPressed']=!(-0xaa7*-0x1+0x3*-0x7cf+-0x442*-0x3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x111bb5);}['_onMouseUp'](_0x47c3af){this['_isPressed']=!(0xcb4+0x1*0x335+-0xfe8),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x47c3af);}['_onTouchSt'+'art'](_0x1b263f){this['_isPressed']=!(-0x4*0x3+0x1*0x3ce+0x25*-0x1a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x1b263f);}['_onTouchEn'+'d'](_0x3b431b){_0x3b431b['event']['preventDef'+'ault'](),this['_isPressed']=!(0xc2b+0x3bd*-0x3+-0xf3*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x3b431b);}['_onTouchLe'+'ave'](_0x561fc5){this['_isPressed']=!(-0x39*-0x45+0x35*-0x43+-0x17d*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x561fc5);}['_onTouchCa'+'ncel'](_0x4e0746){this['_isPressed']=!(-0x167d+-0x5df*0x5+-0x33d9*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x4e0746);}['_onSelectS'+'tart'](_0x2a2251){this['_isPressed']=!(-0x16e1+-0x2*0xc4+-0x3*-0x823),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x2a2251);}['_onSelectE'+'nd'](_0x3d5e44){this['_isPressed']=!(0x1b7*0x13+0xf77+-0x300b),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x3d5e44);}['_onSelectE'+'nter'](_0x39ba15){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x1*-0xdc7+0x9a9+-0x176f*0x1&&(this['_isHoverin'+'g']=!(-0x1*-0x745+0x1348+0x1*-0x1a8d),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x39ba15);}['_onSelectL'+'eave'](_0x354931){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x351+-0xd*0x15a+0x14e3&&(this['_isHoverin'+'g']=!(0x1*-0x1a87+-0x268+0x1cf*0x10),this['_isPressed']=!(0x535+0x1c19+-0x214d),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x354931);}['_onClick'](_0x1d06da){this['_fireIfAct'+'ive']('click',_0x1d06da);}['_fireIfAct'+'ive'](_0x28129d,_0x71dd43){this['data']['active']&&this['fire'](_0x28129d,_0x71dd43);}['_updateVis'+'ualState'](_0x492a65){const _0x2044e5=this['_visualSta'+'te'],_0x409318=this['_determine'+'VisualStat'+'e']();if((_0x2044e5!==_0x409318||_0x492a65)&&this['enabled'])switch(this['_visualSta'+'te']=_0x409318,_0x2044e5===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x2044e5===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x409318===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x409318===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x22eecf=hl[this['_visualSta'+'te']],_0x561b03=this[_0x22eecf];this['_applyTint'](_0x561b03);break;}case tg:{const _0x1eafa1=cl[this['_visualSta'+'te']],_0x18672c=dl[this['_visualSta'+'te']],_0x43ebfa=this[_0x1eafa1],_0x5217b1=this[_0x18672c];this['_applySpri'+'te'](_0x43ebfa,_0x5217b1);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x49*-0xb+-0x3*-0x661+0xb23*-0x2));}['_resetToDe'+'faultVisua'+'lState'](_0x1848f2){var _0x3c2544;if((_0x3c2544=this['_imageEnti'+'ty'])!=null&&_0x3c2544['element'])switch(_0x1848f2){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x149a9d,_0x1e337a){var _0x5adc25;const _0x56dd76=(_0x5adc25=this['_imageEnti'+'ty'])==null?void(0x199d+0xce*-0x19+-0x57f):_0x5adc25['element'];_0x56dd76&&(_0x1e337a=_0x1e337a||-0xd03+0x11d6+-0x4d3,this['_isApplyin'+'gSprite']=!(0x7f3+0x71*0x3d+-0x1f0*0x12),_0x56dd76['spriteAsse'+'t']!==_0x149a9d&&(_0x56dd76['spriteAsse'+'t']=_0x149a9d),_0x56dd76['spriteFram'+'e']!==_0x1e337a&&(_0x56dd76['spriteFram'+'e']=_0x1e337a),this['_isApplyin'+'gSprite']=!(0x3*0x4ab+0x1*-0x2025+0x1225));}['_applyTint'](_0x2299e4){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x3*0x57d+-0xfbd+0x4*0x80d?this['_applyTint'+'Immediatel'+'y'](_0x2299e4):this['_applyTint'+'WithTween'](_0x2299e4);}['_applyTint'+'Immediatel'+'y'](_0x31e6d4){var _0x17b7cd;const _0x327b9f=(_0x17b7cd=this['_imageEnti'+'ty'])==null?void(0x141d+0x236*-0xa+0x1ff):_0x17b7cd['element'];if(!_0x31e6d4||!_0x327b9f||_0x327b9f['type']===_h)return;const _0xfa22=sg(_0x31e6d4);this['_isApplyin'+'gTint']=!(-0x1a*0x15b+-0x224f+0x458d),_0xfa22['equals'](_0x327b9f['color'])||(_0x327b9f['color']=_0xfa22),_0x327b9f['opacity']!==_0x31e6d4['a']&&(_0x327b9f['opacity']=_0x31e6d4['a']),this['_isApplyin'+'gTint']=!(-0x2*0xddf+-0x130+0x1cef);}['_applyTint'+'WithTween'](_0x4bac7c){var _0x48a7d8;const _0x3b3a4b=(_0x48a7d8=this['_imageEnti'+'ty'])==null?void(0x14*-0x6d+0x3*0xb2d+-0x1903):_0x48a7d8['element'];if(!_0x4bac7c||!_0x3b3a4b||_0x3b3a4b['type']===_h)return;const _0x1dde68=sg(_0x4bac7c),_0x5782c2=_0x3b3a4b['color'],_0x31decc=_0x3b3a4b['opacity'];_0x1dde68['equals'](_0x5782c2)&&_0x4bac7c['a']===_0x31decc||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x5782c2['r'],_0x5782c2['g'],_0x5782c2['b'],_0x31decc),'to':_0x4bac7c['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x46b894=ne()-this['_tweenInfo']['startTime'];let _0x503806=this['fadeDurati'+'on']===0x1*0x77b+-0x168*-0x6+-0xfeb?-0x23a9+-0x21a+-0x1*-0x25c4:_0x46b894/this['fadeDurati'+'on'];if(_0x503806=N['clamp'](_0x503806,-0x140e*-0x1+0x234d+-0x375b,0x23b*0xb+-0x37c+0x704*-0x3),Math['abs'](_0x503806-(0x11d3+-0x14df+0x1*0x30d))>0x1d7d*0x1+-0x7d*0x1d+-0xf54+0.00001){const _0x30b4a7=this['_tweenInfo']['lerpColor'];_0x30b4a7['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x503806),this['_applyTint'+'Immediatel'+'y'](new Y(_0x30b4a7['r'],_0x30b4a7['g'],_0x30b4a7['b'],_0x30b4a7['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x9*-0x37b+0xb*0x133+-0x2c83),this['_hoveringC'+'ounter']=-0x4c1+0x3e1+-0x10*-0xe,this['_isPressed']=!(0x1*0x21f3+-0x17*-0xf7+-0x805*0x7),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2ae363,_0x3072f7){_0x2ae363['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x3072f7[_0x2ae363['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x54aa9d){return new Y(_0x54aa9d['r'],_0x54aa9d['g'],_0x54aa9d['b']);}class ZP{constructor(){this['enabled']=!(0x149*0x1b+0xd*-0x2e6+0x6d*0x7),this['active']=!(0x11*0x1f7+0x2*0x553+0x4e5*-0x9),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(-0x9ef+-0x105f+-0xd*-0x206+0.75,0x16b9+0x220f*0x1+0x17*-0x278+0.75,-0x8e6*0x2+-0x2*0xcb6+0x2b38+0.75),this['pressedTin'+'t']=new Y(-0xd*0x14+0xedd+-0xdd9+0.5,0x120f+0x2fe+-0x1*0x150d+0.5,0x301*-0x1+-0xe1c+0xd*0x151+0.5),this['inactiveTi'+'nt']=new Y(-0xf63*-0x1+0x12d9+-0x223c*0x1+0.25,-0x13d*0x8+-0xb5*0xf+-0x3b*-0x59+0.25,-0x25f5+0xbbe+0x1a37+0.25),this['fadeDurati'+'on']=0x43*0x2f+-0x11eb*-0x2+-0x3023,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x2444+0x2215+0x22f,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x2*0x6e1+0x1*0x182c+-0x2*0x535,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x187*0x1+0x1845+0x8e*-0x29;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x177378){super(_0x177378),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x83c6e6,_0x1a994c,_0x459385){_0x83c6e6['imageEntit'+'y']=_0x1a994c['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x83c6e6,_0x1a994c,ig);}['onUpdate'](_0x426811){const _0x2f7e6d=this['store'];for(const _0x17d45f in _0x2f7e6d){const _0x4317c9=_0x2f7e6d[_0x17d45f]['entity'],_0x4f16cd=_0x4317c9['button'];_0x4f16cd['enabled']&&_0x4317c9['enabled']&&_0x4f16cd['onUpdate']();}}['_onRemoveC'+'omponent'](_0x2b2733,_0x52f2f8){_0x52f2f8['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x208703,_0x32108e){super(_0x208703,_0x32108e),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(0x602+-0x731+0x130)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x460fff=this['system']['store'][this['entity']['getGuid']()];return _0x460fff?_0x460fff['data']:null;}set['enabled'](_0x2b0a30){this['_setValue']('enabled',_0x2b0a30);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x32f9c7){this['_setValue']('type',_0x32f9c7);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x4d7feb){this['_setValue']('halfExtent'+'s',_0x4d7feb);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x374d8d){this['_setValue']('linearOffs'+'et',_0x374d8d);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x2228c9){this['_setValue']('angularOff'+'set',_0x2228c9);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x68f212){this['_setValue']('radius',_0x68f212);}get['radius'](){return this['data']['radius'];}set['axis'](_0x18f821){this['_setValue']('axis',_0x18f821);}get['axis'](){return this['data']['axis'];}set['height'](_0x426918){this['_setValue']('height',_0x426918);}get['height'](){return this['data']['height'];}set['asset'](_0x36fc55){this['_setValue']('asset',_0x36fc55);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x580b53){this['_setValue']('renderAsse'+'t',_0x580b53);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x25839b){this['_setValue']('convexHull',_0x25839b);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x50c0f7){this['_setValue']('shape',_0x50c0f7);}get['shape'](){return this['data']['shape'];}set['model'](_0x1a5ca1){this['_setValue']('model',_0x1a5ca1);}get['model'](){return this['data']['model'];}set['render'](_0x453567){this['_setValue']('render',_0x453567);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x124fdc){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x124fdc);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x4454be,_0x11041a){const _0x3d9c27=this['data'],_0x50aef2=_0x3d9c27[_0x4454be];_0x3d9c27[_0x4454be]=_0x11041a,this['fire']('set',_0x4454be,_0x50aef2,_0x11041a);}['onSetType'](_0x31fe9f,_0x3f8e4f,_0x25f66e){_0x3f8e4f!==_0x25f66e&&this['system']['changeType'](this,_0x3f8e4f,_0x25f66e);}['onSetHalfE'+'xtents'](_0x2d249f,_0x3137a2,_0x5d8f6f){const _0x5d64f4=this['data']['type'];this['data']['initialize'+'d']&&_0x5d64f4==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x247675,_0x2fabc6,_0xec02e){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x4c1305,_0x8c403f,_0x4c4abd){const _0x112efc=this['data']['type'];this['data']['initialize'+'d']&&(_0x112efc==='sphere'||_0x112efc==='capsule'||_0x112efc==='cylinder'||_0x112efc==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0xa14b1e,_0x520a85,_0x391ec7){const _0x40af7a=this['data']['type'];this['data']['initialize'+'d']&&(_0x40af7a==='capsule'||_0x40af7a==='cylinder'||_0x40af7a==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x480074,_0xca039c,_0x2d075e){const _0x7d2ef=this['data']['type'];this['data']['initialize'+'d']&&(_0x7d2ef==='capsule'||_0x7d2ef==='cylinder'||_0x7d2ef==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x30bddc,_0x273b20,_0x3aa930){const _0x21d4cb=this['system']['app']['assets'];if(_0x273b20){const _0x4ed502=_0x21d4cb['get'](_0x273b20);_0x4ed502&&_0x4ed502['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x3aa930){_0x3aa930 instanceof le&&(this['data']['asset']=_0x3aa930['id']);const _0x62c7c5=_0x21d4cb['get'](this['data']['asset']);_0x62c7c5&&(_0x62c7c5['off']('remove',this['onAssetRem'+'oved'],this),_0x62c7c5['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x3aa930||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x5797fb,_0x3ee8f7,_0x8bf467){const _0x16b579=this['system']['app']['assets'];if(_0x3ee8f7){const _0x240460=_0x16b579['get'](_0x3ee8f7);_0x240460&&_0x240460['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x8bf467){_0x8bf467 instanceof le&&(this['data']['renderAsse'+'t']=_0x8bf467['id']);const _0x109596=_0x16b579['get'](this['data']['renderAsse'+'t']);_0x109596&&(_0x109596['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x109596['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x8bf467||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0xe97262,_0x38db3b,_0x5d3836){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x3efdb8,_0x5aae84,_0x2106d8){this['onSetModel'](_0x3efdb8,_0x5aae84,_0x2106d8);}['onAssetRem'+'oved'](_0x2f7835){_0x2f7835['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x2f7835['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0xbf5322){_0xbf5322['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0xbf5322['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x50af3a){const _0x2f46e0=this['data']['shape'],_0x129dd2=_0x2f46e0['getNumChil'+'dShapes']();for(let _0x5bffe9=0x173*0x1a+-0x1*0xe71+-0x9*0x295;_0x5bffe9<_0x129dd2;_0x5bffe9++){const _0x51ca5c=_0x2f46e0['getChildSh'+'ape'](_0x5bffe9);if(Ammo['getPointer'](_0x51ca5c)===Ammo['getPointer'](_0x50af3a))return _0x5bffe9;}return null;}['_onInsert'](_0x36bbbc){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x1982ee=this['entity']['parent'];for(;_0x1982ee;){if(_0x1982ee['collision']&&_0x1982ee['collision']['type']==='compound'){_0x1982ee['collision']['shape']['getNumChil'+'dShapes']()===0x1*0x256+-0x3e*0x43+0x1c*0x7f?this['system']['recreatePh'+'ysicalShap'+'es'](_0x1982ee['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x1982ee=_0x1982ee['parent'];}}}}}['_updateCom'+'pound'](){const _0x52d1a7=this['entity'];if(_0x52d1a7['_dirtyWorl'+'d']){let _0x2d5f02=_0x52d1a7['_dirtyLoca'+'l'],_0xd53be1=_0x52d1a7;for(;_0xd53be1&&!_0x2d5f02&&!(_0xd53be1['collision']&&_0xd53be1['collision']===this['_compoundP'+'arent']);)_0xd53be1['_dirtyLoca'+'l']&&(_0x2d5f02=!(-0x2*0xa7a+0x1fd5+-0xae1)),_0xd53be1=_0xd53be1['parent'];if(_0x2d5f02){_0x52d1a7['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x52d1a7);const _0x42d3c6=this['_compoundP'+'arent']['entity']['rigidbody'];_0x42d3c6&&_0x42d3c6['activate']();}}}['getShapePo'+'sition'](){const _0xf7f577=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x3e89a6=this['entity']['getRotatio'+'n'](),_0x3d3f7d=this['data']['linearOffs'+'et'];return ng['copy'](_0x3e89a6)['transformV'+'ector'](_0x3d3f7d,rg),rg['add'](_0xf7f577);}return _0xf7f577;}['getShapeRo'+'tation'](){const _0x2d9a69=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x2d9a69)['mul'](this['data']['angularOff'+'set']):_0x2d9a69;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0xff56ca=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0xff56ca&&(!_0xff56ca['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1433+0x7ac+-0x1bdf)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x11c352=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x11c352,this['data']['shape']),Ammo['destroy'](_0x11c352),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(0x5c*-0x35+0x6ce+0x61f*0x2),this['type']='box',this['halfExtent'+'s']=new T(-0x1*0x1745+0x19d1+-0x28c+0.5,-0x61e+0x27*-0x5+-0x1*-0x6e1+0.5,-0x1cd*0x3+-0x232*-0x11+-0x1feb+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=-0x1914+0x1b68+0x95*-0x4+0.5,this['axis']=-0xe0b+-0xbdf*-0x1+-0x1*-0x22d,this['height']=0x1*-0x1753+0x1e9*-0x6+0x22cb,this['convexHull']=!(0xe33+-0x8*0x371+-0x1*-0xd56),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x16af*0x1+0x359*-0x8+0x419),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x168c+-0x19e7*0x1+-0x2*-0x1ae);}}const so='static',ms='dynamic',Bn='kinematic',eR=-0x1978+-0x1dd*-0x13+-0x9ed,lo=-0x302+0xc+-0xfe*-0x3,nf=-0x1*-0x112f+-0xc*0x337+0x1566,ag=-0x7*-0x24d+-0x1bb8+0xba1,tx=0xe95*0x1+-0x1733*-0x1+-0x25c3,tR=-0x1bca*0x1+-0x539*-0x2+0x1*0x1159,og=0x2*0x2b8+0x23fa+-0x2968,sR=-0x1d83+-0x140a+0x3191,lg=0x24f1+-0x2*-0x577+-0x1*0x2fcf,hg=0x6670+0x5130+0x485f,af=0xbe6f*-0x1+-0x14d65+0x30bd1;let _s,Er,Nn;class sx{constructor(_0x395d45,_0x3422aa,_0x2c8840){this['entity']=_0x3422aa['entity'],this['component']=_0x3422aa,this['app']=_0x395d45,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x2c8840);}['initialize'](_0x51d42b){const _0x7d27a2=this['entity'],_0x4961db=_0x51d42b['shape'];if(_0x4961db&&typeof Ammo<'u'){_0x7d27a2['trigger']&&_0x7d27a2['trigger']['destroy']();const _0xc8baa9=0x7f7*-0x4+-0x1087*-0x1+0xf56,_0x2bdd91=this['component'];if(_0x2bdd91){const _0xaa0321=_0x2bdd91['getShapePo'+'sition'](),_0x32020e=_0x2bdd91['getShapeRo'+'tation']();_s['setValue'](_0xaa0321['x'],_0xaa0321['y'],_0xaa0321['z']),Er['setValue'](_0x32020e['x'],_0x32020e['y'],_0x32020e['z'],_0x32020e['w']);}else{const _0x323118=_0x7d27a2['getPositio'+'n'](),_0x1a16b3=_0x7d27a2['getRotatio'+'n']();_s['setValue'](_0x323118['x'],_0x323118['y'],_0x323118['z']),Er['setValue'](_0x1a16b3['x'],_0x1a16b3['y'],_0x1a16b3['z'],_0x1a16b3['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0xa29c47=this['app']['systems']['rigidbody']['createBody'](_0xc8baa9,_0x4961db,Nn);_0xa29c47['setRestitu'+'tion'](-0x1140+0x105d*0x1+0x1*0xe3),_0xa29c47['setFrictio'+'n'](0x2141*0x1+-0x252a+0x3e9),_0xa29c47['setDamping'](-0x1*0x51b+-0x17*-0x147+-0x1846,0x2f*0x61+-0xfa0+-0x22f*0x1),_s['setValue'](-0x53*0x7+0x2*-0x9e8+0x1615*0x1,-0x9cc+-0x1ecd+0x2899*0x1,0x13ab+0x1c1c+-0x1b*0x1c5),_0xa29c47['setLinearF'+'actor'](_s),_0xa29c47['setAngular'+'Factor'](_s),_0xa29c47['setCollisi'+'onFlags'](_0xa29c47['getCollisi'+'onFlags']()|lo),_0xa29c47['entity']=_0x7d27a2,this['body']=_0xa29c47,this['component']['enabled']&&_0x7d27a2['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x13a623){const _0x38102b=this['component'];if(_0x38102b){const _0x5114c7=_0x38102b['getShapePo'+'sition'](),_0x4255c3=_0x38102b['getShapeRo'+'tation']();_s['setValue'](_0x5114c7['x'],_0x5114c7['y'],_0x5114c7['z']),Er['setValue'](_0x4255c3['x'],_0x4255c3['y'],_0x4255c3['z'],_0x4255c3['w']);}else{const _0x3f384e=this['entity']['getPositio'+'n'](),_0x4f79fd=this['entity']['getRotatio'+'n']();_s['setValue'](_0x3f384e['x'],_0x3f384e['y'],_0x3f384e['z']),Er['setValue'](_0x4f79fd['x'],_0x4f79fd['y'],_0x4f79fd['z'],_0x4f79fd['w']);}_0x13a623['setOrigin'](_s),_0x13a623['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x1a73e4=this['body'];_0x1a73e4['setWorldTr'+'ansform'](Nn),_0x1a73e4['activate']();}['enable'](){const _0x316824=this['body'];if(!_0x316824)return;const _0xaae698=this['app']['systems']['rigidbody'];_0xaae698['_triggers']['indexOf'](this)<-0x1*-0x1bc5+-0x12fd*-0x1+-0x2ec2&&(_0xaae698['addBody'](_0x316824,lg,af^lg),_0xaae698['_triggers']['push'](this)),_0x316824['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x32a627=this['body'];if(!_0x32a627)return;const _0x16caf2=this['app']['systems']['rigidbody'],_0x13b81b=_0x16caf2['_triggers']['indexOf'](this);_0x13b81b>-(-0x2683+0xe2f*0x2+0xa26)&&(_0x16caf2['removeBody'](_0x32a627),_0x16caf2['_triggers']['splice'](_0x13b81b,-0x853*-0x1+-0xbbf+0x36d)),_0x32a627['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x43639){this['system']=_0x43639;}['beforeInit'+'ialize'](_0x30f2bf,_0x40cbd7){_0x40cbd7['shape']=null,_0x40cbd7['model']=new Oi(),_0x40cbd7['model']['graph']=new De();}['afterIniti'+'alize'](_0xbf17b8,_0x496577){this['recreatePh'+'ysicalShap'+'es'](_0xbf17b8),_0xbf17b8['data']['initialize'+'d']=!(0x157e+-0x17d0+0x6*0x63);}['reset'](_0x2e35b4,_0xdd66db){this['beforeInit'+'ialize'](_0x2e35b4,_0xdd66db),this['afterIniti'+'alize'](_0x2e35b4,_0xdd66db);}['recreatePh'+'ysicalShap'+'es'](_0x2ff88d){const _0x4c0ad1=_0x2ff88d['entity'],_0x109cd9=_0x2ff88d['data'];if(typeof Ammo<'u'){_0x4c0ad1['trigger']&&(_0x4c0ad1['trigger']['destroy'](),delete _0x4c0ad1['trigger']),_0x109cd9['shape']&&(_0x2ff88d['_compoundP'+'arent']&&(_0x2ff88d!==_0x2ff88d['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x2ff88d['_compoundP'+'arent'],_0x109cd9['shape']),_0x2ff88d['_compoundP'+'arent']['entity']['rigidbody']&&_0x2ff88d['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x109cd9)),_0x109cd9['shape']=this['createPhys'+'icalShape'](_0x2ff88d['entity'],_0x109cd9);const _0x38d773=!_0x2ff88d['_compoundP'+'arent'];if(_0x109cd9['type']==='compound'&&(!_0x2ff88d['_compoundP'+'arent']||_0x2ff88d===_0x2ff88d['_compoundP'+'arent']))_0x2ff88d['_compoundP'+'arent']=_0x2ff88d,_0x4c0ad1['forEach'](this['_addEachDe'+'scendant'],_0x2ff88d);else{if(_0x109cd9['type']!=='compound'&&!_0x2ff88d['rigidbody']){_0x2ff88d['_compoundP'+'arent']=null;let _0x1fdab8=_0x4c0ad1['parent'];for(;_0x1fdab8;){if(_0x1fdab8['collision']&&_0x1fdab8['collision']['type']==='compound'){_0x2ff88d['_compoundP'+'arent']=_0x1fdab8['collision'];break;}_0x1fdab8=_0x1fdab8['parent'];}}}_0x2ff88d['_compoundP'+'arent']&&_0x2ff88d!==_0x2ff88d['_compoundP'+'arent']&&(_0x38d773&&_0x2ff88d['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0xcb*0x11+-0x2*0xcdf+0x3*0xd13?this['system']['recreatePh'+'ysicalShap'+'es'](_0x2ff88d['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x4c0ad1,!(-0xf70+0x248*-0x5+-0x4*-0x6b6)),_0x2ff88d['_compoundP'+'arent']['entity']['rigidbody']&&_0x2ff88d['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x4c0ad1['rigidbody']?(_0x4c0ad1['rigidbody']['disableSim'+'ulation'](),_0x4c0ad1['rigidbody']['createBody'](),_0x4c0ad1['enabled']&&_0x4c0ad1['rigidbody']['enabled']&&_0x4c0ad1['rigidbody']['enableSimu'+'lation']()):_0x2ff88d['_compoundP'+'arent']||(_0x4c0ad1['trigger']?_0x4c0ad1['trigger']['initialize'](_0x109cd9):_0x4c0ad1['trigger']=new sx(this['system']['app'],_0x2ff88d,_0x109cd9));}}['createPhys'+'icalShape'](_0x208bf7,_0x279426){}['updateTran'+'sform'](_0x4a287f,_0xdce737,_0x1e2c06,_0x328df7){_0x4a287f['entity']['trigger']&&_0x4a287f['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x242ff7){_0x242ff7['shape']&&(Ammo['destroy'](_0x242ff7['shape']),_0x242ff7['shape']=null);}['beforeRemo'+'ve'](_0x422c5a,_0x546b5c){_0x546b5c['data']['shape']&&(_0x546b5c['_compoundP'+'arent']&&!_0x546b5c['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x546b5c['_compoundP'+'arent'],_0x546b5c['data']['shape']),_0x546b5c['_compoundP'+'arent']['entity']['rigidbody']&&_0x546b5c['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x546b5c['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x546b5c['data']));}['remove'](_0x326714,_0x239541){_0x326714['rigidbody']&&_0x326714['rigidbody']['body']&&_0x326714['rigidbody']['disableSim'+'ulation'](),_0x326714['trigger']&&(_0x326714['trigger']['destroy'](),delete _0x326714['trigger']);}['clone'](_0x364e30,_0x17dd70){const _0x6f8f74=this['system']['store'][_0x364e30['getGuid']()],_0x771148={'enabled':_0x6f8f74['data']['enabled'],'type':_0x6f8f74['data']['type'],'halfExtents':[_0x6f8f74['data']['halfExtent'+'s']['x'],_0x6f8f74['data']['halfExtent'+'s']['y'],_0x6f8f74['data']['halfExtent'+'s']['z']],'linearOffset':[_0x6f8f74['data']['linearOffs'+'et']['x'],_0x6f8f74['data']['linearOffs'+'et']['y'],_0x6f8f74['data']['linearOffs'+'et']['z']],'angularOffset':[_0x6f8f74['data']['angularOff'+'set']['x'],_0x6f8f74['data']['angularOff'+'set']['y'],_0x6f8f74['data']['angularOff'+'set']['z'],_0x6f8f74['data']['angularOff'+'set']['w']],'radius':_0x6f8f74['data']['radius'],'axis':_0x6f8f74['data']['axis'],'height':_0x6f8f74['data']['height'],'convexHull':_0x6f8f74['data']['convexHull'],'asset':_0x6f8f74['data']['asset'],'renderAsset':_0x6f8f74['data']['renderAsse'+'t'],'model':_0x6f8f74['data']['model'],'render':_0x6f8f74['data']['render'],'checkVertexDuplicates':_0x6f8f74['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x17dd70,_0x771148);}}class aR extends xn{['createPhys'+'icalShape'](_0x14db07,_0x54a399){if(typeof Ammo<'u'){const _0x37c7af=_0x54a399['halfExtent'+'s'],_0x3f0c70=new Ammo['btVector3'](_0x37c7af?_0x37c7af['x']:0x14e*0x8+0x25c8+0x1*-0x3038+0.5,_0x37c7af?_0x37c7af['y']:0x12d8+0x15e9+-0x28c1+0.5,_0x37c7af?_0x37c7af['z']:-0x24de+-0xe8b+-0x3*-0x1123+0.5),_0x2fa4d7=new Ammo['btBoxShape'](_0x3f0c70);return Ammo['destroy'](_0x3f0c70),_0x2fa4d7;}}}class oR extends xn{['createPhys'+'icalShape'](_0x5ed62f,_0x213cc7){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x213cc7['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x106523,_0x4930d1){const _0x32e004=_0x4930d1['axis']??0x1*0x326+0x13+-0x338,_0x17e1bc=_0x4930d1['radius']??0xb06+-0x2018+0x1512+0.5,_0x50cb45=Math['max']((_0x4930d1['height']??-0x153d+-0x8de+0xd*0x251)-(-0xb3a+-0x1aa*0xb+0x1d8a)*_0x17e1bc,-0x213c+-0x194d+0x3a89);let _0x20d77e=null;if(typeof Ammo<'u')switch(_0x32e004){case-0x162b+0x5cd+0x105e:_0x20d77e=new Ammo['btCapsuleS'+'hapeX'](_0x17e1bc,_0x50cb45);break;case-0x1f27+0xc17+0x65b*0x3:_0x20d77e=new Ammo['btCapsuleS'+'hape'](_0x17e1bc,_0x50cb45);break;case 0x1*-0xe47+0x1*-0x80e+0x1657:_0x20d77e=new Ammo['btCapsuleS'+'hapeZ'](_0x17e1bc,_0x50cb45);break;}return _0x20d77e;}}class hR extends xn{['createPhys'+'icalShape'](_0x2ad4d5,_0x1bc9b4){const _0x515eeb=_0x1bc9b4['axis']??0x5*0x1bf+0x35*-0x5+-0x7b1,_0x3c633f=_0x1bc9b4['radius']??0x32+0x153*-0x17+0x1e43+0.5,_0x4228d5=_0x1bc9b4['height']??-0x7*-0x13d+0x43*0x6b+0x3f*-0x95;let _0x15735a=null,_0x3acd1f=null;if(typeof Ammo<'u')switch(_0x515eeb){case 0x1d2+-0x1*0xbf3+0xa21:_0x15735a=new Ammo['btVector3'](_0x4228d5*(0x2f*-0xca+-0xdc9+0x32df+0.5),_0x3c633f,_0x3c633f),_0x3acd1f=new Ammo['btCylinder'+'ShapeX'](_0x15735a);break;case-0x9dd+0x1c7d+-0x129f:_0x15735a=new Ammo['btVector3'](_0x3c633f,_0x4228d5*(0x216b*0x1+0x1647+-0x37b2+0.5),_0x3c633f),_0x3acd1f=new Ammo['btCylinder'+'Shape'](_0x15735a);break;case 0x1*-0x136f+-0xf45+0xb92*0x3:_0x15735a=new Ammo['btVector3'](_0x3c633f,_0x3c633f,_0x4228d5*(0x1c86+0x159d+-0x3223+0.5)),_0x3acd1f=new Ammo['btCylinder'+'ShapeZ'](_0x15735a);break;}return _0x15735a&&Ammo['destroy'](_0x15735a),_0x3acd1f;}}class cR extends xn{['createPhys'+'icalShape'](_0xbc82a3,_0x387953){const _0x471ffb=_0x387953['axis']??0x4*0x74d+-0xe76+-0xebd,_0x2cce05=_0x387953['radius']??-0x25b9+-0x1025*0x1+0x35de+0.5,_0x59dd71=_0x387953['height']??-0x5*-0x27d+-0x73+0x63*-0x1f;let _0x14caa2=null;if(typeof Ammo<'u')switch(_0x471ffb){case-0x1692+-0x20*-0xb3+0x32*0x1:_0x14caa2=new Ammo['btConeShap'+'eX'](_0x2cce05,_0x59dd71);break;case 0x1fa*-0x8+-0x2684+0x7c3*0x7:_0x14caa2=new Ammo['btConeShap'+'e'](_0x2cce05,_0x59dd71);break;case 0x1*-0x351+0x10bb*0x1+-0xd68:_0x14caa2=new Ammo['btConeShap'+'eZ'](_0x2cce05,_0x59dd71);break;}return _0x14caa2;}}class dR extends xn{['beforeInit'+'ialize'](_0x4dda5d,_0x1c5dc5){}['createAmmo'+'Hull'](_0x3b1b87,_0x36db4f,_0x50ccd,_0x4be36f){const _0xec2475=new Ammo['btConvexHu'+'llShape'](),_0x36e3ca=new Ammo['btVector3'](),_0x20af3d=[];_0x3b1b87['getPositio'+'ns'](_0x20af3d);for(let _0x5f5001=-0x20ea+0x763*-0x1+-0x39*-0xb5;_0x5f5001<_0x20af3d['length'];_0x5f5001+=-0x7*-0x287+-0x1*-0x407+-0x15b5)_0x36e3ca['setValue'](_0x20af3d[_0x5f5001]*_0x4be36f['x'],_0x20af3d[_0x5f5001+(-0x3b3+0xf*-0x271+-0x9*-0x47b)]*_0x4be36f['y'],_0x20af3d[_0x5f5001+(0x47*0x53+-0x172e+0x2b)]*_0x4be36f['z']),_0xec2475['addPoint'](_0x36e3ca,!(0x584+-0x779*0x5+0x54f*0x6));Ammo['destroy'](_0x36e3ca),_0xec2475['recalcLoca'+'lAabb'](),_0xec2475['setMargin'](-0x12fa*-0x2+0x395+-0x2989+0.01);const _0x6e2d39=this['system']['_getNodeTr'+'ansform'](_0x36db4f);_0x50ccd['addChildSh'+'ape'](_0x6e2d39,_0xec2475),Ammo['destroy'](_0x6e2d39);}['createAmmo'+'Mesh'](_0x4bf641,_0x43b309,_0x1ed389,_0x569907,_0x27f11a=!(0xb9f+-0x1ca6+0x1107*0x1)){const _0x338a08=this['system'];let _0x50192;if(_0x338a08['_triMeshCa'+'che'][_0x4bf641['id']])_0x50192=_0x338a08['_triMeshCa'+'che'][_0x4bf641['id']];else{const _0x2477a4=_0x4bf641['vertexBuff'+'er'],_0x44dd8f=_0x2477a4['getFormat']();let _0x3fba9c,_0xcf9f92;for(let _0x5424e2=-0x1da+0xb67+0x98d*-0x1;_0x5424e2<_0x44dd8f['elements']['length'];_0x5424e2++){const _0x27492e=_0x44dd8f['elements'][_0x5424e2];if(_0x27492e['name']===He){_0xcf9f92=new Float32Array(_0x2477a4['lock'](),_0x27492e['offset']),_0x3fba9c=_0x27492e['stride']/(-0x338+0x1dc+0x160);break;}}const _0x206f64=[];_0x4bf641['getIndices'](_0x206f64);const _0x15a0cc=_0x4bf641['primitive'][0xb*0x127+0x1*0x19da+-0x2687]['count']/(-0x25a2+-0x1*-0xa08+0x1b9d),_0x277e98=new Ammo['btVector3']();let _0x22c133,_0x1067d0,_0x5e0d7b;const _0xf0e46=_0x4bf641['primitive'][-0x1ab1+0x1231*-0x1+0x2ce2]['base'];_0x50192=new Ammo['btTriangle'+'Mesh'](),_0x338a08['_triMeshCa'+'che'][_0x4bf641['id']]=_0x50192;const _0x529fdb=new Map();v['assert'](typeof _0x50192['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x31de56=_0x50192['getIndexed'+'MeshArray']();_0x31de56['at'](0x1*0xdfd+-0x1f99+0xc4*0x17)['m_numTrian'+'gles']=_0x15a0cc;const _0x3090d9=_0x569907?_0x569907['x']:0xc98+0x1*-0x1ba1+0xf0a,_0x2aa728=_0x569907?_0x569907['y']:-0x26c8+0x1adb+0xbee,_0x2046f8=_0x569907?_0x569907['z']:-0x14f5+0x7c1*0x1+-0xd35*-0x1,_0x3cf1df=_0x52c986=>{const _0x40c5e8=_0xcf9f92[_0x52c986*_0x3fba9c]*_0x3090d9,_0x5bb6e1=_0xcf9f92[_0x52c986*_0x3fba9c+(0xd71+-0x3*0x7c7+-0x9e5*-0x1)]*_0x2aa728,_0x51a5cb=_0xcf9f92[_0x52c986*_0x3fba9c+(0x2*0x59d+0x916+-0x1*0x144e)]*_0x2046f8;let _0x11b11f;if(_0x27f11a){const _0x3e184e=_0x40c5e8+':'+_0x5bb6e1+':'+_0x51a5cb;if(_0x11b11f=_0x529fdb['get'](_0x3e184e),_0x11b11f!==void(-0x1112+-0x143+0x1255))return _0x11b11f;_0x277e98['setValue'](_0x40c5e8,_0x5bb6e1,_0x51a5cb),_0x11b11f=_0x50192['findOrAddV'+'ertex'](_0x277e98,!(0x1f5c+0x9ec+-0x2947)),_0x529fdb['set'](_0x3e184e,_0x11b11f);}else _0x277e98['setValue'](_0x40c5e8,_0x5bb6e1,_0x51a5cb),_0x11b11f=_0x50192['findOrAddV'+'ertex'](_0x277e98,!(-0x12a9+-0x35*-0x12+-0x1de*-0x8));return _0x11b11f;};for(let _0x3e2700=-0x25bc+0x192a+-0x649*-0x2;_0x3e2700<_0x15a0cc;_0x3e2700++)_0x22c133=_0x3cf1df(_0x206f64[_0xf0e46+_0x3e2700*(0xce5+-0x1de9+-0x1*-0x1107)]),_0x1067d0=_0x3cf1df(_0x206f64[_0xf0e46+_0x3e2700*(0x15b8+0x161c+-0x2bd1)+(0xc68+0x1*0x1af1+-0x2758)]),_0x5e0d7b=_0x3cf1df(_0x206f64[_0xf0e46+_0x3e2700*(-0xf4f*-0x1+0x17*-0x1a9+0x16e3)+(0xa00+-0x16b8+0xcba)]),_0x50192['addIndex'](_0x22c133),_0x50192['addIndex'](_0x1067d0),_0x50192['addIndex'](_0x5e0d7b);Ammo['destroy'](_0x277e98);}const _0x161c6b=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x50192,!(-0xe08+-0x52+0x14e*0xb));if(!_0x569907){const _0x43b1bb=_0x338a08['_getNodeSc'+'aling'](_0x43b309);_0x161c6b['setLocalSc'+'aling'](_0x43b1bb),Ammo['destroy'](_0x43b1bb);}const _0x3dc3d4=_0x338a08['_getNodeTr'+'ansform'](_0x43b309);_0x1ed389['addChildSh'+'ape'](_0x3dc3d4,_0x161c6b),Ammo['destroy'](_0x3dc3d4);}['createPhys'+'icalShape'](_0x5855d3,_0x12c63e){if(!(typeof Ammo>'u')&&(_0x12c63e['model']||_0x12c63e['render'])){const _0x2e380e=new Ammo['btCompound'+'Shape'](),_0x2a9682=_0x5855d3['getWorldTr'+'ansform']()['getScale']();if(_0x12c63e['render']){const _0x648e6=_0x12c63e['render']['meshes'];for(let _0xcd290a=-0x1*-0xd40+0xf3b+-0x1c7b;_0xcd290a<_0x648e6['length'];_0xcd290a++)_0x12c63e['convexHull']?this['createAmmo'+'Hull'](_0x648e6[_0xcd290a],cg,_0x2e380e,_0x2a9682):this['createAmmo'+'Mesh'](_0x648e6[_0xcd290a],cg,_0x2e380e,_0x2a9682,_0x12c63e['checkVerte'+'xDuplicate'+'s']);}else{if(_0x12c63e['model']){const _0x1e6817=_0x12c63e['model']['meshInstan'+'ces'];for(let _0x1c1ed0=-0x562*0x2+-0x11c9*0x1+0x1*0x1c8d;_0x1c1ed0<_0x1e6817['length'];_0x1c1ed0++)this['createAmmo'+'Mesh'](_0x1e6817[_0x1c1ed0]['mesh'],_0x1e6817[_0x1c1ed0]['node'],_0x2e380e,null,_0x12c63e['checkVerte'+'xDuplicate'+'s']);const _0x14f206=new Ammo['btVector3'](_0x2a9682['x'],_0x2a9682['y'],_0x2a9682['z']);_0x2e380e['setLocalSc'+'aling'](_0x14f206),Ammo['destroy'](_0x14f206);}}return _0x2e380e;}}['recreatePh'+'ysicalShap'+'es'](_0x5d7e71){const _0x416fac=_0x5d7e71['data'];if((_0x416fac['renderAsse'+'t']||_0x416fac['asset'])&&_0x5d7e71['enabled']&&_0x5d7e71['entity']['enabled']){this['loadAsset'](_0x5d7e71,_0x416fac['renderAsse'+'t']||_0x416fac['asset'],_0x416fac['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x5d7e71);}['loadAsset'](_0x184cb0,_0x55d4b1,_0x6da587){const _0x5dcf4e=_0x184cb0['data'],_0x4538e0=this['system']['app']['assets'],_0x5c5be2=_0x5dcf4e[_0x6da587],_0x151918=_0x4e5cca=>{_0x5dcf4e[_0x6da587]===_0x5c5be2&&(_0x5dcf4e[_0x6da587]=_0x4e5cca['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x184cb0));},_0x2f0476=_0xa64a66=>{_0xa64a66['ready'](_0x771673=>{if(_0x771673['data']['containerA'+'sset']){const _0x493624=_0x4538e0['get'](_0x771673['data']['containerA'+'sset']);_0x493624['loaded']?_0x151918(_0x771673):(_0x493624['ready'](()=>{_0x151918(_0x771673);}),_0x4538e0['load'](_0x493624));}else _0x151918(_0x771673);}),_0x4538e0['load'](_0xa64a66);},_0x5038aa=_0x4538e0['get'](_0x55d4b1);_0x5038aa?_0x2f0476(_0x5038aa):_0x4538e0['once']('add:'+_0x55d4b1,_0x2f0476);}['doRecreate'+'PhysicalSh'+'ape'](_0xe8d452){const _0x303c4b=_0xe8d452['entity'],_0x5c3456=_0xe8d452['data'];_0x5c3456['model']||_0x5c3456['render']?(this['destroySha'+'pe'](_0x5c3456),_0x5c3456['shape']=this['createPhys'+'icalShape'](_0x303c4b,_0x5c3456),_0x303c4b['rigidbody']?(_0x303c4b['rigidbody']['disableSim'+'ulation'](),_0x303c4b['rigidbody']['createBody'](),_0x303c4b['enabled']&&_0x303c4b['rigidbody']['enabled']&&_0x303c4b['rigidbody']['enableSimu'+'lation']()):_0x303c4b['trigger']?_0x303c4b['trigger']['initialize'](_0x5c3456):_0x303c4b['trigger']=new sx(this['system']['app'],_0xe8d452,_0x5c3456)):(this['beforeRemo'+'ve'](_0x303c4b,_0xe8d452),this['remove'](_0x303c4b,_0x5c3456));}['updateTran'+'sform'](_0x5463b5,_0x4e3441,_0x116d98,_0x11cf19){if(_0x5463b5['shape']){const _0x2b77c1=_0x5463b5['entity']['getWorldTr'+'ansform']()['getScale'](),_0x480588=_0x5463b5['shape']['getLocalSc'+'aling']();(_0x2b77c1['x']!==_0x480588['x']()||_0x2b77c1['y']!==_0x480588['y']()||_0x2b77c1['z']!==_0x480588['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x5463b5);}super['updateTran'+'sform'](_0x5463b5,_0x4e3441,_0x116d98,_0x11cf19);}['destroySha'+'pe'](_0x3fa532){if(!_0x3fa532['shape'])return;const _0x222ab9=_0x3fa532['shape']['getNumChil'+'dShapes']();for(let _0x33a624=-0x1*0x1384+-0x848+0x1bcc;_0x33a624<_0x222ab9;_0x33a624++){const _0x14c076=_0x3fa532['shape']['getChildSh'+'ape'](_0x33a624);Ammo['destroy'](_0x14c076);}Ammo['destroy'](_0x3fa532['shape']),_0x3fa532['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0xa21411,_0x39c007){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x1a397a){!_0x1a397a['collision']||_0x1a397a['rigidbody']||(_0x1a397a['collision']['_compoundP'+'arent']=this,_0x1a397a!==this['entity']&&_0x1a397a['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1a397a['collision']));}['_updateEac'+'hDescendan'+'t'](_0x3ba4a2){_0x3ba4a2['collision']&&_0x3ba4a2['collision']['_compoundP'+'arent']===this&&(_0x3ba4a2['collision']['_compoundP'+'arent']=null,_0x3ba4a2!==this['entity']&&!_0x3ba4a2['rigidbody']&&_0x3ba4a2['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x3ba4a2['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x321edf){!_0x321edf['collision']||_0x321edf['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x321edf,!(0x194*-0x3+0x130a+-0x1*0xe4d));}}class fR extends Xe{constructor(_0x14fcce){super(_0x14fcce),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x100eb4,_0x6bfb65,_0x259658){_0x259658=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x16d0ec={};for(let _0x38c670=-0x1c1f+0x3d7*0x7+-0x6a*-0x3,_0x575e09=_0x259658['length'];_0x38c670<_0x575e09;_0x38c670++){const _0x51b2ed=_0x259658[_0x38c670];_0x16d0ec[_0x51b2ed]=_0x6bfb65[_0x51b2ed];}let _0x1a2535;if(_0x6bfb65['hasOwnProp'+'erty']('asset')?(_0x1a2535=_0x259658['indexOf']('model'),_0x1a2535!==-(-0x211f+-0x14e*-0x4+0x1be8)&&_0x259658['splice'](_0x1a2535,0x6e+-0x1*-0x16eb+-0x1758),_0x1a2535=_0x259658['indexOf']('render'),_0x1a2535!==-(-0xa99+0x26e2+-0x1c48)&&_0x259658['splice'](_0x1a2535,-0x1*-0x2039+-0x278*0x2+-0x4*0x6d2)):_0x6bfb65['hasOwnProp'+'erty']('model')&&(_0x1a2535=_0x259658['indexOf']('asset'),_0x1a2535!==-(-0x1*-0x182b+-0x1863+-0x39*-0x1)&&_0x259658['splice'](_0x1a2535,-0x40*0x1d+0x249f+0xe*-0x219)),_0x16d0ec['type']||(_0x16d0ec['type']=_0x100eb4['data']['type']),_0x100eb4['data']['type']=_0x16d0ec['type'],Array['isArray'](_0x16d0ec['halfExtent'+'s'])&&(_0x16d0ec['halfExtent'+'s']=new T(_0x16d0ec['halfExtent'+'s'])),Array['isArray'](_0x16d0ec['linearOffs'+'et'])&&(_0x16d0ec['linearOffs'+'et']=new T(_0x16d0ec['linearOffs'+'et'])),Array['isArray'](_0x16d0ec['angularOff'+'set'])){const _0x57df98=_0x16d0ec['angularOff'+'set'];_0x57df98['length']===-0x2322+-0x13a5+0x36ca?_0x16d0ec['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x57df98[-0x167a+0xbb1*0x1+0xac9],_0x57df98[0x125b+-0x1d1f+0xac5],_0x57df98[0x71*0x41+0xb9d+-0x284c]):_0x16d0ec['angularOff'+'set']=new se(_0x16d0ec['angularOff'+'set']);}const _0x2c5073=this['_createImp'+'lementatio'+'n'](_0x16d0ec['type']);_0x2c5073['beforeInit'+'ialize'](_0x100eb4,_0x16d0ec),super['initialize'+'ComponentD'+'ata'](_0x100eb4,_0x16d0ec,_0x259658),_0x2c5073['afterIniti'+'alize'](_0x100eb4,_0x16d0ec);}['_createImp'+'lementatio'+'n'](_0x56f7f8){if(this['implementa'+'tions'][_0x56f7f8]===void(0x20db+-0x295*0x2+0x1bb1*-0x1)){let _0x481285;switch(_0x56f7f8){case'box':_0x481285=new aR(this);break;case'sphere':_0x481285=new oR(this);break;case'capsule':_0x481285=new lR(this);break;case'cylinder':_0x481285=new hR(this);break;case'cone':_0x481285=new cR(this);break;case'mesh':_0x481285=new dR(this);break;case'compound':_0x481285=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x56f7f8);}this['implementa'+'tions'][_0x56f7f8]=_0x481285;}return this['implementa'+'tions'][_0x56f7f8];}['_getImplem'+'entation'](_0x3aeb7e){return this['implementa'+'tions'][_0x3aeb7e['collision']['data']['type']];}['cloneCompo'+'nent'](_0x3b7679,_0x54cd3b){return this['_getImplem'+'entation'](_0x3b7679)['clone'](_0x3b7679,_0x54cd3b);}['onBeforeRe'+'move'](_0x4bb213,_0xd6dad0){this['implementa'+'tions'][_0xd6dad0['data']['type']]['beforeRemo'+'ve'](_0x4bb213,_0xd6dad0),_0xd6dad0['onBeforeRe'+'move']();}['onRemove'](_0x5a0061,_0x21c851){this['implementa'+'tions'][_0x21c851['type']]['remove'](_0x5a0061,_0x21c851);}['updateComp'+'oundChildT'+'ransform'](_0xfb1e07,_0x3f14c5){const _0x48a970=_0xfb1e07['collision']['_compoundP'+'arent'];if(_0x48a970!==_0xfb1e07['collision']&&_0xfb1e07['enabled']&&_0xfb1e07['collision']['enabled']&&(_0xfb1e07['_dirtyLoca'+'l']||_0x3f14c5)){const _0x40bd9d=this['_getNodeTr'+'ansform'](_0xfb1e07,_0x48a970['entity']),_0x49a06d=_0x48a970['getCompoun'+'dChildShap'+'eIndex'](_0xfb1e07['collision']['shape']);_0x49a06d===null?_0x48a970['shape']['addChildSh'+'ape'](_0x40bd9d,_0xfb1e07['collision']['data']['shape']):_0x48a970['shape']['updateChil'+'dTransform'](_0x49a06d,_0x40bd9d,!(0x1*0x1ddf+0x1c95+-0x3a74)),Ammo['destroy'](_0x40bd9d);}}['_removeCom'+'poundChild'](_0x3091b1,_0x43e8ff){if(_0x3091b1['shape']['getNumChil'+'dShapes']()!==0xa5+0x23c2+-0x1*0x2467){if(_0x3091b1['shape']['removeChil'+'dShape'])_0x3091b1['shape']['removeChil'+'dShape'](_0x43e8ff);else{const _0x451cf9=_0x3091b1['getCompoun'+'dChildShap'+'eIndex'](_0x43e8ff);_0x451cf9!==null&&_0x3091b1['shape']['removeChil'+'dShapeByIn'+'dex'](_0x451cf9);}}}['onTransfor'+'mChanged'](_0x40a70e,_0x37a6ef,_0x1e93ef,_0x3ea8ea){this['implementa'+'tions'][_0x40a70e['data']['type']]['updateTran'+'sform'](_0x40a70e,_0x37a6ef,_0x1e93ef,_0x3ea8ea);}['changeType'](_0x5a0e5e,_0x50ee34,_0x4a2d92){this['implementa'+'tions'][_0x50ee34]['beforeRemo'+'ve'](_0x5a0e5e['entity'],_0x5a0e5e),this['implementa'+'tions'][_0x50ee34]['remove'](_0x5a0e5e['entity'],_0x5a0e5e['data']),this['_createImp'+'lementatio'+'n'](_0x4a2d92)['reset'](_0x5a0e5e,_0x5a0e5e['data']);}['recreatePh'+'ysicalShap'+'es'](_0x43c734){this['implementa'+'tions'][_0x43c734['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x43c734);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1b1e0f,_0x29bdf){if(_0x1b1e0f===_0x29bdf){const _0xd545e=_0x1b1e0f['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0xd545e['x'],_0xd545e['y'],_0xd545e['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1b1e0f['parent'],_0x29bdf),Xl['mul'](_0x1b1e0f['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x52d82c){const _0x44b578=_0x52d82c['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x44b578['x'],_0x44b578['y'],_0x44b578['z']);}['_getNodeTr'+'ansform'](_0x1c399e,_0x5e1afa){let _0x381611,_0x1e8d7a;_0x5e1afa?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1c399e,_0x5e1afa),_0x381611=iR,_0x1e8d7a=Cr,Xl['getTransla'+'tion'](_0x381611),_0x1e8d7a['setFromMat'+'4'](Xl)):(_0x381611=_0x1c399e['getPositio'+'n'](),_0x1e8d7a=_0x1c399e['getRotatio'+'n']());const _0x854885=new Ammo['btQuaterni'+'on'](),_0x18993f=new Ammo['btTransfor'+'m']();_0x18993f['setIdentit'+'y']();const _0x224166=_0x18993f['getOrigin'](),_0x398e08=_0x1c399e['collision'];if(_0x398e08&&_0x398e08['_hasOffset']){const _0x3a57e5=_0x398e08['data']['linearOffs'+'et'],_0x16817f=_0x398e08['data']['angularOff'+'set'],_0x5c07fc=rR;Cr['copy'](_0x1e8d7a)['transformV'+'ector'](_0x3a57e5,_0x5c07fc),_0x5c07fc['add'](_0x381611),Cr['copy'](_0x1e8d7a)['mul'](_0x16817f),_0x224166['setValue'](_0x5c07fc['x'],_0x5c07fc['y'],_0x5c07fc['z']),_0x854885['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x224166['setValue'](_0x381611['x'],_0x381611['y'],_0x381611['z']),_0x854885['setValue'](_0x1e8d7a['x'],_0x1e8d7a['y'],_0x1e8d7a['z'],_0x1e8d7a['w']);return _0x18993f['setRotatio'+'n'](_0x854885),Ammo['destroy'](_0x854885),_0x18993f;}['destroy'](){for(const _0x28aa5a in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x28aa5a]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x27dfc8,_0x39b561,_0x1e8161){this['_entity']=_0x27dfc8,this['_element']=_0x27dfc8['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x39b561,this['meshInstan'+'ce']=new Le(this['mesh'],_0x1e8161,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x27dfc8['name'],this['meshInstan'+'ce']['castShadow']=!(-0x236d+-0x2457+-0x3c7*-0x13),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x4bd+-0x2b*-0xad+-0x29*0xd3),this['_meshDirty']=!(-0xac+-0x1c7c+0x1d29),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x2f0c9b,_0x87e562;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x2f0c9b=this['meshInstan'+'ce'])==null||_0x2f0c9b['destroy'](),this['meshInstan'+'ce']=null,(_0x87e562=this['unmaskMesh'+'Instance'])==null||_0x87e562['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x41402b){this['meshInstan'+'ce']&&(this['mesh']=_0x41402b,this['meshInstan'+'ce']['mesh']=_0x41402b,this['meshInstan'+'ce']['visible']=!!_0x41402b,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x41402b),this['forceUpdat'+'eAabb']());}['setMask'](_0x439eee){var _0x310951;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x439eee){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x7*-0x3d1+0x21a7*-0x1+0x6f1),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x1b68+-0x5d1+0x1*0x213a),this['unmaskMesh'+'Instance']['pick']=!(-0xd3f*0x2+-0xa4*0x5+0x1db3),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x35f8a6 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x35f8a6,this['meshInstan'+'ce']['parameters'][_0x35f8a6]['data']);}else{const _0x1de815=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x1de815>=-0x61*-0x49+0x2fe*0xa+-0x3995&&this['model']['meshInstan'+'ces']['splice'](_0x1de815,0xbb4+0x1922+-0x24d5*0x1);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x439eee||((_0x310951=this['unmaskMesh'+'Instance'])==null||_0x310951['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x7f77c8){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x7f77c8,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x7f77c8));}['setParamet'+'er'](_0x428b8c,_0x1a3904){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x428b8c,_0x1a3904),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x428b8c,_0x1a3904));}['deletePara'+'meter'](_0x297589){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x297589),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x297589));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x40fa8d=function(_0x5a2441){let _0x404347;const _0x473001=_0x5a2441['children'],_0x1aebb6=_0x473001['length'];if(_0x1aebb6){for(let _0x2e609c=-0x2420+-0x1*-0x5db+0x1e45;_0x2e609c<_0x1aebb6;_0x2e609c++)_0x473001[_0x2e609c]['element']&&(_0x404347=_0x473001[_0x2e609c]);if(!_0x404347)return null;const _0xc317ea=_0x40fa8d(_0x404347);return _0xc317ea||_0x404347;}return null;};if(this['unmaskMesh'+'Instance']){const _0x2efaaf=_0x40fa8d(this['_entity']);_0x2efaaf&&_0x2efaaf['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x2efaaf['element']['drawOrder']+_0x2efaaf['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x3c0b5f){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x3c0b5f),this['meshInstan'+'ce']['drawOrder']=_0x3c0b5f);}['setCull'](_0x6f9dd4){if(!this['meshInstan'+'ce'])return;const _0x5ba8a6=this['_element'];let _0x2ef533=null;_0x6f9dd4&&_0x5ba8a6['_isScreenS'+'pace']()&&(_0x2ef533=function(_0x28656e){return _0x5ba8a6['isVisibleF'+'orCamera'](_0x28656e);}),this['meshInstan'+'ce']['cull']=_0x6f9dd4,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x2ef533,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x6f9dd4,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x2ef533);}['setScreenS'+'pace'](_0x5d7736){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x5d7736,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x5d7736));}['setLayer'](_0x2d08bc){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x2d08bc,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x2d08bc));}['forceUpdat'+'eAabb'](_0x493483){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0xdf5+-0x16f5+-0x1*-0x24eb),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0xcf4*0x1+0x2289+-0x1594)));}['setAabbFun'+'c'](_0x1484a7){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x1484a7,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x1484a7));}}class _R{constructor(_0x3c2389){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x3c2389,this['_entity']=_0x3c2389['entity'],this['_system']=_0x3c2389['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0x362*-0x5+-0x192a+0x2a14,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0xaa0+-0x125d+0x1cfe),this['_rect']=new Q(-0x1f1e+0x3*-0x912+0x3a54,0x4b0+-0x2*0x22f+-0x52,-0x1bc5+0xe87+-0x1*-0xd3f,0x4e*0x29+0x13c6+-0x1*0x2043),this['_mask']=!(0x1f*0x9f+-0x6fb*-0x4+-0x2*0x1796),this['_maskRef']=-0x22*-0xf4+0x20be+-0x21a*0x1f,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0xe5f*0x2+-0x22ff+-0x7*-0xe5),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0x1*-0x6b6+0x1*0x9b0+-0x2f6),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x2e*-0x32+-0x369+0xc69),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(-0xc7*0x21+0xaf7+0xeb1,-0x269*-0x4+-0x6*0x13e+-0x1*0x22f,-0xde1+0x1ac7*0x1+-0xce5,0x3d0+-0x2339+0x1f6a),this['_colorUnif'+'orm']=new Float32Array([-0x21*0x55+0x149*-0x5+-0x1163*-0x1,0x1a*0x10f+0x123f+-0x2dc4,-0x1*0x4e1+-0x5f4+-0x1*-0xad6]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x4a*-0x35+0xe5e+-0xf5*-0x1),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x3ad165){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0xfb6a46){this['_updateMat'+'erial'](_0xfb6a46);}['_onScreenC'+'hange'](_0x5afcbe,_0x442b0a){_0x5afcbe?this['_updateMat'+'erial'](_0x5afcbe['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1345*0x1+-0x1*-0x1543+0x1*-0x1fd));}['_onDrawOrd'+'erChange'](_0x387554){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x387554),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x23d1+0x42d*-0x4+0x3486);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x4c7301){const _0x2587f0=!!this['_mask'],_0xcca1a9=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x9db125=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x4c7301,_0x2587f0,_0xcca1a9,_0x9db125)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x4c7301),this['_renderabl'+'e']['setLayer'](_0x4c7301?Ub:c0));}['_createMes'+'h'](){const _0xba906a=this['_element'],_0x34447b=_0xba906a['calculated'+'Width'],_0x217698=_0xba906a['calculated'+'Height'],_0x489de9=this['_rect'],_0x2e7ffa=this['_system']['app']['graphicsDe'+'vice'],_0x1696f7=new Float32Array([_0x34447b,-0x1af1+-0x2*-0x48e+0x11d5,-0x447*0x1+-0x1045+0x1*0x148c,-0x52f*-0x4+0x29*0xc3+-0x35*0xfb,-0x1ca*-0xe+-0x1885*0x1+-0x87,-0xb2f+-0x3*-0x85d+0xde7*-0x1,_0x489de9['x']+_0x489de9['z'],-0x7*-0x3ae+0xfb1+-0x2972-_0x489de9['y'],_0x34447b,_0x217698,-0x87f+-0x1fa7+-0x1413*-0x2,-0x12*-0x1f5+0x198f+0x4ad*-0xd,0x1262+0x55*0x52+-0x2d9c,-0x803*-0x2+-0xaeb+-0x28d*0x2,_0x489de9['x']+_0x489de9['z'],-0x54+0x1899+0x4*-0x611-(_0x489de9['y']+_0x489de9['w']),-0x122d+0x24cc+-0x2a9*0x7,0x1*-0x9c2+0x5*-0x7f+0xc3d,-0x829+0x2182+0x2d1*-0x9,-0x67*-0x8+-0x2561+0xa5*0x35,0x1*0x158a+-0x2134+0xbaa,0x1a2+0x14a4*-0x1+0x1*0x1303,_0x489de9['x'],0x2*0x589+-0x66b*0x2+0x1*0x1c5-_0x489de9['y'],-0x2*-0xfd5+-0xc61+-0x1*0x1349,_0x217698,-0x3*-0x4cf+-0x1fd*0x4+-0x679,-0x14*-0x5b+0x11a9+-0x18c5,-0x16c1+0xe13+-0x2*-0x457,0x1f05+0x23a3+0x1*-0x42a7,_0x489de9['x'],0x11b0*0x2+0x2633+-0x4992-(_0x489de9['y']+_0x489de9['w'])]),_0x3c9cf5=pR['get'](_0x2e7ffa,()=>new Et(_0x2e7ffa,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x1cf1c9=new os(_0x2e7ffa,_0x3c9cf5,0xe74+-0x3*-0xb16+-0x2fb2,{'data':_0x1696f7['buffer']}),_0x25c3e2=new Ie(_0x2e7ffa);return _0x25c3e2['vertexBuff'+'er']=_0x1cf1c9,_0x25c3e2['primitive'][0x1*0x8f9+0x6e9+-0xd6*0x13]['type']=ar,_0x25c3e2['primitive'][-0x13b7+-0x1299+0x2650]['base']=-0x10e3+-0xa96+0x1b79,_0x25c3e2['primitive'][-0x218*-0x10+-0x1*-0x6fa+-0x42*0x9d]['count']=-0x88*-0x1c+0x1262+0x2e*-0xb9,_0x25c3e2['primitive'][0x1*0xf28+0x24e1+-0x3409]['indexed']=!(-0x1996+0xa8d+0x226*0x7),_0x25c3e2['aabb']['setMinMax'](T['ZERO'],new T(_0x34447b,_0x217698,-0x24fc+0x2277+-0xf*-0x2b)),this['_updateMes'+'h'](_0x25c3e2),_0x25c3e2;}['_updateMes'+'h'](_0x4e0982){const _0x3cf5a3=this['_element'];let _0x2267d0=_0x3cf5a3['calculated'+'Width'],_0x43376b=_0x3cf5a3['calculated'+'Height'];if(_0x3cf5a3['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0x1b2b*-0x1+-0x1578+0x1*0x30a3){const _0x54e2ff=_0x3cf5a3['calculated'+'Width']/_0x3cf5a3['calculated'+'Height'];_0x3cf5a3['fitMode']===YP&&_0x54e2ff>this['_targetAsp'+'ectRatio']||_0x3cf5a3['fitMode']===KP&&_0x54e2ff<this['_targetAsp'+'ectRatio']?_0x2267d0=_0x3cf5a3['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x43376b=_0x3cf5a3['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x148bff=_0x3cf5a3['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x148bff),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x1ce43c=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0xdf074f=(0x591+0xc3*-0x27+-0xb*-0x232)/_0x1ce43c['rect']['z'],_0x1b11c6=(0x1*0x248b+0x1*-0xb36+-0x1953)/_0x1ce43c['rect']['w'];this['_innerOffs'+'et']['set'](_0x1ce43c['border']['x']*_0xdf074f,_0x1ce43c['border']['y']*_0x1b11c6,_0x1ce43c['border']['z']*_0xdf074f,_0x1ce43c['border']['w']*_0x1b11c6);const _0x349e02=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x1ce43c['rect']['x']/_0x349e02['width'],_0x1ce43c['rect']['y']/_0x349e02['height'],_0x1ce43c['rect']['z']/_0x349e02['width'],_0x1ce43c['rect']['w']/_0x349e02['height']);const _0x43fc7b=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x1192f0=_0x1ce43c['rect']['z']/_0x43fc7b,_0x45a710=_0x1ce43c['rect']['w']/_0x43fc7b;this['_outerScal'+'e']['set'](Math['max'](_0x2267d0,this['_innerOffs'+'et']['x']*_0x1192f0),Math['max'](_0x43376b,this['_innerOffs'+'et']['y']*_0x45a710));let _0x2cef64=_0x1192f0,_0x1a4be6=_0x45a710;this['_outerScal'+'e']['x']/=_0x1192f0,this['_outerScal'+'e']['y']/=_0x45a710,_0x2cef64*=N['clamp'](_0x2267d0/(this['_innerOffs'+'et']['x']*_0x1192f0),-0xcf*0x10+-0x23f2+-0x1*-0x30e2+0.0001,0x64e+0x2*-0x35b+0x69),_0x1a4be6*=N['clamp'](_0x43376b/(this['_innerOffs'+'et']['y']*_0x45a710),-0xc26+-0x18*0xf+0xd8e+0.0001,0xd68+-0x1de+-0xb89),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x1591+0x511*0x4+-0x9*-0x25]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x1*-0x2ba+-0x1*0x232+-0xd*-0x61]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x1*0x9a3+0x3*-0x398+0x146d]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x1f*-0x116+0xcaf+-0x6*0x7b9]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x473*0x1+0x105*-0x23+0x2822]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x233f+-0x1*0x21c1+0x1*-0x17d]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x5*-0x5f5+0xbd6*-0x3+0xa3*0x9]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x68c+-0xf2*0x2+-0x4a5]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x7d9*0x1+-0x101d+0x844]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x79d+-0xd20+0x14be]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x2cef64,_0x1a4be6,0x4*0x1e7+0x1c95+-0x2430),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x2245+-0x580*-0x4+0xc45+0.5-_0x3cf5a3['pivot']['x'])*_0x2267d0,(-0xe*0x58+0x2636*0x1+0x1*-0x2166+0.5-_0x3cf5a3['pivot']['y'])*_0x43376b,-0x26bf+0x26a2+0x1d));}else{const _0x1ec2bd=_0x4e0982['vertexBuff'+'er'],_0x349a88=new Float32Array(_0x1ec2bd['lock']()),_0x44935d=_0x3cf5a3['pivot']['x'],_0x1c80bb=_0x3cf5a3['pivot']['y'];_0x349a88[0xd57*0x1+-0xb*0xd1+0x3*-0x174]=_0x2267d0-_0x44935d*_0x2267d0,_0x349a88[0x2*0xe7f+0x1b2a+-0x17*0x271]=-0x14c*0x1+0x44a+-0x2fe-_0x1c80bb*_0x43376b,_0x349a88[-0xfb*-0x6+-0x1*0x2612+0x4*0x80e]=_0x2267d0-_0x44935d*_0x2267d0,_0x349a88[0x6bf+0xe05+0x3d*-0x57]=_0x43376b-_0x1c80bb*_0x43376b,_0x349a88[-0x6f6*-0x5+-0x1*0x5bf+-0x1cff]=0xb*-0x226+0x1361+0x441-_0x44935d*_0x2267d0,_0x349a88[0x1f7c+0x2147*-0x1+0x1dc]=-0x1559*0x1+-0x1dff*-0x1+-0x8a6-_0x1c80bb*_0x43376b,_0x349a88[-0x156b*0x1+0x1*-0x1ede+0x3461]=0xed0+-0x439+-0xa97-_0x44935d*_0x2267d0,_0x349a88[0x1acd+0xdc4+-0x2878]=_0x43376b-_0x1c80bb*_0x43376b;let _0xab8566=0xb18+-0x1f97+0x1480,_0x5b2ce3=0x23da+0x218f+-0x8*0x8ad,_0x4e9560=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x5ca4b0=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x5ca4b0&&(_0x4e9560=_0x5ca4b0['rect'],_0xab8566=this['_sprite']['atlas']['texture']['width'],_0x5b2ce3=this['_sprite']['atlas']['texture']['height']);}_0x349a88[-0xa71+0x7*0x505+0x18ac*-0x1]=(_0x4e9560['x']+_0x4e9560['z'])/_0xab8566,_0x349a88[-0x1*-0x1f8e+-0x1128+-0xe5f]=-0x1*-0x2273+-0x11*0x1a9+-0x639-_0x4e9560['y']/_0x5b2ce3,_0x349a88[0x10*0x12d+-0x2364+0x10a2]=(_0x4e9560['x']+_0x4e9560['z'])/_0xab8566,_0x349a88[-0x25d9+-0x1e11*-0x1+0x7d7]=0x237a+0x1a4f+0x3*-0x1498-(_0x4e9560['y']+_0x4e9560['w'])/_0x5b2ce3,_0x349a88[0x4*-0x557+-0x7b*0x4+0x175e]=_0x4e9560['x']/_0xab8566,_0x349a88[0xf7c+-0x19*-0x3e+-0x1573]=0x1223+0x1*0x2349+0x223*-0x19-_0x4e9560['y']/_0x5b2ce3,_0x349a88[0x8*-0xf8+-0x26d6+-0x7*-0x6ac]=_0x4e9560['x']/_0xab8566,_0x349a88[-0x38f+-0xb*0x13+-0x47f*-0x1]=0x2*-0x83+-0x1d4d+0x1e54-(_0x4e9560['y']+_0x4e9560['w'])/_0x5b2ce3,_0x1ec2bd['unlock']();const _0x561857=new T(0x1345+0x18e1+-0x1613*0x2-_0x44935d*_0x2267d0,-0x23f4*0x1+0x113a+0x31f*0x6-_0x1c80bb*_0x43376b,-0xa*-0x2f+-0x87d*0x1+0x6a7),_0x2a24c1=new T(_0x2267d0-_0x44935d*_0x2267d0,_0x43376b-_0x1c80bb*_0x43376b,-0xc*0x2+0xf3*-0x3+0x2f1*0x1);_0x4e0982['aabb']['setMinMax'](_0x561857,_0x2a24c1),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x1d77+0x454*-0x8+-0x928*-0x7,0xb2*-0x4+-0x266*0xd+0x5*0x6cb,0x26fa+0x1*0x253d+-0x4c36),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x253b+0x11aa+0x1391,0xa6d+-0x4*-0x5c1+-0x2171,-0xd4*0x3+0x6b*-0x37+-0x1979*-0x1),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x207*-0x6+0x1*-0xd1d+-0x2*-0x7a);}['_updateSpr'+'ite'](){let _0x44e804=!(0x1811+0x1*-0xeae+-0x962),_0x5a9a74=null;if(this['_targetAsp'+'ectRatio']=-(0x1*0x1962+0x893*-0x1+-0x10ce),this['_sprite']&&this['_sprite']['atlas']){_0x5a9a74=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x44e804=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x24dd28=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x24dd28==null?void(-0x1*0x1712+-0x69+0x177b):_0x24dd28['rect']['w'])>-0x1d4d*-0x1+-0xf*0x17+-0x1bf4&&(this['_targetAsp'+'ectRatio']=_0x24dd28['rect']['z']/_0x24dd28['rect']['w']);}this['mesh']=_0x44e804?_0x5a9a74:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x15c2+-0x506*0x5+-0xd7*-0x4):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x336e02){return _0x336e02['center']['set'](-0x17ff+-0x22c2+0x3ac1,-0x13e1+-0x1dc3+0x6*0x846,-0xb63*0x1+-0x191*-0x1+0x1*0x9d2),_0x336e02['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x79e+0x1508*0x1+-0xd6a+0.5),this['_outerScal'+'e']['y']*(0x2dd+0x257b+-0x2858+0.5),0x113b+-0x1c03+-0xac8*-0x1+0.001),_0x336e02['setFromTra'+'nsformedAa'+'bb'](_0x336e02,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x336e02;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x2a22ff=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x2a22ff),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x368b46){this['material']=_0x368b46['resource'];}['_onMateria'+'lAdded'](_0x35bb18){this['_system']['app']['assets']['off']('add:'+_0x35bb18['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x35bb18['id']&&this['_bindMater'+'ialAsset'](_0x35bb18);}['_bindMater'+'ialAsset'](_0x333561){this['_entity']['enabled']&&(_0x333561['on']('load',this['_onMateria'+'lLoad'],this),_0x333561['on']('change',this['_onMateria'+'lChange'],this),_0x333561['on']('remove',this['_onMateria'+'lRemove'],this),_0x333561['resource']?this['_onMateria'+'lLoad'](_0x333561):this['_system']['app']['assets']['load'](_0x333561));}['_unbindMat'+'erialAsset'](_0x5eb8c5){_0x5eb8c5['off']('load',this['_onMateria'+'lLoad'],this),_0x5eb8c5['off']('change',this['_onMateria'+'lChange'],this),_0x5eb8c5['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x1bfa66){this['_system']['app']['assets']['off']('add:'+_0x1bfa66['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x1bfa66['id']&&this['_bindTextu'+'reAsset'](_0x1bfa66);}['_bindTextu'+'reAsset'](_0x20918e){this['_entity']['enabled']&&(_0x20918e['on']('load',this['_onTexture'+'Load'],this),_0x20918e['on']('change',this['_onTexture'+'Change'],this),_0x20918e['on']('remove',this['_onTexture'+'Remove'],this),_0x20918e['resource']?this['_onTexture'+'Load'](_0x20918e):this['_system']['app']['assets']['load'](_0x20918e));}['_unbindTex'+'tureAsset'](_0x5ed11d){_0x5ed11d['off']('load',this['_onTexture'+'Load'],this),_0x5ed11d['off']('change',this['_onTexture'+'Change'],this),_0x5ed11d['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x4fd754){this['texture']=_0x4fd754['resource'];}['_onTexture'+'Change'](_0x3073e7){}['_onTexture'+'Remove'](_0x3c958b){}['_onSpriteA'+'ssetAdded'](_0x10470b){this['_system']['app']['assets']['off']('add:'+_0x10470b['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x10470b['id']&&this['_bindSprit'+'eAsset'](_0x10470b);}['_bindSprit'+'eAsset'](_0x2f8d24){this['_entity']['enabled']&&(_0x2f8d24['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2f8d24['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x2f8d24['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2f8d24['resource']?this['_onSpriteA'+'ssetLoad'](_0x2f8d24):this['_system']['app']['assets']['load'](_0x2f8d24));}['_unbindSpr'+'iteAsset'](_0x3876dd){_0x3876dd['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x3876dd['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x3876dd['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x3876dd['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x3876dd['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x38e59d){if(!_0x38e59d||!_0x38e59d['resource'])this['sprite']=null;else{if(_0x38e59d['resource']['atlas'])this['sprite']=_0x38e59d['resource'];else{const _0x29fa69=_0x38e59d['data']['textureAtl'+'asAsset'];if(_0x29fa69){const _0x16b4fc=this['_system']['app']['assets'];_0x16b4fc['off']('load:'+_0x29fa69,this['_onTexture'+'AtlasLoad'],this),_0x16b4fc['once']('load:'+_0x29fa69,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x3f37c7){this['_onSpriteA'+'ssetLoad'](_0x3f37c7);}['_onSpriteA'+'ssetRemove'](_0x584e6c){}['_bindSprit'+'e'](_0x26296d){this['_evtSetMes'+'hes']=_0x26296d['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x26296d['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x26296d['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x26296d['atlas']&&_0x26296d['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x554d2d){var _0x3084aa;(_0x3084aa=this['_evtSetMes'+'hes'])==null||_0x3084aa['off'](),this['_evtSetMes'+'hes']=null,_0x554d2d['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x554d2d['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x554d2d['atlas']&&_0x554d2d['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x4*0x28d+-0xbc3*-0x1+-0x15f7,this['_sprite']['frameKeys']['length']-(0x2354+0xa15+0x2d68*-0x1))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x522030){const _0x7b8ae5=this['_spriteAss'+'et'];_0x7b8ae5 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x7b8ae5):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x7b8ae5));}['onEnable'](){if(this['_materialA'+'sset']){const _0x43cc75=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x43cc75&&_0x43cc75['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x43cc75);}if(this['_textureAs'+'set']){const _0x378ff6=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x378ff6&&_0x378ff6['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x378ff6);}if(this['_spriteAss'+'et']){const _0x1fca53=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x1fca53&&_0x1fca53['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x1fca53);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x3e99ad){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x3e99ad,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x3e99ad;let _0x3f34a0=0x3a*-0x1f+-0x1b93+0x209*0x11;if(this['_element']['maskedBy']&&(_0x3f34a0=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x5339f9=new qs({'ref':_0x3f34a0+(0xe68+-0x63f+0x15c*-0x6),'func':Ch,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x5339f9,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x5339f9;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x22ea+0xb*-0x101+0x2df5]=jl['r'],this['_colorUnif'+'orm'][0xfcd+0xef7*-0x1+-0xd5]=jl['g'],this['_colorUnif'+'orm'][0x1ab5+0x1de9+-0x389c]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x4e9d10){this['_color']===_0x4e9d10&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x194e88,g:_0x21fdd5,b:_0x4ea66c}=_0x4e9d10;(this['_color']['r']!==_0x194e88||this['_color']['g']!==_0x21fdd5||this['_color']['b']!==_0x4ea66c)&&(this['_color']['r']=_0x194e88,this['_color']['g']=_0x21fdd5,this['_color']['b']=_0x4ea66c,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x269f28){_0x269f28!==this['_color']['a']&&(this['_color']['a']=_0x269f28,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x269f28)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x269f28);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x7b28e8){this['_rect']===_0x7b28e8&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x48858f,_0x4ed02e,_0x517d0b,_0x461fe9;_0x7b28e8 instanceof Q?(_0x48858f=_0x7b28e8['x'],_0x4ed02e=_0x7b28e8['y'],_0x517d0b=_0x7b28e8['z'],_0x461fe9=_0x7b28e8['w']):(_0x48858f=_0x7b28e8[0x1*-0x2071+0xf40+0x1131],_0x4ed02e=_0x7b28e8[-0x4*0x6+-0x12*-0x2+-0xb],_0x517d0b=_0x7b28e8[0x1694+0x3dc*-0x2+-0xeda*0x1],_0x461fe9=_0x7b28e8[-0x1*0x2279+-0x31*-0xbd+-0x1b1]),!(_0x48858f===this['_rect']['x']&&_0x4ed02e===this['_rect']['y']&&_0x517d0b===this['_rect']['z']&&_0x461fe9===this['_rect']['w'])&&(this['_rect']['set'](_0x48858f,_0x4ed02e,_0x517d0b,_0x461fe9),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x1ce3+-0x591*0x7+0x9*0x78a):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x23e193=this['_system']['app']['assets'];_0x23e193['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x3eb025=_0x23e193['get'](this['_materialA'+'sset']);_0x3eb025&&(_0x3eb025['off']('load',this['_onMateria'+'lLoad'],this),_0x3eb025['off']('change',this['_onMateria'+'lChange'],this),_0x3eb025['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0xedf24c){if(this['_material']!==_0xedf24c){if(!_0xedf24c){const _0x2afa00=this['_element']['_isScreenS'+'pace']();this['mask']?_0xedf24c=_0x2afa00?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0xedf24c=_0x2afa00?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0xedf24c,this['_materialA'+'sset']){const _0x4347f0=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x4347f0||_0x4347f0['resource']!==_0xedf24c)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0xedf24c&&(this['_renderabl'+'e']['setMateria'+'l'](_0xedf24c),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x1ece0d){const _0x28b214=this['_system']['app']['assets'];let _0x45bc0b=_0x1ece0d;if(_0x1ece0d instanceof le&&(_0x45bc0b=_0x1ece0d['id']),this['_materialA'+'sset']!==_0x45bc0b){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x45bc0b,this['_materialA'+'sset']){const _0x1edc22=_0x28b214['get'](this['_materialA'+'sset']);_0x1edc22?this['_bindMater'+'ialAsset'](_0x1edc22):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x45bc0b,_0x28b214['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x45bc0b;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x2d8970){if(this['_texture']!==_0x2d8970){if(this['_textureAs'+'set']){const _0x54cffb=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x54cffb&&_0x54cffb['resource']!==_0x2d8970&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x2d8970,_0x2d8970){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x580fa4=this['_texture']['width']/this['_texture']['height'];_0x580fa4!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x580fa4,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0xc7f+0x1681+-0x22ff*0x1),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x55ea7a){const _0x55e799=this['_system']['app']['assets'];let _0x42e0c3=_0x55ea7a;if(_0x55ea7a instanceof le&&(_0x42e0c3=_0x55ea7a['id']),this['_textureAs'+'set']!==_0x42e0c3){if(this['_textureAs'+'set']){_0x55e799['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x47a4cc=_0x55e799['get'](this['_textureAs'+'set']);_0x47a4cc&&(_0x47a4cc['off']('load',this['_onTexture'+'Load'],this),_0x47a4cc['off']('change',this['_onTexture'+'Change'],this),_0x47a4cc['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x42e0c3,this['_textureAs'+'set']){const _0x3d0f6c=_0x55e799['get'](this['_textureAs'+'set']);_0x3d0f6c?this['_bindTextu'+'reAsset'](_0x3d0f6c):(this['texture']=null,_0x55e799['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x5c048e){const _0x54da4b=this['_system']['app']['assets'];let _0x4f0367=_0x5c048e;if(_0x5c048e instanceof le&&(_0x4f0367=_0x5c048e['id']),this['_spriteAss'+'et']!==_0x4f0367){if(this['_spriteAss'+'et']){_0x54da4b['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x4957b0=_0x54da4b['get'](this['_spriteAss'+'et']);_0x4957b0&&this['_unbindSpr'+'iteAsset'](_0x4957b0);}if(this['_spriteAss'+'et']=_0x4f0367,this['_spriteAss'+'et']){const _0x4459b9=_0x54da4b['get'](this['_spriteAss'+'et']);_0x4459b9?this['_bindSprit'+'eAsset'](_0x4459b9):(this['sprite']=null,_0x54da4b['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x4f0367);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x4df4c7){if(this['_sprite']!==_0x4df4c7){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x10da8e=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x10da8e&&_0x10da8e['resource']!==_0x4df4c7&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x4df4c7,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x1a7c+0xb13+0xf*0x107,this['_sprite']['frameKeys']['length']-(0x1de+0x3*-0x4a+-0xff))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x44a44e){const _0x537f2a=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x44a44e,0xb*-0x6b+0x4c7*0x7+-0x1cd8,this['_sprite']['frameKeys']['length']-(0x19ba*0x1+-0x983+-0x19f*0xa)):this['_spriteFra'+'me']=_0x44a44e,this['_spriteFra'+'me']!==_0x537f2a&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x44a44e);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x7fa0d2){this['_renderabl'+'e']['setMesh'](_0x7fa0d2),this['_defaultMe'+'sh']===_0x7fa0d2?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x8a4278){this['_mask']!==_0x8a4278&&(this['_mask']=_0x8a4278,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x170fb9){this['_pixelsPer'+'Unit']!==_0x170fb9&&(this['_pixelsPer'+'Unit']=_0x170fb9,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x4421ea){super(),this['_app']=_0x4421ea,_0x4421ea['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1f4a*0x1+0x1723*-0x1+-0x1b37*-0x2),this['_disableLo'+'calization']=!(-0xa57+0x183c+-0xde4),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x2faafe){const _0x289f60=_0x2faafe instanceof le?_0x2faafe['id']:_0x2faafe;this['_defaultAs'+'set']!==_0x289f60&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x289f60,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x5dceb0){const _0x5a2c66=_0x5dceb0 instanceof le?_0x5dceb0['id']:_0x5dceb0;this['_localized'+'Asset']!==_0x5a2c66&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x5a2c66,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x1a984b){this['_autoLoad']!==_0x1a984b&&(this['_autoLoad']=_0x1a984b,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x3cb7bd){this['_disableLo'+'calization']!==_0x3cb7bd&&(this['_disableLo'+'calization']=_0x3cb7bd,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x5abe75=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x5abe75?this['_onDefault'+'AssetAdd'](_0x5abe75):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x130612=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x130612&&(_0x130612['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x130612['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x130612['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x201b13){this['_defaultAs'+'set']===_0x201b13['id']&&(_0x201b13['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x201b13['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x201b13['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x29e012){this['_defaultAs'+'set']===_0x29e012['id']&&(_0x29e012['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x29e012['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x5d7694=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x5d7694&&(_0x5d7694['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x5d7694['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x5d7694['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x5d7694['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x5d7694):this['_app']['assets']['load'](_0x5d7694));}['_unbindLoc'+'alizedAsse'+'t'](){const _0xe31e2a=this['_app']['assets']['get'](this['_localized'+'Asset']);_0xe31e2a&&(_0xe31e2a['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0xe31e2a['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0xe31e2a['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x560bfc){this['_localized'+'Asset']===_0x560bfc['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x19f1a4){this['fire']('load',_0x19f1a4);}['_onLocaliz'+'edAssetCha'+'nge'](_0x21f11a,_0x537b0a,_0x436bc6,_0x196401){this['fire']('change',_0x21f11a,_0x537b0a,_0x436bc6,_0x196401);}['_onLocaliz'+'edAssetRem'+'ove'](_0x4dc89e){this['_localized'+'Asset']===_0x4dc89e['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x4dc89e);}['_onLocaleA'+'dd'](_0xc1d579,_0x50c075){this['_app']['i18n']['locale']===_0xc1d579&&this['_onSetLoca'+'le'](_0xc1d579);}['_onLocaleR'+'emove'](_0x104160,_0x1fd0d7){this['_app']['i18n']['locale']===_0x104160&&this['_onSetLoca'+'le'](_0x104160);}['_onSetLoca'+'le'](_0x5be406){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x50bb3c=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x50bb3c||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x541a44=_0x50bb3c['getLocaliz'+'edAssetId'](_0x5be406);if(!_0x541a44){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x541a44;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=-0x82b+-0x194+0x5*0x1f3,Kn=0x397*-0x3+0x147f+-0x9b9,of=0x26c8+0x124*-0x15+-0xed2,ix=-0xc71*-0x1+-0x176e+0xb00,lf=-0x13*0x1b5+0x121*-0x15+0x3828,hf=-0x11d1*-0x2+0x23ca+-0x4767,cf=0xcd*-0x2a+-0x1*0x1fbb+0x371*0x13,df=-0xfdf*0x1+0x22b1*0x1+-0x11b*0x11,dg=0x240d+-0x6d8+-0x1d2d,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x57202b){this['_symbols']=_0x57202b,this['_index']=-0x36*0x77+0x82+0x1898*0x1,this['_last']=0x1*0x18ec+-0x1773+-0x179,this['_cur']=this['_symbols']['length']>0x5ad*-0x4+0x16d8+0x4*-0x9?this['_symbols'][-0x16ed+0x1f02+-0x815]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x22f5f6=this['_read']();for(;_0x22f5f6===dg;)_0x22f5f6=this['_read']();return _0x22f5f6!==ho&&_0x22f5f6!==Kn&&(this['_last']=this['_index']),_0x22f5f6;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x2c21f9=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x5aefc0=this['read'](),_0x57d0f1='';for(;_0x57d0f1+=(_0x57d0f1['length']>-0x6b*-0x23+-0x2421*0x1+-0x20*-0xac?'\x0a':'')+_0x2c21f9[_0x5aefc0]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x5aefc0===ho||_0x5aefc0===Kn);)_0x5aefc0=this['read']();return _0x57d0f1;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x31*0x26+-0x1*0x2103+0x19bd?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0x1*-0x22f9+-0x1dff+-0x129*-0x38?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(0x1ad6+-0x1c27+0x2*0xa9);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x2307f3){return _0x2307f3['length']===0x1d1*-0x3+-0x911+-0x3f*-0x3b&&_0x2307f3['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x55b782){this['_buf']['push'](_0x55b782);}}class bR{constructor(_0x4302ab){this['_scanner']=new vR(_0x4302ab),this['_error']=null;}['parse'](_0x34ffd4,_0x205379){for(;;)switch(this['_scanner']['read']()){case ho:return!(-0x1*0x1387+0x2425+0x3*-0x58a);case Kn:return!(0xb0*-0x1d+0x84*0xe+-0xcb9*-0x1);case of:Array['prototype']['push']['apply'](_0x34ffd4,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x34ffd4,_0x205379))return!(-0x113e+0x22e*-0x1+-0x136d*-0x1);break;default:return!(0x1bb3+0x14f3+-0x30a5);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x4c6ca1,_0x37089a){let _0x7569b8=this['_scanner']['read']();if(_0x7569b8!==df)return this['_error']='expected\x20i'+'dentifier',!(0x19*0x1+0xc18+-0xc30);const _0x4b0766=this['_scanner']['buf']()['join']('');if(_0x4b0766[-0x1f*0xf1+0x741+0x15ee]==='/'){for(let _0x56a26a=_0x37089a['length']-(-0x1293*0x2+0x7e7+0x1d40);_0x56a26a>=0x11*0x243+0x2a*0x51+-0xa59*0x5;--_0x56a26a)if(_0x4b0766==='/'+_0x37089a[_0x56a26a]['name']&&_0x37089a[_0x56a26a]['end']===null)return _0x37089a[_0x56a26a]['end']=_0x4c6ca1['length'],_0x7569b8=this['_scanner']['read'](),_0x7569b8!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0xf3a+0x11db*0x1+0x18*-0x1c)):!(-0x11cf+0x475+0xd5a);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0xcdf+0x1978+-0xc98);}const _0x223440={'name':_0x4b0766,'value':null,'attributes':{},'start':_0x4c6ca1['length'],'end':null};if(_0x7569b8=this['_scanner']['read'](),_0x7569b8===hf){if(_0x7569b8=this['_scanner']['read'](),_0x7569b8!==cf)return this['_error']='expected\x20s'+'tring',!(0x220e+-0x3df*-0x2+-0x1*0x29cb);_0x223440['value']=this['_scanner']['buf']()['join'](''),_0x7569b8=this['_scanner']['read']();}for(;;){switch(_0x7569b8){case lf:return _0x37089a['push'](_0x223440),!(-0x4*0x269+-0xa3e+-0xa*-0x1fd);case df:{const _0x1bd2fa=this['_scanner']['buf']()['join']('');if(_0x7569b8=this['_scanner']['read'](),_0x7569b8!==hf)return this['_error']='expected\x20e'+'quals',!(0x24ed+0x17d6+-0x3cc2);if(_0x7569b8=this['_scanner']['read'](),_0x7569b8!==cf)return this['_error']='expected\x20s'+'tring',!(-0x1bc5+-0x63e+0xe*0x26e);const _0x4fccd8=this['_scanner']['buf']()['join']('');_0x223440['attributes'][_0x1bd2fa]=_0x4fccd8;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x2703+0x18e9*-0x1+-0xe19);}_0x7569b8=this['_scanner']['read']();}}}function rx(_0xea811c,_0x79d0ce){for(const _0x49fde5 in _0x79d0ce){if(!_0x79d0ce['hasOwnProp'+'erty'](_0x49fde5))continue;const _0x25cc31=_0x79d0ce[_0x49fde5];_0x25cc31 instanceof Object?(_0xea811c['hasOwnProp'+'erty'](_0x49fde5)||(_0xea811c[_0x49fde5]={}),rx(_0xea811c[_0x49fde5],_0x79d0ce[_0x49fde5])):_0xea811c[_0x49fde5]=_0x25cc31;}}function wR(_0x5cf9f5){if(_0x5cf9f5['length']===-0x8bd+0x1998+-0x10db)return null;const _0x49c3fc={};for(let _0x519189=0xdf8+-0x7d*-0x9+-0x125d;_0x519189<_0x5cf9f5['length'];++_0x519189){const _0xbee061=_0x5cf9f5[_0x519189],_0x4c5b6e={};_0x4c5b6e[_0xbee061['name']]={'value':_0xbee061['value'],'attributes':_0xbee061['attributes']},rx(_0x49c3fc,_0x4c5b6e);}return _0x49c3fc;}function TR(_0x44949b,_0x2ec86c){if(_0x44949b['length']===0x1c9b+0x19dd+-0x14c*0x2a)return null;const _0x2d39d6={};for(let _0x124a76=-0x213+-0x18d1+0x2*0xd72;_0x124a76<_0x44949b['length'];++_0x124a76){const _0x3934af=_0x44949b[_0x124a76];_0x2d39d6['hasOwnProp'+'erty'](_0x3934af['start'])?_0x2d39d6[_0x3934af['start']]['open']===null?_0x2d39d6[_0x3934af['start']]['open']=[_0x3934af]:_0x2d39d6[_0x3934af['start']]['open']['push'](_0x3934af):_0x2d39d6[_0x3934af['start']]={'open':[_0x3934af],'close':null},_0x2d39d6['hasOwnProp'+'erty'](_0x3934af['end'])?_0x2d39d6[_0x3934af['end']]['close']===null?_0x2d39d6[_0x3934af['end']]['close']=[_0x3934af]:_0x2d39d6[_0x3934af['end']]['close']['push'](_0x3934af):_0x2d39d6[_0x3934af['end']]={'open':null,'close':[_0x3934af]};}let _0x499803=[];function _0x1d3977(_0x4be3c4){_0x499803=_0x499803['filter'](_0x3f5f96=>_0x4be3c4['find'](_0x161b77=>_0x161b77===_0x3f5f96)===void(0x23b3+-0x10c*0x5+0x2c5*-0xb));}function _0x811dbe(_0x4cf3f3){for(let _0x575f81=0xba1+0x906+-0x1*0x14a7;_0x575f81<_0x4cf3f3['length'];++_0x575f81)_0x499803['push'](_0x4cf3f3[_0x575f81]);}const _0x1f9528=Object['keys'](_0x2d39d6)['sort']((_0xfd9eb4,_0x1ab7e8)=>_0xfd9eb4-_0x1ab7e8),_0x21efbb=[];for(let _0x3a69a1=-0xe*0x2c5+-0x2626+0x4cec;_0x3a69a1<_0x1f9528['length'];++_0x3a69a1){const _0x3373b1=_0x2d39d6[_0x1f9528[_0x3a69a1]];_0x3373b1['close']!==null&&_0x1d3977(_0x3373b1['close']),_0x3373b1['open']!==null&&_0x811dbe(_0x3373b1['open']),_0x21efbb['push']({'start':_0x1f9528[_0x3a69a1],'tags':wR(_0x499803)});}const _0x39596e=[];let _0x1095c9=null;for(let _0x519507=-0x8*0x4a8+0x10*-0x67+0xe9*0x30;_0x519507<_0x21efbb['length'];++_0x519507){const _0x34509d=_0x21efbb[_0x519507];for(;_0x39596e['length']<_0x34509d['start'];)_0x39596e['push'](_0x1095c9?_0x1095c9['tags']:null);_0x1095c9=_0x34509d;}for(;_0x39596e['length']<_0x2ec86c;)_0x39596e['push'](null);return _0x39596e;}function AR(_0x91687e){const _0x3960e6=new bR(_0x91687e),_0x4540ad=[],_0xc1126f=[];if(!_0x3960e6['parse'](_0x4540ad,_0xc1126f))return console['warn'](_0x3960e6['error']()),{'symbols':_0x91687e,'tags':null};const _0x17f7b8=_0xc1126f['find'](_0x5c7b33=>_0x5c7b33['end']===null);if(_0x17f7b8)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x17f7b8['name']+'\x27'),{'symbols':_0x91687e,'tags':null};const _0x82b754=TR(_0xc1126f,_0x4540ad['length']);return{'symbols':_0x4540ad,'tags':_0x82b754};}class ER{static['evaluate'](_0x928eeb){return AR(_0x928eeb);}}class CR{constructor(){this['count']=0x3a9+0x10f*-0xa+0x6ed,this['quad']=0xbf*0x1+0x175e+-0x181d*0x1,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x4db9fe,_0x4b4738){const _0x5c522a=new Ie(_0x4db9fe);return _0x5c522a['setPositio'+'ns'](_0x4b4738['positions']),_0x5c522a['setNormals'](_0x4b4738['normals']),_0x5c522a['setColors3'+'2'](_0x4b4738['colors']),_0x5c522a['setUvs'](0x252e*0x1+0x24b0+0x5*-0xec6,_0x4b4738['uvs']),_0x5c522a['setIndices'](_0x4b4738['indices']),_0x5c522a['setVertexS'+'tream'](Po,_0x4b4738['outlines'],0x1ac+0x2477*-0x1+0x1*0x22ce,void(0x12af+0xb6f+-0x1e1e),Ee,!(-0x68*0x40+-0x167*0x13+-0x24a*-0x17)),_0x5c522a['setVertexS'+'tream'](Ro,_0x4b4738['shadows'],-0x701+0x11*0x15d+-0x1029,void(-0xc99+0xfaf+-0x316),Ee,!(0x1da8+-0x1366+0x20d*-0x5)),_0x5c522a['update'](),_0x5c522a;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,DR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class OR{constructor(_0x138d55){this['_element']=_0x138d55,this['_system']=_0x138d55['system'],this['_entity']=_0x138d55['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x2531+0x1*0x2451+-0x4982*0x1),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0x1*0x893+0x1*0x20cc+-0x1838,0x215c+0x96*0xb+-0x27cd,-0x153d+0x6*0x5c9+0x4*-0x35e,0xd8f+0x22a0+-0x302e),this['_colorUnif'+'orm']=new Float32Array(-0x8f*-0x7+0x1*0x2ff+-0x6e5*0x1),this['_spacing']=-0x698+0x19a5+-0x1*0x130c,this['_fontSize']=0x17bc+-0x24c7*0x1+0xd2b,this['_fontMinY']=0x1*-0x2041+-0x1*0x147d+-0x1*-0x34be,this['_fontMaxY']=-0x1c4b*-0x1+-0x383*0x1+-0x18c8,this['_originalF'+'ontSize']=-0xc81*0x3+0x6c9*0x1+0x1eda,this['_maxFontSi'+'ze']=0x1c57+-0x4d5+0x92*-0x29,this['_minFontSi'+'ze']=0x1def+0x180d+-0x35f4,this['_autoFitWi'+'dth']=!(0xd*0xf2+-0x1*-0x18f8+-0x363*0xb),this['_autoFitHe'+'ight']=!(-0x18fa+0x3*-0xc0+0x1b3b),this['_maxLines']=-(-0xdf*-0x2b+0x195*-0x7+0x1*-0x1a61),this['_lineHeigh'+'t']=-0xa90+0x20e9+-0x1639,this['_scaledLin'+'eHeight']=-0x9*-0x431+0x3*0xc5d+-0x4ab0,this['_wrapLines']=!(-0x7ad+0x2*-0xf6a+-0x6a*-0x5d),this['_drawOrder']=-0xbc8*-0x1+0x1b6*0x15+-0xc5*0x3e,this['_alignment']=new W(0x16*0xc1+0xbea+-0x1c80+0.5,-0xb*-0xa4+-0x2073+0x1967+0.5),this['_autoWidth']=!(-0x3b*-0x17+0x29*-0xba+0x187d*0x1),this['_autoHeigh'+'t']=!(-0x415+0x4ff+-0xea),this['width']=0x55*-0x22+-0x793*0x1+0x12dd,this['height']=-0x175c*0x1+0x14b*0xd+0x68d,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0xb*-0x35f+0x87*-0x28+-0xffd),this['_aabb']=new _e(),this['_noResize']=!(0x1*0xb9e+-0x6d8+-0x4c5),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x1*-0x143b+0x76a+0xcd2),this['_unicodeCo'+'nverter']=!(0x1*0xf61+-0x1*-0x13be+-0x231e),this['_rtl']=!(-0x535+0x248b+-0x1f55),this['_outlineCo'+'lor']=new Y(0x108*-0x4+-0x1*0x11+0x431*0x1,-0x79f*0x2+0x2*0x833+-0x2*0x94,-0x467*-0x6+-0x2612+-0x2*-0x5d4,0xf1d*0x2+-0x246*-0x2+-0x22c5),this['_outlineCo'+'lorUniform']=new Float32Array(0xbfe+-0x6bc+-0x53e),this['_outlineTh'+'icknessSca'+'le']=0x2d1*0xd+-0x540+-0x1f*0x103+0.2,this['_outlineTh'+'ickness']=0x8*0x1c9+0xd08+-0x1b50,this['_shadowCol'+'or']=new Y(-0x22f6+0xfb5*-0x1+0x32ab,0x2190+-0xd2f+-0x1461*0x1,-0x1*0x1b7f+-0xb6*-0x25+-0x1*-0x131,0x2*-0x6d9+-0x2329*-0x1+0x52*-0x43),this['_shadowCol'+'orUniform']=new Float32Array(0xb40+-0x1*0x1655+-0x1*-0xb19),this['_shadowOff'+'setScale']=-0x10a3*-0x1+0x1228+-0x22cb+0.005,this['_shadowOff'+'set']=new W(-0x1*0x4fe+-0xc*-0x30e+-0x1faa,-0x218*0x4+0x334+-0x296*-0x2),this['_shadowOff'+'setUniform']=new Float32Array(-0x3db*0x6+0x170+0x15b4),this['_enableMar'+'kup']=!(0x1d5+0x987+-0xb5b),this['_onScreenC'+'hange'](this['_element']['screen']),_0x138d55['on']('resize',this['_onParentR'+'esize'],this),_0x138d55['on']('set:screen',this['_onScreenC'+'hange'],this),_0x138d55['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x138d55['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x138d55['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x8*-0x335+0x23f*-0x4+0xc2*-0x16,this['_rangeEnd']=0x1f9b+0x6f*-0x3a+-0x227*0x3;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x140b19,_0x5ccb48){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x491d90){_0x491d90?this['_updateMat'+'erial'](_0x491d90['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x359*0x9+-0xc+-0xf17*-0x2));}['_onScreenS'+'paceChange'](_0x34ed8f){this['_updateMat'+'erial'](_0x34ed8f);}['_onDrawOrd'+'erChange'](_0x3a1789){if(this['_drawOrder']=_0x3a1789,this['_model']){for(let _0x4a68aa=-0x1efb*0x1+0xa69+0x1492,_0x342db3=this['_model']['meshInstan'+'ces']['length'];_0x4a68aa<_0x342db3;_0x4a68aa++)this['_model']['meshInstan'+'ces'][_0x4a68aa]['drawOrder']=_0x3a1789;}}['_onPivotCh'+'ange'](_0x375628){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x39997f){if(this['_i18nKey']){if(this['fontAsset']){const _0x4f72ad=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x4f72ad||!_0x4f72ad['resource']||_0x4f72ad['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x1e7f87,_0x5d1930){this['_i18nKey']&&_0x5d1930[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0xef1493){if(this['unicodeCon'+'verter']){const _0x298a92=this['_system']['getUnicode'+'Converter']();_0x298a92?_0xef1493=_0x298a92(_0xef1493):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0xef1493&&(this['_font']&&this['_updateTex'+'t'](_0xef1493),this['_text']=_0xef1493);}['_updateTex'+'t'](_0x40238f){let _0x6fe8e7;if(_0x40238f===void(0x135f+-0x1f28+-0x1*-0xbc9)&&(_0x40238f=this['_text']),this['_symbols']=ah['getSymbols'](_0x40238f['normalize']?_0x40238f['normalize']('NFC'):_0x40238f),this['_symbols']['length']===0x166c+-0xa2a+-0x20b*0x6&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x5ea3ee=ER['evaluate'](this['_symbols']);this['_symbols']=_0x5ea3ee['symbols'],_0x6fe8e7=_0x5ea3ee['tags']||[];}if(this['_rtlReorde'+'r']){const _0x5a0265=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x5a0265){const _0x3a6038=_0x5a0265(this['_symbols']);this['_rtl']=_0x3a6038['rtl'],this['_symbols']=_0x3a6038['mapping']['map'](function(_0x32ba4f){return this['_symbols'][_0x32ba4f];},this),_0x6fe8e7&&(_0x6fe8e7=_0x3a6038['mapping']['map'](_0x57c532=>_0x6fe8e7[_0x57c532]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x982+-0xe2c+0x4ab);const _0x2bf172=(_0x266804,_0x3fd656)=>_0x266804['toString'](!(-0xde1+-0x1*-0xffb+-0x21a))['toLowerCas'+'e']()+':'+_0x3fd656['toFixed'](-0x1186*-0x1+-0x137*-0xc+0x100c*-0x2),_0x433803=(_0x22aa8f,_0x22f1fb)=>_0x22aa8f['toString'](!(0x442+-0x880+0x1*0x43e))['toLowerCas'+'e']()+':'+_0x22f1fb['x']['toFixed'](-0x185*-0x6+0xccc*0x2+-0x22b4)+':'+_0x22f1fb['y']['toFixed'](-0x1450+-0x99f*-0x1+0xab3);if(_0x6fe8e7){const _0x684ed7={},_0x776e4c={},_0x195387={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x1a*0x64+-0xa3d+0x114)),Math['round'](this['_color']['g']*(-0x87d+0x1*0x1e32+-0x14b6)),Math['round'](this['_color']['b']*(0x2*0xa54+0x25de+-0x1*0x3987))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x2097+0x1*0x1f2d+-0x269*-0x1)),Math['round'](this['_outlineCo'+'lor']['g']*(0x1cfe+0xd66+0x2965*-0x1)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x1f5c+-0x1651+0x36ac)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x331*-0x2+0x1*-0x1b1f+-0x4*-0x56f)),Math['round'](this['_outlineTh'+'ickness']*(-0xdfd*0x2+-0xb0*0x30+-0x3df9*-0x1))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x6eb*-0x5+0x279*0x2+0x1ea4)),Math['round'](this['_shadowCol'+'or']['g']*(0x1a83+-0x1b89+0x205)),Math['round'](this['_shadowCol'+'or']['b']*(0xbc0*-0x2+-0x2557+0x3dd6)),Math['round'](this['_shadowCol'+'or']['a']*(0x499*0x7+0x1f50+-0x3e80)),Math['round'](this['_shadowOff'+'set']['x']*(0x613+-0x71*-0x40+-0x21d4*0x1)),Math['round'](this['_shadowOff'+'set']['y']*(0x1e6*0x2+0x1e51+-0x296*0xd))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x684ed7[this['_color']['toString'](!(-0x12b5+-0x8*0x460+0x35b6))['toLowerCas'+'e']()]=-0x715*-0x5+0x60d+-0x2976,_0x776e4c[_0x2bf172(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0x16*-0x1bf+0x132f*-0x1+-0x133b,_0x195387[_0x433803(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x1343+0xc30+0x713*0x1;for(let _0x2a4978=0x115*-0x15+-0x2*0x720+0x24f9,_0x4d368b=this['_symbols']['length'];_0x2a4978<_0x4d368b;++_0x2a4978){const _0x13a8e6=_0x6fe8e7[_0x2a4978];let _0x17d64c=-0x15ad*0x1+-0x312+-0x1*-0x18bf;if(_0x13a8e6&&_0x13a8e6['color']&&_0x13a8e6['color']['value']){const _0x25efd6=_0x13a8e6['color']['value'];if(_0x25efd6['length']===-0x1d7f*-0x1+0x1*0x1b59+0x5*-0xb5d&&_0x25efd6[-0x3a1*0x5+0x397+0xe8e]==='#'){const _0x5e4a36=_0x25efd6['substring'](0x21cc+-0x298+-0x1f33)['toLowerCas'+'e']();_0x684ed7['hasOwnProp'+'erty'](_0x5e4a36)?_0x17d64c=_0x684ed7[_0x5e4a36]:/^[0-9a-f]{6}$/['test'](_0x5e4a36)&&(_0x17d64c=this['_colorPale'+'tte']['length']/(-0x2197+-0x3d1*-0x8+0x312),_0x684ed7[_0x5e4a36]=_0x17d64c,this['_colorPale'+'tte']['push'](parseInt(_0x5e4a36['substring'](0xc7*0x27+-0xbb6+-0x129b,0x53*0xd+-0x283*-0xd+-0x24dc*0x1),0x1a4*0x10+0x1*0xe1b+0x5*-0x80f)),this['_colorPale'+'tte']['push'](parseInt(_0x5e4a36['substring'](-0xb86+0xd2+-0x6*-0x1c9,0x1aa1+-0x11*-0x80+-0x231d),0x15cd+-0x603+-0x16e*0xb)),this['_colorPale'+'tte']['push'](parseInt(_0x5e4a36['substring'](-0x103*-0x20+0xee*-0x5+-0x1bb6,0x701*-0x2+-0x9e6*-0x3+-0x5*0x322),-0x841+-0x101*0x1f+0x4ee*0x8)));}}this['_symbolCol'+'ors']['push'](_0x17d64c);let _0x5bb7d0=0x1d4d+-0xbc6+-0x1187;if(_0x13a8e6&&_0x13a8e6['outline']&&(_0x13a8e6['outline']['attributes']['color']||_0x13a8e6['outline']['attributes']['thickness'])){let _0x3ff2ee=_0x13a8e6['outline']['attributes']['color']?mg['fromString'](_0x13a8e6['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x18e0e2=Number(_0x13a8e6['outline']['attributes']['thickness']);(Number['isNaN'](_0x3ff2ee['r'])||Number['isNaN'](_0x3ff2ee['g'])||Number['isNaN'](_0x3ff2ee['b'])||Number['isNaN'](_0x3ff2ee['a']))&&(_0x3ff2ee=this['_outlineCo'+'lor']),Number['isNaN'](_0x18e0e2)&&(_0x18e0e2=this['_outlineTh'+'ickness']);const _0x248f8d=_0x2bf172(_0x3ff2ee,_0x18e0e2);_0x776e4c['hasOwnProp'+'erty'](_0x248f8d)?_0x5bb7d0=_0x776e4c[_0x248f8d]:(_0x5bb7d0=this['_outlinePa'+'lette']['length']/(0x8f9+-0xe9d*0x1+0x5a9),_0x776e4c[_0x248f8d]=_0x5bb7d0,this['_outlinePa'+'lette']['push'](Math['round'](_0x3ff2ee['r']*(0xe24+-0x2*0x321+-0x6e3)),Math['round'](_0x3ff2ee['g']*(-0x1a4b*-0x1+-0x2192+0x846)),Math['round'](_0x3ff2ee['b']*(0x21f8+-0x1f*-0x12b+0x2*-0x2297)),Math['round'](_0x3ff2ee['a']*(0x26d7*-0x1+0x226c+0x56a)),Math['round'](_0x18e0e2*(-0x7*0x3c7+0x22bb+-0x74b))));}this['_symbolOut'+'lineParams']['push'](_0x5bb7d0);let _0x4c9e9a=-0x1*-0x1b82+0x7ca*-0x2+-0xbee;if(_0x13a8e6&&_0x13a8e6['shadow']&&(_0x13a8e6['shadow']['attributes']['color']||_0x13a8e6['shadow']['attributes']['offset']||_0x13a8e6['shadow']['attributes']['offsetX']||_0x13a8e6['shadow']['attributes']['offsetY'])){let _0x5c8d38=_0x13a8e6['shadow']['attributes']['color']?mg['fromString'](_0x13a8e6['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x29a22e=Number(_0x13a8e6['shadow']['attributes']['offset']),_0x30e390=Number(_0x13a8e6['shadow']['attributes']['offsetX']),_0x138107=Number(_0x13a8e6['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x5c8d38['r'])||Number['isNaN'](_0x5c8d38['g'])||Number['isNaN'](_0x5c8d38['b'])||Number['isNaN'](_0x5c8d38['a']))&&(_0x5c8d38=this['_shadowCol'+'or']);const _0x12ec41=FR['set'](Number['isNaN'](_0x30e390)?Number['isNaN'](_0x29a22e)?this['_shadowOff'+'set']['x']:_0x29a22e:_0x30e390,Number['isNaN'](_0x138107)?Number['isNaN'](_0x29a22e)?this['_shadowOff'+'set']['y']:_0x29a22e:_0x138107),_0x503d3a=_0x433803(_0x5c8d38,_0x12ec41);_0x195387['hasOwnProp'+'erty'](_0x503d3a)?_0x4c9e9a=_0x195387[_0x503d3a]:(_0x4c9e9a=this['_shadowPal'+'ette']['length']/(0x596+0xada*-0x3+0x1afe),_0x195387[_0x503d3a]=_0x4c9e9a,this['_shadowPal'+'ette']['push'](Math['round'](_0x5c8d38['r']*(-0x109e+-0x20ed*0x1+0x328a)),Math['round'](_0x5c8d38['g']*(0x12bf+0x313*-0x6+-0x59*-0x2)),Math['round'](_0x5c8d38['b']*(0xdb9+0x2*-0x1288+-0xc2b*-0x2)),Math['round'](_0x5c8d38['a']*(-0x24ae+-0x145a+0x3a07)),Math['round'](_0x12ec41['x']*(0x1*0x17b9+0x1de1+-0x351b*0x1)),Math['round'](_0x12ec41['y']*(-0x2122+-0x2168+-0x4309*-0x1))));}this['_symbolSha'+'dowParams']['push'](_0x4c9e9a);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x153c53=this['_calculate'+'CharsPerTe'+'xture']();let _0xf5d08f=!(-0xbb*0x9+0x7*-0x351+0x107*0x1d);const _0x182818=this['_element'],_0x337c91=_0x182818['_isScreenS'+'pace'](),_0x5ed788=_0x182818['_isScreenC'+'ulled'](),_0x17be13=function(_0x118b82){return _0x182818['isVisibleF'+'orCamera'](_0x118b82);};for(let _0xa4fb86=-0xc7*-0x2+-0x9d6*0x2+-0x3*-0x60a,_0x33d62d=this['_meshInfo']['length'];_0xa4fb86<_0x33d62d;_0xa4fb86++){const _0x582dc1=_0x153c53[_0xa4fb86]||0x42c+-0x4*0x440+0xcd4,_0x1998f5=this['_meshInfo'][_0xa4fb86];if(_0x1998f5['count']!==_0x582dc1){if(_0xf5d08f||(_0x182818['removeMode'+'lFromLayer'+'s'](this['_model']),_0xf5d08f=!(-0x116d+-0x9b0+-0x1*-0x1b1d)),_0x1998f5['count']=_0x582dc1,_0x1998f5['positions']['length']=_0x1998f5['normals']['length']=_0x582dc1*(0x669*0x5+0xe4f+-0x2e59)*(-0x1b*-0x9+0xabd*0x2+-0x1*0x1669),_0x1998f5['indices']['length']=_0x582dc1*(0x10*0x62+0x510*-0x6+0x1843)*(0x46f*-0x7+0x28c*0x2+0x19f3),_0x1998f5['uvs']['length']=_0x582dc1*(0x24e9+0x1*0x1837+-0x3d1e)*(-0x185e+-0x1021+-0x2883*-0x1),_0x1998f5['colors']['length']=_0x582dc1*(-0x202*0x4+-0x1854+0xe0*0x25)*(-0x130b+0x4d*-0x27+0x1eca),_0x1998f5['outlines']['length']=_0x582dc1*(0x1699+-0x198f*0x1+-0x1*-0x2fa)*(0xa19+-0x8*-0x3cb+-0x286e),_0x1998f5['shadows']['length']=_0x582dc1*(0x1e83+0x1*-0x1a1a+0x19*-0x2d)*(0x18e9+0xb1e+-0x2404),_0x1998f5['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x1998f5['meshInstan'+'ce']),_0x582dc1===0x6d*-0x19+-0x2256+0x2f*0xf5){_0x1998f5['meshInstan'+'ce']=null;continue;}for(let _0x4378ff=0x2631+0x1c50+-0x4281;_0x4378ff<_0x582dc1;_0x4378ff++)_0x1998f5['indices'][_0x4378ff*(-0x16da+-0x5ed+-0x2e1*-0xa)*(-0x1*0x14b7+-0xc+-0x1*-0x14c5)+(-0x77d+0x2*-0x66b+0x1453)]=_0x4378ff*(-0x1ac1+-0x26f3*-0x1+-0xc2e),_0x1998f5['indices'][_0x4378ff*(-0x1846*-0x1+0xd*0xdd+-0x6*0x5ea)*(-0x5d*-0x6a+0x3*-0x50e+-0x67*0x3a)+(0x1fa3+0xddb*-0x1+-0x7b*0x25)]=_0x4378ff*(0x127b+-0xa0b+-0x86c)+(0x545*-0x7+0xb28+-0x9*-0x2dc),_0x1998f5['indices'][_0x4378ff*(0x2627+-0x23e4+-0x18*0x18)*(0x20fb+-0x4f1+0x5c*-0x4e)+(0xc2f+-0x1*-0x116a+-0x1d97)]=_0x4378ff*(0x11b*-0x9+-0x1d95+0x278c)+(-0x52d+-0x1a1a+0x1f4a),_0x1998f5['indices'][_0x4378ff*(0x1841+0x8e*-0x13+0xdb4*-0x1)*(-0xb0e+0x24a*0xc+-0x78*0x23)+(0x7d*0x3+-0x6e3*0x5+0x1*0x20fb)]=_0x4378ff*(0x4f*-0x15+0x2425+-0x1da6)+(0x9*-0x295+-0x8ff+0x2*0x101f),_0x1998f5['indices'][_0x4378ff*(-0x2013+-0xedd*-0x2+0x25c)*(0x234+0xd84+-0xfb6)+(-0x73*0x4f+0xe4c+0x1535)]=_0x4378ff*(-0x2627+-0x1*0xa52+-0x307d*-0x1)+(0x2b*0x25+0x26*-0xa7+0x1296),_0x1998f5['indices'][_0x4378ff*(0xf05+0x5f1+0xad*-0x1f)*(0x2b3*-0x2+0x1e99+-0x1931)+(0xa01+-0x8d*-0x1a+-0x3*0x81a)]=_0x4378ff*(0x68+0x1740+-0x17a4)+(0x15e6+0x1*0xe27+-0x903*0x4),_0x1998f5['normals'][_0x4378ff*(0x3*0xbf+0x5a1+0xf*-0x86)*(0x1e5f+0x107f*0x2+-0x3f5a)+(0x697*0x2+-0x2236+0x1508)]=0x1b3c+-0xba2*0x3+0x7aa,_0x1998f5['normals'][_0x4378ff*(-0x18c8+0x77*-0x1+0xdf*0x1d)*(0x60d*0x1+0x58d+0x3dd*-0x3)+(0x1a62+-0x1d39+-0x1*-0x2d8)]=-0x78b*-0x2+-0x1*0x148d+0x577,_0x1998f5['normals'][_0x4378ff*(-0x4a8+-0x5*-0x5a7+-0x1797)*(-0x2313+0x191*-0xc+-0x11f6*-0x3)+(0x7*0xf5+-0x4*-0x705+-0x3*0xb97)]=-(-0xc8f*-0x1+-0x1*-0x4ab+-0x1139),_0x1998f5['normals'][_0x4378ff*(0x18d1+-0x1*0xc04+-0xcc9*0x1)*(-0x6fe+0x1d4a+-0x1649)+(0xc11*0x1+0x1*-0x2325+-0x1717*-0x1)]=-0xb98+0x210e+-0x1576,_0x1998f5['normals'][_0x4378ff*(0x45a*0x1+-0x1*-0x1ae4+0x23b*-0xe)*(0x54d*0x3+-0x5*0x4db+-0x71*-0x13)+(-0x1a1+-0x1621+0x17c6)]=-0x12b3+0xb61*-0x2+0x2975,_0x1998f5['normals'][_0x4378ff*(-0x217f+-0x1eb*0xb+0x369c)*(-0x7f3+-0x1574+0x5e2*0x5)+(-0x16b5+0x13ae+0x30c)]=-(-0xd0*0x5+0x113*-0x6+-0xa83*-0x1),_0x1998f5['normals'][_0x4378ff*(-0x127f+-0x1423+0x26a6)*(-0x334+-0x2350+0x2687)+(-0x1701+-0x3d*-0x98+-0xd31)]=-0x5dc*0x3+-0x4*0x21b+0x1a00,_0x1998f5['normals'][_0x4378ff*(-0x7eb+-0x6d*0x2b+-0x2*-0xd1f)*(-0x1c86*0x1+0x949*-0x3+-0xe19*-0x4)+(0x1b81+0x113a+-0x2cb4*0x1)]=0x646*0x4+0x1f4d+0x3865*-0x1,_0x1998f5['normals'][_0x4378ff*(0x1*-0x1e99+0x225c+0x1*-0x3bf)*(-0x1d*-0xe2+-0x263f+0xca8)+(0x22*-0x8d+0x10c1*-0x2+-0x3444*-0x1)]=-(-0x47*0x49+-0x9*0x18a+0x221a),_0x1998f5['normals'][_0x4378ff*(-0x2683+-0x153*0x2+0x292d)*(0x1d89+-0x54*-0x4f+-0x3772)+(0x181e+0x1*-0xdfd+-0xa18)]=0x9*-0x414+0x43*0x3b+0x1543,_0x1998f5['normals'][_0x4378ff*(0xedb*0x1+0xc2*-0x2f+0x14c7)*(-0x1723+-0x18*0x151+0x36be)+(0x5ce+0x1291+-0x1855)]=0xc19+-0x18e4+-0x5*-0x28f,_0x1998f5['normals'][_0x4378ff*(0x21dc+-0xa0*-0x3b+-0x46b8)*(0x1*-0x773+0xf8c+-0x45*0x1e)+(-0x2343+-0x1*-0x17ff+-0xb4f*-0x1)]=-(-0x4db+0x10*0xe+-0x44*-0xf);const _0x316b6e=MR(this['_system']['app']['graphicsDe'+'vice'],_0x1998f5),_0x82ab0=new Le(_0x316b6e,this['_material'],this['_node']);if(_0x82ab0['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x82ab0['castShadow']=!(-0x264b*0x1+-0x1b06+0x4152),_0x82ab0['receiveSha'+'dow']=!(-0x12e*-0x11+-0x34*0x53+-0x331),_0x82ab0['cull']=!_0x337c91,_0x82ab0['screenSpac'+'e']=_0x337c91,_0x82ab0['drawOrder']=this['_drawOrder'],_0x5ed788&&(_0x82ab0['cull']=!(0x10*-0x17e+0x18d*0xd+-0x13d*-0x3),_0x82ab0['isVisibleF'+'unc']=_0x17be13),this['_setTextur'+'eParams'](_0x82ab0,this['_font']['textures'][_0xa4fb86]),_0x82ab0['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x82ab0['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x82ab0['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x82ab0['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x82ab0['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0xa4fb86]['width']),_0x82ab0['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x82ab0['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x82ab0['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x1*-0x1467+0x242*0x1+-0x1*0x16a9]=0x1*-0x92b+0x1*0x1c68+-0x3d9*0x5,this['_shadowOff'+'setUniform'][0x184+0xf33+-0x10b6]=-0x217c+0xb33+0x1649;else{const _0x44cb64=-this['_font']['data']['info']['maps'][_0xa4fb86]['width']/this['_font']['data']['info']['maps'][_0xa4fb86]['height'];this['_shadowOff'+'setUniform'][-0xc6c+0x7*0x2bb+0x23b*-0x3]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x152a+0x1*0x145c+-0x1*0x2985]=_0x44cb64*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x82ab0['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x1998f5['meshInstan'+'ce']=_0x82ab0,this['_model']['meshInstan'+'ces']['push'](_0x82ab0);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0xf5d08f&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x4*0x612+-0x2*0x101e+0x7f4,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x239c29){_0x239c29['destroy']();const _0x105949=this['_model']['meshInstan'+'ces']['indexOf'](_0x239c29);_0x105949!==-(0x353*0x4+0x25c+-0xfa7)&&this['_model']['meshInstan'+'ces']['splice'](_0x105949,-0xe8e+-0x1a81+0x1b6*0x18);}['_setMateri'+'al'](_0x1a9daf){if(this['_material']=_0x1a9daf,this['_model'])for(let _0x2c7984=-0x36d*0x4+-0x11*0x248+0x347c,_0x52e770=this['_model']['meshInstan'+'ces']['length'];_0x2c7984<_0x52e770;_0x2c7984++){const _0x2a91b3=this['_model']['meshInstan'+'ces'][_0x2c7984];_0x2a91b3['material']=_0x1a9daf;}}['_updateMat'+'erial'](_0x1c1a37){const _0x47c747=this['_element'],_0x1bc038=_0x47c747['_isScreenC'+'ulled'](),_0x3d6d9c=function(_0x58b2ab){return _0x47c747['isVisibleF'+'orCamera'](_0x58b2ab);},_0x26340d=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x1c1a37,_0x26340d,this['_enableMar'+'kup']),this['_model'])for(let _0x3f05ae=-0x36*-0x1+0xb*-0x83+0x13*0x49,_0x1572f2=this['_model']['meshInstan'+'ces']['length'];_0x3f05ae<_0x1572f2;_0x3f05ae++){const _0x1da318=this['_model']['meshInstan'+'ces'][_0x3f05ae];_0x1da318['cull']=!_0x1c1a37,_0x1da318['material']=this['_material'],_0x1da318['screenSpac'+'e']=_0x1c1a37,_0x1bc038?(_0x1da318['cull']=!(-0x3*-0x4d+-0x1*0x1cda+0x1bf3),_0x1da318['isVisibleF'+'unc']=_0x3d6d9c):_0x1da318['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x4*0x4+0x3fd*0x3+0x115*-0xb]=0x1083+0x98+-0x111a,this['_colorUnif'+'orm'][-0xfa2*-0x1+-0x1*-0x2d+-0xfce]=-0x63*-0x2e+-0x21*0x7+-0x10e2,this['_colorUnif'+'orm'][-0x10cb*0x1+0xe19+0x2b4]=0x8*-0x70+-0x5e1+0x1*0x962):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x3*0x7b7+-0xe9b*0x1+-0x1*0x88a]=Me['r'],this['_colorUnif'+'orm'][-0x638+-0x1e7*-0x7+0x1*-0x718]=Me['g'],this['_colorUnif'+'orm'][0x9*0x2f1+0x1f7f+-0x6*0x9a9]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x102d+0x1f+0x100e]=0x1e4a+-0x1cda+-0x170,this['_outlineCo'+'lorUniform'][0x1d*0x5b+-0x1*0x1f3e+0xa*0x218]=-0x3*0x34c+0x46f*0x2+0x106,this['_outlineCo'+'lorUniform'][0xfbb+0x87*-0x13+-0xa*0x92]=0x1e8a+0x9a3*-0x3+-0x1a1,this['_outlineCo'+'lorUniform'][0xa*0x1c1+-0xe5+-0x10a2]=0x393*-0x9+-0x1*0x1d5c+-0xb*-0x598):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x15*0x1d9+-0x1b07+-0x1*-0x41d4]=Me['r'],this['_outlineCo'+'lorUniform'][-0x97*-0x25+0x12a5+0x1*-0x2877]=Me['g'],this['_outlineCo'+'lorUniform'][-0x3a6+0xda9*-0x1+-0x1151*-0x1]=Me['b'],this['_outlineCo'+'lorUniform'][0x26e6+0x9*-0x42d+-0x14e]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x8bb+-0x1*-0x1ae3+-0x1228]=-0x39*0x8d+0x9c4+0x15a1,this['_shadowCol'+'orUniform'][-0x62+-0x728*0x5+0x242b*0x1]=0x11ea+-0x1*0x66+-0x1184,this['_shadowCol'+'orUniform'][-0x2*-0x14c+-0xeee+0x316*0x4]=0xc*0x5c+-0x5c*-0x4f+-0x20b4,this['_shadowCol'+'orUniform'][-0x22d9+-0x2fb*0x1+0x25d7]=0xd9f+0x111d+-0x1ebc):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x6fe+-0x14e6+0xde8]=Me['r'],this['_shadowCol'+'orUniform'][0x38*-0x29+0x1f84+-0x168b]=Me['g'],this['_shadowCol'+'orUniform'][-0x1*0xed4+-0xc9a+0x1b70]=Me['b'],this['_shadowCol'+'orUniform'][0x4*-0x170+0x2199+-0x1bd6]=Me['a']);}['_isWordBou'+'ndary'](_0x4f69e1){return fg['test'](_0x4f69e1);}['_isValidNe'+'xtChar'](_0x2dce81){return _0x2dce81!==null&&!IR['test'](_0x2dce81);}['_isNextCJK'+'Boundary'](_0x3ba22e,_0x3759e4){return pg['test'](_0x3ba22e)&&(fg['test'](_0x3759e4)||RR['test'](_0x3759e4));}['_isNextCJK'+'WholeWord'](_0x42a62a){return pg['test'](_0x42a62a);}['_updateMes'+'hes'](){const _0x507de9=this['_font']['data'],_0x4ce119=this,_0x463c21=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x5f102e=this['_maxFontSi'+'ze'],_0x3890e8=this['_shouldAut'+'oFit']();_0x3890e8&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x329915=0x1deb+-0x124f+-0xb7c,_0x22b227=this['_symbols']['length'];let _0x501f04=0x7f*-0x44+-0xa51*0x1+0x2c0d,_0x591d28=-0x19*0xc7+-0x56*0x59+0x3155,_0xd2ac1e=0x3*-0x3cd+0x1d05+-0x119e,_0x154d0c=0x2*-0x219+-0x1*0x26d5+0x2b07,_0x4f9a01=0x33a*-0x2+-0x61c+0xc91,_0x5074b7=-0x1c34+-0xfb+0x1d2f,_0x202d34=-0xbd4+0xaed+-0x21*-0x7,_0x19d1f0=0xf*0x146+-0x14c0+-0xd3*-0x2,_0x26c6f1=-0x2617+-0x1a77*-0x1+0xba0,_0x171f4b=-0x12df*-0x1+-0xd*0x9f+-0xacc,_0x318b9b=-0x1024+-0x593+0x147*0x11;const _0xe607d4=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x6fb+-0x27d+0x5*-0xe6+0.0001;let _0xb52cb3=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0xe607d4||!this['_wrapLines'])&&(_0xb52cb3=Number['POSITIVE_I'+'NFINITY']);let _0x395d5a=-0xcb7+-0x1c6f+0x2926,_0xf5e335=-0x20e6+-0x26e9+0x47cf,_0x3ab425,_0x18a07b,_0x4b816b,_0x4246ff;function _0x3e28d5(_0x11babf,_0x3dcc51,_0x5efdea){_0x4ce119['_lineWidth'+'s']['push'](Math['abs'](_0x5efdea));const _0xd4562d=_0x19d1f0>_0x3dcc51?_0x3dcc51+(-0x1*0x1e7f+-0xdba+-0x6f*-0x66):_0x19d1f0,_0x25cd3a=_0x19d1f0>_0x3dcc51?_0x19d1f0+(-0xb*0x110+0x2661+-0x1ab0):_0x3dcc51,_0x323fb7=_0x11babf['slice'](_0xd4562d,_0x25cd3a);if(_0x318b9b){let _0x45b334=_0x323fb7['length'];for(;_0x45b334--&&_0x318b9b>0x264e+0x39*0x1+-0x2687;)ug['test'](_0x323fb7[_0x45b334])&&(_0x323fb7['splice'](_0x45b334,-0x1834*0x1+-0x1*-0x13f3+0x6d*0xa),_0x318b9b--);}_0x4ce119['_lineConte'+'nts']['push'](_0x323fb7['join']('')),_0x501f04=0x2695+0x1a96+0xc9*-0x53,_0x591d28-=_0x4ce119['_scaledLin'+'eHeight'],_0x4f9a01++,_0x26c6f1=-0x5f+-0x21a1+-0x10*-0x220,_0x171f4b=-0xec8+-0x56*0x26+-0x1b8c*-0x1,_0x318b9b=-0x11*-0x22f+0x1e22+-0x166b*0x3,_0x5074b7=0x1*-0x7d7+-0x1*0x9d3+-0x10a*-0x11,_0x19d1f0=_0x3dcc51;}let _0x262a41=!(-0x1c2+-0x265b+0x281d);for(;_0x262a41;){_0x262a41=!(0x1d09+-0x1*-0xd9b+-0x2aa3),_0x3890e8?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x4dc+0x25e0+-0x2104+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0x3*0x6f+0xebf+-0x6b9*0x2,this['height']=-0xe83+-0x270+0x10f3,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x501f04=-0x1*-0x1be5+0x1af1*-0x1+0xf4*-0x1,_0x591d28=-0xed1+-0x1551+0xb9*0x32,_0xd2ac1e=0x1*-0x2270+0x192c*0x1+0x944,_0x154d0c=0x19d*0x1+-0x10ea+-0x1*-0xf4d,_0x4f9a01=0x1*-0x7cc+0x2cf*0x1+-0xd5*-0x6,_0x5074b7=-0x74*0x4c+0x1*0x55b+0x1d15,_0x202d34=0x1c4+0x57*-0x3+-0xbf,_0x19d1f0=0x2468+0x11e3*0x1+0x153*-0x29,_0x26c6f1=-0x26cf*-0x1+0x2*0x5e+-0x278b,_0x171f4b=0x11f*-0xd+0x5bc*0x6+-0x13d5,_0x318b9b=-0xdc7*-0x2+0x1*0x1b47+-0x36d5;const _0x32afe1=this['_fontSize']/_0x329915;_0x395d5a=this['_fontMinY']*_0x32afe1,_0xf5e335=this['_fontMaxY']*_0x32afe1;for(let _0x1a52c6=-0xe8*0x5+-0x2162+0x25ea;_0x1a52c6<this['_meshInfo']['length'];_0x1a52c6++)this['_meshInfo'][_0x1a52c6]['quad']=-0x2*-0x347+0x2602+-0x2c90,this['_meshInfo'][_0x1a52c6]['lines']={};let _0x18b079=0x9*0x3d9+0x1bc8+-0x3d6a,_0xd8ee62=0x1469+0xff4*-0x1+-0x2*0x1bb,_0x1d3645=0xacc+0x1*0xef2+-0x18bf,_0x5667dd=0x1d17*0x1+-0x1*0x1d6a+0x152+(-0xd*0x1a3+0x179f+-0x159)*(0x2289+-0x1af9+-0x690),_0x4b3c13=-0x13d*-0x5+-0x25c6+0x1a1*0x14+(0x1203+0x53*-0x4d+0x7f3)*(-0x1358+-0x25aa*-0x1+0x3*-0x5c6),_0x4e10f6=-0x206b+0x2649+0x2*-0x2ef,_0x2a1c38=-0x1f1c+0x32+-0x7*-0x48f+(-0x1462*0x1+-0x2075+0x35d6)*(0x24c+0x1*0x13d+-0xb*0x3b),_0x36b06c=0xef2+-0x4a7*-0x6+-0x29dd+(-0x1fa8+0x91c+0x178b)*(0x3*0x3ae+-0x18a0+0xe96),_0x215d77=0x15f7+-0x24d0+0xf58+(-0x2*-0xbf1+-0x1*-0x23ed+-0x3b50)*(-0x761+-0x1*0x247d+-0x1*-0x2cde);for(let _0x30ad78=0x1924+-0x1c62+0x33e;_0x30ad78<_0x22b227;_0x30ad78++){if(_0x3ab425=this['_symbols'][_0x30ad78],_0x4246ff=_0x30ad78+(0x1251+-0x57*0x13+0x1*-0xbdb)>=_0x22b227?null:this['_symbols'][_0x30ad78+(-0x9*0x336+0x239f+-0x6b8)],ug['test'](_0x3ab425)){_0x318b9b++,(!this['_wrapLines']||this['_maxLines']<0x1d08+-0x53b+-0x17cd||_0x4f9a01<this['_maxLines'])&&(_0x3e28d5(this['_symbols'],_0x30ad78,_0x154d0c),_0x202d34=_0x30ad78+(-0x1046+0x1*0xca4+0x1*0x3a3),_0x19d1f0=_0x30ad78+(-0x1e3f+-0x76f*0x1+0x25af));continue;}let _0x5c5a5f=0x140b+0xa81+-0x1e8c,_0x4d8b50=0xf5c+0x1ecf+-0xdf*0x35,_0x3c8874=0x1257*-0x2+0xf6d+-0x1541*-0x1,_0x1d4130=0x1c2+-0x1*0x1a23+0x1*0x1862,_0x398e98,_0x1ff00d;if(_0x18a07b=_0x507de9['chars'][_0x3ab425],!_0x18a07b){if(DR['indexOf'](_0x3ab425)!==-(0x1a6a+-0x236*0xb+-0x217))_0x18a07b=LR;else{if(_0x507de9['chars']['\x20'])_0x18a07b=_0x507de9['chars']['\x20'];else for(const _0xd7eac0 in _0x507de9['chars']){_0x18a07b=_0x507de9['chars'][_0xd7eac0];break;}_0x507de9['missingCha'+'rs']||(_0x507de9['missingCha'+'rs']=new Set()),_0x507de9['missingCha'+'rs']['has'](_0x3ab425)||(console['warn']('Character\x20'+'\x27'+_0x3ab425+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x507de9['info']['face']),_0x507de9['missingCha'+'rs']['add'](_0x3ab425));}}if(_0x18a07b){let _0x23a8c9=0x25b7+0x5*-0x5e6+0x1*-0x839;if(_0x171f4b>-0x2a6+-0xfbb*0x1+-0x3ad*-0x5){const _0x598b54=this['_font']['data']['kerning'];if(_0x598b54){const _0x5826df=_0x598b54[ah['getCodePoi'+'nt'](this['_symbols'][_0x30ad78-(0x5*0x4ff+-0x23*0x3+-0x1891)])||-0x37*0x91+-0xa61*0x2+0x33e9];_0x5826df&&(_0x23a8c9=_0x5826df[ah['getCodePoi'+'nt'](this['_symbols'][_0x30ad78])||0xb80+-0x1673*0x1+-0xaf3*-0x1]||0x1c61+-0x1085+-0xbdc);}}_0x398e98=_0x18a07b['scale']||-0x1*-0x1a15+0x42*0x77+-0x38c2,_0x1ff00d=(_0x18a07b['width']+_0x18a07b['height'])/(-0x1*0x25c3+0xa1e+0x1ba7),_0x1d4130=_0x32afe1*_0x1ff00d/_0x398e98,_0x3c8874=(_0x18a07b['xadvance']+_0x23a8c9)*_0x32afe1,_0x5c5a5f=(_0x18a07b['xoffset']-_0x23a8c9)*_0x32afe1,_0x4d8b50=_0x18a07b['yoffset']*_0x32afe1;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x3ab425+'\x27');const _0x4704d5=PR['test'](_0x3ab425),_0xbfef5c=_0x18a07b&&_0x18a07b['map']||0x233*0x8+0x1*-0x1fe8+-0x10*-0xe5,_0x1ace05=-this['_font']['data']['info']['maps'][_0xbfef5c]['width']/this['_font']['data']['info']['maps'][_0xbfef5c]['height'],_0x39ba5f=this['_meshInfo'][_0xbfef5c],_0x348fc3=_0x501f04+this['_spacing']*_0x3c8874;if(_0x348fc3>_0xb52cb3&&_0x171f4b>-0xdf3+-0x4ab+0x94f*0x2&&!_0x4704d5&&(this['_maxLines']<-0x1*0x764+-0x1*0x24fb+0x2c5f||_0x4f9a01<this['_maxLines'])){if(_0x26c6f1===0x1*-0x647+-0xa85+0x64*0x2b)_0x202d34=_0x30ad78,_0x3e28d5(this['_symbols'],_0x30ad78,_0x154d0c);else{const _0x2627d0=Math['max'](_0x30ad78-_0x202d34,0x2648+-0x1605+0xb5*-0x17);if(this['_meshInfo']['length']<=0x2588+0x1f3d*0x1+0x146*-0x36)_0x39ba5f['lines'][_0x4f9a01-(0xd72+0x2ae+-0x1*0x101f)]-=_0x2627d0,_0x39ba5f['quad']-=_0x2627d0;else{const _0x2b16ca=_0x202d34,_0x297591=_0x30ad78;for(let _0x412b0b=_0x2b16ca;_0x412b0b<_0x297591;_0x412b0b++){const _0x123129=this['_symbols'][_0x412b0b],_0x308353=_0x507de9['chars'][_0x123129],_0x485066=this['_meshInfo'][_0x308353&&_0x308353['map']||-0x21fd+-0x1*0x26a+0x2467];_0x485066['lines'][_0x4f9a01-(-0x3*-0x8eb+-0x12d7+-0x7e9)]-=0xecb*-0x1+0x118f+-0x2c3,_0x485066['quad']-=0xda9+0x23b3+-0x315b;}}_0x30ad78-=_0x2627d0+(-0x1566*-0x1+-0x16cd+0x168),_0x3e28d5(this['_symbols'],_0x202d34,_0x5074b7);continue;}}_0x4b816b=_0x39ba5f['quad'],_0x39ba5f['lines'][_0x4f9a01-(-0x20a3+0xb*0x9+0x2041)]=_0x4b816b;let _0x3bfbc3=_0x501f04-_0x5c5a5f,_0x16aef2=_0x3bfbc3+_0x1d4130;const _0x48b776=_0x591d28-_0x4d8b50,_0x2a33dd=_0x48b776+_0x1d4130;if(this['_rtl']){const _0x292591=_0x1d4130-_0x5c5a5f-this['_spacing']*_0x3c8874-_0x5c5a5f;_0x3bfbc3-=_0x292591,_0x16aef2-=_0x292591;}_0x39ba5f['positions'][_0x4b816b*(-0x1151+-0x121f+-0x8dd*-0x4)*(0x25d*-0x1+0x211d+0x81*-0x3d)+(0x2*-0xf5c+-0x1*0x1615+0x34cd)]=_0x3bfbc3,_0x39ba5f['positions'][_0x4b816b*(-0x16c7*-0x1+0xab*0x21+-0x2cce)*(-0x1ed2+0x1d8*0x15+-0x7e3)+(-0x1d98+-0x346+0xff*0x21)]=_0x48b776,_0x39ba5f['positions'][_0x4b816b*(-0x2327*0x1+0x2313+-0x3*-0x8)*(0x11ef+-0xb*-0x168+0x4*-0x859)+(0x1*-0x1df7+0x2309*-0x1+0x2*0x2081)]=_0xd2ac1e,_0x39ba5f['positions'][_0x4b816b*(-0x7*-0x437+-0x1b5+-0x1bc8)*(0x599+0x3fa+-0xc*0xcc)+(-0x1031+-0x7f2+-0x1*-0x1826)]=_0x16aef2,_0x39ba5f['positions'][_0x4b816b*(0x198b+-0x1ff0+0x669)*(-0xdc8+-0x4f7*0x6+-0x3*-0xe87)+(0xc90+-0x1f8+-0xa94*0x1)]=_0x48b776,_0x39ba5f['positions'][_0x4b816b*(0x1*-0x1951+-0x41b+0x1d70)*(-0x255a+-0x250d+-0x2*-0x2535)+(-0xb*0x291+0x2316+0x5*-0x15e)]=_0xd2ac1e,_0x39ba5f['positions'][_0x4b816b*(-0x257d+0x1603+-0x52a*-0x3)*(0x26b4+-0xbd+-0x25f4*0x1)+(-0x165e+-0x1d02+0x3366)]=_0x16aef2,_0x39ba5f['positions'][_0x4b816b*(-0x2*0x10cc+0xdb7*-0x2+0x3d0a)*(-0x6ab+0x243+0x3*0x179)+(0x958*0x4+0x727*0x5+-0x491c)]=_0x2a33dd,_0x39ba5f['positions'][_0x4b816b*(-0x20ae+-0x82b+0x3b7*0xb)*(0x8*0x35b+-0x8f4+-0x11e1)+(-0x2229+-0x184d+0x3a7e)]=_0xd2ac1e,_0x39ba5f['positions'][_0x4b816b*(-0x10e7+0x56*-0x8+0x139b)*(-0x11b3+0x18c3*0x1+-0x5f*0x13)+(0xefd+0x2651+0x1*-0x3545)]=_0x3bfbc3,_0x39ba5f['positions'][_0x4b816b*(0x22e1+0x21a1+-0x447e)*(-0x1e9e+-0x173c+0x35dd)+(0x7d*0x2b+-0xb*-0xdb+-0x1e5e)]=_0x2a33dd,_0x39ba5f['positions'][_0x4b816b*(0x1*-0x1ae6+0x14d5+0xad*0x9)*(0x40*0x4d+-0x24b*0x7+0x198*-0x2)+(0x1*0x153d+-0x7*-0x2ef+-0x29bb)]=_0xd2ac1e,this['width']=Math['max'](this['width'],_0x348fc3);let _0x298c5d;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x298c5d=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x10e0+0x22*-0x96+0x30c+0.0001)),_0x298c5d=N['clamp'](_0x298c5d,_0x463c21,_0x5f102e),_0x298c5d!==this['_element']['fontSize'])){this['_fontSize']=_0x298c5d,_0x262a41=!(-0x100a+0x1130+-0x126);break;}if(this['height']=Math['max'](this['height'],_0xf5e335-(_0x591d28+_0x395d5a)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x298c5d=N['clamp'](this['_fontSize']-(0x1113+0x1d3*0x10+-0x2e42),_0x463c21,_0x5f102e),_0x298c5d!==this['_element']['fontSize'])){this['_fontSize']=_0x298c5d,_0x262a41=!(0xc1+-0x24db+-0x241a*-0x1);break;}_0x501f04+=this['_spacing']*_0x3c8874,_0x4704d5||(_0x154d0c=_0x501f04),(this['_isWordBou'+'ndary'](_0x3ab425)||this['_isValidNe'+'xtChar'](_0x4246ff)&&(this['_isNextCJK'+'Boundary'](_0x3ab425,_0x4246ff)||this['_isNextCJK'+'WholeWord'](_0x4246ff)))&&(_0x26c6f1++,_0x5074b7=_0x154d0c,_0x202d34=_0x30ad78+(0x1538+0x1*-0xd39+-0x7fe)),_0x171f4b++;const _0x20ae03=this['_getUv'](_0x3ab425);if(_0x39ba5f['uvs'][_0x4b816b*(0x23ab+0x1899+-0x3c40)*(-0x9ad+0x559+0x456)+(0x47*0x29+-0x267+-0x8f8)]=_0x20ae03[-0x21cf+0xd12+0x14bd],_0x39ba5f['uvs'][_0x4b816b*(-0x16e5*0x1+-0x1*-0x22f+-0x2f6*-0x7)*(-0x193e+0x4bd+-0x1*-0x1483)+(0x2e8*0x8+-0xcb*-0x22+-0x3235*0x1)]=0x65*-0x53+0xac1+-0x755*-0x3-_0x20ae03[-0x21c4+0x1020+-0x1*-0x11a5],_0x39ba5f['uvs'][_0x4b816b*(-0x29*0xa7+0xca1+0x1b*0x86)*(-0x1*-0x1670+0x14cb+0x5*-0x8a5)+(0x3*0x63d+-0x12d0+-0x9*-0x3)]=_0x20ae03[0x1cfe+0x36a*0x1+-0x1a*0x13f],_0x39ba5f['uvs'][_0x4b816b*(0x1*-0x13c6+-0x1*0x1f46+0x331*0x10)*(-0xeb1+-0x24*0x3c+0x1723)+(-0x1*-0x449+0x162f+-0x1a75)]=0xca0*-0x1+0x1312+-0x671-_0x20ae03[-0x1*-0x9fd+0x1*0x122e+0x67*-0x46],_0x39ba5f['uvs'][_0x4b816b*(-0x257a+0x4*0x84d+0x44a)*(-0xb9+0x2*-0x1105+0x22c5)+(-0x33*-0x94+-0x255*-0xb+-0x371f*0x1)]=_0x20ae03[0xd*-0x221+-0xbac+0x1f*0x145],_0x39ba5f['uvs'][_0x4b816b*(-0x10a3*0x1+-0x1+0x10a8)*(0x2b4+0x80e*-0x2+0xd6a)+(0x19d*-0x6+-0x1*0x1093+-0x461*-0x6)]=0x381+0x10a7+0x1427*-0x1-_0x20ae03[0x5*-0x543+0x1dc7+-0x375],_0x39ba5f['uvs'][_0x4b816b*(0x30*-0x4+0xa38+-0x974)*(-0x19ce+-0x813+0x21e3*0x1)+(-0x62f*0x1+0x23b1+-0x1d7c)]=_0x20ae03[0x26d0+-0x11fd+-0x14d3],_0x39ba5f['uvs'][_0x4b816b*(-0xc99+-0x2021+0x2cbe)*(-0x21dc+0x1af*-0x8+0x1*0x2f56)+(-0x227f+-0x10ef*0x1+0x3375)]=0x25f+0xd7f+0x1f*-0x83-_0x20ae03[-0x1915+-0x253*-0x6+0x593*0x2],this['_symbolCol'+'ors']){const _0x37d992=this['_symbolCol'+'ors'][_0x30ad78]*(-0x7db*-0x1+-0x6a5+-0x133);_0x18b079=this['_colorPale'+'tte'][_0x37d992],_0xd8ee62=this['_colorPale'+'tte'][_0x37d992+(-0x233*-0x7+0x1072+0x2*-0xfeb)],_0x1d3645=this['_colorPale'+'tte'][_0x37d992+(-0x11e9*-0x2+0x2616+-0x49e6)];}if(_0x39ba5f['colors'][_0x4b816b*(0x911+0x1dc1+-0x26ce)*(-0x14+-0x23e7*0x1+0x23ff)+(0xc7f+-0x26d7+0x696*0x4)]=_0x18b079,_0x39ba5f['colors'][_0x4b816b*(-0x239a+-0x1*-0x2140+0x25e)*(0xdf*-0x23+0x429+0x1a58)+(-0x50*-0x55+0x13ef+-0x2e7e)]=_0xd8ee62,_0x39ba5f['colors'][_0x4b816b*(-0x1e3a+-0x1*0x1d5d+-0x3b9b*-0x1)*(-0x1195+-0x1ee5+0x307e)+(-0x1d9*0x11+0x1*-0x24d9+-0x404*-0x11)]=_0x1d3645,_0x39ba5f['colors'][_0x4b816b*(0x1af7+-0x23*0xbd+0x47*-0x4)*(0x7f9*-0x1+-0x20b7+0x5*0x824)+(0x11c2+0x4d8+-0x1697)]=-0x1*0x245+0x33*0x4e+-0x623*0x2,_0x39ba5f['colors'][_0x4b816b*(0x1*0x1072+-0x1e4b+0xddd)*(0x1540+-0x42*-0x6d+-0x3156)+(0x16b9+0xbc3+-0x2278)]=_0x18b079,_0x39ba5f['colors'][_0x4b816b*(-0x1f88+0x14*-0x1ab+0x86*0x7c)*(0x24e3*-0x1+-0x222b+-0x4712*-0x1)+(0x212b*-0x1+0x1f6b+0x1c5)]=_0xd8ee62,_0x39ba5f['colors'][_0x4b816b*(-0xd9a+0xdd3*-0x2+0x13*0x22c)*(-0x166*0xd+-0x7*-0x31+0x10db*0x1)+(-0x19ab+-0x1571+0x2f22)]=_0x1d3645,_0x39ba5f['colors'][_0x4b816b*(0x124e+0x1014+-0xa6*0x35)*(0xfe4+0x104a+-0x202a)+(0xa57*-0x2+0x185+0x133*0x10)]=0x23f0+0xe3c*-0x2+0x679*-0x1,_0x39ba5f['colors'][_0x4b816b*(-0x1f*0x115+-0x12ff+0x348e)*(-0x4*-0x3b9+0x17e1+-0x26c1*0x1)+(-0x5d1*-0x4+-0x1*0x3+-0x1739)]=_0x18b079,_0x39ba5f['colors'][_0x4b816b*(0x80+0x21a0+-0x221c)*(0x792+0x5a4*-0x5+-0x3*-0x6e2)+(0x1014+-0x789+0x63*-0x16)]=_0xd8ee62,_0x39ba5f['colors'][_0x4b816b*(0x8cf+0xf79+0x4*-0x611)*(0x79*0x3a+0x238a*0x1+-0x10*0x3ef)+(0x23*-0xb+0xca6+-0x1*0xb1b)]=_0x1d3645,_0x39ba5f['colors'][_0x4b816b*(-0x485+0x8*0x121+-0x47f)*(0x3ad*0xa+-0x520+-0x1f9e)+(-0x3f0+-0x1*0x206d+0x2468)]=-0x1*0x1805+-0x13ae+0x2cb2,_0x39ba5f['colors'][_0x4b816b*(0x1526+-0xc72+-0x8b0)*(0xbb8+-0x17b7+0xc03)+(0x2*0xb1b+0x15fc+0x1613*-0x2)]=_0x18b079,_0x39ba5f['colors'][_0x4b816b*(0xe12+0x154+-0xb*0x166)*(0x1bc7+0xd00+-0x28c3)+(0x191a+-0xbea+-0xd23)]=_0xd8ee62,_0x39ba5f['colors'][_0x4b816b*(0x4a*0x31+0x69d*-0x1+-0x789)*(-0x1*-0xfb+0x3*0xb0d+-0x221e)+(0x219+0x1375+-0x1580)]=_0x1d3645,_0x39ba5f['colors'][_0x4b816b*(-0x1cb4+-0x1919+0x35d1)*(0x5ae+-0x55*-0x27+-0x129d)+(0xb5b+0x12ec+-0x1e38)]=0x5f0+-0x5*0x265+-0x4*-0x1c2,this['_symbolOut'+'lineParams']){const _0x1c7d45=this['_symbolOut'+'lineParams'][_0x30ad78]*(0x48a*0x5+0x13d2+-0x2a7f);_0x5667dd=this['_outlinePa'+'lette'][_0x1c7d45]+this['_outlinePa'+'lette'][_0x1c7d45+(-0x1a6c+0x4ed+0x56*0x40)]*(0x223*0x3+-0xae+-0x4bb),_0x4b3c13=this['_outlinePa'+'lette'][_0x1c7d45+(-0x1*0x11a5+0x1*0x115b+0x4c*0x1)]+this['_outlinePa'+'lette'][_0x1c7d45+(0xace*-0x1+-0x4db+0x3eb*0x4)]*(0x159f+-0x17f+-0x1320),_0x4e10f6=this['_outlinePa'+'lette'][_0x1c7d45+(0x1f31+-0x1224+-0xd09)];}if(_0x39ba5f['outlines'][_0x4b816b*(0x5*-0x425+0x17e4+0x10d*-0x3)*(0xc2+-0x1e26+0x1d67*0x1)+(-0x2614+-0x1bda+0x41ee)]=_0x5667dd,_0x39ba5f['outlines'][_0x4b816b*(-0x259*0x1+-0x1*0x215f+0x23bc)*(-0x1baa+-0x200a*0x1+0x3bb7)+(-0xdd+-0x1*-0xcf0+-0xc12)]=_0x4b3c13,_0x39ba5f['outlines'][_0x4b816b*(0x8d5+0x5f2+-0xec3)*(-0x14ef+0x14e*-0x2+0x1e*0xc9)+(-0xcda+0x16bf*0x1+-0x9e3*0x1)]=_0x4e10f6,_0x39ba5f['outlines'][_0x4b816b*(-0x117*-0x1b+-0x111b+-0x13b*0xa)*(0x2606*0x1+0x1*0x2249+-0x484c)+(-0x1157+0x41*0x68+-0x2*0x487)]=_0x5667dd,_0x39ba5f['outlines'][_0x4b816b*(-0x137b*-0x1+0x22b7+-0x49*0xbe)*(-0x1b11+0x13d*0x16+-0x2a)+(-0x1b9d+0x17db+0x142*0x3)]=_0x4b3c13,_0x39ba5f['outlines'][_0x4b816b*(-0x1907+-0x2265+0x18*0x27a)*(0x8fd+0x1c28+-0x2522)+(0x21fd+0x455+-0x264d)]=_0x4e10f6,_0x39ba5f['outlines'][_0x4b816b*(-0x18*-0x5c+0x65*-0x3f+0x103f*0x1)*(0x237e+-0x2*0x1a7+-0x202d)+(0x46+-0x4ee*-0x6+-0x1dd4)]=_0x5667dd,_0x39ba5f['outlines'][_0x4b816b*(-0xbc3+0x1948+-0xd81)*(0xa*0x164+0x125b+0x60*-0x56)+(0x19*0x8b+0x1da+0xf66*-0x1)]=_0x4b3c13,_0x39ba5f['outlines'][_0x4b816b*(0xc1d*0x2+-0xed0+-0x6*0x191)*(-0x2505+-0x1923+0x3e2b)+(0x799+0x1*-0x1dbb+0x2*0xb15)]=_0x4e10f6,_0x39ba5f['outlines'][_0x4b816b*(0x15c*-0x16+0x11f*0x1c+-0x2*0xbc)*(0x821+-0x2*0xf2f+0x1640)+(0x6e3+-0x4*-0x71+-0x89e)]=_0x5667dd,_0x39ba5f['outlines'][_0x4b816b*(-0x4a4+-0x148e+0x1936)*(0x3*0x4c4+-0x88c+-0x5bd*0x1)+(-0x192d+-0x461+0x4*0x766)]=_0x4b3c13,_0x39ba5f['outlines'][_0x4b816b*(0xb2d+0x15c6+-0x20ef)*(0xe7f+-0x1345+0x4c9)+(-0x529*-0x2+-0x1790*-0x1+-0x21d7)]=_0x4e10f6,this['_symbolSha'+'dowParams']){const _0x5e46b5=this['_symbolSha'+'dowParams'][_0x30ad78]*(-0x805*-0x2+0x1*-0x216+-0x2*0x6f7);_0x2a1c38=this['_shadowPal'+'ette'][_0x5e46b5]+this['_shadowPal'+'ette'][_0x5e46b5+(-0xd79*-0x1+-0x2aa*-0xa+-0x281c)]*(-0x1f43+0xa*0x324+0x3*0x49),_0x36b06c=this['_shadowPal'+'ette'][_0x5e46b5+(0xc6*-0x28+0x3*-0x6b5+0x3311)]+this['_shadowPal'+'ette'][_0x5e46b5+(-0xe03+0x2009+-0x3*0x601)]*(0x47*0x4b+-0x88d*0x1+-0xb40),_0x215d77=this['_shadowPal'+'ette'][_0x5e46b5+(-0x1a78+0x32*-0x89+-0x1*-0x353e)]+(0x1*-0x1187+0x223b+-0x1*0x1035)+Math['round'](_0x1ace05*this['_shadowPal'+'ette'][_0x5e46b5+(0xd5*0x1c+-0x1aae+0x367)]+(-0xaf4+-0xc*-0x29d+0x13e9*-0x1))*(-0x191e+0x53b*0x1+0x14e3);}_0x39ba5f['shadows'][_0x4b816b*(-0x17af+0x2516+-0xd63)*(0x5ff+-0x1*-0x1ee4+-0x24e0)+(-0x19f6+-0x218*-0xa+0x506)]=_0x2a1c38,_0x39ba5f['shadows'][_0x4b816b*(-0x2267+0xbd9*-0x1+0x2e44)*(-0xb8b+-0x987*0x1+-0x7*-0x303)+(-0x1345*-0x1+-0xd49+-0x5fb)]=_0x36b06c,_0x39ba5f['shadows'][_0x4b816b*(-0xc96+-0xae*-0x35+0x176c*-0x1)*(0x1*0x128d+-0x105a+-0x230)+(-0x2c9*-0x7+0x1a8*-0x1+-0x1*0x11d5)]=_0x215d77,_0x39ba5f['shadows'][_0x4b816b*(-0x346+-0x23dc+-0x1393*-0x2)*(0x694*0x1+0x1cd4+-0x2365)+(-0x3*0x509+0x1b7c+-0xc5e)]=_0x2a1c38,_0x39ba5f['shadows'][_0x4b816b*(-0x1c1*-0x7+-0x15e8+0x9a5)*(-0x455+-0x1f09+-0x2361*-0x1)+(0x21a4+0xd*0x2a5+0x7*-0x9b7)]=_0x36b06c,_0x39ba5f['shadows'][_0x4b816b*(0x1e95*0x1+0x982*-0x2+-0xb8d)*(-0x2231*0x1+0x3*-0x4c1+0x3077)+(-0xffb+-0x611+0x1611)]=_0x215d77,_0x39ba5f['shadows'][_0x4b816b*(-0x26fb+-0x21c3*0x1+0x8b*0x86)*(0xf7c*0x1+0x2d+-0x2*0x7d3)+(0x8*0x175+-0x6ad*0x4+0xf12)]=_0x2a1c38,_0x39ba5f['shadows'][_0x4b816b*(-0xa*0x15d+0x1*0x1ad2+0x4*-0x34b)*(-0x1eb*0xf+-0x2*0xab1+-0x1915*-0x2)+(0xa5b+0x1490+-0x7b9*0x4)]=_0x36b06c,_0x39ba5f['shadows'][_0x4b816b*(-0x242d+0x21c5+0x26c)*(0x4d9*-0x1+0x23d7+-0x1efb)+(0x672+0x1cf*-0x8+0x80e)]=_0x215d77,_0x39ba5f['shadows'][_0x4b816b*(0x91*0x43+0x254f*0x1+-0x4b3e)*(-0x14dc+0xfd9+0x506)+(0x3*-0x9bd+-0x1fbc+0x1454*0x3)]=_0x2a1c38,_0x39ba5f['shadows'][_0x4b816b*(-0x1*-0x23b4+-0x8*-0x338+-0x3d70)*(-0xe*0x2c2+0xd0a*0x1+0x1995)+(-0xaf2+-0x13ad+0x2f*0xa7)]=_0x36b06c,_0x39ba5f['shadows'][_0x4b816b*(0x8f5+0xb0*-0x8+0x1*-0x371)*(-0x7dd+-0x2531*-0x1+-0x1d51*0x1)+(-0x1*-0x16eb+0x103+-0x17e3)]=_0x215d77,_0x39ba5f['quad']++;}_0x262a41||_0x19d1f0<_0x22b227&&_0x3e28d5(this['_symbols'],_0x22b227,_0x501f04);}this['_noResize']=!(-0x6*0x5c9+-0x1f1b+0x967*0x7),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x14c7+-0x1*0x219d+0xcd7);const _0x36ff03=this['_element']['pivot']['x'],_0x1ab401=this['_element']['pivot']['y'],_0x11e30a=this['_alignment']['x'],_0xcb5ca7=this['_alignment']['y'];for(let _0x567438=0x11*0xac+0x307+-0x3*0x4d1;_0x567438<this['_meshInfo']['length'];_0x567438++){if(this['_meshInfo'][_0x567438]['count']===-0xda6+-0x7a7+0x154d)continue;let _0x276e3c=-0x2d*-0x1e+-0xc0d+0x6c7;for(const _0x141e25 in this['_meshInfo'][_0x567438]['lines']){const _0x154d60=this['_meshInfo'][_0x567438]['lines'][_0x141e25],_0x160c9c=this['_lineWidth'+'s'][parseInt(_0x141e25,-0x2*-0xf6d+0x13ef+0xb*-0x49d)],_0x476ed2=-_0x36ff03*this['_element']['calculated'+'Width']+_0x11e30a*(this['_element']['calculated'+'Width']-_0x160c9c)*(this['_rtl']?-(0x2*-0x2b9+-0xa*-0x1f9+-0xe47):-0x1ec5*-0x1+0x432+-0x2*0x117b),_0xb5e42a=(0x5*0x302+0x1095+-0x545*0x6-_0x1ab401)*this['_element']['calculated'+'Height']-_0xf5e335-(0x1c17*-0x1+-0x1f*-0x107+-0x3c1-_0xcb5ca7)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x17ce7d=_0x276e3c;_0x17ce7d<=_0x154d60;_0x17ce7d++)this['_meshInfo'][_0x567438]['positions'][_0x17ce7d*(-0xe57*0x1+-0x1037+0x1e92)*(-0x390*-0x1+-0x1*-0x72b+-0xab8)]+=_0x476ed2,this['_meshInfo'][_0x567438]['positions'][_0x17ce7d*(0x29*0x7b+-0x2216+0xe67)*(-0x7*-0x1+0x60a+-0x60e)+(-0xa*-0x282+0x28*-0xa5+0xb7*0x1)]+=_0x476ed2,this['_meshInfo'][_0x567438]['positions'][_0x17ce7d*(0xca6*-0x1+-0x1d*-0x4+0xc36)*(-0x5*-0x21d+0x1*-0xbcb+0x13d*0x1)+(0x522+0x222+-0x67*0x12)]+=_0x476ed2,this['_meshInfo'][_0x567438]['positions'][_0x17ce7d*(-0x629+-0x3*-0xa67+0x4*-0x642)*(0x13a5+0xf89+-0x232b)+(-0x4ec+0x13*-0x1eb+0x2966)]+=_0x476ed2,this['_meshInfo'][_0x567438]['positions'][_0x17ce7d*(-0x1fe2+-0x1*0x1b5e+0x2*0x1da2)*(-0xc6d+-0x1668+0x22d8)+(0xff7+0x218f+0x7*-0x713)]+=_0xb5e42a,this['_meshInfo'][_0x567438]['positions'][_0x17ce7d*(-0x978+0x1161+-0x7e5)*(-0x18f5+0xad5+0xe23)+(-0x288*-0x6+0x200e+-0x2f3a)]+=_0xb5e42a,this['_meshInfo'][_0x567438]['positions'][_0x17ce7d*(0x1a80+0x2406+0x3e82*-0x1)*(-0x51b+-0x51c*-0x5+-0x146e)+(-0x26*0xb7+0x2d2+-0x185f*-0x1)]+=_0xb5e42a,this['_meshInfo'][_0x567438]['positions'][_0x17ce7d*(0x1*0x1ac1+-0x128b+-0x832)*(-0x2545+0x240+0x13*0x1d8)+(0x21f3*0x1+-0x1fd*0x9+0xa*-0x19a)]+=_0xb5e42a;if(this['_rtl'])for(let _0x45987b=_0x276e3c;_0x45987b<=_0x154d60;_0x45987b++){const _0x2f1b4d=_0x45987b*(0x7f1+0x1*0x112+-0x8ff)*(0xcee+0x2*-0x5cd+0x151*-0x1);for(let _0x15a66e=0x378+0xed9+-0x1251;_0x15a66e<0xc2*0x1f+-0x1*0x1150+-0x62a;++_0x15a66e)this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+_0x15a66e*(0x196*0x9+-0x1*0x252+0x3*-0x3fb)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+_0x15a66e*(0x1*0x1325+-0xb*-0x4d+0x17f*-0xf)]+_0x476ed2*(0x89*0x2b+0x323*0x8+-0x6df*0x7);const _0x5793c8=this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+(-0x1603+0x1*-0x14bf+0x2ac5)],_0x29f560=this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+(0x2fa*0x1+0x1*-0x2543+0x224f)];this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+(0x24b4+0x2*0x8e1+-0x3673*0x1)]=this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+(0x5ac+-0x2688+0x20dc)],this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+(-0x19a0+0x503*-0x4+0x2db2)]=this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+(-0x7*-0x4aa+-0x2*-0x503+-0x2aa3)],this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+(0x17*0xe3+0x245c+0x1*-0x38c1)]=_0x5793c8,this['_meshInfo'][_0x567438]['positions'][_0x2f1b4d+(0xe3+-0xc*0xd1+0x8f2)]=_0x29f560;}_0x276e3c=_0x154d60+(0x1*0x23ea+-0x1b46+0xc9*-0xb);}const _0x47486f=this['_meshInfo'][_0x567438]['count']*(-0x9*-0x37f+-0x12ac+-0xcc7),_0x2d0356=this['_meshInfo'][_0x567438]['quad']*(-0x147*0xb+0x2509+0xa*-0x24c),_0x5af0f6=new go(this['_meshInfo'][_0x567438]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x34307c=-0x3*0x3e3+-0xdb1+-0x2*-0xcad;_0x34307c<_0x47486f;_0x34307c++)_0x34307c>=_0x2d0356?(_0x5af0f6['element'][He]['set'](0x531+0x21d*-0x5+0x560,-0x1e01+-0x218c+0x57*0xbb,0x1*-0x4cb+-0x1d8c+0x2257),_0x5af0f6['element'][ns]['set'](0x1d23*0x1+-0xb5e+-0x11c5*0x1,0x144a+0xb56*-0x2+0x5*0x7a),_0x5af0f6['element'][At]['set'](0x4f*0x1f+-0x11*-0x15+-0xaf6,0x7f1+0x599*0x3+-0x18bc,-0xa6d+-0x1946+0x23b3,0x25b5+0x267c+0xeb*-0x53),_0x5af0f6['element'][Po]['set'](-0x2307+-0x1de5+-0x6*-0xad2,0x264b+-0x5*0x71+-0x2416,0x2011+-0x23*-0xa4+0xd*-0x431,-0x1d46+-0x11b9+0x2eff),_0x5af0f6['element'][Ro]['set'](0x2f1*0xd+0x528+0x1e3*-0x17,-0x49b+0xac7*-0x3+-0xc50*-0x3,0x3*-0x67+-0x8*-0x18d+-0x3d*0x2f,-0x1*-0x1e07+0x2647+-0x2*0x2227)):(_0x5af0f6['element'][He]['set'](this['_meshInfo'][_0x567438]['positions'][_0x34307c*(-0x1039*0x2+0xd*-0x289+0x416a)+(-0x1e2*-0x10+0x237f+0x9d*-0x6b)],this['_meshInfo'][_0x567438]['positions'][_0x34307c*(-0x11*-0x1d8+0x1d3+0x1*-0x2128)+(0xb*0x2a9+0x17f9+-0x353b*0x1)],this['_meshInfo'][_0x567438]['positions'][_0x34307c*(0xd*0x295+-0x1f*-0x25+-0x2609)+(-0x136d+0x7*0x2b4+-0x1*-0x83)]),_0x5af0f6['element'][ns]['set'](this['_meshInfo'][_0x567438]['uvs'][_0x34307c*(-0x2*0xc68+-0x2ac+0x99*0x2e)+(0x15ab+0x170*-0x8+0xa2b*-0x1)],this['_meshInfo'][_0x567438]['uvs'][_0x34307c*(0x42a*0x2+0x1*0x17d1+-0x2023*0x1)+(0x4*-0x58f+-0x2577+0x3bb4)]),_0x5af0f6['element'][At]['set'](this['_meshInfo'][_0x567438]['colors'][_0x34307c*(-0x7f7+-0x823*-0x4+-0x1891)+(0x1*-0x23dd+0x1f92+0x44b)],this['_meshInfo'][_0x567438]['colors'][_0x34307c*(-0x1b18+0x6e1+0x143b*0x1)+(-0x2e3*0x3+-0xbc1+0x146b)],this['_meshInfo'][_0x567438]['colors'][_0x34307c*(-0xd6a*-0x2+0x1d6a+-0x383a)+(0x3*-0x434+0x3e5+0x8b9)],this['_meshInfo'][_0x567438]['colors'][_0x34307c*(-0x1571*-0x1+-0x235*-0x2+0x3b1*-0x7)+(0x19e7*0x1+0x5b5+-0x1f99)]),_0x5af0f6['element'][Po]['set'](this['_meshInfo'][_0x567438]['outlines'][_0x34307c*(-0x20d1+0x326*0x6+0xdf0)+(0x713*0x1+-0x1509+0xdf6)],this['_meshInfo'][_0x567438]['outlines'][_0x34307c*(-0xa8+0x1*-0x3a+-0xe5*-0x1)+(0x832+0x437+-0xc68)],this['_meshInfo'][_0x567438]['outlines'][_0x34307c*(-0x696+-0x1055*0x2+0x2743)+(-0x1840+-0x22fa+-0x22*-0x1be)]),_0x5af0f6['element'][Ro]['set'](this['_meshInfo'][_0x567438]['shadows'][_0x34307c*(-0x8*0x239+0x1be6+-0xa1b)+(-0x1d30+-0x1*-0x11f3+0xb3d)],this['_meshInfo'][_0x567438]['shadows'][_0x34307c*(-0x257c+-0x1e7*0x9+0x1*0x369e)+(-0x14ad+0x121e+-0x4*-0xa4)],this['_meshInfo'][_0x567438]['shadows'][_0x34307c*(0x19ed+-0x215+0x1*-0x17d5)+(0x1b04+0x167*-0x12+-0x1c4)])),_0x5af0f6['next']();_0x5af0f6['end'](),this['_meshInfo'][_0x567438]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x567438]['positions']),this['_meshInfo'][_0x567438]['meshInstan'+'ce']['_aabbVer']=-(-0x980+0x182c*0x1+-0x2ef*0x5);}this['_aabbDirty']=!(-0x1385+0x2449*-0x1+0x37ce);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x3229b4){this['font']!==_0x3229b4['resource']&&(this['font']=_0x3229b4['resource']);}['_onFontCha'+'nge'](_0x5128c2,_0x5ed273,_0x5b152b,_0x5151d5){if(_0x5ed273==='data'){this['_font']['data']=_0x5b152b;const _0x306860=this['_font']['data']['info']['maps']['length'];for(let _0x3a3ee6=0x2710+-0x1c07+-0xb09;_0x3a3ee6<_0x306860;_0x3a3ee6++){if(!this['_meshInfo'][_0x3a3ee6])continue;const _0x5ed792=this['_meshInfo'][_0x3a3ee6]['meshInstan'+'ce'];_0x5ed792&&(_0x5ed792['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x5ed792['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x5ed792['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3a3ee6]['width']));}}}['_onFontRem'+'ove'](_0x51ada1){}['_setTextur'+'eParams'](_0x20d863,_0x9e0da0){this['_font']&&(this['_font']['type']===Kh?(_0x20d863['deletePara'+'meter']('texture_em'+'issiveMap'),_0x20d863['deletePara'+'meter']('texture_op'+'acityMap'),_0x20d863['setParamet'+'er']('texture_ms'+'dfMap',_0x9e0da0)):this['_font']['type']===yR&&(_0x20d863['deletePara'+'meter']('texture_ms'+'dfMap'),_0x20d863['setParamet'+'er']('texture_em'+'issiveMap',_0x9e0da0),_0x20d863['setParamet'+'er']('texture_op'+'acityMap',_0x9e0da0)));}['_getPxRang'+'e'](_0x218648){const _0x415175=Object['keys'](this['_font']['data']['chars']);for(let _0x263f3f=-0x1f06+-0x19e8+-0x7*-0x822;_0x263f3f<_0x415175['length'];_0x263f3f++){const _0xa37433=this['_font']['data']['chars'][_0x415175[_0x263f3f]];if(_0xa37433['range'])return(_0xa37433['scale']||-0x1e2b+0xf07*0x2+-0x2*-0xf)*_0xa37433['range'];}return-0x1df6+0x2*-0xde7+-0xff*-0x3a;}['_getUv'](_0x574011){const _0x514e61=this['_font']['data'];if(!_0x514e61['chars'][_0x574011]){const _0x450ceb='\x20';return _0x514e61['chars'][_0x450ceb]?this['_getUv'](_0x450ceb):[0x3b*0xf+0x11a4+-0x1519,-0x1f*0x131+0x1fe5+0x50a,-0x2db*0x1+-0x2*-0x39a+-0x459,0xc0b*0x1+-0x12e3+-0x2*-0x36c];}const _0x27f317=_0x514e61['chars'][_0x574011]['map'],_0x1ec919=_0x514e61['info']['maps'][_0x27f317]['width'],_0x3c8a4d=_0x514e61['info']['maps'][_0x27f317]['height'],_0x4d816e=_0x514e61['chars'][_0x574011]['x'],_0x10c0ec=_0x514e61['chars'][_0x574011]['y'],_0x55e2f0=_0x4d816e,_0x22637a=_0x10c0ec,_0x1f262c=_0x4d816e+_0x514e61['chars'][_0x574011]['width'],_0x4feea4=_0x10c0ec-_0x514e61['chars'][_0x574011]['height'],_0x479ab5=0x35*0x8b+0x1*-0x11df+-0xae7*0x1-_0x514e61['chars'][_0x574011]['height']/_0x3c8a4d;return[_0x55e2f0/_0x1ec919,_0x479ab5-_0x22637a/_0x3c8a4d,_0x1f262c/_0x1ec919,_0x479ab5-_0x4feea4/_0x3c8a4d];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x211b+0x1*-0x26a4+0x589),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x2*0x815+0x1962+0xf*-0x2c5),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x18e28a){if(this['_model']){const _0x3170da=this['_model']['meshInstan'+'ces'];for(let _0xfd151=-0x1eb9+-0x1c7d+0x3b36;_0xfd151<_0x3170da['length'];_0xfd151++)_0x3170da[_0xfd151]['stencilFro'+'nt']=_0x18e28a,_0x3170da[_0xfd151]['stencilBac'+'k']=_0x18e28a;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x3f6cb4){const _0x162a02={};_0x3f6cb4===void(-0x1*-0x2507+0xa*0x28f+0x3*-0x14df)&&(_0x3f6cb4=this['_symbols']['length']);for(let _0x166a96=0x198f+0x86a+-0x21f9,_0x516958=_0x3f6cb4;_0x166a96<_0x516958;_0x166a96++){const _0x7efead=this['_symbols'][_0x166a96];let _0x5e1783=this['_font']['data']['chars'][_0x7efead];_0x5e1783||(_0x5e1783=this['_font']['data']['chars']['\x20'],_0x5e1783||(_0x5e1783=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x4e4*0x2+-0x8a7+-0x1*0x121]]));const _0x2069d9=_0x5e1783['map'];_0x162a02[_0x2069d9]?_0x162a02[_0x2069d9]++:_0x162a02[_0x2069d9]=-0x455+0xd75+-0x1*0x91f;}return _0x162a02;}['_updateRen'+'derRange'](){const _0x2d1dff=this['_rangeStar'+'t']===0x2d*0x1b+0x21*0x77+-0x1416*0x1?0xbad+-0x24a0+0x18f3:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x5c5474=this['_rangeEnd']===-0x46d+0x1*0x2515+-0x20a8?-0x1*0x5b1+0x17ef*-0x1+-0x20*-0xed:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x471fdb=0xedb+0xbd9+-0x1ab4,_0x268afe=this['_meshInfo']['length'];_0x471fdb<_0x268afe;_0x471fdb++){const _0x393d98=_0x2d1dff[_0x471fdb]||-0x110*-0x7+-0x9*0x9f+-0x1d9,_0x5cfd89=_0x5c5474[_0x471fdb]||-0xd9c+-0x1411+0x21ad,_0x34e8d6=this['_meshInfo'][_0x471fdb]['meshInstan'+'ce'];if(_0x34e8d6){const _0x3ba89a=_0x34e8d6['mesh'];_0x3ba89a&&(_0x3ba89a['primitive'][-0xc6*0x2b+-0xd*-0x2f+-0x469*-0x7]['base']=_0x393d98*(-0x1403+0x26c+-0x119a*-0x1)*(-0x3*-0x14b+0x129d*0x2+-0xa7*0x3f),_0x3ba89a['primitive'][0xbb3+0x729*0x3+-0x112*0x1f]['count']=(_0x5cfd89-_0x393d98)*(-0x1bf7+-0xe3*-0x1b+0x409)*(-0x1*0x1106+-0x1*-0x11c9+-0xc1));}}}set['text'](_0x47bfdc){this['_i18nKey']=null;const _0x6d2310=_0x47bfdc!=null&&_0x47bfdc['toString']()||'';this['_setText'](_0x6d2310);}get['text'](){return this['_text'];}set['key'](_0x501285){const _0x26f8fd=_0x501285!==null?_0x501285['toString']():null;this['_i18nKey']!==_0x26f8fd&&(this['_i18nKey']=_0x26f8fd,_0x26f8fd?(this['_fontAsset']['disableLoc'+'alization']=!(-0x1*-0x987+-0xd*0x11e+0x500),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x304*-0x9+-0x3d*-0x86+-0x3b12));}get['key'](){return this['_i18nKey'];}set['color'](_0x35ca11){const _0x2c776e=_0x35ca11['r'],_0x4859e8=_0x35ca11['g'],_0xc34ff1=_0x35ca11['b'];if(this['_color']===_0x35ca11&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x2c776e&&this['_color']['g']===_0x4859e8&&this['_color']['b']===_0xc34ff1)&&(this['_color']['r']=_0x2c776e,this['_color']['g']=_0x4859e8,this['_color']['b']=_0xc34ff1,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x2c9*0xd+0x1*-0x1ae9+0x2*0x1f8f]=Me['r'],this['_colorUnif'+'orm'][-0xd*0x62+0x1aec+-0x15f1]=Me['g'],this['_colorUnif'+'orm'][-0x7b0*-0x5+0xd3*-0x2d+0x157*-0x1]=Me['b'];for(let _0x50054=-0x18e7+0x24a+0x169d,_0x4150b9=this['_model']['meshInstan'+'ces']['length'];_0x50054<_0x4150b9;_0x50054++)this['_model']['meshInstan'+'ces'][_0x50054]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x1ab0b9){if(this['_color']['a']!==_0x1ab0b9&&(this['_color']['a']=_0x1ab0b9,this['_model'])){for(let _0x2971b5=0x7*-0x28d+0x1*-0x49+0x1224,_0x5dbd38=this['_model']['meshInstan'+'ces']['length'];_0x2971b5<_0x5dbd38;_0x2971b5++)this['_model']['meshInstan'+'ces'][_0x2971b5]['setParamet'+'er']('material_o'+'pacity',_0x1ab0b9);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1ab0b9);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0xc16848){const _0x1a1861=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0xc16848,this['_scaledLin'+'eHeight']=_0xc16848,_0x1a1861!==_0xc16848&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x426e66){const _0x482171=this['_wrapLines'];this['_wrapLines']=_0x426e66,_0x482171!==_0x426e66&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x49657d){const _0x3d18ba=this['_spacing'];this['_spacing']=_0x49657d,_0x3d18ba!==_0x49657d&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x322e1b){const _0x410453=this['_fontSize'];this['_fontSize']=_0x322e1b,this['_originalF'+'ontSize']=_0x322e1b,_0x410453!==_0x322e1b&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x5c446c){this['_fontAsset']['defaultAss'+'et']=_0x5c446c;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x1ab1aa){let _0x1901e6;if(this['_font']&&(_0x1901e6=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x1ab1aa,this['_fontMinY']=0x24fa+-0x53*-0x17+0x1c7*-0x19,this['_fontMaxY']=-0x6ab*0x1+0xdef+-0x3a2*0x2,!_0x1ab1aa)return;const _0x4d792f=this['_font']['data'];for(const _0x5a68bc in _0x4d792f['chars']){const _0x3c6041=_0x4d792f['chars'][_0x5a68bc];_0x3c6041['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x3c6041['bounds'][0x51f+-0x1*-0x3cb+-0x1*0x8e9]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x3c6041['bounds'][0x914+0x1*-0x2287+-0xcbb*-0x2]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x1ab1aa['type']!==_0x1901e6){const _0x56ba24=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x56ba24);}for(let _0x4c4f1c=0x1f97+-0x1da6+-0x1*0x1f1,_0x28e0dc=this['_font']['textures']['length'];_0x4c4f1c<_0x28e0dc;_0x4c4f1c++)if(!this['_meshInfo'][_0x4c4f1c])this['_meshInfo'][_0x4c4f1c]=new CR();else{const _0x35a669=this['_meshInfo'][_0x4c4f1c]['meshInstan'+'ce'];_0x35a669&&(_0x35a669['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x35a669['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x35a669['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x4c4f1c]['width']),this['_setTextur'+'eParams'](_0x35a669,this['_font']['textures'][_0x4c4f1c]));}let _0x5da4ab=!(-0x41*0x42+-0x180f+-0x1db*-0x16);for(let _0x3a5850=this['_font']['textures']['length'];_0x3a5850<this['_meshInfo']['length'];_0x3a5850++)this['_meshInfo'][_0x3a5850]['meshInstan'+'ce']&&(_0x5da4ab||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x5da4ab=!(0x1*0xa8b+-0x569*0x2+0x47)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x3a5850]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x139c8b){_0x139c8b instanceof W?this['_alignment']['set'](_0x139c8b['x'],_0x139c8b['y']):this['_alignment']['set'](_0x139c8b[0x1b72+0x169*-0xa+-0x1e8*0x7],_0x139c8b[0x10c7+0x2de+-0x13a4*0x1]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x54058c){const _0x56aa2a=this['_autoWidth'];if(this['_autoWidth']=_0x54058c,_0x54058c&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x1*-0x2270+-0x12a9*0x1+-0x24f*-0x17+0.0001&&(this['_element']['width']=this['width']),_0x56aa2a!==_0x54058c){const _0x11667e=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x11667e!==this['_fontSize']&&(this['_fontSize']=_0x11667e,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x2dc45b){const _0x1037c3=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x2dc45b,_0x2dc45b&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x1aa+0x455*0x1+-0x5ff+0.0001&&(this['_element']['height']=this['height']),_0x1037c3!==_0x2dc45b){const _0x43ee93=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x43ee93!==this['_fontSize']&&(this['_fontSize']=_0x43ee93,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x4ab271){this['_rtlReorde'+'r']!==_0x4ab271&&(this['_rtlReorde'+'r']=_0x4ab271,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x144bdf){this['_unicodeCo'+'nverter']!==_0x144bdf&&(this['_unicodeCo'+'nverter']=_0x144bdf,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x3f9fbe=!(0x92*-0xa+-0x1*-0x24a9+-0x1ef4);for(let _0x1fbe81=0x1cc1+-0x29f+0x1a22*-0x1;_0x1fbe81<this['_meshInfo']['length'];_0x1fbe81++)this['_meshInfo'][_0x1fbe81]['meshInstan'+'ce']&&(_0x3f9fbe?this['_aabb']['add'](this['_meshInfo'][_0x1fbe81]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x1fbe81]['meshInstan'+'ce']['aabb']),_0x3f9fbe=!(-0xac3*-0x3+-0x1683+0x4e3*-0x2)));this['_aabbDirty']=!(0xe96*-0x2+-0x1*-0x17bf+0x56e);}return this['_aabb'];}set['outlineCol'+'or'](_0x4e4732){const _0x95259c=_0x4e4732 instanceof Y?_0x4e4732['r']:_0x4e4732[-0x4c2+0x202e+-0x1b6c],_0x3774b2=_0x4e4732 instanceof Y?_0x4e4732['g']:_0x4e4732[-0xbe9*-0x3+0x23f9+-0x47b3],_0x4e2999=_0x4e4732 instanceof Y?_0x4e4732['b']:_0x4e4732[0x2ac+-0x2065*0x1+0x1dbb],_0xeb75dc=_0x4e4732 instanceof Y?_0x4e4732['a']:_0x4e4732[0xbc*0x2b+-0x46*0x38+-0x1041];if(this['_outlineCo'+'lor']===_0x4e4732&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x95259c&&this['_outlineCo'+'lor']['g']===_0x3774b2&&this['_outlineCo'+'lor']['b']===_0x4e2999&&this['_outlineCo'+'lor']['a']===_0xeb75dc)&&(this['_outlineCo'+'lor']['r']=_0x95259c,this['_outlineCo'+'lor']['g']=_0x3774b2,this['_outlineCo'+'lor']['b']=_0x4e2999,this['_outlineCo'+'lor']['a']=_0xeb75dc,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1e23+0x13*0x163+0x3ca]=Me['r'],this['_outlineCo'+'lorUniform'][-0x967*-0x3+-0x4b3+0x223*-0xb]=Me['g'],this['_outlineCo'+'lorUniform'][-0x4*0x407+0x3a0+0x1a*0x7b]=Me['b'],this['_outlineCo'+'lorUniform'][-0x503*0x1+0x69*-0x25+0x1433]=Me['a'];for(let _0x28215e=0xeca+-0x5c2+-0x121*0x8,_0x4f5b84=this['_model']['meshInstan'+'ces']['length'];_0x28215e<_0x4f5b84;_0x28215e++)this['_model']['meshInstan'+'ces'][_0x28215e]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x3335f3){const _0x39e39a=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x3335f3,_0x39e39a!==_0x3335f3&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x597205=0x1c09+0x172+-0x1d7b*0x1,_0x5e39ce=this['_model']['meshInstan'+'ces']['length'];_0x597205<_0x5e39ce;_0x597205++)this['_model']['meshInstan'+'ces'][_0x597205]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x4e6e5a){const _0x4163d0=_0x4e6e5a instanceof Y?_0x4e6e5a['r']:_0x4e6e5a[0xdbb+-0x116*-0xb+-0x88f*0x3],_0x31d3d9=_0x4e6e5a instanceof Y?_0x4e6e5a['g']:_0x4e6e5a[0x16d3+0x1c11+-0x32e3],_0x3cb836=_0x4e6e5a instanceof Y?_0x4e6e5a['b']:_0x4e6e5a[-0x2e1*-0x4+0x609+-0x118b],_0xaf645f=_0x4e6e5a instanceof Y?_0x4e6e5a['a']:_0x4e6e5a[0x8f1+0xe*0xbe+-0x1*0x1352];if(this['_shadowCol'+'or']===_0x4e6e5a&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x4163d0&&this['_shadowCol'+'or']['g']===_0x31d3d9&&this['_shadowCol'+'or']['b']===_0x3cb836&&this['_shadowCol'+'or']['a']===_0xaf645f)&&(this['_shadowCol'+'or']['r']=_0x4163d0,this['_shadowCol'+'or']['g']=_0x31d3d9,this['_shadowCol'+'or']['b']=_0x3cb836,this['_shadowCol'+'or']['a']=_0xaf645f,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x31*0xa2+-0x1*-0x39e+0x1b64]=Me['r'],this['_shadowCol'+'orUniform'][-0x199*-0x5+0x1e86+0xcd6*-0x3]=Me['g'],this['_shadowCol'+'orUniform'][0xe44+0xa66+-0x18a8]=Me['b'],this['_shadowCol'+'orUniform'][0xea7*-0x2+0xf5*0xb+0x12ca]=Me['a'];for(let _0x200766=0xb4c+-0x8*0x409+0x4*0x53f,_0x17fc7a=this['_model']['meshInstan'+'ces']['length'];_0x200766<_0x17fc7a;_0x200766++)this['_model']['meshInstan'+'ces'][_0x200766]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x16bfa8){const _0x1f84a9=_0x16bfa8 instanceof W?_0x16bfa8['x']:_0x16bfa8[-0x2a1*-0xd+-0x2422+0x1f5],_0x46d062=_0x16bfa8 instanceof W?_0x16bfa8['y']:_0x16bfa8[-0xe54+0x30b*-0x5+0x1d8c];if(!(this['_shadowOff'+'set']['x']===_0x1f84a9&&this['_shadowOff'+'set']['y']===_0x46d062)&&(this['_shadowOff'+'set']['set'](_0x1f84a9,_0x46d062),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x10e0d8=-0x2eb*0x1+0x6*-0x48b+0x1e2d,_0xd4831d=this['_model']['meshInstan'+'ces']['length'];_0x10e0d8<_0xd4831d;_0x10e0d8++){const _0x44df77=-this['_font']['data']['info']['maps'][_0x10e0d8]['width']/this['_font']['data']['info']['maps'][_0x10e0d8]['height'];this['_shadowOff'+'setUniform'][0x113d+-0x1b0e+0x9d1]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x136c+0xe75*-0x1+-0x4f6]=_0x44df77*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x10e0d8]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x3fe8fa){this['_minFontSi'+'ze']!==_0x3fe8fa&&(this['_minFontSi'+'ze']=_0x3fe8fa,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x22ed30){this['_maxFontSi'+'ze']!==_0x22ed30&&(this['_maxFontSi'+'ze']=_0x22ed30,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x86cd34){this['_autoFitWi'+'dth']!==_0x86cd34&&(this['_autoFitWi'+'dth']=_0x86cd34,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x1635ce){this['_autoFitHe'+'ight']!==_0x1635ce&&(this['_autoFitHe'+'ight']=_0x1635ce,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x277ba8){this['_maxLines']!==_0x277ba8&&(_0x277ba8===null&&this['_maxLines']===-(0x11*-0x81+-0x2ad+0xb3f)||(this['_maxLines']=_0x277ba8===null?-(0x1*0xb11+-0x1688+0xb78):_0x277ba8,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x4b8113){if(_0x4b8113=!!_0x4b8113,this['_enableMar'+'kup']===_0x4b8113)return;this['_enableMar'+'kup']=_0x4b8113,this['font']&&this['_updateTex'+'t']();const _0xdd1084=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xdd1084);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x3db42e){return this['_colorPale'+'tte']['slice'](_0x3db42e*(0x2bb*0x6+0x1e18+-0x94b*0x5),_0x3db42e*(0x1227*-0x2+-0xc09*0x1+0x305a*0x1)+(-0x24b*0x4+0x73*0x2f+0x2*-0x5f7));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x103c97){return this['_outlinePa'+'lette']['slice'](_0x103c97*(0x1*-0x2105+0x1*0x22a+0x2*0xf70),_0x103c97*(-0x1d*0x97+-0x29*-0x31+0x7d*0x13)+(0x1d*-0x39+0x1*-0xd5b+0x13d5));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x2848c8){return this['_shadowPal'+'ette']['slice'](_0x2848c8*(-0x98*-0x3c+0x384+-0x1*0x271e),_0x2848c8*(0xff8+0x19b8+-0x29aa)+(-0x79b+0x1ff3+-0x1852));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0xd2901b){_0xd2901b=Math['max'](0x2*0xe89+0xaf0+-0x2802,Math['min'](_0xd2901b,this['_symbols']['length'])),_0xd2901b!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0xd2901b,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x80c527){_0x80c527=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x80c527,this['_symbols']['length'])),_0x80c527!==this['_rangeEnd']&&(this['_rangeEnd']=_0x80c527,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x452f2a,_0x22a0ab){super(_0x452f2a,_0x22a0ab),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x20d6+0x1c71+-0x2c9*0x16),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=-0x24ea+0x106d+0x149d,this['_height']=this['_calculate'+'dHeight']=0xf5e+-0x37f*0xb+-0x7bd*-0x3,this['_margin']=new Q(0x1eba+0x1213+-0x30cd*0x1,-0xa99*0x3+0x1*0x4ef+-0x12*-0x17e,-(-0x9e1+-0x25*-0x4f+-0xb5*0x2),-(-0xeed*-0x1+-0x132a+-0x1*-0x45d)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x13c*-0xf+-0xf10+-0x2194*-0x1),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(-0x93f+0x1a84+-0x1145),this['_canvasCor'+'nersDirty']=!(-0xca5+0x101*-0x1e+0x2ac3),this['_worldCorn'+'ersDirty']=!(-0x2204+0x127*0x5+0x1c41),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x1335*-0x1+0x600+0xd35,this['_fitMode']=gh,this['_useInput']=!(0xbab*-0x2+-0x1*-0x1bbf+-0x468),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x10ae+-0x427*-0x5+-0x414),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x3ae*-0x6+0x1e4+-0x17f8,this['_maskOffse'+'t']=-0x1*-0xc83+0x28d*-0x7+-0x558*-0x1+0.5,this['_maskedBy']=null);}get['data'](){const _0x3471a8=this['system']['store'][this['entity']['getGuid']()];return _0x3471a8?_0x3471a8['data']:null;}set['enabled'](_0xbf1a7f){const _0x2914e4=this['data'],_0x396d26=_0x2914e4['enabled'];_0x2914e4['enabled']=_0xbf1a7f,this['fire']('set','enabled',_0x396d26,_0xbf1a7f);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x319+0xe78+-0x5db*0x3+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x1*0x11fc+-0x3+0x6b*-0x2b+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x86fd0){_0x86fd0 instanceof Q?this['_anchor']['copy'](_0x86fd0):this['_anchor']['set'](..._0x86fd0),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x1613*-0x1+-0x23*0x104+0xd79),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x9355fc){var _0x331725,_0xc52455;this['_batchGrou'+'pId']!==_0x9355fc&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x784*-0x5+0x18f9*-0x1+0x3e8d&&((_0x331725=this['system']['app']['batcher'])==null||_0x331725['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x9355fc>=0x107e+-0x2636*0x1+-0x458*-0x5&&((_0xc52455=this['system']['app']['batcher'])==null||_0xc52455['insert'](et['ELEMENT'],_0x9355fc,this['entity'])),_0x9355fc<-0x26ca+0x76+0x2654&&this['_batchGrou'+'pId']>=-0x9b2+-0x3*0xced+0x1*0x3079&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x9355fc);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x41b40b){this['_margin']['y']=_0x41b40b;const _0x6e7498=this['entity']['getLocalPo'+'sition'](),_0x2b1967=this['_absTop'],_0x676ae6=this['_localAnch'+'or']['y']+_0x41b40b;this['_setHeight'](_0x2b1967-_0x676ae6),_0x6e7498['y']=_0x41b40b+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x6e7498);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x44bdaa){this['_setCalcul'+'atedWidth'](_0x44bdaa,!(-0x5d1*-0x4+-0x71*-0x53+-0x3be7));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x345b89){this['_setCalcul'+'atedHeight'](_0x345b89,!(0x20fd*-0x1+-0x160+0x225d));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x39a036=this['system']['app']['graphicsDe'+'vice'],_0x5dfcab=this['screenCorn'+'ers'],_0x451cb4=_0x39a036['canvas']['clientWidt'+'h']/_0x39a036['width'],_0x28299d=_0x39a036['canvas']['clientHeig'+'ht']/_0x39a036['height'];for(let _0x312733=-0xff2+0x65b*0x6+-0x1630;_0x312733<0x26*0x51+-0xbf9+0x9*-0x1;_0x312733++)this['_canvasCor'+'ners'][_0x312733]['set'](_0x5dfcab[_0x312733]['x']*_0x451cb4,(_0x39a036['height']-_0x5dfcab[_0x312733]['y'])*_0x28299d);return this['_canvasCor'+'nersDirty']=!(-0x24cd+0x8*0x2b3+0xf36),this['_canvasCor'+'ners'];}set['drawOrder'](_0x17f0bc){let _0x378f99=-0x1*0x16dc+0x5*-0x11d+-0x13*-0x17f;this['screen']&&(_0x378f99=this['screen']['screen']['priority']),_0x17f0bc>-0x13c7b35+0xbae8b*0x3+0xb32531*0x3&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x17f0bc=0xd6382*0x1+-0x4effaa*-0x4+-0x49622b),this['_drawOrder']=(_0x378f99<<0x22e*0x8+0x9ff*-0x1+-0x759)+_0x17f0bc,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x3beffc){this['_height']=_0x3beffc,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x3beffc,!(0xad8+-0x7a0+0x338*-0x1)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x30d9c8){if(this['_addedMode'+'ls']['length'])for(let _0x4fa43a=0xbe4+0x937+-0x151b;_0x4fa43a<this['_layers']['length'];_0x4fa43a++){const _0x5c85aa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4fa43a]);if(_0x5c85aa){for(let _0x175f38=-0x852+0x6*0x184+-0xc6;_0x175f38<this['_addedMode'+'ls']['length'];_0x175f38++)_0x5c85aa['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x175f38]['meshInstan'+'ces']);}}if(this['_layers']=_0x30d9c8,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x6daae9=0x4*0x68e+0x9c6+-0x2*0x11ff;_0x6daae9<this['_layers']['length'];_0x6daae9++){const _0x35ad5e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x6daae9]);if(_0x35ad5e){for(let _0x135d68=-0x1*-0x20d2+-0xe6d+-0x115*0x11;_0x135d68<this['_addedMode'+'ls']['length'];_0x135d68++)_0x35ad5e['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x135d68]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x396371){this['_margin']['x']=_0x396371;const _0x21e01d=this['entity']['getLocalPo'+'sition'](),_0x270426=this['_absRight'],_0x4be6f0=this['_localAnch'+'or']['x']+_0x396371;this['_setWidth'](_0x270426-_0x4be6f0),_0x21e01d['x']=_0x396371+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x21e01d);}get['left'](){return this['_margin']['x'];}set['margin'](_0x664351){this['_margin']['copy'](_0x664351),this['_calculate'+'Size'](!(0x3*0x31c+0x1f*0x7c+-0x1858),!(0xb62+0xc34+-0x1796)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x10a4a6){const {pivot:_0x5b66ca,margin:_0x1eb723}=this,_0x271479=_0x5b66ca['x'],_0x5f66a4=_0x5b66ca['y'];_0x10a4a6 instanceof W?_0x5b66ca['copy'](_0x10a4a6):_0x5b66ca['set'](..._0x10a4a6);const _0x4ac0e7=_0x1eb723['x']+_0x1eb723['z'],_0x384440=_0x5b66ca['x']-_0x271479;_0x1eb723['x']+=_0x4ac0e7*_0x384440,_0x1eb723['z']-=_0x4ac0e7*_0x384440;const _0x43e64d=_0x1eb723['y']+_0x1eb723['w'],_0x28274d=_0x5b66ca['y']-_0x5f66a4;_0x1eb723['y']+=_0x43e64d*_0x28274d,_0x1eb723['w']-=_0x43e64d*_0x28274d,this['_anchorDir'+'ty']=!(-0x9af*0x4+0x9*-0x38b+-0x469f*-0x1),this['_cornersDi'+'rty']=!(0x106+0x22*-0xe9+0x1dec*0x1),this['_worldCorn'+'ersDirty']=!(0x5e5+-0x28f*-0x7+-0x17ce),this['_calculate'+'Size'](!(0x1db4+0xccb+-0x2a7e),!(0x985*-0x2+-0x5*0x25e+-0x11*-0x1d1)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x5b66ca);}get['pivot'](){return this['_pivot'];}set['right'](_0x73b022){this['_margin']['z']=_0x73b022;const _0x3c81fa=this['entity']['getLocalPo'+'sition'](),_0xe8b7c3=this['_absLeft'],_0x1ad68b=this['_localAnch'+'or']['z']-_0x73b022;this['_setWidth'](_0x1ad68b-_0xe8b7c3),_0x3c81fa['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x73b022-this['_calculate'+'dWidth']*(0xbce+-0x173f+0xa*0x125-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x3c81fa);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x370803=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x230b+-0x13*0x1b2+-0x19*0x1d];this['_screenCor'+'ners'][0x5*0x21f+-0x2*-0xf85+-0x5f3*0x7]['set'](this['_absLeft'],this['_absBottom'],0x2189+-0x2f9+-0x1e90),this['_screenCor'+'ners'][-0x3*0x911+0x47*-0x7+-0x1*-0x1d25]['set'](this['_absRight'],this['_absBottom'],0x90*-0x27+0x17e3+-0x1f3*0x1),this['_screenCor'+'ners'][0x1*-0x20e3+0xff6+0x10ef]['set'](this['_absRight'],this['_absTop'],0x1971+0x11c4*-0x2+0xa17),this['_screenCor'+'ners'][-0x157d+-0x494*-0x2+0xc58]['set'](this['_absLeft'],this['_absTop'],0x1d5b+0x7f9+0x1*-0x2554);const _0x5a56df=this['screen']['screen']['screenSpac'+'e'];for(let _0x3d81c0=-0x5d+-0x3d*-0x26+-0x8b1;_0x3d81c0<0x1bf0+-0x2218+0x62c;_0x3d81c0++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x3d81c0],this['_screenCor'+'ners'][_0x3d81c0]),_0x5a56df&&this['_screenCor'+'ners'][_0x3d81c0]['mulScalar'](this['screen']['screen']['scale']),_0x370803&&this['_screenCor'+'ners'][_0x3d81c0]['add'](_0x370803);return this['_cornersDi'+'rty']=!(-0x1d95+-0x1*0x217e+0x3f14),this['_canvasCor'+'nersDirty']=!(0x118e+0x215d+0x10f9*-0x3),this['_worldCorn'+'ersDirty']=!(-0x4*-0x60d+-0x11*0xdd+0x32d*-0x3),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x562+0x11*-0x7b+-0x1*-0xd8d;}get['textHeight'](){return this['_text']?this['_text']['height']:0x1b*0x121+-0x1d7b*0x1+-0x100;}set['top'](_0x2979d2){this['_margin']['w']=_0x2979d2;const _0x1bc5ac=this['entity']['getLocalPo'+'sition'](),_0x3c763b=this['_absBottom'],_0x26c226=this['_localAnch'+'or']['w']-_0x2979d2;this['_setHeight'](_0x26c226-_0x3c763b),_0x1bc5ac['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x2979d2-this['_calculate'+'dHeight']*(0x151f+0x1*0x260d+-0x129*0x33-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x1bc5ac);}get['top'](){return this['_margin']['w'];}set['type'](_0x5bd675){_0x5bd675!==this['_type']&&(this['_type']=_0x5bd675,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x5bd675===rf?this['_image']=new _R(this):_0x5bd675===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x36d50c){this['_useInput']!==_0x36d50c&&(this['_useInput']=_0x36d50c,this['system']['app']['elementInp'+'ut']?_0x36d50c?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x7*0x1e7+-0x141b+0x216c)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x36d50c));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x19cd81){this['_fitMode']=_0x19cd81,this['_calculate'+'Size'](!(0xa3*0x20+-0x9fa+-0xa66),!(0x1a89*0x1+-0x1*-0x24e3+-0x84*0x7b)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x453f83){this['_width']=_0x453f83,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x453f83,!(-0x5b*-0x6d+0x1c19+-0x42d8)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x5f8c9d=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0xaf*-0x11+0x1cf5*0x1+-0x2887]=-es['data'][0x1*0x1f3+-0x10cb*0x2+0x18*0x152],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x1ef35c=-0xc96*0x2+0xb3c+-0xdf0*-0x1;_0x1ef35c<-0x17eb+0x17e*-0xc+0x29d7;_0x1ef35c++)es['transformP'+'oint'](_0x5f8c9d[_0x1ef35c],this['_worldCorn'+'ers'][_0x1ef35c]);}}else{const _0x3bae34=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x3bae34['x'],-_0x3bae34['y'],-_0x3bae34['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x3bae34['x'],_0x3bae34['y'],_0x3bae34['z']);const _0x5942ae=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x5942ae['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x3bae34['x']-this['pivot']['x']*this['calculated'+'Width'],_0x3bae34['y']-this['pivot']['y']*this['calculated'+'Height'],_0x3bae34['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x158*-0x1+0x2524+0x6*-0x66a]),ni['set'](_0x3bae34['x']+(-0x2146*-0x1+0x1*-0x1019+-0x112c-this['pivot']['x'])*this['calculated'+'Width'],_0x3bae34['y']-this['pivot']['y']*this['calculated'+'Height'],_0x3bae34['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x1*0x168d+-0x11*-0x65+0x1d41*-0x1]),ni['set'](_0x3bae34['x']+(-0x40d*0x3+-0x1cd3+0x28fb-this['pivot']['x'])*this['calculated'+'Width'],_0x3bae34['y']+(0x1701+0xb8d*0x1+-0x228d*0x1-this['pivot']['y'])*this['calculated'+'Height'],_0x3bae34['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x1e48+0xab*0x9+-0x2449*0x1]),ni['set'](_0x3bae34['x']-this['pivot']['x']*this['calculated'+'Width'],_0x3bae34['y']+(0x3*0x566+-0x14e1+0x258*0x2-this['pivot']['y'])*this['calculated'+'Height'],_0x3bae34['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x537*-0x2+0x1*0xad+-0xb18]);}return this['_worldCorn'+'ersDirty']=!(-0x1c9c+0x31*-0x70+-0x1*-0x320d),this['_worldCorn'+'ers'];}set['fontSize'](_0x4b64d5){this['_setValue']('fontSize',_0x4b64d5);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x5417e8){this['_setValue']('minFontSiz'+'e',_0x5417e8);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x3f75d8){this['_setValue']('maxFontSiz'+'e',_0x3f75d8);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x416b19){this['_setValue']('maxLines',_0x416b19);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x22adb7){this['_setValue']('autoFitWid'+'th',_0x22adb7);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0xac97b){this['_setValue']('autoFitHei'+'ght',_0xac97b);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x282960){this['_setValue']('color',_0x282960);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x32a06d){this['_setValue']('font',_0x32a06d);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x4c614b){this['_setValue']('fontAsset',_0x4c614b);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x1e8a08){this['_setValue']('spacing',_0x1e8a08);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x5effab){this['_setValue']('lineHeight',_0x5effab);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x3d9f20){this['_setValue']('wrapLines',_0x3d9f20);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x3046af){this['_setValue']('lines',_0x3046af);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x1fe83e){this['_setValue']('alignment',_0x1fe83e);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x3facf1){this['_setValue']('autoWidth',_0x3facf1);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x24786e){this['_setValue']('autoHeight',_0x24786e);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x13299c){this['_setValue']('rtlReorder',_0x13299c);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x42935e){this['_setValue']('unicodeCon'+'verter',_0x42935e);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x28d703){this['_setValue']('text',_0x28d703);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x2d7c72){this['_setValue']('key',_0x2d7c72);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x5a69ba){this['_setValue']('texture',_0x5a69ba);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x144bbb){this['_setValue']('textureAss'+'et',_0x144bbb);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x16ffb7){this['_setValue']('material',_0x16ffb7);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x1c6148){this['_setValue']('materialAs'+'set',_0x1c6148);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x53df52){this['_setValue']('sprite',_0x53df52);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x259154){this['_setValue']('spriteAsse'+'t',_0x259154);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2aaf5f){this['_setValue']('spriteFram'+'e',_0x2aaf5f);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x41f255){this['_setValue']('pixelsPerU'+'nit',_0x41f255);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x3f8f2c){this['_setValue']('opacity',_0x3f8f2c);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0xdd8625){this['_setValue']('rect',_0xdd8625);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x1c7c03){this['_setValue']('mask',_0x1c7c03);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x41cf42){this['_setValue']('outlineCol'+'or',_0x41cf42);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x6135dc){this['_setValue']('outlineThi'+'ckness',_0x6135dc);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x3f5015){this['_setValue']('shadowColo'+'r',_0x3f5015);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x45bf67){this['_setValue']('shadowOffs'+'et',_0x45bf67);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x5e277f){this['_setValue']('enableMark'+'up',_0x5e277f);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x5131a3){this['_setValue']('rangeStart',_0x5131a3);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x5f1817){this['_setValue']('rangeEnd',_0x5f1817);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x27b445,_0x5ce519){this['_text']?(this['_text'][_0x27b445]!==_0x5ce519&&this['_dirtyBatc'+'h'](),this['_text'][_0x27b445]=_0x5ce519):this['_image']&&(this['_image'][_0x27b445]!==_0x5ce519&&this['_dirtyBatc'+'h'](),this['_image'][_0x27b445]=_0x5ce519);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x24d7e7,_0x5eb500,_0x94522a){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0x24d7e7,_0x5eb500,_0x94522a);return;}_0x24d7e7 instanceof T?Kd['copy'](_0x24d7e7):Kd['set'](_0x24d7e7,_0x5eb500,_0x94522a),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x43bb70,_0x4e93d1,_0x12c2a7){_0x43bb70 instanceof T?this['localPosit'+'ion']['copy'](_0x43bb70):this['localPosit'+'ion']['set'](_0x43bb70,_0x4e93d1,_0x12c2a7);const _0x56004d=this['element'],_0x1152b9=this['localPosit'+'ion'],_0x5fbbf2=_0x56004d['_pivot'];_0x56004d['_margin']['x']=_0x1152b9['x']-_0x56004d['_calculate'+'dWidth']*_0x5fbbf2['x'],_0x56004d['_margin']['z']=_0x56004d['_localAnch'+'or']['z']-_0x56004d['_localAnch'+'or']['x']-_0x56004d['_calculate'+'dWidth']-_0x56004d['_margin']['x'],_0x56004d['_margin']['y']=_0x1152b9['y']-_0x56004d['_calculate'+'dHeight']*_0x5fbbf2['y'],_0x56004d['_margin']['w']=_0x56004d['_localAnch'+'or']['w']-_0x56004d['_localAnch'+'or']['y']-_0x56004d['_calculate'+'dHeight']-_0x56004d['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x24865a=this['element'],_0x12b1c1=_0x24865a['screen'];if(_0x12b1c1){if(_0x24865a['_anchorDir'+'ty']){let _0x4fa9a4=0xfdc+0x3*-0x21d+-0x985,_0x1151aa=0x515*-0x2+0x1b06+-0xa6*0x1a,_0x322779=-0x1eb7*-0x1+-0x12db+-0x2*0x5ee,_0x223536=-0x3cb*0x2+0xd*0xe3+0x4*-0xfc;if(this['_parent']&&this['_parent']['element'])_0x4fa9a4=this['_parent']['element']['calculated'+'Width'],_0x1151aa=this['_parent']['element']['calculated'+'Height'],_0x322779=this['_parent']['element']['pivot']['x'],_0x223536=this['_parent']['element']['pivot']['y'];else{const _0x3cd81f=_0x12b1c1['screen']['resolution'];_0x4fa9a4=_0x3cd81f['x']/_0x12b1c1['screen']['scale'],_0x1151aa=_0x3cd81f['y']/_0x12b1c1['screen']['scale'];}_0x24865a['_anchorTra'+'nsform']['setTransla'+'te'](_0x4fa9a4*(_0x24865a['anchor']['x']-_0x322779),-(_0x1151aa*(_0x223536-_0x24865a['anchor']['y'])),-0x26c6+-0x1655+0x3d1b),_0x24865a['_anchorDir'+'ty']=!(0x1c5f+-0x13bd+0x2f*-0x2f),_0x24865a['_calculate'+'LocalAncho'+'rs']();}_0x24865a['_sizeDirty']&&_0x24865a['_calculate'+'Size'](!(-0x70f+-0x1c4*-0xb+0xc5c*-0x1),!(-0x1*-0x2175+-0x87d+-0x18f7));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x40941f=this['localPosit'+'ion'],_0x355200=_0x24865a['_pivot'];_0x24865a['_margin']['x']=_0x40941f['x']-_0x24865a['_calculate'+'dWidth']*_0x355200['x'],_0x24865a['_margin']['z']=_0x24865a['_localAnch'+'or']['z']-_0x24865a['_localAnch'+'or']['x']-_0x24865a['_calculate'+'dWidth']-_0x24865a['_margin']['x'],_0x24865a['_margin']['y']=_0x40941f['y']-_0x24865a['_calculate'+'dHeight']*_0x355200['y'],_0x24865a['_margin']['w']=_0x24865a['_localAnch'+'or']['w']-_0x24865a['_localAnch'+'or']['y']-_0x24865a['_calculate'+'dHeight']-_0x24865a['_margin']['y'],this['_dirtyLoca'+'l']=!(0x1f01+-0x45*-0x7a+0x1ba*-0x25);}if(!_0x12b1c1){this['_dirtyWorl'+'d']&&(_0x24865a['_cornersDi'+'rty']=!(0x2006+0x1d99*-0x1+-0x26d),_0x24865a['_canvasCor'+'nersDirty']=!(0x1*0x1826+-0x6d+-0x17b9),_0x24865a['_worldCorn'+'ersDirty']=!(-0x20*-0x16+-0x1f7e+0x1cbe)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x24865a['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x24865a['_anchorTra'+'nsform']):_0x24865a['_screenToW'+'orld']['copy'](_0x24865a['_anchorTra'+'nsform']),_0x24865a['_modelTran'+'sform']['mul2'](_0x24865a['_screenToW'+'orld'],this['localTrans'+'form']),_0x12b1c1){_0x24865a['_screenToW'+'orld']['mul2'](_0x12b1c1['screen']['_screenMat'+'rix'],_0x24865a['_screenToW'+'orld']),_0x12b1c1['screen']['screenSpac'+'e']||_0x24865a['_screenToW'+'orld']['mul2'](_0x12b1c1['worldTrans'+'form'],_0x24865a['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x24865a['_screenToW'+'orld'],this['localTrans'+'form']);const _0x3ecda2=_0x24865a['_parentWor'+'ldTransfor'+'m'];_0x3ecda2['setIdentit'+'y']();const _0x38debb=this['_parent'];_0x38debb&&_0x38debb['element']&&_0x38debb!==_0x12b1c1&&(es['setTRS'](T['ZERO'],_0x38debb['getLocalRo'+'tation'](),_0x38debb['getLocalSc'+'ale']()),_0x3ecda2['mul2'](_0x38debb['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x152925=ni;_0x152925['set'](-0x1728+-0x7*0x1a1+-0x228f*-0x1,0x65d*0x2+0x1*0x1ba1+-0x285b,this['localPosit'+'ion']['z']);const _0x21ae54=kR;_0x21ae54['set'](_0x24865a['_absLeft']+_0x24865a['_pivot']['x']*_0x24865a['calculated'+'Width'],_0x24865a['_absBottom']+_0x24865a['_pivot']['y']*_0x24865a['calculated'+'Height'],-0x18fc+-0x30a*0x3+0xc2*0x2d),es['setTransla'+'te'](-_0x21ae54['x'],-_0x21ae54['y'],-_0x21ae54['z']),Yl['setTRS'](_0x152925,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x21ae54['x'],_0x21ae54['y'],_0x21ae54['z']),_0x24865a['_screenTra'+'nsform']['mul2'](_0x24865a['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x24865a['_cornersDi'+'rty']=!(-0x1567+-0x32+0x13*0x123),_0x24865a['_canvasCor'+'nersDirty']=!(-0x7*0x1b1+-0x919*-0x1+0x2be),_0x24865a['_worldCorn'+'ersDirty']=!(0xd69+0x532+-0x129b);}else this['worldTrans'+'form']['copy'](_0x24865a['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x22*0x1f+-0x1*-0x205b+-0x1c3c);}}['_onInsert'](_0x3b3829){const _0x236cc2=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x236cc2['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x9d4d73=this['entity'];for(;_0x9d4d73;){const _0x33a811=_0x9d4d73['parent'];if((_0x33a811===null||_0x33a811['screen'])&&_0x9d4d73['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0xca06b9=this['system']['_prerender']['indexOf'](this['entity']);_0xca06b9>=-0x1927+0x1ce2+-0x5*0xbf&&this['system']['_prerender']['splice'](_0xca06b9,0xa3*0xf+0x1d8f+-0xd09*0x3),this['system']['_prerender']['indexOf'](_0x9d4d73)<-0x124b+-0x3a0*-0x7+-0x25*0x31&&this['system']['_prerender']['push'](_0x9d4d73),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x9d4d73['name']);}_0x9d4d73=_0x33a811;}}['_onPrerend'+'er'](){for(let _0x3ecb0c=0x3*0xb4d+0x1c7b+-0x3e62;_0x3ecb0c<this['system']['_prerender']['length'];_0x3ecb0c++){const _0x22b602=this['system']['_prerender'][_0x3ecb0c];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x22b602['name']),_0x22b602['element']&&_0x22b602['element']['syncMask'](0xb0f+0xe*0x219+-0x286c);}this['system']['_prerender']['length']=0x1525+-0x1910+-0x11*-0x3b;}['_bindScree'+'n'](_0x223a15){_0x223a15['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x4c1b56){_0x4c1b56['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x2300b9){this['screen']&&this['screen']!==_0x2300b9&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x412941=this['screen'];this['screen']=_0x2300b9,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x412941),this['_anchorDir'+'ty']=!(-0x13aa+0x5d5+-0xdd5*-0x1);const _0x1e30ad=this['entity']['children'];for(let _0x2090be=-0x1*-0x1381+-0x99*-0x9+-0x18e2,_0x3d87f3=_0x1e30ad['length'];_0x2090be<_0x3d87f3;_0x2090be++)_0x1e30ad[_0x2090be]['element']&&_0x1e30ad[_0x2090be]['element']['_updateScr'+'een'](_0x2300b9);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x4774a7){const _0x5cd472=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x5cd472['mask'],_0x4774a7);}['_setMasked'+'By'](_0x24fd13){const _0x4abe15=this['_image']||this['_text'];if(_0x24fd13){const _0x1394fe=_0x24fd13['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x1394fe),_0x4abe15==null||_0x4abe15['_setStenci'+'l'](new qs({'ref':_0x1394fe,'func':Ch})),this['_maskedBy']=_0x24fd13;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x4abe15==null||_0x4abe15['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x16e64b,_0x34b88b){var _0x192d8a,_0x544485;if(_0x16e64b){if(this['_setMasked'+'By'](_0x16e64b),this['mask']){const _0x5ee4a7=_0x16e64b['element']['_image']['_maskRef'],_0x27193c=new qs({'ref':_0x5ee4a7,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x27193c),this['_image']['_maskRef']=_0x34b88b,_0x34b88b++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x27193c['ref']+(-0x19cf*-0x1+0x162e+-0x53*0x94))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x34b88b),_0x16e64b=this['entity'];}const _0x334360=this['entity']['children'];for(let _0x393f49=0x21f7*-0x1+0x13b6+0xe41,_0x2387df=_0x334360['length'];_0x393f49<_0x2387df;_0x393f49++)(_0x192d8a=_0x334360[_0x393f49]['element'])==null||_0x192d8a['_updateMas'+'k'](_0x16e64b,_0x34b88b);this['mask']&&_0x34b88b--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x330d37=new qs({'ref':_0x34b88b,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x330d37),this['_image']['_maskRef']=_0x34b88b,_0x34b88b++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x330d37['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x34b88b),_0x16e64b=this['entity'];}const _0x1b1187=this['entity']['children'];for(let _0x399ebf=0x704+-0x1efb+0x17f7,_0x2d1b4e=_0x1b1187['length'];_0x399ebf<_0x2d1b4e;_0x399ebf++)(_0x544485=_0x1b1187[_0x399ebf]['element'])==null||_0x544485['_updateMas'+'k'](_0x16e64b,_0x34b88b);this['mask']&&_0x34b88b--;}}['_parseUpTo'+'Screen'](){const _0x4c160f={'screen':null,'mask':null};let _0x4b613e=this['entity']['_parent'];for(;_0x4b613e&&!_0x4b613e['screen'];)_0x4b613e['element']&&_0x4b613e['element']['mask']&&(_0x4c160f['mask']||(_0x4c160f['mask']=_0x4b613e)),_0x4b613e=_0x4b613e['parent'];return _0x4b613e&&_0x4b613e['screen']&&(_0x4c160f['screen']=_0x4b613e),_0x4c160f;}['_onScreenR'+'esize'](_0x339bed){this['_anchorDir'+'ty']=!(0x1c03+-0x2d7*0x1+0x64b*-0x4),this['_cornersDi'+'rty']=!(0x7+-0x1a3f+0x1a38*0x1),this['_worldCorn'+'ersDirty']=!(-0x823+-0x15fd+0x1e20),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x339bed);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x51a8cf=-0x190*0x19+-0x1c30+0x4728,_0x1231af=0x7fc+-0x1e4d+-0x89*-0x31;const _0x2cbfa1=this['entity']['_parent'];if(_0x2cbfa1&&_0x2cbfa1['element'])_0x51a8cf=_0x2cbfa1['element']['calculated'+'Width'],_0x1231af=_0x2cbfa1['element']['calculated'+'Height'];else{if(this['screen']){const _0x17a9d6=this['screen']['screen']['resolution'],_0x3a968b=this['screen']['screen']['scale'];_0x51a8cf=_0x17a9d6['x']/_0x3a968b,_0x1231af=_0x17a9d6['y']/_0x3a968b;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x51a8cf,this['_anchor']['y']*_0x1231af,this['_anchor']['z']*_0x51a8cf,this['_anchor']['w']*_0x1231af);}['getOffsetP'+'osition'](_0x1e90e5,_0x463b2f){const _0x1692a2=this['entity']['getLocalPo'+'sition']()['clone']();return _0x1692a2['x']+=_0x1e90e5,_0x1692a2['y']+=_0x463b2f,this['_screenToW'+'orld']['transformP'+'oint'](_0x1692a2,_0x1692a2),_0x1692a2;}['onLayersCh'+'anged'](_0x2d72a9,_0xf71691){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x2d72a9['off']('add',this['onLayerAdd'+'ed'],this),_0x2d72a9['off']('remove',this['onLayerRem'+'oved'],this),_0xf71691['on']('add',this['onLayerAdd'+'ed'],this),_0xf71691['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5f03cb){this['layers']['indexOf'](_0x5f03cb['id'])<0x1250+0x2b+-0x127b||(this['_image']?_0x5f03cb['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x5f03cb['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x348eb8){this['layers']['indexOf'](_0x348eb8['id'])<0x1261+0x20bc+0x331d*-0x1||(this['_image']?_0x348eb8['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x348eb8['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x182a3e;const _0x14ec03=this['system']['app']['scene'],_0xfe798e=_0x14ec03['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x14ec03['on']('set:layers',this['onLayersCh'+'anged'],this),_0xfe798e&&(this['_evtLayerA'+'dded']=_0xfe798e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xfe798e['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x1668+-0x2*0x1258+0xe48&&((_0x182a3e=this['system']['app']['batcher'])==null||_0x182a3e['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x35c449,_0x9c671b,_0x5e8a3a,_0x4905ba;const _0x2f68f9=this['system']['app']['scene']['layers'];(_0x35c449=this['_evtLayers'+'Changed'])==null||_0x35c449['off'](),this['_evtLayers'+'Changed']=null,_0x2f68f9&&((_0x9c671b=this['_evtLayerA'+'dded'])==null||_0x9c671b['off'](),this['_evtLayerA'+'dded']=null,(_0x5e8a3a=this['_evtLayerR'+'emoved'])==null||_0x5e8a3a['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x2512+0x14c9*-0x1+-0x1049&&((_0x4905ba=this['system']['app']['batcher'])==null||_0x4905ba['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x2006b7,_0x31ea66){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0xe7ccf1=this['_absRight']-this['_absLeft'],_0x308a01=this['_absTop']-this['_absBottom'];_0x2006b7?this['_setWidth'](_0xe7ccf1):this['_setCalcul'+'atedWidth'](_0xe7ccf1,!(-0x9f7+0x1*-0x5bc+-0x5*-0x324)),_0x31ea66?this['_setHeight'](_0x308a01):this['_setCalcul'+'atedHeight'](_0x308a01,!(0x1e97+-0x128+-0x1d6e));const _0xef351d=this['entity']['getLocalPo'+'sition']();_0xef351d['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0xef351d['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0xef351d),this['_sizeDirty']=!(0xf72+-0xa5b+-0x516);}['_setWidth'](_0x485307){this['_width']=_0x485307,this['_setCalcul'+'atedWidth'](_0x485307,!(0x4f9*0x2+-0x1*0x150b+-0x58d*-0x2)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x7722b8){this['_height']=_0x7722b8,this['_setCalcul'+'atedHeight'](_0x7722b8,!(0x65*0x5e+-0xce7+-0x5*0x4d6)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x54a6cc,_0x1859f2){if(!(Math['abs'](_0x54a6cc-this['_calculate'+'dWidth'])<=-0x975+0x138a+-0xa15+0.0001)){if(this['_calculate'+'dWidth']=_0x54a6cc,this['entity']['_dirtifyLo'+'cal'](),_0x1859f2){const _0x12efb9=this['entity']['getLocalPo'+'sition'](),_0x32e95f=this['_pivot'];this['_margin']['x']=_0x12efb9['x']-this['_calculate'+'dWidth']*_0x32e95f['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x3274bc,_0x57bcab){if(!(Math['abs'](_0x3274bc-this['_calculate'+'dHeight'])<=-0x6*-0x63d+0x13*0x14d+-0x1*0x3e25+0.0001)){if(this['_calculate'+'dHeight']=_0x3274bc,this['entity']['_dirtifyLo'+'cal'](),_0x57bcab){const _0x20f8e3=this['entity']['getLocalPo'+'sition'](),_0x324eab=this['_pivot'];this['_margin']['y']=_0x20f8e3['y']-this['_calculate'+'dHeight']*_0x324eab['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x5b69c6=this['entity']['_children'];for(let _0x192302=-0xfd7+-0xd32+0x1d09*0x1,_0x2e8b1b=_0x5b69c6['length'];_0x192302<_0x2e8b1b;_0x192302++)_0x5b69c6[_0x192302]['element']&&(_0x5b69c6[_0x192302]['element']['_anchorDir'+'ty']=!(-0x20ba+0x1e*0x12b+0x4*-0x94),_0x5b69c6[_0x192302]['element']['_sizeDirty']=!(0x21+0x15c6+-0x15e7));}['addModelTo'+'Layers'](_0x4bcc93){this['_addedMode'+'ls']['push'](_0x4bcc93);for(let _0x2a9e67=-0x1*0x2239+-0xb89*-0x1+0x16b0;_0x2a9e67<this['layers']['length'];_0x2a9e67++){const _0xae0a10=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2a9e67]);_0xae0a10&&_0xae0a10['addMeshIns'+'tances'](_0x4bcc93['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x5303ed){const _0x1c6e06=this['_addedMode'+'ls']['indexOf'](_0x5303ed);_0x1c6e06>=-0xeef+-0x1bee+0x2add*0x1&&this['_addedMode'+'ls']['splice'](_0x1c6e06,0x682+0x20fd+-0x277e);for(let _0x46d963=0x736+-0x221c+0x1ae6;_0x46d963<this['layers']['length'];_0x46d963++){const _0x3b0ab8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x46d963]);_0x3b0ab8&&_0x3b0ab8['removeMesh'+'Instances'](_0x5303ed['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x3a48a7=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x3a48a7&&(this['_maskOffse'+'t']=0xc88+0x235b+-0x2fe3+0.5,this['_offsetRea'+'dAt']=_0x3a48a7);const _0x2f8627=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0xb3*0x31+0xa5a+0x17e9+0.001,_0x2f8627;}['isVisibleF'+'orCamera'](_0x45aeaf){let _0x3e9644,_0x3874ce,_0x111552,_0x4b2565;if(this['maskedBy']){const _0x413a23=this['maskedBy']['element']['screenCorn'+'ers'];_0x3e9644=Math['min'](Math['min'](_0x413a23[0x25ad+0x238f+-0x493c]['x'],_0x413a23[-0x21f7+-0x1*-0x641+0x58b*0x5]['x']),Math['min'](_0x413a23[-0x1*0x1bb+-0x224c+0x2409]['x'],_0x413a23[-0x1ee8*-0x1+-0x1d3+-0x1d12*0x1]['x'])),_0x3874ce=Math['max'](Math['max'](_0x413a23[0x1*0x9f7+-0x114+0x8e3*-0x1]['x'],_0x413a23[0x1e75+-0x1696+-0x7de]['x']),Math['max'](_0x413a23[0x7c3+-0x1946+0xf*0x12b]['x'],_0x413a23[0x1645+0x2*-0xd+-0x1628]['x'])),_0x4b2565=Math['min'](Math['min'](_0x413a23[-0x17b5+-0x146+-0x4ff*-0x5]['y'],_0x413a23[-0x1*-0x1de3+-0x46*0x3d+-0xd34]['y']),Math['min'](_0x413a23[0xf*0x99+-0x24cb+0xdeb*0x2]['y'],_0x413a23[0x10f3*0x1+-0xdc2*-0x2+-0x1*0x2c74]['y'])),_0x111552=Math['max'](Math['max'](_0x413a23[-0x258+-0x221d+-0x2475*-0x1]['y'],_0x413a23[0x2*-0x13c+0x2c*0x2b+0x4eb*-0x1]['y']),Math['max'](_0x413a23[-0x20c5+0x1786+0x67*0x17]['y'],_0x413a23[-0x1*-0x117f+0x9*-0x79+-0x3*0x469]['y']));}else{const _0x21c911=this['system']['app']['graphicsDe'+'vice']['width'],_0x5251f3=this['system']['app']['graphicsDe'+'vice']['height'],_0x2975b2=_0x45aeaf['_rect']['z']*_0x21c911,_0x4745d5=_0x45aeaf['_rect']['w']*_0x5251f3;_0x3e9644=_0x45aeaf['_rect']['x']*_0x21c911,_0x3874ce=_0x3e9644+_0x2975b2,_0x111552=(0x1*-0x169f+-0x1c*-0x11+0x14c4-_0x45aeaf['_rect']['y'])*_0x5251f3,_0x4b2565=_0x111552-_0x4745d5;}const _0x32a9df=this['screenCorn'+'ers'],_0x473532=Math['min'](Math['min'](_0x32a9df[0x1963+0x116b+-0x1*0x2ace]['x'],_0x32a9df[0x1*-0xa6a+0x117a+0x70f*-0x1]['x']),Math['min'](_0x32a9df[-0x15cf+-0xc68+0x2239*0x1]['x'],_0x32a9df[-0x10c8+-0x241*0x11+-0x371c*-0x1]['x'])),_0x7c8470=Math['max'](Math['max'](_0x32a9df[-0x1337+0x16*-0x6b+-0x1*-0x1c69]['x'],_0x32a9df[0x13d*0x1d+-0x898+0x1*-0x1b50]['x']),Math['max'](_0x32a9df[0x19eb+0x17ea+0x31d3*-0x1]['x'],_0x32a9df[-0x7*-0x127+-0x5f9*0x1+-0x29*0xd]['x'])),_0x99eda2=Math['min'](Math['min'](_0x32a9df[0x1233*-0x1+0x44*0xd+-0x19*-0x97]['y'],_0x32a9df[-0x22d1+-0x2*0x3b2+0x2a36]['y']),Math['min'](_0x32a9df[0x190d*0x1+-0xe0f+0xafc*-0x1]['y'],_0x32a9df[0x3*-0x907+-0x97a+0x1*0x2492]['y'])),_0x1aff3b=Math['max'](Math['max'](_0x32a9df[-0x313*-0x4+-0x567+-0x1*0x6e5]['y'],_0x32a9df[-0x1bf7*0x1+-0x1042+0x4ea*0x9]['y']),Math['max'](_0x32a9df[-0x7*0x64+0x5d9+-0x31b]['y'],_0x32a9df[0xf8+-0x1e1f+0x1d2a]['y']));return!(_0x7c8470<_0x3e9644||_0x473532>_0x3874ce||_0x99eda2>_0x111552||_0x1aff3b<_0x4b2565);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0xb*-0x13a+-0x1b8f+0x5*0x836);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xdf7+0x13*-0x201+0x340b);}['_dirtyBatc'+'h'](){var _0x2702fc;this['batchGroup'+'Id']!==-(-0x1b69*0x1+-0x235*0xa+-0x317c*-0x1)&&((_0x2702fc=this['system']['app']['batcher'])==null||_0x2702fc['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(-0x50*-0x76+-0x10ca+-0x1416);}}const NR=['enabled'];class zR extends Xe{constructor(_0x370440){super(_0x370440),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x370440['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x46dcc9=this['_defaultTe'+'xture']['lock'](),_0x5367e6=new Uint8Array(-0x13*-0x10c+0x1df5*0x1+-0x31d5*0x1);_0x5367e6[-0x154c+-0x1fa0+-0x3*-0x11a4]=0x3c9*-0x2+-0x10*0x2+0x8b1,_0x5367e6[0x2*0x504+0x1e13*0x1+-0x281a]=0xf*-0xd7+0x246b+-0x16d3*0x1,_0x5367e6[-0x1368+-0x5*-0x275+0x721]=-0x3f*0x8e+-0x2188+0x4579,_0x5367e6[0x18cd+-0x4*-0x55d+-0x2e3e]=0x1858+-0x3a*-0x31+0x1*-0x2273,_0x46dcc9['set'](_0x5367e6),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x102a39,_0x2b85e7,_0x23b7af){_0x102a39['_beingInit'+'ialized']=!(0x87e*-0x3+0x2329+-0x1*0x9af),_0x2b85e7['anchor']!==void(0x20d7+-0x17c1+-0x916)&&(_0x2b85e7['anchor']instanceof Q?_0x102a39['anchor']['copy'](_0x2b85e7['anchor']):_0x102a39['anchor']['set'](_0x2b85e7['anchor'][-0x1a1b*-0x1+0x5*0x165+-0x2114],_0x2b85e7['anchor'][0x2ce*0x1+0x1cca+0x1f97*-0x1],_0x2b85e7['anchor'][0x232a*0x1+0x15*-0x5b+-0x1bb1],_0x2b85e7['anchor'][-0x16ea+0x15a*-0x4+0x1c55*0x1])),_0x2b85e7['pivot']!==void(0x26cb*0x1+-0x138e+0x5*-0x3d9)&&(_0x2b85e7['pivot']instanceof W?_0x102a39['pivot']['copy'](_0x2b85e7['pivot']):_0x102a39['pivot']['set'](_0x2b85e7['pivot'][0x375+-0x18b*-0xd+-0xe*0x1ae],_0x2b85e7['pivot'][-0x1c0b+-0x2b*0x5e+0x15eb*0x2]));const _0x2c18df=Math['abs'](_0x102a39['anchor']['x']-_0x102a39['anchor']['z'])>0x1c48+0x19*-0x87+-0x5*0x305+0.001,_0x2de776=Math['abs'](_0x102a39['anchor']['y']-_0x102a39['anchor']['w'])>-0xd6+-0x1af1+-0xd*-0x223+0.001;let _0x45c3b1=!(-0x1614+-0xabb+0x20d0),_0x2325fc;_0x2b85e7['margin']!==void(0xff2*0x1+0x1f3*-0x7+-0x24d)&&(_0x2b85e7['margin']instanceof Q?_0x102a39['margin']['copy'](_0x2b85e7['margin']):_0x102a39['_margin']['set'](_0x2b85e7['margin'][0x223c+0x2e*0x7b+-0x3856],_0x2b85e7['margin'][-0x503+-0x675+0xb79],_0x2b85e7['margin'][-0x19ec+0x1dd2+0x2*-0x1f2],_0x2b85e7['margin'][0x23f+0x3*0x803+-0x10d*0x19]),_0x45c3b1=!(0x151a+-0x1b31+0x617*0x1)),_0x2b85e7['left']!==void(0x1c04+-0x8*-0x269+0x4*-0xbd3)&&(_0x102a39['_margin']['x']=_0x2b85e7['left'],_0x45c3b1=!(-0xfb1+-0x25c4+-0x11*-0x325)),_0x2b85e7['bottom']!==void(0x9*-0x3eb+-0x863+0x2ba6)&&(_0x102a39['_margin']['y']=_0x2b85e7['bottom'],_0x45c3b1=!(0x179*-0x15+-0x79e+-0xfd*-0x27)),_0x2b85e7['right']!==void(-0x2460+0x1*-0x765+0x87*0x53)&&(_0x102a39['_margin']['z']=_0x2b85e7['right'],_0x45c3b1=!(0x6b7*0x2+-0x18d4+-0x1*-0xb66)),_0x2b85e7['top']!==void(-0x1a81*0x1+-0x1217*0x1+0x2*0x164c)&&(_0x102a39['_margin']['w']=_0x2b85e7['top'],_0x45c3b1=!(-0x3*-0x3e5+-0x578+-0x637)),_0x45c3b1&&(_0x102a39['margin']=_0x102a39['_margin']);let _0x360e69=!(-0xac4+-0x1210*0x1+0x1cd5);_0x2b85e7['width']!==void(-0xda2+-0x1d0d+0x2aaf)&&!_0x2c18df?_0x102a39['width']=_0x2b85e7['width']:_0x2c18df&&(_0x360e69=!(-0x2*-0x10c9+0xd64+-0x2*0x177b)),_0x2b85e7['height']!==void(0x115*-0x21+-0x52d+0x28e2)&&!_0x2de776?_0x102a39['height']=_0x2b85e7['height']:_0x2de776&&(_0x360e69=!(0x38b*0x4+0x16b6+-0x24e2)),_0x360e69&&(_0x102a39['anchor']=_0x102a39['anchor']),_0x2b85e7['enabled']!==void(0x1*0x5e+-0x17f1*0x1+-0x1793*-0x1)&&(_0x102a39['enabled']=_0x2b85e7['enabled']),_0x2b85e7['useInput']!==void(-0x1*-0xe15+0x9f9+0x180e*-0x1)&&(_0x102a39['useInput']=_0x2b85e7['useInput']),_0x2b85e7['fitMode']!==void(0x1*0x6d8+-0xb*-0x1d9+-0x1b2b)&&(_0x102a39['fitMode']=_0x2b85e7['fitMode']),_0x102a39['batchGroup'+'Id']=_0x2b85e7['batchGroup'+'Id']===void(-0x1fb4+0x1*-0x49d+0x2451)||_0x2b85e7['batchGroup'+'Id']===null?-(0x1d77*0x1+0x57b*0x2+-0x286c):_0x2b85e7['batchGroup'+'Id'],_0x2b85e7['layers']&&Array['isArray'](_0x2b85e7['layers'])&&(_0x102a39['layers']=_0x2b85e7['layers']['slice'](0x875+0x160b*-0x1+0xd96)),_0x2b85e7['type']!==void(-0x1332+-0xf9d+0x1*0x22cf)&&(_0x102a39['type']=_0x2b85e7['type']),_0x102a39['type']===rf?(_0x2b85e7['rect']!==void(0x89*-0x1d+0xd47*-0x1+0x1ccc)&&(_0x102a39['rect']=_0x2b85e7['rect']),_0x2b85e7['color']!==void(0x18*-0x184+0x7ee*0x4+-0x4a8*-0x1)&&(_0x2325fc=_0x2b85e7['color'],_0x2325fc instanceof Y||(_0x2325fc=new Y(_0x2b85e7['color'][-0x1f3e+-0x19fe+0x4a*0xc6],_0x2b85e7['color'][-0x1fb*0x11+0x177+0x5*0x671],_0x2b85e7['color'][-0x5c*0x1e+-0xb*0x251+-0x2445*-0x1])),_0x102a39['color']=_0x2325fc),_0x2b85e7['opacity']!==void(-0x312*-0x3+-0x1*0xd1f+0xb*0x5b)&&(_0x102a39['opacity']=_0x2b85e7['opacity']),_0x2b85e7['textureAss'+'et']!==void(-0xd31*-0x2+-0x16fb+-0xd*0x43)&&(_0x102a39['textureAss'+'et']=_0x2b85e7['textureAss'+'et']),_0x2b85e7['texture']&&(_0x102a39['texture']=_0x2b85e7['texture']),_0x2b85e7['spriteAsse'+'t']!==void(0x3c2+-0x13*-0x30+-0x2*0x3a9)&&(_0x102a39['spriteAsse'+'t']=_0x2b85e7['spriteAsse'+'t']),_0x2b85e7['sprite']&&(_0x102a39['sprite']=_0x2b85e7['sprite']),_0x2b85e7['spriteFram'+'e']!==void(0x11*-0x139+-0x38+0x11b*0x13)&&(_0x102a39['spriteFram'+'e']=_0x2b85e7['spriteFram'+'e']),_0x2b85e7['pixelsPerU'+'nit']!==void(-0x1430+-0x11b*0x19+0x2fd3)&&_0x2b85e7['pixelsPerU'+'nit']!==null&&(_0x102a39['pixelsPerU'+'nit']=_0x2b85e7['pixelsPerU'+'nit']),_0x2b85e7['materialAs'+'set']!==void(-0x15c1+-0x1*-0x1ac2+0x7*-0xb7)&&(_0x102a39['materialAs'+'set']=_0x2b85e7['materialAs'+'set']),_0x2b85e7['material']&&(_0x102a39['material']=_0x2b85e7['material']),_0x2b85e7['mask']!==void(0x1*-0x11ab+0x262c+-0x1481*0x1)&&(_0x102a39['mask']=_0x2b85e7['mask'])):_0x102a39['type']===ex&&(_0x2b85e7['autoWidth']!==void(0x962+0x601*0x1+-0xf63)&&(_0x102a39['autoWidth']=_0x2b85e7['autoWidth']),_0x2b85e7['autoHeight']!==void(-0x2177*0x1+0x5df+0xdcc*0x2)&&(_0x102a39['autoHeight']=_0x2b85e7['autoHeight']),_0x2b85e7['rtlReorder']!==void(-0x14ef+-0x1d73+-0x2*-0x1931)&&(_0x102a39['rtlReorder']=_0x2b85e7['rtlReorder']),_0x2b85e7['unicodeCon'+'verter']!==void(-0x1*0x1517+-0x1*-0x61f+0xef8)&&(_0x102a39['unicodeCon'+'verter']=_0x2b85e7['unicodeCon'+'verter']),_0x2b85e7['text']!==null&&_0x2b85e7['text']!==void(-0x1c24+0x71*-0x3d+0x3711)?_0x102a39['text']=_0x2b85e7['text']:_0x2b85e7['key']!==null&&_0x2b85e7['key']!==void(0x1472+-0xf16*0x2+-0xf*-0xa6)&&(_0x102a39['key']=_0x2b85e7['key']),_0x2b85e7['color']!==void(-0xd35+0x71*0x3e+-0x1d*0x7d)&&(_0x2325fc=_0x2b85e7['color'],_0x2325fc instanceof Y||(_0x2325fc=new Y(_0x2325fc[0x97c+-0x1f6e+0x15f2],_0x2325fc[0x1185+-0x1*0x1d53+0xbcf*0x1],_0x2325fc[-0xe58+-0x1443+-0x229d*-0x1])),_0x102a39['color']=_0x2325fc),_0x2b85e7['opacity']!==void(-0x23*0x6f+-0x1ca5+0x2bd2)&&(_0x102a39['opacity']=_0x2b85e7['opacity']),_0x2b85e7['spacing']!==void(-0x23de+0x1*0xb5d+0x1881)&&(_0x102a39['spacing']=_0x2b85e7['spacing']),_0x2b85e7['fontSize']!==void(-0x1*-0x375+-0x10*0x14a+0x112b)&&(_0x102a39['fontSize']=_0x2b85e7['fontSize'],_0x2b85e7['lineHeight']||(_0x102a39['lineHeight']=_0x2b85e7['fontSize'])),_0x2b85e7['lineHeight']!==void(-0xb*0x33b+-0xbe5+0x2f6e*0x1)&&(_0x102a39['lineHeight']=_0x2b85e7['lineHeight']),_0x2b85e7['maxLines']!==void(0x1762+0x1cfe+-0x1a30*0x2)&&(_0x102a39['maxLines']=_0x2b85e7['maxLines']),_0x2b85e7['wrapLines']!==void(-0x1a27+-0x9*0x18a+0x2801)&&(_0x102a39['wrapLines']=_0x2b85e7['wrapLines']),_0x2b85e7['minFontSiz'+'e']!==void(-0x3*-0x841+0x1*0xd55+-0x4c3*0x8)&&(_0x102a39['minFontSiz'+'e']=_0x2b85e7['minFontSiz'+'e']),_0x2b85e7['maxFontSiz'+'e']!==void(0x989*-0x2+-0x194b*0x1+0x115*0x29)&&(_0x102a39['maxFontSiz'+'e']=_0x2b85e7['maxFontSiz'+'e']),_0x2b85e7['autoFitWid'+'th']&&(_0x102a39['autoFitWid'+'th']=_0x2b85e7['autoFitWid'+'th']),_0x2b85e7['autoFitHei'+'ght']&&(_0x102a39['autoFitHei'+'ght']=_0x2b85e7['autoFitHei'+'ght']),_0x2b85e7['fontAsset']!==void(-0x11a2*-0x1+0x4f0+0x1*-0x1692)&&(_0x102a39['fontAsset']=_0x2b85e7['fontAsset']),_0x2b85e7['font']!==void(0xc8d+-0x12dc+0x55*0x13)&&(_0x102a39['font']=_0x2b85e7['font']),_0x2b85e7['alignment']!==void(0x1*-0x112d+-0x1223*-0x2+-0x1319*0x1)&&(_0x102a39['alignment']=_0x2b85e7['alignment']),_0x2b85e7['outlineCol'+'or']!==void(-0x1dbb+-0xe8a+0x2c45)&&(_0x102a39['outlineCol'+'or']=_0x2b85e7['outlineCol'+'or']),_0x2b85e7['outlineThi'+'ckness']!==void(-0xdd9+0x4a2+0x937)&&(_0x102a39['outlineThi'+'ckness']=_0x2b85e7['outlineThi'+'ckness']),_0x2b85e7['shadowColo'+'r']!==void(0x2656+0x1280*0x1+-0x38d6)&&(_0x102a39['shadowColo'+'r']=_0x2b85e7['shadowColo'+'r']),_0x2b85e7['shadowOffs'+'et']!==void(-0x7bd+0x1551+-0x9e*0x16)&&(_0x102a39['shadowOffs'+'et']=_0x2b85e7['shadowOffs'+'et']),_0x2b85e7['enableMark'+'up']!==void(0x1723*-0x1+-0x35*-0x37+-0x10*-0xbc)&&(_0x102a39['enableMark'+'up']=_0x2b85e7['enableMark'+'up']));const _0x11be2c=_0x102a39['_parseUpTo'+'Screen']();_0x11be2c['screen']&&_0x102a39['_updateScr'+'een'](_0x11be2c['screen']),super['initialize'+'ComponentD'+'ata'](_0x102a39,_0x2b85e7,_0x23b7af),_0x102a39['_beingInit'+'ialized']=!(0x623*-0x6+-0xc87*-0x3+-0x2*0x61),_0x102a39['type']===rf&&_0x102a39['_image']['_meshDirty']&&_0x102a39['_image']['_updateMes'+'h'](_0x102a39['_image']['mesh']);}['onAddCompo'+'nent'](_0x4de5f6,_0x381552){_0x4de5f6['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x569f69,_0xde8b8f){_0xde8b8f['onRemove']();}['cloneCompo'+'nent'](_0x4047b7,_0x29eab3){const _0x40f0b6=_0x4047b7['element'],_0x113c49={'enabled':_0x40f0b6['enabled'],'width':_0x40f0b6['width'],'height':_0x40f0b6['height'],'anchor':_0x40f0b6['anchor']['clone'](),'pivot':_0x40f0b6['pivot']['clone'](),'margin':_0x40f0b6['margin']['clone'](),'alignment':_0x40f0b6['alignment']&&_0x40f0b6['alignment']['clone']()||_0x40f0b6['alignment'],'autoWidth':_0x40f0b6['autoWidth'],'autoHeight':_0x40f0b6['autoHeight'],'type':_0x40f0b6['type'],'rect':_0x40f0b6['rect']&&_0x40f0b6['rect']['clone']()||_0x40f0b6['rect'],'rtlReorder':_0x40f0b6['rtlReorder'],'unicodeConverter':_0x40f0b6['unicodeCon'+'verter'],'materialAsset':_0x40f0b6['materialAs'+'set'],'material':_0x40f0b6['material'],'color':_0x40f0b6['color']&&_0x40f0b6['color']['clone']()||_0x40f0b6['color'],'opacity':_0x40f0b6['opacity'],'textureAsset':_0x40f0b6['textureAss'+'et'],'texture':_0x40f0b6['texture'],'spriteAsset':_0x40f0b6['spriteAsse'+'t'],'sprite':_0x40f0b6['sprite'],'spriteFrame':_0x40f0b6['spriteFram'+'e'],'pixelsPerUnit':_0x40f0b6['pixelsPerU'+'nit'],'spacing':_0x40f0b6['spacing'],'lineHeight':_0x40f0b6['lineHeight'],'wrapLines':_0x40f0b6['wrapLines'],'layers':_0x40f0b6['layers'],'fontSize':_0x40f0b6['fontSize'],'minFontSize':_0x40f0b6['minFontSiz'+'e'],'maxFontSize':_0x40f0b6['maxFontSiz'+'e'],'autoFitWidth':_0x40f0b6['autoFitWid'+'th'],'autoFitHeight':_0x40f0b6['autoFitHei'+'ght'],'maxLines':_0x40f0b6['maxLines'],'fontAsset':_0x40f0b6['fontAsset'],'font':_0x40f0b6['font'],'useInput':_0x40f0b6['useInput'],'fitMode':_0x40f0b6['fitMode'],'batchGroupId':_0x40f0b6['batchGroup'+'Id'],'mask':_0x40f0b6['mask'],'outlineColor':_0x40f0b6['outlineCol'+'or']&&_0x40f0b6['outlineCol'+'or']['clone']()||_0x40f0b6['outlineCol'+'or'],'outlineThickness':_0x40f0b6['outlineThi'+'ckness'],'shadowColor':_0x40f0b6['shadowColo'+'r']&&_0x40f0b6['shadowColo'+'r']['clone']()||_0x40f0b6['shadowColo'+'r'],'shadowOffset':_0x40f0b6['shadowOffs'+'et']&&_0x40f0b6['shadowOffs'+'et']['clone']()||_0x40f0b6['shadowOffs'+'et'],'enableMarkup':_0x40f0b6['enableMark'+'up']};return _0x40f0b6['key']!==void(-0x15*0x155+-0xf4+-0x5*-0x5c9)&&_0x40f0b6['key']!==null?_0x113c49['key']=_0x40f0b6['key']:_0x113c49['text']=_0x40f0b6['text'],this['addCompone'+'nt'](_0x29eab3,_0x113c49);}['getTextEle'+'mentMateri'+'al'](_0x2cfc7e,_0xc6c93,_0x3e8dd8){const _0x5abeea=(_0x2cfc7e&&-0x22f5+-0xdb2+-0x8*-0x615)|(_0xc6c93&&-0x609+0x3*-0x5f3+0x17e4)|(_0x3e8dd8&&0x2589+0x38f+-0x2*0x148a);let _0x1aebad=this['_defaultTe'+'xtMaterial'+'s'][_0x5abeea];if(_0x1aebad)return _0x1aebad;let _0x5f09c2='TextMateri'+'al';return _0x1aebad=new cs(),_0xc6c93?(_0x1aebad['msdfMap']=this['_defaultTe'+'xture'],_0x1aebad['msdfTextAt'+'tribute']=_0x3e8dd8,_0x1aebad['emissive']['set'](0x49*0x65+0xf48+-0x2c14,0x19d*-0xf+-0x13e4+-0x44*-0xa6,-0x5*0x5e+0x383*0x4+-0x7d*0x19)):(_0x5f09c2='Bitmap'+_0x5f09c2,_0x1aebad['emissive']['set'](0xe3e*0x1+-0xaeb*-0x1+0xb8*-0x23,-0x1402+0x2*0x36e+-0x7*-0x1e1,0x2*-0xa8d+0x1296+0x285),_0x1aebad['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x1aebad['opacityMap']=this['_defaultTe'+'xture'],_0x1aebad['opacityMap'+'Channel']='a'),_0x2cfc7e&&(_0x5f09c2='ScreenSpac'+'e'+_0x5f09c2,_0x1aebad['depthTest']=!(-0x221e+-0x1169*0x2+0x44f1)),_0x1aebad['name']='default'+_0x5f09c2,_0x1aebad['useLightin'+'g']=!(0x1a0+-0x5f2*0x1+0x453),_0x1aebad['useTonemap']=!(-0x70f+0x140+-0x1f*-0x30),_0x1aebad['useFog']=!(0x7*0x4f9+0x193b+-0x3c09),_0x1aebad['useSkybox']=!(0x1fd7+-0x5c*-0x21+-0x2bb2),_0x1aebad['diffuse']['set'](0x19*0x64+0x20f4+-0x2ab8,-0xee3*-0x2+-0x1b06+-0x2*0x160,-0x2378+-0x78d+0x2b05),_0x1aebad['opacity']=0x115a*0x2+-0x761+-0x1b53*0x1+0.5,_0x1aebad['blendType']=hr,_0x1aebad['depthWrite']=!(0x2*-0x2cf+-0x2046+0x25e5),_0x1aebad['emissiveVe'+'rtexColor']=!(-0x1b03+0x26e0+-0xbdd*0x1),_0x1aebad['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x5abeea]=_0x1aebad,_0x1aebad;}['_createBas'+'eImageMate'+'rial'](){const _0x45c43b=new cs();return _0x45c43b['diffuse']['set'](-0x17d5*0x1+-0xac4+0x11*0x209,0x21*0xcb+0x165f+0x39*-0xda,-0x323*-0x9+-0x3*-0x91d+0x3792*-0x1),_0x45c43b['emissive']['set'](-0x1c63+-0x2*-0x412+0x1b*0xc0,0x1c72+0x1d2*-0x5+0x1357*-0x1,-0x1292*-0x2+0x768+-0x2c8b),_0x45c43b['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x45c43b['opacityMap']=this['_defaultTe'+'xture'],_0x45c43b['opacityMap'+'Channel']='a',_0x45c43b['useLightin'+'g']=!(-0x19e1*-0x1+-0x867+-0x47*0x3f),_0x45c43b['useTonemap']=!(-0x1fcc+0xabd*0x2+0xa53),_0x45c43b['useFog']=!(0x1*-0x293+0x1*-0x1f39+0x21cd),_0x45c43b['useSkybox']=!(-0x1597+-0x7a+0x1612),_0x45c43b['blendType']=hr,_0x45c43b['depthWrite']=!(-0x68*-0x43+-0x2*-0x486+-0x2443*0x1),_0x45c43b;}['getImageEl'+'ementMater'+'ial'](_0x4fea12,_0x447006,_0x5dbe4c,_0x2321bf){return _0x4fea12?_0x447006?_0x5dbe4c?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x1025+0x164d+-0x2671),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x13b0+0x1f90+-0x3*0x3f5,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x1ca6+0x5*-0x1cd+0x25a8),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x20b*-0x2+0x17c5+-0x13ae),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x1020+-0x117*-0x2+0xdf3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0xe99+0xc2*0x15+-0x70*0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x2321bf?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x2078+0x1*-0x24dd+0x1*0x466),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x15*0x175+-0xdfb+-0x109d,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x1f35*0x1+0x1d*-0xca+0x1208*0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x5*-0x71a+0x15c9*0x1+0xdba),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x2331+-0xfbd+-0x1373),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x1b*-0x32+0x1*-0x59a+0x55),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x152*-0x1+0x13f5+-0x2*0xaa3),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x13*0x3b+-0xaab*-0x2+-0x19b6,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x1*0xee5+-0xb89*0x1+0x35b*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x219*0x11+-0x10f6+0x694*0x8),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1dce+0x9*0x1fe+0x1*-0x2fbb),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x182*-0x1+0x126c+0x27*-0x6f),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x5dbe4c?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x14*-0x1+-0x58d+0x57a),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x2321bf?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x1*0x1093+-0x1*0xb9e+-0x4f4),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x26*0x22+0x21ab+0x2*-0x135b),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x447006?_0x5dbe4c?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x1*-0x186e+-0xd0a*0x1+-0xb63,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x17*-0xd7+0x2*-0xd83+0x5cb*0x8),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x22d1+0xe3f*0x2+-0x3f4e*0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x1c61*-0x1+0x1*0xead+0xdb5),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x17b6+-0x626+0x1ddd),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x2321bf?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x1017+-0x5*0xa1+-0xcf1,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x57a+-0x1ed6+0x195d),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x39e+-0x10d*-0x9+-0xd12),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x40b+0x5e3*0x3+-0xd9d),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x2*-0x2ac+-0x1bfd+0x2*0xb53),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x1309+-0xd93+0x209d,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0xf23+-0x8b*0x36+0xe30),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x1568+0x4*-0xd5+-0x7*0x295),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x2047+-0x44*-0x91+-0xd*0x572),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x11fa+-0xb81+-0x678),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x5dbe4c?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x2321bf?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x4c0db3){this['_unicodeCo'+'nverter']=_0x4c0db3;}['registerRt'+'lReorder'](_0x402052){this['_rtlReorde'+'r']=_0x402052;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x37ea2b,_0x4e7978){super(_0x37ea2b,_0x4e7978),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x2*0x865+0x257d+-0x14b3),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new W(-0x181c+0x2464+-0xc48,-0xd*-0x2a5+-0xa6*0xf+0x18a7*-0x1),this['_linearSpr'+'ingX']=!(-0x2*-0x1385+-0x233a+-0x3cf),this['_linearSti'+'ffnessX']=-0x1e94+0x5*-0xb3+0x2213,this['_linearDam'+'pingX']=0x13*0xe5+0x19f7*0x1+-0x2af5*0x1,this['_linearEqu'+'ilibriumX']=-0x26ed*-0x1+0x1647+0x2*-0x1e9a,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new W(0x127d+0x1079+-0x22f6,0x1c93+-0xe8*0x17+-0x7bb),this['_linearSpr'+'ingY']=!(-0xe*-0x13e+-0x1*-0x83+0x8f3*-0x2),this['_linearSti'+'ffnessY']=-0x2*-0x95f+-0x3*0x5e8+-0x106,this['_linearDam'+'pingY']=-0x16cd+-0xe6c+0x253a,this['_linearEqu'+'ilibriumY']=-0x8db*-0x2+0x3*0xc1f+-0x3613,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new W(0x26bb*0x1+-0x1c3d+0x4f*-0x22,0x1b7f+-0x25db*0x1+0xa5c),this['_linearSpr'+'ingZ']=!(-0x18c5+-0xefb+0x27c1),this['_linearSti'+'ffnessZ']=-0x1*-0x140d+-0xd4e*0x2+0x68f,this['_linearDam'+'pingZ']=0x22fe+-0x503*0x1+-0x1*0x1dfa,this['_linearEqu'+'ilibriumZ']=0x1b54+0x21cd+0x1*-0x3d21,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new W(0x1*0x1169+-0x25e5*-0x1+-0x374e,0x1da*0x14+0x39*-0x8f+-0x531),this['_angularSp'+'ringX']=!(0x1621+0x2*0x303+-0x3*0x962),this['_angularSt'+'iffnessX']=-0x16d6+-0x10f*-0x1c+-0x6ce,this['_angularDa'+'mpingX']=0x1d89*-0x1+-0x1df2*-0x1+0x2*-0x34,this['_angularEq'+'uilibriumX']=-0x85c+-0xe9*0x14+0x28*0xaa,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new W(-0x52*0x55+0x1277+0x8c3*0x1,0x232*-0x1+0x1*0x922+-0x6f0),this['_angularSp'+'ringY']=!(-0x1113+-0x4*0x9ad+0x37c8),this['_angularSt'+'iffnessY']=-0x2c8*-0xe+-0xa*-0x305+0x2*-0x2291,this['_angularDa'+'mpingY']=0x19b5+0x1e02+0x1292*-0x3,this['_angularEq'+'uilibriumY']=0xd86+0xeaf+-0x3*0x967,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new W(0xa*0x2b3+0x1*0x5c2+-0x20c0,0xb13+-0x6e*0x1d+0x163),this['_angularSp'+'ringZ']=!(-0xa53+0x1*-0x25e1+0x3035),this['_angularEq'+'uilibriumZ']=0x1acd+0x1*-0x6d+-0x1a60,this['_angularDa'+'mpingZ']=0x1592*-0x1+-0x135a+0x28ed,this['_angularSt'+'iffnessZ']=0x16ad+-0x14bf+0xf7*-0x2,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x13ed42){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x13ed42,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x24dc57){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x24dc57,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x537e36){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x537e36&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x537e36),this['_breakForc'+'e']=_0x537e36);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x184362){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x184362,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0xaafb00){this['_angularLi'+'mitsX']['equals'](_0xaafb00)||(this['_angularLi'+'mitsX']['copy'](_0xaafb00),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x3df1d7){this['_angularMo'+'tionX']!==_0x3df1d7&&(this['_angularMo'+'tionX']=_0x3df1d7,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x323e20){this['_angularLi'+'mitsY']['equals'](_0x323e20)||(this['_angularLi'+'mitsY']['copy'](_0x323e20),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0xa42d81){this['_angularMo'+'tionY']!==_0xa42d81&&(this['_angularMo'+'tionY']=_0xa42d81,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x2b8a29){this['_angularLi'+'mitsZ']['equals'](_0x2b8a29)||(this['_angularLi'+'mitsZ']['copy'](_0x2b8a29),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x684d0d){this['_angularMo'+'tionZ']!==_0x684d0d&&(this['_angularMo'+'tionZ']=_0x684d0d,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x18fa84){this['_linearLim'+'itsX']['equals'](_0x18fa84)||(this['_linearLim'+'itsX']['copy'](_0x18fa84),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x4a8292){this['_linearMot'+'ionX']!==_0x4a8292&&(this['_linearMot'+'ionX']=_0x4a8292,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x7d0273){this['_linearLim'+'itsY']['equals'](_0x7d0273)||(this['_linearLim'+'itsY']['copy'](_0x7d0273),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x52d949){this['_linearMot'+'ionY']!==_0x52d949&&(this['_linearMot'+'ionY']=_0x52d949,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x138938){this['_linearLim'+'itsZ']['equals'](_0x138938)||(this['_linearLim'+'itsZ']['copy'](_0x138938),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x41c147){this['_linearMot'+'ionZ']!==_0x41c147&&(this['_linearMot'+'ionZ']=_0x41c147,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x21423f,_0x331806){const _0xb854e0=_0x21423f['getTransla'+'tion'](),_0x47a0bd=new se();_0x47a0bd['setFromMat'+'4'](_0x21423f);const _0x113a72=new Ammo['btVector3'](_0xb854e0['x'],_0xb854e0['y'],_0xb854e0['z']),_0x23876d=new Ammo['btQuaterni'+'on'](_0x47a0bd['x'],_0x47a0bd['y'],_0x47a0bd['z'],_0x47a0bd['w']);_0x331806['setOrigin'](_0x113a72),_0x331806['setRotatio'+'n'](_0x23876d),Ammo['destroy'](_0x113a72),Ammo['destroy'](_0x23876d);}['_updateAng'+'ularLimits'](){const _0x3e624f=this['_constrain'+'t'];if(_0x3e624f){let _0x2e46a6,_0x5e79ef,_0x5c966c,_0x4c7a0b,_0x3f90ff,_0x280a3c;this['_angularMo'+'tionX']===Vn?(_0x2e46a6=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x4c7a0b=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x2e46a6=-0x22d*0x1+-0x8*0x21d+0x1316,_0x4c7a0b=0x1*-0x214f+-0x3*0x4be+0x2f89):_0x2e46a6=_0x4c7a0b=-0x1627*-0x1+0xcbb*-0x1+0x43*-0x24,this['_angularMo'+'tionY']===Vn?(_0x5e79ef=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x3f90ff=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x5e79ef=-0x80*-0x43+0x1b97*0x1+-0x1e8b*0x2,_0x3f90ff=0x8b6+0x2613+0x7*-0x6af):_0x5e79ef=_0x3f90ff=-0x3d*0x29+-0xc75+0x163a,this['_angularMo'+'tionZ']===Vn?(_0x5c966c=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x280a3c=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x5c966c=-0x1db0+0x6b*-0x57+0x5*0xd36,_0x280a3c=-0x99*0x16+0x13*0x205+-0x1939):_0x5c966c=_0x280a3c=-0x1*0x1ec5+-0x5*-0x79f+-0x3*0x272;const _0x319041=new Ammo['btVector3'](_0x2e46a6,_0x5e79ef,_0x5c966c);_0x3e624f['setAngular'+'LowerLimit'](_0x319041),_0x319041['setValue'](_0x4c7a0b,_0x3f90ff,_0x280a3c),_0x3e624f['setAngular'+'UpperLimit'](_0x319041),Ammo['destroy'](_0x319041);}}['_updateLin'+'earLimits'](){const _0x53be66=this['_constrain'+'t'];if(_0x53be66){let _0x44cc7e,_0x1668b8,_0x2b0e95,_0x83c4cf,_0x26a3e0,_0x56ec5e;this['_linearMot'+'ionX']===Vn?(_0x44cc7e=this['_linearLim'+'itsX']['x'],_0x83c4cf=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x44cc7e=-0x19*0x18e+-0x1eb2+-0x4591*-0x1,_0x83c4cf=-0x10a4+-0xd2a+0x1dce):_0x44cc7e=_0x83c4cf=-0x1104+0x10c*-0x20+0x3284,this['_linearMot'+'ionY']===Vn?(_0x1668b8=this['_linearLim'+'itsY']['x'],_0x26a3e0=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x1668b8=-0x2b0+-0x175f+0x8*0x342,_0x26a3e0=-0xf49+-0x1e37+0xe*0x340):_0x1668b8=_0x26a3e0=0x3e*-0x34+0x165+-0xb33*-0x1,this['_linearMot'+'ionZ']===Vn?(_0x2b0e95=this['_linearLim'+'itsZ']['x'],_0x56ec5e=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x2b0e95=-0x21*0x3+-0x192a+0x198e,_0x56ec5e=0x224d+-0xbcb+-0x1682):_0x2b0e95=_0x56ec5e=0x1*-0x24a8+0x1f*0x9+-0x5*-0x71d;const _0x4d71d9=new Ammo['btVector3'](_0x44cc7e,_0x1668b8,_0x2b0e95);_0x53be66['setLinearL'+'owerLimit'](_0x4d71d9),_0x4d71d9['setValue'](_0x83c4cf,_0x26a3e0,_0x56ec5e),_0x53be66['setLinearU'+'pperLimit'](_0x4d71d9),Ammo['destroy'](_0x4d71d9);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x303f79=new q(),_0x913e51=this['_entityA']['rigidbody']['body'];_0x913e51['activate']();const _0x407d31=this['entity']['getWorldTr'+'ansform'](),_0x232972=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x303f79['mul2'](_0x232972,_0x407d31);const _0x2b34d6=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x303f79,_0x2b34d6),this['_entityB']&&this['_entityB']['rigidbody']){const _0x32dcf6=this['_entityB']['rigidbody']['body'];_0x32dcf6['activate']();const _0x7d4552=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x303f79['mul2'](_0x7d4552,_0x407d31);const _0x3be684=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x303f79,_0x3be684),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x913e51,_0x32dcf6,_0x2b34d6,_0x3be684,!this['_enableCol'+'lision']),Ammo['destroy'](_0x3be684);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x913e51,_0x2b34d6,!this['_enableCol'+'lision']);Ammo['destroy'](_0x2b34d6);const _0x49d155=['X','Y','Z','X','Y','Z'];for(let _0x3d01a1=0x1917*0x1+-0xaa6+-0xe71;_0x3d01a1<0x121f*0x1+0x1*-0x88d+-0x98c;_0x3d01a1++){const _0x218adb=_0x3d01a1<-0x745+0x17a0+-0x1058?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x3d01a1,this[_0x218adb+'Spring'+_0x49d155[_0x3d01a1]]),this['_constrain'+'t']['setDamping'](_0x3d01a1,this[_0x218adb+'Damping'+_0x49d155[_0x3d01a1]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x3d01a1,this[_0x218adb+('Equilibriu'+'m')+_0x49d155[_0x3d01a1]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x3d01a1,this[_0x218adb+'Stiffness'+_0x49d155[_0x3d01a1]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0xf02f73){for(const _0x538235 of UR)_0xf02f73['hasOwnProp'+'erty'](_0x538235)&&(_0xf02f73[_0x538235]instanceof W?this['_'+_0x538235]['copy'](_0xf02f73[_0x538235]):this['_'+_0x538235]=_0xf02f73[_0x538235]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0xf4ee09,_0x598aac,_0x3627d7){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x361fee=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x1cbf37=>{['X','Y','Z']['forEach'](_0x1c8dfa=>{const _0x147793=_0x361fee+_0x1cbf37+_0x1c8dfa,_0x890878='_'+_0x147793;let _0x949b9e=_0x361fee==='linear'?0x6df+0xb0*-0x26+-0x9f*-0x1f:-0xd*0x2c5+0xcb4+0x1750;_0x1c8dfa==='Y'&&(_0x949b9e+=-0xa21*-0x2+0x1*-0x1589+-0x1*-0x148),_0x1c8dfa==='Z'&&(_0x949b9e+=0x1a93+0xd5f+0x2*-0x13f8),Object['defineProp'+'erty'](Up['prototype'],_0x147793,{'get':function(){return this[_0x890878];},'set':function(_0x5319b6){this[_0x890878]!==_0x5319b6&&(this[_0x890878]=_0x5319b6,this['_constrain'+'t'][VR[_0x1cbf37]](_0x949b9e,_0x5319b6));}});});});});class GR{constructor(){this['enabled']=!(0xcb5+-0xad9+-0x22*0xe);}}const uf=['enabled'];class HR extends Xe{constructor(_0x36a038){super(_0x36a038),this['id']='joint',this['app']=_0x36a038,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x294815,_0x44d244,_0x9acde3){_0x294815['initFromDa'+'ta'](_0x44d244),super['initialize'+'ComponentD'+'ata'](_0x294815,_0x44d244,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',0xea9*0x2+-0xce3+-0x106f*0x1),c(this,'_minHeight',0x123*0x22+0xad8+-0x317e),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x1*-0x1a45+-0x1*0x5bf+0x2004),c(this,'_fitHeight'+'Proportion',0x1c43+0x24af+-0x40f2),c(this,'_excludeFr'+'omLayout',!(0x2224+-0x1*0x2011+-0x212));}set['minWidth'](_0x2a66ee){_0x2a66ee!==this['_minWidth']&&(this['_minWidth']=_0x2a66ee,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x50e554){_0x50e554!==this['_minHeight']&&(this['_minHeight']=_0x50e554,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x3652b5){_0x3652b5!==this['_maxWidth']&&(this['_maxWidth']=_0x3652b5,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x3c7184){_0x3c7184!==this['_maxHeight']&&(this['_maxHeight']=_0x3c7184,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x3af6e9){_0x3af6e9!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x3af6e9,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x4ecce7){_0x4ecce7!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x4ecce7,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x701dab){_0x701dab!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x701dab,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(-0xbb6+0x13*0x75+0x307);}}const ax=['enabled'];class $R extends Xe{constructor(_0x4598b3){super(_0x4598b3),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x5bbda5,_0x3b8988,_0x29587a){_0x3b8988['enabled']!==void(-0xb8*0x7+-0x13*-0x82+-0x24f*0x2)&&(_0x5bbda5['enabled']=_0x3b8988['enabled']),_0x3b8988['minWidth']!==void(0x553*0x4+0x21d2+-0x371e)&&(_0x5bbda5['minWidth']=_0x3b8988['minWidth']),_0x3b8988['minHeight']!==void(-0x6*0x41e+-0x11b3+0x2a67)&&(_0x5bbda5['minHeight']=_0x3b8988['minHeight']),_0x3b8988['maxWidth']!==void(-0x51e+-0x22*0x115+0x29e8)&&(_0x5bbda5['maxWidth']=_0x3b8988['maxWidth']),_0x3b8988['maxHeight']!==void(-0x78e*-0x4+0x1*0x156+0x1*-0x1f8e)&&(_0x5bbda5['maxHeight']=_0x3b8988['maxHeight']),_0x3b8988['fitWidthPr'+'oportion']!==void(0xe9*-0x9+-0x137f+0x1bb0)&&(_0x5bbda5['fitWidthPr'+'oportion']=_0x3b8988['fitWidthPr'+'oportion']),_0x3b8988['fitHeightP'+'roportion']!==void(-0x1ad5+-0x1069*0x1+0x1b*0x19a)&&(_0x5bbda5['fitHeightP'+'roportion']=_0x3b8988['fitHeightP'+'roportion']),_0x3b8988['excludeFro'+'mLayout']!==void(-0xe*-0x12d+0x62f*-0x1+0x3*-0x36d)&&(_0x5bbda5['excludeFro'+'mLayout']=_0x3b8988['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x5bbda5,_0x3b8988,_0x29587a);}['cloneCompo'+'nent'](_0x109422,_0xaafeb){const _0x7ba302=_0x109422['layoutchil'+'d'];return this['addCompone'+'nt'](_0xaafeb,{'enabled':_0x7ba302['enabled'],'minWidth':_0x7ba302['minWidth'],'minHeight':_0x7ba302['minHeight'],'maxWidth':_0x7ba302['maxWidth'],'maxHeight':_0x7ba302['maxHeight'],'fitWidthProportion':_0x7ba302['fitWidthPr'+'oportion'],'fitHeightProportion':_0x7ba302['fitHeightP'+'roportion'],'excludeFromLayout':_0x7ba302['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=0x35*0x1f+-0x98*-0x3+0x1*-0x833,qR=-0x4*0x4a9+-0x2160*-0x1+-0x1*0xebb,gg=0x17*0x12f+-0x1*0x2a6+-0x1891,XR=0x2627+0x2ac+-0x28d0,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new W();function ox(_0x1e483a){let _0x16f962;const _0x42b552=Zh[_0x1e483a],_0x4803ce=Zh[Vp[_0x1e483a]];function _0x287c3c(_0x2ef5d7,_0x374155){return-_0x374155[_0x42b552['size']]*_0x2ef5d7['pivot'][_0x42b552['axis']];}function _0x541422(_0x751f15,_0x3acbc5){return-_0x3acbc5[_0x4803ce['size']]*_0x751f15['pivot'][_0x4803ce['axis']];}function _0x25bad7(_0x2bd7b1,_0x345125){return _0x345125[_0x42b552['size']]*(0x62b+-0x1db5+0x178b-_0x2bd7b1['pivot'][_0x42b552['axis']]);}function _0x342f9a(_0x5d667a,_0x5d6584){_0x5d667a=_0x5d667a['filter'](_0x24d1a3),_0x16f962=_0x5d6584,Ut['x']=_0x16f962['containerS'+'ize']['x']-_0x16f962['padding']['x']-_0x16f962['padding']['z'],Ut['y']=_0x16f962['containerS'+'ize']['y']-_0x16f962['padding']['y']-_0x16f962['padding']['w'],_0x3aac25(_0x5d667a);const _0x386468=_0x3fde74(_0x51b2d8(_0x5d667a)),_0xa68b40=_0xcdcfbe(_0x386468,_0x5bf3b2(_0x386468)),_0x1af6ce=_0x238a76(_0x386468,_0xa68b40);return _0x4fae69(_0x386468,_0xa68b40,_0x1af6ce),_0x31f285(_0x386468,_0xa68b40,_0x1af6ce),_0x5b6c10(_0x386468);}function _0x24d1a3(_0x29dccb){const _0x4cf271=_0x29dccb['entity']['layoutchil'+'d'];return!_0x4cf271||!_0x4cf271['enabled']||!_0x4cf271['excludeFro'+'mLayout'];}function _0x3aac25(_0xdf3f8c){for(let _0x443ba2=0x168d+-0x4*0x98+-0x142d;_0x443ba2<_0xdf3f8c['length'];++_0x443ba2){const _0x18ef4b=_0xdf3f8c[_0x443ba2],_0x2fa32e=_0x18ef4b['anchor'];(_0x2fa32e['x']!==-0x1b4a+-0x581+0x20cb||_0x2fa32e['y']!==-0xca1+-0x1e01*-0x1+-0x1160||_0x2fa32e['z']!==0x9c6+0xaad+-0x1473||_0x2fa32e['w']!==0x207f+-0x1*-0x527+-0x25a6)&&(_0x18ef4b['anchor']=Q['ZERO']);}}function _0x51b2d8(_0x1702e5){if(!_0x16f962['wrap'])return[_0x1702e5];const _0x4521d9=[[]],_0x4c90a6=_0x3af3e9(_0x1702e5);let _0x9acfc8=0xbf*-0xa+-0x1*0x2405+0x1*0x2b7b;const _0x5126b9=_0x16f962[_0x42b552['fitting']]===gg;for(let _0x5d1434=0x7*0x3ee+-0x1*-0x1e95+-0x3a17;_0x5d1434<_0x1702e5['length'];++_0x5d1434){_0x4521d9[_0x4521d9['length']-(0x24a9+-0x1f92+-0x516)]['length']>-0xece+0x15b*0x5+0x807&&(_0x9acfc8+=_0x16f962['spacing'][_0x42b552['axis']]);const _0x7243bf=_0x4c90a6[_0x5d1434][_0x42b552['size']];_0x9acfc8+=_0x7243bf,!_0x5126b9&&_0x9acfc8>Ut[_0x42b552['axis']]&&_0x4521d9[_0x4521d9['length']-(0xecf*-0x2+0x64c*0x2+-0x5ad*-0x3)]['length']!==0x2e3+-0x2061+0x1d7e&&(_0x9acfc8=_0x7243bf,_0x4521d9['push']([])),_0x4521d9[_0x4521d9['length']-(0x16*-0x196+0x5*0x7cd+-0x4*0x107)]['push'](_0x1702e5[_0x5d1434]),_0x5126b9&&_0x9acfc8>Ut[_0x42b552['axis']]&&_0x5d1434!==_0x1702e5['length']-(0x241f+-0x1223*0x1+-0x11fb)&&(_0x9acfc8=0x19f2+0x1c4*0x2+-0x1d7a,_0x4521d9['push']([]));}return _0x4521d9;}function _0x3fde74(_0x473bd2){const _0x532be0=_0x16f962['orientatio'+'n']===pe&&_0x16f962['reverseX']||_0x16f962['orientatio'+'n']===ke&&_0x16f962['reverseY'],_0x1eb940=_0x16f962['orientatio'+'n']===pe&&_0x16f962['reverseY']||_0x16f962['orientatio'+'n']===ke&&_0x16f962['reverseX'];if(_0x532be0){for(let _0x2887d5=0x1a1f+0x15f9*0x1+-0x3018;_0x2887d5<_0x473bd2['length'];++_0x2887d5)_0x532be0&&_0x473bd2[_0x2887d5]['reverse']();}return _0x1eb940&&_0x473bd2['reverse'](),_0x473bd2;}function _0x5bf3b2(_0x5d811a){const _0x240c12=[];for(let _0x494fb4=-0xb85*0x3+0xa0a+-0x1885*-0x1;_0x494fb4<_0x5d811a['length'];++_0x494fb4){const _0xe52046=_0x5d811a[_0x494fb4],_0x92849b=_0x3af3e9(_0xe52046),_0xbb0ab4=_0x4d8938(_0x92849b,_0x42b552),_0x5d293a=_0xb6374f(_0x16f962[_0x42b552['fitting']],_0xbb0ab4,Ut[_0x42b552['axis']]);_0x5d293a===zt['APPLY_STRE'+'TCHING']?_0x59ded7(_0x92849b,_0xbb0ab4,_0x42b552):_0x5d293a===zt['APPLY_SHRI'+'NKING']&&_0x513749(_0x92849b,_0xbb0ab4,_0x42b552),_0x240c12['push'](_0x92849b);}return _0x240c12;}function _0xcdcfbe(_0x170add,_0x2a0997){const _0x2cad98=[],_0x5069f7=[];for(let _0x4d0d61=0x1*-0x1454+-0x1c4e+0x30a2;_0x4d0d61<_0x170add['length'];++_0x4d0d61){const _0x5ea7b8=_0x170add[_0x4d0d61];_0x5ea7b8['largestEle'+'ment']=null,_0x5ea7b8['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x30027d=0x887+-0x3*-0x45b+-0x1598;_0x30027d<_0x5ea7b8['length'];++_0x30027d){const _0x431705=_0x2a0997[_0x4d0d61][_0x30027d];_0x431705[_0x4803ce['size']]>_0x5ea7b8['largestSiz'+'e'][_0x4803ce['size']]&&(_0x5ea7b8['largestEle'+'ment']=_0x5ea7b8[_0x30027d],_0x5ea7b8['largestSiz'+'e']=_0x431705);}_0x2cad98['push'](_0x5ea7b8['largestEle'+'ment']),_0x5069f7['push'](_0x5ea7b8['largestSiz'+'e']);}const _0x5af7f7=_0x4d8938(_0x5069f7,_0x4803ce),_0xab62d1=_0xb6374f(_0x16f962[_0x4803ce['fitting']],_0x5af7f7,Ut[_0x4803ce['axis']]);_0xab62d1===zt['APPLY_STRE'+'TCHING']?_0x59ded7(_0x5069f7,_0x5af7f7,_0x4803ce):_0xab62d1===zt['APPLY_SHRI'+'NKING']&&_0x513749(_0x5069f7,_0x5af7f7,_0x4803ce);for(let _0x16e8bb=0x50c*0x3+-0xa7f*-0x1+-0x19a3;_0x16e8bb<_0x170add['length'];++_0x16e8bb){const _0x3e2f57=_0x170add[_0x16e8bb];for(let _0x4fed00=-0x331+0x2334+-0x2003*0x1;_0x4fed00<_0x3e2f57['length'];++_0x4fed00){const _0x4cb69d=_0x2a0997[_0x16e8bb][_0x4fed00],_0x17bf0f=_0x4cb69d[_0x4803ce['size']],_0x442da3=_0x170add['length']===-0x1f63+0x5*0xfd+0x1a73?Ut[_0x4803ce['axis']]:_0x3e2f57['largestSiz'+'e'][_0x4803ce['size']],_0x495528=_0xb6374f(_0x16f962[_0x4803ce['fitting']],_0x17bf0f,_0x442da3);_0x495528===zt['APPLY_STRE'+'TCHING']?_0x4cb69d[_0x4803ce['size']]=Math['min'](_0x442da3,_0x4cb69d[_0x4803ce['maxSize']]):_0x495528===zt['APPLY_SHRI'+'NKING']&&(_0x4cb69d[_0x4803ce['size']]=Math['max'](_0x442da3,_0x4cb69d[_0x4803ce['minSize']]));}}return _0x2a0997;}function _0xb6374f(_0x42275b,_0x249b59,_0x46d9c8){switch(_0x42275b){case ff:return zt['NONE'];case qR:return _0x249b59<_0x46d9c8?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x249b59>=_0x46d9c8?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x249b59<_0x46d9c8?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x42275b);}}function _0x4d8938(_0x1b932a,_0x564d3a){const _0x522e1f=_0x51e926(_0x1b932a,_0x564d3a['size']),_0x2ee1c8=(_0x1b932a['length']-(-0xca8+0x8*0xce+-0x9*-0xb1))*_0x16f962['spacing'][_0x564d3a['axis']];return _0x522e1f+_0x2ee1c8;}function _0x59ded7(_0x257e20,_0x466cb7,_0x415790){const _0xa59f8=_0x580de8(_0x257e20,_0x415790['maxSize']),_0x49ed22=_0xa8be69(_0x257e20,_0x415790['fittingPro'+'portion']),_0x3646cb=_0x50a229(_0x49ed22,_0xa59f8);let _0x3dc73a=Ut[_0x415790['axis']]-_0x466cb7;for(let _0x4974b0=-0x1203+0x11f*-0xd+0x2096;_0x4974b0<_0x257e20['length'];++_0x4974b0){const _0xfb1c45=_0xa59f8[_0x4974b0],_0x13e92b=_0x23ebfc(_0xfb1c45,_0x3dc73a,_0x49ed22,_0x3646cb),_0x116990=_0x257e20[_0xfb1c45][_0x415790['size']]+_0x13e92b,_0xf7a9c9=_0x257e20[_0xfb1c45][_0x415790['maxSize']],_0x24c19c=Math['min'](_0x116990,_0xf7a9c9);_0x257e20[_0xfb1c45][_0x415790['size']]=_0x24c19c;const _0x1a0e72=Math['max'](_0x116990-_0x24c19c,-0x3*0x9bb+-0x860+0x1*0x2591),_0x4c93a9=_0x13e92b-_0x1a0e72;_0x3dc73a-=_0x4c93a9;}}function _0x513749(_0xeb51fb,_0x2157f8,_0x9403e3){const _0x2ad68c=_0x580de8(_0xeb51fb,_0x9403e3['minSize'],!(0x244b*-0x1+-0x1dbf*0x1+0x420a)),_0x4d4b24=_0xa8be69(_0xeb51fb,_0x9403e3['fittingPro'+'portion']),_0x16504b=_0x15144e(_0x4d4b24),_0x146ed2=_0x50a229(_0x16504b,_0x2ad68c);let _0x4e110e=_0x2157f8-Ut[_0x9403e3['axis']];for(let _0xd58efc=0xe0f*0x2+-0x1*-0x2487+-0x40a5;_0xd58efc<_0xeb51fb['length'];++_0xd58efc){const _0x543b46=_0x2ad68c[_0xd58efc],_0x4fd4b0=_0x23ebfc(_0x543b46,_0x4e110e,_0x16504b,_0x146ed2),_0x4f9616=_0xeb51fb[_0x543b46][_0x9403e3['size']]-_0x4fd4b0,_0x21d7c9=_0xeb51fb[_0x543b46][_0x9403e3['minSize']],_0x5b5f65=Math['max'](_0x4f9616,_0x21d7c9);_0xeb51fb[_0x543b46][_0x9403e3['size']]=_0x5b5f65;const _0x31fe32=Math['max'](_0x5b5f65-_0x4f9616,-0x1a82+-0x1d*0xdf+0x33c5*0x1),_0x573be1=_0x4fd4b0-_0x31fe32;_0x4e110e-=_0x573be1;}}function _0x23ebfc(_0x52e205,_0x366793,_0x2f8ebe,_0x409ac8){const _0x31443f=_0x2f8ebe[_0x52e205],_0x173398=_0x409ac8[_0x52e205];return Math['abs'](_0x31443f)<-0x8f5+0x2*0xaf3+-0xcf1*0x1+0.00001&&Math['abs'](_0x173398)<0x1*-0xde5+0x209*0x9+-0x1*0x46c+0.00001?_0x366793:_0x366793*_0x31443f/_0x173398;}function _0x238a76(_0x55bf7b,_0x3356e1){const _0x5bda3b={};_0x5bda3b[_0x42b552['axis']]=-0x101a+-0x22a5+-0x49d*-0xb,_0x5bda3b[_0x4803ce['axis']]=-0x100b+-0x1*0x2581+0x358c,_0x55bf7b[_0x42b552['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x35019b=[];for(let _0x5945ab=-0x879+0x1*-0x261b+0x2e94;_0x5945ab<_0x55bf7b['length'];++_0x5945ab){const _0x101d8f=_0x55bf7b[_0x5945ab];if(_0x101d8f['length']===-0x1314+0x1780*0x1+-0x46c){_0x35019b['push']([]);continue;}const _0x2d1257=[],_0x3a3890=_0x3356e1[_0x5945ab];for(let _0x5bb3b6=-0x1*-0x14de+-0x955*0x4+-0x25a*-0x7;_0x5bb3b6<_0x101d8f['length'];++_0x5bb3b6){const _0x3f54b7=_0x101d8f[_0x5bb3b6],_0x43a671=_0x3a3890[_0x5bb3b6];_0x5bda3b[_0x4803ce['axis']]-=_0x541422(_0x3f54b7,_0x43a671),_0x5bda3b[_0x42b552['axis']]-=_0x287c3c(_0x3f54b7,_0x43a671),_0x2d1257[_0x5bb3b6]={},_0x2d1257[_0x5bb3b6][_0x42b552['axis']]=_0x5bda3b[_0x42b552['axis']],_0x2d1257[_0x5bb3b6][_0x4803ce['axis']]=_0x5bda3b[_0x4803ce['axis']],_0x5bda3b[_0x4803ce['axis']]+=_0x541422(_0x3f54b7,_0x43a671),_0x5bda3b[_0x42b552['axis']]+=_0x25bad7(_0x3f54b7,_0x43a671)+_0x16f962['spacing'][_0x42b552['axis']];}_0x101d8f[_0x42b552['size']]=_0x5bda3b[_0x42b552['axis']]-_0x16f962['spacing'][_0x42b552['axis']],_0x101d8f[_0x4803ce['size']]=_0x101d8f['largestSiz'+'e'][_0x4803ce['size']],_0x55bf7b[_0x42b552['size']]=Math['max'](_0x55bf7b[_0x42b552['size']],_0x101d8f[_0x42b552['size']]),_0x5bda3b[_0x42b552['axis']]=0x19cb+-0x245f+-0x2*-0x54a,_0x5bda3b[_0x4803ce['axis']]+=_0x101d8f[_0x4803ce['size']]+_0x16f962['spacing'][_0x4803ce['axis']],_0x35019b['push'](_0x2d1257);}return _0x55bf7b[_0x4803ce['size']]=_0x5bda3b[_0x4803ce['axis']]-_0x16f962['spacing'][_0x4803ce['axis']],_0x35019b;}function _0x4fae69(_0x59d973,_0x30f1f6,_0x58d2d3){const _0x1b5269=_0x16f962['alignment'][_0x42b552['axis']],_0x46e872=_0x16f962['alignment'][_0x4803ce['axis']],_0x531eb2=_0x16f962['padding'][_0x42b552['axis']],_0xe62296=_0x16f962['padding'][_0x4803ce['axis']];for(let _0x443859=0x1e1c+-0x10f7+0x5*-0x2a1;_0x443859<_0x59d973['length'];++_0x443859){const _0x4e3833=_0x59d973[_0x443859],_0x141ae7=_0x30f1f6[_0x443859],_0x34ec82=_0x58d2d3[_0x443859],_0x136d70=(Ut[_0x42b552['axis']]-_0x4e3833[_0x42b552['size']])*_0x1b5269+_0x531eb2,_0x25a0b6=(Ut[_0x4803ce['axis']]-_0x59d973[_0x4803ce['size']])*_0x46e872+_0xe62296;for(let _0x21983b=0x946+-0x667*-0x6+-0x2fb0;_0x21983b<_0x4e3833['length'];++_0x21983b){const _0xe213a6=(_0x4e3833[_0x4803ce['size']]-_0x141ae7[_0x21983b][_0x4803ce['size']])*_0x16f962['alignment'][_0x4803ce['axis']];_0x34ec82[_0x21983b][_0x42b552['axis']]+=_0x136d70,_0x34ec82[_0x21983b][_0x4803ce['axis']]+=_0x25a0b6+_0xe213a6;}}}function _0x31f285(_0x532fb1,_0x23474a,_0x5701c6){for(let _0x27ad91=0x475+-0xec2+0xa4d;_0x27ad91<_0x532fb1['length'];++_0x27ad91){const _0x237436=_0x532fb1[_0x27ad91],_0x12edd7=_0x23474a[_0x27ad91],_0x39a427=_0x5701c6[_0x27ad91];for(let _0x3213da=0x476*-0x7+0x169*0x19+-0x407;_0x3213da<_0x237436['length'];++_0x3213da){const _0x29acfd=_0x237436[_0x3213da];_0x29acfd[_0x42b552['calculated'+'Size']]=_0x12edd7[_0x3213da][_0x42b552['size']],_0x29acfd[_0x4803ce['calculated'+'Size']]=_0x12edd7[_0x3213da][_0x4803ce['size']],_0x16f962['orientatio'+'n']===pe?_0x29acfd['entity']['setLocalPo'+'sition'](_0x39a427[_0x3213da][_0x42b552['axis']],_0x39a427[_0x3213da][_0x4803ce['axis']],_0x29acfd['entity']['getLocalPo'+'sition']()['z']):_0x29acfd['entity']['setLocalPo'+'sition'](_0x39a427[_0x3213da][_0x4803ce['axis']],_0x39a427[_0x3213da][_0x42b552['axis']],_0x29acfd['entity']['getLocalPo'+'sition']()['z']);}}}function _0x5b6c10(_0x3ef9e3){const _0x526d80=_0x3ef9e3['width'],_0xa0a39c=_0x3ef9e3['height'],_0x2e5e7f=(Ut['x']-_0x526d80)*_0x16f962['alignment']['x']+_0x16f962['padding']['x'],_0x3bf2db=(Ut['y']-_0xa0a39c)*_0x16f962['alignment']['y']+_0x16f962['padding']['y'];return{'bounds':new Q(_0x2e5e7f,_0x3bf2db,_0x526d80,_0xa0a39c)};}function _0x3af3e9(_0x3bbbb8){const _0x87b3b0=[];for(let _0x1e2717=-0x2b3*0x8+0x248a+-0xef2;_0x1e2717<_0x3bbbb8['length'];++_0x1e2717){const _0x1c7fa7=_0x3bbbb8[_0x1e2717],_0x5b2a22=Math['max'](_0x4da88a(_0x1c7fa7,'minWidth'),0x103*0x13+-0xc43*0x3+0x232*0x8),_0x12c710=Math['max'](_0x4da88a(_0x1c7fa7,'minHeight'),-0x1df8+0x89*0x17+0x11a9),_0x2c9027=Math['max'](_0x4da88a(_0x1c7fa7,'maxWidth'),_0x5b2a22),_0x556809=Math['max'](_0x4da88a(_0x1c7fa7,'maxHeight'),_0x12c710),_0x3adce4=_0x2a0705(_0x4da88a(_0x1c7fa7,'width'),_0x5b2a22,_0x2c9027),_0x5d9dc6=_0x2a0705(_0x4da88a(_0x1c7fa7,'height'),_0x12c710,_0x556809),_0x3bcc29=_0x4da88a(_0x1c7fa7,'fitWidthPr'+'oportion'),_0x3d0bf4=_0x4da88a(_0x1c7fa7,'fitHeightP'+'roportion');_0x87b3b0['push']({'minWidth':_0x5b2a22,'minHeight':_0x12c710,'maxWidth':_0x2c9027,'maxHeight':_0x556809,'width':_0x3adce4,'height':_0x5d9dc6,'fitWidthProportion':_0x3bcc29,'fitHeightProportion':_0x3d0bf4});}return _0x87b3b0;}function _0x4da88a(_0x23edd3,_0x152541){const _0x157cdf=_0x23edd3['entity']['layoutchil'+'d'];return _0x157cdf&&_0x157cdf['enabled']&&_0x157cdf[_0x152541]!==void(0xcf+-0x2509+0x243a)&&_0x157cdf[_0x152541]!==null?_0x157cdf[_0x152541]:_0x23edd3[_0x152541]!==void(-0x1*-0x6f+-0xb1*-0x27+0x491*-0x6)?_0x23edd3[_0x152541]:jR[_0x152541];}function _0x2a0705(_0x355e5f,_0x3cfa9a,_0x39457a){return Math['min'](Math['max'](_0x355e5f,_0x3cfa9a),_0x39457a);}function _0x51e926(_0x2aa7ed,_0x4ede62){return _0x2aa7ed['reduce']((_0x269af2,_0x38de58)=>_0x269af2+_0x38de58[_0x4ede62],-0xfa4+-0x1ef2+0x59*0x86);}function _0xa8be69(_0x5e8f11,_0xfcc931){const _0x14a849=_0x51e926(_0x5e8f11,_0xfcc931),_0x570240=[],_0xf6295a=_0x5e8f11['length'];if(_0x14a849===-0x37f+-0xb3f+0xebe){for(let _0x49e660=0xaea+-0x1c41+0x1*0x1157;_0x49e660<_0xf6295a;++_0x49e660)_0x570240['push']((-0x1*-0x1983+0x1c8b*-0x1+0x309)/_0xf6295a);}else{for(let _0x1beae0=0x14bf+-0x1ad+-0x1312;_0x1beae0<_0xf6295a;++_0x1beae0)_0x570240['push'](_0x5e8f11[_0x1beae0][_0xfcc931]/_0x14a849);}return _0x570240;}function _0x15144e(_0x39a93b){if(_0x39a93b['length']===0x12c8+0x1*0x6b+-0x1332)return[0x19ce+0x109*0x18+-0xa21*0x5];const _0x7391dd=[],_0x9f8ce6=_0x39a93b['length'];for(let _0x126cba=0xf9b+0x8a9*0x1+-0x1844;_0x126cba<_0x9f8ce6;++_0x126cba)_0x7391dd['push']((-0x10eb+-0x1b1d+0x2c09-_0x39a93b[_0x126cba])/(_0x9f8ce6-(-0x1ae2+0x88*-0x22+0x2cf3)));return _0x7391dd;}function _0x580de8(_0x1d98b9,_0x19cda1,_0x1989e0){return _0x1d98b9['forEach'](_0x3f60af),_0x1d98b9['slice']()['sort']((_0x59d000,_0x34a417)=>_0x1989e0?_0x34a417[_0x19cda1]-_0x59d000[_0x19cda1]:_0x59d000[_0x19cda1]-_0x34a417[_0x19cda1])['map'](_0x3a5bc0);}function _0x3f60af(_0x430b97,_0xcafd16){_0x430b97['index']=_0xcafd16;}function _0x3a5bc0(_0xc0a561){return _0xc0a561['index'];}function _0x50a229(_0x5e0bf6,_0x57d56a){const _0xf92b94=[];_0xf92b94[_0x57d56a[_0x5e0bf6['length']-(0xc2*-0x25+0x6e0+0x152b)]]=_0x5e0bf6[_0x57d56a[_0x5e0bf6['length']-(0x2*0x66+0x4*-0x944+0x2445)]];for(let _0x518ae2=_0x5e0bf6['length']-(-0x134b*-0x2+-0xb3*0xa+-0x1f96);_0x518ae2>=-0x56*0x11+-0xf8f+-0x441*-0x5;--_0x518ae2)_0xf92b94[_0x57d56a[_0x518ae2]]=_0xf92b94[_0x57d56a[_0x518ae2+(-0x16d4+-0x7d9*-0x3+0xb6*-0x1)]]+_0x5e0bf6[_0x57d56a[_0x518ae2]];return _0xf92b94;}return _0x342f9a;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x4905c1,_0x19afcd){const _0x1d543f=Gp[_0x19afcd['orientatio'+'n']];if(_0x1d543f)return _0x1d543f(_0x4905c1,_0x19afcd);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x19afcd['orientatio'+'n']);}}function yg(_0xb36a63){return _0xb36a63['element'];}function KR(_0x5a70b2){return _0x5a70b2['enabled']&&_0x5a70b2['element']&&_0x5a70b2['element']['enabled'];}class lx extends ue{constructor(_0x44b63c,_0x218b9d){super(_0x44b63c,_0x218b9d),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(-0x1de8+-0x5b2+0x239b)),c(this,'_reverseY',!(-0x124a*0x2+-0x2*-0x5e7+-0x2*-0xc63)),c(this,'_alignment',new W(-0x255b*-0x1+0x2f7*0x7+-0x3a1c,0x516+0x314*-0x4+0x73b)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(0x4*-0x38b+-0x15ec+-0x1*-0x2419)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x2add67=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2add67,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x44b63c['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x44b63c['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x44b63c['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x44b63c['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x44b63c['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x44b63c['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x777905){_0x777905!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x777905,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x2f7270){_0x2f7270!==this['_reverseX']&&(this['_reverseX']=_0x2f7270,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0xafc380){_0xafc380!==this['_reverseY']&&(this['_reverseY']=_0xafc380,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x2d46c2){_0x2d46c2['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x2d46c2),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x2856b2){_0x2856b2['equals'](this['_padding'])||(this['_padding']['copy'](_0x2856b2),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x238c75){_0x238c75['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x238c75),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x499aec){_0x499aec!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x499aec,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x3de59c){_0x3de59c!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x3de59c,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x19c5eb){_0x19c5eb!==this['_wrap']&&(this['_wrap']=_0x19c5eb,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x3a3a04){return _0x3a3a04===this['entity']||this['entity']['children']['indexOf'](_0x3a3a04)!==-(-0x6*-0x3fd+-0x1*-0x2590+0x129*-0x35);}['_listenFor'+'ReflowEven'+'ts'](_0x111835,_0x5d66cf){_0x111835['element']&&(_0x111835['element'][_0x5d66cf]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x111835['element'][_0x5d66cf]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x111835['element'][_0x5d66cf]('resize',this['_scheduleR'+'eflow'],this),_0x111835['element'][_0x5d66cf]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x111835['layoutchil'+'d']&&(_0x111835['layoutchil'+'d'][_0x5d66cf]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x111835['layoutchil'+'d'][_0x5d66cf]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x982c18){this['_isSelfOrC'+'hild'](_0x982c18)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x982c18,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0xd9f2b3){this['_isSelfOrC'+'hild'](_0xd9f2b3)&&(this['_listenFor'+'ReflowEven'+'ts'](_0xd9f2b3,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x4f2dd5){this['_listenFor'+'ReflowEven'+'ts'](_0x4f2dd5,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0xb0762b){this['_listenFor'+'ReflowEven'+'ts'](_0xb0762b,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0xbc6c7d=yg(this['entity']),_0x3c39f6=this['entity']['children']['filter'](KR)['map'](yg);if(!_0xbc6c7d||_0x3c39f6['length']===-0x11*0x17d+0x101a+0x3*0x311)return;const _0x10b402=Math['max'](_0xbc6c7d['calculated'+'Width'],-0xc12+-0x124c+0x1e5e),_0x3d6343=Math['max'](_0xbc6c7d['calculated'+'Height'],-0x2*-0x358+-0x479+-0x237),_0x5a2fa0={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x10b402,_0x3d6343)};this['_isPerform'+'ingReflow']=!(0x2*0x44+-0x1*-0xcd5+-0xd5d);const _0x557348=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x3c39f6,_0x5a2fa0);this['_isPerform'+'ingReflow']=!(0xabd*-0x1+-0xc29+0x16e7),this['fire']('reflow',_0x557348);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x52550f=>{this['_listenFor'+'ReflowEven'+'ts'](_0x52550f,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(-0x8*0x199+0x3*-0x462+0x19ee);}}const hx=['enabled'],QR=-0x267*-0x3+-0x1a71*0x1+-0x20*-0x9d;class JR extends Xe{constructor(_0x294652){super(_0x294652),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x41a9df,_0x33df61,_0x2d40e0){_0x33df61['enabled']!==void(-0x206f+-0x2271+0x8*0x85c)&&(_0x41a9df['enabled']=_0x33df61['enabled']),_0x33df61['orientatio'+'n']!==void(-0x1c*0x64+0xd00+-0x210)&&(_0x41a9df['orientatio'+'n']=_0x33df61['orientatio'+'n']),_0x33df61['reverseX']!==void(-0x1367*-0x2+0x9a3*0x3+-0x43b7)&&(_0x41a9df['reverseX']=_0x33df61['reverseX']),_0x33df61['reverseY']!==void(0x2430+0x1a6*0x16+-0x4874)&&(_0x41a9df['reverseY']=_0x33df61['reverseY']),_0x33df61['alignment']!==void(0x2*-0x883+0x463*-0x5+0x26f5)&&(_0x41a9df['alignment']=Array['isArray'](_0x33df61['alignment'])?new W(_0x33df61['alignment']):_0x33df61['alignment']),_0x33df61['padding']!==void(0x2254*-0x1+-0xf5f+0x31b3)&&(_0x41a9df['padding']=Array['isArray'](_0x33df61['padding'])?new Q(_0x33df61['padding']):_0x33df61['padding']),_0x33df61['spacing']!==void(-0x1a32+-0x15ac+-0x45a*-0xb)&&(_0x41a9df['spacing']=Array['isArray'](_0x33df61['spacing'])?new W(_0x33df61['spacing']):_0x33df61['spacing']),_0x33df61['widthFitti'+'ng']!==void(0x2069*0x1+0x9*0x73+-0x1*0x2474)&&(_0x41a9df['widthFitti'+'ng']=_0x33df61['widthFitti'+'ng']),_0x33df61['heightFitt'+'ing']!==void(0x1c6*0x4+0x2357+-0x2a6f)&&(_0x41a9df['heightFitt'+'ing']=_0x33df61['heightFitt'+'ing']),_0x33df61['wrap']!==void(-0x21a*-0x4+0x2*0x1063+0x1*-0x292e)&&(_0x41a9df['wrap']=_0x33df61['wrap']),super['initialize'+'ComponentD'+'ata'](_0x41a9df,_0x33df61,_0x2d40e0);}['cloneCompo'+'nent'](_0x51ade9,_0x5584b4){const _0x5dde91=_0x51ade9['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x5584b4,{'enabled':_0x5dde91['enabled'],'orientation':_0x5dde91['orientatio'+'n'],'reverseX':_0x5dde91['reverseX'],'reverseY':_0x5dde91['reverseY'],'alignment':_0x5dde91['alignment'],'padding':_0x5dde91['padding'],'spacing':_0x5dde91['spacing'],'widthFitting':_0x5dde91['widthFitti'+'ng'],'heightFitting':_0x5dde91['heightFitt'+'ing'],'wrap':_0x5dde91['wrap']});}['scheduleRe'+'flow'](_0x2d8eb9){this['_reflowQue'+'ue']['indexOf'](_0x2d8eb9)===-(-0x36*-0x6d+0x1*-0xcd7+-0x362*0x3)&&this['_reflowQue'+'ue']['push'](_0x2d8eb9);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x22c2+0x2ae+0x2014)return;let _0x40929c=-0x1638+0x3*-0x53+-0x1731*-0x1;for(;this['_reflowQue'+'ue']['length']>-0xb92+0x1*-0x1f23+0x2ab5;){const _0x259746=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x181d+0x1b6a+-0x34d,_0x259746['sort']((_0x159e6e,_0x35612a)=>_0x159e6e['entity']['graphDepth']-_0x35612a['entity']['graphDepth']);for(let _0x325fda=0x1*0x1083+0x201f+-0x9ba*0x5;_0x325fda<_0x259746['length'];++_0x325fda)_0x259746[_0x325fda]['reflow']();if(++_0x40929c>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x5a5382,_0x4169c1){_0x4169c1['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0xa001ee){this['map']['forEach'](_0x41c87f=>_0x41c87f['mesh']['destroy']());}}const tI=new Ot(),cx=(_0xe731e3,_0x1b97d7)=>{const _0x3a26a7=tI['get'](_0xe731e3,()=>new eI());let _0xece013=_0x3a26a7['map']['get'](_0x1b97d7);if(!_0xece013){let _0x600d1e,_0x6c8e79;switch(_0x1b97d7){case'box':_0x600d1e=Ie['fromGeomet'+'ry'](_0xe731e3,new $u()),_0x6c8e79={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x167e+0x1*0x18d1+0x1*-0x251)/(-0x2*0xfce+-0x23f5*-0x1+-0x456)};break;case'capsule':_0x600d1e=Ie['fromGeomet'+'ry'](_0xe731e3,new C1({'radius':0.5,'height':0x2})),_0x6c8e79={'x':Math['PI']*(0x26ff*-0x1+0x1fe1+-0x3*-0x260),'y':Math['PI'],'z':Math['PI']*(0xcbb*-0x2+0x269*0x2+0x6*0x371),'uv':(0x306*-0x9+0x2043*0x1+-0x50c)/(0x1*-0x1f6+-0x11*-0x172+-0x1699)+(-0x16*0xe5+0x1a02+-0x653)/(0x1*0x15cd+0x1*-0x235f+-0x3*-0x487)/(-0x9fe*-0x1+0x1*-0x11b1+0x7b6)*(-0x10e7+-0x2510+-0x151*-0x29)};break;case'cone':_0x600d1e=Ie['fromGeomet'+'ry'](_0xe731e3,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x6c8e79={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x71f+0x1*-0x249e+0x1fd*0x16)/(0x5*0x17f+-0x1656+0xad*0x16)+(-0x262b+-0x13e3*0x1+-0x59*-0xa7)/(-0x1b*0xf1+-0x270c+0x3*0x157e)/(-0x125*-0xb+0x2494+-0x58*0x8f)};break;case'cylinder':_0x600d1e=Ie['fromGeomet'+'ry'](_0xe731e3,new P1({'radius':0.5,'height':0x1})),_0x6c8e79={'x':Math['PI'],'y':(-0x156d+0x6f0+0xe7d+0.79)*(-0x198e+0x893+-0x10fd*-0x1),'z':Math['PI'],'uv':(-0x1058+0x1be8+-0xb8f)/(0x182b+-0x637*-0x1+-0x1e5f)+(-0x11f7+0x75d+0xa9b)/(0x3d6*0x3+0x1b+-0xb9a)/(0x77*-0x22+-0x260d+-0x1*-0x35de)*(0x1*0x185f+-0x828+-0x567*0x3)};break;case'plane':_0x600d1e=Ie['fromGeomet'+'ry'](_0xe731e3,new R1({'halfExtents':new W(-0x1*0x16d8+-0x4f9+0x1bd1*0x1+0.5,-0x2283+0x1*-0x2011+0x4294+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x6c8e79={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x600d1e=Ie['fromGeomet'+'ry'](_0xe731e3,new B0({'radius':0.5})),_0x6c8e79={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x600d1e=Ie['fromGeomet'+'ry'](_0xe731e3,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x6c8e79={'x':Math['PI']*(0x1d4c+0x5ec+0x284*-0xe+0.5)*(-0x25e7+-0x1*0x1285+0x386c+0.5)-Math['PI']*(0xc3e+0x9ca+-0x1608+0.1)*(-0x16dc+0x29*-0x8c+0x2d48+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x1b97d7);}_0x600d1e['incRefCoun'+'t'](),_0xece013={'mesh':_0x600d1e,'area':_0x6c8e79},_0x3a26a7['map']['set'](_0x1b97d7,_0xece013);}return _0xece013;};class dx extends ue{constructor(_0xa9f306,_0xf929bf){super(_0xa9f306,_0xf929bf),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(0x4de+0x1d73+-0x2251)),c(this,'_receiveSh'+'adows',!(-0x1dd+0x19*-0xb3+-0x4*-0x4d6)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0x1d6+-0x1f5c+0x2132)),c(this,'_lightmapp'+'ed',!(-0x1ac*-0x2+0xe69*-0x2+0x197b)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x102b*-0x1+-0x2496*-0x1+-0x146a),c(this,'isStatic',!(0x3*-0xcf1+-0x22d+0x2901)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(0xb3c+-0x12a7+-0x1*-0x76c)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0x25ad+0x4ab+0x2103)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0xa9f306['defaultMat'+'erial'],_0xf929bf['on']('remove',this['onRemoveCh'+'ild'],this),_0xf929bf['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xf929bf['on']('insert',this['onInsertCh'+'ild'],this),_0xf929bf['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x1b0076){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x1b0076);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x13d03d){if(this['_customAab'+'b']=_0x13d03d,this['_model']){const _0x1b8b94=this['_model']['meshInstan'+'ces'];if(_0x1b8b94){for(let _0x69022c=-0xfd9+0xc4*-0x2e+-0x11*-0x301;_0x69022c<_0x1b8b94['length'];_0x69022c++)_0x1b8b94[_0x69022c]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x5a7e6e){if(this['_type']!==_0x5a7e6e){if(this['_area']=null,this['_type']=_0x5a7e6e,_0x5a7e6e==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x23721a=cx(this['system']['app']['graphicsDe'+'vice'],_0x5a7e6e);this['_area']=_0x23721a['area'];const _0x4c4c23=_0x23721a['mesh'],_0xc051f6=new De(),_0x21cae2=new Oi();_0x21cae2['graph']=_0xc051f6,_0x21cae2['meshInstan'+'ces']=[new Le(_0x4c4c23,this['_material'],_0xc051f6)],this['model']=_0x21cae2,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x3e69bd){const _0x4e9424=this['system']['app']['assets'];let _0x1a4d20=_0x3e69bd;if(_0x3e69bd instanceof le&&(_0x1a4d20=_0x3e69bd['id']),this['_asset']!==_0x1a4d20){if(this['_asset']){_0x4e9424['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x32637b=_0x4e9424['get'](this['_asset']);_0x32637b&&this['_unbindMod'+'elAsset'](_0x32637b);}if(this['_asset']=_0x1a4d20,this['_asset']){const _0x5cb0b8=_0x4e9424['get'](this['_asset']);_0x5cb0b8?this['_bindModel'+'Asset'](_0x5cb0b8):(this['model']=null,_0x4e9424['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x365093){if(this['_model']!==_0x365093){if(_0x365093&&_0x365093['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0xefe+0x500+0x9ff),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x41*0x32+-0x24dd*-0x1+-0x3*0x80e))),this['_model']=_0x365093,this['_model']){this['_model']['_immutable']=!(-0x15f2+0x1525+0xcd);const _0x47cb8b=this['_model']['meshInstan'+'ces'];for(let _0x4f89c0=-0x1acc+0xfb8+-0xb14*-0x1;_0x4f89c0<_0x47cb8b['length'];_0x4f89c0++)_0x47cb8b[_0x4f89c0]['castShadow']=this['_castShado'+'ws'],_0x47cb8b[_0x4f89c0]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x47cb8b[_0x4f89c0]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x58e922){if(_0x58e922!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x58e922,this['_model'])){const _0xa32fe9=this['_model']['meshInstan'+'ces'];for(let _0x4bc71e=-0x1*0x1ac9+-0x1590+0x3059*0x1;_0x4bc71e<_0xa32fe9['length'];_0x4bc71e++)_0xa32fe9[_0x4bc71e]['setLightma'+'pped'](_0x58e922);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x23cd8b){if(this['_castShado'+'ws']===_0x23cd8b)return;const _0x322585=this['_model'];if(_0x322585){const _0x481b83=this['layers'],_0x2a7a54=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x23cd8b)for(let _0x14c39f=0x2*-0x595+-0x6*-0x1e5+-0x34;_0x14c39f<_0x481b83['length'];_0x14c39f++){const _0x5b3256=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x14c39f]);_0x5b3256&&_0x5b3256['removeShad'+'owCasters'](_0x322585['meshInstan'+'ces']);}const _0x500287=_0x322585['meshInstan'+'ces'];for(let _0x5ae773=0xf41+-0x2668+0x1727*0x1;_0x5ae773<_0x500287['length'];_0x5ae773++)_0x500287[_0x5ae773]['castShadow']=_0x23cd8b;if(!this['_castShado'+'ws']&&_0x23cd8b)for(let _0x11e3aa=-0x1a6b*0x1+-0x7b9+0x2224;_0x11e3aa<_0x481b83['length'];_0x11e3aa++){const _0x27e4b5=_0x2a7a54['layers']['getLayerBy'+'Id'](_0x481b83[_0x11e3aa]);_0x27e4b5&&_0x27e4b5['addShadowC'+'asters'](_0x322585['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x23cd8b;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x43138f){if(this['_receiveSh'+'adows']!==_0x43138f&&(this['_receiveSh'+'adows']=_0x43138f,this['_model'])){const _0x1185fe=this['_model']['meshInstan'+'ces'];for(let _0x445fcc=-0x9e7+0x1*-0xe5+0xacc*0x1,_0x46cc14=_0x1185fe['length'];_0x445fcc<_0x46cc14;_0x445fcc++)_0x1185fe[_0x445fcc]['receiveSha'+'dow']=_0x43138f;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x45ec9b){this['_castShado'+'wsLightmap']=_0x45ec9b;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x3b321c){this['_lightmapS'+'izeMultipl'+'ier']=_0x3b321c;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x50df84){const _0x5a81ac=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x46c063=0x9ee+-0x4a*-0x73+0x732*-0x6;_0x46c063<this['_layers']['length'];_0x46c063++){const _0x4c34e2=_0x5a81ac['getLayerBy'+'Id'](this['_layers'][_0x46c063]);_0x4c34e2&&_0x4c34e2['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x13c*-0x19+-0xb*-0x107+0x138f;for(let _0xd12b62=-0xca4+-0x1e75+0x11*0x289;_0xd12b62<_0x50df84['length'];_0xd12b62++)this['_layers'][_0xd12b62]=_0x50df84[_0xd12b62];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0xa2ab61=0x1463+0x1981+0x7a6*-0x6;_0xa2ab61<this['_layers']['length'];_0xa2ab61++){const _0x27552c=_0x5a81ac['getLayerBy'+'Id'](this['_layers'][_0xa2ab61]);_0x27552c&&_0x27552c['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x29f8d5){var _0x5ddb8f,_0x783e1e;this['_batchGrou'+'pId']!==_0x29f8d5&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x23df+-0x2c*0x9+-0x3*0xb71&&((_0x5ddb8f=this['system']['app']['batcher'])==null||_0x5ddb8f['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x29f8d5>=0x359*-0x8+0xc1*0x6+0x1642&&((_0x783e1e=this['system']['app']['batcher'])==null||_0x783e1e['insert'](et['MODEL'],_0x29f8d5,this['entity'])),_0x29f8d5<-0x2bb*0x4+-0x396+-0x4d6*-0x3&&this['_batchGrou'+'pId']>=0x2055+-0x1681*-0x1+-0x36d6&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x29f8d5);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x2f1684){let _0x5073c7=_0x2f1684;_0x2f1684 instanceof le&&(_0x5073c7=_0x2f1684['id']);const _0x29409d=this['system']['app']['assets'];if(_0x5073c7!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x29409d['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x3bb98a=_0x29409d['get'](this['_materialA'+'sset']);_0x3bb98a&&this['_unbindMat'+'erialAsset'](_0x3bb98a);}if(this['_materialA'+'sset']=_0x5073c7,this['_materialA'+'sset']){const _0x42eb37=_0x29409d['get'](this['_materialA'+'sset']);_0x42eb37?this['_bindMater'+'ialAsset'](_0x42eb37):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x29409d['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x468f69){this['_material']!==_0x468f69&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x468f69));}get['material'](){return this['_material'];}set['mapping'](_0x2ca27a){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x2ca27a||(_0x2ca27a={}),this['_mapping']=_0x2ca27a,!this['_model']))return;const _0x4db507=this['_model']['meshInstan'+'ces'],_0x560b0e=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x50445d=_0x560b0e?_0x560b0e['data']['mapping']:null;let _0x184857=null;for(let _0x33f426=-0x2525+0x2317+0x20e,_0x31c5d8=_0x4db507['length'];_0x33f426<_0x31c5d8;_0x33f426++)if(_0x2ca27a[_0x33f426]!==void(0x529+0x25*0x3b+-0x248*0x6))_0x2ca27a[_0x33f426]?(_0x184857=this['system']['app']['assets']['get'](_0x2ca27a[_0x33f426]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x184857,_0x4db507[_0x33f426],_0x33f426)):_0x4db507[_0x33f426]['material']=this['system']['defaultMat'+'erial'];else{if(_0x50445d){if(_0x50445d[_0x33f426]&&(_0x50445d[_0x33f426]['material']||_0x50445d[_0x33f426]['path'])){if(_0x50445d[_0x33f426]['material']!==void(0x1*-0x1799+-0x2bc*0x1+0x1a55))_0x184857=this['system']['app']['assets']['get'](_0x50445d[_0x33f426]['material']);else{if(_0x50445d[_0x33f426]['path']!==void(-0x16d4+0x2e1*-0x1+0x19b5)){const _0x69db60=this['_getMateri'+'alAssetUrl'](_0x50445d[_0x33f426]['path']);_0x69db60&&(_0x184857=this['system']['app']['assets']['getByUrl'](_0x69db60));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x184857,_0x4db507[_0x33f426],_0x33f426);}else _0x4db507[_0x33f426]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x59b43f=this['system']['app']['scene']['layers'];for(let _0x277e04=0x23ef+-0x5*0x19f+-0x1bd4;_0x277e04<this['_layers']['length'];_0x277e04++){const _0x90d6c7=_0x59b43f['getLayerBy'+'Id'](this['_layers'][_0x277e04]);_0x90d6c7&&_0x90d6c7['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x3e0417=this['system']['app']['scene']['layers'];for(let _0xf08e5d=0x3c6+-0x2231*-0x1+-0x25f7*0x1;_0xf08e5d<this['_layers']['length'];_0xf08e5d++){const _0x182000=_0x3e0417['getLayerBy'+'Id'](this['_layers'][_0xf08e5d]);_0x182000&&_0x182000['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x3dbee3,_0xb15a5a){this['addModelTo'+'Layers'](),_0x3dbee3['off']('add',this['onLayerAdd'+'ed'],this),_0x3dbee3['off']('remove',this['onLayerRem'+'oved'],this),_0xb15a5a['on']('add',this['onLayerAdd'+'ed'],this),_0xb15a5a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x31615d){this['layers']['indexOf'](_0x31615d['id'])<-0x93*0x1d+-0xb83+0x1c2a||_0x31615d['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x591225){this['layers']['indexOf'](_0x591225['id'])<-0xbe4*-0x1+-0x1*0x153e+0x95a||_0x591225['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x35164a,_0x5eacae,_0x3a249f,_0x3fec36){const _0x384bb1=_0x5eacae+':'+_0x3a249f;this['system']['app']['assets']['on'](_0x384bb1,_0x3fec36,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x35164a]||(this['_materialE'+'vents'][_0x35164a]={}),this['_materialE'+'vents'][_0x35164a][_0x384bb1]={'id':_0x3a249f,'handler':_0x3fec36};}['_unsetMate'+'rialEvents'](){const _0x18db72=this['system']['app']['assets'],_0x4a8469=this['_materialE'+'vents'];if(_0x4a8469){for(let _0x5dc62a=-0x88a+0x1c5b+-0x13d1,_0xe9526c=_0x4a8469['length'];_0x5dc62a<_0xe9526c;_0x5dc62a++){if(!_0x4a8469[_0x5dc62a])continue;const _0x4101a6=_0x4a8469[_0x5dc62a];for(const _0x3839a5 in _0x4101a6)_0x18db72['off'](_0x3839a5,_0x4101a6[_0x3839a5]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x2926e2){let _0x4b93f6=null;if(!isNaN(parseInt(_0x2926e2,-0x18a*-0x2+-0x1e44+0x1b3a)))_0x4b93f6=this['system']['app']['assets']['get'](_0x2926e2);else{if(this['asset']){const _0x16077c=this['_getMateri'+'alAssetUrl'](_0x2926e2);_0x16077c&&(_0x4b93f6=this['system']['app']['assets']['getByUrl'](_0x16077c));}}return _0x4b93f6;}['_getMateri'+'alAssetUrl'](_0xf4889d){if(!this['asset'])return null;const _0x10464c=this['system']['app']['assets']['get'](this['asset']);return _0x10464c?_0x10464c['getAbsolut'+'eUrl'](_0xf4889d):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x1feda9,_0x403635,_0x1c63b9){const _0x1d75f1=this['system']['app']['assets'];_0x1feda9&&(_0x1feda9['resource']?(_0x403635['material']=_0x1feda9['resource'],this['_setMateri'+'alEvent'](_0x1c63b9,'remove',_0x1feda9['id'],function(){_0x403635['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x1c63b9,'load',_0x1feda9['id'],function(_0x17c403){_0x403635['material']=_0x17c403['resource'],this['_setMateri'+'alEvent'](_0x1c63b9,'remove',_0x1feda9['id'],function(){_0x403635['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x1d75f1['load'](_0x1feda9)));}['onEnable'](){var _0x570a47;const _0x1b8034=this['system']['app'],_0x32b08b=_0x1b8034['scene'],_0x266c77=_0x32b08b==null?void(0x1*0x12f1+0x16*-0x1ba+0x27*0x7d):_0x32b08b['layers'];this['_evtLayers'+'Changed']=_0x32b08b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x266c77&&(this['_evtLayerA'+'dded']=_0x266c77['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x266c77['on']('remove',this['onLayerRem'+'oved'],this));const _0x27b9f6=this['_type']==='asset';let _0x2cebc1;if(this['_model']?this['addModelTo'+'Layers']():_0x27b9f6&&this['_asset']&&(_0x2cebc1=_0x1b8034['assets']['get'](this['_asset']),_0x2cebc1&&_0x2cebc1['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x2cebc1)),this['_materialA'+'sset']&&(_0x2cebc1=_0x1b8034['assets']['get'](this['_materialA'+'sset']),_0x2cebc1&&_0x2cebc1['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x2cebc1)),_0x27b9f6&&this['_mapping']){for(const _0x393695 in this['_mapping'])this['_mapping'][_0x393695]&&(_0x2cebc1=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x393695]),_0x2cebc1&&!_0x2cebc1['resource']&&_0x1b8034['assets']['load'](_0x2cebc1));}this['_batchGrou'+'pId']>=0x1*0x1f4d+0x211f+-0x406c&&((_0x570a47=_0x1b8034['batcher'])==null||_0x570a47['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x595a75,_0xe7578a,_0x4bde49,_0xb9f6e7;const _0x115a24=this['system']['app'],_0x4f9219=_0x115a24['scene']['layers'];(_0x595a75=this['_evtLayers'+'Changed'])==null||_0x595a75['off'](),this['_evtLayers'+'Changed']=null,_0x4f9219&&((_0xe7578a=this['_evtLayerA'+'dded'])==null||_0xe7578a['off'](),this['_evtLayerA'+'dded']=null,(_0x4bde49=this['_evtLayerR'+'emoved'])==null||_0x4bde49['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x897*0x4+-0x1e25+-0x1*-0x4081&&((_0xb9f6e7=_0x115a24['batcher'])==null||_0xb9f6e7['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0xe7bc34=this['_model']['meshInstan'+'ces'];for(let _0x245254=0x169+-0xc8f+-0x2*-0x593,_0x38bd0e=_0xe7bc34['length'];_0x245254<_0x38bd0e;_0x245254++)_0xe7bc34[_0x245254]['visible']=!(-0x55*-0x66+-0x1*0x6b9+-0x1b24);}}['show'](){if(this['_model']){const _0x1a28ef=this['_model']['meshInstan'+'ces'];for(let _0x9e1085=-0x2*-0x12dc+-0x1*0x19a7+-0xc11,_0x1a3338=_0x1a28ef['length'];_0x9e1085<_0x1a3338;_0x9e1085++)_0x1a28ef[_0x9e1085]['visible']=!(-0x192d+-0x1eac+0x1ed*0x1d);}}['_bindMater'+'ialAsset'](_0x212bf5){if(_0x212bf5['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x212bf5['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x212bf5['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x212bf5['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x212bf5['resource'])this['_onMateria'+'lAssetLoad'](_0x212bf5);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x212bf5);}}['_unbindMat'+'erialAsset'](_0x3619df){_0x3619df['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x3619df['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x3619df['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x3619df['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0xe2bef4){this['system']['app']['assets']['off']('add:'+_0xe2bef4['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0xe2bef4['id']&&this['_bindMater'+'ialAsset'](_0xe2bef4);}['_onMateria'+'lAssetLoad'](_0x38168b){this['_setMateri'+'al'](_0x38168b['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x5cb15b){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x443a83){this['_onMateria'+'lAssetUnlo'+'ad'](_0x443a83);}['_onMateria'+'lAssetChan'+'ge'](_0x2358b6){}['_bindModel'+'Asset'](_0x3e392a){if(this['_unbindMod'+'elAsset'](_0x3e392a),_0x3e392a['on']('load',this['_onModelAs'+'setLoad'],this),_0x3e392a['on']('unload',this['_onModelAs'+'setUnload'],this),_0x3e392a['on']('change',this['_onModelAs'+'setChange'],this),_0x3e392a['on']('remove',this['_onModelAs'+'setRemove'],this),_0x3e392a['resource'])this['_onModelAs'+'setLoad'](_0x3e392a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3e392a);}}['_unbindMod'+'elAsset'](_0x22f348){_0x22f348['off']('load',this['_onModelAs'+'setLoad'],this),_0x22f348['off']('unload',this['_onModelAs'+'setUnload'],this),_0x22f348['off']('change',this['_onModelAs'+'setChange'],this),_0x22f348['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x420b88){this['system']['app']['assets']['off']('add:'+_0x420b88['id'],this['_onModelAs'+'setAdded'],this),_0x420b88['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x420b88);}['_onModelAs'+'setLoad'](_0x5b417e){this['model']=_0x5b417e['resource']['clone'](),this['_clonedMod'+'el']=!(0x11*0x35+0xc9*-0x1+-0x2bc);}['_onModelAs'+'setUnload'](_0x45a4de){this['model']=null;}['_onModelAs'+'setChange'](_0x455024,_0x32e699,_0x3d54c7,_0x560486){_0x32e699==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x46a65b){this['model']=null;}['_setMateri'+'al'](_0x36ea13){if(this['_material']===_0x36ea13)return;this['_material']=_0x36ea13;const _0x1d2942=this['_model'];if(_0x1d2942&&this['_type']!=='asset'){const _0x462837=_0x1d2942['meshInstan'+'ces'];for(let _0x22117f=-0x1f3a+0x33*0x83+0x521,_0x49d33e=_0x462837['length'];_0x22117f<_0x49d33e;_0x22117f++)_0x462837[_0x22117f]['material']=_0x36ea13;}}}class sI{constructor(){this['enabled']=!(0x9cd+-0x125e+0x891);}}const ux=['enabled'];class iI extends Xe{constructor(_0x189b77){super(_0x189b77),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x189b77['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x8af0db,_0x40d62f,_0x2f879d){_0x2f879d=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x40d62f['batchGroup'+'Id']===null||_0x40d62f['batchGroup'+'Id']===void(0x2045*0x1+-0x1d3a+-0x30b))&&(_0x40d62f['batchGroup'+'Id']=-(0x4*0x566+-0x1635+-0x1*-0x9e)),_0x40d62f['layers']&&_0x40d62f['layers']['length']&&(_0x40d62f['layers']=_0x40d62f['layers']['slice'](0xf*-0x171+0xb7a+0x1*0xa25));for(let _0x14d254=-0x8*0x44c+0x6af+0x1a1*0x11;_0x14d254<_0x2f879d['length'];_0x14d254++)_0x40d62f['hasOwnProp'+'erty'](_0x2f879d[_0x14d254])&&(_0x8af0db[_0x2f879d[_0x14d254]]=_0x40d62f[_0x2f879d[_0x14d254]]);_0x40d62f['aabbCenter']&&_0x40d62f['aabbHalfEx'+'tents']&&(_0x8af0db['customAabb']=new _e(new T(_0x40d62f['aabbCenter']),new T(_0x40d62f['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x8af0db,_0x40d62f,['enabled']);}['cloneCompo'+'nent'](_0x3c112d,_0x18396f){const _0x323847={'type':_0x3c112d['model']['type'],'asset':_0x3c112d['model']['asset'],'castShadows':_0x3c112d['model']['castShadow'+'s'],'receiveShadows':_0x3c112d['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x3c112d['model']['castShadow'+'sLightmap'],'lightmapped':_0x3c112d['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x3c112d['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x3c112d['model']['isStatic'],'enabled':_0x3c112d['model']['enabled'],'layers':_0x3c112d['model']['layers'],'batchGroupId':_0x3c112d['model']['batchGroup'+'Id'],'mapping':vh({},_0x3c112d['model']['mapping'])};let _0x224bed=_0x3c112d['model']['materialAs'+'set'];!(_0x224bed instanceof le)&&_0x224bed!=null&&(_0x224bed=this['app']['assets']['get'](_0x224bed));const _0x3d9e09=_0x3c112d['model']['material'];(!_0x3d9e09||_0x3d9e09===this['defaultMat'+'erial']||!_0x224bed||_0x3d9e09===_0x224bed['resource'])&&(_0x323847['materialAs'+'set']=_0x224bed);const _0x50cab7=this['addCompone'+'nt'](_0x18396f,_0x323847);if(_0x3c112d['model']['model']&&_0x3c112d['model']['type']==='asset'&&!_0x3c112d['model']['asset']&&(_0x50cab7['model']=_0x3c112d['model']['model']['clone'](),_0x50cab7['_clonedMod'+'el']=!(0x1a*-0x175+-0xf4*0x26+0xa*0x769)),_0x323847['materialAs'+'set']||(_0x50cab7['material']=_0x3d9e09),_0x3c112d['model']['model']){const _0x37f0d0=_0x3c112d['model']['model']['meshInstan'+'ces'],_0x15dd36=_0x50cab7['model']['meshInstan'+'ces'];for(let _0x1a3d9d=-0x157+-0x83e+-0xdf*-0xb;_0x1a3d9d<_0x37f0d0['length'];_0x1a3d9d++)_0x15dd36[_0x1a3d9d]['mask']=_0x37f0d0[_0x1a3d9d]['mask'],_0x15dd36[_0x1a3d9d]['material']=_0x37f0d0[_0x1a3d9d]['material'],_0x15dd36[_0x1a3d9d]['layer']=_0x37f0d0[_0x1a3d9d]['layer'],_0x15dd36[_0x1a3d9d]['receiveSha'+'dow']=_0x37f0d0[_0x1a3d9d]['receiveSha'+'dow'];}return _0x3c112d['model']['customAabb']&&(_0x50cab7['customAabb']=_0x3c112d['model']['customAabb']['clone']()),_0x50cab7;}['onRemove'](_0x8c2e8f,_0x2936fd){_0x2936fd['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x49e6ce,_0x4f84af){super(_0x49e6ce,_0x4f84af),c(this,'_requested'+'Depth',!(-0x4bf+0x29*-0xc9+0x1*0x24f1)),c(this,'_drawOrder',-0x131c*0x2+0x1938+-0x100*-0xd),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0xbddfa8=>{this['on']('set_'+_0xbddfa8,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x2ffc9f=>{this['on']('set_'+_0x2ffc9f,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x5e2ecf=>{this['on']('set_'+_0x5e2ecf,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x49cfc3=this['system']['store'][this['entity']['getGuid']()];return _0x49cfc3?_0x49cfc3['data']:null;}set['enabled'](_0x5b9af1){this['_setValue']('enabled',_0x5b9af1);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x13145f){this['_setValue']('autoPlay',_0x13145f);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x36abd2){this['_setValue']('numParticl'+'es',_0x36abd2);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x1d26b6){this['_setValue']('lifetime',_0x1d26b6);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x80c7df){this['_setValue']('rate',_0x80c7df);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x423a21){this['_setValue']('rate2',_0x423a21);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x11fbaf){this['_setValue']('startAngle',_0x11fbaf);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x1bd08d){this['_setValue']('startAngle'+'2',_0x1bd08d);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x2e9be4){this['_setValue']('loop',_0x2e9be4);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x38c34e){this['_setValue']('preWarm',_0x38c34e);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x152983){this['_setValue']('lighting',_0x152983);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x24eb9e){this['_setValue']('halfLamber'+'t',_0x24eb9e);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x3f551c){this['_setValue']('intensity',_0x3f551c);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x4fa226){this['_setValue']('depthWrite',_0x4fa226);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x1107ea){this['_setValue']('noFog',_0x1107ea);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x590b93){this['_setValue']('depthSofte'+'ning',_0x590b93);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x739e21){this['_setValue']('sort',_0x739e21);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x3c869f){this['_setValue']('blendType',_0x3c869f);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0xa8dbc1){this['_setValue']('stretch',_0xa8dbc1);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x399d32){this['_setValue']('alignToMot'+'ion',_0x399d32);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x2abbbf){this['_setValue']('emitterSha'+'pe',_0x2abbbf);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x93c69){this['_setValue']('emitterExt'+'ents',_0x93c69);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x5767dc){this['_setValue']('emitterExt'+'entsInner',_0x5767dc);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0xcddb0d){this['_setValue']('emitterRad'+'ius',_0xcddb0d);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x477a31){this['_setValue']('emitterRad'+'iusInner',_0x477a31);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x24ff70){this['_setValue']('initialVel'+'ocity',_0x24ff70);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x232683){this['_setValue']('wrap',_0x232683);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x4f7445){this['_setValue']('wrapBounds',_0x4f7445);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x4a919b){this['_setValue']('localSpace',_0x4a919b);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x440323){this['_setValue']('screenSpac'+'e',_0x440323);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x2ca5a5){this['_setValue']('colorMapAs'+'set',_0x2ca5a5);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x4d2cf3){this['_setValue']('normalMapA'+'sset',_0x4d2cf3);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x500163){this['_setValue']('mesh',_0x500163);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x475b6c){this['_setValue']('meshAsset',_0x475b6c);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x5eefe3){this['_setValue']('renderAsse'+'t',_0x5eefe3);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0xebb46b){this['_setValue']('orientatio'+'n',_0xebb46b);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x191ad0){this['_setValue']('particleNo'+'rmal',_0x191ad0);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x20b062){this['_setValue']('localVeloc'+'ityGraph',_0x20b062);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x3ec20e){this['_setValue']('localVeloc'+'ityGraph2',_0x3ec20e);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x4e24ec){this['_setValue']('velocityGr'+'aph',_0x4e24ec);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x52ceb5){this['_setValue']('velocityGr'+'aph2',_0x52ceb5);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x31564e){this['_setValue']('rotationSp'+'eedGraph',_0x31564e);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x1a3214){this['_setValue']('rotationSp'+'eedGraph2',_0x1a3214);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x27d801){this['_setValue']('radialSpee'+'dGraph',_0x27d801);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x14fc00){this['_setValue']('radialSpee'+'dGraph2',_0x14fc00);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x2dc072){this['_setValue']('scaleGraph',_0x2dc072);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x27e8c4){this['_setValue']('scaleGraph'+'2',_0x27e8c4);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0xb0f096){this['_setValue']('colorGraph',_0xb0f096);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0xdf3f8d){this['_setValue']('colorGraph'+'2',_0xdf3f8d);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x4682ee){this['_setValue']('alphaGraph',_0x4682ee);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x34cb13){this['_setValue']('alphaGraph'+'2',_0x34cb13);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x290055){this['_setValue']('colorMap',_0x290055);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x54d622){this['_setValue']('normalMap',_0x54d622);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x506d7b){this['_setValue']('animTilesX',_0x506d7b);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x4520d3){this['_setValue']('animTilesY',_0x4520d3);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x4777ea){this['_setValue']('animStartF'+'rame',_0x4777ea);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x42fc83){this['_setValue']('animNumFra'+'mes',_0x42fc83);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x3f6dc1){this['_setValue']('animNumAni'+'mations',_0x3f6dc1);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x2ccdf6){this['_setValue']('animIndex',_0x2ccdf6);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x17f0b3){this['_setValue']('randomizeA'+'nimIndex',_0x17f0b3);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x6cc329){this['_setValue']('animSpeed',_0x6cc329);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x277a37){this['_setValue']('animLoop',_0x277a37);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x5e2cc2){this['_setValue']('layers',_0x5e2cc2);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x115952){this['_drawOrder']=_0x115952,this['emitter']&&(this['emitter']['drawOrder']=_0x115952);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x55c7b9,_0x151b63){const _0xbd33f6=this['data'],_0x511488=_0xbd33f6[_0x55c7b9];_0xbd33f6[_0x55c7b9]=_0x151b63,this['fire']('set',_0x55c7b9,_0x511488,_0x151b63);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x3c7e64=-0x1*-0x18d+-0x265*-0xd+-0x20ae;_0x3c7e64<this['layers']['length'];_0x3c7e64++){const _0xf0cbce=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3c7e64]);_0xf0cbce&&(_0xf0cbce['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0xf0cbce);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x19bd12=-0x2fe*-0x5+0x1c19*0x1+-0x97*0x49;_0x19bd12<this['layers']['length'];_0x19bd12++){const _0x305abf=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x19bd12]);_0x305abf&&_0x305abf['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x4ea927,_0x4c0e54,_0x29b5c4){if(this['emitter']){for(let _0x1b2485=0x1*0x1e42+0x103a+0x11*-0x2bc;_0x1b2485<_0x4c0e54['length'];_0x1b2485++){const _0x18958b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4c0e54[_0x1b2485]);_0x18958b&&_0x18958b['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x310218=0x21f*-0x11+0x3*0x812+0xbd9;_0x310218<_0x29b5c4['length'];_0x310218++){const _0x3cd548=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x29b5c4[_0x310218]);_0x3cd548&&_0x3cd548['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x59a0e2,_0x2db1e5){this['addMeshIns'+'tanceToLay'+'ers'](),_0x59a0e2['off']('add',this['onLayerAdd'+'ed'],this),_0x59a0e2['off']('remove',this['onLayerRem'+'oved'],this),_0x2db1e5['on']('add',this['onLayerAdd'+'ed'],this),_0x2db1e5['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x39a27){!this['emitter']||this['layers']['indexOf'](_0x39a27['id'])<0xce8+0x1*0x10f1+-0x9*0x351||_0x39a27['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x50b1de){!this['emitter']||this['layers']['indexOf'](_0x50b1de['id'])<0x1349+-0x90e*0x1+0x3*-0x369||_0x50b1de['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x26525c){if(_0x26525c['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x26525c['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x26525c['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x26525c['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x26525c['resource'])this['_onColorMa'+'pAssetLoad'](_0x26525c);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x26525c);}}['_unbindCol'+'orMapAsset'](_0x42ef42){_0x42ef42['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x42ef42['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x42ef42['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x42ef42['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x6acc65){this['colorMap']=_0x6acc65['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0xa714bd){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x1d764c){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x1d764c);}['_onColorMa'+'pAssetChan'+'ge'](_0x24f68f){}['onSetColor'+'MapAsset'](_0x5c99d9,_0x4d337d,_0x2e97ab){const _0x105aa8=this['system']['app']['assets'];if(_0x4d337d){const _0x5aed08=_0x105aa8['get'](_0x4d337d);_0x5aed08&&this['_unbindCol'+'orMapAsset'](_0x5aed08);}if(_0x2e97ab){_0x2e97ab instanceof le&&(this['data']['colorMapAs'+'set']=_0x2e97ab['id'],_0x2e97ab=_0x2e97ab['id']);const _0x340764=_0x105aa8['get'](_0x2e97ab);_0x340764?this['_bindColor'+'MapAsset'](_0x340764):_0x105aa8['once']('add:'+_0x2e97ab,_0x6b0d9c=>{this['_bindColor'+'MapAsset'](_0x6b0d9c);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x3b4791){if(_0x3b4791['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x3b4791['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x3b4791['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x3b4791['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x3b4791['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x3b4791);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3b4791);}}['_unbindNor'+'malMapAsse'+'t'](_0x4808fd){_0x4808fd['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x4808fd['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x4808fd['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x4808fd['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0xeededd){this['normalMap']=_0xeededd['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x337070){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x5eabd3){this['_onNormalM'+'apAssetUnl'+'oad'](_0x5eabd3);}['_onNormalM'+'apAssetCha'+'nge'](_0xaecbb2){}['onSetNorma'+'lMapAsset'](_0x17e25b,_0x21c623,_0x35bc08){const _0x1bb113=this['system']['app']['assets'];if(_0x21c623){const _0x2fd25b=_0x1bb113['get'](_0x21c623);_0x2fd25b&&this['_unbindNor'+'malMapAsse'+'t'](_0x2fd25b);}if(_0x35bc08){_0x35bc08 instanceof le&&(this['data']['normalMapA'+'sset']=_0x35bc08['id'],_0x35bc08=_0x35bc08['id']);const _0x194f75=_0x1bb113['get'](_0x35bc08);_0x194f75?this['_bindNorma'+'lMapAsset'](_0x194f75):_0x1bb113['once']('add:'+_0x35bc08,_0x29ec2d=>{this['_bindNorma'+'lMapAsset'](_0x29ec2d);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x45af21){if(_0x45af21['on']('load',this['_onMeshAss'+'etLoad'],this),_0x45af21['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x45af21['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x45af21['on']('change',this['_onMeshAss'+'etChange'],this),_0x45af21['resource'])this['_onMeshAss'+'etLoad'](_0x45af21);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x45af21);}}['_unbindMes'+'hAsset'](_0x4500d6){_0x4500d6['off']('load',this['_onMeshAss'+'etLoad'],this),_0x4500d6['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x4500d6['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x4500d6['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x3d5773){this['_onMeshCha'+'nged'](_0x3d5773['resource']);}['_onMeshAss'+'etUnload'](_0x5154ee){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0xf3f36f){this['_onMeshAss'+'etUnload'](_0xf3f36f);}['_onMeshAss'+'etChange'](_0x401c4f){}['onSetMeshA'+'sset'](_0x4932e3,_0x8365cc,_0x219e43){const _0x4bb643=this['system']['app']['assets'];if(_0x8365cc){const _0x549e55=_0x4bb643['get'](_0x8365cc);_0x549e55&&this['_unbindMes'+'hAsset'](_0x549e55);}if(_0x219e43){_0x219e43 instanceof le&&(this['data']['meshAsset']=_0x219e43['id'],_0x219e43=_0x219e43['id']);const _0xd4dc8a=_0x4bb643['get'](_0x219e43);_0xd4dc8a&&this['_bindMeshA'+'sset'](_0xd4dc8a);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0xe79eee,_0x3b2ad8,_0x48ba89){!_0x48ba89||_0x48ba89 instanceof le||typeof _0x48ba89=='number'?this['meshAsset']=_0x48ba89:this['_onMeshCha'+'nged'](_0x48ba89);}['_onMeshCha'+'nged'](_0xf7c1c8){_0xf7c1c8&&!(_0xf7c1c8 instanceof Ie)&&(_0xf7c1c8['meshInstan'+'ces'][0x6b8+-0x1524+-0x2*-0x736]?_0xf7c1c8=_0xf7c1c8['meshInstan'+'ces'][0xd21*-0x2+0x1*0x1a38+0xa]['mesh']:_0xf7c1c8=null),this['data']['mesh']=_0xf7c1c8,this['emitter']&&(this['emitter']['mesh']=_0xf7c1c8,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0xebfb59,_0x20fa90,_0x598d4c){const _0x26bb82=this['system']['app']['assets'];if(_0x20fa90){const _0x21dc7c=_0x26bb82['get'](_0x20fa90);_0x21dc7c&&this['_unbindRen'+'derAsset'](_0x21dc7c);}if(_0x598d4c){_0x598d4c instanceof le&&(this['data']['renderAsse'+'t']=_0x598d4c['id'],_0x598d4c=_0x598d4c['id']);const _0x1fa11a=_0x26bb82['get'](_0x598d4c);_0x1fa11a&&this['_bindRende'+'rAsset'](_0x1fa11a);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x151c09){if(_0x151c09['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x151c09['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x151c09['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x151c09['resource'])this['_onRenderA'+'ssetLoad'](_0x151c09);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x151c09);}}['_unbindRen'+'derAsset'](_0x3a68ed){var _0x63e87d;_0x3a68ed['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x3a68ed['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x3a68ed['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x63e87d=this['_evtSetMes'+'hes'])==null||_0x63e87d['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x574bcb){this['_onRenderC'+'hanged'](_0x574bcb['resource']);}['_onRenderA'+'ssetUnload'](_0x39d8f4){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x488fa5){this['_onRenderA'+'ssetUnload'](_0x488fa5);}['_onRenderC'+'hanged'](_0x625d5f){var _0x28778b;if(!_0x625d5f){this['_onMeshCha'+'nged'](null);return;}(_0x28778b=this['_evtSetMes'+'hes'])==null||_0x28778b['off'](),this['_evtSetMes'+'hes']=_0x625d5f['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x625d5f['meshes']&&this['_onRenderS'+'etMeshes'](_0x625d5f['meshes']);}['_onRenderS'+'etMeshes'](_0x5371c3){this['_onMeshCha'+'nged'](_0x5371c3&&_0x5371c3[0x1cdf*0x1+-0xa*0x19b+0x1*-0xcd1]);}['onSetLoop'](_0x22b3c8,_0x3d5be6,_0x3df50a){this['emitter']&&(this['emitter'][_0x22b3c8]=_0x3df50a,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x1ed673,_0x461ebf,_0x55f843){this['emitter']&&(this['emitter'][_0x1ed673]=_0x55f843,this['emitter']['material']['blendType']=_0x55f843,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x382+-0x2e*-0xf+-0x2*0x31a)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1cd1+0x3*-0xc9a+0x8fe));}['onSetDepth'+'Softening'](_0x2549a1,_0x42f083,_0x233548){_0x42f083!==_0x233548&&(_0x233548?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x2549a1]=_0x233548)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x2549a1]=_0x233548)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0xec8b9f,_0x3b1e21,_0x3508b6){this['emitter']&&(this['emitter'][_0xec8b9f]=_0x3508b6,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0xa38e9d,_0x4b9337,_0x269be5){this['emitter']&&(this['emitter'][_0xa38e9d]=_0x269be5,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x5e0f19,_0x22da90,_0x594016){this['emitter']&&(this['emitter'][_0x5e0f19]=_0x594016,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x2957ac=this['system']['app']['scene'],_0x46a3e4=_0x2957ac['layers'],_0x256539=this['data'];for(let _0x31ae39=0x31*0x6d+-0x58f*-0x7+-0x1de3*0x2,_0xdb0944=Zl['length'];_0x31ae39<_0xdb0944;_0x31ae39++){let _0x37c6d9=_0x256539[Zl[_0x31ae39]];if(_0x37c6d9){if(!(_0x37c6d9 instanceof le)){if(parseInt(_0x37c6d9,0x1193*-0x1+0x25*0xb6+-0x8b1)>=0x231c+-0x2f6*-0x1+-0x2612)_0x37c6d9=this['system']['app']['assets']['get'](_0x37c6d9);else continue;}_0x37c6d9&&!_0x37c6d9['resource']&&this['system']['app']['assets']['load'](_0x37c6d9);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x211729=_0x256539['mesh'];_0x211729 instanceof Ie||(_0x211729=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x256539['numParticl'+'es'],'emitterExtents':_0x256539['emitterExt'+'ents'],'emitterExtentsInner':_0x256539['emitterExt'+'entsInner'],'emitterRadius':_0x256539['emitterRad'+'ius'],'emitterRadiusInner':_0x256539['emitterRad'+'iusInner'],'emitterShape':_0x256539['emitterSha'+'pe'],'initialVelocity':_0x256539['initialVel'+'ocity'],'wrap':_0x256539['wrap'],'localSpace':_0x256539['localSpace'],'screenSpace':_0x256539['screenSpac'+'e'],'wrapBounds':_0x256539['wrapBounds'],'lifetime':_0x256539['lifetime'],'rate':_0x256539['rate'],'rate2':_0x256539['rate2'],'orientation':_0x256539['orientatio'+'n'],'particleNormal':_0x256539['particleNo'+'rmal'],'animTilesX':_0x256539['animTilesX'],'animTilesY':_0x256539['animTilesY'],'animStartFrame':_0x256539['animStartF'+'rame'],'animNumFrames':_0x256539['animNumFra'+'mes'],'animNumAnimations':_0x256539['animNumAni'+'mations'],'animIndex':_0x256539['animIndex'],'randomizeAnimIndex':_0x256539['randomizeA'+'nimIndex'],'animSpeed':_0x256539['animSpeed'],'animLoop':_0x256539['animLoop'],'startAngle':_0x256539['startAngle'],'startAngle2':_0x256539['startAngle'+'2'],'scaleGraph':_0x256539['scaleGraph'],'scaleGraph2':_0x256539['scaleGraph'+'2'],'colorGraph':_0x256539['colorGraph'],'colorGraph2':_0x256539['colorGraph'+'2'],'alphaGraph':_0x256539['alphaGraph'],'alphaGraph2':_0x256539['alphaGraph'+'2'],'localVelocityGraph':_0x256539['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x256539['localVeloc'+'ityGraph2'],'velocityGraph':_0x256539['velocityGr'+'aph'],'velocityGraph2':_0x256539['velocityGr'+'aph2'],'rotationSpeedGraph':_0x256539['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x256539['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x256539['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x256539['radialSpee'+'dGraph2'],'colorMap':_0x256539['colorMap'],'normalMap':_0x256539['normalMap'],'loop':_0x256539['loop'],'preWarm':_0x256539['preWarm'],'sort':_0x256539['sort'],'stretch':_0x256539['stretch'],'alignToMotion':_0x256539['alignToMot'+'ion'],'lighting':_0x256539['lighting'],'halfLambert':_0x256539['halfLamber'+'t'],'intensity':_0x256539['intensity'],'depthSoftening':_0x256539['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x211729,'depthWrite':_0x256539['depthWrite'],'noFog':_0x256539['noFog'],'node':this['entity'],'blendType':_0x256539['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x256539['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x1884+0xb*-0x1eb+0x2d9e));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x2957ac['on']('set:layers',this['onLayersCh'+'anged'],this),_0x46a3e4&&(this['_evtLayerA'+'dded']=_0x46a3e4['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x46a3e4['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x256539['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x444690,_0x492ae4,_0x24f4e4;const _0x294a90=this['system']['app']['scene']['layers'];(_0x444690=this['_evtLayers'+'Changed'])==null||_0x444690['off'](),this['_evtLayers'+'Changed']=null,_0x294a90&&((_0x492ae4=this['_evtLayerA'+'dded'])==null||_0x492ae4['off'](),this['_evtLayerA'+'dded']=null,(_0x24f4e4=this['_evtLayerR'+'emoved'])==null||_0x24f4e4['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x8a9+0x1d39*-0x1+0x3d*0x9f)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x4ef944=-0x1363+-0x1fb0+0x3313;_0x4ef944<Zl['length'];_0x4ef944++){const _0x49fd49=Zl[_0x4ef944];this['data'][_0x49fd49]&&(this[_0x49fd49]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x17*0x3+-0x1ae8+-0x1f*-0xdc),this['emitter']['resetTime'](),this['emitter']['addTime'](0x15c1*-0x1+-0x2676+0x1*0x3c37,!(-0x234f+-0x46c*-0x3+0x160b)));}['pause'](){this['data']['paused']=!(0x23e6+0x26cb+-0x4ab1);}['unpause'](){this['data']['paused']=!(-0x82a+0x2*-0x347+0xeb9);}['play'](){this['data']['paused']=!(0x9f*0x35+0x1237+0x3321*-0x1),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0xba2*-0x1+0x108e+-0x1c30),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0xa36+-0x4*0x4a+0xb5f):this['emitter']&&this['emitter']['loop']?!(-0x38a+0x42a+0x2*-0x50):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x1d6425}=this;_0x1d6425&&!_0x1d6425['inTools']&&(_0x1d6425['inTools']=!(0x2*-0x6bd+0x19d1+-0x9*0x15f),this['rebuild']());}['rebuild'](){const _0x4a7e1b=this['enabled'];this['enabled']=!(0x20ef*-0x1+-0xf3*-0xd+-0x1499*-0x1),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x4a7e1b;}}class lI{constructor(){this['numParticl'+'es']=0x1e03+-0x1ea9+-0x1*-0xa7,this['rate']=0x2*-0x1051+0x12ad*-0x2+-0x45fd*-0x1,this['rate2']=null,this['startAngle']=0x2b8*0x7+-0x3a2+-0x522*0x3,this['startAngle'+'2']=null,this['lifetime']=0x1916+-0x14c5+-0x41f,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=-0xd18*0x1+0xccd+0x4b,this['emitterRad'+'iusInner']=-0x2*0xe09+0x13e4+0x82e,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=0x1*-0x49+-0x19ca+-0x10b*-0x19,this['wrap']=!(0x19d0+-0x19f8+0x29),this['wrapBounds']=new T(),this['localSpace']=!(0x1*-0x2273+0x691+0x1be3),this['screenSpac'+'e']=!(-0x1*0x687+-0x3e2*0x2+-0x1*-0xe4c),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x2568+0xc*0x305+-0x1*0x49a4),this['preWarm']=!(0x1*0x2441+-0xdc6+-0x336*0x7),this['sort']=0x5*0x167+-0x13e5*0x1+0xce2,this['mode']=d0,this['scene']=null,this['lighting']=!(0x26ff+-0x1b9f*-0x1+-0x429d*0x1),this['halfLamber'+'t']=!(0x33*0x22+-0xd*0x180+0xcbb),this['intensity']=0x3*-0x6ab+-0xf3a+0x233c,this['stretch']=0x1e2a+-0x18b8+-0x52*0x11,this['alignToMot'+'ion']=!(-0x1*-0x1151+-0x311+0x1*-0xe3f),this['depthSofte'+'ning']=0x142e+0x359*0x5+-0x24eb*0x1,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x1a*0xc1+-0x269c+-0x1*-0x3a37),this['noFog']=!(-0x6a*-0x25+-0x48+-0xf09*0x1),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(0x1784+-0x3be+-0x13c6,0x17*0x17e+-0x14*0xb1+-0x1*0x147d,-0x2163+-0x1638+-0x1289*-0x3),this['animTilesX']=0x1*0x345+0xe9d+-0x17*0xc7,this['animTilesY']=-0x26*-0x61+-0x1b84+0xd1f,this['animStartF'+'rame']=0x1*0xccf+0x1391+-0x2060,this['animNumFra'+'mes']=-0x26de+-0x19dd+0x40bc,this['animNumAni'+'mations']=-0x4b3*-0x7+0x1135+-0x3219,this['animIndex']=0x1d07+0x2*-0x49c+-0x13cf,this['randomizeA'+'nimIndex']=!(0x17e2+0x19f+-0x1980),this['animSpeed']=0x81a+-0x109a+-0x7*-0x137,this['animLoop']=!(-0x1ca3+0x72*0x3+0xf1*0x1d),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0x1*-0x84a+0x1c09+-0x2453),this['paused']=!(0x47*-0x7f+0x2e8+0x2052*0x1),this['autoPlay']=!(-0x1*-0x20a1+-0x2*0x8a2+-0xf5d),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x4bfda7){super(_0x4bfda7),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4e8e95,_0x50f20e,_0x500441){const _0x10706f={};_0x500441=[];const _0x5094ca=this['propertyTy'+'pes'];(_0x50f20e['mesh']instanceof le||typeof _0x50f20e['mesh']=='number')&&(_0x50f20e['meshAsset']=_0x50f20e['mesh'],delete _0x50f20e['mesh']);for(const _0x48097d in _0x50f20e){if(_0x50f20e['hasOwnProp'+'erty'](_0x48097d)&&(_0x500441['push'](_0x48097d),_0x10706f[_0x48097d]=_0x50f20e[_0x48097d]),_0x5094ca[_0x48097d]==='vec3')Array['isArray'](_0x10706f[_0x48097d])&&(_0x10706f[_0x48097d]=new T(_0x10706f[_0x48097d][0x944+-0x3*-0x79d+0x1*-0x201b],_0x10706f[_0x48097d][-0x6f4*-0x1+0x57*-0x1d+0x2e8],_0x10706f[_0x48097d][0x6bf*0x3+0x5c9*0x3+-0x2596]));else{if(_0x5094ca[_0x48097d]==='curve'){if(!(_0x10706f[_0x48097d]instanceof Cs)){const _0x3f40aa=_0x10706f[_0x48097d]['type'];_0x10706f[_0x48097d]=new Cs(_0x10706f[_0x48097d]['keys']),_0x10706f[_0x48097d]['type']=_0x3f40aa;}}else{if(_0x5094ca[_0x48097d]==='curveset'&&!(_0x10706f[_0x48097d]instanceof jr)){const _0x3a1d87=_0x10706f[_0x48097d]['type'];_0x10706f[_0x48097d]=new jr(_0x10706f[_0x48097d]['keys']),_0x10706f[_0x48097d]['type']=_0x3a1d87;}}}_0x10706f['layers']&&Array['isArray'](_0x10706f['layers'])&&(_0x10706f['layers']=_0x10706f['layers']['slice'](0x46d+0x24*0x1c+0x85d*-0x1));}super['initialize'+'ComponentD'+'ata'](_0x4e8e95,_0x10706f,_0x500441);}['cloneCompo'+'nent'](_0x20ac3f,_0x33fa50){const _0x19972e=_0x20ac3f['particlesy'+'stem']['data'],_0x40a69a=this['schema'],_0x1f7962={};for(let _0x152377=0x8b*0x47+0xae8+-0x3175,_0x280de9=_0x40a69a['length'];_0x152377<_0x280de9;_0x152377++){const _0x50e0fc=_0x40a69a[_0x152377];let _0x4bba39=_0x19972e[_0x50e0fc];_0x4bba39 instanceof T||_0x4bba39 instanceof Cs||_0x4bba39 instanceof jr?(_0x4bba39=_0x4bba39['clone'](),_0x1f7962[_0x50e0fc]=_0x4bba39):_0x50e0fc==='layers'?_0x1f7962['layers']=_0x19972e['layers']['slice'](-0x45a+-0x3a*-0x52+-0xe3a):_0x4bba39!=null&&(_0x1f7962[_0x50e0fc]=_0x4bba39);}return this['addCompone'+'nt'](_0x33fa50,_0x1f7962);}['onUpdate'](_0x82ce3e){const _0x2d49ff=this['store'];let _0x2399a6;const _0x24cf5f=this['app']['stats']['particles'],_0x28bafd=this['app']['scene']['layers'];for(let _0x44f8df=-0xe7a+-0xbef+0x1a69;_0x44f8df<_0x28bafd['layerList']['length'];_0x44f8df++)_0x28bafd['layerList'][_0x44f8df]['requiresLi'+'ghtCube']=!(-0x24fa+0x1498+0x1063*0x1);for(const _0x26e1b1 in _0x2d49ff)if(_0x2d49ff['hasOwnProp'+'erty'](_0x26e1b1)){const _0x20bd58=_0x2d49ff[_0x26e1b1],_0x3de67d=_0x20bd58['entity'],_0x506166=_0x20bd58['data'];if(_0x506166['enabled']&&_0x3de67d['enabled']){const _0x215bd5=_0x3de67d['particlesy'+'stem']['emitter'];if(!(_0x215bd5!=null&&_0x215bd5['meshInstan'+'ce']['visible']))continue;if(_0x215bd5['lighting']){const _0x4fc656=_0x506166['layers'];for(let _0x285879=0x16a8+-0xaf9+0x3e5*-0x3;_0x285879<_0x4fc656['length'];_0x285879++){const _0x3924fc=_0x28bafd['getLayerBy'+'Id'](_0x4fc656[_0x285879]);_0x3924fc&&(_0x3924fc['requiresLi'+'ghtCube']=!(-0x38e*0xa+0x1*-0xa2a+-0x2*-0x16db));}}if(!_0x506166['paused']){if(_0x215bd5['simTime']+=_0x82ce3e,_0x215bd5['simTime']>_0x215bd5['fixedTimeS'+'tep']&&(_0x2399a6=Math['floor'](_0x215bd5['simTime']/_0x215bd5['fixedTimeS'+'tep']),_0x215bd5['simTime']-=_0x2399a6*_0x215bd5['fixedTimeS'+'tep']),_0x2399a6){_0x2399a6=Math['min'](_0x2399a6,_0x215bd5['maxSubStep'+'s']);for(let _0x5b46e6=-0x139c*0x1+-0x1*0x3e+-0x69e*-0x3;_0x5b46e6<_0x2399a6;_0x5b46e6++)_0x215bd5['addTime'](_0x215bd5['fixedTimeS'+'tep'],!(-0x32*-0x53+-0x1096+0x61));_0x24cf5f['_updatesPe'+'rFrame']+=_0x2399a6,_0x24cf5f['_frameTime']+=_0x215bd5['_addTimeTi'+'me'],_0x215bd5['_addTimeTi'+'me']=0x5*0x60f+0x1*0x49+-0x1e94;}_0x215bd5['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x54b0cd,_0x4d2597){_0x4d2597['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x11aa1e,_0x140094){super(),this['skin']=_0x11aa1e,this['skinInstan'+'ce']=_0x140094;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x4d9133,_0x1bd686)=>{console['log'](_0x1bd686['name']+':\x20Array('+_0x4d9133['length']+')');for(let _0x66b345=0x14d2+0x2*-0x10a2+-0x76*-0x1b;_0x66b345<_0x4d9133['length'];_0x66b345++)console['log']('\x20\x20'+_0x66b345+(':\x20RefCount'+'\x20')+_0x4d9133[_0x66b345]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0xa7f725,_0x45c304,_0x6bd52b){let _0x5ce1c4=bs['getCachedS'+'kinInstanc'+'e'](_0xa7f725,_0x45c304);return _0x5ce1c4||(_0x5ce1c4=new nl(_0xa7f725),_0x5ce1c4['resolve'](_0x45c304,_0x6bd52b),bs['addCachedS'+'kinInstanc'+'e'](_0xa7f725,_0x45c304,_0x5ce1c4)),_0x5ce1c4;}static['getCachedS'+'kinInstanc'+'e'](_0xa672e,_0x1d78c2){let _0x5801bc=null;const _0x58a74e=bs['_skinInsta'+'nceCache']['get'](_0x1d78c2);if(_0x58a74e){const _0x34f01c=_0x58a74e['find'](_0x28167c=>_0x28167c['skin']===_0xa672e);_0x34f01c&&(_0x34f01c['incRefCoun'+'t'](),_0x5801bc=_0x34f01c['skinInstan'+'ce']);}return _0x5801bc;}static['addCachedS'+'kinInstanc'+'e'](_0x882c8f,_0x23f9ee,_0x4ce6ab){let _0x55eef0=bs['_skinInsta'+'nceCache']['get'](_0x23f9ee);_0x55eef0||(_0x55eef0=[],bs['_skinInsta'+'nceCache']['set'](_0x23f9ee,_0x55eef0));let _0x4555cf=_0x55eef0['find'](_0x386526=>_0x386526['skin']===_0x882c8f);_0x4555cf||(_0x4555cf=new dI(_0x882c8f,_0x4ce6ab),_0x55eef0['push'](_0x4555cf)),_0x4555cf['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x51df46){if(_0x51df46){const _0x42e963=_0x51df46['rootBone'];if(_0x42e963){const _0x187ea2=bs['_skinInsta'+'nceCache']['get'](_0x42e963);if(_0x187ea2){const _0x1ca2b3=_0x187ea2['findIndex'](_0x583f77=>_0x583f77['skinInstan'+'ce']===_0x51df46);if(_0x1ca2b3>=0x6f*-0x4d+-0xd06+0x2e69){const _0x47e70e=_0x187ea2[_0x1ca2b3];_0x47e70e['decRefCoun'+'t'](),_0x47e70e['refCount']===-0x16cf*0x1+-0x2645+0x517*0xc&&(_0x187ea2['splice'](_0x1ca2b3,-0x16*0xba+-0x94*-0xb+0x91*0x11),_0x187ea2['length']||bs['_skinInsta'+'nceCache']['delete'](_0x42e963),_0x51df46&&(_0x51df46['destroy'](),_0x47e70e['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x49e300,_0x240e88,_0x40b0e2,_0x29aa05,_0x886a82){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x49e300,this['parent']=_0x240e88,this['_scope']=_0x886a82,this['_registry']=_0x40b0e2,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x29aa05['load'],this['_onAssetAd'+'d']=_0x29aa05['add'],this['_onAssetRe'+'move']=_0x29aa05['remove'],this['_onAssetUn'+'load']=_0x29aa05['unload']);}set['id'](_0x5c41ea){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x5c41ea,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x547b7c){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x547b7c,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x408b89,_0x27fc8e,_0x290449,_0x546e7f,_0x2d36ba,_0x4e693d,_0x12e037;this['id']&&((_0x408b89=this['_evtLoadBy'+'Id'])==null||_0x408b89['off'](),this['_evtLoadBy'+'Id']=null,(_0x27fc8e=this['_evtAddByI'+'d'])==null||_0x27fc8e['off'](),this['_evtAddByI'+'d']=null,(_0x290449=this['_evtRemove'+'ById'])==null||_0x290449['off'](),this['_evtRemove'+'ById']=null,(_0x546e7f=this['_evtUnload'+'ById'])==null||_0x546e7f['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x2d36ba=this['_evtLoadBy'+'Url'])==null||_0x2d36ba['off'](),this['_evtLoadBy'+'Url']=null,(_0x4e693d=this['_evtAddByU'+'rl'])==null||_0x4e693d['off'](),this['_evtAddByU'+'rl']=null,(_0x12e037=this['_evtRemove'+'ByUrl'])==null||_0x12e037['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x24ae70){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x24ae70);}['_onAdd'](_0x59272f){this['asset']=_0x59272f,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x59272f);}['_onRemove'](_0x4f7acd){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x4f7acd),this['asset']=null;}['_onUnload'](_0x56772e){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x56772e);}}class fx extends ue{constructor(_0x49c555,_0xf48cce){super(_0x49c555,_0xf48cce),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(0x193d+-0x3*-0xab5+0x4*-0xe57)),c(this,'_receiveSh'+'adows',!(-0x1e7*-0x3+-0x1*-0x83f+0x2*-0x6fa)),c(this,'_castShado'+'wsLightmap',!(0x1*-0x23e9+-0x1e34+0x421d)),c(this,'_lightmapp'+'ed',!(0xdbd+-0x1983+0xbc7)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x7*0x35d+-0x3c*0x8c+0x4*0xe17),c(this,'isStatic',!(0xd*-0xfb+-0xc4*-0x1d+-0x974)),c(this,'_batchGrou'+'pId',-(0x1dbd+0x2*0xcdc+-0x27*0x16c)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x49c555['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x49c555['defaultMat'+'erial'],_0xf48cce['on']('remove',this['onRemoveCh'+'ild'],this),_0xf48cce['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xf48cce['on']('insert',this['onInsertCh'+'ild'],this),_0xf48cce['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x161aae){this['_renderSty'+'le']!==_0x161aae&&(this['_renderSty'+'le']=_0x161aae,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x161aae));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x404819){this['_customAab'+'b']=_0x404819;const _0x20f6ac=this['_meshInsta'+'nces'];if(_0x20f6ac){for(let _0x2dc2f5=-0x1*-0xa01+0x707*-0x1+0x17d*-0x2;_0x2dc2f5<_0x20f6ac['length'];_0x2dc2f5++)_0x20f6ac[_0x2dc2f5]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x13e53f){if(this['_type']!==_0x13e53f&&(this['_area']=null,this['_type']=_0x13e53f,this['destroyMes'+'hInstances'](),_0x13e53f!=='asset')){let _0x4680fb=this['_material'];(!_0x4680fb||_0x4680fb===this['system']['defaultMat'+'erial'])&&(_0x4680fb=this['_materialR'+'eferences'][-0x1438+0x1e44*0x1+-0xa0c]&&this['_materialR'+'eferences'][0x3d5+-0xa6a+0x5*0x151]['asset']&&this['_materialR'+'eferences'][-0x2363*0x1+0x53*-0x29+0x30ae]['asset']['resource']);const _0x211fb0=cx(this['system']['app']['graphicsDe'+'vice'],_0x13e53f);this['_area']=_0x211fb0['area'],this['meshInstan'+'ces']=[new Le(_0x211fb0['mesh'],_0x4680fb||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x54e979){if(v['assert'](Array['isArray'](_0x54e979),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x54e979,this['_meshInsta'+'nces']){const _0x511c3f=this['_meshInsta'+'nces'];for(let _0x1376cd=-0xc05*0x2+0x99b*0x1+0xe6f*0x1;_0x1376cd<_0x511c3f['length'];_0x1376cd++)_0x511c3f[_0x1376cd]['node']||(_0x511c3f[_0x1376cd]['node']=this['entity']),_0x511c3f[_0x1376cd]['castShadow']=this['_castShado'+'ws'],_0x511c3f[_0x1376cd]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x511c3f[_0x1376cd]['renderStyl'+'e']=this['_renderSty'+'le'],_0x511c3f[_0x1376cd]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x511c3f[_0x1376cd]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x485de0){if(_0x485de0!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x485de0;const _0x1197ff=this['_meshInsta'+'nces'];if(_0x1197ff){for(let _0x41c112=0x22ed+0x2048+-0x1667*0x3;_0x41c112<_0x1197ff['length'];_0x41c112++)_0x1197ff[_0x41c112]['setLightma'+'pped'](_0x485de0);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x313fbc){if(this['_castShado'+'ws']!==_0x313fbc){const _0x1b8635=this['_meshInsta'+'nces'];if(_0x1b8635){const _0x2bbd9d=this['layers'],_0x4e246a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x313fbc)for(let _0x876d17=0x539*0x6+0x11*-0x1e5+0xdf;_0x876d17<_0x2bbd9d['length'];_0x876d17++){const _0x57568e=_0x4e246a['layers']['getLayerBy'+'Id'](this['layers'][_0x876d17]);_0x57568e&&_0x57568e['removeShad'+'owCasters'](_0x1b8635);}for(let _0x289871=-0x543+-0x1f0f+0x1*0x2452;_0x289871<_0x1b8635['length'];_0x289871++)_0x1b8635[_0x289871]['castShadow']=_0x313fbc;if(!this['_castShado'+'ws']&&_0x313fbc)for(let _0x4f55b9=-0x21aa+-0x767+0x2911;_0x4f55b9<_0x2bbd9d['length'];_0x4f55b9++){const _0x4ad82a=_0x4e246a['layers']['getLayerBy'+'Id'](_0x2bbd9d[_0x4f55b9]);_0x4ad82a&&_0x4ad82a['addShadowC'+'asters'](_0x1b8635);}}this['_castShado'+'ws']=_0x313fbc;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x3a18d8){if(this['_receiveSh'+'adows']!==_0x3a18d8){this['_receiveSh'+'adows']=_0x3a18d8;const _0x45f857=this['_meshInsta'+'nces'];if(_0x45f857){for(let _0x21ff55=0xd6f+-0x1ef6+-0x1187*-0x1;_0x21ff55<_0x45f857['length'];_0x21ff55++)_0x45f857[_0x21ff55]['receiveSha'+'dow']=_0x3a18d8;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x2de8c2){this['_castShado'+'wsLightmap']=_0x2de8c2;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x54d8e6){this['_lightmapS'+'izeMultipl'+'ier']=_0x54d8e6;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x6ed4f6){const _0x690785=this['system']['app']['scene']['layers'];let _0x265b19;if(this['_meshInsta'+'nces']){for(let _0x436e8a=0x4b6+0xf29*0x2+-0x2308;_0x436e8a<this['_layers']['length'];_0x436e8a++)_0x265b19=_0x690785['getLayerBy'+'Id'](this['_layers'][_0x436e8a]),_0x265b19&&_0x265b19['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0xf25+0x3c7*0x1+-0x12ec;for(let _0xf3fcc3=0x12dd*-0x1+0x3*0xbbf+-0x1060;_0xf3fcc3<_0x6ed4f6['length'];_0xf3fcc3++)this['_layers'][_0xf3fcc3]=_0x6ed4f6[_0xf3fcc3];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x16a5ba=-0x1355+0x1b5f+-0x80a;_0x16a5ba<this['_layers']['length'];_0x16a5ba++)_0x265b19=_0x690785['getLayerBy'+'Id'](this['_layers'][_0x16a5ba]),_0x265b19&&_0x265b19['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x230f31){var _0x22352c,_0x4afe2e;this['_batchGrou'+'pId']!==_0x230f31&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x56+-0xce*-0xd+-0xa20&&((_0x22352c=this['system']['app']['batcher'])==null||_0x22352c['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x230f31>=-0x141f*-0x1+0x137e+-0x279d&&((_0x4afe2e=this['system']['app']['batcher'])==null||_0x4afe2e['insert'](et['RENDER'],_0x230f31,this['entity'])),_0x230f31<-0x2658+-0x110f+-0x1*-0x3767&&this['_batchGrou'+'pId']>=0x213+-0x2*-0x613+-0xe39&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x230f31);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x13b99b){if(this['_material']!==_0x13b99b&&(this['_material']=_0x13b99b,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x102f31=0x218+0x1*0x607+0x1b*-0x4d;_0x102f31<this['_meshInsta'+'nces']['length'];_0x102f31++)this['_meshInsta'+'nces'][_0x102f31]['material']=_0x13b99b;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x550cd8=[]){if(this['_materialR'+'eferences']['length']>_0x550cd8['length']){for(let _0x5a3065=_0x550cd8['length'];_0x5a3065<this['_materialR'+'eferences']['length'];_0x5a3065++)this['_materialR'+'eferences'][_0x5a3065]['id']=null;this['_materialR'+'eferences']['length']=_0x550cd8['length'];}for(let _0x514363=-0xb83*-0x3+-0x79*-0x3d+-0x1faf*0x2;_0x514363<_0x550cd8['length'];_0x514363++)if(this['_materialR'+'eferences'][_0x514363]||this['_materialR'+'eferences']['push'](new Go(_0x514363,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x550cd8[_0x514363]){const _0x5ad080=_0x550cd8[_0x514363]instanceof le?_0x550cd8[_0x514363]['id']:_0x550cd8[_0x514363];this['_materialR'+'eferences'][_0x514363]['id']!==_0x5ad080&&(this['_materialR'+'eferences'][_0x514363]['id']=_0x5ad080),this['_materialR'+'eferences'][_0x514363]['asset']&&this['_onMateria'+'lAdded'](_0x514363,this,this['_materialR'+'eferences'][_0x514363]['asset']);}else this['_materialR'+'eferences'][_0x514363]['id']=null,this['_meshInsta'+'nces'][_0x514363]&&(this['_meshInsta'+'nces'][_0x514363]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x53dbd5=>_0x53dbd5['id']);}set['asset'](_0x269d7f){const _0x4d0f55=_0x269d7f instanceof le?_0x269d7f['id']:_0x269d7f;this['_assetRefe'+'rence']['id']!==_0x4d0f55&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x4d0f55,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x138851){const _0x10e2cb=_0x138851 instanceof le?_0x138851['id']:_0x138851;this['_assetRefe'+'rence']['id']=_0x10e2cb;}set['rootBone'](_0x5d2529){if(this['_rootBone']!==_0x5d2529){const _0x77e8f9=typeof _0x5d2529=='string';if(this['_rootBone']&&_0x77e8f9&&this['_rootBone']['getGuid']()===_0x5d2529)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x5d2529 instanceof De?this['_rootBone']=_0x5d2529:_0x77e8f9?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x5d2529)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x4bffde=this['_meshInsta'+'nces'];if(_0x4bffde){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x4a351a=0x15e3+-0x1ed8+0x8f5;_0x4a351a<_0x4bffde['length'];_0x4a351a++)_0x4bffde[_0x4a351a]['destroy']();this['_meshInsta'+'nces']['length']=0x91f+0xf6b*-0x1+-0x64c*-0x1;}}['addToLayer'+'s'](){const _0x54cb17=this['system']['app']['scene']['layers'];for(let _0x17130c=0x12bd+0x12b7+0x95d*-0x4;_0x17130c<this['_layers']['length'];_0x17130c++){const _0x4f9606=_0x54cb17['getLayerBy'+'Id'](this['_layers'][_0x17130c]);_0x4f9606&&_0x4f9606['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x1c8260=this['system']['app']['scene']['layers'];for(let _0x2b22a9=-0x1c4f*0x1+0x320*0x2+0x1*0x160f;_0x2b22a9<this['_layers']['length'];_0x2b22a9++){const _0x2db7e2=_0x1c8260['getLayerBy'+'Id'](this['_layers'][_0x2b22a9]);_0x2db7e2&&_0x2db7e2['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x37f425=0x2*0xdbd+0x424*-0x8+0x5a6;_0x37f425<this['_materialR'+'eferences']['length'];_0x37f425++)this['_materialR'+'eferences'][_0x37f425]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x304f27,_0x536200){this['addToLayer'+'s'](),_0x304f27['off']('add',this['onLayerAdd'+'ed'],this),_0x304f27['off']('remove',this['onLayerRem'+'oved'],this),_0x536200['on']('add',this['onLayerAdd'+'ed'],this),_0x536200['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x59b444){this['layers']['indexOf'](_0x59b444['id'])<0x841*-0x2+0x631*0x5+-0xe73||_0x59b444['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x5392ff){this['layers']['indexOf'](_0x5392ff['id'])<-0xab4+0x1c1*0x11+-0x131d||_0x5392ff['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x1b7e1e;const _0x546e39=this['system']['app'],_0x56893e=_0x546e39['scene'],_0x54abd5=_0x56893e['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x56893e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x54abd5&&(this['_evtLayerA'+'dded']=_0x54abd5['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x54abd5['on']('remove',this['onLayerRem'+'oved'],this));const _0x33e97e=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x33e97e&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x96994e=0x8df*-0x1+0x130d*-0x1+0x1bec;_0x96994e<this['_materialR'+'eferences']['length'];_0x96994e++)this['_materialR'+'eferences'][_0x96994e]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x96994e]['asset']);this['_batchGrou'+'pId']>=0x1e9f+-0x1*0x25f1+0x752&&((_0x1b7e1e=_0x546e39['batcher'])==null||_0x1b7e1e['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x1cd7d7,_0xfb4c83,_0x4a2149,_0x2dec9f;const _0x504d8c=this['system']['app'],_0xa8129b=_0x504d8c['scene']['layers'];(_0x1cd7d7=this['_evtLayers'+'Changed'])==null||_0x1cd7d7['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0xa8129b&&((_0xfb4c83=this['_evtLayerA'+'dded'])==null||_0xfb4c83['off'](),this['_evtLayerA'+'dded']=null,(_0x4a2149=this['_evtLayerR'+'emoved'])==null||_0x4a2149['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x15af+0x5*-0x11c+-0x1023&&((_0x2dec9f=_0x504d8c['batcher'])==null||_0x2dec9f['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x48b7f0=-0x1*0x27+-0x189b+0x18c2;_0x48b7f0<this['_meshInsta'+'nces']['length'];_0x48b7f0++)this['_meshInsta'+'nces'][_0x48b7f0]['visible']=!(-0xe*0xb1+0x2*0xb23+-0xc97);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x1ed163=-0x2040+-0x2*-0xad3+0xa9a;_0x1ed163<this['_meshInsta'+'nces']['length'];_0x1ed163++)this['_meshInsta'+'nces'][_0x1ed163]['visible']=!(-0x2299+-0x1ebb*-0x1+0x3de);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x34e3ae;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0xc7ba81=this['_assetRefe'+'rence']['asset']['resource'];(_0x34e3ae=this['_evtSetMes'+'hes'])==null||_0x34e3ae['off'](),this['_evtSetMes'+'hes']=_0xc7ba81['on']('set:meshes',this['_onSetMesh'+'es'],this),_0xc7ba81['meshes']&&this['_onSetMesh'+'es'](_0xc7ba81['meshes']);}}['_onSetMesh'+'es'](_0x2c8e03){this['_cloneMesh'+'es'](_0x2c8e03);}['_clearSkin'+'Instances'](){for(let _0xbd6c30=0x1f5c+0x2*-0x986+-0xc50;_0xbd6c30<this['_meshInsta'+'nces']['length'];_0xbd6c30++){const _0x311335=this['_meshInsta'+'nces'][_0xbd6c30];Vo['removeCach'+'edSkinInst'+'ance'](_0x311335['skinInstan'+'ce']),_0x311335['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x3fedf1=0x37*0x3b+-0x49*0x6b+-0x8eb*-0x2;_0x3fedf1<this['_meshInsta'+'nces']['length'];_0x3fedf1++){const _0x124dd7=this['_meshInsta'+'nces'][_0x3fedf1],_0x5c6226=_0x124dd7['mesh'];_0x5c6226['skin']&&!_0x124dd7['skinInstan'+'ce']&&(_0x124dd7['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x5c6226['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0xb6c8dd){if(_0xb6c8dd&&_0xb6c8dd['length']){const _0x3e0cb8=[];for(let _0x4c1545=-0x2071*0x1+0xca0+0x10b*0x13;_0x4c1545<_0xb6c8dd['length'];_0x4c1545++){const _0x5e5a82=_0xb6c8dd[_0x4c1545],_0x22b69a=this['_materialR'+'eferences'][_0x4c1545]&&this['_materialR'+'eferences'][_0x4c1545]['asset']&&this['_materialR'+'eferences'][_0x4c1545]['asset']['resource'],_0x4704c0=new Le(_0x5e5a82,_0x22b69a||this['system']['defaultMat'+'erial'],this['entity']);_0x3e0cb8['push'](_0x4704c0),_0x5e5a82['morph']&&(_0x4704c0['morphInsta'+'nce']=new fn(_0x5e5a82['morph']));}this['meshInstan'+'ces']=_0x3e0cb8,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x120e79;(_0x120e79=this['_evtSetMes'+'hes'])==null||_0x120e79['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0xd1faed,_0x2ba6a2,_0x47a604){_0x47a604['resource']?this['_onMateria'+'lLoad'](_0xd1faed,_0x2ba6a2,_0x47a604):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x47a604);}['_updateMai'+'nMaterial'](_0x5e9e96,_0x47ceae){_0x5e9e96===0xc*-0x1ad+0x1*0x1b67+0x1*-0x74b&&(this['material']=_0x47ceae);}['_onMateria'+'lLoad'](_0x591b6c,_0x3e6680,_0x49ac47){this['_meshInsta'+'nces'][_0x591b6c]&&(this['_meshInsta'+'nces'][_0x591b6c]['material']=_0x49ac47['resource']),this['_updateMai'+'nMaterial'](_0x591b6c,_0x49ac47['resource']);}['_onMateria'+'lRemove'](_0x4599b7,_0x2c545d,_0x48c717){this['_meshInsta'+'nces'][_0x4599b7]&&(this['_meshInsta'+'nces'][_0x4599b7]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x4599b7,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x5aaec3,_0x3f3341,_0x46ce33){this['_meshInsta'+'nces'][_0x5aaec3]&&(this['_meshInsta'+'nces'][_0x5aaec3]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5aaec3,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2fa96f,_0xeaaf7c){_0x2fa96f['rootBone']&&(this['rootBone']=_0xeaaf7c[_0x2fa96f['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0x1*-0x7f7+0x1568+-0x67*0x49);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x25db83){super(_0x25db83),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x25db83['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x30e43d,_0x8429e8,_0x361437){(_0x8429e8['batchGroup'+'Id']===null||_0x8429e8['batchGroup'+'Id']===void(-0xbbf+-0x15*0x71+0x21a*0xa))&&(_0x8429e8['batchGroup'+'Id']=-(0x1bb8+-0x5dd*0x4+-0x443)),_0x8429e8['layers']&&_0x8429e8['layers']['length']&&(_0x8429e8['layers']=_0x8429e8['layers']['slice'](-0x1e69+-0x4c0+0x2329));for(let _0xda4627=0x1402+0x1869+-0x1*0x2c6b;_0xda4627<Mr['length'];_0xda4627++)_0x8429e8['hasOwnProp'+'erty'](Mr[_0xda4627])&&(_0x30e43d[Mr[_0xda4627]]=_0x8429e8[Mr[_0xda4627]]);_0x8429e8['aabbCenter']&&_0x8429e8['aabbHalfEx'+'tents']&&(_0x30e43d['customAabb']=new _e(new T(_0x8429e8['aabbCenter']),new T(_0x8429e8['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x30e43d,_0x8429e8,pf);}['cloneCompo'+'nent'](_0x525d11,_0x549ea0){const _0x14b0c5={};for(let _0x303c7b=0x9f*-0x19+0x12fb+-0x374;_0x303c7b<Mr['length'];_0x303c7b++)_0x14b0c5[Mr[_0x303c7b]]=_0x525d11['render'][Mr[_0x303c7b]];_0x14b0c5['enabled']=_0x525d11['render']['enabled'],delete _0x14b0c5['meshInstan'+'ces'];const _0x5257ff=this['addCompone'+'nt'](_0x549ea0,_0x14b0c5),_0x561eb2=_0x525d11['render']['meshInstan'+'ces'],_0x10e4ce=_0x561eb2['map'](_0x932bc9=>_0x932bc9['mesh']);_0x5257ff['_onSetMesh'+'es'](_0x10e4ce);for(let _0x580059=0x187+0xada+-0x1*0xc61;_0x580059<_0x561eb2['length'];_0x580059++)_0x5257ff['meshInstan'+'ces'][_0x580059]['material']=_0x561eb2[_0x580059]['material'];return _0x525d11['render']['customAabb']&&(_0x5257ff['customAabb']=_0x525d11['render']['customAabb']['clone']()),_0x5257ff;}['onRemove'](_0x2c5418,_0x117098){_0x117098['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x29999b,_0x32174d){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',-0x1565+0x4*-0x3b0+0x2425*0x1),(this['_construct'+'or']=_0x29999b,this['_resize'](_0x32174d));}['_resize'](_0x4c8718){if(_0x4c8718>this['_pool']['length']){for(let _0x2d07bb=this['_pool']['length'];_0x2d07bb<_0x4c8718;_0x2d07bb++)this['_pool'][_0x2d07bb]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x38*-0x1c+0x1da7+-0x1785)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x1*0x1dc6+-0x1*0x1565+-0x332b*-0x1;}}let Vt,xe,gs,Wn;const pI=new se(),mI=new se(),Ql=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',-0x626*0x4+0x1f21*-0x1+0x13d*0x2d),c(this,'_angularFa'+'ctor',new T(0x2482+0x3bd+-0x283e,-0x1d3*0xc+-0x10ea*0x1+0x26cf*0x1,0x3b3*-0xa+0x2111+0x3ee)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',-0x10a2+0x4*0x59f+-0x5da*0x1+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0xbea+-0x1a*0x2b+0x45*-0x1c),c(this,'_linearFac'+'tor',new T(0xf20*-0x2+-0x107e*-0x2+-0x2bb,0x38f*0x5+0x5d7*-0x4+0x592,0x1fd1+0x157+-0x2127)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',0x2225+0x31*0x6a+-0x2*0x1b37),c(this,'_restituti'+'on',0x175c+0x21a*0x6+0x11fc*-0x2),c(this,'_rollingFr'+'iction',-0x11b*-0xb+0x1d40+-0x2969),c(this,'_simulatio'+'nEnabled',!(0x7*0x2b3+-0x925*-0x1+0x1c09*-0x1)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),Wn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy'](Wn),Vt=null,xe=null,gs=null,Wn=null;}set['angularDam'+'ping'](_0x6c83c7){this['_angularDa'+'mping']!==_0x6c83c7&&(this['_angularDa'+'mping']=_0x6c83c7,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x6c83c7));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x25ba41){this['_angularFa'+'ctor']['equals'](_0x25ba41)||(this['_angularFa'+'ctor']['copy'](_0x25ba41),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x25ba41['x'],_0x25ba41['y'],_0x25ba41['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x2ff2dd){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x2ff2dd['x'],_0x2ff2dd['y'],_0x2ff2dd['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x2ff2dd));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x9a0323=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x9a0323['x'](),_0x9a0323['y'](),_0x9a0323['z']());}return this['_angularVe'+'locity'];}set['body'](_0x6526fa){this['_body']!==_0x6526fa&&(this['_body']=_0x6526fa,_0x6526fa&&this['_simulatio'+'nEnabled']&&_0x6526fa['activate']());}get['body'](){return this['_body'];}set['friction'](_0x50831b){this['_friction']!==_0x50831b&&(this['_friction']=_0x50831b,this['_body']&&this['_body']['setFrictio'+'n'](_0x50831b));}get['friction'](){return this['_friction'];}set['group'](_0x3bc2d6){this['_group']!==_0x3bc2d6&&(this['_group']=_0x3bc2d6,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x494634){this['_linearDam'+'ping']!==_0x494634&&(this['_linearDam'+'ping']=_0x494634,this['_body']&&this['_body']['setDamping'](_0x494634,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x5244fb){this['_linearFac'+'tor']['equals'](_0x5244fb)||(this['_linearFac'+'tor']['copy'](_0x5244fb),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x5244fb['x'],_0x5244fb['y'],_0x5244fb['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x17f25e){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x17f25e['x'],_0x17f25e['y'],_0x17f25e['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x17f25e));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x5a0b8e=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x5a0b8e['x'](),_0x5a0b8e['y'](),_0x5a0b8e['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x2519ff){this['_mask']!==_0x2519ff&&(this['_mask']=_0x2519ff,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x5dcd64){if(this['_mass']!==_0x5dcd64&&(this['_mass']=_0x5dcd64,this['_body']&&this['_type']===ms)){const _0x5a7107=this['enabled']&&this['entity']['enabled'];_0x5a7107&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x5dcd64,xe),this['_body']['setMassPro'+'ps'](_0x5dcd64,xe),this['_body']['updateIner'+'tiaTensor'](),_0x5a7107&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x29a72e){this['_restituti'+'on']!==_0x29a72e&&(this['_restituti'+'on']=_0x29a72e,this['_body']&&this['_body']['setRestitu'+'tion'](_0x29a72e));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x3b3328){this['_rollingFr'+'iction']!==_0x3b3328&&(this['_rollingFr'+'iction']=_0x3b3328,this['_body']&&this['_body']['setRolling'+'Friction'](_0x3b3328));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x5bdc4b){if(this['_type']!==_0x5bdc4b){switch(this['_type']=_0x5bdc4b,this['disableSim'+'ulation'](),_0x5bdc4b){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0xec3f1c=this['entity'];let _0x347d4a;if(_0xec3f1c['collision']&&(_0x347d4a=_0xec3f1c['collision']['shape'],_0xec3f1c['trigger']&&(_0xec3f1c['trigger']['destroy'](),delete _0xec3f1c['trigger'])),_0x347d4a){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x337e8f=this['_type']===ms?this['_mass']:-0x23e6+0x5bb+0x1e2b;this['_getEntity'+'Transform'](Vt);const _0x36e747=this['system']['createBody'](_0x337e8f,_0x347d4a,Vt);if(_0x36e747['setRestitu'+'tion'](this['_restituti'+'on']),_0x36e747['setFrictio'+'n'](this['_friction']),_0x36e747['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x36e747['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x5e7976=this['_linearFac'+'tor'];xe['setValue'](_0x5e7976['x'],_0x5e7976['y'],_0x5e7976['z']),_0x36e747['setLinearF'+'actor'](xe);const _0x2ff6e8=this['_angularFa'+'ctor'];xe['setValue'](_0x2ff6e8['x'],_0x2ff6e8['y'],_0x2ff6e8['z']),_0x36e747['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x36e747['setCollisi'+'onFlags'](_0x36e747['getCollisi'+'onFlags']()|eR),_0x36e747['setActivat'+'ionState'](ag));_0x36e747['entity']=_0xec3f1c,this['body']=_0x36e747,this['enabled']&&_0xec3f1c['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x1345*0x2+-0xf*0x49+0x2242*-0x1);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x394966=this['entity'];if(_0x394966['collision']&&_0x394966['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0xa449b8=this['_body'];if(_0xa449b8){switch(this['system']['addBody'](_0xa449b8,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0xa449b8['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0xa449b8['forceActiv'+'ationState'](ag);break;case so:_0xa449b8['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x394966['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x394966['collision']),_0xa449b8['activate'](),this['_simulatio'+'nEnabled']=!(-0x2511*-0x1+-0x1f92+-0x3*0x1d5);}}}['disableSim'+'ulation'](){const _0x2cae98=this['_body'];if(_0x2cae98&&this['_simulatio'+'nEnabled']){const _0x38a949=this['system'];let _0x263724=_0x38a949['_compounds']['indexOf'](this['entity']['collision']);_0x263724>-(0xf11+-0xd*0x71+0x7*-0x155)&&_0x38a949['_compounds']['splice'](_0x263724,-0x186+0x1dcb*0x1+-0x1c44),_0x263724=_0x38a949['_dynamic']['indexOf'](this),_0x263724>-(0x22ab*0x1+-0xd*0x26f+-0x307)&&_0x38a949['_dynamic']['splice'](_0x263724,0x313*-0x9+-0x2003+0x3baf),_0x263724=_0x38a949['_kinematic']['indexOf'](this),_0x263724>-(0xc75+0x1ddc+-0x2a50)&&_0x38a949['_kinematic']['splice'](_0x263724,-0x1a28+0xb*-0x1bd+-0x3c6*-0xc),_0x38a949['removeBody'](_0x2cae98),_0x2cae98['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(0x97a+-0x1add*0x1+0x15*0xd4);}}['applyForce'](_0x3533e0,_0x538393,_0x898d6c,_0x2a848b,_0x5855c6,_0x697e76){const _0x32f484=this['_body'];_0x32f484&&(_0x32f484['activate'](),_0x3533e0 instanceof T?xe['setValue'](_0x3533e0['x'],_0x3533e0['y'],_0x3533e0['z']):xe['setValue'](_0x3533e0,_0x538393,_0x898d6c),_0x538393 instanceof T?gs['setValue'](_0x538393['x'],_0x538393['y'],_0x538393['z']):_0x2a848b!==void(-0xed7+0xc71+0x266)?gs['setValue'](_0x2a848b,_0x5855c6,_0x697e76):gs['setValue'](-0x1d7f+0x1cf3*-0x1+-0x2*-0x1d39,-0x1aba+-0x1355+0x2e0f,-0x1*0x14b7+-0x4bf+-0x2*-0xcbb),_0x32f484['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x5a3a95,_0x5e1c3c,_0x15be77){const _0x463091=this['_body'];_0x463091&&(_0x463091['activate'](),_0x5a3a95 instanceof T?xe['setValue'](_0x5a3a95['x'],_0x5a3a95['y'],_0x5a3a95['z']):xe['setValue'](_0x5a3a95,_0x5e1c3c,_0x15be77),_0x463091['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x39f4b8,_0xc72b2f,_0x35daf1,_0x59fd90,_0x16cb46,_0x19ef30){const _0x34194b=this['_body'];_0x34194b&&(_0x34194b['activate'](),_0x39f4b8 instanceof T?xe['setValue'](_0x39f4b8['x'],_0x39f4b8['y'],_0x39f4b8['z']):xe['setValue'](_0x39f4b8,_0xc72b2f,_0x35daf1),_0xc72b2f instanceof T?gs['setValue'](_0xc72b2f['x'],_0xc72b2f['y'],_0xc72b2f['z']):_0x59fd90!==void(0x3a*-0x7a+0x1849+0x1*0x35b)?gs['setValue'](_0x59fd90,_0x16cb46,_0x19ef30):gs['setValue'](0x93e+0xe71+0x81*-0x2f,-0x13f3+0x13d*0x5+0xdc2,-0x22a3+0x22d*-0x1+0x24d0),_0x34194b['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x7371ed,_0x24bbd5,_0x4cf54f){const _0x58adb5=this['_body'];_0x58adb5&&(_0x58adb5['activate'](),_0x7371ed instanceof T?xe['setValue'](_0x7371ed['x'],_0x7371ed['y'],_0x7371ed['z']):xe['setValue'](_0x7371ed,_0x24bbd5,_0x4cf54f),_0x58adb5['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x2f8d80){const _0x40e750=this['entity'],_0x1dcc79=_0x40e750['collision'];if(_0x1dcc79){const _0x346c14=_0x1dcc79['getShapePo'+'sition'](),_0x53f307=_0x1dcc79['getShapeRo'+'tation']();xe['setValue'](_0x346c14['x'],_0x346c14['y'],_0x346c14['z']),Wn['setValue'](_0x53f307['x'],_0x53f307['y'],_0x53f307['z'],_0x53f307['w']);}else{const _0x399a38=_0x40e750['getPositio'+'n'](),_0x1e7e61=_0x40e750['getRotatio'+'n']();xe['setValue'](_0x399a38['x'],_0x399a38['y'],_0x399a38['z']),Wn['setValue'](_0x1e7e61['x'],_0x1e7e61['y'],_0x1e7e61['z'],_0x1e7e61['w']);}_0x2f8d80['setOrigin'](xe),_0x2f8d80['setRotatio'+'n'](Wn);}['syncEntity'+'ToBody'](){const _0x3fcbb4=this['_body'];if(_0x3fcbb4){if(this['_getEntity'+'Transform'](Vt),_0x3fcbb4['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x37cc58=_0x3fcbb4['getMotionS'+'tate']();_0x37cc58&&_0x37cc58['setWorldTr'+'ansform'](Vt);}_0x3fcbb4['activate']();}}['_updateDyn'+'amic'](){const _0x7d1792=this['_body'];if(_0x7d1792['isActive']()){const _0x3bf68c=_0x7d1792['getMotionS'+'tate']();if(_0x3bf68c){const _0x256d4d=this['entity'];_0x3bf68c['getWorldTr'+'ansform'](Vt);const _0x4ace08=Vt['getOrigin'](),_0xb19959=Vt['getRotatio'+'n'](),_0x59ed8a=_0x256d4d['collision'];if(_0x59ed8a&&_0x59ed8a['_hasOffset']){const _0x1e198a=_0x59ed8a['data']['linearOffs'+'et'],_0x14de01=_0x59ed8a['data']['angularOff'+'set'],_0xc0d40e=mI['copy'](_0x14de01)['invert'](),_0x50adbd=pI['set'](_0xb19959['x'](),_0xb19959['y'](),_0xb19959['z'](),_0xb19959['w']())['mul'](_0xc0d40e);_0x50adbd['transformV'+'ector'](_0x1e198a,Ql),_0x256d4d['setPositio'+'n'](_0x4ace08['x']()-Ql['x'],_0x4ace08['y']()-Ql['y'],_0x4ace08['z']()-Ql['z']),_0x256d4d['setRotatio'+'n'](_0x50adbd);}else _0x256d4d['setPositio'+'n'](_0x4ace08['x'](),_0x4ace08['y'](),_0x4ace08['z']()),_0x256d4d['setRotatio'+'n'](_0xb19959['x'](),_0xb19959['y'](),_0xb19959['z'](),_0xb19959['w']());}}}['_updateKin'+'ematic'](){const _0x3a934f=this['_body']['getMotionS'+'tate']();_0x3a934f&&(this['_getEntity'+'Transform'](Vt),_0x3a934f['setWorldTr'+'ansform'](Vt));}['teleport'](_0x3877db,_0x31d155,_0x5000ef,_0x10232f,_0x5bae0d,_0x36ebd8){_0x3877db instanceof T?this['entity']['setPositio'+'n'](_0x3877db):this['entity']['setPositio'+'n'](_0x3877db,_0x31d155,_0x5000ef),_0x31d155 instanceof se?this['entity']['setRotatio'+'n'](_0x31d155):_0x31d155 instanceof T?this['entity']['setEulerAn'+'gles'](_0x31d155):_0x10232f!==void(-0x73*0x3+-0x1c77+0x35*0x90)&&this['entity']['setEulerAn'+'gles'](_0x10232f,_0x5bae0d,_0x36ebd8),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(-0x1c5e*0x1+0xa*0x287+0x1*0x319));class _I{constructor(){this['enabled']=!(0x625+0x981+-0xfa6);}}let ai,oi;class xg{constructor(_0x4fba97,_0x1094b1,_0x2eb945,_0x25cf1d){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x4fba97,this['point']=_0x1094b1,this['normal']=_0x2eb945,this['hitFractio'+'n']=_0x25cf1d);}}class gI{constructor(_0xdd2041,_0x717567,_0x43a6ae){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0x1*0x1a7d+-0x233*-0x10+-0x8b3?(this['a']=_0xdd2041,this['b']=_0x717567,this['impulse']=_0x43a6ae['impulse'],this['localPoint'+'A']=_0x43a6ae['localPoint'],this['localPoint'+'B']=_0x43a6ae['localPoint'+'Other'],this['pointA']=_0x43a6ae['point'],this['pointB']=_0x43a6ae['pointOther'],this['normal']=_0x43a6ae['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x69c+0x1*0xf3f+-0x8a3,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x394865=new T(),_0x307cb=new T(),_0x38b721=new T(),_0x6ff03e=new T(),_0x1450fa=new T(),_0x1b9ce7=-0x1f*0x9f+-0x16a+-0x1*-0x14ab){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x394865,this['localPoint'+'Other']=_0x307cb,this['point']=_0x38b721,this['pointOther']=_0x6ff03e,this['normal']=_0x1450fa,this['impulse']=_0x1b9ce7);}}class xI{constructor(_0x5664cd,_0x3264c0){c(this,'other'),c(this,'contacts'),(this['other']=_0x5664cd,this['contacts']=_0x3264c0);}}const px=['enabled'];class mx extends Xe{constructor(_0x4ba5a2){super(_0x4ba5a2),c(this,'maxSubStep'+'s',0x15eb+0x1bc7+-0x38c*0xe),c(this,'fixedTimeS'+'tep',(0x2219+0x4*0x7bf+-0x4114)/(-0x768+-0x49*0x6f+0x7*0x59d)),c(this,'gravity',new T(0x8c*0x3+0x242*-0xe+0x1c*0x112,-(-0x3*0x45b+-0x1dc0+0x2*0x156d+0.8100000000000005),-0x1*0xf0+0x1f78+-0x7a2*0x4)),c(this,'_gravityFl'+'oat32',new Float32Array(0x3*-0x6fc+-0x2d+0x1524)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x4ba5a2['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x1592f0=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x1592f0);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,-0x226*-0x5+0x266b+-0x3128),this['contactRes'+'ultPool']=new Zd(xI,-0xd*-0x1e2+0x5*-0x471+-0x244),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0x1225+0xe*-0x10a+0x345*0xa),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x23d8d4,_0x2273a6,_0x29a081){const _0x1bc6e3=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x5a0ed7 of _0x1bc6e3)if(_0x2273a6['hasOwnProp'+'erty'](_0x5a0ed7)){const _0x36aae1=_0x2273a6[_0x5a0ed7];Array['isArray'](_0x36aae1)?_0x23d8d4[_0x5a0ed7]=new T(_0x36aae1[0x1*-0xabd+0x1d5e+-0x12a1*0x1],_0x36aae1[0x5b0+0x4fb*0x2+-0xfa5],_0x36aae1[-0xa0c+-0x8*0xd3+0x1*0x10a6]):_0x23d8d4[_0x5a0ed7]=_0x36aae1;}super['initialize'+'ComponentD'+'ata'](_0x23d8d4,_0x2273a6,['enabled']);}['cloneCompo'+'nent'](_0x3d487e,_0x316f0a){const _0x5d5090=_0x3d487e['rigidbody'],_0x3a6c54={'enabled':_0x5d5090['enabled'],'mass':_0x5d5090['mass'],'linearDamping':_0x5d5090['linearDamp'+'ing'],'angularDamping':_0x5d5090['angularDam'+'ping'],'linearFactor':[_0x5d5090['linearFact'+'or']['x'],_0x5d5090['linearFact'+'or']['y'],_0x5d5090['linearFact'+'or']['z']],'angularFactor':[_0x5d5090['angularFac'+'tor']['x'],_0x5d5090['angularFac'+'tor']['y'],_0x5d5090['angularFac'+'tor']['z']],'friction':_0x5d5090['friction'],'rollingFriction':_0x5d5090['rollingFri'+'ction'],'restitution':_0x5d5090['restitutio'+'n'],'type':_0x5d5090['type'],'group':_0x5d5090['group'],'mask':_0x5d5090['mask']};return this['addCompone'+'nt'](_0x316f0a,_0x3a6c54);}['onBeforeRe'+'move'](_0x5a461a,_0x448294){_0x448294['enabled']&&(_0x448294['enabled']=!(0x1*0x20bf+-0x4f*0x3a+-0x3b6*0x4)),_0x448294['body']&&(this['destroyBod'+'y'](_0x448294['body']),_0x448294['body']=null);}['addBody'](_0x1d9d99,_0x1c61ec,_0x52fac2){_0x1c61ec!==void(0x23ce+-0x2*-0xde7+-0x8a*0x76)&&_0x52fac2!==void(-0x22b7+0x1c99+-0x30f*-0x2)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1d9d99,_0x1c61ec,_0x52fac2):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1d9d99);}['removeBody'](_0x387ae3){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x387ae3);}['createBody'](_0x384d22,_0x9ffbed,_0x133908){const _0x482eb3=new Ammo['btVector3'](0x1*0x256b+-0x1*-0x2301+-0x1824*0x3,-0x132c+-0x8d8+0x4*0x701,-0x1*0x138e+0x136d*0x1+0x21);_0x384d22!==-0x2384+0x1*-0xfb0+0x4*0xccd&&_0x9ffbed['calculateL'+'ocalInerti'+'a'](_0x384d22,_0x482eb3);const _0x1c6845=new Ammo['btDefaultM'+'otionState'](_0x133908),_0x40f74e=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x384d22,_0x1c6845,_0x9ffbed,_0x482eb3),_0x2927c2=new Ammo['btRigidBod'+'y'](_0x40f74e);return Ammo['destroy'](_0x40f74e),Ammo['destroy'](_0x482eb3),_0x2927c2;}['destroyBod'+'y'](_0x330777){const _0x26991f=_0x330777['getMotionS'+'tate']();_0x26991f&&Ammo['destroy'](_0x26991f),Ammo['destroy'](_0x330777);}['raycastFir'+'st'](_0xdaa448,_0x4027dc,_0x18b94d={}){if(_0x18b94d['filterTags']||_0x18b94d['filterCall'+'back'])return _0x18b94d['sort']=!(0xd03+-0x345+-0x9be),this['raycastAll'](_0xdaa448,_0x4027dc,_0x18b94d)[-0x509+0x1*0x10b+0x3fe]||null;let _0x45012a=null;ai['setValue'](_0xdaa448['x'],_0xdaa448['y'],_0xdaa448['z']),oi['setValue'](_0x4027dc['x'],_0x4027dc['y'],_0x4027dc['z']);const _0x39e8e5=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x18b94d['filterColl'+'isionGroup']=='number'&&_0x39e8e5['set_m_coll'+'isionFilte'+'rGroup'](_0x18b94d['filterColl'+'isionGroup']),typeof _0x18b94d['filterColl'+'isionMask']=='number'&&_0x39e8e5['set_m_coll'+'isionFilte'+'rMask'](_0x18b94d['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x39e8e5),_0x39e8e5['hasHit']()){const _0x2bffe4=_0x39e8e5['get_m_coll'+'isionObjec'+'t'](),_0x56baa4=Ammo['castObject'](_0x2bffe4,Ammo['btRigidBod'+'y']);if(_0x56baa4){const _0x66a461=_0x39e8e5['get_m_hitP'+'ointWorld'](),_0x3da364=_0x39e8e5['get_m_hitN'+'ormalWorld']();_0x45012a=new xg(_0x56baa4['entity'],new T(_0x66a461['x'](),_0x66a461['y'](),_0x66a461['z']()),new T(_0x3da364['x'](),_0x3da364['y'](),_0x3da364['z']()),_0x39e8e5['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x39e8e5),_0x45012a;}['raycastAll'](_0x5da0e1,_0x40135f,_0x343e03={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x42a09a=[];ai['setValue'](_0x5da0e1['x'],_0x5da0e1['y'],_0x5da0e1['z']),oi['setValue'](_0x40135f['x'],_0x40135f['y'],_0x40135f['z']);const _0x17ab17=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x343e03['filterColl'+'isionGroup']=='number'&&_0x17ab17['set_m_coll'+'isionFilte'+'rGroup'](_0x343e03['filterColl'+'isionGroup']),typeof _0x343e03['filterColl'+'isionMask']=='number'&&_0x17ab17['set_m_coll'+'isionFilte'+'rMask'](_0x343e03['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x17ab17),_0x17ab17['hasHit']()){const _0x354d76=_0x17ab17['get_m_coll'+'isionObjec'+'ts'](),_0x5b0f47=_0x17ab17['get_m_hitP'+'ointWorld'](),_0xfaa467=_0x17ab17['get_m_hitN'+'ormalWorld'](),_0x73ddc6=_0x17ab17['get_m_hitF'+'ractions'](),_0x100df9=_0x354d76['size']();for(let _0x2f0062=0x21f5*0x1+-0x2*0xcfc+-0x7fd;_0x2f0062<_0x100df9;_0x2f0062++){const _0x4c1062=Ammo['castObject'](_0x354d76['at'](_0x2f0062),Ammo['btRigidBod'+'y']);if(_0x4c1062&&_0x4c1062['entity']){if(_0x343e03['filterTags']&&!_0x4c1062['entity']['tags']['has'](..._0x343e03['filterTags'])||_0x343e03['filterCall'+'back']&&!_0x343e03['filterCall'+'back'](_0x4c1062['entity']))continue;const _0x37c2bc=_0x5b0f47['at'](_0x2f0062),_0x354679=_0xfaa467['at'](_0x2f0062),_0x596d01=new xg(_0x4c1062['entity'],new T(_0x37c2bc['x'](),_0x37c2bc['y'](),_0x37c2bc['z']()),new T(_0x354679['x'](),_0x354679['y'](),_0x354679['z']()),_0x73ddc6['at'](_0x2f0062));_0x42a09a['push'](_0x596d01);}}_0x343e03['sort']&&_0x42a09a['sort']((_0x2cc395,_0x3403b0)=>_0x2cc395['hitFractio'+'n']-_0x3403b0['hitFractio'+'n']);}return Ammo['destroy'](_0x17ab17),_0x42a09a;}['_storeColl'+'ision'](_0x41b67f,_0x5d912b){let _0x597a41=!(0x1780+0xb*0x1ae+-0x23*0x133);const _0x37842a=_0x41b67f['getGuid']();return this['collisions'][_0x37842a]=this['collisions'][_0x37842a]||{'others':[],'entity':_0x41b67f},this['collisions'][_0x37842a]['others']['indexOf'](_0x5d912b)<0x1b22+0x6*-0x159+0x4*-0x4c3&&(this['collisions'][_0x37842a]['others']['push'](_0x5d912b),_0x597a41=!(-0x6ff*-0x2+-0x1089*-0x1+-0x1e87)),this['frameColli'+'sions'][_0x37842a]=this['frameColli'+'sions'][_0x37842a]||{'others':[],'entity':_0x41b67f},this['frameColli'+'sions'][_0x37842a]['others']['push'](_0x5d912b),_0x597a41;}['_createCon'+'tactPointF'+'romAmmo'](_0x23d80e){const _0x5ccdc2=_0x23d80e['get_m_loca'+'lPointA'](),_0x4d92af=_0x23d80e['get_m_loca'+'lPointB'](),_0x201779=_0x23d80e['getPositio'+'nWorldOnA'](),_0x255183=_0x23d80e['getPositio'+'nWorldOnB'](),_0x39f154=_0x23d80e['get_m_norm'+'alWorldOnB'](),_0x447e31=this['contactPoi'+'ntPool']['allocate']();return _0x447e31['localPoint']['set'](_0x5ccdc2['x'](),_0x5ccdc2['y'](),_0x5ccdc2['z']()),_0x447e31['localPoint'+'Other']['set'](_0x4d92af['x'](),_0x4d92af['y'](),_0x4d92af['z']()),_0x447e31['point']['set'](_0x201779['x'](),_0x201779['y'](),_0x201779['z']()),_0x447e31['pointOther']['set'](_0x255183['x'](),_0x255183['y'](),_0x255183['z']()),_0x447e31['normal']['set'](_0x39f154['x'](),_0x39f154['y'](),_0x39f154['z']()),_0x447e31['impulse']=_0x23d80e['getApplied'+'Impulse'](),_0x447e31;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x11f63e){const _0x179f82=_0x11f63e['get_m_loca'+'lPointA'](),_0x49ff7f=_0x11f63e['get_m_loca'+'lPointB'](),_0x3cbf72=_0x11f63e['getPositio'+'nWorldOnA'](),_0x2ab415=_0x11f63e['getPositio'+'nWorldOnB'](),_0x345a54=_0x11f63e['get_m_norm'+'alWorldOnB'](),_0x4250cc=this['contactPoi'+'ntPool']['allocate']();return _0x4250cc['localPoint'+'Other']['set'](_0x179f82['x'](),_0x179f82['y'](),_0x179f82['z']()),_0x4250cc['localPoint']['set'](_0x49ff7f['x'](),_0x49ff7f['y'](),_0x49ff7f['z']()),_0x4250cc['pointOther']['set'](_0x3cbf72['x'](),_0x3cbf72['y'](),_0x3cbf72['z']()),_0x4250cc['point']['set'](_0x2ab415['x'](),_0x2ab415['y'](),_0x2ab415['z']()),_0x4250cc['normal']['set'](_0x345a54['x'](),_0x345a54['y'](),_0x345a54['z']()),_0x4250cc['impulse']=_0x11f63e['getApplied'+'Impulse'](),_0x4250cc;}['_createSin'+'gleContact'+'Result'](_0x15655c,_0x2f42a0,_0x4fe228){const _0x1d1368=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x1d1368['a']=_0x15655c,_0x1d1368['b']=_0x2f42a0,_0x1d1368['localPoint'+'A']=_0x4fe228['localPoint'],_0x1d1368['localPoint'+'B']=_0x4fe228['localPoint'+'Other'],_0x1d1368['pointA']=_0x4fe228['point'],_0x1d1368['pointB']=_0x4fe228['pointOther'],_0x1d1368['normal']=_0x4fe228['normal'],_0x1d1368['impulse']=_0x4fe228['impulse'],_0x1d1368;}['_createCon'+'tactResult'](_0x90d027,_0x5d5eb1){const _0x4bce7d=this['contactRes'+'ultPool']['allocate']();return _0x4bce7d['other']=_0x90d027,_0x4bce7d['contacts']=_0x5d5eb1,_0x4bce7d;}['_cleanOldC'+'ollisions'](){for(const _0x5b6383 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x5b6383)){const _0x1bc915=this['frameColli'+'sions'][_0x5b6383],_0x21639c=this['collisions'][_0x5b6383],_0x2bd19e=_0x21639c['entity'],_0x1734bb=_0x2bd19e['collision'],_0x4e65a2=_0x2bd19e['rigidbody'],_0x308a49=_0x21639c['others'];let _0x2783d2=_0x308a49['length'];for(;_0x2783d2--;){const _0x44b4dd=_0x308a49[_0x2783d2];(!_0x1bc915||_0x1bc915['others']['indexOf'](_0x44b4dd)<-0xdb8+0xf41+-0x3*0x83)&&(_0x308a49['splice'](_0x2783d2,-0x215b*-0x1+-0x1*-0x233b+-0x4495),_0x2bd19e['trigger']?(_0x1734bb&&_0x1734bb['fire']('triggerlea'+'ve',_0x44b4dd),_0x44b4dd['rigidbody']&&_0x44b4dd['rigidbody']['fire']('triggerlea'+'ve',_0x2bd19e)):_0x44b4dd['trigger']||(_0x4e65a2&&_0x4e65a2['fire']('collisione'+'nd',_0x44b4dd),_0x1734bb&&_0x1734bb['fire']('collisione'+'nd',_0x44b4dd)));}_0x308a49['length']===0x1c0d*-0x1+0xc2f+0xfde&&delete this['collisions'][_0x5b6383];}}['_hasContac'+'tEvent'](_0x37cf36){const _0x301987=_0x37cf36['collision'];if(_0x301987&&(_0x301987['hasEvent']('collisions'+'tart')||_0x301987['hasEvent']('collisione'+'nd')||_0x301987['hasEvent']('contact')))return!(-0x1f*0x4f+-0x1*-0x278+-0x17*-0x4f);const _0x112217=_0x37cf36['rigidbody'];return _0x112217&&(_0x112217['hasEvent']('collisions'+'tart')||_0x112217['hasEvent']('collisione'+'nd')||_0x112217['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x50a9ad,_0x31adea){const _0xba927c=Ammo['wrapPointe'+'r'](_0x50a9ad,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x119b7a=_0xba927c['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x30d88e=0x13ed+0x21a1+0xab6*-0x5;_0x30d88e<_0x119b7a;_0x30d88e++){const _0x486a1d=_0xba927c['getManifol'+'dByIndexIn'+'ternal'](_0x30d88e),_0x5b7286=_0x486a1d['getBody0'](),_0x3966ea=_0x486a1d['getBody1'](),_0x13cac7=Ammo['castObject'](_0x5b7286,Ammo['btRigidBod'+'y']),_0x3b25d9=Ammo['castObject'](_0x3966ea,Ammo['btRigidBod'+'y']),_0x49ecf6=_0x13cac7['entity'],_0x56cb7a=_0x3b25d9['entity'];if(!_0x49ecf6||!_0x56cb7a)continue;const _0xba8663=_0x13cac7['getCollisi'+'onFlags'](),_0xf53bd0=_0x3b25d9['getCollisi'+'onFlags'](),_0x2258d6=_0x486a1d['getNumCont'+'acts'](),_0x58e034=[],_0x18e73a=[];let _0x2d0b60;if(_0x2258d6>-0x920+0x211c+-0x17fc){if(_0xba8663&lo||_0xf53bd0&lo){const _0x368b7f=_0x49ecf6['collision']&&(_0x49ecf6['collision']['hasEvent']('triggerent'+'er')||_0x49ecf6['collision']['hasEvent']('triggerlea'+'ve')),_0x5c40d5=_0x56cb7a['collision']&&(_0x56cb7a['collision']['hasEvent']('triggerent'+'er')||_0x56cb7a['collision']['hasEvent']('triggerlea'+'ve')),_0x12218f=_0x49ecf6['rigidbody']&&(_0x49ecf6['rigidbody']['hasEvent']('triggerent'+'er')||_0x49ecf6['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x53eb85=_0x56cb7a['rigidbody']&&(_0x56cb7a['rigidbody']['hasEvent']('triggerent'+'er')||_0x56cb7a['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x368b7f&&(_0x2d0b60=this['_storeColl'+'ision'](_0x49ecf6,_0x56cb7a),_0x2d0b60&&!(_0xf53bd0&lo)&&_0x49ecf6['collision']['fire']('triggerent'+'er',_0x56cb7a)),_0x5c40d5&&(_0x2d0b60=this['_storeColl'+'ision'](_0x56cb7a,_0x49ecf6),_0x2d0b60&&!(_0xba8663&lo)&&_0x56cb7a['collision']['fire']('triggerent'+'er',_0x49ecf6)),_0x12218f&&(_0x2d0b60||(_0x2d0b60=this['_storeColl'+'ision'](_0x56cb7a,_0x49ecf6)),_0x2d0b60&&_0x49ecf6['rigidbody']['fire']('triggerent'+'er',_0x56cb7a)),_0x53eb85&&(_0x2d0b60||(_0x2d0b60=this['_storeColl'+'ision'](_0x49ecf6,_0x56cb7a)),_0x2d0b60&&_0x56cb7a['rigidbody']['fire']('triggerent'+'er',_0x49ecf6));}else{const _0x897759=this['_hasContac'+'tEvent'](_0x49ecf6),_0x449491=this['_hasContac'+'tEvent'](_0x56cb7a),_0xf78ba8=this['hasEvent']('contact');if(_0xf78ba8||_0x897759||_0x449491){for(let _0x3fd9f1=-0x5*-0x1d8+-0x7bf*0x2+0x646;_0x3fd9f1<_0x2258d6;_0x3fd9f1++){const _0x29a16f=_0x486a1d['getContact'+'Point'](_0x3fd9f1),_0x30ff91=this['_createCon'+'tactPointF'+'romAmmo'](_0x29a16f);if(_0x897759||_0x449491){_0x58e034['push'](_0x30ff91);const _0x74773c=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x29a16f);_0x18e73a['push'](_0x74773c);}if(_0xf78ba8){const _0x33c119=this['_createSin'+'gleContact'+'Result'](_0x49ecf6,_0x56cb7a,_0x30ff91);this['fire']('contact',_0x33c119);}}if(_0x897759){const _0x35437c=this['_createCon'+'tactResult'](_0x56cb7a,_0x58e034);_0x2d0b60=this['_storeColl'+'ision'](_0x49ecf6,_0x56cb7a),_0x49ecf6['collision']&&(_0x49ecf6['collision']['fire']('contact',_0x35437c),_0x2d0b60&&_0x49ecf6['collision']['fire']('collisions'+'tart',_0x35437c)),_0x49ecf6['rigidbody']&&(_0x49ecf6['rigidbody']['fire']('contact',_0x35437c),_0x2d0b60&&_0x49ecf6['rigidbody']['fire']('collisions'+'tart',_0x35437c));}if(_0x449491){const _0x1d65cf=this['_createCon'+'tactResult'](_0x49ecf6,_0x18e73a);_0x2d0b60=this['_storeColl'+'ision'](_0x56cb7a,_0x49ecf6),_0x56cb7a['collision']&&(_0x56cb7a['collision']['fire']('contact',_0x1d65cf),_0x2d0b60&&_0x56cb7a['collision']['fire']('collisions'+'tart',_0x1d65cf)),_0x56cb7a['rigidbody']&&(_0x56cb7a['rigidbody']['fire']('contact',_0x1d65cf),_0x2d0b60&&_0x56cb7a['rigidbody']['fire']('collisions'+'tart',_0x1d65cf));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x126769){let _0x2a6bb5,_0x281c3e;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][0x10d*0x24+-0x54e+-0x2086]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x1599+-0x124+-0x1474]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x1*-0x161+-0x2128+0x1fc9]=this['gravity']['z'];const _0x5ac780=this['dynamicsWo'+'rld']['getGravity']();(_0x5ac780['x']()!==this['_gravityFl'+'oat32'][0x251+-0x1*-0x24f+-0x4a0]||_0x5ac780['y']()!==this['_gravityFl'+'oat32'][0x71f*-0x4+-0x587*-0x3+-0xfe*-0xc]||_0x5ac780['z']()!==this['_gravityFl'+'oat32'][-0x3*0x12d+0x165d+0x5*-0x3c4])&&(_0x5ac780['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x5ac780));const _0x546f95=this['_triggers'];for(_0x2a6bb5=-0x11*0x1e1+-0x1*0x1b35+0x3b26,_0x281c3e=_0x546f95['length'];_0x2a6bb5<_0x281c3e;_0x2a6bb5++)_0x546f95[_0x2a6bb5]['updateTran'+'sform']();const _0x36be13=this['_compounds'];for(_0x2a6bb5=-0x99*-0x27+0x25a1+-0x3cf0,_0x281c3e=_0x36be13['length'];_0x2a6bb5<_0x281c3e;_0x2a6bb5++)_0x36be13[_0x2a6bb5]['_updateCom'+'pound']();const _0x1a9e16=this['_kinematic'];for(_0x2a6bb5=0x619*-0x4+-0x109f+-0x2903*-0x1,_0x281c3e=_0x1a9e16['length'];_0x2a6bb5<_0x281c3e;_0x2a6bb5++)_0x1a9e16[_0x2a6bb5]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x126769,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x37815c=this['_dynamic'];for(_0x2a6bb5=-0x1ad0+-0xb21+0x25f1*0x1,_0x281c3e=_0x37815c['length'];_0x2a6bb5<_0x281c3e;_0x2a6bb5++)_0x37815c[_0x2a6bb5]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x126769),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const $n='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x209a67,_0x388984){super(_0x209a67,_0x388984),this['_resolutio'+'n']=new W(0x1*0x581+0x1778+-0x1a79*0x1,-0x1686+0x34a*0x6+0x40a),this['_reference'+'Resolution']=new W(-0x49b+0x2*0xa5b+0x81*-0x1b,0x299+0xa72*0x1+-0xbcb*0x1),this['_scaleMode']=$n,this['scale']=-0x190+0x780*0x1+-0x5ef,this['_scaleBlen'+'d']=0x6d*0xe+-0x25af+0x1fb9+0.5,this['_priority']=-0x277*0x6+-0x1c4c+-0x89e*-0x5,this['_screenSpa'+'ce']=!(0x167b+-0x93b*-0x4+-0x1*0x3b66),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x209a67['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0xeff194,_0x1bf8fd){var _0x62722;if(!(_0xeff194 instanceof We))return _0x1bf8fd;if(_0xeff194['element']){const _0x17fc94=_0xeff194['element']['drawOrder'];_0xeff194['element']['drawOrder']=_0x1bf8fd++,_0xeff194['element']['_batchGrou'+'pId']>=0x12dc+-0x1*-0x127c+-0x1*0x2558&&_0x17fc94!==_0xeff194['element']['drawOrder']&&((_0x62722=this['system']['app']['batcher'])==null||_0x62722['markGroupD'+'irty'](_0xeff194['element']['_batchGrou'+'pId']));}_0xeff194['particlesy'+'stem']&&(_0xeff194['particlesy'+'stem']['drawOrder']=_0x1bf8fd++);const _0x2725f7=_0xeff194['children'];for(let _0x1d2f9f=0xf0b+0x74*0x47+0x4f*-0x99;_0x1d2f9f<_0x2725f7['length'];_0x1d2f9f++)_0x1bf8fd=this['_recurseDr'+'awOrderSyn'+'c'](_0x2725f7[_0x1d2f9f],_0x1bf8fd);return _0x1bf8fd;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x3df*0x1+-0x237a+0x2*0xfce),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x5e6dda=this['_resolutio'+'n']['x']/this['scale'],_0x167dce=this['_resolutio'+'n']['y']/this['scale'],_0xb7fd22=-0x8*0x9+-0x1dd0+0x1e18,_0x2934b7=_0x5e6dda,_0x54744d=-_0x167dce;this['_screenMat'+'rix']['setOrtho'](_0xb7fd22,_0x2934b7,_0x54744d,-0x16c4+0x3*0x6c5+0x275,-0xa06+-0x23dd*-0x1+-0x19d6,-(0x4f*0x3e+0x31f*-0x9+0x8f6)),this['_screenSpa'+'ce']||(Sg['setScale']((0x7fb*-0x3+0x323+0x14ce+0.5)*_0x5e6dda,(0x79c+0x2249+-0xd*0x339+0.5)*_0x167dce,-0x393*-0x2+-0x1*0x2197+-0x54a*-0x5),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x1b9762,_0x45b2cb){const _0x5c819d=Math['log2']((_0x1b9762['x']||0x2*0x107b+-0x720*-0x2+0x2f35*-0x1)/_0x45b2cb['x']),_0x13beb0=Math['log2']((_0x1b9762['y']||-0x3c3+-0x4*-0x347+-0x17*0x68)/_0x45b2cb['y']);return Math['pow'](-0x1b95+0x2*-0xc9d+0x34d1,_0x5c819d*(0x2*-0xd39+-0x1d*0x12c+0x3c6f-this['_scaleBlen'+'d'])+_0x13beb0*this['_scaleBlen'+'d']);}['_onResize'](_0x2c14a6,_0x24a91f){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x2c14a6,_0x24a91f),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x1ec15a){this['_elements']['add'](_0x1ec15a);}['_unbindEle'+'ment'](_0x4e0d90){this['_elements']['delete'](_0x4e0d90);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x1be273=>_0x1be273['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x2d646d){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x2d646d['x'],_0x2d646d['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x1221bf=>_0x1221bf['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x896c21){this['_reference'+'Resolution']['set'](_0x896c21['x'],_0x896c21['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x7efb29=>_0x7efb29['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===$n?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x54f3bd){this['_screenSpa'+'ce']=_0x54f3bd,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x5c866e=>_0x5c866e['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x51a05d){_0x51a05d!==$n&&_0x51a05d!==SI&&(_0x51a05d=$n),!this['_screenSpa'+'ce']&&_0x51a05d!==$n&&(_0x51a05d=$n),this['_scaleMode']=_0x51a05d,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x58ab7b){this['_scaleBlen'+'d']=_0x58ab7b,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x46d020=>_0x46d020['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x25b6e2){_0x25b6e2>-0x1b89+-0x11cf+-0x2e57*-0x1&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x25b6e2+'\x20to\x20255'),_0x25b6e2=-0xc*-0x8d+0x2272+-0x1*0x280f),this['_priority']!==_0x25b6e2&&(this['_priority']=_0x25b6e2,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0xba*-0xb+0x1e80+-0x267e);}}const mf=['enabled'];class bI extends Xe{constructor(_0x1585d6){super(_0x1585d6),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4f7a3a,_0x1612b8,_0x4cb392){_0x1612b8['priority']!==void(0x2*-0x1f3+0x359*0xb+-0x20ed)&&(_0x4f7a3a['priority']=_0x1612b8['priority']),_0x1612b8['screenSpac'+'e']!==void(0x12de+-0x20c9*-0x1+-0x33a7*0x1)&&(_0x4f7a3a['screenSpac'+'e']=_0x1612b8['screenSpac'+'e']),_0x4f7a3a['cull']=_0x4f7a3a['screenSpac'+'e'],_0x1612b8['scaleMode']!==void(-0x8*-0x364+0x1b7b+0x369b*-0x1)&&(_0x4f7a3a['scaleMode']=_0x1612b8['scaleMode']),_0x1612b8['scaleBlend']!==void(-0x646+0xcc3+-0x67d*0x1)&&(_0x4f7a3a['scaleBlend']=_0x1612b8['scaleBlend']),_0x1612b8['resolution']!==void(-0x130+-0x1ef6+0x2026)&&(_0x1612b8['resolution']instanceof W?_0x4f7a3a['_resolutio'+'n']['copy'](_0x1612b8['resolution']):_0x4f7a3a['_resolutio'+'n']['set'](_0x1612b8['resolution'][-0x6f*0xa+0x2627+0x1*-0x21d1],_0x1612b8['resolution'][-0x1c25+-0x160b+0x3231]),_0x4f7a3a['resolution']=_0x4f7a3a['_resolutio'+'n']),_0x1612b8['referenceR'+'esolution']!==void(-0x8b*-0x3+-0x3f7+0x256)&&(_0x1612b8['referenceR'+'esolution']instanceof W?_0x4f7a3a['_reference'+'Resolution']['copy'](_0x1612b8['referenceR'+'esolution']):_0x4f7a3a['_reference'+'Resolution']['set'](_0x1612b8['referenceR'+'esolution'][0x260f+0x5df*-0x1+0x28*-0xce],_0x1612b8['referenceR'+'esolution'][-0x134f+-0x27*-0x9b+-0x44d]),_0x4f7a3a['referenceR'+'esolution']=_0x4f7a3a['_reference'+'Resolution']),_0x4f7a3a['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x4f7a3a,_0x1612b8,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0xcb3e01){const _0x3970da=this['store'];for(const _0x42df00 in _0x3970da)_0x3970da[_0x42df00]['entity']['screen']['update']&&_0x3970da[_0x42df00]['entity']['screen']['update'](_0xcb3e01);}['_onResize'](_0x15b3ba,_0x4186a0){this['windowReso'+'lution']['x']=_0x15b3ba,this['windowReso'+'lution']['y']=_0x4186a0;}['cloneCompo'+'nent'](_0x561048,_0x39a412){const _0x5a7061=_0x561048['screen'];return this['addCompone'+'nt'](_0x39a412,{'enabled':_0x5a7061['enabled'],'screenSpace':_0x5a7061['screenSpac'+'e'],'scaleMode':_0x5a7061['scaleMode'],'resolution':_0x5a7061['resolution']['clone'](),'referenceResolution':_0x5a7061['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x391be6,_0x392d81){_0x392d81['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x1bc4c2=this['_drawOrder'+'SyncQueue']['list']();for(let _0x5e140d=-0x40e*0x1+0x1*0x13ac+-0x2*0x7cf;_0x5e140d<_0x1bc4c2['length'];_0x5e140d++){const _0x405778=_0x1bc4c2[_0x5e140d];_0x405778['callback']['call'](_0x405778['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x38d506,_0x2870e7,_0xf44dc8){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x38d506)||this['_drawOrder'+'SyncQueue']['push'](_0x38d506,{'callback':_0x2870e7,'scope':_0xf44dc8});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new W(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x31d681,_0x2111f3){if(super(),!_0x31d681||!(_0x31d681 instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x2111f3&&_0x2111f3!=='x'&&_0x2111f3!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x2111f3);this['_element']=_0x31d681,this['_app']=_0x31d681['system']['app'],this['_axis']=_0x2111f3||null,this['_enabled']=!(-0x1f*-0x31+0x724*0x1+0xd13*-0x1),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(-0x1b0f+-0xe8b+-0x1*-0x299b),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x445564){this['_element'][_0x445564]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x445564]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x445564]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x2edf27){const _0x1f1cc7=_0x2edf27==='on';this['_hasDragLi'+'steners']&&_0x1f1cc7||(this['_app']['mouse']&&(this['_element'][_0x2edf27]('mousemove',this['_onMove'],this),this['_element'][_0x2edf27]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x2edf27]('touchmove',this['_onMove'],this),this['_element'][_0x2edf27]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x2edf27]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x2edf27]('selectmove',this['_onMove'],this),this['_element'][_0x2edf27]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x1f1cc7);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x45a76d){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x45a76d['camera'],this['_calculate'+'DragScale']();const _0x550a3d=this['_screenToL'+'ocal'](_0x45a76d);_0x550a3d&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0x1*-0x5f2+-0x205*0x2+-0x8e*-0x12),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x550a3d),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x2072*0x1+0x7ad+0xd*-0x316),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x4f365b){return _0x4f365b['inputSourc'+'e']?Pr['set'](_0x4f365b['inputSourc'+'e']['getOrigin'](),_0x4f365b['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x4f365b),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x1d9f*0x1+0x56*-0x19+-0x1538)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x1bd3a6){const _0x4ab0ac=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x1bd3a6['x']<'u'&&typeof _0x1bd3a6['y']<'u'?(qi['x']=_0x1bd3a6['x']*_0x4ab0ac,qi['y']=_0x1bd3a6['y']*_0x4ab0ac):_0x1bd3a6['changedTou'+'ches']?(qi['x']=_0x1bd3a6['changedTou'+'ches'][0x1*0x141d+-0x2*-0x102+-0x1621]['x']*_0x4ab0ac,qi['y']=_0x1bd3a6['changedTou'+'ches'][0x20f6+0x94a+-0x2a40]['y']*_0x4ab0ac):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0x1*0xf86+0x24da+-0x14*0x111),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],0x1*0x26bd+-0x2d7+-0x23e5)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x208a1c=this['_element']['entity']['parent'];const _0x2e6bcd=this['_element']['screen']&&this['_element']['screen']['screen'],_0x3e9889=_0x2e6bcd&&_0x2e6bcd['screenSpac'+'e'],_0x29719c=_0x3e9889?_0x2e6bcd['scale']:0x482*0x4+-0x268f+0x1488,_0x2e9454=this['_dragScale'];for(_0x2e9454['set'](_0x29719c,_0x29719c,_0x29719c);_0x208a1c&&(_0x2e9454['mul'](_0x208a1c['getLocalSc'+'ale']()),_0x208a1c=_0x208a1c['parent'],!(_0x3e9889&&_0x208a1c['screen'])););_0x2e9454['x']=(-0x1*0x1894+-0xf11+0x27a6)/_0x2e9454['x'],_0x2e9454['y']=(-0x826+-0x11*0x13c+0x1*0x1d23)/_0x2e9454['y'],_0x2e9454['z']=-0x1aeb+0x45*0x65+-0x4e;}['_onMove'](_0x146e6c){const {_element:_0xe1cbb1,_deltaMousePosition:_0x1f5d12,_deltaHandlePosition:_0x59c5ca,_axis:_0x262a68}=this;if(_0xe1cbb1&&this['_isDraggin'+'g']&&this['enabled']&&_0xe1cbb1['enabled']&&_0xe1cbb1['entity']['enabled']){const _0x384f85=this['_screenToL'+'ocal'](_0x146e6c);if(_0x384f85){if(_0x1f5d12['sub2'](_0x384f85,this['_dragStart'+'MousePosit'+'ion']),_0x59c5ca['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x1f5d12),_0x262a68){const _0x394263=_0xe1cbb1['entity']['getLocalPo'+'sition'](),_0xa54372=TI[_0x262a68];_0x59c5ca[_0xa54372]=_0x394263[_0xa54372];}_0xe1cbb1['entity']['setLocalPo'+'sition'](_0x59c5ca),this['fire']('drag:move',_0x59c5ca);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x2294b9){this['_enabled']=_0x2294b9;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x499*-0x2+0x2*-0xb75+0x2*0x6dc,Tg=0x1f7c+-0x543*0x3+0x23e*-0x7,EI=-0x5*0x4c7+0xc1f+0xbc6,CI=0x10e6+0x2*0x1bb+-0x145c,MI=-0x1559*-0x1+0x19b9+-0x1*0x2f11,ro=new W();class gx extends ue{constructor(_0x4ff3b7,_0x2adfc4){super(_0x4ff3b7,_0x2adfc4),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x264b+0x3ec*0x8+-0x45aa),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x2f88ca=this['system']['store'][this['entity']['getGuid']()];return _0x2f88ca?_0x2f88ca['data']:null;}set['enabled'](_0x1093b4){this['_setValue']('enabled',_0x1093b4);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x2f7817){this['_setValue']('horizontal',_0x2f7817);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x4c8ed0){this['_setValue']('vertical',_0x4c8ed0);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x530d67){this['_setValue']('scrollMode',_0x530d67);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0xb7a947){this['_setValue']('bounceAmou'+'nt',_0xb7a947);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x548b0f){this['_setValue']('friction',_0x548b0f);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x387d13){this['_setValue']('dragThresh'+'old',_0x387d13);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x47560f){this['_setValue']('useMouseWh'+'eel',_0x47560f);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x236476){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x236476);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x3b88f9){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x3b88f9);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x214ecf){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x214ecf);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x4fde7f){if(this['_viewportE'+'ntity']===_0x4fde7f)return;const _0x5a341a=typeof _0x4fde7f=='string';this['_viewportE'+'ntity']&&_0x5a341a&&this['_viewportE'+'ntity']['getGuid']()===_0x4fde7f||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x4fde7f instanceof De?this['_viewportE'+'ntity']=_0x4fde7f:_0x5a341a?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x4fde7f)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x5a341a&&_0x4fde7f&&(this['data']['viewportEn'+'tity']=_0x4fde7f));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x422b97){if(this['_contentEn'+'tity']===_0x422b97)return;const _0x3a1894=typeof _0x422b97=='string';this['_contentEn'+'tity']&&_0x3a1894&&this['_contentEn'+'tity']['getGuid']()===_0x422b97||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x422b97 instanceof De?this['_contentEn'+'tity']=_0x422b97:_0x3a1894?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x422b97)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x3a1894&&_0x422b97&&(this['data']['contentEnt'+'ity']=_0x422b97));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x1db13e){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x1db13e)return;const _0x17bc29=typeof _0x1db13e=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x17bc29&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x1db13e||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x1db13e instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x1db13e:_0x17bc29?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x1db13e)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x17bc29&&_0x1db13e&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x1db13e));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x4a030b){if(this['_verticalS'+'crollbarEn'+'tity']===_0x4a030b)return;const _0x2592c7=typeof _0x4a030b=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x2592c7&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x4a030b||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x4a030b instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x4a030b:_0x2592c7?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x4a030b)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x2592c7&&_0x4a030b&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x4a030b));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0xf102f7){this['_onSetScro'+'ll'](_0xf102f7['x'],_0xf102f7['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x5e7dba,_0x1e9beb){const _0x3ea536=this['data'],_0xb67b85=_0x3ea536[_0x5e7dba];_0x3ea536[_0x5e7dba]=_0x1e9beb,this['fire']('set',_0x5e7dba,_0xb67b85,_0x1e9beb);}['_toggleLif'+'ecycleList'+'eners'](_0x4d72d2){this[_0x4d72d2]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x4d72d2]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x4d72d2]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x5b7ef7){if(this['entity']['element']){if(_0x5b7ef7==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x5b7ef7]('resize',this['_syncAll'],this),this['entity']['element'][_0x5b7ef7](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x5b7ef7==='on';}}['_onElement'+'ComponentA'+'dd'](_0x198524){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x400ae2){var _0x2bc3f0;(_0x2bc3f0=this['_evtElemen'+'tRemove'])==null||_0x2bc3f0['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x4137f2,_0x501b16;(_0x4137f2=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x4137f2['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x501b16=this['_viewportE'+'ntity'])!=null&&_0x501b16['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x3f8098=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x3f8098['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x3f8098['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x229631,_0xfaaa8e;(_0x229631=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x229631['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0xfaaa8e=this['_evtViewpo'+'rtResize'])==null||_0xfaaa8e['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x5040f3,_0x69c275;(_0x5040f3=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x5040f3['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x69c275=this['_contentEn'+'tity'])!=null&&_0x69c275['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x1fc2e7=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x1fc2e7['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x1fc2e7['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x5e188a,_0x2cdbb3;(_0x5e188a=this['_evtConten'+'tElementRe'+'move'])==null||_0x5e188a['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x2cdbb3=this['_evtConten'+'tResize'])==null||_0x2cdbb3['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x422427){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0xf2d+-0x67*0x5+0x1130),this['_setScroll'+'FromConten'+'tPosition'](_0x422427),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x422427),!this['_disabledC'+'ontentInpu'+'t'])){const _0x50f4c2=_0x422427['x']-this['_dragStart'+'Position']['x'],_0x5bea8b=_0x422427['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x50f4c2)>this['dragThresh'+'old']||Math['abs'](_0x5bea8b)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x4a454e;(_0x4a454e=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x4a454e['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x4386b8;(_0x4386b8=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x4386b8['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x20709e){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x20709e,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x1ac3ad){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x1ac3ad);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x341cfe;const _0x1b8f22=(_0x341cfe=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x4c*-0x5+-0x5*-0x9+0x5*-0x55):_0x341cfe['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x1b8f22['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x1b8f22['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x3e2d0b;const _0x1e5576=(_0x3e2d0b=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0xe*-0xd9+-0x13d6+0x1fb4):_0x3e2d0b['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x1e5576['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x1e5576['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x5aa037,_0x1b8daa;(_0x5aa037=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x5aa037['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x1b8daa=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x1b8daa['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x2beedd,_0x239439;(_0x2beedd=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x2beedd['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x239439=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x239439['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x16a80a,_0x4a66fd,_0x3f67a2){_0x3f67a2!==!(-0x1*0xd99+0x11a3+0x1*-0x409)&&this['_velocity']['set'](0x16e*0x13+-0xd*0x1db+-0x30b,-0x491*0x3+-0xcc4+0x1a77,-0x1*0x2287+0x295*-0x2+-0x9*-0x469);const _0x2d6e3c=this['_updateAxi'+'s'](_0x16a80a,'x',pe),_0x2287ea=this['_updateAxi'+'s'](_0x4a66fd,'y',ke);(_0x2d6e3c||_0x2287ea)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x18810c,_0x2b9036,_0x50343d){const _0x55caf4=_0x18810c!==null&&Math['abs'](_0x18810c-this['_scroll'][_0x2b9036])>-0x5ae*-0x1+0xbc8+-0x1176+0.00001;return(_0x55caf4||this['_isDraggin'+'g']()||_0x18810c===0xf6f*-0x1+0x773*-0x1+-0xca*-0x1d)&&(this['_scroll'][_0x2b9036]=this['_determine'+'NewScrollV'+'alue'](_0x18810c,_0x2b9036,_0x50343d),this['_syncConte'+'ntPosition'](_0x50343d),this['_syncScrol'+'lbarPositi'+'on'](_0x50343d)),_0x55caf4;}['_determine'+'NewScrollV'+'alue'](_0xc195dd,_0x1b699d,_0x5e22d5){if(!this['_getScroll'+'ingEnabled'](_0x5e22d5))return this['_scroll'][_0x1b699d];switch(this['scrollMode']){case AI:return N['clamp'](_0xc195dd,0x194f+-0x1*0x1373+-0x5dc,this['_getMaxScr'+'ollValue'](_0x5e22d5));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0xc195dd,_0x1b699d,_0x5e22d5),_0xc195dd;case EI:return _0xc195dd;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0xc195dd;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x2d20f8){if(!this['_contentEn'+'tity'])return;const _0x38dba1=this['_getAxis'](_0x2d20f8),_0x3a9386=this['_getSign'](_0x2d20f8),_0x3a3d54=this['_prevConte'+'ntSizes'][_0x2d20f8],_0x5920d0=this['_getConten'+'tSize'](_0x2d20f8);if(_0x3a3d54!==null&&Math['abs'](_0x3a3d54-_0x5920d0)>0xf35+0x255b+-0x10*0x349+0.0001){const _0x1735bc=this['_getMaxOff'+'set'](_0x2d20f8,_0x3a3d54),_0x1afea5=this['_getMaxOff'+'set'](_0x2d20f8,_0x5920d0);_0x1afea5===0x1*0x1888+-0xfa4+-0x8e4?this['_scroll'][_0x38dba1]=0xb5e*0x1+0x2*0x1099+0x29f*-0x11:this['_scroll'][_0x38dba1]=N['clamp'](this['_scroll'][_0x38dba1]*_0x1735bc/_0x1afea5,-0xf21+-0xf10+0x1e31,-0xc07+-0x366*0x4+0x1*0x19a0);}const _0x119802=this['_scroll'][_0x38dba1]*this['_getMaxOff'+'set'](_0x2d20f8),_0x526f25=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x526f25[_0x38dba1]=_0x119802*_0x3a9386,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x526f25),this['_prevConte'+'ntSizes'][_0x2d20f8]=_0x5920d0;}['_syncScrol'+'lbarPositi'+'on'](_0x4d1978){const _0x5b6f30=this['_scrollbar'+'Entities'][_0x4d1978];if(!(_0x5b6f30!=null&&_0x5b6f30['scrollbar']))return;const _0x348126=this['_getAxis'](_0x4d1978);this['_scrollbar'+'UpdateFlag'+'s'][_0x4d1978]=!(-0xa05+-0x71*-0x4b+-0xf*0x18a),_0x5b6f30['scrollbar']['value']=this['_scroll'][_0x348126],_0x5b6f30['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x348126,_0x4d1978),this['_scrollbar'+'UpdateFlag'+'s'][_0x4d1978]=!(0x23ae+-0x1*0x1add+0x5e*-0x18);}['_syncScrol'+'lbarEnable'+'dState'](_0xce5ada){const _0x5d1f2f=this['_scrollbar'+'Entities'][_0xce5ada];if(!_0x5d1f2f)return;const _0x426048=this['_getScroll'+'ingEnabled'](_0xce5ada),_0x1ac9f4=this['_getScroll'+'barVisibil'+'ity'](_0xce5ada);switch(_0x1ac9f4){case CI:_0x5d1f2f['enabled']=_0x426048;return;case MI:_0x5d1f2f['enabled']=_0x426048&&this['_contentIs'+'LargerThan'+'Viewport'](_0xce5ada);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x1ac9f4),_0x5d1f2f['enabled']=_0x426048;}}['_contentIs'+'LargerThan'+'Viewport'](_0x38047c){return this['_getConten'+'tSize'](_0x38047c)>this['_getViewpo'+'rtSize'](_0x38047c);}['_contentPo'+'sitionToSc'+'rollValue'](_0x94f6a2){const _0x5db1b0=this['_getMaxOff'+'set'](pe),_0x3cd901=this['_getMaxOff'+'set'](ke);return _0x5db1b0===-0x1*0x2402+0x33c+0x20c6?ro['x']=0xcc+-0x1935+0x1869:ro['x']=_0x94f6a2['x']/_0x5db1b0,_0x3cd901===-0x477+0x46e*0x4+-0xd41?ro['y']=0x1*-0x209+0x1*0x23c6+0x21bd*-0x1:ro['y']=_0x94f6a2['y']/-_0x3cd901,ro;}['_getMaxOff'+'set'](_0x74867a,_0x443233){_0x443233=_0x443233===void(0x24c7+0x1786+-0x3c4d)?this['_getConten'+'tSize'](_0x74867a):_0x443233;const _0x41f563=this['_getViewpo'+'rtSize'](_0x74867a);return _0x443233<_0x41f563?-this['_getViewpo'+'rtSize'](_0x74867a):_0x41f563-_0x443233;}['_getMaxScr'+'ollValue'](_0x2634ef){return this['_contentIs'+'LargerThan'+'Viewport'](_0x2634ef)?0x67*0x1d+0x1e14+-0x29be*0x1:-0x1a11*0x1+-0x2c7*-0x1+0xb*0x21e;}['_getScroll'+'barHandleS'+'ize'](_0x412403,_0x4eedb2){const _0x2f78c7=this['_getViewpo'+'rtSize'](_0x4eedb2),_0x3e1bd9=this['_getConten'+'tSize'](_0x4eedb2);if(Math['abs'](_0x3e1bd9)<0x2581+-0x1d96+-0x7eb+0.001)return 0x117+-0xd*-0x29f+-0x2329;const _0x42da05=Math['min'](_0x2f78c7/_0x3e1bd9,-0x2401+-0x180b+-0x1*-0x3c0d),_0x1cf7dd=this['_toOversho'+'ot'](this['_scroll'][_0x412403],_0x4eedb2);return _0x1cf7dd===-0x11c*0x20+-0x2212+-0x112*-0x41?_0x42da05:_0x42da05/(0x24a8+-0x143*-0x8+-0x2ebf+Math['abs'](_0x1cf7dd));}['_getViewpo'+'rtSize'](_0x561de7){return this['_getSize'](_0x561de7,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0xe32fc8){return this['_getSize'](_0xe32fc8,this['_contentEn'+'tity']);}['_getSize'](_0x40e781,_0x4fb859){return _0x4fb859!=null&&_0x4fb859['element']?_0x4fb859['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x40e781)]:-0x9c+0x8*-0x3fb+0x2074;}['_getScroll'+'ingEnabled'](_0x1bec6e){if(_0x1bec6e===pe)return this['horizontal'];if(_0x1bec6e===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x1bec6e);}['_getScroll'+'barVisibil'+'ity'](_0x5832d7){if(_0x5832d7===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x5832d7===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x5832d7);}['_getSign'](_0x2d6918){return _0x2d6918===pe?-0x62a+-0xae7+-0x5f*-0x2e:-(0xb*0xe0+-0x2*-0x572+-0x1*0x1483);}['_getAxis'](_0x521c7e){return _0x521c7e===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x3252c9){return _0x3252c9===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x91*0x44+-0x22*0xc2+-0x40*0x33+0.0001||Math['abs'](this['_velocity']['y'])>-0x2ff*0xc+0x2*-0x73f+0x3272+0.0001){const _0x394c7d=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x394c7d['x']+=this['_velocity']['x'],_0x394c7d['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x394c7d),this['_setScroll'+'FromConten'+'tPosition'](_0x394c7d);}this['_velocity']['x']*=0x21d*-0xb+0x543+-0x1*-0x11fd-this['friction'],this['_velocity']['y']*=-0x159d+0x1*0xb5d+0x19*0x69-this['friction'];}}['_hasOversh'+'oot'](_0x4d827f,_0x165392){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x4d827f],_0x165392))>-0xa0*-0x13+-0x1*0xc0c+-0x1*-0x2c+0.001;}['_toOversho'+'ot'](_0xcdcae1,_0x5b0355){const _0x415e6d=this['_getMaxScr'+'ollValue'](_0x5b0355);return _0xcdcae1<0x671+0xcdd+0x2c2*-0x7?_0xcdcae1:_0xcdcae1>_0x415e6d?_0xcdcae1-_0x415e6d:-0x1*0x112a+-0x1bb5+-0x15*-0x223;}['_setVeloci'+'tyFromOver'+'shoot'](_0x286689,_0x496141,_0x132216){const _0x250357=this['_toOversho'+'ot'](_0x286689,_0x132216)*this['_getMaxOff'+'set'](_0x132216)*this['_getSign'](_0x132216);Math['abs'](_0x250357)>0x20*-0x1a+0x3*0x9a7+-0x19b5*0x1&&(this['_velocity'][_0x496141]=-_0x250357/(this['bounceAmou'+'nt']*(0x3*-0xcc9+-0xa03+0x612*0x8)+(0x2*-0x65+-0x1*0x15c4+0x19*0xe7)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x94a0bc){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x94a0bc,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x94a0bc)):(this['_velocity']['set'](-0x1975+0xc3c+0xd39,-0x1c27*-0x1+-0x67*0x2a+0x1*-0xb41,0x523+-0xf35+0xa12),this['_prevConte'+'ntDragPosi'+'tion']=_0x94a0bc['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x317d3a){let _0x22ed9b=this['_contentPo'+'sitionToSc'+'rollValue'](_0x317d3a);this['_isDraggin'+'g']()&&(_0x22ed9b=this['_applyScro'+'llValueTen'+'sion'](_0x22ed9b)),this['_onSetScro'+'ll'](_0x22ed9b['x'],_0x22ed9b['y'],!(0x8*0x3c7+0x1340+-0x3177));}['_applyScro'+'llValueTen'+'sion'](_0x511f09){let _0x1e29f8=this['_getMaxScr'+'ollValue'](pe),_0x496906=this['_toOversho'+'ot'](_0x511f09['x'],pe);return _0x496906>-0x13*-0x20+-0x25d4+0x2*0x11ba?_0x511f09['x']=_0x1e29f8+(0x2f*0xa3+0x2*0x134c+-0x4484)*Math['log10'](0x812+-0x144b+0xa*0x139+_0x496906):_0x496906<0x11*0x59+-0x1*-0x19af+-0x1f98*0x1&&(_0x511f09['x']=-(0x1f56+0xb6b+0x2ac0*-0x1)*Math['log10'](-0x1065+-0x213c+0x31a2*0x1-_0x496906)),_0x1e29f8=this['_getMaxScr'+'ollValue'](ke),_0x496906=this['_toOversho'+'ot'](_0x511f09['y'],ke),_0x496906>0x1*-0x779+-0x727+0xea0?_0x511f09['y']=_0x1e29f8+(0x1ba7+-0x1ec7*-0x1+-0x3a6d)*Math['log10'](0x1ad+-0xf0b*0x1+0xd5f+_0x496906):_0x496906<-0x1231+0x3a6*-0x4+0x20c9&&(_0x511f09['y']=-(0xbc5*-0x3+-0x247*0x2+0x27de)*Math['log10'](0x2564+0x1eb*-0x1+-0x11bc*0x2-_0x496906)),_0x511f09;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x4bbe14){var _0x374df3,_0x2509fa;(_0x374df3=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x374df3['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x4bbe14),(_0x2509fa=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x2509fa['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x4bbe14);}['_setConten'+'tDraggingE'+'nabled'](_0x46c7ff){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x46c7ff);}['_onMouseWh'+'eel'](_0x43487c){var _0x34bae8;if(!this['useMouseWh'+'eel']||!((_0x34bae8=this['_contentEn'+'tity'])!=null&&_0x34bae8['element']))return;const _0x2e6471=_0x43487c['event'],_0x2e03f2=_0x2e6471['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x54e007=_0x2e6471['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x491702=N['clamp'](this['_scroll']['x']+_0x2e03f2,0x1*-0x2447+0x137b+0x10cc,this['_getMaxScr'+'ollValue'](pe)),_0xcf2b83=N['clamp'](this['_scroll']['y']+_0x54e007,-0x119e+0xf2d+0x271,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new W(_0x491702,_0xcf2b83);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x2b8e85=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x2b8e85['element']&&(_0x2b8e85['element']['useInput']=!(-0x28d+0x18*-0xf+0x3f5));}this['_disabledC'+'ontentInpu'+'t']=!(0x2566*-0x1+-0x923*0x3+0xf4*0x44);}['_disableCo'+'ntentInput'](){const _0x49d131=_0xeb3ec7=>{_0xeb3ec7['element']&&_0xeb3ec7['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0xeb3ec7),_0xeb3ec7['element']['useInput']=!(-0x21a4+-0x18c4+0x3a69));const _0x273019=_0xeb3ec7['children'];for(let _0x52c3f5=0xee9+-0x18ea+0xa01,_0x399ef5=_0x273019['length'];_0x52c3f5<_0x399ef5;_0x52c3f5++)_0x49d131(_0x273019[_0x52c3f5]);};if(this['_contentEn'+'tity']){const _0x5c389b=this['_contentEn'+'tity']['children'];for(let _0x325a3d=0x11c9+0x2031+-0x31fa,_0x409ea3=_0x5c389b['length'];_0x325a3d<_0x409ea3;_0x325a3d++)_0x49d131(_0x5c389b[_0x325a3d]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x203+-0x608*-0x3+0x1015*-0x1);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0xa66+0xbc2+-0x15c)),this['_setConten'+'tDraggingE'+'nabled'](!(0x1905+-0x3*0x3f1+-0x466*0x3)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x3f8*0x3+0x233d+0x2*-0xbaa)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x14af+0x1*0x1198+-0x1*-0x318));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4306b7,_0x30c4e9){_0x4306b7['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x30c4e9[_0x4306b7['viewportEn'+'tity']['getGuid']()]),_0x4306b7['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x30c4e9[_0x4306b7['contentEnt'+'ity']['getGuid']()]),_0x4306b7['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x30c4e9[_0x4306b7['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x4306b7['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x30c4e9[_0x4306b7['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0x200a+0x195b+0x6b9;class RI{constructor(){c(this,'enabled',!(-0x2*-0x17+0x19fa+-0x22e*0xc)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(-0x8b7*-0x1+-0x1d41+-0xb*-0x1de)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(0x2217*0x1+-0x1b4+-0x2062,-0x143b+-0x10a7+0x7*0x545)),c(this,'horizontal'+'ScrollbarV'+'isibility',0x1be3+-0x1*0x2396+0x1*0x7b3),c(this,'verticalSc'+'rollbarVis'+'ibility',0x3*0x9b1+0x1b41+-0x3854),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=0x1cb0+-0x18e8+-0x3be;class DI extends Xe{constructor(_0x1b20aa){super(_0x1b20aa),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x28a31e,_0x18c847,_0x1bb5d8){_0x18c847['dragThresh'+'old']===void(-0x1*-0x1205+0x7a2+-0x19a7)&&(_0x18c847['dragThresh'+'old']=II),_0x18c847['useMouseWh'+'eel']===void(-0x1d97*-0x1+-0x8e5*0x1+-0x14b2)&&(_0x18c847['useMouseWh'+'eel']=!(0xacf*-0x1+-0x97c+-0x40f*-0x5)),_0x18c847['mouseWheel'+'Sensitivit'+'y']===void(-0x12a6+0x1*-0x1c0b+0x2eb1)&&(_0x18c847['mouseWheel'+'Sensitivit'+'y']=new W(0x1*-0x1391+-0xc1*-0x16+0x2fc*0x1,-0x29*-0x3+0x1412+0x1*-0x148c)),super['initialize'+'ComponentD'+'ata'](_0x28a31e,_0x18c847,Ag),_0x28a31e['viewportEn'+'tity']=_0x18c847['viewportEn'+'tity'],_0x28a31e['contentEnt'+'ity']=_0x18c847['contentEnt'+'ity'],_0x28a31e['horizontal'+'ScrollbarE'+'ntity']=_0x18c847['horizontal'+'ScrollbarE'+'ntity'],_0x28a31e['verticalSc'+'rollbarEnt'+'ity']=_0x18c847['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x2e2ee3){const _0x3dc860=this['store'];for(const _0x204ddd in _0x3dc860){const _0x11d2c5=_0x3dc860[_0x204ddd]['entity'],_0x8e9227=_0x11d2c5['scrollview'];_0x8e9227['enabled']&&_0x11d2c5['enabled']&&_0x8e9227['onUpdate']();}}['_onRemoveC'+'omponent'](_0x15fd03,_0x1b3a35){_0x1b3a35['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x6d4949,_0x2efaec){super(_0x6d4949,_0x2efaec),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x34e584=this['system']['store'][this['entity']['getGuid']()];return _0x34e584?_0x34e584['data']:null;}set['enabled'](_0x36c7d6){this['_setValue']('enabled',_0x36c7d6);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x1f372d){this['_setValue']('orientatio'+'n',_0x1f372d);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x460666){this['_setValue']('value',_0x460666);}get['value'](){return this['data']['value'];}set['handleSize'](_0x58e92d){this['_setValue']('handleSize',_0x58e92d);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x28dd5a){if(this['_handleEnt'+'ity']===_0x28dd5a)return;const _0x35db7d=typeof _0x28dd5a=='string';this['_handleEnt'+'ity']&&_0x35db7d&&this['_handleEnt'+'ity']['getGuid']()===_0x28dd5a||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x28dd5a instanceof De?this['_handleEnt'+'ity']=_0x28dd5a:_0x35db7d?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x28dd5a)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x35db7d&&_0x28dd5a&&(this['data']['handleEnti'+'ty']=_0x28dd5a));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x5a81e9,_0x1e1859){const _0xbda006=this['data'],_0x71bbe4=_0xbda006[_0x5a81e9];_0xbda006[_0x5a81e9]=_0x1e1859,this['fire']('set',_0x5a81e9,_0x71bbe4,_0x1e1859);}['_toggleLif'+'ecycleList'+'eners'](_0x34237e){this[_0x34237e]('set_value',this['_onSetValu'+'e'],this),this[_0x34237e]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x34237e]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x45e5f0,_0x40aae8;(_0x45e5f0=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x45e5f0['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x40aae8=this['_handleEnt'+'ity'])!=null&&_0x40aae8['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x4b1600=this['_handleEnt'+'ity']['element'],_0x50fc3b=this['_evtHandle'+'EntityChan'+'ges'];_0x50fc3b['push'](_0x4b1600['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x50fc3b['push'](_0x4b1600['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x50fc3b['push'](_0x4b1600['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x50fc3b['push'](_0x4b1600['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x529c29=0x2e5*-0x9+0x12ac+-0x761*-0x1;_0x529c29<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x529c29++)this['_evtHandle'+'EntityChan'+'ges'][_0x529c29]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x3c2+0x118d+0x21*-0x6b;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x4e4283){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x4e4283[this['_getAxis']()]));}['_onSetValu'+'e'](_0x31546c,_0x3b1993,_0x2c7a64){Math['abs'](_0x2c7a64-_0x3b1993)>0x10*0x142+0x352*-0x5+-0x16*0x29+0.00001&&(this['data']['value']=N['clamp'](_0x2c7a64,-0x5*-0x6ab+0x14fe*-0x1+0xc59*-0x1,-0x863+0x320+0x544),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x5bdc95,_0xc793ad,_0x3e1027){Math['abs'](_0x3e1027-_0xc793ad)>0x5f3+-0x1ae9+0x14f6*0x1+0.00001&&(this['data']['handleSize']=N['clamp'](_0x3e1027,-0x1a10+0x5e5*-0x3+-0x2bbf*-0x1,0x1afb*0x1+0x2*0x10d7+-0x3ca8),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x4342c7,_0x50761f,_0x2e6cdc){var _0x14d21a;_0x2e6cdc!==_0x50761f&&((_0x14d21a=this['_handleEnt'+'ity'])!=null&&_0x14d21a['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x17*-0x76+-0x1fb*0x5+0x1*-0xb3);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x6f208c=this['_handleEnt'+'ity'],_0x4fb5df=_0x6f208c==null?void(0x3*0x589+0x2a*0xdf+-0x3531):_0x6f208c['element'];if(_0x6f208c){const _0x415b30=_0x6f208c['getLocalPo'+'sition']();_0x415b30[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x6f208c['setLocalPo'+'sition'](_0x415b30);}_0x4fb5df&&(_0x4fb5df[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x8c042f){return _0x8c042f*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x3d3f6e){return _0x3d3f6e*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x8*-0x48b+-0x2690+-0x66*-0xbc+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x784+0x2142+0x28c6*-0x1;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?-0x5d0+-0x897+0xe68:-(-0x24bd+0x1a9b+-0x207*-0x5);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x12316a){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x12316a);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x1ff4*0x1+0x1ed1+-0x3ec5));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x2*0x859+0x1eb*0x9+0x21f4*-0x1));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x494006,_0x4662e9){_0x494006['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x4662e9[_0x494006['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x2f*0xa6+-0x6f7*-0x3+-0x335f)),c(this,'orientatio'+'n',pe),c(this,'value',0xb22+-0x10ae*0x2+-0x2*-0xb1d),c(this,'handleSize',-0x12b3+0x1728+-0x475),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x2b5315){super(_0x2b5315),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0xe71ecc,_0x20e285,_0x221ae5){super['initialize'+'ComponentD'+'ata'](_0xe71ecc,_0x20e285,Eg),_0xe71ecc['handleEnti'+'ty']=_0x20e285['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x5f273c){_0x5f273c['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x37bb24,_0x139067){_0x139067['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(-0x246+-0x3*-0xc3e+0x1*-0x2273),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x5d1d76,_0x2d5936='Untitled',_0x2e3714={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x5d1d76,this['_assets']=_0x5d1d76['system']['app']['assets'],this['_manager']=_0x5d1d76['system']['manager'],this['name']=_0x2d5936,this['_volume']=_0x2e3714['volume']!==void(-0x1*-0x1efd+0x25cf+-0x44cc)?N['clamp'](Number(_0x2e3714['volume'])||0xd62*-0x1+0x1b89*-0x1+0x28eb,-0x208c+-0x1a2d+0x3ab9*0x1,0x1*0xdb7+0x7*0x512+-0x3134):0x124f+-0x26d3*0x1+0x1485,this['_pitch']=_0x2e3714['pitch']!==void(0x2*0x597+0xbb*0x3+-0xd5f)?Math['max'](-0xc01*-0x2+0x24cc+-0x3cce+0.01,Number(_0x2e3714['pitch'])||-0x24c9+0xd33+0x1796):0x17e0+0x5*-0x493+-0x100,this['_loop']=!!(_0x2e3714['loop']!==void(0x26d6+0x1*-0x104e+-0x1688*0x1)&&_0x2e3714['loop']),this['_duration']=_0x2e3714['duration']>0x2*0xa6f+-0x1485+-0x59?_0x2e3714['duration']:null,this['_startTime']=Math['max'](0x48+0x17a6+-0x17ee,Number(_0x2e3714['startTime'])||0x14c7+-0x1*-0x1dff+0x1*-0x32c6),this['_overlap']=!!_0x2e3714['overlap'],this['_autoPlay']=!!_0x2e3714['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x2e3714['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x7a0b40){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x3df49d=_0x7a0b40;if(_0x3df49d||(_0x3df49d=this['_createIns'+'tance'](),this['instances']['push'](_0x3df49d)),this['isLoaded'])_0x3df49d['play']();else{const _0x5b9a4b=function(_0x1d5673){const _0xbd80c5=_0x3df49d['_playWhenL'+'oaded'];_0x3df49d['sound']=_0x1d5673,_0xbd80c5&&_0x3df49d['play']();};this['off']('load',_0x5b9a4b),this['once']('load',_0x5b9a4b),this['load']();}return _0x3df49d;}['pause'](){let _0x873c46=!(0x27c+-0x1*-0x33e+-0x5b9*0x1);const _0x2f6af9=this['instances'];for(let _0x54e762=0x135a+0x95f+-0x1cb9,_0x4c1efc=_0x2f6af9['length'];_0x54e762<_0x4c1efc;_0x54e762++)_0x2f6af9[_0x54e762]['pause']()&&(_0x873c46=!(0x154+-0x1ded+0x1c99));return _0x873c46;}['resume'](){let _0x19463f=!(-0xcaa+-0x954*0x2+0x1f53);const _0x4af9df=this['instances'];for(let _0x4931e3=-0x2*-0x873+0x1a+-0x1100,_0x380719=_0x4af9df['length'];_0x4931e3<_0x380719;_0x4931e3++)_0x4af9df[_0x4931e3]['resume']()&&(_0x19463f=!(-0x22d1+-0x60*-0x5+0x20f1));return _0x19463f;}['stop'](){let _0x16bdfb=!(0xd5f+0x861+-0x15bf);const _0x4a0def=this['instances'];let _0x20ee3b=_0x4a0def['length'];for(;_0x20ee3b--;)_0x4a0def[_0x20ee3b]['stop'](),_0x16bdfb=!(-0xb3b*-0x2+0x2*0xa58+0xe62*-0x3);return _0x4a0def['length']=0xae8+0xf31*0x1+-0x83*0x33,_0x16bdfb;}['load'](){if(!this['_hasAsset']())return;const _0x57cb36=this['_assets']['get'](this['_asset']);if(!_0x57cb36){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x57cb36['off']('remove',this['_onAssetRe'+'moved'],this),_0x57cb36['on']('remove',this['_onAssetRe'+'moved'],this),!_0x57cb36['resource']){_0x57cb36['off']('load',this['_onAssetLo'+'ad'],this),_0x57cb36['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x57cb36);return;}this['fire']('load',_0x57cb36['resource']);}['setExterna'+'lNodes'](_0x353e53,_0x37d4e2){if(!_0x353e53){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x37d4e2||(_0x37d4e2=_0x353e53),this['_firstNode']=_0x353e53,this['_lastNode']=_0x37d4e2,!this['_overlap']){const _0x1fb1d9=this['instances'];for(let _0x51657e=-0x2da*0xd+0x7c*0x24+0x167*0xe,_0x5ce2db=_0x1fb1d9['length'];_0x51657e<_0x5ce2db;_0x51657e++)_0x1fb1d9[_0x51657e]['setExterna'+'lNodes'](_0x353e53,_0x37d4e2);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x2a209b=this['instances'];for(let _0x5b4b52=-0x1771+0x67c+-0x1*-0x10f5,_0x346fec=_0x2a209b['length'];_0x5b4b52<_0x346fec;_0x5b4b52++)_0x2a209b[_0x5b4b52]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x2984ca=null;const _0x2c3dce=this['_component'];let _0x40fe9b=null;if(this['_hasAsset']()){const _0x49b982=this['_assets']['get'](this['_asset']);_0x49b982&&(_0x40fe9b=_0x49b982['resource']);}const _0xd39be6=OI;return _0xd39be6['volume']=this['_volume']*_0x2c3dce['volume'],_0xd39be6['pitch']=this['_pitch']*_0x2c3dce['pitch'],_0xd39be6['loop']=this['_loop'],_0xd39be6['startTime']=this['_startTime'],_0xd39be6['duration']=this['_duration'],_0xd39be6['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0xd39be6['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0xd39be6['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0xd39be6['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0xd39be6['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x2c3dce['positional']?(_0xd39be6['position']['copy'](_0x2c3dce['entity']['getPositio'+'n']()),_0xd39be6['maxDistanc'+'e']=_0x2c3dce['maxDistanc'+'e'],_0xd39be6['refDistanc'+'e']=_0x2c3dce['refDistanc'+'e'],_0xd39be6['rollOffFac'+'tor']=_0x2c3dce['rollOffFac'+'tor'],_0xd39be6['distanceMo'+'del']=_0x2c3dce['distanceMo'+'del'],_0x2984ca=new jn(this['_manager'],_0x40fe9b,_0xd39be6)):_0x2984ca=new ss(this['_manager'],_0x40fe9b,_0xd39be6),this['_firstNode']&&_0x2984ca['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x2984ca;}['_onInstanc'+'ePlay'](_0x5a4059){this['fire']('play',_0x5a4059),this['_component']['fire']('play',this,_0x5a4059);}['_onInstanc'+'ePause'](_0x666a4e){this['fire']('pause',_0x666a4e),this['_component']['fire']('pause',this,_0x666a4e);}['_onInstanc'+'eResume'](_0x43d378){this['fire']('resume',_0x43d378),this['_component']['fire']('resume',this,_0x43d378);}['_onInstanc'+'eStop'](_0x49caf9){const _0x40a8f3=this['instances']['indexOf'](_0x49caf9);_0x40a8f3!==-(0x1*0xe72+-0x946+-0x15*0x3f)&&this['instances']['splice'](_0x40a8f3,0x18a7+-0xd8a*0x1+0x3*-0x3b4),this['fire']('stop',_0x49caf9),this['_component']['fire']('stop',this,_0x49caf9);}['_onInstanc'+'eEnd'](_0x1bfa69){const _0x56df81=this['instances']['indexOf'](_0x1bfa69);_0x56df81!==-(-0x1445+0x13*-0xc1+0x2299)&&this['instances']['splice'](_0x56df81,0x1*0x21d3+0xab+0x3d5*-0x9),this['fire']('end',_0x1bfa69),this['_component']['fire']('end',this,_0x1bfa69);}['_onAssetAd'+'d'](_0x33a8ef){this['load']();}['_onAssetLo'+'ad'](_0x36adb4){this['load']();}['_onAssetRe'+'moved'](_0x5b9f2c){_0x5b9f2c['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x5b9f2c['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x47a62f){const _0x5c9e98=this['instances'];for(let _0x5592b9=0x1*0x23a5+0x105a+-0x105*0x33,_0xa4df0b=_0x5c9e98['length'];_0x5592b9<_0xa4df0b;_0x5592b9++)_0x5c9e98[_0x5592b9]['position']=_0x47a62f;}set['asset'](_0x5d8760){const _0x1079e9=this['_asset'];if(_0x1079e9){this['_assets']['off']('add:'+_0x1079e9,this['_onAssetAd'+'d'],this);const _0x2de616=this['_assets']['get'](_0x1079e9);_0x2de616&&_0x2de616['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x5d8760,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x184473){this['_autoPlay']=!!_0x184473;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x27cb58){if(this['_duration']=Math['max'](-0x112a+-0x6*0x668+-0x16*-0x287,Number(_0x27cb58)||0xd1d*0x2+0x89*-0x2f+-0x113)||null,!this['_overlap']){const _0x2df240=this['instances'];for(let _0x27ce2f=0x1264*-0x1+0x117a+0xea,_0x4775f4=_0x2df240['length'];_0x27ce2f<_0x4775f4;_0x27ce2f++)_0x2df240[_0x27ce2f]['duration']=this['_duration'];}}get['duration'](){let _0x124d01=0x28d*0x1+0x60f+-0x89c;if(this['_hasAsset']()){const _0x30b62c=this['_assets']['get'](this['_asset']);_0x124d01=_0x30b62c!=null&&_0x30b62c['resource']?_0x30b62c['resource']['duration']:-0x1b29+0x125d+-0x2*-0x466;}return this['_duration']!=null?this['_duration']%(_0x124d01||-0x1a6*0x9+0x199*0x3+-0x2*-0x506):_0x124d01;}get['isLoaded'](){if(this['_hasAsset']()){const _0x1f186c=this['_assets']['get'](this['_asset']);if(_0x1f186c)return!!_0x1f186c['resource'];}return!(-0x131f+-0x155c*-0x1+0x8f*-0x4);}get['isPaused'](){const _0x397644=this['instances'],_0xa839e0=_0x397644['length'];if(_0xa839e0===-0xc2e*0x2+-0xd4*-0x1a+-0x4*-0xb5)return!(0x1*0x23cf+-0x22b9+-0x115);for(let _0x5019b1=-0x21ee+0x69*0xb+0x1d6b;_0x5019b1<_0xa839e0;_0x5019b1++)if(!_0x397644[_0x5019b1]['isPaused'])return!(0xf9d+0x1*-0x9cc+0x18*-0x3e);return!(0x1af1+-0x1cd4+0x1e3);}get['isPlaying'](){const _0xf0b09c=this['instances'];for(let _0x5b2593=-0x22ce+0x17dd*-0x1+0x3aab,_0x12932e=_0xf0b09c['length'];_0x5b2593<_0x12932e;_0x5b2593++)if(_0xf0b09c[_0x5b2593]['isPlaying'])return!(0x13*-0x191+0x15c+-0x1c67*-0x1);return!(0x43*-0x9+-0x89*-0xa+0x2*-0x17f);}get['isStopped'](){const _0x2477e7=this['instances'];for(let _0x6932b6=0x1043*-0x1+0x1f72+-0xf2f,_0x417e7f=_0x2477e7['length'];_0x6932b6<_0x417e7f;_0x6932b6++)if(!_0x2477e7[_0x6932b6]['isStopped'])return!(-0x1557+-0xd6+-0x11*-0x14e);return!(-0x1716+0xd35+0x9e1);}set['loop'](_0x3a53ef){this['_loop']=!!_0x3a53ef;const _0x27b4f2=this['instances'];for(let _0x15dffa=0xc91+0x3b1+0x821*-0x2,_0x5cd6bf=_0x27b4f2['length'];_0x15dffa<_0x5cd6bf;_0x15dffa++)_0x27b4f2[_0x15dffa]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x38d7f0){this['_overlap']=!!_0x38d7f0;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x3bf453){if(this['_pitch']=Math['max'](Number(_0x3bf453)||-0x16c3+-0x954+0x2017,0x201e+-0x1361+-0xcbd+0.01),!this['_overlap']){const _0x1af18f=this['instances'];for(let _0x15ed9c=0x1cda*0x1+-0x2*-0x9a2+0x100a*-0x3,_0x5b64f5=_0x1af18f['length'];_0x15ed9c<_0x5b64f5;_0x15ed9c++)_0x1af18f[_0x15ed9c]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x4b188a){if(this['_startTime']=Math['max'](0x1755*0x1+0x69a*-0x5+0x9ad,Number(_0x4b188a)||-0x9e6+0x14ed+-0xb07),!this['_overlap']){const _0xc0a8f2=this['instances'];for(let _0x3f15d6=0x9e*-0x2b+0x1896+-0xa*-0x32,_0x4acfb2=_0xc0a8f2['length'];_0x3f15d6<_0x4acfb2;_0x3f15d6++)_0xc0a8f2[_0x3f15d6]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x448552){if(this['_volume']=N['clamp'](Number(_0x448552)||-0xb*0x20+0x25d3+-0x2473*0x1,0x8d9+-0x2704+0x1e2b,-0x1103+0x9c*0x33+-0xe10),!this['_overlap']){const _0x371ad3=this['instances'];for(let _0x436869=-0x4*0x348+0xa93*-0x2+-0x6b*-0x52,_0x32bd07=_0x371ad3['length'];_0x436869<_0x32bd07;_0x436869++)_0x371ad3[_0x436869]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',-0x14b1+0x1a1*-0xe+0x3*0xe80),c(this,'_pitch',0x387+-0xb7*0x1e+0x2*0x8f6),c(this,'_positiona'+'l',!(-0xf6*-0x15+-0xaf*0x2d+0xa95)),c(this,'_refDistan'+'ce',0x5*-0x1b4+-0x2*-0x4cd+-0x115),c(this,'_maxDistan'+'ce',0x3be9+0x410a+-0x55e3),c(this,'_rollOffFa'+'ctor',0x443+0xe75*0x1+-0x12b7),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x11f523,_0x469b51,_0x4c34e6){const _0x50b641=this['_slots'];for(const _0x1f559d in _0x50b641){const _0x1fc1fd=_0x50b641[_0x1f559d];if(!_0x1fc1fd['overlap']){const _0x2405ab=_0x1fc1fd['instances'];for(let _0x420a78=0xc2a*0x3+0x17b*-0xd+-0x113f,_0x1ade88=_0x2405ab['length'];_0x420a78<_0x1ade88;_0x420a78++)_0x2405ab[_0x420a78][_0x11f523]=_0x4c34e6?_0x1fc1fd[_0x11f523]*_0x469b51:_0x469b51;}}}set['distanceMo'+'del'](_0x1b91b1){this['_distanceM'+'odel']=_0x1b91b1,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x1b91b1,!(0x73+-0x18*0x49+0x4e*0x15));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x543c54){this['_maxDistan'+'ce']=_0x543c54,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x543c54,!(-0xcef+0x4bb*-0x6+0x14a9*0x2));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x3ae48c){this['_refDistan'+'ce']=_0x3ae48c,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x3ae48c,!(-0x21f9+-0x17e2+0x39dc));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x4837e7){this['_rollOffFa'+'ctor']=_0x4837e7,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x4837e7,!(-0x1*-0x14e5+0x148*0x1+-0x162c));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x2a8008){this['_pitch']=_0x2a8008,this['_updateSou'+'ndInstance'+'s']('pitch',_0x2a8008,!(0x174e+0xf0+0x183e*-0x1));}get['pitch'](){return this['_pitch'];}set['volume'](_0x11f5e4){this['_volume']=_0x11f5e4,this['_updateSou'+'ndInstance'+'s']('volume',_0x11f5e4,!(-0x1*0x1103+0xd30+0x3d3));}get['volume'](){return this['_volume'];}set['positional'](_0x44171){this['_positiona'+'l']=_0x44171;const _0xc4422d=this['_slots'];for(const _0x1146cb in _0xc4422d){const _0x3bfe49=_0xc4422d[_0x1146cb];if(!_0x3bfe49['overlap']){const _0x49ba3f=_0x3bfe49['instances'],_0x14cee1=_0x49ba3f['length'];for(let _0x1b2833=_0x14cee1-(0x24f9*0x1+0x25b*-0x3+-0x1de7);_0x1b2833>=-0x1*0x2650+0x2*-0x9ad+0x39aa;_0x1b2833--){const _0x1dc11f=_0x49ba3f[_0x1b2833]['isPlaying']||_0x49ba3f[_0x1b2833]['isSuspende'+'d'],_0x7ae555=_0x49ba3f[_0x1b2833]['currentTim'+'e'];_0x1dc11f&&_0x49ba3f[_0x1b2833]['stop']();const _0x4faea9=_0x3bfe49['_createIns'+'tance']();_0x1dc11f&&(_0x4faea9['play'](),_0x4faea9['currentTim'+'e']=_0x7ae555),_0x49ba3f['push'](_0x4faea9);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x13b91e){const _0x3df6dd=this['_slots'];if(_0x3df6dd){for(const _0x41cfcf in _0x3df6dd)_0x3df6dd[_0x41cfcf]['stop']();}const _0x1bd2b2={};for(const _0xc6172e in _0x13b91e)_0x13b91e[_0xc6172e]instanceof er?_0x1bd2b2[_0x13b91e[_0xc6172e]['name']]=_0x13b91e[_0xc6172e]:_0x13b91e[_0xc6172e]['name']&&(_0x1bd2b2[_0x13b91e[_0xc6172e]['name']]=new er(this,_0x13b91e[_0xc6172e]['name'],_0x13b91e[_0xc6172e]));this['_slots']=_0x1bd2b2,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x412dc5=this['_slots'],_0x2764e4=this['_playingBe'+'foreDisabl'+'e'];for(const _0x56c8bb in _0x412dc5){const _0x43b02d=_0x412dc5[_0x56c8bb];_0x43b02d['autoPlay']&&_0x43b02d['isStopped']?_0x43b02d['play']():_0x2764e4[_0x56c8bb]?_0x43b02d['resume']():_0x43b02d['isLoaded']||_0x43b02d['load']();}}['onDisable'](){const _0x3d6a81=this['_slots'],_0x572220={};for(const _0x1582f2 in _0x3d6a81)_0x3d6a81[_0x1582f2]['overlap']||_0x3d6a81[_0x1582f2]['isPlaying']&&(_0x3d6a81[_0x1582f2]['pause'](),_0x572220[_0x1582f2]=!(-0x1eb2*-0x1+0x1947+-0x37f9));this['_playingBe'+'foreDisabl'+'e']=_0x572220;}['onRemove'](){this['off']();}['addSlot'](_0x996415,_0x2e182b){const _0x40d2bf=this['_slots'];if(_0x40d2bf[_0x996415])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x996415+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x371362=new er(this,_0x996415,_0x2e182b);return _0x40d2bf[_0x996415]=_0x371362,_0x371362['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x371362['play'](),_0x371362;}['removeSlot'](_0x1bbdf6){const _0x9e06c8=this['_slots'];_0x9e06c8[_0x1bbdf6]&&(_0x9e06c8[_0x1bbdf6]['stop'](),delete _0x9e06c8[_0x1bbdf6]);}['slot'](_0x3d9b95){return this['_slots'][_0x3d9b95];}['_getSlotPr'+'operty'](_0x231c95,_0x517d5c){if(!this['enabled']||!this['entity']['enabled'])return;const _0x379ede=this['_slots'][_0x231c95];if(!_0x379ede){v['warn']('Trying\x20to\x20'+'get\x20'+_0x517d5c+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x231c95+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x379ede[_0x517d5c];}['isPlaying'](_0x5d2f9f){return this['_getSlotPr'+'operty'](_0x5d2f9f,'isPlaying')||!(0x1b89+-0x26*-0x2f+0x1*-0x2282);}['isLoaded'](_0x5644cb){return this['_getSlotPr'+'operty'](_0x5644cb,'isLoaded')||!(-0x2271+0x151*-0xb+-0xf*-0x343);}['isPaused'](_0x4ae8b3){return this['_getSlotPr'+'operty'](_0x4ae8b3,'isPaused')||!(-0x25f9*-0x1+0xc9b+-0x3293);}['isStopped'](_0x21b8c7){return this['_getSlotPr'+'operty'](_0x21b8c7,'isStopped')||!(-0x1a6+-0xdd*0x5+0x5f8);}['play'](_0x687011){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x3cb9fb=this['_slots'][_0x687011];return _0x3cb9fb?_0x3cb9fb['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x687011+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x4623db){const _0x3cfa57=this['_slots'];if(_0x4623db){const _0x248f1e=_0x3cfa57[_0x4623db];if(!_0x248f1e){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x4623db+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x248f1e['pause']();}else{for(const _0x1a27b3 in _0x3cfa57)_0x3cfa57[_0x1a27b3]['pause']();}}['resume'](_0x4c641b){const _0x159127=this['_slots'];if(_0x4c641b){const _0x417d30=_0x159127[_0x4c641b];if(!_0x417d30){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x4c641b+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x417d30['isPaused']&&_0x417d30['resume']();}else{for(const _0x2880cd in _0x159127)_0x159127[_0x2880cd]['resume']();}}['stop'](_0x2a951d){const _0x36af34=this['_slots'];if(_0x2a951d){const _0x1a75d3=_0x36af34[_0x2a951d];if(!_0x1a75d3){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2a951d+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x1a75d3['stop']();}else{for(const _0x926241 in _0x36af34)_0x36af34[_0x926241]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(-0x977*-0x1+-0xac6+0x14f);}}const xx=['enabled'];class BI extends Xe{constructor(_0x386ac7){super(_0x386ac7),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x386ac7['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x414a4f){this['manager']['volume']=_0x414a4f;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x2083ba,_0x565f42,_0xa029cb){_0xa029cb=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x432818=0x230e+-0x1f40+-0x3ce;_0x432818<_0xa029cb['length'];_0x432818++)_0x565f42['hasOwnProp'+'erty'](_0xa029cb[_0x432818])&&(_0x2083ba[_0xa029cb[_0x432818]]=_0x565f42[_0xa029cb[_0x432818]]);super['initialize'+'ComponentD'+'ata'](_0x2083ba,_0x565f42,['enabled']);}['cloneCompo'+'nent'](_0x43ea6c,_0x358108){const _0x36bdee=_0x43ea6c['sound'],_0x1a8b76=_0x36bdee['slots'],_0x2ac6c9={};for(const _0x256934 in _0x1a8b76){const _0x38ae66=_0x1a8b76[_0x256934];_0x2ac6c9[_0x256934]={'name':_0x38ae66['name'],'volume':_0x38ae66['volume'],'pitch':_0x38ae66['pitch'],'loop':_0x38ae66['loop'],'duration':_0x38ae66['duration'],'startTime':_0x38ae66['startTime'],'overlap':_0x38ae66['overlap'],'autoPlay':_0x38ae66['autoPlay'],'asset':_0x38ae66['asset']};}const _0x5e34a4={'distanceModel':_0x36bdee['distanceMo'+'del'],'enabled':_0x36bdee['enabled'],'maxDistance':_0x36bdee['maxDistanc'+'e'],'pitch':_0x36bdee['pitch'],'positional':_0x36bdee['positional'],'refDistance':_0x36bdee['refDistanc'+'e'],'rollOffFactor':_0x36bdee['rollOffFac'+'tor'],'slots':_0x2ac6c9,'volume':_0x36bdee['volume']};return this['addCompone'+'nt'](_0x358108,_0x5e34a4);}['onUpdate'](_0x2124d5){const _0x3c9656=this['store'];for(const _0x2b9565 in _0x3c9656)if(_0x3c9656['hasOwnProp'+'erty'](_0x2b9565)){const _0x502b45=_0x3c9656[_0x2b9565]['entity'];if(_0x502b45['enabled']){const _0xb374ef=_0x502b45['sound'];if(_0xb374ef['enabled']&&_0xb374ef['positional']){const _0x5b4ac2=_0x502b45['getPositio'+'n'](),_0xe85263=_0xb374ef['slots'];for(const _0x5f43b7 in _0xe85263)_0xe85263[_0x5f43b7]['updatePosi'+'tion'](_0x5b4ac2);}}}}['onBeforeRe'+'move'](_0x3f7157,_0x22333a){const _0x447472=_0x22333a['slots'];for(const _0xa3cf94 in _0x447472)_0x447472[_0xa3cf94]['overlap']||_0x447472[_0xa3cf94]['stop']();_0x22333a['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x29dfed,_0x7d9bfe){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x29dfed,this['_frame']=0x53*0x28+-0x4da*-0x1+-0x2*0x8e9,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x7d9bfe['spriteAsse'+'t'],this['name']=_0x7d9bfe['name'],this['fps']=_0x7d9bfe['fps']||-0x1548+-0x1ec2+0x340a,this['loop']=_0x7d9bfe['loop']||!(0x1*-0x2131+-0x95f*0x4+0x46ae),this['_playing']=!(0x8d+0x25db+-0x2667),this['_paused']=!(-0x1*0x9c7+-0x5*-0x456+-0xbe6),this['_time']=0x22*-0xb2+-0x152a+-0x5*-0x8f6);}get['duration'](){if(this['_sprite']){const _0x216308=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x216308);}return 0x19c4+0x2c4*-0x3+-0x1178;}set['frame'](_0x2a8b5d){this['_setFrame'](_0x2a8b5d);const _0x1d5bca=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x1d5bca);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x191638){var _0x4ef1be;if(this['_sprite']&&((_0x4ef1be=this['_evtSetMes'+'hes'])==null||_0x4ef1be['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x191638,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x4ad081;!_0x191638||!_0x191638['atlas']?(_0x4ad081=this['_component']['_meshInsta'+'nce'],_0x4ad081&&(_0x4ad081['deletePara'+'meter']('texture_em'+'issiveMap'),_0x4ad081['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x191638['atlas']['texture']&&(_0x4ad081=this['_component']['_meshInsta'+'nce'],_0x4ad081&&(_0x4ad081['setParamet'+'er']('texture_em'+'issiveMap',_0x191638['atlas']['texture']),_0x4ad081['setParamet'+'er']('texture_op'+'acityMap',_0x191638['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x192c71){const _0x11d086=this['_component']['system']['app']['assets'];let _0x1896c6=_0x192c71;if(_0x192c71 instanceof le&&(_0x1896c6=_0x192c71['id']),this['_spriteAss'+'et']!==_0x1896c6){if(this['_spriteAss'+'et']){const _0x1b92b9=_0x11d086['get'](this['_spriteAss'+'et']);_0x1b92b9&&this['_unbindSpr'+'iteAsset'](_0x1b92b9);}if(this['_spriteAss'+'et']=_0x1896c6,this['_spriteAss'+'et']){const _0x10f446=_0x11d086['get'](this['_spriteAss'+'et']);_0x10f446?this['_bindSprit'+'eAsset'](_0x10f446):(this['sprite']=null,_0x11d086['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0xb0403b){this['_setTime'](_0xb0403b),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x1259+-0x1ceb+0x1*0xa93),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0x2*-0x108d+-0x155d+-0xbbd;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x403b3f){this['_component']['system']['app']['assets']['off']('add:'+_0x403b3f['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x403b3f['id']&&this['_bindSprit'+'eAsset'](_0x403b3f);}['_bindSprit'+'eAsset'](_0x2365d2){_0x2365d2['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2365d2['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2365d2['resource']?this['_onSpriteA'+'ssetLoad'](_0x2365d2):this['_component']['system']['app']['assets']['load'](_0x2365d2);}['_unbindSpr'+'iteAsset'](_0x5127c8){_0x5127c8&&(_0x5127c8['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5127c8['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5127c8['resource']&&!_0x5127c8['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x5127c8['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x5396c9){if(!_0x5396c9['resource'])this['sprite']=null;else{if(_0x5396c9['resource']['atlas'])this['sprite']=_0x5396c9['resource'];else{const _0x1d71bb=_0x5396c9['data']['textureAtl'+'asAsset'],_0x3d745f=this['_component']['system']['app']['assets'];_0x3d745f['off']('load:'+_0x1d71bb,this['_onTexture'+'AtlasLoad'],this),_0x3d745f['once']('load:'+_0x1d71bb,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x29eb10){const _0x34e73c=this['_spriteAss'+'et'];_0x34e73c instanceof le?this['_onSpriteA'+'ssetLoad'](_0x34e73c):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x34e73c));}['_onSpriteA'+'ssetRemove'](_0x159957){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x514794){if(this['fps']===0x18a6+-0xaf5+-0xdb1||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x2f1478=this['fps']<0x1268+0x541*0x1+-0x17a9?-(-0x2a5*-0xc+-0x165b+-0x960):0x2694+0x4a8+-0x2b3b,_0x2c5e63=this['_time']+_0x514794*this['_component']['speed']*_0x2f1478,_0x13ef68=this['duration'],_0x1ac034=_0x2c5e63>_0x13ef68||_0x2c5e63<-0x1*0x20f3+-0xe1a+0x3*0xfaf;this['_setTime'](_0x2c5e63);let _0x58a90e=this['frame'];this['_sprite']?_0x58a90e=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x13ef68):_0x58a90e=-0x2177+-0x1645*-0x1+0x2*0x599,_0x58a90e!==this['_frame']&&this['_setFrame'](_0x58a90e),_0x1ac034&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x504+-0x233+0x738),this['_paused']=!(-0xb92+0xa1d+0xb*0x22),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x43f61c){this['_time']=_0x43f61c;const _0x21055e=this['duration'];this['_time']<0xf1*0x17+-0x2373+0x1*0xdcc?this['loop']?this['_time']=this['_time']%_0x21055e+_0x21055e:this['_time']=-0x35a+0x169c+0x1d*-0xaa:this['_time']>_0x21055e&&(this['loop']?this['_time']%=_0x21055e:this['_time']=_0x21055e);}['_setFrame'](_0x15dd14){this['_sprite']?this['_frame']=N['clamp'](_0x15dd14,0x1f2+-0x170+-0x82,this['_sprite']['frameKeys']['length']-(-0x2648+-0x9f4+0x303d)):this['_frame']=_0x15dd14,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x3a2077=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x3a2077['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x312*-0x2+-0xc4f*-0x2+-0x1ec2),this['_paused']=!(0x10a6+0x840+-0x18e5*0x1),this['frame']=0x257f+-0x1067*-0x2+-0x464d,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x8c7+0xfd*0xd+0x568*-0x4),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x1*0xeff+0x2547+-0x1647),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x2*0xa01+-0xcbb+-0xe*0x85),this['_paused']=!(-0x20bb+-0x1ef6*-0x1+-0x2*-0xe3),this['_time']=0x69*-0xa+0x1de5+-0x899*0x3,this['frame']=-0x3e*-0xd+-0x1f3f+0x1c19,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0xe6b483,_0x1fba6f){super(_0xe6b483,_0x1fba6f),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0xe6b483['defaultMat'+'erial'],this['_color']=new Y(0xdbf+-0x2564+0x17a6,0x3*0x691+-0x1b19+0x1*0x767,0x10bb+0x111d+-0x21d7,-0x217a+0x1dde+0x39d),this['_colorUnif'+'orm']=new Float32Array(-0x12d3*0x1+-0xc4d+0x3*0xa61),this['_speed']=0x8e7+-0x2507+0x1c21,this['_flipX']=!(-0x5a1*-0x1+0x4*-0x301+-0x199*-0x4),this['_flipY']=!(0x25d9*-0x1+0x16d1+0xf09),this['_width']=0x207c+-0xd*-0x1f+-0x220e,this['_height']=-0x105e+0xd33+0x32c,this['_drawOrder']=0x1*-0x113b+-0xc55+-0xec8*-0x2,this['_layers']=[Fi],this['_outerScal'+'e']=new W(0x2ce*-0x4+-0x3d4*-0x3+-0x43*0x1,0x25*0x2b+0x16e5+-0x1d1b*0x1),this['_outerScal'+'eUniform']=new Float32Array(-0x20*-0x28+0x2554+-0x2a52),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x34b*0xa+-0x92*0x4+0x3*0xbbe),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0xb40+-0x19ca+0x250e),this['_batchGrou'+'pId']=-(0x1*-0x11e2+0x228c+-0x5*0x355),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x1fba6f['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x1fba6f,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x3ee*0x9+0x22a5+0x1f*0x6),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x1397+-0x114a+0x24e2),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x299215){this['_type']!==_0x299215&&(this['_type']=_0x299215,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x1a6674){this['_currentCl'+'ip']['frame']=_0x1a6674;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0xec28dc){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0xec28dc;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x2758b1){this['_currentCl'+'ip']['sprite']=_0x2758b1;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0xff95ad){this['_material']=_0xff95ad,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0xff95ad);}get['material'](){return this['_material'];}set['color'](_0x59dace){this['_color']['r']=_0x59dace['r'],this['_color']['g']=_0x59dace['g'],this['_color']['b']=_0x59dace['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x1d52+-0x135*-0x2+0x4*-0x7ef]=this['_color']['r'],this['_colorUnif'+'orm'][-0x2104+-0x1*0x1b13+0x3c18]=this['_color']['g'],this['_colorUnif'+'orm'][0x4*0x1c+0x2*0x1052+-0x2112]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x1f4bb9){this['_color']['a']=_0x1f4bb9,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x1f4bb9);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x3388e1){if(!_0x3388e1){for(const _0x45078d in this['_clips'])this['removeClip'](_0x45078d);return;}for(const _0xf89813 in this['_clips']){let _0x332919=!(-0x129b+-0x13db+-0x2677*-0x1);for(const _0x48cefb in _0x3388e1)if(_0x3388e1[_0x48cefb]['name']===_0xf89813){_0x332919=!(-0x20d5*-0x1+-0x2112+0x3d),this['_clips'][_0xf89813]['fps']=_0x3388e1[_0x48cefb]['fps'],this['_clips'][_0xf89813]['loop']=_0x3388e1[_0x48cefb]['loop'],_0x3388e1[_0x48cefb]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0xf89813]['sprite']=_0x3388e1[_0x48cefb]['sprite']:_0x3388e1[_0x48cefb]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0xf89813]['spriteAsse'+'t']=_0x3388e1[_0x48cefb]['spriteAsse'+'t']);break;}_0x332919||this['removeClip'](_0xf89813);}for(const _0x1f150d in _0x3388e1)this['_clips'][_0x3388e1[_0x1f150d]['name']]||this['addClip'](_0x3388e1[_0x1f150d]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x70f23a){this['_speed']=_0x70f23a;}get['speed'](){return this['_speed'];}set['flipX'](_0x2fdca0){this['_flipX']!==_0x2fdca0&&(this['_flipX']=_0x2fdca0,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x22ff0c){this['_flipY']!==_0x22ff0c&&(this['_flipY']=_0x22ff0c,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x4d2ee0){_0x4d2ee0!==this['_width']&&(this['_width']=_0x4d2ee0,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x5514c6){_0x5514c6!==this['_height']&&(this['_height']=_0x5514c6,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x502dbe){var _0xd2af2e,_0x1a7c19;if(this['_batchGrou'+'pId']===_0x502dbe)return;const _0x3b8703=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x502dbe,this['entity']['enabled']&&_0x3b8703>=-0x58*-0x2b+-0x847*-0x1+-0x170f&&((_0xd2af2e=this['system']['app']['batcher'])==null||_0xd2af2e['remove'](et['SPRITE'],_0x3b8703,this['entity'])),this['entity']['enabled']&&_0x502dbe>=0xe50*-0x2+-0x438+0x20d8?(_0x1a7c19=this['system']['app']['batcher'])==null||_0x1a7c19['insert'](et['SPRITE'],_0x502dbe,this['entity']):_0x3b8703>=0x533+0x412+0x1*-0x945&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x372d2f){this['_autoPlayC'+'lip']=_0x372d2f instanceof bi?_0x372d2f['name']:_0x372d2f,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x58741b){this['_drawOrder']=_0x58741b,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x58741b);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x49230a){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x49230a,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x1e3019;const _0x4cff06=this['system']['app'],_0x213a1f=_0x4cff06['scene'],_0x24823e=_0x213a1f['layers'];this['_evtLayers'+'Changed']=_0x213a1f['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x24823e&&(this['_evtLayerA'+'dded']=_0x24823e['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x24823e['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x1125+0x1ed*-0x5+0x1ac6&&((_0x1e3019=_0x4cff06['batcher'])==null||_0x1e3019['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x2fbd13,_0x2647cf,_0x22d185,_0x54b62e;const _0x40ea7c=this['system']['app'],_0x5a113f=_0x40ea7c['scene']['layers'];(_0x2fbd13=this['_evtLayers'+'Changed'])==null||_0x2fbd13['off'](),this['_evtLayers'+'Changed']=null,_0x5a113f&&((_0x2647cf=this['_evtLayerA'+'dded'])==null||_0x2647cf['off'](),this['_evtLayerA'+'dded']=null,(_0x22d185=this['_evtLayerR'+'emoved'])==null||_0x22d185['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x1ced*-0x1+-0x35*0x91+0x3af2&&((_0x54b62e=_0x40ea7c['batcher'])==null||_0x54b62e['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x5dfad5;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x53b944 in this['_clips'])this['_clips'][_0x53b944]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x5dfad5=this['_node'])==null||_0x5dfad5['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x3e4e8c=[this['_meshInsta'+'nce']];for(let _0x2eca2b=-0x1e5e+0x105b+0xe03,_0x4cd6f7=this['_layers']['length'];_0x2eca2b<_0x4cd6f7;_0x2eca2b++){const _0x33d5d2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x2eca2b]);_0x33d5d2&&_0x33d5d2['addMeshIns'+'tances'](_0x3e4e8c);}this['_addedMode'+'l']=!(-0x17*-0x5c+-0x144d+0xc09);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x52baff=[this['_meshInsta'+'nce']];for(let _0x25a8e1=-0x11*-0x56+-0x514*-0x1+-0x2*0x565,_0x4391e2=this['_layers']['length'];_0x25a8e1<_0x4391e2;_0x25a8e1++){const _0x55c846=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x25a8e1]);_0x55c846&&_0x55c846['removeMesh'+'Instances'](_0x52baff);}this['_addedMode'+'l']=!(0x16b1*0x1+-0x1659+0x3*-0x1d);}['_showFrame'](_0x988bec){if(!this['sprite'])return;const _0xfc054c=this['sprite']['meshes'][_0x988bec];if(!_0xfc054c){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x1e29+-0x19d*0x1+-0x1*-0x1fc7));return;}let _0x72d2de;if(this['sprite']['renderMode']===nt?_0x72d2de=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x72d2de=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x72d2de=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0xfc054c,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x3*-0x91a+-0xf*-0x119+-0x2bc4),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x3a7*-0x5+-0xf1*-0x29+-0x1455),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0xcbb*0x1+0x119a+-0x4df]=this['_color']['r'],this['_colorUnif'+'orm'][-0x1b*0x163+-0x1174+0x36e6]=this['_color']['g'],this['_colorUnif'+'orm'][-0x2145+-0x1908+-0x289*-0x17]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x72d2de&&(this['_meshInsta'+'nce']['material']=_0x72d2de),this['_meshInsta'+'nce']['mesh']!==_0xfc054c&&(this['_meshInsta'+'nce']['mesh']=_0xfc054c,this['_meshInsta'+'nce']['visible']=!(0x8be+-0xf99+0x6db),this['_meshInsta'+'nce']['_aabbVer']=-(-0x1*-0x66a+-0x31c+-0xa9*0x5)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x5c2193=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x988bec]];if(_0x5c2193){const _0x35becc=(0x65*-0x1f+-0xaff*0x1+0x5cf*0x4)/_0x5c2193['rect']['z'],_0x309812=(-0xd00+-0x14a4*-0x1+-0x7a2)/_0x5c2193['rect']['w'];this['_innerOffs'+'et']['set'](_0x5c2193['border']['x']*_0x35becc,_0x5c2193['border']['y']*_0x309812,_0x5c2193['border']['z']*_0x35becc,_0x5c2193['border']['w']*_0x309812);const _0x473846=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x5c2193['rect']['x']/_0x473846['width'],_0x5c2193['rect']['y']/_0x473846['height'],_0x5c2193['rect']['z']/_0x473846['width'],_0x5c2193['rect']['w']/_0x473846['height']);}else this['_innerOffs'+'et']['set'](-0x719*0x4+-0x76*0x1d+0x29c2,0x1fa5+0x9e9+-0x298e,0x3*0x574+0x14bc+-0x2518,0x2384+0x1502*-0x1+0x741*-0x2);this['_innerOffs'+'etUniform'][0xd8d*0x2+-0x5d*-0x1d+-0x25a3]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x11ef+-0x6a4+-0xb4a]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x2*0x2a1+-0x417*0x1+0x95b]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x2143+0xc1e+0x4*0x54a]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x4b*-0x3+-0x2c0+0x3a1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x2*0xfe1+-0xd49+0x1278*-0x1]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x2252+-0x19+0x226d]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xcfc+-0x2431+0x3130]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x43203e=this['flipX']?-(0x383+-0x1*0x1b8e+-0xe4*-0x1b):0x197a+0x12fd*0x1+-0x2c76,_0x420b17=this['flipY']?-(-0x85*-0x2+0x10f8+-0xb*0x1a3):0x1d3a+-0x259c*0x1+0x863,_0x56cd50=-0xa6f+-0x242f+0x2e9e,_0xd272ce=0x917*-0x2+-0x1cff*0x1+0xd*0x3a1;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x15f8a4=-0xa22+0xc8d+-0x26a,_0x1fbead=-0x1*-0x1637+-0x22e1+0x17*0x8d;if(this['sprite']['atlas']){const _0x31e738=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x31e738&&(_0x15f8a4=_0x31e738['rect']['z'],_0x1fbead=_0x31e738['rect']['w'],_0x56cd50=(-0x145b+-0x1290+0x3*0xcf9+0.5-_0x31e738['pivot']['x'])*this['_width'],_0xd272ce=(0x18a3+-0x1d08*0x1+-0xf*-0x4b+0.5-_0x31e738['pivot']['y'])*this['_height']);}const _0x1fdbbd=_0x15f8a4/this['sprite']['pixelsPerU'+'nit'],_0x433531=_0x1fbead/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x1fdbbd),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x433531)),_0x43203e*=_0x1fdbbd,_0x420b17*=_0x433531,this['_outerScal'+'e']['x']/=_0x1fdbbd,this['_outerScal'+'e']['y']/=_0x433531,_0x43203e*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x1fdbbd),-0x1*-0x279+-0x3*-0x4c7+-0x10ce+0.0001,-0x185d+-0x1d6f+0x3*0x11ef),_0x420b17*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x433531),-0x2678+0x1599+-0x10df*-0x1+0.0001,0x156*-0x4+0x25ec+-0x1f*0x10d),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x6d2+0x123*0x3+-0xa3b]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1*0x22d5+0x2126+-0x90*-0x3]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x43203e,_0x420b17,0x1363+0xae6+-0x1e48),this['_node']['setLocalPo'+'sition'](_0x56cd50,_0xd272ce,-0xf8b+-0x1*0xdec+0x1*0x1d77);}['_updateAab'+'b'](_0x572c12){return _0x572c12['center']['set'](-0x103d+-0x1*-0x1eed+-0xeb0,0x619*0x2+-0x4*0x1ee+-0x47a,0x1eb7+0x459+-0xb*0x330),_0x572c12['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x2075+-0x19fb+0x67a*-0x1+0.5),this['_outerScal'+'e']['y']*(-0x92a+0xf58*-0x2+-0x2*-0x13ed+0.5),-0x19af+0x4dd+0x52*0x41+0.001),_0x572c12['setFromTra'+'nsformedAa'+'bb'](_0x572c12,this['_node']['getWorldTr'+'ansform']()),_0x572c12;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x52c903=this['_clips'][this['_autoPlayC'+'lip']];_0x52c903&&!_0x52c903['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x52c903['name']);}['_onLayersC'+'hanged'](_0x169ed1,_0x714733){_0x169ed1['off']('add',this['onLayerAdd'+'ed'],this),_0x169ed1['off']('remove',this['onLayerRem'+'oved'],this),_0x714733['on']('add',this['onLayerAdd'+'ed'],this),_0x714733['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x19697f){this['layers']['indexOf'](_0x19697f['id'])<-0x130e+0x18d3+-0x5c5||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x19697f['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x3d9d10){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x3d9d10['id'])<-0x1cb7*0x1+-0x2*0x3b5+0x2421||_0x3d9d10['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0xec6c2a=0x135b+-0x11b*0x17+0x6*0x103;_0xec6c2a<this['layers']['length'];_0xec6c2a++){const _0x3b162a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xec6c2a]);_0x3b162a&&_0x3b162a['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x29cc76){const _0x46ae8a=new bi(this,{'name':_0x29cc76['name'],'fps':_0x29cc76['fps'],'loop':_0x29cc76['loop'],'spriteAsset':_0x29cc76['spriteAsse'+'t']});return this['_clips'][_0x29cc76['name']]=_0x46ae8a,_0x46ae8a['name']&&_0x46ae8a['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x46ae8a;}['removeClip'](_0x29b1eb){delete this['_clips'][_0x29b1eb];}['clip'](_0x26122f){return this['_clips'][_0x26122f];}['play'](_0x4ea370){const _0x5e99b1=this['_clips'][_0x4ea370],_0x5a2b8c=this['_currentCl'+'ip'];return _0x5a2b8c&&_0x5a2b8c!==_0x5e99b1&&(_0x5a2b8c['_playing']=!(0x2563+-0x1487+0x10db*-0x1)),this['_currentCl'+'ip']=_0x5e99b1,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x5e99b1,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x4ea370+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x5e99b1;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x5*0x38b+-0x343+-0xe74);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x155a52){super(_0x155a52),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x5f5123){this['_defaultMa'+'terial']=_0x5f5123;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x7d09b2=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0xca08cc=new Uint8Array(_0x7d09b2['lock']());_0xca08cc[-0xe3*0x12+0x1*-0xbe9+0x1bdf]=_0xca08cc[0x701*0x1+-0xef5+0x7f5]=_0xca08cc[0x1*-0x607+-0x1a96+0x209f]=_0xca08cc[0x1e04+0x7c*-0x25+-0x1*0xc15]=0x12d0+-0x1a4d*0x1+0x6*0x16a,_0x7d09b2['unlock']();const _0x23e716=new cs();_0x23e716['diffuse']['set'](-0x206a+0x3d2+0x1c98,0xd1+-0x26*0xfb+0x2471,0x211d+-0x1a*0xb6+0x5*-0x2ed),_0x23e716['emissive']['set'](-0x1*0x105d+0x1210+-0x1b2,-0x52+-0x18*-0x194+-0x258d,-0x26dc*0x1+0x5*0x339+0x16c0),_0x23e716['emissiveMa'+'p']=_0x7d09b2,_0x23e716['opacityMap']=_0x7d09b2,_0x23e716['opacityMap'+'Channel']='a',_0x23e716['useLightin'+'g']=!(0xb15*0x1+-0x37a*-0x6+-0x1ff0),_0x23e716['useTonemap']=!(-0x20b7+-0x1e9a+-0x655*-0xa),_0x23e716['useFog']=!(-0x3a4+0xdd*0x17+-0x1036),_0x23e716['useSkybox']=!(-0x1b54+0x1*-0x110b+0x11c*0x28),_0x23e716['blendType']=hr,_0x23e716['depthWrite']=!(0xc*-0x71+0x8d2*-0x2+0x16f1),_0x23e716['pixelSnap']=!(0x1*0x91e+-0xd3+0x2*-0x425),_0x23e716['cull']=mt,_0x23e716['update'](),this['_defaultTe'+'xture']=_0x7d09b2,this['_defaultMa'+'terial']=_0x23e716;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x56bf5b){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x56bf5b;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x43f5ae=this['defaultMat'+'erial']['clone']();_0x43f5ae['nineSliced'+'Mode']=nt,_0x43f5ae['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x43f5ae;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x417cd0){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x417cd0;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x90790d=this['defaultMat'+'erial']['clone']();_0x90790d['nineSliced'+'Mode']=Qe,_0x90790d['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x90790d;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x45f241,_0x21da52,_0x9669f4){if(_0x21da52['enabled']!==void(-0x55d*-0x1+0x2*0x3e3+-0xd23)&&(_0x45f241['enabled']=_0x21da52['enabled']),_0x45f241['type']=_0x21da52['type'],_0x21da52['layers']&&Array['isArray'](_0x21da52['layers'])&&(_0x45f241['layers']=_0x21da52['layers']['slice'](0x3*-0x44+0xa8e+-0x9c2)),_0x21da52['drawOrder']!==void(-0xf7+0x1*0x945+-0x84e)&&(_0x45f241['drawOrder']=_0x21da52['drawOrder']),_0x21da52['color']!==void(0x1f22+0x1bfa+-0x3b1c)&&(_0x21da52['color']instanceof Y?_0x45f241['color']['set'](_0x21da52['color']['r'],_0x21da52['color']['g'],_0x21da52['color']['b'],_0x21da52['opacity']??-0x1*-0x1525+0x1*0x813+0x9bd*-0x3):_0x45f241['color']['set'](_0x21da52['color'][0xa*-0xd3+0x385*-0xb+0x2ef5],_0x21da52['color'][0xba1+-0x1ace+0x1*0xf2e],_0x21da52['color'][-0x143b*0x1+0x1b86*-0x1+0x2fc3],_0x21da52['opacity']??-0x225*-0x2+0x16e7+-0x57*0x50),_0x45f241['color']=_0x45f241['color']),_0x21da52['opacity']!==void(0xa97+0x2a*0x93+0x22b5*-0x1)&&(_0x45f241['opacity']=_0x21da52['opacity']),_0x21da52['flipX']!==void(0xba6+0x13*-0x4a+-0x628)&&(_0x45f241['flipX']=_0x21da52['flipX']),_0x21da52['flipY']!==void(-0x171c+-0xb*-0xef+0xcd7)&&(_0x45f241['flipY']=_0x21da52['flipY']),_0x21da52['width']!==void(0x2394+0x2*-0x5ae+-0xf8*0x19)&&(_0x45f241['width']=_0x21da52['width']),_0x21da52['height']!==void(-0x14ba+-0x3f9*0x2+0x1cac)&&(_0x45f241['height']=_0x21da52['height']),_0x21da52['spriteAsse'+'t']!==void(0xae2+-0x234c+0x186a)&&(_0x45f241['spriteAsse'+'t']=_0x21da52['spriteAsse'+'t']),_0x21da52['sprite']&&(_0x45f241['sprite']=_0x21da52['sprite']),_0x21da52['frame']!==void(-0xd1e+-0x4*-0x4fc+-0x6d2)&&(_0x45f241['frame']=_0x21da52['frame']),_0x21da52['clips']){for(const _0x4a37c9 in _0x21da52['clips'])_0x45f241['addClip'](_0x21da52['clips'][_0x4a37c9]);}_0x21da52['speed']!==void(-0x478*0x3+0x116d+-0x405)&&(_0x45f241['speed']=_0x21da52['speed']),_0x21da52['autoPlayCl'+'ip']&&(_0x45f241['autoPlayCl'+'ip']=_0x21da52['autoPlayCl'+'ip']),_0x45f241['batchGroup'+'Id']=_0x21da52['batchGroup'+'Id']===void(-0x1301+0x4de+-0x149*-0xb)||_0x21da52['batchGroup'+'Id']===null?-(-0x3*-0x3e6+0x43*0x3d+0x3c*-0x76):_0x21da52['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x45f241,_0x21da52,_0x9669f4);}['cloneCompo'+'nent'](_0x5e80a9,_0x50907b){const _0x28c003=_0x5e80a9['sprite'];return this['addCompone'+'nt'](_0x50907b,{'enabled':_0x28c003['enabled'],'type':_0x28c003['type'],'spriteAsset':_0x28c003['spriteAsse'+'t'],'sprite':_0x28c003['sprite'],'width':_0x28c003['width'],'height':_0x28c003['height'],'frame':_0x28c003['frame'],'color':_0x28c003['color']['clone'](),'opacity':_0x28c003['opacity'],'flipX':_0x28c003['flipX'],'flipY':_0x28c003['flipY'],'speed':_0x28c003['speed'],'clips':_0x28c003['clips'],'autoPlayClip':_0x28c003['autoPlayCl'+'ip'],'batchGroupId':_0x28c003['batchGroup'+'Id'],'drawOrder':_0x28c003['drawOrder'],'layers':_0x28c003['layers']['slice'](-0x1*-0x8b7+-0x3*-0xda+-0xb45)});}['onUpdate'](_0x1063a6){const _0xa89d81=this['store'];for(const _0x59e253 in _0xa89d81)if(_0xa89d81['hasOwnProp'+'erty'](_0x59e253)){const _0x1d0297=_0xa89d81[_0x59e253];if(_0x1d0297['data']['enabled']&&_0x1d0297['entity']['enabled']){const _0x3e50b7=_0x1d0297['entity']['sprite'];_0x3e50b7['_currentCl'+'ip']&&_0x3e50b7['_currentCl'+'ip']['_update'](_0x1063a6);}}}['onBeforeRe'+'move'](_0x19220a,_0x178b9f){_0x178b9f['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x41e0c6,_0x36950c){super(_0x41e0c6,_0x36950c),this['_oldState']=!(-0x596+0x3*-0x3a1+0x1079*0x1),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0xd3b4c7){_0xd3b4c7 instanceof T?this['_size']['copy'](_0xd3b4c7):_0xd3b4c7 instanceof Array&&_0xd3b4c7['length']>=-0x227e+0x2*-0xb11+-0x64b*-0x9&&this['size']['set'](_0xd3b4c7[0xa3*-0x1f+-0x11c6+0x2583],_0xd3b4c7[0x1ad+-0x53*0x55+0x8a1*0x3],_0xd3b4c7[-0x18b6+-0x2459*0x1+0x3d11]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x3ac8c7,_0x298019,_0x47ae03){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x2a66e9=this['enabled']&&this['entity']['enabled'];_0x2a66e9!==this['_oldState']&&(this['_oldState']=_0x2a66e9,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(-0x99a+0x4c5*-0x1+-0x11b*-0xd);}}const vx=['enabled'];class WI extends Xe{constructor(_0x1b5446){super(_0x1b5446),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x4e7414,_0x2926cc,_0x52b1ba){_0x4e7414['enabled']=_0x2926cc['hasOwnProp'+'erty']('enabled')?!!_0x2926cc['enabled']:!(0xd55*-0x1+-0x220+-0xf75*-0x1),_0x2926cc['size']&&(_0x2926cc['size']instanceof T?_0x4e7414['size']['copy'](_0x2926cc['size']):_0x2926cc['size']instanceof Array&&_0x2926cc['size']['length']>=0x8*0x354+0x1*-0xa21+-0x107c*0x1&&_0x4e7414['size']['set'](_0x2926cc['size'][-0x2607+0x16b5+0xf52],_0x2926cc['size'][0x1cd0+0x6a*-0x48+0x101],_0x2926cc['size'][-0x101*0x8+0x1*-0x217e+0x2988]));}['cloneCompo'+'nent'](_0x456434,_0xe581bb){const _0x5a1e29={'enabled':_0x456434['zone']['enabled'],'size':_0x456434['zone']['size']};return this['addCompone'+'nt'](_0xe581bb,_0x5a1e29);}['_onBeforeR'+'emove'](_0x292ede,_0x345774){_0x345774['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class $I{constructor(_0x25d318,_0x11a7a9){this['effect']=_0x25d318,this['inputTarge'+'t']=_0x11a7a9,this['outputTarg'+'et']=null,this['name']=_0x25d318['constructo'+'r']['name'];}}class qI{constructor(_0x462df4,_0x2de84b){this['app']=_0x462df4,this['camera']=_0x2de84b,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x26a3+0x1079*0x1+0x162b*0x1),this['depthTarge'+'t']=null,_0x2de84b['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x5cf469,_0x10b3db){const _0x1940ba=this['camera']['rect'],_0x5d0bba=this['destinatio'+'nRenderTar'+'get'],_0x464626=this['app']['graphicsDe'+'vice'],_0x4a7ef9=Math['floor'](_0x1940ba['z']*((_0x5d0bba==null?void(-0x2374+0x1eea+0x48a):_0x5d0bba['width'])??_0x464626['width'])),_0x33aa41=Math['floor'](_0x1940ba['w']*((_0x5d0bba==null?void(0x263a+-0xc*0x2f6+-0x8a*0x5):_0x5d0bba['height'])??_0x464626['height']));return new he(_0x464626,{'name':_0x10b3db,'format':_0x5cf469,'width':_0x4a7ef9,'height':_0x33aa41,'mipmaps':!(0x10e+-0x3b8*-0x2+0x29*-0x35),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x2a5194,_0x213b9c){const _0x300742=this['app']['graphicsDe'+'vice'],_0x16d390=(this['destinatio'+'nRenderTar'+'get']??_0x300742['backBuffer'])['isColorBuf'+'ferSrgb'](0x127*-0x13+0x1cf2+-0x5*0x169),_0xa00188=(_0x213b9c&&_0x300742['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(-0x56*0xa+-0x2378+-0x26d4*-0x1)))??(_0x16d390?rs:Se),_0x36c776=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x12d75a=this['_allocateC'+'olorBuffer'](_0xa00188,_0x36c776);return new pt({'colorBuffer':_0x12d75a,'depth':_0x2a5194,'stencil':_0x2a5194&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x2a5194?_0x300742['samples']:-0x1*-0x1c8f+0xab*-0x29+-0x12b});}['_resizeOff'+'screenTarg'+'et'](_0x466a19){const _0x23bda1=_0x466a19['colorBuffe'+'r']['format'],_0x2b475d=_0x466a19['colorBuffe'+'r']['name'];_0x466a19['destroyFra'+'meBuffers'](),_0x466a19['destroyTex'+'tureBuffer'+'s'](),_0x466a19['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x23bda1,_0x2b475d),_0x466a19['_colorBuff'+'ers']=[_0x466a19['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x3b1f86){_0x3b1f86['destroyTex'+'tureBuffer'+'s'](),_0x3b1f86['destroy']();}['addEffect'](_0x14ae34){const _0x4d08cd=this['effects'],_0xf2d906=_0x4d08cd['length']===-0x1*0x49b+0x1e83+-0x67a*0x4,_0x34a12a=this['_createOff'+'screenTarg'+'et'](_0xf2d906,_0x14ae34['hdr']),_0x2d5cc7=new $I(_0x14ae34,_0x34a12a);_0x4d08cd['push'](_0x2d5cc7),this['_sourceTar'+'get']=_0x2d5cc7['inputTarge'+'t'],_0x4d08cd['length']>-0x23cc+0x1f*0xe9+0x796&&(_0x4d08cd[_0x4d08cd['length']-(-0x148+-0x1*-0x1349+-0x11ff)]['outputTarg'+'et']=_0x2d5cc7['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x14ae34,_0x14ae34['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x101b+-0x2*-0x123b+-0x1*0x145b);}['removeEffe'+'ct'](_0x1f43a6){let _0x137925=-(-0x16*0x175+-0x34*-0x7f+0x1*0x643);for(let _0x486d1c=-0x5d6+-0x2*0x221+0x88*0x13,_0x12023a=this['effects']['length'];_0x486d1c<_0x12023a;_0x486d1c++)if(this['effects'][_0x486d1c]['effect']===_0x1f43a6){_0x137925=_0x486d1c;break;}_0x137925>=-0xec4+-0x1f4e*0x1+0x2e12&&(_0x137925>0x1*0x1e4f+-0xac2+-0x138d?this['effects'][_0x137925-(-0x224+0x31*0x8d+-0x18d8)]['outputTarg'+'et']=_0x137925+(-0x1e*0x8a+-0x2238+0x3265)<this['effects']['length']?this['effects'][_0x137925+(-0xab*-0x2f+-0xd3*0x1+-0x1e91)]['inputTarge'+'t']:null:this['effects']['length']>0xef*0x4+-0x2202+0x1e47&&(this['effects'][-0x21ed+-0x16d3+0x38c1]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x16cb+0x1959+-0x3023*0x1]['inputTarge'+'t']),this['effects'][0x1*-0x90f+-0x13e9*0x1+-0x1cf9*-0x1]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x61*-0x59+-0x228d+0xd4),this['effects'][0x655*0x4+-0xa22*-0x1+-0x1*0x2375]['hdr']),this['_sourceTar'+'get']=this['effects'][0x1de2+-0x551+-0x1*0x1890]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x2b8*-0x4+-0x4*-0x344+0x1*-0x22f]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x137925]['inputTarge'+'t']),this['effects']['splice'](_0x137925,-0xf6a+-0xb25*0x1+0x1a90)),this['enabled']&&_0x1f43a6['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x971+0x1*-0x1085+0x19f6&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x50e2a6=0x26f+-0x179*-0x8+-0xe37*0x1,_0x305296=this['effects']['length'];_0x50e2a6<_0x305296;_0x50e2a6++){const _0x1e75c0=this['effects'][_0x50e2a6]['effect'];this['_newPostEf'+'fect']!==_0x1e75c0&&_0x1e75c0['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x45c5e2=0x5*0x239+-0x1*0x1159+0x15*0x4c,_0x58847e=this['effects']['length'];_0x45c5e2<_0x58847e;_0x45c5e2++)this['effects'][_0x45c5e2]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x5a13b5=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x5a13b5&&(_0x5a13b5['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x265*0x1+0x165+-0x3ca*0x1)));}['_releaseDe'+'pthMap'](){const _0x236e24=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x236e24&&(_0x236e24['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x11d1*0x2+0x144e*-0x1+0x37f1)));}['destroy'](){for(let _0x3d5e98=-0x2*-0x73c+0x15d*0xb+-0x1d77,_0x3f1a5f=this['effects']['length'];_0x3d5e98<_0x3f1a5f;_0x3d5e98++)this['effects'][_0x3d5e98]['inputTarge'+'t']['destroy']();this['effects']['length']=0x25df+-0xd*-0x125+-0x34c0,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x2*0x15a+0x1dda*0x1+-0x208e),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x2608+-0xb19+0x3121*0x1]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x48d02b=null;const _0x5b122d=this['effects']['length'];if(_0x5b122d)for(let _0x25cbd8=0xb4e+-0x264a+0x1afc;_0x25cbd8<_0x5b122d;_0x25cbd8++){const _0x3d6fb3=this['effects'][_0x25cbd8];let _0x201768=_0x3d6fb3['outputTarg'+'et'];_0x25cbd8===_0x5b122d-(-0x1ee+-0x8b8+0xaa7)&&(_0x48d02b=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x201768=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x3d6fb3['name']),_0x3d6fb3['effect']['render'](_0x3d6fb3['inputTarge'+'t'],_0x201768,_0x48d02b),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x19b*-0x1+-0x18aa+0x13*0x162),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x19a942,_0xb1895f){const _0x315ff7=this['camera']['rect'],_0x1d4abf=this['destinatio'+'nRenderTar'+'get'];_0x19a942=(_0x1d4abf==null?void(-0x1*0x1faf+0x16d9+0x8d6):_0x1d4abf['width'])??_0x19a942,_0xb1895f=(_0x1d4abf==null?void(-0x24e1+0x461+0x1a*0x140):_0x1d4abf['height'])??_0xb1895f,this['camera']['camera']['aspectRati'+'o']=_0x19a942*_0x315ff7['z']/(_0xb1895f*_0x315ff7['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x2c8bb0=this['app']['graphicsDe'+'vice'],_0x1f1797=this['destinatio'+'nRenderTar'+'get'],_0x3aba7c=(_0x1f1797==null?void(-0x1233*-0x1+-0x1325*-0x1+-0x3bc*0xa):_0x1f1797['width'])??_0x2c8bb0['width'],_0xd56981=(_0x1f1797==null?void(-0x1624+-0xa63+0x2087):_0x1f1797['height'])??_0x2c8bb0['height'],_0x4bd0d8=this['camera']['rect'],_0x271757=Math['floor'](_0x4bd0d8['z']*_0x3aba7c),_0x5b036c=Math['floor'](_0x4bd0d8['w']*_0xd56981),_0x59af5e=this['effects'];for(let _0x4488f2=0x1966+-0x25b8+0x26*0x53,_0x5119be=_0x59af5e['length'];_0x4488f2<_0x5119be;_0x4488f2++){const _0x53f1b1=_0x59af5e[_0x4488f2];(_0x53f1b1['inputTarge'+'t']['width']!==_0x271757||_0x53f1b1['inputTarge'+'t']['height']!==_0x5b036c)&&this['_resizeOff'+'screenTarg'+'et'](_0x53f1b1['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x5dddc3,_0xd9793a,_0x40c996){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x2843fc,_0x34a3ed){super(_0x2843fc,_0x34a3ed),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',-0x1fed*-0x1+-0x209d+0xb0),c(this,'_renderSce'+'neColorMap',0x9d6+-0x1183*0x1+-0x83*-0xf),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0x3*-0x44a+-0x10e7*-0x1+-0x1dc4)),c(this,'_sceneColo'+'rMapReques'+'ted',!(-0x3*-0x7dc+-0xe35*-0x1+-0x9c*0x3e)),c(this,'_priority',0x7*0xb+0x1*0x219+0x266*-0x1),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x34a3ed,this['_postEffec'+'ts']=new qI(_0x2843fc['app'],this));}['setShaderP'+'ass'](_0x3c0e9d){const _0x51a208=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x441f44=_0x3c0e9d?_0x51a208['allocate'](_0x3c0e9d,{'isForward':!(-0x1*0x638+-0x17e7+0x1e1f)}):null;return this['_camera']['shaderPass'+'Info']=_0x441f44,_0x441f44['index'];}['getShaderP'+'ass'](){var _0x41c5d5;return(_0x41c5d5=this['_camera']['shaderPass'+'Info'])==null?void(-0x2*0x1119+0x227d+-0x4b):_0x41c5d5['name'];}set['renderPass'+'es'](_0x1bc8f2){this['_camera']['renderPass'+'es']=_0x1bc8f2||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x2258*0x1+-0x1378+0x35d0);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x55514f){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x55514f;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x63ad30){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x63ad30;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x57972e){this['_camera']['fogParams']=_0x57972e;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x5e24c9){this['_camera']['aperture']=_0x5e24c9;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x2539e8){this['_camera']['aspectRati'+'o']=_0x2539e8;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x56a47e){this['_camera']['aspectRati'+'oMode']=_0x56a47e;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x540bc9){this['_camera']['calculateP'+'rojection']=_0x540bc9;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x3e8643){this['_camera']['calculateT'+'ransform']=_0x3e8643;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x5b6612){this['_camera']['clearColor']=_0x5b6612;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x528267){this['_camera']['clearColor'+'Buffer']=_0x528267,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x4ecd20){this['_camera']['clearDepth'+'Buffer']=_0x4ecd20,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x2183d7){this['_camera']['clearStenc'+'ilBuffer']=_0x2183d7,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x526d60){this['_camera']['cullFaces']=_0x526d60;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x48b778){this['_disablePo'+'stEffectsL'+'ayer']=_0x48b778,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x4b43b4){this['_camera']['farClip']=_0x4b43b4;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x23d1aa){this['_camera']['flipFaces']=_0x23d1aa;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x1466ce){this['_camera']['fov']=_0x1466ce;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x2e350d){this['_camera']['frustumCul'+'ling']=_0x2e350d;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x2b8dcc){this['_camera']['horizontal'+'Fov']=_0x2b8dcc;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0xb16fd1){const _0x210ba7=this['_camera']['layers'],_0x2c9530=this['system']['app']['scene'];_0x210ba7['forEach'](_0x2eb3c8=>{const _0xe62713=_0x2c9530['layers']['getLayerBy'+'Id'](_0x2eb3c8);_0xe62713==null||_0xe62713['removeCame'+'ra'](this);}),this['_camera']['layers']=_0xb16fd1,this['enabled']&&this['entity']['enabled']&&_0xb16fd1['forEach'](_0xc5bd61=>{const _0x5c4b02=_0x2c9530['layers']['getLayerBy'+'Id'](_0xc5bd61);_0x5c4b02==null||_0x5c4b02['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x306b42){this['_camera']['jitter']=_0x306b42;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x23d513){this['_camera']['nearClip']=_0x23d513;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x55d802){this['_camera']['orthoHeigh'+'t']=_0x55d802;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x331e35){this['_priority']=_0x331e35,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x88da9e){this['_camera']['projection']=_0x88da9e;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0xb813d3){this['_camera']['rect']=_0xb813d3,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x3ccb32){_0x3ccb32&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x172d*0x1+0x1f43+-0x3670)),this['_sceneColo'+'rMapReques'+'ted']=!(0x3bc*-0xa+0x1*-0x1ee5+0x443d)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x5d*-0x10+0x12a*0x1b+-0x253d)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x2655+-0x8cb+-0x2f21*-0x1));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x179f+0x1a4c+-0x31eb;}set['renderScen'+'eDepthMap'](_0x5e35ce){_0x5e35ce&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0xcc0+0xc9e+0x22)),this['_sceneDept'+'hMapReques'+'ted']=!(0x17*0x119+0x1*-0x119f+-0x7a0)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x16eb+-0x1e65+0x3551)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1*-0x241d+-0xfb5+0x33d3));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>-0x3c5*0x7+-0x129b+0x2cfe*0x1;}set['renderTarg'+'et'](_0x3b95a5){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x1821+-0x1*-0x1c9+-0x19ea&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x3b95a5,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x4db141){this['_camera']['scissorRec'+'t']=_0x4db141;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x540f1a){this['_camera']['sensitivit'+'y']=_0x540f1a;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x6df4a4){this['_camera']['shutter']=_0x6df4a4;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x30837e){if(this['layers']['find'](_0x34a24b=>_0x34a24b===Xt)){const _0x559597=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x30837e?_0x559597==null||_0x559597['incrementC'+'ounter']():_0x559597==null||_0x559597['decrementC'+'ounter']();}else{if(_0x30837e)return!(0x2054*-0x1+-0x1a72+0x3ac7);}return!(0x850+-0x337*-0x3+-0x11f5);}['requestSce'+'neColorMap'](_0xbdfac4){this['_renderSce'+'neColorMap']+=_0xbdfac4?0x736+-0xf57+0x822:-(0x221a+-0x11f*-0x7+-0x3b*0xb6),v['assert'](this['_renderSce'+'neColorMap']>=-0x1493+-0x36c+0x1*0x17ff),this['_enableDep'+'thLayer'](_0xbdfac4)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0xefe5f1){this['_renderSce'+'neDepthMap']+=_0xefe5f1?-0x6da+-0x1886+0x1f61:-(0x2292+0x221*-0x12+0x3c1),v['assert'](this['_renderSce'+'neDepthMap']>=0x1cec+-0x2a9*0x3+-0x14f1),this['_enableDep'+'thLayer'](_0xefe5f1)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x3b556e=this['system']['app']['scene']['layers'];_0x3b556e['_dirty']=!(0x1302+-0x1adf+0x7dd);}['screenToWo'+'rld'](_0x181b15,_0xc6e1df,_0x3bfff7,_0x111194){const _0x51df2c=this['system']['app']['graphicsDe'+'vice'],{width:_0x5c53f2,height:_0x2937e9}=_0x51df2c['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x181b15,_0xc6e1df,_0x3bfff7,_0x5c53f2,_0x2937e9,_0x111194);}['worldToScr'+'een'](_0xa074dd,_0x989c2){const _0x5e7fba=this['system']['app']['graphicsDe'+'vice'],{width:_0x38bc8d,height:_0x24996f}=_0x5e7fba['clientRect'];return this['_camera']['worldToScr'+'een'](_0xa074dd,_0x38bc8d,_0x24996f,_0x989c2);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x81+-0x14f*0x11+-0xf2*-0x17),this['_camera']['_viewProjM'+'atDirty']=!(-0x1*-0x1467+0x9af+-0x1e16);}['addCameraT'+'oLayers'](){const _0x538f3f=this['layers'];for(let _0x568796=0x11b9*-0x2+-0xbe+0x30*0xc1;_0x568796<_0x538f3f['length'];_0x568796++){const _0x10d833=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x538f3f[_0x568796]);_0x10d833&&_0x10d833['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x5eddee=this['layers'];for(let _0x475ebf=0x4*-0x46f+-0x2272*-0x1+-0x10b6;_0x475ebf<_0x5eddee['length'];_0x475ebf++){const _0x21db2b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5eddee[_0x475ebf]);_0x21db2b&&_0x21db2b['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x37c05b,_0x25c803){this['addCameraT'+'oLayers'](),_0x37c05b['off']('add',this['onLayerAdd'+'ed'],this),_0x37c05b['off']('remove',this['onLayerRem'+'oved'],this),_0x25c803['on']('add',this['onLayerAdd'+'ed'],this),_0x25c803['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x14a4e7){this['layers']['indexOf'](_0x14a4e7['id'])<-0x1*-0x205c+-0x3*-0x4ca+-0x175d*0x2||_0x14a4e7['addCamera'](this);}['onLayerRem'+'oved'](_0x4f4198){this['layers']['indexOf'](_0x4f4198['id'])<-0x15ee+0x24e0+-0x2*0x779||_0x4f4198['removeCame'+'ra'](this);}['onEnable'](){var _0x4069e3,_0x5761c7,_0x5ce5ac;const _0x368952=this['system']['app']['scene'],_0x2e86ea=_0x368952['layers'];this['system']['addCamera'](this),(_0x4069e3=this['_evtLayers'+'Changed'])==null||_0x4069e3['off'](),this['_evtLayers'+'Changed']=_0x368952['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2e86ea&&((_0x5761c7=this['_evtLayerA'+'dded'])==null||_0x5761c7['off'](),this['_evtLayerA'+'dded']=_0x2e86ea['on']('add',this['onLayerAdd'+'ed'],this),(_0x5ce5ac=this['_evtLayerR'+'emoved'])==null||_0x5ce5ac['off'](),this['_evtLayerR'+'emoved']=_0x2e86ea['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x37c60a,_0xbe770f,_0x5e9c3f;const _0x59258a=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x37c60a=this['_evtLayers'+'Changed'])==null||_0x37c60a['off'](),this['_evtLayers'+'Changed']=null,_0x59258a&&((_0xbe770f=this['_evtLayerA'+'dded'])==null||_0xbe770f['off'](),this['_evtLayerA'+'dded']=null,(_0x5e9c3f=this['_evtLayerR'+'emoved'])==null||_0x5e9c3f['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x49ff49){const _0x1628c5=this['system']['app']['graphicsDe'+'vice'],_0x265e9b=_0x49ff49?_0x49ff49['width']:_0x1628c5['width'],_0x453b38=_0x49ff49?_0x49ff49['height']:_0x1628c5['height'];return _0x265e9b*this['rect']['z']/(_0x453b38*this['rect']['w']);}['frameUpdat'+'e'](_0x5ebd7a){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x5ebd7a));}['startXr'](_0xd447df,_0x1f72c5,_0x3f9b79){this['system']['app']['xr']['start'](this,_0xd447df,_0x1f72c5,_0x3f9b79);}['endXr'](_0x1f5dfa){if(!this['_camera']['xr']){_0x1f5dfa&&_0x1f5dfa(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x1f5dfa);}['copy'](_0x6d89c){this['aperture']=_0x6d89c['aperture'],this['aspectRati'+'o']=_0x6d89c['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x6d89c['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x6d89c['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x6d89c['calculateT'+'ransform'],this['clearColor']=_0x6d89c['clearColor'],this['clearColor'+'Buffer']=_0x6d89c['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x6d89c['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x6d89c['clearStenc'+'ilBuffer'],this['cullFaces']=_0x6d89c['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x6d89c['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x6d89c['farClip'],this['flipFaces']=_0x6d89c['flipFaces'],this['fov']=_0x6d89c['fov'],this['frustumCul'+'ling']=_0x6d89c['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x6d89c['horizontal'+'Fov'],this['layers']=_0x6d89c['layers'],this['nearClip']=_0x6d89c['nearClip'],this['orthoHeigh'+'t']=_0x6d89c['orthoHeigh'+'t'],this['priority']=_0x6d89c['priority'],this['projection']=_0x6d89c['projection'],this['rect']=_0x6d89c['rect'],this['renderTarg'+'et']=_0x6d89c['renderTarg'+'et'],this['scissorRec'+'t']=_0x6d89c['scissorRec'+'t'],this['sensitivit'+'y']=_0x6d89c['sensitivit'+'y'],this['shutter']=_0x6d89c['shutter'];}}class XI{constructor(){this['enabled']=!(-0xf2*0x1+0x1*-0x16f1+0x5*0x4c7);}}const wx=['enabled'];class jI extends Xe{constructor(_0x11d2da){super(_0x11d2da),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x366311,_0x3db94d,_0x241604){_0x241604=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x5d7514=-0xb*-0xdc+0x7a6+-0x111a;_0x5d7514<_0x241604['length'];_0x5d7514++){const _0x35cf94=_0x241604[_0x5d7514];if(_0x3db94d['hasOwnProp'+'erty'](_0x35cf94)){const _0x2f729c=_0x3db94d[_0x35cf94];switch(_0x35cf94){case'rect':case'scissorRec'+'t':Array['isArray'](_0x2f729c)?_0x366311[_0x35cf94]=new Q(_0x2f729c[-0x1bd5+-0x134+-0x1*-0x1d09],_0x2f729c[-0x1*0x1002+0xeda+0x129*0x1],_0x2f729c[0xb5+-0x208b+0x1fd8*0x1],_0x2f729c[0x43e+0xf*0x14f+0x1fd*-0xc]):_0x366311[_0x35cf94]=_0x2f729c;break;case'clearColor':Array['isArray'](_0x2f729c)?_0x366311[_0x35cf94]=new Y(_0x2f729c[-0x1fb1+0x74c*0x2+0x1119],_0x2f729c[-0x1cbd+0xb6d+0x1151],_0x2f729c[-0xfc*0x21+0x1*0xffd+0x145*0xd],_0x2f729c[-0x11e3*-0x1+0x186a+-0x1*0x2a4a]):_0x366311[_0x35cf94]=_0x2f729c;break;default:_0x366311[_0x35cf94]=_0x2f729c;break;}}}super['initialize'+'ComponentD'+'ata'](_0x366311,_0x3db94d,['enabled']);}['cloneCompo'+'nent'](_0x682734,_0x1e59ec){const _0xd6893d=_0x682734['camera'];return this['addCompone'+'nt'](_0x1e59ec,{'aspectRatio':_0xd6893d['aspectRati'+'o'],'aspectRatioMode':_0xd6893d['aspectRati'+'oMode'],'calculateProjection':_0xd6893d['calculateP'+'rojection'],'calculateTransform':_0xd6893d['calculateT'+'ransform'],'clearColor':_0xd6893d['clearColor'],'clearColorBuffer':_0xd6893d['clearColor'+'Buffer'],'clearDepthBuffer':_0xd6893d['clearDepth'+'Buffer'],'clearStencilBuffer':_0xd6893d['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0xd6893d['renderScen'+'eDepthMap'],'renderSceneColorMap':_0xd6893d['renderScen'+'eColorMap'],'cullFaces':_0xd6893d['cullFaces'],'enabled':_0xd6893d['enabled'],'farClip':_0xd6893d['farClip'],'flipFaces':_0xd6893d['flipFaces'],'fov':_0xd6893d['fov'],'frustumCulling':_0xd6893d['frustumCul'+'ling'],'horizontalFov':_0xd6893d['horizontal'+'Fov'],'layers':_0xd6893d['layers'],'renderTarget':_0xd6893d['renderTarg'+'et'],'nearClip':_0xd6893d['nearClip'],'orthoHeight':_0xd6893d['orthoHeigh'+'t'],'projection':_0xd6893d['projection'],'priority':_0xd6893d['priority'],'rect':_0xd6893d['rect'],'scissorRect':_0xd6893d['scissorRec'+'t'],'aperture':_0xd6893d['aperture'],'sensitivity':_0xd6893d['sensitivit'+'y'],'shutter':_0xd6893d['shutter'],'gammaCorrection':_0xd6893d['gammaCorre'+'ction'],'toneMapping':_0xd6893d['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x2cd4cb,_0x1119f6){this['removeCame'+'ra'](_0x1119f6),_0x1119f6['onRemove']();}['onAppPrere'+'nder'](){for(let _0x3c3eff=-0x1*0x6f7+-0x1*0xc03+-0xe*-0x15b,_0x434a0e=this['cameras']['length'];_0x3c3eff<_0x434a0e;_0x3c3eff++)this['cameras'][_0x3c3eff]['onAppPrere'+'nder']();}['addCamera'](_0x5abec0){this['cameras']['push'](_0x5abec0),No(this['cameras']);}['removeCame'+'ra'](_0x399c12){const _0x499f50=this['cameras']['indexOf'](_0x399c12);_0x499f50>=0x1894+0xb35+-0x23c9*0x1&&(this['cameras']['splice'](_0x499f50,-0x4*-0xbd+-0x236*-0x9+0x1*-0x16d9),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(-0x214*-0x7+-0x806*0x1+-0x686)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(-0x25f1+-0x21e3+0x7*0xa43,-0x5*0x257+0x1*0xa7e+0x136,0x5d*-0x59+-0x2389+0x43df)),c(this,'intensity',-0x1*-0x1c9b+-0x16a*0x2+-0x19c6),c(this,'luminance',-0x1710+0xa0b+0xd05),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(0x170e+0x24da+-0x3be8*0x1)),c(this,'castShadow'+'s',!(0xca6*-0x2+0x1f0*0xb+0x3fd)),c(this,'shadowDist'+'ance',0x1f*0x10+0x4c9+0x1*-0x691),c(this,'shadowInte'+'nsity',-0x236d+-0x103f*-0x1+-0x132f*-0x1),c(this,'shadowReso'+'lution',0xee+-0x5*0x782+0x289c),c(this,'shadowBias',0x1e79+-0x41b*0x7+-0x1bc+0.05),c(this,'numCascade'+'s',0x4*-0x2+-0x19e*0xb+0x75*0x27),c(this,'cascadeBle'+'nd',-0x20*-0xeb+-0x22ec+-0x4*-0x163),c(this,'bakeNumSam'+'ples',0x1ad5+0x173b*0x1+-0x37*0xe9),c(this,'bakeArea',0x3*-0xb07+0x2*0x136+0x1ea9),c(this,'cascadeDis'+'tribution',0x2708+-0x1f8d*-0x1+-0x4695+0.5),c(this,'normalOffs'+'etBias',0x43*-0x7f+0x11*0x214+-0x5*0x6b),c(this,'range',0x22*-0x11+-0x7*-0x99+0x1*-0x1e3),c(this,'innerConeA'+'ngle',-0x3*-0xc09+-0x1f44+-0x6d*0xb),c(this,'outerConeA'+'ngle',0xa47+-0x1*-0x1544+-0x1f5e),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',0x2*-0x86f+-0x7f7*-0x2+-0x1*-0xfb),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(-0x754+0x3cf+0x385+0.01)*(-0x23be*0x1+0x1c85+-0x1*-0x739+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0xb96+-0x133e+0x1*0x1ed5),c(this,'cookieFall'+'off',!(0x1f6c+0x9f5+-0x2961)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',-0x24a4+0x7d*0x43+0x3ed),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',0x3*-0x24b+-0x26d+-0x1*-0x94f),c(this,'affectDyna'+'mic',!(-0x2b3*-0x1+0x3*-0x531+0xce0)),c(this,'affectLigh'+'tmapped',!(-0x21f*-0x1+0x11d9+-0x13f7)),c(this,'bake',!(-0x264f+0x1*-0x2209+0x4859)),c(this,'bakeDir',!(0xb*-0x16+0xecd+-0xddb)),c(this,'isStatic',!(0x1f93*-0x1+0x1522*-0x1+0x34b6)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0x20ca+0xcb9*-0x2+-0x757),c(this,'penumbraFa'+'lloff',0x16a0+-0xd32+-0x96d),c(this,'shadowSamp'+'les',0x1ed1+-0xc09+0x4ae*-0x4),c(this,'shadowBloc'+'kerSamples',0x12dc*0x1+-0x33*-0x75+-0x2a1b);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x196f+0x14*0x1bc+0x6ae*-0x9)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x279e93=this['system']['store'][this['entity']['getGuid']()];return _0x279e93?_0x279e93['data']:null;}set['enabled'](_0x27a516){this['_setValue']('enabled',_0x27a516,function(_0x56a96b,_0x246be9){this['onSetEnabl'+'ed'](null,_0x246be9,_0x56a96b);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x4711c8){this['_setValue']('light',_0x4711c8);}get['light'](){return this['data']['light'];}set['type'](_0x407998){this['_setValue']('type',_0x407998,function(_0x10016f,_0x489d0a){this['system']['changeType'](this,_0x489d0a,_0x10016f),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x1c506b){this['_setValue']('color',_0x1c506b,function(_0x1027a3,_0x3fdde6){this['light']['setColor'](_0x1027a3);},!(-0x7a6+0x10bb+-0x1d1*0x5));}get['color'](){return this['data']['color'];}set['intensity'](_0x349ef2){this['_setValue']('intensity',_0x349ef2,function(_0x5ba821,_0x2c1d42){this['light']['intensity']=_0x5ba821;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x388ddc){this['_setValue']('luminance',_0x388ddc,function(_0x55b69f,_0x570f48){this['light']['luminance']=_0x55b69f;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x144549){this['_setValue']('shape',_0x144549,function(_0x5c3979,_0x566fb1){this['light']['shape']=_0x5c3979;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x34d2ba){this['_setValue']('affectSpec'+'ularity',_0x34d2ba,function(_0x2b9f30,_0x126ed9){this['light']['affectSpec'+'ularity']=_0x2b9f30;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x30d652){this['_setValue']('castShadow'+'s',_0x30d652,function(_0x45f4b2,_0x114501){this['light']['castShadow'+'s']=_0x45f4b2;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x55e662){this['_setValue']('shadowDist'+'ance',_0x55e662,function(_0x2e3c0d,_0x11ec16){this['light']['shadowDist'+'ance']=_0x2e3c0d;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x2fd334){this['_setValue']('shadowInte'+'nsity',_0x2fd334,function(_0x2b39ef,_0x27cd67){this['light']['shadowInte'+'nsity']=_0x2b39ef;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x3b9631){this['_setValue']('shadowReso'+'lution',_0x3b9631,function(_0x9dae6b,_0x295f31){this['light']['shadowReso'+'lution']=_0x9dae6b;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x19a518){this['_setValue']('shadowBias',_0x19a518,function(_0x11ae45,_0x14f37d){this['light']['shadowBias']=-(0x1fd8+-0x8c5+-0x1713*0x1+0.01)*N['clamp'](_0x11ae45,-0x5f*-0x37+-0xe30+-0x213*0x3,-0x12*-0x1f+0x14bd+-0x16ea);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x2b2ae9){this['_setValue']('numCascade'+'s',_0x2b2ae9,function(_0x470fb1,_0x5dfebc){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x470fb1),-0x20b0*-0x1+-0x7*-0x125+0x2*-0x1459,0x32*-0x10+-0x17b3+0x1ad7);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x4ad698){this['_setValue']('cascadeBle'+'nd',_0x4ad698,function(_0x472d9e,_0x169653){this['light']['cascadeBle'+'nd']=N['clamp'](_0x472d9e,0x1903+0x17da+0x7*-0x6fb,0xb35+0x13d*-0x2+0x2*-0x45d);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x2750d9){this['_setValue']('bakeNumSam'+'ples',_0x2750d9,function(_0x3d4b91,_0x8e3203){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x3d4b91),0x1002+0x2*0x1065+-0x30cb,-0x3*0x42d+0x3*-0x2b3+-0x7b*-0x2d);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x43b6f1){this['_setValue']('bakeArea',_0x43b6f1,function(_0x291a55,_0x24326a){this['light']['bakeArea']=N['clamp'](_0x291a55,-0x1bf*-0x1+-0xb*0x115+0x4*0x28a,0x11fd+0x9*-0x2a6+-0x3*-0x22f);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x12b8f7){this['_setValue']('cascadeDis'+'tribution',_0x12b8f7,function(_0x2f98b7,_0xbb608c){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x2f98b7,0x1b1c+0x19cf+-0x2c9*0x13,0x2*-0x1a5+0x239d*0x1+-0x2052);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x3dd9cf){this['_setValue']('normalOffs'+'etBias',_0x3dd9cf,function(_0x586a41,_0x10f983){this['light']['normalOffs'+'etBias']=N['clamp'](_0x586a41,0x2614*-0x1+0x3*-0x466+0x3346,0xb*0x1cb+-0x1e35+0xa7d);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x4123b0){this['_setValue']('range',_0x4123b0,function(_0x12df0b,_0x3cb834){this['light']['attenuatio'+'nEnd']=_0x12df0b;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x1095b3){this['_setValue']('innerConeA'+'ngle',_0x1095b3,function(_0x58a55c,_0x31d6c5){this['light']['innerConeA'+'ngle']=_0x58a55c;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x262b44){this['_setValue']('outerConeA'+'ngle',_0x262b44,function(_0x4aea1d,_0x549d69){this['light']['outerConeA'+'ngle']=_0x4aea1d;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x2159f8){this['_setValue']('falloffMod'+'e',_0x2159f8,function(_0x44d490,_0x286d74){this['light']['falloffMod'+'e']=_0x44d490;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x586b44){this['_setValue']('shadowType',_0x586b44,function(_0x4e284e,_0x40ba28){this['light']['shadowType']=_0x4e284e;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x3d967c){this['_setValue']('vsmBlurSiz'+'e',_0x3d967c,function(_0x5bb2bb,_0x57eb45){this['light']['vsmBlurSiz'+'e']=_0x5bb2bb;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x32e46e){this['_setValue']('vsmBlurMod'+'e',_0x32e46e,function(_0x4b2fb0,_0x2a6501){this['light']['vsmBlurMod'+'e']=_0x4b2fb0;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x3fa79e){this['_setValue']('vsmBias',_0x3fa79e,function(_0xc98e38,_0x38f556){this['light']['vsmBias']=N['clamp'](_0xc98e38,-0x1*0x669+-0x55f+0x179*0x8,0xd3a*0x1+-0x1a*-0xc3+-0x5f*0x59);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x13a0bf){this['_setValue']('cookieAsse'+'t',_0x13a0bf,function(_0x22a352,_0x32b6bd){if(!(this['_cookieAss'+'etId']&&(_0x22a352 instanceof le&&_0x22a352['id']===this['_cookieAss'+'etId']||_0x22a352===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x22a352 instanceof le)this['data']['cookieAsse'+'t']=_0x22a352['id'],this['_cookieAss'+'etId']=_0x22a352['id'],this['onCookieAs'+'setAdd'](_0x22a352);else{if(typeof _0x22a352=='number'){this['_cookieAss'+'etId']=_0x22a352;const _0x5f0902=this['system']['app']['assets']['get'](_0x22a352);_0x5f0902?this['onCookieAs'+'setAdd'](_0x5f0902):(this['_cookieAss'+'etAdd']=!(0xbba+-0x2570+-0x6*-0x449),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x410f4e){this['_setValue']('cookie',_0x410f4e,function(_0x533ce8,_0x5415ea){this['light']['cookie']=_0x533ce8;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x266d75){this['_setValue']('cookieInte'+'nsity',_0x266d75,function(_0x38dfcc,_0x1969f9){this['light']['cookieInte'+'nsity']=N['clamp'](_0x38dfcc,0xd77+0x17*-0x85+-0x4*0x61,0xed6+-0x186+0x1*-0xd4f);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x220c64){this['_setValue']('cookieFall'+'off',_0x220c64,function(_0x2d7645,_0x59e300){this['light']['cookieFall'+'off']=_0x2d7645;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x5aefdb){this['_setValue']('cookieChan'+'nel',_0x5aefdb,function(_0x3711d9,_0xe4f617){this['light']['cookieChan'+'nel']=_0x3711d9;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x574667){this['_setValue']('cookieAngl'+'e',_0x574667,function(_0x32eb3b,_0x361875){if(_0x32eb3b!==-0x1e93+0x95e+0x1*0x1535||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x28db66=-0x42*-0x20+-0x1*-0x12bb+-0x1afa,_0x215618=-0x1cc5+-0x515*-0x4+0x872;this['cookieScal'+'e']&&(_0x28db66=this['cookieScal'+'e']['x'],_0x215618=this['cookieScal'+'e']['y']);const _0x2f1f19=Math['cos'](_0x32eb3b*N['DEG_TO_RAD']),_0x27de8a=Math['sin'](_0x32eb3b*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x2f1f19/_0x28db66,-_0x27de8a/_0x28db66,_0x27de8a/_0x215618,_0x2f1f19/_0x215618),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x14cd10){this['_setValue']('cookieScal'+'e',_0x14cd10,function(_0x1bb7c8,_0x2724d9){if(_0x1bb7c8!==null||this['cookieAngl'+'e']!==0x1b26+0x14b3+-0xff3*0x3){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x441ef0=_0x1bb7c8['x'],_0x59788=_0x1bb7c8['y'],_0x1c826b=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x40ed10=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x1c826b/_0x441ef0,-_0x40ed10/_0x441ef0,_0x40ed10/_0x59788,_0x1c826b/_0x59788),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x247*-0x8+-0x12dd*-0x1+-0x2515));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x5d55a2){this['_setValue']('cookieOffs'+'et',_0x5d55a2,function(_0xcd06f,_0x49b256){this['light']['cookieOffs'+'et']=_0xcd06f;},!(0xe3*0x22+0x75*-0x9+-0x1a09));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x3dac55){this['_setValue']('shadowUpda'+'teMode',_0x3dac55,function(_0x1efcac,_0xf972a9){this['light']['shadowUpda'+'teMode']=_0x1efcac;},!(-0x758+0x1*0xea1+0x1*-0x749));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x5e4a57){this['_setValue']('mask',_0x5e4a57,function(_0x30022b,_0x4098cd){this['light']['mask']=_0x30022b;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x5ebaf7){this['_setValue']('affectDyna'+'mic',_0x5ebaf7,function(_0x33c0f4,_0x441c6f){_0x33c0f4?this['light']['mask']|=hs:this['light']['mask']&=-(0x840+-0x1e4*0x9+0x8c6),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x3409b8){this['_setValue']('affectLigh'+'tmapped',_0x3409b8,function(_0x5835be,_0x53c6da){_0x5835be?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(0x1341+0xf*0x1cf+-0x2e5d))):(this['light']['mask']&=-(0x18*0x71+0x1a62*0x1+-0x24f7),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x2da68c){this['_setValue']('bake',_0x2da68c,function(_0x239cab,_0x269414){_0x239cab?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0x3bb+0x3*0x674+-0x34c*0x7))):(this['light']['mask']&=-(0x559*0x1+0x1fd0+-0x2*0x1292),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x1a3b5f){this['_setValue']('bakeDir',_0x1a3b5f,function(_0x712a41,_0x1189b5){this['light']['bakeDir']=_0x712a41;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0xfd1829){this['_setValue']('isStatic',_0xfd1829,function(_0x282ada,_0x40380f){this['light']['isStatic']=_0x282ada;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x32d8b7){this['_setValue']('layers',_0x32d8b7,function(_0x58e97f,_0xe07f55){for(let _0x33e293=0xfca+-0x11f9+0xd*0x2b;_0x33e293<_0xe07f55['length'];_0x33e293++){const _0x98090a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xe07f55[_0x33e293]);_0x98090a&&(_0x98090a['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x98090a));}for(let _0x134622=-0x1*-0xbcb+0x22d6+0x17*-0x207;_0x134622<_0x58e97f['length'];_0x134622++){const _0x4a5996=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x58e97f[_0x134622]);_0x4a5996&&this['enabled']&&this['entity']['enabled']&&(_0x4a5996['addLight'](this),this['light']['addLayer'](_0x4a5996));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x50730a){this['light']['shadowUpda'+'teOverride'+'s']=_0x50730a;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x12cffd){this['light']['shadowSamp'+'les']=_0x12cffd;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x1b3390){this['light']['shadowBloc'+'kerSamples']=_0x1b3390;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x5415dd){this['light']['penumbraSi'+'ze']=_0x5415dd;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0xa5e77b){this['light']['penumbraFa'+'lloff']=_0xa5e77b;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x506f4f,_0x1cf53b,_0xb7621c,_0x163661){const _0x418122=this['data'],_0x1690ba=_0x418122[_0x506f4f];!_0x163661&&_0x1690ba===_0x1cf53b||(_0x418122[_0x506f4f]=_0x1cf53b,_0xb7621c&&_0xb7621c['call'](this,_0x1cf53b,_0x1690ba));}['addLightTo'+'Layers'](){for(let _0x57aff5=-0x2*0x685+-0x1060+0x1d6a;_0x57aff5<this['layers']['length'];_0x57aff5++){const _0x46494f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x57aff5]);_0x46494f&&(_0x46494f['addLight'](this),this['light']['addLayer'](_0x46494f));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x383c92=0x2663*-0x1+-0x942+0x2fa5*0x1;_0x383c92<this['layers']['length'];_0x383c92++){const _0x9bfb83=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x383c92]);_0x9bfb83&&(_0x9bfb83['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x9bfb83));}}['onLayersCh'+'anged'](_0x10d7b6,_0x47d33b){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x10d7b6['off']('add',this['onLayerAdd'+'ed'],this),_0x10d7b6['off']('remove',this['onLayerRem'+'oved'],this),_0x47d33b['on']('add',this['onLayerAdd'+'ed'],this),_0x47d33b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x20601c){this['layers']['indexOf'](_0x20601c['id'])>=0x67f+-0x1c3d+0x15be&&this['enabled']&&this['entity']['enabled']&&(_0x20601c['addLight'](this),this['light']['addLayer'](_0x20601c));}['onLayerRem'+'oved'](_0x36709c){this['layers']['indexOf'](_0x36709c['id'])>=0x1d0b+-0x2f5*-0x4+-0x1*0x28df&&(_0x36709c['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x36709c));}['refreshPro'+'perties'](){for(let _0x4b7ef0=-0xf97*0x1+0x154c+-0x5b5;_0x4b7ef0<To['length'];_0x4b7ef0++){const _0x481719=To[_0x4b7ef0];this[_0x481719]=this[_0x481719];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x2865ae=!(0x4bc+-0xa9e+0x5e3);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0xa*-0x37a+-0x687+0x294b),_0x2865ae=!(0x2709+-0xbf0*-0x1+-0x32f9*0x1)),(!this['_cookieAss'+'et']['resource']||_0x2865ae)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x324f83){this['_cookieAss'+'etId']===_0x324f83['id']&&(this['_cookieAss'+'et']=_0x324f83,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x3*-0x81f+0x11*0x45+0x5*0x3f5)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x3d41b3=this['system']['app']['scene'],_0x139f34=_0x3d41b3['layers'];this['light']['enabled']=!(0x2*-0xebf+-0x3d*0x3+0xb*0x2bf),this['_evtLayers'+'Changed']=_0x3d41b3['on']('set:layers',this['onLayersCh'+'anged'],this),_0x139f34&&(this['_evtLayerA'+'dded']=_0x139f34['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x139f34['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x4b35e2,_0x1f00a3,_0x4ab0f4;const _0x22b552=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0xf*-0x19d+-0x103f*-0x2+-0x38b0),(_0x4b35e2=this['_evtLayers'+'Changed'])==null||_0x4b35e2['off'](),this['_evtLayers'+'Changed']=null,_0x22b552&&((_0x1f00a3=this['_evtLayerA'+'dded'])==null||_0x1f00a3['off'](),this['_evtLayerA'+'dded']=null,(_0x4ab0f4=this['_evtLayerR'+'emoved'])==null||_0x4ab0f4['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x53fa73){super(_0x53fa73),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3cdf9c,_0x431f0b){const _0x3a1d0a={..._0x431f0b};_0x3a1d0a['type']||(_0x3a1d0a['type']=_0x3cdf9c['data']['type']),_0x3cdf9c['data']['type']=_0x3a1d0a['type'],_0x3a1d0a['layers']&&Array['isArray'](_0x3a1d0a['layers'])&&(_0x3a1d0a['layers']=_0x3a1d0a['layers']['slice'](-0x15d0+-0x6*0x66f+-0x2*-0x1e35)),_0x3a1d0a['color']&&Array['isArray'](_0x3a1d0a['color'])&&(_0x3a1d0a['color']=new Y(_0x3a1d0a['color'][-0x568+0x1efa+0x3*-0x886],_0x3a1d0a['color'][0x21f5*-0x1+-0x1e36+0x402c],_0x3a1d0a['color'][-0x1*-0x2509+0x11ac+-0x36b3])),_0x3a1d0a['cookieOffs'+'et']&&_0x3a1d0a['cookieOffs'+'et']instanceof Array&&(_0x3a1d0a['cookieOffs'+'et']=new W(_0x3a1d0a['cookieOffs'+'et'][0x2b*0xe5+-0x72c+0x1f4b*-0x1],_0x3a1d0a['cookieOffs'+'et'][-0x1*-0x6f7+-0x27*-0xa9+-0x20b5])),_0x3a1d0a['cookieScal'+'e']&&_0x3a1d0a['cookieScal'+'e']instanceof Array&&(_0x3a1d0a['cookieScal'+'e']=new W(_0x3a1d0a['cookieScal'+'e'][-0x18ae+-0x218a+-0x228*-0x1b],_0x3a1d0a['cookieScal'+'e'][0x1b69+-0x1997+-0x1d1])),_0x3a1d0a['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x3a1d0a['enabled']=_0x3a1d0a['enable']),_0x3a1d0a['shape']||(_0x3a1d0a['shape']=yt);const _0x4d014f=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x4d014f['type']=Gu[_0x3a1d0a['type']],_0x4d014f['_node']=_0x3cdf9c['entity'],_0x3cdf9c['data']['light']=_0x4d014f,super['initialize'+'ComponentD'+'ata'](_0x3cdf9c,_0x3a1d0a,To);}['_onRemoveC'+'omponent'](_0x437762,_0x56104c){_0x56104c['onRemove']();}['cloneCompo'+'nent'](_0x2f0d14,_0x5413d3){const _0x4b0d63=_0x2f0d14['light'],_0x19718e=[];let _0x2003d6;for(let _0x5d09d0=-0x1a5e+-0x1fb5*0x1+0x1*0x3a13;_0x5d09d0<To['length'];_0x5d09d0++)_0x2003d6=To[_0x5d09d0],_0x2003d6!=='light'&&(_0x4b0d63[_0x2003d6]&&_0x4b0d63[_0x2003d6]['clone']?_0x19718e[_0x2003d6]=_0x4b0d63[_0x2003d6]['clone']():_0x19718e[_0x2003d6]=_0x4b0d63[_0x2003d6]);return this['addCompone'+'nt'](_0x5413d3,_0x19718e);}['changeType'](_0x399bb8,_0x2b2ccb,_0x513ea0){_0x2b2ccb!==_0x513ea0&&(_0x399bb8['light']['type']=Gu[_0x513ea0]);}}const ZI=['x','y','z','w'],QI=[void(-0x8*0x11b+-0x21bf+0x2a97),void(-0x1*0x2c9+0x1*-0x9cd+0xc96),W,T,Q];function La(_0xd19d94,_0x21993f,_0x2d6dcb,_0x157040){switch(_0x21993f['type']){case'boolean':return!!_0x2d6dcb;case'number':if(typeof _0x2d6dcb=='number')return _0x2d6dcb;if(typeof _0x2d6dcb=='string'){const _0x5a542d=parseInt(_0x2d6dcb,-0x324+0x5*-0x3+-0x1*-0x33d);return isNaN(_0x5a542d)?null:_0x5a542d;}else{if(typeof _0x2d6dcb=='boolean')return-0x35*-0x61+0x1*0x23+-0x1438+_0x2d6dcb;}return null;case'json':{const _0x121c1e={};if(Array['isArray'](_0x21993f['schema'])){(!_0x2d6dcb||typeof _0x2d6dcb!='object')&&(_0x2d6dcb={});for(let _0x2b1ef0=-0x122c+0x1*-0x5ab+0x17d7;_0x2b1ef0<_0x21993f['schema']['length'];_0x2b1ef0++){const _0xe275a9=_0x21993f['schema'][_0x2b1ef0];if(_0xe275a9['name']){if(_0xe275a9['array']){_0x121c1e[_0xe275a9['name']]=[];const _0x173dad=Array['isArray'](_0x2d6dcb[_0xe275a9['name']])?_0x2d6dcb[_0xe275a9['name']]:[];for(let _0x39e56f=0xdea+0x3db+-0x11c5;_0x39e56f<_0x173dad['length'];_0x39e56f++)_0x121c1e[_0xe275a9['name']]['push'](La(_0xd19d94,_0xe275a9,_0x173dad[_0x39e56f]));}else{const _0x28834f=_0x2d6dcb['hasOwnProp'+'erty'](_0xe275a9['name'])?_0x2d6dcb[_0xe275a9['name']]:_0xe275a9['default'];_0x121c1e[_0xe275a9['name']]=La(_0xd19d94,_0xe275a9,_0x28834f);}}}}return _0x121c1e;}case'asset':return _0x2d6dcb instanceof le?_0x2d6dcb:typeof _0x2d6dcb=='number'?_0xd19d94['assets']['get'](_0x2d6dcb)||null:typeof _0x2d6dcb=='string'&&_0xd19d94['assets']['get'](parseInt(_0x2d6dcb,0xf9+-0x3d*-0x65+0x14*-0x140))||null;case'entity':return _0x2d6dcb instanceof De?_0x2d6dcb:typeof _0x2d6dcb=='string'?_0xd19d94['getEntityF'+'romIndex'](_0x2d6dcb):null;case'rgb':case'rgba':if(_0x2d6dcb instanceof Y)return _0x157040 instanceof Y?(_0x157040['copy'](_0x2d6dcb),_0x157040):_0x2d6dcb['clone']();if(_0x2d6dcb instanceof Array&&_0x2d6dcb['length']>=0x1058+-0x1*0x95d+-0x6f8&&_0x2d6dcb['length']<=0x1e18+-0x1381*0x1+-0xa93){for(let _0x3d5e12=-0x13*0x194+-0x2b*-0xc2+0x3*-0xde;_0x3d5e12<_0x2d6dcb['length'];_0x3d5e12++)if(typeof _0x2d6dcb[_0x3d5e12]!='number')return null;return _0x157040||(_0x157040=new Y()),_0x157040['r']=_0x2d6dcb[-0x193d*0x1+0xccd+0xc70],_0x157040['g']=_0x2d6dcb[-0xd02*-0x2+0xf84*-0x2+0x505],_0x157040['b']=_0x2d6dcb[0x3bb*0x8+-0x4f7+0x1*-0x18df],_0x157040['a']=_0x2d6dcb['length']===-0x3f3+-0x18c5*-0x1+-0x7*0x2f9?-0xb*-0x15b+0x5*0x78d+-0x34a9:_0x2d6dcb[-0x1445+-0x2*0x8a5+0x1*0x2592],_0x157040;}else{if(typeof _0x2d6dcb=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x2d6dcb))return _0x157040||(_0x157040=new Y()),_0x157040['fromString'](_0x2d6dcb),_0x157040;}return null;case'vec2':case'vec3':case'vec4':{const _0x57df6d=parseInt(_0x21993f['type']['slice'](0x51e*-0x7+-0x2460+0x4835),0x56d+0x1*-0x14e7+0xf84),_0x1fde05=QI[_0x57df6d];if(_0x2d6dcb instanceof _0x1fde05)return _0x157040 instanceof _0x1fde05?(_0x157040['copy'](_0x2d6dcb),_0x157040):_0x2d6dcb['clone']();if(_0x2d6dcb instanceof Array&&_0x2d6dcb['length']===_0x57df6d){for(let _0x16dc43=0xd1f*-0x1+0x11*0xfe+-0x3bf;_0x16dc43<_0x2d6dcb['length'];_0x16dc43++)if(typeof _0x2d6dcb[_0x16dc43]!='number')return null;_0x157040||(_0x157040=new _0x1fde05());for(let _0x10a109=-0x2*-0xbc3+0xa85*0x3+-0x3715;_0x10a109<_0x57df6d;_0x10a109++)_0x157040[ZI[_0x10a109]]=_0x2d6dcb[_0x10a109];return _0x157040;}return null;}case'curve':if(_0x2d6dcb){let _0x435019;if(_0x2d6dcb instanceof Cs||_0x2d6dcb instanceof jr)_0x435019=_0x2d6dcb['clone']();else{const _0xbcac45=_0x2d6dcb['keys'][-0x113d+-0x71a*0x5+0x34bf]instanceof Array?jr:Cs;_0x435019=new _0xbcac45(_0x2d6dcb['keys']),_0x435019['type']=_0x2d6dcb['type'];}return _0x435019;}break;}return _0x2d6dcb;}function Ax(_0x506296,_0x1b76f3,_0x472dce,_0x3d5b8a){return _0x1b76f3['array']?_0x472dce['map']((_0x254e05,_0x4ed2da)=>La(_0x506296,_0x1b76f3,_0x254e05,_0x3d5b8a?_0x3d5b8a[_0x4ed2da]:null)):La(_0x506296,_0x1b76f3,_0x472dce,_0x3d5b8a);}function Ex(_0x3c170b,_0x2a190a,_0x12a9e3,_0x3db6ce){if(_0x12a9e3)for(const _0x105371 in _0x2a190a){const _0xc4bf53=_0x2a190a[_0x105371],_0x5a3f08=_0x12a9e3[_0x105371];_0x5a3f08!==void(0x241f*-0x1+0x1*0x1735+0xcea)&&(_0x3db6ce[_0x105371]=Ax(_0x3c170b,_0xc4bf53,_0x5a3f08,_0x3db6ce[_0x105371]));}}const oa=class oa{constructor(_0x149122){this['scriptType']=_0x149122,this['index']={};}['add'](_0x227f98,_0x288448){if(this['index'][_0x227f98]){v['warn']('attribute\x20'+'\x27'+_0x227f98+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x227f98)){v['warn']('attribute\x20'+'\x27'+_0x227f98+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x227f98]=_0x288448,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x227f98,{'get':function(){return this['__attribut'+'es'][_0x227f98];},'set':function(_0x14b5de){const _0x998fad='attr',_0x568f4c='attr:'+_0x227f98,_0x224c77=this['__attribut'+'es'][_0x227f98];let _0x461e23=_0x224c77;if(_0x224c77&&_0x288448['type']!=='json'&&_0x288448['type']!=='entity'&&_0x224c77['clone']&&(this['hasEvent'](_0x998fad)||this['hasEvent'](_0x568f4c))&&(_0x461e23=_0x224c77['clone']()),_0x288448['array']){if(this['__attribut'+'es'][_0x227f98]=[],_0x14b5de){for(let _0x18fe58=0x31*-0x77+-0x12f6+0x29bd,_0x3e10c7=_0x14b5de['length'];_0x18fe58<_0x3e10c7;_0x18fe58++)this['__attribut'+'es'][_0x227f98]['push'](La(this['app'],_0x288448,_0x14b5de[_0x18fe58],_0x224c77?_0x224c77[_0x18fe58]:null));}}else this['__attribut'+'es'][_0x227f98]=La(this['app'],_0x288448,_0x14b5de,_0x224c77);this['fire'](_0x998fad,_0x227f98,this['__attribut'+'es'][_0x227f98],_0x461e23),this['fire'](_0x568f4c,this['__attribut'+'es'][_0x227f98],_0x461e23);}});}['remove'](_0x589bdd){return this['index'][_0x589bdd]?(delete this['index'][_0x589bdd],delete this['scriptType']['prototype'][_0x589bdd],!(0x131*-0x3+0x39e+-0xb)):!(0x26d+0x11e8+0xa2a*-0x2);}['has'](_0x4e6970){return!!this['index'][_0x4e6970];}['get'](_0x2d1164){return this['index'][_0x2d1164]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x5c4ca2){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x5c4ca2);}set['enabled'](_0x45a403){this['_enabled']=!!_0x45a403,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x1560+-0x17b*-0x2+0xe*-0x1bd),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x1b90*-0x1+-0x59e+-0x15f2),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x4610ab){const _0xb88b88=this['constructo'+'r'];v['assert'](_0x4610ab&&_0x4610ab['app']&&_0x4610ab['entity'],'script\x20['+_0xb88b88['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x4610ab['app'],this['entity']=_0x4610ab['entity'],this['_enabled']=typeof _0x4610ab['enabled']=='boolean'?_0x4610ab['enabled']:!(-0x23f6+-0xc90+0x3086),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x33*0x9d+0x1152+0x6fb*0x2),this['__scriptTy'+'pe']=_0xb88b88,this['__executio'+'nOrder']=-(-0x2*0x1081+0x1ff4+0x10f*0x1);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x5a19c4){if(typeof _0x5a19c4!='function')return;if('name'in Function['prototype'])return _0x5a19c4['name'];if(_0x5a19c4===Function||_0x5a19c4===Function['prototype']['constructo'+'r'])return'Function';const _0x2cf152=(''+_0x5a19c4)['match'](sD);return _0x2cf152?_0x2cf152[0x1da5+-0x544*0x5+0x1*-0x350]:void(-0x75f+0x1489*-0x1+0x1be8);}class Qh extends Ht{constructor(_0x1661ac){super(_0x1661ac),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x1661ac);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x646d3c){Ht['prototype']['initScript']['call'](this,_0x646d3c),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x646d3c['attributes']||{};}['initScript'+'Type'](_0x2c9f13){this['initScript'](_0x2c9f13);}['__initiali'+'zeAttribut'+'es'](_0x4c7d7f){if(!(!_0x4c7d7f&&!this['__attribut'+'esRaw'])){for(const _0x273869 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x273869)?this[_0x273869]=this['__attribut'+'esRaw'][_0x273869]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x273869)||(this['__scriptTy'+'pe']['attributes']['index'][_0x273869]['hasOwnProp'+'erty']('default')?this[_0x273869]=this['__scriptTy'+'pe']['attributes']['index'][_0x273869]['default']:this[_0x273869]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x2c30b8){for(const _0x5bde17 in _0x2c30b8)_0x2c30b8['hasOwnProp'+'erty'](_0x5bde17)&&(this['prototype'][_0x5bde17]=_0x2c30b8[_0x5bde17]);}}const iD=_0x5a9e5e=>_0x5a9e5e[0x1636+0xb47*-0x2+0x2c*0x2]['toLowerCas'+'e']()+_0x5a9e5e['substring'](0x142f+0x1*-0x192d+-0x4ff*-0x1);class di extends ue{constructor(_0x2fb95b,_0x1b7f1d){super(_0x2fb95b,_0x1b7f1d),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0xa6d+0x9a0+0xce),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x1f*0x9b+-0x157d+0xe8*0x3),this['_enabled']=!(0x705+-0x1*-0x2ef+-0x9f4),this['_beingEnab'+'led']=!(-0xd40+-0x1*0x3b8+-0x1*-0x10f9),this['_isLooping'+'ThroughScr'+'ipts']=!(0x20b*0x4+-0x397*-0x1+-0xbc2),this['_execution'+'Order']=-(-0x3*0x7ba+-0x2*-0xc51+-0x173),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0xd13534){this['_scriptsDa'+'ta']=_0xd13534;for(const _0x3f4fd8 in _0xd13534){if(!_0xd13534['hasOwnProp'+'erty'](_0x3f4fd8))continue;const _0x4fe229=this['_scriptsIn'+'dex'][_0x3f4fd8];if(_0x4fe229){if(typeof _0xd13534[_0x3f4fd8]['enabled']=='boolean'&&(_0x4fe229['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4fe229);}),_0x4fe229['enabled']=!!_0xd13534[_0x3f4fd8]['enabled']),typeof _0xd13534[_0x3f4fd8]['attributes']=='object'){for(const _0x1c61c7 in _0xd13534[_0x3f4fd8]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x1c61c7)){if(!_0x4fe229['__attribut'+'es']['hasOwnProp'+'erty'](_0x1c61c7)){const _0x4dd980=this['system']['app']['scripts']['get'](_0x3f4fd8);_0x4dd980&&_0x4dd980['attributes']['add'](_0x1c61c7,{});}_0x4fe229[_0x1c61c7]=_0xd13534[_0x3f4fd8]['attributes'][_0x1c61c7];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x4f51a4){const _0x23f173=this['_enabled'];this['_enabled']=_0x4f51a4,this['fire']('set','enabled',_0x23f173,_0x4f51a4);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x2280+0x17af*-0x1+-0x27*0x47),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x1*-0x17ba+-0xc5e+0x2419);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x2dc4b5=this['_beginLoop'+'ing']();for(let _0x5e68de=-0x1f78+-0x10ed*-0x1+0xe8b,_0xc8806f=this['scripts']['length'];_0x5e68de<_0xc8806f;_0x5e68de++){const _0x1e1508=this['scripts'][_0x5e68de];_0x1e1508['_initializ'+'ed']&&!_0x1e1508['_postIniti'+'alized']&&_0x1e1508['enabled']&&(_0x1e1508['_postIniti'+'alized']=!(-0x1*0x18a6+-0x41*0x19+0x73*0x45),_0x1e1508['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1e1508,gf));}this['_endLoopin'+'g'](_0x2dc4b5);}['_beginLoop'+'ing'](){const _0x453891=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x124a+-0xaf6+0x1d40),_0x453891;}['_endLoopin'+'g'](_0x46169f){this['_isLooping'+'ThroughScr'+'ipts']=_0x46169f,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x342bfd,_0x59d626,_0x1eeca5){this['_beingEnab'+'led']=!(-0xcc7*-0x1+0x1*-0x1069+-0x1d1*-0x2),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x21a3*0x1+0x5*0x573+0x665);}['_checkStat'+'e'](){const _0x2f032d=this['enabled']&&this['entity']['enabled'];if(_0x2f032d===this['_oldState'])return;this['_oldState']=_0x2f032d,this['fire'](_0x2f032d?'enable':'disable'),this['fire']('state',_0x2f032d),_0x2f032d?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x32e164=this['_beginLoop'+'ing']();for(let _0x432af8=-0x2483+-0x764+0x2be7*0x1,_0x543346=this['scripts']['length'];_0x432af8<_0x543346;_0x432af8++){const _0x893570=this['scripts'][_0x432af8];_0x893570['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x893570);}),_0x893570['enabled']=_0x893570['_enabled'];}this['_endLoopin'+'g'](_0x32e164);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x5981e7=this['_beginLoop'+'ing']();for(let _0x19bed9=-0x39*0x22+-0x3c1*-0x2+0x10;_0x19bed9<this['scripts']['length'];_0x19bed9++){const _0x27c425=this['scripts'][_0x19bed9];_0x27c425&&this['destroy'](_0x27c425['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x5981e7);}['_removeDes'+'troyedScri'+'pts'](){const _0x23a2ed=this['_destroyed'+'Scripts']['length'];if(_0x23a2ed){for(let _0x502125=-0x1*0x1ccd+-0x111b+0x2de8;_0x502125<_0x23a2ed;_0x502125++){const _0x1db4ef=this['_destroyed'+'Scripts'][_0x502125];this['_removeScr'+'iptInstanc'+'e'](_0x1db4ef);}this['_destroyed'+'Scripts']['length']=-0x1*0x24b5+0x33*0x29+0xe45*0x2,this['_resetExec'+'utionOrder'](0xce*-0xb+-0xefe+-0x7*-0x368,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0xac82ac=-0x1b4f+-0x766+0x5*0x6f1,_0x1baf62=this['scripts']['length'];_0xac82ac<_0x1baf62;_0xac82ac++){const _0x1e1dd9=this['scripts'][_0xac82ac];this['initialize'+'Attributes'](_0x1e1dd9);}}['initialize'+'Attributes'](_0x53e335){var _0x49d237;if(_0x53e335 instanceof Qh)_0x53e335['__initiali'+'zeAttribut'+'es']();else{const _0x59b683=_0x53e335['__scriptTy'+'pe']['__name'],_0x37591b=this['_attribute'+'DataMap']['get'](_0x59b683);if(!_0x37591b)return;const _0x1032d8=(_0x49d237=this['system']['app']['scripts'])==null?void(-0x3e*0x82+0x174b+0x831):_0x49d237['getSchema'](_0x59b683);_0x1032d8||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x59b683+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x1032d8['attributes'],_0x37591b,_0x53e335);}}['_scriptMet'+'hod'](_0x19ac6a,_0x3121cd,_0x35ffe3){try{_0x19ac6a[_0x3121cd](_0x35ffe3);}catch(_0x3a9d1e){_0x19ac6a['enabled']=!(0xcf6+-0x2105+0x1410),_0x19ac6a['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x3121cd+'\x22\x20for\x20\x22'+_0x19ac6a['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x3a9d1e),console['error'](_0x3a9d1e)),_0x19ac6a['fire']('error',_0x3a9d1e,_0x3121cd),this['fire']('error',_0x19ac6a,_0x3a9d1e,_0x3121cd);}}['_onInitial'+'ize'](){const _0x1c6117=this['_scripts'],_0x4a969e=this['_beginLoop'+'ing']();for(let _0x3673c3=-0x242c+0x232d*-0x1+0x57d*0xd,_0x3f4c32=_0x1c6117['length'];_0x3673c3<_0x3f4c32;_0x3673c3++){const _0x52daf9=_0x1c6117[_0x3673c3];!_0x52daf9['_initializ'+'ed']&&_0x52daf9['enabled']&&(_0x52daf9['_initializ'+'ed']=!(-0x223d+-0x1db7+-0x4*-0xffd),_0x52daf9['initialize']&&this['_scriptMet'+'hod'](_0x52daf9,_f));}this['_endLoopin'+'g'](_0x4a969e);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0xb4fa78){const _0x2d1105=this['_updateLis'+'t'];if(!_0x2d1105['length'])return;const _0x1f0f6a=this['_beginLoop'+'ing']();for(_0x2d1105['loopIndex']=-0x643+0x21fb+-0x1bb8;_0x2d1105['loopIndex']<_0x2d1105['length'];_0x2d1105['loopIndex']++){const _0x3e7d95=_0x2d1105['items'][_0x2d1105['loopIndex']];_0x3e7d95['enabled']&&this['_scriptMet'+'hod'](_0x3e7d95,JI,_0xb4fa78);}this['_endLoopin'+'g'](_0x1f0f6a);}['_onPostUpd'+'ate'](_0x571041){const _0x174214=this['_postUpdat'+'eList'];if(!_0x174214['length'])return;const _0x4fb684=this['_beginLoop'+'ing']();for(_0x174214['loopIndex']=-0x1e56+0x3*-0xb2b+0x3fd7;_0x174214['loopIndex']<_0x174214['length'];_0x174214['loopIndex']++){const _0x44e25e=_0x174214['items'][_0x174214['loopIndex']];_0x44e25e['enabled']&&this['_scriptMet'+'hod'](_0x44e25e,eD,_0x571041);}this['_endLoopin'+'g'](_0x4fb684);}['_insertScr'+'iptInstanc'+'e'](_0x2b8f21,_0x16fac9,_0x2edc24){_0x16fac9===-(-0x421*-0x4+-0x2*-0x23e+-0x14ff)?(this['_scripts']['push'](_0x2b8f21),_0x2b8f21['__executio'+'nOrder']=_0x2edc24,_0x2b8f21['update']&&this['_updateLis'+'t']['append'](_0x2b8f21),_0x2b8f21['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x2b8f21)):(this['_scripts']['splice'](_0x16fac9,0x116f*-0x1+-0x1*0x1a89+0x2bf8,_0x2b8f21),_0x2b8f21['__executio'+'nOrder']=_0x16fac9,this['_resetExec'+'utionOrder'](_0x16fac9+(-0x195*0x9+-0xc7+0xf05),_0x2edc24+(-0x55a*-0x4+-0x177e+-0x217*-0x1)),_0x2b8f21['update']&&this['_updateLis'+'t']['insert'](_0x2b8f21),_0x2b8f21['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x2b8f21));}['_removeScr'+'iptInstanc'+'e'](_0x4a05c2){const _0x2a0a22=this['_scripts']['indexOf'](_0x4a05c2);return _0x2a0a22===-(0x263f*-0x1+-0x2676+0x4cb6)||(this['_scripts']['splice'](_0x2a0a22,0xa33+-0x7bb*-0x1+-0x11ed),_0x4a05c2['update']&&this['_updateLis'+'t']['remove'](_0x4a05c2),_0x4a05c2['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x4a05c2)),_0x2a0a22;}['_resetExec'+'utionOrder'](_0x1f8031,_0x4aca02){for(let _0x1c4487=_0x1f8031;_0x1c4487<_0x4aca02;_0x1c4487++)this['_scripts'][_0x1c4487]['__executio'+'nOrder']=_0x1c4487;}['_resolveEn'+'tityScript'+'Attribute'](_0x11cb44,_0x3fc0b8,_0x4f99e6,_0x48b987,_0x265817,_0x157566){if(_0x11cb44['array']){const _0x52faed=_0x4f99e6['length'];if(!_0x52faed)return;const _0x39df24=_0x4f99e6['slice']();for(let _0x39ebe2=0x1bdd+0xfd+-0x1cda;_0x39ebe2<_0x52faed;_0x39ebe2++){const _0xf2215e=_0x39df24[_0x39ebe2]instanceof We?_0x39df24[_0x39ebe2]['getGuid']():_0x39df24[_0x39ebe2];_0x157566[_0xf2215e]&&(_0x39df24[_0x39ebe2]=_0x48b987?_0x157566[_0xf2215e]['getGuid']():_0x157566[_0xf2215e]);}_0x265817[_0x3fc0b8]=_0x39df24;}else{if(_0x4f99e6 instanceof We)_0x4f99e6=_0x4f99e6['getGuid']();else{if(typeof _0x4f99e6!='string')return;}_0x157566[_0x4f99e6]&&(_0x265817[_0x3fc0b8]=_0x157566[_0x4f99e6]);}}['has'](_0x23af99){if(typeof _0x23af99=='string')return!!this['_scriptsIn'+'dex'][_0x23af99];if(!_0x23af99)return!(0x36*-0x66+-0x21d8+0x375d*0x1);const _0x49e2ed=_0x23af99,_0x20f7e1=_0x49e2ed['__name'],_0x5ba9c8=this['_scriptsIn'+'dex'][_0x20f7e1];return(_0x5ba9c8&&_0x5ba9c8['instance'])instanceof _0x49e2ed;}['get'](_0x514798){if(typeof _0x514798=='string'){const _0x2b9f0a=this['_scriptsIn'+'dex'][_0x514798];return _0x2b9f0a?_0x2b9f0a['instance']:null;}if(!_0x514798)return null;const _0x5adab7=_0x514798,_0x23294f=_0x5adab7['__name'],_0x57f9e6=this['_scriptsIn'+'dex'][_0x23294f],_0x3b8653=_0x57f9e6&&_0x57f9e6['instance'];return _0x3b8653 instanceof _0x5adab7?_0x3b8653:null;}['create'](_0x306a19,_0xbc98e7={}){const _0x3c6662=this;let _0x4c6645=_0x306a19,_0x676ad3=_0x306a19;if(typeof _0x4c6645=='string'?_0x4c6645=this['system']['app']['scripts']['get'](_0x4c6645):_0x4c6645&&(_0x676ad3=_0x4c6645['__name']??(_0x4c6645['__name']=iD(Cx(_0x4c6645)))),_0x4c6645){if(!this['_scriptsIn'+'dex'][_0x676ad3]||!this['_scriptsIn'+'dex'][_0x676ad3]['instance']){const _0x53e76b=new _0x4c6645({'app':this['system']['app'],'entity':this['entity'],'enabled':_0xbc98e7['hasOwnProp'+'erty']('enabled')?_0xbc98e7['enabled']:!(0x15bf+-0xb5*0x3+-0x4*0x4e8),'attributes':_0xbc98e7['attributes']||{}});_0xbc98e7['properties']&&typeof _0xbc98e7['properties']=='object'&&Object['assign'](_0x53e76b,_0xbc98e7['properties']),_0x53e76b instanceof Qh||this['_attribute'+'DataMap']['set'](_0x676ad3,_0xbc98e7['attributes']);const _0x359265=this['_scripts']['length'];let _0x5921a3=-(0x66e*0x6+-0x7bb*-0x5+-0x5*0xf72);return typeof _0xbc98e7['ind']=='number'&&_0xbc98e7['ind']!==-(-0x50b*-0x2+0x21bb+-0x2bd0)&&_0x359265>_0xbc98e7['ind']&&(_0x5921a3=_0xbc98e7['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x53e76b,_0x5921a3,_0x359265),this['_scriptsIn'+'dex'][_0x676ad3]={'instance':_0x53e76b,'onSwap':function(){_0x3c6662['swap'](_0x676ad3);}},this[_0x676ad3]=_0x53e76b,_0xbc98e7['preloading']||this['initialize'+'Attributes'](_0x53e76b),this['fire']('create',_0x676ad3,_0x53e76b),this['fire']('create:'+_0x676ad3,_0x53e76b),this['system']['app']['scripts']['on']('swap:'+_0x676ad3,this['_scriptsIn'+'dex'][_0x676ad3]['onSwap']),_0xbc98e7['preloading']||(_0x53e76b['enabled']&&!_0x53e76b['_initializ'+'ed']&&(_0x53e76b['_initializ'+'ed']=!(-0x1b08+0x8*0x41f+-0x5f0),_0x53e76b['initialize']&&this['_scriptMet'+'hod'](_0x53e76b,_f)),_0x53e76b['enabled']&&!_0x53e76b['_postIniti'+'alized']&&(_0x53e76b['_postIniti'+'alized']=!(-0x1b85*0x1+0xbfd*-0x1+0x2782),_0x53e76b['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x53e76b,gf))),_0x53e76b;}v['warn']('script\x20\x27'+_0x676ad3+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x676ad3]={'awaiting':!(-0x401+-0x7*0x299+0x1630),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x676ad3+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0xc42c98){let _0x24b322=_0xc42c98,_0x159d4f=_0xc42c98;typeof _0x159d4f=='string'?_0x159d4f=this['system']['app']['scripts']['get'](_0x159d4f):_0x159d4f&&(_0x24b322=_0x159d4f['__name']);const _0x542456=this['_scriptsIn'+'dex'][_0x24b322];if(delete this['_scriptsIn'+'dex'][_0x24b322],!_0x542456)return!(0xc7d+0x3*-0x683+0x70d);this['_attribute'+'DataMap']['delete'](_0x24b322);const _0x2c5192=_0x542456['instance'];if(_0x2c5192&&!_0x2c5192['_destroyed']){if(_0x2c5192['enabled']=!(0x1*0x1a3d+-0x9*0x349+0x1*0x355),_0x2c5192['_destroyed']=!(-0x497+-0x257b+0x1e*0x167),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x2c5192);else{const _0x80b121=this['_removeScr'+'iptInstanc'+'e'](_0x2c5192);_0x80b121>=-0x25df+-0xd*-0xb8+0x1c87&&this['_resetExec'+'utionOrder'](_0x80b121,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x24b322,_0x542456['onSwap']),delete this[_0x24b322],this['fire']('destroy',_0x24b322,_0x2c5192||null),this['fire']('destroy:'+_0x24b322,_0x2c5192||null),_0x2c5192&&_0x2c5192['fire']('destroy'),!(-0x1c03+-0x1f74+-0x3b77*-0x1);}['swap'](_0x174133){let _0x57f4fc=_0x174133,_0x1f7cab=_0x174133;typeof _0x1f7cab=='string'?_0x1f7cab=this['system']['app']['scripts']['get'](_0x1f7cab):_0x1f7cab&&(_0x57f4fc=_0x1f7cab['__name']);const _0x5c4476=this['_scriptsIn'+'dex'][_0x57f4fc];if(!_0x5c4476||!_0x5c4476['instance'])return!(-0x9f+-0x4*0x528+0x1540);const _0x33ced7=_0x5c4476['instance'],_0x2a0136=this['_scripts']['indexOf'](_0x33ced7),_0x52d05a=new _0x1f7cab({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x33ced7['enabled'],'attributes':_0x33ced7['__attribut'+'es']});return _0x52d05a['swap']?(this['initialize'+'Attributes'](_0x52d05a),this['_scripts'][_0x2a0136]=_0x52d05a,this['_scriptsIn'+'dex'][_0x57f4fc]['instance']=_0x52d05a,this[_0x57f4fc]=_0x52d05a,_0x52d05a['__executio'+'nOrder']=_0x2a0136,_0x33ced7['update']&&this['_updateLis'+'t']['remove'](_0x33ced7),_0x33ced7['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x33ced7),_0x52d05a['update']&&this['_updateLis'+'t']['insert'](_0x52d05a),_0x52d05a['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x52d05a),this['_scriptMet'+'hod'](_0x52d05a,tD,_0x33ced7),this['fire']('swap',_0x57f4fc,_0x52d05a),this['fire']('swap:'+_0x57f4fc,_0x52d05a),!(-0x10a5+-0x2*-0xb11+0x5*-0x119)):!(0x17ea+-0x1c5f+-0x476*-0x1);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x206c1a,_0x1acf14){const _0x45d4dd=this['entity']['script'];for(const _0x5ed3d6 in _0x206c1a['_scriptsIn'+'dex']){const _0x1ef6aa=this['system']['app']['scripts']['get'](_0x5ed3d6);if(!_0x1ef6aa)continue;const _0x4dd94d=_0x206c1a['_scriptsIn'+'dex'][_0x5ed3d6];if(!_0x4dd94d||!_0x4dd94d['instance'])continue;const _0x19cd05=_0x45d4dd[_0x5ed3d6]['__attribut'+'esRaw'],_0x54c568=_0x45d4dd[_0x5ed3d6]['__attribut'+'es'];if(!_0x19cd05&&!_0x54c568)continue;const _0x386e3e=!!_0x19cd05,_0x3d562a=_0x4dd94d['instance']['__attribut'+'es'];for(const _0x2b2110 in _0x3d562a){if(!_0x3d562a[_0x2b2110])continue;const _0x567101=_0x1ef6aa['attributes']['get'](_0x2b2110);if(_0x567101){if(_0x567101['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x567101,_0x2b2110,_0x3d562a[_0x2b2110],_0x386e3e,_0x19cd05||_0x54c568,_0x1acf14);else{if(_0x567101['type']==='json'&&Array['isArray'](_0x567101['schema'])){const _0x18b472=_0x3d562a[_0x2b2110],_0x1d96e8=_0x19cd05?_0x19cd05[_0x2b2110]:_0x54c568[_0x2b2110];for(let _0x4455ba=0x2*-0xde7+0xc0e+0xfc0;_0x4455ba<_0x567101['schema']['length'];_0x4455ba++){const _0x511668=_0x567101['schema'][_0x4455ba];if(_0x511668['type']==='entity'){if(_0x567101['array']){for(let _0x1a71d4=-0x17*0x196+-0x24d6+0x6*0xc38;_0x1a71d4<_0x18b472['length'];_0x1a71d4++)this['_resolveEn'+'tityScript'+'Attribute'](_0x511668,_0x511668['name'],_0x18b472[_0x1a71d4][_0x511668['name']],_0x386e3e,_0x1d96e8[_0x1a71d4],_0x1acf14);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x511668,_0x511668['name'],_0x18b472[_0x511668['name']],_0x386e3e,_0x1d96e8,_0x1acf14);}}}}}}}}['move'](_0xe3d052,_0xd4c493){const _0x7ed724=this['_scripts']['length'];if(_0xd4c493>=_0x7ed724||_0xd4c493<0xf51+0xd3b+-0x1c8c)return!(0x1cfe+-0x2*-0x61f+-0x293b);let _0x4b2baf=_0xe3d052,_0x32aaa8=_0xe3d052;typeof _0x32aaa8!='string'?_0x32aaa8=_0xe3d052['__name']:_0x4b2baf=null;const _0x1b9e54=this['_scriptsIn'+'dex'][_0x32aaa8];if(!_0x1b9e54||!_0x1b9e54['instance'])return!(-0x29*0x61+-0x8*-0x277+-0x42e);const _0x4de18b=_0x1b9e54['instance'];if(_0x4b2baf&&!(_0x4de18b instanceof _0x4b2baf))return!(0x197*-0x9+-0x1f76+0x2dc6);const _0x2871dc=this['_scripts']['indexOf'](_0x4de18b);return _0x2871dc===-(-0x108+-0x29*0x4e+0xd87)||_0x2871dc===_0xd4c493?!(0x26c+-0x1a*-0x6a+-0xd2f):(this['_scripts']['splice'](_0xd4c493,-0xcad+-0x86b+-0x96*-0x24,this['_scripts']['splice'](_0x2871dc,-0x86*-0x34+0xad5+-0x260c)[0x3*0xa2c+0x2132+0x46*-0xe9]),this['_resetExec'+'utionOrder'](-0x349+-0x1e87+0x8*0x43a,_0x7ed724),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x32aaa8,_0x4de18b,_0xd4c493,_0x2871dc),this['fire']('move:'+_0x32aaa8,_0x4de18b,_0xd4c493,_0x2871dc),!(-0x25f6+0x1*0x48f+-0x1*-0x2167));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x2a3+0x4be+-0x761);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=0x269a+0x167b+0x1*-0x3d15;class cD extends Xe{constructor(_0x5c7266){super(_0x5c7266),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1*-0x1376+-0x146*0x9+0x1eec),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x54dd35,_0x4c6455){if(_0x54dd35['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x54dd35),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x54dd35['enabled']=_0x4c6455['hasOwnProp'+'erty']('enabled')?!!_0x4c6455['enabled']:!(-0x262b+-0x1229+-0x1*-0x3854),_0x54dd35['enabled']&&_0x54dd35['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x54dd35),_0x4c6455['hasOwnProp'+'erty']('order')&&_0x4c6455['hasOwnProp'+'erty']('scripts')){_0x54dd35['_scriptsDa'+'ta']=_0x4c6455['scripts'];for(let _0x19680d=0x215+0x5*-0x65a+-0x47*-0x6b;_0x19680d<_0x4c6455['order']['length'];_0x19680d++)_0x54dd35['create'](_0x4c6455['order'][_0x19680d],{'enabled':_0x4c6455['scripts'][_0x4c6455['order'][_0x19680d]]['enabled'],'attributes':_0x4c6455['scripts'][_0x4c6455['order'][_0x19680d]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x220491,_0x1411ff){var _0x2d7d09;const _0x3628e4=[],_0x365bb8={};for(let _0x4a5a14=-0x10ed+0x1e07+-0xd1a;_0x4a5a14<_0x220491['script']['_scripts']['length'];_0x4a5a14++){const _0x59bf93=_0x220491['script']['_scripts'][_0x4a5a14],_0x2fc164=_0x59bf93['__scriptTy'+'pe']['__name'];_0x3628e4['push'](_0x2fc164);const _0x1da6e8=((_0x2d7d09=_0x220491['script']['_attribute'+'DataMap'])==null?void(0x238d+0x16e1*-0x1+-0xcac):_0x2d7d09['get'](_0x2fc164))||{};for(const _0x26d47a in _0x59bf93['__attribut'+'es'])_0x1da6e8[_0x26d47a]=_0x59bf93['__attribut'+'es'][_0x26d47a];_0x365bb8[_0x2fc164]={'enabled':_0x59bf93['_enabled'],'attributes':_0x1da6e8};}for(const _0x4b470b in _0x220491['script']['_scriptsIn'+'dex'])_0x4b470b['awaiting']&&_0x3628e4['splice'](_0x4b470b['ind'],0x4*-0x555+0x1d41+-0x7ed,_0x4b470b);const _0x708a72={'enabled':_0x220491['script']['enabled'],'order':_0x3628e4,'scripts':_0x365bb8};return this['addCompone'+'nt'](_0x1411ff,_0x708a72);}['_resetExec'+'utionOrder'](){Jl=0x9*-0x7b+-0x12c8*0x1+0x171b;for(let _0x45e46b=0x8a5+-0x43*-0x74+-0x2701,_0x9bd99e=this['_component'+'s']['length'];_0x45e46b<_0x9bd99e;_0x45e46b++)this['_component'+'s']['items'][_0x45e46b]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x10dbf5,_0xdbd6ad,_0x4cd3f5){for(_0x10dbf5['loopIndex']=-0x5c8+0x545+0x83;_0x10dbf5['loopIndex']<_0x10dbf5['length'];_0x10dbf5['loopIndex']++)_0x10dbf5['items'][_0x10dbf5['loopIndex']][_0xdbd6ad](_0x4cd3f5);}['_onInitial'+'ize'](){this['preloading']=!(-0x67b*0x1+-0x13d*-0x5+0x19*0x3),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x2bde59){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x2bde59);}['_onPostUpd'+'ate'](_0x53d0e9){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x53d0e9);}['_addCompon'+'entToEnabl'+'ed'](_0x3c4adb){this['_enabledCo'+'mponents']['insert'](_0x3c4adb);}['_removeCom'+'ponentFrom'+'Enabled'](_0xf468f4){this['_enabledCo'+'mponents']['remove'](_0xf468f4);}['_onBeforeR'+'emove'](_0x459221,_0x18dbfb){this['_component'+'s']['items']['indexOf'](_0x18dbfb)>=0x5*-0x35+-0x1349+0x1452&&_0x18dbfb['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x18dbfb),this['_component'+'s']['remove'](_0x18dbfb);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0xd466d4,_0x30d74e){super(_0xd466d4,_0x30d74e),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0xd466d4['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x30d74e['on']('remove',this['onRemoveCh'+'ild'],this),_0x30d74e['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x30d74e['on']('insert',this['onInsertCh'+'ild'],this),_0x30d74e['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x57ce27){var _0x313462,_0x109eb5;this['_customAab'+'b']=_0x57ce27,(_0x109eb5=(_0x313462=this['_instance'])==null?void(0x182+0x1*-0x1673+0x14f1):_0x313462['meshInstan'+'ce'])==null||_0x109eb5['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x2b2471){var _0xd33754;if(this['destroyIns'+'tance'](),this['_instance']=_0x2b2471,(_0xd33754=this['_instance'])!=null&&_0xd33754['meshInstan'+'ce']){const _0x2ed0bc=this['_instance']['meshInstan'+'ce'];_0x2ed0bc['node']||(_0x2ed0bc['node']=this['entity']),_0x2ed0bc['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x4ee5cb){this['_materialO'+'ptions']=Object['assign']({},_0x4ee5cb),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x2667cd;return(_0x2667cd=this['_instance'])==null?void(0xc3f+0x1*0xa97+-0x16d6):_0x2667cd['material'];}set['layers'](_0x35912b){this['removeFrom'+'Layers'](),this['_layers']['length']=0xfcb+-0x4*0x18d+-0x997*0x1;for(let _0xaae017=-0x1e01+0x4*-0x22d+-0x3*-0xce7;_0xaae017<_0x35912b['length'];_0xaae017++)this['_layers'][_0xaae017]=_0x35912b[_0xaae017];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x12d701){const _0x1d290f=_0x12d701 instanceof le?_0x12d701['id']:_0x12d701;this['_assetRefe'+'rence']['id']!==_0x1d290f&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1d290f,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x2402d4){const _0x16b5d6=_0x2402d4 instanceof le?_0x2402d4['id']:_0x2402d4;this['_assetRefe'+'rence']['id']=_0x16b5d6;}['destroyIns'+'tance'](){var _0x5f1f40;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x5f1f40=this['_instance'])==null||_0x5f1f40['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x30012d,_0x531fba;const _0x343e32=(_0x30012d=this['instance'])==null?void(-0x188c+0x2e3+0x15a9):_0x30012d['meshInstan'+'ce'];if(_0x343e32){const _0x1d140c=this['system']['app']['scene']['layers'];for(let _0x5e5d35=0x21cf+-0x4*0x3e4+-0x123f;_0x5e5d35<this['_layers']['length'];_0x5e5d35++)(_0x531fba=_0x1d140c['getLayerBy'+'Id'](this['_layers'][_0x5e5d35]))==null||_0x531fba['addMeshIns'+'tances']([_0x343e32]);}}['removeFrom'+'Layers'](){var _0x12fe76,_0x62bc55;const _0x2c17d3=(_0x12fe76=this['instance'])==null?void(-0x81*-0x37+-0x772*-0x1+-0x1*0x2329):_0x12fe76['meshInstan'+'ce'];if(_0x2c17d3){const _0x3b48bf=this['system']['app']['scene']['layers'];for(let _0x40231a=-0x81f+-0xf8*0x1f+0x2627;_0x40231a<this['_layers']['length'];_0x40231a++)(_0x62bc55=_0x3b48bf['getLayerBy'+'Id'](this['_layers'][_0x40231a]))==null||_0x62bc55['removeMesh'+'Instances']([_0x2c17d3]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x31ed6a,_0x50d4b1){this['addToLayer'+'s'](),_0x31ed6a['off']('add',this['onLayerAdd'+'ed'],this),_0x31ed6a['off']('remove',this['onLayerRem'+'oved'],this),_0x50d4b1['on']('add',this['onLayerAdd'+'ed'],this),_0x50d4b1['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3a9e7e){this['layers']['indexOf'](_0x3a9e7e['id'])<0x4e*0x35+-0xfb5+-0x71||this['_instance']&&_0x3a9e7e['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x5d64fd){this['layers']['indexOf'](_0x5d64fd['id'])<0x5e*0x65+0x1954+-0x3e6a||this['_instance']&&_0x5d64fd['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0xc9a711=this['system']['app']['scene'],_0x429cbd=_0xc9a711['layers'];this['_evtLayers'+'Changed']=_0xc9a711['on']('set:layers',this['onLayersCh'+'anged'],this),_0x429cbd&&(this['_evtLayerA'+'dded']=_0x429cbd['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x429cbd['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x485d47,_0x5bb914,_0x24839d;const _0x22c9e6=this['system']['app']['scene']['layers'];(_0x485d47=this['_evtLayers'+'Changed'])==null||_0x485d47['off'](),this['_evtLayers'+'Changed']=null,_0x22c9e6&&((_0x5bb914=this['_evtLayerA'+'dded'])==null||_0x5bb914['off'](),this['_evtLayerA'+'dded']=null,(_0x24839d=this['_evtLayerR'+'emoved'])==null||_0x24839d['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1848+-0x2f*0xbc+-0x3acd*-0x1));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x20a6+0x15f7*0x1+0xaaf));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x43371c=this['_assetRefe'+'rence']['asset'];_0x43371c&&(this['instance']=_0x43371c['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(0x3*0x6ff+-0xa01+0x2*-0x57e);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x23a780){super(_0x23a780),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x20d411,_0x43f2b2,_0x3ee132){_0x43f2b2['layers']&&_0x43f2b2['layers']['length']&&(_0x43f2b2['layers']=_0x43f2b2['layers']['slice'](0x3*0xa6b+-0x1*-0xe0d+-0x2d4e));for(let _0x1bd299=-0x1*-0x8ab+0xf0+-0x99b;_0x1bd299<Rr['length'];_0x1bd299++)_0x43f2b2['hasOwnProp'+'erty'](Rr[_0x1bd299])&&(_0x20d411[Rr[_0x1bd299]]=_0x43f2b2[Rr[_0x1bd299]]);_0x43f2b2['aabbCenter']&&_0x43f2b2['aabbHalfEx'+'tents']&&(_0x20d411['customAabb']=new _e(new T(_0x43f2b2['aabbCenter']),new T(_0x43f2b2['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x20d411,_0x43f2b2,yf);}['cloneCompo'+'nent'](_0x4e0118,_0x1c9ef2){const _0x9a7fca=_0x4e0118['gsplat'],_0x2f7f9c={};for(let _0x44738d=0x30*-0xb6+0x1dba+-0x1*-0x466;_0x44738d<Rr['length'];_0x44738d++)_0x2f7f9c[Rr[_0x44738d]]=_0x9a7fca[Rr[_0x44738d]];_0x2f7f9c['enabled']=_0x9a7fca['enabled'],delete _0x2f7f9c['instance'];const _0x36bed6=this['addCompone'+'nt'](_0x1c9ef2,_0x2f7f9c);return _0x36bed6['instance']=_0x9a7fca['instance']['clone'](),_0x9a7fca['customAabb']&&(_0x36bed6['customAabb']=_0x9a7fca['customAabb']['clone']()),_0x36bed6;}['onRemove'](_0xff08f5,_0x23a6f9){_0x23a6f9['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x7195b1){this['decRefMesh'+'es'](),this['_meshes']=_0x7195b1,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x7195b1);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x5b3217;(_0x5b3217=this['_meshes'])==null||_0x5b3217['forEach']((_0x49f2ae,_0x4004e4)=>{_0x49f2ae&&(_0x49f2ae['decRefCoun'+'t'](),_0x49f2ae['refCount']<-0x1*-0x266c+-0x2*0x5b3+-0x1b05*0x1&&(_0x49f2ae['destroy'](),this['_meshes'][_0x4004e4]=null));});}['incRefMesh'+'es'](){var _0x49c0b0;(_0x49c0b0=this['_meshes'])==null||_0x49c0b0['forEach'](_0x18f56b=>{_0x18f56b==null||_0x18f56b['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x2303d5){const _0x581a59=this;if(!_0x581a59['resource'])return;const _0x363e7a=_0x2303d5['resource'],_0x8fbbab=_0x363e7a['renders']&&_0x363e7a['renders'][_0x581a59['data']['renderInde'+'x']];_0x8fbbab&&(_0x581a59['resource']['meshes']=_0x8fbbab['resource']['meshes']);}function Lg(_0x122395){const _0x39e8f5=this;_0x39e8f5['registry']['off']('load:'+_0x122395['id'],yh,_0x39e8f5),_0x39e8f5['registry']['on']('load:'+_0x122395['id'],yh,_0x39e8f5),_0x39e8f5['registry']['off']('remove:'+_0x122395['id'],Fg,_0x39e8f5),_0x39e8f5['registry']['once']('remove:'+_0x122395['id'],Fg,_0x39e8f5),_0x122395['resource']?yh['call'](_0x39e8f5,_0x122395):_0x39e8f5['registry']['load'](_0x122395);}function Fg(_0x4d3bc6){const _0x904517=this;_0x904517['registry']['off']('load:'+_0x4d3bc6['id'],yh,_0x904517),_0x904517['resource']&&_0x904517['resource']['destroy']();}class fD extends Ne{constructor(_0x523b2e){super(_0x523b2e,'render'),this['_registry']=_0x523b2e['assets'];}['open'](_0x3b4b38,_0x539276){return new Hp();}['patch'](_0x3e806f,_0x2d9474){if(!_0x3e806f['data']['containerA'+'sset'])return;const _0x4fe624=_0x2d9474['get'](_0x3e806f['data']['containerA'+'sset']);if(!_0x4fe624){_0x2d9474['once']('add:'+_0x3e806f['data']['containerA'+'sset'],Lg,_0x3e806f);return;}Lg['call'](_0x3e806f,_0x4fe624);}}class Px{constructor(_0x4bc2a3,_0x2ce44c,_0x3ca860,_0x529462){this['_paths']=_0x4bc2a3,this['_input']=_0x2ce44c,this['_output']=_0x3ca860,this['_interpola'+'tion']=_0x529462;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x22a889,_0x3aab24){this['_component'+'s']=_0x22a889,this['_data']=_0x3aab24;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x1e379e,_0x3dea32){let _0x38f3bd;const _0x1ace1f=(_0x2405e2,_0x51e109)=>{switch(_0x51e109){case _0x38f3bd['DT_INT8']:return new Int8Array(_0x2405e2['buffer'],_0x2405e2['byteOffset'],_0x2405e2['byteLength']);case _0x38f3bd['DT_INT16']:return new Int16Array(_0x2405e2['buffer'],_0x2405e2['byteOffset'],_0x2405e2['byteLength']/(0x59d*0x3+0xd01*0x1+0x86*-0x39));case _0x38f3bd['DT_INT32']:return new Int32Array(_0x2405e2['buffer'],_0x2405e2['byteOffset'],_0x2405e2['byteLength']/(-0x18d*-0x17+0x2ef*-0x9+-0x940));case _0x38f3bd['DT_UINT8']:return new Uint8Array(_0x2405e2['buffer'],_0x2405e2['byteOffset'],_0x2405e2['byteLength']);case _0x38f3bd['DT_UINT16']:return new Uint16Array(_0x2405e2['buffer'],_0x2405e2['byteOffset'],_0x2405e2['byteLength']/(0xca*0xe+-0x13f9+0x8ef));case _0x38f3bd['DT_UINT32']:return new Uint32Array(_0x2405e2['buffer'],_0x2405e2['byteOffset'],_0x2405e2['byteLength']/(-0x1*-0x188e+-0x181*-0x15+-0x381f));case _0x38f3bd['DT_FLOAT32']:return new Float32Array(_0x2405e2['buffer'],_0x2405e2['byteOffset'],_0x2405e2['byteLength']/(0xb*-0xf6+-0x108b*-0x2+-0x1680));}return null;},_0x57d81b=_0x3ce0e2=>{switch(_0x3ce0e2){case _0x38f3bd['DT_INT8']:return 0x3b0*-0x4+-0x3d4+0x47*0x43;case _0x38f3bd['DT_INT16']:return 0x145a+0x16ba+-0x2b12;case _0x38f3bd['DT_INT32']:return-0x3*-0x797+-0x3*-0x6b0+-0x2ad1;case _0x38f3bd['DT_UINT8']:return 0xaf*-0xe+0xa98+0x105*-0x1;case _0x38f3bd['DT_UINT16']:return 0x3ee*-0x5+0x22f7+-0xf4f;case _0x38f3bd['DT_UINT32']:return 0xcd*-0x1a+0x21a*0x4+-0xc6e*-0x1;case _0x38f3bd['DT_FLOAT32']:return-0x4f0*0x4+-0x5*0x439+0x28e1;}return 0xa6f+0x21f9+-0x2c67;},_0x559605=_0xe50ca1=>_0xe50ca1['num_compon'+'ents']()*_0x57d81b(_0xe50ca1['data_type']()),_0x470ecd={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x444e0b=(_0x1b754d,_0x4de9b3)=>{const _0x53d145=(_0x545a95,_0x4aa495,_0x26162a)=>{_0x545a95[0x1d*-0x13e+0x1de9+-0x5*-0x139]=_0x4aa495[-0xa8b+-0x12c8+0x1*0x1d53]-_0x26162a[-0x80d+-0x13ae*-0x1+0xd*-0xe5],_0x545a95[0xa8a*0x3+0x25b0+-0x71*0x9d]=_0x4aa495[-0x1*0x1ed3+-0x5d+-0x63d*-0x5]-_0x26162a[0x2*-0x2dc+0x16ae*-0x1+-0xb*-0x295],_0x545a95[-0x5*0x6b2+-0xdf4+0x2f70]=_0x4aa495[0x26c+-0x7*-0x2c9+0x15e9*-0x1]-_0x26162a[-0x25*-0xa6+0x3*0x7db+-0x2f*0x103];},_0x1ef3ec=(_0x1b3cb4,_0x21eadb,_0x108344)=>{_0x1b3cb4[-0x9e9+-0x22b5+0x164f*0x2]=_0x21eadb[-0x2617*-0x1+-0x10*-0x1d+-0x27e6]*_0x108344[0x2291+-0xb28+0x7cd*-0x3]-_0x108344[-0x44e*0x2+0xbb1+-0x314]*_0x21eadb[0x2303*0x1+0x749*-0x5+0x16c],_0x1b3cb4[-0x1*-0xaed+0xfc2+-0xa*0x2ab]=_0x21eadb[0x1*0x21e+-0x621+0x405]*_0x108344[-0xb*-0x332+-0x1933+-0x9f3]-_0x108344[-0x176e*0x1+0x1401*0x1+0x125*0x3]*_0x21eadb[0xeed+0x1ae2+-0x29cf],_0x1b3cb4[0x59a*0x4+-0x3*-0x1b3+0x1b7f*-0x1]=_0x21eadb[-0x2a*0x98+0x1*-0x539+0x7*0x44f]*_0x108344[0x59*0x5+0x93b+-0xaf7]-_0x108344[-0x1d91+-0x276+0x2007]*_0x21eadb[-0x7b3*-0x5+0x1885+-0x3*0x1501];},_0x487140=(_0x2c9601,_0x409b86)=>{const _0x152139=_0x2c9601[_0x409b86+(0xbc+-0x1c53+0x1b97)],_0x483eed=_0x2c9601[_0x409b86+(0x2315*-0x1+0x247c+0x2*-0xb3)],_0x17b991=_0x2c9601[_0x409b86+(-0x1a77*0x1+-0x1aaa+0x3523)],_0x213984=(0x841*0x4+-0x26ed*-0x1+-0x47f0)/Math['sqrt'](_0x152139*_0x152139+_0x483eed*_0x483eed+_0x17b991*_0x17b991);_0x2c9601[_0x409b86+(0x58*0x2+0xa3*-0x38+0x22f8)]*=_0x213984,_0x2c9601[_0x409b86+(0x2665+-0x2296+-0x3ce)]*=_0x213984,_0x2c9601[_0x409b86+(-0x3*-0x9ba+0x22e9+-0xc1*0x55)]*=_0x213984;},_0x234739=(_0x427ddc,_0x18dc30,_0x2ebebd)=>{for(let _0x195b77=-0xd64+0x2ff*0xa+-0x1092;_0x195b77<-0xe36+0x14d9+-0x6a0;++_0x195b77)_0x427ddc[_0x195b77]=_0x18dc30[_0x2ebebd+_0x195b77];},_0x217c3a=_0x4de9b3['length']/(-0xbab+0x1a6*0x15+0xb78*-0x2),_0xea79d1=_0x1b754d['length']/(0x23ca+0x21af+-0x4576),_0x314792=new Float32Array(_0x1b754d['length']),_0x3093df=[-0x24d6+-0x1e52+0x4328,-0x1678+0x11f0+0x488,0x1*0x4a9+0x1d3a+0x19*-0x15b],_0x2c5cbe=[-0x251*-0x3+0xf9f+0x12*-0x141,-0x10*-0x20e+-0x11*-0x20b+-0x281*0x1b,-0x1b89*-0x1+-0x41*-0xe+0x1*-0x1f17],_0x4d655e=[0xe03*-0x1+-0x6d3+0x14d6,-0x113f*0x1+-0x7ea*0x4+0x30e7,0x2*0x102b+-0x11*-0x1dc+-0x3ff2],_0x37eeae=[-0x14c6+0x23d5+0x5*-0x303,-0x1*-0x114b+-0x103*-0x26+-0x37bd,0x2*0xc46+0x11ee+-0x2a7a],_0x588451=[-0x1549+0x1*0x16be+0x1*-0x175,-0x9f4+0x9a*-0x2c+-0x9*-0x40c,-0x11a8+-0x1*0x14ed+-0x7*-0x583],_0x18aad5=[-0x26ff*-0x1+-0x1844+-0xebb,-0x22e1+0x1b9+0x2128,-0x9*0x14+-0x25fd+0x26b1];for(let _0x1a832f=0x2334+0x1*-0x6d9+-0x1c5b;_0x1a832f<_0x217c3a;++_0x1a832f){const _0x3989b7=_0x4de9b3[_0x1a832f*(0x3d*0x2+0x218d+0x4dc*-0x7)+(0xb8c*0x3+-0x2c*-0xd9+-0x10*0x47f)]*(0x14e*-0x3+0x9fe*0x1+0x1*-0x611),_0x856807=_0x4de9b3[_0x1a832f*(-0x9ce+-0x265f*-0x1+-0x1c8e)+(0x1f*0xf1+0x110a*0x1+-0x2e38)]*(0x24bf+0x1*0x454+-0x2910),_0x2461a2=_0x4de9b3[_0x1a832f*(-0x35b+-0x11ad+0x1*0x150b)+(-0x1e0b+0xa42+0x13cb)]*(-0x1867+0xc98+0xbd2);_0x234739(_0x3093df,_0x1b754d,_0x3989b7),_0x234739(_0x2c5cbe,_0x1b754d,_0x856807),_0x234739(_0x4d655e,_0x1b754d,_0x2461a2),_0x53d145(_0x37eeae,_0x2c5cbe,_0x3093df),_0x53d145(_0x588451,_0x4d655e,_0x3093df),_0x1ef3ec(_0x18aad5,_0x37eeae,_0x588451),_0x487140(_0x18aad5,0x7*0x3a3+-0x2e*0x5e+-0x891);for(let _0x4719e5=0x80*-0x1a+-0x1c79+0x2979;_0x4719e5<-0x19*-0x3+0x22cd+0x1*-0x2315;++_0x4719e5)_0x314792[_0x3989b7+_0x4719e5]+=_0x18aad5[_0x4719e5],_0x314792[_0x856807+_0x4719e5]+=_0x18aad5[_0x4719e5],_0x314792[_0x2461a2+_0x4719e5]+=_0x18aad5[_0x4719e5];}for(let _0x15152f=0x1c21+0x128b+0x1d*-0x19c;_0x15152f<_0xea79d1;++_0x15152f)_0x487140(_0x314792,_0x15152f*(-0x449*-0x1+-0xb7b*0x2+-0x8*-0x256));return new Uint8Array(_0x314792['buffer']);},_0x5a2d65=_0x3885ae=>{const _0x36e1c0={},_0x5486de=new _0x38f3bd['DecoderBuf'+'fer']();_0x5486de['Init'](_0x3885ae,_0x3885ae['length']);const _0x38d011=new _0x38f3bd['Decoder']();if(_0x38d011['GetEncoded'+'GeometryTy'+'pe'](_0x5486de)!==_0x38f3bd['TRIANGULAR'+'_MESH'])return _0x36e1c0['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x36e1c0;const _0x50d307=new _0x38f3bd['Mesh'](),_0xcd53eb=_0x38d011['DecodeBuff'+'erToMesh'](_0x5486de,_0x50d307);if(!_0xcd53eb||!_0xcd53eb['ok']()||_0x38f3bd['getPointer'](_0x50d307)===0x2011*0x1+0x247*-0xa+0x27*-0x3d)return _0x36e1c0['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x36e1c0;const _0x195313=_0x50d307['num_faces']()*(0xab7+0x1418+-0x1ecc),_0x119c4a=_0x50d307['num_points']()<=0xc493+-0x54*-0x4dc+-0x15cc4,_0x2cde3c=_0x195313*(_0x119c4a?-0xd7a+-0x3*-0x19c+0x1*0x8a8:0x76*0x8+-0x689+-0x2dd*-0x1),_0x224c24=_0x38f3bd['_malloc'](_0x2cde3c);_0x119c4a?(_0x38d011['GetTriangl'+'esUInt16Ar'+'ray'](_0x50d307,_0x2cde3c,_0x224c24),_0x36e1c0['indices']=new Uint16Array(_0x38f3bd['HEAPU16']['buffer'],_0x224c24,_0x195313)['slice']()['buffer']):(_0x38d011['GetTriangl'+'esUInt32Ar'+'ray'](_0x50d307,_0x2cde3c,_0x224c24),_0x36e1c0['indices']=new Uint32Array(_0x38f3bd['HEAPU32']['buffer'],_0x224c24,_0x195313)['slice']()['buffer']),_0x38f3bd['_free'](_0x224c24);const _0x5be591=[];for(let _0x1d366f=-0x1f55+0x11c3+-0xd92*-0x1;_0x1d366f<_0x50d307['num_attrib'+'utes']();++_0x1d366f)_0x5be591['push'](_0x38d011['GetAttribu'+'te'](_0x50d307,_0x1d366f));_0x5be591['sort']((_0x3d8eae,_0x1b5199)=>(_0x470ecd[_0x3d8eae['attribute_'+'type']()]??_0x470ecd['length'])-(_0x470ecd[_0x1b5199['attribute_'+'type']()]??_0x470ecd['length'])),_0x36e1c0['attributes']=_0x5be591['map'](_0x2216e3=>_0x2216e3['unique_id']());let _0x59dae7=-0x221e+0x8*-0x327+-0x23*-0x1b2;const _0xf2399a=_0x5be591['map'](_0x5002d1=>{const _0x8cb13b=_0x59dae7;return _0x59dae7+=Math['ceil'](_0x559605(_0x5002d1)/(0x1c3d+-0x242d+0x7f4))*(-0x60a*-0x3+0x4a8+0x16c2*-0x1),_0x8cb13b;}),_0x30f1c6=_0x5be591['some'](_0x332e36=>_0x332e36['attribute_'+'type']()===0x6ff*0x3+0x5*0x2dd+-0x234d*0x1),_0x17c70a=_0xf2399a[0x1e47*-0x1+0x1032+0xe16];if(!_0x30f1c6){for(let _0x512fb4=-0x3ac*0x7+0xc2f+-0x241*-0x6;_0x512fb4<_0xf2399a['length'];++_0x512fb4)_0xf2399a[_0x512fb4]+=-0x2444+0x1fa7+-0x4a9*-0x1;_0x59dae7+=0x1971+-0x2b0*0x4+-0xea5;}_0x36e1c0['vertices']=new ArrayBuffer(_0x50d307['num_points']()*_0x59dae7);const _0x5baed6=new Uint8Array(_0x36e1c0['vertices']);for(let _0x3b29d2=0x17f9+-0x542+0x63d*-0x3;_0x3b29d2<_0x50d307['num_attrib'+'utes']();++_0x3b29d2){const _0x5e41f6=_0x5be591[_0x3b29d2],_0x4e2fe9=_0x559605(_0x5e41f6),_0x2ebe18=_0x50d307['num_points']()*_0x4e2fe9,_0x129bfc=_0x38f3bd['_malloc'](_0x2ebe18);_0x38d011['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x50d307,_0x5e41f6,_0x5e41f6['data_type'](),_0x2ebe18,_0x129bfc);const _0xc85b0e=new Uint8Array(_0x38f3bd['HEAPU8']['buffer'],_0x129bfc,_0x2ebe18);for(let _0x2aa329=-0x5*-0x4db+-0x14b*0x3+0x1466*-0x1;_0x2aa329<_0x50d307['num_points']();++_0x2aa329)for(let _0x46514f=-0x9a+0x107f*0x1+-0xfe5;_0x46514f<_0x4e2fe9;++_0x46514f)_0x5baed6[_0x2aa329*_0x59dae7+_0xf2399a[_0x3b29d2]+_0x46514f]=_0xc85b0e[_0x2aa329*_0x4e2fe9+_0x46514f];if(!_0x30f1c6&&_0x5e41f6['attribute_'+'type']()===-0x179a+-0x5*0x384+-0xe*-0x2f1){const _0x66a9b6=_0x444e0b(_0x1ace1f(_0xc85b0e,_0x5e41f6['data_type']()),_0x119c4a?new Uint16Array(_0x36e1c0['indices']):new Uint32Array(_0x36e1c0['indices']));for(let _0x2cf1cd=0x24f1+0x24c5+-0x49b6;_0x2cf1cd<_0x50d307['num_points']();++_0x2cf1cd)for(let _0x229a92=-0x1418+-0x1fd+-0x1*-0x1615;_0x229a92<0xed5*0x2+0x999+0x2737*-0x1;++_0x229a92)_0x5baed6[_0x2cf1cd*_0x59dae7+_0x17c70a+_0x229a92]=_0x66a9b6[_0x2cf1cd*(0x703+-0x79d+0xa6)+_0x229a92];}_0x38f3bd['_free'](_0x129bfc);}return _0x38f3bd['destroy'](_0x50d307),_0x38f3bd['destroy'](_0x38d011),_0x38f3bd['destroy'](_0x5486de),_0x36e1c0;},_0x34e95c=_0x1239d7=>{const _0x259db6=_0x5a2d65(new Uint8Array(_0x1239d7['buffer']));self['postMessag'+'e']({'jobId':_0x1239d7['jobId'],'error':_0x259db6['error'],'indices':_0x259db6['indices'],'vertices':_0x259db6['vertices'],'attributes':_0x259db6['attributes']},[_0x259db6['indices'],_0x259db6['vertices']]['filter'](_0x2a2afb=>_0x2a2afb!=null));},_0x58d95b=[];self['onmessage']=_0x4bf49f=>{const _0x2e1b62=_0x4bf49f['data'];switch(_0x2e1b62['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x5e8c09,_0x36c10c)=>(WebAssembly['instantiat'+'e'](_0x2e1b62['module'],_0x5e8c09)['then'](_0x2f06cf=>_0x36c10c(_0x2f06cf))['catch'](_0x3ab06f=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x3ab06f)),{})})['then'](_0x5e43c7=>{_0x38f3bd=_0x5e43c7,_0x58d95b['forEach'](_0x10ad03=>_0x34e95c(_0x10ad03));});break;case'decodeMesh':_0x38f3bd?_0x34e95c(_0x2e1b62):_0x58d95b['push'](_0x2e1b62);break;}};}const Og=0x352+-0x19e2+-0x1693*-0x1;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x15ab+0x454*-0x1+0x5*0x533,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x18dbac,_0x5a1ad6)=>{_0x18dbac['postMessag'+'e']({'type':'decodeMesh','jobId':_0x5a1ad6['jobId'],'buffer':_0x5a1ad6['buffer']},[_0x5a1ad6['buffer']]);};}['init'](_0x9af682){for(_0x9af682['forEach'](_0x5969e0=>{_0x5969e0['addEventLi'+'stener']('message',_0x4f279a=>{const _0x190298=_0x4f279a['data'],_0x26f804=this['jobCallbac'+'ks']['get'](_0x190298['jobId']);if(_0x26f804&&_0x26f804(_0x190298['error'],{'indices':_0x190298['indices'],'vertices':_0x190298['vertices'],'attributes':_0x190298['attributes']}),this['jobCallbac'+'ks']['delete'](_0x190298['jobId']),this['jobQueue']['length']>0x2383+0x115b*-0x1+-0x1228){const _0x5b0564=this['jobQueue']['shift']();this['run'](_0x5969e0,_0x5b0564);}else{const _0x190010=this['workers'][-0xe2b+0x1890+-0xa63]['indexOf'](_0x5969e0);if(_0x190010!==-(-0x1e5*-0x7+0x3*-0x98b+-0xf5f*-0x1))this['workers'][-0x212d+-0x2545+0x4674]['splice'](_0x190010,-0x3*-0x6f1+0x2*-0x8a1+-0x390),this['workers'][0x1*-0x1438+0x5bf*-0x4+0x9*0x4cd]['push'](_0x5969e0);else{const _0x39c047=this['workers'][-0x24eb+-0x1ddb+0x42c7]['indexOf'](_0x5969e0);_0x39c047!==-(0x1*0xfcd+-0x233f+0xd*0x17f)?(this['workers'][-0x1*0x134f+0xa9f*-0x3+0x332d]['splice'](_0x39c047,0x2ea+0x5*0x727+-0x26ac),this['workers'][-0xecc+-0x7*0x3b+0x1069*0x1]['push'](_0x5969e0)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x1f91*0x1+0xa97*0x1+0x14fa]=_0x9af682;this['jobQueue']['length']&&(this['workers'][0x1a3f+-0x793*-0x1+-0x21d2]['length']||this['workers'][-0x3a6*-0x6+0xd*0x46+0x87b*-0x3]['length']);){const _0x22c791=this['jobQueue']['shift']();if(this['workers'][0x26*0xab+-0x18*0x162+-0x4a*-0x1b]['length']>-0x6ee*-0x4+-0x875*-0x2+-0x2ca2){const _0x450034=this['workers'][-0x1ca9+-0x69a+0x2343]['shift']();this['workers'][0x3*-0x515+-0x78b*-0x2+0x2a]['push'](_0x450034),this['run'](_0x450034,_0x22c791);}else{const _0x467f50=this['workers'][0x61*-0x3e+-0x639+0x1db8]['shift']();this['workers'][0x867+-0x1*-0xeef+-0x1754]['push'](_0x467f50),this['run'](_0x467f50,_0x22c791);}}}['enqueueJob'](_0x5e5b76,_0x48eba5){const _0x20d9ea={'jobId':this['jobId']++,'buffer':_0x5e5b76};if(this['jobCallbac'+'ks']['set'](_0x20d9ea['jobId'],_0x48eba5),this['workers'][0x1*-0x15f7+-0xdaa+0x7*0x517]['length']>0x1ffd*0x1+-0xcc1+-0x133c){const _0x49e429=this['workers'][0x1*-0x13f3+-0x6*0x265+0x2251]['shift']();this['workers'][-0x43e*-0x1+0x2*0x5e4+-0x1005]['push'](_0x49e429),this['run'](_0x49e429,_0x20d9ea);}else{if(this['workers'][-0x16b*0x3+0x12*-0x49+-0x964*-0x1]['length']>-0x898+0x213b+-0x173*0x11){const _0x584a9d=this['workers'][-0x2325+-0x2383+-0x1*-0x46a9]['shift']();this['workers'][-0xfa7*0x1+-0x1*-0x2309+-0x1360]['push'](_0x584a9d),this['run'](_0x584a9d,_0x20d9ea);}else this['jobQueue']['push'](_0x20d9ea);}}}const _D=_0x62238d=>new Promise((_0x57000c,_0x502c08)=>{const _0x2bab1d={'cache':!(-0x1*-0x17d2+0x372*0x1+0x1b44*-0x1),'responseType':'text','retry':Og>-0x1094+0x2516+0x15e*-0xf,'maxRetries':Og};$e['get'](_0x62238d,_0x2bab1d,(_0x124a19,_0x3547d3)=>{_0x124a19?_0x502c08(_0x124a19):_0x57000c(_0x3547d3);});}),gD=_0x7dd24d=>{const _0x55c4a5=()=>fetch(_0x7dd24d)['then'](_0x3a1933=>_0x3a1933['arrayBuffe'+'r']())['then'](_0x12a360=>WebAssembly['compile'](_0x12a360)),_0x590d93=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x7dd24d))['catch'](_0x365977=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x7dd24d+'\x20('+_0x365977+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x55c4a5()));return WebAssembly['compileStr'+'eaming']?_0x590d93():_0x55c4a5();},kg=0x60*0x44+0x26c8+-0x4047;let xh;const yD=_0x17c8c6=>{if(xh)return!(0x2*-0x996+-0xb17+0x1e43*0x1);if(!_0x17c8c6){const _0x1cae48=ay['getConfig']('DracoDecod'+'erModule');_0x1cae48?_0x17c8c6={'jsUrl':_0x1cae48['glueUrl'],'wasmUrl':_0x1cae48['wasmUrl'],'numWorkers':_0x1cae48['numWorkers']}:_0x17c8c6={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x17c8c6['jsUrl']||!_0x17c8c6['wasmUrl']?!(0x3b*-0x1d+0x6*-0x445+0x204e):(xh=new mD(),Promise['all']([_D(_0x17c8c6['jsUrl']),gD(_0x17c8c6['wasmUrl'])])['then'](([_0x16dfb2,_0x3c05de])=>{const _0x2b77ce=['/*\x20draco\x20*'+'/',_0x16dfb2,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x2d42eb=new Blob([_0x2b77ce],{'type':'applicatio'+'n/javascri'+'pt'}),_0x3a4404=URL['createObje'+'ctURL'](_0x2d42eb),_0x432e81=Math['max'](0x254+-0x100+-0x153,Math['min'](-0x21b6+0x13e5*0x1+-0xde1*-0x1,_0x17c8c6['numWorkers']||kg)),_0x349966=[];for(let _0x4971d6=-0x66e+0x1*-0xa93+0x3*0x5ab;_0x4971d6<_0x432e81;++_0x4971d6){const _0x5c0143=new Worker(_0x3a4404);_0x5c0143['postMessag'+'e']({'type':'init','module':_0x3c05de}),_0x349966['push'](_0x5c0143);}xh['init'](_0x349966);}),!(0xa*-0x1ca+-0x1f4*0x5+0x49c*0x6));},xD=(_0x19e365,_0x564000)=>yD()?(xh['enqueueJob'](_0x19e365,_0x564000),!(-0x1b*0xad+-0x3b9*-0x9+-0xf42)):!(-0x55c+-0xa09+0xf66);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x47dd19=>{_0x47dd19['meshes']=null;});}}const Rx=_0x32b841=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x32b841),vD=_0x395f33=>_0x395f33['substring'](_0x395f33['indexOf'](':')+(0x3a9*-0x2+0x9*0x197+0x6fc*-0x1),_0x395f33['indexOf'](';')),Wo=_0x30c971=>{switch(_0x30c971){case'SCALAR':return-0x191*-0x7+0x21*-0x6+0x10*-0xa3;case'VEC2':return-0x2133+0x18e3*-0x1+0x3a18;case'VEC3':return-0x1cbb+0xc56+-0x7*-0x258;case'VEC4':return-0x6a8+0x2*-0x8ad+-0x6*-0x401;case'MAT2':return 0xce8+-0x1c3d+0xf59;case'MAT3':return-0x2314+-0x1e9*0xf+-0xd4*-0x4d;case'MAT4':return 0x1e9+-0x24b2+-0x1*-0x22d9;default:return 0x25d3+0x1321+0x2b*-0x153;}},Jc=_0x4a85d5=>{switch(_0x4a85d5){case-0xec*-0x5+0xf17*-0x1+0x1e7b:return Rc;case-0x1*0x151b+0x1b0b+0xd*0x115:return Kr;case-0x177*-0xe+0x1a43+-0x1ac3:return Ic;case-0x1067+0xe37*-0x1+-0x1*-0x32a1:return el;case-0xa43*0x3+-0x152b+0x47f8:return By;case-0x5a4*0x4+0x3a*-0x7+-0x3*-0xeb9:return Do;case-0xa96+0x1*-0x59f+0x23*0x109:return Ee;default:return-0x6f*0x4f+0x1*0x95f+0x18e2;}},bD=_0x3458c8=>{switch(_0x3458c8){case 0x26f5+-0x2*0x138f+0x1429:return 0x35*-0x2b+-0x13*-0x1a+0x6fa;case-0x1*0x27ac+0x5*0x51f+0x2212:return-0x1*-0xdc7+0x176a+-0x2530;case 0x1*0x1a72+0x10f1*0x1+-0x1761:return-0x1*-0x23d6+0x41+-0x2415;case-0xf1a*-0x1+-0x2*-0x868+-0xb*0x115:return-0x31*-0x4a+0x11*-0x18a+0xc02;case-0xc53+0x1ed0+0x187:return 0x1*-0x26a5+0x424*0x4+-0x1619*-0x1;case-0x8*-0x117+0x1837+0x26*-0x57:return-0x1*0x17cb+-0x1*-0x2591+-0xdc2*0x1;case-0x1*0x1749+-0x272e*0x1+0x1b7f*0x3:return-0x8e1*0x4+0x15*0xcc+-0x322*-0x6;default:return-0x12f1+0x20b*0x1+0x10e6;}},wD=_0x1a9d74=>{switch(_0x1a9d74){case-0x254f+0x10df+0x2870:return Int8Array;case 0x111+0x2221*-0x1+0x3511:return Uint8Array;case 0x24*0x2e+0x1898+-0x587*0x2:return Int16Array;case-0x45*-0x1e+-0x1c95+0x2882:return Uint16Array;case 0xff6+-0x9*0x343+0x2169*0x1:return Int32Array;case 0x11*0x12d+-0x20f6+0x20fe:return Uint32Array;case 0x7fa+-0x26a*-0x7+-0x4da:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:-0x1ab5+-0x63e+0x20f3,[Yt]:0x1a3a+-0x1*0xed+-0x194c*0x1,[Zs]:-0x1*-0x19f9+-0x5*-0x161+-0x3*0xaf4,[At]:0x8*0x3bb+-0x1*-0x180f+0x2*-0x1af2,[qt]:0x5af*-0x1+-0x2332+0x28e5,[Ys]:-0xe7c+-0xd2*-0x2b+-0x14c5,[ns]:0x2310+0x1938+-0x3c42,[_n]:-0x1ee8+0x40*0x8d+0x1*-0x451,[jo]:0xa+-0x1cde+0x1cdc,[Yo]:-0x7*-0x347+-0x265a*-0x1+0x3d42*-0x1,[Ko]:-0xf1a+0x1db6+-0xe92,[Zo]:-0x1*0x19ef+0x1c96*-0x1+-0xc2*-0x48,[Qo]:-0x77a+0x2*-0x1330+0x32*0xeb,[Jo]:-0x1a86+0x2*0x1ee+0x16b7},TD=_0x23d8c2=>{switch(_0x23d8c2){case Rc:return _0x57aac8=>Math['max'](_0x57aac8/(-0x4b2+0x1b4b*0x1+-0x3af*0x6),-(-0x11*0x43+0x3*-0x419+0x10bf));case Kr:return _0x5e4365=>_0x5e4365/(-0x1*0x5f3+0x214*0x4+0x46*-0x5);case Ic:return _0x25335d=>Math['max'](_0x25335d/(-0x1*0x1fe7+0x1*0x7371+-0x2c75*-0x1),-(-0xa90+-0x1fec+0x2a7d*0x1));case el:return _0x560753=>_0x560753/(0x5*-0x13fb+0x149a2+0x1a44);default:return _0x40d1ba=>_0x40d1ba;}},xf=(_0x1380ad,_0x2e372a,_0x1d1264)=>{const _0x42cddb=TD(_0x1d1264),_0x52f869=_0x2e372a['length'];for(let _0x2b13a2=-0x1cd7+-0xa*0x35b+0x3e65;_0x2b13a2<_0x52f869;++_0x2b13a2)_0x1380ad[_0x2b13a2]=_0x42cddb(_0x2e372a[_0x2b13a2]);return _0x1380ad;},sn=(_0xd6d8e9,_0x733069,_0x1fc298=!(-0x62*0xd+-0x1*0x78d+0x2*0x644))=>{const _0x425d57=Wo(_0xd6d8e9['type']),_0x869c7a=wD(_0xd6d8e9['componentT'+'ype']);if(!_0x869c7a)return null;let _0x23557e;if(_0xd6d8e9['sparse']){const _0x43f539=_0xd6d8e9['sparse'],_0x72dbaa={'count':_0x43f539['count'],'type':'SCALAR'},_0x2eecf0=sn(Object['assign'](_0x72dbaa,_0x43f539['indices']),_0x733069,!(-0x14*-0x43+0x1278+-0x2*0xbda)),_0x44dd96={'count':_0x43f539['count'],'type':_0xd6d8e9['type'],'componentType':_0xd6d8e9['componentT'+'ype']},_0x286b85=sn(Object['assign'](_0x44dd96,_0x43f539['values']),_0x733069,!(0x1*0x36f+0x7*-0x30b+0x11de));if(_0xd6d8e9['hasOwnProp'+'erty']('bufferView')){const _0x1aa754={'bufferView':_0xd6d8e9['bufferView'],'byteOffset':_0xd6d8e9['byteOffset'],'componentType':_0xd6d8e9['componentT'+'ype'],'count':_0xd6d8e9['count'],'type':_0xd6d8e9['type']};_0x23557e=sn(_0x1aa754,_0x733069,!(0x2192+0x24e6*0x1+0x334*-0x16))['slice']();}else _0x23557e=new _0x869c7a(_0xd6d8e9['count']*_0x425d57);for(let _0x234e75=0x76c+0x234b*0x1+-0xf3*0x2d;_0x234e75<_0x43f539['count'];++_0x234e75){const _0x58eb0b=_0x2eecf0[_0x234e75];for(let _0x3e8112=-0x3*-0x95f+0x21a8+-0x3dc5;_0x3e8112<_0x425d57;++_0x3e8112)_0x23557e[_0x58eb0b*_0x425d57+_0x3e8112]=_0x286b85[_0x234e75*_0x425d57+_0x3e8112];}}else{if(_0xd6d8e9['hasOwnProp'+'erty']('bufferView')){const _0x5cdea1=_0x733069[_0xd6d8e9['bufferView']];if(_0x1fc298&&_0x5cdea1['hasOwnProp'+'erty']('byteStride')){const _0x418a91=_0x425d57*_0x869c7a['BYTES_PER_'+'ELEMENT'],_0x35a0a5=new ArrayBuffer(_0xd6d8e9['count']*_0x418a91),_0x110a6f=new Uint8Array(_0x35a0a5);let _0x6b6779=0x1021*-0x1+-0x8*-0x49a+-0x14af;for(let _0x2274cb=0x11*-0x248+-0x181f+0x3ee7;_0x2274cb<_0xd6d8e9['count'];++_0x2274cb){let _0x198d91=(_0xd6d8e9['byteOffset']||-0x8*-0x4d5+0xc2*0x5+-0x2a72)+_0x2274cb*_0x5cdea1['byteStride'];for(let _0x589628=-0x11f9+-0x2*0x9e3+0x25bf;_0x589628<_0x418a91;++_0x589628)_0x110a6f[_0x6b6779++]=_0x5cdea1[_0x198d91++];}_0x23557e=new _0x869c7a(_0x35a0a5);}else _0x23557e=new _0x869c7a(_0x5cdea1['buffer'],_0x5cdea1['byteOffset']+(_0xd6d8e9['byteOffset']||-0xf20+-0x3*0x168+-0x1*-0x1358),_0xd6d8e9['count']*_0x425d57);}else _0x23557e=new _0x869c7a(_0xd6d8e9['count']*_0x425d57);}return _0x23557e;},ma=(_0x4be184,_0x27156f)=>{const _0x9ff832=sn(_0x4be184,_0x27156f,!(-0x19c9+0xc56+0x1*0xd73));if(_0x9ff832 instanceof Float32Array||!_0x4be184['normalized'])return _0x9ff832;const _0xb13358=new Float32Array(_0x9ff832['length']);return xf(_0xb13358,_0x9ff832,Jc(_0x4be184['componentT'+'ype'])),_0xb13358;},Sf=_0x13e9b0=>{let _0x554037=_0x13e9b0['min'],_0x499c3e=_0x13e9b0['max'];if(!_0x554037||!_0x499c3e)return null;if(_0x13e9b0['normalized']){const _0x54c4a1=Jc(_0x13e9b0['componentT'+'ype']);_0x554037=xf([],_0x554037,_0x54c4a1),_0x499c3e=xf([],_0x499c3e,_0x54c4a1);}return new _e(new T((_0x499c3e[0x3*0x63d+0x94b*0x3+-0x2e98]+_0x554037[-0x3f+0x2*-0x441+0x8c1])*(0x1b41+0xc6c*0x3+0x53*-0xc7+0.5),(_0x499c3e[-0x3f1*-0x1+-0xaf3*-0x1+-0xee3*0x1]+_0x554037[0x13d7+0x2d9*-0x4+-0x5e*0x17])*(0x19a9*-0x1+0x8d+0x191c+0.5),(_0x499c3e[0xfe+-0xaff+0xa03]+_0x554037[-0x2*-0xc1+0x859*-0x1+0x6d9])*(0x2141+-0x751+-0xa6*0x28+0.5)),new T((_0x499c3e[-0x1eeb*-0x1+-0x51b*0x1+-0x19d0]-_0x554037[0x1621+-0xb10+-0xb11])*(0x2bd*-0xd+-0x2c*0x37+-0x25f*-0x13+0.5),(_0x499c3e[-0x1e91+0x901+0x1591]-_0x554037[-0xe45+-0x3*0x19b+-0x21f*-0x9])*(0x109c+0x65f*0x3+-0x5*0x725+0.5),(_0x499c3e[0x1*-0xb65+0x1c97+-0x1130]-_0x554037[0x1*0x73+-0x2374+-0x2303*-0x1])*(0x94e*-0x1+-0x1363+0x1*0x1cb1+0.5)));},Ix=_0x16828c=>{if(!_0x16828c['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x16828c['mode']){case-0x25a7+-0x6d*-0x18+0x1*0x1b6f:return Mc;case-0x1a*-0x60+-0x1231+0x872:return Pc;case-0x11*0x146+-0x739+0x1ce1:return My;case-0x220f+0xc6b+0x15a7:return Py;case-0x1b04+0x10d+0x19fb:return Ms;case 0x7*-0x347+-0x1*0x7c3+0x1eb9:return ar;case-0x651+0x1e7a+0xa7*-0x25:return Yr;default:return Ms;}},AD=_0x30b344=>{const _0x10cd4a=new Uint16Array(_0x30b344);for(let _0x12b5eb=-0x1712+-0x6cb*0x5+0x5d*0x9d;_0x12b5eb<_0x30b344;_0x12b5eb++)_0x10cd4a[_0x12b5eb]=_0x12b5eb;return _0x10cd4a;},ED=(_0x46541d,_0x51c7de)=>{const _0x2c2bec=_0x46541d[He];if(!_0x2c2bec||_0x2c2bec['components']!==0x25b8+0x13a4+-0x35*0x115)return;let _0x2eef64;if(_0x2c2bec['size']!==_0x2c2bec['stride']){const _0x28101f=_0x2c2bec['stride']/_o[_0x2c2bec['type']],_0x10f30b=new da[_0x2c2bec['type']](_0x2c2bec['buffer'],_0x2c2bec['offset'],_0x2c2bec['count']*_0x28101f);_0x2eef64=new da[_0x2c2bec['type']](_0x2c2bec['count']*(-0x72c*-0x5+-0x3*0x1d3+-0x1e60));for(let _0x2aaa08=0xcf7*-0x1+-0xe0+0xdd7;_0x2aaa08<_0x2c2bec['count'];++_0x2aaa08)_0x2eef64[_0x2aaa08*(-0x1*0xe41+0xce8*0x1+-0xc*-0x1d)+(-0x19a3+-0x114a+-0x197*-0x1b)]=_0x10f30b[_0x2aaa08*_0x28101f+(-0x1877+0x168+-0x1*-0x170f)],_0x2eef64[_0x2aaa08*(0x2091+-0x55a+-0x1b34)+(0x5ab+-0x7*-0x1a+0x60*-0x11)]=_0x10f30b[_0x2aaa08*_0x28101f+(-0x3ff+-0x1caf+0x20af*0x1)],_0x2eef64[_0x2aaa08*(0x11b+0x21*-0xa7+-0x1*-0x146f)+(0xb51*0x3+-0x1*-0xc6d+-0x2e5e)]=_0x10f30b[_0x2aaa08*_0x28101f+(0x1243+0x1*0x115a+0x239b*-0x1)];}else _0x2eef64=new da[_0x2c2bec['type']](_0x2c2bec['buffer'],_0x2c2bec['offset'],_0x2c2bec['count']*(0x128a+0x14b4+-0x273b));const _0xac7cb9=_0x2c2bec['count'];_0x51c7de||(_0x51c7de=AD(_0xac7cb9));const _0xa0d59c=k0(_0x2eef64,_0x51c7de),_0x4ed170=new Float32Array(_0xa0d59c['length']);_0x4ed170['set'](_0xa0d59c),_0x46541d[Yt]={'buffer':_0x4ed170['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0xac7cb9,'components':0x3,'type':Ee};},CD=_0x6b2652=>{const _0x45589c=_0x125a15=>{const _0x5a7277=[];for(let _0x43981e=-0x26*-0x5+-0x3e0+0x1*0x322;_0x43981e<_0x125a15['_levels']['length'];++_0x43981e){let _0xb8ff2e=[];if(_0x125a15['cubemap']){for(let _0x5eb4e0=0x1a4f+-0x16*0x178+-0x1d*-0x35;_0x5eb4e0<0xa33+-0x1ee2+0x14b5;++_0x5eb4e0)_0xb8ff2e['push'](_0x125a15['_levels'][_0x43981e][_0x5eb4e0]);}else _0xb8ff2e=_0x125a15['_levels'][_0x43981e];_0x5a7277['push'](_0xb8ff2e);}return _0x5a7277;},_0x7c7e8a=new he(_0x6b2652['device'],_0x6b2652);return _0x7c7e8a['_levels']=_0x45589c(_0x6b2652),_0x7c7e8a;},MD=_0x131d27=>{const _0x2da3c9=new le(_0x131d27['name']+'_clone',_0x131d27['type'],_0x131d27['file'],_0x131d27['data'],_0x131d27['options']);return _0x2da3c9['loaded']=!(-0xcc3+-0xd15+-0xcec*-0x2),_0x2da3c9['resource']=CD(_0x131d27['resource']),_0x131d27['registry']['add'](_0x2da3c9),_0x2da3c9;},PD=(_0x2ddbc0,_0x81be4c)=>{const _0x2724f6=_0x81be4c[He];if(!_0x2724f6)return null;const _0x3614cb=_0x2724f6['count'],_0x256a97=[];for(const _0xf9c50 in _0x81be4c)if(_0x81be4c['hasOwnProp'+'erty'](_0xf9c50)){const _0x3fa6c2={'semantic':_0xf9c50,'components':_0x81be4c[_0xf9c50]['components'],'type':_0x81be4c[_0xf9c50]['type'],'normalize':!!_0x81be4c[_0xf9c50]['normalize']};Et['isElementV'+'alid'](_0x2ddbc0,_0x3fa6c2)||_0x3fa6c2['components']++,_0x256a97['push'](_0x3fa6c2);}_0x256a97['sort']((_0x3b565e,_0x5bb297)=>Bg[_0x3b565e['semantic']]-Bg[_0x5bb297['semantic']]);let _0x55ac56,_0x1f1976,_0x644fa4,_0x5b72a6,_0x54eb0f,_0x4efc1b;const _0x182905=new Et(_0x2ddbc0,_0x256a97);let _0x38cbe1=!(0x2*-0x108d+0xa48*-0x3+-0xa*-0x665);for(_0x55ac56=-0x79d+0x9*-0x116+0x1163*0x1;_0x55ac56<_0x182905['elements']['length'];++_0x55ac56)if(_0x54eb0f=_0x182905['elements'][_0x55ac56],_0x5b72a6=_0x81be4c[_0x54eb0f['name']],_0x4efc1b=_0x5b72a6['offset']-_0x2724f6['offset'],_0x5b72a6['buffer']!==_0x2724f6['buffer']||_0x5b72a6['stride']!==_0x54eb0f['stride']||_0x5b72a6['size']!==_0x54eb0f['size']||_0x4efc1b!==_0x54eb0f['offset']){_0x38cbe1=!(0x7*0x24e+0x1*0x21b5+-0x31d6);break;}const _0x159848=new os(_0x2ddbc0,_0x182905,_0x3614cb),_0x54009f=_0x159848['lock'](),_0x1caf28=new Uint32Array(_0x54009f);let _0x320794;if(_0x38cbe1)_0x320794=new Uint32Array(_0x2724f6['buffer'],_0x2724f6['offset'],_0x3614cb*_0x159848['format']['size']/(0x1*-0xc86+0x12cd+-0x643)),_0x1caf28['set'](_0x320794);else{let _0x5c5d9e,_0x13c39c;for(_0x55ac56=-0x2e*-0x49+-0x24fc+0x17de;_0x55ac56<_0x159848['format']['elements']['length'];++_0x55ac56){_0x54eb0f=_0x159848['format']['elements'][_0x55ac56],_0x5c5d9e=_0x54eb0f['stride']/(0x52*0x41+-0x15c+-0x1372),_0x5b72a6=_0x81be4c[_0x54eb0f['name']],_0x13c39c=_0x5b72a6['stride']/(-0x39*0x4d+-0x20e3+0x2*0x1906),_0x320794=new Uint32Array(_0x5b72a6['buffer'],_0x5b72a6['offset'],(_0x5b72a6['count']-(-0x11ef+-0x195b+0x1*0x2b4b))*_0x13c39c+(_0x5b72a6['size']+(0xe49*-0x1+0x1e2c*-0x1+-0x163c*-0x2))/(-0x202*-0x2+0x7*-0x4bb+0x1*0x1d1d));let _0x159ddb=0xc96*0x1+-0x1*0x1a3f+-0x10d*-0xd,_0x410e8c=_0x54eb0f['offset']/(0x17*0x78+0x9f7*0x2+-0x1eb2);const _0x3056cc=Math['floor']((_0x5b72a6['size']+(-0x67*0x52+0x1d6d+0x394))/(0x100a+-0x1514+0x50e));for(_0x1f1976=-0x1*0x5ab+0x319+0x2f*0xe;_0x1f1976<_0x3614cb;++_0x1f1976){for(_0x644fa4=-0x3fe+-0x1*-0xa35+-0x637;_0x644fa4<_0x3056cc;++_0x644fa4)_0x1caf28[_0x410e8c+_0x644fa4]=_0x320794[_0x159ddb+_0x644fa4];_0x159ddb+=_0x13c39c,_0x410e8c+=_0x5c5d9e;}}}return _0x159848['unlock'](),_0x159848;},RD=(_0x2c5251,_0x1b4af7,_0x4f65c1,_0x5c2bc8,_0x65e872,_0x127fe1)=>{const _0x2069fb={},_0x50849d=[];for(const _0x24a8a0 in _0x1b4af7)_0x1b4af7['hasOwnProp'+'erty'](_0x24a8a0)&&ec['hasOwnProp'+'erty'](_0x24a8a0)&&(_0x2069fb[_0x24a8a0]=_0x1b4af7[_0x24a8a0],_0x50849d['push'](_0x24a8a0+':'+_0x1b4af7[_0x24a8a0]));_0x50849d['sort']();const _0x4eec19=_0x50849d['join']();let _0x5d5d42=_0x127fe1[_0x4eec19];if(!_0x5d5d42){const _0x354998={};for(const _0x44698c in _0x2069fb){const _0x4019ef=_0x5c2bc8[_0x1b4af7[_0x44698c]],_0x1c446a=sn(_0x4019ef,_0x65e872),_0x3d4475=_0x65e872[_0x4019ef['bufferView']],_0x1b0239=ec[_0x44698c],_0x42de43=Wo(_0x4019ef['type'])*bD(_0x4019ef['componentT'+'ype']),_0x2f2b18=_0x3d4475&&_0x3d4475['hasOwnProp'+'erty']('byteStride')?_0x3d4475['byteStride']:_0x42de43;_0x354998[_0x1b0239]={'buffer':_0x1c446a['buffer'],'size':_0x42de43,'offset':_0x1c446a['byteOffset'],'stride':_0x2f2b18,'count':_0x4019ef['count'],'components':Wo(_0x4019ef['type']),'type':Jc(_0x4019ef['componentT'+'ype']),'normalize':_0x4019ef['normalized']};}_0x354998['hasOwnProp'+'erty'](Yt)||ED(_0x354998,_0x4f65c1),_0x5d5d42=PD(_0x2c5251,_0x354998),_0x127fe1[_0x4eec19]=_0x5d5d42;}return _0x5d5d42;},ID=(_0x43e859,_0x4c09d7,_0x1649f9,_0x19beaf,_0x4ba13e,_0x3c97dc)=>{let _0x14ac93,_0x389519,_0xd3b41e;const _0x1935d2=_0x4c09d7['joints'],_0x3d68f4=_0x1935d2['length'],_0x5a2651=[];if(_0x4c09d7['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x4eb29b=_0x4c09d7['inverseBin'+'dMatrices'],_0x213ddf=sn(_0x1649f9[_0x4eb29b],_0x19beaf,!(-0x2*0xb8b+-0x1*0x1efc+0x3612)),_0x281334=[];for(_0x14ac93=0x36*-0x75+0x1ba0+0x1*-0x2f2;_0x14ac93<_0x3d68f4;_0x14ac93++){for(_0x389519=0x20*0xaf+0x1377+-0x22d*0x13;_0x389519<-0x941+0x1108+-0x7b7;_0x389519++)_0x281334[_0x389519]=_0x213ddf[_0x14ac93*(-0x1e7d+0x22b1+-0x6a*0xa)+_0x389519];_0xd3b41e=new q(),_0xd3b41e['set'](_0x281334),_0x5a2651['push'](_0xd3b41e);}}else{for(_0x14ac93=0x128f*-0x1+0x11ef*-0x1+0x247e;_0x14ac93<_0x3d68f4;_0x14ac93++)_0xd3b41e=new q(),_0x5a2651['push'](_0xd3b41e);}const _0x28d29a=[];for(_0x14ac93=-0x1*-0x5a4+-0x373+-0xbb*0x3;_0x14ac93<_0x3d68f4;_0x14ac93++)_0x28d29a[_0x14ac93]=_0x4ba13e[_0x1935d2[_0x14ac93]]['name'];const _0x23d3d8=_0x28d29a['join']('#');let _0x5b96fa=_0x3c97dc['get'](_0x23d3d8);return _0x5b96fa||(_0x5b96fa=new N0(_0x43e859,_0x5a2651,_0x28d29a),_0x3c97dc['set'](_0x23d3d8,_0x5b96fa)),_0x5b96fa;},DD=(_0x2a4814,_0x1a70e6,_0x353dd3,_0x2dd1bb,_0x1575ac,_0x5d7329,_0xa1d30a)=>{var _0x216406;const _0x2fda64=new Ie(_0x2a4814);_0x2fda64['aabb']=Sf(_0x353dd3[_0x1a70e6['attributes']['POSITION']]);const _0x38c9db=[];for(const [_0x15ebf2,_0x3476f4]of Object['entries'](_0x1a70e6['attributes'])){const _0x4aab84=_0x353dd3[_0x3476f4],_0x508b23=ec[_0x15ebf2],_0x538f50=Jc(_0x4aab84['componentT'+'ype']);_0x38c9db['push']({'semantic':_0x508b23,'components':Wo(_0x4aab84['type']),'type':_0x538f50,'normalize':_0x4aab84['normalized']??(_0x508b23===At&&(_0x538f50===Kr||_0x538f50===el))});}if(_0xa1d30a['push'](new Promise((_0x18681e,_0x2807be)=>{const _0x1b76e5=_0x1a70e6['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x2dd1bb[_0x1b76e5['bufferView']]['slice']()['buffer'],(_0x263153,_0x5b025e)=>{var _0x5b6b1a;if(_0x263153)console['log'](_0x263153),_0x2807be(_0x263153);else{const _0x193211={};for(const [_0x19f934,_0x2b295d]of Object['entries'](_0x1b76e5['attributes']))_0x193211[ec[_0x19f934]]=_0x5b025e['attributes']['indexOf'](_0x2b295d);_0x38c9db['sort']((_0x40c619,_0x58c56a)=>_0x193211[_0x40c619['semantic']]-_0x193211[_0x58c56a['semantic']]),(_0x5b6b1a=_0x1a70e6['attributes'])!=null&&_0x5b6b1a['NORMAL']||_0x38c9db['splice'](0x24da+-0xf86*0x1+-0x35*0x67,-0x1328+0xc75*0x1+0x7*0xf5,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x5b8529=new Et(_0x2a4814,_0x38c9db),_0x9deac6=_0x5b025e['vertices']['byteLength']/_0x5b8529['size'],_0x35a15f=_0x9deac6<=0xd331+-0x1fb01+0x227cf?Pi:nr,_0xfb4f49=_0x5b025e['indices']['byteLength']/(_0x9deac6<=0x2*0x4472+-0x2dd*0x1f+-0x7*-0x1db2?-0xba2+-0x1*-0x20e3+-0x309*0x7:0xebf+-0x1*-0x1007+0x3e*-0x7f);v['call'](()=>{_0x9deac6!==_0x353dd3[_0x1a70e6['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0xfb4f49!==_0x353dd3[_0x1a70e6['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x1bb9f5=new os(_0x2a4814,_0x5b8529,_0x9deac6,{'data':_0x5b025e['vertices']}),_0x10f038=new lr(_0x2a4814,_0x35a15f,_0xfb4f49,jt,_0x5b025e['indices']);_0x2fda64['vertexBuff'+'er']=_0x1bb9f5,_0x2fda64['indexBuffe'+'r'][-0xfa7+-0x496*0x8+-0x1*-0x3457]=_0x10f038,_0x2fda64['primitive'][-0x1560+-0xbeb+0x214b]['type']=Ix(_0x1a70e6),_0x2fda64['primitive'][-0x1*-0x16b7+-0x10*0x6+-0x1657]['base']=0x1b5+0x1ba3+-0x1d58,_0x2fda64['primitive'][-0xba8+-0x1*-0x152b+0x983*-0x1]['count']=_0x10f038?_0xfb4f49:_0x9deac6,_0x2fda64['primitive'][0x2304*0x1+0x2343+-0x1*0x4647]['indexed']=!!_0x10f038,_0x18681e();}});})),(_0x216406=_0x1a70e6==null?void(-0x1*-0xe95+0x469+0x12fe*-0x1):_0x1a70e6['extensions'])!=null&&_0x216406['KHR_materi'+'als_varian'+'ts']){const _0x39c624=_0x1a70e6['extensions']['KHR_materi'+'als_varian'+'ts'],_0x135b12={};_0x39c624['mappings']['forEach'](_0x54fa58=>{_0x54fa58['variants']['forEach'](_0x48934c=>{_0x135b12[_0x48934c]=_0x54fa58['material'];});}),_0x1575ac[_0x2fda64['id']]=_0x135b12;}return _0x5d7329[_0x2fda64['id']]=_0x1a70e6['material'],_0x2fda64;},LD=(_0x3d4eea,_0x27176e,_0x379cc3,_0x1968da,_0x2c9c1e,_0x89ce04,_0x59cee2,_0xbe47d1,_0x363a54)=>{const _0x58b3b9=[];return _0x27176e['primitives']['forEach'](_0x201410=>{var _0x45bfa6;if((_0x45bfa6=_0x201410['extensions'])!=null&&_0x45bfa6['KHR_draco_'+'mesh_compr'+'ession'])_0x58b3b9['push'](DD(_0x3d4eea,_0x201410,_0x379cc3,_0x1968da,_0x89ce04,_0x59cee2,_0x363a54));else{let _0x7f7837=_0x201410['hasOwnProp'+'erty']('indices')?sn(_0x379cc3[_0x201410['indices']],_0x1968da,!(0x2028+0x1f49+0x6d*-0x95)):null;const _0x104390=RD(_0x3d4eea,_0x201410['attributes'],_0x7f7837,_0x379cc3,_0x1968da,_0x2c9c1e),_0x393c3e=Ix(_0x201410),_0x34b909=new Ie(_0x3d4eea);if(_0x34b909['vertexBuff'+'er']=_0x104390,_0x34b909['primitive'][-0x1003+-0x3bd+0x13c0]['type']=_0x393c3e,_0x34b909['primitive'][0x53*-0x61+-0x1*-0x135e+0x1*0xc15]['base']=0x17bd+-0x2d*0x81+-0x4*0x44,_0x34b909['primitive'][0x185*-0x1+0x1*0x6b1+-0x2*0x296]['indexed']=_0x7f7837!==null,_0x7f7837!==null){let _0x5ddec3;_0x7f7837 instanceof Uint8Array?_0x5ddec3=pu:_0x7f7837 instanceof Uint16Array?_0x5ddec3=Pi:_0x5ddec3=nr,_0x5ddec3===pu&&_0x3d4eea['isWebGPU']&&(_0x5ddec3=Pi,_0x7f7837=new Uint16Array(_0x7f7837));const _0x1ed6cc=new lr(_0x3d4eea,_0x5ddec3,_0x7f7837['length'],jt,_0x7f7837);_0x34b909['indexBuffe'+'r'][0x3*0xb53+-0x1902+-0x3*0x2fd]=_0x1ed6cc,_0x34b909['primitive'][-0x416+-0x257*0xd+0x2281]['count']=_0x7f7837['length'];}else _0x34b909['primitive'][-0x2*0x237+0x1*-0x195b+-0x19*-0x131]['count']=_0x104390['numVertice'+'s'];if(_0x201410['hasOwnProp'+'erty']('extensions')&&_0x201410['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x4a12d6=_0x201410['extensions']['KHR_materi'+'als_varian'+'ts'],_0x5e7282={};_0x4a12d6['mappings']['forEach'](_0x2d953f=>{_0x2d953f['variants']['forEach'](_0x563ead=>{_0x5e7282[_0x563ead]=_0x2d953f['material'];});}),_0x89ce04[_0x34b909['id']]=_0x5e7282;}_0x59cee2[_0x34b909['id']]=_0x201410['material'];let _0x11dc99=_0x379cc3[_0x201410['attributes']['POSITION']];if(_0x34b909['aabb']=Sf(_0x11dc99),_0x201410['hasOwnProp'+'erty']('targets')){const _0x34b770=[];_0x201410['targets']['forEach']((_0x4abadd,_0x23ae06)=>{const _0x14c982={};_0x4abadd['hasOwnProp'+'erty']('POSITION')&&(_0x11dc99=_0x379cc3[_0x4abadd['POSITION']],_0x14c982['deltaPosit'+'ions']=ma(_0x11dc99,_0x1968da),_0x14c982['aabb']=Sf(_0x11dc99)),_0x4abadd['hasOwnProp'+'erty']('NORMAL')&&(_0x11dc99=_0x379cc3[_0x4abadd['NORMAL']],_0x14c982['deltaNorma'+'ls']=ma(_0x11dc99,_0x1968da)),_0x27176e['hasOwnProp'+'erty']('extras')&&_0x27176e['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x14c982['name']=_0x27176e['extras']['targetName'+'s'][_0x23ae06]:_0x14c982['name']=_0x23ae06['toString'](0xca*0x26+-0x183d+0x3*-0x1e7),_0x27176e['hasOwnProp'+'erty']('weights')&&(_0x14c982['defaultWei'+'ght']=_0x27176e['weights'][_0x23ae06]),_0x14c982['preserveDa'+'ta']=_0xbe47d1['morphPrese'+'rveData'],_0x34b770['push'](new Qc(_0x14c982));}),_0x34b909['morph']=new F0(_0x34b770,_0x3d4eea,{'preferHighPrecision':_0xbe47d1['morphPrefe'+'rHighPreci'+'sion']});}_0x58b3b9['push'](_0x34b909);}}),_0x58b3b9;},ft=(_0x593303,_0x807478,_0xc5fe1d)=>{var _0x3ad3e3;let _0x1bbcd9;const _0x24f986=_0x593303['texCoord'];if(_0x24f986){for(_0x1bbcd9=0x1342+-0x77f+0x1*-0xbc3;_0x1bbcd9<_0xc5fe1d['length'];++_0x1bbcd9)_0x807478[_0xc5fe1d[_0x1bbcd9]+'MapUv']=_0x24f986;}const _0x1f208d=[-0x10ba*-0x1+-0x1*0x24e1+0x1427,0xc4+0x2119*-0x1+0x2055],_0x3ddc7c=[-0x18e4+-0x1773+0x3b8*0xd,-0x4cd+0x2353+-0x1e85],_0x1860c9=(_0x3ad3e3=_0x593303['extensions'])==null?void(-0x2*0xfd6+0x26f0+-0x744):_0x3ad3e3['KHR_textur'+'e_transfor'+'m'];if(_0x1860c9){const _0x431b89=_0x1860c9['offset']||_0x1f208d,_0x325b3e=_0x1860c9['scale']||_0x3ddc7c,_0x1a7214=_0x1860c9['rotation']?-_0x1860c9['rotation']*N['RAD_TO_DEG']:0x47*0x47+-0x311+-0x10a0,_0x239353=new W(_0x325b3e[-0xdb2+0x185e+-0xaac],_0x325b3e[-0x118*0x8+-0x4*0x211+-0x1*-0x1105]),_0x443ee3=new W(_0x431b89[-0x25*-0x41+0x1f64+-0x28c9],0x390*0x6+-0xab6+-0xaa9-_0x325b3e[-0x2*-0xaa+0x114f+-0x12a2]-_0x431b89[0x91*-0x19+0xa*-0x33b+-0xb9e*-0x4]);for(_0x1bbcd9=-0x350*0xb+0xa*0x3ae+-0x5c;_0x1bbcd9<_0xc5fe1d['length'];++_0x1bbcd9)_0x807478[_0xc5fe1d[_0x1bbcd9]+'MapTiling']=_0x239353,_0x807478[_0xc5fe1d[_0x1bbcd9]+'MapOffset']=_0x443ee3,_0x807478[_0xc5fe1d[_0x1bbcd9]+('MapRotatio'+'n')]=_0x1a7214;}},FD=(_0x1b8af7,_0x545a99,_0x1a6dfe)=>{let _0x3739e4,_0x108b36;if(_0x1b8af7['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x3739e4=_0x1b8af7['diffuseFac'+'tor'],_0x545a99['diffuse']['set'](Math['pow'](_0x3739e4[0x21cb+-0x1*-0xed+-0x8ae*0x4],(-0x1be9+0x2fa+0x63c*0x4)/(0x25c5+-0x253b+-0x4*0x22+0.20000000000000018)),Math['pow'](_0x3739e4[-0x121d+-0x5d0+0x17ee],(-0x1fd8+-0x1c19+0x3bf2)/(0x9ea+0x6c6+-0x10ae+0.20000000000000018)),Math['pow'](_0x3739e4[-0x2ea*0x2+-0xc5e+0xa*0x1d2],(0x1ce4+-0x11c9+-0xe*0xcb)/(0x6b7+0x7f*-0x47+0x92*0x32+0.20000000000000018))),_0x545a99['opacity']=_0x3739e4[-0x106*-0x11+-0x25b1+0x2*0xa27]):(_0x545a99['diffuse']['set'](0x253d*-0x1+-0x246a+0x49a8*0x1,0x1834+0x2cf*-0x1+-0x4*0x559,0x4eb*-0x3+0x1*0xaf2+-0x7a*-0x8),_0x545a99['opacity']=0x5*-0xc9+-0xa7*0x8+0x926),_0x1b8af7['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x2ab539=_0x1b8af7['diffuseTex'+'ture'];_0x108b36=_0x1a6dfe[_0x2ab539['index']],_0x545a99['diffuseMap']=_0x108b36,_0x545a99['diffuseMap'+'Channel']='rgb',_0x545a99['opacityMap']=_0x108b36,_0x545a99['opacityMap'+'Channel']='a',ft(_0x2ab539,_0x545a99,['diffuse','opacity']);}if(_0x545a99['useMetalne'+'ss']=!(-0x79a*0x5+-0x1a71+0x4074),_0x1b8af7['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x3739e4=_0x1b8af7['specularFa'+'ctor'],_0x545a99['specular']['set'](Math['pow'](_0x3739e4[-0x1b3b*0x1+0xb60+0x63*0x29],(0x1*0x2a5+-0x1*-0x78c+0x8*-0x146)/(0x2b5+0x2187+-0x243a+0.20000000000000018)),Math['pow'](_0x3739e4[0x1459+-0x8d0+-0xb88],(0x29*-0xb3+-0xa72+-0x2*-0x138f)/(-0x264b*-0x1+0x1f61+-0x25*0x1e2+0.20000000000000018)),Math['pow'](_0x3739e4[-0x777+0x73a+0x15*0x3],(-0x706+-0x17c9+0x74*0x44)/(0x1*-0xa46+-0x1*0x1ae1+0x2529+0.20000000000000018)))):_0x545a99['specular']['set'](0x19bf*0x1+0xe96+-0x2854,0x1fb0+0x13*-0x190+-0x49*0x7,0x1b41+0x1*-0x16db+0x1*-0x465),_0x1b8af7['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x545a99['gloss']=_0x1b8af7['glossiness'+'Factor']:_0x545a99['gloss']=0x1*0x31f+-0x139d+0x107f,_0x1b8af7['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x4b46b4=_0x1b8af7['specularGl'+'ossinessTe'+'xture'];_0x545a99['specularEn'+'coding']='srgb',_0x545a99['specularMa'+'p']=_0x545a99['glossMap']=_0x1a6dfe[_0x4b46b4['index']],_0x545a99['specularMa'+'pChannel']='rgb',_0x545a99['glossMapCh'+'annel']='a',ft(_0x4b46b4,_0x545a99,['gloss','metalness']);}},OD=(_0x57d49d,_0x47586a,_0x3fd30a)=>{if(_0x57d49d['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x47586a['clearCoat']=_0x57d49d['clearcoatF'+'actor']*(0x1c32+0x16*-0x161+0x224+0.25):_0x47586a['clearCoat']=-0x9dc+-0xb56+-0x2*-0xa99,_0x57d49d['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x1cfd5f=_0x57d49d['clearcoatT'+'exture'];_0x47586a['clearCoatM'+'ap']=_0x3fd30a[_0x1cfd5f['index']],_0x47586a['clearCoatM'+'apChannel']='r',ft(_0x1cfd5f,_0x47586a,['clearCoat']);}if(_0x57d49d['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x47586a['clearCoatG'+'loss']=_0x57d49d['clearcoatR'+'oughnessFa'+'ctor']:_0x47586a['clearCoatG'+'loss']=0x2*0x15b+0x185a*-0x1+0x15a4,_0x57d49d['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0xfb1637=_0x57d49d['clearcoatR'+'oughnessTe'+'xture'];_0x47586a['clearCoatG'+'lossMap']=_0x3fd30a[_0xfb1637['index']],_0x47586a['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0xfb1637,_0x47586a,['clearCoatG'+'loss']);}if(_0x57d49d['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x34009f=_0x57d49d['clearcoatN'+'ormalTextu'+'re'];_0x47586a['clearCoatN'+'ormalMap']=_0x3fd30a[_0x34009f['index']],ft(_0x34009f,_0x47586a,['clearCoatN'+'ormal']),_0x34009f['hasOwnProp'+'erty']('scale')&&(_0x47586a['clearCoatB'+'umpiness']=_0x34009f['scale']);}_0x47586a['clearCoatG'+'lossInvert']=!(-0x1*0x12d6+-0xb57*-0x3+-0xf2f);},kD=(_0x3639de,_0x398819,_0x30617b)=>{_0x398819['useLightin'+'g']=!(-0x2075+-0x1c61+0x3cd7),_0x398819['emissive']['copy'](_0x398819['diffuse']),_0x398819['emissiveMa'+'p']=_0x398819['diffuseMap'],_0x398819['emissiveMa'+'pUv']=_0x398819['diffuseMap'+'Uv'],_0x398819['emissiveMa'+'pTiling']['copy'](_0x398819['diffuseMap'+'Tiling']),_0x398819['emissiveMa'+'pOffset']['copy'](_0x398819['diffuseMap'+'Offset']),_0x398819['emissiveMa'+'pRotation']=_0x398819['diffuseMap'+'Rotation'],_0x398819['emissiveMa'+'pChannel']=_0x398819['diffuseMap'+'Channel'],_0x398819['emissiveVe'+'rtexColor']=_0x398819['diffuseVer'+'texColor'],_0x398819['emissiveVe'+'rtexColorC'+'hannel']=_0x398819['diffuseVer'+'texColorCh'+'annel'],_0x398819['useLightin'+'g']=!(-0x1fcf+-0x3b*0x2b+0xb*0x3cb),_0x398819['useSkybox']=!(0x265b+0x1020+-0x367a),_0x398819['diffuse']['set'](0x97c+0x1*0x989+0x2*-0x982,-0x12ec+0x9a6+0x1*0x947,-0x883*-0x4+0x2*-0x72f+0xdb*-0x17),_0x398819['diffuseMap']=null,_0x398819['diffuseVer'+'texColor']=!(0x162d*0x1+0x13c1+-0x29ed);},BD=(_0x3456da,_0x4f38d2,_0xa95cdb)=>{if(_0x4f38d2['useMetalne'+'ssSpecular'+'Color']=!(-0x1a*-0x6f+-0x226b+0x1725),_0x3456da['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x4f38d2['specularEn'+'coding']='srgb',_0x4f38d2['specularMa'+'p']=_0xa95cdb[_0x3456da['specularCo'+'lorTexture']['index']],_0x4f38d2['specularMa'+'pChannel']='rgb',ft(_0x3456da['specularCo'+'lorTexture'],_0x4f38d2,['specular'])),_0x3456da['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x3caf8e=_0x3456da['specularCo'+'lorFactor'];_0x4f38d2['specular']['set'](Math['pow'](_0x3caf8e[0x21a5+-0x3dd*-0x7+-0x3cb0],(0x157b+0x215f+-0x36d9)/(0x793*-0x1+0x3d+0x758+0.20000000000000018)),Math['pow'](_0x3caf8e[0x223a+-0x2089+-0x1b0],(-0x210*-0x3+-0x6d*-0x1c+0x203*-0x9)/(-0x111d*-0x2+-0x21f+0x3*-0xab3+0.20000000000000018)),Math['pow'](_0x3caf8e[-0x6bb*0x5+0x2390*0x1+-0x1e7],(-0x11b*0x13+-0xd7b+0x227d)/(0x1ebc+0x4*0x1ca+-0x25e2+0.20000000000000018)));}else _0x4f38d2['specular']['set'](-0x2e5*0x5+0xf9f+-0x125,0x1*0x155+-0x12bf+0x31*0x5b,-0x1*0x1d39+0x9f0+0x134a);_0x3456da['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x4f38d2['specularit'+'yFactor']=_0x3456da['specularFa'+'ctor']:_0x4f38d2['specularit'+'yFactor']=-0x215a+-0x62*-0x16+0xd*0x1eb,_0x3456da['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x4f38d2['specularit'+'yFactorMap'+'Channel']='a',_0x4f38d2['specularit'+'yFactorMap']=_0xa95cdb[_0x3456da['specularTe'+'xture']['index']],ft(_0x3456da['specularTe'+'xture'],_0x4f38d2,['specularit'+'yFactor']));},ND=(_0x30b913,_0x1fd67f,_0x1739dd)=>{_0x30b913['hasOwnProp'+'erty']('ior')&&(_0x1fd67f['refraction'+'Index']=(-0x24fa+-0x1446+0x3941)/_0x30b913['ior']);},zD=(_0x3cbaa6,_0x19696d,_0x1b645c)=>{_0x3cbaa6['hasOwnProp'+'erty']('dispersion')&&(_0x19696d['dispersion']=_0x3cbaa6['dispersion']);},UD=(_0x3a515b,_0xc50d1e,_0x3ca341)=>{_0xc50d1e['blendType']=Kt,_0xc50d1e['useDynamic'+'Refraction']=!(-0x77d+-0x2237+0x29b4),_0x3a515b['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0xc50d1e['refraction']=_0x3a515b['transmissi'+'onFactor']),_0x3a515b['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0xc50d1e['refraction'+'MapChannel']='r',_0xc50d1e['refraction'+'Map']=_0x3ca341[_0x3a515b['transmissi'+'onTexture']['index']],ft(_0x3a515b['transmissi'+'onTexture'],_0xc50d1e,['refraction']));},VD=(_0x1c1658,_0x39734f,_0x560506)=>{if(_0x39734f['useSheen']=!(0x19aa+0x817+-0x21c1),_0x1c1658['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x45dcc9=_0x1c1658['sheenColor'+'Factor'];_0x39734f['sheen']['set'](Math['pow'](_0x45dcc9[-0x1978+0x886+-0x1*-0x10f2],(-0x127d*0x1+-0xa0d+-0x1*-0x1c8b)/(-0xee1+0x1*0xe53+0x90+0.20000000000000018)),Math['pow'](_0x45dcc9[0x45+0x19a8*-0x1+0x1964],(0x1860+0x82d*0x4+-0x13*0x301)/(-0xcad*0x2+0x80e+0x114e+0.20000000000000018)),Math['pow'](_0x45dcc9[-0x4f4+-0x2*-0x8ba+-0x3*0x42a],(0x802+-0x1*-0x1349+-0x7*0x3e6)/(-0x2453+0x45*-0x26+0x2e93+0.20000000000000018)));}else _0x39734f['sheen']['set'](-0x903*-0x1+0x1a1b+-0x231d,-0x2*0x83e+0x281*0x2+0xb7b,0x24*-0x107+-0xb57+0x3054);_0x1c1658['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x39734f['sheenMap']=_0x560506[_0x1c1658['sheenColor'+'Texture']['index']],_0x39734f['sheenEncod'+'ing']='srgb',ft(_0x1c1658['sheenColor'+'Texture'],_0x39734f,['sheen'])),_0x39734f['sheenGloss']=_0x1c1658['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x1c1658['sheenRough'+'nessFactor']:-0x26c7+-0x57*-0x49+0xdf8,_0x1c1658['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x39734f['sheenGloss'+'Map']=_0x560506[_0x1c1658['sheenRough'+'nessTextur'+'e']['index']],_0x39734f['sheenGloss'+'MapChannel']='a',ft(_0x1c1658['sheenRough'+'nessTextur'+'e'],_0x39734f,['sheenGloss'])),_0x39734f['sheenGloss'+'Invert']=!(-0x12ae+0x1ad+-0x3*-0x5ab);},GD=(_0x1ad72d,_0xe5921,_0x13e394)=>{if(_0xe5921['blendType']=Kt,_0xe5921['useDynamic'+'Refraction']=!(-0xd60+-0x3*-0x4d7+0x125*-0x1),_0x1ad72d['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0xe5921['thickness']=_0x1ad72d['thicknessF'+'actor']),_0x1ad72d['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0xe5921['thicknessM'+'ap']=_0x13e394[_0x1ad72d['thicknessT'+'exture']['index']],_0xe5921['thicknessM'+'apChannel']='g',ft(_0x1ad72d['thicknessT'+'exture'],_0xe5921,['thickness'])),_0x1ad72d['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0xe5921['attenuatio'+'nDistance']=_0x1ad72d['attenuatio'+'nDistance']),_0x1ad72d['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x465257=_0x1ad72d['attenuatio'+'nColor'];_0xe5921['attenuatio'+'n']['set'](Math['pow'](_0x465257[-0x208+-0x1cae+-0x1eb6*-0x1],(-0x7b8+-0x1ad2+0x228b)/(-0x2196*0x1+-0xa11+0x2ba9+0.20000000000000018)),Math['pow'](_0x465257[-0x2399+-0x20b+0x25a5],(-0x24f1+0x1d8b+0x767)/(0x1a29+-0x537+-0x14f0+0.20000000000000018)),Math['pow'](_0x465257[-0x96*-0x3b+0x32a*-0x1+-0x1f66],(-0x23e7+-0x25*-0xda+0x466*0x1)/(0x1861+-0x5f*-0x1f+0x1c*-0x148+0.20000000000000018)));}},HD=(_0xfb9640,_0x4e31c2,_0x580c54)=>{_0xfb9640['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x4e31c2['emissiveIn'+'tensity']=_0xfb9640['emissiveSt'+'rength']);},WD=(_0x5e9ca7,_0x22daf9,_0xa16b67)=>{_0x22daf9['useIridesc'+'ence']=!(0xfa+0x66a+-0x1*0x764),_0x5e9ca7['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x22daf9['iridescenc'+'e']=_0x5e9ca7['iridescenc'+'eFactor']),_0x5e9ca7['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x22daf9['iridescenc'+'eMapChanne'+'l']='r',_0x22daf9['iridescenc'+'eMap']=_0xa16b67[_0x5e9ca7['iridescenc'+'eTexture']['index']],ft(_0x5e9ca7['iridescenc'+'eTexture'],_0x22daf9,['iridescenc'+'e'])),_0x5e9ca7['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x22daf9['iridescenc'+'eRefractio'+'nIndex']=_0x5e9ca7['iridescenc'+'eIor']),_0x5e9ca7['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x22daf9['iridescenc'+'eThickness'+'Min']=_0x5e9ca7['iridescenc'+'eThickness'+'Minimum']),_0x5e9ca7['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x22daf9['iridescenc'+'eThickness'+'Max']=_0x5e9ca7['iridescenc'+'eThickness'+'Maximum']),_0x5e9ca7['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x22daf9['iridescenc'+'eThickness'+'MapChannel']='g',_0x22daf9['iridescenc'+'eThickness'+'Map']=_0xa16b67[_0x5e9ca7['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x5e9ca7['iridescenc'+'eThickness'+'Texture'],_0x22daf9,['iridescenc'+'eThickness']));},Dx=(_0x5fe274,_0x18417a)=>{const _0x476641=new cs();_0x5fe274['hasOwnProp'+'erty']('name')&&(_0x476641['name']=_0x5fe274['name']),_0x476641['occludeSpe'+'cular']=Bo,_0x476641['diffuseVer'+'texColor']=!(-0x1f0c+0xe5e+0x7*0x262),_0x476641['specularTi'+'nt']=!(0x110*-0x8+-0x3*-0x14d+0x499),_0x476641['specularVe'+'rtexColor']=!(0x836*-0x2+0x172*-0x11+0xdaa*0x3),_0x476641['specular']['set'](0x2*-0xd73+0x131a+-0x7cd*-0x1,0x21a4+-0x1a9f+-0x704,-0xa40+0xaf*-0x5+0x14*0xaf),_0x476641['gloss']=-0x84e+-0x1dc5*0x1+-0x985*-0x4,_0x476641['glossInver'+'t']=!(0xace*-0x2+-0x236*-0x4+0xcc4),_0x476641['useMetalne'+'ss']=!(0x24b5+-0x22db*-0x1+0x50*-0xe5);let _0x360334,_0x5923e5;if(_0x5fe274['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x933d9f=_0x5fe274['pbrMetalli'+'cRoughness'];if(_0x933d9f['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x360334=_0x933d9f['baseColorF'+'actor'],_0x476641['diffuse']['set'](Math['pow'](_0x360334[-0x2*0x129b+0x1*0x1508+0x102e],(-0x3*-0x9f5+0x2*-0x2f0+0x17fe*-0x1)/(-0x22*0x47+-0x1e06+0x2776+0.20000000000000018)),Math['pow'](_0x360334[-0x1d4a+0x1*0x1abb+0x290],(0x1a04+0x14fb*-0x1+-0x1c*0x2e)/(0x364+-0x1702+-0x274*-0x8+0.20000000000000018)),Math['pow'](_0x360334[-0x3*0x28f+0x1*0x6a6+0x109*0x1],(0x1cb2+0x1980+-0x3631)/(0x1*-0x6+-0x549*0x7+0x1*0x2507+0.20000000000000018))),_0x476641['opacity']=_0x360334[-0x2*0xcf2+-0x3b*-0x2b+0xffe]),_0x933d9f['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x29e95e=_0x933d9f['baseColorT'+'exture'];_0x5923e5=_0x18417a[_0x29e95e['index']],_0x476641['diffuseMap']=_0x5923e5,_0x476641['diffuseMap'+'Channel']='rgb',_0x476641['opacityMap']=_0x5923e5,_0x476641['opacityMap'+'Channel']='a',ft(_0x29e95e,_0x476641,['diffuse','opacity']);}if(_0x933d9f['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x476641['metalness']=_0x933d9f['metallicFa'+'ctor']),_0x933d9f['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x476641['gloss']=_0x933d9f['roughnessF'+'actor']),_0x933d9f['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x167312=_0x933d9f['metallicRo'+'ughnessTex'+'ture'];_0x476641['metalnessM'+'ap']=_0x476641['glossMap']=_0x18417a[_0x167312['index']],_0x476641['metalnessM'+'apChannel']='b',_0x476641['glossMapCh'+'annel']='g',ft(_0x167312,_0x476641,['gloss','metalness']);}}if(_0x5fe274['hasOwnProp'+'erty']('normalText'+'ure')){const _0x4f89a9=_0x5fe274['normalText'+'ure'];_0x476641['normalMap']=_0x18417a[_0x4f89a9['index']],ft(_0x4f89a9,_0x476641,['normal']),_0x4f89a9['hasOwnProp'+'erty']('scale')&&(_0x476641['bumpiness']=_0x4f89a9['scale']);}if(_0x5fe274['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x4d2724=_0x5fe274['occlusionT'+'exture'];_0x476641['aoMap']=_0x18417a[_0x4d2724['index']],_0x476641['aoMapChann'+'el']='r',ft(_0x4d2724,_0x476641,['ao']);}if(_0x5fe274['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x360334=_0x5fe274['emissiveFa'+'ctor'],_0x476641['emissive']['set'](Math['pow'](_0x360334[-0x1*-0x179f+0x16d7+0x272*-0x13],(-0xa89+-0x99*0x2d+-0x25*-0x103)/(-0x5ad+-0x3b*0x38+0x1297+0.20000000000000018)),Math['pow'](_0x360334[0x19ea+0x7ce+-0x21b7],(0x2*-0x67a+-0x2a4+-0xf99*-0x1)/(-0x39*-0x30+-0x85d*0x3+0xe69+0.20000000000000018)),Math['pow'](_0x360334[-0x2*0x371+-0x29d*0xd+0x28dd],(0x3e*0x8f+0x20e7*0x1+0x871*-0x8)/(-0x49e*-0x2+-0x1*0x585+-0x3b5+0.20000000000000018)))),_0x5fe274['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x82233e=_0x5fe274['emissiveTe'+'xture'];_0x476641['emissiveMa'+'p']=_0x18417a[_0x82233e['index']],ft(_0x82233e,_0x476641,['emissive']);}if(_0x5fe274['hasOwnProp'+'erty']('alphaMode'))switch(_0x5fe274['alphaMode']){case'MASK':_0x476641['blendType']=is,_0x5fe274['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x476641['alphaTest']=_0x5fe274['alphaCutof'+'f']:_0x476641['alphaTest']=-0x623+-0x1e02*0x1+-0x2425*-0x1+0.5;break;case'BLEND':_0x476641['blendType']=Kt,_0x476641['depthWrite']=!(0x3*-0x56c+0x11df+-0x19a);break;default:case'OPAQUE':_0x476641['blendType']=is;break;}else _0x476641['blendType']=is;_0x5fe274['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x476641['twoSidedLi'+'ghting']=_0x5fe274['doubleSide'+'d'],_0x476641['cull']=_0x5fe274['doubleSide'+'d']?mt:rn):(_0x476641['twoSidedLi'+'ghting']=!(0x247f+-0x1*0x19b9+-0xac5),_0x476641['cull']=rn);const _0x84356f={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x5fe274['hasOwnProp'+'erty']('extensions'))for(const _0x28b2fb in _0x5fe274['extensions']){const _0x2769b8=_0x84356f[_0x28b2fb];_0x2769b8!==void(0x26af+-0xf80+-0x172f)&&_0x2769b8(_0x5fe274['extensions'][_0x28b2fb],_0x476641,_0x18417a);}return _0x476641['update'](),_0x476641;},$D=(_0x4e5577,_0x570607,_0x1aa098,_0x8e1866,_0x299a8c,_0x2b2363,_0x526fa7)=>{const _0xdcea8a=_0x50b53d=>new Jh(Wo(_0x50b53d['type']),ma(_0x50b53d,_0x8e1866)),_0x23da98={'STEP':$0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x162ea4={},_0x21ba0e={},_0x516b0f={};let _0xbc8917=-0x11e2*-0x2+-0x2*-0x5b7+-0x2f31,_0x54e24b;for(_0x54e24b=-0x1b33+-0x552+-0x39d*-0x9;_0x54e24b<_0x4e5577['samplers']['length'];++_0x54e24b){const _0x4b1d7e=_0x4e5577['samplers'][_0x54e24b];_0x162ea4['hasOwnProp'+'erty'](_0x4b1d7e['input'])||(_0x162ea4[_0x4b1d7e['input']]=_0xdcea8a(_0x1aa098[_0x4b1d7e['input']])),_0x21ba0e['hasOwnProp'+'erty'](_0x4b1d7e['output'])||(_0x21ba0e[_0x4b1d7e['output']]=_0xdcea8a(_0x1aa098[_0x4b1d7e['output']]));const _0x1bfdd6=_0x4b1d7e['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x23da98['hasOwnProp'+'erty'](_0x4b1d7e['interpolat'+'ion'])?_0x23da98[_0x4b1d7e['interpolat'+'ion']]:ju,_0x3b6b08={'paths':[],'input':_0x4b1d7e['input'],'output':_0x4b1d7e['output'],'interpolation':_0x1bfdd6};_0x516b0f[_0x54e24b]=_0x3b6b08;}const _0x2054b8=[],_0x2b57a1={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x6132c2=_0x48ce69=>{const _0x444d77=[];for(;_0x48ce69;)_0x444d77['unshift'](_0x48ce69['name']),_0x48ce69=_0x48ce69['parent'];return _0x444d77;},_0x30ef83=(_0x3bd0db,_0x319d5b,_0x1730a5)=>{const _0x48e57d=_0x21ba0e[_0x3bd0db['output']];if(!_0x48e57d){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x1730a5+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x51a2eb;if(_0x2b2363&&_0x2b2363[_0x319d5b['mesh']]){const _0x31090e=_0x2b2363[_0x319d5b['mesh']];_0x31090e['hasOwnProp'+'erty']('extras')&&_0x31090e['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x51a2eb=_0x31090e['extras']['targetName'+'s']);}const _0xdc6fdb=_0x48e57d['data'],_0x17c926=_0xdc6fdb['length']/_0x162ea4[_0x3bd0db['input']]['data']['length'],_0x42d07f=_0xdc6fdb['length']/_0x17c926,_0x15e1e6=_0x42d07f*(-0xd1*0x2e+0x1c*-0x5e+0x2fda),_0x1af96f=new ArrayBuffer(_0x15e1e6*_0x17c926);for(let _0x4f8535=0x111*0x21+0x2a5+-0x25d6;_0x4f8535<_0x17c926;_0x4f8535++){const _0x5d32bf=new Float32Array(_0x1af96f,_0x15e1e6*_0x4f8535,_0x42d07f);for(let _0x254d1e=-0x638+0x79e+-0x166;_0x254d1e<_0x42d07f;_0x254d1e++)_0x5d32bf[_0x254d1e]=_0xdc6fdb[_0x254d1e*_0x17c926+_0x4f8535];const _0xde415d=new Jh(0x1952+-0x2042+0x6f1,_0x5d32bf),_0x3373d4=_0x51a2eb!=null&&_0x51a2eb[_0x4f8535]?'name.'+_0x51a2eb[_0x4f8535]:_0x4f8535;_0x21ba0e[-_0xbc8917]=_0xde415d;const _0x1a9458={'paths':[{'entityPath':_0x1730a5,'component':'graph','propertyPath':['weight.'+_0x3373d4]}],'input':_0x3bd0db['input'],'output':-_0xbc8917,'interpolation':_0x3bd0db['interpolat'+'ion']};_0xbc8917++,_0x516b0f['morphCurve'+'-'+_0x54e24b+'-'+_0x4f8535]=_0x1a9458;}};for(_0x54e24b=-0x20da+-0x17b2*0x1+0x388c;_0x54e24b<_0x4e5577['channels']['length'];++_0x54e24b){const _0x1d66f8=_0x4e5577['channels'][_0x54e24b],_0x3b5767=_0x1d66f8['target'],_0xbef282=_0x516b0f[_0x1d66f8['sampler']],_0x26f097=_0x299a8c[_0x3b5767['node']],_0x3bba16=_0x526fa7[_0x3b5767['node']],_0x1c261c=_0x6132c2(_0x26f097);_0x3b5767['path']['startsWith']('weights')?(_0x30ef83(_0xbef282,_0x3bba16,_0x1c261c),_0x516b0f[_0x1d66f8['sampler']]['morphCurve']=!(0x1*-0xcca+0x5*0xdb+0x883)):_0xbef282['paths']['push']({'entityPath':_0x1c261c,'component':'graph','propertyPath':[_0x2b57a1[_0x3b5767['path']]]});}const _0x1b0b04=[],_0x238742=[],_0x14189f=[];for(const _0x3d846a in _0x162ea4)_0x1b0b04['push'](_0x162ea4[_0x3d846a]),_0x162ea4[_0x3d846a]=_0x1b0b04['length']-(0x14*0x152+0x20a+-0x1c71);for(const _0x557184 in _0x21ba0e)_0x238742['push'](_0x21ba0e[_0x557184]),_0x21ba0e[_0x557184]=_0x238742['length']-(-0x9*-0x2f3+-0x5c1*0x3+-0x947*0x1);for(const _0x36b72a in _0x516b0f){const _0x5466da=_0x516b0f[_0x36b72a];_0x5466da['morphCurve']||(_0x14189f['push'](new Px(_0x5466da['paths'],_0x162ea4[_0x5466da['input']],_0x21ba0e[_0x5466da['output']],_0x5466da['interpolat'+'ion'])),_0x5466da['paths']['length']>-0x371*-0x1+-0x1a5c+0x16eb*0x1&&_0x5466da['paths'][0x1c47+-0xa5*-0x4+0x3*-0xa49]['propertyPa'+'th'][0x40e+0xf3*-0x2+-0x228]==='localRotat'+'ion'&&_0x5466da['interpolat'+'ion']!==Yu&&_0x2054b8['push'](_0x14189f[_0x14189f['length']-(-0x78b+-0xe3f+0x15cb*0x1)]['output']));}_0x2054b8['sort']();let _0x1afa1e=null,_0x26e0ce;for(_0x54e24b=0x461*0x8+0x8a0+-0x575*0x8;_0x54e24b<_0x2054b8['length'];++_0x54e24b){const _0x3c1f91=_0x2054b8[_0x54e24b];if(_0x54e24b===0x17ca+0x11ff+0x13*-0x233||_0x3c1f91!==_0x1afa1e){if(_0x26e0ce=_0x238742[_0x3c1f91],_0x26e0ce['components']===-0x43b+0xa85*0x1+0x16*-0x49){const _0x1cd91c=_0x26e0ce['data'],_0x56b9e7=_0x1cd91c['length']-(-0x147b+0x23f9*0x1+-0xf7a);for(let _0x2d5784=-0x4c+-0x23dd*-0x1+0xf*-0x25f;_0x2d5784<_0x56b9e7;_0x2d5784+=-0x337*0x2+0x46a+0x208)_0x1cd91c[_0x2d5784+(0x1952+-0x2*-0xda7+-0x34a0)]*_0x1cd91c[_0x2d5784+(0x8d6+0x1*0x25b1+0x237*-0x15)]+_0x1cd91c[_0x2d5784+(0x1820+0xec7+0x1*-0x26e6)]*_0x1cd91c[_0x2d5784+(0x6a1+0xc52*-0x2+0x4*0x482)]+_0x1cd91c[_0x2d5784+(-0x1314+-0xd3d+0x2053)]*_0x1cd91c[_0x2d5784+(-0x2597*0x1+-0xeb8+0x3455)]+_0x1cd91c[_0x2d5784+(0xf29+-0x18fc+0x9d6)]*_0x1cd91c[_0x2d5784+(-0x1359+0x3*0x67b+-0x11)]<0x71d*-0x2+-0x151*-0x11+-0x827&&(_0x1cd91c[_0x2d5784+(0x2c9*0x5+0x265d+-0x3446)]*=-(0x10dd+0x4f*0x6d+0x1*-0x327f),_0x1cd91c[_0x2d5784+(-0x2f*0x1f+-0x1*0x1e9+-0x79f*-0x1)]*=-(-0x213f+0x183c+0x904),_0x1cd91c[_0x2d5784+(0x1345+-0xc1c+-0x723)]*=-(-0x153f+0xa0*0x28+-0x3c0),_0x1cd91c[_0x2d5784+(-0xa82+-0x359*0x1+0x6f1*0x2)]*=-(-0xea*-0x13+-0x48*-0x80+-0x2cf*0x13));}_0x1afa1e=_0x3c1f91;}}let _0x187fc7=-0x1f0*-0x3+-0x8ca+0x7f*0x6;for(_0x54e24b=-0xd45*-0x2+-0x2*-0x9c1+-0x4*0xb83;_0x54e24b<_0x1b0b04['length'];_0x54e24b++)_0x26e0ce=_0x1b0b04[_0x54e24b]['_data'],_0x187fc7=Math['max'](_0x187fc7,_0x26e0ce['length']===-0x20*-0x86+-0x40*-0x6e+0x2c4*-0x10?-0xf13+0x2a*-0x34+0x179b*0x1:_0x26e0ce[_0x26e0ce['length']-(-0x14a2+-0x1be2+-0x1*-0x3085)]);return new Ri(_0x4e5577['hasOwnProp'+'erty']('name')?_0x4e5577['name']:'animation_'+_0x570607,_0x187fc7,_0x1b0b04,_0x238742,_0x14189f);},eh=new q(),qn=new T(),qD=(_0x1c3493,_0x8c8bc8,_0x1ddf01)=>{const _0x575579=new De();if(_0x1c3493['hasOwnProp'+'erty']('name')&&_0x1c3493['name']['length']>0x1*0x8dd+-0xff5+0x718?_0x575579['name']=_0x1c3493['name']:_0x575579['name']='node_'+_0x8c8bc8,_0x1c3493['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x1c3493['matrix']),eh['getTransla'+'tion'](qn),_0x575579['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x575579['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x575579['setLocalSc'+'ale'](qn)),_0x1c3493['hasOwnProp'+'erty']('rotation')){const _0x101dd7=_0x1c3493['rotation'];_0x575579['setLocalRo'+'tation'](_0x101dd7[0x15e1+-0x347*-0x5+-0x9e*0x3e],_0x101dd7[-0x2564+-0x7*-0x2a7+-0x3c4*-0x5],_0x101dd7[0x1*-0x159a+-0xc6+-0x23d*-0xa],_0x101dd7[0x25f5+0x569+0x2b5b*-0x1]);}if(_0x1c3493['hasOwnProp'+'erty']('translatio'+'n')){const _0x155199=_0x1c3493['translatio'+'n'];_0x575579['setLocalPo'+'sition'](_0x155199[0x1*-0x1471+-0x2bb+0x172c],_0x155199[0xbfa+0x1f67+-0x2b60],_0x155199[-0xb*0x10d+-0xaa6*0x1+0x1*0x1637]);}if(_0x1c3493['hasOwnProp'+'erty']('scale')){const _0x177011=_0x1c3493['scale'];_0x575579['setLocalSc'+'ale'](_0x177011[-0x2259+0x1*-0x1241+0x349a],_0x177011[0xfce+0xf61+-0x1f2e],_0x177011[-0x1b30+-0x295*0xb+0x3799]);}return _0x1c3493['hasOwnProp'+'erty']('extensions')&&_0x1c3493['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x1ddf01['set'](_0x1c3493,{'ext':_0x1c3493['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x575579;},XD=(_0x58dac7,_0x246521)=>{const _0x19807b=_0x58dac7['type']==='orthograph'+'ic'?ua:Gs,_0x103e99=_0x19807b===ua?_0x58dac7['orthograph'+'ic']:_0x58dac7['perspectiv'+'e'],_0x5996bb={'enabled':!(-0x14a3*-0x1+0x1*-0x17b+0x1327*-0x1),'projection':_0x19807b,'nearClip':_0x103e99['znear'],'aspectRatioMode':Ip};_0x103e99['zfar']&&(_0x5996bb['farClip']=_0x103e99['zfar']),_0x19807b===ua?(_0x5996bb['orthoHeigh'+'t']=(-0x13*0x1f5+0x1ceb+0x844+0.5)*_0x103e99['ymag'],_0x103e99['ymag']&&(_0x5996bb['aspectRati'+'oMode']=Bu,_0x5996bb['aspectRati'+'o']=_0x103e99['xmag']/_0x103e99['ymag'])):(_0x5996bb['fov']=_0x103e99['yfov']*N['RAD_TO_DEG'],_0x103e99['aspectRati'+'o']&&(_0x5996bb['aspectRati'+'oMode']=Bu,_0x5996bb['aspectRati'+'o']=_0x103e99['aspectRati'+'o']));const _0x2dca9a=new We(_0x58dac7['name']);return _0x2dca9a['addCompone'+'nt']('camera',_0x5996bb),_0x2dca9a;},jD=(_0x303c58,_0x1f4357)=>{const _0x4a1398={'enabled':!(-0x10*0x22d+0x1de5*0x1+0x4ec),'type':_0x303c58['type']==='point'?'omni':_0x303c58['type'],'color':_0x303c58['hasOwnProp'+'erty']('color')?new Y(_0x303c58['color']):Y['WHITE'],'range':_0x303c58['hasOwnProp'+'erty']('range')?_0x303c58['range']:-0x2aa5+-0x497b*0x1+0x9b2f,'falloffMode':$b,'intensity':_0x303c58['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x303c58['intensity'],0x12c3+-0x8*0x19c+-0x5e3,0x82*-0x31+-0x17*0x134+0x3490):0x10bf+-0xa0+-0x101e};_0x303c58['hasOwnProp'+'erty']('spot')&&(_0x4a1398['innerConeA'+'ngle']=_0x303c58['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x303c58['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:0x3*0xa5c+-0x7*0x52f+-0x535*-0x1,_0x4a1398['outerConeA'+'ngle']=_0x303c58['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x303c58['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(0x2142+-0x855+-0x18e9)),_0x303c58['hasOwnProp'+'erty']('intensity')&&(_0x4a1398['luminance']=_0x303c58['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x4a1398['type']],_0x4a1398['outerConeA'+'ngle'],_0x4a1398['innerConeA'+'ngle']));const _0x1d5c49=new We(_0x1f4357['name']);return _0x1d5c49['rotateLoca'+'l'](-0x3d6*-0x2+0x126d+0x1fb*-0xd,-0x21c1+0x5*-0x4cf+-0x89*-0x6c,0x11ad+-0x2151+0xfa4),_0x1d5c49['addCompone'+'nt']('light',_0x4a1398),_0x1d5c49;},YD=(_0x2ba87e,_0x2a5b8f,_0x372560,_0x58f263)=>{if(!_0x2a5b8f['hasOwnProp'+'erty']('skins')||_0x2a5b8f['skins']['length']===0x1846+0x14f7+0x2d3d*-0x1)return[];const _0x3bd421=new Map();return _0x2a5b8f['skins']['map'](_0x9d6236=>ID(_0x2ba87e,_0x9d6236,_0x2a5b8f['accessors'],_0x58f263,_0x372560,_0x3bd421));},KD=(_0x1bf32f,_0x180b4f,_0x2694fe,_0x259492)=>{var _0x14a779,_0x191cf7,_0x445cf2;const _0x5c1529={},_0x38c067={},_0x29c931={},_0x523bfa=[];return{'meshes':!_0x259492['skipMeshes']&&((_0x14a779=_0x180b4f==null?void(-0x2628+0x1*-0x1f5+0x9*0x475):_0x180b4f['meshes'])==null?void(0xf51+0xb6d+-0x1abe):_0x14a779['length'])&&((_0x191cf7=_0x180b4f==null?void(0x231+0xf19+-0x114a):_0x180b4f['accessors'])==null?void(-0x4a7*-0x2+-0x29c+0x6b2*-0x1):_0x191cf7['length'])&&((_0x445cf2=_0x180b4f==null?void(0x2*-0xb1a+-0x1ddf+0x1*0x3413):_0x180b4f['bufferView'+'s'])==null?void(-0x1*0x227b+0x1*0x2405+-0x2*0xc5):_0x445cf2['length'])?_0x180b4f['meshes']['map'](_0x4e6e21=>LD(_0x1bf32f,_0x4e6e21,_0x180b4f['accessors'],_0x2694fe,_0x5c1529,_0x38c067,_0x29c931,_0x259492,_0x523bfa)):[],'meshVariants':_0x38c067,'meshDefaultMaterials':_0x29c931,'promises':_0x523bfa};},ZD=(_0x574fdc,_0x1e278b,_0x57ee64)=>{var _0x4fc0c0,_0x35bd41,_0x3b0d97;if(!_0x574fdc['hasOwnProp'+'erty']('materials')||_0x574fdc['materials']['length']===-0x7bd+0x2*0x116d+-0x1b1d)return[];const _0x467afe=(_0x4fc0c0=_0x57ee64==null?void(0x26e+0x14d9+-0x1747):_0x57ee64['material'])==null?void(0x8dc*0x2+0x3bf*-0x1+-0xdf9):_0x4fc0c0['preprocess'],_0x417270=((_0x35bd41=_0x57ee64==null?void(-0x12e2+-0xfb6*0x1+0xf6*0x24):_0x57ee64['material'])==null?void(0xdfa+-0x132b+0x1bb*0x3):_0x35bd41['process'])??Dx,_0x540579=(_0x3b0d97=_0x57ee64==null?void(-0xcd9+-0x1cde+-0xb5*-0x3b):_0x57ee64['material'])==null?void(-0x5*-0x263+0x1ec3+0x1*-0x2ab2):_0x3b0d97['postproces'+'s'];return _0x574fdc['materials']['map'](_0x5dda52=>{_0x467afe&&_0x467afe(_0x5dda52);const _0x5cc0a5=_0x417270(_0x5dda52,_0x1e278b);return _0x540579&&_0x540579(_0x5dda52,_0x5cc0a5),_0x5cc0a5;});},QD=_0x34fcde=>{if(!_0x34fcde['hasOwnProp'+'erty']('extensions')||!_0x34fcde['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x13063b=_0x34fcde['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x4beaec={};for(let _0x35b898=-0xb95*0x1+-0x1ee9+0x2a7e;_0x35b898<_0x13063b['length'];_0x35b898++)_0x4beaec[_0x13063b[_0x35b898]['name']]=_0x35b898;return _0x4beaec;},JD=(_0x157399,_0x36e20c,_0x16bf1a,_0x34d5fe)=>{var _0x50f8ba,_0x48b198;if(!_0x157399['hasOwnProp'+'erty']('animations')||_0x157399['animations']['length']===0x14d*0x3+-0x198f+0x15a8)return[];const _0x531fe1=(_0x50f8ba=_0x34d5fe==null?void(-0x13*0x193+0xb11*-0x2+-0x1*-0x340b):_0x34d5fe['animation'])==null?void(-0x2*-0x27a+0x24*0x6e+-0x146c*0x1):_0x50f8ba['preprocess'],_0x39ddba=(_0x48b198=_0x34d5fe==null?void(0x1*-0x805+0x15aa+-0x1f3*0x7):_0x34d5fe['animation'])==null?void(0x1e64+0x1623+-0x3487):_0x48b198['postproces'+'s'];return _0x157399['animations']['map']((_0x4aa101,_0x5d4de6)=>{_0x531fe1&&_0x531fe1(_0x4aa101);const _0x5a3c90=$D(_0x4aa101,_0x5d4de6,_0x157399['accessors'],_0x16bf1a,_0x36e20c,_0x157399['meshes'],_0x157399['nodes']);return _0x39ddba&&_0x39ddba(_0x4aa101,_0x5a3c90),_0x5a3c90;});},e2=(_0x1035a3,_0x1f5fc,_0xa25b03,_0x2b5392)=>{const _0x4733a5=_0x1f5fc['accessors'];_0xa25b03['forEach']((_0x26c994,_0x370bfd)=>{const _0x1b56d1=_0x26c994['ext']['attributes'];let _0x26b6b5;if(_0x1b56d1['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0xf41b58=_0x4733a5[_0x1b56d1['TRANSLATIO'+'N']];_0x26b6b5=ma(_0xf41b58,_0x2b5392);}let _0x4b0826;if(_0x1b56d1['hasOwnProp'+'erty']('ROTATION')){const _0x5df548=_0x4733a5[_0x1b56d1['ROTATION']];_0x4b0826=ma(_0x5df548,_0x2b5392);}let _0x251afe;if(_0x1b56d1['hasOwnProp'+'erty']('SCALE')){const _0x12be1=_0x4733a5[_0x1b56d1['SCALE']];_0x251afe=ma(_0x12be1,_0x2b5392);}const _0x47d59d=(_0x26b6b5?_0x26b6b5['length']/(0x1693+-0x2d1*0x3+-0x1*0xe1d):-0x96*0x14+0x1*0xa39+0x1*0x17f)||(_0x4b0826?_0x4b0826['length']/(-0xd8e+0x4c3*-0x6+0x2a24):0x2580+0x1*0x124e+-0x37ce)||(_0x251afe?_0x251afe['length']/(-0x26e7+-0x7*0x3a+-0x48*-0x90):-0x15a*0x9+-0x1185+0x1daf*0x1);if(_0x47d59d){const _0x47f486=new Float32Array(_0x47d59d*(-0xfbe+0x2*0x1127+0x940*-0x2)),_0x4afd48=new T(),_0x404915=new se(),_0xd77cf2=new T(0x5c*-0x1+0xdd0+-0xd73,-0x84*0x4a+0x19*-0xa7+0x3678,0x2*0x133a+-0x2485*0x1+-0x1ee),_0x4e877f=new q();let _0x5c3047=-0x1171+-0x11*0x241+0x7a*0x75;for(let _0x5851d3=0x3*-0x541+-0x1f16+0xb3*0x43;_0x5851d3<_0x47d59d;_0x5851d3++){const _0x49125b=_0x5851d3*(0x7*-0x34+-0x71d*0x2+0xfa9);if(_0x26b6b5&&_0x4afd48['set'](_0x26b6b5[_0x49125b],_0x26b6b5[_0x49125b+(-0x241+-0x1878+0x1*0x1aba)],_0x26b6b5[_0x49125b+(-0x14af+-0x178a*0x1+0x2c3b)]),_0x4b0826){const _0x3dd907=_0x5851d3*(-0x1176+0x21c8+-0x104e);_0x404915['set'](_0x4b0826[_0x3dd907],_0x4b0826[_0x3dd907+(0x1fa+0x7*-0x36d+0x1602)],_0x4b0826[_0x3dd907+(-0xe76+0x8f*0xe+0x6a6)],_0x4b0826[_0x3dd907+(0x11ae+-0x1629+0x17*0x32)]);}_0x251afe&&_0xd77cf2['set'](_0x251afe[_0x49125b],_0x251afe[_0x49125b+(0x1*0x210a+0x2ca+0xbf1*-0x3)],_0x251afe[_0x49125b+(0x7*-0x32b+0x2*-0x413+0x1e55)]),_0x4e877f['setTRS'](_0x4afd48,_0x404915,_0xd77cf2);for(let _0x2c020d=0xa3e+0x34a+-0xd88;_0x2c020d<-0x125*0xf+0x199b+-0x10*0x86;_0x2c020d++)_0x47f486[_0x5c3047++]=_0x4e877f['data'][_0x2c020d];}_0x26c994['matrices']=_0x47f486;}});},t2=(_0x88d8f8,_0x282a3e,_0x459cb2)=>{var _0x30ee08,_0x249723,_0x578406;if(!_0x88d8f8['hasOwnProp'+'erty']('nodes')||_0x88d8f8['nodes']['length']===0x267a+-0xe*0xbc+-0x6*0x4b3)return[];const _0x20ec6f=(_0x30ee08=_0x282a3e==null?void(-0x5d4+-0x57*-0x48+0x4*-0x4a9):_0x282a3e['node'])==null?void(-0xf01*0x1+-0x509*-0x1+0x9f8):_0x30ee08['preprocess'],_0x375b78=((_0x249723=_0x282a3e==null?void(0x1*0x10f5+-0x11b1+-0x4*-0x2f):_0x282a3e['node'])==null?void(0x1*-0x7df+-0x5f+0x83e):_0x249723['process'])??qD,_0x43d1bc=(_0x578406=_0x282a3e==null?void(0x4d2+-0x2f2*0x4+-0xb*-0xa2):_0x282a3e['node'])==null?void(-0x216f+-0x2*0x10af+0x15d*0x31):_0x578406['postproces'+'s'],_0x15dcc1=_0x88d8f8['nodes']['map']((_0x58dc86,_0x23437c)=>{_0x20ec6f&&_0x20ec6f(_0x58dc86);const _0x3558ae=_0x375b78(_0x58dc86,_0x23437c,_0x459cb2);return _0x43d1bc&&_0x43d1bc(_0x58dc86,_0x3558ae),_0x3558ae;});for(let _0x177a67=-0xb30*-0x1+-0xbe0+-0xb0*-0x1;_0x177a67<_0x88d8f8['nodes']['length'];++_0x177a67){const _0x425dff=_0x88d8f8['nodes'][_0x177a67];if(_0x425dff['hasOwnProp'+'erty']('children')){const _0x561a35=_0x15dcc1[_0x177a67],_0x1c9c0d={};for(let _0x5ecaa8=-0x11*0x14f+-0x72f*-0x3+0xb2;_0x5ecaa8<_0x425dff['children']['length'];++_0x5ecaa8){const _0x29ef27=_0x15dcc1[_0x425dff['children'][_0x5ecaa8]];_0x29ef27['parent']||(_0x1c9c0d['hasOwnProp'+'erty'](_0x29ef27['name'])?_0x29ef27['name']+=_0x1c9c0d[_0x29ef27['name']]++:_0x1c9c0d[_0x29ef27['name']]=0x1701*0x1+0x135f+-0x2a5f,_0x561a35['addChild'](_0x29ef27));}}}return _0x15dcc1;},s2=(_0x1a31dc,_0x4f45cf)=>{var _0x3d77fc;const _0x472ae9=[],_0x53f6f1=_0x1a31dc['scenes']['length'];if(_0x53f6f1===0x2d6*-0x1+0x1*-0x6fd+0x4*0x275&&((_0x3d77fc=_0x1a31dc['scenes'][-0x2e3*0x9+-0x2*-0x25d+0x1541]['nodes'])==null?void(-0x13*-0x18a+-0x2152+-0x57*-0xc):_0x3d77fc['length'])===0xb5*0x29+0x1d78+-0x3a74){const _0x2bdc4c=_0x1a31dc['scenes'][-0x9c6+-0x25b5+0x2f7b]['nodes'][-0x41*-0x89+-0xca+-0x21ff];_0x472ae9['push'](_0x4f45cf[_0x2bdc4c]);}else for(let _0x58df1c=-0x1877*-0x1+0x5*-0x663+0x3bc*0x2;_0x58df1c<_0x53f6f1;_0x58df1c++){const _0x1aa58a=_0x1a31dc['scenes'][_0x58df1c];if(_0x1aa58a['nodes']){const _0x23ee4e=new De(_0x1aa58a['name']);for(let _0x3d9a19=-0x1*0x2005+-0x4*0x5+0x2019;_0x3d9a19<_0x1aa58a['nodes']['length'];_0x3d9a19++){const _0x2e05af=_0x4f45cf[_0x1aa58a['nodes'][_0x3d9a19]];_0x23ee4e['addChild'](_0x2e05af);}_0x472ae9['push'](_0x23ee4e);}}return _0x472ae9;},i2=(_0x11b99a,_0x2a3475,_0x1aa9cc)=>{var _0x19f489,_0x1d4ba8,_0x201e5a;let _0x208090=null;if(_0x11b99a['hasOwnProp'+'erty']('nodes')&&_0x11b99a['hasOwnProp'+'erty']('cameras')&&_0x11b99a['cameras']['length']>-0x318*0xb+0x240d*-0x1+-0x65f*-0xb){const _0x57a3d7=(_0x19f489=_0x1aa9cc==null?void(0x4f4+-0x19c8+-0xa6a*-0x2):_0x1aa9cc['camera'])==null?void(0x1fd2+0x1aa4+-0x3a76):_0x19f489['preprocess'],_0x1bd40c=((_0x1d4ba8=_0x1aa9cc==null?void(0xec4+0x22a8+-0x316c):_0x1aa9cc['camera'])==null?void(0x1609+0xd16+-0x231f):_0x1d4ba8['process'])??XD,_0x46b80b=(_0x201e5a=_0x1aa9cc==null?void(0x1cd+0x20de+-0x22ab):_0x1aa9cc['camera'])==null?void(0x10*-0x14b+-0x7*-0x401+-0x757):_0x201e5a['postproces'+'s'];_0x11b99a['nodes']['forEach']((_0x524f7e,_0x19676c)=>{if(_0x524f7e['hasOwnProp'+'erty']('camera')){const _0x223368=_0x11b99a['cameras'][_0x524f7e['camera']];if(_0x223368){_0x57a3d7&&_0x57a3d7(_0x223368);const _0x1d6bf5=_0x1bd40c(_0x223368,_0x2a3475[_0x19676c]);_0x46b80b&&_0x46b80b(_0x223368,_0x1d6bf5),_0x1d6bf5&&(_0x208090||(_0x208090=new Map()),_0x208090['set'](_0x524f7e,_0x1d6bf5));}}});}return _0x208090;},r2=(_0x3725b3,_0x4f3a74,_0x2a0ef9)=>{var _0x179d91,_0x4e0047,_0x4125d6;let _0x789dcb=null;if(_0x3725b3['hasOwnProp'+'erty']('nodes')&&_0x3725b3['hasOwnProp'+'erty']('extensions')&&_0x3725b3['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x3725b3['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x1e651c=_0x3725b3['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x1e651c['length']){const _0x3afc56=(_0x179d91=_0x2a0ef9==null?void(0xc28+0x3b*0x9e+-0x3092):_0x2a0ef9['light'])==null?void(0x145a+0x20e2+-0x4*0xd4f):_0x179d91['preprocess'],_0x3424e2=((_0x4e0047=_0x2a0ef9==null?void(0x2127+0x873*-0x1+-0x18b4):_0x2a0ef9['light'])==null?void(0x3ff+-0x1bae+0x17af):_0x4e0047['process'])??jD,_0x1c77e0=(_0x4125d6=_0x2a0ef9==null?void(0x188a+-0x2c5+-0x15c5):_0x2a0ef9['light'])==null?void(-0x17*-0x2+0x8f6+-0x924):_0x4125d6['postproces'+'s'];_0x3725b3['nodes']['forEach']((_0x2cd954,_0x6e405b)=>{if(_0x2cd954['hasOwnProp'+'erty']('extensions')&&_0x2cd954['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x2cd954['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0xb4cc7c=_0x2cd954['extensions']['KHR_lights'+'_punctual']['light'],_0x22f081=_0x1e651c[_0xb4cc7c];if(_0x22f081){_0x3afc56&&_0x3afc56(_0x22f081);const _0x3d927c=_0x3424e2(_0x22f081,_0x4f3a74[_0x6e405b]);_0x1c77e0&&_0x1c77e0(_0x22f081,_0x3d927c),_0x3d927c&&(_0x789dcb||(_0x789dcb=new Map()),_0x789dcb['set'](_0x2cd954,_0x3d927c));}}});}}return _0x789dcb;},n2=(_0x151676,_0x3876d2,_0x1f1ff9)=>{_0x151676['nodes']['forEach'](_0x4f1385=>{_0x4f1385['hasOwnProp'+'erty']('mesh')&&_0x4f1385['hasOwnProp'+'erty']('skin')&&_0x3876d2[_0x4f1385['mesh']]['meshes']['forEach'](_0x2b71ed=>{_0x2b71ed['skin']=_0x1f1ff9[_0x4f1385['skin']];});});},a2=async(_0x3baacb,_0x46c070,_0x9b7277,_0x15b213,_0x5a4b88)=>{var _0x542da9,_0x335620;const _0x1b2854=(_0x542da9=_0x5a4b88==null?void(-0x1471+0x1*-0x22cd+-0x3*-0x126a):_0x5a4b88['global'])==null?void(-0x2*0x547+-0x1c84*0x1+0x1389*0x2):_0x542da9['preprocess'],_0x31c44e=(_0x335620=_0x5a4b88==null?void(-0x1afc+-0x3*0x8c9+0x3557):_0x5a4b88['global'])==null?void(0x92c+0x8c3+-0x11ef):_0x335620['postproces'+'s'];_0x1b2854&&_0x1b2854(_0x46c070),_0x46c070['asset']&&_0x46c070['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x2c36cb=new Map(),_0x217008=t2(_0x46c070,_0x5a4b88,_0x2c36cb),_0x4e03ca=s2(_0x46c070,_0x217008),_0x392214=r2(_0x46c070,_0x217008,_0x5a4b88),_0x5d81e9=i2(_0x46c070,_0x217008,_0x5a4b88),_0x4ba88d=QD(_0x46c070),_0x424ab7=await Promise['all'](_0x9b7277),{meshes:_0x2106e6,meshVariants:_0x195911,meshDefaultMaterials:_0xd42496,promises:_0x198c82}=KD(_0x3baacb,_0x46c070,_0x424ab7,_0x5a4b88),_0x27e857=JD(_0x46c070,_0x217008,_0x424ab7,_0x5a4b88);e2(_0x3baacb,_0x46c070,_0x2c36cb,_0x424ab7);const _0x387031=await Promise['all'](_0x15b213),_0x2c5675=_0x387031['map'](_0x316f52=>_0x316f52['resource']),_0x1448b7=ZD(_0x46c070,_0x2c5675,_0x5a4b88),_0x3d8ae6=YD(_0x3baacb,_0x46c070,_0x217008,_0x424ab7),_0x9d0f37=[];for(let _0x5b075e=-0x2*-0x7cc+-0xe25+-0x173;_0x5b075e<_0x2106e6['length'];_0x5b075e++)_0x9d0f37[_0x5b075e]=new Hp(),_0x9d0f37[_0x5b075e]['meshes']=_0x2106e6[_0x5b075e];n2(_0x46c070,_0x9d0f37,_0x3d8ae6);const _0x136257=new SD();return _0x136257['gltf']=_0x46c070,_0x136257['nodes']=_0x217008,_0x136257['scenes']=_0x4e03ca,_0x136257['animations']=_0x27e857,_0x136257['textures']=_0x387031,_0x136257['materials']=_0x1448b7,_0x136257['variants']=_0x4ba88d,_0x136257['meshVarian'+'ts']=_0x195911,_0x136257['meshDefaul'+'tMaterials']=_0xd42496,_0x136257['renders']=_0x9d0f37,_0x136257['skins']=_0x3d8ae6,_0x136257['lights']=_0x392214,_0x136257['cameras']=_0x5d81e9,_0x136257['nodeInstan'+'cingMap']=_0x2c36cb,_0x31c44e&&_0x31c44e(_0x46c070,_0x136257),await Promise['all'](_0x198c82),_0x136257;},o2=(_0x28bd0d,_0x5e7163)=>{const _0x391c1b=(_0x77cbdc,_0x1f6b16)=>{switch(_0x77cbdc){case 0x65*0x97+0x9a0+-0x1f33:return de;case 0x47a0*-0x1+-0x1*0x424b+0xafec:return st;case 0x2192+0x3e*0x10b+-0x3b3c:return fc;case 0x4dfa+0xc15*-0x3+-0x2ba:return mc;case 0x1de1*0x2+0xfc2*-0x4+-0x386*-0xc:return pc;case 0x47a5+0x2*-0xdb3+-0x53c:return nn;default:return _0x1f6b16;}},_0x347918=(_0x54926a,_0x51f0e3)=>{switch(_0x54926a){case-0x4517+-0xa*0x13f1+0x18db0:return ae;case 0xd008+-0xd638*-0x1+0x48b4*-0x4:return Of;case 0x4811+-0xb17*0x1+0x13f9*-0x1:return tt;default:return _0x51f0e3;}};_0x28bd0d&&(_0x5e7163=_0x5e7163??{},_0x28bd0d['minFilter']=_0x391c1b(_0x5e7163['minFilter'],nn),_0x28bd0d['magFilter']=_0x391c1b(_0x5e7163['magFilter'],st),_0x28bd0d['addressU']=_0x347918(_0x5e7163['wrapS'],tt),_0x28bd0d['addressV']=_0x347918(_0x5e7163['wrapT'],tt));};let l2=-0xe7f+-0xd32+0x1bb1;const vf=_0x248a30=>{var _0x33e82e,_0x59d41a,_0x13ba04,_0x26ae51;return((_0x59d41a=(_0x33e82e=_0x248a30['extensions'])==null?void(-0x22cb+-0x1851+-0xd*-0x48c):_0x33e82e['KHR_textur'+'e_basisu'])==null?void(-0x853+-0x9a5+0x11f8):_0x59d41a['source'])??((_0x26ae51=(_0x13ba04=_0x248a30['extensions'])==null?void(-0x1741+0x2482+0x27*-0x57):_0x13ba04['EXT_textur'+'e_webp'])==null?void(0x4*-0x445+0xfbb+0x159):_0x26ae51['source'])??_0x248a30['source'];},h2=(_0x3145d7,_0x5c87a5,_0x1d8bd5,_0x323edd,_0x223235)=>{var _0x2520a3,_0x33dd4c,_0x4f0c86;if(!_0x3145d7['images']||_0x3145d7['images']['length']===0x2589+0x133*0x18+-0x4251)return[];const _0x3b9f6f=(_0x2520a3=_0x223235==null?void(0x273+0xde*-0x22+0x1b09):_0x223235['image'])==null?void(0xc*0x2e+0x9a4+-0xbcc):_0x2520a3['preprocess'],_0x1cc43f=(_0x33dd4c=_0x223235==null?void(0x11a6+-0x244f+-0x12a9*-0x1):_0x223235['image'])==null?void(0x7*0x2c2+-0x21ae+-0x28*-0x5c):_0x33dd4c['processAsy'+'nc'],_0xd302b6=(_0x4f0c86=_0x223235==null?void(-0xe*-0x2bd+-0x3*-0x8aa+-0x1015*0x4):_0x223235['image'])==null?void(0xbbe+0x1*-0x1a41+0x1*0xe83):_0x4f0c86['postproces'+'s'],_0x554bdc={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x5d99a2=_0x19fece=>{const _0x570ce8=new Set();return _0x19fece['hasOwnProp'+'erty']('materials')&&_0x19fece['materials']['forEach'](_0x3bdb6e=>{if(_0x3bdb6e['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x56dc36=_0x3bdb6e['pbrMetalli'+'cRoughness'];if(_0x56dc36['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x60c964=_0x19fece['textures'][_0x56dc36['baseColorT'+'exture']['index']];_0x570ce8['add'](vf(_0x60c964));}}if(_0x3bdb6e['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x4ffed0=_0x19fece['textures'][_0x3bdb6e['emissiveTe'+'xture']['index']];_0x570ce8['add'](vf(_0x4ffed0));}}),_0x570ce8;},_0x19f3d2=(_0x476255,_0x7cd709,_0x4ee171,_0x2b78bb,_0x1cfc27,_0x420db8)=>new Promise((_0x2653a9,_0x54c22e)=>{const _0x2e521b=_0x49f3a7=>{const _0x3ab177=(_0x476255['name']||'gltf-textu'+'re')+'-'+l2++,_0x3e5d42={'url':_0x7cd709||_0x3ab177};if(_0x49f3a7&&(_0x3e5d42['contents']=_0x49f3a7['slice'](0x1f46*-0x1+-0x1*-0x745+0x1801)['buffer']),_0x2b78bb){const _0x2ebb5a=_0x554bdc[_0x2b78bb];_0x2ebb5a&&(_0x3e5d42['filename']=_0x3e5d42['url']+'.'+_0x2ebb5a);}const _0x2c628f={'srgb':_0x420db8},_0x521b03=new le(_0x3ab177,'texture',_0x3e5d42,_0x2c628f,_0x1cfc27);_0x521b03['on']('load',_0x1eab19=>_0x2653a9(_0x1eab19)),_0x521b03['on']('error',_0x3b222e=>_0x54c22e(_0x3b222e)),_0x323edd['add'](_0x521b03),_0x323edd['load'](_0x521b03);};_0x4ee171?_0x4ee171['then'](_0x161b19=>_0x2e521b(_0x161b19)):_0x2e521b(null);}),_0x41326a=_0x5d99a2(_0x3145d7);return _0x3145d7['images']['map']((_0x313e2f,_0x4655f1)=>{_0x3b9f6f&&_0x3b9f6f(_0x313e2f);let _0xd23427;return _0x1cc43f?_0xd23427=new Promise((_0x30ca54,_0x5b7b25)=>{_0x1cc43f(_0x313e2f,(_0x2a21f6,_0x4d8b65)=>{_0x2a21f6?_0x5b7b25(_0x2a21f6):_0x30ca54(_0x4d8b65);});}):_0xd23427=new Promise(_0x584bf=>{_0x584bf(null);}),_0xd23427=_0xd23427['then'](_0x1980a2=>{const _0x430bcf=_0x41326a['has'](_0x4655f1);return _0x1980a2||(_0x313e2f['hasOwnProp'+'erty']('uri')?Rx(_0x313e2f['uri'])?_0x19f3d2(_0x313e2f,_0x313e2f['uri'],null,vD(_0x313e2f['uri']),null,_0x430bcf):_0x19f3d2(_0x313e2f,Da['test'](_0x313e2f['uri'])?_0x313e2f['uri']:fe['join'](_0x1d8bd5,_0x313e2f['uri']),null,null,{'crossOrigin':'anonymous'},_0x430bcf):_0x313e2f['hasOwnProp'+'erty']('bufferView')&&_0x313e2f['hasOwnProp'+'erty']('mimeType')?_0x19f3d2(_0x313e2f,null,_0x5c87a5[_0x313e2f['bufferView']],_0x313e2f['mimeType'],null,_0x430bcf):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x4655f1)));}),_0xd302b6&&(_0xd23427=_0xd23427['then'](_0x223aac=>(_0xd302b6(_0x313e2f,_0x223aac),_0x223aac))),_0xd23427;});},c2=(_0x3ff8f9,_0x1c4c9b,_0x4e7ee8)=>{var _0x3b6bd4,_0x1849db,_0x31cd5f,_0x54c5cf,_0x6dc356;if(!((_0x3b6bd4=_0x3ff8f9==null?void(-0x1*0x1eb9+0x4e4+-0x19d5*-0x1):_0x3ff8f9['images'])!=null&&_0x3b6bd4['length'])||!((_0x1849db=_0x3ff8f9==null?void(0x1*0x95c+-0xae1+0x1*0x185):_0x3ff8f9['textures'])!=null&&_0x1849db['length']))return[];const _0x5791b4=(_0x31cd5f=_0x4e7ee8==null?void(0x29*-0x89+0x7c9*0x4+-0x933):_0x4e7ee8['texture'])==null?void(0x6c3*0x3+-0x81f*-0x2+0x40f*-0x9):_0x31cd5f['preprocess'],_0x12c9fc=(_0x54c5cf=_0x4e7ee8==null?void(0x311*-0xb+0x682*0x4+-0xdb*-0x9):_0x4e7ee8['texture'])==null?void(0x6*-0x189+0x689*-0x2+-0x1648*-0x1):_0x54c5cf['processAsy'+'nc'],_0x31dbb9=(_0x6dc356=_0x4e7ee8==null?void(0x329*-0xa+-0x8*-0x223+0x3*0x4d6):_0x4e7ee8['texture'])==null?void(0x1*-0x1297+0x20f0+-0xe59):_0x6dc356['postproces'+'s'],_0x24525e=new Set();return _0x3ff8f9['textures']['map'](_0x53f359=>{_0x5791b4&&_0x5791b4(_0x53f359);let _0x5dcb15;return _0x12c9fc?_0x5dcb15=new Promise((_0x431980,_0x92e8aa)=>{_0x12c9fc(_0x53f359,_0x3ff8f9['images'],(_0x128a38,_0x3d9c51)=>{_0x128a38?_0x92e8aa(_0x128a38):_0x431980(_0x3d9c51);});}):_0x5dcb15=new Promise(_0x2de75b=>{_0x2de75b(null);}),_0x5dcb15=_0x5dcb15['then'](_0x296f26=>{_0x296f26=_0x296f26??vf(_0x53f359);const _0x25a05f=_0x24525e['has'](_0x296f26);return _0x24525e['add'](_0x296f26),_0x1c4c9b[_0x296f26]['then'](_0x19d587=>{const _0x1ac6a8=_0x25a05f?MD(_0x19d587):_0x19d587;return o2(_0x1ac6a8['resource'],(_0x3ff8f9['samplers']??[])[_0x53f359['sampler']]),_0x1ac6a8;});}),_0x31dbb9&&(_0x5dcb15=_0x5dcb15['then'](_0x49a14b=>(_0x31dbb9(_0x53f359,_0x49a14b),_0x49a14b))),_0x5dcb15;});},d2=(_0x4b575e,_0x441d02,_0x209eb5,_0x28f5d1)=>{var _0x159774,_0x1278ce,_0x1d8840;if(!_0x4b575e['buffers']||_0x4b575e['buffers']['length']===0x43*0x6+0x1367*-0x2+0x253c)return[];const _0x7477bc=(_0x159774=_0x28f5d1==null?void(-0x9*0x85+-0x4b6+0x963):_0x28f5d1['buffer'])==null?void(0x1*0x1447+-0xa*0x233+0x1b7):_0x159774['preprocess'],_0x409662=(_0x1278ce=_0x28f5d1==null?void(-0x16d5+0x30e+-0x3d*-0x53):_0x28f5d1['buffer'])==null?void(-0x1217+0x9*0x295+-0x2*0x293):_0x1278ce['processAsy'+'nc'],_0x3b4c6f=(_0x1d8840=_0x28f5d1==null?void(-0x2*0xcae+-0x6b3+0x200f):_0x28f5d1['buffer'])==null?void(-0x8da*-0x4+-0x270d+0x3a5):_0x1d8840['postproces'+'s'];return _0x4b575e['buffers']['map']((_0xf21c09,_0x39a175)=>{_0x7477bc&&_0x7477bc(_0xf21c09);let _0x5865f2;return _0x409662?_0x5865f2=new Promise((_0x333163,_0x2322e7)=>{_0x409662(_0xf21c09,(_0x567149,_0x286ff7)=>{_0x567149?_0x2322e7(_0x567149):_0x333163(_0x286ff7);});}):_0x5865f2=new Promise(_0x3f10e4=>{_0x3f10e4(null);}),_0x5865f2=_0x5865f2['then'](_0x2fc004=>{if(_0x2fc004)return _0x2fc004;if(_0xf21c09['hasOwnProp'+'erty']('uri')){if(Rx(_0xf21c09['uri'])){const _0x3fd2f4=atob(_0xf21c09['uri']['split'](',')[0x1c57*-0x1+0x10b+0x1b4d]),_0x5e1531=new Uint8Array(_0x3fd2f4['length']);for(let _0x4e4b45=-0x5*0x781+0x1*-0x5d2+0x2b57;_0x4e4b45<_0x3fd2f4['length'];_0x4e4b45++)_0x5e1531[_0x4e4b45]=_0x3fd2f4['charCodeAt'](_0x4e4b45);return _0x5e1531;}return new Promise((_0x1ca579,_0x126962)=>{$e['get'](Da['test'](_0xf21c09['uri'])?_0xf21c09['uri']:fe['join'](_0x209eb5,_0xf21c09['uri']),{'cache':!(-0x1*0x8fb+-0x144d+0x1d48),'responseType':'arraybuffe'+'r','retry':!(0x2200+-0x2*0xd8b+-0x6e9)},(_0x44f534,_0x5588eb)=>{_0x44f534?_0x126962(_0x44f534):_0x1ca579(new Uint8Array(_0x5588eb));});});}return _0x441d02;}),_0x3b4c6f&&(_0x5865f2=_0x5865f2['then'](_0x139152=>(_0x3b4c6f(_0x4b575e['buffers'][_0x39a175],_0x139152),_0x139152))),_0x5865f2;});},u2=(_0x1c2900,_0x111222)=>{const _0x205ebe=JSON['parse']((_0x275d15=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x275d15);let _0x509a55='';for(let _0x3edae2=-0x1c1*-0x14+0x1f09+0x19*-0x2a5;_0x3edae2<_0x275d15['length'];_0x3edae2++)_0x509a55+=String['fromCharCo'+'de'](_0x275d15[_0x3edae2]);return decodeURIComponent(escape(_0x509a55));})(_0x1c2900));if(_0x205ebe['asset']&&_0x205ebe['asset']['version']&&parseFloat(_0x205ebe['asset']['version'])<0x20a2+0x269f+-0x473f){_0x111222('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x205ebe['asset']['version']+'\x27.');return;}_0x111222(null,_0x205ebe);},f2=(_0xb822c9,_0x2d0461)=>{const _0x4e8379=_0xb822c9 instanceof ArrayBuffer?new DataView(_0xb822c9):new DataView(_0xb822c9['buffer'],_0xb822c9['byteOffset'],_0xb822c9['byteLength']),_0x50b2f9=_0x4e8379['getUint32'](-0x5*0x50b+0x7f*0x3+-0x2*-0xbdd,!(-0x2129+0x2*0xc1+0x49*0x6f)),_0x4006bf=_0x4e8379['getUint32'](-0x1*-0xfed+0x1*-0x209b+-0x10b2*-0x1,!(0x85f+0x5ff+-0xe5e)),_0x63ffc6=_0x4e8379['getUint32'](0x13d2*0x1+-0xf8b+0x43f*-0x1,!(0xa2b+-0xfaa+0x1*0x57f));if(_0x50b2f9!==0x53e0547c+-0x79ce655*-0x3+-0x5814*0x69c1){_0x2d0461('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x50b2f9['toString'](-0x5f9*0x3+-0x24d*-0xd+-0xbee));return;}if(_0x4006bf!==-0x13*-0xa1+-0x1c39+0x1048){_0x2d0461('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x4006bf);return;}if(_0x63ffc6<=-0x714*-0x4+0x1*0x112d+-0x2d7d||_0x63ffc6>_0x4e8379['byteLength']){_0x2d0461('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x63ffc6);return;}const _0x5395bf=[];let _0x16d6e9=0x2b*0x29+-0x1*0xf47+0x12*0x78;for(;_0x16d6e9<_0x63ffc6;){const _0x269644=_0x4e8379['getUint32'](_0x16d6e9,!(0x74*-0x43+-0xb27*-0x1+0x1335));_0x16d6e9+_0x269644+(0x20ff+0xae9+-0xd0*0x36)>_0x4e8379['byteLength']&&_0x2d0461('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x269644);const _0x8c535b=_0x4e8379['getUint32'](_0x16d6e9+(0x3f2+0x3e*-0x1+-0x3b0),!(0x3b*0x6b+0x305*0xb+-0x39e0)),_0x248255=new Uint8Array(_0x4e8379['buffer'],_0x4e8379['byteOffset']+_0x16d6e9+(-0x15db+-0x362*0x4+0x236b),_0x269644);_0x5395bf['push']({'length':_0x269644,'type':_0x8c535b,'data':_0x248255}),_0x16d6e9+=_0x269644+(0xa2+-0x4*-0x879+0x2*-0x113f);}if(_0x5395bf['length']!==0x1774+0x1*0xb85+0x18*-0x175&&_0x5395bf['length']!==-0x15a2+-0x19a2+0x2f46){_0x2d0461('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x5395bf[0x14bd+-0x144a+-0x17*0x5]['type']!==-0x683d3bb*0x5+-0x8b3d2a60+0x2f7*0x545cf7){_0x2d0461('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x5395bf[0x16b8+0x1*0x2605+-0x3cbd]['type']['toString'](-0x1*-0x24b5+-0x1b33+-0x27*0x3e));return;}if(_0x5395bf['length']>-0xa*0xf3+0x235f+-0x10*0x19e&&_0x5395bf[-0x1b5+0x1*-0x1471+-0x35*-0x6b]['type']!==0x9b826c+-0x550bfd+0x7d2d3){_0x2d0461('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x5395bf[-0x178c*0x1+-0x2*0x641+-0x1*-0x240f]['type']['toString'](-0x12fc*-0x1+-0x1cc1*-0x1+-0x1*0x2fad));return;}_0x2d0461(null,{'gltfChunk':_0x5395bf[0x4e2+-0x121*-0x1+0x1*-0x603]['data'],'binaryChunk':_0x5395bf['length']===-0x1746+0x8f4*-0x2+0x2930?_0x5395bf[0xfc6+0x59+-0x101e]['data']:null});},p2=(_0x2fcbf3,_0x4d1503,_0x4c038e)=>{const _0x3b471b=()=>{const _0x1db437=new Uint8Array(_0x4d1503);return _0x1db437[0x19*-0x13a+-0x1ebf+0x3d69]===-0x2*0x290+0x452+-0x67*-0x3&&_0x1db437[0x6*-0x38+-0x208c+-0x1*-0x21dd]===0x25bf*-0x1+-0xd95+0x33c0&&_0x1db437[-0x226f+0x20*0x7e+0x12b1]===-0x1031+0x1*0x1499+0x15c*-0x3&&_0x1db437[-0xd6d+0x5e*0x36+0x199*-0x4]===-0xcec*-0x1+-0xc4a+0x5c*-0x1;};_0x2fcbf3&&_0x2fcbf3['toLowerCas'+'e']()['endsWith']('.glb')||_0x3b471b()?f2(_0x4d1503,_0x4c038e):_0x4c038e(null,{'gltfChunk':_0x4d1503,'binaryChunk':null});},m2=(_0x143902,_0x311e54,_0x418963)=>{var _0x198b34,_0x1fdc8d,_0x289330,_0x13840d;const _0x449842=[],_0x29d745=(_0x198b34=_0x418963==null?void(0x1*-0x1b6f+-0x691*-0x4+0x17*0xd):_0x418963['bufferView'])==null?void(-0x1*0x239+0x1d61*0x1+-0x1b28):_0x198b34['preprocess'],_0x77da56=(_0x1fdc8d=_0x418963==null?void(0xa3*-0x1c+-0x34*0xbf+0x970*0x6):_0x418963['bufferView'])==null?void(0x180f*-0x1+0x1bcf+-0x40*0xf):_0x1fdc8d['processAsy'+'nc'],_0x4db329=(_0x289330=_0x418963==null?void(-0x1cbe+-0xa87+-0x2745*-0x1):_0x418963['bufferView'])==null?void(-0x5*0xbb+0x94d+-0x2*0x2d3):_0x289330['postproces'+'s'];if(!((_0x13840d=_0x143902['bufferView'+'s'])!=null&&_0x13840d['length']))return _0x449842;for(let _0x31e311=-0x1*0x1a21+0x5*-0xe3+-0x518*-0x6;_0x31e311<_0x143902['bufferView'+'s']['length'];++_0x31e311){const _0x28b8c=_0x143902['bufferView'+'s'][_0x31e311];_0x29d745&&_0x29d745(_0x28b8c);let _0x2e16d2;_0x77da56?_0x2e16d2=new Promise((_0x3aea97,_0x12a588)=>{_0x77da56(_0x28b8c,_0x311e54,(_0x2ba14a,_0x4eb9b1)=>{_0x2ba14a?_0x12a588(_0x2ba14a):_0x3aea97(_0x4eb9b1);});}):_0x2e16d2=new Promise(_0x1284a5=>{_0x1284a5(null);}),_0x2e16d2=_0x2e16d2['then'](_0x59a9c6=>_0x59a9c6||_0x311e54[_0x28b8c['buffer']]['then'](_0x50a4c7=>new Uint8Array(_0x50a4c7['buffer'],_0x50a4c7['byteOffset']+(_0x28b8c['byteOffset']||-0x2a*0x58+0x691+-0x7df*-0x1),_0x28b8c['byteLength']))),_0x28b8c['hasOwnProp'+'erty']('byteStride')&&(_0x2e16d2=_0x2e16d2['then'](_0x3b5286=>(_0x3b5286['byteStride']=_0x28b8c['byteStride'],_0x3b5286))),_0x4db329&&(_0x2e16d2=_0x2e16d2['then'](_0x2bdecf=>(_0x4db329(_0x28b8c,_0x2bdecf),_0x2bdecf))),_0x449842['push'](_0x2e16d2);}return _0x449842;};class tc{static['parse'](_0x30dd2f,_0x553cd7,_0x559b01,_0xaa7d3e,_0x1affce,_0x4dd521,_0x532214){p2(_0x30dd2f,_0x559b01,(_0x444824,_0xd71c7)=>{if(_0x444824){_0x532214(_0x444824);return;}u2(_0xd71c7['gltfChunk'],(_0x21aa9f,_0x22ce13)=>{if(_0x21aa9f){_0x532214(_0x21aa9f);return;}const _0x18f120=d2(_0x22ce13,_0xd71c7['binaryChun'+'k'],_0x553cd7,_0x4dd521),_0x4c163e=m2(_0x22ce13,_0x18f120,_0x4dd521),_0x4866fa=h2(_0x22ce13,_0x4c163e,_0x553cd7,_0x1affce,_0x4dd521),_0x2d5dcb=c2(_0x22ce13,_0x4866fa,_0x4dd521);a2(_0xaa7d3e,_0x22ce13,_0x4c163e,_0x2d5dcb,_0x4dd521)['then'](_0x1d01af=>_0x532214(null,_0x1d01af))['catch'](_0x31f272=>_0x532214(_0x31f272));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x427c97){super(_0x427c97,'animation'),this['device']=_0x427c97['graphicsDe'+'vice'],this['assets']=_0x427c97['assets'];}['load'](_0x1cdaa1,_0x5cd69e,_0x5ca881){typeof _0x1cdaa1=='string'&&(_0x1cdaa1={'load':_0x1cdaa1,'original':_0x1cdaa1});const _0x507f2a={'retry':this['maxRetries']>-0x1*0x1a69+0x236a*-0x1+0x3dd3,'maxRetries':this['maxRetries']};(_0x1cdaa1['load']['startsWith']('blob:')||_0x1cdaa1['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x1cdaa1['original'])['toLowerCas'+'e']()==='.glb'?_0x507f2a['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x507f2a['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x1cdaa1['load'],_0x507f2a,(_0x590e47,_0x544602)=>{_0x590e47?_0x5cd69e('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x1cdaa1['original']+'\x20['+_0x590e47+']'):fe['getExtensi'+'on'](_0x1cdaa1['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x544602,this['device'],this['assets'],(_0x5ca881==null?void(0xa0*-0x19+-0x10a6*0x1+0x2046):_0x5ca881['options'])??{},(_0x179375,_0x23202c)=>{var _0x1eaf0f;if(_0x179375)_0x5cd69e(_0x179375);else{const _0x2b7b2c=_0x23202c['animations'];if((_0x1eaf0f=_0x5ca881==null?void(0xab5+0x1*0x1b6+-0xc6b):_0x5ca881['data'])!=null&&_0x1eaf0f['events']){for(let _0x105f0c=-0x9f*-0x3+0x2f*0x5c+0x1*-0x12c1;_0x105f0c<_0x2b7b2c['length'];_0x105f0c++)_0x2b7b2c[_0x105f0c]['events']=new Y0(Object['values'](_0x5ca881['data']['events']));}_0x23202c['destroy'](),_0x5cd69e(null,_0x2b7b2c);}}):_0x5cd69e(null,this['_parseAnim'+'ationV'+_0x544602['animation']['version']](_0x544602));});}['open'](_0x4c08fb,_0x35f24d,_0x92965e){return _0x35f24d;}['_parseAnim'+'ationV3'](_0x29af82){const _0x521365=_0x29af82['animation'],_0x36e52a=new k_();_0x36e52a['name']=_0x521365['name'],_0x36e52a['duration']=_0x521365['duration'];for(let _0x319870=0x177b+0x2120+-0x389b;_0x319870<_0x521365['nodes']['length'];_0x319870++){const _0x162b5f=new O_(),_0x539683=_0x521365['nodes'][_0x319870];_0x162b5f['_name']=_0x539683['name'];for(let _0x116195=-0x95*0xf+-0xf6f+0x182a;_0x116195<_0x539683['keys']['length'];_0x116195++){const _0x20a155=_0x539683['keys'][_0x116195],_0x69899f=_0x20a155['time'],_0x4baa17=_0x20a155['pos'],_0x3e976b=_0x20a155['rot'],_0x43e95e=_0x20a155['scale'],_0x2bf7f3=new T(_0x4baa17[-0x57*-0x2+-0x11*0xb+0xd],_0x4baa17[-0x1*0xc61+-0x2*0x1091+0x2d84],_0x4baa17[-0xfd0+-0x1807*-0x1+-0x835]),_0x112ec9=new se()['setFromEul'+'erAngles'](_0x3e976b[-0x1889+0x5*-0x66b+-0x12e*-0x30],_0x3e976b[-0x177e+-0x21ef+-0x1*-0x396e],_0x3e976b[0x1*0x943+0x5cd+0xf0e*-0x1]),_0x5b4c0c=new T(_0x43e95e[0xe26+0x3e5*-0x1+-0xa41],_0x43e95e[0x597+-0x2c*0xcd+0x1da6],_0x43e95e[0x1c43*-0x1+-0x3e5*0x2+0x240f]),_0x92f88=new F_(_0x69899f,_0x2bf7f3,_0x112ec9,_0x5b4c0c);_0x162b5f['_keys']['push'](_0x92f88);}_0x36e52a['addNode'](_0x162b5f);}return _0x36e52a;}['_parseAnim'+'ationV4'](_0x5c1700){const _0x2469f5=_0x5c1700['animation'],_0x1ac954=new k_();_0x1ac954['name']=_0x2469f5['name'],_0x1ac954['duration']=_0x2469f5['duration'];for(let _0x33b80c=0x1*-0x25e1+-0x11d4*-0x1+0x140d;_0x33b80c<_0x2469f5['nodes']['length'];_0x33b80c++){const _0x41632e=new O_(),_0x1124a0=_0x2469f5['nodes'][_0x33b80c];_0x41632e['_name']=_0x1124a0['name'];const _0x582128=_0x1124a0['defaults']['p'],_0x3bffc0=_0x1124a0['defaults']['r'],_0xe6b0ba=_0x1124a0['defaults']['s'];for(let _0x3c29db=-0x62b*0x5+0x3*0x853+0x5de;_0x3c29db<_0x1124a0['keys']['length'];_0x3c29db++){const _0x481ae0=_0x1124a0['keys'][_0x3c29db],_0x53c159=_0x481ae0['t'],_0x1547f7=_0x582128||_0x481ae0['p'],_0xc281b=_0x3bffc0||_0x481ae0['r'],_0x3b8384=_0xe6b0ba||_0x481ae0['s'],_0x46abe5=new T(_0x1547f7[0xd0*-0x11+0x6*0x54c+0x14*-0xe6],_0x1547f7[0x40*-0x52+-0x1cea+0x316b],_0x1547f7[-0x2*0x304+0x4d+0x5bd]),_0x4ff2f9=new se()['setFromEul'+'erAngles'](_0xc281b[-0xa33+0x464*0x8+-0x18ed],_0xc281b[-0x1cd5*0x1+0x1329+-0x9ad*-0x1],_0xc281b[-0x171c+0x18e+-0x17*-0xf0]),_0x292c20=new T(_0x3b8384[-0x1d35*0x1+0x79*0x2+0x1c43],_0x3b8384[-0x3*0xa2b+0x7ed+0x787*0x3],_0x3b8384[-0x7f*0x3a+0x39*0xac+-0x74*0x15]),_0xec9501=new F_(_0x53c159,_0x46abe5,_0x4ff2f9,_0x292c20);_0x41632e['_keys']['push'](_0xec9501);}_0x1ac954['addNode'](_0x41632e);}return _0x1ac954;}}class g2 extends Ne{constructor(_0x59839e){super(_0x59839e,'animclip');}['load'](_0x116a44,_0x24d683){typeof _0x116a44=='string'&&(_0x116a44={'load':_0x116a44,'original':_0x116a44});const _0x9221aa={'retry':this['maxRetries']>0x7fd*-0x3+-0x1157+-0x2*-0x14a7,'maxRetries':this['maxRetries']};_0x116a44['load']['startsWith']('blob:')&&(_0x9221aa['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x116a44['load'],_0x9221aa,(_0x55034a,_0x354b7c)=>{_0x55034a?_0x24d683('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x116a44['original']+'\x20['+_0x55034a+']'):_0x24d683(null,_0x354b7c);});}['open'](_0x468dc7,_0x4c65d1){const _0x22ade4=_0x4c65d1['name'],_0x5c68b9=_0x4c65d1['duration'],_0x224be0=_0x4c65d1['inputs']['map'](_0x2a9002=>new Jh(-0x25fb+0x1e0+0x1*0x241c,_0x2a9002)),_0x3dd035=_0x4c65d1['outputs']['map'](_0x5a271c=>new Jh(_0x5a271c['components'],_0x5a271c['data'])),_0x457efa=_0x4c65d1['curves']['map'](_0x17d25a=>new Px([_0x17d25a['path']],_0x17d25a['inputIndex'],_0x17d25a['outputInde'+'x'],_0x17d25a['interpolat'+'ion']));return new Ri(_0x22ade4,_0x5c68b9,_0x224be0,_0x3dd035,_0x457efa);}}class y2 extends Ne{constructor(_0x31b72c){super(_0x31b72c,'animstateg'+'raph');}['load'](_0x44c308,_0x228d85){typeof _0x44c308=='string'&&(_0x44c308={'load':_0x44c308,'original':_0x44c308});const _0x1a508d={'retry':this['maxRetries']>-0x4d9+0x2c*-0x28+0x1*0xbb9,'maxRetries':this['maxRetries']};_0x44c308['load']['startsWith']('blob:')&&(_0x1a508d['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x44c308['load'],_0x1a508d,(_0x4d1841,_0x533d3b)=>{_0x4d1841?_0x228d85('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x44c308['original']+'\x20['+_0x4d1841+']'):_0x228d85(null,_0x533d3b);});}['open'](_0x3f6d86,_0x444234){return new mh(_0x444234);}}const Qd=(function(){if(typeof window>'u')return!(-0x184f+-0x47b*-0x3+0xadf);const _0x4bc797=window['navigator']['userAgent'],_0x3ccaf3=_0x4bc797['indexOf']('MSIE\x20');if(_0x3ccaf3>-0xa93*-0x1+0x2451+-0x2ee4)return parseInt(_0x4bc797['substring'](_0x3ccaf3+(-0x3d3*-0x3+-0x227e*-0x1+-0x2df2),_0x4bc797['indexOf']('.',_0x3ccaf3)),-0xac4+0xe69*-0x1+-0x1937*-0x1);if(_0x4bc797['indexOf']('Trident/')>0x5b*-0x11+-0x1*-0x943+-0x338){const _0x5cd805=_0x4bc797['indexOf']('rv:');return parseInt(_0x4bc797['substring'](_0x5cd805+(0x1d*0x12d+-0x1442+-0xdd4),_0x4bc797['indexOf']('.',_0x5cd805)),-0xac*-0x1b+0x940+-0x1b5a);}return!(0x100b*-0x2+0x18ff+0x718*0x1);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x22db7d){super(_0x22db7d,'audio'),this['manager']=_0x22db7d['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x52604b){const _0x18fbb2=fe['getExtensi'+'on'](_0x52604b);return x2['indexOf'](_0x18fbb2)>-(0x5f8*0x4+0x12c0+-0xe35*0x3)||_0x52604b['startsWith']('blob:');}['load'](_0x1d9a54,_0x3efefb){typeof _0x1d9a54=='string'&&(_0x1d9a54={'load':_0x1d9a54,'original':_0x1d9a54});const _0x1022c6=function(_0x35f3d9){_0x3efefb(null,new Bb(_0x35f3d9));},_0x321ce0=function(_0x116b17){let _0x2563c8='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x1d9a54['original'];_0x116b17&&(_0x2563c8+=':\x20'+(_0x116b17['message']||_0x116b17)),console['warn'](_0x2563c8),_0x3efefb(_0x2563c8);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x1d9a54['original'])){_0x321ce0('Audio\x20form'+'at\x20for\x20'+_0x1d9a54['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x1d9a54['load'],_0x1022c6,_0x321ce0);}else _0x321ce0(null);}['_createSou'+'nd'](_0x29a634,_0x2c64d3,_0x4052cd){if(Li()){const _0x6a876a=this['manager'];if(!_0x6a876a['context']){_0x4052cd('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0xe4fa0={'retry':this['maxRetries']>0x1534+-0x12c3+0x19*-0x19,'maxRetries':this['maxRetries']};(_0x29a634['startsWith']('blob:')||_0x29a634['startsWith']('data:'))&&(_0xe4fa0['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x29a634,_0xe4fa0,(_0x5752c7,_0x5c2a0d)=>{if(_0x5752c7){_0x4052cd(_0x5752c7);return;}_0x6a876a['context']['decodeAudi'+'oData'](_0x5c2a0d,_0x2c64d3,_0x4052cd);});}else{let _0x30a4c1=null;try{_0x30a4c1=new Audio();}catch{_0x4052cd('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x30a4c1);const _0x4920bd=function(){_0x30a4c1['removeEven'+'tListener']('canplaythr'+'ough',_0x4920bd),Qd&&document['body']['removeChil'+'d'](_0x30a4c1),_0x2c64d3(_0x30a4c1);};_0x30a4c1['onerror']=function(){_0x30a4c1['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x30a4c1),_0x4052cd();},_0x30a4c1['addEventLi'+'stener']('canplaythr'+'ough',_0x4920bd),_0x30a4c1['src']=_0x29a634;}}}class v2 extends Ne{constructor(_0x197f4f){super(_0x197f4f,'binary');}['load'](_0x19d245,_0x194b45){typeof _0x19d245=='string'&&(_0x19d245={'load':_0x19d245,'original':_0x19d245}),$e['get'](_0x19d245['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x15fa+0x4*-0x18+0x1*0x165a,'maxRetries':this['maxRetries']},(_0x17dce2,_0x2fa5e0)=>{_0x17dce2?_0x194b45('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x19d245['original']+'\x20['+_0x17dce2+']'):_0x194b45(null,_0x2fa5e0);});}['openBinary'](_0xd737af){return _0xd737af['buffer'];}}class tr{constructor(_0x1b91e6,_0x489b33,_0x457a69,_0x3fa6f2){const _0x1e0e8e=function(_0x73bf6e,_0x450889,_0x4a1de1){const _0x10dee3=tr['createAsse'+'t'](_0x489b33['name'],_0x73bf6e,_0x450889,_0x4a1de1);return _0x457a69['add'](_0x10dee3),_0x10dee3;},_0x1cdc2e=[];for(let _0x235dab=-0x5*-0x518+0x1e12+0x378a*-0x1;_0x235dab<_0x1b91e6['renders']['length'];++_0x235dab)_0x1cdc2e['push'](_0x1e0e8e('render',_0x1b91e6['renders'][_0x235dab],_0x235dab));const _0x32024a=[];for(let _0x482609=-0x98d*0x2+0x107e*0x1+-0x14e*-0x2;_0x482609<_0x1b91e6['materials']['length'];++_0x482609)_0x32024a['push'](_0x1e0e8e('material',_0x1b91e6['materials'][_0x482609],_0x482609));const _0x25dac1=[];for(let _0x265b66=0x1*0x130f+0xf43*-0x1+-0x1b*0x24;_0x265b66<_0x1b91e6['animations']['length'];++_0x265b66)_0x25dac1['push'](_0x1e0e8e('animation',_0x1b91e6['animations'][_0x265b66],_0x265b66));this['data']=_0x1b91e6,this['_model']=null,this['_assetName']=_0x489b33['name'],this['_assets']=_0x457a69,this['_defaultMa'+'terial']=_0x3fa6f2,this['renders']=_0x1cdc2e,this['materials']=_0x32024a,this['textures']=_0x1b91e6['textures'],this['animations']=_0x25dac1;}get['model'](){if(!this['_model']){const _0x5b69f5=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x5f4b05=tr['createAsse'+'t'](this['_assetName'],'model',_0x5b69f5,0x415*0x3+0xbf7*-0x3+0x7e2*0x3);this['_assets']['add'](_0x5f4b05),this['_model']=_0x5f4b05;}return this['_model'];}static['createAsse'+'t'](_0x584f11,_0x31bb73,_0x3399fb,_0x2966ed){const _0x3a736c=new le(_0x584f11+'/'+_0x31bb73+'/'+_0x2966ed,_0x31bb73,{'url':''});return _0x3a736c['resource']=_0x3399fb,_0x3a736c['loaded']=!(-0x7*0x2da+0x1af*-0x13+0x33f3),_0x3a736c;}['instantiat'+'eModelEnti'+'ty'](_0x322a86){const _0x5d91a4=new We();return _0x5d91a4['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x322a86)),_0x5d91a4;}['instantiat'+'eRenderEnt'+'ity'](_0x152528){const _0x409a8c=this['_defaultMa'+'terial'],_0x1ed542=[],_0x50d07e=function(_0x592f9d,_0x3b6e96,_0x344169,_0x44849b,_0xa8bb2c,_0x10e8aa,_0xdf32dd,_0x4be6a5){const _0x474d18=_0xa8bb2c[_0x344169['id']],_0x4614ec=_0x474d18===void(0x1d2e*-0x1+-0x17a+-0x1b4*-0x12)?_0x409a8c:_0x44849b[_0x474d18],_0x59a99d=new Le(_0x344169,_0x4614ec);_0x344169['morph']&&(_0x59a99d['morphInsta'+'nce']=new fn(_0x344169['morph'])),_0xdf32dd['hasOwnProp'+'erty']('skin')&&_0x1ed542['push']({'meshInstance':_0x59a99d,'rootBone':_0x592f9d,'entity':_0x3b6e96});const _0x27ba22=_0x4be6a5['get'](_0xdf32dd);if(_0x27ba22){const _0x3ed8ed=_0x27ba22['matrices'],_0x488f07=Et['getDefault'+'Instancing'+'Format'](_0x344169['device']),_0x392ebb=new os(_0x344169['device'],_0x488f07,_0x3ed8ed['length']/(-0x371*0x2+0x6c*-0x2b+0x1a*0xf7),{'data':_0x3ed8ed});_0x59a99d['setInstanc'+'ing'](_0x392ebb),_0x59a99d['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x243c+-0x106d+-0x319*-0x11);}return _0x59a99d;},_0x19bdcc=(_0x25cf7f,_0x3e90d1,_0x4d3f50)=>{const _0x27f86e=new We();_0x3e90d1['_cloneInte'+'rnal'](_0x27f86e),_0x25cf7f||(_0x25cf7f=_0x27f86e);let _0x3796a0=null,_0x292355=null;for(let _0x5da569=-0x2*-0xe30+0xb*0x295+0x9*-0x64f;_0x5da569<_0x4d3f50['nodes']['length'];_0x5da569++)if(_0x4d3f50['nodes'][_0x5da569]===_0x3e90d1){const _0x2b9178=_0x4d3f50['gltf']['nodes'][_0x5da569];if(_0x2b9178['hasOwnProp'+'erty']('mesh')){const _0x2fe9a9=_0x4d3f50['renders'][_0x2b9178['mesh']]['meshes'];_0x292355=this['renders'][_0x2b9178['mesh']];for(let _0x1e986b=-0x25e6+0xafb+0x1*0x1aeb;_0x1e986b<_0x2fe9a9['length'];_0x1e986b++){const _0x31897=_0x2fe9a9[_0x1e986b];if(_0x31897){const _0xba6def=_0x50d07e(_0x25cf7f,_0x27f86e,_0x31897,_0x4d3f50['materials'],_0x4d3f50['meshDefaul'+'tMaterials'],_0x4d3f50['skins'],_0x2b9178,_0x4d3f50['nodeInstan'+'cingMap']);_0x3796a0||(_0x3796a0=[]),_0x3796a0['push'](_0xba6def);}}}if(_0x4d3f50['lights']){const _0x3ecfa7=_0x4d3f50['lights']['get'](_0x2b9178);_0x3ecfa7&&_0x27f86e['addChild'](_0x3ecfa7['clone']());}if(_0x4d3f50['cameras']){const _0x52618c=_0x4d3f50['cameras']['get'](_0x2b9178);_0x52618c&&_0x52618c['camera']['system']['cloneCompo'+'nent'](_0x52618c,_0x27f86e);}}_0x3796a0&&(_0x27f86e['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x3796a0},_0x152528)),_0x27f86e['render']['assignAsse'+'t'](_0x292355));const _0x4637da=_0x3e90d1['children'];for(let _0x52d208=0x15d3+-0x67b+-0xf58*0x1;_0x52d208<_0x4637da['length'];_0x52d208++){const _0x23cb69=_0x19bdcc(_0x25cf7f,_0x4637da[_0x52d208],_0x4d3f50);_0x27f86e['addChild'](_0x23cb69);}return _0x27f86e;},_0x17b5f2=[];for(const _0xceb6cb of this['data']['scenes'])_0x17b5f2['push'](_0x19bdcc(null,_0xceb6cb,this['data']));return _0x1ed542['forEach'](_0x4e4f1c=>{_0x4e4f1c['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x4e4f1c['meshInstan'+'ce']['mesh']['skin'],_0x4e4f1c['rootBone'],_0x4e4f1c['entity']),_0x4e4f1c['meshInstan'+'ce']['node']['render']['rootBone']=_0x4e4f1c['rootBone'];}),tr['createScen'+'eHierarchy'](_0x17b5f2,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x1a6782,_0x2f2609){const _0x39ebae=_0x2f2609?this['data']['variants'][_0x2f2609]:null;if(_0x39ebae===void(0x1954+-0x12*-0xac+-0x14*0x1df)){v['warn']('No\x20variant'+'\x20named\x20'+_0x2f2609+('\x20exists\x20in'+'\x20resource'));return;}const _0x3dc2af=_0x1a6782['findCompon'+'ents']('render');for(let _0x17467b=0x1ab8+0x1125+0x39*-0xc5;_0x17467b<_0x3dc2af['length'];_0x17467b++){const _0x275c8f=_0x3dc2af[_0x17467b];this['_applyMate'+'rialVarian'+'t'](_0x39ebae,_0x275c8f['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x3512bd,_0x5c3e12){const _0x1d27e4=_0x5c3e12?this['data']['variants'][_0x5c3e12]:null;if(_0x1d27e4===void(0x2081+-0xb*0x38b+0x24*0x2e)){v['warn']('No\x20variant'+'\x20named\x20'+_0x5c3e12+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x1d27e4,_0x3512bd);}['_applyMate'+'rialVarian'+'t'](_0x48dd19,_0x4672d9){_0x4672d9['forEach'](_0x21511f=>{if(_0x48dd19===null)_0x21511f['material']=this['_defaultMa'+'terial'];else{const _0xce6e33=this['data']['meshVarian'+'ts'][_0x21511f['mesh']['id']];_0xce6e33&&(_0x21511f['material']=this['data']['materials'][_0xce6e33[_0x48dd19]]);}v['assert'](_0x21511f['material']);});}static['createScen'+'eHierarchy'](_0x5353a2,_0x5c971c){let _0x11ea66=null;if(_0x5353a2['length']===-0x12fd*-0x1+-0x3*-0xb4d+-0x34e3)_0x11ea66=_0x5353a2[0x1*-0x13f9+0x1110+-0x1*-0x2e9];else{_0x11ea66=new _0x5c971c('SceneGroup');for(const _0x1060d4 of _0x5353a2)_0x11ea66['addChild'](_0x1060d4);}return _0x11ea66;}static['createMode'+'l'](_0x4a0042,_0x29837d){const _0x1794d7=function(_0x5defa0,_0xa19995,_0x2aa3ab,_0x53607b,_0x5a4fcf,_0x49c827,_0x1d62d7){const _0x7c0138=_0x4a0042['meshDefaul'+'tMaterials'][_0xa19995['id']],_0x5d8c9e=_0x7c0138===void(-0x1adb+-0xa87*-0x1+0x13*0xdc)?_0x29837d:_0x5a4fcf[_0x7c0138],_0x36ced3=new Le(_0xa19995,_0x5d8c9e,_0x49c827);if(_0xa19995['morph']){const _0x8ec546=new fn(_0xa19995['morph']);_0x36ced3['morphInsta'+'nce']=_0x8ec546,_0x5defa0['morphInsta'+'nces']['push'](_0x8ec546);}if(_0x1d62d7['hasOwnProp'+'erty']('skin')){const _0x55e010=_0x1d62d7['skin'],_0x5d05f2=_0x2aa3ab[_0x55e010];_0xa19995['skin']=_0x5d05f2;const _0x2fb8cd=_0x53607b[_0x55e010];_0x36ced3['skinInstan'+'ce']=_0x2fb8cd,_0x5defa0['skinInstan'+'ces']['push'](_0x2fb8cd);}_0x5defa0['meshInstan'+'ces']['push'](_0x36ced3);},_0x2a0ff9=new Oi(),_0x5919ee=[];for(const _0x534180 of _0x4a0042['skins']){const _0x5bddb7=new nl(_0x534180);_0x5bddb7['bones']=_0x534180['bones'],_0x5919ee['push'](_0x5bddb7);}_0x2a0ff9['graph']=tr['createScen'+'eHierarchy'](_0x4a0042['scenes'],De);for(let _0xe239e3=-0x2a*0x4e+-0x21b8+0x2e84;_0xe239e3<_0x4a0042['nodes']['length'];_0xe239e3++){const _0x568836=_0x4a0042['nodes'][_0xe239e3];if(_0x568836['root']===_0x2a0ff9['graph']){const _0x1ecf79=_0x4a0042['gltf']['nodes'][_0xe239e3];if(_0x1ecf79['hasOwnProp'+'erty']('mesh')){const _0x307896=_0x4a0042['renders'][_0x1ecf79['mesh']]['meshes'];for(let _0x5bd477=0xbbf+0x53*-0x29+-0x9*-0x2c;_0x5bd477<_0x307896['length'];_0x5bd477++){const _0x3cbbeb=_0x307896[_0x5bd477];_0x3cbbeb&&_0x1794d7(_0x2a0ff9,_0x3cbbeb,_0x4a0042['skins'],_0x5919ee,_0x4a0042['materials'],_0x568836,_0x1ecf79);}}}}return _0x2a0ff9;}['destroy'](){const _0xc72238=this['_assets'],_0x1976ae=function(_0xc93110){_0xc72238['remove'](_0xc93110),_0xc93110['unload']();},_0x1f7770=function(_0x43c247){_0x43c247['forEach'](_0x9b3953=>{_0x1976ae(_0x9b3953);});};this['animations']&&(_0x1f7770(this['animations']),this['animations']=null),this['textures']&&(_0x1f7770(this['textures']),this['textures']=null),this['materials']&&(_0x1f7770(this['materials']),this['materials']=null),this['renders']&&(_0x1f7770(this['renders']),this['renders']=null),this['_model']&&(_0x1976ae(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0xc983e0,_0x124284,_0x4c7b1c){this['_device']=_0xc983e0,this['_assets']=_0x124284,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x4c7b1c;}['_getUrlWit'+'houtParams'](_0x428d80){return _0x428d80['indexOf']('?')>=-0x1*-0x2164+0x214b+-0x42af?_0x428d80['split']('?')[-0x11*0x12a+0x1a98+-0x6ce]:_0x428d80;}['load'](_0x15929a,_0x9fc73d,_0x2b9043){le['fetchArray'+'Buffer'](_0x15929a['load'],(_0x2eac47,_0x18ca3b)=>{_0x2eac47?_0x9fc73d(_0x2eac47):tc['parse'](this['_getUrlWit'+'houtParams'](_0x15929a['original']),fe['extractPat'+'h'](_0x15929a['load']),_0x18ca3b,this['_device'],_0x2b9043['registry'],_0x2b9043['options'],(_0x1c4929,_0x62719)=>{_0x1c4929?_0x9fc73d(_0x1c4929):_0x9fc73d(null,new tr(_0x62719,_0x2b9043,this['_assets'],this['_defaultMa'+'terial']));});},_0x2b9043,this['maxRetries']);}['open'](_0x36f37a,_0x1dde97,_0x2bb1e6){return _0x1dde97;}['patch'](_0x2ba210,_0x560ff3){}}class w2 extends Ne{constructor(_0x1b3836){super(_0x1b3836,'container'),this['glbContain'+'erParser']=new b2(_0x1b3836['graphicsDe'+'vice'],_0x1b3836['assets'],-0x439*0x1+-0x1*0xb48+0x237*0x7),this['parsers']={};}set['maxRetries'](_0x2de585){this['glbContain'+'erParser']['maxRetries']=_0x2de585;for(const _0x329817 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x329817)&&(this['parsers'][_0x329817]['maxRetries']=_0x2de585);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x37ef07){return _0x37ef07['indexOf']('?')>=-0x1a89+0xafd+-0xf8c*-0x1?_0x37ef07['split']('?')[0x3ae*-0x2+0x2b3*-0xb+0x250d]:_0x37ef07;}['_getParser'](_0x548d89){const _0x277dfc=_0x548d89?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x548d89))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x277dfc]||this['glbContain'+'erParser'];}['load'](_0xcad1a9,_0x5781fd,_0x2e3efa){typeof _0xcad1a9=='string'&&(_0xcad1a9={'load':_0xcad1a9,'original':_0xcad1a9}),this['_getParser'](_0xcad1a9['original'])['load'](_0xcad1a9,_0x5781fd,_0x2e3efa);}['open'](_0x20852a,_0x5cd807,_0x19034e){return this['_getParser'](_0x20852a)['open'](_0x20852a,_0x5cd807,_0x19034e);}}class T2 extends Ne{constructor(_0x5b2237){super(_0x5b2237,'css'),c(this,'decoder',null);}['load'](_0x4559e1,_0x3833c4){typeof _0x4559e1=='string'&&(_0x4559e1={'load':_0x4559e1,'original':_0x4559e1}),$e['get'](_0x4559e1['load'],{'retry':this['maxRetries']>-0x7*0x49f+-0x15c7+0x3620,'maxRetries':this['maxRetries']},(_0x4812d5,_0x5f50f8)=>{_0x4812d5?_0x3833c4('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x4559e1['original']+'\x20['+_0x4812d5+']'):_0x3833c4(null,_0x5f50f8);});}['openBinary'](_0x316ea9){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x316ea9);}}class A2 extends Ne{constructor(_0x4ba996){super(_0x4ba996,'cubemap'),this['_device']=_0x4ba996['graphicsDe'+'vice'],this['_registry']=_0x4ba996['assets'],this['_loader']=_0x4ba996['loader'];}['load'](_0x503204,_0x566488,_0x12ad63){this['loadAssets'](_0x12ad63,_0x566488);}['open'](_0xb2c4d8,_0x3a5223,_0x585b0c){return _0x585b0c?_0x585b0c['resource']:null;}['patch'](_0x22f638,_0x2b2a81){this['loadAssets'](_0x22f638,(_0x10ad05,_0x133b74)=>{_0x10ad05&&(_0x2b2a81['fire']('error',_0x22f638),_0x2b2a81['fire']('error:'+_0x22f638['id'],_0x10ad05,_0x22f638),_0x22f638['fire']('error',_0x22f638));});}['getAssetId'+'s'](_0x542d28){const _0x350091=[];if(_0x350091[0x1bec+0x1c74+-0x3860]=_0x542d28['file'],(_0x542d28['loadFaces']||!_0x542d28['file'])&&_0x542d28['data']&&_0x542d28['data']['textures']){for(let _0x1c53d7=-0x3*0x27d+-0x1012+0x1789;_0x1c53d7<0x1ebb+0x3*0xda+-0x2143;++_0x1c53d7)_0x350091[_0x1c53d7+(-0x5*-0x72f+0x3*0x23+-0x2453)]=_0x542d28['data']['textures'][_0x1c53d7];}else _0x350091[-0x1d66+0x17d7*0x1+0x590]=_0x350091[0x1*-0x20db+-0x4*-0x1c6+0x19c5]=_0x350091[-0x19c2+-0x1345*-0x1+-0x340*-0x2]=_0x350091[0x5*0x716+-0x1d39+-0x631]=_0x350091[-0x71*-0x18+-0x1*0x24f+0x211*-0x4]=_0x350091[-0x1691+-0x2*0xa8b+0x2bad*0x1]=null;return _0x350091;}['compareAss'+'etIds'](_0x547b6d,_0x5c9bfd){return _0x547b6d&&_0x5c9bfd?parseInt(_0x547b6d,-0x13c3*-0x1+-0xeda*-0x1+0x1*-0x2293)===_0x547b6d||typeof _0x547b6d=='string'?_0x547b6d===_0x5c9bfd:_0x547b6d['url']===_0x5c9bfd['url']:_0x547b6d!==null==(_0x5c9bfd!==null);}['update'](_0x99e21e,_0x470283,_0x2f7e7d){const _0x2ce2f=_0x99e21e['data']||{},_0xcf3ca9=_0x99e21e['_handlerSt'+'ate']['assets'],_0x1eec2e=_0x99e21e['_resources'];let _0x705b6,_0x49fd10,_0x545a0a;const _0x108fe8=[null,null,null,null,null,null,null],_0x16e75a=function(){return _0x2ce2f['hasOwnProp'+'erty']('type')?_0x2ce2f['type']:_0x2ce2f['hasOwnProp'+'erty']('rgbm')?_0x2ce2f['rgbm']?on:Di:null;};if(!_0x99e21e['loaded']||_0x2f7e7d[-0x24ec+-0x532+-0x1*-0x2a1e]!==_0xcf3ca9[-0x3e6*-0x4+-0x1*0x19d6+0xa3e]){if(_0x2f7e7d[-0xab7+-0x1203+-0x2*-0xe5d]){if(_0x705b6=_0x2f7e7d[0xf19+0x41b*-0x4+-0x153*-0x1]['resource'],_0x705b6['cubemap']){for(_0x545a0a=0x1f32+-0x2633+0x701;_0x545a0a<0x24cf+0x1*0x7ae+0x1*-0x2c77;++_0x545a0a)_0x108fe8[_0x545a0a+(0x4fd+0x1206+-0x5f*0x3e)]=new he(this['_device'],{'name':_0x99e21e['name']+('_prelitCub'+'emap')+(_0x705b6['width']>>_0x545a0a),'cubemap':!(-0x1fbc+0x1*-0x421+0x23dd),'type':_0x16e75a()||_0x705b6['type'],'width':_0x705b6['width']>>_0x545a0a,'height':_0x705b6['height']>>_0x545a0a,'format':_0x705b6['format'],'levels':[_0x705b6['_levels'][_0x545a0a]],'addressU':ae,'addressV':ae,'mipmaps':_0x545a0a===-0x1*0x5ff+-0x3b3*-0xa+-0x211*0xf});}else _0x108fe8[-0x46*-0x39+0x192b+-0x28c0]=_0x705b6;}}else _0x108fe8[0x1*0x1391+-0x1c5*0x10+0x1c*0x50]=_0x1eec2e[-0x53*0x12+0x1*-0x1fe7+0x12df*0x2]||null,_0x108fe8[0x7c1*-0x1+-0x1f0+0xbf*0xd]=_0x1eec2e[-0x781*0x1+-0x5f8+0x7*0x1ed]||null,_0x108fe8[-0x21a7+0xd7*-0x2d+0x4775]=_0x1eec2e[-0x1c96+-0x217c+0x3e15]||null,_0x108fe8[-0x1*-0x14f7+-0x855+-0xc9e]=_0x1eec2e[0xcc7+-0x1*-0x15e1+0x1*-0x22a4]||null,_0x108fe8[-0xda1+-0x1*-0x1e7c+-0xa*0x1af]=_0x1eec2e[0x1283+-0x615*0x6+0x1200]||null,_0x108fe8[0x2dd*0x2+0x26da+0x6*-0x76d]=_0x1eec2e[-0x46*0x3d+-0x329+0x13dd]||null;const _0x1652f0=_0x2f7e7d['slice'](0x541+-0x102*-0x13+-0x1866);if(!_0x99e21e['loaded']||!this['cmpArrays'](_0x1652f0,_0xcf3ca9['slice'](0x2*0x3a6+0x870+-0xfbb))){if(_0x1652f0['indexOf'](null)===-(0x2692+-0x1d28+0x49*-0x21)){const _0x163a92=_0x1652f0['map'](_0x34be11=>_0x34be11['resource']),_0x143896=[];for(_0x49fd10=0x194a+-0x509*0x4+-0x526*0x1;_0x49fd10<_0x163a92[-0x1*0x2605+0x1*0x2691+-0x8c]['_levels']['length'];++_0x49fd10)_0x143896['push'](_0x163a92['map'](_0x4892b1=>_0x4892b1['_levels'][_0x49fd10]));const _0x265f22=_0x163a92[-0x1a3b*0x1+0x3*-0x671+0x2ae*0x11]['format'],_0x4cfa54=new he(this['_device'],{'name':_0x99e21e['name']+'_faces','cubemap':!(0xd51*-0x2+-0x1e4+-0x1*-0x1c86),'type':_0x16e75a()||_0x163a92[-0x1e0f+0xf24+0xeeb]['type'],'width':_0x163a92[0x124c+-0x1cb7+0xa6b]['width'],'height':_0x163a92[0x1d71+-0x21e2*-0x1+0x3f53*-0x1]['height'],'format':_0x265f22===dr?Se:_0x265f22,'mipmaps':_0x2ce2f['mipmaps']??!(-0xcf8*0x2+-0x1e80+0x3870),'levels':_0x143896,'minFilter':_0x2ce2f['hasOwnProp'+'erty']('minFilter')?_0x2ce2f['minFilter']:_0x163a92[0xb*0x220+0x1751+-0x2eb1]['minFilter'],'magFilter':_0x2ce2f['hasOwnProp'+'erty']('magFilter')?_0x2ce2f['magFilter']:_0x163a92[-0x20*0x3d+0xef9+-0x759]['magFilter'],'anisotropy':_0x2ce2f['hasOwnProp'+'erty']('anisotropy')?_0x2ce2f['anisotropy']:0x16df+-0x63f*0x6+-0xdc*-0x11,'addressU':ae,'addressV':ae});_0x108fe8[-0x133+-0x1186+0x12b9]=_0x4cfa54;}}else _0x108fe8[-0x1df2+-0x1910+0x3702]=_0x1eec2e[-0x70c*-0x4+-0x9d*-0x10+-0x2600]||null;if(!this['cmpArrays'](_0x108fe8,_0x1eec2e)){for(_0x99e21e['resources']=_0x108fe8,_0x99e21e['_handlerSt'+'ate']['assetIds']=_0x470283,_0x99e21e['_handlerSt'+'ate']['assets']=_0x2f7e7d,_0x545a0a=0x1e9b+-0xeb3+-0xfe8;_0x545a0a<_0x1eec2e['length'];++_0x545a0a)_0x1eec2e[_0x545a0a]!==null&&_0x108fe8['indexOf'](_0x1eec2e[_0x545a0a])===-(0x8*-0x4a2+0x22fd+0x214)&&_0x1eec2e[_0x545a0a]['destroy']();}for(_0x545a0a=-0x17c6+0x182a+-0x64;_0x545a0a<_0xcf3ca9['length'];++_0x545a0a)_0xcf3ca9[_0x545a0a]!==null&&_0x2f7e7d['indexOf'](_0xcf3ca9[_0x545a0a])===-(-0x198c+0xb1*0x31+-0x854)&&_0xcf3ca9[_0x545a0a]['unload']();}['cmpArrays'](_0x1bd1a7,_0x108072){if(_0x1bd1a7['length']!==_0x108072['length'])return!(-0x1261+0x101b+0x247);for(let _0x118412=0x1f1*-0xe+0x7d+0x1ab1;_0x118412<_0x1bd1a7['length'];++_0x118412)if(_0x1bd1a7[_0x118412]!==_0x108072[_0x118412])return!(-0x1*0x28d+-0x1*0x6b1+0x93f);return!(0x7*0x2c+-0x16+-0x2*0x8f);}['resolveId'](_0x178521){const _0x28e4d3=parseInt(_0x178521,-0xda7+0x239d+-0x4*0x57b);return _0x28e4d3===_0x178521||_0x28e4d3['toString']()===_0x178521?_0x28e4d3:_0x178521;}['loadAssets'](_0x4ad008,_0x25de69){_0x4ad008['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x4ad008['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x44f7e1=this,_0x20fba7=_0x44f7e1['getAssetId'+'s'](_0x4ad008),_0x5bb142=[null,null,null,null,null,null,null],_0x47b355=_0x4ad008['_handlerSt'+'ate']['assetIds'],_0x48372f=_0x4ad008['_handlerSt'+'ate']['assets'],_0x99a63=_0x44f7e1['_registry'];let _0x3b5afa=-0x26b7+-0x6bc+-0x1*-0x2d7a;const _0xc737d9=function(_0x2e7f9a,_0x35395f){_0x5bb142[_0x2e7f9a]=_0x35395f,_0x3b5afa--,_0x3b5afa===0x2b*-0xb3+-0x2302+0x269*0x1b&&(_0x44f7e1['update'](_0x4ad008,_0x20fba7,_0x5bb142),_0x25de69(null,_0x4ad008['resources']));},_0x1643d8=function(_0x4c8c47,_0x2fbfa9,_0x451cd7){_0x25de69(_0x2fbfa9);},_0x3caff7=function(_0x5ddf99,_0x2ca919){_0x2ca919['loaded']?_0xc737d9(_0x5ddf99,_0x2ca919):(_0x99a63['once']('load:'+_0x2ca919['id'],_0xc737d9['bind'](_0x44f7e1,_0x5ddf99)),_0x99a63['once']('error:'+_0x2ca919['id'],_0x1643d8['bind'](_0x44f7e1,_0x5ddf99)),_0x2ca919['loading']||_0x99a63['load'](_0x2ca919));};let _0x3e0e8f;for(let _0x17a255=-0x71*0x1f+0x17a5+-0x9f6;_0x17a255<-0x598*-0x1+0x5b*-0x3f+0x10d4;++_0x17a255){const _0x5979e7=this['resolveId'](_0x20fba7[_0x17a255]);if(!_0x5979e7)_0xc737d9(_0x17a255,null);else{if(_0x44f7e1['compareAss'+'etIds'](_0x5979e7,_0x47b355[_0x17a255]))_0x3caff7(_0x17a255,_0x48372f[_0x17a255]);else{if(parseInt(_0x5979e7,-0x33*0x8d+0x2502+-0x8e1*0x1)===_0x5979e7)_0x3e0e8f=_0x99a63['get'](_0x5979e7),_0x3e0e8f?_0x3caff7(_0x17a255,_0x3e0e8f):setTimeout(((_0x1b36a2,_0x5ef560)=>{const _0x11c0ab=_0x99a63['get'](_0x5ef560);_0x11c0ab?_0x3caff7(_0x1b36a2,_0x11c0ab):_0x1643d8(_0x1b36a2,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x5ef560);})['bind'](null,_0x17a255,_0x5979e7));else{const _0x3670a6=typeof _0x5979e7=='string'?{'url':_0x5979e7,'filename':_0x5979e7}:_0x5979e7,_0x386e97=_0x3670a6['url']['search']('.dds')===-(0x1376+-0x124*-0x1d+0x1183*-0x3)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0xc8f+-0x23e8+0x31*0x7a)}:null;_0x3e0e8f=new le(_0x4ad008['name']+'_part_'+_0x17a255,'texture',_0x3670a6,_0x386e97),_0x99a63['add'](_0x3e0e8f),_0x3caff7(_0x17a255,_0x3e0e8f);}}}}}}class E2 extends Ne{constructor(_0x1dbbd2){super(_0x1dbbd2,'folder');}['load'](_0x5c2b0f,_0x4af653){_0x4af653(null,null);}}class Ng{constructor(_0x5d22e9,_0x3658dd){this['type']=_0x3658dd&&_0x3658dd['type']||Kh,this['em']=0x18fa+-0xa13*-0x2+-0x1*0x2d1f,this['textures']=_0x5d22e9,this['intensity']=0x2*0x4c1+-0x19fc+0x26*0x6f,this['_data']=null,this['data']=_0x3658dd;}set['data'](_0x3a5216){if(this['_data']=_0x3a5216,!!_0x3a5216&&(this['_data']['intensity']!==void(0x3d4+0x7*0x3fd+-0x1fbf*0x1)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x238d*-0x1+0x4c2+0x1ecd)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x5ef52f in this['_data']['chars'])this['_data']['chars'][_0x5ef52f]['map']=-0x50b+-0x26a*-0x1+0x2a1;}}get['data'](){return this['_data'];}}function Jd(_0x1df846){return _0x1df846['version']<-0x175d*-0x1+0xc8e+-0x6*0x5fc&&(_0x1df846['version']<0x3*-0x529+0x19ef+-0xa72&&(_0x1df846['info']['maps']=_0x1df846['info']['maps']||[{'width':_0x1df846['info']['width'],'height':_0x1df846['info']['height']}]),_0x1df846['chars']=Object['keys'](_0x1df846['chars']||{})['reduce']((_0x102e91,_0x551143)=>{const _0x104150=_0x1df846['chars'][_0x551143],_0x520391=_0x104150['letter']!==void(-0x10b1+0xd4c+-0x1*-0x365)?_0x104150['letter']:ah['fromCodePo'+'int'](_0x551143);return _0x1df846['version']<0x1*-0x2603+0x1502*-0x1+0x3b07&&(_0x104150['map']=_0x104150['map']||0x13f2+-0x1565+-0x35*-0x7),_0x102e91[_0x520391]=_0x104150,_0x102e91;},{}),_0x1df846['version']=0x79c*0x4+0x2295*-0x1+0x428),_0x1df846;}class C2 extends Ne{constructor(_0x1c8b49){super(_0x1c8b49,'font'),this['_loader']=_0x1c8b49['loader'],this['maxRetries']=0x7*0x91+-0x8c4+-0x1*-0x4cd;}['load'](_0x481d32,_0xc516e2,_0x4b11e8){typeof _0x481d32=='string'&&(_0x481d32={'load':_0x481d32,'original':_0x481d32});const _0x47df0f=this;fe['getExtensi'+'on'](_0x481d32['original'])==='.json'?$e['get'](_0x481d32['load'],{'retry':this['maxRetries']>0x269*-0x7+0x919+0x7c6,'maxRetries':this['maxRetries']},(_0x1db5e7,_0x4358a1)=>{if(_0x1db5e7)_0xc516e2('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x481d32['original']+'\x20['+_0x1db5e7+']');else{const _0x3d5c60=Jd(_0x4358a1);_0x47df0f['_loadTextu'+'res'](_0x481d32['load']['replace']('.json','.png'),_0x3d5c60,(_0x55b52c,_0x4341a1)=>{_0x55b52c?_0xc516e2(_0x55b52c):_0xc516e2(null,{'data':_0x3d5c60,'textures':_0x4341a1});});}}):(_0x4b11e8&&_0x4b11e8['data']&&(_0x4b11e8['data']=Jd(_0x4b11e8['data'])),this['_loadTextu'+'res'](_0x481d32['load'],_0x4b11e8&&_0x4b11e8['data'],_0xc516e2));}['_loadTextu'+'res'](_0x16fe85,_0x9edf8,_0x26df34){const _0x3bfd8c=_0x9edf8['info']['maps']['length'];let _0xe23527=0x932+-0x1*-0x1dd7+0x1*-0x2709,_0x4b97bc=null;const _0x5c0b5c=new Array(_0x3bfd8c),_0x46567d=this['_loader'],_0x1e3446=function(_0x460ade){const _0x52eb3c=function(_0x20ddac,_0x4831d4){if(!_0x4b97bc){if(_0x20ddac){_0x4b97bc=_0x20ddac,_0x26df34(_0x20ddac);return;}_0x4831d4['upload'](),_0x5c0b5c[_0x460ade]=_0x4831d4,_0xe23527++,_0xe23527===_0x3bfd8c&&_0x26df34(null,_0x5c0b5c);}};_0x460ade===0x301*0x3+0x27*0x37+-0x1164?_0x46567d['load'](_0x16fe85,'texture',_0x52eb3c):_0x46567d['load'](_0x16fe85['replace']('.png',_0x460ade+'.png'),'texture',_0x52eb3c);};for(let _0x359085=0x481*0x7+-0x362+-0x1c25;_0x359085<_0x3bfd8c;_0x359085++)_0x1e3446(_0x359085);}['open'](_0x1a77c8,_0x859f3f,_0x55cc30){let _0x52e2fb;return _0x859f3f['textures']?_0x52e2fb=new Ng(_0x859f3f['textures'],_0x859f3f['data']):_0x52e2fb=new Ng(_0x859f3f,null),_0x52e2fb;}['patch'](_0x481157,_0x376fd1){const _0x4f0768=_0x481157['resource'];!_0x4f0768['data']&&_0x481157['data']?_0x4f0768['data']=_0x481157['data']:!_0x481157['data']&&_0x4f0768['data']&&(_0x481157['data']=_0x4f0768['data']),_0x481157['data']&&(_0x481157['data']=Jd(_0x481157['data']));}}async function M2(){const _0x2d91ae=-0x2*0x41f+-0x203*-0x11+0x1*-0x19f5+0.28209479177387814;class _0x15877f{constructor(_0x22e5d5,_0x3c8feb,_0x2a2388){this['x']=_0x22e5d5,this['y']=_0x3c8feb,this['z']=_0x2a2388;}}class _0x147bbf{constructor(_0x242ddd,_0x4a334b,_0x28a502,_0x29b6ed){this['x']=_0x242ddd,this['y']=_0x4a334b,this['z']=_0x28a502,this['w']=_0x29b6ed;}}class _0x55bdfd{constructor(_0xfdc427,_0x501131,_0x19acec,_0x5a78c5){this['x']=_0xfdc427,this['y']=_0x501131,this['z']=_0x19acec,this['w']=_0x5a78c5;}['set'](_0x312b30,_0x23236e,_0x21275e,_0xf2df43){this['x']=_0x312b30,this['y']=_0x23236e,this['z']=_0x21275e,this['w']=_0xf2df43;}}class _0x2cacbc{constructor(_0x2bb5db,_0x575d2f,_0x538b56,_0x5eee6e,_0x51d7e2,_0x23f49f,_0x3d90d2,_0xf18d99,_0x4d1b26,_0x58591d,_0x253644,_0x650260){const _0x5b31ee=(_0x32ed66,_0x146973)=>{const _0x33de21=(-0x2*-0xe2c+0x26d5+-0x432c<<_0x146973)-(0x2456+-0x18d7+-0x5bf*0x2);return(_0x32ed66&_0x33de21)/_0x33de21;},_0x12b30c=(_0x470a26,_0x43d876)=>{_0x470a26['x']=_0x5b31ee(_0x43d876>>>0x1237+-0x789*-0x1+0x19ab*-0x1,-0x2287+-0x1*0x1ca9+0x3f3b),_0x470a26['y']=_0x5b31ee(_0x43d876>>>0x1c26+-0x68b+-0x1590,0x10c7*-0x1+0x3d6*0xa+-0x158b),_0x470a26['z']=_0x5b31ee(_0x43d876,0x1a0e+-0x1706+0x5*-0x99);},_0x1fb37a=(_0x1dae6e,_0x3058a4)=>{_0x1dae6e['x']=_0x5b31ee(_0x3058a4>>>0x4c1+0xc2*-0x4+0x1*-0x1a1,-0x9*0x121+0x224c+-0xbb*0x21),_0x1dae6e['y']=_0x5b31ee(_0x3058a4>>>-0xdc*0x1b+0x1*0x1ded+-0x6a9,-0x1a99+0xb*-0x112+-0x3*-0xccd),_0x1dae6e['z']=_0x5b31ee(_0x3058a4>>>0xbf*0x2c+-0x1d*-0x9d+-0x3295,-0x2356+0x31*-0x43+0x3031),_0x1dae6e['w']=_0x5b31ee(_0x3058a4,-0x1*-0x1c31+0x25f7+-0x844*0x8);},_0x584892=(_0x20cf75,_0x1696d7)=>{const _0x5b5eaf=(0x1b*-0xba+-0x1281*0x1+0x2620)/(Math['sqrt'](0x54b*0x3+-0x1a*-0x3b+-0xc1*0x1d)*(0x1a89+-0x481*0x3+-0xd06*0x1+0.5)),_0x1d13e5=(_0x5b31ee(_0x1696d7>>>0x6*0x3df+0xc09*0x1+-0x232f,0x17*-0x1b2+0x1d55+0x9b3)-(0x639+0xb*0x1e7+-0x1b26+0.5))*_0x5b5eaf,_0x450158=(_0x5b31ee(_0x1696d7>>>-0x792+0x1800+-0x1064,-0x7*-0x133+-0x2422+0x1bc7)-(0x5*-0x1b4+-0xccb+0x154f*0x1+0.5))*_0x5b5eaf,_0x1bdcf5=(_0x5b31ee(_0x1696d7,-0x1*0xec1+0x1*-0x2494+-0x1*-0x335f)-(-0x189*-0x3+0xc98+-0x11*0x103+0.5))*_0x5b5eaf,_0xd85a84=Math['sqrt'](-0x581*-0x1+0x294+-0x814-(_0x1d13e5*_0x1d13e5+_0x450158*_0x450158+_0x1bdcf5*_0x1bdcf5));switch(_0x1696d7>>>0x1*-0x1ff3+0x40f*0x5+0xbc6*0x1){case 0x254e+-0x5+-0x2549:_0x20cf75['set'](_0x1d13e5,_0x450158,_0x1bdcf5,_0xd85a84);break;case 0x647+0x3*0xb29+0x1*-0x27c1:_0x20cf75['set'](_0xd85a84,_0x450158,_0x1bdcf5,_0x1d13e5);break;case 0x1*0x5d+-0x138e+-0x3d7*-0x5:_0x20cf75['set'](_0x450158,_0xd85a84,_0x1bdcf5,_0x1d13e5);break;case-0x4af+-0x837*0x2+0x8*0x2a4:_0x20cf75['set'](_0x450158,_0x1bdcf5,_0xd85a84,_0x1d13e5);break;}},_0x5cd069=(_0x5b8641,_0x14c8f3,_0xf3da7e)=>_0x5b8641*(0x60*-0x1f+0x53*-0x1e+0x4d*0x47-_0xf3da7e)+_0x14c8f3*_0xf3da7e,_0x14080c=[0x56c+-0x248b+0x1f22,0x8*-0x2a5+0x153e+-0x1*0xe,-0x13ae+0x12b8+0x105][_0x51d7e2-(0x21ca+-0x13b5+-0x22*0x6a)],_0x55fa40=0xbe*0xa+0x129+-0x88f;this['read']=_0x492311=>{const _0x57ac3b=Math['floor'](_0x492311/(0x1cc8+0x1271+-0x2e39))*_0x575d2f;if(_0x23f49f&&(_0x12b30c(_0x23f49f,_0x538b56[_0x492311*_0x55fa40+(-0x8c3+-0xbe0+0x9*0x24b)]),_0x23f49f['x']=_0x5cd069(_0x2bb5db[_0x57ac3b+(-0x1669+-0x235d+0x6*0x9a1)],_0x2bb5db[_0x57ac3b+(0x231+0x2f*-0x29+0x559)],_0x23f49f['x']),_0x23f49f['y']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0x618+-0xf3*-0x26+-0x2a29)],_0x2bb5db[_0x57ac3b+(0x7ac*0x4+0x7*0xbd+0x19*-0x16f)],_0x23f49f['y']),_0x23f49f['z']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0x1c3f+-0x21ef+0x5b2)],_0x2bb5db[_0x57ac3b+(0x2*0x169+-0x1*-0x18c1+-0x1b8e)],_0x23f49f['z'])),_0x3d90d2&&_0x584892(_0x3d90d2,_0x538b56[_0x492311*_0x55fa40+(-0xabe+-0xa2b*-0x1+0x4a*0x2)]),_0xf18d99&&(_0x12b30c(_0xf18d99,_0x538b56[_0x492311*_0x55fa40+(-0x1b*-0x11f+-0xfae+-0xe95)]),_0xf18d99['x']=_0x5cd069(_0x2bb5db[_0x57ac3b+(-0x1008+-0x227*0x5+0x1ad1)],_0x2bb5db[_0x57ac3b+(-0x152*0xa+0x1404+-0x6c7)],_0xf18d99['x']),_0xf18d99['y']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0x759+-0x152a+0xdd8)],_0x2bb5db[_0x57ac3b+(0x2e8+-0x3a9*0xa+0x21bc)],_0xf18d99['y']),_0xf18d99['z']=_0x5cd069(_0x2bb5db[_0x57ac3b+(-0xa*-0xab+-0x524+0x182*-0x1)],_0x2bb5db[_0x57ac3b+(0x4*0x57e+-0x4f*0x1a+-0xde7)],_0xf18d99['z'])),_0x4d1b26&&(_0x1fb37a(_0x4d1b26,_0x538b56[_0x492311*_0x55fa40+(0xaf1*-0x2+0x6e6+0xeff)]),_0x575d2f>-0x1*0x2182+0xc16+0x18*0xe5&&(_0x4d1b26['x']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0x2*-0xdfb+0xfe5*-0x2+0x3bcc)],_0x2bb5db[_0x57ac3b+(-0x148b+-0x1*-0x2b3+0x11e7)],_0x4d1b26['x']),_0x4d1b26['y']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0x445+0x8d3+-0x459*0x3)],_0x2bb5db[_0x57ac3b+(0xe2*-0x19+0x178f+-0x16d*0x1)],_0x4d1b26['y']),_0x4d1b26['z']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0xe15+-0x11f0+0x3e9)],_0x2bb5db[_0x57ac3b+(0x1*0x165d+-0x1ab*0x3+0xe9*-0x13)],_0x4d1b26['z']))),_0x58591d&&(_0x12b30c(_0x58591d,_0x538b56[_0x492311*_0x55fa40+(-0x74a+-0x1b73+-0x1f*-0x11f)]),_0x58591d['x']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0xc8c*0x1+-0x1b7d+0x1ab*0x9)],_0x2bb5db[_0x57ac3b+(-0x4f4*0x1+-0x2236+-0x11*-0x24f)],_0x58591d['x']),_0x58591d['y']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0x1*-0x26f6+-0x1*-0x5a+0x1*0x26af)],_0x2bb5db[_0x57ac3b+(-0x182a+0xd*-0x19+0x1985)],_0x58591d['y']),_0x58591d['z']=_0x5cd069(_0x2bb5db[_0x57ac3b+(-0x2*-0x243+0x81f+-0xc91)],_0x2bb5db[_0x57ac3b+(-0x5*0x283+-0x1bf*0xe+0x8*0x4a3)],_0x58591d['z'])),_0x253644&&(_0x12b30c(_0x253644,_0x538b56[_0x492311*_0x55fa40+(-0x1b62+0x1b9f+-0x38)]),_0x253644['x']=_0x5cd069(_0x2bb5db[_0x57ac3b+(0x132d+-0x1dc0+0x1*0xaab)],_0x2bb5db[_0x57ac3b+(-0x1*0x2f0+-0x4be+0x1*0x7c7)],_0x253644['x']),_0x253644['y']=_0x5cd069(_0x2bb5db[_0x57ac3b+(-0x33*-0x26+-0x3e2*0x7+0x1d*0xae)],_0x2bb5db[_0x57ac3b+(-0x2*-0x469+0x3b9+-0xc70)],_0x253644['y'])),_0x650260&&_0x51d7e2>-0x2*-0x41b+-0xa0a+-0x24*-0xd){for(let _0x197706=0x1771+-0x166d+-0x104;_0x197706<0x1afc+-0x4*0x36d+-0x1*0xd45;++_0x197706)for(let _0x3e8b73=-0x1*0x949+-0x22f8*0x1+-0x1*-0x2c41;_0x3e8b73<-0x3*0x27c+-0xbe9*-0x3+-0x1c38;++_0x3e8b73)_0x650260[_0x197706*(-0x1*-0x1316+0x15a8+-0x28af)+_0x3e8b73]=_0x3e8b73<_0x14080c?_0x5eee6e[(_0x492311*(-0x4*0x79f+0x40e+0x1*0x1a71)+_0x197706)*_0x14080c+_0x3e8b73]*((-0xd*0x13+-0x2*0x12cd+0x2699)/(-0x1644+-0x1*0xb2b+0x226e))-(-0x1*-0x2473+0x1a8b*-0x1+-0xc*0xd3):-0x18ea*0x1+-0x755+0x203f;}};}}self['onmessage']=async _0x557f3f=>{const {data:_0x2780a5}=_0x557f3f;switch(_0x2780a5['type']){case'initWorker':break;case'decompress':_0x34dbc3(_0x2780a5['numSplats'],_0x2780a5['chunkData'],_0x2780a5['chunkSize'],_0x2780a5['vertexData'],_0x2780a5['shData'],_0x2780a5['shBands']);break;}};const _0x34dbc3=(_0x125f15,_0x22673e,_0x25d6c1,_0x573a7d,_0x15aa1d,_0x543c97)=>{const _0x2e040a=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x543c97>0x1c49+-0x1b74*0x1+-0xd5){const _0x5a978b=[];for(let _0x58a864=-0x8a5*0x1+-0x89*0x3b+0x2838;_0x58a864<0x1f19+0x1143+-0x302f;++_0x58a864)_0x5a978b['push']('f_rest_'+_0x58a864);_0x2e040a['splice'](_0x2e040a['indexOf']('f_dc_0')+(0xa7*-0x2+0x869*-0x1+0x8*0x137),-0x71*-0x57+-0x2546+-0x121,..._0x5a978b);}const _0x568e54={};_0x2e040a['forEach'](_0x3a3a5f=>{_0x568e54[_0x3a3a5f]=new Float32Array(_0x125f15);}),console['log']('decompress');const _0xdb9cc3=new _0x15877f(),_0x471e1b=new _0x55bdfd(),_0x1e93f0=new _0x15877f(),_0x22504c=new _0x147bbf(),_0x400325=new _0x15877f(),_0x5f307e=new _0x15877f(),_0x32fe4f=_0x543c97>0x3*0x5bd+-0x485*0x3+-0x1a*0x24?new Float32Array(-0x1821+0x165d+0x1f1):null,_0x60f740=new _0x2cacbc(_0x22673e,_0x25d6c1,_0x573a7d,_0x15aa1d,_0x543c97,_0xdb9cc3,_0x471e1b,_0x1e93f0,_0x22504c,_0x400325,_0x5f307e,_0x32fe4f);for(let _0x43f4b3=0x7*-0x47b+0x11ff*-0x1+0x315c;_0x43f4b3<_0x125f15;++_0x43f4b3)if(_0x60f740['read'](_0x43f4b3),_0x568e54['x'][_0x43f4b3]=_0xdb9cc3['x'],_0x568e54['y'][_0x43f4b3]=_0xdb9cc3['y'],_0x568e54['z'][_0x43f4b3]=_0xdb9cc3['z'],_0x568e54['rot_1'][_0x43f4b3]=_0x471e1b['x'],_0x568e54['rot_2'][_0x43f4b3]=_0x471e1b['y'],_0x568e54['rot_3'][_0x43f4b3]=_0x471e1b['z'],_0x568e54['rot_0'][_0x43f4b3]=_0x471e1b['w'],_0x568e54['scale_0'][_0x43f4b3]=_0x1e93f0['x'],_0x568e54['scale_1'][_0x43f4b3]=_0x1e93f0['y'],_0x568e54['scale_2'][_0x43f4b3]=_0x1e93f0['z'],_0x568e54['motion_0'][_0x43f4b3]=_0x400325['x'],_0x568e54['motion_1'][_0x43f4b3]=_0x400325['y'],_0x568e54['motion_2'][_0x43f4b3]=_0x400325['z'],_0x568e54['t_scale'][_0x43f4b3]=_0x5f307e['x'],_0x568e54['t'][_0x43f4b3]=_0x5f307e['y'],_0x568e54['f_dc_0'][_0x43f4b3]=(_0x22504c['x']-(-0x1*-0x620+0x80d*-0x2+0x9fa+0.5))/_0x2d91ae,_0x568e54['f_dc_1'][_0x43f4b3]=(_0x22504c['y']-(-0x19b*-0x4+-0x1cdb+0x1*0x166f+0.5))/_0x2d91ae,_0x568e54['f_dc_2'][_0x43f4b3]=(_0x22504c['z']-(0x1*0x1f18+0x157*0x10+0xa4*-0x52+0.5))/_0x2d91ae,_0x568e54['opacity'][_0x43f4b3]=_0x22504c['w']<=0x58+-0x790+0x738?-(-0xa50+0xe1*0x1b+-0xd43):_0x22504c['w']>=0x2345*0x1+-0xa34+0x644*-0x4?-0xc9b+0x3*0xa1b+-0x118e:-Math['log']((-0x21cc+-0x12d7+0x2*0x1a52)/_0x22504c['w']-(0x1448+-0x256d+-0x1*-0x1126)),_0x32fe4f){for(let _0x4c7c18=0x3*0x4cc+0x15*0x1c5+0xf9*-0x35;_0x4c7c18<0x1278+-0x5*-0xfe+-0x1*0x1741;++_0x4c7c18)_0x568e54['f_rest_'+_0x4c7c18][_0x43f4b3]=_0x32fe4f[_0x4c7c18];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x568e54});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x2a1587=>{if(!this['worker'])return;const {data:_0x90fc97}=_0x2a1587;switch(_0x90fc97['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x90fc97['data']);break;}};}['decompress'](_0x57cad4,_0xb872f1,_0x174ff7,_0x5f4e9d,_0x583396,_0x56ee54,_0x260191){this['chunkData']=new Float32Array(_0xb872f1)['slice'](),this['vertexData']=new Uint32Array(_0x5f4e9d)['slice'](),this['shData']=new Uint8Array(_0x583396)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x57cad4,'chunkData':this['chunkData'],'chunkSize':_0x174ff7,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x56ee54});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x70ce52,_0x29c924,_0x124ed8,_0x55b53f,_0x5247da,_0x4368db,_0x43548c,_0x2c2ca3){const _0x3ec728=(_0x529d36,_0x2a49c7)=>{const _0x21a855=(0x7f5+-0x1c68+0x1474<<_0x2a49c7)-(-0xe96+0x2177+-0x12e0);return(_0x529d36&_0x21a855)/_0x21a855;},_0x4b4442=(_0x2280e6,_0x31248c)=>{_0x2280e6['x']=_0x3ec728(_0x31248c>>>0xae1*0x1+-0x24e7+0x1a1b,-0x2335*-0x1+-0x1*0x197c+-0x6*0x19d),_0x2280e6['y']=_0x3ec728(_0x31248c>>>0xe7f+-0x1364+0x4f0,0x2e+0x1aa9+-0x1acd),_0x2280e6['z']=_0x3ec728(_0x31248c,0x37*-0x45+0xef3+-0x15);},_0x2cb5e0=(_0x24b10f,_0xe68280)=>{_0x24b10f['x']=_0x3ec728(_0xe68280>>>-0xfe3+-0x17b5+0x5*0x7f0,-0x1bdb+0x5b3+0x14*0x11c),_0x24b10f['y']=_0x3ec728(_0xe68280>>>-0x1*-0x2029+0x2d4+-0x22ed,0x21c4+0x46*0x5+0x2*-0x118d),_0x24b10f['z']=_0x3ec728(_0xe68280>>>0x7*-0x22b+-0x17fe+0x5*0x7d7,0x1a01+-0x409*0x4+-0x9d5),_0x24b10f['w']=_0x3ec728(_0xe68280,0x59f+-0x2271+0x1cda);},_0x192ef1=(_0x348b89,_0x24ce08)=>{const _0x2f3d4e=(0x62e+-0x1bf*-0x11+0xb4*-0x33)/(Math['sqrt'](0x12d3*-0x1+0x1*-0x17bf+0x2a94)*(-0x24ab+0x1*-0x526+0x29d1+0.5)),_0x2b768b=(_0x3ec728(_0x24ce08>>>-0x1*0xbc5+-0x229a+0x17*0x205,-0x2*0xc6a+0x3*0xa31+-0x5b5*0x1)-(0x1fd1+-0x19*0x1f+-0x1cca+0.5))*_0x2f3d4e,_0x57ce4b=(_0x3ec728(_0x24ce08>>>-0x6d*-0xc+0x13fe+-0x1910,0x13ea+0x1036+0x12a*-0x1f)-(-0x2d7*0x4+-0x145b+-0x1fb7*-0x1+0.5))*_0x2f3d4e,_0x4748ce=(_0x3ec728(_0x24ce08,0xbe4+0x16bc+-0x26*0xe9)-(-0xed3+0x7e2*0x4+0x10b5*-0x1+0.5))*_0x2f3d4e,_0x2ef664=Math['sqrt'](-0x239c+-0xda*-0x5+-0x1f5b*-0x1-(_0x2b768b*_0x2b768b+_0x57ce4b*_0x57ce4b+_0x4748ce*_0x4748ce));switch(_0x24ce08>>>-0x1a4b+0xd*0x89+0x1374){case-0x16ab+0x403*0x1+0x12a8:_0x348b89['set'](_0x2b768b,_0x57ce4b,_0x4748ce,_0x2ef664);break;case 0x4*-0x21d+0x17c4+-0xf4f*0x1:_0x348b89['set'](_0x2ef664,_0x57ce4b,_0x4748ce,_0x2b768b);break;case-0x976*0x2+-0x1e43+0x31*0x101:_0x348b89['set'](_0x57ce4b,_0x2ef664,_0x4748ce,_0x2b768b);break;case 0x250*0xa+-0x127e+-0x49f:_0x348b89['set'](_0x57ce4b,_0x4748ce,_0x2ef664,_0x2b768b);break;}},_0x12d2b2=(_0x3c516b,_0x21fac5,_0x5430eb)=>_0x3c516b*(-0xab+0x1cf1+0x1*-0x1c45-_0x5430eb)+_0x21fac5*_0x5430eb,{chunkData:_0x2c551e,chunkSize:_0x455a97,vertexData:_0xf08223,shData:_0x238dff,shBands:_0x116322}=_0x70ce52,_0x4981d8=[-0x449*0x3+0x563+0x77b,-0x47d*-0x6+-0x1d03+0x21d,0x5*-0x74d+-0x1a84*0x1+0x3f14][_0x116322-(-0x1*0x3ad+0xbb*-0x2d+0x248d)],_0x8ceab5=-0x142a+-0x1*0x1bf+0x15ef;this['read']=_0x48857a=>{const _0x34233f=Math['floor'](_0x48857a/(0x22d2+-0x3b*0x3b+-0x1439*0x1))*_0x455a97;if(_0x29c924&&(_0x4b4442(_0x29c924,_0xf08223[_0x48857a*_0x8ceab5+(0x1*0x6a7+-0xa24+0x37d)]),_0x29c924['x']=_0x12d2b2(_0x2c551e[_0x34233f+(0x97a+0x688+-0x1002)],_0x2c551e[_0x34233f+(0xd*0xc8+-0x9fa+-0x2b)],_0x29c924['x']),_0x29c924['y']=_0x12d2b2(_0x2c551e[_0x34233f+(0x8b*0x15+0x19e+-0x22*0x62)],_0x2c551e[_0x34233f+(0x6*-0x342+0x1*-0x1f76+-0x1983*-0x2)],_0x29c924['y']),_0x29c924['z']=_0x12d2b2(_0x2c551e[_0x34233f+(-0x495*0x5+0x2*0x1ea+-0x21f*-0x9)],_0x2c551e[_0x34233f+(0x1eac+-0x127a*0x1+-0xc2d)],_0x29c924['z'])),_0x124ed8&&_0x192ef1(_0x124ed8,_0xf08223[_0x48857a*_0x8ceab5+(0x36*-0x3a+0x1*0xbd4+0x69)]),_0x55b53f&&(_0x4b4442(_0x55b53f,_0xf08223[_0x48857a*_0x8ceab5+(-0xad0+-0x1*0x1f0f+0x29e1)]),_0x55b53f['x']=_0x12d2b2(_0x2c551e[_0x34233f+(-0x9d9*-0x3+0x129f+0x806*-0x6)],_0x2c551e[_0x34233f+(-0x2+0x15fa+0x15ef*-0x1)],_0x55b53f['x']),_0x55b53f['y']=_0x12d2b2(_0x2c551e[_0x34233f+(-0xdec+-0x179*0x6+-0x133*-0x13)],_0x2c551e[_0x34233f+(-0x153d+0xc2+0x1485)],_0x55b53f['y']),_0x55b53f['z']=_0x12d2b2(_0x2c551e[_0x34233f+(0xb*-0x2e7+0x250*-0x9+0x34c5)],_0x2c551e[_0x34233f+(0x2516+-0x1610+0x1*-0xefb)],_0x55b53f['z'])),_0x5247da&&(_0x2cb5e0(_0x5247da,_0xf08223[_0x48857a*_0x8ceab5+(0x37f+0x97f+0x1*-0xcfb)]),_0x455a97>-0x46*0xf+0x188c+-0x1466&&(_0x5247da['x']=_0x12d2b2(_0x2c551e[_0x34233f+(0x26ac+0x15f7+-0x3c97)],_0x2c551e[_0x34233f+(0x7*-0x295+0x14bb+-0x299)],_0x5247da['x']),_0x5247da['y']=_0x12d2b2(_0x2c551e[_0x34233f+(-0x5*0x46b+0x238f+-0xd6b)],_0x2c551e[_0x34233f+(-0x3*0xbd+-0x1*-0x2ce+-0x87)],_0x5247da['y']),_0x5247da['z']=_0x12d2b2(_0x2c551e[_0x34233f+(-0x1497+0xf*0x113+-0x14*-0x3a)],_0x2c551e[_0x34233f+(-0xf0*-0x2+0x186b*0x1+0x2*-0xd1d)],_0x5247da['z']))),_0x4368db&&(_0x4b4442(_0x4368db,_0xf08223[_0x48857a*_0x8ceab5+(0x1bb7+-0x13ee+-0x3*0x297)]),_0x4368db['x']=_0x12d2b2(_0x2c551e[_0x34233f+(-0xb21+0xb7a*-0x3+0x1*0x2da1)],_0x2c551e[_0x34233f+(0xc1b+0xbed+-0x1*0x17f3)],_0x4368db['x']),_0x4368db['y']=_0x12d2b2(_0x2c551e[_0x34233f+(-0x61*0x49+0x26e+0x194e)],_0x2c551e[_0x34233f+(0xbce*0x1+-0x1f85+0x13cd)],_0x4368db['y']),_0x4368db['z']=_0x12d2b2(_0x2c551e[_0x34233f+(0x3bb*0x2+0x71*0x12+-0xf54)],_0x2c551e[_0x34233f+(-0x137*-0x12+-0xa13*0x3+0x1*0x872)],_0x4368db['z'])),_0x43548c&&(_0x4b4442(_0x43548c,_0xf08223[_0x48857a*_0x8ceab5+(0x2b*-0x2+0x4e*-0x27+0xc3d)]),_0x43548c['x']=_0x12d2b2(_0x2c551e[_0x34233f+(0x3b9+0x12b+-0x4cc)],_0x2c551e[_0x34233f+(0x86b+-0x59d*-0x1+-0x29*0x57)],_0x43548c['x']),_0x43548c['y']=_0x12d2b2(_0x2c551e[_0x34233f+(0x54f+0x1ea4+0x15*-0x1b5)],_0x2c551e[_0x34233f+(0x1d4*-0x14+-0x1*0x175f+-0x35*-0x122)],_0x43548c['y'])),_0x2c2ca3&&_0x116322>-0xa76*0x3+0x65*-0x49+0x3c2f){for(let _0x5dae1b=0x9*0x21e+0x13*0xc4+-0x219a;_0x5dae1b<0x23b0+0x1643+-0x39f0;++_0x5dae1b)for(let _0x2b36fa=0x117+-0x373*-0x1+-0x48a;_0x2b36fa<-0x64*0x37+-0x2494+0x3a1f*0x1;++_0x2b36fa)_0x2c2ca3[_0x5dae1b*(0x39c*-0x6+0xc31+0x986)+_0x2b36fa]=_0x2b36fa<_0x4981d8?_0x238dff[(_0x48857a*(-0x1cbe+0x9*0x219+0x9e0)+_0x5dae1b)*_0x4981d8+_0x2b36fa]*((-0x3e5*0x1+-0x582+0x96f)/(-0x9*-0x43+-0x3*0x9a9+0x1b9f))-(-0x1492+-0x1ea1*0x1+0x3337):0x19*0xb1+0x2e1*0x5+-0x1fae;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x40a693,_0x1ebd23,_0x142fc7,_0xd80a8a,_0x3e793d,_0x1dfd80,_0x967c7d){return new R2(this,_0x40a693,_0x1ebd23,_0x142fc7,_0xd80a8a,_0x3e793d,_0x1dfd80,_0x967c7d);}['calcAabb'](_0x2f384f){const {chunkData:_0x25611d,numChunks:_0x460d41,chunkSize:_0x1711a5}=this;let _0xe1cd2e=Math['exp'](Math['max'](_0x25611d[-0x1f5e*-0x1+0x87+0xfee*-0x2],_0x25611d[-0x26*0xa3+-0x173*-0x1+0x16c9],_0x25611d[0x1*0x1f31+-0x1535+-0x9f1])),_0x40a7d1=_0x25611d[0xf31*0x1+-0x8*0x4a3+0x3f*0x59]-_0xe1cd2e,_0x567249=_0x25611d[0x25bc+0x2595+-0x4b50]-_0xe1cd2e,_0x182690=_0x25611d[-0x14ca+0x68f+0x9*0x195]-_0xe1cd2e,_0x4f62ad=_0x25611d[-0x21e8+0x5d*-0x11+0x2818]+_0xe1cd2e,_0x6d0058=_0x25611d[-0xec4+0x2621+-0x1759]+_0xe1cd2e,_0x376ce3=_0x25611d[0x44*0x6+-0x1712*-0x1+-0x18a5]+_0xe1cd2e;for(let _0x32bdb6=-0x243d+-0x40*0x17+0x32*0xd7;_0x32bdb6<_0x460d41;++_0x32bdb6){const _0x38f7a4=_0x32bdb6*_0x1711a5;_0xe1cd2e=Math['exp'](Math['max'](_0x25611d[_0x38f7a4+(-0x199*-0xb+0x5e*0x15+0x194*-0x10)],_0x25611d[_0x38f7a4+(-0x1209+0x2052+-0x209*0x7)],_0x25611d[_0x38f7a4+(-0x4b*0x24+0xb93*-0x2+-0x21bd*-0x1)])),_0x40a7d1=Math['min'](_0x40a7d1,_0x25611d[_0x38f7a4+(-0x17*0x79+-0x52c+0x100b)]-_0xe1cd2e),_0x567249=Math['min'](_0x567249,_0x25611d[_0x38f7a4+(-0x994+0x5b*-0x4b+0x243e)]-_0xe1cd2e),_0x182690=Math['min'](_0x182690,_0x25611d[_0x38f7a4+(0x2*0x1021+0x2617*0x1+-0x4657)]-_0xe1cd2e),_0x4f62ad=Math['max'](_0x4f62ad,_0x25611d[_0x38f7a4+(-0x14a4+-0xc0e+-0x20b5*-0x1)]+_0xe1cd2e),_0x6d0058=Math['max'](_0x6d0058,_0x25611d[_0x38f7a4+(0x26+0x16c3+-0x16e5*0x1)]+_0xe1cd2e),_0x376ce3=Math['max'](_0x376ce3,_0x25611d[_0x38f7a4+(-0x204*-0x13+-0xe*-0x20a+0x42d3*-0x1)]+_0xe1cd2e);}return _0x2f384f['center']['set']((_0x40a7d1+_0x4f62ad)*(0x13*-0xfe+-0x1319*0x1+-0x797*-0x5+0.5),(_0x567249+_0x6d0058)*(-0x139a+0x16ca+0x33*-0x10+0.5),(_0x182690+_0x376ce3)*(-0x1*0x1f97+0x1f7+0x1da0+0.5)),_0x2f384f['halfExtent'+'s']['set']((_0x4f62ad-_0x40a7d1)*(-0x1*0x23a2+0x652+0x1d50+0.5),(_0x6d0058-_0x567249)*(0x1a69*0x1+-0x949+-0x1120+0.5),(_0x376ce3-_0x182690)*(0x1*-0x25f2+0xd75+0x187d*0x1+0.5)),!(-0x47*-0x29+0x20dc+0x367*-0xd);}['getCenters'](_0x2678fe){const {vertexData:_0x5c40c2,chunkData:_0x1c8b6e,numChunks:_0x2afb6f,chunkSize:_0xa16528}=this;let _0x934687,_0x11051c,_0x3074e0,_0x580662,_0x3dd169,_0x3510a1;for(let _0x2a024c=0x2146*0x1+0x1*-0x54a+-0x1bfc;_0x2a024c<_0x2afb6f;++_0x2a024c){const _0x54cb07=_0x2a024c*_0xa16528;_0x934687=_0x1c8b6e[_0x54cb07+(0x19f7*-0x1+-0x15b9*0x1+0x2fb0)],_0x11051c=_0x1c8b6e[_0x54cb07+(-0x2*-0x467+-0x8bb+-0x1*0x12)],_0x3074e0=_0x1c8b6e[_0x54cb07+(-0xa39+0x13f8+-0x33f*0x3)],_0x580662=_0x1c8b6e[_0x54cb07+(-0xb4d+-0x1*0x204d+0x2b9d)],_0x3dd169=_0x1c8b6e[_0x54cb07+(0x2629+-0xdae*-0x1+-0x33d3)],_0x3510a1=_0x1c8b6e[_0x54cb07+(-0x340+-0xb*-0x7b+-0x6*0x56)];const _0x519e75=Math['min'](this['numSplats'],(_0x2a024c+(-0x395+-0x1*-0x1cb1+-0x191b))*(-0xb57*0x1+-0xcf6+0x194d));for(let _0x3e80f2=_0x2a024c*(-0x1a2b+0x6ad+-0x1*-0x147e);_0x3e80f2<_0x519e75;++_0x3e80f2){const _0x25497a=_0x5c40c2[_0x3e80f2*(0x102d+0x1*0x1ba3+-0x2bcc)],_0x3404af=(_0x25497a>>>0x74*-0xe+-0x6*-0x199+0x329*-0x1)/(-0x2f5*0x7+-0x1ada*0x1+-0x942*-0x6),_0x2b5ef1=(_0x25497a>>>-0x1d63+-0x73a+0x114*0x22&0x2d*0x3b+-0xdee+0x78e*0x1)/(0x4b3+-0x232d*-0x1+-0x23e1),_0x417783=(_0x25497a&0xb*0x33a+-0x1*-0x2417+-0x3*0x1532)/(-0x1*-0x243c+-0x2f*-0xa3+0x2*-0x1d15);_0x2678fe[_0x3e80f2*(-0x1fc3*-0x1+0x816+0x2*-0x13eb)+(-0x2465+0x1907+0xb5e)]=(-0x1*0x5e5+0x139f+-0x493*0x3-_0x3404af)*_0x934687+_0x3404af*_0x580662,_0x2678fe[_0x3e80f2*(-0x1fb9+0xde0+0x11dc)+(0x14e5+0x2577+0x1*-0x3a5b)]=(-0xda2*0x2+0x1*0x4d6+-0x166f*-0x1-_0x2b5ef1)*_0x11051c+_0x2b5ef1*_0x3dd169,_0x2678fe[_0x3e80f2*(0x1dd2*0x1+0x1f6e+-0x101*0x3d)+(0x5a1*-0x3+-0x5c*-0x13+-0xa11*-0x1)]=(0x16ce+0x1fcc+0x9*-0x611-_0x417783)*_0x3074e0+_0x417783*_0x3510a1;}}}['calcFocalP'+'oint'](_0x50f722){const {chunkData:_0x4cb802,numChunks:_0x1a9029,chunkSize:_0x1c30d1}=this;_0x50f722['x']=-0x777*0x1+-0x6*0x199+0x110d,_0x50f722['y']=-0x1b31*-0x1+-0xe3f+-0x679*0x2,_0x50f722['z']=0x513*0x4+0x226e+0x36ba*-0x1;for(let _0x32d633=0x1b7f+0xaf2+-0x2671;_0x32d633<_0x1a9029;++_0x32d633){const _0x15dee3=_0x32d633*_0x1c30d1;_0x50f722['x']+=_0x4cb802[_0x15dee3+(-0x15bb*-0x1+0x3d7+-0x1992)]+_0x4cb802[_0x15dee3+(-0x2b9*0xd+-0xd6*0x25+-0x2*-0x212b)],_0x50f722['y']+=_0x4cb802[_0x15dee3+(-0x1a17*-0x1+-0x1917+-0x1*0xff)]+_0x4cb802[_0x15dee3+(-0x3ca+-0x1ae5+-0x10f*-0x1d)],_0x50f722['z']+=_0x4cb802[_0x15dee3+(0xc5*0x1f+0x11cc+-0x29a5)]+_0x4cb802[_0x15dee3+(0x11*-0x1b0+0x2cf*0xd+0x36*-0x25)];}_0x50f722['mulScalar']((0x61f+0x1cb7+-0x62*0x5b+0.5)/_0x1a9029);}get['isCompress'+'ed'](){return!(-0x14d*-0xd+-0xbcb+-0x51e);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x5b1+0x1b1b+-0x27*0x86));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x75a834;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x75a834=this['shData'])==null?void(0x11*0xd3+-0x204a*0x1+0x1*0x1247):_0x75a834['length'])/this['numSplats']/(-0x1d5*0x11+-0x26e9*0x1+0x4611)]??0xa8*0x6+-0x26cc+0x2*0x116e;}async['decompress'](){const _0x459b10=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x1b50e4}=this;if(_0x1b50e4>-0x1e28+-0x700+-0x94a*-0x4){const _0x11f884=[];for(let _0x26c7ec=0xe0f+-0x138b*0x1+-0x36*-0x1a;_0x26c7ec<0x11ca+0x1af6+-0x1*0x2c93;++_0x26c7ec)_0x11f884['push']('f_rest_'+_0x26c7ec);_0x459b10['splice'](_0x459b10['indexOf']('f_dc_0')+(0x1423*0x1+0x6*-0x129+-0xd2c),-0x1361+0x123*0x5+0x2*0x6d9,..._0x11f884);}const _0x316507={};_0x459b10['forEach'](_0x13b516=>{_0x316507[_0x13b516]=new Float32Array(this['numSplats']);});const _0x4b2123=new P2();return _0x4b2123['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x316507),new Promise((_0x1c43b4,_0x3f0f47)=>{_0x4b2123['on']('decompress'+'ed',_0x441558=>{_0x4b2123['destroy'](),_0x1c43b4(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x459b10['map'](_0x327af5=>({'name':_0x327af5,'type':'float','byteSize':0x4,'storage':_0x441558[_0x327af5]}))}]));});});}}const D2=(_0x1cded2,_0x454fda,_0x41ea4c,_0x58092e,_0x2793b3)=>{for(let _0x57177a=-0x1cc1+0x9a5*0x1+0x131c;_0x57177a<_0x2793b3;++_0x57177a)for(let _0x14371b=-0x1a60+-0x2b7+0x1d17*0x1;_0x14371b<_0x58092e;++_0x14371b)_0x1cded2[_0x57177a*_0x454fda+_0x14371b]=_0x41ea4c[_0x57177a*_0x58092e+_0x14371b];},zg=(_0x2349b5,_0x390b36,_0x27fe17,_0x35f27b,_0x21ce5e,_0x39aafd)=>{for(let _0x411b08=0x13*-0x15a+0x2*-0xd81+0x34b*0x10;_0x411b08<_0x21ce5e;++_0x411b08)for(let _0x855da=0x1*0xd55+0x296+-0xfeb;_0x855da<_0x35f27b;++_0x855da)_0x2349b5[_0x411b08*_0x390b36+_0x855da]=_0x27fe17[_0x411b08*_0x35f27b+_0x855da+_0x39aafd];};class L2{constructor(_0x35c9ea,_0x47b926){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x459d95,chunkSize:_0x3c5bce,numChunks:_0x1d975c,numSplats:_0x2b52c1,vertexData:_0x5dfdc7,shBands:_0x5b4c60,is4D:_0x74b27d}=_0x47b926;this['device']=_0x35c9ea,this['numSplats']=_0x2b52c1,this['numVisible'+'Splats']=_0x2b52c1,this['is4D']=_0x74b27d,this['aabb']=new _e(),_0x47b926['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x2b52c1*(0x2*-0x36+0x58*0x8+-0x251)),_0x47b926['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x2b52c1));const _0x540a49=this['packedText'+'ure']['lock']();zg(_0x540a49,-0x475*0x4+0x778+0x1*0xa60,_0x5dfdc7,-0x1377*0x1+0x1*-0xcd+0x2e6*0x7,_0x2b52c1,0x38b*-0x4+-0xe5d+0x1c89),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x2b52c1));const _0x298523=this['packedTime'+'Texture']['lock']();zg(_0x298523,0xd*0x1+0x4a4*0x2+0xb*-0xd9,_0x5dfdc7,-0x2*-0xec2+0x1*0x2f7+-0x2075*0x1,_0x2b52c1,-0x9f5*0x3+0x223c+0x15*-0x35);const _0x478f75=this['evalTextur'+'eSize'](_0x1d975c);_0x478f75['x']*=0x19c2+0x1373+0x2d2e*-0x1,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x478f75);const _0x5bc43e=this['chunkTextu'+'re']['lock']();if(D2(_0x5bc43e,(-0xd*0x1d2+-0x1*-0xda9+-0x11d*-0x9)*(0x7*0x454+0x1487+-0x1966*0x2),_0x459d95,_0x3c5bce,_0x1d975c),_0x3c5bce===0x2b*0xa9+-0x4a*0x10+-0x17b7){for(let _0x25157d=-0x1b58+0x1*-0x521+0xad3*0x3;_0x25157d<_0x1d975c;++_0x25157d)_0x5bc43e[_0x25157d*(0x1*-0x26ef+-0x209f*0x1+-0x47a2*-0x1)+(0x1711*-0x1+-0x23a2+-0x6*-0x9cb)]=-0x1b53+0x1795*-0x1+0x32e9,_0x5bc43e[_0x25157d*(-0x13c0+0x34c*-0x1+-0x172*-0x10)+(0x1f48+-0x260c+0x2*0x36a)]=0x1b77+0x3ad*0x5+0x92b*-0x5,_0x5bc43e[_0x25157d*(-0xe3*-0x16+0x2*0x12b7+0x1c6e*-0x2)+(-0x7f7+0x1c1d+-0x1*0x1415)]=-0x58*-0x4c+-0xbe4+0x1*-0xe3b;}if(this['chunkTextu'+'re']['unlock'](),_0x5b4c60>0x1*0x115b+-0x3f*0x1d+-0xa38){const {shData:_0x2fe299}=_0x47b926,_0x15c00c=this['evalTextur'+'eSize'](_0x2b52c1),_0x2dfbea=this['createText'+'ure']('shTexture0',ut,_0x15c00c),_0xc4e820=this['createText'+'ure']('shTexture1',ut,_0x15c00c),_0x1348fb=this['createText'+'ure']('shTexture2',ut,_0x15c00c),_0x47c568=_0x2dfbea['lock'](),_0x2e3a11=_0xc4e820['lock'](),_0x19d625=_0x1348fb['lock'](),_0x1e5a19=new Uint8Array(_0x47c568['buffer']),_0x1ad907=new Uint8Array(_0x2e3a11['buffer']),_0x2502d9=new Uint8Array(_0x19d625['buffer']),_0x56efb5=[-0x1979+0xb0b+0xe71*0x1,0x26*0x41+0xa69+0x1407*-0x1,0x8c6+-0x1519+0xc62][_0x5b4c60-(0xc66+0x2*0xf22+-0x2aa9)];for(let _0x4f7865=-0x46a+0x5cb*-0x1+0x367*0x3;_0x4f7865<_0x2b52c1;++_0x4f7865)for(let _0x289f19=-0x1*0x259f+-0x160b+0x3baa;_0x289f19<-0x8fb+-0xc85*-0x2+-0x1000;++_0x289f19)_0x1e5a19[_0x4f7865*(0x2618+0x261a+-0x2*0x2611)+_0x289f19]=_0x289f19<_0x56efb5?_0x2fe299[(_0x4f7865*(-0x26bf+0x23df+0x2e3)+(-0x1ec5+-0x249c+0x4361))*_0x56efb5+_0x289f19]:-0x27*0x29+0x2ef*0xd+-0x1f65,_0x1ad907[_0x4f7865*(-0x617+0xa0a*0x2+-0xded)+_0x289f19]=_0x289f19<_0x56efb5?_0x2fe299[(_0x4f7865*(-0x1a3f+0x1f70+-0x52e)+(-0x80b*0x1+-0x1f73*0x1+0x277f))*_0x56efb5+_0x289f19]:-0x10c4+-0x1*-0x15e3+-0x4a0,_0x2502d9[_0x4f7865*(-0x2548+-0x24*-0xf5+0x2e4)+_0x289f19]=_0x289f19<_0x56efb5?_0x2fe299[(_0x4f7865*(0xe41*-0x2+-0x1c56+-0x29*-0x163)+(0x1653+0x182+0x13*-0x141))*_0x56efb5+_0x289f19]:0x602+-0x173e+-0x11*-0x10b;_0x2dfbea['unlock'](),_0xc4e820['unlock'](),_0x1348fb['unlock'](),this['shTexture0']=_0x2dfbea,this['shTexture1']=_0xc4e820,this['shTexture2']=_0x1348fb;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x2ef862,_0x3bda20,_0x4f8eb6,_0x2ceb74,_0x1f96cd,_0x17ceba;(_0x2ef862=this['packedText'+'ure'])==null||_0x2ef862['destroy'](),(_0x3bda20=this['packedTime'+'Texture'])==null||_0x3bda20['destroy'](),(_0x4f8eb6=this['chunkTextu'+'re'])==null||_0x4f8eb6['destroy'](),(_0x2ceb74=this['shTexture0'])==null||_0x2ceb74['destroy'](),(_0x1f96cd=this['shTexture1'])==null||_0x1f96cd['destroy'](),(_0x17ceba=this['shTexture2'])==null||_0x17ceba['destroy']();}['createMate'+'rial'](_0x213f73){const _0xf41e94=z0(_0x213f73);return _0xf41e94['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(0x1b33+0x1*0x153b+-0x306e*0x1)),_0xf41e94['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0xf41e94['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0xf41e94['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0xf41e94['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0xf41e94['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0xf41e94['setDefine']('SH_BANDS',0x87*-0x35+0x75*-0xe+-0x1*-0x225c),_0xf41e94['setParamet'+'er']('shTexture0',this['shTexture0']),_0xf41e94['setParamet'+'er']('shTexture1',this['shTexture1']),_0xf41e94['setParamet'+'er']('shTexture2',this['shTexture2'])):_0xf41e94['setDefine']('SH_BANDS',0x25d*-0x1+-0x1f62+0x21bf),_0xf41e94;}['evalTextur'+'eSize'](_0x4f00a3){const _0xffbc65=Math['ceil'](Math['sqrt'](_0x4f00a3)),_0x24392a=Math['ceil'](_0x4f00a3/_0xffbc65);return new W(_0xffbc65,_0x24392a);}['createText'+'ure'](_0x2aa007,_0x25dc38,_0x43b7ab,_0x37d583){return new he(this['device'],{'name':_0x2aa007,'width':_0x43b7ab['x'],'height':_0x43b7ab['y'],'format':_0x25dc38,'cubemap':!(-0x23ad*-0x1+-0x10e9+-0x12c3),'mipmaps':!(-0x1bcf+0x146b+0x3*0x277),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x37d583?{'levels':[_0x37d583]}:{}});}}class F2{constructor(_0x393191,_0x98d04a,_0x3ef4fe){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x393191,this['splatData']=_0x98d04a,this['comments']=_0x3ef4fe);}['destroy'](){var _0x2e7abf;this['device']=null,this['splatData']=null,(_0x2e7abf=this['splat'])==null||_0x2e7abf['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x19c206,_0xa2a6e2,_0x3c7d02){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0xa2a6e2,this['splatData']['appendGSpl'+'atData'](_0x19c206,_0x3c7d02,_0xa2a6e2),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x3c0425={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x3c0425);const _0x1626e8=new We(),_0x49fd33=_0x1626e8['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x1626e8['setLocalEu'+'lerAngles'](-0x12af+0x1eb8+-0xc09*0x1,-0x23a6+-0xd5*-0x21+0xe9*0x9,0x16be+-0x2*0x704+-0x8b6),_0x49fd33['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x1626e8;}['createInst'+'ance'](_0x2495bc={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x2edfdf=this['createSpla'+'t']();return new Np(_0x2edfdf,_0x2495bc);}}const Ug=new Uint8Array([0x4*0x1d2+-0x1df7+0x171f*0x1,-0x1d25+0xea5+0xeec,0x11c7*0x1+-0x5*0x227+-0x68b,0x1c3d+-0x1366+0x8cd*-0x1]),Vg=new Uint8Array([-0x12d1+-0x775+-0xd28*-0x2,0x141*-0x1+0x4*0x623+-0x16e6,0x18fc+0xe1f+-0x26ad*0x1,-0x350+-0xd48+0x10fc,-0xa33+0x22ec+0xc2d*-0x2,0x1c2a+-0x1*0x2092+0x7*0xb0,-0xc0b+-0xf3b+-0x3*-0x939,0xe22+0x2391*0x1+0xd6*-0x3b,0x139f+-0x12cd*-0x1+-0x2608,0x25f7*0x1+-0x2*-0x3a1+0x4c*-0x97,0x1*0xecc+-0x2645+0x17eb,-0x1998+0x78d*0x2+0xa88]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x129068,_0x456409){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',0x4f5+0x21b8+-0x26ad),c(this,'tail',0x1347+-0x1a83+0x4*0x1cf),(this['reader']=_0x129068,this['progressFu'+'nc']=_0x456409);}async['read'](){var _0x42d32c;const {value:_0x1d92a2,done:_0x1c0c9b}=await this['reader']['read']();if(_0x1c0c9b)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x1d92a2),(_0x42d32c=this['progressFu'+'nc'])==null||_0x42d32c['call'](this,_0x1d92a2['byteLength']);}['push'](_0x200ff7){if(!this['data'])this['data']=_0x200ff7,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x200ff7['length'];else{const _0x33c892=this['tail']-this['head'],_0x11cfb3=_0x33c892+_0x200ff7['length'];if(this['data']['length']>=_0x11cfb3)this['head']>0x2d7*-0x1+-0x22b*0xb+0x1ab0?(this['data']['copyWithin'](-0xdbf+0x1a2c+0xc6d*-0x1,this['head'],this['tail']),this['data']['set'](_0x200ff7,_0x33c892),this['head']=0x1*0x80+0xa61*0x1+-0xae1,this['tail']=_0x11cfb3):(this['data']['set'](_0x200ff7,this['tail']),this['tail']+=_0x200ff7['length']);else{const _0x5ed109=new Uint8Array(_0x11cfb3);this['head']>0x1ef9+-0x99*0x33+-0x7e||this['tail']<this['data']['length']?_0x5ed109['set'](this['data']['subarray'](this['head'],this['tail']),0x2246+0x265b+0x1*-0x48a1):_0x5ed109['set'](this['data'],-0xd3+0xc1a+-0x1*0xb47),_0x5ed109['set'](_0x200ff7,_0x33c892),this['data']=_0x5ed109,this['view']=new DataView(this['data']['buffer']),this['head']=-0x23a7+-0x31*0x25+-0x446*-0xa,this['tail']=_0x11cfb3;}}}['compact'](){this['head']>0x2*-0xc06+-0xbcd+0x23d9&&(this['data']['copyWithin'](0x1*0xaf3+-0x1*-0x1052+-0x1b45,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x1*-0x20c+-0x2041+-0x3*-0xb6f);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x11dd97=this['view']['getInt8'](this['head']);return this['head']++,_0x11dd97;}['getUint8'](){const _0x5bdc28=this['view']['getUint8'](this['head']);return this['head']++,_0x5bdc28;}['getInt16'](){const _0x4d975e=this['view']['getInt16'](this['head'],!(-0x3bb+-0x6*0x70+0x65b));return this['head']+=0x3*0x85a+0x1e3d+-0x3749*0x1,_0x4d975e;}['getUint16'](){const _0x3be992=this['view']['getUint16'](this['head'],!(0x1b34+-0x45e*-0x6+-0x2*0x1ab4));return this['head']+=-0x1ad+0x2253+-0x20a4,_0x3be992;}['getInt32'](){const _0x43e8f2=this['view']['getInt32'](this['head'],!(0x4c2+-0x67b*-0x3+-0x3*0x811));return this['head']+=0xaa9*0x2+0x120c+-0x275a,_0x43e8f2;}['getUint32'](){const _0x4edd90=this['view']['getUint32'](this['head'],!(0x1*-0x21c7+-0x7*-0x2a1+0xf60));return this['head']+=0x143*-0x1+-0xacd+-0x305*-0x4,_0x4edd90;}['getFloat32'](){const _0xdf16bb=this['view']['getFloat32'](this['head'],!(-0x9ec+0xc4b+-0x25f*0x1));return this['head']+=0x1*0x1b65+-0xbe*-0x1e+-0x47*0xb3,_0xdf16bb;}['getFloat64'](){const _0x44040e=this['view']['getFloat64'](this['head'],!(-0x1e17*0x1+0xa93*0x3+-0x2*0xd1));return this['head']+=-0x68*-0x25+0x2696*-0x1+-0x2*-0xbcb,_0x44040e;}}const k2=_0x49ba97=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x2fa8eb=[],_0x4efd5f=[];let _0x265d2e;for(let _0x2394d7=0xbb8+-0xcab+0xf4;_0x2394d7<_0x49ba97['length'];++_0x2394d7){const _0x58fed1=_0x49ba97[_0x2394d7]['split']('\x20');switch(_0x58fed1[0xf9+0x1dea+-0x1ee3]){case'comment':_0x4efd5f['push'](_0x58fed1['slice'](-0x1da6+0x38d+0xd*0x202)['join']('\x20'));break;case'format':_0x265d2e=_0x58fed1[0x1dac+0x775+-0x2520];break;case'element':_0x2fa8eb['push']({'name':_0x58fed1[-0x18f0+0x7ac*0x1+-0x1145*-0x1],'count':parseInt(_0x58fed1[-0xe80+0x2*0x5f6+0x296],-0x1*-0xa1e+-0x1619+0xc05),'properties':[]});break;case'property':{if(!bf['has'](_0x58fed1[0x6a+0x1163+-0x11cc]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x58fed1[0x2346+0x11*-0x241+0x30c]+('\x27\x20in\x20ply\x20h'+'eader'));_0x2fa8eb[_0x2fa8eb['length']-(0x18b0+-0x1b56+-0x7*-0x61)]['properties']['push']({'type':_0x58fed1[0x136+0x8f*-0x1d+0xefe],'name':_0x58fed1[-0x1688+0x1cb2+-0x628],'storage':null,'byteSize':bf['get'](_0x58fed1[0x23f4+-0x1c3c+-0x18b*0x5])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x58fed1[0x1bd3+-0x1224+0x43*-0x25]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x2fa8eb,'format':_0x265d2e,'comments':_0x4efd5f};},B2=_0x236a58=>{const _0x5d4ce9=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x128261=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x4b03fe=new Array(-0x1*-0x1d41+0x261e+0x16e*-0x2f)['fill']('')['map']((_0x1a5c93,_0x35d9af)=>'f_rest_'+_0x35d9af),_0x2118bb=()=>_0x236a58[-0x11b5+-0x85b+0x458*0x6]['name']==='chunk'&&_0x236a58[-0x1*-0x179e+0x2d*0x3+-0x1825]['properties']['every']((_0x58d5fc,_0x50abf3)=>_0x58d5fc['name']===_0x5d4ce9[_0x50abf3]&&_0x58d5fc['type']==='float')&&_0x236a58[0x9b7*-0x2+0x2231*-0x1+0x35a0]['name']==='vertex'&&_0x236a58[0x818*0x2+0x1*-0x12f7+0x2c8]['properties']['every']((_0x5c3f6f,_0x2efe19)=>_0x5c3f6f['name']===_0x128261[_0x2efe19]&&_0x5c3f6f['type']==='uint'),_0x38abeb=()=>_0x236a58[0x3*-0x131+-0x1*0x11d2+0x1567]['name']==='sh'&&[0x1*-0x197c+-0xdc3*0x1+0x2748,-0x1e3a+0xa12*-0x2+0x3276,-0x15b*-0x13+-0x1525+-0xe3*0x5]['indexOf'](_0x236a58[0x125e+0x4d0*-0x4+-0x72*-0x2]['properties']['length'])!==-(-0x1bea+0x1aa6+0x145)&&_0x236a58[0xc87*0x3+0x2187+-0x471a]['properties']['every']((_0x36d3e6,_0x3cb2df)=>_0x36d3e6['name']===_0x4b03fe[_0x3cb2df]&&_0x36d3e6['type']==='uchar');return _0x236a58['length']===0xeb*0x29+0xd8d+-0x332e&&_0x2118bb()||_0x236a58['length']===-0x19e+-0x8*-0x463+-0x2177&&_0x2118bb()&&_0x38abeb();},N2=_0x10cf8b=>_0x10cf8b['length']===-0x268b+-0x7f3+0x2e7f&&_0x10cf8b[0x3*0xc2d+-0x22b4+0x1d3*-0x1]['name']==='vertex'&&_0x10cf8b[-0x7*-0x10f+0x2002+-0x1*0x276b]['properties']['every'](_0x5b3b34=>_0x5b3b34['type']==='float'),z2=async(_0x399e63,_0x387701)=>{const _0x1df9d5=new I2(),_0x2a37d1=_0x387701[0x157f+-0x1751*0x1+0x1d2]['count'],_0x396606=_0x387701[-0x2593+-0x4ce*0x5+0x4bd*0xd]['properties']['length'],_0x1a4ad7=_0x387701[-0x129c+0xce6+0x5b7]['count'],_0x14de98=_0x387701[-0x6b0+-0x1*0x2549+0xd*0x362]['properties']['some'](_0x32096e=>_0x32096e['name']==='packed_tim'+'e'),_0x420ded=_0x448397=>{const _0x1c25f5=Math['ceil'](Math['sqrt'](_0x448397)),_0x39dad9=Math['ceil'](_0x448397/_0x1c25f5);return _0x1c25f5*_0x39dad9;};_0x1df9d5['numSplats']=_0x1a4ad7,_0x1df9d5['is4D']=_0x14de98,_0x1df9d5['chunkData']=new Float32Array(_0x2a37d1*_0x396606),_0x1df9d5['vertexData']=new Uint32Array(_0x420ded(_0x1a4ad7)*(0x99b*-0x1+-0x2f*-0x6a+-0x9d5));const _0xb97ca7=async(_0x8fd002,_0x486f55)=>{const _0x9eab8f=new Uint8Array(_0x8fd002);let _0x46b694=0x1*0xc35+-0x1a8d+-0x2*-0x72c;for(;_0x46b694<_0x486f55;){for(;_0x399e63['remaining']===0x2e7*0x5+0x14a+-0xfcd;)await _0x399e63['read']();const _0x2e1840=Math['min'](_0x486f55-_0x46b694,_0x399e63['remaining']),_0x353889=_0x399e63['data'];for(let _0x566c88=0x1b8e+-0x1e4*-0x5+-0x2502;_0x566c88<_0x2e1840;++_0x566c88)_0x9eab8f[_0x46b694++]=_0x353889[_0x399e63['head']++];}};return await _0xb97ca7(_0x1df9d5['chunkData']['buffer'],_0x2a37d1*_0x396606*(-0x1db+0x3*0x2d9+0x1c*-0x3d)),await _0xb97ca7(_0x1df9d5['vertexData']['buffer'],_0x1a4ad7*(-0x2*0x359+-0xf09+0x15c1)*(0xc2e+-0x655+-0x1*0x5d5)),_0x387701['length']===0x663+-0xb74+0x28a*0x2&&(_0x1df9d5['shData']=new Uint8Array(_0x387701[-0x37*0x43+-0x106*-0x4+-0x1d*-0x5b]['count']*_0x387701[-0xd15*0x1+0x13*0xb3+-0x32]['properties']['length']),await _0xb97ca7(_0x1df9d5['shData']['buffer'],_0x1df9d5['shData']['byteLength'])),_0x1df9d5;},U2=async(_0x5b4389,_0x233cee)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x9523a4=_0x233cee[0x56e+0x129a*-0x1+0xd2c],_0xb9b014=_0x9523a4['properties'],_0x181806=_0xb9b014['length'],_0x1fdd4f=_0xb9b014['map'](_0xea9d2a=>_0xea9d2a['storage']),_0x55613c=_0xb9b014['reduce']((_0xb133a5,_0x240db2)=>_0xb133a5+_0x240db2['byteSize'],-0xf71+-0xdc2+-0x41*-0x73);let _0x6b8e2e=-0x12c9+-0xf2+-0x13bb*-0x1,_0x1c1829;const _0x36ce9a=()=>{const _0xd9ec26=_0x5b4389['data']['buffer'];(_0x1c1829==null?void(0x2*0x11e7+-0x1153+-0x127b):_0x1c1829['buffer'])!==_0xd9ec26&&(_0x1c1829=new Float32Array(_0xd9ec26,-0x3*0x437+0xe9*-0x2+0x7*0x211,_0xd9ec26['byteLength']/(-0x1c7+-0x10f*0xd+0xf8e)));};for(_0x36ce9a();_0x6b8e2e<_0x9523a4['count'];){for(;_0x5b4389['remaining']<_0x55613c;)await _0x5b4389['read'](),_0x36ce9a();const _0x13c763=Math['min'](_0x9523a4['count']-_0x6b8e2e,Math['floor'](_0x5b4389['remaining']/_0x55613c));for(let _0x3b6897=-0x1097+-0x1c*-0x111+-0xd45;_0x3b6897<_0x181806;++_0x3b6897){const _0x24ccc4=_0x1fdd4f[_0x3b6897];for(let _0x579282=-0x1aa*-0x2+-0x6*0x335+0xfea;_0x579282<_0x13c763;++_0x579282)_0x24ccc4[_0x579282+_0x6b8e2e]=_0x1c1829[_0x579282*_0x181806+_0x3b6897];}_0x6b8e2e+=_0x13c763,_0x5b4389['head']+=_0x13c763*_0x55613c;}return new Ia(_0x233cee);},V2=async(_0x3ed45c,_0x10d2d0)=>{for(let _0x3ecfba=0x4cc+0x27*0x6+0x5b6*-0x1;_0x3ecfba<_0x10d2d0['length'];++_0x3ecfba){const _0x39e56d=_0x10d2d0[_0x3ecfba],_0x446492=_0x39e56d['properties']['reduce']((_0x10224d,_0x43741b)=>_0x10224d+_0x43741b['byteSize'],-0x1cba*0x1+-0x3*0x431+-0x61*-0x6d),_0x4b7699=_0x39e56d['properties']['map'](_0xe3b553=>{if(_0xe3b553['storage'])switch(_0xe3b553['type']){case'char':return(_0x3903b0,_0x17ad25)=>{_0xe3b553['storage'][_0x17ad25]=_0x3903b0['getInt8']();};case'uchar':return(_0x309f99,_0x3be71c)=>{_0xe3b553['storage'][_0x3be71c]=_0x309f99['getUint8']();};case'short':return(_0x4ff4f8,_0x355d0d)=>{_0xe3b553['storage'][_0x355d0d]=_0x4ff4f8['getInt16']();};case'ushort':return(_0x504233,_0x188f17)=>{_0xe3b553['storage'][_0x188f17]=_0x504233['getUint16']();};case'int':return(_0x41f73d,_0x2177d8)=>{_0xe3b553['storage'][_0x2177d8]=_0x41f73d['getInt32']();};case'uint':return(_0x105007,_0x368db1)=>{_0xe3b553['storage'][_0x368db1]=_0x105007['getUint32']();};case'float':return(_0xeb4291,_0x400ab4)=>{_0xe3b553['storage'][_0x400ab4]=_0xeb4291['getFloat32']();};case'double':return(_0x290888,_0x327420)=>{_0xe3b553['storage'][_0x327420]=_0x290888['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0xe3b553['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0xcf721c=>{_0xcf721c['head']+=_0xe3b553['byteSize'];};});let _0x28ef44=0x6*0x54b+0x16ca+0x1*-0x368c;for(;_0x28ef44<_0x39e56d['count'];){for(;_0x3ed45c['remaining']<_0x446492;)await _0x3ed45c['read']();const _0x5f1d50=Math['min'](_0x39e56d['count']-_0x28ef44,Math['floor'](_0x3ed45c['remaining']/_0x446492));for(let _0x4f5364=0x3b*0x3a+0xe1*-0x1+0x8b*-0x17;_0x4f5364<_0x5f1d50;++_0x4f5364){for(let _0x4c67a3=0x11e8+-0x18b5*0x1+0x1*0x6cd;_0x4c67a3<_0x39e56d['properties']['length'];++_0x4c67a3)_0x4b7699[_0x4c67a3](_0x3ed45c,_0x28ef44);_0x28ef44++;}}}return new Ia(_0x10d2d0);},G2=async(_0x215f12,_0x2d619a=null,_0x408a44=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x2e2b7f=(_0x2dc148,_0x1e6a47)=>{const _0x69769e=_0x2dc148['length']-_0x1e6a47['length'];let _0x259145,_0x1488f6;for(_0x259145=0x7*-0x11f+0x1370+-0x81*0x17;_0x259145<=_0x69769e;++_0x259145){for(_0x1488f6=0x26d0+-0x1203*0x1+-0x14cd;_0x1488f6<_0x1e6a47['length']&&_0x2dc148[_0x259145+_0x1488f6]===_0x1e6a47[_0x1488f6];++_0x1488f6);if(_0x1488f6===_0x1e6a47['length'])return _0x259145;}return-(0x264*0x7+-0x12c2+0x207);},_0x1bf9fa=(_0x345cf1,_0x22dfbf)=>{if(_0x345cf1['length']<_0x22dfbf['length'])return!(0x1f8b+0x162e+-0x35b8);for(let _0xdde5ce=-0xe01+-0x6*0x1+0xe07;_0xdde5ce<_0x22dfbf['length'];++_0xdde5ce)if(_0x345cf1[_0xdde5ce]!==_0x22dfbf[_0xdde5ce])return!(0x10e5+-0x20d8+-0x7fa*-0x2);return!(-0x512*-0x1+-0x1579*-0x1+-0x1a8b);},_0x11c310=new O2(_0x215f12,_0x408a44);let _0x32edd9;for(;;){if(await _0x11c310['read'](),_0x11c310['tail']>=Ug['length']&&!_0x1bf9fa(_0x11c310['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x32edd9=_0x2e2b7f(_0x11c310['data'],Vg),_0x32edd9!==-(0x10f0+0x1391+-0x2480))break;}const _0x3fe5de=new TextDecoder('ascii')['decode'](_0x11c310['data']['subarray'](-0x1d2*-0x2+-0x1a43+-0x1*-0x169f,_0x32edd9))['split']('\x0a'),{elements:_0x1d057e,format:_0x19f0b7,comments:_0x4308aa}=k2(_0x3fe5de);if(_0x19f0b7!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x11c310['head']=_0x32edd9+Vg['length'],_0x11c310['compact'](),{'data':await((async()=>B2(_0x1d057e)?await z2(_0x11c310,_0x1d057e):(_0x1d057e['forEach'](_0x4abac4=>{_0x4abac4['properties']['forEach'](_0x8b1e39=>{const _0x262e8d=bf['get'](_0x8b1e39['type']);if(_0x262e8d){const _0x283253=!_0x2d619a||_0x2d619a(_0x8b1e39['name'])?new _0x262e8d(_0x4abac4['count']):null;_0x8b1e39['storage']=_0x283253;}});}),N2(_0x1d057e)?await U2(_0x11c310,_0x1d057e):await V2(_0x11c310,_0x1d057e)))()),'comments':_0x4308aa};},H2=_0x591bc4=>!(0xfdc+-0xab9+0x107*-0x5);class W2{constructor(_0x26a51b,_0x2884c1,_0x3b36d0){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x26a51b,this['assets']=_0x2884c1,this['maxRetries']=_0x3b36d0,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x52f58f,_0x76781b,_0x1ea975){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x52f58f['load']['includes'](',')?this['urlList']=_0x52f58f['load']['split'](','):this['urlList']['push'](_0x52f58f['load']);const _0x43cedf=_0x1ea975['data']['loadAllSeq']?this['urlList']['length']:0x15db+-0x713+-0xec7,_0x17fed3=_0x1ea975['data']['timeOption'],_0x4edd32=_0x1ea975['data']['events'];for(let _0x58fd83=0x207b+-0x897*-0x1+-0x2912;_0x58fd83<_0x43cedf;_0x58fd83++)await this['loadGsplat'+'Data'](this['urlList'][_0x58fd83]['trim'](),_0x76781b,_0x1ea975,_0x58fd83,_0x17fed3,_0x4edd32);}async['loadGsplat'+'Data'](_0x16039e,_0x4501c2,_0xb83954,_0x2224f3,_0x2e95d6,_0x53705c){var _0xa09672;try{const _0x10a919=await fetch(_0x16039e);if(!_0x10a919||!_0x10a919['body'])_0x4501c2('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x58144b=parseInt(_0x10a919['headers']['get']('content-le'+'ngth')??'0',-0x2*0x3c7+0x8*-0x97+0xc50);let _0x56a587=0x12ba+-0x21e9+-0x12b*-0xd;const {data:_0x14212b,comments:_0x104f24}=await G2(_0x10a919['body']['getReader'](),_0xb83954['data']['elementFil'+'ter']??H2,_0x495095=>{_0x56a587+=_0x495095,_0xb83954&&_0x53705c['fire']('progress',_0x56a587,_0x58144b);});_0x14212b['isCompress'+'ed']||_0xb83954['data']['reorder'],this['gsplatReso'+'urce']&&((_0xa09672=this['gsplatReso'+'urce'])!=null&&_0xa09672['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x14212b['isCompress'+'ed']&&_0xb83954['data']['decompress']?await _0x14212b['decompress']():_0x14212b,_0x2e95d6,_0x2224f3):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x14212b['isCompress'+'ed']&&_0xb83954['data']['decompress']?await _0x14212b['decompress']():_0x14212b,_0x104f24),this['gsplatReso'+'urce']['timeOption']=_0x2e95d6,_0x53705c['fire']('progressEn'+'d')),_0x4501c2(null,this['gsplatReso'+'urce']);}}catch(_0x25fa71){_0x4501c2(_0x25fa71,null);}}['open'](_0x5b5337,_0x5ea64d){return _0x5ea64d;}}class $2 extends Ne{constructor(_0x325aa0){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x325aa0,'gsplat'),this['parser']=new W2(_0x325aa0['graphicsDe'+'vice'],_0x325aa0['assets'],-0x86e+-0xd94+-0x1605*-0x1);}['load'](_0x16042e,_0x5c0731,_0x29906f){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x16042e=='string'&&(_0x16042e={'load':_0x16042e,'original':_0x16042e}),this['parser']['load'](_0x16042e,_0x5c0731,_0x29906f);}['open'](_0xaf6aa,_0x593b66,_0x259e16){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0xaf6aa,_0x593b66,_0x259e16);}}class wf{static['setCompres'+'sedPRS'](_0x24df24,_0x1ae118,_0x163f30){const _0x8c781d=_0x163f30['singleVecs'];let _0x39f7af,_0x4113ba;const _0x434f24=_0x1ae118['___1'];_0x434f24||(_0x39f7af=_0x163f30['tripleVecs'],_0x4113ba=_0x1ae118['___2']);let _0x39b4fb=_0x434f24?_0x434f24[-0x17ee+-0x134*0x3+0x1b8a*0x1]:_0x39f7af[_0x4113ba];_0x24df24['setLocalPo'+'sition'](_0x8c781d[_0x39b4fb],_0x8c781d[_0x39b4fb+(0x2368+0x153f+0x6*-0x971)],_0x8c781d[_0x39b4fb+(0x15d5+0xeef+-0x24c2)]),_0x39b4fb=_0x434f24?_0x434f24[-0x15cb*-0x1+0x6d*-0x4+-0x1416]:_0x39f7af[_0x4113ba+(0x2*0xfc1+0x8*-0x350+-0x501)],_0x24df24['setLocalEu'+'lerAngles'](_0x8c781d[_0x39b4fb],_0x8c781d[_0x39b4fb+(-0x21d0+-0x1287+0x3458)],_0x8c781d[_0x39b4fb+(0x541*-0x7+-0x5b3*0x5+0x4148)]),_0x39b4fb=_0x434f24?_0x434f24[0x18f*0x8+0x4a2*-0x5+0xab4]:_0x39f7af[_0x4113ba+(-0xc93+0x1*0x2630+0x159*-0x13)],_0x24df24['setLocalSc'+'ale'](_0x8c781d[_0x39b4fb],_0x8c781d[_0x39b4fb+(0x1*0x88a+0x331*-0x3+-0x2*-0x85)],_0x8c781d[_0x39b4fb+(-0x1*-0x355+0x54f*0x3+0xe*-0x160)]);}static['oneCharToK'+'ey'](_0x4c9d03,_0x3d4a85){const _0x5c8e87=_0x4c9d03['charCodeAt'](-0xf*0x15a+-0x13ff+-0xa9*-0x3d)-_0x3d4a85['fieldFirst'+'Code'];return _0x3d4a85['fieldArray'][_0x5c8e87];}static['multCharTo'+'Key'](_0x4f996c,_0xde7ae5){let _0x4b43ff=0x1126*0x2+-0x89*0x1d+-0x12c7;for(let _0x1372b8=0x1*0x749+-0x25f9+0x4*0x7ac;_0x1372b8<_0x4f996c['length'];_0x1372b8++)_0x4b43ff=_0x4b43ff*_0xde7ae5['fieldCodeB'+'ase']+_0x4f996c['charCodeAt'](_0x1372b8)-_0xde7ae5['fieldFirst'+'Code'];return _0xde7ae5['fieldArray'][_0x4b43ff];}}class sc{constructor(_0x37e92b,_0x3e5384){this['_node']=_0x37e92b,this['_data']=_0x3e5384;}['run'](){const _0x2b1a4b=Object['prototype']['toString']['call'](this['_node']);return _0x2b1a4b==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x2b1a4b==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x48ec56){let _0x4d2dec=_0x48ec56;const _0x30368c=_0x48ec56['length'];_0x30368c===-0x1ac1+0x3f*0x71+-0x10d?_0x4d2dec=wf['oneCharToK'+'ey'](_0x48ec56,this['_data']):_0x30368c===-0x91b+-0x14*-0x5e+0x1c5&&(_0x4d2dec=wf['multCharTo'+'Key'](_0x48ec56,this['_data'])),this['_result'][_0x4d2dec]=new sc(this['_node'][_0x48ec56],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0xb1989b){const _0x5b6405=new sc(_0xb1989b,this['_data'])['run']();this['_result']['push'](_0x5b6405);}}class Wp{constructor(_0x3d16d9,_0x3a8e23){this['_app']=_0x3d16d9,this['_isTemplat'+'e']=_0x3a8e23;}['parse'](_0x19ba96){const _0x4521cc={};let _0x4db59c=null;const _0x466542=_0x19ba96['compressed'+'Format'];_0x466542&&!_0x19ba96['entDecompr'+'essed']&&(_0x19ba96['entDecompr'+'essed']=!(-0x1057+0x623+0xa34),_0x19ba96['entities']=new sc(_0x19ba96['entities'],_0x466542)['run']());for(const _0x4bed35 in _0x19ba96['entities']){const _0x251092=_0x19ba96['entities'][_0x4bed35],_0x1c31d2=this['_createEnt'+'ity'](_0x251092,_0x466542);_0x4521cc[_0x4bed35]=_0x1c31d2,_0x251092['parent']===null&&(_0x4db59c=_0x1c31d2);}for(const _0x326b26 in _0x19ba96['entities']){const _0x2b8df4=_0x4521cc[_0x326b26],_0x528c50=_0x19ba96['entities'][_0x326b26]['children'],_0x1527da=_0x528c50['length'];for(let _0x5cd98b=0x6f*-0x15+0x1119+-0x2aa*0x3;_0x5cd98b<_0x1527da;_0x5cd98b++){const _0x4c5695=_0x4521cc[_0x528c50[_0x5cd98b]];_0x4c5695&&_0x2b8df4['addChild'](_0x4c5695);}}return this['_openCompo'+'nentData'](_0x4db59c,_0x19ba96['entities']),_0x4db59c;}['_createEnt'+'ity'](_0x118ba0,_0x459a89){const _0x114f21=new We(_0x118ba0['name'],this['_app']);if(_0x114f21['setGuid'](_0x118ba0['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x114f21,_0x118ba0,_0x459a89),_0x114f21['_enabled']=_0x118ba0['enabled']??!(-0x2312+0x206f+0x2a3),this['_isTemplat'+'e']?_0x114f21['_template']=!(0x18ac+-0x9b1+-0xefb):_0x114f21['_enabledIn'+'Hierarchy']=_0x114f21['_enabled'],_0x114f21['template']=_0x118ba0['template'],_0x118ba0['tags']){for(let _0x2e6d83=-0x1aae+0x266e+-0xbc0;_0x2e6d83<_0x118ba0['tags']['length'];_0x2e6d83++)_0x114f21['tags']['add'](_0x118ba0['tags'][_0x2e6d83]);}return _0x114f21;}['_setPosRot'+'Scale'](_0x2c28ac,_0x458bdd,_0xace16c){if(_0xace16c)wf['setCompres'+'sedPRS'](_0x2c28ac,_0x458bdd,_0xace16c);else{const _0x28af5a=_0x458bdd['position'],_0x464613=_0x458bdd['rotation'],_0x403d7f=_0x458bdd['scale'];_0x2c28ac['setLocalPo'+'sition'](_0x28af5a[-0xd*0x121+0xdcc+0xe1],_0x28af5a[0x1404+0xa1e*-0x2+-0x13*-0x3],_0x28af5a[-0x845*0x3+0x20ca+-0x7f9]),_0x2c28ac['setLocalEu'+'lerAngles'](_0x464613[-0x1*-0x98c+0x1331+-0x1cbd],_0x464613[0xc1*-0x25+-0x25f*-0x5+0x100b],_0x464613[0x2141*0x1+-0xfdc+-0x1163]),_0x2c28ac['setLocalSc'+'ale'](_0x403d7f[-0x11*0x97+-0x1dcd+0x27d4],_0x403d7f[0x2c6+-0x16d+0x2b*-0x8],_0x403d7f[-0x65d+0x47*-0x13+0x95*0x14]);}}['_openCompo'+'nentData'](_0x1991bd,_0x255900){const _0x173355=this['_app']['systems']['list'];let _0x5cfb0d=_0x173355['length'];const _0x320cf1=_0x255900[_0x1991bd['getGuid']()];for(let _0x1a995c=-0x125b+-0x727+-0x1*-0x1982;_0x1a995c<_0x5cfb0d;_0x1a995c++){const _0xc5c0a0=_0x173355[_0x1a995c],_0x12e1f8=_0x320cf1['components'][_0xc5c0a0['id']];_0x12e1f8&&_0xc5c0a0['addCompone'+'nt'](_0x1991bd,_0x12e1f8);}_0x5cfb0d=_0x320cf1['children']['length'];const _0x438c40=_0x1991bd['_children'];for(let _0x1f1681=0x2561+0x22cb*0x1+-0x482c;_0x1f1681<_0x5cfb0d;_0x1f1681++)_0x438c40[_0x1f1681]?_0x438c40[_0x1f1681]=this['_openCompo'+'nentData'](_0x438c40[_0x1f1681],_0x255900):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x1991bd['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x1991bd;}}class Lx{static['load'](_0x15b21e,_0x1b3e68,_0x25ad7c){typeof _0x15b21e=='string'&&(_0x15b21e={'load':_0x15b21e,'original':_0x15b21e}),$e['get'](_0x15b21e['load'],{'retry':_0x1b3e68>0x5*0x3d9+-0x1*0xf87+-0x3b6,'maxRetries':_0x1b3e68},(_0x5b0b0b,_0xb81695)=>{if(!_0x5b0b0b)_0x25ad7c(_0x5b0b0b,_0xb81695);else{let _0x37cced='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x15b21e['original'];_0x5b0b0b['message']?(_0x37cced+=':\x20'+_0x5b0b0b['message'],_0x5b0b0b['stack']&&(_0x37cced+='\x0a'+_0x5b0b0b['stack'])):_0x37cced+=':\x20'+_0x5b0b0b,_0x25ad7c(_0x37cced);}});}}class q2 extends Ne{constructor(_0x510571){super(_0x510571,'hierarchy');}['load'](_0x361e96,_0x57da9c){Lx['load'](_0x361e96,this['maxRetries'],_0x57da9c);}['open'](_0x37bf55,_0x5ac420){this['_app']['systems']['script']['preloading']=!(-0x3*-0x92f+0x1c5*-0x4+-0x1479);const _0x18419f=new Wp(this['_app'],!(-0x2232+0xc2f+0x1604))['parse'](_0x5ac420);return this['_app']['systems']['script']['preloading']=!(0x11a5*0x1+0x199*-0x1+0x1*-0x100b),_0x18419f;}}class X2 extends Ne{constructor(_0x34c1cc){super(_0x34c1cc,'html'),c(this,'decoder',null);}['load'](_0x221fce,_0x6129a1){typeof _0x221fce=='string'&&(_0x221fce={'load':_0x221fce,'original':_0x221fce}),$e['get'](_0x221fce['load'],{'retry':this['maxRetries']>0x3d6+-0x14db*0x1+0x1105,'maxRetries':this['maxRetries']},(_0x7fbcfe,_0x1b2713)=>{_0x7fbcfe?_0x6129a1('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x221fce['original']+'\x20['+_0x7fbcfe+']'):_0x6129a1(null,_0x1b2713);});}['openBinary'](_0x152e0d){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x152e0d);}}class j2 extends Ne{constructor(_0x41fe2){super(_0x41fe2,'json'),c(this,'decoder',null);}['load'](_0x33f8de,_0x4de9c0){typeof _0x33f8de=='string'&&(_0x33f8de={'load':_0x33f8de,'original':_0x33f8de});const _0x34a705={'retry':this['maxRetries']>-0x17a2+-0xa20+-0x12a*-0x1d,'maxRetries':this['maxRetries']};_0x33f8de['load']['startsWith']('blob:')&&(_0x34a705['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x33f8de['load'],_0x34a705,(_0x39ffd3,_0x59d68a)=>{_0x39ffd3?_0x4de9c0('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x33f8de['original']+'\x20['+_0x39ffd3+']'):_0x4de9c0(null,_0x59d68a);});}['openBinary'](_0x42042b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x42042b));}}class Y2{constructor(){this['removeInva'+'lid']=!(-0x1*-0x1304+-0x1cb5+0x9b1*0x1),this['valid']=!(-0x17*-0x6e+0xa3e+-0x1420),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x109bec,_0x5a18db){this['valid']=!(-0x15d*-0x1+0xe0c+-0xf68),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x109bec,_0x5a18db[_0x109bec]),this['removeInva'+'lid']&&delete _0x5a18db[_0x109bec];}['validate'](_0x3fd99c){const _0x79cc7d=Pa,_0x195549=QC,_0x34d3ce=_0x3fd99c['mappingFor'+'mat']==='path';for(const _0xf09e67 in _0x3fd99c){const _0x470909=_0x79cc7d[_0xf09e67];if(!_0x470909){_0x195549[_0xf09e67]?delete _0x3fd99c[_0xf09e67]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0xf09e67),this['valid']=!(0x8f3+-0x29*0x9+-0x71*0x11));continue;}if(_0x470909['startsWith']('enum')){const _0x2cba4c=_0x470909['split'](':')[0x61a*-0x1+-0x3*-0x9fe+-0x17df];this['enumValida'+'tors'][_0x2cba4c]&&(this['enumValida'+'tors'][_0x2cba4c](_0x3fd99c[_0xf09e67])||this['setInvalid'](_0xf09e67,_0x3fd99c));}else{if(_0x470909==='number')typeof _0x3fd99c[_0xf09e67]!='number'&&this['setInvalid'](_0xf09e67,_0x3fd99c);else{if(_0x470909==='boolean')typeof _0x3fd99c[_0xf09e67]!='boolean'&&this['setInvalid'](_0xf09e67,_0x3fd99c);else{if(_0x470909==='string')typeof _0x3fd99c[_0xf09e67]!='string'&&this['setInvalid'](_0xf09e67,_0x3fd99c);else{if(_0x470909==='vec2')_0x3fd99c[_0xf09e67]instanceof Array&&_0x3fd99c[_0xf09e67]['length']===0x11ec+0x17f0+0x16*-0x1e7||this['setInvalid'](_0xf09e67,_0x3fd99c);else{if(_0x470909==='rgb')_0x3fd99c[_0xf09e67]instanceof Array&&_0x3fd99c[_0xf09e67]['length']===-0x2*0xae3+0x1f*-0x74+0x1*0x23d5||this['setInvalid'](_0xf09e67,_0x3fd99c);else{if(_0x470909==='texture')_0x34d3ce?typeof _0x3fd99c[_0xf09e67]=='string'||_0x3fd99c[_0xf09e67]===null||_0x3fd99c[_0xf09e67]instanceof he||this['setInvalid'](_0xf09e67,_0x3fd99c):typeof _0x3fd99c[_0xf09e67]=='number'||_0x3fd99c[_0xf09e67]===null||_0x3fd99c[_0xf09e67]instanceof he||this['setInvalid'](_0xf09e67,_0x3fd99c);else{if(_0x470909==='boundingbo'+'x')_0x3fd99c[_0xf09e67]['center']&&_0x3fd99c[_0xf09e67]['center']instanceof Array&&_0x3fd99c[_0xf09e67]['center']['length']===-0x9*0x84+0x24a+-0xb*-0x37||this['setInvalid'](_0xf09e67,_0x3fd99c),_0x3fd99c[_0xf09e67]['halfExtent'+'s']&&_0x3fd99c[_0xf09e67]['halfExtent'+'s']instanceof Array&&_0x3fd99c[_0xf09e67]['halfExtent'+'s']['length']===0xad*0x1+-0x16b0+-0x1606*-0x1||this['setInvalid'](_0xf09e67,_0x3fd99c);else{if(_0x470909==='cubemap')typeof _0x3fd99c[_0xf09e67]=='number'||_0x3fd99c[_0xf09e67]===null||_0x3fd99c[_0xf09e67]===void(-0x20b8+0xb9*0x3+0x21*0xed)||_0x3fd99c[_0xf09e67]instanceof he&&_0x3fd99c[_0xf09e67]['cubemap']||this['setInvalid'](_0xf09e67,_0x3fd99c);else{if(_0x470909==='chunks'){const _0x21c02f=Object['keys'](_0x3fd99c[_0xf09e67]);for(let _0x2acb96=0x25a+0x3bb*-0x6+0x1408;_0x2acb96<_0x21c02f['length'];_0x2acb96++)typeof _0x3fd99c[_0xf09e67][_0x21c02f[_0x2acb96]]!='string'&&this['setInvalid'](_0x21c02f[_0x2acb96],_0x3fd99c[_0xf09e67]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x470909);}}}}}}}}}}return _0x3fd99c['validated']=!(0x2f4+-0xe10+-0xed*-0xc),this['valid'];}['_createEnu'+'mValidator'](_0x414e0e){return function(_0x1bec7a){return _0x414e0e['indexOf'](_0x1bec7a)>=-0x1a40+-0xf51*0x2+0x1*0x38e2;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x17428d){const _0x589aea=this['migrate'](_0x17428d),_0x150c6b=this['_validate'](_0x589aea),_0x1d9dec=new cs();return this['initialize'](_0x1d9dec,_0x150c6b),_0x1d9dec;}['initialize'](_0x2e44cd,_0x40b554){_0x40b554['validated']||(_0x40b554=this['_validate'](_0x40b554)),_0x40b554['chunks']&&(_0x2e44cd['chunks']={..._0x40b554['chunks']});for(const _0x28c629 in _0x40b554){const _0x28dbf3=Pa[_0x28c629],_0x3d5be8=_0x40b554[_0x28c629];if(_0x28dbf3==='vec2')_0x2e44cd[_0x28c629]=new W(_0x3d5be8[0x3d7*-0x9+-0x1*0x18ed+-0xbc*-0x51],_0x3d5be8[-0x1e76+-0x3d*0x9d+0x43e0]);else{if(_0x28dbf3==='rgb')_0x2e44cd[_0x28c629]=new Y(_0x3d5be8[0x17*-0x49+0x2178+-0x1ae9],_0x3d5be8[-0x1329+-0x84*-0xf+0xb6e],_0x3d5be8[0xa99*0x1+-0x198+-0x8ff]);else{if(_0x28dbf3==='texture')_0x3d5be8 instanceof he?_0x2e44cd[_0x28c629]=_0x3d5be8:_0x2e44cd[_0x28c629]instanceof he&&typeof _0x3d5be8=='number'&&_0x3d5be8>0x6f*0x29+0x138+0x12ff*-0x1||(_0x2e44cd[_0x28c629]=null);else{if(_0x28dbf3==='cubemap')_0x3d5be8 instanceof he?_0x2e44cd[_0x28c629]=_0x3d5be8:_0x2e44cd[_0x28c629]instanceof he&&typeof _0x3d5be8=='number'&&_0x3d5be8>0x14b*-0xd+-0x1*0x1415+0x313*0xc||(_0x2e44cd[_0x28c629]=null),_0x28c629==='cubeMap'&&!_0x3d5be8&&(_0x2e44cd['prefiltere'+'dCubemaps']=null);else{if(_0x28dbf3==='boundingbo'+'x'){const _0x43620d=new T(_0x3d5be8['center'][-0x2129+0x3e5*0x2+0x1*0x195f],_0x3d5be8['center'][-0xce*0x11+0xc28+-0x11*-0x17],_0x3d5be8['center'][0x1160+0xe*-0x1fa+-0x527*-0x2]),_0x277275=new T(_0x3d5be8['halfExtent'+'s'][-0x1*-0x19c2+0x252a+-0x3eec*0x1],_0x3d5be8['halfExtent'+'s'][-0x95f*0x1+0x9f2+-0x92*0x1],_0x3d5be8['halfExtent'+'s'][0x9cd+-0x1d2d+0x1362]);_0x2e44cd[_0x28c629]=new _e(_0x43620d,_0x277275);}else _0x2e44cd[_0x28c629]=_0x40b554[_0x28c629];}}}}}_0x2e44cd['update']();}['migrate'](_0x49b1cc){_0x49b1cc['shader']&&delete _0x49b1cc['shader'],_0x49b1cc['mapping_fo'+'rmat']&&(_0x49b1cc['mappingFor'+'mat']=_0x49b1cc['mapping_fo'+'rmat'],delete _0x49b1cc['mapping_fo'+'rmat']);let _0x36a8fb;const _0x24bc57=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x36a8fb=-0x6b+-0xf44+0xfaf;_0x36a8fb<_0x24bc57['length'];_0x36a8fb++){const _0x5006cd=_0x24bc57[_0x36a8fb][-0x2358+0x772+-0xdf3*-0x2],_0xd0122a=_0x24bc57[_0x36a8fb][0x1f6e+0x1*0x494+-0xd*0x2c5];_0x49b1cc[_0x5006cd]!==void(-0x24cb*0x1+-0x20ae+-0x4579*-0x1)&&(_0x49b1cc[_0xd0122a]===void(0x171c+0x113a+-0x2856)&&(_0x49b1cc[_0xd0122a]=_0x49b1cc[_0x5006cd]),delete _0x49b1cc[_0x5006cd]);}const _0x364160=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x36a8fb=-0x17*-0x7d+-0x2593*0x1+0x1a58;_0x36a8fb<_0x364160['length'];_0x36a8fb++){const _0x3d3654=_0x364160[_0x36a8fb];_0x49b1cc['hasOwnProp'+'erty'](_0x3d3654)&&delete _0x49b1cc[_0x3d3654];}return _0x49b1cc;}['_validate'](_0x3ba4e3){return _0x3ba4e3['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x3ba4e3)),_0x3ba4e3;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x4a984b){super(_0x4a984b,'material'),this['_assets']=_0x4a984b['assets'],this['_device']=_0x4a984b['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x2d7192,_0x43f757){typeof _0x2d7192=='string'&&(_0x2d7192={'load':_0x2d7192,'original':_0x2d7192}),$e['get'](_0x2d7192['load'],{'retry':this['maxRetries']>0x4ef*-0x4+-0x95*0xd+0x1b4d,'maxRetries':this['maxRetries']},(_0x579e49,_0x274358)=>{_0x579e49?_0x43f757&&_0x43f757('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x2d7192['original']+'\x20['+_0x579e49+']'):_0x43f757&&(_0x274358['_engine']=!(-0x1*0xaa2+-0x26b4+0x1*0x3156),_0x43f757(null,_0x274358));});}['open'](_0x2bbcba,_0x376d37){const _0x1e6780=this['_parser']['parse'](_0x376d37);return _0x376d37['_engine']&&(_0x1e6780['_data']=_0x376d37,delete _0x376d37['_engine']),_0x1e6780;}['patch'](_0x485986,_0x35bcf2){_0x485986['resource']['_data']&&(_0x485986['_data']=_0x485986['resource']['_data'],delete _0x485986['resource']['_data']),_0x485986['data']['name']=_0x485986['name'],_0x485986['resource']['name']=_0x485986['name'],this['_bindAndAs'+'signAssets'](_0x485986,_0x35bcf2),_0x485986['off']('unload',this['_onAssetUn'+'load'],this),_0x485986['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x590446){delete _0x590446['data']['parameters'],delete _0x590446['data']['chunks'],delete _0x590446['data']['name'];}['_assignTex'+'ture'](_0x6a97a3,_0x290166,_0x3cda96){_0x290166['resource'][_0x6a97a3]=_0x3cda96;}['_getPlaceh'+'olderTextu'+'re'](_0x294795){const _0x3fc819=Z2[_0x294795];return v['assert'](_0x3fc819,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x294795),en(this['_device'],_0x3fc819);}['_assignPla'+'ceholderTe'+'xture'](_0x57141f,_0x1d9b25){_0x1d9b25['resource'][_0x57141f]=this['_getPlaceh'+'olderTextu'+'re'](_0x57141f);}['_onTexture'+'Load'](_0x3e26d2,_0x1e2a7f,_0x2fcd92){this['_assignTex'+'ture'](_0x3e26d2,_0x1e2a7f,_0x2fcd92['resource']),_0x1e2a7f['resource']['update']();}['_onTexture'+'Add'](_0x2f1a44,_0x25fc43,_0x3c887b){this['_assets']['load'](_0x3c887b);}['_onTexture'+'RemoveOrUn'+'load'](_0x5e7177,_0x85aff6,_0x5e1db2){const _0x1b01ff=_0x85aff6['resource'];_0x1b01ff&&_0x85aff6['resource'][_0x5e7177]===_0x5e1db2['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x5e7177,_0x85aff6),_0x1b01ff['update']());}['_assignCub'+'emap'](_0x2b003e,_0x1823b9,_0x15c0f2){if(_0x1823b9['resource'][_0x2b003e]=_0x15c0f2[-0xa95+0x17*-0x49+-0x1124*-0x1],_0x2b003e==='cubeMap'){const _0x230881=_0x15c0f2['slice'](-0x1ecd+0x1*0xed5+0xff9);_0x230881['every'](_0x229b08=>_0x229b08)?_0x1823b9['resource']['prefiltere'+'dCubemaps']=_0x230881:_0x230881[-0x3e1+-0x103*0x13+0xb8d*0x2]&&(_0x1823b9['resource']['envAtlas']=_0x230881[-0x26b8+-0x2e*0xa4+0x4430]);}}['_onCubemap'+'Load'](_0x5a3b52,_0x2f5801,_0x1a7fee){this['_assignCub'+'emap'](_0x5a3b52,_0x2f5801,_0x1a7fee['resources']),this['_parser']['initialize'](_0x2f5801['resource'],_0x2f5801['data']);}['_onCubemap'+'Add'](_0x4b58fb,_0x36315c,_0x55e00c){this['_assets']['load'](_0x55e00c);}['_onCubemap'+'RemoveOrUn'+'load'](_0x291abf,_0x57dd2b,_0x564106){const _0x43f57e=_0x57dd2b['resource'];_0x57dd2b['data']['prefiltere'+'dCubeMap12'+'8']===_0x564106['resources'][0x2bd*-0x3+-0x1*0x46c+0xca4]&&(this['_assignCub'+'emap'](_0x291abf,_0x57dd2b,[null,null,null,null,null,null,null]),_0x43f57e['update']());}['_bindAndAs'+'signAssets'](_0x421214,_0x545a22){const _0x17a4e6=this['_parser']['migrate'](_0x421214['data']),_0x3e8285=_0x421214['resource'],_0x296a40=_0x17a4e6['mappingFor'+'mat']==='path',_0x45d345=Kc;let _0x50a56d,_0x31658a,_0x4606f9;for(_0x50a56d=0x1533+0x54d+-0x1a80;_0x50a56d<_0x45d345['length'];_0x50a56d++){_0x31658a=_0x45d345[_0x50a56d],_0x4606f9=_0x3e8285['_assetRefe'+'rences'][_0x31658a];const _0x2175d2=_0x17a4e6[_0x31658a],_0x3ea712=_0x3e8285[_0x31658a],_0x5115b9=_0x3ea712===this['_getPlaceh'+'olderTextu'+'re'](_0x31658a),_0x54dd91=_0x17a4e6['validated'];_0x2175d2&&(!_0x3ea712||!_0x54dd91||_0x5115b9)?(_0x4606f9||(_0x4606f9=new Go(_0x31658a,_0x421214,_0x545a22,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x3e8285['_assetRefe'+'rences'][_0x31658a]=_0x4606f9),_0x296a40?_0x4606f9['url']=_0x421214['getAbsolut'+'eUrl'](_0x2175d2):_0x4606f9['id']=_0x2175d2,_0x4606f9['asset']&&(_0x4606f9['asset']['resource']?this['_assignTex'+'ture'](_0x31658a,_0x421214,_0x4606f9['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x31658a,_0x421214),_0x545a22['load'](_0x4606f9['asset']))):_0x4606f9&&(_0x296a40?_0x4606f9['url']=null:_0x4606f9['id']=null);}const _0x5da544=Fp;for(_0x50a56d=-0xb96*0x1+-0x1ff2+-0x38*-0xc7;_0x50a56d<_0x5da544['length'];_0x50a56d++)_0x31658a=_0x5da544[_0x50a56d],_0x4606f9=_0x3e8285['_assetRefe'+'rences'][_0x31658a],_0x17a4e6[_0x31658a]&&!_0x421214['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x4606f9||(_0x4606f9=new Go(_0x31658a,_0x421214,_0x545a22,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x3e8285['_assetRefe'+'rences'][_0x31658a]=_0x4606f9),_0x296a40?_0x4606f9['url']=_0x17a4e6[_0x31658a]:_0x4606f9['id']=_0x17a4e6[_0x31658a],_0x4606f9['asset']&&(_0x4606f9['asset']['loaded']&&this['_assignCub'+'emap'](_0x31658a,_0x421214,_0x4606f9['asset']['resources']),_0x545a22['load'](_0x4606f9['asset'])));this['_parser']['initialize'](_0x3e8285,_0x17a4e6);}}class J2{constructor(_0x2eaae1){this['_device']=_0x2eaae1['device'],this['_defaultMa'+'terial']=_0x2eaae1['defaultMat'+'erial'],this['_assets']=_0x2eaae1['assets'];}['parse'](_0x4ef79b,_0xa4b067,_0x292580){tc['parse']('filename.g'+'lb','',_0x4ef79b,this['_device'],this['_assets'],(_0x292580==null?void(0x1ca7+0x1cb*0xf+0xa*-0x58e):_0x292580['options'])??{},(_0x3e6bd9,_0xf6c90)=>{if(_0x3e6bd9)_0xa4b067(_0x3e6bd9);else{const _0x55ecb3=tr['createMode'+'l'](_0xf6c90,this['_defaultMa'+'terial']);_0xf6c90['destroy'](),_0xa4b067(null,_0x55ecb3);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x72b164){this['_device']=_0x72b164['device'],this['_defaultMa'+'terial']=_0x72b164['defaultMat'+'erial'];}['parse'](_0x35a713,_0x386bd5){const _0x50cdea=_0x35a713['model'];if(!_0x50cdea){_0x386bd5(null,null);return;}if(_0x50cdea['version']<=-0x1f00+-0x13f9+0x32fa){_0x386bd5('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0xce3393=this['_parseNode'+'s'](_0x35a713),_0x3d9648=this['_parseSkin'+'s'](_0x35a713,_0xce3393),_0xa6db35=this['_parseVert'+'exBuffers'](_0x35a713),_0x45329a=this['_parseInde'+'xBuffers'](_0x35a713,_0xa6db35),_0xb270ef=this['_parseMorp'+'hs'](_0x35a713,_0xce3393,_0xa6db35),_0x4b7a80=this['_parseMesh'+'es'](_0x35a713,_0x3d9648['skins'],_0xb270ef['morphs'],_0xa6db35,_0x45329a['buffer'],_0x45329a['data']),_0x1432e6=this['_parseMesh'+'Instances'](_0x35a713,_0xce3393,_0x4b7a80,_0x3d9648['skins'],_0x3d9648['instances'],_0xb270ef['morphs'],_0xb270ef['instances']),_0x1f4b04=new Oi();_0x1f4b04['graph']=_0xce3393[-0x18d4+-0x1635+0x2f09],_0x1f4b04['meshInstan'+'ces']=_0x1432e6,_0x1f4b04['skinInstan'+'ces']=_0x3d9648['instances'],_0x1f4b04['morphInsta'+'nces']=_0xb270ef['instances'],_0x1f4b04['getGraph']()['syncHierar'+'chy'](),_0x386bd5(null,_0x1f4b04);}['_parseNode'+'s'](_0x4cfa65){const _0x351591=_0x4cfa65['model'],_0x345631=[];let _0x49111b;for(_0x49111b=-0x17f6*0x1+-0x24*0x7f+0x29d2;_0x49111b<_0x351591['nodes']['length'];_0x49111b++){const _0x21203c=_0x351591['nodes'][_0x49111b],_0x3d1af1=new De(_0x21203c['name']);_0x3d1af1['setLocalPo'+'sition'](_0x21203c['position'][0x4f*-0x2+-0xbf5+-0x1d*-0x6f],_0x21203c['position'][-0x1*-0x26db+0x49b+0x1*-0x2b75],_0x21203c['position'][0xee2*0x1+-0xe77+0x15*-0x5]),_0x3d1af1['setLocalEu'+'lerAngles'](_0x21203c['rotation'][0x20a7*0x1+-0x1fa7+-0x100],_0x21203c['rotation'][-0xeb8+0x1408+-0x54f],_0x21203c['rotation'][-0x1*0x248c+0x111e+-0x4*-0x4dc]),_0x3d1af1['setLocalSc'+'ale'](_0x21203c['scale'][0x59b+0x2f*-0x18+-0x133],_0x21203c['scale'][-0x80c+-0x9*0x3fa+0x2bd7],_0x21203c['scale'][-0x1*0x1651+0xe4f+0x804]),_0x3d1af1['scaleCompe'+'nsation']=!!_0x21203c['scaleCompe'+'nsation'],_0x345631['push'](_0x3d1af1);}for(_0x49111b=-0x1ab6+0x1643+0x3*0x17c;_0x49111b<_0x351591['parents']['length'];_0x49111b++)_0x345631[_0x351591['parents'][_0x49111b]]['addChild'](_0x345631[_0x49111b]);return _0x345631;}['_parseSkin'+'s'](_0x585ba7,_0x30eec8){const _0x59c4cc=_0x585ba7['model'],_0xd3b0c0=[],_0x5179a2=[];let _0x417dc2,_0x155b18;for(_0x417dc2=-0x2*-0x11ce+-0xadb*0x3+0x30b*-0x1;_0x417dc2<_0x59c4cc['skins']['length'];_0x417dc2++){const _0x90b691=_0x59c4cc['skins'][_0x417dc2],_0x489515=[];for(_0x155b18=0x4a7*0x5+0x140b+-0x1*0x2b4e;_0x155b18<_0x90b691['inverseBin'+'dMatrices']['length'];_0x155b18++){const _0x3a00ee=_0x90b691['inverseBin'+'dMatrices'][_0x155b18];_0x489515[_0x155b18]=new q()['set'](_0x3a00ee);}const _0x15d66c=new N0(this['_device'],_0x489515,_0x90b691['boneNames']);_0xd3b0c0['push'](_0x15d66c);const _0x4722eb=new nl(_0x15d66c),_0xfaa752=[];for(_0x155b18=-0x112*0x2+-0x115+0x339;_0x155b18<_0x15d66c['boneNames']['length'];_0x155b18++){const _0x271456=_0x15d66c['boneNames'][_0x155b18],_0x413bc9=_0x30eec8[0x1*0x9b5+0x6fa+-0x10af]['findByName'](_0x271456);_0xfaa752['push'](_0x413bc9);}_0x4722eb['bones']=_0xfaa752,_0x5179a2['push'](_0x4722eb);}return{'skins':_0xd3b0c0,'instances':_0x5179a2};}['_getMorphV'+'ertexCount'](_0x4f76b2,_0x5a5fac,_0x1a38fe){for(let _0x5ac195=-0xbf*-0x10+0x1a7*-0x11+0x1027*0x1;_0x5ac195<_0x4f76b2['meshes']['length'];_0x5ac195++){const _0x4212ed=_0x4f76b2['meshes'][_0x5ac195];if(_0x4212ed['morph']===_0x5a5fac)return _0x1a38fe[_0x4212ed['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x187086,_0x51dcc1,_0x342d51){const _0x249e99=_0x187086['model'],_0x1ac355=[],_0x39e1ae=[];let _0x419555,_0x529f1e,_0x497a99,_0x4c4294,_0x53b4d1,_0x3d90a8;if(_0x249e99['morphs']){const _0x2d841c=function(_0xf4e6d8,_0x411c77,_0x3cf45c){const _0x32af1e=new Float32Array(_0x3cf45c*(0x1e6*0xb+0x552*-0x2+-0x369*0x3));for(let _0x5135c7=-0x26*-0x5e+0x63+0xe57*-0x1;_0x5135c7<_0x411c77['length'];_0x5135c7++){const _0x10e749=_0x411c77[_0x5135c7]*(-0x1609+0x781+0xe8b);_0x32af1e[_0x10e749]=_0xf4e6d8[_0x5135c7*(-0x1*-0x1e4a+0x1bfc*-0x1+-0x1*0x24b)],_0x32af1e[_0x10e749+(0xbc5+-0x865+-0x35f)]=_0xf4e6d8[_0x5135c7*(-0xb*0x34f+0xd54+0x1714)+(0xa54*-0x1+0x149d+-0xa48)],_0x32af1e[_0x10e749+(-0x154c+-0x208*-0x3+0xf36*0x1)]=_0xf4e6d8[_0x5135c7*(-0x2*-0x15+-0x1*0x45d+0x9a*0x7)+(-0x1*0x151f+-0x4*0x471+-0x1*-0x26e5)];}return _0x32af1e;};for(_0x419555=0x3b6+-0x392+-0x24;_0x419555<_0x249e99['morphs']['length'];_0x419555++){for(_0x4c4294=_0x249e99['morphs'][_0x419555]['targets'],_0x3d90a8=[],_0x497a99=this['_getMorphV'+'ertexCount'](_0x249e99,_0x419555,_0x342d51),_0x529f1e=0xa44+0x3*0x53+-0xb3d;_0x529f1e<_0x4c4294['length'];_0x529f1e++){const _0x566116=_0x4c4294[_0x529f1e]['aabb'],_0x212de7=_0x566116['min'],_0x438397=_0x566116['max'],_0x25792b=new _e(new T((_0x438397[-0x25d4+-0x1*0x235f+-0x1*-0x4933]+_0x212de7[0xdab*0x2+-0x5*-0x4cc+0x1*-0x3352])*(0x2693+0x1d61+-0x43f4+0.5),(_0x438397[0x25c0+0x7*-0x9+0x78*-0x50]+_0x212de7[0x3a*0x47+0x9d*-0x17+-0x1fa])*(0x1971+0x92b+-0x2*0x114e+0.5),(_0x438397[-0x7*-0xe3+0x6e2*0x4+-0x21bb]+_0x212de7[0x18f4+0x1866+-0x3158])*(-0x68*0x12+0x13*0x68+-0x68+0.5)),new T((_0x438397[-0x2*0x6ed+0x569+-0x871*-0x1]-_0x212de7[-0x1dc9*0x1+-0x511+0x22da])*(0x614+-0xe02+0x7ee+0.5),(_0x438397[0x1911+0x49d*-0x5+-0x1ff]-_0x212de7[-0x1*-0x109+0x49+-0x1*0x151])*(-0x13c8+0x132a+-0x9e*-0x1+0.5),(_0x438397[0x2376+-0x4*0x3a9+0xde*-0x18]-_0x212de7[-0x1*0x1428+0xe9f+0x58b])*(-0x10b1*0x1+-0xc31*-0x1+0x480+0.5))),_0x5c9c75=_0x4c4294[_0x529f1e]['indices'];let _0x2e1bea=_0x4c4294[_0x529f1e]['deltaPosit'+'ions'],_0x3237ce=_0x4c4294[_0x529f1e]['deltaNorma'+'ls'];_0x5c9c75&&(_0x2e1bea=_0x2d841c(_0x2e1bea,_0x5c9c75,_0x497a99),_0x3237ce=_0x2d841c(_0x3237ce,_0x5c9c75,_0x497a99)),_0x53b4d1=new Qc({'deltaPositions':_0x2e1bea,'deltaNormals':_0x3237ce,'name':_0x4c4294[_0x529f1e]['name'],'aabb':_0x25792b}),_0x3d90a8['push'](_0x53b4d1);}const _0x3e8062=new F0(_0x3d90a8,this['_device']);_0x1ac355['push'](_0x3e8062);const _0x5c1c3e=new fn(_0x3e8062);_0x39e1ae['push'](_0x5c1c3e);}}return{'morphs':_0x1ac355,'instances':_0x39e1ae};}['_parseVert'+'exBuffers'](_0x10349d){const _0x2b6530=_0x10349d['model'],_0x3e6941=[],_0x2c635d={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x5a8ee3=-0x2229+-0x1df6+-0x401f*-0x1;_0x5a8ee3<_0x2b6530['vertices']['length'];_0x5a8ee3++){const _0x4fd4de=_0x2b6530['vertices'][_0x5a8ee3],_0x41f5e8=[];for(const _0x3d04ea in _0x4fd4de){const _0x405d01=_0x4fd4de[_0x3d04ea];_0x41f5e8['push']({'semantic':_0x2c635d[_0x3d04ea],'components':_0x405d01['components'],'type':tL[_0x405d01['type']],'normalize':_0x2c635d[_0x3d04ea]===At});}const _0x16903c=new Et(this['_device'],_0x41f5e8),_0x32a47f=_0x4fd4de['position']['data']['length']/_0x4fd4de['position']['components'],_0x200561=new os(this['_device'],_0x16903c,_0x32a47f),_0x3cad16=new go(_0x200561);for(let _0x2928c9=-0x1b27+-0x1e42+0x3969;_0x2928c9<_0x32a47f;_0x2928c9++){for(const _0x2b3e0b in _0x4fd4de){const _0x4f06dd=_0x4fd4de[_0x2b3e0b];switch(_0x4f06dd['components']){case 0xfff+0x49*-0x6a+-0xe3c*-0x1:_0x3cad16['element'][_0x2c635d[_0x2b3e0b]]['set'](_0x4f06dd['data'][_0x2928c9]);break;case 0x29*-0xf1+0xf74+-0x1*-0x1727:_0x3cad16['element'][_0x2c635d[_0x2b3e0b]]['set'](_0x4f06dd['data'][_0x2928c9*(0xf33+-0x1341+0x5*0xd0)],-0x1bd9*0x1+0x1*0xf6d+0x1*0xc6d-_0x4f06dd['data'][_0x2928c9*(0x318+0xb44+-0x1*0xe5a)+(-0x1*0x1421+0xad+0x1375)]);break;case 0x22*0x31+0x1cf9+-0x2378*0x1:_0x3cad16['element'][_0x2c635d[_0x2b3e0b]]['set'](_0x4f06dd['data'][_0x2928c9*(0x1*0x9c2+-0x1ab6+0x10f7)],_0x4f06dd['data'][_0x2928c9*(-0x4*-0x1dd+-0xc*-0x260+-0x23f1)+(-0xc2*0x33+-0x12*0x21e+0x4cc3)],_0x4f06dd['data'][_0x2928c9*(0x9a7*0x1+-0x4*-0x9d+-0xc18)+(0x1*0x22cb+-0x481*-0x8+-0x46d1)]);break;case-0x83*-0x1b+0xd4*0x1+0x6b*-0x23:_0x3cad16['element'][_0x2c635d[_0x2b3e0b]]['set'](_0x4f06dd['data'][_0x2928c9*(-0x2*-0x79b+-0x2047+0x1115)],_0x4f06dd['data'][_0x2928c9*(-0x1539+-0x7ba+0x1cf7)+(0x23aa+0xb0f+0xbae*-0x4)],_0x4f06dd['data'][_0x2928c9*(-0x1665+0xb*-0x276+0x317b)+(-0xd9c*0x1+-0x13e7+-0x2185*-0x1)],_0x4f06dd['data'][_0x2928c9*(-0x142c*-0x1+0x1245+-0x3*0xccf)+(-0x15*0xf6+-0x1864+0x71*0x65)]);break;}}_0x3cad16['next']();}_0x3cad16['end'](),_0x3e6941['push'](_0x200561);}return _0x3e6941;}['_parseInde'+'xBuffers'](_0x41d8be,_0x3373d8){const _0x171a71=_0x41d8be['model'];let _0x339c77=null,_0x46c4de=null,_0x29bded,_0x30499a=0x1928+-0x1*-0x1ca9+0x257*-0x17;for(_0x29bded=-0x1d43+-0x2452*0x1+0x4195;_0x29bded<_0x171a71['meshes']['length'];_0x29bded++){const _0x3772f8=_0x171a71['meshes'][_0x29bded];_0x3772f8['indices']!==void(-0xd7a+0xd45+-0x1*-0x35)&&(_0x30499a+=_0x3772f8['indices']['length']);}let _0x184fd5=0x2*-0xe63+-0x2038+0x1*0x3cfe;for(_0x29bded=0xa8b+0xd22+-0x227*0xb;_0x29bded<_0x3373d8['length'];_0x29bded++)_0x184fd5=Math['max'](_0x184fd5,_0x3373d8[_0x29bded]['numVertice'+'s']);return _0x30499a>0x1669*-0x1+-0xc60+0x22c9*0x1&&(_0x184fd5>0x1d80e+-0x2f*-0xa65+-0x2c09a?(_0x339c77=new lr(this['_device'],nr,_0x30499a),_0x46c4de=new Uint32Array(_0x339c77['lock']())):(_0x339c77=new lr(this['_device'],Pi,_0x30499a),_0x46c4de=new Uint16Array(_0x339c77['lock']()))),{'buffer':_0x339c77,'data':_0x46c4de};}['_parseMesh'+'es'](_0x104c81,_0x1f2413,_0x3752ef,_0x238e88,_0x1c5ea9,_0x16d7e3){const _0x236995=_0x104c81['model'],_0x56f14e=[];let _0x53451f=-0x1d6b+0x1*0x2fb+0x1a70*0x1;for(let _0x561724=0x14*0xbf+-0x1*-0xc51+-0x13*0x16f;_0x561724<_0x236995['meshes']['length'];_0x561724++){const _0x1062c4=_0x236995['meshes'][_0x561724],_0x4378f0=_0x1062c4['aabb'],_0x47bfcf=_0x4378f0['min'],_0x40f1be=_0x4378f0['max'],_0xc16eba=new _e(new T((_0x40f1be[0x1*-0x846+-0x2*0x1273+0x2d2c]+_0x47bfcf[-0x1*0x1b8f+0x22ad*0x1+-0x71e])*(0x895+0x1787+0x112*-0x1e+0.5),(_0x40f1be[0x1dec+-0x2504+0x719]+_0x47bfcf[0x1cc5+-0x2*-0x1228+-0x4114])*(0x19ba+-0x7*0x36d+-0x1bf+0.5),(_0x40f1be[-0x168f+-0x3fd*0x6+0x2e7f]+_0x47bfcf[-0x1a8*0x9+-0x2599+0x3483])*(-0x2612+-0xb35+-0x9db*-0x5+0.5)),new T((_0x40f1be[-0xe5b+-0x1f8b+0x2de6]-_0x47bfcf[0x47*-0x41+-0x652*0x6+0x37f3])*(-0x54b*0x3+-0x83d*0x4+-0x9*-0x56d+0.5),(_0x40f1be[0x83b*0x3+0xa6e*0x1+-0x231e]-_0x47bfcf[-0x5*-0x33e+0x210e+-0x1*0x3143])*(-0xd99+0x1*-0x9cf+-0x4*-0x5da+0.5),(_0x40f1be[0x117d+-0xba6+-0x5d5*0x1]-_0x47bfcf[-0x188c+0x953*-0x1+0x21e1])*(-0x14ed+0x2452+-0xf65+0.5))),_0x532179=_0x1062c4['indices']!==void(0x11b*-0xc+-0x2488+-0x1*-0x31cc),_0x347cbf=new Ie(this['_device']);_0x347cbf['vertexBuff'+'er']=_0x238e88[_0x1062c4['vertices']],_0x347cbf['indexBuffe'+'r'][-0x871+0x842*-0x2+0x18f5]=_0x532179?_0x1c5ea9:null,_0x347cbf['primitive'][-0x4db+-0x1*-0x1c33+0x7c8*-0x3]['type']=eL[_0x1062c4['type']],_0x347cbf['primitive'][0x96*-0xe+-0x1*-0x10d1+-0x93*0xf]['base']=_0x532179?_0x1062c4['base']+_0x53451f:_0x1062c4['base'],_0x347cbf['primitive'][-0x1*-0x249b+0x1868+-0x3d03]['count']=_0x1062c4['count'],_0x347cbf['primitive'][-0xd06+0x79*-0x49+0x2f87]['indexed']=_0x532179,_0x347cbf['skin']=_0x1062c4['skin']!==void(-0x1b60+0xc95+0x1*0xecb)?_0x1f2413[_0x1062c4['skin']]:null,_0x347cbf['morph']=_0x1062c4['morph']!==void(0xe71*-0x1+0x1*0x1b7c+-0xd0b)?_0x3752ef[_0x1062c4['morph']]:null,_0x347cbf['aabb']=_0xc16eba,_0x532179&&(_0x16d7e3['set'](_0x1062c4['indices'],_0x53451f),_0x53451f+=_0x1062c4['indices']['length']),_0x56f14e['push'](_0x347cbf);}return _0x1c5ea9!==null&&_0x1c5ea9['unlock'](),_0x56f14e;}['_parseMesh'+'Instances'](_0x51c66e,_0x354e36,_0x266541,_0xa5316f,_0x435567,_0x5bed5f,_0x1488b2){const _0x1d34d1=_0x51c66e['model'],_0x45fa02=[];let _0x5d1fbe;for(_0x5d1fbe=-0x11*0x223+-0x3*-0x253+0x1d5a;_0x5d1fbe<_0x1d34d1['meshInstan'+'ces']['length'];_0x5d1fbe++){const _0x18aa79=_0x1d34d1['meshInstan'+'ces'][_0x5d1fbe],_0x5428f3=_0x354e36[_0x18aa79['node']],_0x31081d=_0x266541[_0x18aa79['mesh']],_0x54fc73=new Le(_0x31081d,this['_defaultMa'+'terial'],_0x5428f3);if(_0x31081d['skin']){const _0x3fc0b1=_0xa5316f['indexOf'](_0x31081d['skin']);if(_0x3fc0b1===-(-0x5*0x536+0x1*0xfd9+0xa36*0x1))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x54fc73['skinInstan'+'ce']=_0x435567[_0x3fc0b1];}if(_0x31081d['morph']){const _0x3fddd5=_0x5bed5f['indexOf'](_0x31081d['morph']);if(_0x3fddd5===-(-0x2579+-0x1db1+0x432b*0x1))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x54fc73['morphInsta'+'nce']=_0x1488b2[_0x3fddd5];}_0x45fa02['push'](_0x54fc73);}return _0x45fa02;}}class iL extends Ne{constructor(_0x28efa5){super(_0x28efa5,'model'),this['_parsers']=[],this['device']=_0x28efa5['graphicsDe'+'vice'],this['assets']=_0x28efa5['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x1c2c68,_0x49f897)=>fe['getExtensi'+'on'](_0x1c2c68)==='.json'),this['addParser'](new J2(this),(_0x2b60f8,_0x4e6d97)=>fe['getExtensi'+'on'](_0x2b60f8)==='.glb');}['load'](_0x4fa78e,_0x1e3e65,_0x2a2d83){typeof _0x4fa78e=='string'&&(_0x4fa78e={'load':_0x4fa78e,'original':_0x4fa78e});const _0x3acb98={'retry':this['maxRetries']>-0x2002+-0x33*-0xa6+-0x110,'maxRetries':this['maxRetries']};(_0x4fa78e['load']['startsWith']('blob:')||_0x4fa78e['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x4fa78e['original'])['toLowerCas'+'e']()==='.glb'?_0x3acb98['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3acb98['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x4fa78e['load'],_0x3acb98,(_0x261a83,_0x15d0d5)=>{if(_0x1e3e65){if(_0x261a83)_0x1e3e65('Error\x20load'+'ing\x20model:'+'\x20'+_0x4fa78e['original']+'\x20['+_0x261a83+']');else{for(let _0x44b4b6=0x6e3+0x226+-0x3*0x303;_0x44b4b6<this['_parsers']['length'];_0x44b4b6++){const _0x3782bc=this['_parsers'][_0x44b4b6];if(_0x3782bc['decider'](_0x4fa78e['original'],_0x15d0d5)){_0x3782bc['parser']['parse'](_0x15d0d5,(_0x39bb7e,_0x4062f7)=>{_0x39bb7e?_0x1e3e65(_0x39bb7e):_0x1e3e65(null,_0x4062f7);},_0x2a2d83);return;}}_0x1e3e65('No\x20parsers'+'\x20found');}}});}['open'](_0x4973ec,_0x3e650f){return _0x3e650f;}['patch'](_0x4fafec,_0x4ef672){if(!_0x4fafec['resource'])return;const _0x37e9c4=_0x4fafec['data'],_0x574bd9=this;_0x4fafec['resource']['meshInstan'+'ces']['forEach']((_0x2cbb8a,_0x3b264c)=>{if(_0x37e9c4['mapping']){const _0x404758=function(_0x3c7fe1){_0x3c7fe1['resource']?_0x2cbb8a['material']=_0x3c7fe1['resource']:(_0x3c7fe1['once']('load',_0x404758),_0x4ef672['load'](_0x3c7fe1)),_0x3c7fe1['once']('remove',_0x17705c=>{_0x2cbb8a['material']===_0x17705c['resource']&&(_0x2cbb8a['material']=_0x574bd9['defaultMat'+'erial']);});};if(!_0x37e9c4['mapping'][_0x3b264c]){_0x2cbb8a['material']=_0x574bd9['defaultMat'+'erial'];return;}const _0x45b4e3=_0x37e9c4['mapping'][_0x3b264c]['material'],_0x59f328=_0x37e9c4['mapping'][_0x3b264c]['path'];let _0x194833;if(_0x45b4e3!==void(0x2*-0x6d9+0x632+0x180*0x5))_0x45b4e3?(_0x194833=_0x4ef672['get'](_0x45b4e3),_0x194833?_0x404758(_0x194833):_0x4ef672['once']('add:'+_0x45b4e3,_0x404758)):_0x2cbb8a['material']=_0x574bd9['defaultMat'+'erial'];else{if(_0x59f328){const _0x5dcc66=_0x4fafec['getAbsolut'+'eUrl'](_0x37e9c4['mapping'][_0x3b264c]['path']);_0x194833=_0x4ef672['getByUrl'](_0x5dcc66),_0x194833?_0x404758(_0x194833):_0x4ef672['once']('add:url:'+_0x5dcc66,_0x404758);}}}});}['addParser'](_0x1b857e,_0x399cf0){this['_parsers']['push']({'parser':_0x1b857e,'decider':_0x399cf0});}}class rL extends Ne{constructor(_0x1d50c8){super(_0x1d50c8,'scene');}['load'](_0x538f42,_0x2c661f){Lx['load'](_0x538f42,this['maxRetries'],_0x2c661f);}['open'](_0x529e0d,_0x374332){this['_app']['systems']['script']['preloading']=!(-0xb85+0x39*-0x36+0x178b);const _0x296114=new Wp(this['_app'],!(-0x11*-0x84+0x278+-0xb3b))['parse'](_0x374332),_0x1e06d4=this['_app']['scene'];return _0x1e06d4['root']=_0x296114,this['_app']['applyScene'+'Settings'](_0x374332['settings']),this['_app']['systems']['script']['preloading']=!(0x1*-0x176d+-0x4b5+0x1c23),_0x1e06d4;}}const hc=class hc{static['push'](_0x3f50c8){hc['_types']['push'](_0x3f50c8);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x4bf530,_0x31e348,_0x2e9c25)=>{aL[_0x4bf530]=-0x24ec+-0xd31+0x321e;});function oL(_0x1d9e46,_0x299f15,_0x19837e){if(typeof _0x1d9e46!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x1d9e46+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x1d9e46['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x1d9e46)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x299f15=_0x299f15||_0x1d9e46['__name']||Qh['__getScrip'+'tName'](_0x1d9e46),nL['has'](_0x299f15))throw new Error('script\x20nam'+'e:\x20\x27'+_0x299f15+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x1d9e46['__name']=_0x299f15,qh['getApplica'+'tion']()['scripts']['add'](_0x1d9e46),Xr['push'](_0x1d9e46);}const lL=_0x3be6f0=>_0x3be6f0[0x774+-0x77e+0xa]['toLowerCas'+'e']()+_0x3be6f0['substring'](0xa93*0x1+-0x26f*-0x4+-0x144e);class hL extends Ne{constructor(_0x1dcd11){super(_0x1dcd11,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x12b4d7 in this['_cache']){const _0xde66cb=this['_cache'][_0x12b4d7],_0x5d5ef7=_0xde66cb['parentNode'];_0x5d5ef7&&_0x5d5ef7['removeChil'+'d'](_0xde66cb);}this['_cache']={};}['load'](_0x3966d0,_0x45afea){typeof _0x3966d0=='string'&&(_0x3966d0={'load':_0x3966d0,'original':_0x3966d0});const _0x42b2f9=this;this['_app'];const _0x329066=(_0x3966d0['load'],(_0x215cfb,_0x5e8086,_0x1dda1e)=>{if(_0x215cfb)_0x45afea(_0x215cfb);else{const _0x5161ad={};for(let _0x8d7bd4=0x19d1+0x3*-0x819+0x1e*-0xd;_0x8d7bd4<Xr['_types']['length'];_0x8d7bd4++)_0x5161ad[Xr['_types'][_0x8d7bd4]['name']]=Xr['_types'][_0x8d7bd4];Xr['_types']['length']=-0x885*0x2+-0x1e*0x96+0x229e,_0x45afea(null,_0x5161ad,_0x1dda1e);const _0x38e17d=_0x5e8086['split']('&hash=')[-0x737+-0x1070+0x361*0x7];delete _0x42b2f9['_loader']['_cache'][pa['makeKey'](_0x38e17d,'script')];}}),[_0x164ee2]=_0x3966d0['load']['split']('?');_0x164ee2['endsWith']('.mjs')?this['_loadModul'+'e'](_0x164ee2,_0x329066):this['_loadScrip'+'t'](_0x3966d0['load'],_0x329066);}['open'](_0x3d9958,_0x561cf0){return _0x561cf0;}['patch'](_0x189361,_0x219308){}['_loadScrip'+'t'](_0x4d595a,_0x191660){const _0x140a5e=document['head'],_0x20eba5=document['createElem'+'ent']('script');this['_cache'][_0x4d595a]=_0x20eba5,_0x20eba5['async']=!(-0x194c+0x22a5+0x958*-0x1),_0x20eba5['addEventLi'+'stener']('error',_0xaa24d6=>{_0x191660('Script:\x20'+_0xaa24d6['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0xcb9*0x1+-0x1646+0x98e*0x1));let _0x2f51e4=!(-0x260f+0x68d+0x1f83);_0x20eba5['onload']=_0x20eba5['onreadysta'+'techange']=function(){!_0x2f51e4&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x2f51e4=!(0x91*0x2f+-0x426+-0x1679),_0x191660(null,_0x4d595a,_0x20eba5));},_0x20eba5['src']=_0x4d595a,_0x140a5e['appendChil'+'d'](_0x20eba5);}['_loadModul'+'e'](_0x48dcb8,_0x2c3825){const _0x3a6b80=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x444a1c=new URL(_0x48dcb8,_0x3a6b80);import(_0x444a1c['toString']())['then'](_0x11847b=>{var _0x21d740,_0x5db347;const _0x32db2f=_0x444a1c['pathname']['split']('/')['pop'](),_0x11a9f5=(_0x5db347=(_0x21d740=this['_app']['assets']['find'](_0x32db2f,'script'))==null?void(0x1106+-0x63f+0x1f*-0x59):_0x21d740['data'])==null?void(-0x9*0x12b+-0x2592+0x3015):_0x5db347['scripts'];for(const _0x38e9ab in _0x11847b){const _0x1477f3=_0x11847b[_0x38e9ab];if(_0x1477f3['prototype']instanceof Ht){const _0x313357=lL(_0x1477f3['name']);oL(_0x1477f3,_0x313357),_0x11a9f5&&this['_app']['scripts']['addSchema'](_0x313357,_0x11a9f5[_0x313357]);}}_0x2c3825(null,_0x48dcb8,null);})['catch'](_0x3d533d=>{_0x2c3825(_0x3d533d);});}}class cL extends Ne{constructor(_0x1a9c42){super(_0x1a9c42,'shader'),c(this,'decoder',null);}['load'](_0x37086a,_0x13c379){typeof _0x37086a=='string'&&(_0x37086a={'load':_0x37086a,'original':_0x37086a}),$e['get'](_0x37086a['load'],{'retry':this['maxRetries']>-0x479*0x8+0xd60+-0x6*-0x3bc,'maxRetries':this['maxRetries']},(_0x4e5db4,_0x3ddd65)=>{_0x4e5db4?_0x13c379('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x37086a['original']+'\x20['+_0x4e5db4+']'):_0x13c379(null,_0x3ddd65);});}['openBinary'](_0x44aaa4){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x44aaa4);}}function eu(_0x4fbaf7){const _0x5dce7e=this;_0x5dce7e['resource']&&(_0x5dce7e['resource']['atlas']=_0x4fbaf7['resource']);}function tu(_0x1c82e8){this['registry']['load'](_0x1c82e8);}class dL extends Ne{constructor(_0x4de918){super(_0x4de918,'sprite'),this['_assets']=_0x4de918['assets'],this['_device']=_0x4de918['graphicsDe'+'vice'];}['load'](_0x4ea724,_0x4ce14d){typeof _0x4ea724=='string'&&(_0x4ea724={'load':_0x4ea724,'original':_0x4ea724}),fe['getExtensi'+'on'](_0x4ea724['original'])==='.json'&&$e['get'](_0x4ea724['load'],{'retry':this['maxRetries']>-0x25c+-0xa95+0x1*0xcf1,'maxRetries':this['maxRetries']},(_0x2dbab4,_0xdb4f12)=>{_0x2dbab4?_0x4ce14d(_0x2dbab4):_0x4ce14d(null,_0xdb4f12);});}['open'](_0x27a016,_0x22d9ae){const _0x38a2d1=new T1(this['_device']);return _0x27a016&&(_0x38a2d1['__data']=_0x22d9ae),_0x38a2d1;}['patch'](_0x13cdea,_0x257eb0){const _0x454e91=_0x13cdea['resource'];if(_0x454e91['__data']&&(_0x13cdea['data']['pixelsPerU'+'nit']=_0x454e91['__data']['pixelsPerU'+'nit'],_0x13cdea['data']['renderMode']=_0x454e91['__data']['renderMode'],_0x13cdea['data']['frameKeys']=_0x454e91['__data']['frameKeys'],_0x454e91['__data']['textureAtl'+'asAsset'])){const _0x4185a1=_0x257eb0['getByUrl'](_0x454e91['__data']['textureAtl'+'asAsset']);_0x4185a1?_0x13cdea['data']['textureAtl'+'asAsset']=_0x4185a1['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x454e91['__data']['textureAtl'+'asAsset']);}_0x454e91['startUpdat'+'e'](),_0x454e91['renderMode']=_0x13cdea['data']['renderMode'],_0x454e91['pixelsPerU'+'nit']=_0x13cdea['data']['pixelsPerU'+'nit'],_0x454e91['frameKeys']=_0x13cdea['data']['frameKeys'],this['_updateAtl'+'as'](_0x13cdea),_0x454e91['endUpdate'](),_0x13cdea['off']('change',this['_onAssetCh'+'ange'],this),_0x13cdea['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x46a205){const _0x5b223e=_0x46a205['resource'];if(!_0x46a205['data']['textureAtl'+'asAsset']){_0x5b223e['atlas']=null;return;}this['_assets']['off']('load:'+_0x46a205['data']['textureAtl'+'asAsset'],eu,_0x46a205),this['_assets']['on']('load:'+_0x46a205['data']['textureAtl'+'asAsset'],eu,_0x46a205);const _0x1cbcc8=this['_assets']['get'](_0x46a205['data']['textureAtl'+'asAsset']);_0x1cbcc8&&_0x1cbcc8['resource']?_0x5b223e['atlas']=_0x1cbcc8['resource']:_0x1cbcc8?this['_assets']['load'](_0x1cbcc8):(this['_assets']['off']('add:'+_0x46a205['data']['textureAtl'+'asAsset'],tu,_0x46a205),this['_assets']['on']('add:'+_0x46a205['data']['textureAtl'+'asAsset'],tu,_0x46a205));}['_onAssetCh'+'ange'](_0x4356c2,_0x1cd473,_0x1800fe,_0x3dfd1d){_0x1cd473==='data'&&_0x1800fe&&_0x1800fe['textureAtl'+'asAsset']&&_0x3dfd1d&&_0x1800fe['textureAtl'+'asAsset']!==_0x3dfd1d['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x3dfd1d['textureAtl'+'asAsset'],eu,_0x4356c2),this['_assets']['off']('add:'+_0x3dfd1d['textureAtl'+'asAsset'],tu,_0x4356c2));}}class Gg{constructor(_0x2ba147,_0x1741b3){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x2ba147,this['_data']=_0x1741b3);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x36b5fe=new Wp(this['_app'],!(0x9dc+0x204f+-0x2a2b));this['_templateR'+'oot']=_0x36b5fe['parse'](this['_data']);}}class uL extends Ne{constructor(_0x58afc9){super(_0x58afc9,'template'),c(this,'decoder',null);}['load'](_0x3d2657,_0x26b348){typeof _0x3d2657=='string'&&(_0x3d2657={'load':_0x3d2657,'original':_0x3d2657});const _0x1ad50c={'retry':this['maxRetries']>-0x1e8e+-0xbc8+0x2*0x152b,'maxRetries':this['maxRetries']};$e['get'](_0x3d2657['load'],_0x1ad50c,(_0x776421,_0x3f94ab)=>{_0x776421?_0x26b348('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x3d2657['original']):_0x26b348(_0x776421,_0x3f94ab);});}['open'](_0x105129,_0x345917){return new Gg(this['_app'],_0x345917);}['openBinary'](_0xd5ba32){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0xd5ba32)));}}class fL extends Ne{constructor(_0x22d12a){super(_0x22d12a,'text'),c(this,'decoder',null);}['load'](_0x133c54,_0x3ddc81){typeof _0x133c54=='string'&&(_0x133c54={'load':_0x133c54,'original':_0x133c54}),$e['get'](_0x133c54['load'],{'retry':this['maxRetries']>-0x2272+-0x12a9+-0x351b*-0x1,'maxRetries':this['maxRetries']},(_0x3d7bd3,_0x439975)=>{_0x3d7bd3?_0x3ddc81('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x133c54['original']+'\x20['+_0x3d7bd3+']'):_0x3ddc81(null,_0x439975);});}['openBinary'](_0x11fef6){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x11fef6);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x359a31){super(_0x359a31,'textureatl'+'as'),this['_loader']=_0x359a31['loader'];}['load'](_0x1d11ea,_0x5030f9){typeof _0x1d11ea=='string'&&(_0x1d11ea={'load':_0x1d11ea,'original':_0x1d11ea});const _0x3b9799=this,_0x5bfb1c=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x1d11ea['original'])==='.json'?$e['get'](_0x1d11ea['load'],{'retry':this['maxRetries']>0x1c29+-0x849*-0x3+-0x3504,'maxRetries':this['maxRetries']},(_0xb83283,_0x171960)=>{if(_0xb83283)_0x5030f9(_0xb83283);else{const _0x5d6286=_0x1d11ea['original']['replace']('.json','.png');_0x3b9799['_loader']['load'](_0x5d6286,'texture',(_0x39c2cb,_0x2da006)=>{_0x39c2cb?_0x5030f9(_0x39c2cb):_0x5030f9(null,{'data':_0x171960,'texture':_0x2da006});});}}):_0x5bfb1c['load'](_0x1d11ea,_0x5030f9);}['open'](_0x4f3ec3,_0x2e13f4,_0xa3e9a9){const _0x2da111=new A1();if(_0x2e13f4['texture']&&_0x2e13f4['data'])_0x2da111['texture']=_0x2e13f4['texture'],_0x2da111['__data']=_0x2e13f4['data'];else{const _0x2c1469=this['_loader']['getHandler']('texture')['open'](_0x4f3ec3,_0x2e13f4,_0xa3e9a9);if(!_0x2c1469)return null;_0x2da111['texture']=_0x2c1469;}return _0x2da111;}['patch'](_0x5e8837,_0x55bd3d){if(!_0x5e8837['resource'])return;_0x5e8837['resource']['__data']&&(_0x5e8837['resource']['__data']['minfilter']!==void(0xf11*-0x2+-0x1*-0x2317+-0x4f5)&&(_0x5e8837['data']['minfilter']=_0x5e8837['resource']['__data']['minfilter']),_0x5e8837['resource']['__data']['magfilter']!==void(0x1920+-0x18c*0xb+-0x81c)&&(_0x5e8837['data']['magfilter']=_0x5e8837['resource']['__data']['magfilter']),_0x5e8837['resource']['__data']['addressu']!==void(-0x1d6a+-0x49*-0x76+0x2*-0x21e)&&(_0x5e8837['data']['addressu']=_0x5e8837['resource']['__data']['addressu']),_0x5e8837['resource']['__data']['addressv']!==void(0x2a9*0x2+-0x2*0xe26+0x16fa)&&(_0x5e8837['data']['addressv']=_0x5e8837['resource']['__data']['addressv']),_0x5e8837['resource']['__data']['mipmaps']!==void(-0xa2e+0x80*0x1f+0x6*-0xe3)&&(_0x5e8837['data']['mipmaps']=_0x5e8837['resource']['__data']['mipmaps']),_0x5e8837['resource']['__data']['anisotropy']!==void(-0xbce*-0x1+-0x5*0xe5+-0x755)&&(_0x5e8837['data']['anisotropy']=_0x5e8837['resource']['__data']['anisotropy']),_0x5e8837['resource']['__data']['rgbm']!==void(0x154f+0x6*-0x616+-0xf35*-0x1)&&(_0x5e8837['data']['rgbm']=!!_0x5e8837['resource']['__data']['rgbm']),_0x5e8837['data']['frames']=_0x5e8837['resource']['__data']['frames'],delete _0x5e8837['resource']['__data']);const _0x37374b=_0x5e8837['resource']['texture'];if(_0x37374b&&(_0x37374b['name']=_0x5e8837['name'],_0x5e8837['data']['hasOwnProp'+'erty']('minfilter')&&_0x37374b['minFilter']!==sh[_0x5e8837['data']['minfilter']]&&(_0x37374b['minFilter']=sh[_0x5e8837['data']['minfilter']]),_0x5e8837['data']['hasOwnProp'+'erty']('magfilter')&&_0x37374b['magFilter']!==sh[_0x5e8837['data']['magfilter']]&&(_0x37374b['magFilter']=sh[_0x5e8837['data']['magfilter']]),_0x5e8837['data']['hasOwnProp'+'erty']('addressu')&&_0x37374b['addressU']!==th[_0x5e8837['data']['addressu']]&&(_0x37374b['addressU']=th[_0x5e8837['data']['addressu']]),_0x5e8837['data']['hasOwnProp'+'erty']('addressv')&&_0x37374b['addressV']!==th[_0x5e8837['data']['addressv']]&&(_0x37374b['addressV']=th[_0x5e8837['data']['addressv']]),_0x5e8837['data']['hasOwnProp'+'erty']('mipmaps')&&_0x37374b['mipmaps']!==_0x5e8837['data']['mipmaps']&&(_0x37374b['mipmaps']=_0x5e8837['data']['mipmaps']),_0x5e8837['data']['hasOwnProp'+'erty']('anisotropy')&&_0x37374b['anisotropy']!==_0x5e8837['data']['anisotropy']&&(_0x37374b['anisotropy']=_0x5e8837['data']['anisotropy']),_0x5e8837['data']['hasOwnProp'+'erty']('rgbm'))){const _0x15a464=_0x5e8837['data']['rgbm']?on:Di;_0x37374b['type']!==_0x15a464&&(_0x37374b['type']=_0x15a464);}_0x5e8837['resource']['texture']=_0x37374b;const _0x2409d4={};for(const _0x26f283 in _0x5e8837['data']['frames']){const _0x35d687=_0x5e8837['data']['frames'][_0x26f283];_0x2409d4[_0x26f283]={'rect':new Q(_0x35d687['rect']),'pivot':new W(_0x35d687['pivot']),'border':new Q(_0x35d687['border'])};}_0x5e8837['resource']['frames']=_0x2409d4,_0x5e8837['off']('change',this['_onAssetCh'+'ange'],this),_0x5e8837['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x5c07e8,_0x1decdf,_0x3f938d){let _0x38c2f0;if(_0x1decdf==='data'||_0x1decdf==='data.frame'+'s'){const _0x974700={};for(const _0x5ce26d in _0x3f938d['frames'])_0x38c2f0=_0x3f938d['frames'][_0x5ce26d],_0x974700[_0x5ce26d]={'rect':new Q(_0x38c2f0['rect']),'pivot':new W(_0x38c2f0['pivot']),'border':new Q(_0x38c2f0['border'])};_0x5c07e8['resource']['frames']=_0x974700;}else{const _0x53fe33=_0x1decdf['match'](pL);if(_0x53fe33){const _0x2a0b29=_0x53fe33[-0x1*-0x34f+0x6*-0x2f8+-0xe82*-0x1];_0x3f938d?(_0x5c07e8['resource']['frames'][_0x2a0b29]?(_0x38c2f0=_0x5c07e8['resource']['frames'][_0x2a0b29],_0x38c2f0['rect']['set'](_0x3f938d['rect'][-0x1*-0xef5+0x9c9+-0x18be],_0x3f938d['rect'][-0x1d4c+0x3ba*0x2+0x15d9],_0x3f938d['rect'][0xb4d*-0x2+0x159d*-0x1+-0x2c39*-0x1],_0x3f938d['rect'][0x2200+0x1fc8+0x1*-0x41c5]),_0x38c2f0['pivot']['set'](_0x3f938d['pivot'][-0x120d*0x2+-0x1*-0xed1+0x1549],_0x3f938d['pivot'][-0x1d0c+-0x25*0x34+0x2491]),_0x38c2f0['border']['set'](_0x3f938d['border'][0x5e*0x21+0x2*0xb03+-0x6d4*0x5],_0x3f938d['border'][-0xd3*-0xf+-0x527+-0x735],_0x3f938d['border'][0x1d4+-0xef0*-0x2+-0x1fb2],_0x3f938d['border'][-0x559+0x277*-0x9+0x1b8b])):_0x5c07e8['resource']['frames'][_0x2a0b29]={'rect':new Q(_0x3f938d['rect']),'pivot':new W(_0x3f938d['pivot']),'border':new Q(_0x3f938d['border'])},_0x5c07e8['resource']['fire']('set:frame',_0x2a0b29,_0x5c07e8['resource']['frames'][_0x2a0b29])):_0x5c07e8['resource']['frames'][_0x2a0b29]&&(delete _0x5c07e8['resource']['frames'][_0x2a0b29],_0x5c07e8['resource']['fire']('remove:fra'+'me',_0x2a0b29));}}}}function _L(){const _0x65117f={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x4f5575={'astc':_0x65117f['cTFASTC_4x'+'4'],'dxt':_0x65117f['cTFBC1'],'etc1':_0x65117f['cTFETC1'],'etc2':_0x65117f['cTFETC1'],'pvr':_0x65117f['cTFPVRTC1_'+'4_RGB'],'atc':_0x65117f['cTFATC_RGB'],'none':_0x65117f['cTFRGB565']},_0x5e5c9b={'astc':_0x65117f['cTFASTC_4x'+'4'],'dxt':_0x65117f['cTFBC3'],'etc1':_0x65117f['cTFRGBA444'+'4'],'etc2':_0x65117f['cTFETC2'],'pvr':_0x65117f['cTFPVRTC1_'+'4_RGBA'],'atc':_0x65117f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x65117f['cTFRGBA444'+'4']},_0x2b7c2f={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x1bbe45=(_0x4f27f8,_0x4089fd)=>{switch(_0x4f27f8){case _0x65117f['cTFETC1']:return _0x4089fd['formats']['etc2']?_0x2b7c2f['ETC2_RGB']:_0x2b7c2f['ETC1'];case _0x65117f['cTFETC2']:return _0x2b7c2f['ETC2_RGBA'];case _0x65117f['cTFBC1']:return _0x2b7c2f['DXT1'];case _0x65117f['cTFBC3']:return _0x2b7c2f['DXT5'];case _0x65117f['cTFPVRTC1_'+'4_RGB']:return _0x2b7c2f['PVRTC_4BPP'+'_RGB_1'];case _0x65117f['cTFPVRTC1_'+'4_RGBA']:return _0x2b7c2f['PVRTC_4BPP'+'_RGBA_1'];case _0x65117f['cTFASTC_4x'+'4']:return _0x2b7c2f['ASTC_4x4'];case _0x65117f['cTFATC_RGB']:return _0x2b7c2f['ATC_RGB'];case _0x65117f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x2b7c2f['ATC_RGBA'];case _0x65117f['cTFRGBA32']:return _0x2b7c2f['R8_G8_B8_A'+'8'];case _0x65117f['cTFRGB565']:return _0x2b7c2f['R5_G6_B5'];case _0x65117f['cTFRGBA444'+'4']:return _0x2b7c2f['R4_G4_B4_A'+'4'];}},_0x5ccd21=_0x3b1037=>{const _0x4b0a08=function(_0x445e5b,_0x428943){const _0x15c10=_0x445e5b*(0x227b*0x1+0x1*0x1a4d+-0x3cc8+0.00784313725490196)-(-0x193a+-0x1013*-0x1+0x928),_0xe93ae4=_0x428943*((-0xd*0x71+-0xb*0x5e+0x9c9)/(-0x1*0x177d+0x39d*-0x7+0x31c7))-(-0x3d*0x87+-0x2*-0x12c3+-0x55a),_0x32182f=Math['sqrt'](0x4*0x8+0x1384+-0x13a3-Math['min'](0x1a5f*0x1+0x17*-0x2b+-0x1681,_0x15c10*_0x15c10+_0xe93ae4*_0xe93ae4));return Math['max'](-0x10*-0x13a+0x2053+-0x1f*0x1ad,Math['min'](0x1c66*0x1+-0x16d*0x11+-0x51*0xa,Math['floor']((_0x32182f+(-0x26fe+0x67f*-0x1+-0x287*-0x12))*(-0x4a8+-0x14*-0xb3+-0x954+0.5)*(-0x4*-0x133+-0x11bb+0x2*0x6f7))));};for(let _0x2a4ce4=-0x3a1+0x39*-0x6b+0x1b74;_0x2a4ce4<_0x3b1037['length'];_0x2a4ce4+=0xd35+-0x22e8+0x15b7){const _0x571b8e=_0x3b1037[_0x2a4ce4+(0xa*-0x265+-0x80*0x2+0x18f5)],_0x20079f=_0x3b1037[_0x2a4ce4+(0x100d+0x4a3*-0x4+0x1*0x280)];_0x3b1037[_0x2a4ce4+(-0x2242+-0x2*0xd21+0x3c84)]=_0x571b8e,_0x3b1037[_0x2a4ce4+(0xf72+0x1*-0xf0b+0x65*-0x1)]=_0x4b0a08(_0x571b8e,_0x20079f),_0x3b1037[_0x2a4ce4+(-0x5ff+0xd6*-0x24+0x241a)]=0x2*-0xd13+-0x8*-0x7+-0x71*-0x3d;}return _0x3b1037;},_0x335ab1=_0x1a6e50=>{const _0xe1cc97=new Uint16Array(_0x1a6e50['length']/(-0x2e1*0x1+0x53f+-0x25a));for(let _0x487361=-0x258d+0x2083+0x81*0xa;_0x487361<_0x1a6e50['length'];_0x487361+=-0xca7+-0x15da+0x2285){const _0x5d68a4=_0x1a6e50[_0x487361+(0x8b4+-0x432+0x2*-0x241)],_0x321531=_0x1a6e50[_0x487361+(-0x1e4b+0x1a0c*0x1+0x440)],_0x4a9cef=_0x1a6e50[_0x487361+(0x2*0x6a7+0x38*0x8b+-0x2bb4)];_0xe1cc97[_0x487361/(-0x20f8+0xa5*-0xf+0x2aa7)]=(_0x5d68a4&0x22e*0x11+-0x6a1*-0x3+-0x26f*0x17)<<0x30*0xb3+-0xbc*-0x30+-0x1132*0x4|(_0x321531&0x201f*-0x1+0x1a46+0x6d5)<<0xd*0x65+-0x56*0x4c+-0x3*-0x6ce|_0x4a9cef>>-0xcd*-0x1b+-0x11b+-0x1481;}return _0xe1cc97;},_0x3c0701=(_0x68d20e,_0xa1032f)=>(_0x68d20e&_0x68d20e-(0x15a9+0x1*0x671+0x1*-0x1c19))===-0x68d+0x1f3e+-0x18b1&&(_0xa1032f&_0xa1032f-(-0x183a+-0x1*-0x1df5+-0x5ba))===-0x20de+-0x449*0x4+-0x25*-0x15a,_0x29c18a=()=>typeof performance<'u'?performance['now']():-0x851*0x1+-0x3*-0x41b+-0x400;let _0x2574e4,_0x4584f4,_0x352912;const _0x22421=(_0x58c9fa,_0x349590,_0x57d08e)=>{if(_0x57d08e){if(_0x58c9fa['formats']['astc'])return'astc';}else{if(_0x349590){if(_0x58c9fa['formats']['etc2'])return'etc2';}else{if(_0x58c9fa['formats']['etc2'])return'etc2';if(_0x58c9fa['formats']['etc1'])return'etc1';}}return(_0x4f9981=>{for(let _0x5d931f=0x17b4+0x15df+-0x2d93;_0x5d931f<_0x4f9981['length'];++_0x5d931f){const _0x3495fa=_0x4f9981[_0x5d931f];if(_0x58c9fa['formats'][_0x3495fa])return _0x3495fa;}return'none';})(_0x349590?_0x352912:_0x4584f4);},_0x2eae54=(_0x4ab70d,_0x2e4f45,_0x2bc64e)=>{switch(_0x2bc64e){case _0x65117f['cTFETC1']:case _0x65117f['cTFETC2']:return!(-0x1fc0+0x7a3+0x181d);case _0x65117f['cTFBC1']:case _0x65117f['cTFBC3']:return(_0x4ab70d&0x10be+0x244a+-0x7*0x793)===0x118+0x1*0x47f+-0x3*0x1dd&&(_0x2e4f45&-0xc92+0xa64+0x231)===0x69d+-0x4*-0x43e+0x1*-0x1795;case _0x65117f['cTFPVRTC1_'+'4_RGB']:case _0x65117f['cTFPVRTC1_'+'4_RGBA']:return _0x3c0701(_0x4ab70d,_0x2e4f45);case _0x65117f['cTFASTC_4x'+'4']:return!(-0x26a1+-0xc*-0x2d4+0x4b1);case _0x65117f['cTFATC_RGB']:case _0x65117f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x40*-0x62+-0x1442*0x1+-0x43e);}return!(-0x6*-0x38f+0x1bbe+-0x3117*0x1);},_0x3bfd2f=(_0x43a722,_0x33833c,_0x4e5663)=>{if(!_0x2574e4['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x1873d9=_0x29c18a(),_0x11def3=new _0x2574e4['KTX2File'](new Uint8Array(_0x33833c)),_0x269c59=_0x11def3['getWidth'](),_0x5d6d80=_0x11def3['getHeight'](),_0x5b8180=_0x11def3['getLevels'](),_0x2e4381=!!_0x11def3['getHasAlph'+'a'](),_0x4f7f8d=_0x11def3['isUASTC']&&_0x11def3['isUASTC']();if(!_0x269c59||!_0x5d6d80||!_0x5b8180)throw _0x11def3['close'](),_0x11def3['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x43a722+'\x20width='+_0x269c59+'\x20height='+_0x5d6d80+'\x20levels='+_0x5b8180);const _0x2c1ae3=_0x22421(_0x4e5663['deviceDeta'+'ils'],_0x2e4381,_0x4f7f8d),_0x4a9af1=!!_0x4e5663['isGGGR']&&_0x2c1ae3==='pvr';let _0x277316;if(_0x4a9af1?_0x277316=_0x65117f['cTFRGBA32']:(_0x277316=_0x2e4381?_0x5e5c9b[_0x2c1ae3]:_0x4f5575[_0x2c1ae3],_0x2eae54(_0x269c59,_0x5d6d80,_0x277316)||(_0x277316=_0x2e4381?_0x65117f['cTFRGBA32']:_0x65117f['cTFRGB565'])),!_0x11def3['startTrans'+'coding']())throw _0x11def3['close'](),_0x11def3['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x43a722);let _0x194161;const _0x2860c5=[];for(let _0x15a9bb=-0xe*-0x2b6+-0x2078+-0x57c;_0x15a9bb<_0x5b8180;++_0x15a9bb){const _0x29ca62=_0x11def3['getImageTr'+'anscodedSi'+'zeInBytes'](_0x15a9bb,0x134f+0x2076+0x1d*-0x1c9,0x14b2+-0x6a+-0x1448,_0x277316),_0xe3937e=new Uint8Array(_0x29ca62);if(!_0x11def3['transcodeI'+'mage'](_0xe3937e,_0x15a9bb,-0x408*0x5+-0x1811+0x2c39,-0x394*0x7+0x25ed+-0xce1,_0x277316,0xd*-0xb7+-0x2cc*-0xc+0x13*-0x147,-(-0x202d*0x1+-0x8*0x4a3+0x2*0x22a3),-(-0x1f49+-0x14bb+-0xc1*-0x45)))throw _0x11def3['close'](),_0x11def3['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x43a722);const _0xbfaa7d=_0x277316===_0x65117f['cTFRGB565']||_0x277316===_0x65117f['cTFRGBA444'+'4'];_0x2860c5['push'](_0xbfaa7d?new Uint16Array(_0xe3937e['buffer']):_0xe3937e);}if(_0x11def3['close'](),_0x11def3['delete'](),_0x4a9af1){for(_0x277316=_0x65117f['cTFRGB565'],_0x194161=0x1c84+-0x1*-0x1d2+-0x161*0x16;_0x194161<_0x2860c5['length'];++_0x194161)_0x2860c5[_0x194161]=_0x335ab1(_0x5ccd21(_0x2860c5[_0x194161]));}return{'format':_0x1bbe45(_0x277316,_0x4e5663['deviceDeta'+'ils']),'width':_0x269c59,'height':_0x5d6d80,'levels':_0x2860c5,'cubemap':!(-0x1d32+0x2324+-0x5f1),'transcodeTime':_0x29c18a()-_0x1873d9,'url':_0x43a722,'unswizzledGGGR':_0x4a9af1};},_0x4af15c=(_0x449641,_0x2d9e18,_0x5bda9f)=>{const _0x5f3f5a=_0x29c18a(),_0x2a8d04=new _0x2574e4['BasisFile'](new Uint8Array(_0x2d9e18)),_0x5d3787=_0x2a8d04['getImageWi'+'dth'](0x18e0+0xd*-0x25b+-0x5bf*-0x1,-0x2*-0x797+0x3f3+-0x1321),_0x16b3b7=_0x2a8d04['getImageHe'+'ight'](-0x2661+0x1*0xb19+0x1b48,-0x998+-0x1*-0x218f+-0x17f7),_0x404f4c=_0x2a8d04['getNumImag'+'es'](),_0xd5c01=_0x2a8d04['getNumLeve'+'ls'](0x22d9+0x3*0x330+-0x2c69),_0x59b6a9=!!_0x2a8d04['getHasAlph'+'a'](),_0x5e5aeb=_0x2a8d04['isUASTC']&&_0x2a8d04['isUASTC']();if(!_0x5d3787||!_0x16b3b7||!_0x404f4c||!_0xd5c01)throw _0x2a8d04['close'](),_0x2a8d04['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x449641+'\x20width='+_0x5d3787+'\x20height='+_0x16b3b7+'\x20images='+_0x404f4c+'\x20levels='+_0xd5c01);const _0x2c8635=_0x22421(_0x5bda9f['deviceDeta'+'ils'],_0x59b6a9,_0x5e5aeb),_0x550e25=!!_0x5bda9f['isGGGR']&&_0x2c8635==='pvr';let _0x36bcbe;if(_0x550e25?_0x36bcbe=_0x65117f['cTFRGBA32']:(_0x36bcbe=_0x59b6a9?_0x5e5c9b[_0x2c8635]:_0x4f5575[_0x2c8635],_0x2eae54(_0x5d3787,_0x16b3b7,_0x36bcbe)||(_0x36bcbe=_0x59b6a9?_0x65117f['cTFRGBA32']:_0x65117f['cTFRGB565'])),!_0x2a8d04['startTrans'+'coding']())throw _0x2a8d04['close'](),_0x2a8d04['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x449641);let _0x3fb2f5;const _0x28011d=[];for(let _0x10803e=-0x22f*0xc+0x325*-0x1+-0x2ab*-0xb;_0x10803e<_0xd5c01;++_0x10803e){const _0x54c37f=_0x2a8d04['getImageTr'+'anscodedSi'+'zeInBytes'](-0x881*-0x1+-0x6*0x305+-0x1*-0x99d,_0x10803e,_0x36bcbe),_0x5c0e0e=new Uint8Array(_0x54c37f);if(!_0x2a8d04['transcodeI'+'mage'](_0x5c0e0e,-0xc39+-0x1d9*-0x5+0x2fc,_0x10803e,_0x36bcbe,-0x751+0xb*0x6+-0x1*-0x70f,0x169e+-0x215a+0xabc)){if(_0x10803e===_0xd5c01-(-0x615+-0xb1*-0xd+0x2e7*-0x1)&&_0x54c37f===_0x28011d[_0x10803e-(-0xaa*-0x27+-0x177b+0x2*-0x135)]['buffer']['byteLength'])_0x5c0e0e['set'](new Uint8Array(_0x28011d[_0x10803e-(-0x14*-0x19d+0xa2f+-0x2a72)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x449641);else throw _0x2a8d04['close'](),_0x2a8d04['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x449641);}const _0x2fcd64=_0x36bcbe===_0x65117f['cTFRGB565']||_0x36bcbe===_0x65117f['cTFRGBA444'+'4'];_0x28011d['push'](_0x2fcd64?new Uint16Array(_0x5c0e0e['buffer']):_0x5c0e0e);}if(_0x2a8d04['close'](),_0x2a8d04['delete'](),_0x550e25){for(_0x36bcbe=_0x65117f['cTFRGB565'],_0x3fb2f5=-0x1*0x886+0x207b+-0x17f5;_0x3fb2f5<_0x28011d['length'];++_0x3fb2f5)_0x28011d[_0x3fb2f5]=_0x335ab1(_0x5ccd21(_0x28011d[_0x3fb2f5]));}return{'format':_0x1bbe45(_0x36bcbe,_0x5bda9f['deviceDeta'+'ils']),'width':_0x5d3787,'height':_0x16b3b7,'levels':_0x28011d,'cubemap':!(0x2269*-0x1+-0x2e*-0x67+0xfe8),'transcodeTime':_0x29c18a()-_0x5f3f5a,'url':_0x449641,'unswizzledGGGR':_0x550e25};},_0x4a767c=(_0x1992db,_0x392631,_0x37463c)=>_0x37463c['isKTX2']?_0x3bfd2f(_0x1992db,_0x392631,_0x37463c):_0x4af15c(_0x1992db,_0x392631,_0x37463c),_0x4076a6=(_0xe3fd33,_0x1e07cb,_0x2ca63a)=>{try{const _0x17ab5a=_0x4a767c(_0xe3fd33,_0x1e07cb,_0x2ca63a);_0x17ab5a['levels']=_0x17ab5a['levels']['map'](_0x152ebc=>_0x152ebc['buffer']),self['postMessag'+'e']({'url':_0xe3fd33,'data':_0x17ab5a},_0x17ab5a['levels']);}catch(_0x43cc19){self['postMessag'+'e']({'url':_0xe3fd33,'err':_0x43cc19},null);}},_0x340a4a=(_0x18785d,_0x10f509)=>{const _0x5272df=(_0x41566f,_0x2e5a75)=>(WebAssembly['instantiat'+'e'](_0x18785d['module'],_0x41566f)['then'](_0x3ea486=>{_0x2e5a75(_0x3ea486);})['catch'](_0xf18b82=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0xf18b82);}),{});self['BASIS'](_0x18785d['module']?{'instantiateWasm':_0x5272df}:null)['then'](_0x5af76b=>{_0x5af76b['initialize'+'Basis'](),_0x2574e4=_0x5af76b,_0x4584f4=_0x18785d['rgbPriorit'+'y'],_0x352912=_0x18785d['rgbaPriori'+'ty'],_0x10f509(null);});},_0x3a8a16=[];self['onmessage']=_0x506173=>{const _0x6598f4=_0x506173['data'];switch(_0x6598f4['type']){case'init':_0x340a4a(_0x6598f4['config'],()=>{for(let _0x5a6416=-0x1f34+-0x219a+0x15*0x316;_0x5a6416<_0x3a8a16['length'];++_0x5a6416)_0x4076a6(_0x3a8a16[_0x5a6416]['url'],_0x3a8a16[_0x5a6416]['data'],_0x3a8a16[_0x5a6416]['options']);_0x3a8a16['length']=-0x1*-0x1285+-0xa81*0x1+-0xab*0xc;});break;case'transcode':_0x2574e4?_0x4076a6(_0x6598f4['url'],_0x6598f4['data'],_0x6598f4['options']):_0x3a8a16['push'](_0x6598f4);break;}};}const gL=_0x52a297=>({'astc':!!_0x52a297['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x52a297['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x52a297['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x52a297['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x52a297['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x52a297['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x4f13f0,_0xb61911)=>{const _0x57bb56=_0x2b5096=>{const _0x26f667=['/*\x20basis\x20*'+'/',_0x2b5096,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x26f667],{'type':'applicatio'+'n/javascri'+'pt'});},_0x225f4e=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x589fe8=new WebAssembly['Module'](Uint8Array['of'](0x19e6+-0x4*-0x7de+-0x395e,-0x13a7+0x1929*0x1+-0x521,-0x17*0x94+-0xd63+0x2e*0x97,-0x7*-0x343+0x26d6+-0xc9*0x4e,-0x198e+-0x5*-0x527+-0x34,0x1603+0x1214+-0x2817,0x1923+-0x12cd*-0x1+-0x2bf0,-0x1*-0x182c+-0x25*-0x32+-0x1f66));if(_0x589fe8 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x589fe8)instanceof WebAssembly['Instance'];}}catch{}return!(0x9d*0x5+0x2277+-0xd*0x2e3);},_0x21569a=(_0xf4bbcd,_0x481f3e)=>{_0xb61911(null,{'workerUrl':URL['createObje'+'ctURL'](_0x57bb56(_0xf4bbcd)),'module':_0x481f3e,'rgbPriority':_0x4f13f0['rgbPriorit'+'y'],'rgbaPriority':_0x4f13f0['rgbaPriori'+'ty']});},_0x333019={'cache':!(-0x1*-0x196+0xc9*-0x31+-0x1f1*-0x13),'responseType':'text','retry':_0x4f13f0['maxRetries']>0x157e+0x1c81+-0x31ff,'maxRetries':_0x4f13f0['maxRetries']};if(_0x4f13f0['glueUrl']&&_0x4f13f0['wasmUrl']&&_0x225f4e()){let _0x4c296c=null,_0x276e0b=null;$e['get'](_0x4f13f0['glueUrl'],_0x333019,(_0x2826c6,_0x57fc56)=>{_0x2826c6?_0xb61911(_0x2826c6):_0x276e0b?_0x21569a(_0x57fc56,_0x276e0b):_0x4c296c=_0x57fc56;});const _0x3a9cd2=fetch(_0x4f13f0['wasmUrl']),_0x1824a0=()=>{_0x3a9cd2['then'](_0x563b33=>_0x563b33['arrayBuffe'+'r']())['then'](_0x5aec0d=>WebAssembly['compile'](_0x5aec0d))['then'](_0x148352=>{_0x4c296c?_0x21569a(_0x4c296c,_0x148352):_0x276e0b=_0x148352;})['catch'](_0x5f18b5=>{_0xb61911(_0x5f18b5,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x3a9cd2)['then'](_0x15141f=>{_0x4c296c?_0x21569a(_0x4c296c,_0x15141f):_0x276e0b=_0x15141f;})['catch'](_0x437a62=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x4f13f0['wasmUrl']+'\x20('+_0x437a62+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x1824a0();}):_0x1824a0();}else $e['get'](_0x4f13f0['fallbackUr'+'l'],_0x333019,(_0x2d4944,_0x3a1db8)=>{_0x2d4944?_0xb61911(_0x2d4944,null):_0x21569a(_0x3a1db8,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x2674ca,_0x5f3183,_0x4817f7,_0x16d30f){if(this['callbacks']['hasOwnProp'+'erty'](_0x2674ca))this['callbacks'][_0x2674ca]['push'](_0x4817f7);else{this['callbacks'][_0x2674ca]=[_0x4817f7];const _0x14a96d={'url':_0x2674ca,'data':_0x5f3183,'options':_0x16d30f};this['clients']['length']>0x115f*0x2+-0x23fc+-0x1*-0x13e?this['clients']['shift']()['run'](_0x14a96d):this['queue']['push'](_0x14a96d);}}['enqueueCli'+'ent'](_0x3e6b46){this['queue']['length']>0x23d*-0x11+-0x1bad+-0x2f*-0x166?_0x3e6b46['run'](this['queue']['shift']()):this['clients']['push'](_0x3e6b46);}['handleResp'+'onse'](_0x1e1416,_0x1bc96b,_0x1417b8){const _0x461f2f=this['callbacks'][_0x1e1416];if(_0x1bc96b){for(let _0x3c9189=-0xc8*-0x27+-0x3*-0x2ca+0x679*-0x6;_0x3c9189<_0x461f2f['length'];++_0x3c9189)_0x461f2f[_0x3c9189](_0x1bc96b);}else{_0x1417b8['format']===_c||_0x1417b8['format']===gc?_0x1417b8['levels']=_0x1417b8['levels']['map'](_0x33db02=>new Uint16Array(_0x33db02)):_0x1417b8['levels']=_0x1417b8['levels']['map'](_0x1a2c7e=>new Uint8Array(_0x1a2c7e));for(let _0x2cee3a=0x73b+0x1*0x1afa+-0x8b*0x3f;_0x2cee3a<_0x461f2f['length'];++_0x2cee3a)_0x461f2f[_0x2cee3a](null,_0x1417b8);}delete this['callbacks'][_0x1e1416];}}class SL{constructor(_0x1480b0,_0xcb5b0e,_0xb4712f){this['queue']=_0x1480b0,this['worker']=new Worker(_0xcb5b0e['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x3d4661=>{const _0x257ebb=_0x3d4661['data'];this['queue']['handleResp'+'onse'](_0x257ebb['url'],_0x257ebb['err'],_0x257ebb['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0xcb5b0e}),this['eager']=_0xb4712f;}['run'](_0x2758ac){const _0x1be8af=[];_0x2758ac['data']instanceof ArrayBuffer&&_0x1be8af['push'](_0x2758ac['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x2758ac['url'],'format':_0x2758ac['format'],'data':_0x2758ac['data'],'options':_0x2758ac['options']},_0x1be8af),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x4*-0x39+-0x2508+0x2425*0x1,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=0x2146+-0x1ea8+-0x299,Tf=new xL();let Hg=null,Af=!(0x6b*-0xd+-0xd*-0x2e3+0x66b*-0x5);function AL(_0x234070){if(!Af){if(!_0x234070)_0x234070=Hg||{};else{if(_0x234070['lazyInit']){Hg=_0x234070;return;}}if(!_0x234070['glueUrl']||!_0x234070['wasmUrl']||!_0x234070['fallbackUr'+'l']){const _0x40bc73=ay['getConfig']('BASIS');_0x40bc73&&(_0x234070={'glueUrl':_0x40bc73['glueUrl'],'wasmUrl':_0x40bc73['wasmUrl'],'fallbackUrl':_0x40bc73['fallbackUr'+'l'],'numWorkers':_0x40bc73['numWorkers']});}if(_0x234070['glueUrl']||_0x234070['wasmUrl']||_0x234070['fallbackUr'+'l']){Af=!(-0x4*0x679+0x12*-0x117+-0x1*-0x2d82);const _0x641f85=Math['max'](-0x500+-0x6*0x515+-0x2bb*-0xd,Math['min'](-0x7f7+0x2615+0x1*-0x1e0e,_0x234070['numWorkers']||vL)),_0x3a690b=_0x234070['numWorkers']===-0x3*0x236+-0x63a+0xcdd||(_0x234070['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x234070['eagerWorke'+'rs']:!(-0xca*-0x2f+0x1896+-0x4*0xf6b));_0x234070['rgbPriorit'+'y']=_0x234070['rgbPriorit'+'y']||bL,_0x234070['rgbaPriori'+'ty']=_0x234070['rgbaPriori'+'ty']||wL,_0x234070['maxRetries']=_0x234070['hasOwnProp'+'erty']('maxRetries')?_0x234070['maxRetries']:TL,yL(_0x234070,(_0x8b3735,_0x43ee8d)=>{if(_0x8b3735)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x8b3735);else{for(let _0x54e706=-0x14ce+-0x2508+0x39d6;_0x54e706<_0x641f85;++_0x54e706)Tf['enqueueCli'+'ent'](new SL(Tf,_0x43ee8d,_0x3a690b));}});}}}let su=null;function Fx(_0x24ea2b,_0x574263,_0x487aa4,_0x4f1260,_0xcfece3){return AL(),su||(su={'formats':gL(_0x24ea2b)}),Tf['enqueueJob'](_0x574263,_0x487aa4,_0x4f1260,{'deviceDetails':su,'isGGGR':!!(_0xcfece3!=null&&_0xcfece3['isGGGR']),'isKTX2':!!(_0xcfece3!=null&&_0xcfece3['isKTX2'])}),Af;}class Na{['load'](_0xd1fd64,_0x25a67a,_0x237bf1){throw new Error('not\x20implem'+'ented');}['open'](_0x3a5c80,_0x3819af,_0x540965){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0xd934c0,_0x533361){super(),this['device']=_0x533361,this['maxRetries']=-0xf*0x2f+0xb2e+-0x86d;}['load'](_0x32b7db,_0x38f3c4,_0xb7fb4d){const _0x430b40=this['device'],_0x49b227=_0x128988=>{var _0x370e9a,_0xbf6ea9,_0x180708;Fx(_0x430b40,_0x32b7db['load'],_0x128988,_0x38f3c4,{'isGGGR':(((_0x180708=(_0xbf6ea9=(_0x370e9a=_0xb7fb4d==null?void(0x1ee9+0xb*0x1c9+0xa*-0x50e):_0xb7fb4d['file'])==null?void(-0xf53+-0x6*0xa3+0x1325):_0x370e9a['variants'])==null?void(0x1*0x32c+0x8c3*0x1+-0xbef):_0xbf6ea9['basis'])==null?void(-0x22ce+0x23db+-0x10d*0x1):_0x180708['opt'])&-0x1cd0+-0x22a*0x1+-0x15*-0x17a)!==0x13c0+-0x1eaa+-0x575*-0x2})||_0x38f3c4('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0xb7fb4d['name']+']('+_0xb7fb4d['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x32b7db['load'],(_0x4bf89e,_0x927c0)=>{_0x4bf89e?_0x38f3c4(_0x4bf89e):_0x49b227(_0x927c0);},_0xb7fb4d,this['maxRetries']);}['open'](_0x305765,_0x104d91,_0x21a3f9,_0x39eb82={}){const _0x39bf8f=_0x39eb82['srgb']?Cc(_0x104d91['format']):_0x104d91['format'],_0x2ac521=new he(_0x21a3f9,{'name':_0x305765,'profilerHint':ur,'addressU':_0x104d91['cubemap']?ae:tt,'addressV':_0x104d91['cubemap']?ae:tt,'width':_0x104d91['width'],'height':_0x104d91['height'],'format':_0x39bf8f,'cubemap':_0x104d91['cubemap'],'levels':_0x104d91['levels'],..._0x39eb82});return _0x2ac521['upload'](),_0x2ac521;}}const Ox=new Uint8Array([0x49a*0x5+0xb*0x23b+0x446*-0xb,-0x1d60+0xa8f*0x3+0x1fd*-0x1,0x1bd2+0x1*0x13c1+-0x1*0x2f45,0xc18+0x5*-0x76c+0x194b,-0x176*-0x3+-0x2*0x343+0x231,0x78*-0xa+-0x675+-0x199*-0x7,-0x11ef*-0x2+-0x22b3+-0x111*0x1,-0x2546+0xe5d+0x16f3,0x10db+0x1ceb+-0x1b2*0x1b,0x1516*-0x1+-0x1*-0x73d+0xdd9,0x18d1+0x23e4+0x1*-0x3cb5,-0x1d6c+0x60d*-0x3+0x2fa*0x10,-0x86*-0x10+0x19*0xdd+0x9e4*-0x3,-0xf31*0x1+0x7ef*0x2+0x65*-0x1,-0x1609+-0xdcd+0x241a,-0x14f8+0x2*0x69a+0x1*0x816,0x1*0x19e6+0xd76+0x13ae*-0x2,0xe*0x25f+-0x1*-0x12e1+-0x3413*0x1,-0x57e+0x2613+-0x2095,-0x157*0x15+0xa*0x187+0xcde*0x1,-0x2f*-0x7b+-0x1341+-0x354,-0x149+-0x1b6e+0x1cb7,0x1253+-0x509*0x7+0x876*0x2,-0x3*0xc91+-0xe83+0x3437,0x1e6f+-0x11c2*-0x1+-0x3029*0x1,-0x19d8+-0x2654*0x1+0x4032,0xdf*-0x9+-0x1507+0x1cde,0x88e+0x1b3+-0xa41,-0x1161*0x1+-0x2634+0x3795,0xb61+0x6*0x175+-0x1400,0x1*-0x1b3d+0x2c*0x83+0x1e*0x29,-0x21fc+0x1c13+-0x6ad*-0x1,-0x521+0x2455*0x1+-0x1eab,-0x2039+-0x682+0x5*0x7bf,-0x1a3a+0x10eb*-0x1+0x2b25*0x1,0x1*-0x24c4+0x1*-0x10ff+0x35c3,-0x124*-0xe+-0x1402+-0x3*-0x15d,-0x1f43+0x4af*0x8+-0x5ec,0x1a51*0x1+0x226+-0x1*0x1c33,-0x13e5+-0x1*-0x1a05+0x3*-0x1f5,-0x4b8+-0x7a6+-0xa*-0x145,0x67*0x55+-0x1bd6+0x5e5*-0x1,0x22ee*0x1+0x17fb*-0x1+-0xa19,0x3*-0xc9b+-0x655*0x2+0x32de,0x1c5e+0x92a*-0x1+-0xac*0x1c,0x14d5+0x1970+-0x2de1,0x8ed+0x2*-0x1151+0x1a17,0x227c+-0x21c1+-0x1*0x5,-0x248d+-0x36f*-0xb+-0x131,-0x13cf+-0xcbe+0x208d,0x11c6+-0x20ed+-0x1af*-0x9,-0x780+-0x1339+0x14a*0x15,0xa*-0x33e+0x54c+0x8*0x364,0x715*-0x3+0x1*-0x1415+-0x299b*-0x1,0xb23*0x1+-0x9d4+-0x1*0x10c,-0x4*0x989+0x139f+0x1*0x130a,-0xf*-0x175+0x755+-0x727*0x4,0x3b*0x26+-0x67a+-0x15b*0x1,0x6d2*0x4+-0xfaa+0x2*-0x5cf,0x211*-0x3+-0x2001*-0x1+-0x19ce,0x129b+0x1*0x263+-0x1*0x14fe,0x2612+0x106+-0xd08*0x3,0x9dc+0x15*0x146+-0x409*0x9,0x3*-0x21f+-0x1d85+0x2427,-0x44f*0x6+0x2178+0x10*-0x75,0x13d*-0x7+0x1bcb*0x1+-0x12dc,-0x2b*-0xe6+-0x5*-0x3cb+-0x38eb,-0x1fb+-0xa10+0xc4d,0x248c*-0x1+-0xbbd+0x30a9,0x1*0xffe+-0x13*-0x154+-0x28b8]),kx=(_0x5284fe,_0x551978)=>{const _0x397ce1=new he(_0x5284fe,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(0x7fb+-0xd81+-0x5*-0x11b),'levels':[_0x551978]}),_0xd1345f=new pt({'colorBuffer':_0x397ce1,'depth':!(0x154a+-0x1*0x1d82+0x839)});_0x5284fe['setFramebu'+'ffer'](_0xd1345f['impl']['_glFrameBu'+'ffer']),_0x5284fe['initRender'+'Target'](_0xd1345f);const _0x44b57c=new Uint8ClampedArray(-0x1a6*-0x1+0x92a*-0x3+0x19dc);return _0x5284fe['gl']['readPixels'](-0x2418+-0xd3f+0x3157,-0x1*-0x1e4f+-0x720+-0x172f,0x1208+0x13d6*-0x1+0x1cf,-0x12bc+0x2344+-0x1087,_0x5284fe['gl']['RGBA'],_0x5284fe['gl']['UNSIGNED_B'+'YTE'],_0x44b57c),_0xd1345f['destroy'](),_0x397ce1['destroy'](),_0x44b57c[0x1945+-0x1*0x111b+-0x82a]===0x7cd*-0x2+0x219d+0x2*-0x901&&_0x44b57c[0x231f+-0x239*-0xf+-0x5*0xdb1]===-0xb0c+-0x2*0x1ac+0xe66&&_0x44b57c[-0x1bbc+0x142*-0x16+0x376a]===0x188c+-0x1ece+0x645&&_0x44b57c[0x522*-0x2+-0x1b*-0x92+-0x51f]===0xea4+-0x33*0x7b+0xa1c;},CL=_0x1dad71=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x42c20c=>kx(_0x1dad71,_0x42c20c))['catch'](_0x5c856f=>!(-0x11c*0x8+0x11f0+0x90f*-0x1)),ML=_0x170058=>new Promise((_0x4fa039,_0x33fdce)=>{const _0x3f8529=new Image();_0x3f8529['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x3f8529['onload']=()=>{_0x4fa039(kx(_0x170058,_0x3f8529));};});class PL{static['run'](_0x5002c7){CL(_0x5002c7)['then'](_0x537fcf=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x537fcf);}),ML(_0x5002c7)['then'](_0x2fa078=>{console['log']('imgElement'+'IsCorrect='+_0x2fa078);});}}class RL extends Na{constructor(_0x1c4df3,_0x239d4b){super(),this['crossOrigi'+'n']=_0x1c4df3['prefix']?'anonymous':null,this['maxRetries']=0x158f*-0x1+-0xd1*-0x1f+0x4*-0xf0,this['device']=_0x239d4b,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x59f4b4,_0x360bbe,_0x297ade){var _0x243e82;const _0x3a142e=!!((_0x243e82=_0x297ade==null?void(-0x13d3+-0xa*-0x13a+0x2d*0x2b):_0x297ade['file'])!=null&&_0x243e82['contents']);if(_0x3a142e){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x297ade['file']['contents']]),_0x360bbe);return;}_0x59f4b4={'load':URL['createObje'+'ctURL'](new Blob([_0x297ade['file']['contents']])),'original':_0x59f4b4['original']};}const _0x260620=(_0xb62777,_0x536691)=>{_0x3a142e&&URL['revokeObje'+'ctURL'](_0x59f4b4['load']),_0x360bbe(_0xb62777,_0x536691);};let _0x510b9b;_0x297ade&&_0x297ade['options']&&_0x297ade['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x510b9b=_0x297ade['options']['crossOrigi'+'n']:Da['test'](_0x59f4b4['load'])&&(_0x510b9b=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x59f4b4['load'],_0x59f4b4['original'],_0x510b9b,_0x260620):this['_loadImage'](_0x59f4b4['load'],_0x59f4b4['original'],_0x510b9b,_0x260620);}['open'](_0x4f7329,_0x528da1,_0x10b56e,_0x30c906={}){const _0x349a71=new he(_0x10b56e,{'name':_0x4f7329,'profilerHint':ur,'width':_0x528da1['width'],'height':_0x528da1['height'],'format':_0x30c906['srgb']?rs:Se,..._0x30c906});return _0x349a71['setSource'](_0x528da1),_0x349a71;}['_loadImage'](_0x1c3f16,_0x4a19fa,_0x34a7c4,_0x2d0c4f){const _0x5a6c1c=new Image();_0x34a7c4&&(_0x5a6c1c['crossOrigi'+'n']=_0x34a7c4);let _0x4aa4dd=0x15cb+-0xdef+0x2*-0x3ee;const _0x39a897=this['maxRetries'];let _0x53299d;_0x5a6c1c['onload']=function(){_0x2d0c4f(null,_0x5a6c1c);},_0x5a6c1c['onerror']=function(){if(!_0x53299d){if(_0x39a897>-0x242e+-0xa*-0x40+0x10d7*0x2&&++_0x4aa4dd<=_0x39a897){const _0xc7ba26=Math['pow'](0x641*0x3+-0x744+-0xb7d,_0x4aa4dd)*(-0x10*0xd1+-0x6b*0x1+0xddf);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x4a19fa+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0xc7ba26+'ms...');const _0x5da124=_0x1c3f16['indexOf']('?')>=0x12b6*0x1+-0x1*0x1349+-0x1*-0x93?'&':'?';_0x53299d=setTimeout(()=>{_0x5a6c1c['src']=_0x1c3f16+_0x5da124+'retry='+Date['now'](),_0x53299d=null;},_0xc7ba26);}else _0x2d0c4f('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x4a19fa+'\x27');}},_0x5a6c1c['src']=_0x1c3f16;}['_loadImage'+'Bitmap'](_0x5cbbd6,_0x4bc5f1,_0x83caa2,_0x11e8fd){const _0x294534={'cache':!(-0x109e+-0x41*-0x66+0x48*-0x21),'responseType':'blob','retry':this['maxRetries']>-0x1abc+-0x19d4+0x3490,'maxRetries':this['maxRetries']};$e['get'](_0x5cbbd6,_0x294534,(_0x28cb1b,_0x5083a9)=>{_0x28cb1b?_0x11e8fd(_0x28cb1b):this['_loadImage'+'BitmapFrom'+'Blob'](_0x5083a9,_0x11e8fd);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x450c19,_0x57a7c0){createImageBitmap(_0x450c19,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x449816=>_0x57a7c0(null,_0x449816))['catch'](_0x139e72=>_0x57a7c0(_0x139e72));}}const iu=[0x1556a2*-0x412+0x65b9a07a+-0x1*-0x49754a95,-0x1c5*0x22f421+0x623*-0x767e8+0x4eb*0x3be177,-0x1*0x35852b6+0x34*0xf803e+0xa4c502b],IL={0x83f0:yc,0x83f2:zf,0x83f3:$o,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x2447af,_0x389614,_0x1e1497,_0x1464af){return _0x2447af===_a?new Uint32Array(_0x389614,_0x1e1497,_0x1464af/(0x2561*0x1+0x1*0x1de1+-0x433e)):new Uint8Array(_0x389614,_0x1e1497,_0x1464af);}class LL extends Na{constructor(_0x458e5c){super(),this['maxRetries']=-0x8d8+0xe*0x28e+-0x1aec;}['load'](_0x305ccf,_0x57d790,_0xa4e92e){le['fetchArray'+'Buffer'](_0x305ccf['load'],_0x57d790,_0xa4e92e,this['maxRetries']);}['open'](_0x245420,_0x35bceb,_0x2c2396,_0x152869={}){const _0x1b1f5a=this['parse'](_0x35bceb);if(!_0x1b1f5a)return null;const _0x4940e6=_0x152869['srgb']?Cc(_0x1b1f5a['format']):_0x1b1f5a['format'],_0x1a0ea6=new he(_0x2c2396,{'name':_0x245420,'profilerHint':ur,'addressU':_0x1b1f5a['cubemap']?ae:tt,'addressV':_0x1b1f5a['cubemap']?ae:tt,'width':_0x1b1f5a['width'],'height':_0x1b1f5a['height'],'format':_0x4940e6,'cubemap':_0x1b1f5a['cubemap'],'levels':_0x1b1f5a['levels'],..._0x152869});return _0x1a0ea6['upload'](),_0x1a0ea6;}['parse'](_0x3d75f1){const _0x364e2b=new Uint32Array(_0x3d75f1);if(iu[-0xb24+0x138b+-0x867]!==_0x364e2b[-0x1c1a+-0x133b*0x2+0x2*0x2148]||iu[0xe63+-0x1c04+0xda2]!==_0x364e2b[0x59+0x1b6f+-0x1bc7]||iu[-0xd*0x115+-0x43c*-0x2+0x59b]!==_0x364e2b[-0x1d*-0x11c+0x322*0xa+0xe*-0x489])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x2364a4={'endianness':_0x364e2b[0x1*0xb50+0x2496+-0x29*0x12b],'glType':_0x364e2b[0x1de8+0x2f*-0x8e+0x1*-0x3d2],'glTypeSize':_0x364e2b[-0x1f8f+-0xc70+0x2c04],'glFormat':_0x364e2b[0x33*-0x8a+-0x13f*-0x1d+0x89f*-0x1],'glInternalFormat':_0x364e2b[0x1*0x210b+-0x215*0x7+-0x1271],'glBaseInternalFormat':_0x364e2b[-0xe25+-0x2*0x679+0x1b1f],'pixelWidth':_0x364e2b[-0x18e3*-0x1+0x289*0x2+-0x1dec],'pixelHeight':_0x364e2b[-0x1913*-0x1+-0x10f4+-0x815*0x1],'pixelDepth':_0x364e2b[-0x1b05+0x17*0x1+0x1af9],'numberOfArrayElements':_0x364e2b[0xc3c*-0x2+-0x249c+-0x60*-0xa3],'numberOfFaces':_0x364e2b[-0x49a+0xe78*-0x1+0x131f],'numberOfMipmapLevels':_0x364e2b[-0x8d*0x42+-0x7*0x17d+0x1*0x2ed3],'bytesOfKeyValueData':_0x364e2b[-0x2*-0xe89+-0x24e9+0x2*0x3f3]};if(_0x2364a4['pixelDepth']>0x105+0x1f*-0x7a+0xdc2)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x2364a4['numberOfAr'+'rayElement'+'s']!==-0x8a8+-0x74e+0xff6)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x5ab6c4=IL[_0x2364a4['glInternal'+'Format']];if(_0x5ab6c4===void(-0x9db+0xc55*-0x1+0x1630))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x2364a4['glInternal'+'Format']),null;let _0x3129ad=0x31a*-0x1+-0x1767+0x1a91+_0x2364a4['bytesOfKey'+'ValueData']/(-0x48a+0x11*0x67+-0x41*0x9);const _0x54c549=_0x2364a4['numberOfFa'+'ces']>-0x77*-0x4e+0x1364+-0x37a5,_0x28c8df=[];for(let _0x12c467=-0xeeb+-0x687+0x1572;_0x12c467<(_0x2364a4['numberOfMi'+'pmapLevels']||0x5*0x1db+0x53+-0x15*0x75);_0x12c467++){const _0x4b3ada=_0x364e2b[_0x3129ad++];_0x54c549&&_0x28c8df['push']([]);const _0x3ff533=_0x54c549?_0x28c8df[_0x12c467]:_0x28c8df;for(let _0x26fc20=-0xb8c+0x1398+-0x80c;_0x26fc20<(_0x54c549?0x1*0x11a0+-0xfd0+-0xe5*0x2:-0x83a+0x177b+0xf4*-0x10);++_0x26fc20)_0x3ff533['push'](DL(_0x5ab6c4,_0x3d75f1,_0x3129ad*(-0x1c*0x92+0x45*-0x5f+-0x27*-0x111),_0x4b3ada)),_0x3129ad+=_0x4b3ada+(-0x170d+0x21c4+0x112*-0xa)>>-0x4a4+0x5*-0x4f1+0xf*0x1f5;}return{'format':_0x5ab6c4,'width':_0x2364a4['pixelWidth'],'height':_0x2364a4['pixelHeigh'+'t'],'levels':_0x28c8df,'cubemap':_0x54c549};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x1b8615,_0x25d660){super(),this['maxRetries']=0x49b+-0xd0b+0x870,this['device']=_0x25d660;}['load'](_0x170057,_0x43c0ef,_0x5239a8){le['fetchArray'+'Buffer'](_0x170057['load'],(_0x4c8de7,_0x419036)=>{_0x4c8de7?_0x43c0ef(_0x4c8de7,_0x419036):this['parse'](_0x419036,_0x170057,_0x43c0ef,_0x5239a8);},_0x5239a8,this['maxRetries']);}['open'](_0x2cfc71,_0x36f628,_0x1bdd21,_0x14ea43={}){const _0x3b05e5=_0x14ea43['srgb']?Cc(_0x36f628['format']):_0x36f628['format'],_0x468482=new he(_0x1bdd21,{'name':_0x2cfc71,'profilerHint':ur,'addressU':_0x36f628['cubemap']?ae:tt,'addressV':_0x36f628['cubemap']?ae:tt,'width':_0x36f628['width'],'height':_0x36f628['height'],'format':_0x3b05e5,'cubemap':_0x36f628['cubemap'],'levels':_0x36f628['levels'],..._0x14ea43});return _0x468482['upload'](),_0x468482;}['parse'](_0x17285c,_0x22b18d,_0x1de45d,_0x2543f1){var _0x31567a,_0x506a7d,_0x48f3f8;const _0x179f69=new oy(_0x17285c),_0x2d529f=[_0x179f69['readU32be'](),_0x179f69['readU32be'](),_0x179f69['readU32be']()];if(_0x2d529f[-0x1*-0x1573+0x1230+0x49*-0x8b]!==0x11003a644+-0xc68313a3+0x61cac1b7||_0x2d529f[0x1*0x146b+0x1d6b+-0x31d5]!==0x2287fa2e+-0x3*-0x779ce3+-0x3bca01c||_0x2d529f[0x223a+-0xb1e*-0x1+-0x2d56]!==-0x1160e0ba+0x17379d7*-0x8+0x2a06c97c)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x384905={'vkFormat':_0x179f69['readU32'](),'typeSize':_0x179f69['readU32'](),'pixelWidth':_0x179f69['readU32'](),'pixelHeight':_0x179f69['readU32'](),'pixelDepth':_0x179f69['readU32'](),'layerCount':_0x179f69['readU32'](),'faceCount':_0x179f69['readU32'](),'levelCount':_0x179f69['readU32'](),'supercompressionScheme':_0x179f69['readU32']()},_0x30e4b7={'dfdByteOffset':_0x179f69['readU32'](),'dfdByteLength':_0x179f69['readU32'](),'kvdByteOffset':_0x179f69['readU32'](),'kvdByteLength':_0x179f69['readU32'](),'sgdByteOffset':_0x179f69['readU64'](),'sgdByteLength':_0x179f69['readU64']()},_0x3f24b9=[];for(let _0x114c25=-0x1f99+0xad0+0x139*0x11;_0x114c25<Math['max'](-0x5*-0x38+0x5ac+-0x6c3,_0x384905['levelCount']);++_0x114c25)_0x3f24b9['push']({'byteOffset':_0x179f69['readU64'](),'byteLength':_0x179f69['readU64'](),'uncompressedByteLength':_0x179f69['readU64']()});if(_0x179f69['readU32']()!==_0x30e4b7['kvdByteOff'+'set']-_0x30e4b7['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x179f69['skip'](-0x18b3+-0x85*0x46+0x3d19);const _0x4c6be8=_0x179f69['readU8']();_0x179f69['skip'](_0x30e4b7['dfdByteLen'+'gth']-(0xa67+-0x1d7a+0x98e*0x2)),_0x179f69['skip'](_0x30e4b7['kvdByteLen'+'gth']),_0x384905['supercompr'+'essionSche'+'me']===-0xecb*-0x1+0xfbe+-0x1e88||_0x4c6be8===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x22b18d['load'],_0x17285c,_0x1de45d,{'isGGGR':(((_0x48f3f8=(_0x506a7d=(_0x31567a=_0x2543f1==null?void(0x9d*0x3a+-0x1aca*0x1+-0x8c8):_0x2543f1['file'])==null?void(-0x2517+0x1*0x259d+-0x43*0x2):_0x31567a['variants'])==null?void(-0xa38+-0xe68+-0x2*-0xc50):_0x506a7d['basis'])==null?void(-0x260e+-0x1f44+0x4552):_0x48f3f8['opt'])&0x1da7+-0x7fe+-0x15a1)!==-0x25eb+-0x1543*-0x1+0x10a8,'isKTX2':!(0x19b*-0xc+0x85d+-0xae7*-0x1)})||_0x1de45d('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2543f1['name']+']('+_0x2543f1['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x1de45d('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0xe91045){super(),this['maxRetries']=0x1d6e+-0x66*-0x49+-0x5da*0xa;}['load'](_0xcc78ed,_0x3b71f1,_0xedb5e7){le['fetchArray'+'Buffer'](_0xcc78ed['load'],_0x3b71f1,_0xedb5e7,this['maxRetries']);}['open'](_0x4ad54c,_0x34d87a,_0x5d37f6,_0x2db873={}){const _0x128014=new Uint32Array(_0x34d87a,-0x3*-0x709+0xf0b+-0x52a*0x7,-0x1d56+-0xfde+0x2d54),_0x322527=_0x128014[0xa79+-0x1*0x135d+0x8e8],_0x3a210a=_0x128014[-0x1*0x2037+-0x5*-0x766+-0x4c4],_0x571c9c=Math['max'](_0x128014[-0x47b*0x1+0x22b0+0xf17*-0x2],-0x67*-0x1f+0x580+-0x11f8),_0x5d0b61=_0x128014[0x6*-0x2e1+-0xc6b+0x1dc5]===0x25f3+-0xc08+-0x19e7,_0x37bc22=_0x128014[0x33*-0x1+-0x25b3+0x56d*0x7],_0x4e49b3=_0x128014[-0x4a5+-0x25*0x4a+0xf6d],_0x42594d=_0x128014[-0x12ca+0x197*0x13+0x1*-0xb4f]===0x1eb89*0x1+-0x1b0c1+-0xc338*-0x1,_0x5f28b3=0x56c07f5d+0x8ba*-0x7ce11+0x1eb01941,_0x895cdf=0x24e2*0x12b2e+-0x4b581169*0x1+-0x1*-0x5591d311,_0x5f788=0x26ec+0x1*0x749+-0x2*0x16e2,_0x466131=0x2501*0x1+0x3*0x5e+-0x25a7,_0xf1e698=-0x4c18e2a4+0x313*-0x1a2c9f+0xcdd363b6,_0x3f868c=0x15c55a10+0x29d*-0x1d87d5+0x9213d*0xb75,_0x19daf0=0x1678fc48+-0xa8c7940+-0x17c*-0x191d6e,_0x11d54b=-0x205a186+0x11b08945+0x753*0x4940b,_0x5e52c2=0x466b0d9a+-0xb*-0xe9929+0x15d76e0d*-0x1;let _0x2dff8d=!(0x2618+-0x1b9f+-0xa78),_0x44a79b=!(0x171d+0xb27+-0x2243),_0x3a831c=!(0x1a9e+-0x3fd*-0x1+-0x1e9a),_0x9c07ab=!(-0x1f*0x134+0x128f+0x12be),_0x2207b8=null,_0x930a86=0x11*-0xfd+-0xfed+0x20bb,_0xad0e59;if(_0x5d0b61?_0x37bc22===_0x5f28b3?(_0x2207b8=yc,_0x2dff8d=!(-0x21f8+0x1ac2+0x736)):_0x37bc22===_0x895cdf?(_0x2207b8=$o,_0x2dff8d=!(0xa5f*0x2+0x141d+-0x1*0x28db)):_0x37bc22===_0x5f788?(_0x2207b8=Je,_0x930a86=-0x198d+0xa49+0xf46):_0x37bc22===_0x466131?(_0x2207b8=Ke,_0x930a86=-0x1*0x226d+-0x5*-0x5f1+0x25e*0x2):_0x37bc22===_0xf1e698?(_0x2207b8=bc,_0x2dff8d=!(0xa7f*-0x3+0x1a6d+-0x51*-0x10),_0x44a79b=!(0x1*-0x1c05+-0x122a*-0x2+-0x3*0x2c5)):_0x37bc22===_0x3f868c||_0x37bc22===_0x19daf0?(_0x2207b8=_0x37bc22===_0x3f868c?qo:Xo,_0x2dff8d=!(-0xe22+-0xb9e+0x4*0x670),_0x3a831c=!(0x8bd+-0x1d96+0x14d9)):(_0x37bc22===_0x11d54b||_0x37bc22===_0x5e52c2)&&(_0x2207b8=_0x37bc22===_0x11d54b?wc:Tc,_0x2dff8d=!(-0x1d17+0x2375+0xa3*-0xa),_0x9c07ab=!(0x8*-0x480+0x1*-0x1005+0xc1*0x45)):_0x4e49b3===0xa45+-0x1d1e+0x12f9&&(_0x2207b8=Se),!_0x2207b8)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x4ad54c+'.'),_0xad0e59=new he(_0x5d37f6,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0xad0e59;_0xad0e59=new he(_0x5d37f6,{'name':_0x4ad54c,'profilerHint':ur,'addressU':_0x42594d?ae:tt,'addressV':_0x42594d?ae:tt,'width':_0x322527,'height':_0x3a210a,'format':_0x2207b8,'cubemap':_0x42594d,'mipmaps':_0x571c9c>-0x10d9*-0x1+0x1*0x2263+0x2b*-0x131,..._0x2db873});let _0x34af90=-0xb9b+0x1c67+-0x104c;const _0x357380=_0x42594d?-0x63*0x2a+-0xabc+0x1b00:-0xb6d+-0xa*-0x17d+-0x22*0x1a;let _0x4e3f0e;const _0x15fe3b=-0x34e+-0x1b9c+-0x2*-0xf77,_0x711c54=-0x260f+0x1987+0xc8c,_0x31316b=_0x37bc22===_0x5f28b3?0x32d+0x81a+-0xb3f:0x1843+0x1347+-0x2e6*0xf;let _0x75b0b,_0x4401b9,_0x53d63f;for(let _0xb22d9d=0x1fa8+0x480+-0x485*0x8;_0xb22d9d<_0x357380;_0xb22d9d++){let _0x4cd9f2=_0x322527,_0xfb3432=_0x3a210a;for(let _0x27111b=-0x11bb+-0xb1a+-0x79*-0x3d;_0x27111b<_0x571c9c;_0x27111b++){_0x2dff8d?_0x44a79b?_0x4e3f0e=Math['floor']((_0x4cd9f2+(0x1e7a+-0xd29+-0x114e))/(0x337*0x9+-0x2*0xa2a+-0x897))*Math['floor']((_0xfb3432+(-0xb0*0x18+0x109+0xf7a))/(0x1aa+-0x1123+0x1*0xf7d))*(0x189e+0x18e5+-0x317b):_0x3a831c?_0x4e3f0e=Math['max'](_0x4cd9f2,0x1756+0x1*-0x932+0x2*-0x70a)*Math['max'](_0xfb3432,-0x98a+-0x1b44+-0x2*-0x126b)/(0x4*-0x665+-0xde*0x22+0x3714):_0x9c07ab?_0x4e3f0e=Math['max'](_0x4cd9f2,-0x25c+0x5f4+-0x390*0x1)*Math['max'](_0xfb3432,-0x29*-0x57+0x6a*-0x3d+-0x9*-0x143)/(0x1646+-0x334+0xa*-0x1e8):(_0x75b0b=Math['floor']((_0x4cd9f2+_0x15fe3b-(0x7*0x581+-0x1*0x1331+-0x1355))/_0x15fe3b),_0x4401b9=Math['floor']((_0xfb3432+_0x711c54-(-0x1*0xd5+-0xca0+-0x1*-0xd76))/_0x711c54),_0x53d63f=_0x75b0b*_0x4401b9,_0x4e3f0e=_0x53d63f*_0x31316b):_0x4e3f0e=_0x4cd9f2*_0xfb3432*(0x7bc+0x206+-0x9be*0x1);const _0x4b9552=_0x2207b8===Ke?new Float32Array(_0x34d87a,_0x34af90,_0x4e3f0e):_0x2207b8===Je?new Uint16Array(_0x34d87a,_0x34af90,_0x4e3f0e):new Uint8Array(_0x34d87a,_0x34af90,_0x4e3f0e);_0x42594d?(_0xad0e59['_levels'][_0x27111b]||(_0xad0e59['_levels'][_0x27111b]=[]),_0xad0e59['_levels'][_0x27111b][_0xb22d9d]=_0x4b9552):_0xad0e59['_levels'][_0x27111b]=_0x4b9552,_0x34af90+=_0x4e3f0e*_0x930a86,_0x4cd9f2=Math['max'](_0x4cd9f2*(-0x783*0x1+-0x2220+0x29a3+0.5),-0x1fe6+0x2*-0xeaa+-0x37*-0x11d),_0xfb3432=Math['max'](_0xfb3432*(-0x6e6*-0x1+0x727*0x2+-0x1534+0.5),-0x1b6*-0x13+-0x1a71+-0x610);}}return _0xad0e59['upload'](),_0xad0e59;}}class BL extends Na{constructor(_0x4a09ce){super(),this['maxRetries']=0x2*0xca4+0x1*0x1b9d+-0x34e5;}['load'](_0xf257b4,_0x359c04,_0x3f1cbc){le['fetchArray'+'Buffer'](_0xf257b4['load'],_0x359c04,_0x3f1cbc,this['maxRetries']);}['open'](_0x12b537,_0x58b450,_0x484390,_0xccde77={}){const _0x3cf8c3=this['parse'](_0x58b450);if(!_0x3cf8c3)return null;const _0x4bd606=new he(_0x484390,{'name':_0x12b537,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x3cf8c3['width'],'height':_0x3cf8c3['height'],'levels':_0x3cf8c3['levels'],'format':Se,'type':ap,'mipmaps':!(0x2*-0x1021+0x10d3+0x34*0x4c),..._0xccde77});return _0x4bd606['upload'](),_0x4bd606;}['parse'](_0x29d0b4){const _0x933899=new oy(_0x29d0b4);if(!_0x933899['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x1ad12d={};for(;;){const _0x4aa404=_0x933899['readLine']();if(_0x4aa404['length']===0x1*-0xe91+-0x1e00+0x2c91)break;{const _0x3d1a66=_0x4aa404['split']('=');_0x3d1a66['length']===-0xd*-0x16a+0xb91+-0x1df1&&(_0x1ad12d[_0x3d1a66[-0x1981+0x1018+0x969]]=_0x3d1a66[0x847+0x6be*0x1+-0xf04]);}}if(!_0x1ad12d['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x33fb83=_0x933899['readLine']()['split']('\x20');if(_0x33fb83['length']!==0xc61*0x2+0x1b7e+-0x1a1e*0x2)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x1cab0f=parseInt(_0x33fb83[0x6c1*-0x1+0x2648+-0x1f86],0x1*-0x2055+-0xc90*-0x1+0x1*0x13cf),_0x3fdc0e=parseInt(_0x33fb83[0x1df*-0x9+0xfb2+0x2*0x94],-0x73*0x27+0x1*-0x520+0x16af),_0x4a039e=this['_readPixel'+'s'](_0x933899,_0x3fdc0e,_0x1cab0f,_0x33fb83[0x1b2f+0x9e4+0x1*-0x2513]==='-Y');return _0x4a039e?{'width':_0x3fdc0e,'height':_0x1cab0f,'levels':[_0x4a039e]}:null;}['_readPixel'+'s'](_0xaa5045,_0x36768b,_0x5a43ab,_0x7c0a90){if(_0x36768b<-0x223*-0x4+0x155b+-0x3*0x9f5||_0x36768b>0x9f60+-0x10bd*0xd+0x5d1c*0x2)return this['_readPixel'+'sFlat'](_0xaa5045,_0x36768b,_0x5a43ab);const _0x2710fb=[-0x1bea+-0x16f3*0x1+0x32dd,0x8*0x4b6+0xcba+-0x326a,0x234a+-0x170f+0xc3b*-0x1,0x9fc+0x1011*-0x1+0x9*0xad];if(_0xaa5045['readArray'](_0x2710fb),_0x2710fb[0x5*0x4fd+0x3*0xc7b+-0xc7a*0x5]!==-0xdcc*0x2+0x181a+-0x1c0*-0x2||_0x2710fb[-0x25ef+-0x3d*-0x2f+0xb9*0x25]!==0x1bd8+-0x1*-0x265+-0x1e3b||(_0x2710fb[0x2405+0x51*-0x49+-0xcea]&-0xde1+-0x8bd+0xb8f*0x2)!==-0x242b+0x1ba*0x13+0x7*0x7b)return _0xaa5045['skip'](-(0x1dbb+-0x549*-0x2+0x2849*-0x1)),this['_readPixel'+'sFlat'](_0xaa5045,_0x36768b,_0x5a43ab);const _0x480209=new ArrayBuffer(_0x36768b*_0x5a43ab*(0x95f+0xed9+-0x1834)),_0x3edc49=new Uint8Array(_0x480209);let _0x2c272d=_0x7c0a90?-0x100d*0x2+-0x1f28+0x3f42:_0x36768b*(-0x1daf+0x1245+0xd1*0xe)*(_0x5a43ab-(-0x1391+0xee*0x1+-0x952*-0x2)),_0x481aca,_0x15e863,_0x3f5208,_0x290d92,_0x20e241,_0x145e75;for(_0x15e863=-0x26*0x55+-0x3*0x1ff+0x129b;_0x15e863<_0x5a43ab;++_0x15e863){if(_0x15e863&&_0xaa5045['readArray'](_0x2710fb),(_0x2710fb[0x5c8+0xeb6+-0x45*0x4c]<<-0x95*-0x43+0xf27*0x2+0x17*-0x303)+_0x2710fb[0x191e*0x1+0x226c+-0x3b87]!==_0x36768b)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x290d92=-0x1e7*-0x3+-0x15ef+0x103a;_0x290d92<-0xd33*-0x2+0x1a3f+0x1*-0x34a1;++_0x290d92)for(_0x481aca=0x2255+-0x5*-0x5d6+-0x3f83;_0x481aca<_0x36768b;)if(_0x20e241=_0xaa5045['readU8'](),_0x20e241>-0x11a1+-0x204+0x6b7*0x3){if(_0x20e241-=0x47*-0x5c+-0x1bca+0x1ae7*0x2,_0x481aca+_0x20e241>_0x36768b)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x145e75=_0xaa5045['readU8'](),_0x3f5208=-0x3*-0xaeb+0x40*-0x20+-0x18c1;_0x3f5208<_0x20e241;++_0x3f5208)_0x3edc49[_0x2c272d+_0x290d92+(0x1e37+-0xab*-0x1f+0x48*-0xb5)*_0x481aca++]=_0x145e75;}else{if(_0x20e241===0xc03+0x1008+-0x1c0b||_0x481aca+_0x20e241>_0x36768b)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x3f5208=0x1fdd*-0x1+-0x4e5*-0x2+0x1613;_0x3f5208<_0x20e241;++_0x3f5208)_0x3edc49[_0x2c272d+_0x290d92+(-0x13eb*-0x1+-0xaae+-0x939)*_0x481aca++]=_0xaa5045['readU8']();}_0x2c272d+=_0x36768b*(0x10*0x20+0x17+-0x213)*(_0x7c0a90?0x188c+-0x1*-0x2b5+0x20*-0xda:-(0x115*0x7+0x23*-0xf9+0x1a79));}return _0x3edc49;}['_readPixel'+'sFlat'](_0x4edd1c,_0x199732,_0x957c1b){return _0x4edd1c['remainingB'+'ytes']===_0x199732*_0x957c1b*(-0x9*-0x22c+0x2b*-0x31+-0xb4d*0x1)?new Uint8Array(_0x4edd1c['arraybuffe'+'r'],_0x4edd1c['offset']):null;}}const Wg={'repeat':tt,'clamp':ae,'mirror':Of},$g={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x62c684){const _0x3eeb13=Mi['calcMipLev'+'elsCount'](_0x62c684['_width'],_0x62c684['_height']),_0xf05cf3=function(_0x4cdbaa){return _0x4cdbaa instanceof HTMLCanvasElement||_0x4cdbaa instanceof HTMLImageElement||_0x4cdbaa instanceof HTMLVideoElement;};if(!(_0x62c684['_format']===Se||_0x62c684['_format']===Ke)||_0x62c684['_volume']||_0x62c684['_compresse'+'d']||_0x62c684['_levels']['length']===0x3*0xc25+0x7cb+-0x2c39||_0x62c684['_levels']['length']===_0x3eeb13||_0xf05cf3(_0x62c684['_cubemap']?_0x62c684['_levels'][-0x390+0x76+-0x1*-0x31a][-0x1*0xb5f+0xab9+0xa6]:_0x62c684['_levels'][0x1*-0x1516+-0x18f1+0x2e07*0x1]))return;const _0x49975e=function(_0x3ea77f,_0x5478be,_0x31c8bf){const _0x5b0955=Math['max'](0x1*0x1018+-0x199+0x7*-0x212,_0x3ea77f>>0x1f*-0x4a+0x7a0+-0x1*-0x157),_0x35cb18=Math['max'](-0x1260+-0x1ee5+0x3146,_0x5478be>>0x551*-0x1+0x5*-0x635+0x245b),_0x85f383=new _0x31c8bf['constructo'+'r'](_0x5b0955*_0x35cb18*(0x15fa+0x8*0x3e6+-0x3526)),_0x47e1e8=Math['floor'](_0x3ea77f/_0x5b0955),_0xca1ca4=Math['floor'](_0x5478be/_0x35cb18),_0x30266e=_0x47e1e8*_0xca1ca4;for(let _0x7edf05=0x177b+-0x2702*0x1+0xf87;_0x7edf05<_0x35cb18;++_0x7edf05)for(let _0x472563=0x7*0x223+0x2*0x496+-0x1821;_0x472563<_0x5b0955;++_0x472563)for(let _0x48ba03=-0x16c4+-0x14b6+-0x46*-0x9f;_0x48ba03<-0x214+0x1*-0x219d+0x115*0x21;++_0x48ba03){let _0xab318e=-0x1*0xa27+-0xe5*-0x2+0x85d*0x1;for(let _0x400420=0x24f1+0x1*-0x115f+-0x1*0x1392;_0x400420<_0xca1ca4;++_0x400420)for(let _0x21f6b4=0xa37+0xcb6+-0x16ed;_0x21f6b4<_0x47e1e8;++_0x21f6b4)_0xab318e+=_0x31c8bf[(_0x472563*_0x47e1e8+_0x21f6b4+(_0x7edf05*_0xca1ca4+_0x400420)*_0x3ea77f)*(0x251+0x1cb1+-0xf7f*0x2)+_0x48ba03];_0x85f383[(_0x472563+_0x7edf05*_0x5b0955)*(-0x606*-0x4+-0x368+0x52b*-0x4)+_0x48ba03]=_0xab318e/_0x30266e;}return _0x85f383;};for(let _0x559501=_0x62c684['_levels']['length'];_0x559501<_0x3eeb13;++_0x559501){const _0xdadde4=Math['max'](0x20e3*-0x1+-0x7f*0x7+0x245d,_0x62c684['_width']>>_0x559501-(0x23f6*-0x1+0x1516+-0xd*-0x125)),_0x45cdf6=Math['max'](-0x1*0x1393+-0xf1a+0x22ae,_0x62c684['_height']>>_0x559501-(-0x812+0x1*0x268f+-0x1e7c));if(_0x62c684['_cubemap']){const _0x564053=[];for(let _0x37ab3d=0x1418+0x17*0x3d+-0x1993;_0x37ab3d<0x6e7*-0x3+0x1*-0x5d4+0x1a8f;++_0x37ab3d)_0x564053['push'](_0x49975e(_0xdadde4,_0x45cdf6,_0x62c684['_levels'][_0x559501-(0x1446*-0x1+0x1*0x1c0d+0x3e3*-0x2)][_0x37ab3d]));_0x62c684['_levels']['push'](_0x564053);}else _0x62c684['_levels']['push'](_0x49975e(_0xdadde4,_0x45cdf6,_0x62c684['_levels'][_0x559501-(-0xb3e+-0x3aa*0x2+0x1293)]));}_0x62c684['_levelsUpd'+'ated']=_0x62c684['_cubemap']?[[!(-0x1*0x17c7+-0xe*0x242+0x3763),!(-0x11c9+-0x2*-0x23+0x1183),!(-0x1*0x4c3+0x220c+-0x1d49),!(-0x542*-0x3+-0x1ad2+0x1c*0x65),!(0x3*0xb6a+-0x3b3*0x2+-0x35b*0x8),!(0x1*0x1f2e+-0x1*-0x118a+0x2*-0x185c)]]:[!(0x7b9+-0xaee*0x1+0x335)];};class UL extends Ne{constructor(_0x1710a8){super(_0x1710a8,'texture');const _0x28c519=_0x1710a8['assets'],_0x45112d=_0x1710a8['graphicsDe'+'vice'];this['_device']=_0x45112d,this['_assets']=_0x28c519,this['imgParser']=new RL(_0x28c519,_0x45112d),this['parsers']={'dds':new kL(_0x28c519),'ktx':new LL(_0x28c519),'ktx2':new OL(_0x28c519,_0x45112d),'basis':new EL(_0x28c519,_0x45112d),'hdr':new BL(_0x28c519)};}set['crossOrigi'+'n'](_0x2dfe18){this['imgParser']['crossOrigi'+'n']=_0x2dfe18;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x11b709){this['imgParser']['maxRetries']=_0x11b709;for(const _0x2489b3 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x2489b3)&&(this['parsers'][_0x2489b3]['maxRetries']=_0x11b709);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x5a1596){return _0x5a1596['indexOf']('?')>=0x6*-0x328+0x72*0x2f+-0xaa*0x3?_0x5a1596['split']('?')[-0x646*0x6+-0x2*0x101+0x27a6]:_0x5a1596;}['_getParser'](_0x5ee918){const _0x3f3174=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5ee918))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x3f3174]||this['imgParser'];}['_getTextur'+'eOptions'](_0x1777d5){var _0x3fa681;const _0x2cc1db={'profilerHint':ur};if(_0x1777d5){((_0x3fa681=_0x1777d5['name'])==null?void(-0x3*-0xe8+-0x1a98+0x17e*0x10):_0x3fa681['length'])>0x3*-0x1d3+0x12*0x79+0x6f*-0x7&&(_0x2cc1db['name']=_0x1777d5['name']);const _0x2846a7=_0x1777d5['data'];_0x2846a7['hasOwnProp'+'erty']('minfilter')&&(_0x2cc1db['minFilter']=$g[_0x2846a7['minfilter']]),_0x2846a7['hasOwnProp'+'erty']('magfilter')&&(_0x2cc1db['magFilter']=$g[_0x2846a7['magfilter']]),_0x2846a7['hasOwnProp'+'erty']('addressu')&&(_0x2cc1db['addressU']=Wg[_0x2846a7['addressu']]),_0x2846a7['hasOwnProp'+'erty']('addressv')&&(_0x2cc1db['addressV']=Wg[_0x2846a7['addressv']]),_0x2846a7['hasOwnProp'+'erty']('mipmaps')&&(_0x2cc1db['mipmaps']=_0x2846a7['mipmaps']),_0x2846a7['hasOwnProp'+'erty']('anisotropy')&&(_0x2cc1db['anisotropy']=_0x2846a7['anisotropy']),_0x2846a7['hasOwnProp'+'erty']('flipY')&&(_0x2cc1db['flipY']=!!_0x2846a7['flipY']),_0x2846a7['hasOwnProp'+'erty']('srgb')&&(_0x2cc1db['srgb']=!!_0x2846a7['srgb']),_0x2846a7['hasOwnProp'+'erty']('type')?_0x2cc1db['type']=NL[_0x2846a7['type']]:_0x2846a7['hasOwnProp'+'erty']('rgbm')&&_0x2846a7['rgbm']?_0x2cc1db['type']=on:_0x1777d5['file']&&(_0x1777d5['file']['opt']&0x222d+0x2577+0x2*-0x23ce)!==-0x1172+0x4*-0x3fd+0x2166&&(_0x2cc1db['type']=op);}return _0x2cc1db;}['load'](_0x72385c,_0x2e59b7,_0x2eefa4){typeof _0x72385c=='string'&&(_0x72385c={'load':_0x72385c,'original':_0x72385c}),this['_getParser'](_0x72385c['original'])['load'](_0x72385c,_0x2e59b7,_0x2eefa4);}['open'](_0x1b51e7,_0xe6f944,_0x47de9f){if(!_0x1b51e7)return;const _0x5c6243=this['_getTextur'+'eOptions'](_0x47de9f);let _0x50aeb4=this['_getParser'](_0x1b51e7)['open'](_0x1b51e7,_0xe6f944,this['_device'],_0x5c6243);return _0x50aeb4===null?_0x50aeb4=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x50aeb4),_0xe6f944['unswizzled'+'GGGR']&&(_0x47de9f['file']['variants']['basis']['opt']&=-(0x919*-0x1+0x1*0x499+0x489))),_0x50aeb4;}['patch'](_0x55faf3,_0x1290b6){const _0x2f474c=_0x55faf3['resource'];if(!_0x2f474c)return;const _0x3ef676=this['_getTextur'+'eOptions'](_0x55faf3);for(const _0x41bc5b of Object['keys'](_0x3ef676))_0x2f474c[_0x41bc5b]=_0x3ef676[_0x41bc5b];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',WL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class $L{constructor(_0x22817a){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0x22817a;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x184880){!this['_supported']||this['_manager']['active']||(this['_root']=_0x184880);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x35a2f3,_0x153a30,_0x58a0ea,_0x434448=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x35a2f3,this['_xrHitTest'+'Source']=_0x153a30,this['_transient']=_0x58a0ea,this['_inputSour'+'ce']=_0x434448);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x433591=this['manager']['hitTest']['sources'],_0x44aceb=_0x433591['indexOf'](this);_0x44aceb!==-(-0x115a*-0x1+-0x16cf+-0x1d2*-0x3)&&_0x433591['splice'](_0x44aceb,0x21f8*0x1+-0x14b0+-0x135*0xb),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0xc494b1){if(this['_transient']){const _0x1a4da1=_0xc494b1['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x3e0602=0x1114+0xfbe+-0x20d2;_0x3e0602<_0x1a4da1['length'];_0x3e0602++){const _0x417054=_0x1a4da1[_0x3e0602];if(!_0x417054['results']['length'])continue;let _0x4363a5;_0x417054['inputSourc'+'e']&&(_0x4363a5=this['manager']['input']['_getByInpu'+'tSource'](_0x417054['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x417054['results'],_0x4363a5);}}else{const _0x2762ec=_0xc494b1['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x2762ec['length'])return;this['updateHitR'+'esults'](_0x2762ec);}}['updateHitR'+'esults'](_0x338ac2,_0x24ca4c){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x24ca4c)return;const _0x41f824=ih['pop']()??new T();_0x24ca4c?_0x41f824['copy'](_0x24ca4c['getOrigin']()):_0x41f824['copy'](this['manager']['camera']['getPositio'+'n']());let _0x1868ec=(0x8d1+-0x179c*-0x1+-0xa6*0x32)/(-0xceb*0x1+0x1bee+-0xf03),_0x481667=null;const _0x1c383f=ih['pop']()??new T(),_0xf0d6c2=Xg['pop']()??new se();for(let _0x5a228d=0x25f9+0x22a0+0x9*-0x811;_0x5a228d<_0x338ac2['length'];_0x5a228d++){const _0xf32df=_0x338ac2[_0x5a228d]['getPose'](this['manager']['_reference'+'Space']),_0x4a7240=_0x41f824['distance'](_0xf32df['transform']['position']);_0x4a7240>=_0x1868ec||(_0x1868ec=_0x4a7240,_0x481667=_0x338ac2[_0x5a228d],_0x1c383f['copy'](_0xf32df['transform']['position']),_0xf0d6c2['copy'](_0xf32df['transform']['orientatio'+'n']));}this['fire']('result',_0x1c383f,_0xf0d6c2,_0x24ca4c||this['_inputSour'+'ce'],_0x481667),this['manager']['hitTest']['fire']('result',this,_0x1c383f,_0xf0d6c2,_0x24ca4c||this['_inputSour'+'ce'],_0x481667),ih['push'](_0x41f824),ih['push'](_0x1c383f),Xg['push'](_0xf0d6c2);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x2c7825){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x3*0x427+0x1a1c+-0xda6)),c(this,'_checkingA'+'vailabilit'+'y',!(0xf9+-0x376*0x8+0x1ab8)),c(this,'sources',[]),(this['manager']=_0x2c7825,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x460fef=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x3*-0x2d7+0xa00+-0x17a);if(!_0x460fef)return;this['_available']=_0x460fef,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0x1*-0x2051+-0xb99*-0x1+0x198*0xd),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x5273fb=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x5273fb})['then'](_0x4ef257=>{_0x4ef257['cancel'](),this['manager']['active']&&(this['_available']=!(0x44a*-0x6+0x182*0x19+-0xbf6),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1*0x859+0x9*-0x3bc+0x93*0x2c);for(let _0x4d3168=-0x1582+-0x77b*0x3+0x2bf3*0x1;_0x4d3168<this['sources']['length'];_0x4d3168++)this['sources'][_0x4d3168]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x518a83={}){var _0x85bb28,_0x3d5178;if(!this['_supported']){(_0x85bb28=_0x518a83['callback'])==null||_0x85bb28['call'](_0x518a83,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x3d5178=_0x518a83['callback'])==null||_0x3d5178['call'](_0x518a83,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x518a83['profile']&&!_0x518a83['spaceType']&&(_0x518a83['spaceType']=qg);let _0xfeb432;const _0x2baccf=_0x518a83['offsetRay'];if(_0x2baccf){const _0x39bbac=new DOMPoint(_0x2baccf['origin']['x'],_0x2baccf['origin']['y'],_0x2baccf['origin']['z'],0xd23*-0x1+0xba+0x7*0x1c6),_0x3a94c5=new DOMPoint(_0x2baccf['direction']['x'],_0x2baccf['direction']['y'],_0x2baccf['direction']['z'],-0x1*-0x81d+0x7b*0x45+-0x2944);_0xfeb432=new XRRay(_0x39bbac,_0x3a94c5);}const _0x346f64=_0x518a83['callback'];_0x518a83['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x518a83['spaceType'])['then'](_0x22f22f=>{if(!this['manager']['session']){const _0x580abc=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x346f64&&_0x346f64(_0x580abc),this['fire']('error',_0x580abc);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x22f22f,'entityTypes':_0x518a83['entityType'+'s']||void(0x1*-0x5cf+-0x305*0x1+0x1*0x8d4),'offsetRay':_0xfeb432})['then'](_0x266827=>{this['_onHitTest'+'Source'](_0x266827,!(0x2*-0x1303+0xf4f+0x16b8),_0x518a83['inputSourc'+'e'],_0x346f64);})['catch'](_0x18718d=>{_0x346f64&&_0x346f64(_0x18718d),this['fire']('error',_0x18718d);});})['catch'](_0x599640=>{_0x346f64&&_0x346f64(_0x599640),this['fire']('error',_0x599640);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x518a83['profile'],'entityTypes':_0x518a83['entityType'+'s']||void(-0x1183*0x2+-0x238b+0x1*0x4691),'offsetRay':_0xfeb432})['then'](_0x1c55e1=>{this['_onHitTest'+'Source'](_0x1c55e1,!(-0x1cc9+-0xeb8+-0x12d*-0x25),_0x518a83['inputSourc'+'e'],_0x346f64);})['catch'](_0xbf4114=>{_0x346f64&&_0x346f64(_0xbf4114),this['fire']('error',_0xbf4114);});}['_onHitTest'+'Source'](_0x16729a,_0x368f23,_0x3b915a,_0x20a9a3){if(!this['manager']['session']){_0x16729a['cancel']();const _0x5cd5da=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x20a9a3&&_0x20a9a3(_0x5cd5da),this['fire']('error',_0x5cd5da);return;}const _0x1e0a97=new Ef(this['manager'],_0x16729a,_0x368f23,_0x3b915a??null);this['sources']['push'](_0x1e0a97),_0x20a9a3&&_0x20a9a3(null,_0x1e0a97),this['fire']('add',_0x1e0a97);}['update'](_0x1e9096){if(this['_available']){for(let _0x9f3ba0=-0x107f*-0x2+-0x1*0x146+-0x1c*0x122;_0x9f3ba0<this['sources']['length'];_0x9f3ba0++)this['sources'][_0x9f3ba0]['update'](_0x1e9096);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x2b30ac,_0x53e801){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x269e+-0x1*0xfc9+-0x16d5),c(this,'_trackable',!(-0x2*0x1092+0x1fcf+0x156*0x1)),c(this,'_tracking',!(0x34f+-0x2*0x959+0xf64)),c(this,'_emulated',!(0x236d+-0xee+-0x227e*0x1)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x2b30ac,this['_width']=_0x53e801);}get['image'](){return this['_image'];}set['width'](_0x46090f){this['_width']=_0x46090f;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x4951cd=>(this['_bitmap']=_0x4951cd,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x44a1f3){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0x14df+-0xf86*0x1+-0x2*-0x1233)),c(this,'_images',[]),(this['_manager']=_0x44a1f3,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x214159,_0x328c03){if(!this['_supported']||this['_manager']['active'])return null;const _0x537ddd=new Cf(_0x214159,_0x328c03);return this['_images']['push'](_0x537ddd),_0x537ddd;}['remove'](_0x509e89){if(this['_manager']['active'])return;const _0x25651d=this['_images']['indexOf'](_0x509e89);_0x25651d!==-(0xa9d+-0x23f3*-0x1+-0x2e8f)&&(_0x509e89['destroy'](),this['_images']['splice'](_0x25651d,-0x152a*-0x1+0xf93*-0x1+-0x596));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x4504cb=>{this['_available']=!(0xe3*0x2b+0xe17*-0x2+-0x9f3);for(let _0x4b7536=-0x21a3+-0x1f26+-0x5*-0xcf5;_0x4b7536<_0x4504cb['length'];_0x4b7536++)this['_images'][_0x4b7536]['_trackable']=_0x4504cb[_0x4b7536]==='trackable';})['catch'](_0x284509=>{this['_available']=!(0x1*0x1ec9+-0x1d7d*0x1+-0x14b),this['fire']('error',_0x284509);});}['_onSession'+'End'](){this['_available']=!(0x13aa+-0x1d53+0x9aa);for(let _0x171dee=-0x10b8+-0x1acc+0x2b84;_0x171dee<this['_images']['length'];_0x171dee++){const _0x2c3704=this['_images'][_0x171dee];_0x2c3704['_pose']=null,_0x2c3704['_measuredW'+'idth']=-0xc32+-0xce2+-0x504*-0x5,_0x2c3704['_tracking']&&(_0x2c3704['_tracking']=!(-0xc0f+0x1*-0x1e4d+0x2a5d),_0x2c3704['fire']('untracked'));}}['prepareIma'+'ges'](_0x5eb917){this['_images']['length']?Promise['all'](this['_images']['map'](_0x59b21a=>_0x59b21a['prepare']()))['then'](_0x299ffc=>{_0x5eb917(null,_0x299ffc);})['catch'](_0x84fae1=>{_0x5eb917(_0x84fae1,null);}):_0x5eb917(null,null);}['update'](_0x2b442d){if(!this['_available'])return;const _0x3e4569=_0x2b442d['getImageTr'+'ackingResu'+'lts'](),_0x155eec={};for(let _0x2e493b=-0x79f*-0x5+-0x24eb*-0x1+-0x4b06;_0x2e493b<_0x3e4569['length'];_0x2e493b++){_0x155eec[_0x3e4569[_0x2e493b]['index']]=_0x3e4569[_0x2e493b];const _0x35ab6f=this['_images'][_0x3e4569[_0x2e493b]['index']];_0x35ab6f['_emulated']=_0x3e4569[_0x2e493b]['trackingSt'+'ate']==='emulated',_0x35ab6f['_measuredW'+'idth']=_0x3e4569[_0x2e493b]['measuredWi'+'dthInMeter'+'s'],_0x35ab6f['_pose']=_0x2b442d['getPose'](_0x3e4569[_0x2e493b]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x2b0f1c=0x1*0x28+0x76b+0x793*-0x1;_0x2b0f1c<this['_images']['length'];_0x2b0f1c++)this['_images'][_0x2b0f1c]['_tracking']&&!_0x155eec[_0x2b0f1c]?(this['_images'][_0x2b0f1c]['_tracking']=!(-0x2*-0x8e2+0x22e2+0x1*-0x34a5),this['_images'][_0x2b0f1c]['fire']('untracked')):!this['_images'][_0x2b0f1c]['_tracking']&&_0x155eec[_0x2b0f1c]&&(this['_images'][_0x2b0f1c]['_tracking']=!(0x19c8+-0x90b+-0x10bd),this['_images'][_0x2b0f1c]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0xcbdbb7,_0x1ee3ae){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0xcbdbb7,this['_hand']=_0x1ee3ae,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=-0x1464+-0x19f*-0x13+-0x1*0xa69;l<jg['length'];l++)Gx[jg[l]]=!(0x2*0x132d+-0x1*-0x139+-0x21*0x133);class Yg{constructor(_0x307add,_0x205e9f,_0x44e9b6,_0x2ac3bd=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(-0x18ea*0x1+0x731*0x1+-0x1*-0x11b9)),(this['_index']=_0x307add,this['_id']=_0x205e9f,this['_hand']=_0x44e9b6,this['_finger']=_0x2ac3bd,this['_wrist']=_0x205e9f==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x205e9f]);}['update'](_0x2f9b0c){this['_dirtyLoca'+'l']=!(0x18ab+-0x1*0x277+-0x1634),this['_radius']=_0x2f9b0c['radius'],this['_localPosi'+'tion']['copy'](_0x2f9b0c['transform']['position']),this['_localRota'+'tion']['copy'](_0x2f9b0c['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x197e+-0x6a*0x38+0x46d*0xb),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x21d5e3=this['_hand']['_manager']['camera']['parent'];_0x21d5e3?this['_worldTran'+'sform']['mul2'](_0x21d5e3['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x2cc+-0x3a0+0x66c+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x1f401e){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(-0x3*-0x482+0x163e+-0x5*0x727)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x29d921=_0x1f401e['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x1f401e['_manager'],this['_inputSour'+'ce']=_0x1f401e,_0x29d921['get']('wrist')){const _0x209dd7=new Yg(-0x1208+0x23d*0x11+0x1*-0x1405,'wrist',this,null);this['_wrist']=_0x209dd7,this['_joints']['push'](_0x209dd7),this['_jointsByI'+'d']['wrist']=_0x209dd7;}for(let _0x3a856e=-0x1cf*0x1+0x1ac4+-0x18f5;_0x3a856e<Sh['length'];_0x3a856e++){const _0xb53dc1=new qL(_0x3a856e,this);for(let _0x1e18e6=-0x5*-0x21f+0x1754+-0x7*0x4d9;_0x1e18e6<Sh[_0x3a856e]['length'];_0x1e18e6++){const _0x1382eb=Sh[_0x3a856e][_0x1e18e6];if(!_0x29d921['get'](_0x1382eb))continue;const _0x45748c=new Yg(_0x1e18e6,_0x1382eb,this,_0xb53dc1);this['_joints']['push'](_0x45748c),this['_jointsByI'+'d'][_0x1382eb]=_0x45748c,_0x45748c['tip']&&(this['_tips']['push'](_0x45748c),_0xb53dc1['_tip']=_0x45748c),_0xb53dc1['_joints']['push'](_0x45748c);}}}['update'](_0xe2d787){const _0x580de5=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x288505=0x2263+0x1097*0x2+-0x4391;_0x288505<this['_joints']['length'];_0x288505++){const _0x1f07df=this['_joints'][_0x288505],_0x98b25b=_0x580de5['hand']['get'](_0x1f07df['_id']);if(_0x98b25b){let _0x8385cc;if(_0xe2d787['session']['visibility'+'State']!=='hidden'&&(_0x8385cc=_0xe2d787['getJointPo'+'se'](_0x98b25b,this['_manager']['_reference'+'Space'])),_0x8385cc)_0x1f07df['update'](_0x8385cc),_0x1f07df['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x3ee*0x8+0x54*0xa+0x1c28),this['fire']('tracking'));else{if(_0x1f07df['wrist']){this['_tracking']&&(this['_tracking']=!(0x1*0x47f+0x2141+-0x3*0xc95),this['fire']('trackinglo'+'st'));break;}}}}const _0x1dd369=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x11cf47=this['_jointsByI'+'d']['thumb-tip'],_0x308f5c=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x2db812=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x1055c9=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x46ccfe=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x1dd369&&_0x11cf47&&_0x308f5c&&_0x2db812&&_0x1055c9&&_0x46ccfe){this['_inputSour'+'ce']['_dirtyRay']=!(-0xe41*0x1+-0x96+0xed7),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x11cf47['_localPosi'+'tion'],_0x2db812['_localPosi'+'tion'],-0x509+-0x1535+0x1a3e+0.5);let _0x27f728=_0x1dd369,_0x5aae88=_0x46ccfe;if(this['_inputSour'+'ce']['handedness']===HL){const _0x5016cb=_0x27f728;_0x27f728=_0x5aae88,_0x5aae88=_0x5016cb;}Ir['sub2'](_0x27f728['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x5aae88['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x308f5c['_localPosi'+'tion'],_0x1055c9['_localPosi'+'tion'],0x85d+0xaa9*-0x1+0x24c+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,0x5*-0x4a5+0x2*-0x8cf+0x28d7+0.5)['normalize']();}const _0x3cdcd3=this['_fingerIsC'+'losed'](0x2157+-0x254*-0xb+-0x3af1)&&this['_fingerIsC'+'losed'](0x132d*0x1+0x1488+-0x27b2)&&this['_fingerIsC'+'losed'](0x1794+0xa46*0x1+-0x7a*0x47);this['_fingersTi'+'pDistance'](-0x36*0x3e+0x5b4+0x760,-0x5*-0xc2+-0x7ee+0x1*0x425)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0x2*-0xa63+-0x5e1+0x5d*-0x29),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x968*-0x1+-0x1*0x1b16+0x247f),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0x3cdcd3?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x1204+0x72b+0x1*0xad9),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x18de*0x1+0x5*-0x349+0x294c),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x7c1fa0,_0x5e63b7){console['log'](new Date()['getTime'](),'===>>>_fin'+'gersTipDis'+'tance\x20star'+'t');const _0x425bde=this['_fingers'][_0x7c1fa0],_0xfbf741=this['_fingers'][_0x5e63b7];return _0x425bde['tip']['_localPosi'+'tion']['distance'](_0xfbf741['tip']['_localPosi'+'tion'])<=0x425*0x1+0x180f+-0x1c34+0.01;}['_fingerIsC'+'losed'](_0x35ad3b){const _0x17391f=this['_fingers'][_0x35ad3b];return Ir['sub2'](_0x17391f['joints'][0x1b*-0x101+-0x16*0xd3+0x139*0x25]['_localPosi'+'tion'],_0x17391f['joints'][0x1*-0x172a+0x1c72+0xc1*-0x7]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x17391f['joints'][0x37*-0x73+0x3f1*-0x4+0x1*0x287b]['_localPosi'+'tion'],_0x17391f['joints'][0xd*-0x2af+-0x1eaa+0x4190]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(0x1*-0x26c7+-0x2*-0x302+0x20c3+0.8);}['getJointBy'+'Id'](_0x49159d){return this['_jointsByI'+'d'][_0x49159d]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=0x9*0x19f+-0x12cd*-0x1+-0x2164;class xs extends ce{constructor(_0xfb6564,_0x4900d2){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(-0x1d*-0x107+-0x20bb+0x2f1)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(0xde8+-0x14da+0x6f3)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x27f*-0xc+0x236b+-0x577)),c(this,'_dirtyRay',!(0x642+-0x42e*0x8+-0x1*-0x1b2f)),c(this,'_selecting',!(-0x10d1+-0x133e+0x2410*0x1)),c(this,'_squeezing',!(-0xc49+0x34*-0x5b+0x1ec6)),c(this,'_pinching',!(0x1c8c+0x26*-0x6b+-0xca9)),c(this,'_elementIn'+'put',!(-0x1735+0x1d93+-0x65e)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0xfb6564,this['_xrInputSo'+'urce']=_0x4900d2,_0x4900d2['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x775ecd){this['_elementIn'+'put']!==_0x775ecd&&(this['_elementIn'+'put']=_0x775ecd,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x1ffa7f){if(this['_hand'])this['_hand']['update'](_0x1ffa7f);else{const _0x3719f3=this['_xrInputSo'+'urce']['gripSpace'];if(_0x3719f3){const _0x3faae4=_0x1ffa7f['getPose'](_0x3719f3,this['_manager']['_reference'+'Space']);if(_0x3faae4){this['_grip']||(this['_grip']=!(-0x1*0x1181+-0x11e9+0x236a),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x5b63dd=ne(),_0x218d2a=(_0x5b63dd-this['_velocitie'+'sTimestamp'])/(0x643+0x1be8+-0x1e43);this['_velocitie'+'sTimestamp']=_0x5b63dd,this['_dirtyLoca'+'l']=!(-0x47*0x79+-0x129+0x16*0x194),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x3faae4['transform']['position']),this['_localRota'+'tion']['copy'](_0x3faae4['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x1548+0x1c2e+-0x6e6*0x1),this['_manager']['input']['velocities'+'Supported']&&_0x3faae4['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x3faae4['linearVelo'+'city']):_0x218d2a>0x1*-0x563+-0x15cf+-0x2*-0xd99&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x218d2a),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,-0x1*-0x1a2d+0x2382+0x1*-0x3daf+0.15));}else this['_velocitie'+'sAvailable']=!(-0x1*0xbae+0xb*0x1a3+-0x652);}const _0x296a1f=_0x1ffa7f['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x296a1f&&(this['_dirtyRay']=!(0xe09+0x1*0x1ffa+-0x2e03),this['_rayLocal']['origin']['copy'](_0x296a1f['transform']['position']),this['_rayLocal']['direction']['set'](-0x14f0+0x1*0x19d3+-0x4e3,0x8*0x4bb+0x3f7+-0x29cf,-(0xb1f+0x22*-0x80+0x1f6*0x3)),Qg['copy'](_0x296a1f['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x25a5+0x560+0x1b*0x132),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x55b56f=this['_manager']['camera']['parent'];_0x55b56f?this['_worldTran'+'sform']['mul2'](_0x55b56f['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x47997b=this['_dirtyRay'];if(this['_dirtyRay']=!(0x6*-0x63d+0x1ea7+-0x2*-0x364),this['_manager']['camera']['parent']){const _0x4766cc=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x4766cc['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x4766cc),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x47997b&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x442ec6={}){_0x442ec6['inputSourc'+'e']=this,_0x442ec6['profile']=this['_xrInputSo'+'urce']['profiles'][-0x1*0x301+0x1*0xffa+-0xcf9];const _0x165758=_0x442ec6['callback'];_0x442ec6['callback']=(_0x4670e1,_0x23f8a8)=>{_0x23f8a8&&this['onHitTestS'+'ourceAdd'](_0x23f8a8),_0x165758&&_0x165758(_0x4670e1,_0x23f8a8);},this['_manager']['hitTest']['start'](_0x442ec6);}['onHitTestS'+'ourceAdd'](_0x5e1887){this['_hitTestSo'+'urces']['push'](_0x5e1887),this['fire']('hittest:ad'+'d',_0x5e1887),_0x5e1887['on']('result',(_0x543f6a,_0x4bca06,_0x3a8492,_0x400bb5)=>{_0x3a8492===this&&this['fire']('hittest:re'+'sult',_0x5e1887,_0x543f6a,_0x4bca06,_0x400bb5);}),_0x5e1887['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x5e1887),this['fire']('hittest:re'+'move',_0x5e1887);});}['onHitTestS'+'ourceRemov'+'e'](_0xce2771){const _0x434a99=this['_hitTestSo'+'urces']['indexOf'](_0xce2771);_0x434a99!==-(-0x1*-0xcc8+-0x235+-0xa92)&&this['_hitTestSo'+'urces']['splice'](_0x434a99,0x21eb*0x1+0x115f+0x2b3*-0x13);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x1b686e){var _0x589914,_0x5a1bc7;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(-0x1*0x98b+-0x3fa*-0x1+0x592)),(this['manager']=_0x1b686e,this['velocities'+'Supported']=!!(ye['browser']&&((_0x5a1bc7=(_0x589914=window['XRPose'])==null?void(0x212a+-0x15b6+-0xb74):_0x589914['prototype'])!=null&&_0x5a1bc7['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x490566=>{this['_onInputSo'+'urcesChang'+'e'](_0x490566);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x157d89=this['manager']['session'];_0x157d89['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x157d89['addEventLi'+'stener']('select',_0x2451d2=>{const _0xacc528=this['_getByInpu'+'tSource'](_0x2451d2['inputSourc'+'e']);_0xacc528['update'](_0x2451d2['frame']),_0xacc528['fire']('select',_0x2451d2),this['fire']('select',_0xacc528,_0x2451d2);}),_0x157d89['addEventLi'+'stener']('selectstar'+'t',_0x54d553=>{const _0x2bcb87=this['_getByInpu'+'tSource'](_0x54d553['inputSourc'+'e']);_0x2bcb87['_selecting']||(_0x2bcb87['update'](_0x54d553['frame']),_0x2bcb87['_selecting']=!(0x16d9*-0x1+0x418*-0x6+0xe5*0x35),_0x2bcb87['fire']('selectstar'+'t',_0x54d553),this['fire']('selectstar'+'t',_0x2bcb87,_0x54d553));}),_0x157d89['addEventLi'+'stener']('selectend',_0x4d8b2a=>{const _0x7ef641=this['_getByInpu'+'tSource'](_0x4d8b2a['inputSourc'+'e']);_0x7ef641['update'](_0x4d8b2a['frame']),_0x7ef641['_selecting']=!(0x554*0x3+0x1c31+-0x2c2c),_0x7ef641['fire']('selectend',_0x4d8b2a),this['fire']('selectend',_0x7ef641,_0x4d8b2a);}),_0x157d89['addEventLi'+'stener']('squeeze',_0x135c78=>{const _0x533a42=this['_getByInpu'+'tSource'](_0x135c78['inputSourc'+'e']);_0x533a42['update'](_0x135c78['frame']),_0x533a42['fire']('squeeze',_0x135c78),this['fire']('squeeze',_0x533a42,_0x135c78);}),_0x157d89['addEventLi'+'stener']('squeezesta'+'rt',_0x47b503=>{const _0x33c031=this['_getByInpu'+'tSource'](_0x47b503['inputSourc'+'e']);_0x33c031['update'](_0x47b503['frame']),_0x33c031['_squeezing']=!(-0x17e2+-0x1*-0x20ab+-0x8c9),_0x33c031['fire']('squeezesta'+'rt',_0x47b503),this['fire']('squeezesta'+'rt',_0x33c031,_0x47b503);}),_0x157d89['addEventLi'+'stener']('squeezeend',_0x4c127b=>{const _0x2ecd42=this['_getByInpu'+'tSource'](_0x4c127b['inputSourc'+'e']);_0x2ecd42['update'](_0x4c127b['frame']),_0x2ecd42['_squeezing']=!(0x1*-0x5de+-0xe9*-0x4+0x23b),_0x2ecd42['fire']('squeezeend',_0x4c127b),this['fire']('squeezeend',_0x2ecd42,_0x4c127b);});const _0x29c28f=_0x157d89['inputSourc'+'es'];for(let _0x2804e4=0xad5+0x977*0x2+-0x1dc3;_0x2804e4<_0x29c28f['length'];_0x2804e4++)this['_addInputS'+'ource'](_0x29c28f[_0x2804e4]);}['_onSession'+'End'](){let _0x247379=this['_inputSour'+'ces']['length'];for(;_0x247379--;){const _0x1c2996=this['_inputSour'+'ces'][_0x247379];this['_inputSour'+'ces']['splice'](_0x247379,-0x221a+-0x15*0x8d+0x2dac),_0x1c2996['fire']('remove'),this['fire']('remove',_0x1c2996);}this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x32c41a){for(let _0x499e41=-0x336+-0x1*-0x1b23+0x23*-0xaf;_0x499e41<_0x32c41a['removed']['length'];_0x499e41++)this['_removeInp'+'utSource'](_0x32c41a['removed'][_0x499e41]);for(let _0x36d7b0=-0x1*-0x26ce+0x1*-0x1391+-0x133d;_0x36d7b0<_0x32c41a['added']['length'];_0x36d7b0++)this['_addInputS'+'ource'](_0x32c41a['added'][_0x36d7b0]);}['_getByInpu'+'tSource'](_0x57bdaf){for(let _0x240bae=0x1232+0x25ea+-0x381c;_0x240bae<this['_inputSour'+'ces']['length'];_0x240bae++)if(this['_inputSour'+'ces'][_0x240bae]['inputSourc'+'e']===_0x57bdaf)return this['_inputSour'+'ces'][_0x240bae];return null;}['_addInputS'+'ource'](_0x289cbd){if(this['_getByInpu'+'tSource'](_0x289cbd))return;const _0x3c4640=new xs(this['manager'],_0x289cbd);this['_inputSour'+'ces']['push'](_0x3c4640),this['fire']('add',_0x3c4640);}['_removeInp'+'utSource'](_0x2a5c9f){for(let _0x193232=-0x1*-0x3f9+-0x667+-0x26e*-0x1;_0x193232<this['_inputSour'+'ces']['length'];_0x193232++){if(this['_inputSour'+'ces'][_0x193232]['inputSourc'+'e']!==_0x2a5c9f)continue;const _0x6bca00=this['_inputSour'+'ces'][_0x193232];this['_inputSour'+'ces']['splice'](_0x193232,0x1b*-0x95+0x17fb+-0x843);let _0x4bcf0e=_0x6bca00['hitTestSou'+'rces']['length'];for(;_0x4bcf0e--;)_0x6bca00['hitTestSou'+'rces'][_0x4bcf0e]['remove']();_0x6bca00['fire']('remove'),this['fire']('remove',_0x6bca00);return;}}['update'](_0x112783){for(let _0x2b64ce=-0x19d*0x12+-0x9*-0x36+0x1b24;_0x2b64ce<this['_inputSour'+'ces']['length'];_0x2b64ce++)this['_inputSour'+'ces'][_0x2b64ce]['update'](_0x112783);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0xb1f66b){super(),c(this,'_manager'),c(this,'_supported',!(0x1c6c+0x1492+-0x30fd)),c(this,'_available',!(0x257b+-0x1*0x205f+0x51b*-0x1)),c(this,'_lightProb'+'eRequested',!(-0xfd1+-0x2a*0xb3+0x2d30)),c(this,'_lightProb'+'e',null),c(this,'_intensity',-0x1cf2+-0x34b*0xb+-0xc9*-0x53),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(0x63*0x5b+-0x256c+0xd*0x2e)),(this['_manager']=_0xb1f66b,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x23f*-0x7+0x1*-0x1199+0x1e0));}['_onSession'+'End'](){this['_supported']=!(-0x133*-0x7+-0x28*-0x57+-0x15fc),this['_available']=!(-0x66*0x20+-0xe*0x22d+0x353*0xd),this['_lightProb'+'eRequested']=!(-0xf*-0x12d+-0xfb2+-0x1f0),this['_lightProb'+'e']=null;}['start'](){let _0x3a6b33;if(this['_manager']['session']||(_0x3a6b33=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x3a6b33&&this['_manager']['type']!==Ao&&(_0x3a6b33=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x3a6b33&&!this['_supported']&&(_0x3a6b33=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x3a6b33&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x3a6b33=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x3a6b33){this['fire']('error',_0x3a6b33);return;}this['_lightProb'+'eRequested']=!(0x707+-0x10*-0x1f7+-0x2677),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x57012a=>{const _0x3ba3bc=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x1a3d+-0x11*0x63+-0x13a9*0x1),this['_manager']['active']?_0x3ba3bc&&(this['_lightProb'+'e']=_0x57012a):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x1fdacd=>{this['_lightProb'+'eRequested']=!(-0x81+-0x24db+-0x779*-0x5),this['fire']('error',_0x1fdacd);});}['end'](){this['_lightProb'+'eRequested']=!(-0x2*0x787+-0x1*-0x425+0x1*0xaea),this['_lightProb'+'e']=null,this['_available']=!(0x227e+0x1438+-0x36b5);}['update'](_0x12ddb2){if(!this['_lightProb'+'e'])return;const _0x276fcc=_0x12ddb2['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x276fcc)return;this['_available']||(this['_available']=!(0x15bb*0x1+0x20df+-0xf1*0x3a),this['fire']('available'));const _0x292049=_0x276fcc['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x2658+0x22*-0x117+-0x149,Math['max'](_0x292049['x'],Math['max'](_0x292049['y'],_0x292049['z']))),Xn['copy'](_0x292049)['mulScalar']((0x1*0xadb+-0x1108+-0x7*-0xe2)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](0x5*0x388+0x1b99+0x1*-0x2d41,0x1*-0xcda+0x1*-0xb4d+0x1827,0x80e+-0x373+-0x49b),Jg['copy'](_0x276fcc['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],-0xe08*-0x1+-0x2*-0x673+-0x1a94),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x276fcc['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=0x2608+-0x1094+-0x1574;class Rf extends ce{constructor(_0x3c7222,_0x1fa21b){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x3c7222,this['_xrPlane']=_0x1fa21b,this['_lastChang'+'edTime']=_0x1fa21b['lastChange'+'dTime'],this['_orientati'+'on']=_0x1fa21b['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x53421b){const _0x4d9ba0=this['_planeDete'+'ction']['_manager'],_0x172805=_0x53421b['getPose'](this['_xrPlane']['planeSpace'],_0x4d9ba0['_reference'+'Space']);_0x172805&&(this['_position']['copy'](_0x172805['transform']['position']),this['_rotation']['copy'](_0x172805['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x560443){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(0x1bd9+0x3*0x699+-0x2fa3)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x560443,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x170b+-0x1716+0x2e22)&&(this['_available']=!(-0x152e+-0x95*0x37+0x3531),this['fire']('available'));}['_onSession'+'End'](){for(let _0x527860=-0x1c68+-0x1*0x7ac+0x2414;_0x527860<this['_planes']['length'];_0x527860++)this['_planes'][_0x527860]['destroy'](),this['fire']('remove',this['_planes'][_0x527860]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0xb6d+-0x29c*0xa+0xeab,this['_available']&&(this['_available']=!(0x1*0x2c+0x10a9+0xc*-0x167),this['fire']('unavailabl'+'e'));}['update'](_0x22dacb){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x22dacb['detectedPl'+'anes']['size'])this['_available']=!(0x1f80+-0x125*-0x6+-0x265e),this['fire']('available');else return;}const _0x214ff9=_0x22dacb['detectedPl'+'anes'];for(const [_0x4fcbbd,_0x432cb5]of this['_planesInd'+'ex'])_0x214ff9['has'](_0x4fcbbd)||(this['_planesInd'+'ex']['delete'](_0x4fcbbd),this['_planes']['splice'](this['_planes']['indexOf'](_0x432cb5),0x1e2*0x13+-0x1*-0x1516+-0x38db),_0x432cb5['destroy'](),this['fire']('remove',_0x432cb5));for(const _0x2e7955 of _0x214ff9){let _0x1940d4=this['_planesInd'+'ex']['get'](_0x2e7955);_0x1940d4?_0x1940d4['update'](_0x22dacb):(_0x1940d4=new Rf(this,_0x2e7955),this['_planesInd'+'ex']['set'](_0x2e7955,_0x1940d4),this['_planes']['push'](_0x1940d4),_0x1940d4['update'](_0x22dacb),this['fire']('add',_0x1940d4));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x3a4cbb,_0x45239c,_0x4e890d=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x3a4cbb,this['_xrAnchor']=_0x45239c,this['_uuid']=_0x4e890d);}['destroy'](){if(!this['_xrAnchor'])return;const _0x441213=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x441213,this);}['update'](_0x2dae2a){if(!this['_xrAnchor'])return;const _0x9a27ec=_0x2dae2a['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x9a27ec){if(this['_position']['equals'](_0x9a27ec['transform']['position'])&&this['_rotation']['equals'](_0x9a27ec['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x9a27ec['transform']['position']),this['_rotation']['copy'](_0x9a27ec['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0xabdd37){if(!this['_anchors']['persistenc'+'e']){_0xabdd37==null||_0xabdd37(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0xabdd37==null||_0xabdd37(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0xabdd37&&this['_uuidReque'+'sts']['push'](_0xabdd37);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0xe5ec67=>{this['_uuid']=_0xe5ec67,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0xabdd37==null||_0xabdd37(null,_0xe5ec67);for(const _0x23589e of this['_uuidReque'+'sts'])_0x23589e(null,_0xe5ec67);this['_uuidReque'+'sts']=null,this['fire']('persist',_0xe5ec67);})['catch'](_0x552a16=>{_0xabdd37==null||_0xabdd37(_0x552a16,null);for(const _0x2c60d7 of this['_uuidReque'+'sts'])_0x2c60d7(_0x552a16,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x7423b4){if(!this['_uuid']){_0x7423b4==null||_0x7423b4(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x35f424=>{this['_uuid']=null,_0x7423b4==null||_0x7423b4(_0x35f424),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x2af0be){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(0xcae*0x1+0x4ca+-0x1177*0x1)),c(this,'_checkingA'+'vailabilit'+'y',!(0x534+-0x5*0x2bf+0x15*0x68)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0x15d0+0x19f4+0x212*-0x2):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x2af0be,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x549a19=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(0x13*-0x123+0x21fb*0x1+0x1*-0xc61);_0x549a19&&(this['_available']=_0x549a19,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x49e*-0x1+-0x24*-0xb2+-0x1da5);for(let _0x5d8bcc=-0x4*-0x20c+-0xb8*0x2f+0x1998;_0x5d8bcc<this['_creationQ'+'ueue']['length'];_0x5d8bcc++)this['_creationQ'+'ueue'][_0x5d8bcc]['callback']&&this['_creationQ'+'ueue'][_0x5d8bcc]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x16ad+-0x15f5+-0x2ca2*-0x1,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x46b493=this['_list']['length'];for(;_0x46b493--;)this['_list'][_0x46b493]['destroy']();this['_list']['length']=0x95e+0x2f*-0x73+0xbbf,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x2bbb0a,_0x59fb13=null){const _0x3b0c68=new uo(this,_0x2bbb0a,_0x59fb13);return this['_index']['set'](_0x2bbb0a,_0x3b0c68),_0x59fb13&&this['_indexByUu'+'id']['set'](_0x59fb13,_0x3b0c68),this['_list']['push'](_0x3b0c68),_0x3b0c68['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x3b0c68;}['_onAnchorD'+'estroy'](_0x283171,_0x2b16d0){this['_index']['delete'](_0x283171),_0x2b16d0['uuid']&&this['_indexByUu'+'id']['delete'](_0x2b16d0['uuid']);const _0xcb4743=this['_list']['indexOf'](_0x2b16d0);_0xcb4743!==-(-0x1439*-0x1+-0x1*0x182d+-0x1*-0x3f5)&&this['_list']['splice'](_0xcb4743,-0xe*0xfb+-0x4*-0x270+-0x1*-0x3fb),this['fire']('destroy',_0x2b16d0);}['create'](_0x5d0c65,_0x5e575b,_0x1404dd){if(!this['_available']){_0x1404dd==null||_0x1404dd(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x5d0c65 instanceof XRHitTestResult){const _0x222a3b=_0x5d0c65;if(_0x1404dd=_0x5e575b,!this['_supported']){_0x1404dd==null||_0x1404dd(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x222a3b['createAnch'+'or']){_0x1404dd==null||_0x1404dd(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x222a3b['createAnch'+'or']()['then'](_0x2d6490=>{const _0x175642=this['_createAnc'+'hor'](_0x2d6490);_0x1404dd==null||_0x1404dd(null,_0x175642),this['fire']('add',_0x175642);})['catch'](_0x13ee27=>{_0x1404dd==null||_0x1404dd(_0x13ee27,null),this['fire']('error',_0x13ee27);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x5d0c65,_0x5e575b),'callback':_0x1404dd});}['restore'](_0x15dbcc,_0x518653){if(!this['_available']){_0x518653==null||_0x518653(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x518653==null||_0x518653(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x518653==null||_0x518653(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x15dbcc)['then'](_0x371dfc=>{const _0x5ea201=this['_createAnc'+'hor'](_0x371dfc,_0x15dbcc);_0x518653==null||_0x518653(null,_0x5ea201),this['fire']('add',_0x5ea201);})['catch'](_0x1acfe0=>{_0x518653==null||_0x518653(_0x1acfe0,null),this['fire']('error',_0x1acfe0);});}['forget'](_0x181084,_0x4cbc50){if(!this['_available']){_0x4cbc50==null||_0x4cbc50(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x4cbc50==null||_0x4cbc50(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x4cbc50==null||_0x4cbc50(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x181084)['then'](()=>{_0x4cbc50==null||_0x4cbc50(null);})['catch'](_0x2282ab=>{_0x4cbc50==null||_0x4cbc50(_0x2282ab),this['fire']('error',_0x2282ab);});}['update'](_0x4ab264){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0xf77+0x1c1*-0xe+0x2805),_0x4ab264['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x4e02a5=>{_0x4e02a5['delete'](),this['manager']['active']&&(this['_available']=!(-0x1a21*-0x1+0xe3a+-0x285b),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x39c3bd=-0x6cd+0x1*-0x11cf+0x189c;_0x39c3bd<this['_creationQ'+'ueue']['length'];_0x39c3bd++){const _0x13ff11=this['_creationQ'+'ueue'][_0x39c3bd];_0x4ab264['createAnch'+'or'](_0x13ff11['transform'],this['manager']['_reference'+'Space'])['then'](_0x510a46=>{_0x13ff11['callback']&&this['_callbacks'+'Anchors']['set'](_0x510a46,_0x13ff11['callback']);})['catch'](_0x44b441=>{_0x13ff11['callback']&&_0x13ff11['callback'](_0x44b441,null),this['fire']('error',_0x44b441);});}this['_creationQ'+'ueue']['length']=0x1a6*-0x4+0x166c+-0xfd4*0x1;}for(const [_0x52bfb3,_0x2a742d]of this['_index'])_0x4ab264['trackedAnc'+'hors']['has'](_0x52bfb3)||(this['_index']['delete'](_0x52bfb3),_0x2a742d['destroy']());for(let _0x528514=-0x199d+-0x5f7*-0x3+0x7b8;_0x528514<this['_list']['length'];_0x528514++)this['_list'][_0x528514]['update'](_0x4ab264);for(const _0x521598 of _0x4ab264['trackedAnc'+'hors']){if(this['_index']['has'](_0x521598))continue;try{const _0x1c95fc=_0x521598['anchorSpac'+'e'];}catch{continue;}const _0x9e2061=this['_createAnc'+'hor'](_0x521598);_0x9e2061['update'](_0x4ab264);const _0x4df8d8=this['_callbacks'+'Anchors']['get'](_0x521598);_0x4df8d8&&(this['_callbacks'+'Anchors']['delete'](_0x521598),_0x4df8d8(null,_0x9e2061)),this['fire']('add',_0x9e2061);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x109017,_0x114403){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x696+-0x22*-0x75+-0x1620),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x109017,this['_xrMesh']=_0x114403,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x5bf56a){const _0x5f43b5=this['_meshDetec'+'tion']['_manager'],_0xd01b8f=_0x5bf56a['getPose'](this['_xrMesh']['meshSpace'],_0x5f43b5['_reference'+'Space']);_0xd01b8f&&(this['_position']['copy'](_0xd01b8f['transform']['position']),this['_rotation']['copy'](_0xd01b8f['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x260888){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x4*-0x8fc+-0x1455+0x7cd*-0x2)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x260888,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x54e186){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x54e186['detectedMe'+'shes']['size'])this['_available']=!(-0x1*0x2273+0x3d*-0x6b+0x3bf2),this['fire']('available');else return;}for(const _0x5bf312 of _0x54e186['detectedMe'+'shes']){let _0x43e3be=this['_index']['get'](_0x5bf312);_0x43e3be?_0x43e3be['update'](_0x54e186):(_0x43e3be=new If(this,_0x5bf312),this['_index']['set'](_0x5bf312,_0x43e3be),this['_list']['push'](_0x43e3be),_0x43e3be['update'](_0x54e186),this['fire']('add',_0x43e3be));}for(const _0x5f509a of this['_index']['values']())_0x54e186['detectedMe'+'shes']['has'](_0x5f509a['xrMesh'])||this['_removeMes'+'h'](_0x5f509a);}['_removeMes'+'h'](_0x8bd80d){this['_index']['delete'](_0x8bd80d['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x8bd80d),-0x1579+0xd68+0x812),_0x8bd80d['destroy'](),this['fire']('remove',_0x8bd80d);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x190e37=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x1*0xaea+0x114a+0x1*-0x65f);if(!_0x190e37)return;this['_available']=_0x190e37,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1966+-0x36d*-0x1+-0x1cd2);for(const _0x2f98a7 of this['_index']['values']())this['_removeMes'+'h'](_0x2f98a7);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0xa0520f,_0x371056,_0x55fbb3){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(0xe7c+0xff*-0x9+0x8d*-0xa)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x668*-0x4+0x35*-0x4+-0x18ac)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0xa0520f,this['_xrView']=_0x371056);const _0x1ee7e5=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x1ee7e5,{'format':dr,'mipmaps':!(0x2356+-0x1*-0x1b69+-0xa75*0x6),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x4e89a8=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x1ee7e5,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x55fbb3===-0x539+-0x908+0xe42?-0x1108+-0x13*0x1dd+0x346f*0x1:_0x55fbb3,'mipmaps':!(-0x1d*0x106+0x181e+0x591),'addressU':ae,'addressV':ae,'minFilter':_0x4e89a8,'magFilter':_0x4e89a8,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x3cc1d1=-0xfe6*-0x1+-0x1c*-0xcd+-0x7aa*0x5;_0x3cc1d1<this['_textureDe'+'pth']['_levels']['length'];_0x3cc1d1++)this['_textureDe'+'pth']['_levels'][_0x3cc1d1]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x1ee7e5['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0xcd9cb3;return((_0xcd9cb3=this['_depthInfo'])==null?void(-0x1*-0x2143+0xf5a+-0x309d):_0xcd9cb3['rawValueTo'+'Meters'])||-0x17e*0x6+0x55*0x4c+0x412*-0x4;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x2f1173,_0xd15d){this['_xrView']=_0xd15d,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x4f23d2=_0x2f1173['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x4f23d2['x'],this['_viewport']['y']=_0x4f23d2['y'],this['_viewport']['z']=_0x4f23d2['width'],this['_viewport']['w']=_0x4f23d2['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x2f1173);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x550b56=this['_manager']['webglBindi'+'ng'];if(!_0x550b56)return;const _0x106da9=_0x550b56['getCameraI'+'mage'](this['_xrCamera']);if(!_0x106da9)return;const _0x46e54a=this['_manager']['app']['graphicsDe'+'vice'],_0x38e495=_0x46e54a['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x38e495['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x38e495['createFram'+'ebuffer']();else{const _0x2b1ce5=_0x38e495['COLOR_ATTA'+'CHMENT0'],_0x133a15=this['_xrCamera']['width'],_0x44437c=this['_xrCamera']['height'];_0x46e54a['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x38e495['framebuffe'+'rTexture2D'](_0x38e495['FRAMEBUFFE'+'R'],_0x2b1ce5,_0x38e495['TEXTURE_2D'],_0x106da9,0x59*0x6a+-0x10ae+0x4*-0x50b),_0x46e54a['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x38e495['framebuffe'+'rTexture2D'](_0x38e495['FRAMEBUFFE'+'R'],_0x2b1ce5,_0x38e495['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0xcc0*-0x1+0x1851+-0xb91),_0x38e495['bindFrameb'+'uffer'](_0x38e495['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x38e495['bindFrameb'+'uffer'](_0x38e495['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x38e495['blitFrameb'+'uffer'](0xbc3*0x1+-0x2*-0x22d+-0x1*0x101d,_0x44437c,_0x133a15,-0x1c5d+-0x3*-0x344+0x1291,-0xed1+-0x1c70+0x1*0x2b41,0xa*-0x76+0xc3d+-0x1f*0x3f,_0x133a15,_0x44437c,_0x38e495['COLOR_BUFF'+'ER_BIT'],_0x38e495['NEAREST']);}}['_updateDep'+'th'](_0x379b84){var _0x4607a8,_0x52cb20;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x471443=this['_manager']['views']['depthGpuOp'+'timized'],_0x4eb99b=_0x471443?this['_manager']['webglBindi'+'ng']:_0x379b84;if(!_0x4eb99b){this['_depthInfo']=null;return;}const _0x12b8f5=_0x4eb99b['getDepthIn'+'formation'](this['_xrView']);if(!_0x12b8f5){this['_depthInfo']=null;return;}let _0x25d3f6=!this['_depthInfo']!=!_0x12b8f5;this['_depthInfo']=_0x12b8f5;const _0x1afde6=((_0x4607a8=this['_depthInfo'])==null?void(-0x393*-0x3+0x2334+0x1*-0x2ded):_0x4607a8['width'])||-0x5ed+0xe2a+-0x839,_0x5dfc66=((_0x52cb20=this['_depthInfo'])==null?void(-0x499*0x7+-0x1f49*-0x1+0x17*0xa):_0x52cb20['height'])||0x1*0x13f7+0x26a0+0x1*-0x3a93;let _0x2e3ffa=!(-0x1b6+-0xaa1+0xc58);if((this['_textureDe'+'pth']['width']!==_0x1afde6||this['_textureDe'+'pth']['height']!==_0x5dfc66)&&(this['_textureDe'+'pth']['_width']=_0x1afde6,this['_textureDe'+'pth']['_height']=_0x5dfc66,_0x25d3f6=!(0x4c*-0x41+-0x1fd*0xa+-0x3b*-0xaa),_0x2e3ffa=!(0x1*0x269e+-0x717*-0x1+0x2db5*-0x1)),_0x25d3f6&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x471443){if(this['_depthInfo']['texture']){const _0x3fe3ed=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x3fe3ed['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x3fe3ed['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x3fe3ed['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x3fe3ed['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x3fe3ed['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x3fe3ed['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x3fe3ed['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x3fe3ed['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x4e7*0x3+-0x3*0x1bb+-0x984);}}else this['_textureDe'+'pth']['_levels'][0x35*0x82+-0x291+-0x1859]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x535+0x970+0xa3*-0x17]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x2e3ffa&&this['fire']('depth:resi'+'ze',_0x1afde6,_0x5dfc66);}['updateTran'+'sforms'](_0x3c611e){_0x3c611e?(this['_viewInvOf'+'fMat']['mul2'](_0x3c611e,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0xbd7+-0x1eb4+0x12dd]=this['_viewInvOf'+'fMat']['data'][-0x7c7+-0x1a86+0x2259],this['_positionD'+'ata'][0xd63+0x2442+0x108c*-0x3]=this['_viewInvOf'+'fMat']['data'][0x1*-0x225+0xee4+-0xcb2],this['_positionD'+'ata'][-0x69f+0x1af7+0xa2b*-0x2]=this['_viewInvOf'+'fMat']['data'][-0x16b0+-0x1551+-0x2c0f*-0x1];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x119716,_0x22e26b){var _0x15bd56;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x15bd56=this['_depthInfo'])==null?void(-0x249e+-0x2132+-0x45d0*-0x1):_0x15bd56['getDepthIn'+'Meters'](_0x119716,_0x22e26b))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x1d3a9b=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x1d3a9b['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x1d3a9b['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x2d98ba){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(0x1188+0xd69*-0x1+0x3e*-0x11)),c(this,'_available'+'Depth',!(-0x63*-0xc+-0x8f*0x13+0x66*0xf)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x2d98ba,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x4b7214,_0x57e4da){for(let _0x21b6a9=-0x2*-0xf84+-0x7be+0x2*-0xba5;_0x21b6a9<_0x57e4da['length'];_0x21b6a9++)this['_indexTmp']['set'](_0x57e4da[_0x21b6a9]['eye'],_0x57e4da[_0x21b6a9]);for(const [_0x3a45de,_0x8d09a]of this['_indexTmp']){let _0xe46b73=this['_index']['get'](_0x3a45de);_0xe46b73?_0xe46b73['update'](_0x4b7214,_0x8d09a):(_0xe46b73=new Hx(this['_manager'],_0x8d09a,_0x57e4da['length']),this['_index']['set'](_0x3a45de,_0xe46b73),this['_list']['push'](_0xe46b73),_0xe46b73['update'](_0x4b7214,_0x8d09a),this['fire']('add',_0xe46b73));}for(const [_0xf5a647,_0x48981c]of this['_index']){if(this['_indexTmp']['has'](_0xf5a647))continue;_0x48981c['destroy'](),this['_index']['delete'](_0xf5a647);const _0xb4f6ba=this['_list']['indexOf'](_0x48981c);_0xb4f6ba!==-(-0x131*0xe+0x297+0x4*0x386)&&this['_list']['splice'](_0xb4f6ba,0x907*-0x2+-0xdfc*0x1+0x200b),this['fire']('remove',_0x48981c);}this['_indexTmp']['clear']();}['get'](_0x2276b2){return this['_index']['get'](_0x2276b2)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0xbce+0xe2e+-0x19fb*0x1),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x1174+-0x918+-0x5d*0x17),this['_available'+'Depth'])){const _0x1d6256=this['_manager']['session'];this['_depthUsag'+'e']=_0x1d6256['depthUsage'],this['_depthForm'+'at']=_0x1d6256['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0xc2abf0 of this['_index']['values']())_0xc2abf0['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x3*-0x6a6+-0xb4b+-0x6*-0x535),this['_available'+'Depth']=!(-0x4d8*-0x5+-0xcca*0x1+0x19*-0x75),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x1e77+0x47*-0x51+-0x10f*-0x32;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x133112){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',-0x1803+0x535+0x12ce+0.1),c(this,'_depthFar',-0x8d1+-0x1*0x184a+0x2503),c(this,'_supported'+'FrameRates',null),c(this,'_width',0x1*0x13a3+-0x16ac+-0x6f*-0x7),c(this,'_height',-0x227f+0x1793+0xaec),c(this,'_framebuff'+'erScaleFac'+'tor',-0x9a*0x8+-0x2567+0x547*0x8),(this['app']=_0x133112,this['_available'][VL]=!(0x143*-0x1c+0xb26*-0x1+0x2e7b),this['_available'][GL]=!(0x557*-0x4+-0x329*0x2+0x1baf),this['_available'][Ao]=!(0x207d+0x230a+-0x4386),this['views']=new ic(this),this['domOverlay']=new $L(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x124ef8,_0x5b93c3,_0xcfff29,_0x24be66){var _0x4a1b80;let _0x4523e6=_0x24be66;if(typeof _0x24be66=='object'&&(_0x4523e6=_0x24be66['callback']),!this['_available'][_0x5b93c3]){_0x4523e6&&_0x4523e6(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x4523e6&&_0x4523e6(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x124ef8,this['_camera']['camera']['xr']=this,this['_type']=_0x5b93c3,this['_spaceType']=_0xcfff29,this['_framebuff'+'erScaleFac'+'tor']=(_0x24be66==null?void(-0xdb*-0x1d+0xf1a+-0x27e9):_0x24be66['framebuffe'+'rScaleFact'+'or'])??-0x1daa*-0x1+0x10c9+-0x2e72,this['_setClipPl'+'anes'](_0x124ef8['nearClip'],_0x124ef8['farClip']);const _0x31d499={'requiredFeatures':[_0xcfff29],'optionalFeatures':[]},_0x115461=(_0x4a1b80=this['app']['graphicsDe'+'vice'])==null?void(0x4ea*-0x7+-0x17f0+-0x83*-0x72):_0x4a1b80['isWebGL2'];if(_0x5b93c3===Ao){if(_0x31d499['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x31d499['optionalFe'+'atures']['push']('hit-test'),_0x24be66&&(_0x24be66['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x31d499['optionalFe'+'atures']['push']('image-trac'+'king'),_0x24be66['planeDetec'+'tion']&&_0x31d499['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x24be66['meshDetect'+'ion']&&_0x31d499['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x31d499['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x31d499['domOverlay']={'root':this['domOverlay']['root']}),_0x24be66&&_0x24be66['anchors']&&this['anchors']['supported']&&_0x31d499['optionalFe'+'atures']['push']('anchors'),_0x24be66&&_0x24be66['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x31d499['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x44d64a=[],_0x49760b=[];if(_0x44d64a['push'](Bx,WL),_0x49760b['push'](Ux,Nx,zx),_0x24be66['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x34a7ff=_0x44d64a['indexOf'](_0x24be66['depthSensi'+'ng']['usagePrefe'+'rence']);_0x34a7ff!==-(0x1ede+-0xa7f+-0x2*0xa2f)&&_0x44d64a['splice'](_0x34a7ff,-0x11ab*-0x1+-0xc*-0x145+-0x20e6),_0x44d64a['unshift'](_0x24be66['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x24be66['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x2e5029=_0x49760b['indexOf'](_0x24be66['depthSensi'+'ng']['dataFormat'+'Preference']);_0x2e5029!==-(0x8bd+-0x173d+0xe81)&&_0x49760b['splice'](_0x2e5029,0x1b03+-0x7*0x51+-0x18cb),_0x49760b['unshift'](_0x24be66['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x31d499['depthSensi'+'ng']={'usagePreference':_0x44d64a,'dataFormatPreference':_0x49760b};}_0x115461&&_0x24be66&&_0x24be66['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x31d499['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x31d499['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x24be66&&_0x24be66['optionalFe'+'atures']&&(_0x31d499['optionalFe'+'atures']=_0x31d499['optionalFe'+'atures']['concat'](_0x24be66['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x3731aa,_0x519315)=>{if(_0x3731aa){_0x4523e6&&_0x4523e6(_0x3731aa),this['fire']('error',_0x3731aa);return;}_0x519315!==null&&(_0x31d499['trackedIma'+'ges']=_0x519315),this['_onStartOp'+'tionsReady'](_0x5b93c3,_0xcfff29,_0x31d499,_0x4523e6);}):this['_onStartOp'+'tionsReady'](_0x5b93c3,_0xcfff29,_0x31d499,_0x4523e6);}['_onStartOp'+'tionsReady'](_0x2b097d,_0x5bc6d4,_0x36b2bb,_0x1a8637){navigator['xr']['requestSes'+'sion'](_0x2b097d,_0x36b2bb)['then'](_0x36ce15=>{this['_onSession'+'Start'](_0x36ce15,_0x5bc6d4,_0x1a8637);})['catch'](_0x5c6a0b=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x1a8637&&_0x1a8637(_0x5c6a0b),this['fire']('error',_0x5c6a0b);});}['end'](_0x35fc3b){if(!this['_session']){_0x35fc3b&&_0x35fc3b(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x35fc3b&&this['once']('end',_0x35fc3b),this['_session']['end']();}['isAvailabl'+'e'](_0x5903a6){return this['_available'][_0x5903a6];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x10a3e1 in this['_available'])this['_sessionSu'+'pportCheck'](_0x10a3e1);}['initiateRo'+'omCapture'](_0x53540a){if(!this['_session']){_0x53540a(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x53540a(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x53540a&&_0x53540a(null);})['catch'](_0x3d14f0=>{_0x53540a&&_0x53540a(_0x3d14f0);});}['updateTarg'+'etFrameRat'+'e'](_0x51bb9b,_0x519a1d){var _0x5e14b7;if(!((_0x5e14b7=this['_session'])!=null&&_0x5e14b7['updateTarg'+'etFrameRat'+'e'])){_0x519a1d==null||_0x519a1d(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x51bb9b)['then'](()=>{_0x519a1d==null||_0x519a1d();})['catch'](_0x32b7ac=>{_0x519a1d==null||_0x519a1d(_0x32b7ac);});}['_sessionSu'+'pportCheck'](_0x4d22be){navigator['xr']['isSessionS'+'upported'](_0x4d22be)['then'](_0xc6479f=>{this['_available'][_0x4d22be]!==_0xc6479f&&(this['_available'][_0x4d22be]=_0xc6479f,this['fire']('available',_0x4d22be,_0xc6479f),this['fire']('available:'+_0x4d22be,_0xc6479f));})['catch'](_0x219bd0=>{this['fire']('error',_0x219bd0);});}['_onSession'+'Start'](_0x8777a4,_0x12884a,_0x46e100){let _0x20ce8e=!(0xb6b+0x23cd+-0x2f37);this['_session']=_0x8777a4;const _0x294708=()=>{this['fire']('visibility'+':change',_0x8777a4['visibility'+'State']);},_0x47b6df=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x257b06=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x47b6df),this['_camera']['off']('set_farCli'+'p',_0x47b6df),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x8777a4['removeEven'+'tListener']('end',_0x257b06),_0x8777a4['removeEven'+'tListener']('visibility'+'change',_0x294708),_0x20ce8e||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x716+0xb6*0x2d+-0x2714,this['_height']=-0x1*-0x133+-0x2*-0x1217+-0x2561,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x8777a4['addEventLi'+'stener']('end',_0x257b06),_0x8777a4['addEventLi'+'stener']('visibility'+'change',_0x294708),this['_camera']['on']('set_nearCl'+'ip',_0x47b6df),this['_camera']['on']('set_farCli'+'p',_0x47b6df),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x464497;this['fire']('frameratec'+'hange',(_0x464497=this['_session'])==null?void(-0x126c+-0x1ec7+0x37*0xe5):_0x464497['frameRate']);}),_0x8777a4['requestRef'+'erenceSpac'+'e'](_0x12884a)['then'](_0x572d19=>{this['_reference'+'Space']=_0x572d19,this['app']['tick'](),_0x46e100&&_0x46e100(null),this['fire']('start');})['catch'](_0x3887f2=>{_0x20ce8e=!(-0x148d+-0x54d+0x19da),_0x8777a4['end'](),_0x46e100&&_0x46e100(_0x3887f2),this['fire']('error',_0x3887f2);});}['_setClipPl'+'anes'](_0x9a2f65,_0x3d983d){this['_depthNear']===_0x9a2f65&&this['_depthFar']===_0x3d983d||(this['_depthNear']=_0x9a2f65,this['_depthFar']=_0x3d983d,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x3f5cb8=this['app']['graphicsDe'+'vice'],_0x52270c=_0x3f5cb8['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x3f5cb8['gl'],{'alpha':!(0xa09+0x20f0+-0x13*0x243),'depth':!(0x31*-0x9e+0x117e+0xcc*0x10),'stencil':!(0x9b2+-0x7*-0x291+-0x1ba9),'framebufferScaleFactor':_0x52270c,'antialias':!(0x11fb+0x6*0x551+-0x31e0)}),_0x3f5cb8!=null&&_0x3f5cb8['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x3f5cb8['gl']);}catch(_0x28f4f8){this['fire']('error',_0x28f4f8);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x3927f3=>{this['fire']('error',_0x3927f3);});},0x203e+-0x2333+-0x2f5*-0x1);}['update'](_0x1c36b1){if(!this['_session'])return!(0x265+-0x1259*-0x2+-0x2716);const _0x5ef0ce=_0x1c36b1['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x1664a3=_0x1c36b1['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x5ef0ce||this['_height']!==_0x1664a3)&&(this['_width']=_0x5ef0ce,this['_height']=_0x1664a3,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x5ef0ce,_0x1664a3));const _0x381401=_0x1c36b1['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x381401)return!(0x4*0x943+0x567+-0x2a72);const _0x3cb253=this['views']['list']['length'];this['views']['update'](_0x1c36b1,_0x381401['views']);const _0x3e1557=_0x381401['transform']['position'],_0x5321ff=_0x381401['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x3e1557['x'],_0x3e1557['y'],_0x3e1557['z']),this['_localRota'+'tion']['set'](_0x5321ff['x'],_0x5321ff['y'],_0x5321ff['z'],_0x5321ff['w']),_0x3cb253===-0xc22+-0x7b*-0x13+0x301*0x1&&this['views']['list']['length']>-0x1dcb*-0x1+0x1fce+0x3d99*-0x1){const _0x4f92b4=new q(),_0x5366df=this['views']['list'][0x333+-0x1f*0x92+0xe7b];_0x4f92b4['copy'](_0x5366df['projMat']);const _0x2bf89c=_0x4f92b4['data'],_0x152bd8=(0x4a5+0x232f+-0x6*0x6a3)*Math['atan']((-0x12be+-0x59*-0x3e+-0x2cf)/_0x2bf89c[0xb56+0x229d+-0x2dee])*(0x1674+0xa8a+0x2*-0x1025)/Math['PI'],_0x28902d=_0x2bf89c[0x26d4+-0x15ff+-0x10d*0x10]/_0x2bf89c[-0x1ab8+0x4fd*-0x7+-0x1f*-0x1fd],_0x4e37b3=_0x2bf89c[-0x17*-0xb7+0x52*0x35+0x291*-0xd]/(_0x2bf89c[-0xb82+-0x1a8*-0xf+-0xd4c]+(0x18d0+0x1c*-0x15a+0xd09*0x1)),_0x3c1c37=_0x2bf89c[-0x2318+0x50b*-0x3+0x3247]/(_0x2bf89c[-0x210b+-0x20e5+-0x1e*-0x233]-(-0x2ba+0x25dd+-0x2322));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x28902d,'farClip':_0x4e37b3,'fov':_0x152bd8,'horizontalFov':!(0x1*-0x1e9e+0x26c1*-0x1+0x4560),'nearClip':_0x3c1c37});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x1c36b1),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x1c36b1),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x1c36b1),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x1c36b1),this['anchors']['supported']&&this['anchors']['update'](_0x1c36b1),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x1c36b1),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x1c36b1)),this['fire']('update',_0x1c36b1),!(-0x26a8+-0x7*0xf2+-0x5f*-0x7a);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x401b42;return((_0x401b42=this['_session'])==null?void(-0x11*0xce+0x4f1+0x8bd):_0x401b42['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x127cc8){var _0x100086;(((_0x100086=this['_baseLayer'])==null?void(0x22e4*-0x1+0x20f9+0x1eb):_0x100086['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0xb9e+-0x1*0x111a+0x57d&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x127cc8);}get['fixedFovea'+'tion'](){var _0xb89824;return((_0xb89824=this['_baseLayer'])==null?void(0x184a+0x124d+-0x2a97):_0xb89824['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x356ed0,_0x19ae37={}){super(_0x356ed0);const _0x46b7a7=new pP();_0x46b7a7['graphicsDe'+'vice']=_0x19ae37['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x356ed0,_0x19ae37),this['addCompone'+'ntSystems'](_0x46b7a7),this['addResourc'+'eHandles'](_0x46b7a7),_0x46b7a7['elementInp'+'ut']=_0x19ae37['elementInp'+'ut'],_0x46b7a7['keyboard']=_0x19ae37['keyboard'],_0x46b7a7['mouse']=_0x19ae37['mouse'],_0x46b7a7['touch']=_0x19ae37['touch'],_0x46b7a7['gamepads']=_0x19ae37['gamepads'],_0x46b7a7['scriptPref'+'ix']=_0x19ae37['scriptPref'+'ix'],_0x46b7a7['assetPrefi'+'x']=_0x19ae37['assetPrefi'+'x'],_0x46b7a7['scriptsOrd'+'er']=_0x19ae37['scriptsOrd'+'er'],_0x46b7a7['soundManag'+'er']=new kb(),_0x46b7a7['lightmappe'+'r']=vP,_0x46b7a7['batchManag'+'er']=dC,_0x46b7a7['xr']=Qn,this['init'](_0x46b7a7);}['createDevi'+'ce'](_0x2a1e79,_0x2bedc9){return _0x2bedc9['graphicsDe'+'viceOption'+'s']||(_0x2bedc9['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x2bedc9['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x26d9+-0x1246+-0x829*-0x7)),_0x2bedc9['graphicsDe'+'viceOption'+'s']['alpha']=_0x2bedc9['graphicsDe'+'viceOption'+'s']['alpha']||!(-0xba6*0x1+0x1*0x178+0xa2f),new pb(_0x2a1e79,_0x2bedc9['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x1936dc){_0x1936dc['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x230fb3){_0x230fb3['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,$2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x3053a0,_0x201925){super(_0x3053a0),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x201925;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3941b1=>{_0x3941b1['defaultUni'+'formBuffer']['destroy'](),_0x3941b1['destroy']();}),this['viewBindGr'+'oups']['length']=0x91d*0x2+0x5*-0x6ab+0xf1d;}['update'](_0x195c08,_0x3ab254,_0x7bfeb4,_0x4f85cb){this['camera']=_0x195c08,this['scene']=_0x3ab254,this['layers']=_0x7bfeb4,this['mapping']=_0x4f85cb;}['execute'](){const _0x83652f=this['device'],{renderer:_0x4276b3,camera:_0x21125d,scene:_0x101d01,layers:_0x581268,mapping:_0x565c97,renderTarget:_0x4d1ddb}=this,_0x5e09ec=_0x101d01['layers']['layerList'],_0x58de62=_0x101d01['layers']['subLayerEn'+'abled'],_0x5f1af0=_0x101d01['layers']['subLayerLi'+'st'];for(let _0x1111a2=-0x2367+0x1*-0xdb4+-0xd*-0x3c7;_0x1111a2<_0x5e09ec['length'];_0x1111a2++){const _0x41627d=_0x5e09ec[_0x1111a2];if(!(_0x581268&&_0x581268['indexOf'](_0x41627d)<-0x1*-0xa3d+-0x1*-0x1456+-0x1e93)&&_0x41627d['enabled']&&_0x58de62[_0x1111a2]&&_0x41627d['camerasSet']['has'](_0x21125d['camera'])){const _0x3d9d1f=_0x5f1af0[_0x1111a2];G['pushGpuMar'+'ker'](_0x83652f,_0x41627d['name']+'('+(_0x3d9d1f?'TRANSP':'OPAQUE')+')'),_0x41627d['_clearDept'+'hBuffer']&&_0x4276b3['clear'](_0x21125d['camera'],!(0xbfb*-0x3+-0x87d+0xd*0x36b),!(0x31*0xa0+-0xeb3*-0x2+-0x3c06),!(0x3*0x69b+-0x1*0x28d+-0x1143));const _0x3f87da=_0x41627d['meshInstan'+'ces'];for(let _0x402a29=0x1*0xffb+-0x767*-0x5+-0x34fe;_0x402a29<_0x3f87da['length'];_0x402a29++){const _0x3aabec=_0x3f87da[_0x402a29];_0x3aabec['pick']&&_0x3aabec['transparen'+'t']===_0x3d9d1f&&(nh['push'](_0x3aabec),_0x565c97['set'](_0x3aabec['id'],_0x3aabec));}nh['length']>0xd13*-0x1+-0x137b+0x208e&&(_0x101d01['clusteredL'+'ightingEna'+'bled']&&_0x4276b3['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x4276b3['setCameraU'+'niforms'](_0x21125d['camera'],_0x4d1ddb),_0x83652f['supportsUn'+'iformBuffe'+'rs']&&_0x4276b3['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x4276b3['viewUnifor'+'mFormat'],_0x4276b3['viewBindGr'+'oupFormat'],-0x1c9*0xd+-0x2*0x113f+0x133c*0x3),_0x4276b3['renderForw'+'ard'](_0x21125d['camera'],_0x4d1ddb,nh,YL,Oa,_0x48ded2=>{_0x83652f['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=0x53*0x55+0x1697*0x1+0x2*-0x1913),G['popGpuMark'+'er'](_0x83652f);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x14984c,_0x3b7578,_0x125308){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x70d+0x1b9f*0x1+-0x1*0x1492)),(v['assert'](_0x14984c),this['renderer']=_0x14984c['renderer'],this['device']=_0x14984c['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x14984c['renderer']),this['width']=-0x1*-0x1bea+0x1f*0xc4+0x16*-0x259,this['height']=-0x14ab+-0x253*-0x3+0xdb2,this['resize'](_0x3b7578,_0x125308),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x2685+-0x1*-0x1ec5+-0x4549);}));}['getSelecti'+'on'](_0x344360,_0x14131d,_0x2b9353=-0x1777+0x1*0x1903+0x1*-0x18b,_0x4cc211=0xab1+0x6*-0x278+0x16*0x30){const _0x439f8b=this['device'];if(_0x439f8b['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x344360!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x14131d=this['renderTarg'+'et']['height']-(_0x14131d+_0x4cc211);const _0x2f5bc8=this['sanitizeRe'+'ct'](_0x344360,_0x14131d,_0x2b9353,_0x4cc211);_0x439f8b['setRenderT'+'arget'](this['renderTarg'+'et']),_0x439f8b['updateBegi'+'n']();const _0x14810c=new Uint8Array((0x2aa*-0x3+-0x1843*0x1+-0x2ef*-0xb)*_0x2f5bc8['z']*_0x2f5bc8['w']);return _0x439f8b['readPixels'](_0x2f5bc8['x'],_0x2f5bc8['y'],_0x2f5bc8['z'],_0x2f5bc8['w'],_0x14810c),_0x439f8b['updateEnd'](),this['decodePixe'+'ls'](_0x14810c,this['mapping']);}['getSelecti'+'onAsync'](_0xb0c497,_0x306e7d,_0x18b003=-0x13f+-0x159*0x17+0x203f,_0x19d1c8=-0x1*0x176c+0x1*0x99b+-0x6e9*-0x2){var _0x4a877e;(_0x4a877e=this['device'])!=null&&_0x4a877e['isWebGL2']&&(_0x306e7d=this['renderTarg'+'et']['height']-(_0x306e7d+_0x19d1c8));const _0x436bf2=this['sanitizeRe'+'ct'](_0xb0c497,_0x306e7d,_0x18b003,_0x19d1c8);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x436bf2['x'],_0x436bf2['y'],_0x436bf2['z'],_0x436bf2['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x3*-0x175+-0x1*0x59+0x4b8)})['then'](_0x298623=>this['decodePixe'+'ls'](_0x298623,this['mapping']));}['sanitizeRe'+'ct'](_0x245883,_0x570850,_0x46876f,_0x527ddc){const _0x34d45a=this['renderTarg'+'et']['width'],_0x23511b=this['renderTarg'+'et']['height'];return _0x245883=N['clamp'](Math['floor'](_0x245883),0xd41+-0xbb0+-0x191,_0x34d45a-(0xad*0xb+0x230d+0x177*-0x1d)),_0x570850=N['clamp'](Math['floor'](_0x570850),-0x8ba*-0x4+-0x4e9*-0x4+-0x368c,_0x23511b-(-0x91+0x1*0x192d+0x189b*-0x1)),_0x46876f=Math['floor'](Math['max'](_0x46876f,0x11*-0x151+-0x1c9e+0x880*0x6)),_0x46876f=Math['min'](_0x46876f,_0x34d45a-_0x245883),_0x527ddc=Math['floor'](Math['max'](_0x527ddc,0x1*-0x119+-0x45c+0x2bb*0x2)),_0x527ddc=Math['min'](_0x527ddc,_0x23511b-_0x570850),ZL['set'](_0x245883,_0x570850,_0x46876f,_0x527ddc);}['decodePixe'+'ls'](_0x493594,_0x47fb73){const _0x2ea551=[];if(this['deviceVali'+'d']){const _0x5a6e77=_0x493594['length'];for(let _0x4c310d=0x703+-0x1975+0x1*0x1272;_0x4c310d<_0x5a6e77;_0x4c310d+=-0x1*-0x2c4+0x1cdb+-0x1f9b){const _0xadeb7f=_0x493594[_0x4c310d+(0xecd+-0x16de+-0x811*-0x1)],_0x3bb261=_0x493594[_0x4c310d+(-0x39*0x60+0x1fc9*0x1+0x94*-0x12)],_0x220a57=_0x493594[_0x4c310d+(0x36*0x52+-0xcb+-0x1*0x107f)],_0x3e8402=_0x493594[_0x4c310d+(-0x1*0x1475+0x205*-0x12+0x38d2)]<<-0x1*-0x1369+-0x133f+-0x12|_0xadeb7f<<0x577*0x2+-0xc71+-0x1*-0x193|_0x3bb261<<-0x2095+0x1502+0xb9b|_0x220a57;_0x3e8402!==-(-0x203e+0x5*-0x551+0x3ad4)&&nu['add'](_0x47fb73['get'](_0x3e8402));}nu['forEach'](_0x10f2cb=>{_0x10f2cb&&_0x2ea551['push'](_0x10f2cb);}),nu['clear']();}return _0x2ea551;}['allocateRe'+'nderTarget'](){const _0x58f808=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0x215*-0x10+-0xc6*-0x9+0x1a5b),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x58f808,'depth':!(0x1*0x15c5+-0x1*-0x14+-0x7*0x31f)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x37eb72,_0xc7f9a8,_0x14381f){_0x14381f instanceof Lr&&(_0x14381f=[_0x14381f]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x162470=this['renderPass'];_0x162470['init'](this['renderTarg'+'et']),_0x162470['colorOps']['clearValue']=Y['WHITE'],_0x162470['colorOps']['clear']=!(0x1f3f+0x1*-0x102d+-0xf12),_0x162470['depthStenc'+'ilOps']['clearDepth']=!(-0x2*-0x54+0xbb7*0x3+-0x23cd),_0x162470['update'](_0x37eb72,_0xc7f9a8,_0x14381f,this['mapping']),_0x162470['render']();}['resize'](_0x1aa3b8,_0x51152b){this['width']=Math['floor'](_0x1aa3b8),this['height']=Math['floor'](_0x51152b);}};class QL{constructor(_0x6dd6e3){this['_frameInde'+'x']=0xe9*-0x29+-0xdf*0x25+0x458c,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x13f*0xd+0x1*0x1aec+-0x1c*0x62,this['enabled']=!(-0x1e8+0x1a93+-0x18ab*0x1),_0x6dd6e3['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x6dd6e3['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x6dd6e3['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x2f6735){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x572f7c=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x572f7c,this['_frameInde'+'x']=0x3aa+-0x1878+0x1*0x14ce,this['mark'](_0x2f6735);}['mark'](_0x1ade12){if(!this['enabled'])return;const _0x2bbdea=ne();if(this['_frameInde'+'x']>-0x232+-0x1056+0x1288){const _0x3da930=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(-0x5a7*0x1+0x1*0x13b+0x1*0x46d)];_0x3da930[-0x14d5+-0x17ba+0x2c90]=_0x2bbdea-_0x3da930[0x1d64+0x25*-0x101+-0x7c2*-0x1];}else{if(this['_timings']['length']>-0xaa9+-0x40*-0x13+0x5e9){const _0x184f6f=this['_timings'][this['_timings']['length']-(0x1fc7+-0x13a2+0xde*-0xe)];_0x184f6f[0x1d6e+0x10ab+-0x28*0x127]=_0x2bbdea-_0x184f6f[-0x2*0x2d9+0x119*0x3+-0xb*-0x38];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x1ade12,_0x2bbdea]);else{const _0x3fb4ab=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x3fb4ab[0x380*-0x2+-0x24*0x12+0x1*0x988]=_0x1ade12,_0x3fb4ab[0xa96+-0x1*-0x1619+-0x20ae]=_0x2bbdea;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x3*-0x7ea+-0x9f7*0x3+-0x23*-0x2d,-(0x1555+0x3*-0x2e7+-0x3*0x435))['map'](_0x5e7110=>_0x5e7110[0xd8b+0x1f53+-0x2cdd]);}}class JL{constructor(_0x29d4d7){this['device']=_0x29d4d7,_0x29d4d7['gpuProfile'+'r']['enabled']=!(-0x74e+0x1ce9+-0x159b),this['enabled']=!(-0x24f+-0x1516+0x71*0x35),this['unitsName']='ms',this['decimalPla'+'ces']=0x2*-0x52+0x24b0+-0x240b,this['_timings']=[];}get['timings'](){return this['_timings'][0x568+0x245a+-0x42d*0xa]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x127ec4,_0x42f92b,_0x1ce0cb,_0xd52117,_0x359fae){this['app']=_0x127ec4,this['values']=[],this['statNames']=_0x42f92b,this['statNames']['length']>-0x19a9+0x1c8a+-0x2de&&(this['statNames']['length']=0x232a+0x1*-0x1be5+0x1*-0x742),this['unitsName']=_0xd52117,this['decimalPla'+'ces']=_0x1ce0cb,this['multiplier']=_0x359fae||-0x1*0x9a5+-0x2399+0x37b*0xd;const _0x11bc78=(_0x32308d,_0x473bfd)=>_0x32308d['split']('.')['reduce']((_0x3af527,_0x23325e)=>_0x3af527?_0x3af527[_0x23325e]:null,_0x473bfd||this);_0x127ec4['on']('frameupdat'+'e',_0x4df1db=>{for(let _0x51abc6=-0xd1*0x7+-0x3*0x196+0xa79;_0x51abc6<this['statNames']['length'];_0x51abc6++)this['values'][_0x51abc6]=_0x11bc78(this['statNames'][_0x51abc6],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0xc77836,_0x3ab588,_0x75dc43,_0x36a844,_0x126dd4){this['app']=_0x3ab588,this['name']=_0xc77836,this['device']=_0x3ab588['graphicsDe'+'vice'],this['timer']=_0x126dd4,this['watermark']=_0x75dc43,this['enabled']=!(0x2bf*-0x1+0x35*-0x74+0x1ac4),this['textRefres'+'hRate']=_0x36a844,this['avgTotal']=0x1d37+-0x2293+0x2ae*0x2,this['avgTimer']=0x371*0x5+-0x7a5+0x99*-0x10,this['avgCount']=-0x49*-0x6d+0x2*-0x86b+-0x1*0xe3f,this['timingText']='',this['texture']=null,this['yOffset']=-0x2593+-0x1*0x58f+0x2b22*0x1,this['cursor']=-0x24e6*-0x1+0x6f5+0x1*-0x2bdb,this['sample']=new Uint8ClampedArray(0x400+0x13a2+-0x179e),this['sample']['set']([0x1f8c+0x669+-0x25f5,-0x2f*0xc5+-0x31*-0x3+0x11cc*0x2,0x1734+-0x136c+-0xb*0x58,-0x8*-0x2cf+-0x1f18+0x99f]),this['counter']=0x2325+0x1*0xb8d+-0x2eb2,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x4a6ab7){const _0x4608d4=this['timer']['timings'],_0x5be983=_0x4608d4['reduce']((_0x6f467c,_0x7ee7e3)=>_0x6f467c+_0x7ee7e3,0x403*-0x2+-0x20aa+0x28b0);if(this['avgTotal']+=_0x5be983,this['avgTimer']+=_0x4a6ab7,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x8*0x2e3+-0x2*0x7fc+0x2710,this['avgTotal']=0x369*-0x1+-0x1*-0x5a8+0x1*-0x23f,this['avgCount']=-0x1297+0x163b+0x1*-0x3a4),this['enabled']){let _0x14de39=-0x8e1+0x1ec1+-0x15e0;const _0x3134b5=(-0xd*0x137+-0x6cb+0x1697+0.5)*this['watermark'];for(let _0x5edd3a=-0x17*0x1b+0x1*-0xc1b+0xe88;_0x5edd3a<_0x4608d4['length'];++_0x5edd3a)_0x14de39+=Math['floor'](_0x4608d4[_0x5edd3a]/_0x3134b5*(0x1105+0xd93+-0x1d99)),this['sample'][_0x5edd3a]=_0x14de39;this['sample'][0x1794+0x18*-0x25+0x1*-0x1419]=this['watermark']/_0x3134b5*(-0x2574+-0xe+0x2681),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0xdfd*-0x1+0x817+-0xb08*0x2)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x1*0x135a+-0x1e0b*0x1+0xab1);}}['render'](_0x55fd3b,_0x158d5e,_0x7abcd0,_0x17b0b,_0xf066c1){_0x55fd3b['quad'](_0x158d5e+_0x17b0b,_0x7abcd0,-_0x17b0b,_0xf066c1,this['enabled']?this['cursor']:-0x406*0x1+-0x6*0x427+0x2*0xe78,this['enabled']?-0x383*-0x1+-0x236*-0x4+-0xc5b+0.5+this['yOffset']:this['texture']['height']-(0x12e3*-0x1+-0x3b6*-0x5+0x56),-_0x17b0b,-0x14*-0x56+-0x1bbb*0x1+0x1503,this['texture'],-0x837+0x2104*-0x1+0x5*0x83f);}}class tF{constructor(_0x1ef52d,_0x49860c){const _0x487cd4=_0x5b8f1f=>{_0x5b8f1f['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x5b8f1f['textAlign']='left',_0x5b8f1f['textBaseli'+'ne']='alphabetic';},_0x1c2218=_0x46796e=>_0x46796e==='.'||_0x46796e['length']===0x207e+-0x13da+-0xca3&&_0x46796e['charCodeAt'](-0x106*0x22+0x3e*-0x33+-0x2c6*-0x11)>=0x7*0x42d+0x207*0x2+-0x2119&&_0x46796e['charCodeAt'](-0x2d0+-0x3d*0x1d+0x9b9)<=-0x18f2+0x1b*-0x141+0x3b06,_0x12a464=document['createElem'+'ent']('canvas'),_0x233575=_0x12a464['getContext']('2d',{'alpha':!(-0x1133+0x2d*-0xa+0x17*0xd3)});_0x487cd4(_0x233575);const _0x37c6a7=new Map(),_0x213988=-0x1*-0x9ee+-0xedc+-0x7*-0xb5,_0x302562=0xa24+-0x1f*0x119+0x19e3;let _0x505b48=_0x213988,_0x1110bf=_0x213988;_0x49860c['forEach'](_0x36126e=>{const _0x51a369=_0x233575['measureTex'+'t'](_0x36126e),_0x501116=Math['ceil'](-_0x51a369['actualBoun'+'dingBoxLef'+'t']),_0x23e9fe=Math['ceil'](_0x51a369['actualBoun'+'dingBoxRig'+'ht']),_0x3acb28=Math['ceil'](_0x51a369['actualBoun'+'dingBoxAsc'+'ent']),_0x1884c8=Math['ceil'](_0x51a369['actualBoun'+'dingBoxDes'+'cent']),_0x454d25=_0x501116+_0x23e9fe,_0x2f1428=_0x3acb28+_0x1884c8;_0x505b48+_0x454d25+_0x213988>=_0x302562&&(_0x505b48=_0x213988,_0x1110bf+=-0x247f+-0x1d31*-0x1+0x75e),_0x37c6a7['set'](_0x36126e,{'l':_0x501116,'r':_0x23e9fe,'a':_0x3acb28,'d':_0x1884c8,'w':_0x454d25,'h':_0x2f1428,'x':_0x505b48,'y':_0x1110bf}),_0x505b48+=_0x454d25+_0x213988;}),_0x12a464['width']=0x95*0x1+-0x1db7+0x1f22,_0x12a464['height']=N['nextPowerO'+'fTwo'](_0x1110bf+(-0x1*0x15f7+-0x9f1+0x1ff8)+_0x213988),_0x487cd4(_0x233575),_0x233575['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x233575['fillRect'](0x14*0x148+-0x22e5+0x1*0x945,-0x1f*0x15+-0x1fa6+-0x2231*-0x1,_0x12a464['width'],_0x12a464['height']),_0x37c6a7['forEach']((_0x28db68,_0x7294b7)=>{_0x233575['fillStyle']=_0x1c2218(_0x7294b7)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x233575['fillText'](_0x7294b7,_0x28db68['x']-_0x28db68['l'],_0x28db68['y']+_0x28db68['a']);}),this['placements']=_0x37c6a7;const _0x40b358=_0x233575['getImageDa'+'ta'](0x18c7+0x28d*-0xa+0x1*0xbb,0xa2b+-0x798+-0x293,_0x12a464['width'],_0x12a464['height'])['data'];for(let _0x3091e7=-0x286*0x5+0x1f62+-0x12c4;_0x3091e7<_0x40b358['length'];_0x3091e7+=0x2608+0x3*0x469+-0x333f)_0x40b358[_0x3091e7+(-0x609+0x1198*-0x1+0x17a4)]=_0x40b358[_0x3091e7+(-0xfb*0xa+0x5bc+0x412)],_0x40b358[_0x3091e7+(0x6ab+0xbba+-0x11*0x115)]=-0x1024+0xea8+0x27b*0x1,_0x40b358[_0x3091e7+(-0x1d06+-0x112d+0x2e34)]=-0x13fe+0x25c+0x12a1,_0x40b358[_0x3091e7+(0x95*0x1+-0x1ffe+0x1f6b)]=-0x1d53*0x1+-0x18f7+0x3749;this['texture']=new he(_0x1ef52d,{'name':'mini-stats'+'-word-atla'+'s','width':_0x12a464['width'],'height':_0x12a464['height'],'mipmaps':!(-0x1*0x971+0x3*0x6b8+-0xab6),'minFilter':de,'magFilter':de,'levels':[_0x40b358]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x6676ae,_0x162a22,_0x159e18,_0x4c19d2){const _0x431175=this['placements']['get'](_0x162a22);return _0x431175?(_0x6676ae['quad'](_0x159e18+_0x431175['l']-(0x95d+0x2*-0x11f1+0x1a86),_0x4c19d2-_0x431175['d']+(-0xef6+-0x930+0x1827),_0x431175['w']+(-0x37*0xa2+0x1656+0x1f*0x67)*(0x21af*-0x1+0x1505*0x1+0xcac),_0x431175['h']+(0x2*0xace+0xb+-0x15a6)*(0x11*-0x1a+0x7*-0x151+0xaf3),_0x431175['x']-(-0xcdb+-0x980+-0x774*-0x3),this['texture']['height']-_0x431175['y']-_0x431175['h']-(0x1*-0x21ad+0x1d31+0x3*0x17f),void(-0x2c*-0xb1+0x6*-0x1f2+0x8*-0x258),void(0x23f1*0x1+0x1*-0xee5+-0xc*0x1c1),this['texture'],-0x1d6+0x224+-0x4d),_0x431175['w']):0x3*-0x5d5+-0xa6*-0x1b+-0x3;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x48f565,_0x25cb20=0xee*0xb+0x20e3+-0x291d){const _0x3e0bba=new Et(_0x48f565,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x364938=new Uint16Array(_0x25cb20*(-0x1287+-0x3*-0xa85+-0xd02));for(let _0x5c90c4=0x1e60+-0x1c83+-0x9f*0x3;_0x5c90c4<_0x25cb20;++_0x5c90c4)_0x364938[_0x5c90c4*(0x10cb+-0x167d+-0xf4*-0x6)+(-0x1ee8+-0x2*0xa24+0x3330)]=_0x5c90c4*(0x102*0x2+-0x19ff+0x17ff),_0x364938[_0x5c90c4*(-0x2542+0x1310+-0x58*-0x35)+(-0x1cd1+0x2b6+0x45a*0x6)]=_0x5c90c4*(-0x7*-0x155+0x7f2+0x7*-0x277)+(0x3d*0x1b+-0xf6*-0x1f+-0x2438),_0x364938[_0x5c90c4*(-0xb*0xdf+-0x107*0x6+-0xb*-0x16f)+(0x1d99+-0xbeb+0x74*-0x27)]=_0x5c90c4*(-0x3e*-0x58+0x132c*0x1+-0x2878)+(0x3b*-0x2+-0x1039+-0x10b1*-0x1),_0x364938[_0x5c90c4*(0x35*-0x25+-0x16f2+0x1ea1)+(0xa3c+0x5*0x1c5+-0x1312)]=_0x5c90c4*(-0x2*-0xaf4+-0x1bb6*0x1+0x5d2),_0x364938[_0x5c90c4*(-0x2*0xa2d+0x1*0x9d9+0x21b*0x5)+(-0x1*-0x337+-0x1e94+0x1b61)]=_0x5c90c4*(0x1*-0x203+0x732+0x3f*-0x15)+(-0x1*0xabe+-0x10a3+0x9*0x30b),_0x364938[_0x5c90c4*(0x1a11*0x1+0x1652+0x305d*-0x1)+(0xd43+-0x63*-0x26+-0x1bf0)]=_0x5c90c4*(0x181+0x1d24+-0x1ea1)+(-0x1e40+0x100d+0xe36);this['device']=_0x48f565,this['buffer']=new os(_0x48f565,_0x3e0bba,_0x25cb20*(0x26ef+0x3be*-0x9+0x1bf*-0x3),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x1*0x20a2+0x1*-0x1b25+0x3bcb*0x1)),this['indexBuffe'+'r']=new lr(_0x48f565,Pi,_0x25cb20*(0x5*0x221+-0x149f+0xa00),jt,_0x364938),this['prim']={'type':Ms,'indexed':!(-0xd1f+-0x146*0xf+0x71*0x49),'base':0x0,'count':0x0},this['quads']=-0xe25+-0x1842+-0x153*-0x1d,this['mesh']=new Ie(_0x48f565),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x1fe7+-0x9ac+-0x163b]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x50f21f=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x50f21f,_0x50f21f['cull']=mt,_0x50f21f['depthState']=as['NODEPTH'],_0x50f21f['blendState']=new _t(!(-0x1f3d*-0x1+0xd0+0xf*-0x223),Lt,dc,uc,Lt,at,at),_0x50f21f['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x50f21f,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x17b9+0x4db+-0x1c90)},this['targetSize']={'width':_0x48f565['width'],'height':_0x48f565['height']};}['quad'](_0x41b6bb,_0x324757,_0x460f3d,_0x2373f3,_0x5e3805,_0x442b33,_0xdb7801,_0xc69caa,_0x30b116,_0x312d34=0x1*0xbd3+-0x1791+0xbbe){const _0x166c80=this['targetSize']['width'],_0x229c08=this['targetSize']['height'],_0x1472bb=_0x41b6bb/_0x166c80,_0x51cdef=_0x324757/_0x229c08,_0x47cbd7=(_0x41b6bb+_0x460f3d)/_0x166c80,_0x35322b=(_0x324757+_0x2373f3)/_0x229c08,_0x3e40bc=_0x30b116['width'],_0x547669=_0x30b116['height'],_0x45c6f7=_0x5e3805/_0x3e40bc,_0x54d778=_0x442b33/_0x547669,_0xfe1b12=(_0x5e3805+(_0xdb7801??_0x460f3d))/_0x3e40bc,_0x4eeaf2=(_0x442b33+(_0xc69caa??_0x2373f3))/_0x547669;this['data']['set']([_0x1472bb,_0x51cdef,_0x312d34,_0x45c6f7,_0x54d778,0x19df*0x1+0x1f14+-0x1*0x38f3,0x24e2+-0x5*-0x399+-0x36df,_0x47cbd7,_0x51cdef,_0x312d34,_0xfe1b12,_0x54d778,-0x1*-0x1fa6+-0x2*0x924+-0xd5d,-0x1*0x1c8d+-0x26*-0x9e+0x519,_0x47cbd7,_0x35322b,_0x312d34,_0xfe1b12,_0x4eeaf2,0x2364+-0x2672+0x30f,-0x17e+0x20ff+-0x1f80,_0x1472bb,_0x35322b,_0x312d34,_0x45c6f7,_0x4eeaf2,-0x669*-0x1+0x1654+-0x1cbd,-0x1bad+0x1*0xfc2+0xbec],(-0x1*0xd03+0x1*0x7e2+0x3*0x1b7)*(0x9e3+0x1fd*0x10+0xde4*-0x3)*this['quads']),this['quads']++,this['prim']['count']+=-0x1*-0xe1d+-0xb8a+0x28d*-0x1;}['startFrame'](){this['quads']=0x1e6d+-0x2419+0x21*0x2c,this['prim']['count']=0x108d*0x2+-0x1a*0x79+-0x14d0,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x25f0be,_0x18defb,_0x2268eb,_0x5b8ac5,_0x3e3972,_0x36306a){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x3e3972,0x21+0x243f+0x610*-0x6),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x2268eb),this['material']['setParamet'+'er']('wordsTex',_0x5b8ac5),_0x25f0be['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x18defb);}}class Wx{constructor(_0xeb5a7b,_0x4002ee){const _0x4dac09=_0xeb5a7b['graphicsDe'+'vice'];_0x4002ee=_0x4002ee||Wx['getDefault'+'Options'](),this['initGraphs'](_0xeb5a7b,_0x4dac09,_0x4002ee);const _0x3e2a20=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x154927=>_0x154927['name']))['concat'](_0x4002ee['stats']?_0x4002ee['stats']['map'](_0x58652e=>_0x58652e['unitsName']):[])['filter'](_0x169779=>!!_0x169779));this['wordAtlas']=new tF(_0x4dac09,_0x3e2a20),this['sizes']=_0x4002ee['sizes'],this['_activeSiz'+'eIndex']=_0x4002ee['startSizeI'+'ndex'];const _0x58f3d7=document['createElem'+'ent']('div');_0x58f3d7['setAttribu'+'te']('id','mini-stats'),_0x58f3d7['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x58f3d7),_0x58f3d7['addEventLi'+'stener']('mouseenter',_0x5c068a=>{this['opacity']=-0x1*-0x238a+0x10d7+0x10*-0x346;}),_0x58f3d7['addEventLi'+'stener']('mouseleave',_0xd58b46=>{this['opacity']=0x116f*-0x1+-0x886+0x8a7*0x3+0.7;}),_0x58f3d7['addEventLi'+'stener']('click',_0x1ae022=>{_0x1ae022['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x41c+0xd33*-0x1+0x1150))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x4dac09['on']('resizecanv'+'as',this['updateDiv'],this),_0x4dac09['on']('losecontex'+'t',this['loseContex'+'t'],this),_0xeb5a7b['on']('postrender',this['postRender'],this),this['app']=_0xeb5a7b,this['drawLayer']=_0xeb5a7b['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x4dac09,this['render2d']=new rF(_0x4dac09),this['div']=_0x58f3d7,this['width']=-0x20b1*0x1+-0x103*-0x1d+0x35a,this['height']=0x7*-0x278+-0xb94+-0x1cdc*-0x1,this['gspacing']=0x7a7*-0x1+-0x12e+0x8d7,this['clr']=[0xd*0x2d3+0x10a2+-0x3558,0x11*-0x137+-0x2340+0x37e8,0x7*0x3b3+-0x732+-0x12b2,0x836*0x3+0x14fb+-0x1*0x2d9d+0.5],this['_enabled']=!(0x3*-0x85f+0xd69+0xbb4),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x104067=>_0x104067['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x3*-0x4dd+0x3f*0x35+0x1ba1*-0x1)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x9*0x1da+0x2667+-0x5*0x459)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x2113+0x2cd+0x1e46)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x4*0x246+0x32e*0x8+0x82c*-0x2),'watermark':0x21},'gpu':{'enabled':!(-0x4*-0x34c+0x1e09+-0x5*0x8a5),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x11f9a2){this['_activeSiz'+'eIndex']=_0x11f9a2,this['gspacing']=this['sizes'][_0x11f9a2]['spacing'],this['resize'](this['sizes'][_0x11f9a2]['width'],this['sizes'][_0x11f9a2]['height'],this['sizes'][_0x11f9a2]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0xeeca46){this['clr'][0x25ed+-0x1c58+-0x992]=_0xeeca46;}get['opacity'](){return this['clr'][-0x701+0x1*0x9d+0x667];}get['overallHei'+'ght'](){const _0x18b3e5=this['graphs'],_0x57ae59=this['gspacing'];return this['height']*_0x18b3e5['length']+_0x57ae59*(_0x18b3e5['length']-(-0x18c6+-0x142e+0x2cf5));}set['enabled'](_0x294e84){if(_0x294e84!==this['_enabled']){this['_enabled']=_0x294e84;for(let _0x4bf57c=-0x1f74+-0x4ec*0x1+0x2460;_0x4bf57c<this['graphs']['length'];++_0x4bf57c)this['graphs'][_0x4bf57c]['enabled']=_0x294e84,this['graphs'][_0x4bf57c]['timer']['enabled']=_0x294e84;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x57943d,_0x28aebc,_0x369379){if(this['graphs']=[],_0x369379['cpu']['enabled']){const _0xfb8c5d=new QL(_0x57943d),_0x5a62c2=new au('CPU',_0x57943d,_0x369379['cpu']['watermark'],_0x369379['textRefres'+'hRate'],_0xfb8c5d);this['graphs']['push'](_0x5a62c2);}if(_0x369379['gpu']['enabled']){const _0x3219aa=new JL(_0x28aebc),_0x1812e2=new au('GPU',_0x57943d,_0x369379['gpu']['watermark'],_0x369379['textRefres'+'hRate'],_0x3219aa);this['graphs']['push'](_0x1812e2);}_0x369379['stats']&&_0x369379['stats']['forEach'](_0x55b716=>{const _0x345ac6=new eF(_0x57943d,_0x55b716['stats'],_0x55b716['decimalPla'+'ces'],_0x55b716['unitsName'],_0x55b716['multiplier']),_0x27a8a6=new au(_0x55b716['name'],_0x57943d,_0x55b716['watermark'],_0x369379['textRefres'+'hRate'],_0x345ac6);this['graphs']['push'](_0x27a8a6);});const _0x57117c=_0x369379['sizes']['reduce']((_0x5a97a7,_0x32f5be)=>_0x32f5be['width']>_0x5a97a7?_0x32f5be['width']:_0x5a97a7,-0x1aaf+-0xaa2+0x2551);this['texture']=new he(_0x28aebc,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x57117c),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x36+0x1cf*0xf+-0x1*0x1b56),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x766ccb,_0x71094a)=>{_0x766ccb['texture']=this['texture'],_0x766ccb['yOffset']=_0x71094a;});}['render'](){const _0x392f2a=this['graphs'],_0x20064d=this['wordAtlas'],_0x2d2ae0=this['render2d'],_0x46f15c=this['width'],_0x5e2c7d=this['height'],_0x5a8ec6=this['gspacing'];_0x2d2ae0['startFrame']();for(let _0x49de19=0x2142+-0xd3+0x1*-0x206f;_0x49de19<_0x392f2a['length'];++_0x49de19){const _0x4c42b1=_0x392f2a[_0x49de19];let _0x50fe04=_0x49de19*(_0x5e2c7d+_0x5a8ec6);_0x4c42b1['render'](_0x2d2ae0,0x1a07+-0x2*-0x6e7+0x21*-0x135,_0x50fe04,_0x46f15c,_0x5e2c7d);let _0x17f0f7=0x1cfe+0xecf*-0x1+-0xa5*0x16;_0x50fe04+=_0x5e2c7d-(-0x9ad*-0x1+0x2*-0xc55+0xf0a),_0x17f0f7+=_0x20064d['render'](_0x2d2ae0,_0x4c42b1['name'],_0x17f0f7,_0x50fe04)+(0x1f9b+-0x1732+-0x85f);const _0x1d7b0e=_0x4c42b1['timingText'];for(let _0x5042e7=-0xb*-0x35+0x112f*-0x1+-0x13e*-0xc;_0x5042e7<_0x1d7b0e['length'];++_0x5042e7)_0x17f0f7+=_0x20064d['render'](_0x2d2ae0,_0x1d7b0e[_0x5042e7],_0x17f0f7,_0x50fe04);_0x4c42b1['timer']['unitsName']&&(_0x17f0f7+=-0x3a*-0x1d+-0x2141+0xd59*0x2,_0x20064d['render'](_0x2d2ae0,_0x4c42b1['timer']['unitsName'],_0x17f0f7,_0x50fe04));}_0x2d2ae0['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x5e2c7d);}['resize'](_0x2bfec0,_0x403e0b,_0x9256cc){const _0x5ea1c5=this['graphs'];for(let _0x2640ed=0x1433+-0x6e2+-0xd51;_0x2640ed<_0x5ea1c5['length'];++_0x2640ed)_0x5ea1c5[_0x2640ed]['enabled']=_0x9256cc;this['width']=_0x2bfec0,this['height']=_0x403e0b,this['updateDiv']();}['updateDiv'](){const _0x103de6=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x103de6['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x103de6['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x2b542c=>_0x2b542c['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation\x20===>'+'>>xr');return;}this['app']['xr']['input']['on']('add',async _0xbfa07a=>{var _0x324aeb;if(!((_0x324aeb=_0xbfa07a['profiles'])!=null&&_0x324aeb['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x2dfe38=_0xbfa07a['profiles']['map'](async _0x2e2829=>{var _0x388fa1;const _0x345231=this['basePath']+'/'+_0x2e2829+('/profile.j'+'son');try{const _0x23cc7b=await fetch(_0x345231);if(!_0x23cc7b['ok'])return null;const _0x4cd2fe=await _0x23cc7b['json'](),_0x525ce0=((_0x388fa1=_0x4cd2fe['layouts'][_0xbfa07a['handedness']])==null?void(-0x15*0x89+-0x1790+-0x3b*-0x97):_0x388fa1['assetPath'])||'',_0x227a51=this['basePath']+'/'+_0x4cd2fe['profileId']+'/'+_0xbfa07a['handedness']+_0x525ce0['replace'](/^\/?(left|right)/,''),_0x3026a2=await new Promise((_0x1119b3,_0xc49c28)=>{this['app']['assets']['loadFromUr'+'l'](_0x227a51,'container',(_0x3699f9,_0x36c1b5)=>{_0x3699f9?_0xc49c28(_0x3699f9):_0x1119b3(_0x36c1b5);});});return{'profileId':_0x2e2829,'asset':_0x3026a2};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x2e2829),null;}}),_0xe9b1fe=(await Promise['all'](_0x2dfe38))['find'](_0x437ba7=>_0x437ba7!==null);if(_0xe9b1fe){const {asset:_0x54edba}=_0xe9b1fe,_0x3037f0=_0x54edba['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x3037f0);const _0x1d6eb1=new Map();if(_0xbfa07a['hand'])for(const _0x4e44aa of _0xbfa07a['hand']['joints']){const _0x3e8fe6=_0x3037f0['findByName'](_0x4e44aa['id']);_0x3e8fe6&&_0x1d6eb1['set'](_0x4e44aa,_0x3e8fe6);}this['controller'+'s']['set'](_0xbfa07a,{'entity':_0x3037f0,'jointMap':_0x1d6eb1});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x348ac5=>{const _0x1de8ad=this['controller'+'s']['get'](_0x348ac5);_0x1de8ad&&(_0x1de8ad['entity']['destroy'](),this['controller'+'s']['delete'](_0x348ac5));});}['update'](_0x5b5cfb){var _0x3b2b8a;if((_0x3b2b8a=this['app']['xr'])!=null&&_0x3b2b8a['active']){for(const [_0x28e4c0,{entity:_0x391f2a,jointMap:_0x4ccd6f}]of this['controller'+'s'])if(_0x28e4c0['hand']){for(const [_0x293883,_0x3f1b14]of _0x4ccd6f)_0x3f1b14['setPositio'+'n'](_0x293883['getPositio'+'n']()),_0x3f1b14['setRotatio'+'n'](_0x293883['getRotatio'+'n']());}else _0x391f2a['setPositio'+'n'](_0x28e4c0['getPositio'+'n']()),_0x391f2a['setRotatio'+'n'](_0x28e4c0['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,We as E,$1 as F,hh as G,Wx as H,ce as I,X as J,Fm as K,vp as L,bl as M,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,W as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,Wr as t,Ts as u,cs as v,SI as w,$n as x,M0 as y,q as z};function _0x1b736b(_0x52b0a0){function _0x4c657f(_0xd01547){if(typeof _0xd01547==='string')return function(_0x2f0aa4){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0xd01547/_0xd01547)['length']!==-0x49d+-0x1c94+0x2132||_0xd01547%(0x11*-0x13b+0x15*0x19+0x12f2)===-0x2322+0x17b6+0x11*0xac?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x4c657f(++_0xd01547);}try{if(_0x52b0a0)return _0x4c657f;else _0x4c657f(0x1*-0x56+-0x3b0+-0x406*-0x1);}catch(_0xbe2cc3){}}