const _0x2777ac=(function(){let _0x2e6991=!![];return function(_0x5c1e1e,_0x4af171){const _0x25b3a4=_0x2e6991?function(){if(_0x4af171){const _0x44b450=_0x4af171['apply'](_0x5c1e1e,arguments);return _0x4af171=null,_0x44b450;}}:function(){};return _0x2e6991=![],_0x25b3a4;};}()),_0x272fa4=_0x2777ac(this,function(){return _0x272fa4['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x272fa4)['search']('(((.+)+)+)'+'+$');});_0x272fa4();const _0x15383f=(function(){let _0xcef994=!![];return function(_0x1ecdb3,_0xa25146){const _0x1aa668=_0xcef994?function(){if(_0xa25146){const _0x366432=_0xa25146['apply'](_0x1ecdb3,arguments);return _0xa25146=null,_0x366432;}}:function(){};return _0xcef994=![],_0x1aa668;};}());(function(){_0x15383f(this,function(){const _0x2d811d=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x4d2b85=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x5efe2a=_0x87c0c2('init');!_0x2d811d['test'](_0x5efe2a+'chain')||!_0x4d2b85['test'](_0x5efe2a+'input')?_0x5efe2a('0'):_0x87c0c2();})();}());const _0x4e1f7f=(function(){let _0x13e47a=!![];return function(_0x52773e,_0x159d20){const _0x1f1233=_0x13e47a?function(){if(_0x159d20){const _0x5947dd=_0x159d20['apply'](_0x52773e,arguments);return _0x159d20=null,_0x5947dd;}}:function(){};return _0x13e47a=![],_0x1f1233;};}()),_0x26ef1a=_0x4e1f7f(this,function(){let _0x17fcd3;try{const _0x47de94=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x17fcd3=_0x47de94();}catch(_0x4e0c96){_0x17fcd3=window;}const _0x5c80d0=_0x17fcd3['console']=_0x17fcd3['console']||{},_0x4fc3bc=['log','warn','info','error','exception','table','trace'];for(let _0x2b1230=-0xd*-0x2f+-0x24f6+0x35*0xa7;_0x2b1230<_0x4fc3bc['length'];_0x2b1230++){const _0x5e882b=_0x4e1f7f['constructo'+'r']['prototype']['bind'](_0x4e1f7f),_0x15b2ba=_0x4fc3bc[_0x2b1230],_0x5b6a73=_0x5c80d0[_0x15b2ba]||_0x5e882b;_0x5e882b['__proto__']=_0x4e1f7f['bind'](_0x4e1f7f),_0x5e882b['toString']=_0x5b6a73['toString']['bind'](_0x5b6a73),_0x5c80d0[_0x15b2ba]=_0x5e882b;}});_0x26ef1a();var qx=Object['defineProp'+'erty'],Xx=(_0x5ccaf4,_0x942e73,_0x506829)=>_0x942e73 in _0x5ccaf4?qx(_0x5ccaf4,_0x942e73,{'enumerable':!(0x1672+-0x1218+-0x22d*0x2),'configurable':!(-0x14f5+-0x1*-0x1b1d+-0x628),'writable':!(-0x1b04+-0x14a5+-0x2fa9*-0x1),'value':_0x506829}):_0x5ccaf4[_0x942e73]=_0x506829,c=(_0x4e83a6,_0x30c07b,_0x128b0a)=>Xx(_0x4e83a6,typeof _0x30c07b!='symbol'?_0x30c07b+'':_0x30c07b,_0x128b0a);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x225716,_0x10c2ce){for(const _0x59504b in _0x10c2ce){const _0x2b3d4d=_0x10c2ce[_0x59504b];Array['isArray'](_0x2b3d4d)?_0x225716[_0x59504b]=vh([],_0x2b3d4d):_0x2b3d4d&&typeof _0x2b3d4d=='object'?_0x225716[_0x59504b]=vh({},_0x2b3d4d):_0x225716[_0x59504b]=_0x2b3d4d;}return _0x225716;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x476af0=>{const _0x137af9=Math['random']()*(0x89*0x13+0x3*0x8db+0x24ac*-0x1)|-0x392+-0xd*0x27+0x58d;return(_0x476af0==='x'?_0x137af9:_0x137af9&0x13eb*-0x1+0x1*0x25cd+-0x19*0xb7|0xca0+-0xf85+0x2ed)['toString'](-0x12fc+0x1e1a+-0xa*0x11b);});}},fe={'delimiter':'/','join'(..._0x3f2d24){let _0x43ad78=_0x3f2d24[0x1*-0xdff+-0xabf+0x18be*0x1];for(let _0x5e83ed=-0x127d+-0x9*0x394+0x32b1;_0x5e83ed<_0x3f2d24['length']-(-0xf*0x289+-0x978+0x5f*0x80);_0x5e83ed++){const _0x325583=_0x3f2d24[_0x5e83ed],_0x572d92=_0x3f2d24[_0x5e83ed+(0x108a+0x880+-0x1909)];if(_0x572d92[-0x5*0x36e+0x1037+0xef]===fe['delimiter']){_0x43ad78=_0x572d92;continue;}_0x325583&&_0x572d92&&_0x325583[_0x325583['length']-(-0x137*0x2+-0x86d+0xadc)]!==fe['delimiter']&&_0x572d92[0x17b0+0x17*-0x144+-0x4*-0x15b]!==fe['delimiter']?_0x43ad78+=fe['delimiter']+_0x572d92:_0x43ad78+=_0x572d92;}return _0x43ad78;},'normalize'(_0x2cf70d){const _0x35cff3=_0x2cf70d['startsWith'](fe['delimiter']),_0x3c41c5=_0x2cf70d['endsWith'](fe['delimiter']),_0x349dd5=_0x2cf70d['split']('/');let _0x14a765='',_0x2d0916=[];for(let _0x4f3ba1=0x1f29+0xd77*0x1+0x8*-0x594;_0x4f3ba1<_0x349dd5['length'];_0x4f3ba1++)if(_0x349dd5[_0x4f3ba1]!==''&&_0x349dd5[_0x4f3ba1]!=='.'){if(_0x349dd5[_0x4f3ba1]==='..'&&_0x2d0916['length']>-0x72e*0x5+-0x1e2*0xa+0x1e*0x1d3){_0x2d0916=_0x2d0916['slice'](-0x143b+-0x358*0x5+-0x9*-0x41b,_0x2d0916['length']-(0xeb*-0x5+0x1bee+0xb*-0x21f));continue;}_0x4f3ba1>0x1*0x23c8+0x11e3+0x35ab*-0x1&&_0x2d0916['push'](fe['delimiter']),_0x2d0916['push'](_0x349dd5[_0x4f3ba1]);}return _0x14a765=_0x2d0916['join'](''),!_0x35cff3&&_0x14a765[-0x1d9f*0x1+-0x13*-0x209+0x182*-0x6]===fe['delimiter']&&(_0x14a765=_0x14a765['slice'](0xbf*0x1+-0xcb9+0xbfb)),_0x3c41c5&&_0x14a765[_0x14a765['length']-(-0x652*-0x3+-0xbda+-0x71b*0x1)]!==fe['delimiter']&&(_0x14a765+=fe['delimiter']),_0x14a765;},'split'(_0x41c3c2){const _0x22ff49=_0x41c3c2['lastIndexO'+'f'](fe['delimiter']);return _0x22ff49!==-(-0x24f*-0xa+-0x1*0x44f+-0x12c6)?[_0x41c3c2['substring'](-0x18b0+-0x1470+0x2d20,_0x22ff49),_0x41c3c2['substring'](_0x22ff49+(-0x1*-0x1ec1+-0x1a02+-0x4be))]:['',_0x41c3c2];},'getBasename'(_0x536399){return fe['split'](_0x536399)[-0xc86+0x3e*0x81+0x12b7*-0x1];},'getDirectory'(_0x5a122a){return fe['split'](_0x5a122a)[-0xd3e+-0x39b*-0x1+0x9a3];},'getExtension'(_0x4d7547){const _0x266339=_0x4d7547['split']('?')[0x1*-0x24e+0x1*0x167b+-0x142d]['split']('.')['pop']();return _0x266339!==_0x4d7547?'.'+_0x266339:'';},'isRelativePath'(_0x1ed1fd){return _0x1ed1fd['charAt'](0x8*-0xe5+-0x40*-0x9a+-0xec*0x22)!=='/'&&_0x1ed1fd['match'](/:\/\//)===null;},'extractPath'(_0x4cfd0f){let _0x168696='';const _0x1667a9=_0x4cfd0f['split']('/');let _0x8b8c8f=-0x4f6+0x4a9*0x3+-0x1*0x905;if(_0x1667a9['length']>0x15eb+0xe82*-0x1+-0x768){if(fe['isRelative'+'Path'](_0x4cfd0f)){if(_0x1667a9[0x1*0x2519+0x2313+-0x482c]==='.'){for(_0x8b8c8f=0x23ed*-0x1+-0xbfc+0x2fe9;_0x8b8c8f<_0x1667a9['length']-(-0xc1a*-0x1+-0x173f*0x1+0x2*0x593);++_0x8b8c8f)_0x168696+=_0x8b8c8f===0x1*-0x17ff+-0x3*0xccd+0x3e66*0x1?_0x1667a9[_0x8b8c8f]:'/'+_0x1667a9[_0x8b8c8f];}else{if(_0x1667a9[0x76*-0x42+-0xdcc+0x8*0x587]==='..'){for(_0x8b8c8f=-0x2023*-0x1+0x1785+-0x37a8;_0x8b8c8f<_0x1667a9['length']-(0x1a52+-0xe4*-0x8+0x1*-0x2171);++_0x8b8c8f)_0x168696+=_0x8b8c8f===-0xc3*0x1b+-0x1*-0xa9f+0x9f2?_0x1667a9[_0x8b8c8f]:'/'+_0x1667a9[_0x8b8c8f];}else{for(_0x168696='.',_0x8b8c8f=-0x1*0x12b+0x103f+-0x182*0xa;_0x8b8c8f<_0x1667a9['length']-(-0x1*-0x1183+-0xde7*-0x1+0x2db*-0xb);++_0x8b8c8f)_0x168696+='/'+_0x1667a9[_0x8b8c8f];}}}else{for(_0x8b8c8f=-0x641*0x4+0x106*0xd+0xbb6;_0x8b8c8f<_0x1667a9['length']-(0xceb*0x1+0xba7+-0x1891);++_0x8b8c8f)_0x168696+=_0x8b8c8f===0x1*-0x10a2+0x21a8*0x1+-0x1106?_0x1667a9[_0x8b8c8f]:'/'+_0x1667a9[_0x8b8c8f];}}return _0x168696;}},iS=()=>{let _0x6f7ea4=!(0x9*0x21d+0x1*-0x143f+0x13b);try{const _0x43f8a5=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x6f7ea4=!(0x1b23*-0x1+0x3a2*0x5+-0x1*-0x8f9),!(-0x3*0x9b0+-0x241*0x1+0x26*0xd3);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x43f8a5),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x43f8a5);}catch{}return _0x6f7ea4;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x1779*0x1+-0x1*-0xf6a+0xb5*-0x37),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=-0x4577+0x2*-0xbca0+0x296b7,ny=0x1*0xf3ea+-0xf8b5+-0xe0ca*-0x1,Jp=-0x1af*0x3+0x6240+0x7ecd,lS=-0x1a9cc+-0x1*-0xf8b9+-0x123b*-0x16,hS=0xecd+-0x2703+0x3843,em=-0x3a70+0x20675+0x25e1,tm=-0x16f52+-0x117*-0x161+0x1e09a,cS=-0x1610f+-0xe3b*-0x13+0x246a9,dS=0x2dee2*-0x1+-0x3559+0x5083a,uS=-0x3f86+0x15*-0x29f+-0x9761*-0x1,fS=-0x3c25+-0x2f44+-0x118d*-0x8,lu=0x84ba*-0x2+0x13*-0x80e+0x2a07e,hu=0x1*0x6217+-0x1*0x850d+0x12105;function cu(_0x15cbd8,_0x1b2c5d=0x53d+-0x9*0x3ab+0x1bc6){const _0x4477d3=_0x15cbd8['length'];if(_0x1b2c5d<0x1fe9+0x7e3+-0x27cc||_0x1b2c5d>=_0x4477d3)return null;const _0x46cd3d=_0x15cbd8['charCodeAt'](_0x1b2c5d);if(_0x4477d3>0x5*-0x3c2+0x1*-0x15cf+0x289a&&_0x46cd3d>=ou&&_0x46cd3d<=ny){const _0x1b033b=_0x15cbd8['charCodeAt'](_0x1b2c5d+(-0x1c18+-0x1f87+0x3ba0));if(_0x1b033b>=Jp&&_0x1b033b<=lS)return{'code':(_0x46cd3d-ou)*(-0x2355+-0x1*-0x966+0x1def)+_0x1b033b-Jp+(0x12*0x49d+0xa*0x73c+-0xf3*-0x6a),'long':!(-0x6ce+0x3ec+0x2*0x171)};}return{'code':_0x46cd3d,'long':!(0x1e15+-0x1a89*0x1+-0x38b)};}function Xi(_0x2fc5b4,_0x370360,_0x326f22){if(!_0x2fc5b4)return!(0x362+-0x6d8+0x377*0x1);const _0x161986=cu(_0x2fc5b4);if(_0x161986){const _0x150655=_0x161986['code'];return _0x150655>=_0x370360&&_0x150655<=_0x326f22;}return!(0xbba*0x3+0x1bb9+0xa6*-0x61);}function pS(_0x208121,_0x1bb53d){if(_0x1bb53d===_0x208121['length']-(0x3*0xa5b+0x1*-0x1261+0xcaf*-0x1))return-0x1400+-0x2*-0x33d+0xd87*0x1;if(Xi(_0x208121[_0x1bb53d],ou,ny)){const _0x4c168b=_0x208121['substring'](_0x1bb53d,_0x1bb53d+(0x1*-0x1069+0xec+0xf7f)),_0x17a101=_0x208121['substring'](_0x1bb53d+(0x160b+-0x1c0d+0xe*0x6e),_0x1bb53d+(0x3*0x9dd+-0x70*-0x2c+-0x1af*0x1d));return Xi(_0x17a101,cS,dS)||Xi(_0x4c168b,em,tm)&&Xi(_0x17a101,em,tm)?0xcfe+0x2*-0xdff+0xf04:Xi(_0x17a101,lu,hu)?-0x1603+0xa55*0x1+-0xbb1*-0x1:-0x169d+0x225f+-0x40*0x2f;}return Xi(_0x208121[_0x1bb53d+(0x1*-0x42d+0x683+-0x255)],lu,hu)?0x207a+-0x1366+-0xd12:-0x2fb*0xb+-0x24b6+0x4580*0x1;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x86de14,..._0x35c2e3){for(let _0x234472=-0xfd2+-0x11ea*-0x1+0x2*-0x10c;_0x234472<_0x35c2e3['length'];_0x234472++)_0x86de14=_0x86de14['replace']('{'+_0x234472+'}',_0x35c2e3[_0x234472]);return _0x86de14;},'getCodePoint'(_0x57dda3,_0x2896b9){const _0x365bac=cu(_0x57dda3,_0x2896b9);return _0x365bac&&_0x365bac['code'];},'getCodePoints'(_0x5d0210){if(typeof _0x5d0210!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x203dbf=0x1*-0x265e+-0x1*-0x20ba+0x5a4;const _0x2931c9=[];let _0x5f4666;for(;_0x5f4666=cu(_0x5d0210,_0x203dbf);)_0x2931c9['push'](_0x5f4666['code']),_0x203dbf+=_0x5f4666['long']?0xe30+0x3de*-0x9+-0x30*-0x6e:-0x603*-0x6+-0x1*0x97a+-0x3*0x8dd;return _0x2931c9;},'getSymbols'(_0x28f0e6){if(typeof _0x28f0e6!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0xec37ad=0x751*-0x1+-0x409*0x8+0x2799;const _0x26bb19=_0x28f0e6['length'],_0x37ea3b=[];let _0x1d5938=0x26d2+0x232d+-0x49ff*0x1,_0x416841;for(;_0xec37ad<_0x26bb19;){if(_0x1d5938+=pS(_0x28f0e6,_0xec37ad+_0x1d5938),_0x416841=_0x28f0e6[_0xec37ad+_0x1d5938],Xi(_0x416841,uS,fS)&&(_0x416841=_0x28f0e6[_0xec37ad+_0x1d5938++]),Xi(_0x416841,lu,hu)&&(_0x416841=_0x28f0e6[_0xec37ad+_0x1d5938++]),_0x416841&&_0x416841['charCodeAt'](0x48d+0xd45+0x2*-0x8e9)===hS){_0x416841=_0x28f0e6[_0xec37ad+_0x1d5938++];continue;}const _0x178a47=_0x28f0e6['substring'](_0xec37ad,_0xec37ad+_0x1d5938);_0x37ea3b['push'](_0x178a47),_0xec37ad+=_0x1d5938,_0x1d5938=0xe8d*-0x2+0x9*0x11+0x1c81;}return _0x37ea3b;},'fromCodePoint'(){const _0x11d24e=[];let _0x372a01,_0x34a20f,_0x411d7f;for(let _0x414f78=-0x1278+0xa1*-0x1f+0x25f7;_0x414f78<arguments['length'];++_0x414f78)_0x372a01=Number(arguments[_0x414f78]),_0x34a20f=_0x372a01-(0x19256+-0x392*-0x8a+-0x27f0a),_0x411d7f=_0x372a01>-0xdcf6*-0x1+-0x10*0xcd1+-0x13*-0xca3?[(_0x34a20f>>0x1*-0x1945+0x247f*-0x1+0x3dce)+(0xa3*0x1bb+-0x100a*-0xa+0xe275*-0x1),_0x34a20f%(-0x1*-0x1377+-0x11d7*0x2+0x1437)+(-0x1*-0xa331+0x1a7b*-0x2+-0x5c7*-0x13)]:[_0x372a01],_0x11d24e['push'](String['fromCharCo'+'de']['apply'](null,_0x411d7f));return _0x11d24e['join']('');}},zr=class zr{static['set'](_0xb5e505,_0x2ad91c=!(0xc53+-0x11a6+0x553)){_0x2ad91c?zr['_traceChan'+'nels']['add'](_0xb5e505):zr['_traceChan'+'nels']['delete'](_0xb5e505);}static['get'](_0x3054dc){return zr['_traceChan'+'nels']['has'](_0x3054dc);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(0xfe*0x25+-0x1db9+-0x6*0x12a));let Xs=zr;const bt=class bt{static['deprecated'](_0x26d303){bt['_loggedMes'+'sages']['has'](_0x26d303)||(bt['_loggedMes'+'sages']['add'](_0x26d303),console['warn']('DEPRECATED'+':\x20'+_0x26d303));}static['removed'](_0x5476ed){bt['_loggedMes'+'sages']['has'](_0x5476ed)||(bt['_loggedMes'+'sages']['add'](_0x5476ed),console['error']('REMOVED:\x20'+_0x5476ed));}static['assertDepr'+'ecated'](_0x3d5862,_0xadd464){_0x3d5862||bt['deprecated'](_0xadd464);}static['assert'](_0x2474d9,..._0x1973be){_0x2474d9||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x1973be);}static['assertDest'+'royed'](_0x12f28f){var _0x49e1ee;if(_0x12f28f!=null&&_0x12f28f['__alreadyD'+'estroyed']){const _0x496212='['+((_0x49e1ee=_0x12f28f['constructo'+'r'])==null?void(0x117+-0x639*-0x3+-0x13c2*0x1):_0x49e1ee['name'])+(']\x20with\x20nam'+'e\x20[')+_0x12f28f['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x496212)||(bt['_loggedMes'+'sages']['add'](_0x496212),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x496212,_0x12f28f));}}static['call'](_0x28147e){_0x28147e();}static['log'](..._0x5d6cfe){console['log'](..._0x5d6cfe);}static['logOnce'](_0x8338ff,..._0x3f7fdc){bt['_loggedMes'+'sages']['has'](_0x8338ff)||(bt['_loggedMes'+'sages']['add'](_0x8338ff),console['log'](_0x8338ff,..._0x3f7fdc));}static['warn'](..._0x53785f){console['warn'](..._0x53785f);}static['warnOnce'](_0x321632,..._0x4fad2c){bt['_loggedMes'+'sages']['has'](_0x321632)||(bt['_loggedMes'+'sages']['add'](_0x321632),console['warn'](_0x321632,..._0x4fad2c));}static['error'](..._0x5e886e){console['error'](..._0x5e886e);}static['errorOnce'](_0x8198c6,..._0x1fb42b){bt['_loggedMes'+'sages']['has'](_0x8198c6)||(bt['_loggedMes'+'sages']['add'](_0x8198c6),console['error'](_0x8198c6,..._0x1fb42b));}static['trace'](_0x586fa2,..._0xd36060){Xs['get'](_0x586fa2)&&(console['groupColla'+'psed'](_0x586fa2['padEnd'](-0xa*0x1f3+-0x1653+0x29e5,'\x20')+'|',..._0xd36060),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x499397,_0x2c26ec){_0x499397&&(_0x499397['name']=_0x2c26ec);}static['setLabel'](_0x519478,_0x5db8a6){_0x519478&&(_0x519478['label']=_0x5db8a6);}static['setDestroy'+'ed'](_0x4da774){_0x4da774&&(_0x4da774['__alreadyD'+'estroyed']=!(-0x1639*0x1+0x1516+0x123));}}class mS{constructor(_0x5e3797,_0x32f462,_0x788807,_0x14f700,_0x45ab01=!(0x521*-0x4+0x1e7c+-0x9f7)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(-0xad3+-0x2*0x130f+-0x4e5*-0xa)),(this['handler']=_0x5e3797,this['name']=_0x32f462,this['callback']=_0x788807,this['scope']=_0x14f700,this['_once']=_0x45ab01);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x3892fb,_0x3fc44f,_0x139ae1=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x3892fb,_0x3fc44f,_0x139ae1,!(-0x1*0x77b+0xef9*0x2+-0x2*0xb3b));}['once'](_0x3f5f56,_0x512614,_0x3de862=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x3f5f56,_0x512614,_0x3de862,!(0x18e1+-0x557+-0x138a));}set['removed'](_0x3b7d0e){_0x3b7d0e&&(this['_removed']=!(0xc25*0x1+0x1eeb+0x562*-0x8));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x5bc600,_0x5ea3d4,_0x1f4079,_0x4c58cd){if((!_0x5bc600||typeof _0x5bc600!='string'||!_0x5ea3d4)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x5bc600+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x5ea3d4),this['_callbacks']['has'](_0x5bc600)||this['_callbacks']['set'](_0x5bc600,[]),this['_callbackA'+'ctive']['has'](_0x5bc600)){const _0x18b1b3=this['_callbackA'+'ctive']['get'](_0x5bc600);_0x18b1b3&&_0x18b1b3===this['_callbacks']['get'](_0x5bc600)&&this['_callbackA'+'ctive']['set'](_0x5bc600,_0x18b1b3['slice']());}const _0x1e1db1=new mS(this,_0x5bc600,_0x5ea3d4,_0x1f4079,_0x4c58cd);return this['_callbacks']['get'](_0x5bc600)['push'](_0x1e1db1),_0x1e1db1;}['on'](_0x264875,_0x589e4e,_0xd5b2bc=this){return this['_addCallba'+'ck'](_0x264875,_0x589e4e,_0xd5b2bc,!(0xc*-0x24a+-0x1014+0x1*0x2b8d));}['once'](_0x4a7547,_0x19e7b6,_0x1fb469=this){return this['_addCallba'+'ck'](_0x4a7547,_0x19e7b6,_0x1fb469,!(0x4*-0x30c+0x11dc+0xc*-0x79));}['off'](_0x5ca6fc,_0x4881e2,_0x8c5709){if(_0x5ca6fc)this['_callbackA'+'ctive']['has'](_0x5ca6fc)&&this['_callbackA'+'ctive']['get'](_0x5ca6fc)===this['_callbacks']['get'](_0x5ca6fc)&&this['_callbackA'+'ctive']['set'](_0x5ca6fc,this['_callbackA'+'ctive']['get'](_0x5ca6fc)['slice']());else{for(const [_0x449566,_0x3b9ee9]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x449566)&&this['_callbacks']['get'](_0x449566)===_0x3b9ee9&&this['_callbackA'+'ctive']['set'](_0x449566,_0x3b9ee9['slice']());}if(_0x5ca6fc){if(_0x4881e2){const _0x2f8373=this['_callbacks']['get'](_0x5ca6fc);if(!_0x2f8373)return this;for(let _0x4e3285=0x2*-0xd15+0x1931+0xf9*0x1;_0x4e3285<_0x2f8373['length'];_0x4e3285++)_0x2f8373[_0x4e3285]['callback']===_0x4881e2&&(_0x8c5709&&_0x2f8373[_0x4e3285]['scope']!==_0x8c5709||(_0x2f8373[_0x4e3285]['removed']=!(0x1*-0x107b+-0x22dd+0xcd6*0x4),_0x2f8373['splice'](_0x4e3285,-0x2b*-0x49+0x81d*0x1+-0x95*0x23),_0x4e3285--));_0x2f8373['length']===0x4*0x3f2+0x31*0x1f+-0x73d*0x3&&this['_callbacks']['delete'](_0x5ca6fc);}else{const _0x93d4eb=this['_callbacks']['get'](_0x5ca6fc);if(_0x93d4eb){for(let _0x5c5e4a=-0x10f2+-0x548+-0x239*-0xa;_0x5c5e4a<_0x93d4eb['length'];_0x5c5e4a++)_0x93d4eb[_0x5c5e4a]['removed']=!(0x15a3+0x218d+-0x3730);this['_callbacks']['delete'](_0x5ca6fc);}}}else{for(const _0xe8f478 of this['_callbacks']['values']())for(let _0x17f311=-0x3*0x5+-0xe44+0xc1*0x13;_0x17f311<_0xe8f478['length'];_0x17f311++)_0xe8f478[_0x17f311]['removed']=!(0x1a25+0x7*0x359+0xc65*-0x4);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x4c063b){const _0x1e8bea=_0x4c063b['name'];_0x4c063b['removed']=!(-0x126a+0x415+0x1*0xe55),this['_callbackA'+'ctive']['has'](_0x1e8bea)&&this['_callbackA'+'ctive']['get'](_0x1e8bea)===this['_callbacks']['get'](_0x1e8bea)&&this['_callbackA'+'ctive']['set'](_0x1e8bea,this['_callbackA'+'ctive']['get'](_0x1e8bea)['slice']());const _0x38aec1=this['_callbacks']['get'](_0x1e8bea);if(!_0x38aec1)return this;const _0x4214e5=_0x38aec1['indexOf'](_0x4c063b);return _0x4214e5!==-(-0x5d8+-0x1e4*0xa+-0x1*-0x18c1)&&(_0x38aec1['splice'](_0x4214e5,0x26b7+0x175d+0x3*-0x14b1),_0x38aec1['length']===-0x4*0x6e9+-0x777+0x231b&&this['_callbacks']['delete'](_0x1e8bea)),this;}['fire'](_0x588cd6,_0x13af1c,_0x3c6f70,_0x56ffae,_0x44a535,_0x27c1a9,_0x875d37,_0x5e8cca,_0xc87d47){if(!_0x588cd6)return this;const _0x2c7ee5=this['_callbacks']['get'](_0x588cd6);if(!_0x2c7ee5)return this;let _0x2dc5d2;this['_callbackA'+'ctive']['has'](_0x588cd6)?this['_callbackA'+'ctive']['get'](_0x588cd6)!==_0x2c7ee5&&(_0x2dc5d2=_0x2c7ee5['slice']()):this['_callbackA'+'ctive']['set'](_0x588cd6,_0x2c7ee5);for(let _0x1ebff1=0x1a2f+0x1c4c+-0x367b;(_0x2dc5d2||this['_callbackA'+'ctive']['get'](_0x588cd6))&&_0x1ebff1<(_0x2dc5d2||this['_callbackA'+'ctive']['get'](_0x588cd6))['length'];_0x1ebff1++){const _0x197e4f=(_0x2dc5d2||this['_callbackA'+'ctive']['get'](_0x588cd6))[_0x1ebff1];if(_0x197e4f['callback']&&(_0x197e4f['callback']['call'](_0x197e4f['scope'],_0x13af1c,_0x3c6f70,_0x56ffae,_0x44a535,_0x27c1a9,_0x875d37,_0x5e8cca,_0xc87d47),_0x197e4f['_once'])){const _0x479520=this['_callbacks']['get'](_0x588cd6),_0x4e14ce=_0x479520?_0x479520['indexOf'](_0x197e4f):-(-0xca2+0x727*-0x1+0x13ca);if(_0x4e14ce!==-(-0x2331+0x16*0x17c+0x28a)){this['_callbackA'+'ctive']['get'](_0x588cd6)===_0x479520&&this['_callbackA'+'ctive']['set'](_0x588cd6,this['_callbackA'+'ctive']['get'](_0x588cd6)['slice']());const _0x20526e=this['_callbacks']['get'](_0x588cd6);if(!_0x20526e)continue;_0x20526e[_0x4e14ce]['removed']=!(0x195e+0x11*0x1e7+-0xbb*0x4f),_0x20526e['splice'](_0x4e14ce,-0x166a+-0xca4*-0x3+-0x7*0x237),_0x20526e['length']===-0x258d+0x41*-0x46+0x3753*0x1&&this['_callbacks']['delete'](_0x588cd6);}}}return _0x2dc5d2||this['_callbackA'+'ctive']['delete'](_0x588cd6),this;}['hasEvent'](_0x3eef05){var _0x5619ad;return!!((_0x5619ad=this['_callbacks']['get'](_0x3eef05))!=null&&_0x5619ad['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x54bb81,_0x4fbbc8){if(this['_index'][_0x54bb81])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x54bb81);const _0x3eeb11=this['_list']['push'](_0x4fbbc8)-(0x4*0x2cd+0x187e+-0x1*0x23b1);this['_index'][_0x54bb81]=_0x3eeb11;}['has'](_0x28b1c3){return this['_index'][_0x28b1c3]!==void(-0x21c3+-0x139*-0x11+0xcfa);}['get'](_0x155d98){const _0x32cadc=this['_index'][_0x155d98];return _0x32cadc!==void(0x191*0x1+0x2*0x11ad+-0x24eb*0x1)?this['_list'][_0x32cadc]:null;}['remove'](_0x3d7eb8){const _0x54cdaa=this['_index'][_0x3d7eb8];if(_0x54cdaa!==void(0x1c69+0x1619*-0x1+-0x650)){this['_list']['splice'](_0x54cdaa,0x9e+0x134*-0x2+0x1cb),delete this['_index'][_0x3d7eb8];for(_0x3d7eb8 in this['_index']){const _0x35dd7b=this['_index'][_0x3d7eb8];_0x35dd7b>_0x54cdaa&&(this['_index'][_0x3d7eb8]=_0x35dd7b-(-0x973+0x4*-0x4+0x984));}return!(0xa26*-0x3+0x23d4+-0x6a*0xd);}return!(-0xf2a*-0x1+-0x347*-0x3+0x2*-0xc7f);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x9da*-0x3+0x85f+-0x1*-0x152f;for(const _0x2d9c21 in this['_index'])delete this['_index'][_0x2d9c21];}}const gS=_0x28f418=>{const _0x47f38a={};let _0x100523=_0x47f38a;return()=>(_0x100523===_0x47f38a&&(_0x100523=_0x28f418()),_0x100523);},Ns=class Ns{static['loadScript'](_0x2b445f,_0x32f4ae){const _0x10d0c0=document['createElem'+'ent']('script');_0x10d0c0['setAttribu'+'te']('src',_0x2b445f),_0x10d0c0['onload']=()=>{_0x32f4ae(null);},_0x10d0c0['onerror']=()=>{_0x32f4ae('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x2b445f+'\x27');},document['body']['appendChil'+'d'](_0x10d0c0);}static['loadWasm'](_0x50644f,_0x317d24,_0x4651ed){const _0x123230=Ns['wasmSuppor'+'ted']()&&_0x317d24['glueUrl']&&_0x317d24['wasmUrl']?_0x317d24['glueUrl']:_0x317d24['fallbackUr'+'l'];_0x123230?Ns['loadScript'](_0x123230,_0x48bc51=>{if(_0x48bc51)_0x4651ed(_0x48bc51,null);else{const _0x3ee4f3=window[_0x50644f];window[_0x50644f]=void(-0xa69+0xb35+-0x33*0x4),_0x3ee4f3({'locateFile':()=>_0x317d24['wasmUrl'],'onAbort':()=>{_0x4651ed('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x5b8291=>{_0x4651ed(null,_0x5b8291);});}}):_0x4651ed('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x28ad03){return Ns['modules']['hasOwnProp'+'erty'](_0x28ad03)||(Ns['modules'][_0x28ad03]={'config':null,'initializing':!(0x15*-0x6d+-0x8d3+0x1*0x11c5),'instance':null,'callbacks':[]}),Ns['modules'][_0x28ad03];}static['initialize'](_0x3f4701,_0x2d52d6){if(_0x2d52d6['initializi'+'ng'])return;const _0x40a7fe=_0x2d52d6['config'];(_0x40a7fe['glueUrl']||_0x40a7fe['wasmUrl']||_0x40a7fe['fallbackUr'+'l'])&&(_0x2d52d6['initializi'+'ng']=!(0x6f3*0x1+-0x119b*-0x1+-0x188e),Ns['loadWasm'](_0x3f4701,_0x40a7fe,(_0x362459,_0x484fcc)=>{_0x362459?_0x40a7fe['errorHandl'+'er']?_0x40a7fe['errorHandl'+'er'](_0x362459):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x3f4701+'\x20error='+_0x362459):(_0x2d52d6['instance']=_0x484fcc,_0x2d52d6['callbacks']['forEach'](_0x3f2b63=>{_0x3f2b63(_0x484fcc);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x35828e=new WebAssembly['Module'](Uint8Array['of'](-0x1*0x837+-0x1*0x20e7+0x291e,-0x1947+0xa14+-0x1*-0xf94,0x3*0x741+-0x1d34+0x7e4,0x17*-0x115+-0x7b9*0x1+0x2109,0x1095+0x1034+-0x20c8,-0x497+-0x1f91+0x2428,0x887+0x2493+0x2*-0x168d,-0x1*-0xb57+-0x5cf*-0x2+-0x16f5));if(_0x35828e instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x35828e)instanceof WebAssembly['Instance'];}}catch{}return!(0x1*-0x277+0x8ef*-0x1+-0x1a1*-0x7);}));let Br=Ns;class ay{static['setConfig'](_0x3a4dbe,_0x2f79ae){const _0x5f3626=Br['getModule'](_0x3a4dbe);_0x5f3626['config']=_0x2f79ae,_0x5f3626['callbacks']['length']>-0xc3+0x1*-0xc15+0x448*0x3&&Br['initialize'](_0x3a4dbe,_0x5f3626);}static['getConfig'](_0xda401d){var _0x844218,_0x1bf259;return(_0x1bf259=(_0x844218=Br['modules'])==null?void(0x57a*-0x3+-0x1e7c*-0x1+-0x2*0x707):_0x844218[_0xda401d])==null?void(0x1*-0x1c5d+-0x2695+0x42f2):_0x1bf259['config'];}static['getInstanc'+'e'](_0x4cb04b,_0x59e2d4){const _0x534fe1=Br['getModule'](_0x4cb04b);_0x534fe1['instance']?_0x59e2d4(_0x534fe1['instance']):(_0x534fe1['callbacks']['push'](_0x59e2d4),_0x534fe1['config']&&Br['initialize'](_0x4cb04b,_0x534fe1));}}class oy{constructor(_0x57e6fb){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0xcf*-0x19+0x6a4+0xd93),(this['arraybuffe'+'r']=_0x57e6fb,this['dataView']=new DataView(_0x57e6fb));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x2aff0d=-0x782+0x9c1+-0x23f){this['offset']=_0x2aff0d;}['skip'](_0x78a6d7){this['offset']+=_0x78a6d7;}['align'](_0x202211){this['offset']=this['offset']+_0x202211-(0x1*0x175f+-0x15d9+-0x185*0x1)&~(_0x202211-(0x303*-0x1+0xc14+-0x910));}['_inc'](_0x5bb9dd){return this['offset']+=_0x5bb9dd,this['offset']-_0x5bb9dd;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x442ceb){let _0x18b434='';for(let _0x18b2d5=0x9*-0x11+-0x5*0x1a8+0x8e1;_0x18b2d5<_0x442ceb;++_0x18b2d5)_0x18b434+=this['readChar']();return _0x18b434;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x1d*-0x7+-0x6c4+0x1*0x5fb),!(0x3*-0x16+-0x2192*-0x1+-0x1*0x2150));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x179f*-0x1+0x651+0x1152),!(0x1d07+-0x17*0x153+0x1*0x16e));}['readU64'](){return this['readU32']()+(-0x65f+-0x21d8+0x7*0x5bf)**(0x246c+-0x1b28+-0x4e*0x1e)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x36*-0x48+-0x236+0x116a),!(0x10fe+-0x24*0x6b+-0x1f1));}['readArray'](_0x5efe5c){for(let _0x4b87e3=-0x530*-0x1+0xc25+-0x1d*0x99;_0x4b87e3<_0x5efe5c['length'];++_0x4b87e3)_0x5efe5c[_0x4b87e3]=this['readU8']();}['readLine'](){const _0x17def8=this['dataView'];let _0x3a09b6='';for(;!(this['offset']>=_0x17def8['byteLength']);){const _0xb15ec3=String['fromCharCo'+'de'](this['readU8']());if(_0xb15ec3==='\x0a')break;_0x3a09b6+=_0xb15ec3;}return _0x3a09b6;}}class wh{constructor(_0x49dc03){c(this,'items',[]),c(this,'length',0x2*-0x1051+-0x1*-0x1a4d+0x655),c(this,'loopIndex',-(0x8b*-0x26+-0x18ce+0x1*0x2d71)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x49dc03['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x19be93){let _0x400e23=0x10ac+-0xb59+0x2f*-0x1d,_0x5f31d1=this['items']['length']-(0x21*-0x3b+-0x490+-0x52*-0x26);const _0xf245c5=_0x19be93[this['_sortBy']];let _0x4db28b,_0x46f7fb;for(;_0x400e23<=_0x5f31d1;)_0x4db28b=Math['floor']((_0x400e23+_0x5f31d1)/(0x25bb*-0x1+-0x1132+0x36ef)),_0x46f7fb=this['items'][_0x4db28b][this['_sortBy']],_0x46f7fb<=_0xf245c5?_0x400e23=_0x4db28b+(-0x1*-0x20fe+-0x1*0x744+-0x19b9):_0x46f7fb>_0xf245c5&&(_0x5f31d1=_0x4db28b-(0xb25+0x1*-0xe2b+0x307));return _0x400e23;}['_doSort'](_0xd9209f,_0x30887e){const _0x3f9c6f=this['_sortBy'];return _0xd9209f[_0x3f9c6f]-_0x30887e[_0x3f9c6f];}['insert'](_0x1214d3){const _0x2898e8=this['_binarySea'+'rch'](_0x1214d3);this['items']['splice'](_0x2898e8,0xd*-0x1ae+-0xf64+0x5*0x772,_0x1214d3),this['length']++,this['loopIndex']>=_0x2898e8&&this['loopIndex']++;}['append'](_0x1e4b7e){this['items']['push'](_0x1e4b7e),this['length']++;}['remove'](_0x14be58){const _0x6ae61a=this['items']['indexOf'](_0x14be58);_0x6ae61a<0x21f6+-0x1b09+-0x6ed||(this['items']['splice'](_0x6ae61a,0x2594+-0x8dc+-0x1cb7),this['length']--,this['loopIndex']>=_0x6ae61a&&this['loopIndex']--);}['sort'](){const _0x58c194=this['loopIndex']>=0x33d+0x254d+-0x288a?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x58c194!==null&&(this['loopIndex']=this['items']['indexOf'](_0x58c194));}}class po extends ce{constructor(_0x477511){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x477511;}['add'](..._0x3cf73e){let _0x399d18=!(0x9b0+-0x1*0x1a76+0x10c7);const _0x59fb76=this['_processAr'+'guments'](_0x3cf73e,!(-0x1*-0xc29+0x15e9+-0x2212));if(!_0x59fb76['length'])return _0x399d18;for(let _0x14e57e=-0x790*0x1+-0x329*0x1+0xb7*0xf;_0x14e57e<_0x59fb76['length'];_0x14e57e++)this['_index'][_0x59fb76[_0x14e57e]]||(_0x399d18=!(-0x1*0x15f1+-0x21*0x21+0x1a32),this['_index'][_0x59fb76[_0x14e57e]]=!(-0x10cc+-0x223e+-0x116*-0x2f),this['_list']['push'](_0x59fb76[_0x14e57e]),this['fire']('add',_0x59fb76[_0x14e57e],this['_parent']));return _0x399d18&&this['fire']('change',this['_parent']),_0x399d18;}['remove'](..._0x55da14){let _0x37d9ab=!(-0x1fc8+-0x255d*0x1+0x4526);if(!this['_list']['length'])return _0x37d9ab;const _0x216e85=this['_processAr'+'guments'](_0x55da14,!(0xd37+0x9ac+-0x7*0x345));if(!_0x216e85['length'])return _0x37d9ab;for(let _0x48c660=-0xe4a+-0x19d1+0x281b;_0x48c660<_0x216e85['length'];_0x48c660++)this['_index'][_0x216e85[_0x48c660]]&&(_0x37d9ab=!(-0x1f9e+-0x1*0x1385+0xf7*0x35),delete this['_index'][_0x216e85[_0x48c660]],this['_list']['splice'](this['_list']['indexOf'](_0x216e85[_0x48c660]),0x5e1*-0x1+-0x4e7+0xb*0xfb),this['fire']('remove',_0x216e85[_0x48c660],this['_parent']));return _0x37d9ab&&this['fire']('change',this['_parent']),_0x37d9ab;}['clear'](){if(!this['_list']['length'])return;const _0x41a04b=this['_list']['slice'](-0x8*-0x251+-0x1a11+-0x3*-0x283);this['_list']=[],this['_index']={};for(let _0x2e999a=0x1d21+0x8cd+-0x25ee;_0x2e999a<_0x41a04b['length'];_0x2e999a++)this['fire']('remove',_0x41a04b[_0x2e999a],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x4199a8){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x4199a8)):!(0x141f+-0x1509+0x5*0x2f);}['_has'](_0x2b6aad){if(!this['_list']['length']||!_0x2b6aad['length'])return!(0x2*-0x12d2+-0x19d*0x7+0x30f0);for(let _0x410d71=-0x1*0x333+0x699*-0x2+0x3*0x577;_0x410d71<_0x2b6aad['length'];_0x410d71++)if(_0x2b6aad[_0x410d71]['length']===-0x1b*-0x67+0x9fa+-0x14d6){if(this['_index'][_0x2b6aad[_0x410d71][0x1*-0x1f24+0x4*-0xfd+0x8*0x463]])return!(-0xe7*-0x1+-0x18a+-0xa3*-0x1);}else{let _0x3bc700=!(0x10*-0x1ac+0xd53+0xd6d);for(let _0x5ef970=-0x2*0x130a+-0x2176+0x2*0x23c5;_0x5ef970<_0x2b6aad[_0x410d71]['length'];_0x5ef970++)if(!this['_index'][_0x2b6aad[_0x410d71][_0x5ef970]]){_0x3bc700=!(0x2259+-0x5d6+-0x1c82);break;}if(_0x3bc700)return!(-0x3f*-0x4+0x218c+0x1ba*-0x14);}return!(0x129a*0x1+0x9c7*-0x3+0xe5*0xc);}['list'](){return this['_list']['slice'](0x9*0x346+0x15*-0x7d+-0x1335);}['_processAr'+'guments'](_0x11f334,_0x55a28a){const _0x263419=[];let _0x576ea3=[];if(!_0x11f334||!_0x11f334['length'])return _0x263419;for(let _0x2b59e7=-0x1c0b*0x1+-0x37c+0x1f87*0x1;_0x2b59e7<_0x11f334['length'];_0x2b59e7++)if(_0x11f334[_0x2b59e7]instanceof Array){_0x55a28a||(_0x576ea3=[]);for(let _0x367b9f=0x1*0xe2f+0x1f93*-0x1+0x1164;_0x367b9f<_0x11f334[_0x2b59e7]['length'];_0x367b9f++)typeof _0x11f334[_0x2b59e7][_0x367b9f]=='string'&&(_0x55a28a?_0x263419['push'](_0x11f334[_0x2b59e7][_0x367b9f]):_0x576ea3['push'](_0x11f334[_0x2b59e7][_0x367b9f]));!_0x55a28a&&_0x576ea3['length']&&_0x263419['push'](_0x576ea3);}else typeof _0x11f334[_0x2b59e7]=='string'&&(_0x55a28a?_0x263419['push'](_0x11f334[_0x2b59e7]):_0x263419['push']([_0x11f334[_0x2b59e7]]));return _0x263419;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x5bb2c5){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0xbefec9=_0x5bb2c5['match'](yS);this['scheme']=_0xbefec9[0x1a*-0xf5+-0x21d0+-0x44*-0xdd],this['authority']=_0xbefec9[0x1db*0xb+-0x31*0x2d+-0xbc8],this['path']=_0xbefec9[0x42c*0x6+0x7*-0x31d+0x1*-0x338],this['query']=_0xbefec9[-0xc83*0x3+-0x9*0x43f+-0x4bc7*-0x1],this['fragment']=_0xbefec9[-0x1943+0xef4+0xa58];}['toString'](){let _0x20003b='';return this['scheme']&&(_0x20003b+=this['scheme']+':'),this['authority']&&(_0x20003b+='//'+this['authority']),_0x20003b+=this['path'],this['query']&&(_0x20003b+='?'+this['query']),this['fragment']&&(_0x20003b+='#'+this['fragment']),_0x20003b;}['getQuery'](){const _0x4a7bba={};if(this['query']){const _0x14dc51=decodeURIComponent(this['query'])['split']('&');for(const _0x3449d2 of _0x14dc51){const _0x4cb814=_0x3449d2['split']('=');_0x4a7bba[_0x4cb814[0x1b78+0x19*-0x47+-0x1489*0x1]]=_0x4cb814[0x21d4+0x33*-0xa5+-0xf4];}}return _0x4a7bba;}['setQuery'](_0x27b7e2){let _0x3bd92e='';for(const _0x1ee11f in _0x27b7e2)_0x27b7e2['hasOwnProp'+'erty'](_0x1ee11f)&&(_0x3bd92e!==''&&(_0x3bd92e+='&'),_0x3bd92e+=encodeURIComponent(_0x1ee11f)+'='+encodeURIComponent(_0x27b7e2[_0x1ee11f]));this['query']=_0x3bd92e;}}const xS=0x644+0x1fd1+-0x2615,Df=-0x3b*-0x41+0x6*-0x4c0+0x241*0x6,sm=-0x159f+-0x1164+0x2707,SS=0x1*-0x125f+-0x1786+0x29ea,N={'DEG_TO_RAD':Math['PI']/(0x69f+-0x7*0x48b+0x19e2),'RAD_TO_DEG':(-0x1ba7+0x1e11+0x1b6*-0x1)/Math['PI'],'clamp'(_0x5186e7,_0x4bd3c8,_0xe17fb8){return _0x5186e7>=_0xe17fb8?_0xe17fb8:_0x5186e7<=_0x4bd3c8?_0x4bd3c8:_0x5186e7;},'intToBytes24'(_0x4ecc25){const _0x453206=_0x4ecc25>>0x1*0xc5d+0x1e*-0x74+-0x14b*-0x1&0x60a*-0x3+-0x3c1+-0x2*-0xb6f,_0x293320=_0x4ecc25>>0x207*0xd+0xff+0x1b52*-0x1&0xa35+-0x16f2+0xdbc,_0x5c4f5b=_0x4ecc25&-0x1308+-0x1b7f*0x1+0x1*0x2f86;return[_0x453206,_0x293320,_0x5c4f5b];},'intToBytes32'(_0x52174e){const _0x5a94b0=_0x52174e>>0x1c75+-0x335+-0xe*0x1cc&-0x1*0x16b5+0x25c9*-0x1+-0x1b*-0x247,_0x2b7657=_0x52174e>>0x1274+0x2*0x132f+-0x38c2&-0x1969+-0x1a35+0x349d,_0xd095e6=_0x52174e>>-0x2149+-0xe8*-0xb+0x1759&-0x1f51*-0x1+0x199b+-0x37ed,_0x766fec=_0x52174e&-0x21*0x89+-0xa65+0x1d0d;return[_0x5a94b0,_0x2b7657,_0xd095e6,_0x766fec];},'bytesToInt24'(_0x84a3a5,_0x13887a,_0x471cba){return _0x84a3a5['length']&&(_0x471cba=_0x84a3a5[0x43*-0x59+0x1*0x120d+0x540],_0x13887a=_0x84a3a5[0x1d*0x85+0x5a7+-0x1*0x14b7],_0x84a3a5=_0x84a3a5[-0x25c5*0x1+-0x18a3+0x4*0xf9a]),_0x84a3a5<<0x4*-0xe9+-0x2196+0x25*0x102|_0x13887a<<-0xd*0x265+-0xd8c*0x2+-0x3a41*-0x1|_0x471cba;},'bytesToInt32'(_0x7dd09e,_0x4e3c1b,_0xbc42bc,_0x394f1e){return _0x7dd09e['length']&&(_0x394f1e=_0x7dd09e[-0x165b+-0x1c16+0x3274],_0xbc42bc=_0x7dd09e[-0x860+-0x847+0x10a9],_0x4e3c1b=_0x7dd09e[-0x917+0x101*-0x13+0x1c2b],_0x7dd09e=_0x7dd09e[-0x1f45+0x53b*0x7+0x1*-0x558]),(_0x7dd09e<<0x1777+-0x1c43+0x4e4|_0x4e3c1b<<0x1430+0x1f27+-0x1*0x3347|_0xbc42bc<<0x1a04+0x1f96+0x3992*-0x1|_0x394f1e)>>>0x11b0*-0x2+-0x2*-0xe7f+0x2b*0x26;},'lerp'(_0x502ebd,_0x31a26a,_0x356cd0){return _0x502ebd+(_0x31a26a-_0x502ebd)*N['clamp'](_0x356cd0,0x69*-0x1e+0xc7*-0x3+0xea3,0x1125+0xa6f+0x1b93*-0x1);},'lerpAngle'(_0x206749,_0x3dc83a,_0x3aaf94){return _0x3dc83a-_0x206749>0x1465+0x4c3*0x4+0x26bd*-0x1&&(_0x3dc83a-=0x1dee+-0x1f11+0x28b),_0x3dc83a-_0x206749<-(-0x12a4*-0x1+0x21c9+-0x1*0x33b9)&&(_0x3dc83a+=-0x65a+-0xfda+0x179c),N['lerp'](_0x206749,_0x3dc83a,N['clamp'](_0x3aaf94,-0x66f+0x15b2+-0xf43,-0x131a+0xa0f+-0x182*-0x6));},'powerOfTwo'(_0x34b18e){return _0x34b18e!==-0x23f+0x3*-0x63f+0x14fc&&!(_0x34b18e&_0x34b18e-(0x7ec+-0x25af+0x1dc4));},'nextPowerOfTwo'(_0x46ed8b){return _0x46ed8b--,_0x46ed8b|=_0x46ed8b>>0x20*-0x63+-0x150e+0x1b*0x13d,_0x46ed8b|=_0x46ed8b>>-0x95*0x1d+-0x1628+0x270b,_0x46ed8b|=_0x46ed8b>>0xa66+-0x1b00+-0x109e*-0x1,_0x46ed8b|=_0x46ed8b>>-0x1273*-0x1+-0x149*-0x15+0x2d68*-0x1,_0x46ed8b|=_0x46ed8b>>-0x76*-0x3b+-0x26bd+0xb9b,_0x46ed8b++,_0x46ed8b;},'nearestPowerOfTwo'(_0x4b1dc7){return Math['pow'](0x215*0x2+0xb95+-0xfbd,Math['round'](Math['log'](_0x4b1dc7)/Math['log'](0x68f+0x155f+0x1*-0x1bec)));},'random'(_0x2318f4,_0x1ab81c){const _0x40faec=_0x1ab81c-_0x2318f4;return Math['random']()*_0x40faec+_0x2318f4;},'smoothstep'(_0x2089e4,_0x1a6423,_0x94e498){return _0x94e498<=_0x2089e4?-0x1ee6*-0x1+0xb96*-0x1+0x6*-0x338:_0x94e498>=_0x1a6423?-0x9d7*0x1+0x107*0xd+0x1*-0x383:(_0x94e498=(_0x94e498-_0x2089e4)/(_0x1a6423-_0x2089e4),_0x94e498*_0x94e498*(0x1*-0x1b19+-0x1c2a+0x3746*0x1-(0x178b+-0x8bb+-0xece)*_0x94e498));},'smootherstep'(_0x5c8b6a,_0x23139c,_0x35b5ed){return _0x35b5ed<=_0x5c8b6a?-0x2*0xd9+-0x108*-0x8+-0x68e:_0x35b5ed>=_0x23139c?-0x4*-0x1d+-0x2705+-0x2*-0x1349:(_0x35b5ed=(_0x35b5ed-_0x5c8b6a)/(_0x23139c-_0x5c8b6a),_0x35b5ed*_0x35b5ed*_0x35b5ed*(_0x35b5ed*(_0x35b5ed*(-0x2*0xafb+0xf55+-0x1*-0x6a7)-(0x1ea2+0x1*0x24cc+-0x435f))+(0x2*0x52c+0x4b2+-0xf00)));},'roundUp'(_0x1e0143,_0x52fe34){return _0x52fe34===-0x1998+-0xaf4+0x248c?_0x1e0143:Math['ceil'](_0x1e0143/_0x52fe34)*_0x52fe34;},'between'(_0x43155c,_0x54c4ae,_0x436936,_0x361ec0){const _0x5aff10=Math['min'](_0x54c4ae,_0x436936),_0x56080d=Math['max'](_0x54c4ae,_0x436936);return _0x361ec0?_0x43155c>=_0x5aff10&&_0x43155c<=_0x56080d:_0x43155c>_0x5aff10&&_0x43155c<_0x56080d;}},it=class it{constructor(_0x3fc50b=0x22c1+0x2ac*0xd+-0x457d*0x1,_0x11eae5=0x1*0xc1+-0xfd3*0x1+0xf12,_0x184145=0x2*-0x4a2+0x5d0+0x34*0x11,_0x14adaa=0x544+-0xf7a+0x20b*0x5){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x3ff5f2=_0x3fc50b['length'];_0x3ff5f2===-0x24e7+0x2*-0x991+-0x380c*-0x1||_0x3ff5f2===-0x2404+-0x20e*-0x2+-0x12*-0x1c6?(this['r']=_0x3fc50b[-0x1*-0x137b+-0x1733+0x3b8],this['g']=_0x3fc50b[0x43f*-0x2+0x1977+0x2d4*-0x6],this['b']=_0x3fc50b[-0x821+-0x93f*-0x1+-0x11c],this['a']=_0x3fc50b[-0x253d+0x1*-0x1588+0x3ac8]??-0x12cb+0xe74+0x458):(this['r']=_0x3fc50b,this['g']=_0x11eae5,this['b']=_0x184145,this['a']=_0x14adaa);}['clone'](){const _0x4aa20d=this['constructo'+'r'];return new _0x4aa20d(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x1fa6ad){return this['r']=_0x1fa6ad['r'],this['g']=_0x1fa6ad['g'],this['b']=_0x1fa6ad['b'],this['a']=_0x1fa6ad['a'],this;}['equals'](_0x5d7daa){return this['r']===_0x5d7daa['r']&&this['g']===_0x5d7daa['g']&&this['b']===_0x5d7daa['b']&&this['a']===_0x5d7daa['a'];}['set'](_0xd6415,_0x532487,_0xbf6e9b,_0x1c1e6b=-0x8d*0x13+-0x5d5+-0x104d*-0x1){return this['r']=_0xd6415,this['g']=_0x532487,this['b']=_0xbf6e9b,this['a']=_0x1c1e6b,this;}['lerp'](_0x3d4a88,_0x212b77,_0x534382){return this['r']=_0x3d4a88['r']+_0x534382*(_0x212b77['r']-_0x3d4a88['r']),this['g']=_0x3d4a88['g']+_0x534382*(_0x212b77['g']-_0x3d4a88['g']),this['b']=_0x3d4a88['b']+_0x534382*(_0x212b77['b']-_0x3d4a88['b']),this['a']=_0x3d4a88['a']+_0x534382*(_0x212b77['a']-_0x3d4a88['a']),this;}['linear'](_0x2f5ff3=this){return this['r']=Math['pow'](_0x2f5ff3['r'],0x2*0x10bf+-0x11b9+-0xfc3+0.20000000000000018),this['g']=Math['pow'](_0x2f5ff3['g'],-0x10e0+0x5*-0x48d+-0x8b*-0x49+0.20000000000000018),this['b']=Math['pow'](_0x2f5ff3['b'],0x2a3*-0x6+-0x12b7+0x228b+0.20000000000000018),this['a']=_0x2f5ff3['a'],this;}['gamma'](_0x58c071=this){return this['r']=Math['pow'](_0x58c071['r'],(-0x148c+-0x1*-0xd81+-0x1c3*-0x4)/(-0x3*-0x923+-0x1b62+-0x5+0.20000000000000018)),this['g']=Math['pow'](_0x58c071['g'],(-0x2616+-0x505*0x1+0x2b1c*0x1)/(-0x1b91+-0x1*-0x16de+-0x4b5*-0x1+0.20000000000000018)),this['b']=Math['pow'](_0x58c071['b'],(-0x22c5+0x6*0x39+0xd6*0x28)/(0x30f+0x1eb*0x5+-0xca4+0.20000000000000018)),this['a']=_0x58c071['a'],this;}['mulScalar'](_0x491aea){return this['r']*=_0x491aea,this['g']*=_0x491aea,this['b']*=_0x491aea,this;}['fromString'](_0x34b7e8){const _0x3dea69=parseInt(_0x34b7e8['replace']('#','0x'),0x796+-0x85*-0x31+-0x1*0x20fb);let _0x18b47b;return _0x34b7e8['length']>0x6cb*-0x2+0x509*0x6+-0x1099?_0x18b47b=N['intToBytes'+'32'](_0x3dea69):(_0x18b47b=N['intToBytes'+'24'](_0x3dea69),_0x18b47b[-0x14be+0x131a+0x1a7]=0x95d+0xf13*0x1+-0x1771),this['set'](_0x18b47b[0x139a+-0xac3+-0x1f*0x49]/(0x3*0x421+0x5*0x2ad+-0x18c5),_0x18b47b[-0x5*-0x7cc+0x36e+-0x2a69]/(0x10aa*-0x1+-0x19a1+-0x15a5*-0x2),_0x18b47b[0x236d+-0x2*-0x3e9+-0x2b3d]/(0xb*-0x22d+-0x1961+-0x35*-0xf3),_0x18b47b[0x18ce+-0x1f23+0x196*0x4]/(0x3d9+0x87d*-0x1+0x5a3)),this;}['fromArray'](_0x3e5cb3,_0xd9238d=0x4*-0x5c7+-0x8fa+-0x559*-0x6){return this['r']=_0x3e5cb3[_0xd9238d]??this['r'],this['g']=_0x3e5cb3[_0xd9238d+(-0x8*-0x20e+0x18a4+-0x5*0x837)]??this['g'],this['b']=_0x3e5cb3[_0xd9238d+(-0x77*-0xd+-0x174a*-0x1+-0x1d53)]??this['b'],this['a']=_0x3e5cb3[_0xd9238d+(-0x23f0+-0x9*-0x5d+0x20ae)]??this['a'],this;}['toString'](_0xecac7d,_0x2e6b73){const {r:_0xcdaf03,g:_0x33a66c,b:_0x5e1d33,a:_0x28a134}=this;if(_0x2e6b73||_0xcdaf03>0x74*0x28+0xe*0x33+-0x65*0x35||_0x33a66c>0x1aa7+-0xfb7*-0x2+0x76*-0x7e||_0x5e1d33>0x107*0x11+-0x254f*0x1+0x13d9)return _0xcdaf03['toFixed'](-0x2ef+0x2081*0x1+-0x1d8f)+',\x20'+_0x33a66c['toFixed'](0x6ce+-0x2433+-0x1d68*-0x1)+',\x20'+_0x5e1d33['toFixed'](-0xc56*0x1+-0x1430+-0x2089*-0x1)+',\x20'+_0x28a134['toFixed'](0x1f83*-0x1+0xe*-0xd9+0x2b64);let _0x1761ec='#'+((-0x12f1*-0x2+0x74f+-0x2d30<<-0x1694*0x1+0x1*0x1b0d+-0x13*0x3b)+(Math['round'](_0xcdaf03*(-0x175d*-0x1+0xa3*-0x1+0x1*-0x15bb))<<0x1cf7+0xa*-0x324+0x281)+(Math['round'](_0x33a66c*(0x979+-0x5*0x6bb+0x192d))<<0x1*-0x1ab5+0xb4f+-0x2*-0x7b7)+Math['round'](_0x5e1d33*(-0x1659+-0x2564+0x3cbc)))['toString'](0x1b68+-0x1*0x1ee5+0x38d)['slice'](0x7*-0x2f9+0x4bf+-0x1011*-0x1);if(_0xecac7d===!(-0x202e+-0x292+-0x20*-0x116)){const _0x1c6057=Math['round'](_0x28a134*(0x1d93*-0x1+0x1*-0xf62+0x2df4))['toString'](0x2189+-0x1*0x43c+0x9bf*-0x3);this['a']<(-0x2*0x382+0x56c*0x3+-0x930)/(0x266c+0x1*-0x10b3+-0x14ba)?_0x1761ec+='0'+_0x1c6057:_0x1761ec+=_0x1c6057;}return _0x1761ec;}['toArray'](_0x5e730d=[],_0xcf018e=0xe27*0x1+-0x21*0x121+0x2*0xb8d,_0xe04d6e=!(0x411+0x6b8*-0x1+0x2a7)){return _0x5e730d[_0xcf018e]=this['r'],_0x5e730d[_0xcf018e+(-0x1949*0x1+-0x503*0x7+0x57d*0xb)]=this['g'],_0x5e730d[_0xcf018e+(0x1b97+-0x152e+-0x667*0x1)]=this['b'],_0xe04d6e&&(_0x5e730d[_0xcf018e+(0x17*0x8b+0x2ff*0x1+-0xf79)]=this['a']),_0x5e730d;}};c(it,'BLACK',Object['freeze'](new it(-0x31*-0x90+0x1963+-0x34f3,0x1da2*0x1+-0x1013*0x1+-0xd8f,-0x204a+-0x4a*-0x4a+0xae6,0x1ce8+-0x10fe+-0xbe9))),c(it,'BLUE',Object['freeze'](new it(-0x1*-0x1eb3+0x3*0x239+-0x255e,0x7*-0x1e2+0x1f07+0x3*-0x5f3,-0x17d8+-0x262+-0x5*-0x53f,0x1df7+-0x17*-0x54+-0x2582))),c(it,'CYAN',Object['freeze'](new it(0x342+0xdff*0x1+-0x1141,0x201d+-0x45+0x1ad*-0x13,0x1515+0x1850+-0x2d64,0x89*-0x3b+0xe8+-0xd*-0x25c))),c(it,'GRAY',Object['freeze'](new it(0xfb9+0x716+0x16cf*-0x1+0.5,0x7b7+0x5*-0x203+-0x78*-0x5+0.5,0x696*-0x3+0x98*-0x2+0xe*0x17f+0.5,-0x1c53+-0xb*0x41+-0x1f1f*-0x1))),c(it,'GREEN',Object['freeze'](new it(0x575+0xdbc+-0x121*0x11,0x6a4*-0x1+-0x63*0x52+0x265b*0x1,0xd*0x25a+0x1cb8+-0x1da5*0x2,0x2366+0x4ee+0x117*-0x25))),c(it,'MAGENTA',Object['freeze'](new it(0x1caa+-0x2f9*-0x1+-0x1fa2,0x25cf*0x1+-0x23c6+-0x209,0x18f5*-0x1+0x13e1+-0x515*-0x1,-0x1918+-0x407*-0x2+0x110b))),c(it,'RED',Object['freeze'](new it(0x17d0+0x72*0x53+0x14b*-0x2f,0x1*-0x1240+0x26ac+-0x146c,0x65a*0x6+-0x17e9*-0x1+0x1*-0x3e05,-0x9f3*-0x3+-0x20*0x43+-0x18*0xe5))),c(it,'WHITE',Object['freeze'](new it(-0x4fa+-0xaa*-0x2f+-0x1a3b,-0x14f+-0xe71*-0x1+0x1*-0xd21,0x2095+-0x142f+-0x1*0xc65,-0x124a+0x1*-0x1cea+0x2f35))),c(it,'YELLOW',Object['freeze'](new it(0xc43+-0x9bf+-0x283,-0xc4a+0x1cf7+-0x10ac,-0x251c+-0x2*-0x7bd+0x15a2,-0x185*-0x1+0x2085+-0x2209)));let Y=it;class ly{constructor(_0xac3eaf,_0x23588a=0x2e7+0x20a0+0x55*-0x6b){c(this,'_curve'),c(this,'_left',-(0x1978+0x55b*0x7+0x11*-0x3b4)/(-0x1a2f+-0x10c4+0x2af3*0x1)),c(this,'_right',(-0x1de3*-0x1+-0x14ab+-0x1*0x937)/(-0x2*0x412+-0x34b+0xb6f)),c(this,'_recip',-0x2616+-0x6d*-0x35+-0xf85*-0x1),c(this,'_p0',-0x4b1*0x3+-0x2322+0x3135),c(this,'_p1',-0x815+-0x5*-0x631+-0x30*0x7a),c(this,'_m0',0x1bd4+0x1f5a+-0x3*0x13ba),c(this,'_m1',-0x83d+-0x1*-0x5a6+0x297),(this['_curve']=_0xac3eaf,this['_reset'](_0x23588a));}['evaluate'](_0x2ccc48,_0x1eedf5=!(-0x2b3+0x1eb2+-0x1bfe)){(_0x1eedf5||_0x2ccc48<this['_left']||_0x2ccc48>=this['_right'])&&this['_reset'](_0x2ccc48);let _0x474f15;const _0x5e7aec=this['_curve']['type'];if(_0x5e7aec===SS)_0x474f15=this['_p0'];else{const _0x35ad71=this['_recip']===0x8a4+0x1a91+-0x2335?0x3*0x2cd+-0x254f+-0xe74*-0x2:(_0x2ccc48-this['_left'])*this['_recip'];_0x5e7aec===xS?_0x474f15=N['lerp'](this['_p0'],this['_p1'],_0x35ad71):_0x5e7aec===Df?_0x474f15=N['lerp'](this['_p0'],this['_p1'],_0x35ad71*_0x35ad71*(0x23d*-0xd+-0x44b+0x2167-(-0x1*-0x114b+0x222a+0x3373*-0x1)*_0x35ad71)):_0x474f15=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x35ad71);}return _0x474f15;}['_reset'](_0x995f1b){const _0x295177=this['_curve']['keys'],_0x31a717=_0x295177['length'];if(!_0x31a717)this['_left']=-(0xde2+0x136d*-0x1+0x58c)/(-0x389+0x144b*-0x1+-0xf4*-0x19),this['_right']=(0x1*0x38f+0x188a+0x706*-0x4)/(0x3a9*0x1+-0x7a0+0x3f7),this['_recip']=0x1287*0x1+-0xbe9*-0x2+-0x1*0x2a59,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x1*0x1b0d+0x4a2*0x2+0x11c9;else{if(_0x995f1b<_0x295177[-0x1ef8+0x484*0x1+0x1a74][-0x1613+0x1*-0x49d+0x4*0x6ac])this['_left']=-(0x7e2*0x3+0x39a+-0x1b3f)/(0x4eb*-0x5+-0x2706+0x3f9d),this['_right']=_0x295177[0x1db6+-0x1b80+-0x236*0x1][0x7c*0x5+-0x9*0x35f+0x1beb],this['_recip']=-0x1261+-0x4bc*-0x2+0x8e9*0x1,this['_p0']=this['_p1']=_0x295177[0x3ef+-0x2079+0x1*0x1c8a][0xaa7+-0x1758+0x19*0x82],this['_m0']=this['_m1']=0x37*0x2f+-0x672*-0x1+-0x108b;else{if(_0x995f1b>=_0x295177[_0x31a717-(-0x21f*-0x11+-0x11*-0x29+-0x26c7)][-0x18ef*0x1+-0x25ba+-0x1*-0x3ea9])this['_left']=_0x295177[_0x31a717-(0x62+-0x1f*-0x39+-0x748)][-0x1*0x1b83+-0xf60+0x1*0x2ae3],this['_right']=(-0x207f*0x1+-0x450*0x6+0x3a60)/(-0x2616+0x16*0xe5+0x3e*0x4c),this['_recip']=0x10*-0x21d+-0x355*-0x3+-0x1*-0x17d1,this['_p0']=this['_p1']=_0x295177[_0x31a717-(0x95b+0x1f1a+-0xa1d*0x4)][0xab3+0x1cf9+-0x27ab],this['_m0']=this['_m1']=0x1e66+-0x5f6+0x44*-0x5c;else{let _0x4bfdff=-0x10f0+0x111f+-0x2f;for(;_0x995f1b>=_0x295177[_0x4bfdff+(-0x11b*0x2+0x3aa+-0x35*0x7)][0x47*-0x1+-0xb84+0xbcb];)_0x4bfdff++;this['_left']=_0x295177[_0x4bfdff][0x868+-0x4*0x97b+0x1d84],this['_right']=_0x295177[_0x4bfdff+(0x5*-0xbf+-0x1fb2+-0x11b7*-0x2)][0x11*0x1ae+0x20c9+0x17f*-0x29];const _0x161709=(0x19a9+-0x2b9+-0x16ef)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x161709)?_0x161709:-0x2*0xc53+0x9*-0x21d+0x1*0x2bab,this['_p0']=_0x295177[_0x4bfdff][-0x5*0x2d7+0x33*-0x91+-0x1*-0x2b17],this['_p1']=_0x295177[_0x4bfdff+(-0x25c6+0xf16+0x16b1)][-0x5f*-0x5+-0x13f7+0x1*0x121d],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x295177,_0x4bfdff);}}}}['_calcTange'+'nts'](_0x54494c,_0x1e05ec){let _0x1085c2;const _0x15c6d0=_0x54494c[_0x1e05ec],_0x4b172f=_0x54494c[_0x1e05ec+(-0x18*-0x15e+-0x1a07+-0x6c8)];let _0x46bd36;if(_0x1e05ec===-0x20c8+0x5*-0x105+0x25e1*0x1?_0x1085c2=[_0x54494c[-0x61*0x58+0x10a3+-0x2f*-0x5b][-0x1*-0xf99+-0x2039+0x10a0]+(_0x54494c[0xb*0x325+0xae4+-0x3*0xf29][-0x7*0x2a7+0x24cf+-0x123e]-_0x54494c[-0x272*0x6+-0x366*0x7+0x2677][-0x16a2+0xd77+0x92b]),_0x54494c[0x4*-0x459+-0x18a1+0x2a05][0x14d1+-0x1*-0x535+-0x1*0x1a05]+(_0x54494c[-0xf48+0x2687*-0x1+-0x91*-0x5f][-0x7e*-0x43+-0x23e6+0x1*0x2ed]-_0x54494c[0x76*-0x3a+0xb4b*0x1+0xf72][0x17d+-0x4*0x823+0x1f10])]:_0x1085c2=_0x54494c[_0x1e05ec-(-0x14*0x50+-0x1f*-0xa3+0x4*-0x35f)],_0x1e05ec===_0x54494c['length']-(0x462+0x197c+0x31*-0x9c)?_0x46bd36=[_0x54494c[_0x1e05ec+(-0x1*-0x1453+-0x253d+0x10eb)][0x6d*-0xe+-0x242e+-0x4*-0xa89]+(_0x54494c[_0x1e05ec+(-0x107d+-0x50f+0x158d)][-0x62*-0xc+0x2467+-0x28ff*0x1]-_0x54494c[_0x1e05ec][-0x22d*0xd+0xcaa+0xf9f]),_0x54494c[_0x1e05ec+(-0xa*0x266+-0x7bb+0x244*0xe)][0x650*-0x4+-0x25f*-0x8+0x649]+(_0x54494c[_0x1e05ec+(0x40d+-0x1a06+0x15fa)][-0x92+-0xc3*0x15+-0x586*-0x3]-_0x54494c[_0x1e05ec][0x225f*0x1+-0x1926+-0xec*0xa])]:_0x46bd36=_0x54494c[_0x1e05ec+(-0x1aaa*0x1+0x1db6*0x1+0x1*-0x30a)],this['_curve']['type']===sm){const _0x533558=(0x1665+0x2519*-0x1+0xeb6)*(_0x4b172f[-0x1*0x1721+-0xda3*-0x2+-0x425*0x1]-_0x15c6d0[-0x5d7*-0x1+-0x1*0x25fa+-0x13*-0x1b1])/(_0x4b172f[-0x1ff9+0x66+0x1f93]-_0x1085c2[0x825+0x1*0x176b+-0x1f90]),_0x404c7a=(-0x110d+-0x2f*0xb+0x1314)*(_0x4b172f[-0x15*-0x107+0x5e6+-0x1b79]-_0x15c6d0[-0x1ef6+0x103e+0xeb8])/(_0x46bd36[0xf2a+0x1*0x611+-0x153b]-_0x15c6d0[-0x6a1*-0x1+-0x3c6+-0x2db]);this['_m0']=this['_curve']['tension']*(isFinite(_0x533558)?_0x533558:0x26*0xa+0x332+-0x1*0x4ae)*(_0x4b172f[0xd2f+0x21ed+-0x2f1b]-_0x1085c2[0x100*-0x1b+0x1*-0x1762+-0x3263*-0x1]),this['_m1']=this['_curve']['tension']*(isFinite(_0x404c7a)?_0x404c7a:-0x3b*-0x39+-0xe18+0x1*0xf5)*(_0x46bd36[-0x25db+-0x11a9*0x1+0x3785]-_0x15c6d0[-0xba0+0x6a1*-0x3+-0x2*-0xfc2]);}else{const _0x2cd4ff=(_0x4b172f[-0x415+0x73e*0x2+-0xa67]-_0x15c6d0[0x1ff3*-0x1+0x20ab*-0x1+0x409e])/(_0x15c6d0[-0xbf6+0x178a+-0xb94]-_0x1085c2[0x169e+-0x171f+-0x81*-0x1]),_0x469efa=(_0x4b172f[0x1*0x104d+0xcdd*0x1+0xe95*-0x2]-_0x15c6d0[0x15cf+-0x3ee*-0x4+0x2e3*-0xd])/(_0x46bd36[0x1*0x1885+-0xeb9+0xd1*-0xc]-_0x4b172f[-0x3af+-0x17*0xf2+0x196d*0x1]),_0x3de452=_0x15c6d0[-0x28c+0x1*-0xa75+-0x14d*-0xa]+(_0x1085c2[-0xf3a+0xac0+0x25*0x1f]-_0x15c6d0[0x3*0x90d+0x1bfd+-0x3723])*(isFinite(_0x2cd4ff)?_0x2cd4ff:-0x2147+-0x1*0x146c+-0xe9*-0x3b),_0xfa044c=_0x4b172f[0x1a6c+0x3*-0x8c5+-0xe*0x2]+(_0x46bd36[0x189f+0x15d+-0x19fb]-_0x4b172f[0x12f*0x20+-0xd18+-0x18c7])*(isFinite(_0x469efa)?_0x469efa:0x1*-0x1d98+0x1d0e*-0x1+0x3aa6),_0x26c9d7=this['_curve']['tension'];this['_m0']=_0x26c9d7*(_0x4b172f[0x16*0x1a7+0xb5*0x17+-0x349c]-_0x3de452),this['_m1']=_0x26c9d7*(_0xfa044c-_0x15c6d0[0xa2d+-0x397+-0x695]);}}['_evaluateH'+'ermite'](_0x5aefd7,_0x19c890,_0x26540c,_0x122ebd,_0x22511b){const _0x272f20=_0x22511b*_0x22511b,_0x108cc5=_0x22511b+_0x22511b,_0x50ab22=-0x5a*0x69+0x1*0x38+0x24b3-_0x22511b,_0x4660db=_0x50ab22*_0x50ab22;return _0x5aefd7*((-0x1*0x261d+-0x4*0x78d+0x4452+_0x108cc5)*_0x4660db)+_0x26540c*(_0x22511b*_0x4660db)+_0x19c890*(_0x272f20*(0x1*0xe13+0x11df*-0x1+-0x5*-0xc3-_0x108cc5))+_0x122ebd*(_0x272f20*(_0x22511b-(-0x15cf+0x5d8+0xff8)));}}class Cs{constructor(_0x5e2513){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x2*0x1369+-0x1*0x15da+-0x2*-0x1e56+0.5),c(this,'_eval',new ly(this));if(_0x5e2513){for(let _0x106639=0x162b+-0x108a+-0x5a1;_0x106639<_0x5e2513['length']-(0x116b+0x208b+0x1*-0x31f5);_0x106639+=0x174b+0x1*0xf94+-0x26dd)this['keys']['push']([_0x5e2513[_0x106639],_0x5e2513[_0x106639+(0x1e75+0x5*0x53c+0xc*-0x4b8)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x1a48e9,_0x43a3b6){const _0x31c1ed=this['keys'],_0x35f03b=_0x31c1ed['length'];let _0x554a10=0x1191+0x249d+-0x1*0x362e;for(;_0x554a10<_0x35f03b&&!(_0x31c1ed[_0x554a10][0x1039+0x2*0xf0d+-0x43*0xb1]>_0x1a48e9);_0x554a10++);const _0x3abfda=[_0x1a48e9,_0x43a3b6];return this['keys']['splice'](_0x554a10,-0x1*0xa60+0x583+-0x19f*-0x3,_0x3abfda),_0x3abfda;}['get'](_0x399985){return this['keys'][_0x399985];}['sort'](){this['keys']['sort']((_0xe90416,_0x4d7086)=>_0xe90416[0x1*0x1993+-0x1227*0x1+-0x76c]-_0x4d7086[0x72f*0x5+0xd79*0x2+-0x3edd]);}['value'](_0x442d0d){return this['_eval']['evaluate'](_0x442d0d,!(0x13ed*0x1+0xe9*-0x9+-0x2ef*0x4));}['closest'](_0x1a6424){const _0x17e83b=this['keys'],_0x491555=_0x17e83b['length'];let _0x31479c=0x2d8*-0x2+0x21c9+-0x1c17,_0x4aafdb=null;for(let _0x111b40=-0x1*0x18d3+-0xd*-0x3b+0xaea*0x2;_0x111b40<_0x491555;_0x111b40++){const _0x2179a2=Math['abs'](_0x1a6424-_0x17e83b[_0x111b40][-0x2285+-0x1*0x1945+0x3bca]);if(_0x31479c>=_0x2179a2)_0x31479c=_0x2179a2,_0x4aafdb=_0x17e83b[_0x111b40];else break;}return _0x4aafdb;}['clone'](){const _0x5d02e1=new this['constructo'+'r']();return _0x5d02e1['keys']=this['keys']['map'](_0x5e334c=>[..._0x5e334c]),_0x5d02e1['type']=this['type'],_0x5d02e1['tension']=this['tension'],_0x5d02e1;}['quantize'](_0x16a0d9){_0x16a0d9=Math['max'](_0x16a0d9,0x1f12+-0x69b+-0x1*0x1875);const _0x1ab7a7=new Float32Array(_0x16a0d9),_0x2910c6=(-0x5*0x59+0x1868+-0x2*0xb55)/(_0x16a0d9-(-0x2*-0x843+0x2399+0x2*-0x1a0f));_0x1ab7a7[0x49*-0x3d+0x1401+0x14e*-0x2]=this['_eval']['evaluate'](-0xa3*0x19+-0x67*-0x35+-0x568,!(0x9bb+-0x38a*0x2+0x61*-0x7));for(let _0x446cf=0x40b*-0x3+0x8d*-0xc+-0x12be*-0x1;_0x446cf<_0x16a0d9;_0x446cf++)_0x1ab7a7[_0x446cf]=this['_eval']['evaluate'](_0x2910c6*_0x446cf);return _0x1ab7a7;}['quantizeCl'+'amped'](_0x32e11c,_0x38b3e0,_0x3629f5){const _0x2f8b95=this['quantize'](_0x32e11c);for(let _0x451371=0x2*-0x2ad+0x7ab*0x4+-0x1*0x1952;_0x451371<_0x2f8b95['length'];++_0x451371)_0x2f8b95[_0x451371]=Math['min'](_0x3629f5,Math['max'](_0x38b3e0,_0x2f8b95[_0x451371]));return _0x2f8b95;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>-0x469+0x591+-0x127){for(let _0x22a48e=-0x2507+0x219e+0x369;_0x22a48e<arguments['length'];_0x22a48e++)this['curves']['push'](new Cs(arguments[_0x22a48e]));}else{if(arguments['length']===0x1ce*-0x11+0x112b+-0x3*-0x481)this['curves']['push'](new Cs());else{const _0x905554=arguments[0x1dc4+0x1c77*0x1+-0x3a3b];if(typeof _0x905554=='number'){for(let _0x4d76b4=0x1954+-0x94+-0x16*0x120;_0x4d76b4<_0x905554;_0x4d76b4++)this['curves']['push'](new Cs());}else{for(let _0x4b84a5=0x36*0x79+0x39c*-0x1+0xaa*-0x21;_0x4b84a5<_0x905554['length'];_0x4b84a5++)this['curves']['push'](new Cs(_0x905554[_0x4b84a5]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x17f11a){this['_type']=_0x17f11a;for(let _0x4fdad8=-0x9*0x3fd+-0x2*0x565+0x2eaf;_0x4fdad8<this['curves']['length'];_0x4fdad8++)this['curves'][_0x4fdad8]['type']=_0x17f11a;}get['type'](){return this['_type'];}['get'](_0x1bd41d){return this['curves'][_0x1bd41d];}['value'](_0x2d43b5,_0x8f64bc=[]){const _0x58c1c0=this['curves']['length'];_0x8f64bc['length']=_0x58c1c0;for(let _0x47234b=0x2423+-0x2216+0x19*-0x15;_0x47234b<_0x58c1c0;_0x47234b++)_0x8f64bc[_0x47234b]=this['curves'][_0x47234b]['value'](_0x2d43b5);return _0x8f64bc;}['clone'](){const _0x204b26=new this['constructo'+'r']();_0x204b26['curves']=[];for(let _0x1142a3=-0x2*0x6fc+0x1222*-0x1+-0xe*-0x24b;_0x1142a3<this['curves']['length'];_0x1142a3++)_0x204b26['curves']['push'](this['curves'][_0x1142a3]['clone']());return _0x204b26['_type']=this['_type'],_0x204b26;}['quantize'](_0x1eaea9){_0x1eaea9=Math['max'](_0x1eaea9,0x1*0x13d+-0x3*0x7e5+-0x3*-0x77c);const _0x43d88c=this['curves']['length'],_0x428375=new Float32Array(_0x1eaea9*_0x43d88c),_0x5644b5=(-0xa24+0x365+0x20*0x36)/(_0x1eaea9-(0x1857*-0x1+0x2671+-0xe19));for(let _0x30cf9b=0xd69+0x3f*0x1a+-0x13cf*0x1;_0x30cf9b<_0x43d88c;_0x30cf9b++){const _0x552b26=new ly(this['curves'][_0x30cf9b]);for(let _0xa2e86=0x20ff*-0x1+-0x211f*-0x1+0x1*-0x20;_0xa2e86<_0x1eaea9;_0xa2e86++)_0x428375[_0xa2e86*_0x43d88c+_0x30cf9b]=_0x552b26['evaluate'](_0x5644b5*_0xa2e86);}return _0x428375;}['quantizeCl'+'amped'](_0x6d0bfb,_0x1ceebe,_0x35b81d){const _0x26668d=this['quantize'](_0x6d0bfb);for(let _0x4ddf2c=0x1b0b+-0x13d4+-0x737;_0x4ddf2c<_0x26668d['length'];++_0x4ddf2c)_0x26668d[_0x4ddf2c]=Math['min'](_0x35b81d,Math['max'](_0x1ceebe,_0x26668d[_0x4ddf2c]));return _0x26668d;}}let im=0x1*0x17ed+-0x691+0x1*-0x1157;const id=(-0x1316+0x29*-0x7b+0xa*0x3e1)/(0x2225+-0x1f63+-0x1*0x1c3),du=new Float32Array(-0x225d+-0xc*0x61+0x22*0x125),rm=new Int32Array(du['buffer']);class $t{static['float2Half'](_0x5b1070){du[0x387*0x1+-0x1b8b+0x1804]=_0x5b1070;const _0x5350d5=rm[0x1*-0x165b+0x3*0x329+-0x19c*-0x8];let _0x36d5af=_0x5350d5>>-0x6*0x2c9+0x2*0x68b+0x3b0&0x16*0x7d+0x4f58*-0x1+0xc49a,_0x52a06f=_0x5350d5>>0x518+-0x1*0x13bd+0xeb1*0x1&-0x1771+0x4e*0x2e+0x2*0x8b6;const _0x4e6912=_0x5350d5>>-0x68c+-0xb*0xad+0xe12*0x1&0x5f9*-0x4+-0x1223*-0x2+0x247*-0x5;return _0x4e6912<0x18de+0x19bc+-0x3233?_0x36d5af:_0x4e6912>0xbc6+-0x109f+0x1*0x567?(_0x36d5af|=0x2*-0x4f18+0x72d6+0x2b3*0x3e,_0x36d5af|=(_0x4e6912===-0x194c+-0x1*0x1fb5+0x3a*0x100?-0x26be+0x2*-0xd48+0xd*0x506:0xc*-0xd1+0xf41+-0x574)&&_0x5350d5&0x150508+-0x5*0x2da0be+0x1e7727*0xb,_0x36d5af):_0x4e6912<0x1a30+-0xea0+-0xb1f?(_0x52a06f|=0x15d9+-0x1*-0x17e1+-0x25ba,_0x36d5af|=(_0x52a06f>>0x1c42+0x135+-0x1d05-_0x4e6912)+(_0x52a06f>>0x100b+0x3b3*0x2+-0x5c*0x40-_0x4e6912&0x5*-0x13+-0x1019+0x1079),_0x36d5af):(_0x36d5af|=_0x4e6912-(0x68c*-0x3+0x12e4+0x98*0x2)<<-0x1*-0x22e4+-0x2412+0x138|_0x52a06f>>0x32b*-0xb+0x3*0x4fc+-0x9f3*-0x2,_0x36d5af+=_0x52a06f&-0x8*0x403+0x6f4+0x1925,_0x36d5af);}static['float2Byte'+'s'](_0x4e7608,_0x14dd20,_0x303d29,_0x50e7c2){const _0x331449=(-0xee*0x16+-0xd57+0x22ca)*_0x4e7608%(-0x22e*0x4+0x6*-0xab+-0x1*-0xcbb);if(_0x14dd20[_0x303d29+(-0x6d*0x41+-0x285+0x1e32)]=Math['round']((_0x4e7608%(0x9a9*-0x2+-0x1dc4+0x3117*0x1)-id*_0x331449)*(-0x1a6*0x7+-0x1165*0x1+0x1dee)),_0x50e7c2>-0x122e+-0xf5e+0x218d){const _0xf9bc1e=(-0xb*-0xf07+-0x646d+-0xbd21*-0x1)*_0x4e7608%(-0x2264+-0xa*0x95+0x2837);if(_0x14dd20[_0x303d29+(0x6*0xbc+-0x2*0xf42+0x1a1d)]=Math['round']((_0x331449-id*_0xf9bc1e)*(-0x2609+0xfb2+0x1756)),_0x50e7c2>0x34a*-0x3+-0xb07+-0x1*-0x14e7){const _0x2cafae=(-0x318c64+0x1c2784a+-0x10d*0x8cc3)*_0x4e7608%(0x7e2*0x1+0x7f4+-0xfd5);_0x14dd20[_0x303d29+(-0x26d4+0x22e7*-0x1+0x49bd)]=Math['round']((_0xf9bc1e-id*_0x2cafae)*(0x1*-0xa0d+-0x173b*0x1+0x2247)),_0x50e7c2>0x5e5+-0x1f*0x61+0x5dd&&(_0x14dd20[_0x303d29+(-0x913+-0x486*-0x3+-0x23e*0x2)]=Math['round'](_0x2cafae*(-0xfdb+0x15c+0x3*0x52a)));}}}static['float2Byte'+'sRange'](_0x4dca9b,_0x4622b5,_0x55074f,_0x1f659a,_0x4c7637,_0x254128){(_0x4dca9b<_0x1f659a||_0x4dca9b>_0x4c7637)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x4dca9b=N['clamp']((_0x4dca9b-_0x1f659a)/(_0x4c7637-_0x1f659a),-0xd58+0x206*-0x1+0xf5e,-0x138a+-0xb7e*0x2+0x2a87),$t['float2Byte'+'s'](_0x4dca9b,_0x4622b5,_0x55074f,_0x254128);}static['float2RGBA'+'8'](_0x2f9d50,_0x446580){du[-0x18e4+-0x1*0x10c+-0x14*-0x14c]=_0x2f9d50;const _0x5babbf=rm[0x114e+-0x1001+-0x25*0x9];_0x446580['r']=(_0x5babbf>>0x6*0x2be+-0x1*-0x7fb+-0x1857&0x4b7*-0x2+-0x8c2*0x1+0x1*0x132f)/(0x268f+0x2437+-0x49c7),_0x446580['g']=(_0x5babbf>>-0x1b44+-0x1c3+0x1d17&-0x5*-0x556+-0x14b8+-0x4f7)/(-0xed1*0x2+0x1393+0xb0e),_0x446580['b']=(_0x5babbf>>0x377+-0x218a+0x1e1b&0x7*-0x473+-0x2*0x130d+-0x6f*-0xa2)/(-0x1*-0xc5f+0xc6d+-0x17cd),_0x446580['a']=(_0x5babbf&0x105a+-0xc0*0x14+-0x5b)/(0xe2c+0x45e+-0x118b);}}const rt=class rt{constructor(_0x589fec=0xbf8+0x2c7+0x97*-0x19,_0x401983=0x18e0*0x1+0x185*0xa+-0x1be*0x17,_0x2e7afc=0xca2+-0x1311+0x66f){c(this,'x'),c(this,'y'),c(this,'z'),_0x589fec['length']===-0x1cc2*0x1+-0x2*0x17+0x1cf3?(this['x']=_0x589fec[0x254d+0x708+-0x2c55],this['y']=_0x589fec[0x9f*0x1+0x19ea+-0x1a88],this['z']=_0x589fec[0xc91*0x1+-0x4e*0x2+-0xbf3]):(this['x']=_0x589fec,this['y']=_0x401983,this['z']=_0x2e7afc);}['add'](_0x577d67){return this['x']+=_0x577d67['x'],this['y']+=_0x577d67['y'],this['z']+=_0x577d67['z'],this;}['add2'](_0x2641a8,_0x8761e5){return this['x']=_0x2641a8['x']+_0x8761e5['x'],this['y']=_0x2641a8['y']+_0x8761e5['y'],this['z']=_0x2641a8['z']+_0x8761e5['z'],this;}['addScalar'](_0x19bcb9){return this['x']+=_0x19bcb9,this['y']+=_0x19bcb9,this['z']+=_0x19bcb9,this;}['addScaled'](_0x25d578,_0x1e7076){return this['x']+=_0x25d578['x']*_0x1e7076,this['y']+=_0x25d578['y']*_0x1e7076,this['z']+=_0x25d578['z']*_0x1e7076,this;}['clone'](){const _0x32cbd6=this['constructo'+'r'];return new _0x32cbd6(this['x'],this['y'],this['z']);}['copy'](_0x5bbcf3){return this['x']=_0x5bbcf3['x'],this['y']=_0x5bbcf3['y'],this['z']=_0x5bbcf3['z'],this;}['cross'](_0x28a5a3,_0x4978f6){const _0x5df96c=_0x28a5a3['x'],_0x176ab8=_0x28a5a3['y'],_0x5ba783=_0x28a5a3['z'],_0x19688f=_0x4978f6['x'],_0x3b0edf=_0x4978f6['y'],_0x512390=_0x4978f6['z'];return this['x']=_0x176ab8*_0x512390-_0x3b0edf*_0x5ba783,this['y']=_0x5ba783*_0x19688f-_0x512390*_0x5df96c,this['z']=_0x5df96c*_0x3b0edf-_0x19688f*_0x176ab8,this;}['distance'](_0x301101){const _0x1d5de5=this['x']-_0x301101['x'],_0x59c22c=this['y']-_0x301101['y'],_0xbfca18=this['z']-_0x301101['z'];return Math['sqrt'](_0x1d5de5*_0x1d5de5+_0x59c22c*_0x59c22c+_0xbfca18*_0xbfca18);}['div'](_0x3fb7d0){return this['x']/=_0x3fb7d0['x'],this['y']/=_0x3fb7d0['y'],this['z']/=_0x3fb7d0['z'],this;}['div2'](_0x4e8528,_0x26b87e){return this['x']=_0x4e8528['x']/_0x26b87e['x'],this['y']=_0x4e8528['y']/_0x26b87e['y'],this['z']=_0x4e8528['z']/_0x26b87e['z'],this;}['divScalar'](_0x46cbe8){return this['x']/=_0x46cbe8,this['y']/=_0x46cbe8,this['z']/=_0x46cbe8,this;}['dot'](_0x360fa3){return this['x']*_0x360fa3['x']+this['y']*_0x360fa3['y']+this['z']*_0x360fa3['z'];}['equals'](_0x2ca047){return this['x']===_0x2ca047['x']&&this['y']===_0x2ca047['y']&&this['z']===_0x2ca047['z'];}['equalsAppr'+'ox'](_0x89731e,_0x3d7a20=-0x1*0xd21+0x11*-0xed+0x1cde+0.000001){return Math['abs'](this['x']-_0x89731e['x'])<_0x3d7a20&&Math['abs'](this['y']-_0x89731e['y'])<_0x3d7a20&&Math['abs'](this['z']-_0x89731e['z'])<_0x3d7a20;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x46fcba,_0x2d52b4,_0x366c00){return this['x']=_0x46fcba['x']+_0x366c00*(_0x2d52b4['x']-_0x46fcba['x']),this['y']=_0x46fcba['y']+_0x366c00*(_0x2d52b4['y']-_0x46fcba['y']),this['z']=_0x46fcba['z']+_0x366c00*(_0x2d52b4['z']-_0x46fcba['z']),this;}['mul'](_0x5e0079){return this['x']*=_0x5e0079['x'],this['y']*=_0x5e0079['y'],this['z']*=_0x5e0079['z'],this;}['mul2'](_0x1ee99c,_0x29afd4){return this['x']=_0x1ee99c['x']*_0x29afd4['x'],this['y']=_0x1ee99c['y']*_0x29afd4['y'],this['z']=_0x1ee99c['z']*_0x29afd4['z'],this;}['mulScalar'](_0x25686b){return this['x']*=_0x25686b,this['y']*=_0x25686b,this['z']*=_0x25686b,this;}['normalize'](_0x2afcd8=this){const _0x510ad8=_0x2afcd8['x']*_0x2afcd8['x']+_0x2afcd8['y']*_0x2afcd8['y']+_0x2afcd8['z']*_0x2afcd8['z'];if(_0x510ad8>0x7d5*0x4+0x1caa+-0x3bfe){const _0x307787=(0x4*0x907+0xd*0x1f9+-0x3dc0)/Math['sqrt'](_0x510ad8);this['x']=_0x2afcd8['x']*_0x307787,this['y']=_0x2afcd8['y']*_0x307787,this['z']=_0x2afcd8['z']*_0x307787;}return this;}['floor'](_0x4acad4=this){return this['x']=Math['floor'](_0x4acad4['x']),this['y']=Math['floor'](_0x4acad4['y']),this['z']=Math['floor'](_0x4acad4['z']),this;}['ceil'](_0x2e9274=this){return this['x']=Math['ceil'](_0x2e9274['x']),this['y']=Math['ceil'](_0x2e9274['y']),this['z']=Math['ceil'](_0x2e9274['z']),this;}['round'](_0x481b6a=this){return this['x']=Math['round'](_0x481b6a['x']),this['y']=Math['round'](_0x481b6a['y']),this['z']=Math['round'](_0x481b6a['z']),this;}['min'](_0x3032e3){return _0x3032e3['x']<this['x']&&(this['x']=_0x3032e3['x']),_0x3032e3['y']<this['y']&&(this['y']=_0x3032e3['y']),_0x3032e3['z']<this['z']&&(this['z']=_0x3032e3['z']),this;}['max'](_0x4ca081){return _0x4ca081['x']>this['x']&&(this['x']=_0x4ca081['x']),_0x4ca081['y']>this['y']&&(this['y']=_0x4ca081['y']),_0x4ca081['z']>this['z']&&(this['z']=_0x4ca081['z']),this;}['project'](_0x48ce4e){const _0x1105b3=this['x']*_0x48ce4e['x']+this['y']*_0x48ce4e['y']+this['z']*_0x48ce4e['z'],_0x6d37bc=_0x48ce4e['x']*_0x48ce4e['x']+_0x48ce4e['y']*_0x48ce4e['y']+_0x48ce4e['z']*_0x48ce4e['z'],_0x4a4091=_0x1105b3/_0x6d37bc;return this['x']=_0x48ce4e['x']*_0x4a4091,this['y']=_0x48ce4e['y']*_0x4a4091,this['z']=_0x48ce4e['z']*_0x4a4091,this;}['set'](_0x2feecf,_0x6c992a,_0x2d3693){return this['x']=_0x2feecf,this['y']=_0x6c992a,this['z']=_0x2d3693,this;}['sub'](_0x5d9c16){return this['x']-=_0x5d9c16['x'],this['y']-=_0x5d9c16['y'],this['z']-=_0x5d9c16['z'],this;}['sub2'](_0x2a8e5e,_0x4a7b32){return this['x']=_0x2a8e5e['x']-_0x4a7b32['x'],this['y']=_0x2a8e5e['y']-_0x4a7b32['y'],this['z']=_0x2a8e5e['z']-_0x4a7b32['z'],this;}['subScalar'](_0x13941c){return this['x']-=_0x13941c,this['y']-=_0x13941c,this['z']-=_0x13941c,this;}['fromArray'](_0x1d9f79,_0x156de1=0x195+0x2f*-0x35+0x826){return this['x']=_0x1d9f79[_0x156de1]??this['x'],this['y']=_0x1d9f79[_0x156de1+(-0x233e+0xfc*-0x1+0x243b)]??this['y'],this['z']=_0x1d9f79[_0x156de1+(-0x106*-0xf+0x133*0xf+-0x2155)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x38f759=[],_0x11ef24=-0x26a5+0x1*-0x1f39+-0x10f*-0x42){return _0x38f759[_0x11ef24]=this['x'],_0x38f759[_0x11ef24+(0x1*0x16a9+-0x3*-0x956+-0x32aa)]=this['y'],_0x38f759[_0x11ef24+(0xa81*0x3+0xaa1*-0x2+-0xa3f)]=this['z'],_0x38f759;}};c(rt,'ZERO',Object['freeze'](new rt(-0x1beb+-0xc1d+0x2808,0x1*-0x169+0xfbf+-0x1*0xe56,-0x2*0x6a3+0x1063+0x1*-0x31d))),c(rt,'HALF',Object['freeze'](new rt(0x2353+0x4c4+0x137*-0x21+0.5,-0x2*0xc4+0x1b1f*0x1+0x1997*-0x1+0.5,-0x153d*0x1+0xafd+0xa40+0.5))),c(rt,'ONE',Object['freeze'](new rt(-0xf4f*-0x1+0x1*0x1541+-0x248f,0x1e4e+0x645+-0x2492,-0x44*-0x1e+0x1b1a+0x1*-0x2311))),c(rt,'UP',Object['freeze'](new rt(-0x2*0x112d+0x5db*0x4+-0x2*-0x577,0x11c1+0x22af+-0x346f,-0x889+-0x1564+0x1*0x1ded))),c(rt,'DOWN',Object['freeze'](new rt(-0x6b*0x6+0x1*0x1dca+-0x1b48,-(-0x39*-0x1f+0x2638+-0x181*0x1e),-0xb*-0x160+-0xb77+-0x1*0x3a9))),c(rt,'RIGHT',Object['freeze'](new rt(0x5*-0xc1+0x4*-0x33d+0x2*0x85d,0x26e*0x8+0x755+-0x1ac5,0xb*0x13f+-0x241*-0xc+-0x28c1*0x1))),c(rt,'LEFT',Object['freeze'](new rt(-(-0x155e*-0x1+-0x1*-0xc84+-0x21e1),0x8*0x3d5+-0x675*-0x1+-0x251d,0x2ad*0x1+0x134c+-0x465*0x5))),c(rt,'FORWARD',Object['freeze'](new rt(-0x2172+-0x1*0xec2+-0x1*-0x3034,-0xbc0+-0x437+0x1*0xff7,-(-0x35*0x5d+-0x9d1*0x1+-0x9b1*-0x3)))),c(rt,'BACK',Object['freeze'](new rt(-0x1997+0x1056+0x941,0x1039*0x1+-0x311+0x694*-0x2,0x94+-0xab7+0x76*0x16)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0x162*-0xd+-0x1dc3+0xbd2)),this['data'][-0x1bb1+-0x187d+0x342e]=this['data'][-0x9b7+-0x1dc3+-0x6*-0x695]=this['data'][-0x45b*-0x1+-0x1*-0x1bd9+-0x202c]=0x2500+-0x47*-0x32+-0x1*0x32dd;}['clone'](){const _0x291723=this['constructo'+'r'];return new _0x291723()['copy'](this);}['copy'](_0x310754){const _0x40a652=_0x310754['data'],_0x1cb1b1=this['data'];return _0x1cb1b1[-0x16e1+-0x1*0xc07+0x22e8]=_0x40a652[0x1967+-0x7*-0x78+-0x1caf],_0x1cb1b1[0x16db*-0x1+0xf80+-0x1d7*-0x4]=_0x40a652[0xfa3+-0x1908+0x966],_0x1cb1b1[-0x154f*0x1+0x11d1*0x2+-0x1*0xe51]=_0x40a652[-0x121e+-0x1e26+0x3046],_0x1cb1b1[-0x47*0x4e+-0x3*0xd4+-0x1*-0x1821]=_0x40a652[0x4eb+0x2b1*0x5+-0x1*0x125d],_0x1cb1b1[0xbe2+0x657+-0x1235]=_0x40a652[0x151*0x11+0x876+-0x1ed3],_0x1cb1b1[0x216b+-0x2461+0x2fb]=_0x40a652[-0x1*-0x3fd+0x533+-0x1*0x92b],_0x1cb1b1[0x3*0xa6+-0x246d+-0x1*-0x2281]=_0x40a652[0x84a*0x1+0x1ad*0x11+-0x1*0x24c1],_0x1cb1b1[-0x107e+-0x238d*0x1+0x3412]=_0x40a652[0x5*0x2ce+0xa2d*0x2+-0x9*0x3d1],_0x1cb1b1[0x36f*-0x3+-0xc15+-0x97*-0x26]=_0x40a652[0x1*0x106+-0x1*0x964+0x866],this;}['set'](_0x5183fc){const _0x12e7e0=this['data'];return _0x12e7e0[0x269c+-0x256b+0x3d*-0x5]=_0x5183fc[-0x5*0x3f+-0x1d*0x133+0x2402],_0x12e7e0[-0x1*-0x1d8f+-0x17*-0x18f+-0x4167]=_0x5183fc[-0x26f6+-0x2033*0x1+0x472a],_0x12e7e0[0x7e7+-0x44f*-0x8+0x2d3*-0xf]=_0x5183fc[-0x1397+0x7a8+0x1*0xbf1],_0x12e7e0[0x4*-0x835+-0xb2*0xd+0x29e1]=_0x5183fc[0x8b*0x3b+0xef*-0x1f+0x107*-0x3],_0x12e7e0[-0x2710+0x1574*-0x1+-0x34*-0x12a]=_0x5183fc[0xd4*-0x2+0xad*0x28+-0x195c],_0x12e7e0[0x59*-0x25+-0x658+0x133a]=_0x5183fc[0x1578+0x107f+-0x3*0xca6],_0x12e7e0[-0x2*0x760+0x35a+-0x44*-0x2b]=_0x5183fc[-0x169d+-0x13f2+0x2a95],_0x12e7e0[0xee1*-0x1+-0x2239*0x1+0x3121*0x1]=_0x5183fc[-0x1310+0x717+0x20*0x60],_0x12e7e0[0xce7*-0x1+-0x144a+0x6a5*0x5]=_0x5183fc[0x1aa5+0x2159+-0x1*0x3bf6],this;}['getX'](_0x1b0058=new T()){return _0x1b0058['set'](this['data'][0xe*0x2b0+0x8*0x104+0xb70*-0x4],this['data'][-0xc87+-0xa9f+0x1*0x1727],this['data'][0x1*-0x3d1+0xa47+0x1*-0x674]);}['getY'](_0x42181e=new T()){return _0x42181e['set'](this['data'][-0xf6b*-0x1+0x11*0x12d+-0x2365],this['data'][-0x15ed+-0x1*-0x10c9+0x528],this['data'][0x11b5+-0x25eb+0x143b]);}['getZ'](_0x5604a9=new T()){return _0x5604a9['set'](this['data'][-0x260d*-0x1+0x150c+-0x3b13],this['data'][-0x1*0xdb5+-0xeb7+0x1c73],this['data'][-0x23*-0xa7+0x2055+-0x3722]);}['equals'](_0x3f6e34){const _0x12f347=this['data'],_0x512315=_0x3f6e34['data'];return _0x12f347[0x2ab*0xe+-0x7b5*0x2+0x18*-0xea]===_0x512315[-0x1ca1+-0x2137+-0x7bb*-0x8]&&_0x12f347[0x19e7*-0x1+0xaa1+0x1*0xf47]===_0x512315[0xd87+0x7*0x559+-0x32f5]&&_0x12f347[-0x3*-0x209+-0x47f+-0x19a]===_0x512315[-0x53*-0x2+0xc31+-0xcd5]&&_0x12f347[0x1b0f+0xcf6+-0x2802]===_0x512315[0xfe8+0x2d*0x98+-0x2a9d]&&_0x12f347[0x13cc+-0x24b5+0x10ed]===_0x512315[-0x1ad6+0x5*-0x414+0x2f3e]&&_0x12f347[-0x234c+-0xb7*0x11+-0x62*-0x7c]===_0x512315[0xb*0x347+0xdb2+-0x31ba]&&_0x12f347[0x26c4+-0x2024+-0x1*0x69a]===_0x512315[0x24a1+-0x16*0x166+-0x17*0x41]&&_0x12f347[0x3*0x6c2+-0xfee+-0xdd*0x5]===_0x512315[0x4*-0x2dc+0x1146+0x5cf*-0x1]&&_0x12f347[0x3*-0x8dd+-0x76*0x20+0x295f]===_0x512315[-0x5c7+0x1f39+0x2*-0xcb5];}['isIdentity'](){const _0x40b439=this['data'];return _0x40b439[-0x24a4+0xf1*-0x9+-0x1*-0x2d1d]===0x1170*-0x1+-0x346+-0x14b7*-0x1&&_0x40b439[0x53*0x4d+-0x2454+0xb5e]===0x4*-0x4d+0x1ade+0x447*-0x6&&_0x40b439[0x1dfc+-0x89d+0x71f*-0x3]===0x2f*0x19+-0xc29+0x792&&_0x40b439[0x15d0+-0x222d+0x20*0x63]===0x344+0x247e+-0x2*0x13e1&&_0x40b439[-0x75*-0x1+-0x7a1+0x730]===0xe5b+-0x1f5a+0x1100&&_0x40b439[0x1*0x69d+-0x4fa+-0x19e]===-0x1513+-0x66a+-0xe3*-0x1f&&_0x40b439[-0x1*0x349+-0x1b*0x103+0x230*0xe]===-0x15ed+0x178f+-0x16*0x13&&_0x40b439[-0x8da*-0x1+0x4b9+-0xcc*0x11]===-0xe6f+0x2515+-0x16a6&&_0x40b439[0x1c75+-0x122c*-0x2+-0x1597*0x3]===0x1a1+-0x1c78+0x35b*0x8;}['setIdentit'+'y'](){const _0x502cd=this['data'];return _0x502cd[-0x996+-0x1285+-0x1c1b*-0x1]=0x1*0x1925+-0xa25*-0x1+-0x2349,_0x502cd[0xc20+-0x1e61+0x1242]=0x1872+0x1*-0x1c4f+0x3dd,_0x502cd[-0x13ae+0x1b18+-0x768]=0x1864+-0x85*0x3c+-0x1*-0x6c8,_0x502cd[-0x1*-0x5cd+0x9*-0xcf+0x17d]=-0x136a+0x23e9+-0x29*0x67,_0x502cd[-0x1f6*-0x8+-0x15e+0xe4e*-0x1]=-0x136e+0x5*-0x42d+0x2850,_0x502cd[-0x1f97+0x28d*-0x5+0x2c5d*0x1]=-0x1054+-0x2282+-0x2d3*-0x12,_0x502cd[0x1656+0x3f7+-0xd9*0x1f]=0x80f+-0x1842+-0x1*-0x1033,_0x502cd[0x1d45+-0x18bf+0x47f*-0x1]=-0x1*-0x1d71+-0x1146+-0xc2b,_0x502cd[0x683*0x3+-0x101e*0x1+0x3*-0x121]=-0x2c0+-0x7af*-0x1+-0x2*0x277,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x4c30a6=this){const _0x52d1e5=_0x4c30a6['data'],_0x185fc9=this['data'];if(_0x52d1e5===_0x185fc9){let _0x436291;_0x436291=_0x52d1e5[-0x4e8*-0x7+0x1*-0x1f06+-0x351],_0x185fc9[0x66*-0x35+-0x5b*0x6a+0x3acd*0x1]=_0x52d1e5[0x1*0x174a+0x14b2+-0x2bf9*0x1],_0x185fc9[-0x2362+-0x984*-0x4+-0x2ab]=_0x436291,_0x436291=_0x52d1e5[-0x244d+0x11e5+0x126a],_0x185fc9[-0x4*-0x12+-0x146*-0x13+0x36*-0x74]=_0x52d1e5[-0x13*0x169+0x13d9+0x6f8*0x1],_0x185fc9[0x1527+0xb5*0x24+0x19*-0x1dd]=_0x436291,_0x436291=_0x52d1e5[-0x151*0x17+-0xc58+0x2aa4],_0x185fc9[-0x13*-0x8f+0x2411+-0x2ea9*0x1]=_0x52d1e5[0x2b*0x3b+-0x76*-0x43+-0x1462*0x2],_0x185fc9[0x2498+-0x2*0x10ec+-0x2b9]=_0x436291;}else _0x185fc9[-0xa75*-0x1+-0x2413+0x1*0x199e]=_0x52d1e5[-0x2011*-0x1+-0x1ba2+-0x46f*0x1],_0x185fc9[0x104c*0x1+0x220f+-0x325a]=_0x52d1e5[0x2*-0x100+-0x11e1+-0x10c*-0x13],_0x185fc9[-0x61f*0x2+-0x301*0x2+0x72*0x29]=_0x52d1e5[0x2*-0x1022+-0x1253+0x73b*0x7],_0x185fc9[-0x136e+0x44*-0x2f+0x1fed]=_0x52d1e5[0x18b6+0x2*0xecd+-0x364f],_0x185fc9[0xcb3*0x1+0x86*-0x13+-0x2bd]=_0x52d1e5[-0x1c03+0x1eb6+-0x2af],_0x185fc9[0x828+-0x8c3*0x1+0xa0]=_0x52d1e5[0x14b7*0x1+-0x5*0x5bd+0x801],_0x185fc9[-0x49*-0x17+-0x359+0x18*-0x22]=_0x52d1e5[-0xdfb*-0x1+0x6ff*-0x3+0x704],_0x185fc9[-0x17d1+0xe89+-0x94f*-0x1]=_0x52d1e5[-0x1b76+-0x25c9*-0x1+-0xa4e],_0x185fc9[-0x5*-0x2bb+0x1810+-0x36d*0xb]=_0x52d1e5[0x1*-0x13b2+-0x2465+-0x1*-0x381f];return this;}['setFromMat'+'4'](_0x410474){const _0x3e7e84=_0x410474['data'],_0x4c0c84=this['data'];return _0x4c0c84[-0x1*0x2548+0x1011*0x1+0x1537]=_0x3e7e84[-0x17*-0x14b+-0x31a*0x9+-0x1*0x1d3],_0x4c0c84[0x2573+-0x22d6+-0x29c]=_0x3e7e84[0x5*-0x795+0xc50+0x199a*0x1],_0x4c0c84[-0x5cd+0x1*-0x2+0x1*0x5d1]=_0x3e7e84[0x9*-0x2d9+-0x6*0x8b+-0x1*-0x1ce5],_0x4c0c84[0x11*-0x185+0xdf+0x18f9]=_0x3e7e84[-0x58*0x2b+-0x26f2+0x1adf*0x2],_0x4c0c84[0x1d1e+-0x6b0*0x1+-0x166a]=_0x3e7e84[-0xde4+-0x124a+0x1*0x2033],_0x4c0c84[0x4f*-0x1+-0x1482+-0xa6b*-0x2]=_0x3e7e84[0x605+0x1d7+-0x7d6],_0x4c0c84[0x1c*0x5f+-0xe63+0x405]=_0x3e7e84[0xbe3+-0x2*-0x4c5+0x1565*-0x1],_0x4c0c84[0xa74+-0x329*0x1+-0xf*0x7c]=_0x3e7e84[0x9*-0x1cf+0x9a5*0x4+-0x14*0x11d],_0x4c0c84[-0x9d9*0x2+0x33d+0x107d]=_0x3e7e84[-0x9*-0x12+-0x6*-0x2ee+-0x122c],this;}['setFromQua'+'t'](_0x3d7d90){const _0x553d3e=_0x3d7d90['x'],_0x1711ad=_0x3d7d90['y'],_0x140ef2=_0x3d7d90['z'],_0x3588e3=_0x3d7d90['w'],_0x4b04ae=_0x553d3e+_0x553d3e,_0x592d94=_0x1711ad+_0x1711ad,_0x20809e=_0x140ef2+_0x140ef2,_0x4d0a8e=_0x553d3e*_0x4b04ae,_0x124d31=_0x553d3e*_0x592d94,_0x8cd5f2=_0x553d3e*_0x20809e,_0x13bbc8=_0x1711ad*_0x592d94,_0x3a8c91=_0x1711ad*_0x20809e,_0x24faaa=_0x140ef2*_0x20809e,_0x3b4a76=_0x3588e3*_0x4b04ae,_0x3389a3=_0x3588e3*_0x592d94,_0x136edd=_0x3588e3*_0x20809e,_0x415f61=this['data'];return _0x415f61[-0x3*-0xb83+0x626+-0x28af]=0x1103*0x2+0xff8+0x43*-0xbf-(_0x13bbc8+_0x24faaa),_0x415f61[-0x2*0x893+0x190c+0x1*-0x7e5]=_0x124d31+_0x136edd,_0x415f61[0x1*0x1b73+-0x5*-0x10f+-0x68c*0x5]=_0x8cd5f2-_0x3389a3,_0x415f61[0x1f4a+-0x28*-0x83+0xd*-0x3fb]=_0x124d31-_0x136edd,_0x415f61[-0x4f*0x1f+-0x1c69+-0xcaa*-0x3]=0x714*-0x5+0x19*0x76+0x17df-(_0x4d0a8e+_0x24faaa),_0x415f61[-0x1a21+-0x24db+0x3f01]=_0x3a8c91+_0x3b4a76,_0x415f61[0x7ea+0x24f9+-0x2cdd]=_0x8cd5f2+_0x3389a3,_0x415f61[0x1d6+-0x1a15*-0x1+-0xf*0x1dc]=_0x3a8c91-_0x3b4a76,_0x415f61[0x1f*-0x3e+0x2608*0x1+-0x1e7e]=-0x1daa+0x1*-0x2291+0x403c-(_0x4d0a8e+_0x13bbc8),this;}['invertMat4'](_0x2a9fd0){const _0x9125cb=_0x2a9fd0['data'],_0x2b0157=_0x9125cb[0x117f*0x1+0x1*-0x3b4+-0xdcb],_0xc700d8=_0x9125cb[0x774+-0x188*0x10+0x5*0x369],_0x508c7c=_0x9125cb[-0x1d4d+0x11*0x41+0x18fe],_0x30a795=_0x9125cb[-0x12e6+-0x82*-0x27+-0xe4],_0x4aff5e=_0x9125cb[0x1887+-0x198e+0x10c],_0x11de9b=_0x9125cb[0x1de4+0x74a+0x1*-0x2528],_0x35de8b=_0x9125cb[0x11eb+0x971+-0x1b54],_0x2eeafe=_0x9125cb[0xcd3+-0x224e+0x1584],_0x2cf6c9=_0x9125cb[-0x25f6+0x1557+0x5*0x355],_0x5825d6=_0x2cf6c9*_0x4aff5e-_0x11de9b*_0x2eeafe,_0x48a9a4=-_0x2cf6c9*_0xc700d8+_0x508c7c*_0x2eeafe,_0x1db826=_0x11de9b*_0xc700d8-_0x508c7c*_0x4aff5e,_0x2892c8=-_0x2cf6c9*_0x30a795+_0x11de9b*_0x35de8b,_0x3f723c=_0x2cf6c9*_0x2b0157-_0x508c7c*_0x35de8b,_0x3167ce=-_0x11de9b*_0x2b0157+_0x508c7c*_0x30a795,_0x5b67e2=_0x2eeafe*_0x30a795-_0x4aff5e*_0x35de8b,_0x5ebcb1=-_0x2eeafe*_0x2b0157+_0xc700d8*_0x35de8b,_0x2ad8f3=_0x4aff5e*_0x2b0157-_0xc700d8*_0x30a795,_0x2a9bef=_0x2b0157*_0x5825d6+_0xc700d8*_0x2892c8+_0x508c7c*_0x5b67e2;if(_0x2a9bef===0x206*-0x1+-0x455*0x5+-0x17af*-0x1)this['setIdentit'+'y']();else{const _0x8cb51d=(-0x46f+0x1*0x4c7+-0x57)/_0x2a9bef,_0x242a04=this['data'];_0x242a04[-0x7c1+0x24a4+0xff*-0x1d]=_0x5825d6*_0x8cb51d,_0x242a04[0x1f9b+-0xa76+-0x1524]=_0x48a9a4*_0x8cb51d,_0x242a04[0x1*-0x7d+0x1bda+0x95*-0x2f]=_0x1db826*_0x8cb51d,_0x242a04[0x1e*-0x8+-0x27*0x9c+0x18b7]=_0x2892c8*_0x8cb51d,_0x242a04[-0x24db+-0x2*-0x9f7+-0x1*-0x10f1]=_0x3f723c*_0x8cb51d,_0x242a04[0xbdd*-0x1+0x94*0x43+-0x1ada]=_0x3167ce*_0x8cb51d,_0x242a04[0xdcd*-0x2+-0x8*0x383+0x1*0x37b8]=_0x5b67e2*_0x8cb51d,_0x242a04[-0x135*0x1d+0x1d8d+-0x17*-0x3d]=_0x5ebcb1*_0x8cb51d,_0x242a04[0x30e*-0xa+0x5f4+-0x20*-0xc5]=_0x2ad8f3*_0x8cb51d;}return this;}['transformV'+'ector'](_0x59c76e,_0x539335=new T()){const _0xeef466=this['data'],{x:_0xa471d4,y:_0xef8acd,z:_0x207484}=_0x59c76e;return _0x539335['x']=_0xa471d4*_0xeef466[-0x15b2+-0x575+0x3*0x90d]+_0xef8acd*_0xeef466[0x178*0x13+-0x1420+-0x7c5]+_0x207484*_0xeef466[-0x150f+0x1c*-0xda+0x2ced],_0x539335['y']=_0xa471d4*_0xeef466[-0x7ae+-0x742+0xef1]+_0xef8acd*_0xeef466[-0x1*-0xa67+0x1b8*-0xb+0x885]+_0x207484*_0xeef466[0x16e+0x1bbb+-0x1d22],_0x539335['z']=_0xa471d4*_0xeef466[0x1*-0x149+0x257a+0x1*-0x242f]+_0xef8acd*_0xeef466[0x2273+0xf*-0x1a6+-0x45*0x24]+_0x207484*_0xeef466[0x1c7e+-0x245b+0x2f*0x2b],_0x539335;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([-0x2*0x590+0x1*-0x757+0x1277,0xde*-0x29+-0x9da+0x4*0xb5a,-0x258c+0x83c+0x1d50,-0x1e1e+0xc1c+-0x1202*-0x1,-0x832*0x1+0x72f+-0x7*-0x25,0x13*-0x71+-0x1c6*0x1+-0x9*-0x121,-0x946+-0x18*-0x12f+0x991*-0x2,-0xf1c+0x1*0x11f4+-0x1c*0x1a,-0xb3*0x1f+-0x1d1f+-0x1966*-0x2])));let js=na;const wt=class wt{constructor(_0x2b628d=-0x59*0x59+-0x1d3f+0x3c30,_0x52507a=0x3*-0xb15+-0x742+0x2881*0x1){c(this,'x'),c(this,'y'),_0x2b628d['length']===-0x8d1+0x1*-0x721+-0x7fa*-0x2?(this['x']=_0x2b628d[-0x2*-0x857+0xcf5+-0x1da3],this['y']=_0x2b628d[0x1ad6+-0x1839+-0x29c]):(this['x']=_0x2b628d,this['y']=_0x52507a);}['add'](_0x1574b1){return this['x']+=_0x1574b1['x'],this['y']+=_0x1574b1['y'],this;}['add2'](_0x302ba5,_0x272ec3){return this['x']=_0x302ba5['x']+_0x272ec3['x'],this['y']=_0x302ba5['y']+_0x272ec3['y'],this;}['addScalar'](_0x2ecf4d){return this['x']+=_0x2ecf4d,this['y']+=_0x2ecf4d,this;}['addScaled'](_0x5b8283,_0x200ae4){return this['x']+=_0x5b8283['x']*_0x200ae4,this['y']+=_0x5b8283['y']*_0x200ae4,this;}['clone'](){const _0x16dc7b=this['constructo'+'r'];return new _0x16dc7b(this['x'],this['y']);}['copy'](_0x79b9c5){return this['x']=_0x79b9c5['x'],this['y']=_0x79b9c5['y'],this;}['cross'](_0x34f925){return this['x']*_0x34f925['y']-this['y']*_0x34f925['x'];}['distance'](_0x3d08a5){const _0x2b39c6=this['x']-_0x3d08a5['x'],_0x234e11=this['y']-_0x3d08a5['y'];return Math['sqrt'](_0x2b39c6*_0x2b39c6+_0x234e11*_0x234e11);}['div'](_0x1e3ca2){return this['x']/=_0x1e3ca2['x'],this['y']/=_0x1e3ca2['y'],this;}['div2'](_0x91be4e,_0xab331f){return this['x']=_0x91be4e['x']/_0xab331f['x'],this['y']=_0x91be4e['y']/_0xab331f['y'],this;}['divScalar'](_0x30130c){return this['x']/=_0x30130c,this['y']/=_0x30130c,this;}['dot'](_0x4fc428){return this['x']*_0x4fc428['x']+this['y']*_0x4fc428['y'];}['equals'](_0x46b33f){return this['x']===_0x46b33f['x']&&this['y']===_0x46b33f['y'];}['equalsAppr'+'ox'](_0x290758,_0x495c48=-0xb7*-0xd+-0x3*-0xa91+-0x9f*0x42+0.000001){return Math['abs'](this['x']-_0x290758['x'])<_0x495c48&&Math['abs'](this['y']-_0x290758['y'])<_0x495c48;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x2bc8c0,_0x54167c,_0x34fb57){return this['x']=_0x2bc8c0['x']+_0x34fb57*(_0x54167c['x']-_0x2bc8c0['x']),this['y']=_0x2bc8c0['y']+_0x34fb57*(_0x54167c['y']-_0x2bc8c0['y']),this;}['mul'](_0x4154d7){return this['x']*=_0x4154d7['x'],this['y']*=_0x4154d7['y'],this;}['mul2'](_0x469761,_0x1faa14){return this['x']=_0x469761['x']*_0x1faa14['x'],this['y']=_0x469761['y']*_0x1faa14['y'],this;}['mulScalar'](_0x12a2c0){return this['x']*=_0x12a2c0,this['y']*=_0x12a2c0,this;}['normalize'](_0x3c07c5=this){const _0x384935=_0x3c07c5['x']*_0x3c07c5['x']+_0x3c07c5['y']*_0x3c07c5['y'];if(_0x384935>-0x1*0x1261+-0x2*-0x514+0x839){const _0x108970=(-0x4*0x37f+-0x24a0+0x329d)/Math['sqrt'](_0x384935);this['x']=_0x3c07c5['x']*_0x108970,this['y']=_0x3c07c5['y']*_0x108970;}return this;}['rotate'](_0x3801ed){const _0x3690f9=Math['atan2'](this['x'],this['y'])+_0x3801ed*N['DEG_TO_RAD'],_0x2ebbb2=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x3690f9)*_0x2ebbb2,this['y']=Math['cos'](_0x3690f9)*_0x2ebbb2,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x4210df){return Math['atan2'](this['x']*_0x4210df['y']+this['y']*_0x4210df['x'],this['x']*_0x4210df['x']+this['y']*_0x4210df['y'])*N['RAD_TO_DEG'];}['floor'](_0x570bec=this){return this['x']=Math['floor'](_0x570bec['x']),this['y']=Math['floor'](_0x570bec['y']),this;}['ceil'](_0x448372=this){return this['x']=Math['ceil'](_0x448372['x']),this['y']=Math['ceil'](_0x448372['y']),this;}['round'](_0x255b69=this){return this['x']=Math['round'](_0x255b69['x']),this['y']=Math['round'](_0x255b69['y']),this;}['min'](_0x437e40){return _0x437e40['x']<this['x']&&(this['x']=_0x437e40['x']),_0x437e40['y']<this['y']&&(this['y']=_0x437e40['y']),this;}['max'](_0x4065ea){return _0x4065ea['x']>this['x']&&(this['x']=_0x4065ea['x']),_0x4065ea['y']>this['y']&&(this['y']=_0x4065ea['y']),this;}['set'](_0x30a3db,_0x5f2f1d){return this['x']=_0x30a3db,this['y']=_0x5f2f1d,this;}['sub'](_0x46982c){return this['x']-=_0x46982c['x'],this['y']-=_0x46982c['y'],this;}['sub2'](_0x350164,_0x36cb36){return this['x']=_0x350164['x']-_0x36cb36['x'],this['y']=_0x350164['y']-_0x36cb36['y'],this;}['subScalar'](_0x10ca7e){return this['x']-=_0x10ca7e,this['y']-=_0x10ca7e,this;}['fromArray'](_0x356f48,_0x414137=0x1*-0x166d+0xec9+0x7a4){return this['x']=_0x356f48[_0x414137]??this['x'],this['y']=_0x356f48[_0x414137+(-0x1e7*-0x2+0x3a5*0x1+0x772*-0x1)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x50307b=[],_0x31f931=-0x3ce*0x5+0xa3*-0x16+0x2108){return _0x50307b[_0x31f931]=this['x'],_0x50307b[_0x31f931+(-0x3*-0x755+0x212e+-0xb*0x504)]=this['y'],_0x50307b;}static['angleRad'](_0x57b5b5,_0x1116e8){return Math['atan2'](_0x57b5b5['x']*_0x1116e8['y']-_0x57b5b5['y']*_0x1116e8['x'],_0x57b5b5['x']*_0x1116e8['x']+_0x57b5b5['y']*_0x1116e8['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0x5*0x1b4+0x1*-0x1f99+-0x5bb*-0x7,-0x2a*0x14+-0x1*-0x8b+-0x1*-0x2bd))),c(wt,'HALF',Object['freeze'](new wt(0x2*-0x196+-0x481*0x7+0x22b3+0.5,-0x1*0x1855+-0x1*-0x134d+0x508+0.5))),c(wt,'ONE',Object['freeze'](new wt(0x1*-0x2db+-0x1f21*0x1+0x21fd,0x96a*-0x4+0x21ed+-0x2*-0x1de))),c(wt,'UP',Object['freeze'](new wt(0x1de+0xb7*0x8+-0x3cb*0x2,0x11fc+-0xa8d*-0x3+-0x31a2))),c(wt,'DOWN',Object['freeze'](new wt(0x683+0x1*0xad+0x73*-0x10,-(-0x16*0xdb+0xd33+-0x30*-0x1e)))),c(wt,'RIGHT',Object['freeze'](new wt(-0x1766+-0x49*-0x4c+0x1*0x1bb,-0x3*-0x3b+0x1*0x169d+-0x174e))),c(wt,'LEFT',Object['freeze'](new wt(-(0x491*0x3+0x237c+-0x9d6*0x5),-0x1b64*0x1+-0x134a+0x5*0x956)));let $=wt;const Yi=class Yi{constructor(_0x4f7dba=0x6*0x263+-0x8f6+0x7*-0xc4,_0xa7b542=0xf5c+-0x1e16+0xeba,_0x398547=0x2692*0x1+-0xea*-0x20+0x2*-0x21e9,_0x1c3abf=0x169*-0x12+-0x1386+0x2ce8){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x4f7dba['length']===-0x223*-0x7+-0x23a7+0x14b6?(this['x']=_0x4f7dba[-0x296+-0x18cf+0x1b65*0x1],this['y']=_0x4f7dba[0x49d*-0x1+-0x2303+0x5*0x7ed],this['z']=_0x4f7dba[0x212*-0x6+-0x24af+-0x21*-0x17d],this['w']=_0x4f7dba[0x1a33*0x1+0x2*-0x519+-0xffe]):(this['x']=_0x4f7dba,this['y']=_0xa7b542,this['z']=_0x398547,this['w']=_0x1c3abf);}['add'](_0x6996fb){return this['x']+=_0x6996fb['x'],this['y']+=_0x6996fb['y'],this['z']+=_0x6996fb['z'],this['w']+=_0x6996fb['w'],this;}['add2'](_0x3829d0,_0x4dcb9f){return this['x']=_0x3829d0['x']+_0x4dcb9f['x'],this['y']=_0x3829d0['y']+_0x4dcb9f['y'],this['z']=_0x3829d0['z']+_0x4dcb9f['z'],this['w']=_0x3829d0['w']+_0x4dcb9f['w'],this;}['addScalar'](_0x39ffd6){return this['x']+=_0x39ffd6,this['y']+=_0x39ffd6,this['z']+=_0x39ffd6,this['w']+=_0x39ffd6,this;}['addScaled'](_0x262b68,_0x30aa1c){return this['x']+=_0x262b68['x']*_0x30aa1c,this['y']+=_0x262b68['y']*_0x30aa1c,this['z']+=_0x262b68['z']*_0x30aa1c,this['w']+=_0x262b68['w']*_0x30aa1c,this;}['clone'](){const _0x3db0f0=this['constructo'+'r'];return new _0x3db0f0(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x53ce53){return this['x']=_0x53ce53['x'],this['y']=_0x53ce53['y'],this['z']=_0x53ce53['z'],this['w']=_0x53ce53['w'],this;}['div'](_0x3bb0fe){return this['x']/=_0x3bb0fe['x'],this['y']/=_0x3bb0fe['y'],this['z']/=_0x3bb0fe['z'],this['w']/=_0x3bb0fe['w'],this;}['div2'](_0x4f722f,_0x53920c){return this['x']=_0x4f722f['x']/_0x53920c['x'],this['y']=_0x4f722f['y']/_0x53920c['y'],this['z']=_0x4f722f['z']/_0x53920c['z'],this['w']=_0x4f722f['w']/_0x53920c['w'],this;}['divScalar'](_0x37fb1d){return this['x']/=_0x37fb1d,this['y']/=_0x37fb1d,this['z']/=_0x37fb1d,this['w']/=_0x37fb1d,this;}['dot'](_0x463a0b){return this['x']*_0x463a0b['x']+this['y']*_0x463a0b['y']+this['z']*_0x463a0b['z']+this['w']*_0x463a0b['w'];}['equals'](_0x32110f){return this['x']===_0x32110f['x']&&this['y']===_0x32110f['y']&&this['z']===_0x32110f['z']&&this['w']===_0x32110f['w'];}['equalsAppr'+'ox'](_0x366f19,_0x1fdd88=0x1*0x2433+-0x153*-0x13+-0x3d5c+0.000001){return Math['abs'](this['x']-_0x366f19['x'])<_0x1fdd88&&Math['abs'](this['y']-_0x366f19['y'])<_0x1fdd88&&Math['abs'](this['z']-_0x366f19['z'])<_0x1fdd88&&Math['abs'](this['w']-_0x366f19['w'])<_0x1fdd88;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x5b8539,_0x3c0e93,_0x2e14ab){return this['x']=_0x5b8539['x']+_0x2e14ab*(_0x3c0e93['x']-_0x5b8539['x']),this['y']=_0x5b8539['y']+_0x2e14ab*(_0x3c0e93['y']-_0x5b8539['y']),this['z']=_0x5b8539['z']+_0x2e14ab*(_0x3c0e93['z']-_0x5b8539['z']),this['w']=_0x5b8539['w']+_0x2e14ab*(_0x3c0e93['w']-_0x5b8539['w']),this;}['mul'](_0x58f961){return this['x']*=_0x58f961['x'],this['y']*=_0x58f961['y'],this['z']*=_0x58f961['z'],this['w']*=_0x58f961['w'],this;}['mul2'](_0x1cf8c5,_0x25bc66){return this['x']=_0x1cf8c5['x']*_0x25bc66['x'],this['y']=_0x1cf8c5['y']*_0x25bc66['y'],this['z']=_0x1cf8c5['z']*_0x25bc66['z'],this['w']=_0x1cf8c5['w']*_0x25bc66['w'],this;}['mulScalar'](_0x4c0cb9){return this['x']*=_0x4c0cb9,this['y']*=_0x4c0cb9,this['z']*=_0x4c0cb9,this['w']*=_0x4c0cb9,this;}['normalize'](_0x507127=this){const _0x571909=_0x507127['x']*_0x507127['x']+_0x507127['y']*_0x507127['y']+_0x507127['z']*_0x507127['z']+_0x507127['w']*_0x507127['w'];if(_0x571909>0x7da+0xa*0x6b+0x1*-0xc08){const _0x3dc6c9=(0x5*0x611+-0x6f7*-0x4+-0x428*0xe)/Math['sqrt'](_0x571909);this['x']=_0x507127['x']*_0x3dc6c9,this['y']=_0x507127['y']*_0x3dc6c9,this['z']=_0x507127['z']*_0x3dc6c9,this['w']=_0x507127['w']*_0x3dc6c9;}return this;}['floor'](_0xb9fea1=this){return this['x']=Math['floor'](_0xb9fea1['x']),this['y']=Math['floor'](_0xb9fea1['y']),this['z']=Math['floor'](_0xb9fea1['z']),this['w']=Math['floor'](_0xb9fea1['w']),this;}['ceil'](_0x198bf7=this){return this['x']=Math['ceil'](_0x198bf7['x']),this['y']=Math['ceil'](_0x198bf7['y']),this['z']=Math['ceil'](_0x198bf7['z']),this['w']=Math['ceil'](_0x198bf7['w']),this;}['round'](_0x505659=this){return this['x']=Math['round'](_0x505659['x']),this['y']=Math['round'](_0x505659['y']),this['z']=Math['round'](_0x505659['z']),this['w']=Math['round'](_0x505659['w']),this;}['min'](_0x3ee3cf){return _0x3ee3cf['x']<this['x']&&(this['x']=_0x3ee3cf['x']),_0x3ee3cf['y']<this['y']&&(this['y']=_0x3ee3cf['y']),_0x3ee3cf['z']<this['z']&&(this['z']=_0x3ee3cf['z']),_0x3ee3cf['w']<this['w']&&(this['w']=_0x3ee3cf['w']),this;}['max'](_0x47bfd2){return _0x47bfd2['x']>this['x']&&(this['x']=_0x47bfd2['x']),_0x47bfd2['y']>this['y']&&(this['y']=_0x47bfd2['y']),_0x47bfd2['z']>this['z']&&(this['z']=_0x47bfd2['z']),_0x47bfd2['w']>this['w']&&(this['w']=_0x47bfd2['w']),this;}['set'](_0x486bcb,_0x1c5401,_0x5cf9a5,_0x140024){return this['x']=_0x486bcb,this['y']=_0x1c5401,this['z']=_0x5cf9a5,this['w']=_0x140024,this;}['sub'](_0x1249b9){return this['x']-=_0x1249b9['x'],this['y']-=_0x1249b9['y'],this['z']-=_0x1249b9['z'],this['w']-=_0x1249b9['w'],this;}['sub2'](_0x24a793,_0x1e5e6e){return this['x']=_0x24a793['x']-_0x1e5e6e['x'],this['y']=_0x24a793['y']-_0x1e5e6e['y'],this['z']=_0x24a793['z']-_0x1e5e6e['z'],this['w']=_0x24a793['w']-_0x1e5e6e['w'],this;}['subScalar'](_0x2d52ef){return this['x']-=_0x2d52ef,this['y']-=_0x2d52ef,this['z']-=_0x2d52ef,this['w']-=_0x2d52ef,this;}['fromArray'](_0x447596,_0x35bd76=-0x1abf+0x7c6+0x12f9){return this['x']=_0x447596[_0x35bd76]??this['x'],this['y']=_0x447596[_0x35bd76+(-0x451+-0xbf*-0x2+0x2d4)]??this['y'],this['z']=_0x447596[_0x35bd76+(-0x1ff5+0x1d2+0x1e25)]??this['z'],this['w']=_0x447596[_0x35bd76+(-0xa8f+0xf*0x1a3+-0xdfb)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x3fd401=[],_0x3fcb5f=-0x43*-0x7+-0x239*0x7+0xdba){return _0x3fd401[_0x3fcb5f]=this['x'],_0x3fd401[_0x3fcb5f+(0x1aff+-0x5*0x9f+-0x17e3)]=this['y'],_0x3fd401[_0x3fcb5f+(-0x17d5*-0x1+-0x722*0x5+0xbd7*0x1)]=this['z'],_0x3fd401[_0x3fcb5f+(-0x493+0xb*-0x136+-0x3*-0x5f8)]=this['w'],_0x3fd401;}};c(Yi,'ZERO',Object['freeze'](new Yi(-0x19c6+0x81f+0x11a7*0x1,-0x1b0e+-0xb5*-0x1d+0x3*0x22f,-0x935*0x4+0x99d+0x1b37,-0x2a7*0x6+-0xc52*-0x1+0x398))),c(Yi,'HALF',Object['freeze'](new Yi(-0xf73+-0x2623+-0x2d2*-0x13+0.5,0x2c+0x5d0+-0x5fc+0.5,-0x6*-0x62f+-0x5*-0x6cb+-0x4711+0.5,-0xbba+0x1df6+-0x123c+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(0x5d6*-0x4+-0x23*0x92+0x2b4f,-0xb2*-0x1a+-0x17b4+-0xb*-0x83,0x1dbf+-0x7*0x513+-0x1ed*-0x3,-0x20b7+0xabf+0x15f9)));let Q=Yi;const Ua=new $(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(-0x5e3+0x11c9+-0x6*0x1f9)),this['data'][0x11c3+-0x219e+0xfdb]=this['data'][-0x1*-0x23de+-0x1*-0x14df+-0x38b8]=this['data'][0x156d+0x2b*-0x6d+-0x314]=this['data'][0x1350+0x1b5b*0x1+-0x2e9c]=0x630+0x17*0x35+0x2*-0x579;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x55ef6f,_0x41edce,_0x4ad73a,_0x5c4a33,_0x1a5f4c){_0x1a5f4c?(_0x55ef6f['x']=_0x5c4a33*Math['tan'](_0x41edce*Math['PI']/(-0x4*-0x6b2+0x727+-0x2087)),_0x55ef6f['y']=_0x55ef6f['x']/_0x4ad73a):(_0x55ef6f['y']=_0x5c4a33*Math['tan'](_0x41edce*Math['PI']/(0x12bb+0x2*0x4d6+-0x1aff)),_0x55ef6f['x']=_0x55ef6f['y']*_0x4ad73a);}['add2'](_0x1cf1c6,_0x36bde7){const _0x3ea842=_0x1cf1c6['data'],_0x1f36d7=_0x36bde7['data'],_0x22705e=this['data'];return _0x22705e[0x2429*0x1+-0xc*-0x13c+0x1*-0x32f9]=_0x3ea842[-0x929+-0x17f5+0x211e]+_0x1f36d7[-0x1e0f+-0x53b*-0x4+0x923*0x1],_0x22705e[-0xee3*-0x2+-0x11a9+-0xc1c]=_0x3ea842[-0x7c*-0x4+-0x45*0x34+0xc15]+_0x1f36d7[-0x2*0x2dd+0x68f*0x5+0x4*-0x6c4],_0x22705e[0x3*-0xc68+-0x1059+0x3593]=_0x3ea842[-0x4*-0x895+-0x469+0x1f*-0xf7]+_0x1f36d7[-0x22f5+-0x20a+0x2501*0x1],_0x22705e[-0x1b9e+-0x1ae2+0x3683]=_0x3ea842[0x21ae+0x1a17+-0x3bc2]+_0x1f36d7[0xfb*0xb+0xa81*-0x1+0x3*-0x17],_0x22705e[0x99*-0x1d+-0x14*0x6+0x11d1*0x1]=_0x3ea842[-0x16a6+0x690+0x101a]+_0x1f36d7[-0x5d7+0xa7*0x11+-0x53c],_0x22705e[-0x1fc0+0x71e*0x3+0xa6b]=_0x3ea842[0xe20+-0x4*-0x5d7+-0x8b*0x45]+_0x1f36d7[0xb7f+-0x1301+0x29*0x2f],_0x22705e[0x1333+-0x73*0x3+-0x11d4]=_0x3ea842[0x23fc+0x1*-0x1f4b+-0x5*0xef]+_0x1f36d7[-0x26bb+0x27b*-0x8+0x3a99*0x1],_0x22705e[-0xcf8+-0x1719*-0x1+0xa1a*-0x1]=_0x3ea842[-0x15c4+-0x75b+0x1d26]+_0x1f36d7[0x1c7b+-0x1279*-0x1+0x1*-0x2eed],_0x22705e[-0xf*-0x37+-0x2*0x79e+0xc0b]=_0x3ea842[-0x812+-0x2467+0x2c81]+_0x1f36d7[-0x1*-0x976+-0x6c4*-0x3+-0x1dba],_0x22705e[-0x9c6+-0xad5*0x3+0x2a4e]=_0x3ea842[-0x1*0x1462+0x8b*0x29+-0x1d8]+_0x1f36d7[-0x58d*0x5+0x99e+0x1*0x122c],_0x22705e[-0x266*-0xb+-0x15c7+0x7*-0xa7]=_0x3ea842[0x23a4+0x4f*-0x75+0x81]+_0x1f36d7[-0x2*0xad5+-0x20ab+-0x1c1*-0x1f],_0x22705e[0xb8*0x8+-0x36*0x99+-0x1a91*-0x1]=_0x3ea842[0x1948+0xa04+-0x2341]+_0x1f36d7[0x1*0x1e62+0x179e+-0x35f5],_0x22705e[-0x14f2*-0x1+0x266*0xb+-0x2f48*0x1]=_0x3ea842[0x13fa+0xd52+0x214*-0x10]+_0x1f36d7[-0x246c+-0xd1e+0x2*0x18cb],_0x22705e[-0x1a8a+-0x241d+-0x3eb4*-0x1]=_0x3ea842[-0x155*0x7+0x1803+-0xea3]+_0x1f36d7[0xcd4+0x1675*-0x1+0x9ae],_0x22705e[0x409+0x466+-0x861]=_0x3ea842[-0x1d4e+0x2*-0x126+0x1fa8]+_0x1f36d7[-0x2476+-0x13c4+0x3848*0x1],_0x22705e[0x668+0x125e+-0x18b7]=_0x3ea842[0x3ba+-0x2*-0x69e+-0x10e7]+_0x1f36d7[0xea9+0xedf+-0x1d79],this;}['add'](_0x536dc2){return this['add2'](this,_0x536dc2);}['clone'](){const _0x283fe6=this['constructo'+'r'];return new _0x283fe6()['copy'](this);}['copy'](_0x233fba){const _0x2a7811=_0x233fba['data'],_0x2bbf39=this['data'];return _0x2bbf39[-0x187b+-0x9*-0x446+-0xdfb]=_0x2a7811[0x2496*-0x1+-0x19c8+0x3e5e],_0x2bbf39[-0x52e+0x2de+-0x251*-0x1]=_0x2a7811[0x3e*0x25+-0x10d1+-0x3ee*-0x2],_0x2bbf39[-0x103a+-0xd62+-0x1*-0x1d9e]=_0x2a7811[-0xd8*0x2+0x1fad+-0x133*0x19],_0x2bbf39[0xb49+-0x1*0x4b1+-0x5*0x151]=_0x2a7811[0x7df*0x1+-0x1af0+0x1314],_0x2bbf39[0x1a*0xd5+0x1c05+0x31a3*-0x1]=_0x2a7811[-0x913*0x2+0x14ae+-0x284],_0x2bbf39[-0x1*-0x139+-0x1101*0x1+0xfcd]=_0x2a7811[0x199*0x13+-0x1*-0xf5b+-0x2db1],_0x2bbf39[0x28*0x7b+0x219d+-0x34cf]=_0x2a7811[0xdb5+-0x1*0x115f+0x3b0],_0x2bbf39[-0x236*0x2+-0x2*0x619+0x10a5]=_0x2a7811[0x19b4+-0x1797*0x1+0x216*-0x1],_0x2bbf39[-0x44*-0x31+0x4a3*0x1+-0xd*0x15b]=_0x2a7811[-0xf23+-0x1*-0x12fd+0x146*-0x3],_0x2bbf39[0x24ba+-0xbdf+0x12*-0x161]=_0x2a7811[-0x2119+-0x635+0xd1d*0x3],_0x2bbf39[0x19c5+0x169a+0x3055*-0x1]=_0x2a7811[0x19ea+-0x11*0x31+-0x1*0x169f],_0x2bbf39[0x2423+-0xd72+-0x16a6*0x1]=_0x2a7811[-0xa*-0x2ab+0x24b+0x142*-0x17],_0x2bbf39[-0x1543*0x1+0x1*-0x26fd+-0x11*-0x38c]=_0x2a7811[-0xb93*-0x2+0x325*-0x1+-0x13f5*0x1],_0x2bbf39[0x1d*0x155+-0xb5d+-0x1b37]=_0x2a7811[-0x3*-0x16+0xe10+-0xe45],_0x2bbf39[0x1e55+0x1c11+-0x2*0x1d2c]=_0x2a7811[0x1d6f+0x2420+-0x4181],_0x2bbf39[0x75*-0x4a+-0x961+-0x71*-0x62]=_0x2a7811[0x26db+-0x1*-0x763+-0x2e2f],this;}['equals'](_0x39f893){const _0xf801c5=this['data'],_0x990609=_0x39f893['data'];return _0xf801c5[0x281*-0x6+-0x17dd*0x1+-0x5*-0x7c7]===_0x990609[-0x11a0+0x3cf*0x9+-0x15*0xcb]&&_0xf801c5[-0xa43*0x2+0x1*-0x69d+0x9*0x304]===_0x990609[0x22f5+0x1b4f+-0x3e43]&&_0xf801c5[-0x79f*-0x2+0x15*-0x50+-0x8ac]===_0x990609[0x2595+0x222+-0x5f*0x6b]&&_0xf801c5[0x3dd+0x10*-0x1db+0x19d6]===_0x990609[-0x3b8+-0x33e+0x6f9]&&_0xf801c5[-0x1*-0x10eb+0x3b*0x86+-0x2fc9*0x1]===_0x990609[0x11d*0x1+-0x24*-0xc7+-0x5*0x5d1]&&_0xf801c5[0x67*-0x59+0xfc1+-0x1*-0x1413]===_0x990609[-0x1cb0+-0x1dc3+-0x1*-0x3a78]&&_0xf801c5[0x397+0x1*-0x21dd+0x1e4c]===_0x990609[-0xe*-0x3+0x2f*-0xa3+0x1dc9*0x1]&&_0xf801c5[0x1829+0x854+0x103b*-0x2]===_0x990609[-0x1*0x20cf+0x8e7+0x17ef]&&_0xf801c5[0x271*-0x1+-0xd*0x256+0x20d7]===_0x990609[0x1*0xc9d+-0x1ea7+0x1*0x1212]&&_0xf801c5[-0x1*0xb9b+0x3b+0xb69]===_0x990609[0x8d0+-0x175*-0x10+0x109*-0x1f]&&_0xf801c5[-0x25aa+-0x1e87+0x1*0x443b]===_0x990609[-0xfe3+-0x12e9+-0x116b*-0x2]&&_0xf801c5[-0x4b*-0x6b+-0x1a83+0x3*-0x199]===_0x990609[0xb58+0x7a4+-0xd*0x175]&&_0xf801c5[0x17d6+0x1*-0x32+-0x5e6*0x4]===_0x990609[0x23da+-0x1b72+-0x85c]&&_0xf801c5[0xa05+-0x1*-0xd25+-0x171d]===_0x990609[0x6*0x3cf+0x28a+-0x1f3*0xd]&&_0xf801c5[0x2*-0xfab+0x14f8+0xa6c]===_0x990609[0x5*-0x4d9+-0x2a1+0x1aec]&&_0xf801c5[0x5*-0x5c6+-0x5e9+0x22d6]===_0x990609[0x3b2+-0xd3d+0x99a];}['isIdentity'](){const _0x1ce4b8=this['data'];return _0x1ce4b8[0xffd+-0x1*0xd63+-0x29a*0x1]===-0x1553+0xf*-0x13+0x1671*0x1&&_0x1ce4b8[0x86*0x1+-0x1*-0x14a1+0xa93*-0x2]===-0x29f*0xb+0x2b0+-0x1a25*-0x1&&_0x1ce4b8[-0x47*0x36+-0x1*0x2363+0x325f]===-0x86b+-0x1a2a+0x2295&&_0x1ce4b8[0x21ea+0x954+-0x2b3b]===-0x279*0x7+-0x1636+0x2785&&_0x1ce4b8[0x1183+-0x226c+-0x10ed*-0x1]===-0x7fc+0x12c*-0x1a+0x17*0x1ac&&_0x1ce4b8[0x18c9+-0x1a5c+-0x4*-0x66]===-0x101*-0x25+0xb7*-0x1c+0x89*-0x20&&_0x1ce4b8[0x1d*-0x5+0x1*0x1be+-0x127]===0x1*0x4b3+0x1dbd+0x1*-0x2270&&_0x1ce4b8[-0x29b+-0x1435+0x16d7]===0x2306*-0x1+-0x8*0xa3+0xd*0x316&&_0x1ce4b8[0x2*0x29+0x1*-0x17f8+0x17ae]===-0x2079+-0x50+0x20c9&&_0x1ce4b8[0x259c*0x1+0x1bfb+0xaed*-0x6]===0x1*-0x16eb+0x182*-0xb+0x2781&&_0x1ce4b8[0x15be+-0xa26*0x3+0x8be]===-0x724*0x4+0x11*0x159+0x5a8&&_0x1ce4b8[0x1bc5+0x137*0x11+-0x3061]===0x1f9a+-0x1*0xe0f+0x9*-0x1f3&&_0x1ce4b8[0x364+0x1*-0x879+0x521]===-0x981*0x3+-0x1d1+-0x4*-0x795&&_0x1ce4b8[-0x1a*-0xd8+-0x130+-0x14b3]===-0x4a3+-0x1*-0x8e+-0x1*-0x415&&_0x1ce4b8[-0x5*-0x7be+0x10*0xeb+-0x3558]===-0x4*0xc7+0xc95+-0x979&&_0x1ce4b8[0x45f*0x8+-0x1b60+-0x789]===-0x1*-0x1147+0x2e7*0xb+0x9d7*-0x5;}['mul2'](_0x405085,_0x13512b){const _0x4b3d83=_0x405085['data'],_0x36e969=_0x13512b['data'],_0x27c7d9=this['data'],_0x1d05f0=_0x4b3d83[0x124*-0x17+0x2b3*-0xb+0x37ed],_0x447b20=_0x4b3d83[0xc24+0x31f*-0x1+0x482*-0x2],_0x54ef70=_0x4b3d83[-0x1370+0x2579+-0x163*0xd],_0x43f63a=_0x4b3d83[0x6e*-0x45+0xf*0x119+0xd32*0x1],_0x3bcb42=_0x4b3d83[0x2*0x1263+-0x107e+-0x1444],_0x3498eb=_0x4b3d83[-0x5db*-0x3+0x25*0x6+-0x126a],_0x6f03de=_0x4b3d83[0x60+-0xeb5+0xe5b],_0x1280c6=_0x4b3d83[0x47f*0x1+0x1ddf+-0x2257],_0x15b4b6=_0x4b3d83[-0x591+0xbf*0xf+-0x598],_0x5ce947=_0x4b3d83[0x226d+-0x91c*0x1+-0x1948],_0x3922c8=_0x4b3d83[-0x2043+0x4f*-0x5c+0x3cb1*0x1],_0x14b437=_0x4b3d83[-0xba8+0x9be*0x2+0x7c9*-0x1],_0x3b3aaa=_0x4b3d83[0x126*-0xc+-0x1d66+-0x16*-0x1f7],_0x183115=_0x4b3d83[0xe+0x2f6*0x5+-0xecf],_0x22aa38=_0x4b3d83[0x20ff+0xd94+-0x2e85],_0x1587b7=_0x4b3d83[-0x143b*0x1+-0x16b5+0x1*0x2aff];let _0x51df1b,_0x3f01e6,_0xd512f0,_0x542d10;return _0x51df1b=_0x36e969[0x2f*-0x2f+-0x1181+0x1a22],_0x3f01e6=_0x36e969[-0x1418+-0x1*0x599+0x19b2],_0xd512f0=_0x36e969[-0x139*0x2+-0x1199+0x57*0x3b],_0x542d10=_0x36e969[-0x14c1+-0x1746+0x2c0a],_0x27c7d9[-0x1*0x1279+0xfe9*0x1+0x290]=_0x1d05f0*_0x51df1b+_0x3bcb42*_0x3f01e6+_0x15b4b6*_0xd512f0+_0x3b3aaa*_0x542d10,_0x27c7d9[0x126d+0x628*0x5+-0x10c*0x2f]=_0x447b20*_0x51df1b+_0x3498eb*_0x3f01e6+_0x5ce947*_0xd512f0+_0x183115*_0x542d10,_0x27c7d9[-0x1f02+-0x17fa+0x1*0x36fe]=_0x54ef70*_0x51df1b+_0x6f03de*_0x3f01e6+_0x3922c8*_0xd512f0+_0x22aa38*_0x542d10,_0x27c7d9[-0x1*-0x1f21+-0x1*-0x257f+0xf*-0x493]=_0x43f63a*_0x51df1b+_0x1280c6*_0x3f01e6+_0x14b437*_0xd512f0+_0x1587b7*_0x542d10,_0x51df1b=_0x36e969[-0x22f8*-0x1+-0x97d*-0x2+-0x12*0x2ff],_0x3f01e6=_0x36e969[-0x43b+-0x1a94+-0xf6a*-0x2],_0xd512f0=_0x36e969[-0x5*-0x49+-0x53a+0x3d3],_0x542d10=_0x36e969[0x1*0x1b1a+0x11c*0x1+-0x1c2f],_0x27c7d9[-0x4ee+0x116*-0x17+-0x2*-0xef6]=_0x1d05f0*_0x51df1b+_0x3bcb42*_0x3f01e6+_0x15b4b6*_0xd512f0+_0x3b3aaa*_0x542d10,_0x27c7d9[0x9*-0x3c7+-0x15f1+0x23d*0x19]=_0x447b20*_0x51df1b+_0x3498eb*_0x3f01e6+_0x5ce947*_0xd512f0+_0x183115*_0x542d10,_0x27c7d9[-0x1b1c+0x2187*0x1+0x1*-0x665]=_0x54ef70*_0x51df1b+_0x6f03de*_0x3f01e6+_0x3922c8*_0xd512f0+_0x22aa38*_0x542d10,_0x27c7d9[0x6a3+0x1*-0x2389+-0x1*-0x1ced]=_0x43f63a*_0x51df1b+_0x1280c6*_0x3f01e6+_0x14b437*_0xd512f0+_0x1587b7*_0x542d10,_0x51df1b=_0x36e969[-0x2341+-0x1*0x24e1+-0xc07*-0x6],_0x3f01e6=_0x36e969[-0x7fb+-0x4d1*-0x5+-0x3*0x55b],_0xd512f0=_0x36e969[0x238*0xd+0x395*0x1+-0x2063],_0x542d10=_0x36e969[0x19ba+0x10ee+-0x2a9d],_0x27c7d9[0x1e*0x131+0x2e*0xbf+-0xf9*0x48]=_0x1d05f0*_0x51df1b+_0x3bcb42*_0x3f01e6+_0x15b4b6*_0xd512f0+_0x3b3aaa*_0x542d10,_0x27c7d9[-0x1e26+0x1ca*0xa+-0x419*-0x3]=_0x447b20*_0x51df1b+_0x3498eb*_0x3f01e6+_0x5ce947*_0xd512f0+_0x183115*_0x542d10,_0x27c7d9[0x585+-0xe3e*-0x1+-0x13b9]=_0x54ef70*_0x51df1b+_0x6f03de*_0x3f01e6+_0x3922c8*_0xd512f0+_0x22aa38*_0x542d10,_0x27c7d9[0x2435+-0x947+0x1ae3*-0x1]=_0x43f63a*_0x51df1b+_0x1280c6*_0x3f01e6+_0x14b437*_0xd512f0+_0x1587b7*_0x542d10,_0x51df1b=_0x36e969[0x6c3*0x2+-0x1f89+-0x45*-0x43],_0x3f01e6=_0x36e969[0xf9*-0xf+0x14bd*0x1+-0x7*0xdf],_0xd512f0=_0x36e969[0x1*-0x2020+0x149b+0xb93*0x1],_0x542d10=_0x36e969[-0x2*-0x11a7+0x12d4+0x3613*-0x1],_0x27c7d9[-0x3*0x31+0xd25+-0xe5*0xe]=_0x1d05f0*_0x51df1b+_0x3bcb42*_0x3f01e6+_0x15b4b6*_0xd512f0+_0x3b3aaa*_0x542d10,_0x27c7d9[0x89a+-0x1769+-0x76e*-0x2]=_0x447b20*_0x51df1b+_0x3498eb*_0x3f01e6+_0x5ce947*_0xd512f0+_0x183115*_0x542d10,_0x27c7d9[-0x26c6+0x233*-0x1+0x2907*0x1]=_0x54ef70*_0x51df1b+_0x6f03de*_0x3f01e6+_0x3922c8*_0xd512f0+_0x22aa38*_0x542d10,_0x27c7d9[0x1*0x23d3+0x1*-0x26d5+0x311]=_0x43f63a*_0x51df1b+_0x1280c6*_0x3f01e6+_0x14b437*_0xd512f0+_0x1587b7*_0x542d10,this;}['mulAffine2'](_0x5befaa,_0x17eaa0){const _0x5031c4=_0x5befaa['data'],_0x23311d=_0x17eaa0['data'],_0x1be524=this['data'],_0x285d66=_0x5031c4[0x2604+0x1*-0x1481+-0x1*0x1183],_0x542ae5=_0x5031c4[0xcbf*0x1+-0x611*0x5+0xed*0x13],_0x4cc831=_0x5031c4[0xda+0x15e2+0xb5d*-0x2],_0x5cf6d5=_0x5031c4[0x20ca+0xe98*-0x1+-0x166*0xd],_0x519764=_0x5031c4[-0x16da+0x1870+0x191*-0x1],_0x6d2bd3=_0x5031c4[0x2*-0x47f+0x8*-0x45d+0x2bec],_0x2ae308=_0x5031c4[0x3b*0x7+-0x7*-0x445+-0x1f78],_0x4e110f=_0x5031c4[-0x9*0x2db+-0x449+0x1e05],_0x1872da=_0x5031c4[0x6*-0x19b+0x47*0x29+-0x1b3*0x1],_0x3cf516=_0x5031c4[0x2*-0x1297+-0xfe3+0x351d],_0x31bf59=_0x5031c4[-0x36*-0xb5+-0x1025+0x192*-0xe],_0x55a84e=_0x5031c4[-0x205c+-0x2192+-0x67*-0xa4];let _0xc6ce82,_0x3e4acf,_0x30bc2d;return _0xc6ce82=_0x23311d[0x46*0x4f+-0xcb9+-0x8e1],_0x3e4acf=_0x23311d[-0x2502+-0x2*-0x71+0x2421],_0x30bc2d=_0x23311d[-0x1790+0xdcb+0x9c7],_0x1be524[-0x14c2+0x4*0xf2+0x10fa]=_0x285d66*_0xc6ce82+_0x5cf6d5*_0x3e4acf+_0x2ae308*_0x30bc2d,_0x1be524[0x2*0xba1+0xc2c+-0x236d]=_0x542ae5*_0xc6ce82+_0x519764*_0x3e4acf+_0x4e110f*_0x30bc2d,_0x1be524[0x11ff+-0x1021*0x2+0xe45]=_0x4cc831*_0xc6ce82+_0x6d2bd3*_0x3e4acf+_0x1872da*_0x30bc2d,_0x1be524[0xb1*0x28+0x5*-0x709+0x788]=-0x13*0x12e+-0x445*-0x3+0x99b,_0xc6ce82=_0x23311d[-0x3*0x52+0x2319+-0x221f],_0x3e4acf=_0x23311d[0x1*0xc5a+0x55*-0x53+-0x79d*-0x2],_0x30bc2d=_0x23311d[0x971*-0x4+0x9e6*0x3+0x818],_0x1be524[0x2f5*0x4+-0xc5b+0x1*0x8b]=_0x285d66*_0xc6ce82+_0x5cf6d5*_0x3e4acf+_0x2ae308*_0x30bc2d,_0x1be524[0xd*0x59+0xf0c+0x2*-0x9c6]=_0x542ae5*_0xc6ce82+_0x519764*_0x3e4acf+_0x4e110f*_0x30bc2d,_0x1be524[-0x66c*0x6+-0x1b60+0x41ee]=_0x4cc831*_0xc6ce82+_0x6d2bd3*_0x3e4acf+_0x1872da*_0x30bc2d,_0x1be524[-0x9d4+0x1*0x2291+0x18b6*-0x1]=0x16d+-0x1751*-0x1+-0x18be*0x1,_0xc6ce82=_0x23311d[0x134b*-0x1+0x2*0x60d+0x1*0x739],_0x3e4acf=_0x23311d[-0x32e+-0x7f*0x6+0x631],_0x30bc2d=_0x23311d[0x727*0x3+-0x9*0x26d+0x1*0x6a],_0x1be524[0x1*-0x18af+0x185a*0x1+0x5d]=_0x285d66*_0xc6ce82+_0x5cf6d5*_0x3e4acf+_0x2ae308*_0x30bc2d,_0x1be524[0x202d+-0x22*-0x10+-0x2b*0xcc]=_0x542ae5*_0xc6ce82+_0x519764*_0x3e4acf+_0x4e110f*_0x30bc2d,_0x1be524[-0xd09+-0x10bf+-0x2*-0xee9]=_0x4cc831*_0xc6ce82+_0x6d2bd3*_0x3e4acf+_0x1872da*_0x30bc2d,_0x1be524[-0x1b0*-0x7+-0xead+0x2e8]=0x71+-0x260b*-0x1+0x4*-0x99f,_0xc6ce82=_0x23311d[0x145a+0xc2b+-0x2079],_0x3e4acf=_0x23311d[0x4bf+0x295*-0x9+-0x128b*-0x1],_0x30bc2d=_0x23311d[0x24f1+0x245d+-0x4940],_0x1be524[-0x1abd+0x2628+-0xb5f]=_0x285d66*_0xc6ce82+_0x5cf6d5*_0x3e4acf+_0x2ae308*_0x30bc2d+_0x3cf516,_0x1be524[-0x270d+0x1*-0x250d+0x4c27]=_0x542ae5*_0xc6ce82+_0x519764*_0x3e4acf+_0x4e110f*_0x30bc2d+_0x31bf59,_0x1be524[-0x4*-0x24e+0x1a*0xc2+-0xe6f*0x2]=_0x4cc831*_0xc6ce82+_0x6d2bd3*_0x3e4acf+_0x1872da*_0x30bc2d+_0x55a84e,_0x1be524[0x1*0x19ab+0x190a+-0x1953*0x2]=-0x20a0+-0x23*-0x98+0xbd9,this;}['mul'](_0x474845){return this['mul2'](this,_0x474845);}['transformP'+'oint'](_0x13be04,_0x4d8685=new T()){const _0x2d0d65=this['data'],{x:_0x5ba3d5,y:_0x3574cc,z:_0x53da3b}=_0x13be04;return _0x4d8685['x']=_0x5ba3d5*_0x2d0d65[0x374+-0xb8*0x1b+0xff4]+_0x3574cc*_0x2d0d65[0x1e8c+0x11d1+-0x3059]+_0x53da3b*_0x2d0d65[0x17*0x7a+-0x9fc+-0xb*0x16]+_0x2d0d65[0x97d+0x2507+0xb9e*-0x4],_0x4d8685['y']=_0x5ba3d5*_0x2d0d65[-0x640+-0x5c9*-0x1+-0xf*-0x8]+_0x3574cc*_0x2d0d65[-0x1b8a+0xe*-0x14b+0x2da9]+_0x53da3b*_0x2d0d65[0x1ba9+0x623+-0x21c3]+_0x2d0d65[0x269*-0xe+0xf*-0x12f+-0x19c6*-0x2],_0x4d8685['z']=_0x5ba3d5*_0x2d0d65[0x249f+-0x1c53+-0x84a]+_0x3574cc*_0x2d0d65[-0x9db+0x592+0x44f*0x1]+_0x53da3b*_0x2d0d65[0x1af*0xc+-0x5c2+-0xe68]+_0x2d0d65[-0x29*0x3d+-0x8*-0x189+-0x275],_0x4d8685;}['transformV'+'ector'](_0x5778bf,_0x5b4ccd=new T()){const _0x5178df=this['data'],{x:_0x452dbc,y:_0x57d265,z:_0x52594a}=_0x5778bf;return _0x5b4ccd['x']=_0x452dbc*_0x5178df[0x7f*0x37+-0x21f*-0xd+-0x36dc]+_0x57d265*_0x5178df[-0x3*0x495+0x129a+-0xb1*0x7]+_0x52594a*_0x5178df[-0x3a0*0x5+-0x1556+0x5*0x7e6],_0x5b4ccd['y']=_0x452dbc*_0x5178df[-0x428+0x20*0xe0+-0x17d7]+_0x57d265*_0x5178df[0x11*0x76+-0x59a*0x1+0x51*-0x7]+_0x52594a*_0x5178df[-0x1681+0xafd+0xb8d],_0x5b4ccd['z']=_0x452dbc*_0x5178df[0xa5f*0x1+0x3*0x7eb+-0x221e]+_0x57d265*_0x5178df[0x379*-0xb+0x1afb*-0x1+0x282*0x1a]+_0x52594a*_0x5178df[-0x1*-0x2b7+0x6a9+-0x956],_0x5b4ccd;}['transformV'+'ec4'](_0x27faaa,_0x100641=new Q()){const _0x1506d8=this['data'],{x:_0x2d961f,y:_0x17c532,z:_0x53d4cd,w:_0x580b19}=_0x27faaa;return _0x100641['x']=_0x2d961f*_0x1506d8[-0x155+0x1dea+-0x1c95]+_0x17c532*_0x1506d8[-0x2*-0xeb5+-0x6d*0x1d+-0x110d]+_0x53d4cd*_0x1506d8[-0x652+0xb9*0xd+-0x30b]+_0x580b19*_0x1506d8[0xfe*-0x1+-0x1b0f+0x1c19],_0x100641['y']=_0x2d961f*_0x1506d8[0x13*-0x139+-0x17e3+0x2f1f]+_0x17c532*_0x1506d8[-0x4*0x4c+0x1c8b+-0x1b56]+_0x53d4cd*_0x1506d8[0x1e99+0xe*-0x199+-0x832]+_0x580b19*_0x1506d8[0x15b8*0x1+-0xbf+-0x14ec],_0x100641['z']=_0x2d961f*_0x1506d8[-0x3d*-0x5+-0x34d+-0x21e*-0x1]+_0x17c532*_0x1506d8[0x90f+0x1bc5*0x1+-0x24ce]+_0x53d4cd*_0x1506d8[-0x89*0xc+-0x7a9+-0xe1f*-0x1]+_0x580b19*_0x1506d8[-0x26c3+-0xcc+0x1*0x279d],_0x100641['w']=_0x2d961f*_0x1506d8[0x1*-0x188f+0x8c3+-0x39*-0x47]+_0x17c532*_0x1506d8[-0x2*-0xf45+-0x2437+0x5b4]+_0x53d4cd*_0x1506d8[-0x1ee3+-0x1218+0x1*0x3106]+_0x580b19*_0x1506d8[0xc*-0x63+0x192b+-0xa*0x20c],_0x100641;}['setLookAt'](_0x2d68a5,_0x8dc923,_0x28503c){Os['sub2'](_0x2d68a5,_0x8dc923)['normalize'](),Fs['copy'](_0x28503c)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x51a2d0=this['data'];return _0x51a2d0[-0x2*0x764+-0x224f*-0x1+0x1387*-0x1]=us['x'],_0x51a2d0[-0x7e2+-0x70+0x853*0x1]=us['y'],_0x51a2d0[0x76*-0x9+0x905*0x1+-0x4dd]=us['z'],_0x51a2d0[-0xb0a+-0x203c+0x2b49]=0x2516*0x1+0x96f+-0x2e85,_0x51a2d0[-0xfd*0x17+0x1*-0x12b2+0x2971]=Fs['x'],_0x51a2d0[0x1338+-0x19ef+-0x1af*-0x4]=Fs['y'],_0x51a2d0[-0x2d3*-0x9+0x1*0xd92+-0x26f7]=Fs['z'],_0x51a2d0[-0xce4+-0x1*0xebf+0x1baa]=0x2578+0x215*0x6+0x1*-0x31f6,_0x51a2d0[-0x69*0x41+0x3a6*0x2+-0x14b*-0xf]=Os['x'],_0x51a2d0[-0x130a+0x1*0x2119+-0xa*0x167]=Os['y'],_0x51a2d0[0x1f01+-0x2069+0x172]=Os['z'],_0x51a2d0[0x321*-0x3+-0x1*0x12cd+0x1c3b]=-0xf03+0x2d9*0x1+0xc2a,_0x51a2d0[-0x1ecc+0xd1d+0x11bb]=_0x2d68a5['x'],_0x51a2d0[-0x5b3*0x3+-0xb7b+0x1*0x1ca1]=_0x2d68a5['y'],_0x51a2d0[0x3d9*-0xa+-0x3*-0xa63+0x75f]=_0x2d68a5['z'],_0x51a2d0[0xea*-0xa+0xf*0xd+0x870]=-0x2702+-0xdc*-0xf+0x1a1f,this;}['setFrustum'](_0x5cc3fe,_0x53c639,_0x2f5d81,_0x27ab1c,_0x54bb93,_0x93d55a){const _0x5d9a71=(0x6ec+-0x23b9+0x1ccf)*_0x54bb93,_0x1fa21d=_0x53c639-_0x5cc3fe,_0x1d241a=_0x27ab1c-_0x2f5d81,_0x51038d=_0x93d55a-_0x54bb93,_0x472306=this['data'];return _0x472306[0x8c3*0x3+0xbe5+-0x262e]=_0x5d9a71/_0x1fa21d,_0x472306[0x817+0x71*-0x4a+0x1894]=0xd*-0xa1+-0x21df+0x2a0c,_0x472306[-0xac3+0x25*-0xd5+0x24f*0x12]=-0x1a12+-0x1b*-0x89+0xb9f,_0x472306[-0x481+0x180e*0x1+-0x138a]=0x2*-0xf4e+-0x1e2a+0x3cc6,_0x472306[-0x25*0x29+0x91b*-0x1+0xf0c]=0xb*0x166+0x978+-0x18da,_0x472306[-0x80e*-0x4+-0x6a0+0x1*-0x1993]=_0x5d9a71/_0x1d241a,_0x472306[-0xcd7+-0x1281+0x1f5e]=0x3*-0x25b+0xbb8+-0x4a7*0x1,_0x472306[0x7*-0xe5+-0x8c3*-0x1+0x3*-0xd3]=0x1253*0x1+-0x1*0x23ed+0x119a,_0x472306[0x23d0+-0x1e77+-0x551]=(_0x53c639+_0x5cc3fe)/_0x1fa21d,_0x472306[0x9f*0x31+-0x20a4+0x11f*0x2]=(_0x27ab1c+_0x2f5d81)/_0x1d241a,_0x472306[-0x1ab1+-0x9c*-0xd+0xf*0x141]=(-_0x93d55a-_0x54bb93)/_0x51038d,_0x472306[0x3*-0xb5b+-0x72*-0x1d+-0x1532*-0x1]=-(-0x1*0x8+0x219*-0x1+-0xb6*-0x3),_0x472306[0x53*0x13+-0x18d2+0x1*0x12b5]=0x25d*-0xb+-0x8*-0xdd+-0x21f*-0x9,_0x472306[-0x1acb+-0xce7+0x27bf]=-0xc1a+-0x1*0x247f+0x21*0x179,_0x472306[0x1*0x20c+-0x26ee+0x10*0x24f]=-_0x5d9a71*_0x93d55a/_0x51038d,_0x472306[0xa*-0x89+-0x267e+0x2be7]=-0xd4*-0x17+0xac+-0x2*0x9dc,this;}['setPerspec'+'tive'](_0x3f123b,_0x1e5571,_0x430c84,_0x43a72d,_0x9e14c2){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x3f123b,_0x1e5571,_0x430c84,_0x9e14c2),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x430c84,_0x43a72d);}['setOrtho'](_0x3ce90d,_0x2294ac,_0x26fe61,_0x3fe8db,_0xf4ee86,_0x230e13){const _0x5a4c59=this['data'];return _0x5a4c59[0x164*0x11+0x5*-0x2c5+-0x9cb]=(0x1bf*0xb+0x266+-0x3*0x733)/(_0x2294ac-_0x3ce90d),_0x5a4c59[0xe8f+0x23bd+0x19*-0x203]=0x1033+-0x1b9e+-0x1*-0xb6b,_0x5a4c59[-0x9*-0x1f9+-0x2a*-0x3e+-0x7*0x3fd]=0xc03+-0x5b6*0x1+-0x64d,_0x5a4c59[-0x10ea*0x1+-0x643*0x1+0x4*0x5cc]=-0x1*0x7b5+-0x22fc+0x1*0x2ab1,_0x5a4c59[0x2432+-0x1*-0x1a98+-0x3ec6]=0x2582+-0xdc3+-0x17bf*0x1,_0x5a4c59[-0x11e*-0x13+0x1baf+-0x30e4]=(-0x1eb*-0x7+0xddf+-0x1b4a)/(_0x3fe8db-_0x26fe61),_0x5a4c59[0x14*-0xca+0x1a1*0x3+0xaeb]=0x4f7*0x5+-0xd5*0x2e+-0x139*-0xb,_0x5a4c59[-0x1*0x21cc+0xc0+0x2113]=0x3*-0x200+0x1b9a*0x1+-0x159a,_0x5a4c59[-0x16bb+0x2*0x121d+-0x47d*0x3]=0x371+-0x3*0x18d+-0x5*-0x3e,_0x5a4c59[0x20c3+-0x53*-0x72+0x28*-0x1be]=0x1ecb+-0x6d*-0x14+-0x274f,_0x5a4c59[0x1738+-0x7*-0x221+-0x2615]=-(-0x11f2+-0x22*-0xe+-0x406*-0x4)/(_0x230e13-_0xf4ee86),_0x5a4c59[0x1*0x572+0xd*-0x2d+0xe*-0x39]=-0x1a6b*-0x1+0x1c*-0x6f+-0xe47,_0x5a4c59[0x1bcb+0x23e*-0xc+-0xd7*0x1]=-(_0x2294ac+_0x3ce90d)/(_0x2294ac-_0x3ce90d),_0x5a4c59[-0xd41+0x6d4+-0x33d*-0x2]=-(_0x3fe8db+_0x26fe61)/(_0x3fe8db-_0x26fe61),_0x5a4c59[-0x11c*-0x4+-0x407*-0x7+-0x2093]=-(_0x230e13+_0xf4ee86)/(_0x230e13-_0xf4ee86),_0x5a4c59[-0x263a+-0xeb*0xb+-0x1831*-0x2]=0x108a+-0x1fbb+0x799*0x2,this;}['setFromAxi'+'sAngle'](_0x2df097,_0x33ca08){_0x33ca08*=N['DEG_TO_RAD'];const {x:_0x45ff04,y:_0x52553a,z:_0x2c91ee}=_0x2df097,_0x1762a6=Math['cos'](_0x33ca08),_0x3c90b4=Math['sin'](_0x33ca08),_0x17f476=-0xdce+0x1d2d+-0xf5e-_0x1762a6,_0x41436c=_0x17f476*_0x45ff04,_0x7469cf=_0x17f476*_0x52553a,_0x3c7981=this['data'];return _0x3c7981[0x2316+0x2307+-0x3*0x175f]=_0x41436c*_0x45ff04+_0x1762a6,_0x3c7981[0x1*-0x139f+-0x919+-0x9*-0x331]=_0x41436c*_0x52553a+_0x3c90b4*_0x2c91ee,_0x3c7981[-0xf12+-0x22b9+0x31cd]=_0x41436c*_0x2c91ee-_0x3c90b4*_0x52553a,_0x3c7981[0x1*-0x1d1d+-0x7eb+-0x147*-0x1d]=0x1c7c+0xf*0x299+0x4373*-0x1,_0x3c7981[-0x1aed+0xf22+-0x1*-0xbcf]=_0x41436c*_0x52553a-_0x3c90b4*_0x2c91ee,_0x3c7981[0x33a+-0x1139*0x1+0x12b*0xc]=_0x7469cf*_0x52553a+_0x1762a6,_0x3c7981[-0x383+0x4*-0x7+0x3a5]=_0x7469cf*_0x2c91ee+_0x3c90b4*_0x45ff04,_0x3c7981[0xdd*-0x1d+0x1*0x175e+-0x1b2*-0x1]=0x25b5+-0x26fe+0x7*0x2f,_0x3c7981[-0x1*0x1c1d+-0x3d1+0x1ff6]=_0x41436c*_0x2c91ee+_0x3c90b4*_0x52553a,_0x3c7981[-0x10f+0x829*0x1+-0xc9*0x9]=_0x7469cf*_0x2c91ee-_0x45ff04*_0x3c90b4,_0x3c7981[-0xc43+0x1d*0x153+0x1a*-0x101]=_0x17f476*_0x2c91ee*_0x2c91ee+_0x1762a6,_0x3c7981[0x1147+0x13*-0x162+0x90a]=-0x25bd+-0x3*-0xa90+0x60d,_0x3c7981[0x205*0x1+-0x1a6d+0x1874]=0x5*-0x6cd+-0x1ada+0x3cdb,_0x3c7981[0x221d+-0x13e3*0x1+-0xbf*0x13]=0x3*-0x2f5+0xf29+-0x64a,_0x3c7981[-0x2595+0x17*-0x147+-0x2182*-0x2]=0xe7c+0x6*0x626+-0x3360,_0x3c7981[0xf56+0x1fe9+-0x2f30]=0x8a0+0x1*-0x2ba+0x1*-0x5e5,this;}['setTransla'+'te'](_0x27b221,_0x4d1e25,_0x23e903){const _0x4daf1d=this['data'];return _0x4daf1d[-0x26*0x10+0x39*0x25+-0x5dd*0x1]=-0x6b8+-0x1*0xf2b+0x15e4,_0x4daf1d[0xb0c*0x3+-0x1253+-0x18*0x9e]=-0x5*-0x125+-0x830+0x277,_0x4daf1d[0x137f+-0x160c+0x28f]=0x1755+0x50f*0x6+-0x35af,_0x4daf1d[-0x7*-0x57b+-0xe2*0x22+-0x856]=0x2265+-0x1*-0x250c+0x4771*-0x1,_0x4daf1d[-0xf4f*0x2+0x154c*-0x1+-0x30e*-0x11]=-0x111*0xd+0x1c73*-0x1+-0x1*-0x2a50,_0x4daf1d[-0x7b5*-0x3+-0x2658+0xf3e]=0x525+-0x68f+0x16b,_0x4daf1d[-0x2138+-0x1*-0x1637+0x3ad*0x3]=-0x15*-0x23+0xb28+-0xe07*0x1,_0x4daf1d[0xcbf+0xbc*0x29+0x2ad4*-0x1]=-0x17d9+-0x145f+0x2c38,_0x4daf1d[0x8+0x115d*-0x2+0x5*0x6f2]=0x15c7+0x766+-0x1d2d,_0x4daf1d[0x1f70+0x182f+-0xb1e*0x5]=0x18ce+0x1*-0x375+-0x1559,_0x4daf1d[-0xbb*0x1+0x502*0x1+-0x43d]=0x9c2+0x1981*0x1+-0x2342,_0x4daf1d[0xd*0x2a6+-0x1454*-0x1+-0xa1*0x57]=0x2259+0x2133+-0x21*0x20c,_0x4daf1d[-0x161f+-0xad*0xb+-0x1d9a*-0x1]=_0x27b221,_0x4daf1d[-0xf*-0x180+0x2b0+0x1ad*-0xf]=_0x4d1e25,_0x4daf1d[-0x1a6e+0x2613+0x3*-0x3dd]=_0x23e903,_0x4daf1d[-0xe34+0x9*-0x43e+-0xb3*-0x4b]=-0x1*0x19c+-0x1fca+0x1*0x2167,this;}['setScale'](_0x446e09,_0x4c0bab,_0x414a86){const _0x48293a=this['data'];return _0x48293a[0x345*-0x1+-0x9*0x35f+0x219c]=_0x446e09,_0x48293a[0xa40*0x1+-0xf98+-0x25*-0x25]=0x97*-0x17+0xf46+-0x1*0x1b5,_0x48293a[0x3*-0x8d2+0x2*-0xe9e+-0x5*-0xb24]=-0xbad+0x397*0x2+0x47f,_0x48293a[0x2273*0x1+0x75d+-0x105*0x29]=-0x2*-0x613+-0x180b+0xbe5,_0x48293a[-0x4*-0x24b+0x626*-0x3+0x2*0x4a5]=-0x4*0x3e4+0x4*0x52f+-0x1*0x52c,_0x48293a[0x22a4+0x11e8+-0x3487]=_0x4c0bab,_0x48293a[0xd*0x1b7+-0x1*-0x1a99+-0x116*0x2d]=0x45*-0x6+0x38e*0x7+-0x1744,_0x48293a[0x20e8+-0x1*-0x212d+-0x59*0xbe]=0x67*-0x1c+0xc0b*-0x3+-0x44f*-0xb,_0x48293a[-0x1050+0x1d*0x89+-0x1*-0xd3]=-0x5*0x281+-0x33f*-0xb+-0x1730,_0x48293a[-0x189f+-0x12b5*-0x1+0x5f3]=0x21*0x84+0x1b25+-0x2c29,_0x48293a[-0x17b0+0x3*0x81d+-0x9d]=_0x414a86,_0x48293a[-0x15e+-0x1*0xcef+-0x18*-0x99]=0x2*0x2ef+0x7c3+-0xda1*0x1,_0x48293a[-0x1*0x1a01+0x1709+0x304]=-0x1828+-0x1c*-0x6+0x1780,_0x48293a[-0x12ec+-0x203+0x4f*0x44]=-0x2452*-0x1+-0xb4b+-0x95*0x2b,_0x48293a[-0x1*0x10da+-0x2250+0x3338]=0x7a6*-0x4+0x1508+0x990,_0x48293a[-0xa7c*-0x1+-0xa2c+0x5*-0xd]=0x1aa1+0x792+-0x2232,this;}['setViewpor'+'t'](_0x344fd7,_0x220d1a,_0x4de13d,_0x16f9df){const _0x4fa41a=this['data'];return _0x4fa41a[0x82*0x2f+0x679*0x4+-0x31c2]=_0x4de13d*(-0x8bd*0x2+-0x1*-0x7c9+0x9b1+0.5),_0x4fa41a[0x1843+0x1*0xa8f+-0x22d1]=0x462*-0x2+-0x141*0x1b+0x3*0xe35,_0x4fa41a[-0x2*0x283+0x1adc+-0x1*0x15d4]=-0x1*0xd6e+-0x1efd+0x2c6b,_0x4fa41a[-0x6a1+0x247*-0x10+0x2b14]=-0x21b7+0x1816+0x9a1,_0x4fa41a[0xad2+-0x835+-0x299]=-0x2*-0xedb+-0x2638+0x882,_0x4fa41a[-0x19d4+-0x2180+0x3b59]=_0x16f9df*(-0x22*-0x92+0x1d4f+-0x30b3+0.5),_0x4fa41a[0x1e7d+-0x1c99+0x1de*-0x1]=-0x45d*-0x7+0x1*0x233b+-0x41c6,_0x4fa41a[-0x2d2+0xc26+-0x94d]=-0x1ae7*0x1+0x120b+0x8dc,_0x4fa41a[-0x1799*0x1+0x1ea9*0x1+-0x708]=-0xe*0x1e2+0x1*0x1f51+-0x1b*0x2f,_0x4fa41a[0x1*-0x8ef+-0x6*0x89+0xc2e]=-0x1dab+-0x29a+0x2045,_0x4fa41a[-0xbf2+0x7*0x3d1+-0x1*0xebb]=0x4*-0x368+-0x11*0xca+-0x2*-0xd85+0.5,_0x4fa41a[0x1530+0x3ad+0x2c2*-0x9]=-0x2*0x916+0x1*-0x1f73+0x319f,_0x4fa41a[0xdcd*0x2+-0x18e7+-0x2a7]=_0x344fd7+_0x4de13d*(-0x9ad*-0x1+-0x156d+0xbc0+0.5),_0x4fa41a[-0x1e23+0x5*-0x7bb+0x44d7]=_0x220d1a+_0x16f9df*(0x32b*-0xb+0x2*-0x9a9+0x362b+0.5),_0x4fa41a[-0xa*0xc2+0x1*-0x1efd+0x269f]=-0x26e0+0xb2d+0x1bb3+0.5,_0x4fa41a[-0x971*-0x1+-0x10df+0x77d]=0x1226+-0x2294+0x106f,this;}['setReflect'+'ion'](_0x45af48,_0x1fb494){const _0x5031ee=_0x45af48['x'],_0x197934=_0x45af48['y'],_0x52d0f8=_0x45af48['z'],_0x4b2f1b=this['data'];return _0x4b2f1b[-0x1*0x17e2+0x1a21*-0x1+0x3203]=-0x102d+-0x4d*-0x39+0xf7*-0x1-(-0x235b+0x1*0xbbf+-0x179e*-0x1)*_0x5031ee*_0x5031ee,_0x4b2f1b[-0xd*0xb6+0x123*-0x9+0x2*0x9bd]=-(-0x1458+0x623+0xe37*0x1)*_0x5031ee*_0x197934,_0x4b2f1b[-0x1*-0x4e+0xc95+0x44b*-0x3]=-(0x23a4+0x1*-0x2358+0x2*-0x25)*_0x5031ee*_0x52d0f8,_0x4b2f1b[-0xaaa+-0x19f+0xc4c]=-0x2050+-0x1fdc+0x402c,_0x4b2f1b[-0xcf5+0x23b7+0x8e*-0x29]=-(-0xcd3+0x23fb+-0x2*0xb93)*_0x5031ee*_0x197934,_0x4b2f1b[-0xb3e+0x1dd5+-0x2*0x949]=-0x1d57+0x579+0x17df-(-0x264+0xa6*0x2+0x11a)*_0x197934*_0x197934,_0x4b2f1b[0x1*-0x11a7+0x1*-0x593+-0x5d*-0x40]=-(-0x20*-0x55+0x1db0+-0x284e)*_0x197934*_0x52d0f8,_0x4b2f1b[-0x49*-0x59+-0x1*0x14e7+-0x43*0x11]=0x938+-0xa3*-0x3+-0xb21,_0x4b2f1b[-0x423*-0x6+0x86*-0x31+0x1*0xdc]=-(0x9*-0x83+-0x977*-0x1+-0xcf*0x6)*_0x5031ee*_0x52d0f8,_0x4b2f1b[-0x127d+0x1462+-0x1dc]=-(0x2000+-0x1cbd+-0x341)*_0x197934*_0x52d0f8,_0x4b2f1b[-0x2*0x9bc+0x11de*-0x2+0x373e]=-0x8ed+0x1d0a+0x6b4*-0x3-(-0xfcd+0x13f3*0x1+-0x424)*_0x52d0f8*_0x52d0f8,_0x4b2f1b[-0x2*0xbec+0x14c0+-0x1*-0x323]=0x3*-0x484+0x2*-0x45f+0x164a,_0x4b2f1b[0x1f85+-0x3cb*0x1+-0xdd7*0x2]=-(-0x1*0x3b+-0x6*-0x8b+-0x305)*_0x5031ee*_0x1fb494,_0x4b2f1b[0xf*-0x25+0x207*-0xc+-0x1*-0x1a8c]=-(-0x1334+-0x1*-0x1807+0x1*-0x4d1)*_0x197934*_0x1fb494,_0x4b2f1b[-0x1f1*-0x7+0x1*0x14b1+0xd*-0x2a2]=-(-0x151*0x7+-0x26e2+-0x99f*-0x5)*_0x52d0f8*_0x1fb494,_0x4b2f1b[-0xd*0x2c+0x1932+-0x16e7]=0x29*-0xc8+0x21c8+-0x1*0x1bf,this;}['invert'](_0xd04d56=this){const _0x28dce1=_0xd04d56['data'],_0x3daf05=_0x28dce1[0x22d2+0x147*0x17+-0x5f*0xad],_0x42f216=_0x28dce1[0x2*-0xb35+-0xb1a+0x2185],_0x57926f=_0x28dce1[-0x2*-0x1c4+0x2635*0x1+-0x29bb],_0xf03831=_0x28dce1[-0x1c5d+0x199b+-0x1*-0x2c5],_0x17ebbb=_0x28dce1[-0x8d9+0x18c7+-0xfea],_0x20a24c=_0x28dce1[0x3*0x409+-0x1*0x419+-0x1*0x7fd],_0x21f8cc=_0x28dce1[0x3*0xa49+-0x1c5c+-0x279],_0xdc5d0d=_0x28dce1[0xd0f+0x68c+0x1*-0x1394],_0x16e914=_0x28dce1[-0x1dc8+-0x1257+-0x3*-0x100d],_0x1312de=_0x28dce1[-0xb9e+-0x17d*-0x4+0x5b3],_0x5ac353=_0x28dce1[0x1f8f*0x1+0xae5+-0x3d*0xb2],_0x1d3d3d=_0x28dce1[0x3*-0x4eb+-0x12c*0x1d+-0x7*-0x6f8],_0x32dc27=_0x28dce1[0x7ce+-0x1af3+0x1*0x1331],_0x3654c5=_0x28dce1[0x6*-0x13d+-0x233c+0x2ab7],_0x5400e7=_0x28dce1[-0x1ca3*-0x1+-0x238d*-0x1+0x2*-0x2011],_0x2e30fe=_0x28dce1[-0x1885*-0x1+0xeef+-0x2765*0x1],_0x51ca2=_0x3daf05*_0x20a24c-_0x42f216*_0x17ebbb,_0x1914bc=_0x3daf05*_0x21f8cc-_0x57926f*_0x17ebbb,_0x45a3f5=_0x3daf05*_0xdc5d0d-_0xf03831*_0x17ebbb,_0x21c598=_0x42f216*_0x21f8cc-_0x57926f*_0x20a24c,_0x9111e8=_0x42f216*_0xdc5d0d-_0xf03831*_0x20a24c,_0x1ba5e2=_0x57926f*_0xdc5d0d-_0xf03831*_0x21f8cc,_0x20ef6a=_0x16e914*_0x3654c5-_0x1312de*_0x32dc27,_0x1162f5=_0x16e914*_0x5400e7-_0x5ac353*_0x32dc27,_0x1337fe=_0x16e914*_0x2e30fe-_0x1d3d3d*_0x32dc27,_0x36fd15=_0x1312de*_0x5400e7-_0x5ac353*_0x3654c5,_0x5a52b8=_0x1312de*_0x2e30fe-_0x1d3d3d*_0x3654c5,_0x1d37a0=_0x5ac353*_0x2e30fe-_0x1d3d3d*_0x5400e7,_0x148954=_0x51ca2*_0x1d37a0-_0x1914bc*_0x5a52b8+_0x45a3f5*_0x36fd15+_0x21c598*_0x1337fe-_0x9111e8*_0x1162f5+_0x1ba5e2*_0x20ef6a;if(_0x148954===-0x1658+0x1*-0x1b4b+0x31a3)this['setIdentit'+'y']();else{const _0x1e6cea=(0x586+0x2ea+-0x86f*0x1)/_0x148954,_0x435cf1=this['data'];_0x435cf1[0x1*0x228b+-0xc22+-0x1669]=(_0x20a24c*_0x1d37a0-_0x21f8cc*_0x5a52b8+_0xdc5d0d*_0x36fd15)*_0x1e6cea,_0x435cf1[0x231f+0x1535+0x1*-0x3853]=(-_0x42f216*_0x1d37a0+_0x57926f*_0x5a52b8-_0xf03831*_0x36fd15)*_0x1e6cea,_0x435cf1[0x19e3+-0x20fa+-0x1*-0x719]=(_0x3654c5*_0x1ba5e2-_0x5400e7*_0x9111e8+_0x2e30fe*_0x21c598)*_0x1e6cea,_0x435cf1[-0x14bb*0x1+-0x118*0xb+0x20c6]=(-_0x1312de*_0x1ba5e2+_0x5ac353*_0x9111e8-_0x1d3d3d*_0x21c598)*_0x1e6cea,_0x435cf1[0x2125+-0x1fcf+-0x152]=(-_0x17ebbb*_0x1d37a0+_0x21f8cc*_0x1337fe-_0xdc5d0d*_0x1162f5)*_0x1e6cea,_0x435cf1[0x975+0x1*-0x1897+-0x50d*-0x3]=(_0x3daf05*_0x1d37a0-_0x57926f*_0x1337fe+_0xf03831*_0x1162f5)*_0x1e6cea,_0x435cf1[-0x39*-0x47+0x49*0x35+-0x1ee6]=(-_0x32dc27*_0x1ba5e2+_0x5400e7*_0x45a3f5-_0x2e30fe*_0x1914bc)*_0x1e6cea,_0x435cf1[-0x137b*-0x1+0x29b+-0x160f*0x1]=(_0x16e914*_0x1ba5e2-_0x5ac353*_0x45a3f5+_0x1d3d3d*_0x1914bc)*_0x1e6cea,_0x435cf1[0x985*-0x3+-0x2e*0x86+0x34ab]=(_0x17ebbb*_0x5a52b8-_0x20a24c*_0x1337fe+_0xdc5d0d*_0x20ef6a)*_0x1e6cea,_0x435cf1[-0x1*0x12f+0x5*-0xd6+0x566]=(-_0x3daf05*_0x5a52b8+_0x42f216*_0x1337fe-_0xf03831*_0x20ef6a)*_0x1e6cea,_0x435cf1[0x188e+0x11c9*-0x1+-0x6bb]=(_0x32dc27*_0x9111e8-_0x3654c5*_0x45a3f5+_0x2e30fe*_0x51ca2)*_0x1e6cea,_0x435cf1[-0x5*0x517+-0x3*-0x471+0xc2b*0x1]=(-_0x16e914*_0x9111e8+_0x1312de*_0x45a3f5-_0x1d3d3d*_0x51ca2)*_0x1e6cea,_0x435cf1[0x5*-0x5b9+-0x18a1+-0x13*-0x2ce]=(-_0x17ebbb*_0x36fd15+_0x20a24c*_0x1162f5-_0x21f8cc*_0x20ef6a)*_0x1e6cea,_0x435cf1[0xbee*0x1+0x1535+-0x2116]=(_0x3daf05*_0x36fd15-_0x42f216*_0x1162f5+_0x57926f*_0x20ef6a)*_0x1e6cea,_0x435cf1[-0x97*-0x3e+0x1*0x5db+-0x2a5f]=(-_0x32dc27*_0x21c598+_0x3654c5*_0x1914bc-_0x5400e7*_0x51ca2)*_0x1e6cea,_0x435cf1[-0x3*-0x58f+0x70a+0x1*-0x17a8]=(_0x16e914*_0x21c598-_0x1312de*_0x1914bc+_0x5ac353*_0x51ca2)*_0x1e6cea;}return this;}['set'](_0x16b488){const _0x5c8526=this['data'];return _0x5c8526[-0x10*-0x215+0x10*-0x1ab+-0x4*0x1a8]=_0x16b488[0x104d+-0x92f*0x4+-0x146f*-0x1],_0x5c8526[-0x4*-0x891+-0x167c+0x14f*-0x9]=_0x16b488[-0xb+-0x62c*0x3+0x1290],_0x5c8526[0x35c*0x5+-0x1e2c+0xd62]=_0x16b488[0x1*0x76c+0x2*0xd35+0x1*-0x21d4],_0x5c8526[0x1da7+-0x59*-0x2c+0x10*-0x2cf]=_0x16b488[0x5*0x53f+0x1*-0x126a+-0x7ce],_0x5c8526[-0x1e3+0x1*0x18c1+-0x16da]=_0x16b488[0x1*-0x1b11+0xe*-0x23e+-0x1*-0x3a79],_0x5c8526[-0x7f4+0x1*0x1afa+0x7*-0x2b7]=_0x16b488[0x2095+0x1*-0x1b26+-0x56a],_0x5c8526[0x1*-0x29e+0x2*0xf77+-0x3*0x96e]=_0x16b488[-0x537+-0x1eae+0x23eb*0x1],_0x5c8526[-0x2*0xf2b+0x5*-0x4e3+0x54*0xa7]=_0x16b488[0x1ad2+-0xf1*0x1+-0x19da],_0x5c8526[0xade*0x2+-0x63*0x49+0x22d*0x3]=_0x16b488[0x39*0x7a+0x1113+-0x1*0x2c35],_0x5c8526[-0x1*0xcf1+-0x4e2+0xfe*0x12]=_0x16b488[0x1*0x1601+-0x8*0x2b3+0x6*-0x10],_0x5c8526[-0x1*-0x5b1+0x1b*-0x71+0x644]=_0x16b488[-0x1*0x6d9+-0x241e+0x2b01],_0x5c8526[0x98d*0x3+0x147b*0x1+-0x47*0xb1]=_0x16b488[-0x106a*0x2+-0x2179+0x4258],_0x5c8526[0x86e+-0x17eb+-0x1*-0xf89]=_0x16b488[-0xd65+-0xf3b+0x1cac],_0x5c8526[-0x1dc9+0x11ca+0xc0c]=_0x16b488[-0x37f*0x1+0x164d+-0x12c1],_0x5c8526[-0x5*0x2ec+-0xba*0x13+0x1c78]=_0x16b488[0x1*0xb89+-0x8*0x3cb+0xb*0x1b7],_0x5c8526[-0x2*-0x15b+0xa7a+-0xd21*0x1]=_0x16b488[0xf89+-0x267f+0x53*0x47],this;}['setIdentit'+'y'](){const _0x2f6545=this['data'];return _0x2f6545[-0x1*0x189+-0x16*0xe8+-0x1579*-0x1]=-0xbcd+-0x3a*-0x3a+-0x6*0x39,_0x2f6545[-0x2be+0xa4e*0x3+-0x1c2b]=-0x1def+-0x1*-0x295+0x1b5a,_0x2f6545[-0x1*-0x1e7f+0x2*-0x797+-0xf4f]=0xb66*0x1+0x14f0+-0x2*0x102b,_0x2f6545[-0x122+-0x269b*0x1+0x27c0]=-0x7*0x3cb+-0x811*-0x4+-0x1*0x5b7,_0x2f6545[-0xfde+0x2136+0x8aa*-0x2]=-0x4*0x4f1+-0x3*0x1bb+0x18f5,_0x2f6545[-0x1376+0x6d3*0x1+0x5a*0x24]=-0x1*0x78+-0x2e6+0x35f,_0x2f6545[-0x179b*0x1+-0x32d*0xa+0x3763]=-0x26*-0x105+-0x17aa*-0x1+-0x7cd*0x8,_0x2f6545[0x77d+-0x11*-0x106+0x2*-0xc6e]=0x230c+-0x1*0xcd1+-0x163b,_0x2f6545[-0x499+-0x1a9f+0x1f40]=0xee2+-0x13cb+0x4e9,_0x2f6545[-0x9*-0x31+-0xa68+0x8b8]=-0x1daa+-0x1119+0x1*0x2ec3,_0x2f6545[-0x399*0x3+-0x1*-0xdd3+0x2*-0x17f]=-0x997+0x17c5+0xbf*-0x13,_0x2f6545[0x8*-0x2f9+0x1fe7+0x4*-0x205]=-0x2fc*0xd+-0xb3*0x37+0x4d41,_0x2f6545[-0x23c2+0x1345+-0x3*-0x583]=-0x270d+-0xb*-0x37d+0x1*0xae,_0x2f6545[-0x728+0x7*-0x43f+-0x3a*-0xa3]=0x2*-0xb7+-0x7*0x64+-0x2*-0x215,_0x2f6545[-0x19c3+0x1*0x142b+0xf1*0x6]=-0x1269*-0x1+0xd7c+0x17*-0x163,_0x2f6545[0x2245*-0x1+-0x1ba8+-0x2*-0x1efe]=0x22a*-0x6+-0x1*0xac1+-0x6*-0x3f5,this;}['setTRS'](_0x57bbb3,_0x1536bb,_0x2068c9){const _0x1452e1=_0x1536bb['x'],_0x4d126e=_0x1536bb['y'],_0x24840d=_0x1536bb['z'],_0x29b9f4=_0x1536bb['w'],_0x288865=_0x2068c9['x'],_0x360b21=_0x2068c9['y'],_0x348d1d=_0x2068c9['z'],_0x4b9932=_0x1452e1+_0x1452e1,_0x79b71=_0x4d126e+_0x4d126e,_0x20b289=_0x24840d+_0x24840d,_0x2c54b8=_0x1452e1*_0x4b9932,_0x2ecb76=_0x1452e1*_0x79b71,_0xf2a144=_0x1452e1*_0x20b289,_0x5f3e21=_0x4d126e*_0x79b71,_0x3023a7=_0x4d126e*_0x20b289,_0xc2981b=_0x24840d*_0x20b289,_0x3813d3=_0x29b9f4*_0x4b9932,_0x1aca13=_0x29b9f4*_0x79b71,_0x321dc7=_0x29b9f4*_0x20b289,_0x4d670a=this['data'];return _0x4d670a[-0x2e6*0x3+0x2123+-0x1871*0x1]=(-0xe0*-0x1d+0x1*0x6a1+-0x2000*0x1-(_0x5f3e21+_0xc2981b))*_0x288865,_0x4d670a[-0x39*-0xa1+0xf29+-0x3301]=(_0x2ecb76+_0x321dc7)*_0x288865,_0x4d670a[0x1196*-0x2+-0x448+0x2*0x13bb]=(_0xf2a144-_0x1aca13)*_0x288865,_0x4d670a[0x11c6+0x13df+-0x2*0x12d1]=0x1042+-0x47*0x35+-0x18f,_0x4d670a[-0xad6+-0x15f4+0x20ce]=(_0x2ecb76-_0x321dc7)*_0x360b21,_0x4d670a[0x1f75*0x1+0x15b3+-0x3523*0x1]=(-0x1b7e+-0xb*-0x387+-0xb4e-(_0x2c54b8+_0xc2981b))*_0x360b21,_0x4d670a[-0x227b+0x2203*0x1+0x7e]=(_0x3023a7+_0x3813d3)*_0x360b21,_0x4d670a[0x138c+0x1*-0x1e0d+0x151*0x8]=0x7*0x29f+0x3b*-0x7f+0x4*0x2bb,_0x4d670a[-0x1c14+0x4b*-0x74+-0x8*-0x7c3]=(_0xf2a144+_0x1aca13)*_0x348d1d,_0x4d670a[0x1b06+-0x7a3+-0x2*0x9ad]=(_0x3023a7-_0x3813d3)*_0x348d1d,_0x4d670a[-0x12dd+0xb*-0x23b+0x2b70]=(0x1bd1+-0x2*-0xf13+-0x39f6-(_0x2c54b8+_0x5f3e21))*_0x348d1d,_0x4d670a[-0x185+-0x1*0xd3c+-0x766*-0x2]=-0x150c+0x1a06+-0x2*0x27d,_0x4d670a[0x3*0x742+0x2159+0x17*-0x265]=_0x57bbb3['x'],_0x4d670a[0xd*-0x2e9+0xd0*-0x9+-0x2*-0x1699]=_0x57bbb3['y'],_0x4d670a[0x13a2+0xca*-0x20+0x5ac]=_0x57bbb3['z'],_0x4d670a[-0x17b*-0x10+-0x1ade+-0x1*-0x33d]=0x1e97*-0x1+0x36*-0x59+0xb2*0x47,this;}['transpose'](_0x54ae30=this){const _0x4b3044=_0x54ae30['data'],_0x2b22b8=this['data'];if(_0x4b3044===_0x2b22b8){let _0x279766;_0x279766=_0x4b3044[0x190c*0x1+0x1cf2+-0x35fd],_0x2b22b8[-0x183d+0x101*0x1+-0x3*-0x7bf]=_0x4b3044[-0x25ef+0x2*-0x63c+0x1*0x326b],_0x2b22b8[0xed*0x22+0xbf*0x23+-0x3993]=_0x279766,_0x279766=_0x4b3044[0x1*-0x2141+-0x5*0x4c7+0x3926],_0x2b22b8[-0x3*-0x101+0x1*-0x65f+0x35e]=_0x4b3044[-0x2642*-0x1+0x267+0xd8b*-0x3],_0x2b22b8[0x1073+-0x1d5*0x1+0x2*-0x74b]=_0x279766,_0x279766=_0x4b3044[0xbbe+0x2*-0x709+0x257],_0x2b22b8[-0x1468+-0x1da9*0x1+-0x3214*-0x1]=_0x4b3044[-0x1706+-0x829*0x1+0xd*0x267],_0x2b22b8[-0x7d*0xe+0x24a1+-0x1dbf*0x1]=_0x279766,_0x279766=_0x4b3044[-0xb*0x7b+-0x9d4+0xf23],_0x2b22b8[0x16*0x10f+0x1*-0x2523+-0x43*-0x35]=_0x4b3044[0x89d+-0x913*0x3+0x12a5],_0x2b22b8[-0x1*-0x926+-0x1889+0xf6c]=_0x279766,_0x279766=_0x4b3044[-0x1*0x1569+0x955+0x409*0x3],_0x2b22b8[0x1d61+-0x11e3+-0xb77]=_0x4b3044[-0x3*0x63d+0x1*0x260f+0xb*-0x1c1],_0x2b22b8[-0x24bc+0x1915*0x1+-0x1*-0xbb4]=_0x279766,_0x279766=_0x4b3044[0x1f6d+0x1*0x641+-0xeb*0x29],_0x2b22b8[0x1f08+-0x1*0x7db+-0x1722]=_0x4b3044[0x733+0xbd0+-0x12f5],_0x2b22b8[-0x3fb+-0x16f*-0x1+0x29a]=_0x279766;}else _0x2b22b8[0x1*-0xf65+-0x1af*-0xd+-0x2*0x33f]=_0x4b3044[0xc92+-0x9ef*0x1+-0x2a3],_0x2b22b8[0xc98+0x2*-0x1d+-0xc5d]=_0x4b3044[0x786+0x844*-0x3+0x114a],_0x2b22b8[0x1*0xb6a+0x11*-0x26+-0x8e2]=_0x4b3044[-0xc41+0x18c+0xabd],_0x2b22b8[-0xf*0x17+-0x15b8+-0xe*-0x1a6]=_0x4b3044[-0x1*-0x714+0x930+-0x1038],_0x2b22b8[-0x1*-0xee5+0x3*0x335+-0x1880]=_0x4b3044[0x23b9+0x1b4d*-0x1+-0x86b],_0x2b22b8[0x1*-0x16f1+-0x1d09*0x1+0x33ff]=_0x4b3044[0x287*-0xd+-0x1a3+0x2283],_0x2b22b8[0x1994+0x36a*0xb+-0x3f1c]=_0x4b3044[0x14d5+0x7d1*-0x1+-0xcfb],_0x2b22b8[-0x1*0xa80+0xc1*-0xd+0x1454]=_0x4b3044[0x5*0x727+-0x180e+-0xba8],_0x2b22b8[-0x10b*-0x2+0x3*0x9c5+-0x1f5d]=_0x4b3044[-0x26af+0x1364+0x134d],_0x2b22b8[-0xf86+-0x1d+0xfac]=_0x4b3044[-0x1da6+0x1550+0x85c],_0x2b22b8[0x19ac+-0xba3+-0x1*0xdff]=_0x4b3044[0x1d66+0xf41+0x8d*-0x51],_0x2b22b8[-0x2663+0x1*0x7eb+0x1*0x1e83]=_0x4b3044[0x1*-0x229f+-0xe0*-0x13+0x120d*0x1],_0x2b22b8[-0xf2a+-0x226e+0x31a4]=_0x4b3044[0x22*0xdd+0xea4*0x1+0x51*-0x8b],_0x2b22b8[0xd4e+0x1072+-0x1db3*0x1]=_0x4b3044[-0x1b93+-0x1846+0x33e0],_0x2b22b8[-0x1bc6+0x97*-0x15+0x2837]=_0x4b3044[-0x1df6+0x2*-0x101+0x2003*0x1],_0x2b22b8[0x1ce*-0x7+0x14fd+-0x84c]=_0x4b3044[-0xf5c*0x1+0xc34+-0x337*-0x1];return this;}['getTransla'+'tion'](_0x507b23=new T()){return _0x507b23['set'](this['data'][-0x4bc*-0x6+0xc*0x5d+0x1*-0x20b8],this['data'][0x8b3+-0xaa+-0x7fc],this['data'][0x236a+0x2*0x2d1+-0x28fe]);}['getX'](_0x3ffdbf=new T()){return _0x3ffdbf['set'](this['data'][0x7*-0x373+0x1582+0x3*0xe1],this['data'][0x1*0x124f+0x15d7+-0x2825],this['data'][0x3*-0x81f+0x942+0x1*0xf1d]);}['getY'](_0x42d150=new T()){return _0x42d150['set'](this['data'][-0x17*-0x1a3+-0x108c+0x1515*-0x1],this['data'][-0x21b1+-0x2*0x9d+0x22f0],this['data'][-0xa92*0x1+-0x1362+-0x9fe*-0x3]);}['getZ'](_0xb4b7f0=new T()){return _0xb4b7f0['set'](this['data'][0x1c2f+-0xa8c+-0x119b],this['data'][0x1ef8+0x4*-0x893+0x35d],this['data'][-0x269e+0x1*0x1431+0x1277]);}['getScale'](_0x5110d8=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x5110d8['set'](us['length'](),Fs['length'](),Os['length']()),_0x5110d8;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<0x133*0x18+0x2*0x41c+-0x940*0x4?-(0x5*-0x2e3+0x3c*0x89+0x2*-0x8d6):-0xe65+-0x1900+0x2766;}['setFromEul'+'erAngles'](_0xa932f2,_0x108aa7,_0x37a118){_0xa932f2*=N['DEG_TO_RAD'],_0x108aa7*=N['DEG_TO_RAD'],_0x37a118*=N['DEG_TO_RAD'];const _0x225ff1=Math['sin'](-_0xa932f2),_0x5d1e3b=Math['cos'](-_0xa932f2),_0x2a2fc1=Math['sin'](-_0x108aa7),_0x4e8cc3=Math['cos'](-_0x108aa7),_0x2516c1=Math['sin'](-_0x37a118),_0x20c88c=Math['cos'](-_0x37a118),_0xdc7420=this['data'];return _0xdc7420[-0xaaa+0x1519+-0xa6f*0x1]=_0x4e8cc3*_0x20c88c,_0xdc7420[0x7b*-0x29+0x902*0x4+-0x1054]=-_0x4e8cc3*_0x2516c1,_0xdc7420[-0x2dc*-0xb+0x22f5+-0x4267]=_0x2a2fc1,_0xdc7420[0x2091+-0x1e29*-0x1+0x13*-0x34d]=0x22e1*0x1+0x1911+0x2*-0x1df9,_0xdc7420[0x1*-0xf2d+0x3f8+0xb39]=_0x5d1e3b*_0x2516c1+_0x20c88c*_0x225ff1*_0x2a2fc1,_0xdc7420[-0x2*-0x12dc+-0x1*0xde1+-0x17d2*0x1]=_0x5d1e3b*_0x20c88c-_0x225ff1*_0x2a2fc1*_0x2516c1,_0xdc7420[-0x741*0x5+0x23af+-0x1*-0x9c]=-_0x4e8cc3*_0x225ff1,_0xdc7420[-0xbc6+-0x10f2+-0x1cbf*-0x1]=0xd4*0x23+-0x12d7+-0x1*0xa25,_0xdc7420[0x5*-0x63f+-0x17c8+0x3d*0xe7]=_0x225ff1*_0x2516c1-_0x5d1e3b*_0x20c88c*_0x2a2fc1,_0xdc7420[-0x58e+0xfc1+0x515*-0x2]=_0x20c88c*_0x225ff1+_0x5d1e3b*_0x2a2fc1*_0x2516c1,_0xdc7420[0x8d3*-0x2+0x2185*-0x1+0x3335]=_0x5d1e3b*_0x4e8cc3,_0xdc7420[-0x1*0x13b1+0x1107+0x2b5]=-0x2491+-0x5*-0x5c6+0x7b3,_0xdc7420[-0x527+-0x1*0x506+-0xa39*-0x1]=-0x931+0xfe5+-0x6b4,_0xdc7420[0xa5d*0x2+-0x6cc+0x13*-0xbb]=0x6cf+-0x20dd*-0x1+0x2*-0x13d6,_0xdc7420[0x1aff+0x1e3f+-0x3930]=-0x12b0*-0x1+0xd5b*-0x1+-0x69*0xd,_0xdc7420[-0x1*-0xb93+0x1*-0x8d+-0xaf7]=-0x5c2+0x1*0x20d3+0x1b10*-0x1,this;}['getEulerAn'+'gles'](_0x242b73=new T()){this['getScale'](_l);const _0x1c3f7c=_l['x'],_0x345ddc=_l['y'],_0x151e42=_l['z'];if(_0x1c3f7c===0x6a3+-0x741*-0x5+-0x8*0x55d||_0x345ddc===-0x7f*-0x1+-0x1433+0x13b4*0x1||_0x151e42===-0x31b*-0x7+-0x13*0xf1+-0x3da)return _0x242b73['set'](0x1c4b+0x6*-0xf6+-0x1687,-0x1bf4+-0x3*0x371+0x1*0x2647,-0x256+0x25ec+0x38f*-0xa);const _0x138bae=this['data'],_0xdfbf19=Math['asin'](-_0x138bae[-0x18d4+-0x11f8+-0x2ace*-0x1]/_0x1c3f7c),_0x5ca93e=Math['PI']*(0xe60+-0x25d3+0x1773+0.5);let _0xd05f35,_0x1625f6;return _0xdfbf19<_0x5ca93e?_0xdfbf19>-_0x5ca93e?(_0xd05f35=Math['atan2'](_0x138bae[-0x3ac+0x1c06+-0x1854]/_0x345ddc,_0x138bae[-0x21*-0xd+0x169d+0x10*-0x184]/_0x151e42),_0x1625f6=Math['atan2'](_0x138bae[0x3*-0x467+-0xdf*-0x26+-0x13e4]/_0x1c3f7c,_0x138bae[-0x937+-0x4d9*0x1+0x30*0x4b]/_0x1c3f7c)):(_0x1625f6=-0x18a5+0x1e18+-0x573,_0xd05f35=-Math['atan2'](_0x138bae[0x2546+-0x9b*-0x1+-0x167*0x1b]/_0x345ddc,_0x138bae[0xb4a+0x31*0x1+-0xb76]/_0x345ddc)):(_0x1625f6=-0x1cea+0x51+0x1c99,_0xd05f35=Math['atan2'](_0x138bae[-0x1c85+-0x864+0x24ed]/_0x345ddc,_0x138bae[-0x126d*0x1+-0xc*0x4e+0xf6*0x17]/_0x345ddc)),_0x242b73['set'](_0xd05f35,_0xdfbf19,_0x1625f6)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x1877+-0x1daf*0x1+0xa7*0x8,-0x2ce*-0xd+0x147*0x1d+-0x1*0x4981,0x1*-0x200a+-0x1573+0x357d,0x2*-0x2f5+-0x1a94+0x207e,-0x1726+-0x1b*0xac+-0x5*-0x842,0xa8f+0x1*-0x2417+0x1988*0x1,0x2460+-0xccd*-0x1+-0x312d,-0xa*-0x119+0xb62+0x165c*-0x1,0x25aa+-0x243f+-0x16b,-0x21bf*0x1+0x97*-0x25+0x3792,0x12*-0x210+-0x1f3b+0x445b,0x1864+0xf86+0x13f5*-0x2,0x3ad+-0x33*0x25+0x3b2,0xba4+-0x17d3+0xc2f,-0x97+-0xf06+0xf9d,-0x2d1+0x6*-0x42c+0x1bd9])));let q=Ur;const aa=class aa{constructor(_0xee20b5=-0x5e*0x22+0x1493+-0x6d*0x13,_0x5e4efe=-0x1*0x1612+-0x7*-0x101+-0xf0b*-0x1,_0x16c05a=-0x2111+0x7*0x285+0x1*0xf6e,_0x47df2f=-0x74*0x3a+0x2*-0xc3e+-0x29*-0x13d){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0xee20b5['length']===-0x265+-0x6*0xc9+0x71f?(this['x']=_0xee20b5[0x30*0x3+-0x2567+0x24d7],this['y']=_0xee20b5[-0x2225*0x1+-0x1*0x101a+0x10c0*0x3],this['z']=_0xee20b5[0x3f6+0x1024*-0x1+0x68*0x1e],this['w']=_0xee20b5[0x1670+-0x1b8+-0x6e7*0x3]):(this['x']=_0xee20b5,this['y']=_0x5e4efe,this['z']=_0x16c05a,this['w']=_0x47df2f);}['clone'](){const _0x4b8758=this['constructo'+'r'];return new _0x4b8758(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x5b3f0c=this){return this['x']=_0x5b3f0c['x']*-(-0x2280+0x1eb8+-0x13*-0x33),this['y']=_0x5b3f0c['y']*-(0x1bed+-0xc0e+-0xfde),this['z']=_0x5b3f0c['z']*-(0xb4*0x1f+-0x4ba+-0x1*0x1111),this['w']=_0x5b3f0c['w'],this;}['copy'](_0x12a14f){return this['x']=_0x12a14f['x'],this['y']=_0x12a14f['y'],this['z']=_0x12a14f['z'],this['w']=_0x12a14f['w'],this;}['equals'](_0x12eba3){return this['x']===_0x12eba3['x']&&this['y']===_0x12eba3['y']&&this['z']===_0x12eba3['z']&&this['w']===_0x12eba3['w'];}['equalsAppr'+'ox'](_0x5bc824,_0x5a6f48=-0x1884+0x1*0x2665+0x13*-0xbb+0.000001){return Math['abs'](this['x']-_0x5bc824['x'])<_0x5a6f48&&Math['abs'](this['y']-_0x5bc824['y'])<_0x5a6f48&&Math['abs'](this['z']-_0x5bc824['z'])<_0x5a6f48&&Math['abs'](this['w']-_0x5bc824['w'])<_0x5a6f48;}['getAxisAng'+'le'](_0x44779e){let _0x5d0e29=Math['acos'](this['w'])*(-0x1c51+0x1d82+-0x65*0x3);const _0x543126=Math['sin'](_0x5d0e29/(0x1*-0x2138+0x1*-0x2c8+-0x2402*-0x1));return _0x543126!==0x253e+-0xb66+-0xcec*0x2?(_0x44779e['x']=this['x']/_0x543126,_0x44779e['y']=this['y']/_0x543126,_0x44779e['z']=this['z']/_0x543126,(_0x44779e['x']<0x1*-0x1b58+0x1c40+0x3a*-0x4||_0x44779e['y']<-0x5*0x265+-0x2366+-0x1*-0x2f5f||_0x44779e['z']<0x4e8+-0x128e+0x2*0x6d3)&&(_0x44779e['x']*=-(-0x24f1*0x1+0x95+0x245d),_0x44779e['y']*=-(0x655*-0x3+0x25e7+0x1*-0x12e7),_0x44779e['z']*=-(0xe2*-0xc+-0x1*0x150a+-0x1*-0x1fa3),_0x5d0e29*=-(-0x208*-0x1+0x7*0x282+-0x1395))):(_0x44779e['x']=-0x1500+0x3*0x601+0x2fe,_0x44779e['y']=0x682+-0xfd*0x1e+0x1724,_0x44779e['z']=-0x4*-0xd2+-0x119*-0x7+-0xaf7),_0x5d0e29*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x38a46a=new T()){let _0x15e826,_0x5d9e43,_0x46e297;const _0x40a183=this['x'],_0x4dd3a5=this['y'],_0x960bff=this['z'],_0x11832c=this['w'],_0x1e0d39=(0x2222+0x9b5+-0x2bd5)*(_0x11832c*_0x4dd3a5-_0x40a183*_0x960bff);return _0x1e0d39<=-(-0x12cd+-0x27*0x53+-0x1f72*-0x1+0.99999)?(_0x15e826=(-0x11cc+-0x1*-0x2037+0x77*-0x1f)*Math['atan2'](_0x40a183,_0x11832c),_0x5d9e43=-Math['PI']/(-0x11d+0x35*-0x58+0x1357),_0x46e297=-0xe63+0x543+0x920):_0x1e0d39>=0x21cd+-0x21ab+-0x22+0.99999?(_0x15e826=(0x4*0x4ff+0x1017*-0x1+-0x3e3)*Math['atan2'](_0x40a183,_0x11832c),_0x5d9e43=Math['PI']/(0x1cc1+0x7ac*-0x2+-0xd67),_0x46e297=-0x25c6*-0x1+0xe5*-0xe+-0x1940):(_0x15e826=Math['atan2']((-0x673+-0x1811+0x1e86)*(_0x11832c*_0x40a183+_0x4dd3a5*_0x960bff),-0x9*0x22d+-0xce7+0x207d-(0x52*-0x79+-0x2*0xa61+0x1*0x3b86)*(_0x40a183*_0x40a183+_0x4dd3a5*_0x4dd3a5)),_0x5d9e43=Math['asin'](_0x1e0d39),_0x46e297=Math['atan2']((0x6e*-0x3+-0x120f+-0x5*-0x3df)*(_0x11832c*_0x960bff+_0x40a183*_0x4dd3a5),-0x1226+0x2651+-0x2*0xa15-(0x12d+-0xa1f*-0x1+-0xb4a)*(_0x4dd3a5*_0x4dd3a5+_0x960bff*_0x960bff))),_0x38a46a['set'](_0x15e826,_0x5d9e43,_0x46e297)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x4b0a9b=this){return this['conjugate'](_0x4b0a9b)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x159447){const _0x58b324=this['x'],_0x1e8b71=this['y'],_0x4095e7=this['z'],_0x49145c=this['w'],_0x9d9ba9=_0x159447['x'],_0x4cf492=_0x159447['y'],_0x1e080d=_0x159447['z'],_0x5dc3f1=_0x159447['w'];return this['x']=_0x49145c*_0x9d9ba9+_0x58b324*_0x5dc3f1+_0x1e8b71*_0x1e080d-_0x4095e7*_0x4cf492,this['y']=_0x49145c*_0x4cf492+_0x1e8b71*_0x5dc3f1+_0x4095e7*_0x9d9ba9-_0x58b324*_0x1e080d,this['z']=_0x49145c*_0x1e080d+_0x4095e7*_0x5dc3f1+_0x58b324*_0x4cf492-_0x1e8b71*_0x9d9ba9,this['w']=_0x49145c*_0x5dc3f1-_0x58b324*_0x9d9ba9-_0x1e8b71*_0x4cf492-_0x4095e7*_0x1e080d,this;}['mulScalar'](_0x2068bc,_0x4adc2d=this){return this['x']=_0x4adc2d['x']*_0x2068bc,this['y']=_0x4adc2d['y']*_0x2068bc,this['z']=_0x4adc2d['z']*_0x2068bc,this['w']=_0x4adc2d['w']*_0x2068bc,this;}['mul2'](_0x1eda5f,_0x1bf5a2){const _0x4d058d=_0x1eda5f['x'],_0x347f66=_0x1eda5f['y'],_0x2b700f=_0x1eda5f['z'],_0x3e6533=_0x1eda5f['w'],_0x16eeca=_0x1bf5a2['x'],_0xcd1053=_0x1bf5a2['y'],_0x20cdb6=_0x1bf5a2['z'],_0x8175ec=_0x1bf5a2['w'];return this['x']=_0x3e6533*_0x16eeca+_0x4d058d*_0x8175ec+_0x347f66*_0x20cdb6-_0x2b700f*_0xcd1053,this['y']=_0x3e6533*_0xcd1053+_0x347f66*_0x8175ec+_0x2b700f*_0x16eeca-_0x4d058d*_0x20cdb6,this['z']=_0x3e6533*_0x20cdb6+_0x2b700f*_0x8175ec+_0x4d058d*_0xcd1053-_0x347f66*_0x16eeca,this['w']=_0x3e6533*_0x8175ec-_0x4d058d*_0x16eeca-_0x347f66*_0xcd1053-_0x2b700f*_0x20cdb6,this;}['normalize'](_0x1aae22=this){let _0x48d5cc=_0x1aae22['length']();return _0x48d5cc===-0x1645+-0x2*-0x308+0x1035?(this['x']=this['y']=this['z']=0x11cf*0x1+0x880+0x3*-0x8c5,this['w']=0x8cd+-0xe7+-0x7e5):(_0x48d5cc=(-0x4c8+-0xd4a+0x1213)/_0x48d5cc,this['x']=_0x1aae22['x']*_0x48d5cc,this['y']=_0x1aae22['y']*_0x48d5cc,this['z']=_0x1aae22['z']*_0x48d5cc,this['w']=_0x1aae22['w']*_0x48d5cc),this;}['set'](_0x1a44b6,_0x2c4e2e,_0x2ce065,_0x2a5ff6){return this['x']=_0x1a44b6,this['y']=_0x2c4e2e,this['z']=_0x2ce065,this['w']=_0x2a5ff6,this;}['setFromAxi'+'sAngle'](_0x2b8844,_0x3bd41a){_0x3bd41a*=(-0x18df*-0x1+-0x1736+-0x19*0x11+0.5)*N['DEG_TO_RAD'];const _0x459fc2=Math['sin'](_0x3bd41a),_0x357f9f=Math['cos'](_0x3bd41a);return this['x']=_0x459fc2*_0x2b8844['x'],this['y']=_0x459fc2*_0x2b8844['y'],this['z']=_0x459fc2*_0x2b8844['z'],this['w']=_0x357f9f,this;}['setFromEul'+'erAngles'](_0x2a65ee,_0x129002,_0x2dec09){if(_0x2a65ee instanceof T){const _0x5a551c=_0x2a65ee;_0x2a65ee=_0x5a551c['x'],_0x129002=_0x5a551c['y'],_0x2dec09=_0x5a551c['z'];}const _0x3df152=(0x7fd+0x211*0x11+0x158f*-0x2+0.5)*N['DEG_TO_RAD'];_0x2a65ee*=_0x3df152,_0x129002*=_0x3df152,_0x2dec09*=_0x3df152;const _0x5767a4=Math['sin'](_0x2a65ee),_0x16460e=Math['cos'](_0x2a65ee),_0x3268e5=Math['sin'](_0x129002),_0x3fcfd2=Math['cos'](_0x129002),_0x38d943=Math['sin'](_0x2dec09),_0x5581f3=Math['cos'](_0x2dec09);return this['x']=_0x5767a4*_0x3fcfd2*_0x5581f3-_0x16460e*_0x3268e5*_0x38d943,this['y']=_0x16460e*_0x3268e5*_0x5581f3+_0x5767a4*_0x3fcfd2*_0x38d943,this['z']=_0x16460e*_0x3fcfd2*_0x38d943-_0x5767a4*_0x3268e5*_0x5581f3,this['w']=_0x16460e*_0x3fcfd2*_0x5581f3+_0x5767a4*_0x3268e5*_0x38d943,this;}['setFromMat'+'4'](_0x36350f){const _0x3bbc8d=_0x36350f['data'];let _0x17311e=_0x3bbc8d[-0x372+0x1*-0x18f5+0x1c67],_0x485a41=_0x3bbc8d[0x2*-0x77b+-0x1*-0x4e0+0x7*0x171],_0x22780c=_0x3bbc8d[0x1fe0+-0x15b+0x49*-0x6b],_0xfb2d1a=_0x3bbc8d[0x7d7*0x3+-0x5*0x40+-0x1641],_0x5f36c0=_0x3bbc8d[0x1e8a+0x16b5*0x1+0x3*-0x11be],_0x1171a1=_0x3bbc8d[0x18c5*-0x1+-0x718+0x9*0x38b],_0x364344=_0x3bbc8d[0x8c7+-0x5*0x679+0xbcf*0x2],_0x186df7=_0x3bbc8d[-0x7f*0x35+0x2195+-0x741],_0x1dc3f7=_0x3bbc8d[-0x26af+-0x1b*-0xa3+0x1588],_0x5b5de8;return _0x5b5de8=_0x17311e*_0x17311e+_0x485a41*_0x485a41+_0x22780c*_0x22780c,_0x5b5de8===-0x12ff+-0x17*-0x7b+0x7f2?this['set'](0x37a+-0xb18+0x79e,-0x4*-0x97c+-0x6de*0x3+-0x1156,-0x12bf+0xfd3*-0x1+0x2292,0x2de+0x28b*0xb+-0x1ed6*0x1):(_0x5b5de8=(0x155+-0x1c4f+0x1afb)/Math['sqrt'](_0x5b5de8),_0x17311e*=_0x5b5de8,_0x485a41*=_0x5b5de8,_0x22780c*=_0x5b5de8,_0x5b5de8=_0xfb2d1a*_0xfb2d1a+_0x5f36c0*_0x5f36c0+_0x1171a1*_0x1171a1,_0x5b5de8===-0x24cd+-0x73b*-0x3+-0x2*-0x78e?this['set'](0x265d+0x3cf+0x1*-0x2a2c,-0x1*-0x220c+0x9*0x25d+-0x31*0x121,-0x1*-0x2327+-0xcb6*0x3+-0x2fb*-0x1,-0x2*-0x131a+-0x54*0x70+0x35*-0x7):(_0x5b5de8=(-0x7da+-0x1507+0x1ce2)/Math['sqrt'](_0x5b5de8),_0xfb2d1a*=_0x5b5de8,_0x5f36c0*=_0x5b5de8,_0x1171a1*=_0x5b5de8,_0x5b5de8=_0x364344*_0x364344+_0x186df7*_0x186df7+_0x1dc3f7*_0x1dc3f7,_0x5b5de8===0x2*-0x4c4+-0x223a+0x2bc2?this['set'](0x42*0x32+0x111*-0x3+-0x9b1,-0x3a2+0x7*-0x3b3+0x1*0x1d87,-0x100d*-0x1+0x59*-0x13+-0x972,-0x22c8+0x21d6+-0x51*-0x3):(_0x5b5de8=(-0x214*-0xc+-0x27b*-0xb+-0x3438)/Math['sqrt'](_0x5b5de8),_0x364344*=_0x5b5de8,_0x186df7*=_0x5b5de8,_0x1dc3f7*=_0x5b5de8,_0x1dc3f7<-0x1d99+0x12aa+-0x1*-0xaef?_0x17311e>_0x5f36c0?this['set'](0xa*-0x2e3+0x1b72+-0x5*-0x49+_0x17311e-_0x5f36c0-_0x1dc3f7,_0x485a41+_0xfb2d1a,_0x364344+_0x22780c,_0x1171a1-_0x186df7):this['set'](_0x485a41+_0xfb2d1a,-0x3*0xb71+-0x19a9+0x3bfd-_0x17311e+_0x5f36c0-_0x1dc3f7,_0x1171a1+_0x186df7,_0x364344-_0x22780c):_0x17311e<-_0x5f36c0?this['set'](_0x364344+_0x22780c,_0x1171a1+_0x186df7,0x745+-0x8e4+0x1a0-_0x17311e-_0x5f36c0+_0x1dc3f7,_0x485a41-_0xfb2d1a):this['set'](_0x1171a1-_0x186df7,_0x364344-_0x22780c,_0x485a41-_0xfb2d1a,0x1*-0x98b+0x161*0xf+0x1*-0xb23+_0x17311e+_0x5f36c0+_0x1dc3f7),this['mulScalar']((0x1255*0x1+0x1b38+0x16c6*-0x2)/this['length']()))));}['setFromDir'+'ections'](_0x326357,_0x16228b){const _0x5712e4=0x925+0xa2a+-0x134e+_0x326357['dot'](_0x16228b);return _0x5712e4<Number['EPSILON']?Math['abs'](_0x326357['x'])>Math['abs'](_0x326357['y'])?(this['x']=-_0x326357['z'],this['y']=-0xdf*0x2b+0x8fc+0x1c79,this['z']=_0x326357['x'],this['w']=-0x936+-0xb*-0x349+-0x1aed*0x1):(this['x']=-0x1328+0x1ee2+0x2*-0x5dd,this['y']=-_0x326357['z'],this['z']=_0x326357['y'],this['w']=0x20f1+-0x343+-0x1dae):(this['x']=_0x326357['y']*_0x16228b['z']-_0x326357['z']*_0x16228b['y'],this['y']=_0x326357['z']*_0x16228b['x']-_0x326357['x']*_0x16228b['z'],this['z']=_0x326357['x']*_0x16228b['y']-_0x326357['y']*_0x16228b['x'],this['w']=_0x5712e4),this['normalize']();}['slerp'](_0x403cfc,_0x491fa4,_0x588e3f){const _0x55ffb2=_0x403cfc['x'],_0x6e3e9c=_0x403cfc['y'],_0x1d06af=_0x403cfc['z'],_0x228aa7=_0x403cfc['w'];let _0x37afd6=_0x491fa4['x'],_0x17c9ad=_0x491fa4['y'],_0x9d2a90=_0x491fa4['z'],_0x1d4ff8=_0x491fa4['w'],_0x285d2a=_0x228aa7*_0x1d4ff8+_0x55ffb2*_0x37afd6+_0x6e3e9c*_0x17c9ad+_0x1d06af*_0x9d2a90;if(_0x285d2a<0xd83*0x2+-0x10eb+0xa1b*-0x1&&(_0x1d4ff8=-_0x1d4ff8,_0x37afd6=-_0x37afd6,_0x17c9ad=-_0x17c9ad,_0x9d2a90=-_0x9d2a90,_0x285d2a=-_0x285d2a),Math['abs'](_0x285d2a)>=-0x7ed*-0x4+-0xc95+0x1*-0x131e)return this['w']=_0x228aa7,this['x']=_0x55ffb2,this['y']=_0x6e3e9c,this['z']=_0x1d06af,this;const _0x3288c1=Math['acos'](_0x285d2a),_0x367e0a=Math['sqrt'](0x1*0x19ff+-0xffa+0x2*-0x502-_0x285d2a*_0x285d2a);if(Math['abs'](_0x367e0a)<0x16fc*0x1+0xb9*-0xb+-0xf09+0.001)return this['w']=_0x228aa7*(-0x2*-0x107d+-0x1*0x4a3+-0x1c57+0.5)+_0x1d4ff8*(-0x15*-0x119+-0x1491+0xc*-0x35+0.5),this['x']=_0x55ffb2*(0x23ec+0x115*0x8+-0x2c94+0.5)+_0x37afd6*(0x76*-0x49+-0x69e+0x2844+0.5),this['y']=_0x6e3e9c*(-0x13f5+0x117f+0x7*0x5a+0.5)+_0x17c9ad*(0x552*-0x1+-0x184+-0xaf*-0xa+0.5),this['z']=_0x1d06af*(-0x1447+0x257f+-0x1138+0.5)+_0x9d2a90*(0x3*-0xcc+0xad*0x22+-0x55*0x3e+0.5),this;const _0x23c9c2=Math['sin']((-0x2c1+-0xdf*-0x5+-0x199-_0x588e3f)*_0x3288c1)/_0x367e0a,_0x4aaa73=Math['sin'](_0x588e3f*_0x3288c1)/_0x367e0a;return this['w']=_0x228aa7*_0x23c9c2+_0x1d4ff8*_0x4aaa73,this['x']=_0x55ffb2*_0x23c9c2+_0x37afd6*_0x4aaa73,this['y']=_0x6e3e9c*_0x23c9c2+_0x17c9ad*_0x4aaa73,this['z']=_0x1d06af*_0x23c9c2+_0x9d2a90*_0x4aaa73,this;}['transformV'+'ector'](_0x56f01b,_0x23386c=new T()){const _0x4b4ac9=_0x56f01b['x'],_0xe90054=_0x56f01b['y'],_0x563953=_0x56f01b['z'],_0x991bac=this['x'],_0xa14c8c=this['y'],_0x2dc33c=this['z'],_0x5f46e3=this['w'],_0x4e92b9=_0x5f46e3*_0x4b4ac9+_0xa14c8c*_0x563953-_0x2dc33c*_0xe90054,_0x1ae219=_0x5f46e3*_0xe90054+_0x2dc33c*_0x4b4ac9-_0x991bac*_0x563953,_0x38454f=_0x5f46e3*_0x563953+_0x991bac*_0xe90054-_0xa14c8c*_0x4b4ac9,_0x40b8b9=-_0x991bac*_0x4b4ac9-_0xa14c8c*_0xe90054-_0x2dc33c*_0x563953;return _0x23386c['x']=_0x4e92b9*_0x5f46e3+_0x40b8b9*-_0x991bac+_0x1ae219*-_0x2dc33c-_0x38454f*-_0xa14c8c,_0x23386c['y']=_0x1ae219*_0x5f46e3+_0x40b8b9*-_0xa14c8c+_0x38454f*-_0x991bac-_0x4e92b9*-_0x2dc33c,_0x23386c['z']=_0x38454f*_0x5f46e3+_0x40b8b9*-_0x2dc33c+_0x4e92b9*-_0xa14c8c-_0x1ae219*-_0x991bac,_0x23386c;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(0x2239+-0x1*0x176+-0x20c3,0x1f39*0x1+0x1*-0x1709+0x8*-0x106,-0x246*0xd+0x154b+0x843,0x29*0x5d+-0x207e+-0x1*-0x119a))),c(aa,'ZERO',Object['freeze'](new aa(-0x1*0x8c5+-0x120+0x9e5,-0x3c*0xb+-0x14db+0x176f,-0x669+0x26c4*0x1+-0x205b,-0x1579+0x23e2+-0xe69)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x2f06c0,_0x4b5940){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(0xa17+-0x41e+-0x5f9+0.5,-0x9*-0x3ad+-0x521+0xdfa*-0x2+0.5,-0x31*0xa7+-0x1*-0x1ce9+0x30e*0x1+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x2f06c0&&this['center']['copy'](_0x2f06c0),_0x4b5940&&this['halfExtent'+'s']['copy'](_0x4b5940));}['add'](_0x415973){const _0x2e5829=this['center'],_0x507f42=_0x2e5829['x'],_0x424ece=_0x2e5829['y'],_0x172d7b=_0x2e5829['z'],_0xcf037f=this['halfExtent'+'s'],_0x37c828=_0xcf037f['x'],_0x3b8457=_0xcf037f['y'],_0x29310c=_0xcf037f['z'];let _0x463cac=_0x507f42-_0x37c828,_0xb998b3=_0x507f42+_0x37c828,_0x32e05e=_0x424ece-_0x3b8457,_0x2bf43e=_0x424ece+_0x3b8457,_0x47f5f5=_0x172d7b-_0x29310c,_0x305370=_0x172d7b+_0x29310c;const _0x393878=_0x415973['center'],_0x2ed978=_0x393878['x'],_0x5530ea=_0x393878['y'],_0x925b01=_0x393878['z'],_0xcc563f=_0x415973['halfExtent'+'s'],_0x56dfd6=_0xcc563f['x'],_0x165430=_0xcc563f['y'],_0xb77504=_0xcc563f['z'],_0x30f3ee=_0x2ed978-_0x56dfd6,_0x8268b9=_0x2ed978+_0x56dfd6,_0x53582a=_0x5530ea-_0x165430,_0x4021a4=_0x5530ea+_0x165430,_0xd4c32f=_0x925b01-_0xb77504,_0x456817=_0x925b01+_0xb77504;_0x30f3ee<_0x463cac&&(_0x463cac=_0x30f3ee),_0x8268b9>_0xb998b3&&(_0xb998b3=_0x8268b9),_0x53582a<_0x32e05e&&(_0x32e05e=_0x53582a),_0x4021a4>_0x2bf43e&&(_0x2bf43e=_0x4021a4),_0xd4c32f<_0x47f5f5&&(_0x47f5f5=_0xd4c32f),_0x456817>_0x305370&&(_0x305370=_0x456817),_0x2e5829['x']=(_0x463cac+_0xb998b3)*(0x16a3+0x11*-0xb2+-0xad1+0.5),_0x2e5829['y']=(_0x32e05e+_0x2bf43e)*(-0x2f5+-0x8d4+0xbc9+0.5),_0x2e5829['z']=(_0x47f5f5+_0x305370)*(0x37a*0x3+-0x3c+-0xa32+0.5),_0xcf037f['x']=(_0xb998b3-_0x463cac)*(0x7e7+-0x3ca*-0x6+-0x1ea3+0.5),_0xcf037f['y']=(_0x2bf43e-_0x32e05e)*(-0x1fe2+-0x2*-0x161+-0x10*-0x1d2+0.5),_0xcf037f['z']=(_0x305370-_0x47f5f5)*(-0x2*0xe8d+-0x1ee8+0x3c02+0.5);}['copy'](_0x16f7bf){this['center']['copy'](_0x16f7bf['center']),this['halfExtent'+'s']['copy'](_0x16f7bf['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x5aa21d){const _0xcb3eb3=this['getMax'](),_0x448bff=this['getMin'](),_0x9de4b7=_0x5aa21d['getMax'](),_0x20c0e0=_0x5aa21d['getMin']();return _0x448bff['x']<=_0x9de4b7['x']&&_0xcb3eb3['x']>=_0x20c0e0['x']&&_0x448bff['y']<=_0x9de4b7['y']&&_0xcb3eb3['y']>=_0x20c0e0['y']&&_0x448bff['z']<=_0x9de4b7['z']&&_0xcb3eb3['z']>=_0x20c0e0['z'];}['_intersect'+'sRay'](_0x5132f6,_0x3a763f){const _0x479d3e=vn['copy'](this['getMin']())['sub'](_0x5132f6['origin']),_0x2a849d=bn['copy'](this['getMax']())['sub'](_0x5132f6['origin']),_0x48e6db=_0x5132f6['direction'];_0x48e6db['x']===-0x1*0x8bd+-0x249e+0x2ab*0x11?(_0x479d3e['x']=_0x479d3e['x']<0xd*0x159+-0x3*0x6ea+0x339?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2a849d['x']=_0x2a849d['x']<0x6ca+0x2*-0x11ab+0x1c8c?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x479d3e['x']/=_0x48e6db['x'],_0x2a849d['x']/=_0x48e6db['x']),_0x48e6db['y']===0xbdf+-0x15e0+0xa01?(_0x479d3e['y']=_0x479d3e['y']<0x1b9e+-0x869*0x3+-0x263?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2a849d['y']=_0x2a849d['y']<0x2453+-0x10a*0xd+-0x16d1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x479d3e['y']/=_0x48e6db['y'],_0x2a849d['y']/=_0x48e6db['y']),_0x48e6db['z']===-0xa22*0x1+0x1*0x89+0x999?(_0x479d3e['z']=_0x479d3e['z']<0x35*-0x71+-0x3*-0x69b+-0x4*-0xe5?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2a849d['z']=_0x2a849d['z']<0x104b+-0x1748+0x6fd*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x479d3e['z']/=_0x48e6db['z'],_0x2a849d['z']/=_0x48e6db['z']);const _0x415fbe=nm['set'](Math['min'](_0x479d3e['x'],_0x2a849d['x']),Math['min'](_0x479d3e['y'],_0x2a849d['y']),Math['min'](_0x479d3e['z'],_0x2a849d['z'])),_0x344316=am['set'](Math['max'](_0x479d3e['x'],_0x2a849d['x']),Math['max'](_0x479d3e['y'],_0x2a849d['y']),Math['max'](_0x479d3e['z'],_0x2a849d['z'])),_0x20a3dd=Math['min'](Math['min'](_0x344316['x'],_0x344316['y']),_0x344316['z']),_0x121598=Math['max'](Math['max'](_0x415fbe['x'],_0x415fbe['y']),_0x415fbe['z']),_0x3fa849=_0x20a3dd>=_0x121598&&_0x121598>=0x7*-0x385+-0x1c3b+0x34de;return _0x3fa849&&_0x3a763f['copy'](_0x5132f6['direction'])['mulScalar'](_0x121598)['add'](_0x5132f6['origin']),_0x3fa849;}['_fastInter'+'sectsRay'](_0x26ff85){const _0x392cd5=vn,_0x75addf=bn,_0x970b14=nm,_0x1479e6=am,_0x350c2f=vS,_0x39ded1=_0x26ff85['direction'];return _0x392cd5['sub2'](_0x26ff85['origin'],this['center']),_0x1479e6['set'](Math['abs'](_0x392cd5['x']),Math['abs'](_0x392cd5['y']),Math['abs'](_0x392cd5['z'])),_0x970b14['mul2'](_0x392cd5,_0x39ded1),!(_0x1479e6['x']>this['halfExtent'+'s']['x']&&_0x970b14['x']>=0x1*-0x184+-0xd46*-0x1+-0xbc2*0x1||_0x1479e6['y']>this['halfExtent'+'s']['y']&&_0x970b14['y']>=-0x1aea+-0x413*-0x3+-0xeb1*-0x1||_0x1479e6['z']>this['halfExtent'+'s']['z']&&_0x970b14['z']>=-0xbb6+-0x121*-0x1+-0x2b*-0x3f||(_0x350c2f['set'](Math['abs'](_0x39ded1['x']),Math['abs'](_0x39ded1['y']),Math['abs'](_0x39ded1['z'])),_0x75addf['cross'](_0x39ded1,_0x392cd5),_0x75addf['set'](Math['abs'](_0x75addf['x']),Math['abs'](_0x75addf['y']),Math['abs'](_0x75addf['z'])),_0x75addf['x']>this['halfExtent'+'s']['y']*_0x350c2f['z']+this['halfExtent'+'s']['z']*_0x350c2f['y'])||_0x75addf['y']>this['halfExtent'+'s']['x']*_0x350c2f['z']+this['halfExtent'+'s']['z']*_0x350c2f['x']||_0x75addf['z']>this['halfExtent'+'s']['x']*_0x350c2f['y']+this['halfExtent'+'s']['y']*_0x350c2f['x']);}['intersects'+'Ray'](_0x2758f0,_0xee6c0d){return _0xee6c0d?this['_intersect'+'sRay'](_0x2758f0,_0xee6c0d):this['_fastInter'+'sectsRay'](_0x2758f0);}['setMinMax'](_0x10ff1a,_0x24df74){this['center']['add2'](_0x24df74,_0x10ff1a)['mulScalar'](0x121c+-0x773*0x5+-0x661*-0x3+0.5),this['halfExtent'+'s']['sub2'](_0x24df74,_0x10ff1a)['mulScalar'](-0x21af+0x2d*-0xae+-0x1*-0x4045+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x5790d5){const _0x43970c=this['getMin'](),_0x3c6f35=this['getMax']();return!(_0x5790d5['x']<_0x43970c['x']||_0x5790d5['x']>_0x3c6f35['x']||_0x5790d5['y']<_0x43970c['y']||_0x5790d5['y']>_0x3c6f35['y']||_0x5790d5['z']<_0x43970c['z']||_0x5790d5['z']>_0x3c6f35['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x1f42dc,_0x1f7168,_0x32677e=!(0x18ae+0x4f*-0x3d+-0xe*0x6b)){const _0x234b20=_0x1f42dc['center'],_0x296d2d=_0x1f42dc['halfExtent'+'s'],_0x297f49=_0x1f7168['data'];let _0x4e5857=_0x297f49[0x385*-0x2+-0xc5c+0x2*0x9b3],_0x29c844=_0x297f49[0x26ff+-0x1079*0x1+-0x56*0x43],_0x39a0ba=_0x297f49[-0x1a1d+0x2*0xe57+0x289*-0x1],_0x5af048=_0x297f49[0x19ef+-0x58+-0x1996],_0x468df1=_0x297f49[0x26d1*-0x1+0x22d0+0x406],_0x1aaf9b=_0x297f49[0x1735+-0x1d3+-0x1*0x1559],_0x1901ae=_0x297f49[-0x25a2*0x1+0x1*0x5a+0x254a],_0x4fcea=_0x297f49[-0x6*0x349+-0x1152+-0x22e*-0x11],_0x50cd2d=_0x297f49[0x3*-0x1f1+-0x3*0x8e0+0x207d];if(_0x32677e){let _0x2c7999=_0x4e5857*_0x4e5857+_0x29c844*_0x29c844+_0x39a0ba*_0x39a0ba;if(_0x2c7999>0x1*0x1b7a+0x1771+-0x32eb){const _0x5b9086=(-0x124*-0x1b+-0x21af+0x2e4)/Math['sqrt'](_0x2c7999);_0x4e5857*=_0x5b9086,_0x29c844*=_0x5b9086,_0x39a0ba*=_0x5b9086;}if(_0x2c7999=_0x5af048*_0x5af048+_0x468df1*_0x468df1+_0x1aaf9b*_0x1aaf9b,_0x2c7999>0x2*0x81b+-0x1*-0x2117+-0x259*0x15){const _0xd9bd0f=(0x1b77+-0x7cf*-0x2+-0x2b14)/Math['sqrt'](_0x2c7999);_0x5af048*=_0xd9bd0f,_0x468df1*=_0xd9bd0f,_0x1aaf9b*=_0xd9bd0f;}if(_0x2c7999=_0x1901ae*_0x1901ae+_0x4fcea*_0x4fcea+_0x50cd2d*_0x50cd2d,_0x2c7999>-0x5ad+-0x15*-0x125+-0x125c){const _0x453fd8=(-0x1*-0xa35+0x1daf*-0x1+-0x137b*-0x1)/Math['sqrt'](_0x2c7999);_0x1901ae*=_0x453fd8,_0x4fcea*=_0x453fd8,_0x50cd2d*=_0x453fd8;}}this['center']['set'](_0x297f49[-0x56*0x50+-0x1622+0x310e]+_0x4e5857*_0x234b20['x']+_0x29c844*_0x234b20['y']+_0x39a0ba*_0x234b20['z'],_0x297f49[0x56*-0x6b+-0x3*0x35+0x249e]+_0x5af048*_0x234b20['x']+_0x468df1*_0x234b20['y']+_0x1aaf9b*_0x234b20['z'],_0x297f49[-0x3c3*-0x6+-0x15ea+-0x4d*0x2]+_0x1901ae*_0x234b20['x']+_0x4fcea*_0x234b20['y']+_0x50cd2d*_0x234b20['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x4e5857)*_0x296d2d['x']+Math['abs'](_0x29c844)*_0x296d2d['y']+Math['abs'](_0x39a0ba)*_0x296d2d['z'],Math['abs'](_0x5af048)*_0x296d2d['x']+Math['abs'](_0x468df1)*_0x296d2d['y']+Math['abs'](_0x1aaf9b)*_0x296d2d['z'],Math['abs'](_0x1901ae)*_0x296d2d['x']+Math['abs'](_0x4fcea)*_0x296d2d['y']+Math['abs'](_0x50cd2d)*_0x296d2d['z']);}static['computeMin'+'Max'](_0x2ce8ab,_0x440935,_0x53ef85,_0x308140=_0x2ce8ab['length']/(0x1b24+0xb28+-0x2649)){if(_0x308140>-0xc84+-0x94*0x19+0x6be*0x4){let _0xdcee8c=_0x2ce8ab[0x135b+0x1ae6+-0xf6b*0x3],_0x3d8c11=_0x2ce8ab[0xd*0x205+0xdbe+-0x13ff*0x2],_0x29e952=_0x2ce8ab[-0x1bec+0x18a*0x4+0x742*0x3],_0x459f91=_0xdcee8c,_0x556b5b=_0x3d8c11,_0x1d0006=_0x29e952;const _0x3bf9e4=_0x308140*(-0x240a+0xdd3+-0x2*-0xb1d);for(let _0x50e2eb=-0x37*-0x5f+0xc5*0x1+-0x152b;_0x50e2eb<_0x3bf9e4;_0x50e2eb+=0xdc5+-0x150b+-0x749*-0x1){const _0x1850bd=_0x2ce8ab[_0x50e2eb],_0x708d73=_0x2ce8ab[_0x50e2eb+(-0x12f1+-0x2bd*0x5+0xf*0x22d)],_0x1589c0=_0x2ce8ab[_0x50e2eb+(0xf58+-0xed9+-0x7d)];_0x1850bd<_0xdcee8c&&(_0xdcee8c=_0x1850bd),_0x708d73<_0x3d8c11&&(_0x3d8c11=_0x708d73),_0x1589c0<_0x29e952&&(_0x29e952=_0x1589c0),_0x1850bd>_0x459f91&&(_0x459f91=_0x1850bd),_0x708d73>_0x556b5b&&(_0x556b5b=_0x708d73),_0x1589c0>_0x1d0006&&(_0x1d0006=_0x1589c0);}_0x440935['set'](_0xdcee8c,_0x3d8c11,_0x29e952),_0x53ef85['set'](_0x459f91,_0x556b5b,_0x1d0006);}}['compute'](_0x14cd5c,_0x240fd3){_e['computeMin'+'Max'](_0x14cd5c,vn,bn,_0x240fd3),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x255b0f){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x255b0f)<=_0x255b0f['radius']*_0x255b0f['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x1e1900){const _0x2ecb59=this['getMin'](),_0x4e7936=this['getMax']();let _0x28fe8f=-0xae8*0x2+0x8*0x107+0xd98;const _0x2bd9f6=['x','y','z'];for(let _0x361247=0x4*0x719+-0x15*-0x13d+-0xae1*0x5;_0x361247<-0xd65+0x1b58+-0x4*0x37c;++_0x361247){let _0xce873d=-0x1*-0x1de7+0x2d7*-0xd+0x704;const _0x1adc15=_0x1e1900['center'][_0x2bd9f6[_0x361247]],_0x278b6d=_0x2ecb59[_0x2bd9f6[_0x361247]],_0x21d926=_0x4e7936[_0x2bd9f6[_0x361247]];let _0x529b63=-0x75e*-0x1+0x3*-0xc4c+0x1d86;_0x1adc15<_0x278b6d&&(_0x529b63=_0x278b6d-_0x1adc15,_0xce873d+=_0x529b63*_0x529b63),_0x1adc15>_0x21d926&&(_0x529b63=_0x1adc15-_0x21d926,_0xce873d+=_0x529b63*_0x529b63),_0x28fe8f+=_0xce873d;}return _0x28fe8f;}['_expand'](_0x4b2d2d,_0x150488){vn['add2'](this['getMin'](),_0x4b2d2d),bn['add2'](this['getMax'](),_0x150488),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x1ce1c5=new T(),_0x5e23ba=0xaf6+0x5c*-0x7+0x5e*-0x17+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x1ce1c5),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x1ce1c5,this['radius']=_0x5e23ba);}['containsPo'+'int'](_0x2433c0){const _0x2c7cea=gl['sub2'](_0x2433c0,this['center'])['lengthSq'](),_0x7e094d=this['radius'];return _0x2c7cea<_0x7e094d*_0x7e094d;}['intersects'+'Ray'](_0x175275,_0x801897){const _0xe44b4b=gl['copy'](_0x175275['origin'])['sub'](this['center']),_0x583b56=_0xe44b4b['dot'](bS['copy'](_0x175275['direction'])['normalize']()),_0x17ba07=_0xe44b4b['dot'](_0xe44b4b)-this['radius']*this['radius'];if(_0x17ba07>-0x1166+-0x1350+-0x24b6*-0x1&&_0x583b56>0xc41+0x165f+-0x22a0)return!(-0x1219*-0x1+0x13*0xce+0x1*-0x2162);const _0xc36e93=_0x583b56*_0x583b56-_0x17ba07;if(_0xc36e93<0x5*0x3bf+-0x6a7+-0xc14)return!(-0x1*0xc5d+0x5c*-0x2d+0x1c8a);const _0xb4481b=Math['abs'](-_0x583b56-Math['sqrt'](_0xc36e93));return _0x801897&&_0x801897['copy'](_0x175275['direction'])['mulScalar'](_0xb4481b)['add'](_0x175275['origin']),!(0x7d1+-0x991+0x1c0*0x1);}['intersects'+'BoundingSp'+'here'](_0x1b4baa){gl['sub2'](_0x1b4baa['center'],this['center']);const _0x29d9e5=_0x1b4baa['radius']+this['radius'];return gl['lengthSq']()<=_0x29d9e5*_0x29d9e5;}}class hy{constructor(_0x3c4a9e=T['UP'],_0x2c8384=-0x550+0x1f2a+0x3*-0x89e){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x3c4a9e),this['distance']=_0x2c8384);}['clone'](){const _0x27dfd0=this['constructo'+'r'];return new _0x27dfd0()['copy'](this);}['copy'](_0xc1f56){return this['normal']['copy'](_0xc1f56['normal']),this['distance']=_0xc1f56['distance'],this;}['intersects'+'Line'](_0x3c54f2,_0x21ee24,_0x4d11c0){const _0x5dce79=this['distance'],_0x1d2da7=this['normal']['dot'](_0x3c54f2)+_0x5dce79,_0xf3e23c=this['normal']['dot'](_0x21ee24)+_0x5dce79,_0x274e94=_0x1d2da7/(_0x1d2da7-_0xf3e23c),_0x234279=_0x274e94>=-0x2581*0x1+-0x1d45+0x42c6&&_0x274e94<=0x5*-0x719+-0x1b8+0x2536;return _0x234279&&_0x4d11c0&&_0x4d11c0['lerp'](_0x3c54f2,_0x21ee24,_0x274e94),_0x234279;}['intersects'+'Ray'](_0x3f1917,_0x3e4555){const _0x140ddd=this['normal']['dot'](_0x3f1917['direction']);if(_0x140ddd===-0x25*-0x1d+-0x14e1+-0x858*-0x2)return!(0x2*0xb72+0x2453*-0x1+0xd70);const _0xd49ece=-(this['normal']['dot'](_0x3f1917['origin'])+this['distance'])/_0x140ddd;return _0xd49ece>=0xf*-0x10c+0x24a2+-0x14ee&&_0x3e4555&&_0x3e4555['copy'](_0x3f1917['direction'])['mulScalar'](_0xd49ece)['add'](_0x3f1917['origin']),_0xd49ece>=0x31*0xcb+-0x183*-0x3+-0x2b64;}['normalize'](){const _0x4c823e=(-0x509+0x1*-0x1647+0x1b51)/this['normal']['length']();return this['normal']['mulScalar'](_0x4c823e),this['distance']*=_0x4c823e,this;}['set'](_0x509d29,_0x7df27d,_0x432218,_0x5c16fc){return this['normal']['set'](_0x509d29,_0x7df27d,_0x432218),this['distance']=_0x5c16fc,this;}['setFromPoi'+'ntNormal'](_0x20ee54,_0x1eca11){return this['normal']['copy'](_0x1eca11),this['distance']=-this['normal']['dot'](_0x20ee54),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x37b2fc=0x4cb+0xc13+-0x7f*0x22;_0x37b2fc<0x306*0x3+-0x5aa*0x3+0x7f2;_0x37b2fc++)this['planes'][_0x37b2fc]=new hy();}['clone'](){const _0x35e2fa=this['constructo'+'r'];return new _0x35e2fa()['copy'](this);}['copy'](_0x1e5281){for(let _0x2afdca=0x249b+0x6*0x433+0xd*-0x4c1;_0x2afdca<0x1eef+-0x21c7+-0x2de*-0x1;_0x2afdca++)this['planes'][_0x2afdca]['copy'](_0x1e5281['planes'][_0x2afdca]);return this;}['setFromMat'+'4'](_0x5e6505){const [_0x3cd0e1,_0x3cf4b6,_0x26e743,_0x143956,_0x5392cf,_0x197060,_0x4823ac,_0x917f02,_0x224fe9,_0x6ef656,_0x303d2f,_0x5c0dd2,_0x21f94c,_0x57cc9b,_0x12f3f6,_0x56ae10]=_0x5e6505['data'],_0x129bf9=this['planes'];_0x129bf9[-0x45a*-0x1+-0x1661+0x39b*0x5]['set'](_0x143956-_0x3cd0e1,_0x917f02-_0x5392cf,_0x5c0dd2-_0x224fe9,_0x56ae10-_0x21f94c)['normalize'](),_0x129bf9[-0x12f2+-0x94a*-0x3+-0x8eb]['set'](_0x143956+_0x3cd0e1,_0x917f02+_0x5392cf,_0x5c0dd2+_0x224fe9,_0x56ae10+_0x21f94c)['normalize'](),_0x129bf9[-0x85*-0xa+0x1*0x13c7+-0x18f7]['set'](_0x143956+_0x3cf4b6,_0x917f02+_0x197060,_0x5c0dd2+_0x6ef656,_0x56ae10+_0x57cc9b)['normalize'](),_0x129bf9[0x2186+-0x120e*0x2+0x299]['set'](_0x143956-_0x3cf4b6,_0x917f02-_0x197060,_0x5c0dd2-_0x6ef656,_0x56ae10-_0x57cc9b)['normalize'](),_0x129bf9[0x95c*-0x1+-0x1072+0x19d2]['set'](_0x143956-_0x26e743,_0x917f02-_0x4823ac,_0x5c0dd2-_0x303d2f,_0x56ae10-_0x12f3f6)['normalize'](),_0x129bf9[-0xcc4+-0x1866+-0x252f*-0x1]['set'](_0x143956+_0x26e743,_0x917f02+_0x4823ac,_0x5c0dd2+_0x303d2f,_0x56ae10+_0x12f3f6)['normalize']();}['containsPo'+'int'](_0x1c49b4){for(let _0x21aa4f=0x813+-0x172b+0x8a*0x1c;_0x21aa4f<0xc52+0x1*0xb0f+-0x175b;_0x21aa4f++){const {normal:_0x5cf94b,distance:_0x260707}=this['planes'][_0x21aa4f];if(_0x5cf94b['dot'](_0x1c49b4)+_0x260707<=-0x2228+-0x10c1*-0x1+0x1167)return!(-0x81*0x26+0x1a3*0x9+0x46c);}return!(-0x161*0x7+-0x19b3+-0x16a*-0x19);}['containsSp'+'here'](_0x2bcff8){const {center:_0x53d963,radius:_0x54bb42}=_0x2bcff8;let _0x153578=-0x105d+-0x7*-0x293+-0x1a8;for(let _0x11a34e=-0x413+0x17cc+-0x13b9;_0x11a34e<-0x76*-0x10+0xa25+-0x117f;_0x11a34e++){const {normal:_0x318dda,distance:_0x344f87}=this['planes'][_0x11a34e],_0x5b8e59=_0x318dda['dot'](_0x53d963)+_0x344f87;if(_0x5b8e59<=-_0x54bb42)return-0x14d+-0x2*0x33b+0x1*0x7c3;_0x5b8e59>_0x54bb42&&_0x153578++;}return _0x153578===-0x3*-0x952+-0xc1e+-0xfd2?0x1084+0xd4d+-0x1dcf:0x1311*-0x1+0x1e93*-0x1+0x1*0x31a5;}}class uu{constructor(_0x2ac5cd,_0x2dc7bd){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x2ac5cd&&this['origin']['copy'](_0x2ac5cd),_0x2dc7bd&&this['direction']['copy'](_0x2dc7bd));}['set'](_0x2dd4e9,_0xa8af78){return this['origin']['copy'](_0x2dd4e9),this['direction']['copy'](_0xa8af78),this;}['copy'](_0x4afb35){return this['set'](_0x4afb35['origin'],_0x4afb35['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=-0x2392+-0x2*0x2fb+-0xdd8*-0x3,ae=0x441*0x3+0x15bc+-0x227e,Of=-0x1*0x8cd+0x227e+-0x19*0x107,kf=-0x176+-0xd8a+0xf00,at=0x1189*-0x2+0x534*0x2+0x3*0x839,TS=-0x33*-0x49+-0x907*-0x1+-0x1790,dy=0xe87*-0x2+-0x1*-0x2d2+0x118*0x18,AS=-0x61a+0x1*0x1027+-0xd6*0xc,dc=0x1*-0x1c0f+0x17ce+0x447,uc=-0xa18+0xb45*-0x1+-0x1*-0x1565,Lt=-0x631*0x1+0x1*0x1992+0x1c3*-0xb,ES=-0x235+0xfc9+-0xd92,CS=0x1fc+0x816+-0x5*0x203,MS=-0x1686+0x15*0x32+0x1270,jt=0x80d+-0x102d+-0x41*-0x20,Th=0x1*-0x1a61+0x26*-0x85+0x2e20,uy=0x20ad*0x1+-0x2f0*-0x8+-0x382b,PS=-0x26ea+-0x119c+0x3889,Co=-0x1d4c+-0x1425+0x3172,Mo=-0x1*0x1c35+0xf9c+0xc9b,Ah=-0x1*0x1ebb+0x1*-0x1253+0x16*0x23b,mt=0x844+-0x1275*-0x1+-0x1ab9,rn=0x2*-0xd6e+-0x1f4f+0x3a2c,mo=0x16aa+-0x13*0x5c+0x2*-0x7ea,RS=-0x189a*-0x1+0x4*0x8a1+-0x3b1b*0x1,de=0x8*0x42+-0x1317*0x1+0x1*0x1107,st=0xee2+-0xccd*-0x1+-0x1bae,fc=0x26d6+0x20a0+-0x4774,pc=-0x130e+0x2*0x355+0xc67,mc=-0x1*0x8df+-0x24*0x1e+-0xd1b*-0x1,nn=-0xce4+-0x16ca+0x23b3,IS=0x1*-0x5e1+0x57*0x3b+0xe2c*-0x1,Eh=-0x16b9+0x4af*-0x3+0x24c7,Ch=-0x3b8+0x18d0+-0x2*0xa8b,fu=0x209+0x21ed+0x1*-0x23f3,DS=-0x173*-0x12+-0x10c9*0x2+-0x1e0*-0x4,LS=-0x5f8+0xe6+-0x1*-0x517,FS=-0x1979+-0x1663+0x2fe2,Ai=-0x4ed*0x3+-0x33*-0x65+-0x551*0x1,pu=-0x1*-0x7bb+-0x5e1+-0x1da*0x1,Pi=0x185c+-0x2*-0x459+-0x1*0x210d,nr=-0xd60*-0x1+-0x663+-0x6fb*0x1,fy=0x225f+0xd4*-0x2e+-0x3b9*-0x1,py=0x7af+0x232*-0x8+0x4f1*0x2,Bf=-0x1*-0x92e+-0x1864+0x2*0x79c,_c=-0x7f*0x2b+0xc82+0x8d6,Nf=-0x179a+0x11fc+0x5a2,gc=-0x1dcd+-0x10f9*-0x2+-0x20*0x21,dr=-0x24b*0xb+-0x13*0x30+-0x7d*-0x3b,Se=-0x421*0x1+-0x1a7*0x3+-0x91d*-0x1,yc=0x1*0x99+-0x1c*0x10+-0x12f*-0x1,zf=-0x42a+0x17fc+0x3f5*-0x5,Wo=0x5*0x71a+0x3*-0xaed+-0x2b1,xc=-0x1a69*0x1+0x3a5+-0x1*-0x16cf,Je=-0x2388+-0x442+0x2*0x13eb,Sc=0xb*0x197+-0x137f+-0x1*-0x20f,Ke=0x3*-0xcab+-0x10c+-0x8d*-0x47,Ii=-0x1*0xbb9+0x1*-0x20fe+0x2cc6,Ci=0xc9*0x1f+0x525*-0x1+0x4f*-0x3e,vc=-0x117f+-0x83*0x13+0x1b49,_a=0x84c+0x136b*-0x1+0xb31,Uf=0xdf0+-0x1b7d*-0x1+-0x295a*0x1,rs=-0x406*0x5+0x2f*-0x68+0x274a,bc=-0xb19*-0x2+0xeb4*0x1+-0x24d1,Vf=-0x41b*-0x1+0x2*0x3c8+0x1*-0xb95,Gf=0xb51+0x1c7e+-0x9ee*0x4,qo=-0x1208*0x1+-0x214f*0x1+0x336f,Xo=0x1b59*-0x1+0x1*-0x92b+0x249d,wc=-0x1*-0x1616+0x1bdf+0x1*-0x31db,Tc=-0x1*-0x3b9+-0x14*-0x3d+-0x862,my=0x1f5*0x1+0x1663+-0x183c,_y=-0x9b*-0x3+-0x20a5+0x1ef1*0x1,gy=0x2*0x2e7+0x1*-0x484+-0x12c,yy=-0x14ce+0x2*-0x899+0x261f,Hf=0xef*0x23+-0x3d*-0x91+-0x4cb*0xe,xy=0x20*-0xb4+-0xf76+-0x2617*-0x1,$f=0x1*-0x14a2+0xa3a+-0x1*-0xa8a,Wf=0x1c71+0x185a+-0x34a8,qf=-0x2296+0xf*0x211+0x5*0xbf,an=-0x51b+-0x329*-0x4+0x1d9*-0x4,Xf=0x636*-0x1+0xa5c+-0x4*0x100,Sy=-0xce5*-0x2+-0x230a+0x1*0x967,jf=-0x1a4+-0x18be+-0x2*-0xd45,Yf=0x1*-0x258d+0x251a+0x9c,Kf=-0x21ff+-0x63*-0x4d+0x22*0x21,Zf=-0x14f3*0x1+-0x1a1e*-0x1+-0x500,Qf=0x1*-0x1e16+-0x73*-0x14+0x1546,vy=-0x2*-0x25d+0x36f+-0x7fc,Jf=-0xd40+0x35*-0x7f+-0x1*-0x27b9,Ac=0xb*-0x199+0xc65*-0x1+0x1e27,ep=-0x2283+0xd13*-0x1+-0x4c7*-0xa,ut=0x1*0x737+0x1956+0x205c*-0x1,Ec=-0x1805+-0x247d+-0x69*-0x94,tp=0x1*0x1bbb+-0xa86+-0x1102,sp=0x2290+0x7*-0x42e+-0x51a*0x1,ip=-0xcb3+0x16f+0x3d3*0x3,mu=0x15e8+0x1be9+-0x3*0x1089,_u=-0x9a+0x780+-0x6af,gu=-0x7*0x167+-0x31*-0xa9+-0x1650,yu=0x5*-0x465+0x5c*0x15+0x2*0x755,xu=-0x18*0x11+-0xaa6+0x2f*0x44,Su=-0x1f*-0x10a+0x1*0x1418+-0x340f,by=0x1d15*-0x1+-0x17b9+0x350e,wy=-0xee5+0x74a+0x7dc,Ty=0x1671+0x26+-0x1655,Ay=-0x24ba+0x2351+0x1ac,vu=0x2*0xd45+0x32*0x5d+-0x2c70,la=-0x1*-0xe71+0x1*0xbaf+-0x19db,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(0x3*0x67+0x1694+0x1*-0x17c9)}],[sp,{'name':'R8','size':0x1,'ldr':!(0x15e1*-0x1+0x1a51+-0x470)}],[py,{'name':'L8','size':0x1,'ldr':!(-0xfd*-0x9+-0x225e+-0x1979*-0x1)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x1b*0x147+-0x3*0x113+0x25b6)}],[ip,{'name':'RG8','size':0x2,'ldr':!(0x4b8*0x6+-0x1216*0x2+0x1*0x7dc)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(0xf38+0x1*0x17+-0xf4f)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(-0x3e3*-0x9+0x692+-0x1*0x298d)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(-0xcf5+-0x579+0x1*0x126e)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0xb*-0x1f1+-0xa+0x71b*-0x3)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(-0x2*-0xa7b+-0x263e+0x1148),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(-0x1*0x75c+0x1333+-0xbd7),'srgb':!(0x1*0xedb+0x7f*-0x29+0x57c)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(-0x3*-0xce1+0x1a6f+-0x1*0x4112),'srgb':!(0x23ab+0x3eb*-0x2+-0x1bd5)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(0x1ce1+-0x16*-0x18b+-0x3ed3*0x1)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(0x7a4+0x2*-0x1173+0x1b42),'srgb':!(0xdb*0x1f+-0x28*0x7a+-0x775)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(-0xc77+-0x18d0+0x2547),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0xb7c+0x23ac+-0x5e5*0x8),'srgbFormat':_u}],[Wo,{'name':'DXT5','blockSize':0x10,'ldr':!(-0xc3*-0x14+-0x1*0x1574+-0x31c*-0x2),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0xa*0x3b7+-0x72b*0x2+0x4*0xcdf)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x1c8d+0x243d*0x1+-0x40ca),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x144+0x190b*-0x1+0x1*0x1a4f),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0xa3f+-0xadc+-0x151b*-0x1),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x260e+-0x1a68+0x4076),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x8ae+0x10f0+-0x199e),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x155f+0xff7+-0x2556),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x164f+-0x1bef+0x323e),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x1*-0xc77+0x10d3+-0xba*0x6)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x2*0x97c+0x328+0xfd0)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0xae*0x20+0x40e+-0x19ce),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x1e13+-0xa6*0x35+-0x1b*-0x263),'srgb':!(0x1*0x1e79+0x166d*-0x1+-0x80c)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x1e9d+-0x1b04+0x133*-0x3),'srgb':!(0x1*-0x2709+0xe3*-0x1e+0x41a3)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x461*0x7+0xa7e+0x3*-0xdb7),'srgb':!(-0xc*-0x2e8+0x201*0xb+-0x38eb)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x2d3+-0x1702+0x11*0x185),'srgb':!(0x1c3d*-0x1+-0x17be*0x1+0x76d*0x7)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x22d*0x10+-0x1037+-0x1299),'srgb':!(0x1*0x9b9+-0x997+-0x2*0x11)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x1*0x929+0x8*0x2d+0x7c1),'srgb':!(-0x1c0b+0x1*0x935+-0x96b*-0x2)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0xbd2+-0x3*0x17b+-0x1043*-0x1),'srgb':!(0x5*0x664+-0xbe*0x5+0x2*-0xe1f)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(0xa*0x248+0x827*-0x2+-0x682)}],[xy,{'name':'R8U','size':0x1,'isInt':!(0x280*0x9+-0x1657*0x1+-0x29)}],[$f,{'name':'R16I','size':0x2,'isInt':!(0x2066+-0xc*0x19d+-0xd0a)}],[Wf,{'name':'R16U','size':0x2,'isInt':!(-0x1b80+0x192b+0x255)}],[qf,{'name':'R32I','size':0x4,'isInt':!(0x3ac+0x1f67+0x2313*-0x1)}],[an,{'name':'R32U','size':0x4,'isInt':!(0x193f+0x1c7*-0x9+-0x940)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(0x1272*0x1+-0x1415+0x1*0x1a3)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(0x12b5+-0x29*-0x65+0x26*-0xeb)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x716*-0x2+-0x5*0x7cf+0x18df)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(-0x1e55+0x1acd+0x388*0x1)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(-0x1905+-0x35*0x98+-0x1*-0x387d)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(0xc9a+0x269a+-0x3334)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0x9d*-0x37+0x1f14+-0x1*-0x2a7)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(-0x13bc+0xc95+0x727*0x1)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(-0x1*-0x15cf+-0x27*0xe9+-0x18*-0x92)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(0x260c+0x1fe7*0x1+-0x17d*0x2f)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(-0xbeb+-0x9bf*0x1+0x15aa)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0x1f*0x8+0x1*-0x13f3+-0x1*-0x14eb)}]]),OS=_0x55b973=>{var _0x348e12;return((_0x348e12=xt['get'](_0x55b973))==null?void(-0xff+-0x151f+0x161e):_0x348e12['blockSize'])!==void(-0xc3a+0x7*-0xb5+0x112d*0x1);},Mh=_0x34b679=>{var _0x21116d;return((_0x21116d=xt['get'](_0x34b679))==null?void(0xefc+-0x9e1+-0x51b):_0x21116d['srgb'])===!(0x298+0xe9+-0x381);},ea=_0x6ab999=>{var _0x19e832;return((_0x19e832=xt['get'](_0x6ab999))==null?void(0x1*-0x1105+0x38a+0xd7b):_0x19e832['isInt'])===!(-0x1*-0x1c1f+0x5e*-0x17+-0x1*0x13ad);},Cc=_0x9c8362=>{var _0x12ab87;return((_0x12ab87=xt['get'](_0x9c8362))==null?void(-0x543*0x2+-0x3d2*-0x4+0xe*-0x57):_0x12ab87['srgbFormat'])||_0x9c8362;},kS=_0x30afe5=>{for(const [_0x8466f3,_0x174a99]of xt)if(_0x174a99['srgbFormat']===_0x30afe5)return _0x8466f3;return _0x30afe5;},Ey=_0x24c3d0=>{const _0x3fe844=xt['get'](_0x24c3d0);return!!(_0x3fe844!=null&&_0x3fe844['ldr']&&!(_0x3fe844!=null&&_0x3fe844['srgb']));},Cy=_0x1a2f92=>{switch(_0x1a2f92){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case $f:case jf:case Jf:return Int16Array;case ip:case Wf:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=0x243f+-0x262c*0x1+0x11*0x1d,Pc=0x2337+0x611*-0x4+0x3a6*-0x3,My=0x3*0x151+0xeb*0xa+-0xd1f,Py=-0x1*0x13bb+0x2055+-0xc97,Ms=0x3c9+-0x4f2+0x2b*0x7,ar=0x1768*-0x1+0x7*0x1e2+0xa3f,Yr=-0x18f*0x7+0xe72+-0x383,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=0xcb+0x2192*0x1+-0x225c,ha=-0x1bac+0x13d*0x12+-0x2*-0x2b1,GS=0x2fc*-0x2+0x112f+-0xb35,HS=-0x1*-0x6a1+0x1*-0x1203+-0x1*-0xb65,$S=-0x2*0x2ac+-0x1*0x60a+0xb67,yl=-0xcf9+-0x48a*-0x5+0x1*-0x9b9,Fy=0xb+-0x12b*0xa+0x1*0xba4,rd=-0x57a*0x3+-0x4*-0x92e+-0x1448,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0x1d95+-0x9aa*-0x1+0x96*0x22,ur=-0x168a*-0x1+0x147*0x6+-0x1e32,Oy=-0xe5*0x28+0x12dd+0x10ee,Us='2d',WS='2d-array',qS='cube',XS='3d',oh=0x3*-0x5ce+-0x17*-0x141+-0x3*0x3cf,nd=0x839+-0xca1*-0x2+-0x217a,jS=-0x1*-0xf9a+0x24f7*-0x1+0x155f,YS=0x1f80+-0x1f11+-0x6c,KS=0x26b*0x4+-0x41c*-0x1+-0xdc4,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=-0x1*0x1685+0xfe7+0xe*0x79,Kr=-0x1e9*0x13+0x3e6*0x1+0x1033*0x2,Ic=0x1cff+0x607+-0x2304,el=0x1230+0x9*-0x3e+-0x75*0x23,By=-0x178+-0x21ed+0xf5*0x25,Do=-0x23c0+0x24a3+-0xde*0x1,Ee=0x13e4+0xc71+-0x204f,ca=0x11*0x160+0xe94+-0x25f4,ln=0x103e+0x1*0xf7b+-0x1fb8,Ws=-0xbb+-0x191f*0x1+0x19dc,or=-0x1af+0x1*-0xebb+0x1d*0x91,Wt=-0x187f+-0x1632*-0x1+0x251,xa=0x1bac+0x24b*-0xa+-0x4b9,Zr=0x15a*-0x13+-0x111b*0x1+0x3*0xe45,Qr=0x1f*-0x97+0x1*0x31d+0xf33,Jr=0x59+0x91b+-0x1*0x96c,Lo=-0x1*0x17fd+0x21db*-0x1+-0x21*-0x1c1,Fo=-0x8*0x71+0x107b*0x1+-0xce9,Oo=0x818+-0x1552+0xd45,Rh=-0x301*-0x5+-0x7bb*0x5+0x7*0x362,ko=0x2084+-0x6*-0x472+-0x1*0x3b23,Sa=0x1d34+0x2566*-0x1+0x840,JS=0x3*-0x1e7+-0xccf+0xf*0x13d,ev=-0x1ef*0x1+-0xb11*0x1+-0x16*-0x98,Dc=-0x829+0x24be*-0x1+0x2cf8,tv=0x1f08+-0x17f*-0x5+-0x2671,sv=0x29*0x31+-0x8*0x423+0x1*0x1952,iv=-0x1b79+-0x1381*0x2+0x428f,Lc=-0x2024+-0x1788+0x37c1,Fc=-0x219e*-0x1+0x1c0b+-0x1*0x3d93,lp=-0x7*0xad+-0x6*0x1d2+0x326*0x5,Ny=0x3e9+-0x18fe+0x1a1*0xd,rv=-0xcf5+0xb12+-0x7f*-0x4,va=0x14*0x112+0x2292+-0x37e0,ba=0x25*-0xef+-0x1a7a+-0x28c*-0x18,wa=-0x16ac*-0x1+0x15d*0xd+-0x2849,Ta=0xb1d*0x1+0x5*-0xb0+-0x790,Aa=0x14b*0x19+-0x7a9*0x3+-0x93a,Oc=0x11e5*0x1+-0x1a4b+0x885,kc=-0x1*-0x409+0x1075+0x365*-0x6,Ea=-0x13*0x31+0x948+-0x4*0x161,Bc=0x21f3+-0x281*-0x2+0x26d3*-0x1,Nc=0x1214+-0x197*-0x15+-0x3354,Ca=0x896+0x214*-0x9+0xa42,zc=0x2c1+-0x661+-0x1*-0x3c5,Uc=0x696+0x1511+-0x1b81,Ih=0x1409*0x1+-0xb90+0x47*-0x1e,hp=-0x557*0x7+-0x19a0+0x2bf*0x17,cp=0x1a34+0x1*-0xc6d+-0xd9e,nv=-0x179*0x1+0x10*0x1c+-0x1d,av=0x17*-0x13c+-0x24d2+0x4161,ov=0x2e*-0x83+-0x16b3+0x1*0x2e69,lv=0x1268+-0x11e+-0x111d,hv=-0x94d+0x2688+-0x9af*0x3,cv=0x322+-0xcdd*0x1+0x9ea,dv=0x2291+-0x31*0x8b+-0x7c6,uv=0x1327*0x2+-0x14af+0x2e*-0x61,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x342530,_0x5835d1)=>{_0x342530['forEach'](_0x42d271=>pv['set'](_0x42d271,_0x5835d1));});const mv='webgl2',up=0x3*-0x95d+-0x1f5c+-0x5*-0xbe4,li=0x1831+0x36d*-0xa+0xa13,_v=0x3*0x771+-0x1e30+-0x1*-0x7e1,gv='ldr',zy=0x509*-0x2+0x3b*-0x37+0xe*0x1a0,Uy=0x277*-0x5+0x455*-0x8+0x2efd,Vy=-0x3a1*0x8+-0x285+-0x1f91*-0x1,Gy=-0x1d06+-0x4c*-0x5+0x1b92,Hy=-0x8e2+0x1542+-0xc50,$y=0x620+-0xc2f+0x62f,Wy=0x2*0xb+-0x86d*0x3+0x1971,qy=0x15c8+0x1*0x18a2+-0x2dea,yv=-0x3*-0x7db+-0x223*-0x2+0x1ad8*-0x1,Dh=0x1*-0xd40+0x108b+-0x34b,Xy=-0x159+-0x103c+0x8cb*0x2,Eu=0x233a+-0x1f*-0xb+0xc2f*-0x3,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[-0x5*-0x3e5+0xa9c+-0x113*0x1c,0x1fca+0xed2+-0x7b*0x61,0xbf2+0x376*-0x1+-0x87a,0xf40+-0x1c05+0xcc7*0x1,-0x1*0x1253+-0x75+0x12cc,-0x144f+-0x6d*0x43+0x30da,-0xb*-0x3c+0xfc4*0x2+-0x2218,0xae5*0x3+-0x6*0x409+-0x1*0x877],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x1d*0x59+-0x1142+-0x28*-0xaf,-0x1*0x1db9+0xa*-0x1e2+0x308f*0x1,0x4*-0x50d+-0x74+-0x24*-0x93],ve={};ve[He]=-0x1a5*0x8+0x135a+0xd*-0x7a,ve[Yt]=0x62b+-0x471+-0x1b9,ve[Ys]=-0x70e+0xfa2+-0x2*0x449,ve[qt]=-0x16ed+0x88e+-0xe62*-0x1,ve[At]=-0x2667+-0x19fc+0x4067*0x1,ve[ns]=0x223*-0x1+-0x1*-0x21fb+-0x1fd3,ve[_n]=-0x15*-0x131+0x2152+-0x1*0x3a51,ve[jo]=0x20a0+0x12c8+-0x3361*0x1,ve[Yo]=-0x16c6+-0x983*0x4+0x3cda,ve[Ko]=0x5c4+-0x167d+0x10c2,ve[Zo]=0x26*0xc9+0x1187+-0x2f53,ve[Qo]=0x13*0xd6+-0x194c+-0x3*-0x327,ve[Jo]=0xb61*0x3+-0x1ebb+-0x35c,ve[Zs]=-0x26e2+-0x10d9+0x37c8,ve[bu]=0x17ba+0x2030*0x1+0x37ea*-0x1,ve[wu]=-0x1fd9+-0x3d*0x66+0x3828,ve[Ry]=0x19d2+0x4f*0x6a+-0x2a9*0x16,ve[Iy]=0x3fd*-0x1+-0xdb1+0x287*0x7,ve[Dy]=0x13*-0x17+-0x53f+0x6f8,ve[BS]=-0x1ee6+-0x12fa+0xf1*0x35,ve[NS]=-0x805*-0x4+-0x1*0x1ea5+0x169*-0x1,ve[zS]=0xcd*-0x1e+-0x2437*0x1+0x3c44,ve[Po]=-0x2678+0x2a*0x4a+0x1a5c,ve[Ro]=0x6c0+-0x76*0x1a+0x545,ve[US]=-0xb*-0x5b+0x79d*0x5+-0x29f0,ve[VS]=0x1e51+0x757*0x1+-0x1*0x259d,ve[rp]=0xe60+0xd7e+-0x1bd2,ve[ga]=-0x1d6+0xb8a+0x7*-0x161,ve[np]=-0xb2*-0x38+0x256e*0x1+-0x4c50,ve[ya]=-0xca6*0x3+0x4e+0x3*0xc91;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=-0x73e+-0x1cb5+0x23f3*0x1;}static['pushGpuMar'+'ker'](_0x1b6ca1,_0x5524fe){Ki['markers']['push'](_0x5524fe),_0x1b6ca1['pushMarker'](_0x5524fe);}static['popGpuMark'+'er'](_0x49de00){Ki['markers']['length']&&Ki['markers']['pop'](),_0x49de00['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=-0x1*-0x705+0xd2c*-0x1+0x627;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[WS]:'texture2DA'+'rray'};class Vc{constructor(_0x27a893,_0x5cc5cd){c(this,'slot',-(-0xd20*0x2+-0x891*0x4+0x3c85)),c(this,'scopeId',null),(this['name']=_0x27a893,this['visibility']=_0x5cc5cd);}}class pp extends Vc{}class Av extends Vc{constructor(_0x6f425b,_0x550721,_0x328f0b=!(-0x1794*-0x1+-0xf91+-0x802)){super(_0x6f425b,_0x550721),c(this,'format',''),(this['readOnly']=_0x328f0b,v['assert'](_0x328f0b||!(_0x550721&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x171702,_0x87fe2f,_0x2b3572=Us,_0x4183c6=oh,_0x145203=!(0xb93*-0x2+0x5d7+0x114f),_0x4f9d14=null){super(_0x171702,_0x87fe2f),this['textureDim'+'ension']=_0x2b3572,this['sampleType']=_0x4183c6,this['hasSampler']=_0x145203,this['samplerNam'+'e']=_0x4f9d14??_0x171702+'_sampler';}}class Ev extends Vc{constructor(_0x586f06,_0x5c2863=Se,_0x3bcc6d=Us,_0x1cfeeb=!(-0x16e9+0x1126*0x2+-0xb63),_0x35e9bc=!(-0x52c+0x1251+-0xd24)){super(_0x586f06,_v),this['format']=_0x5c2863,this['textureDim'+'ension']=_0x3bcc6d,this['write']=_0x1cfeeb,this['read']=_0x35e9bc;}}class jy{constructor(_0x3c768c,_0x412c58){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x412c58));let _0x477a2f=0x12*0xb1+0x1ac4+-0x139b*0x2;_0x412c58['forEach'](_0x4b4a2e=>{_0x4b4a2e['slot']=_0x477a2f++,_0x4b4a2e instanceof fi&&_0x4b4a2e['hasSampler']&&_0x477a2f++,_0x4b4a2e instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x4b4a2e):_0x4b4a2e instanceof fi?this['textureFor'+'mats']['push'](_0x4b4a2e):_0x4b4a2e instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x4b4a2e):_0x4b4a2e instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x4b4a2e):v['assert']('Invalid\x20bi'+'nd\x20format',_0x4b4a2e);}),this['device']=_0x3c768c;const _0x3f1652=_0x3c768c['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x8a4c02,_0x103359)=>this['bufferForm'+'atsMap']['set'](_0x8a4c02['name'],_0x103359)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x161a96,_0x49ae80)=>{this['textureFor'+'matsMap']['set'](_0x161a96['name'],_0x49ae80),_0x161a96['scopeId']=_0x3f1652['resolve'](_0x161a96['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x5eb1f0,_0x116d92)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x5eb1f0['name'],_0x116d92),_0x5eb1f0['scopeId']=_0x3f1652['resolve'](_0x5eb1f0['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x226262,_0x3f247e)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x226262['name'],_0x3f247e),_0x226262['scopeId']=_0x3f1652['resolve'](_0x226262['name']);}),this['impl']=_0x3c768c['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x3c33cc){const _0xbec592=this['textureFor'+'matsMap']['get'](_0x3c33cc);return _0xbec592!==void(0x7*-0x4f2+-0x1cab+0x3f49)?this['textureFor'+'mats'][_0xbec592]:null;}['getStorage'+'Texture'](_0x428202){const _0x4c4251=this['storageTex'+'tureFormat'+'sMap']['get'](_0x428202);return _0x4c4251!==void(-0x481*0x4+0x7ae+0xa56)?this['storageTex'+'tureFormat'+'s'][_0x4c4251]:null;}['getShaderD'+'eclaration'+'Textures'](_0x27efd3){let _0x3ac910='';return this['textureFor'+'mats']['forEach'](_0x462e51=>{let _0x54dec0=Tv[_0x462e51['textureDim'+'ension']];v['assert'](_0x54dec0,'Unsupporte'+'d\x20texture\x20'+'type',_0x462e51['textureDim'+'ension']);const _0x57a0c1=_0x54dec0==='texture2DA'+'rray',_0x565d0b=_0x462e51['sampleType']===KS?'u':_0x462e51['sampleType']===YS?'i':'';_0x54dec0=''+_0x565d0b+_0x54dec0;let _0xd97278='',_0x5e2471='';_0x57a0c1&&(_0xd97278='_texture',_0x5e2471='#define\x20'+_0x462e51['name']+'\x20'+_0x565d0b+('sampler2DA'+'rray(')+_0x462e51['name']+_0xd97278+',\x20'+_0x462e51['name']+'_sampler)\x0a'),_0x3ac910+='layout(set'+'\x20=\x20'+_0x27efd3+(',\x20binding\x20'+'=\x20')+_0x462e51['slot']+')\x20uniform\x20'+_0x54dec0+'\x20'+_0x462e51['name']+_0xd97278+';\x0a',_0x462e51['hasSampler']&&(_0x3ac910+='layout(set'+'\x20=\x20'+_0x27efd3+(',\x20binding\x20'+'=\x20')+(_0x462e51['slot']+(0x1951+-0x1*-0x1b83+0x34d3*-0x1))+(')\x20uniform\x20'+'sampler\x20')+_0x462e51['name']+'_sampler;\x0a'),_0x3ac910+=_0x5e2471;}),_0x3ac910;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x513f14,_0x39542f){return this['_cache']['has'](_0x513f14)||(this['_cache']['set'](_0x513f14,_0x39542f()),_0x513f14['on']('destroy',()=>{this['remove'](_0x513f14);}),_0x513f14['on']('devicelost',()=>{var _0x202512,_0x37dbdd;(_0x37dbdd=(_0x202512=this['_cache']['get'](_0x513f14))==null?void(0xd31*-0x1+0x12aa*-0x1+-0x23*-0xe9):_0x202512['loseContex'+'t'])==null||_0x37dbdd['call'](_0x202512,_0x513f14);})),this['_cache']['get'](_0x513f14);}['remove'](_0x300bfa){var _0x18b035,_0x2b098a;(_0x2b098a=(_0x18b035=this['_cache']['get'](_0x300bfa))==null?void(-0x2693+-0x61*-0x3d+0xf76):_0x18b035['destroy'])==null||_0x2b098a['call'](_0x18b035,_0x300bfa),this['_cache']['delete'](_0x300bfa);}}class Mi{static['calcLevelD'+'imension'](_0x286c8f,_0x584ca6){return Math['max'](_0x286c8f>>_0x584ca6,0xf5e+-0x115c+-0x49*-0x7);}static['calcMipLev'+'elsCount'](_0xafb744,_0x10964a,_0x3f0517=-0x98d*-0x2+-0xea7+-0x239*0x2){return 0x34*0x92+0x1b02*0x1+-0xf*0x3c7+Math['floor'](Math['log2'](Math['max'](_0xafb744,_0x10964a,_0x3f0517)));}static['calcLevelG'+'puSize'](_0x3d9c48,_0x4c1b70,_0x221658,_0x2449bd){var _0x1c93a8;const _0x424e07=xt['get'](_0x2449bd);v['assert'](_0x424e07!==void(0x349+-0x1879+0x1530),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x2449bd);const _0x41c8d8=((_0x1c93a8=xt['get'](_0x2449bd))==null?void(0x2*0x411+-0x2*0x745+0x668):_0x1c93a8['size'])??-0x243e+0x2e*0x98+0x8ee;if(_0x41c8d8>-0x6bc+-0xe0e+0x14ca)return _0x3d9c48*_0x4c1b70*_0x221658*_0x41c8d8;const _0x4d1a28=_0x424e07['blockSize']??0x1*0x1c1f+0x16*0xd1+-0x2e15;let _0x31b6fc=Math['floor']((_0x3d9c48+(0x7cb+-0x1e9*-0x1+0x9b1*-0x1))/(-0x14c2+-0x430*0x2+-0x1d26*-0x1));const _0x24855a=Math['floor']((_0x4c1b70+(0x1080+0x6a4+-0x1721))/(0x2*-0xbb+0x1af9+0x1*-0x197f)),_0x2d0e1e=Math['floor']((_0x221658+(0x22c5+-0x16a5+-0xc1d*0x1))/(0x83d+0x13eb+-0x1c24));return(_0x2449bd===qo||_0x2449bd===Xo)&&(_0x31b6fc=Math['max'](Math['floor'](_0x31b6fc/(-0x11a1+0xa51+0x2*0x3a9)),0x1cf*0x1+0x5a8+-0x776)),_0x31b6fc*_0x24855a*_0x2d0e1e*_0x4d1a28;}static['calcGpuSiz'+'e'](_0x309a9c,_0x44a682,_0x38048e,_0x297390,_0x57f036,_0x32901e){let _0x1009ff=0x7*-0x11+0x329*0xa+0x1*-0x1f23;for(;_0x1009ff+=Mi['calcLevelG'+'puSize'](_0x309a9c,_0x44a682,_0x38048e,_0x297390),!(!_0x57f036||_0x309a9c===0x385*-0x1+-0x54e+0x5*0x1c4&&_0x44a682===-0xd0f+-0x1*0x190e+0x261e&&_0x38048e===0x904*-0x2+-0x20f5+0x2*0x197f);)_0x309a9c=Math['max'](_0x309a9c>>-0x1aa4+-0x10*-0x21d+-0x72b,-0x5fb*-0x3+-0x4*0x79+-0x100c),_0x44a682=Math['max'](_0x44a682>>-0x9ae+-0x1775*0x1+0x849*0x4,0x301*0x7+-0x2d1+-0x1235),_0x38048e=Math['max'](_0x38048e>>-0x25d0+-0x5b*-0x55+0x79a,-0x1aff*0x1+-0x10a7+0x2ba7);return _0x1009ff*(_0x32901e?-0x32b*-0x4+0xea6+-0x4*0x6d3:0x1*-0x802+0x239*0x3+0x158);}}let Cv=0xb75+-0x1*0x211+-0x964;class he{constructor(_0x59dbfd,_0x1f6399={}){c(this,'name'),c(this,'_gpuSize',0x2022+0xf0a+-0x2f2c),c(this,'id',Cv++),c(this,'_invalid',!(0x1*-0x260d+-0xfc2+0x35d0)),c(this,'_lockedLev'+'el',-(0x1f85*0x1+-0x10a2+0x7f*-0x1e)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',0x171c+0xb*0x26b+-0x1fd*0x19),c(this,'_storage',!(-0x5c4+-0x2445+0x2a0a)),c(this,'_numLevels',-0x1a79+0xb*-0x1f5+-0x1800*-0x2),c(this,'_numLevels'+'Requested');var _0x2d29c4;this['device']=_0x59dbfd,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x1f6399['width']||Number['isInteger'](_0x1f6399['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x1f6399),v['assert'](!_0x1f6399['height']||Number['isInteger'](_0x1f6399['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x1f6399),v['assert'](!_0x1f6399['depth']||Number['isInteger'](_0x1f6399['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x1f6399),this['name']=_0x1f6399['name']??'',this['_width']=Math['floor'](_0x1f6399['width']??0x5*-0x4bf+-0x25bd+-0xc4c*-0x5),this['_height']=Math['floor'](_0x1f6399['height']??0x56b+0xde+-0x645),this['_format']=_0x1f6399['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x1f6399['minFilter']=de,_0x1f6399['magFilter']=de),this['_volume']=_0x1f6399['volume']??!(0x9*0x3d+-0x1131+0xf0d*0x1),this['_depth']=Math['floor'](_0x1f6399['depth']??0x1d01+-0x451+-0x18af),this['_arrayLeng'+'th']=Math['floor'](_0x1f6399['arrayLengt'+'h']??-0x165+-0x71*-0xb+-0x376*0x1),this['_storage']=_0x1f6399['storage']??!(0x5f8+-0x11*-0x1d6+0x1f*-0x133),this['_cubemap']=_0x1f6399['cubemap']??!(0x2652+0x24b2+0x207*-0x25),this['_flipY']=_0x1f6399['flipY']??!(-0x2256+-0x95*0x1+0x22ec),this['_premultip'+'lyAlpha']=_0x1f6399['premultipl'+'yAlpha']??!(-0x577*-0x1+-0x13d3+0xe5d),this['_mipmaps']=_0x1f6399['mipmaps']??!(0xf*-0x247+-0x20c5*0x1+0x293*0x1a),this['_numLevels'+'Requested']=_0x1f6399['numLevels'],_0x1f6399['numLevels']!==void(0x1721+-0x1b2d*0x1+0x206*0x2)&&(this['_numLevels']=_0x1f6399['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x1f6399['minFilter']??nn,this['_magFilter']=_0x1f6399['magFilter']??st,this['_anisotrop'+'y']=_0x1f6399['anisotropy']??-0x23*-0x6d+0x1*0x427+-0x130d,this['_addressU']=_0x1f6399['addressU']??tt,this['_addressV']=_0x1f6399['addressV']??tt,this['_addressW']=_0x1f6399['addressW']??tt,this['_compareOn'+'Read']=_0x1f6399['compareOnR'+'ead']??!(0x930+0xae6+-0x1*0x1415),this['_compareFu'+'nc']=_0x1f6399['compareFun'+'c']??Eh,this['type']=_0x1f6399['hasOwnProp'+'erty']('type')?_0x1f6399['type']:Di,v['assert'](!_0x1f6399['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x1f6399['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x1f6399['projection']&&_0x1f6399['projection']!==Au&&(this['projection']=_0x1f6399['projection']),this['profilerHi'+'nt']=_0x1f6399['profilerHi'+'nt']??0x2624+-0x7d3*-0x2+-0x35ca,this['_levels']=_0x1f6399['levels'];const _0x52c4e4=!!_0x1f6399['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x52c4e4),_0x59dbfd['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x2d29c4=xt['get'](this['format']))==null?void(0x1*-0x1422+-0x1898+0x2cba):_0x2d29c4['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0xbfed91=this['device'];if(_0xbfed91){const _0x4324d9=_0xbfed91['textures']['indexOf'](this);_0x4324d9!==-(-0x677*0x6+-0x26ea+-0x4db5*-0x1)&&_0xbfed91['textures']['splice'](_0x4324d9,-0x16eb*0x1+0x1a50+-0x364),_0xbfed91['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0xbfed91),this['adjustVram'+'SizeTracki'+'ng'](_0xbfed91['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x86253d=!(-0x151*-0xb+-0x809+0x6e*-0xf)){var _0x5a5aa7;const {device:_0x182ddd}=this;(_0x5a5aa7=this['impl'])==null||_0x5a5aa7['destroy'](_0x182ddd),this['impl']=null,this['impl']=_0x182ddd['createText'+'ureImpl'](this),this['dirtyAll'](),_0x86253d&&this['upload']();}['resize'](_0x4158b1,_0x2cc7f9,_0x2d287c=-0xa0*-0x17+-0x1*0x2212+-0x691*-0x3){const _0x514245=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x514245['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x514245),this['_width']=Math['floor'](_0x4158b1),this['_height']=Math['floor'](_0x2cc7f9),this['_depth']=Math['floor'](_0x2d287c),this['_updateNum'+'Level'](),this['impl']=_0x514245['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x58b268,_0x199186){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x199186+('\x20vram.text'+'ure:\x20')+_0x58b268['tex']+'\x20=>\x20'+(_0x58b268['tex']+_0x199186)),_0x58b268['tex']+=_0x199186,this['profilerHi'+'nt']===Tu?_0x58b268['texShadow']+=_0x199186:this['profilerHi'+'nt']===ur?_0x58b268['texAsset']+=_0x199186:this['profilerHi'+'nt']===Oy&&(_0x58b268['texLightma'+'p']+=_0x199186);}['propertyCh'+'anged'](_0x477038){this['impl']['propertyCh'+'anged'](_0x477038),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x1b5695=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x11b2+-0x1*0x233f+0x34f2,_0x5309e8=this['_numLevels'+'Requested'];_0x5309e8!==void(0x9*-0x19b+0x4e*-0xf+0x21d*0x9)&&_0x5309e8>_0x1b5695&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x1b5695,this),this['_numLevels']=Math['min'](_0x5309e8??_0x1b5695,_0x1b5695),this['_mipmaps']=this['_numLevels']>-0x654+0x8b1+-0x2*0x12e;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x5271c1){this['_minFilter']!==_0x5271c1&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x5271c1,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x3ba4a8){this['_magFilter']!==_0x3ba4a8&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x3ba4a8,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0xc59fc2){this['_addressU']!==_0xc59fc2&&(this['_addressU']=_0xc59fc2,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x2dc928){this['_addressV']!==_0x2dc928&&(this['_addressV']=_0x2dc928,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x244b4b){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x244b4b!==this['_addressW']&&(this['_addressW']=_0x244b4b,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x11700d){this['_compareOn'+'Read']!==_0x11700d&&(this['_compareOn'+'Read']=_0x11700d,this['propertyCh'+'anged']($y));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x391c76){this['_compareFu'+'nc']!==_0x391c76&&(this['_compareFu'+'nc']=_0x391c76,this['propertyCh'+'anged'](Wy));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x55b475){this['_anisotrop'+'y']!==_0x55b475&&(this['_anisotrop'+'y']=_0x55b475,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x2270fa){this['_mipmaps']!==_0x2270fa&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x2270fa,_0x2270fa&&(this['_needsMipm'+'apsUpload']=!(-0x5*0x1f3+0x1d*-0x137+0x2cfa)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x158899=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x1*0x1c58+-0x6*0x603+0x7bb);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x158899,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x14ff*-0x1+-0x9d0+0x1ecf;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x12158b){var _0x19e7b7,_0x1c9bbc,_0x45a58e,_0x23954d;const _0x87d3d4=Mh(this['format']);if(_0x12158b!==_0x87d3d4){if(_0x12158b){const _0x5131cf=Cc(this['format']);this['_format']!==_0x5131cf&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x19e7b7=xt['get'](this['format']))==null?void(-0x1bf4+0x188a+0x36a):_0x19e7b7['name'])+'\x20->\x20'+((_0x1c9bbc=xt['get'](_0x5131cf))==null?void(-0x52b+-0x1d62+0x228d):_0x1c9bbc['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x5131cf,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x15ae+0x237f+-0xdd1));}else{const _0x2f8dd0=kS(this['format']);this['_format']!==_0x2f8dd0&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x45a58e=xt['get'](this['format']))==null?void(-0x515*0x1+-0x2ee+0x803):_0x45a58e['name'])+'\x20->\x20'+((_0x23954d=xt['get'](_0x2f8dd0))==null?void(-0x37*0x10+-0x879+-0x1*-0xbe9):_0x23954d['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x2f8dd0,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1a1b+0x11f*0x17+0xa4*-0x51));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x1ab43c){this['_flipY']!==_0x1ab43c&&(this['_flipY']=_0x1ab43c,this['_needsUplo'+'ad']=!(-0x2e9*0x1+0xbb3*-0x1+-0x3a7*-0x4));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x2c9ef6){this['_premultip'+'lyAlpha']!==_0x2c9ef6&&(this['_premultip'+'lyAlpha']=_0x2c9ef6,this['_needsUplo'+'ad']=!(0x72d+0x5*0x2cf+-0x61*0x38));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x1*0x13cb+-0x26a5+0x3a70),!(-0xb4*-0xf+0x54*0x15+-0x9*0x1f0),!(0x3*0x28f+0x55*0x9+-0xaaa),!(0xe*0x1f0+-0x193*-0x5+-0x22ff),!(0x5*-0x1c6+0x102+0x7dc*0x1),!(0x1ae+-0xd4e+0xba0)]]:[!(0x1*0xd62+-0x1a0b+0xca9)],this['_needsUplo'+'ad']=!(-0x20e1+0xd5e+-0xb9*-0x1b),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x2*0x11c5+0x258d+-0x4916),this['propertyCh'+'anged'](yv);}['lock'](_0x589e29={}){_0x589e29['level']??(_0x589e29['level']=0x26c7+0x42c+0xe51*-0x3),_0x589e29['face']??(_0x589e29['face']=0x2db+-0x233*-0x1+-0x50e),_0x589e29['mode']??(_0x589e29['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x589e29['mode']===Fy||_0x589e29['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x589e29['mode'],this['_lockedLev'+'el']=_0x589e29['level'];const _0x56e7a6=this['cubemap']?this['_levels'][_0x589e29['face']]:this['_levels'];if(_0x56e7a6[_0x589e29['level']]===null){const _0x2455d1=Math['max'](-0xd79*-0x2+-0xf05+-0xbec,this['_width']>>_0x589e29['level']),_0x57978f=Math['max'](0x1*0x214a+0x1a7e*-0x1+-0x6cb,this['_height']>>_0x589e29['level']),_0x39a342=Math['max'](0xd50+-0x5*-0x3d1+-0x2064,this['_depth']>>_0x589e29['level']),_0x5d2e99=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x2455d1,_0x57978f,_0x39a342,this['_format']));_0x56e7a6[_0x589e29['level']]=new(Cy(this['_format']))(_0x5d2e99);}return _0x56e7a6[_0x589e29['level']];}['setSource'](_0x1374af,_0x456cd2=0x164d+-0x54f+-0x5aa*0x3){let _0xd6698e=!(-0x88a*-0x4+0x1e06+0x1*-0x402d),_0x27e575,_0x3c60d8;if(this['_cubemap']){if(_0x1374af[-0x1640+0x7*-0x3fb+0x321d]){_0x27e575=_0x1374af[0x215f+-0x1662+-0x1d*0x61]['width']||0x11*0x22e+0x12*0x174+-0x3*0x1512,_0x3c60d8=_0x1374af[0x1*0xf1+0x145*-0xf+0x121a]['height']||-0x9f+0x8*0xd7+-0x619;for(let _0x3cecb6=-0x1dc0+-0x12d5+-0x3095*-0x1;_0x3cecb6<-0xca*0x14+0x22*-0x76+0x1f7a;_0x3cecb6++){const _0x1a723b=_0x1374af[_0x3cecb6];if(!_0x1a723b||_0x1a723b['width']!==_0x27e575||_0x1a723b['height']!==_0x3c60d8||!this['device']['_isBrowser'+'Interface'](_0x1a723b)){_0xd6698e=!(0x65*0x32+-0x1923+0x569);break;}}}else _0xd6698e=!(0x1708+0x4*0x1f6+-0x1ee0);if(!_0xd6698e){for(let _0x5a7210=0x1b8e+-0x8ad+0x64b*-0x3;_0x5a7210<0x1afe+-0x3*0x343+0x112f*-0x1;_0x5a7210++)this['_levels'][_0x456cd2][_0x5a7210]!==_0x1374af[_0x5a7210]&&(this['_levelsUpd'+'ated'][_0x456cd2][_0x5a7210]=!(0x16cc*-0x1+0xa37+0xc95));}}else this['device']['_isBrowser'+'Interface'](_0x1374af)||(_0xd6698e=!(0x1e26+0x1db7+0x5*-0xbf9)),_0xd6698e||(_0x1374af!==this['_levels'][_0x456cd2]&&(this['_levelsUpd'+'ated'][_0x456cd2]=!(0x23e1+-0x802+-0x1bdf)),_0x1374af instanceof HTMLVideoElement?(_0x27e575=_0x1374af['videoWidth'],_0x3c60d8=_0x1374af['videoHeigh'+'t']):(_0x27e575=_0x1374af['width'],_0x3c60d8=_0x1374af['height']));if(_0xd6698e){if(this['_width']=0x178d*-0x1+0x1eb5+-0x724,this['_height']=0x23df+0x6e*0x25+-0x33c1,this['_cubemap']){for(let _0x2f5b79=0x5*-0x52e+-0xb19+0x3*0xc55;_0x2f5b79<-0xe9*-0x16+0xd2+-0xa69*0x2;_0x2f5b79++)this['_levels'][_0x456cd2][_0x2f5b79]=null,this['_levelsUpd'+'ated'][_0x456cd2][_0x2f5b79]=!(-0xae7+-0x15de+0x20c5*0x1);}else this['_levels'][_0x456cd2]=null,this['_levelsUpd'+'ated'][_0x456cd2]=!(0x5*-0x49a+-0x49*-0x13+0x1197);}else _0x456cd2===-0x3*-0xade+0x316*-0x8+-0x7ea&&(this['_width']=_0x27e575,this['_height']=_0x3c60d8),this['_levels'][_0x456cd2]=_0x1374af;(this['_invalid']!==_0xd6698e||!_0xd6698e)&&(this['_invalid']=_0xd6698e,this['upload']());}['getSource'](_0x7c154=0x2*-0xa36+0x238f*0x1+0x307*-0x5){return this['_levels'][_0x7c154];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(-0xe60+0x169b+-0x83a),this['_lockedMod'+'e']=yl;}['upload'](){var _0x3b32cf,_0x4328a3;this['_needsUplo'+'ad']=!(-0x182a+0x1752+0x1*0xd8),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x4328a3=(_0x3b32cf=this['impl'])['uploadImme'+'diate'])==null||_0x4328a3['call'](_0x3b32cf,this['device'],this);}['read'](_0x378ca9,_0x56886e,_0x1f8d16,_0x288253,_0x31e89c={}){var _0x5b559d,_0x4701fe;return(_0x4701fe=(_0x5b559d=this['impl'])['read'])==null?void(0xb17+0xab6+0x15cd*-0x1):_0x4701fe['call'](_0x5b559d,_0x378ca9,_0x56886e,_0x1f8d16,_0x288253,_0x31e89c);}}const Mv={'white':[-0x8a8*-0x4+0x1aa1+-0x3c42,0x12bf+-0x25db+-0x141b*-0x1,0x2*0xc9f+-0xcc5+-0xb7a,0x25f+-0x36*-0x1d+-0x89*0xe],'gray':[-0x13d3+-0x11bc+0x260f*0x1,-0x1c85+0x161*0x13+0x26*0x13,-0x24ad+0x833*0x1+0x1cfa,0xa47*0x2+0x1589+-0x2918],'black':[0x1*-0x8d1+0xc1d+-0x34c,0x6*-0x1a5+-0xb7*-0xd+-0x7*-0x15,0x1eb2+0x43*0x29+-0x296d,0x7c4+0x2*0x12f4+-0x1*0x2cad],'normal':[0x1eb1+0xaed+-0x291e,-0x18f+-0x239*-0xd+0x2*-0xd6b,-0x27*-0x50+0x1*0x1e3+-0xd14,-0x2542+0x2482+-0x1bf*-0x1],'pink':[0x34a+0x26*-0x7f+0x1d7*0x9,-0x1146+0x2*0x14a+-0x185*-0xa,0x1ca9+-0x24ac+0x902,-0x1*-0x971+-0x25c6+0x1d54]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x3dba7c=>{_0x3dba7c['destroy']();});}}const Rv=new Ot(),en=(_0x4b04e4,_0x15950a)=>{const _0x5ba003=Rv['get'](_0x4b04e4,()=>new Pv());if(!_0x5ba003['map']['has'](_0x15950a)){const _0x64a70c=new he(_0x4b04e4,{'name':'built-in-t'+'exture-'+_0x15950a,'width':0x1,'height':0x1,'format':Se}),_0xaef4a6=_0x64a70c['lock'](),_0x46bd52=Mv[_0x15950a];v['assert'](_0x46bd52,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x15950a+('\x27\x20not\x20foun'+'d')),_0xaef4a6['set'](_0x46bd52),_0x64a70c['unlock'](),_0x5ba003['map']['set'](_0x15950a,_0x64a70c);}return _0x5ba003['map']['get'](_0x15950a);};let Iv=0x1*-0x9df+-0x1*0x2080+0x2a5f;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x155391,_0x56ec29,_0x11baa3){c(this,'renderVers'+'ionUpdated',-(0x1de*-0x3+-0x1190+0x7b9*0x3)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x155391,this['format']=_0x56ec29,this['dirty']=!(0x6*-0x676+-0x1*-0xd2e+-0x28f*-0xa),this['impl']=_0x155391['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x11baa3,_0x11baa3&&this['setUniform'+'Buffer'](fp,_0x11baa3),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x56ec29));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x3c6a62,_0x44f115){const _0x219b5a=this['format']['bufferForm'+'atsMap']['get'](_0x3c6a62);v['assert'](_0x219b5a!==void(0x1d*0x11b+0xe79+0x2e88*-0x1),'Setting\x20a\x20'+'uniform\x20['+_0x3c6a62+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x219b5a]!==_0x44f115&&(this['uniformBuf'+'fers'][_0x219b5a]=_0x44f115,this['dirty']=!(0x2*0x38f+-0x2*0xfbb+0x1858));}['setStorage'+'Buffer'](_0x36164e,_0x5375de){const _0x2eadff=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x36164e);v['assert'](_0x2eadff!==void(0x9*0x1e9+0xa9*-0xb+0x29*-0x3e),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x36164e+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x2eadff]!==_0x5375de&&(this['storageBuf'+'fers'][_0x2eadff]=_0x5375de,this['dirty']=!(-0xbdf+-0x2f*-0x8d+-0xe04));}['setTexture'](_0x899959,_0x50b9b9){const _0x139927=this['format']['textureFor'+'matsMap']['get'](_0x899959);v['assert'](_0x139927!==void(-0xc6a*-0x1+0x72+0x2*-0x66e),'Setting\x20a\x20'+'texture\x20['+_0x899959+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x139927]!==_0x50b9b9?(this['textures'][_0x139927]=_0x50b9b9,this['dirty']=!(0x1*0xa84+0x2485+0x2f09*-0x1)):this['renderVers'+'ionUpdated']<_0x50b9b9['renderVers'+'ionDirty']&&(this['dirty']=!(-0x18b9+0x371*0x1+0x1548));}['setStorage'+'Texture'](_0x3139d1,_0x58db4d){const _0xadd004=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x3139d1);v['assert'](_0xadd004!==void(-0x202+0x758+-0x1*0x556),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x3139d1+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0xadd004]!==_0x58db4d?(this['storageTex'+'tures'][_0xadd004]=_0x58db4d,this['dirty']=!(0x19b*0xb+0x1*0xf02+-0x20ab)):this['renderVers'+'ionUpdated']<_0x58db4d['renderVers'+'ionDirty']&&(this['dirty']=!(-0x229a+0x18fc+-0x1*-0x99e));}['updateUnif'+'ormBuffers'](){for(let _0x32b440=0xb12*0x1+-0x22dc*0x1+-0x46*-0x57;_0x32b440<this['uniformBuf'+'fers']['length'];_0x32b440++)this['uniformBuf'+'fers'][_0x32b440]['update']();}['update'](){const {textureFormats:_0x53ff5f,storageTextureFormats:_0x1a67de,storageBufferFormats:_0x483509}=this['format'];for(let _0x36e945=0x22de+0x1d93+-0x4071;_0x36e945<_0x53ff5f['length'];_0x36e945++){const _0x35b87a=_0x53ff5f[_0x36e945];let _0x2b818a=_0x35b87a['scopeId']['value'];_0x2b818a||(_0x35b87a['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x2b818a=en(this['device'],'white')),_0x35b87a['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x2b818a=en(this['device'],'pink')),_0x2b818a||(v['errorOnce']('Texture\x20'+_0x35b87a['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x2b818a=en(this['device'],'pink'))),this['setTexture'](_0x35b87a['name'],_0x2b818a);}for(let _0x49d82f=0x1*0xa61+0x15e*-0xc+0x1*0x607;_0x49d82f<_0x1a67de['length'];_0x49d82f++){const _0x50905b=_0x1a67de[_0x49d82f],_0x31d00e=_0x50905b['scopeId']['value'];v['assert'](_0x31d00e,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x50905b['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x50905b['name'],_0x31d00e);}for(let _0x3cfab4=-0x165d+-0x1*-0x1f9a+-0x1*0x93d;_0x3cfab4<_0x483509['length'];_0x3cfab4++){const _0x553676=_0x483509[_0x3cfab4],_0x51cbe9=_0x553676['scopeId']['value'];v['assert'](_0x51cbe9,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x553676['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x553676['name'],_0x51cbe9);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x57d3ab=-0x4d9*-0x1+-0x1341+0x1*0xe68;_0x57d3ab<this['uniformBuf'+'fers']['length'];_0x57d3ab++){const _0xcbab95=this['uniformBuf'+'fers'][_0x57d3ab];this['uniformBuf'+'ferOffsets'][_0x57d3ab]=_0xcbab95['offset'],this['renderVers'+'ionUpdated']<_0xcbab95['renderVers'+'ionDirty']&&(this['dirty']=!(0x1*0x7cd+0x147e+-0x1c4b*0x1));}this['dirty']&&(this['dirty']=!(-0x2*0xd93+0x331+0x17f6),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x17da61,_0x5edbde,_0x54b54c,_0x286461=-0x67b+-0x1*-0x1348+-0xccc){return _0x17da61&~(_0x286461<<_0x54b54c)|_0x5edbde<<_0x54b54c;},'get'(_0x4bce9f,_0x4a2e39,_0x744796=0xafd+0x24d2+-0xd3*0x3a){return _0x4bce9f>>_0x4a2e39&_0x744796;},'all'(_0x5752ee,_0x510206,_0x54a3af=0x15e4+0x1bbb+-0x319e){const _0x4a6fa7=_0x54a3af<<_0x510206;return(_0x5752ee&_0x4a6fa7)===_0x4a6fa7;},'any'(_0x27fb89,_0x402dce,_0x1f5729=0x18b*0x9+-0x3*0xcda+-0x62b*-0x4){return(_0x27fb89&_0x1f5729<<_0x402dce)!==-0x213d+0x844*0x1+0x1*0x18f9;}},xl=-0x2612+-0x17e3+0x3dfc,Vi=0x18e1*0x1+0x3fd+-0x1ccf,dm=0x16b6+0x16cf+-0x2d85,um=-0xb59*0x3+-0x1*-0x1da1+0x46d,fm=-0x1c*0xf1+-0x108*-0x25+-0x83*0x17,pm=-0x19ed*0x1+0x18*-0x7d+0x25b0,mm=-0x47*0x79+0x2*0x45d+0x18e3,_m=-0xab6+-0x326+0x2*0x6f7,Cu=0x177e+0x5f+-0x17c7,gm=0x6ab*-0x3+-0x900+0x1d18,ym=0xcfc+-0x740*-0x1+-0x1424,xm=0xa*-0x2e1+-0x2128+0x3e0b*0x1,Sm=0x4a*-0x39+0xd*-0x2b6+-0xc9*-0x42,Dv=0x321+-0x9f8+0x6e6,Lv=Cu,zs=class zs{constructor(_0x2ea3ca=!(0x250e+0x11*0x14e+-0x3b3b),_0x4a3f31=Lt,_0x27b7ca=at,_0x37298d=kf,_0x4e118c,_0x6f4f0,_0x597563,_0x389372=!(0x5d1*-0x1+0x23ce+-0x9*0x355),_0x575063=!(-0x1*-0x14f+-0x160a+0x57*0x3d),_0x15c62c=!(0x23d2*0x1+-0x1789+-0xc49),_0x17e191=!(-0x531+-0x2*0x53c+0xfa9)){c(this,'target0',-0xb4a+-0x8a6+-0xb*-0x1d0),(this['setColorBl'+'end'](_0x4a3f31,_0x27b7ca,_0x37298d),this['setAlphaBl'+'end'](_0x4e118c??_0x4a3f31,_0x6f4f0??_0x27b7ca,_0x597563??_0x37298d),this['setColorWr'+'ite'](_0x389372,_0x575063,_0x15c62c,_0x17e191),this['blend']=_0x2ea3ca);}set['blend'](_0x149d70){this['target0']=Oe['set'](this['target0'],_0x149d70?0x29*0x2+-0x1*-0x1475+-0x14c6*0x1:-0x20+0x2e*0x9f+-0x1c72,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x2499df,_0x1ad1ea,_0x448ee9){this['target0']=Oe['set'](this['target0'],_0x2499df,dm,xl),this['target0']=Oe['set'](this['target0'],_0x1ad1ea,um,Vi),this['target0']=Oe['set'](this['target0'],_0x448ee9,fm,Vi);}['setAlphaBl'+'end'](_0x401f23,_0x4eec4c,_0x3e1b88){this['target0']=Oe['set'](this['target0'],_0x401f23,pm,xl),this['target0']=Oe['set'](this['target0'],_0x4eec4c,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x3e1b88,_m,Vi);}['setColorWr'+'ite'](_0x2a8ab0,_0xc6834b,_0xcccb3f,_0x1caeb4){this['redWrite']=_0x2a8ab0,this['greenWrite']=_0xc6834b,this['blueWrite']=_0xcccb3f,this['alphaWrite']=_0x1caeb4;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x53128f){this['target0']=Oe['set'](this['target0'],_0x53128f?-0x269c+-0x4ec*-0x5+0xe01:-0x236e+-0x17e*-0x4+0x1*0x1d76,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x35d218){this['target0']=Oe['set'](this['target0'],_0x35d218?0xcde+0x38b*-0x3+-0x23c:0x153d+-0x30e*-0x3+-0x1e67,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0xea89f0){this['target0']=Oe['set'](this['target0'],_0xea89f0?-0x4*-0x818+0x1c3f+-0x3c9e:0x1451*0x1+-0xb*0xce+0x1*-0xb77,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x1a33a3){this['target0']=Oe['set'](this['target0'],_0x1a33a3?-0x1*0xa57+0xc42+-0x1*0x1ea:-0x1730+-0x1bc2+-0x32f2*-0x1,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x4e91ff){return this['target0']=_0x4e91ff['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0xc1d3c9){return this['target0']===_0xc1d3c9['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(0x14c0+0x1d29+-0x1*0x31e9),void(0x20b6+0x11ae+-0x204*0x19),void(-0x10*0x3e+-0x1787+0x1b67),void(0x2216+0x56b+0x3*-0xd2b),void(-0x8*0x2e4+0xfa0+-0x2*-0x3c0),void(0x5*-0x3bb+-0x10a9+0x2350),void(-0x2088+-0x246+-0x6f6*-0x5),!(-0x2320+-0x1027+0x3348),!(0xd2+-0xda*-0x1d+-0x3*0x881),!(-0xb40+-0x11*-0x8b+0x206),!(-0xd62+0x131a+-0x5b7)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0x2*-0x977+0x1322+0xd*-0x4),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0x11e4+-0x116*-0x22+-0x1308),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',0x1*0x176d+0x51e*-0x4+-0x2f5);}['get'](_0xccfd0){let _0x3152e0=this['map']['get'](_0xccfd0);return _0x3152e0===void(0x99f+-0x10d*0x1d+-0x1*-0x14da)&&(_0x3152e0=this['id']++,this['map']['set'](_0xccfd0,_0x3152e0)),_0x3152e0;}}const Fv=new _p(),vm=0x6*0x2bd+0x972*0x1+-0x19d9,bm=-0x945+0xbdd*0x1+-0x298,wm=-0x8a*-0xb+0x25*-0xf3+-0x216*-0xe,Zi=class Zi{constructor(_0x2972d1=fu,_0x26a16b=!(-0xfdd+-0x870+-0x1*-0x184d)){c(this,'data',-0xc2+0x1*-0x260f+0x26d1),c(this,'_depthBias',0x241c+0x1be4+-0x4000),c(this,'_depthBias'+'Slope',-0x900+-0x25b4+0xbad*0x4),c(this,'key',0x1c97+-0x5*-0xb5+-0x2020),(this['func']=_0x2972d1,this['write']=_0x26a16b);}set['test'](_0x1ee903){this['func']=_0x1ee903?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x4acec9){this['data']=Oe['set'](this['data'],_0x4acec9?0xdc7+-0xd6f+-0x57:0x63+-0x15*0x191+0x2082,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x205fe5){this['data']=Oe['set'](this['data'],_0x205fe5,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x22094b){this['_depthBias']=_0x22094b,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x170b63){this['_depthBias'+'Slope']=_0x170b63,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x4741bb){return this['data']=_0x4741bb['data'],this['_depthBias']=_0x4741bb['_depthBias'],this['_depthBias'+'Slope']=_0x4741bb['_depthBias'+'Slope'],this['key']=_0x4741bb['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x5add9e,_depthBias:_0x2dd7d2,_depthBiasSlope:_0x2fc495}=this,_0x3b22ed=_0x5add9e+'-'+_0x2dd7d2+'-'+_0x2fc495;this['key']=Fv['get'](_0x3b22ed);}['equals'](_0x48f412){return this['key']===_0x48f412['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(0x2fd+-0x1d38+0x1a3c)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(-0x1f*0x46+0xb5d*0x3+-0x4f*0x53))));let as=Zi;class Ky{constructor(){c(this,'globalId',0xd3+0x2*-0x10c1+0x20af),c(this,'revision',0x18+-0x1c46+-0x2*-0xe17);}['equals'](_0x58c930){return this['globalId']===_0x58c930['globalId']&&this['revision']===_0x58c930['revision'];}['copy'](_0x5d27ff){this['globalId']=_0x5d27ff['globalId'],this['revision']=_0x5d27ff['revision'];}['reset'](){this['globalId']=0x3*0x7eb+-0x525+-0x129c,this['revision']=0xb8*-0x32+-0x7b9+0x1*0x2ba9;}}let Tm=0x1*-0x219d+0x1042+-0x1*-0x115b;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x2c89db){this['name']=_0x2c89db,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x107717){}['setValue'](_0x1e27f0){this['value']=_0x1e27f0,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x251955){this['name']=_0x251955,this['variables']=new Map();}['resolve'](_0x50ba8b){return this['variables']['has'](_0x50ba8b)||this['variables']['set'](_0x50ba8b,new kv(_0x50ba8b)),this['variables']['get'](_0x50ba8b);}['removeValu'+'e'](_0x1488ca){for(const _0x44f50a in this['variables']){const _0xe0fc26=this['variables'][_0x44f50a];_0xe0fc26['value']===_0x1488ca&&(_0xe0fc26['value']=null);}}}let Nv=0xc43+-0x789+0xa*-0x79;class os{constructor(_0xb94a48,_0x474909,_0x57b875,_0x164324){c(this,'usage',jt),(v['assert'](arguments['length']<=-0xbf*-0x29+-0x19bb+-0x14*0x3e&&(!_0x164324||typeof _0x164324=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x164324==null?void(0x229e+-0x2*-0xa77+-0x378c):_0x164324['usage'])??jt,this['device']=_0xb94a48,this['format']=_0x474909,this['numVertice'+'s']=_0x57b875,this['id']=Nv++,this['impl']=_0xb94a48['createVert'+'exBufferIm'+'pl'](this,_0x474909,_0x164324),this['numBytes']=_0x474909['verticesBy'+'teSize']?_0x474909['verticesBy'+'teSize']:_0x474909['size']*_0x57b875,this['adjustVram'+'SizeTracki'+'ng'](_0xb94a48['_vram'],this['numBytes']));const _0x393faf=_0x164324==null?void(0x116*-0x17+-0x290+0x1b8a):_0x164324['data'];_0x393faf?this['setData'](_0x393faf):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x33303b=this['device'],_0x7953c8=_0x33303b['buffers']['indexOf'](this);_0x7953c8!==-(0x42*0x33+-0x7*-0x4fb+-0xa*0x4cd)&&_0x33303b['buffers']['splice'](_0x7953c8,0x2001+-0xa*0x81+-0x1af6),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x33303b),this['adjustVram'+'SizeTracki'+'ng'](_0x33303b['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x417e57,_0x363ffb){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x363ffb+'\x20vram.vb:\x20'+_0x417e57['vb']+'\x20=>\x20'+(_0x417e57['vb']+_0x363ffb)),_0x417e57['vb']+=_0x363ffb;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x10740c){return _0x10740c['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x10740c['byteLength']),!(0x25e6+0x2e0+-0x28c5)):(this['storage']=_0x10740c,this['unlock'](),!(-0xf1*0x1b+-0x507+-0x6*-0x513));}}function hn(_0x284e64){if(_0x284e64==null)return 0x20e1+-0x12a6+-0x1*0xe3b;let _0x3f7628=0x1*-0xc91+0x173d+-0xaac;for(let _0x143ebf=-0x4*-0x82a+0xd*0x119+-0x2eed,_0x3caf71=_0x284e64['length'];_0x143ebf<_0x3caf71;_0x143ebf++)_0x3f7628=(_0x3f7628<<0x27*-0x67+-0x4cb*0x3+0x1e17)-_0x3f7628+_0x284e64['charCodeAt'](_0x143ebf),_0x3f7628|=-0x2*0x739+-0x2*0xc5e+0x272e;return _0x3f7628;}function Zy(_0x57ee4d){let _0x205a63=0x12c36*0xaff+0x4bbb13*-0x145+0x2b026c6*0x4f;for(let _0x524e62=0x25e7+0x1*0x1359+-0x3940;_0x524e62<_0x57ee4d['length'];_0x524e62++)_0x205a63^=_0x57ee4d[_0x524e62],_0x205a63*=0x180c1c2+0xcd*0x1436e+-0x183bf45;return _0x205a63>>>-0x219c+-0x194f+-0x3aeb*-0x1;}const zv=new _p(),Uv=[0x21*0xd0+0x16*-0x176+0x556,-0xb2b+-0x2*0x3ad+0x16d*0xd,0x4d5+0x1c5c+-0x2129,0x1*0x1031+0x16a*-0x10+0x4f*0x15,0x1258+-0x7a*-0x2e+0x2834*-0x1],Vv=new Ot();class Et{constructor(_0x13e190,_0x10d8a5,_0x41b671){this['device']=_0x13e190,this['_elements']=[],this['hasUv0']=!(0x22e1+0x1797+-0x3a77*0x1),this['hasUv1']=!(0xbc*-0x2+0x457+-0x2de),this['hasColor']=!(0x1ff7+0x1d83+-0x3d79*0x1),this['hasTangent'+'s']=!(-0x20f8*-0x1+-0x52c+0x1*-0x1bcb),this['verticesBy'+'teSize']=-0x110a*-0x2+-0x16*0xfb+-0xc82,this['vertexCoun'+'t']=_0x41b671,this['interleave'+'d']=_0x41b671===void(0x1*-0x1349+0x6*0x596+-0xe3b*0x1),this['instancing']=!(0x11a*0x1a+-0x1f*-0x71+-0x1529*0x2),this['size']=_0x10d8a5['reduce']((_0x2197fe,_0x38075f)=>_0x2197fe+Math['ceil'](_0x38075f['components']*_o[_0x38075f['type']]/(0x15f7+-0x8e*-0x26+-0x2b07))*(-0x6*-0x595+-0x132a*0x1+-0xe50),-0x3*-0x1af+0x882*0x4+0x91*-0x45);let _0x5ee0b9=-0x14*-0x4a+-0x1561+0xf99,_0x376091;for(let _0x10deaa=0x1*-0x2057+0x26ef+-0x1*0x698,_0xd3e07a=_0x10d8a5['length'];_0x10deaa<_0xd3e07a;_0x10deaa++){const _0x574884=_0x10d8a5[_0x10deaa];_0x376091=_0x574884['components']*_o[_0x574884['type']],v['assert'](Et['isElementV'+'alid'](_0x13e190,_0x574884),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x574884['semantic']+'\x20:\x20'+Sv[_0x574884['type']]+'\x20x\x20'+_0x574884['components']),_0x41b671&&(_0x5ee0b9=N['roundUp'](_0x5ee0b9,_0x376091),v['assert'](_0x376091%(-0x1*-0x5b3+-0x86f+0x2c0)===0x2de+0x4a*0x10+-0x7*0x112,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x376091));const _0x56510d=_0x574884['asInt']??!(0x12b6+-0x4f*0x3b+-0x80),_0x4da82c=_0x56510d?!(0x1fae*0x1+-0x2*0x1349+-0x161*-0x5):_0x574884['normalize']??!(-0x7a*-0xd+0x20a6+-0x26d7),_0x53ef7a={'name':_0x574884['semantic'],'offset':_0x41b671?_0x5ee0b9:_0x574884['hasOwnProp'+'erty']('offset')?_0x574884['offset']:_0x5ee0b9,'stride':_0x41b671?_0x376091:_0x574884['hasOwnProp'+'erty']('stride')?_0x574884['stride']:this['size'],'dataType':_0x574884['type'],'numComponents':_0x574884['components'],'normalize':_0x4da82c,'size':_0x376091,'asInt':_0x56510d};this['_elements']['push'](_0x53ef7a),_0x41b671?_0x5ee0b9+=_0x376091*_0x41b671:_0x5ee0b9+=Math['ceil'](_0x376091/(-0x415+-0x551*0x4+0x195d*0x1))*(0x14c2+-0x12b+-0x1393),_0x574884['semantic']===ns?this['hasUv0']=!(0x167b*0x1+-0x1c87*-0x1+0x3302*-0x1):_0x574884['semantic']===_n?this['hasUv1']=!(0x5ef*-0x3+0x240d+-0x490*0x4):_0x574884['semantic']===At?this['hasColor']=!(-0xc2f+-0xd67+-0x5*-0x51e):_0x574884['semantic']===Zs&&(this['hasTangent'+'s']=!(0x1cd0+-0x14f9+-0x3*0x29d));}_0x41b671&&(this['verticesBy'+'teSize']=_0x5ee0b9),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x2022d8){return Vv['get'](_0x2022d8,()=>new Et(_0x2022d8,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x399cd5,_0x351f22){const _0x3e525a=_0x351f22['components']*_o[_0x351f22['type']];return!(_0x399cd5['isWebGPU']&&!Uv['includes'](_0x3e525a));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x413386=[],_0x2bfe1c=[],_0x1e2b25=this['_elements']['length'];for(let _0x185e8d=0x1*0x10cb+0x11c5+-0x2290;_0x185e8d<_0x1e2b25;_0x185e8d++){const {name:_0x557eb5,dataType:_0xaef516,numComponents:_0x59d6c2,normalize:_0x329dd6,offset:_0x3c853f,stride:_0x58880e,size:_0x20d418,asInt:_0x436ec1}=this['_elements'][_0x185e8d],_0x57a751=_0x557eb5+_0xaef516+_0x59d6c2+_0x329dd6+_0x436ec1;_0x413386['push'](_0x57a751);const _0xe81879=_0x57a751+_0x3c853f+_0x58880e+_0x20d418;_0x2bfe1c['push'](_0xe81879);}_0x413386['sort']();const _0x594c93=_0x413386['join']();this['batchingHa'+'sh']=hn(_0x594c93),this['shaderProc'+'essingHash'+'String']=_0x594c93,this['renderingH'+'ashString']=_0x2bfe1c['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x1ab8ab={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0xadd+0x85d+-0x133a)),c(this,'_key'),(this['_func']=_0x1ab8ab['func']??Ai,this['_ref']=_0x1ab8ab['ref']??-0x3*-0xc5+0x6bb+-0x90a,this['_readMask']=_0x1ab8ab['readMask']??0x1b8e+0x1286+0x2d15*-0x1,this['_writeMask']=_0x1ab8ab['writeMask']??-0x26f2+-0xae7*0x3+-0x11*-0x446,this['_fail']=_0x1ab8ab['fail']??ha,this['_zfail']=_0x1ab8ab['zfail']??ha,this['_zpass']=_0x1ab8ab['zpass']??ha,this['_evalKey']());}set['func'](_0x1f2963){this['_func']=_0x1f2963,this['_dirty']=!(0x1f*0x2+0x21d*0xb+-0x35b*0x7);}get['func'](){return this['_func'];}set['ref'](_0x3da9e2){this['_ref']=_0x3da9e2,this['_dirty']=!(0x14be+-0x679*0x2+0x4*-0x1f3);}get['ref'](){return this['_ref'];}set['fail'](_0xaf0eb9){this['_fail']=_0xaf0eb9,this['_dirty']=!(0x36c*0x4+0x189+0x9*-0x1b1);}get['fail'](){return this['_fail'];}set['zfail'](_0x167538){this['_zfail']=_0x167538,this['_dirty']=!(-0xd*-0x1f+-0xfb*0x2+0x63);}get['zfail'](){return this['_zfail'];}set['zpass'](_0xadf435){this['_zpass']=_0xadf435,this['_dirty']=!(0x1*-0x165b+0x173a+-0xdf);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x4f79cf){this['_readMask']=_0x4f79cf,this['_dirty']=!(0x9f+-0x11d6+0x1137*0x1);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x7833e3){this['_writeMask']=_0x7833e3,this['_dirty']=!(0x247e+0x4*0x859+-0x22f1*0x2);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x4bab3d,_ref:_0x2351d1,_fail:_0x201f05,_zfail:_0xd0f4a7,_zpass:_0x2c55b6,_readMask:_0x5d29e2,_writeMask:_0x3c5e1f}=this,_0x3f4f28=_0x4bab3d+','+_0x2351d1+','+_0x201f05+','+_0xd0f4a7+','+_0x2c55b6+','+_0x5d29e2+','+_0x3c5e1f;this['_key']=Gv['get'](_0x3f4f28),this['_dirty']=!(0x5*0xda+-0x1c3c+0x17fb*0x1);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x28a6b5){return this['_func']=_0x28a6b5['_func'],this['_ref']=_0x28a6b5['_ref'],this['_readMask']=_0x28a6b5['_readMask'],this['_writeMask']=_0x28a6b5['_writeMask'],this['_fail']=_0x28a6b5['_fail'],this['_zfail']=_0x28a6b5['_zfail'],this['_zpass']=_0x28a6b5['_zpass'],this['_dirty']=_0x28a6b5['_dirty'],this['_key']=_0x28a6b5['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x2eaa3b,_0x3bbcf9){var _0x1e3283,_0x4687e8,_0x53df6f,_0x4fd369,_0x1b2b89,_0xf16338;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new $()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0x1*-0x4d3+0x21f3+-0x1d1f)),c(this,'isWebGPU',!(0x7fb+-0x1*0xe9+-0x711)),c(this,'isWebGL2',!(-0xf8c+0x172e+0x15*-0x5d)),c(this,'isHdr',!(-0x5*0x6ad+-0x15e+0x22c0)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0x1eee+-0x2b*-0xa4+0x363),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',0x2de*-0xc+-0xb8f+0x2df8),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x1*-0x2376+-0x49a*-0x1+-0x1edd*-0x1)),c(this,'supportsSt'+'orageTextu'+'reRead',!(0x7e*0x1b+0x1*0x5c4+-0x130d)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',0xa34+0xd01+0x1735*-0x1),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x1f38+0x1*-0x115+-0x1e22)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x7aa+-0x2587+0x1*0x1dde)),c(this,'supportsCl'+'ipDistance'+'s',!(0x975+0x19e+-0xb12)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(-0xc02*0x1+-0x16*-0x7+0xb69)),c(this,'textureFlo'+'atFilterab'+'le',!(-0x15a0+0x5f+-0xaa1*-0x2)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(0xdc*0x8+-0x2091+0x12b*0x16)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[0x1ea+-0x4d7+0x2ed*0x1,-0xd67+-0x5*-0x2e6+-0x117,-0x27f*0x1+-0x2b4+0x533,0x2*0xcc8+-0x20ad+0x71e],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x15a9*0x1+-0x57f*0x4+-0xc*-0x7)),(this['canvas']=_0x2eaa3b,this['initOption'+'s']={..._0x3bbcf9},(_0x1e3283=this['initOption'+'s'])['alpha']??(_0x1e3283['alpha']=!(0x426+0x1f01*0x1+-0x2327)),(_0x4687e8=this['initOption'+'s'])['depth']??(_0x4687e8['depth']=!(0xac+-0x1b46*-0x1+-0x92*0x31)),(_0x53df6f=this['initOption'+'s'])['stencil']??(_0x53df6f['stencil']=!(-0x91e*0x1+0x1603+-0x1*0xce5)),(_0x4fd369=this['initOption'+'s'])['antialias']??(_0x4fd369['antialias']=!(0x26f+0x1fe9+-0x2258)),(_0x1b2b89=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x1b2b89['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0xf16338=this['initOption'+'s'])['displayFor'+'mat']??(_0xf16338['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](-0x1*-0x7e5+0x4*0x5ff+0x7f8*-0x4,window['devicePixe'+'lRatio']):0x7e1+0xd99+-0x1579,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x2187+0x1826+0x961,this['_shaderSwi'+'tchesPerFr'+'ame']=0x1495+0xa57+-0x1eec,this['_primsPerF'+'rame']=[]);for(let _0x201ba8=Mc;_0x201ba8<=Yr;_0x201ba8++)this['_primsPerF'+'rame'][_0x201ba8]=-0x37f*-0xb+-0x2634+-0x41;this['_renderTar'+'getCreatio'+'nTime']=0x918+-0x2211+0x18f9,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x1*-0x19bb+-0x28d*0x7+-0x9*0xe0);}['postInit'](){const _0x52efe9=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x3aaa5=new Float32Array([-(0x1119+0x2188+-0x32a0),-(-0x1def+-0x1*-0x2121+0x1*-0x331),0xc8e+-0x2104+0x1477,-(-0x6f4*-0x4+-0xe8d*0x1+-0x2*0x6a1),-(0x444*-0x9+-0x778+0x2ddd),0x5*-0x71b+-0x1d*0x154+0x4*0x1283,-0x1779+0x1083+0x6f7*0x1,-0xf7+0x790+0x8*-0xd3]);this['quadVertex'+'Buffer']=new os(this,_0x52efe9,0x254e+-0x1f80+-0x5ca,{'data':_0x3aaa5});}['destroy'](){var _0x5d97aa,_0x533817,_0x4489b9;this['fire']('destroy'),(_0x5d97aa=this['quadVertex'+'Buffer'])==null||_0x5d97aa['destroy'](),this['quadVertex'+'Buffer']=null,(_0x533817=this['dynamicBuf'+'fers'])==null||_0x533817['destroy'](),this['dynamicBuf'+'fers']=null,(_0x4489b9=this['gpuProfile'+'r'])==null||_0x4489b9['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x2415db){this['fire']('destroy:sh'+'ader',_0x2415db);const _0x49320c=this['shaders']['indexOf'](_0x2415db);_0x49320c!==-(0x1b3b+-0x127*-0x16+-0x3494)&&this['shaders']['splice'](_0x49320c,0x2*0x116f+0x22fa+-0x45d7);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x5a3bd2;this['contextLos'+'t']=!(-0x7b*-0x10+0x1182+-0x1932),this['backBuffer'+'Size']['set'](-(-0xd8+0x4c8*-0x1+0x5a1),-(-0x1720+-0x2b+0x174c));for(const _0x2a855c of this['textures'])_0x2a855c['loseContex'+'t']();for(const _0x50232d of this['buffers'])_0x50232d['loseContex'+'t']();for(const _0x2a064e of this['targets'])_0x2a064e['loseContex'+'t']();(_0x5a3bd2=this['gpuProfile'+'r'])==null||_0x5a3bd2['loseContex'+'t']();}['restoreCon'+'text'](){var _0x34fe74,_0x2d49df;this['contextLos'+'t']=!(-0x673+0x1*0xc5c+0x1b*-0x38),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x1b2108 of this['buffers'])_0x1b2108['unlock']();(_0x2d49df=(_0x34fe74=this['gpuProfile'+'r'])==null?void(0x593*0x5+-0x2e5+0xc7d*-0x2):_0x34fe74['restoreCon'+'text'])==null||_0x2d49df['call'](_0x34fe74);}['toJSON'](_0x334cad){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x83*-0x27+-0x1061+-0x394),this['shaderAsyn'+'cCompile']=!(-0xb47*-0x1+-0x1bc3+0x107d),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=-0x20b5*0x1+-0x16fd+0x37b2,this['sx']=this['sy']=this['sw']=this['sh']=-0x11d3+-0xf3+0x12c6,this['blendColor']=new Y(0x8e3+-0xdcb+-0x8*-0x9d,-0xb82+0x452+0x730,0xaeb+0xbae+0x59*-0x41,0x5e*-0x28+-0x1535*0x1+-0xbf7*-0x3);}['setStencil'+'State'](_0x5a5cbf,_0x5beb4b){v['assert'](!(-0x11a9+-0x15ef+-0xd33*-0x3));}['setBlendSt'+'ate'](_0x8c7064){v['assert'](!(-0x735+0x8*0x3cf+0xba1*-0x2));}['setBlendCo'+'lor'](_0x2b2142,_0x409fd5,_0x21533f,_0x5abee4){v['assert'](!(-0x1e1a+-0xd32*0x1+-0x3*-0xe6f));}['setDepthSt'+'ate'](_0xb1d92b){v['assert'](!(0x5*-0x3ab+0x115*0xa+-0x3*-0x282));}['setCullMod'+'e'](_0xbc0e04){v['assert'](!(0x20e4+0x7f*0x43+-0x20*0x211));}['setRenderT'+'arget'](_0x307993){this['renderTarg'+'et']=_0x307993;}['setIndexBu'+'ffer'](_0x5975b7){this['indexBuffe'+'r']=_0x5975b7;}['setVertexB'+'uffer'](_0x4f885f){_0x4f885f&&this['vertexBuff'+'ers']['push'](_0x4f885f);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x2202+0xab8+0x32*-0xe5;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x57cc2a){if(_0x57cc2a['initialize'+'d'])return;const _0x200e2a=ne();this['fire']('fbo:create',{'timestamp':_0x200e2a,'target':this}),_0x57cc2a['init'](),this['targets']['add'](_0x57cc2a),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x200e2a;}['_isBrowser'+'Interface'](_0x483565){return this['_isImageBr'+'owserInter'+'face'](_0x483565)||this['_isImageCa'+'nvasInterf'+'ace'](_0x483565)||this['_isImageVi'+'deoInterfa'+'ce'](_0x483565);}['_isImageBr'+'owserInter'+'face'](_0xd7cc76){return typeof ImageBitmap<'u'&&_0xd7cc76 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0xd7cc76 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x2255f6){return typeof HTMLCanvasElement<'u'&&_0x2255f6 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x30c0d4){return typeof HTMLVideoElement<'u'&&_0x30c0d4 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x46f3a5,_0x4003d7){const _0x2763a9=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x13*-0x1c1+-0x168+-0x1fea),_0x993efd=Math['floor'](_0x46f3a5*_0x2763a9),_0x1068f3=Math['floor'](_0x4003d7*_0x2763a9);(_0x993efd!==this['canvas']['width']||_0x1068f3!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x993efd,_0x1068f3);}['setResolut'+'ion'](_0x28c1a8,_0x2500f6){this['canvas']['width']=_0x28c1a8,this['canvas']['height']=_0x2500f6,this['fire'](nc['EVENT_RESI'+'ZE'],_0x28c1a8,_0x2500f6);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x34e6a8=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x34e6a8['width'],this['clientRect']['height']=_0x34e6a8['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x5691bf){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0xc+0x4e+-0x59);}set['maxPixelRa'+'tio'](_0x29d44c){this['_maxPixelR'+'atio']=_0x29d44c;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x47d2ff){}['endRenderP'+'ass'](_0x17a7a4){}['startCompu'+'tePass'](_0x12a793){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x1ddd+-0x870+-0x7a9*-0x5,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x910f4e=this['textures']['slice']();_0x910f4e['sort']((_0x5ce8ad,_0x52d215)=>_0x52d215['gpuSize']-_0x5ce8ad['gpuSize']),v['log']('Textures:\x20'+_0x910f4e['length']);let _0x25dac5=0x1fe8+0x4cb*0x6+-0x3caa;_0x910f4e['forEach']((_0x43e9c5,_0x2811db)=>{const _0x3da36a=_0x43e9c5['gpuSize'];_0x25dac5+=_0x3da36a,v['log'](_0x2811db+'.\x20'+_0x43e9c5['name']+'\x20'+_0x43e9c5['width']+'x'+_0x43e9c5['height']+'\x20VRAM:\x20'+(_0x3da36a/(-0x254c+-0x4*0x2f3+0x3518)/(0xcff*-0x1+0x789+-0x7*-0x15a))['toFixed'](-0x23*-0x7f+0x134*0xa+-0x1*0x1d63)+'\x20MB');}),v['log']('Total:\x20'+(_0x25dac5/(0x26b+-0x1*-0x221b+0xb5*-0x2e)/(-0x2395+0x1*-0x245d+-0x25f9*-0x2))['toFixed'](-0x239c+-0x1d64+0x4102)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x4ee4aa,_0x5931cf='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x4e15c9=[_a,Je,Ke],_0x178e23=!(0x132*-0xb+-0xe5e*-0x1+-0x27*0x8),_0x953650=-0x238*-0xb+0x1bd6+-0x137*0x2b){for(let _0x4519d2=-0xa2e+-0x1404+-0xf19*-0x2;_0x4519d2<_0x4e15c9['length'];_0x4519d2++){const _0x24e074=_0x4e15c9[_0x4519d2];switch(_0x24e074){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x24e074;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x24e074;break;case Ke:if(this['isWebGPU']&&_0x953650>-0x9ea+-0x250e+0x2ef9)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x178e23||this['textureFlo'+'atFilterab'+'le']))return _0x24e074;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=-0x1*-0x1ab2+0xd1b+-0x27cd;class pt{constructor(_0x27ec61={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x5b6b76,_0x1fda9b,_0x212054,_0x15e785,_0x56576e,_0x3c89ac;v['assert'](!(_0x27ec61 instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x380b55=((_0x5b6b76=_0x27ec61['colorBuffe'+'r'])==null?void(-0x1c76*-0x1+-0x1a2b+-0x24b*0x1):_0x5b6b76['device'])??((_0x1fda9b=_0x27ec61['colorBuffe'+'rs'])==null?void(0x78a+-0x319*0xa+0x1770):_0x1fda9b[0x1c*-0x7+0xe62+0x245*-0x6]['device'])??((_0x212054=_0x27ec61['depthBuffe'+'r'])==null?void(-0x4bd+-0xc28*0x2+-0x6f*-0x43):_0x212054['device'])??_0x27ec61['graphicsDe'+'vice'];v['assert'](_0x380b55,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x380b55;const {maxSamples:_0x4c322d}=this['_device'];if(this['_samples']=Math['min'](_0x27ec61['samples']??-0x25c4+-0x18d7+0x3e9c,_0x4c322d),_0x380b55['isWebGPU']&&(this['_samples']=this['_samples']>-0x2*-0x66e+0x1181+-0x1e5c?_0x4c322d:0x20ef+0x17b8+-0x12e2*0x3),this['_colorBuff'+'er']=_0x27ec61['colorBuffe'+'r'],_0x27ec61['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x27ec61['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x27ec61['depthBuffe'+'r'],this['_face']=_0x27ec61['face']??0x1a47+-0x3*0xb95+0x878,this['_depthBuff'+'er']){const _0x1a13d5=this['_depthBuff'+'er']['_format'];_0x1a13d5===Ci||_0x1a13d5===la?(this['_depth']=!(0xc4b*-0x3+0x13*0x1e9+0x96),this['_stencil']=!(-0x202c*-0x1+0x165a+-0x3685)):_0x1a13d5===vc?(this['_depth']=!(0x10db+0x1035+0x2110*-0x1),this['_stencil']=!(-0x2*0x1267+0x5*0x7c6+-0x210)):_0x1a13d5===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x441+0xd*0x25+0x3*0xcb?(this['_depth']=!(0x1622+0x1aff+0x1*-0x3121),this['_stencil']=!(0x763+-0x4*0x119+-0x2fe)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x1d81+0x160f*0x1+-0x773*-0x1),this['_stencil']=!(-0x7c*-0x8+0x27f+-0x65e));}else this['_depth']=_0x27ec61['depth']??!(0x1d7a+-0x1*-0x5ab+-0x2325),this['_stencil']=_0x27ec61['stencil']??!(-0x9*-0x2fd+0x1375*-0x1+0x1*-0x76f);_0x27ec61['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x27ec61['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x27ec61['colorBuffe'+'rs'][-0x174b+0x2*-0xbef+-0x2f29*-0x1])),this['autoResolv'+'e']=_0x27ec61['autoResolv'+'e']??!(-0xc21*-0x2+-0xc71+0x25d*-0x5),this['name']=_0x27ec61['name'],this['name']||(this['name']=(_0x15e785=this['_colorBuff'+'er'])==null?void(0x29*0x66+0x13*0x16f+-0x2b93):_0x15e785['name']),this['name']||(this['name']=(_0x56576e=this['_depthBuff'+'er'])==null?void(0x1752+-0x2698+0xf46*0x1):_0x56576e['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x27ec61['flipY']??!(0x5*-0x481+-0x2ba+0x1940),this['_mipLevel']=_0x27ec61['mipLevel']??0x2059+-0x231c+0x2c3,this['_mipLevel']>0x19b7*-0x1+0xcc2*-0x2+0x2b*0x131&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x27ec61}),this['_mipLevel']=0x1be5+-0x1d93+0x1ae),this['_mipmaps']=_0x27ec61['mipLevel']===void(0xcca+-0xea4+0xed*0x2),this['validateMr'+'t'](),this['impl']=_0x380b55['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x3c89ac=this['_colorBuff'+'ers'])!=null&&_0x3c89ac['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x5b8de2=this['_device'];_0x5b8de2&&(_0x5b8de2['targets']['delete'](this),_0x5b8de2['renderTarg'+'et']===this&&_0x5b8de2['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x3c7d92=this['_device'];_0x3c7d92&&this['impl']['destroy'](_0x3c7d92);}['destroyTex'+'tureBuffer'+'s'](){var _0x294830,_0x31b827;(_0x294830=this['_depthBuff'+'er'])==null||_0x294830['destroy'](),this['_depthBuff'+'er']=null,(_0x31b827=this['_colorBuff'+'ers'])==null||_0x31b827['forEach'](_0xaf475f=>{_0xaf475f['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x210944,_0x584e13){var _0x4ecaf2,_0xf77807;if(this['width']!==_0x210944||this['height']!==_0x584e13){if(this['mipLevel']>0x2511+-0x11b5+0x19d*-0xc){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x3a6a25=this['_device'];this['destroyFra'+'meBuffers'](),_0x3a6a25['renderTarg'+'et']===this&&_0x3a6a25['setRenderT'+'arget'](null),(_0x4ecaf2=this['_depthBuff'+'er'])==null||_0x4ecaf2['resize'](_0x210944,_0x584e13),(_0xf77807=this['_colorBuff'+'ers'])==null||_0xf77807['forEach'](_0x228a7c=>{_0x228a7c['resize'](_0x210944,_0x584e13);}),this['validateMr'+'t'](),this['impl']=_0x3a6a25['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x430990,height:_0x1b91f2,cubemap:_0x1236e3,volume:_0x25a132}=this['_colorBuff'+'ers'][-0xd7d+0x267*-0x1+-0xfe4*-0x1];for(let _0x16289c=0x220a+-0x683+-0x1b86;_0x16289c<this['_colorBuff'+'ers']['length'];_0x16289c++){const _0x5c054d=this['_colorBuff'+'ers'][_0x16289c];v['assert'](_0x5c054d['width']===_0x430990,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x5c054d['height']===_0x1b91f2,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x5c054d['cubemap']===_0x1236e3,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x5c054d['volume']===_0x25a132,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0xdff7ef=!(-0x1a9a+0x1f89+-0x4ef),_0x494d02=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0xb25+-0x5b1*0x2+0x3e&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0xdff7ef?'[color]':'')+':'+(_0x494d02?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0xdff7ef,_0x494d02),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x361bef,_0x42ea58,_0x23db98){if(!this['_device']){if(_0x361bef['_device'])this['_device']=_0x361bef['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x1306+-0x10c6+-0x23f);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x361bef['name']+'->'+this['name']);const _0x443c13=this['_device']['copyRender'+'Target'](_0x361bef,this,_0x42ea58,_0x23db98);return G['popGpuMark'+'er'](this['_device']),_0x443c13;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x5a6048){var _0x45fea8;return(_0x45fea8=this['_colorBuff'+'ers'])==null?void(0x263d+0x71c+-0x2d59):_0x45fea8[_0x5a6048];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x159499,_0x2cf455;let _0x359d64=((_0x159499=this['_colorBuff'+'er'])==null?void(0x21b0+-0x61e*-0x3+-0x340a):_0x159499['width'])||((_0x2cf455=this['_depthBuff'+'er'])==null?void(-0xf10+0xb7*-0x8+-0x1c*-0xbe):_0x2cf455['width'])||this['_device']['width'];return this['_mipLevel']>0x26dd+0xa3*-0x1+-0x263a&&(_0x359d64=Mi['calcLevelD'+'imension'](_0x359d64,this['_mipLevel'])),_0x359d64;}get['height'](){var _0x39993,_0x1b30ac;let _0x1e8ac2=((_0x39993=this['_colorBuff'+'er'])==null?void(-0xc97+0xb16+0x181):_0x39993['height'])||((_0x1b30ac=this['_depthBuff'+'er'])==null?void(0xd*0xdd+-0xceb*0x1+0x1b2):_0x1b30ac['height'])||this['_device']['height'];return this['_mipLevel']>-0x86b+0x1*0x13c7+-0xb5c&&(_0x1e8ac2=Mi['calcLevelD'+'imension'](_0x1e8ac2,this['_mipLevel'])),_0x1e8ac2;}['isColorBuf'+'ferSrgb'](_0x560fcb=0x2bd*0x9+0x1094+0x2939*-0x1){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x39e30d=this['getColorBu'+'ffer'](_0x560fcb);return _0x39e30d?Mh(_0x39e30d['format']):!(0x21ad+0x1b89*-0x1+-0x623);}}const $v={'equals'(_0x4e4706,_0x5d63e8){if(_0x4e4706['length']!==_0x5d63e8['length'])return!(-0x18d9+-0x120c+0x2ae6);for(let _0x5385c0=0x2400+0x18de+-0x3cde;_0x5385c0<_0x4e4706['length'];_0x5385c0++)if(_0x4e4706[_0x5385c0]!==_0x5d63e8[_0x5385c0])return!(-0x404+-0x1*-0x653+-0x24e);return!(-0x1*0x22ba+-0x4e*-0x66+0x1*0x3a6);}};class Gc{constructor(){c(this,'_refCount',-0x461*0x5+-0x12b5+0x289a);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class Wv extends Gc{constructor(_0xa58580){super(),c(this,'object'),(this['object']=_0xa58580,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x2e2e4c=>{var _0x5c66ca;(_0x5c66ca=_0x2e2e4c['object'])==null||_0x5c66ca['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x4d41fb){const _0x10fd7f=this['cache']['get'](_0x4d41fb);return _0x10fd7f?(_0x10fd7f['incRefCoun'+'t'](),_0x10fd7f['object']):null;}['set'](_0x396f62,_0x26dd2b){v['assert'](!this['cache']['has'](_0x396f62),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x396f62,'object':_0x26dd2b}),this['cache']['set'](_0x396f62,new Wv(_0x26dd2b));}['release'](_0x5625c8){var _0x321c0c;const _0x1393e2=this['cache']['get'](_0x5625c8);_0x1393e2?(_0x1393e2['decRefCoun'+'t'](),_0x1393e2['refCount']===0x1e0*0x14+0x39f+-0x3*0xdb5&&(this['cache']['delete'](_0x5625c8),(_0x321c0c=_0x1393e2['object'])==null||_0x321c0c['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x5625c8});}}class Xv extends qv{['loseContex'+'t'](_0x5b9bb1){this['clear']();}}const jv=new Ot(),od=_0x2b93f7=>jv['get'](_0x2b93f7,()=>new Xv()),ot=[];ot[Ws]=0xe*-0x11f+-0xbfc*-0x2+0x845*-0x1,ot[or]=0x26df+0x1*0x348+0x1*-0x2a25,ot[Wt]=0x2198+-0x18a2*0x1+-0x4f*0x1d,ot[xa]=0x5b*-0x7+-0x1*-0x841+-0x5c0,ot[ln]=0x2d4*-0x5+0xbb2+0x273,ot[Zr]=0x1fab+-0x874+-0x1735,ot[Qr]=0x97e+-0x1c4b+0x4b4*0x4,ot[Jr]=-0x1e96+0x10bb+0xddf,ot[ca]=-0x13*0x1f2+0x14a6+-0x1*-0x1051,ot[Lo]=-0x84*0x43+-0xd73+0x3001,ot[Fo]=0x23a7+-0xaf5+-0x18af,ot[Oo]=0x17*0x10+-0x2e+-0x9f*0x2,ot[Rh]=-0xbcd+0x1d69+-0x1194,ot[ko]=0x8be+0x1*-0x23b7+0x1b05,ot[Sa]=-0x1*-0x1013+0x1309+-0x230c,ot[va]=0xa67*-0x1+0x9*0x178+-0x2d0,ot[ba]=0x1*-0x1949+-0x2159+0x3aa4,ot[wa]=0x1977+-0x7*0x21b+-0xd*0xd3,ot[Ta]=0xad*0x14+0xe7b+-0x1bfb;class gt{constructor(_0x3327af,_0x3df852,_0x5c17cf=-0x1125+0x1d09+-0xbe4){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x3327af,this['name']=_0x5c17cf?_0x3327af+'[0]':_0x3327af,this['type']=_0x3df852,this['numCompone'+'nts']=ot[_0x3df852],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x3df852+'\x20used\x20for\x20'+_0x3327af),this['updateType']=_0x3df852,_0x5c17cf>0xdab+0x27d+-0x1028)switch(_0x3df852){case Ws:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case Wt:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x3df852]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x3327af+'\x27.'),v['call'](()=>{this['invalid']=!(0x12*-0x1c7+-0x1192+0xd0*0x3d);});break;}this['count']=_0x5c17cf,v['assert'](!isNaN(_0x5c17cf),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x3327af+'['+_0x5c17cf+']'),v['call'](()=>{isNaN(_0x5c17cf)&&(this['invalid']=!(-0x2*-0x128b+0x2*0x424+0x1*-0x2d5e));});let _0x2acdff=this['numCompone'+'nts'];_0x5c17cf&&(_0x2acdff=N['roundUp'](_0x2acdff,-0xb*-0x35a+0x1*0x7de+-0x2cb8)),this['byteSize']=_0x2acdff*(0xc84+0x2*0x5d5+-0x182a*0x1),_0x5c17cf&&(this['byteSize']*=_0x5c17cf),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x3df852+'\x20used\x20for\x20'+_0x3327af);}get['isArrayTyp'+'e'](){return this['count']>0x3d4*-0x8+0x1d21*-0x1+-0x3*-0x13eb;}['calculateO'+'ffset'](_0xee0504){let _0xd5f0c0=this['byteSize']<=0x3d+0x1c20+0x1c55*-0x1?this['byteSize']:0x8e+0x1*-0x1e4d+0x1dcf;this['count']&&(_0xd5f0c0=-0x1c26+0x7*-0xd6+0x2210),_0xee0504=N['roundUp'](_0xee0504,_0xd5f0c0),this['offset']=_0xee0504/(0xaf+0x2*-0xbdd+-0x170f*-0x1);}}class Qy{constructor(_0x2a3ac7,_0x2b5d26){c(this,'byteSize',0x1*-0xfd3+-0x114+0x10e7),c(this,'map',new Map()),(this['scope']=_0x2a3ac7['scope'],this['uniforms']=_0x2b5d26);let _0xdbce9a=-0x1*0xb04+-0x2395+0x2e99*0x1;for(let _0x3c8ad8=0xd5*0x2+0x224+0x3ce*-0x1;_0x3c8ad8<_0x2b5d26['length'];_0x3c8ad8++){const _0x15ee00=_0x2b5d26[_0x3c8ad8];_0x15ee00['calculateO'+'ffset'](_0xdbce9a),_0xdbce9a=_0x15ee00['offset']*(0xd78+0x1377*-0x2+0x197a*0x1)+_0x15ee00['byteSize'],_0x15ee00['scopeId']=this['scope']['resolve'](_0x15ee00['name']),this['map']['set'](_0x15ee00['name'],_0x15ee00);}this['byteSize']=N['roundUp'](_0xdbce9a,0x1239+-0x1ce1+0xab8);}['get'](_0x12e934){return this['map']['get'](_0x12e934);}['getShaderD'+'eclaration'](_0x491f37,_0x54827d){const _0x20ff77=xv[_0x491f37];let _0x2eab29='layout(set'+'\x20=\x20'+_0x491f37+(',\x20binding\x20'+'=\x20')+_0x54827d+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x20ff77+'\x20{\x0a';return this['uniforms']['forEach'](_0x5e9dba=>{const _0x209dab=dp[_0x5e9dba['type']];v['assert'](_0x209dab['length']>-0xa85+-0x32b*-0x1+0x75a,'Uniform\x20ty'+'pe\x20'+_0x5e9dba['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x2eab29+='\x20\x20\x20\x20'+_0x209dab+'\x20'+_0x5e9dba['shortName']+(_0x5e9dba['count']?'['+_0x5e9dba['count']+']':'')+';\x0a';}),_0x2eab29+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x227717,_0x376bbf=new Map(),_0x32c1bc={}){vs['sourceName']=_0x32c1bc['sourceName'],_0x227717=this['stripComme'+'nts'](_0x227717),_0x227717=_0x227717['split'](/\r?\n/)['map'](_0x418ac0=>_0x418ac0['trimEnd']())['join']('\x0a');const _0x590a33=new Map();if(_0x32c1bc['stripUnuse'+'dColorAtta'+'chments']){const _0x151865=new Map(),_0x2990ce=/(pcFragColor[1-8])\b/g,_0x12bc0f=_0x227717['match'](_0x2990ce);_0x12bc0f==null||_0x12bc0f['forEach'](_0x206c17=>{const _0x34107d=parseInt(_0x206c17['charAt'](_0x206c17['length']-(-0x2*-0xf2c+0x1d86+0x265*-0x19)),-0xb*-0xfd+-0x1a*-0xe7+0x224b*-0x1);_0x151865['set'](_0x34107d,(_0x151865['get'](_0x34107d)??0xb3e+-0x1b32+0xff4)+(-0x1*0x15c1+0x1*0x24cb+-0xf09));}),_0x151865['forEach']((_0x16b0d7,_0xf9331c)=>{_0x16b0d7===0xb*-0x49+-0x131+0x455*0x1&&_0x590a33['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0xf9331c,'');});}_0x227717=this['_preproces'+'s'](_0x227717,_0x590a33,_0x376bbf,_0x32c1bc['stripDefin'+'es']);const _0x1389ab=new Map();_0x590a33['forEach']((_0x5ab794,_0x5d5463)=>{Number['isInteger'](parseFloat(_0x5ab794))&&!_0x5ab794['includes']('.')&&_0x1389ab['set'](_0x5d5463,_0x5ab794);});const _0x311bae=new Map();return _0x590a33['forEach']((_0x2e0e51,_0x26f0b7)=>{_0x26f0b7['startsWith']('__INJECT_')&&_0x311bae['set'](_0x26f0b7,_0x2e0e51);}),_0x227717=this['stripComme'+'nts'](_0x227717),_0x227717=this['RemoveEmpt'+'yLines'](_0x227717),_0x227717=this['processArr'+'aySize'](_0x227717,_0x1389ab),_0x227717=this['injectDefi'+'nes'](_0x227717,_0x311bae),_0x227717;}static['stripComme'+'nts'](_0x3e3751){return _0x3e3751['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x3b51d6,_0x23f512){return _0x3b51d6!==null&&_0x23f512['forEach']((_0x1ce863,_0x4374e2)=>{_0x3b51d6=_0x3b51d6['replace'](new RegExp('\x5c['+_0x4374e2+'\x5c]','g'),'['+_0x1ce863+']');}),_0x3b51d6;}static['injectDefi'+'nes'](_0x37a3aa,_0x44582d){if(_0x37a3aa!==null&&_0x44582d['size']>0x212c+0xee*0xc+0x1*-0x2c54){const _0x8bee24=_0x37a3aa['split']('\x0a');_0x44582d['forEach']((_0x5731d0,_0x8e297d)=>{const _0x4c2fc5=new RegExp('\x5cb'+_0x8e297d+'\x5cb','g');for(let _0x55a782=-0x954+0x19f5+-0x10a1;_0x55a782<_0x8bee24['length'];_0x55a782++)_0x8bee24[_0x55a782]['includes']('#')||(_0x8bee24[_0x55a782]=_0x8bee24[_0x55a782]['replace'](_0x4c2fc5,_0x5731d0));}),_0x37a3aa=_0x8bee24['join']('\x0a');}return _0x37a3aa;}static['RemoveEmpt'+'yLines'](_0x2b9a59){return _0x2b9a59!==null&&(_0x2b9a59=_0x2b9a59['split'](/\r?\n/)['map'](_0x3e680d=>_0x3e680d['trim']()===''?'':_0x3e680d)['join']('\x0a'),_0x2b9a59=_0x2b9a59['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x2b9a59;}static['_preproces'+'s'](_0x1ca5ad,_0x240dd6=new Map(),_0xd817f8,_0x1249d6){const _0x4825db=_0x1ca5ad,_0x5d6d94=[];let _0x38a3a0=!(-0x1ec1+-0x13*-0x19e+0x8),_0x24ca58;for(;(_0x24ca58=fs['exec'](_0x1ca5ad))!==null;){const _0x48dd85=_0x24ca58[0x1df0+-0x1323+-0x566*0x2];switch(_0x48dd85){case'define':{ld['lastIndex']=_0x24ca58['index'];const _0x54a4ae=ld['exec'](_0x1ca5ad);v['assert'](_0x54a4ae,'Invalid\x20['+_0x48dd85+']:\x20'+_0x1ca5ad['substring'](_0x24ca58['index'],_0x24ca58['index']+(-0x8dd+-0x10*0x56+0x23*0x6b))+'...'),_0x38a3a0||(_0x38a3a0=_0x54a4ae===null);const _0x5983dd=_0x54a4ae[-0x7b5+0x146+0x670];Em['lastIndex']=_0x54a4ae['index'];const _0x508a9a=Em['exec'](_0x5983dd)[0x930+-0x4d6+-0x459];let _0x86b115=_0x5983dd['substring'](_0x508a9a['length'])['trim']();_0x86b115===''&&(_0x86b115='true');const _0xa81976=vs['_keep'](_0x5d6d94);_0xa81976&&(_0x240dd6['set'](_0x508a9a,_0x86b115),_0x1249d6&&(_0x1ca5ad=_0x1ca5ad['substring'](0x218f+0xb30+-0x2cbf,_0x54a4ae['index']-(0x8e7+0x1*-0x2389+0x1aa3))+_0x1ca5ad['substring'](ld['lastIndex']),fs['lastIndex']=_0x54a4ae['index']-(0x835*0x1+-0x87c+-0x8*-0x9))),v['trace'](gr,_0x48dd85+':\x20['+_0x508a9a+']\x20'+_0x86b115+'\x20'+(_0xa81976?'':'IGNORED')),_0x1249d6||(fs['lastIndex']=_0x54a4ae['index']+_0x54a4ae[0x28*-0x97+-0x28*0x35+0x1fe0]['length']);break;}case'undef':{hd['lastIndex']=_0x24ca58['index'];const _0x26502c=hd['exec'](_0x1ca5ad),_0x52587e=_0x26502c[0x1a3*-0x1+0x1f23+-0x9d5*0x3]['trim'](),_0x1d57db=vs['_keep'](_0x5d6d94);_0x1d57db&&(_0x240dd6['delete'](_0x52587e),_0x1249d6&&(_0x1ca5ad=_0x1ca5ad['substring'](-0x22*-0xdd+0x5e*-0x49+-0x28c*0x1,_0x26502c['index']-(0x17d4+0x2f+-0xe*0x1b7))+_0x1ca5ad['substring'](hd['lastIndex']),fs['lastIndex']=_0x26502c['index']-(0x760+0xf75+-0x16d4))),v['trace'](gr,_0x48dd85+':\x20['+_0x52587e+']\x20'+(_0x1d57db?'':'IGNORED')),_0x1249d6||(fs['lastIndex']=_0x26502c['index']+_0x26502c[-0x1b5a+0x1e25+0x5*-0x8f]['length']);break;}case'extension':{Am['lastIndex']=_0x24ca58['index'];const _0x193a0f=Am['exec'](_0x1ca5ad);if(v['assert'](_0x193a0f,'Invalid\x20['+_0x48dd85+']:\x20'+_0x1ca5ad['substring'](_0x24ca58['index'],_0x24ca58['index']+(0x20cd+0x8df*-0x1+0x17*-0x106))+'...'),_0x38a3a0||(_0x38a3a0=_0x193a0f===null),_0x193a0f){const _0x576fec=_0x193a0f[-0x1c*-0x11+0x1f9*0x2+-0x5cd],_0x3bcea8=vs['_keep'](_0x5d6d94);_0x3bcea8&&_0x240dd6['set'](_0x576fec,'true'),v['trace'](gr,_0x48dd85+':\x20['+_0x576fec+']\x20'+(_0x3bcea8?'':'IGNORED'));}fs['lastIndex']=_0x193a0f['index']+_0x193a0f[-0x24bf+0x9e1+0x1*0x1ade]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x24ca58['index'];const _0x185528=cd['exec'](_0x1ca5ad),_0x35b426=_0x185528[0x795*0x5+0x24df*-0x1+-0x1*0x108],_0x222ab9=vs['evaluate'](_0x35b426,_0x240dd6);_0x38a3a0||(_0x38a3a0=_0x222ab9['error']);let _0x3806e4=_0x222ab9['result'];_0x48dd85==='ifndef'&&(_0x3806e4=!_0x3806e4),_0x5d6d94['push']({'anyKeep':_0x3806e4,'keep':_0x3806e4,'start':_0x24ca58['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x48dd85+':\x20['+_0x35b426+']\x20=>\x20'+_0x3806e4),fs['lastIndex']=_0x185528['index']+_0x185528[0x183b+0x4*0x290+-0x227b]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x24ca58['index'];const _0x145251=dd['exec'](_0x1ca5ad),_0x231e36=_0x5d6d94['pop'](),_0x3926b1=_0x231e36['keep']?_0x1ca5ad['substring'](_0x231e36['end'],_0x24ca58['index']):'';v['trace'](gr,_0x48dd85+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x3926b1!=='')),_0x1ca5ad=_0x1ca5ad['substring'](0x263a+0x17bb*0x1+-0x3df5*0x1,_0x231e36['start'])+_0x3926b1+_0x1ca5ad['substring'](dd['lastIndex']),fs['lastIndex']=_0x231e36['start']+_0x3926b1['length'];const _0x8f19da=_0x145251[-0x6ef+-0x2b5+0x9a5];if(_0x8f19da==='else'||_0x8f19da==='elif'){let _0x3c5701=!(0x4e0+0x1*-0x44c+-0x93);if(!_0x231e36['anyKeep']){if(_0x8f19da==='else')_0x3c5701=!_0x231e36['keep'];else{const _0x21daad=vs['evaluate'](_0x145251[-0x543*0x6+0x1474+0x4*0x2c8],_0x240dd6);_0x3c5701=_0x21daad['result'],_0x38a3a0||(_0x38a3a0=_0x21daad['error']);}}_0x5d6d94['push']({'anyKeep':_0x231e36['anyKeep']||_0x3c5701,'keep':_0x3c5701,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x48dd85+':\x20['+_0x145251[-0x2572+0x1*-0x2420+0x4994]+']\x20=>\x20'+_0x3c5701);}break;}case'include':{ud['lastIndex']=_0x24ca58['index'];const _0x43986b=ud['exec'](_0x1ca5ad);_0x38a3a0||(_0x38a3a0=_0x43986b===null),v['assert'](_0x43986b,'Invalid\x20['+_0x48dd85+']:\x20'+_0x1ca5ad['substring'](_0x24ca58['index'],_0x24ca58['index']+(0x1b6a+-0x2e*-0x66+0x2d*-0x102))+'...');const _0x33bd87=_0x43986b[-0x679+0x41b*0x3+-0x17*0x41]['trim'](),_0x364a51=vs['_keep'](_0x5d6d94);if(_0x364a51){const _0x8c7077=_0xd817f8==null?void(0x1*0x142b+-0xd09+-0x722):_0xd817f8['get'](_0x33bd87);_0x8c7077!==void(-0xdab*-0x1+0x16a5+-0x2450)?(_0x1ca5ad=_0x1ca5ad['substring'](0x2b8+-0x24ec+0x2234,_0x43986b['index']-(0x13*-0x106+0xc*-0x30a+0x37eb))+_0x8c7077+_0x1ca5ad['substring'](ud['lastIndex']),fs['lastIndex']=_0x43986b['index']-(-0x118d*-0x1+-0xe9d+-0x2ef)):(console['error']('Include\x20\x22'+_0x33bd87+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x4825db}),_0x38a3a0=!(0x3*-0xa5b+-0x1c34+-0x1*-0x3b45));}v['trace'](gr,_0x48dd85+':\x20['+_0x33bd87+']\x20'+(_0x364a51?'':'IGNORED'));break;}}}return _0x38a3a0?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x4825db}),_0x4825db):_0x1ca5ad;}static['_keep'](_0x16d1a3){for(let _0x330608=-0x246d+0x491*0x6+0x907;_0x330608<_0x16d1a3['length'];_0x330608++)if(!_0x16d1a3[_0x330608]['keep'])return!(-0xe9b*-0x1+-0xa*-0x3bd+-0x33fc);return!(0xa*0x10a+0x6*-0x178+-0x194*0x1);}static['evaluate'](_0x1455e0,_0x4d3953){const _0x460f16=Zv['exec'](_0x1455e0)===null;v['assert'](_0x460f16,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x1455e0);let _0x2853f4=!(0x1f6*0xf+0x9ed+-0x2756);const _0x170302=Yv['exec'](_0x1455e0);_0x170302&&(_0x2853f4=_0x170302[0x5b0+0x1728+-0x45*0x6b]==='!',_0x1455e0=_0x170302[-0x213b+0x1de4+-0x359*-0x1]);const _0x2ae77b=Kv['exec'](_0x1455e0);if(_0x2ae77b){const _0x28dd15=_0x4d3953['get'](_0x2ae77b[0x8e1+-0x1827+0xf47*0x1])??_0x2ae77b[0x1c3f+0x19d4+-0x3612],_0x53120e=_0x4d3953['get'](_0x2ae77b[0x1eaf+-0x15*0x1a4+0x1*0x3c8])??_0x2ae77b[0x18*-0x101+0xbaa+-0x27d*-0x5],_0x41922f=_0x2ae77b[0x173e+-0x19e8+0x2ac];let _0x1295c4=!(-0x1346+-0x177*-0x19+-0x1158);switch(_0x41922f){case'==':_0x1295c4=_0x28dd15===_0x53120e;break;case'!=':_0x1295c4=_0x28dd15!==_0x53120e;break;case'<':_0x1295c4=_0x28dd15<_0x53120e;break;case'<=':_0x1295c4=_0x28dd15<=_0x53120e;break;case'>':_0x1295c4=_0x28dd15>_0x53120e;break;case'>=':_0x1295c4=_0x28dd15>=_0x53120e;break;}return{'result':_0x1295c4,'error':!_0x460f16};}_0x1455e0=_0x1455e0['trim']();let _0x404fc5=_0x4d3953['has'](_0x1455e0);return _0x2853f4&&(_0x404fc5=!_0x404fc5),{'result':_0x404fc5,'error':!_0x460f16};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x50d765,_0x38c57f){v['assert'](_0x38c57f),v['assert'](!_0x38c57f['vertexDefi'+'nes']||_0x38c57f['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x38c57f['vertexIncl'+'udes']||_0x38c57f['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x38c57f['fragmentDe'+'fines']||_0x38c57f['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x38c57f['fragmentIn'+'cludes']||_0x38c57f['fragmentIn'+'cludes']instanceof Map);const _0x5b444d=(_0x5105a8,_0x48553d,_0x3eafab,_0x14d6bb)=>{const _0x33d392=_0x50d765['isWebGPU']?_0x5105a8:_0x48553d;let _0x518762='';if(!_0x3eafab){let _0x518c74=_0x14d6bb['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x518c74)||(_0x518c74=[_0x518c74]);for(let _0x20361c=0x454*0x8+0x27a*0xb+-0x1*0x3dde;_0x20361c<_0x50d765['maxColorAt'+'tachments'];_0x20361c++){_0x518762+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x20361c+'\x0a';const _0x9359d1=_0x518c74[_0x20361c]??'vec4';_0x518762+='#define\x20ou'+'tType_'+_0x20361c+'\x20'+_0x9359d1+'\x0a';}}return _0x518762+_0x33d392;},_0x42a721=_0x38c57f['name']??'Untitled';let _0x753d7d,_0x4ee90a;return _0x38c57f['shaderLang'+'uage']===Ph?(_0x753d7d=_0x38c57f['vertexCode'],_0x4ee90a=_0x38c57f['fragmentCo'+'de']):(_0x753d7d=Mt['versionCod'+'e'](_0x50d765)+_0x5b444d(s0,e0,!(0x11e6+0x31*0x81+-0x2a97),_0x38c57f)+Mt['getDefines'+'Code'](_0x38c57f['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x50d765)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x42a721)+_0x38c57f['vertexCode'],_0x4ee90a=(_0x38c57f['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x50d765)+_0x5b444d(t0,Jy,!(0x2e0*0x5+-0x2*-0xe9+-0x1031),_0x38c57f)+Mt['getDefines'+'Code'](_0x38c57f['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x50d765)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x42a721)+(_0x38c57f['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x42a721,'shaderLanguage':_0x38c57f['shaderLang'+'uage']??ky,'attributes':_0x38c57f['attributes'],'vshader':_0x753d7d,'vincludes':_0x38c57f['vertexIncl'+'udes'],'fincludes':_0x38c57f['fragmentIn'+'cludes'],'fshader':_0x4ee90a,'useTransformFeedback':_0x38c57f['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x38c57f['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x38c57f['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x40a6b0){let _0x473e88='';return _0x40a6b0==null||_0x40a6b0['forEach']((_0x51fea8,_0x20c1dc)=>{_0x473e88+='#define\x20'+_0x20c1dc+'\x20'+_0x51fea8+'\x0a';}),_0x473e88;}static['getShaderN'+'ameCode'](_0x4e9c00){return'#define\x20SH'+'ADER_NAME\x20'+_0x4e9c00+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x308ea5){return _0x308ea5['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x351c7a,_0x133f72){_0x133f72&&_0x133f72!=='highp'&&_0x133f72!=='mediump'&&_0x133f72!=='lowp'&&(_0x133f72=null),_0x133f72&&(_0x133f72==='highp'&&_0x351c7a['maxPrecisi'+'on']!=='highp'&&(_0x133f72='mediump'),_0x133f72==='mediump'&&_0x351c7a['maxPrecisi'+'on']==='lowp'&&(_0x133f72='lowp'));const _0x5c81a4=_0x133f72||_0x351c7a['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x5c81a4+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x5c81a4+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x5c81a4+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x5c81a4+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x5c81a4+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x5c81a4+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x5c81a4+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x53be07){const _0x28665f={};let _0x169520=0x70b+-0x1a8c+0x1381,_0x294c2d=_0x53be07['indexOf']('attribute');for(;_0x294c2d>=-0x1641+0xbc*-0x1+0x16fd&&!(_0x294c2d>-0x9*-0x27a+-0x24c2+0xe78*0x1&&_0x53be07[_0x294c2d-(-0x40*0x7e+-0x1f3e+-0x1*-0x3ebf)]==='/');){let _0x4c5231=!(0x2*-0x107+-0x1*0x75+0x284);if(_0x294c2d>-0x15*0x126+0x4*-0x397+0x267a){let _0x2725aa=_0x53be07['lastIndexO'+'f']('\x0a',_0x294c2d);_0x2725aa=_0x2725aa!==-(0x1aa*0x4+-0x106*-0x11+-0x180d)?_0x2725aa+(-0x1*0x201b+-0x22f6+-0x6b5*-0xa):0x3e*-0xd+0x1c02+-0x18dc,_0x53be07['substring'](_0x2725aa,_0x294c2d)['includes']('#')&&(_0x4c5231=!(0x24e3+-0x16*0x4b+-0x1e71));}if(!_0x4c5231){const _0x57d7b9=_0x53be07['indexOf'](';',_0x294c2d),_0x2c9e0d=_0x53be07['lastIndexO'+'f']('\x20',_0x57d7b9),_0x661359=_0x53be07['substring'](_0x2c9e0d+(0xb*0x386+-0x21b1+0x8*-0xa2),_0x57d7b9);if(_0x28665f[_0x661359])v['warn']('Attribute\x20'+'['+_0x661359+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x53be07});else{const _0x2c5deb=Qv[_0x661359];_0x2c5deb!==void(-0x238c+0x1*-0xa8b+0x2e17)?_0x28665f[_0x661359]=_0x2c5deb:(_0x28665f[_0x661359]='ATTR'+_0x169520,_0x169520++);}}_0x294c2d=_0x53be07['indexOf']('attribute',_0x294c2d+(0x498+-0x9e2+0x54b));}return _0x28665f;}}let Jv=-0xc62+0x1b*0xc3+-0x5*0x1a3;class i0{constructor(_0x3fef45,_0x1ddb10){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x3fef45,this['definition']=_0x1ddb10,this['name']=_0x1ddb10['name']||'Untitled',this['init'](),_0x1ddb10['cshader'])v['assert'](_0x3fef45['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x1ddb10['vshader']&&!_0x1ddb10['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x1ddb10['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x1ddb10['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x1ddb10['vshader']=Oh['run'](_0x1ddb10['vshader'],_0x1ddb10['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x1ddb10['shaderLang'+'uage']===ky&&(_0x1ddb10['attributes']??(_0x1ddb10['attributes']=Mt['collectAtt'+'ributes'](_0x1ddb10['vshader'])));const _0x30c787=_0x3fef45['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x1ddb10['fshader']=Oh['run'](_0x1ddb10['fshader'],_0x1ddb10['fincludes'],{'stripUnusedColorAttachments':_0x30c787,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x3fef45['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x23c2+0x1486+0xf3d),this['failed']=!(0x9d8+0x9*-0x179+-0x17*-0x26);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[Ws]=function(_0x49947e,_0x4a820d,_0x1a3ee8){const _0x4c1cf7=_0x49947e['storageFlo'+'at32'];_0x4c1cf7[_0x1a3ee8]=_0x4a820d;},Te[or]=(_0x2ab494,_0x424620,_0xfb990f)=>{const _0x3fecd0=_0x2ab494['storageFlo'+'at32'];_0x3fecd0[_0xfb990f]=_0x424620[0x1*0x1b9f+0x495+0x12*-0x1ca],_0x3fecd0[_0xfb990f+(0x2004+-0x1455+-0xbae)]=_0x424620[0x925*0x1+0x11*-0xf9+0x765];},Te[Wt]=(_0x4f738c,_0xa8397d,_0x3d6433)=>{const _0x221000=_0x4f738c['storageFlo'+'at32'];_0x221000[_0x3d6433]=_0xa8397d[-0x1cae+-0x25b7+0x4265],_0x221000[_0x3d6433+(0xeae*-0x1+0x1db+0xcd4)]=_0xa8397d[0x5*-0xc4+-0x1*0x1337+0x3b*0x64],_0x221000[_0x3d6433+(-0x9f*-0x9+-0xe6b*-0x1+0x500*-0x4)]=_0xa8397d[0x2575+0x9a8+-0x2f1b];},Te[xa]=(_0x3521d0,_0x258b4e,_0x35b1c1)=>{const _0x4b02ff=_0x3521d0['storageFlo'+'at32'];_0x4b02ff[_0x35b1c1]=_0x258b4e[0xebb+-0xbd5+-0x2e6],_0x4b02ff[_0x35b1c1+(-0x2561*-0x1+0x2231+-0x3*0x17db)]=_0x258b4e[-0x1a*-0x16d+0x170d+0x51*-0xbe],_0x4b02ff[_0x35b1c1+(-0x1442+0x7f*0x2+0x1346)]=_0x258b4e[-0xa91+-0x2*-0xf4+0x8ab],_0x4b02ff[_0x35b1c1+(0x1ae+-0x13*0xef+0x1012)]=_0x258b4e[0x2d2+0x23d9+-0x26a8];},Te[ln]=function(_0xb3fe18,_0x392237,_0x294939){const _0x16a726=_0xb3fe18['storageInt'+'32'];_0x16a726[_0x294939]=_0x392237;},Te[Zr]=function(_0x138e38,_0x1c5b1a,_0x45c4bf){const _0x1480c5=_0x138e38['storageInt'+'32'];_0x1480c5[_0x45c4bf]=_0x1c5b1a[-0x15d4+0x267+0x136d*0x1],_0x1480c5[_0x45c4bf+(-0xd*0xd9+0x9*0x3c3+0xa7*-0x23)]=_0x1c5b1a[0x1*-0x1219+-0x2447+-0x1*-0x3661];},Te[Qr]=function(_0x4ced95,_0x389768,_0x567597){const _0x193fed=_0x4ced95['storageInt'+'32'];_0x193fed[_0x567597]=_0x389768[-0xa34+-0x3*-0xce3+0x9b*-0x2f],_0x193fed[_0x567597+(0xb91+-0x2700+0x1b70)]=_0x389768[-0x1e54+-0x77d+0x25d2],_0x193fed[_0x567597+(-0xf6b+-0x1661*-0x1+-0xa*0xb2)]=_0x389768[0x9d*-0x2f+0x1290+0xa45*0x1];},Te[Jr]=function(_0x4804e6,_0x36246e,_0x2cfcfa){const _0x25b93a=_0x4804e6['storageInt'+'32'];_0x25b93a[_0x2cfcfa]=_0x36246e[0x47*0x1+0x1*-0x1bd1+0x1b8a],_0x25b93a[_0x2cfcfa+(-0x72c*0x4+0x638+0x1679)]=_0x36246e[-0x29c*0x7+-0x39*0x1d+0x18ba],_0x25b93a[_0x2cfcfa+(0x1*0x19cd+-0x23*-0x94+-0x2e07)]=_0x36246e[-0x8*-0x1ff+-0x1c9*-0xb+-0x2399],_0x25b93a[_0x2cfcfa+(-0x1241+-0x634+0x1878)]=_0x36246e[0xc1*0x17+0x176*0x2+0x288*-0x8];},Te[Rh]=(_0x27387d,_0x4dba34,_0x3cd85e)=>{const _0x2d3a49=_0x27387d['storageFlo'+'at32'];_0x2d3a49[_0x3cd85e]=_0x4dba34[0x13e9+0x1b6b+0xbd5*-0x4],_0x2d3a49[_0x3cd85e+(0x1*0xeb7+-0xc+-0xeaa)]=_0x4dba34[-0x2455+-0x58e+-0x14f2*-0x2],_0x2d3a49[_0x3cd85e+(-0x1541+-0x4*0x338+-0x2225*-0x1)]=_0x4dba34[0x1939+-0x3*-0x907+-0x344c],_0x2d3a49[_0x3cd85e+(0x5c1+-0x77c+0x1c0)]=_0x4dba34[0x45*-0x6d+-0x110a+0x2e6e],_0x2d3a49[_0x3cd85e+(-0x1ea+-0x1ac2+-0x14e*-0x16)]=_0x4dba34[-0x7f1+-0xeee+-0x16e3*-0x1],_0x2d3a49[_0x3cd85e+(0x18de+-0x1*-0x245+0x1b1a*-0x1)]=_0x4dba34[0x595*0x5+-0x453*0x4+-0xe2*0xc];},Te[ko]=(_0x1b46c0,_0x14a8f1,_0x503ac0)=>{const _0x3bf7e2=_0x1b46c0['storageFlo'+'at32'];_0x3bf7e2[_0x503ac0]=_0x14a8f1[-0x21eb+0x317*0x7+0x16*0x8f],_0x3bf7e2[_0x503ac0+(-0x17e9*0x1+-0x237c+0x3b66)]=_0x14a8f1[0x8*0x4b6+0x6*0x5f+-0x27e9],_0x3bf7e2[_0x503ac0+(0x24dc+0xa6+-0x32*0xc0)]=_0x14a8f1[-0x9*-0x72+0x1631+-0x1a31],_0x3bf7e2[_0x503ac0+(-0xb58+-0xd*0x104+0x1890)]=_0x14a8f1[0xce1+0x2512+-0x31f0],_0x3bf7e2[_0x503ac0+(0x2d1*-0x4+0x28d+-0x1*-0x8bc)]=_0x14a8f1[-0x1321+0x8b*0x36+-0xa2d],_0x3bf7e2[_0x503ac0+(-0x1*0x2588+0x837+0x1d57)]=_0x14a8f1[0x25e4+0x16*-0x12+0x223*-0x11],_0x3bf7e2[_0x503ac0+(-0xc*-0x323+-0xddd+-0x17bf)]=_0x14a8f1[-0x5b*0x43+-0x502+0x1cd9],_0x3bf7e2[_0x503ac0+(0x412+-0x2262+-0x11*-0x1c9)]=_0x14a8f1[-0x1a82+0x1538+0x551],_0x3bf7e2[_0x503ac0+(-0xf95+0x4e2*-0x4+0x2327)]=_0x14a8f1[0x1c+-0x14ae*0x1+-0x2*-0xa4d];},Te[Dc]=function(_0xb5f226,_0x54aa61,_0x27be25,_0x164ad9){const _0x52cd9c=_0xb5f226['storageFlo'+'at32'];for(let _0xffc16b=0xc44+-0x766*-0x2+0x2*-0xd88;_0xffc16b<_0x164ad9;_0xffc16b++)_0x52cd9c[_0x27be25+_0xffc16b*(-0x6*-0xad+-0x251e*0x1+0x124*0x1d)]=_0x54aa61[_0xffc16b];},Te[Lc]=(_0x172a31,_0x4264f0,_0x573262,_0x12f249)=>{const _0x16fb01=_0x172a31['storageFlo'+'at32'];for(let _0x38a9a5=-0x15fd+-0x20e3+-0x36e0*-0x1;_0x38a9a5<_0x12f249;_0x38a9a5++)_0x16fb01[_0x573262+_0x38a9a5*(-0x1c9b+-0x1*0x66d+0x230c)]=_0x4264f0[_0x38a9a5*(-0x19a3*-0x1+-0x79*0x4d+0xac4)],_0x16fb01[_0x573262+_0x38a9a5*(-0x377+-0x1*0x59c+-0xd*-0xb3)+(-0x1c9*-0x7+-0x1e*-0x104+0xd*-0x34e)]=_0x4264f0[_0x38a9a5*(0x21e1*-0x1+0x1de+-0x1*-0x2005)+(0x67d+0x1*-0x1781+0x1105)];},Te[Fc]=(_0x180818,_0x4d5dfa,_0x2e40a1,_0x354666)=>{const _0x3ce946=_0x180818['storageFlo'+'at32'];for(let _0x496d30=0xdd1+0x935*-0x1+-0x76*0xa;_0x496d30<_0x354666;_0x496d30++)_0x3ce946[_0x2e40a1+_0x496d30*(-0xe7d+0x146e+-0x5ed)]=_0x4d5dfa[_0x496d30*(-0x13af*-0x1+-0x3*-0xcaa+0x16*-0x29f)],_0x3ce946[_0x2e40a1+_0x496d30*(0x2*-0xa75+-0x2e*-0x56+0x57a)+(0xfdf+-0x1141*-0x1+0x1*-0x211f)]=_0x4d5dfa[_0x496d30*(-0x3*0x59d+0x24ee+0x1*-0x1414)+(-0x188d+-0x4*-0x5+0x187a)],_0x3ce946[_0x2e40a1+_0x496d30*(0xa81+0x5ea+-0xf7*0x11)+(-0x806+-0x6d*-0x7+0x50d)]=_0x4d5dfa[_0x496d30*(0x3c*-0x3e+-0xe9c+0x1d27)+(-0x1d3*0x3+-0x1faf+0x252a)];},Te[va]=(_0x584de7,_0x2f6d85,_0x4b8d4e,_0x535ec5)=>{const _0x5643c9=_0x584de7['storageUin'+'t32'];_0x5643c9[_0x4b8d4e]=_0x2f6d85;},Te[ba]=(_0x4a58e3,_0x1b81bb,_0x2bda97,_0x4d7f79)=>{const _0x3993f5=_0x4a58e3['storageUin'+'t32'];_0x3993f5[_0x2bda97]=_0x1b81bb[0x9*0x31c+-0xe5d*-0x1+-0x2a59],_0x3993f5[_0x2bda97+(-0x2f*0x83+-0x2*0x980+-0xa7*-0x42)]=_0x1b81bb[0x1e75+0x25fc+-0x4*0x111c];},Te[wa]=(_0x4317a1,_0x26afce,_0x36ea29,_0x3c2983)=>{const _0x1b60b1=_0x4317a1['storageUin'+'t32'];_0x1b60b1[_0x36ea29]=_0x26afce[-0x46*-0x88+0x1*-0x1124+-0xa06*0x2],_0x1b60b1[_0x36ea29+(-0x2572+0x12f+0x1222*0x2)]=_0x26afce[-0x11*-0xec+0x2*0x473+-0x1891],_0x1b60b1[_0x36ea29+(0x40b+0xa1*0xe+0xad*-0x13)]=_0x26afce[0xf8+-0x1*-0xa91+-0xb87];},Te[Ta]=(_0x44ac0b,_0x395cba,_0x3e4c3a,_0x3cc04c)=>{const _0xebcc93=_0x44ac0b['storageUin'+'t32'];_0xebcc93[_0x3e4c3a]=_0x395cba[0x4b1+-0x4*0x4ce+0xe87],_0xebcc93[_0x3e4c3a+(-0x7*-0x242+0x22*0x5c+-0x3*0x957)]=_0x395cba[-0x1fcc+0x7*0x2fd+0xae2],_0xebcc93[_0x3e4c3a+(0x1319*-0x1+-0xfb*-0x1+-0x488*-0x4)]=_0x395cba[0x3*-0x19+0x22bd*-0x1+0x230a],_0xebcc93[_0x3e4c3a+(0x15*0xe9+0x2097+-0x33b1)]=_0x395cba[0x1*0x15dc+-0x95*-0x35+-0x34b2];},Te[Aa]=function(_0x52e2a3,_0x477088,_0x395598,_0x5ad96c){const _0x986a76=_0x52e2a3['storageInt'+'32'];for(let _0x43b89a=-0xd90+-0x1*-0x603+0x78d*0x1;_0x43b89a<_0x5ad96c;_0x43b89a++)_0x986a76[_0x395598+_0x43b89a*(-0x2*0xf3d+0x483+0x19fb)]=_0x477088[_0x43b89a];},Te[kc]=Te[Aa],Te[Oc]=function(_0x33796e,_0x3cb384,_0x1de59a,_0x548c13){const _0x216ed3=_0x33796e['storageUin'+'t32'];for(let _0x57c841=-0x4c*0xc+0xbae+-0x40f*0x2;_0x57c841<_0x548c13;_0x57c841++)_0x216ed3[_0x1de59a+_0x57c841*(-0x117a+0x8*-0x182+0xec7*0x2)]=_0x3cb384[_0x57c841];},Te[Ea]=(_0x48e974,_0x358453,_0x6ddd02,_0xe23c76)=>{const _0x4837b4=_0x48e974['storageInt'+'32'];for(let _0x1f5a6b=0x3*-0xd02+0x26d7+-0x2f*-0x1;_0x1f5a6b<_0xe23c76;_0x1f5a6b++)_0x4837b4[_0x6ddd02+_0x1f5a6b*(-0x14b0+-0x2c5+0x1779)]=_0x358453[_0x1f5a6b*(-0x1e35+0x19*0x3d+0x1842)],_0x4837b4[_0x6ddd02+_0x1f5a6b*(0x124*-0x14+0x1ff3*-0x1+-0x17b*-0x25)+(-0x2da*-0x1+0x191b+-0x1bf4)]=_0x358453[_0x1f5a6b*(0x1*0x201d+-0x2344+-0x1*-0x329)+(0x49b+-0x37*-0x92+-0x1*0x23f8)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x1551f4,_0x1b4d64,_0x1ecabd,_0x5bdb80)=>{const _0x35a596=_0x1551f4['storageUin'+'t32'];for(let _0x52a2a4=0x17a+-0x240d*0x1+-0x2293*-0x1;_0x52a2a4<_0x5bdb80;_0x52a2a4++)_0x35a596[_0x1ecabd+_0x52a2a4*(-0x26f5+0x2ca+0x9d*0x3b)]=_0x1b4d64[_0x52a2a4*(0xb*-0x1a3+-0x168c+0xd85*0x3)],_0x35a596[_0x1ecabd+_0x52a2a4*(-0x12*-0x128+-0x46b+-0x1061)+(0x25e2*0x1+0x11f*0x21+0x4ae*-0x10)]=_0x1b4d64[_0x52a2a4*(0x1fb7+0x4c*-0x43+0x113*-0xb)+(0x25f3+-0x6*0xa9+0x6cc*-0x5)];},Te[Ca]=(_0x3ba7f6,_0x48e140,_0x7f65c8,_0xfb9a55)=>{const _0x4dec0c=_0x3ba7f6['storageInt'+'32'];for(let _0x244324=-0xa55+0x8*0x2ab+0xb03*-0x1;_0x244324<_0xfb9a55;_0x244324++)_0x4dec0c[_0x7f65c8+_0x244324*(-0x44d*-0x8+-0x4e4*0x1+-0x1d80)]=_0x48e140[_0x244324*(-0x22*0xd6+0x217e+-0x7*0xb9)],_0x4dec0c[_0x7f65c8+_0x244324*(0xbef*-0x1+-0x14b*-0x1c+0x1841*-0x1)+(0x1154*-0x1+-0xd1*-0xb+0x85a)]=_0x48e140[_0x244324*(-0x1c5d+-0x270d+0x1*0x436d)+(0x289*-0xa+0x87c+0x10df)],_0x4dec0c[_0x7f65c8+_0x244324*(-0x151*0x16+0xae9*-0x1+-0x27e3*-0x1)+(-0xa92*-0x3+0x16d3+0x129*-0x2f)]=_0x48e140[_0x244324*(0x1052+-0x25e1+-0x16*-0xfb)+(0x25f6+0x1*0x229b+0x5*-0xe83)];},Te[Uc]=Te[Ca],Te[zc]=(_0x304cfd,_0x5a4db1,_0x212baa,_0x332971)=>{const _0x3bd466=_0x304cfd['storageUin'+'t32'];for(let _0x12beba=0x1aa1*-0x1+-0x1*-0x113f+0x962*0x1;_0x12beba<_0x332971;_0x12beba++)_0x3bd466[_0x212baa+_0x12beba*(0x1735+0x1*0xd1f+-0x245*0x10)]=_0x5a4db1[_0x12beba*(0x67*0x53+0xc7*-0xc+0x180e*-0x1)],_0x3bd466[_0x212baa+_0x12beba*(-0x87e*0x3+0xb4e+0xe30)+(-0x2*0x5d1+0x1758+0x14d*-0x9)]=_0x5a4db1[_0x12beba*(-0x1475+0x6*0x3c7+-0x232)+(-0x2*0x3e5+-0x37f+-0x11*-0xaa)],_0x3bd466[_0x212baa+_0x12beba*(-0x1538+0x4d8*-0x8+0xeff*0x4)+(0x184c+-0x436+-0x1414)]=_0x5a4db1[_0x12beba*(-0x1005+-0x235c+0x1*0x3364)+(0x41*-0x49+0xa7c+0x80f)];};class gp{constructor(_0x39f268,_0x576ae9,_0x2181d5=!(-0xd*-0x28f+0x1*0xa5e+-0x2ba1)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0x9ea+0x87d+-0x1267);if(this['device']=_0x39f268,this['format']=_0x576ae9,this['persistent']=_0x2181d5,v['assert'](_0x576ae9),_0x2181d5){this['impl']=_0x39f268['createUnif'+'ormBufferI'+'mpl'](this);const _0x1f42e1=new ArrayBuffer(_0x576ae9['byteSize']);this['assignStor'+'age'](new Int32Array(_0x1f42e1)),_0x39f268['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x23bd2a=this['device'];this['impl']['destroy'](_0x23bd2a),_0x23bd2a['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x149d+-0x85*-0x23+0x26e:this['allocation']['offset'];}['assignStor'+'age'](_0xee95c){this['storageInt'+'32']=_0xee95c,this['storageUin'+'t32']=new Uint32Array(_0xee95c['buffer'],_0xee95c['byteOffset'],_0xee95c['byteLength']/(-0x136+0x198d+-0x1853)),this['storageFlo'+'at32']=new Float32Array(_0xee95c['buffer'],_0xee95c['byteOffset'],_0xee95c['byteLength']/(0x80*-0x2c+0xa14+0xbf0));}['loseContex'+'t'](){var _0x31eb45;(_0x31eb45=this['impl'])==null||_0x31eb45['loseContex'+'t']();}['setUniform'](_0x5eab1e,_0x1c0f25){v['assert'](_0x5eab1e);const _0xcb7788=_0x5eab1e['offset'];if(_0x1c0f25!=null){const _0x24081e=Te[_0x5eab1e['updateType']];_0x24081e?_0x24081e(this,_0x1c0f25,_0xcb7788,_0x5eab1e['count']):this['storageFlo'+'at32']['set'](_0x1c0f25,_0xcb7788);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x5eab1e['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x5eab1e['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x3e6a6d,_0x529ead){const _0x2db17c=this['format']['map']['get'](_0x3e6a6d);v['assert'](_0x2db17c,'Uniform\x20na'+'me\x20['+_0x3e6a6d+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x2db17c&&this['setUniform'](_0x2db17c,_0x529ead);}['startUpdat'+'e'](_0x4ec54a){if(!this['persistent']){const _0x27d570=this['allocation'],_0x353454=_0x27d570['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x27d570,this['format']['byteSize']),this['assignStor'+'age'](_0x27d570['storage']),_0x4ec54a&&(_0x4ec54a['bindGroup']=_0x27d570['gpuBuffer']['getBindGro'+'up'](this),_0x4ec54a['offsets'][0x38*0x5e+-0x5bb+0xed5*-0x1]=_0x27d570['offset']),_0x353454!==_0x27d570['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x425ddd){this['startUpdat'+'e'](_0x425ddd);const _0x2603a7=this['format']['uniforms'];for(let _0x38c221=0x328*0x2+-0x15dd+0xf8d;_0x38c221<_0x2603a7['length'];_0x38c221++){const _0xc04ade=_0x2603a7[_0x38c221]['scopeId']['value'];this['setUniform'](_0x2603a7[_0x38c221],_0xc04ade);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(0x994+0x374+0x1d*-0x73)),c(this,'_enableReq'+'uest',!(0x539+-0x2c3*0x7+0xe1d)),c(this,'_frameTime',0x20f5+-0x107*-0x1a+-0x5*0xbef);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x1b18ef){this['_enableReq'+'uest']=_0x1b18ef;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x5+0x1060*0x1+-0x105b));}['request'](_0x23295c){this['pastFrameA'+'llocations']['set'](_0x23295c,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x10f150,_0xe4c40f){if(_0xe4c40f){const _0x26a437=this['pastFrameA'+'llocations']['get'](_0x10f150);if(v['assert'](_0x26a437['length']===_0xe4c40f['length']),_0xe4c40f['length']>0x8*-0x3e+0xe*-0x166+-0x22*-0xa2&&(this['_frameTime']=_0xe4c40f[0x2492+0x1547+0xfb*-0x3b]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x10f150+'\x20--');let _0x504b2a=0xdff+0x8bc+-0x211*0xb;for(let _0x5834db=0xa21+0x365+0xd86*-0x1;_0x5834db<_0x26a437['length'];++_0x5834db){const _0xdd3205=_0x26a437[_0x5834db];_0x504b2a+=_0xe4c40f[_0x5834db],v['trace'](ml,_0xe4c40f[_0x5834db]['toFixed'](0x61f+0x115a+-0x1777)+'\x20ms\x20'+_0xdd3205);}v['trace'](ml,_0x504b2a['toFixed'](-0x1*-0x220+-0xd68+-0x1*-0xb4a)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x10f150);}['getSlot'](_0x1d40d2){const _0x4422f4=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x1d40d2),_0x4422f4;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x4dddf1){this['bufferId']&&(_0x4dddf1['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x168776,_0x2803ef,_0x48b7e6,_0x8c313a){const _0x326cbb=_0x168776['gl'];if(this['bufferId'])_0x326cbb['bindBuffer'](_0x48b7e6,this['bufferId']),_0x326cbb['bufferSubD'+'ata'](_0x48b7e6,-0x49f+0xdf0+-0x951,_0x8c313a);else{let _0xe95914;switch(_0x2803ef){case jt:_0xe95914=_0x326cbb['STATIC_DRA'+'W'];break;case Th:_0xe95914=_0x326cbb['DYNAMIC_DR'+'AW'];break;case uy:_0xe95914=_0x326cbb['STREAM_DRA'+'W'];break;case PS:_0xe95914=_0x326cbb['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x326cbb['createBuff'+'er'](),_0x326cbb['bindBuffer'](_0x48b7e6,this['bufferId']),_0x326cbb['bufferData'](_0x48b7e6,_0x8c313a,_0xe95914);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x25ea2b){super['destroy'](_0x25ea2b),_0x25ea2b['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x8167c1){const _0x29a495=_0x8167c1['device'];super['unlock'](_0x29a495,_0x8167c1['usage'],_0x29a495['gl']['ARRAY_BUFF'+'ER'],_0x8167c1['storage']);}}class ib extends r0{constructor(_0x7664c6){super();const _0x350e70=_0x7664c6['device']['gl'],_0x82acbd=_0x7664c6['format'];_0x82acbd===pu?this['glFormat']=_0x350e70['UNSIGNED_B'+'YTE']:_0x82acbd===Pi?this['glFormat']=_0x350e70['UNSIGNED_S'+'HORT']:_0x82acbd===nr&&(this['glFormat']=_0x350e70['UNSIGNED_I'+'NT']);}['unlock'](_0x3dd2a4){const _0xeb2f69=_0x3dd2a4['device'];super['unlock'](_0xeb2f69,_0x3dd2a4['usage'],_0xeb2f69['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x3dd2a4['storage']);}}class Mm{constructor(_0x398370,_0x35dbc7,_0x542843,_0xf5919d){if(this['locationId']=_0xf5919d,this['scopeId']=_0x398370['scope']['resolve'](_0x35dbc7),this['version']=new Ky(),_0x35dbc7['substring'](_0x35dbc7['length']-(-0x6d*0x19+-0x4c0*0x4+0x1da8))==='[0]')switch(_0x542843){case Ws:_0x542843=Dc;break;case ln:_0x542843=Aa;break;case va:_0x542843=Oc;break;case ca:_0x542843=kc;break;case or:_0x542843=Lc;break;case Zr:_0x542843=Ea;break;case ba:_0x542843=Bc;break;case Lo:_0x542843=Nc;break;case Wt:_0x542843=Fc;break;case Qr:_0x542843=Ca;break;case wa:_0x542843=zc;break;case Fo:_0x542843=Uc;break;case xa:_0x542843=lp;break;case Jr:_0x542843=Ih;break;case Ta:_0x542843=hp;break;case Oo:_0x542843=cp;break;}this['dataType']=_0x542843,this['value']=[null,null,null,null],this['array']=[];}}let Pm=0x1b43*0x1+-0x45a*-0x5+-0x3105;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x145705){this['map']['forEach'](_0x4ffb0f=>{_0x145705['gl']['deleteShad'+'er'](_0x4ffb0f);});}['loseContex'+'t'](_0xa153e3){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0xf1f1be){c(this,'compileDur'+'ation',0x1a3*0x14+0x1*0x233+-0xb*0x32d),(this['init'](),this['compile'](_0xf1f1be['device'],_0xf1f1be),this['link'](_0xf1f1be['device'],_0xf1f1be),_0xf1f1be['device']['shaders']['push'](_0xf1f1be));}['destroy'](_0x32170d){this['glProgram']&&(_0x32170d['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x199f4f,_0xd88d34){this['compile'](_0x199f4f,_0xd88d34),this['link'](_0x199f4f,_0xd88d34);}['compile'](_0x2a8c81,_0xb3ba5d){const _0x4c05f6=_0xb3ba5d['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x2a8c81,_0x4c05f6['vshader'],!(0x7d+-0x1*0x407+0x3*0x12e)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x2a8c81,_0x4c05f6['fshader'],!(0x52*0x43+0x6f1*-0x2+-0x793*0x1));}['link'](_0x102d57,_0x70d866){if(this['glProgram'])return;const _0x3e5c59=_0x102d57['gl'];if(_0x3e5c59['isContextL'+'ost']())return;let _0x156bd9=-0x5*0x3b9+-0x6*-0x4f5+-0xb21;v['call'](()=>{this['compileDur'+'ation']=-0x4*-0xd3+0x215a+-0x24a6,_0x156bd9=ne();});const _0x49d9c8=_0x3e5c59['createProg'+'ram']();this['glProgram']=_0x49d9c8,_0x3e5c59['attachShad'+'er'](_0x49d9c8,this['glVertexSh'+'ader']),_0x3e5c59['attachShad'+'er'](_0x49d9c8,this['glFragment'+'Shader']);const _0x527c3a=_0x70d866['definition'],_0x465caa=_0x527c3a['attributes'];if(_0x527c3a['useTransfo'+'rmFeedback']){const _0x14d215=[];for(const _0x215f7a in _0x465caa)_0x465caa['hasOwnProp'+'erty'](_0x215f7a)&&_0x14d215['push']('out_'+_0x215f7a);_0x3e5c59['transformF'+'eedbackVar'+'yings'](_0x49d9c8,_0x14d215,_0x3e5c59['INTERLEAVE'+'D_ATTRIBS']);}const _0xb43fbc={};for(const _0x1243e6 in _0x465caa)if(_0x465caa['hasOwnProp'+'erty'](_0x1243e6)){const _0x5cdbbe=_0x465caa[_0x1243e6],_0x47c65e=ve[_0x5cdbbe];v['assert'](!_0xb43fbc['hasOwnProp'+'erty'](_0x47c65e),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0xb43fbc[_0x47c65e]+'\x20and\x20'+_0x1243e6),_0xb43fbc[_0x47c65e]=_0x1243e6,_0x3e5c59['bindAttrib'+'Location'](_0x49d9c8,_0x47c65e,_0x1243e6);}_0x3e5c59['linkProgra'+'m'](_0x49d9c8),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x156bd9;}),_0x102d57['_shaderSta'+'ts']['linked']++,_0x527c3a['tag']===Ly&&_0x102d57['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x2be5a5,_0x84a360,_0x8f3ba7){const _0x46f30c=_0x2be5a5['gl'];if(_0x46f30c['isContextL'+'ost']())return null;const _0x3c71da=(_0x8f3ba7?ab:ob)['get'](_0x2be5a5,()=>new nb());let _0x5e20b2=_0x3c71da['map']['get'](_0x84a360);if(!_0x5e20b2){const _0x23cbde=ne();_0x2be5a5['fire']('shader:com'+'pile:start',{'timestamp':_0x23cbde,'target':_0x2be5a5}),_0x5e20b2=_0x46f30c['createShad'+'er'](_0x8f3ba7?_0x46f30c['VERTEX_SHA'+'DER']:_0x46f30c['FRAGMENT_S'+'HADER']),_0x46f30c['shaderSour'+'ce'](_0x5e20b2,_0x84a360),_0x46f30c['compileSha'+'der'](_0x5e20b2),_0x3c71da['map']['set'](_0x84a360,_0x5e20b2);const _0x4b5e77=ne();_0x2be5a5['fire']('shader:com'+'pile:end',{'timestamp':_0x4b5e77,'target':_0x2be5a5}),_0x2be5a5['_shaderSta'+'ts']['compileTim'+'e']+=_0x4b5e77-_0x23cbde,_0x8f3ba7?_0x2be5a5['_shaderSta'+'ts']['vsCompiled']++:_0x2be5a5['_shaderSta'+'ts']['fsCompiled']++;}return _0x5e20b2;}['finalize'](_0x5bd97e,_0x5a4e19){var _0x5276b7,_0x4f1b8a;const _0x1c6967=_0x5bd97e['gl'];if(_0x1c6967['isContextL'+'ost']())return!(0x1*0xb4e+0x23fe+-0xbd3*0x4);const _0x2b6cca=this['glProgram'],_0x5320fa=_0x5a4e19['definition'],_0x379094=ne();_0x5bd97e['fire']('shader:lin'+'k:start',{'timestamp':_0x379094,'target':_0x5bd97e});let _0x29759f=0xd*0x228+0x13a*0x1c+-0x1f3*0x20;if(v['call'](()=>{_0x29759f=ne();}),!_0x1c6967['getProgram'+'Parameter'](_0x2b6cca,_0x1c6967['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x5bd97e,_0x5a4e19,this['glVertexSh'+'ader'],_0x5320fa['vshader'],'vertex')||!this['_isCompile'+'d'](_0x5bd97e,_0x5a4e19,this['glFragment'+'Shader'],_0x5320fa['fshader'],'fragment'))return!(-0x674+-0x11ec+0x1861);const _0x263386='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x1c6967['getProgram'+'InfoLog'](_0x2b6cca);return _0x5320fa['translated'+'Frag']=(_0x5276b7=_0x1c6967['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x21c8+-0xc5c+0x2e24):_0x5276b7['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x5320fa['translated'+'Vert']=(_0x4f1b8a=_0x1c6967['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x390+-0x1*0x21ea+0x4e*0x7b):_0x4f1b8a['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x263386,_0x5320fa),console['error'](_0x263386),!(-0x16d4+-0x44*-0x52+0x10d);}const _0x58ad92=_0x1c6967['getProgram'+'Parameter'](_0x2b6cca,_0x1c6967['ACTIVE_ATT'+'RIBUTES']);for(let _0x257f4e=-0x97a+0x164*-0xe+0x1cf2;_0x257f4e<_0x58ad92;_0x257f4e++){const _0xf12aeb=_0x1c6967['getActiveA'+'ttrib'](_0x2b6cca,_0x257f4e),_0x568fe4=_0x1c6967['getAttribL'+'ocation'](_0x2b6cca,_0xf12aeb['name']);if(!rb['has'](_0xf12aeb['name'])){if(_0x5320fa['attributes'][_0xf12aeb['name']]===void(-0x2650+-0x8d6+-0x163*-0x22))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0xf12aeb['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x5a4e19['label']+']',_0x5a4e19),_0x5a4e19['failed']=!(0x3*0x21+-0x475*0x1+0x412);else{const _0x519a37=new Mm(_0x5bd97e,_0x5320fa['attributes'][_0xf12aeb['name']],_0x5bd97e['pcUniformT'+'ype'][_0xf12aeb['type']],_0x568fe4);this['attributes']['push'](_0x519a37);}}}const _0x22b0a3=_0x5bd97e['_samplerTy'+'pes'],_0x246888=_0x1c6967['getProgram'+'Parameter'](_0x2b6cca,_0x1c6967['ACTIVE_UNI'+'FORMS']);for(let _0x57e8eb=-0x6ef+-0x1*0x20e3+-0x13e9*-0x2;_0x57e8eb<_0x246888;_0x57e8eb++){const _0x30877b=_0x1c6967['getActiveU'+'niform'](_0x2b6cca,_0x57e8eb),_0x1ec9d1=_0x1c6967['getUniform'+'Location'](_0x2b6cca,_0x30877b['name']),_0x277f0b=new Mm(_0x5bd97e,_0x30877b['name'],_0x5bd97e['pcUniformT'+'ype'][_0x30877b['type']],_0x1ec9d1);_0x22b0a3['has'](_0x30877b['type'])?this['samplers']['push'](_0x277f0b):this['uniforms']['push'](_0x277f0b);}_0x5a4e19['ready']=!(-0xa1f*-0x3+0x52a*0x1+0x6b*-0x55);const _0x3377bd=ne();return _0x5bd97e['fire']('shader:lin'+'k:end',{'timestamp':_0x3377bd,'target':_0x5bd97e}),_0x5bd97e['_shaderSta'+'ts']['compileTim'+'e']+=_0x3377bd-_0x379094,v['call'](()=>{const _0x3d42a3=ne()-_0x29759f;this['compileDur'+'ation']+=_0x3d42a3,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x5a4e19['id']+']\x20'+_0x5a4e19['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x26d6*0x1+-0x15c7+-0x1e4f*-0x2)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](-0x4*0x676+-0xac1*-0x1+0xf18)+'ms');}),!(-0x83f*0x1+0x1d3f+0x1*-0x1500);}['_isCompile'+'d'](_0x38c3ff,_0x4f1dd2,_0x25d7fe,_0x101f43,_0x703123){const _0x3043d5=_0x38c3ff['gl'];if(!_0x3043d5['getShaderP'+'arameter'](_0x25d7fe,_0x3043d5['COMPILE_ST'+'ATUS'])){const _0x167e7c=_0x3043d5['getShaderI'+'nfoLog'](_0x25d7fe),[_0x2d1225,_0x15a401]=this['_processEr'+'ror'](_0x101f43,_0x167e7c),_0x12955b='Failed\x20to\x20'+'compile\x20'+_0x703123+'\x20shader:\x0a\x0a'+_0x167e7c+'\x0a'+_0x2d1225+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x15a401['shader']=_0x4f1dd2,console['error'](_0x12955b,_0x15a401),console['error'](_0x12955b),!(-0x1*0x1cd+0x1e91+-0x25*0xc7);}return!(-0x3*0x949+-0xc5e*0x2+0x3497);}['isLinked'](_0x38506f){const {extParallelShaderCompile:_0x572905}=_0x38506f;return _0x572905?_0x38506f['gl']['getProgram'+'Parameter'](this['glProgram'],_0x572905['COMPLETION'+'_STATUS_KH'+'R']):!(-0x1d*-0x6d+-0x175*0x5+0x4*-0x144);}['_processEr'+'ror'](_0x4c12a5,_0x560658){const _0x266e3f={};let _0x369d9c='';if(_0x4c12a5){const _0x403852=_0x4c12a5['split']('\x0a');let _0x1ffccd=-0x4a2+-0x1210+0x16b2,_0x39c257=_0x403852['length'];if(_0x560658&&_0x560658['startsWith']('ERROR:')){const _0x1da68a=_0x560658['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x1da68a&&(_0x266e3f['message']=_0x1da68a[0x853*-0x3+-0xa5b*0x1+0x2357],_0x266e3f['line']=parseInt(_0x1da68a[0x18*0x8d+0xb4f*0x1+0x1*-0x1885],-0x24dc+0x223*-0xd+0x158f*0x3),_0x1ffccd=Math['max'](-0x2b*0x7f+0x433+-0x11*-0x102,_0x266e3f['line']-(-0x592+-0x1c5d+0x21f5*0x1)),_0x39c257=Math['min'](_0x403852['length'],_0x266e3f['line']+(-0xbcd+-0x2c*-0x38+0x232)));}for(let _0x47cfd9=_0x1ffccd;_0x47cfd9<_0x39c257;_0x47cfd9++)_0x369d9c+=_0x47cfd9+(-0x12ca+-0x1*0x53b+0x1806)+':\x09'+_0x403852[_0x47cfd9]+'\x0a';_0x266e3f['source']=_0x4c12a5;}return[_0x369d9c,_0x266e3f];}}function Rm(_0x620f5d,_0x5dc036){const _0x3896d5=_0x620f5d['width'],_0x2274cf=_0x620f5d['height'];if(_0x3896d5>_0x5dc036||_0x2274cf>_0x5dc036){const _0x5c33de=_0x5dc036/Math['max'](_0x3896d5,_0x2274cf),_0xdb2d90=Math['floor'](_0x3896d5*_0x5c33de),_0x2a9a46=Math['floor'](_0x2274cf*_0x5c33de);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x5dc036+('.\x20Resizing'+'\x20from\x20')+_0x3896d5+',\x20'+_0x2274cf+'\x20to\x20'+_0xdb2d90+',\x20'+_0x2a9a46+'.');const _0x501ceb=document['createElem'+'ent']('canvas');return _0x501ceb['width']=_0xdb2d90,_0x501ceb['height']=_0x2a9a46,_0x501ceb['getContext']('2d')['drawImage'](_0x620f5d,-0x950+0x3*-0xa1d+0x27a7*0x1,-0xf01*0x1+-0x6e9*-0x5+-0xc*0x1a1,_0x3896d5,_0x2274cf,0x1*-0x213a+-0x2593+0x5*0xe29,0x253e+0x2*0x11d2+0x1eb*-0x26,_0xdb2d90,_0x2a9a46),_0x501ceb;}return _0x620f5d;}class hb{constructor(_0x252297){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',-0x239*-0xd+0x2494*0x1+-0x4179),this['texture']=_0x252297;}['destroy'](_0x1a5c63){if(this['_glTexture']){for(let _0x3c0f14=0x15e3+0x7*0x395+0x2ef6*-0x1;_0x3c0f14<_0x1a5c63['textureUni'+'ts']['length'];_0x3c0f14++){const _0x4e6ea3=_0x1a5c63['textureUni'+'ts'][_0x3c0f14];for(let _0x31c13b=0x521+-0x4ba*0x7+-0x1*-0x1bf5;_0x31c13b<_0x4e6ea3['length'];_0x31c13b++)_0x4e6ea3[_0x31c13b]===this['_glTexture']&&(_0x4e6ea3[_0x31c13b]=null);}_0x1a5c63['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x3bd470){this['dirtyParam'+'eterFlags']|=_0x3bd470;}['initialize'](_0x224576,_0x5f373f){const _0xa53974=_0x224576['gl'];switch(this['_glTexture']=_0xa53974['createText'+'ure'](),this['_glTarget']=_0x5f373f['_cubemap']?_0xa53974['TEXTURE_CU'+'BE_MAP']:_0x5f373f['_volume']?_0xa53974['TEXTURE_3D']:_0x5f373f['array']?_0xa53974['TEXTURE_2D'+'_ARRAY']:_0xa53974['TEXTURE_2D'],_0x5f373f['_format']){case fy:this['_glFormat']=_0xa53974['ALPHA'],this['_glInterna'+'lFormat']=_0xa53974['ALPHA'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0xa53974['LUMINANCE'],this['_glInterna'+'lFormat']=_0xa53974['LUMINANCE'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0xa53974['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0xa53974['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0xa53974['RED'],this['_glInterna'+'lFormat']=_0xa53974['R8'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0xa53974['RG'],this['_glInterna'+'lFormat']=_0xa53974['RG8'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0xa53974['RGB'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0xa53974['RGBA'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0xa53974['RGBA'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0xa53974['RGB8'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0xa53974['RGBA8'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case Wo:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0x224576['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0x224576['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0xa53974['SRGB'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0xa53974['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0xa53974['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0xa53974['SRGB'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0xa53974['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0xa53974['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x224576['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0x224576['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0xa53974['RED'],this['_glInterna'+'lFormat']=_0xa53974['R16F'],this['_glPixelTy'+'pe']=_0xa53974['HALF_FLOAT'];break;case tp:this['_glFormat']=_0xa53974['RG'],this['_glInterna'+'lFormat']=_0xa53974['RG16F'],this['_glPixelTy'+'pe']=_0xa53974['HALF_FLOAT'];break;case xc:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0xa53974['RGB16F'],this['_glPixelTy'+'pe']=_0xa53974['HALF_FLOAT'];break;case Je:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0xa53974['RGBA16F'],this['_glPixelTy'+'pe']=_0xa53974['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0xa53974['RGB32F'],this['_glPixelTy'+'pe']=_0xa53974['FLOAT'];break;case Ke:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0xa53974['RGBA32F'],this['_glPixelTy'+'pe']=_0xa53974['FLOAT'];break;case Ii:this['_glFormat']=_0xa53974['RED'],this['_glInterna'+'lFormat']=_0xa53974['R32F'],this['_glPixelTy'+'pe']=_0xa53974['FLOAT'];break;case Ci:this['_glFormat']=_0xa53974['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0xa53974['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0xa53974['FLOAT'];break;case la:this['_glFormat']=_0xa53974['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0xa53974['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0xa53974['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0xa53974['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0xa53974['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0xa53974['RGB'],this['_glInterna'+'lFormat']=_0xa53974['SRGB8'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0xa53974['RGBA'],this['_glInterna'+'lFormat']=_0xa53974['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0xa53974['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xa53974['R8I'],this['_glPixelTy'+'pe']=_0xa53974['BYTE'];break;case xy:this['_glFormat']=_0xa53974['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xa53974['R8UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case $f:this['_glFormat']=_0xa53974['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xa53974['R16I'],this['_glPixelTy'+'pe']=_0xa53974['SHORT'];break;case Wf:this['_glFormat']=_0xa53974['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xa53974['R16UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0xa53974['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xa53974['R32I'],this['_glPixelTy'+'pe']=_0xa53974['INT'];break;case an:this['_glFormat']=_0xa53974['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xa53974['R32UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0xa53974['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xa53974['RG8I'],this['_glPixelTy'+'pe']=_0xa53974['BYTE'];break;case Sy:this['_glFormat']=_0xa53974['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xa53974['RG8UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0xa53974['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xa53974['RG16I'],this['_glPixelTy'+'pe']=_0xa53974['SHORT'];break;case Yf:this['_glFormat']=_0xa53974['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xa53974['RG16UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0xa53974['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xa53974['RG32I'],this['_glPixelTy'+'pe']=_0xa53974['INT'];break;case Zf:this['_glFormat']=_0xa53974['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xa53974['RG32UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0xa53974['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xa53974['RGBA8I'],this['_glPixelTy'+'pe']=_0xa53974['BYTE'];break;case vy:this['_glFormat']=_0xa53974['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xa53974['RGBA8UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0xa53974['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xa53974['RGBA16I'],this['_glPixelTy'+'pe']=_0xa53974['SHORT'];break;case Ac:this['_glFormat']=_0xa53974['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xa53974['RGBA16UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0xa53974['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xa53974['RGBA32I'],this['_glPixelTy'+'pe']=_0xa53974['INT'];break;case ut:this['_glFormat']=_0xa53974['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xa53974['RGBA32UI'],this['_glPixelTy'+'pe']=_0xa53974['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x40e*-0x7+-0xc7*0x29+0x3*0x12a);}['upload'](_0x37b6e6,_0x2cc2b3){v['assert'](_0x2cc2b3['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x2cc2b3);const _0x560b97=_0x37b6e6['gl'];if(!_0x2cc2b3['_needsUplo'+'ad']&&(_0x2cc2b3['_needsMipm'+'apsUpload']&&_0x2cc2b3['_mipmapsUp'+'loaded']||!_0x2cc2b3['pot']))return;let _0x5dc611=-0x534+0x4*0x3fd+-0x20*0x56,_0x3bd817,_0x49bd21;const _0x3849bf=_0x2cc2b3['numLevels'];for(_0x2cc2b3['array']&&_0x560b97['texStorage'+'3D'](_0x560b97['TEXTURE_2D'+'_ARRAY'],_0x3849bf,this['_glInterna'+'lFormat'],_0x2cc2b3['_width'],_0x2cc2b3['_height'],_0x2cc2b3['_arrayLeng'+'th']);_0x2cc2b3['_levels'][_0x5dc611]||_0x5dc611===-0x2381+0x10b1+0xac*0x1c;){if(!_0x2cc2b3['_needsUplo'+'ad']&&_0x5dc611===0x18ad+0x207f+-0x4*0xe4b){_0x5dc611++;continue;}else{if(_0x5dc611&&(!_0x2cc2b3['_needsMipm'+'apsUpload']||!_0x2cc2b3['_mipmaps']))break;}if(_0x3bd817=_0x2cc2b3['_levels'][_0x5dc611],_0x49bd21=(-0x15d5+0xafd+0xad9)/Math['pow'](0x2*0x4db+0xf*0x14b+-0x1d19,_0x5dc611),_0x5dc611===0x12c7+-0x2d1*0xb+-0xc35*-0x1&&!_0x2cc2b3['_compresse'+'d']&&!_0x2cc2b3['_integerFo'+'rmat']&&_0x2cc2b3['_levels']['length']<_0x3849bf&&(_0x560b97['generateMi'+'pmap'](this['_glTarget']),_0x2cc2b3['_mipmapsUp'+'loaded']=!(0x96e+0x919+-0x1287)),_0x2cc2b3['_cubemap']){let _0xbe23f9;if(_0x37b6e6['_isBrowser'+'Interface'](_0x3bd817[-0x2*0xd97+0x1*-0x241+-0xb*-0x2ad]))for(_0xbe23f9=0x1634+0x1218+-0x284c;_0xbe23f9<-0x2*0x959+0x49d+0x17*0x9d;_0xbe23f9++){if(!_0x2cc2b3['_levelsUpd'+'ated'][0x1*-0xa0a+0x150+0x45d*0x2][_0xbe23f9])continue;let _0x34a004=_0x3bd817[_0xbe23f9];_0x37b6e6['_isImageBr'+'owserInter'+'face'](_0x34a004)&&(_0x34a004['width']>_0x37b6e6['maxCubeMap'+'Size']||_0x34a004['height']>_0x37b6e6['maxCubeMap'+'Size'])&&(_0x34a004=Rm(_0x34a004,_0x37b6e6['maxCubeMap'+'Size']),_0x5dc611===-0x874*0x1+0x231b+-0x1aa7*0x1&&(_0x2cc2b3['_width']=_0x34a004['width'],_0x2cc2b3['_height']=_0x34a004['height'])),_0x37b6e6['setUnpackF'+'lipY'](!(-0xb7*-0x1+0x1de1*-0x1+-0x13*-0x189)),_0x37b6e6['setUnpackP'+'remultiply'+'Alpha'](_0x2cc2b3['_premultip'+'lyAlpha']),this['_glCreated']?_0x560b97['texSubImag'+'e2D'](_0x560b97['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xbe23f9,_0x5dc611,0x1339+-0x2*0xbc9+-0x173*-0x3,-0x47*0x1a+-0x2f0*0x2+0xd16,this['_glFormat'],this['_glPixelTy'+'pe'],_0x34a004):_0x560b97['texImage2D'](_0x560b97['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xbe23f9,_0x5dc611,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x34a004);}else for(_0x49bd21=(-0x1926+-0x338+0x1c5f)/Math['pow'](0x1ad3+0x3*-0x8dd+-0x3a,_0x5dc611),_0xbe23f9=-0x58+-0x34*-0x88+0x1*-0x1b48;_0xbe23f9<-0x80c+0x1f01+-0x16ef;_0xbe23f9++){if(!_0x2cc2b3['_levelsUpd'+'ated'][0x4e7+0x1*0x1a49+-0x1f30][_0xbe23f9])continue;const _0x571421=_0x3bd817[_0xbe23f9];_0x2cc2b3['_compresse'+'d']?this['_glCreated']&&_0x571421?_0x560b97['compressed'+'TexSubImag'+'e2D'](_0x560b97['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xbe23f9,_0x5dc611,0x1*-0x188e+0x1086*-0x1+0x2914,0x891+-0x1*0x24b5+0x1*0x1c24,Math['max'](_0x2cc2b3['_width']*_0x49bd21,0x2056+0x299*-0xb+-0x3c2),Math['max'](_0x2cc2b3['_height']*_0x49bd21,-0x1*-0x151f+-0xb3e*0x1+-0x9e0),this['_glInterna'+'lFormat'],_0x571421):_0x560b97['compressed'+'TexImage2D'](_0x560b97['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xbe23f9,_0x5dc611,this['_glInterna'+'lFormat'],Math['max'](_0x2cc2b3['_width']*_0x49bd21,0x27*0x4+-0xc0e+0xb73),Math['max'](_0x2cc2b3['_height']*_0x49bd21,0x1433*-0x1+-0x113*-0x11+0x1f1),0x1*0x883+0x14c9+-0x1d4c,_0x571421):(_0x37b6e6['setUnpackF'+'lipY'](!(0x10e2+0x1*-0x26ee+0x160d*0x1)),_0x37b6e6['setUnpackP'+'remultiply'+'Alpha'](_0x2cc2b3['_premultip'+'lyAlpha']),this['_glCreated']&&_0x571421?_0x560b97['texSubImag'+'e2D'](_0x560b97['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xbe23f9,_0x5dc611,0x2*0x327+0x703+0x1e7*-0x7,-0x2429+0x962+0x1ac7,Math['max'](_0x2cc2b3['_width']*_0x49bd21,-0x26db+0xd87+0x5*0x511),Math['max'](_0x2cc2b3['_height']*_0x49bd21,-0x2*0x757+0x7*0x1ce+0x20d),this['_glFormat'],this['_glPixelTy'+'pe'],_0x571421):_0x560b97['texImage2D'](_0x560b97['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xbe23f9,_0x5dc611,this['_glInterna'+'lFormat'],Math['max'](_0x2cc2b3['_width']*_0x49bd21,0xd5d+0x1bd4+-0x2930),Math['max'](_0x2cc2b3['_height']*_0x49bd21,-0x25bc+0x1c87+0x6*0x189),0x220*-0x1+0x83*-0x15+-0x293*-0x5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x571421));}}else{if(_0x2cc2b3['_volume'])_0x2cc2b3['_compresse'+'d']?_0x560b97['compressed'+'TexImage3D'](_0x560b97['TEXTURE_3D'],_0x5dc611,this['_glInterna'+'lFormat'],Math['max'](_0x2cc2b3['_width']*_0x49bd21,0x1*-0x188f+0x181f+0x1*0x71),Math['max'](_0x2cc2b3['_height']*_0x49bd21,0x1a62+0x577+-0x1fd8),Math['max'](_0x2cc2b3['_depth']*_0x49bd21,0x1*-0x12fd+-0xb*0x27d+-0x2e5d*-0x1),0x1769+0x1590*-0x1+-0x1d9,_0x3bd817):(_0x37b6e6['setUnpackF'+'lipY'](!(0x1a1c+0x26ba+-0x40d5)),_0x37b6e6['setUnpackP'+'remultiply'+'Alpha'](_0x2cc2b3['_premultip'+'lyAlpha']),_0x560b97['texImage3D'](_0x560b97['TEXTURE_3D'],_0x5dc611,this['_glInterna'+'lFormat'],Math['max'](_0x2cc2b3['_width']*_0x49bd21,0x20c6+-0x4*-0x83e+0x1*-0x41bd),Math['max'](_0x2cc2b3['_height']*_0x49bd21,0xb09+0x24a*0x5+-0x167a),Math['max'](_0x2cc2b3['_depth']*_0x49bd21,0x1*0x1d09+-0x1e7*-0x2+-0x20d6),-0x59f+0x1aff+-0xab0*0x2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3bd817));else{if(_0x2cc2b3['array']&&typeof _0x3bd817=='object'){if(_0x2cc2b3['_arrayLeng'+'th']===_0x3bd817['length']){if(_0x2cc2b3['_compresse'+'d']){for(let _0x2de455=-0xecc+-0x1a77*-0x1+-0x1*0xbab;_0x2de455<_0x2cc2b3['_arrayLeng'+'th'];_0x2de455++)_0x560b97['compressed'+'TexSubImag'+'e3D'](_0x560b97['TEXTURE_2D'+'_ARRAY'],_0x5dc611,-0x222c+0x5*0x4cd+-0x89*-0x13,-0x9+-0x1*0xaf3+-0x13*-0x94,_0x2de455,Math['max'](Math['floor'](_0x2cc2b3['_width']*_0x49bd21),-0x1e71+-0x2398+0x420a),Math['max'](Math['floor'](_0x2cc2b3['_height']*_0x49bd21),0xe9b+0xa84*0x2+-0x23a2),-0x22ca+-0x2427+0x46f2,this['_glInterna'+'lFormat'],_0x3bd817[_0x2de455]);}else{for(let _0x5e019a=0xf92+0x2400+-0x3392;_0x5e019a<_0x2cc2b3['_arrayLeng'+'th'];_0x5e019a++)_0x560b97['texSubImag'+'e3D'](_0x560b97['TEXTURE_2D'+'_ARRAY'],_0x5dc611,0x1402+0x216b*0x1+-0x356d,0x29*0xc+-0x1cc7+0x1adb,_0x5e019a,Math['max'](Math['floor'](_0x2cc2b3['_width']*_0x49bd21),-0x16ba*0x1+0x67*-0x1f+0x2334),Math['max'](Math['floor'](_0x2cc2b3['_height']*_0x49bd21),0x1a38+-0x1305+-0x732),0x1189*0x1+0x832+-0x59*0x4a,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3bd817[_0x5e019a]);}}}else{if(_0x37b6e6['_isBrowser'+'Interface'](_0x3bd817)){_0x37b6e6['_isImageBr'+'owserInter'+'face'](_0x3bd817)&&(_0x3bd817['width']>_0x37b6e6['maxTexture'+'Size']||_0x3bd817['height']>_0x37b6e6['maxTexture'+'Size'])&&(_0x3bd817=Rm(_0x3bd817,_0x37b6e6['maxTexture'+'Size']),_0x5dc611===-0x1831+-0x1*-0x1322+0x50f&&(_0x2cc2b3['_width']=_0x3bd817['width'],_0x2cc2b3['_height']=_0x3bd817['height']));const _0x49bd6f=_0x3bd817['width']||_0x3bd817['videoWidth'],_0x1522ad=_0x3bd817['height']||_0x3bd817['videoHeigh'+'t'];_0x37b6e6['setUnpackF'+'lipY'](_0x2cc2b3['_flipY']),_0x37b6e6['setUnpackP'+'remultiply'+'Alpha'](_0x2cc2b3['_premultip'+'lyAlpha']),this['_glCreated']&&_0x2cc2b3['_width']===_0x49bd6f&&_0x2cc2b3['_height']===_0x1522ad&&!_0x37b6e6['_isImageVi'+'deoInterfa'+'ce'](_0x3bd817)?_0x560b97['texSubImag'+'e2D'](_0x560b97['TEXTURE_2D'],_0x5dc611,-0x1e*-0x112+-0x78b+-0x1891*0x1,0x82f*0x1+-0xb59+0x32a,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3bd817):(_0x560b97['texImage2D'](_0x560b97['TEXTURE_2D'],_0x5dc611,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x3bd817),_0x5dc611===-0xf65+0x420+0x241*0x5&&(_0x2cc2b3['_width']=_0x49bd6f,_0x2cc2b3['_height']=_0x1522ad));}else _0x49bd21=(0xd65+-0x1*-0x180b+-0x25*0x103)/Math['pow'](-0x556*0x7+0x112b*-0x1+0x3687,_0x5dc611),_0x2cc2b3['_compresse'+'d']?this['_glCreated']&&_0x3bd817?_0x560b97['compressed'+'TexSubImag'+'e2D'](_0x560b97['TEXTURE_2D'],_0x5dc611,-0x2573+0x56*0x27+0x1859,-0x1*-0xafe+0x4cb+-0xfc9,Math['max'](Math['floor'](_0x2cc2b3['_width']*_0x49bd21),-0x274+0x96b+0x1*-0x6f6),Math['max'](Math['floor'](_0x2cc2b3['_height']*_0x49bd21),-0x2b2*0x5+-0x2330+0x30ab),this['_glInterna'+'lFormat'],_0x3bd817):_0x560b97['compressed'+'TexImage2D'](_0x560b97['TEXTURE_2D'],_0x5dc611,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x2cc2b3['_width']*_0x49bd21),0x97e+0x43*-0x4a+0x9e1),Math['max'](Math['floor'](_0x2cc2b3['_height']*_0x49bd21),0x1fa3+-0x1*0xc04+-0x139e),0x1*-0x1833+0xc04+-0xc2f*-0x1,_0x3bd817):(_0x37b6e6['setUnpackF'+'lipY'](!(-0x443*0x1+-0x5b5*0x5+0x9*0x3a5)),_0x37b6e6['setUnpackP'+'remultiply'+'Alpha'](_0x2cc2b3['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3bd817?_0x560b97['texSubImag'+'e2D'](_0x560b97['TEXTURE_2D'],_0x5dc611,0x859*0x2+0x2131+-0x31e3,0x3*-0xdc+-0xe*0x2c5+-0x43*-0x9e,Math['max'](_0x2cc2b3['_width']*_0x49bd21,0x337*0x3+0xf60+-0x1904),Math['max'](_0x2cc2b3['_height']*_0x49bd21,-0x5e*0xb+-0x3*-0x66e+-0x3*0x515),this['_glFormat'],this['_glPixelTy'+'pe'],_0x3bd817):_0x560b97['texImage2D'](_0x560b97['TEXTURE_2D'],_0x5dc611,this['_glInterna'+'lFormat'],Math['max'](_0x2cc2b3['_width']*_0x49bd21,0x196b+-0xa66+-0xf04),Math['max'](_0x2cc2b3['_height']*_0x49bd21,0x10e8+0x9d6*-0x3+-0x7*-0x1cd),0xf1e+-0x91f+-0x5ff,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3bd817));_0x5dc611===-0x29*-0x4b+0xcdd+-0x18e0?_0x2cc2b3['_mipmapsUp'+'loaded']=!(0x68d*0x1+0x25ef+-0x2c7b):_0x2cc2b3['_mipmapsUp'+'loaded']=!(-0x1*0x3ec+-0x2*0x8e+0x508);}}}_0x5dc611++;}if(_0x2cc2b3['_needsUplo'+'ad']){if(_0x2cc2b3['_cubemap']){for(let _0x2489b0=0x2607+0x26d6+-0x4cdd;_0x2489b0<0x1dc2+0x233*0x5+0x1*-0x28bb;_0x2489b0++)_0x2cc2b3['_levelsUpd'+'ated'][-0xa01+0x2*0x9a4+-0x947][_0x2489b0]=!(-0x111d+-0x1*-0x1902+-0x3f2*0x2);}else _0x2cc2b3['_levelsUpd'+'ated'][0x8b3*0x3+-0x1*-0x1253+-0x2c6c]=!(-0x1*-0x1b68+0x24d1+-0x1568*0x3);}!_0x2cc2b3['_compresse'+'d']&&!_0x2cc2b3['_integerFo'+'rmat']&&_0x2cc2b3['_mipmaps']&&_0x2cc2b3['_needsMipm'+'apsUpload']&&_0x2cc2b3['_levels']['length']===0x1fb6+-0x1*0x15df+-0x9d6&&(_0x560b97['generateMi'+'pmap'](this['_glTarget']),_0x2cc2b3['_mipmapsUp'+'loaded']=!(-0xc59*-0x1+0x2*0xd21+0x1*-0x269b)),_0x2cc2b3['_gpuSize']&&_0x2cc2b3['adjustVram'+'SizeTracki'+'ng'](_0x37b6e6['_vram'],-_0x2cc2b3['_gpuSize']),_0x2cc2b3['_gpuSize']=_0x2cc2b3['gpuSize'],_0x2cc2b3['adjustVram'+'SizeTracki'+'ng'](_0x37b6e6['_vram'],_0x2cc2b3['_gpuSize']),this['_glCreated']=!(-0x1076+0x1939+0x8c3*-0x1);}['read'](_0x1a2a8d,_0x58334d,_0x220d0d,_0x3c914c,_0x554a40){const _0x1b57e5=this['texture'];return _0x1b57e5['device']['readTextur'+'eAsync'](_0x1b57e5,_0x1a2a8d,_0x58334d,_0x220d0d,_0x3c914c,_0x554a40);}}class cb{constructor(_0xce446c,_0x14d5fa){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0xce446c,this['resolveFB']=_0x14d5fa);}['destroy'](_0x48ae40){this['msaaFB']&&(_0x48ae40['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x48ae40['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(0xc73+-0x11fe+0x58c));}['destroy'](_0x153e18){var _0x5d20b4;const _0x295453=_0x153e18['gl'];this['_isInitial'+'ized']=!(-0x125f*0x1+-0x1*-0x1511+-0x35*0xd),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x295453['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x295453['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x295453['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x30f75c=>{_0x295453['deleteRend'+'erbuffer'](_0x30f75c);}),this['_glMsaaCol'+'orBuffers']['length']=-0x6c3*0x4+0x1070+0xa9c,(_0x5d20b4=this['colorMrtFr'+'amebuffers'])==null||_0x5d20b4['forEach'](_0x10915b=>{_0x10915b['destroy'](_0x295453);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x153e18)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x6b*0x31+0x110d+-0x2588);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x3a7fe4,_0x2a8bd5){var _0x17ceca,_0x30024d;const _0x34385f=_0x3a7fe4['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x135a+0xd*-0x2fe+0x2*0x1d20);const _0x41982d=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x2*-0x59b+-0x10dd+-0x1*-0x1c13))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x2a8bd5['width']<=0x149*0x1c+0x256+-0xf*0x28e||_0x2a8bd5['height']<=0x1*0x1855+-0x1773+0x2*-0x71)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x2a8bd5['width']+'\x20x\x20'+_0x2a8bd5['height'],_0x2a8bd5);}),this['_glFrameBu'+'ffer']=_0x34385f['createFram'+'ebuffer'](),_0x3a7fe4['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x572c5f=((_0x17ceca=_0x2a8bd5['_colorBuff'+'ers'])==null?void(-0xf3+0x21d3+-0x20e0):_0x17ceca['length'])??0x1*-0x4b8+-0xa*0x306+0x8bd*0x4,_0x562317=_0x34385f['COLOR_ATTA'+'CHMENT0'];for(let _0x8cb61d=-0x8ab*0x1+0x2a9+-0x2*-0x301;_0x8cb61d<_0x572c5f;++_0x8cb61d){const _0x31339d=_0x2a8bd5['getColorBu'+'ffer'](_0x8cb61d);_0x31339d&&(_0x31339d['impl']['_glTexture']||(_0x31339d['_width']=Math['min'](_0x31339d['width'],_0x3a7fe4['maxRenderB'+'ufferSize']),_0x31339d['_height']=Math['min'](_0x31339d['height'],_0x3a7fe4['maxRenderB'+'ufferSize']),_0x3a7fe4['setTexture'](_0x31339d,0x22b6+-0x1063+-0x1253)),_0x34385f['framebuffe'+'rTexture2D'](_0x34385f['FRAMEBUFFE'+'R'],_0x562317+_0x8cb61d,_0x31339d['_cubemap']?_0x34385f['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2a8bd5['_face']:_0x34385f['TEXTURE_2D'],_0x31339d['impl']['_glTexture'],_0x2a8bd5['mipLevel']),_0x41982d['push'](_0x562317+_0x8cb61d));}_0x34385f['drawBuffer'+'s'](_0x41982d);const _0x4aa6bd=_0x2a8bd5['_depthBuff'+'er'];if(_0x4aa6bd||_0x2a8bd5['_depth']){const _0x5951e8=_0x2a8bd5['_stencil']?_0x34385f['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x34385f['DEPTH_ATTA'+'CHMENT'];if(_0x4aa6bd)_0x4aa6bd['impl']['_glTexture']||(_0x4aa6bd['_width']=Math['min'](_0x4aa6bd['width'],_0x3a7fe4['maxRenderB'+'ufferSize']),_0x4aa6bd['_height']=Math['min'](_0x4aa6bd['height'],_0x3a7fe4['maxRenderB'+'ufferSize']),_0x3a7fe4['setTexture'](_0x4aa6bd,-0x1*-0x111f+0xf5e+-0x207d)),_0x34385f['framebuffe'+'rTexture2D'](_0x34385f['FRAMEBUFFE'+'R'],_0x5951e8,_0x4aa6bd['_cubemap']?_0x34385f['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2a8bd5['_face']:_0x34385f['TEXTURE_2D'],_0x2a8bd5['_depthBuff'+'er']['impl']['_glTexture'],_0x2a8bd5['mipLevel']);else{if(!(_0x2a8bd5['_samples']>-0x11*-0x1e7+-0x1ac*-0x5+-0x2*0x1459)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x34385f['createRend'+'erbuffer']());const _0x36b643=_0x2a8bd5['_stencil']?_0x34385f['DEPTH24_ST'+'ENCIL8']:_0x34385f['DEPTH_COMP'+'ONENT32F'];_0x34385f['bindRender'+'buffer'](_0x34385f['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x34385f['renderbuff'+'erStorage'](_0x34385f['RENDERBUFF'+'ER'],_0x36b643,_0x2a8bd5['width'],_0x2a8bd5['height']),_0x34385f['framebuffe'+'rRenderbuf'+'fer'](_0x34385f['FRAMEBUFFE'+'R'],_0x5951e8,_0x34385f['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x34385f['bindRender'+'buffer'](_0x34385f['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x3a7fe4,_0x2a8bd5));}if(_0x2a8bd5['_samples']>-0xd94+0x38a*0x4+0x93*-0x1){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x34385f['createFram'+'ebuffer'](),_0x3a7fe4['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x2b0936=((_0x30024d=_0x2a8bd5['_colorBuff'+'ers'])==null?void(0x5ee+-0x13*0xb5+0x1*0x781):_0x30024d['length'])??0x5c+0x10d1+0x1*-0x112d;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x105*0x1f+-0x4*-0x84+0x1fb*-0x11)){const _0x5bcead=_0x34385f['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x5bcead);const _0x41b45f=_0x3a7fe4['backBuffer'+'Format']===Se?_0x34385f['RGBA8']:_0x34385f['RGB8'];_0x34385f['bindRender'+'buffer'](_0x34385f['RENDERBUFF'+'ER'],_0x5bcead),_0x34385f['renderbuff'+'erStorageM'+'ultisample'](_0x34385f['RENDERBUFF'+'ER'],_0x2a8bd5['_samples'],_0x41b45f,_0x2a8bd5['width'],_0x2a8bd5['height']),_0x34385f['framebuffe'+'rRenderbuf'+'fer'](_0x34385f['FRAMEBUFFE'+'R'],_0x34385f['COLOR_ATTA'+'CHMENT0'],_0x34385f['RENDERBUFF'+'ER'],_0x5bcead);}else for(let _0x52af3c=0x16*0x16a+-0x8a2+-0x167a;_0x52af3c<_0x2b0936;++_0x52af3c){const _0x9925fa=_0x2a8bd5['getColorBu'+'ffer'](_0x52af3c);if(_0x9925fa){const _0x27d576=_0x34385f['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x27d576),_0x34385f['bindRender'+'buffer'](_0x34385f['RENDERBUFF'+'ER'],_0x27d576),_0x34385f['renderbuff'+'erStorageM'+'ultisample'](_0x34385f['RENDERBUFF'+'ER'],_0x2a8bd5['_samples'],_0x9925fa['impl']['_glInterna'+'lFormat'],_0x2a8bd5['width'],_0x2a8bd5['height']),_0x34385f['framebuffe'+'rRenderbuf'+'fer'](_0x34385f['FRAMEBUFFE'+'R'],_0x34385f['COLOR_ATTA'+'CHMENT0']+_0x52af3c,_0x34385f['RENDERBUFF'+'ER'],_0x27d576);}}if(_0x2a8bd5['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x160363=_0x2a8bd5['_stencil']?_0x34385f['DEPTH24_ST'+'ENCIL8']:_0x34385f['DEPTH_COMP'+'ONENT32F'],_0x891f28=_0x2a8bd5['_stencil']?_0x34385f['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x34385f['DEPTH_ATTA'+'CHMENT'];let _0x3af4f9;const _0x4e3aff=_0x2a8bd5['_depthBuff'+'er'];_0x4e3aff&&(_0x3af4f9=_0x4e3aff['id']+':'+_0x2a8bd5['width']+':'+_0x2a8bd5['height']+':'+_0x2a8bd5['_samples']+':'+_0x160363+':'+_0x891f28,this['_glMsaaDep'+'thBuffer']=od(_0x3a7fe4)['get'](_0x3af4f9)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x34385f['createRend'+'erbuffer'](),_0x34385f['bindRender'+'buffer'](_0x34385f['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x34385f['renderbuff'+'erStorageM'+'ultisample'](_0x34385f['RENDERBUFF'+'ER'],_0x2a8bd5['_samples'],_0x160363,_0x2a8bd5['width'],_0x2a8bd5['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x34385f['deleteRend'+'erbuffer'](this);},_0x4e3aff&&od(_0x3a7fe4)['set'](_0x3af4f9,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x3af4f9,_0x34385f['framebuffe'+'rRenderbuf'+'fer'](_0x34385f['FRAMEBUFFE'+'R'],_0x891f28,_0x34385f['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x3a7fe4,_0x2a8bd5,'MSAA')),_0x2b0936>-0x1*-0xe6b+-0xd45+0x125*-0x1&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x3a7fe4,_0x2a8bd5,_0x2b0936),_0x3a7fe4['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x34385f['drawBuffer'+'s'](_0x41982d));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x41376d,_0x68c9ae,_0x147fdd){const _0x189cd6=_0x41376d['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x4afba6=0xa*0x6a+-0x1409+-0xd*-0x139;_0x4afba6<_0x147fdd;++_0x4afba6){const _0x5e3091=_0x68c9ae['getColorBu'+'ffer'](_0x4afba6),_0xbf2422=_0x189cd6['createFram'+'ebuffer']();_0x41376d['setFramebu'+'ffer'](_0xbf2422);const _0x3bdc83=this['_glMsaaCol'+'orBuffers'][_0x4afba6];_0x189cd6['bindRender'+'buffer'](_0x189cd6['RENDERBUFF'+'ER'],_0x3bdc83),_0x189cd6['renderbuff'+'erStorageM'+'ultisample'](_0x189cd6['RENDERBUFF'+'ER'],_0x68c9ae['_samples'],_0x5e3091['impl']['_glInterna'+'lFormat'],_0x68c9ae['width'],_0x68c9ae['height']),_0x189cd6['framebuffe'+'rRenderbuf'+'fer'](_0x189cd6['FRAMEBUFFE'+'R'],_0x189cd6['COLOR_ATTA'+'CHMENT0'],_0x189cd6['RENDERBUFF'+'ER'],_0x3bdc83),_0x189cd6['drawBuffer'+'s']([_0x189cd6['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x41376d,_0x68c9ae,'MSAA-MRT-s'+'rc'+_0x4afba6));const _0x1b20c6=_0x189cd6['createFram'+'ebuffer']();_0x41376d['setFramebu'+'ffer'](_0x1b20c6),_0x189cd6['framebuffe'+'rTexture2D'](_0x189cd6['FRAMEBUFFE'+'R'],_0x189cd6['COLOR_ATTA'+'CHMENT0'],_0x5e3091['_cubemap']?_0x189cd6['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x68c9ae['_face']:_0x189cd6['TEXTURE_2D'],_0x5e3091['impl']['_glTexture'],0x24e8*0x1+-0x1268+-0x1280),this['colorMrtFr'+'amebuffers'][_0x4afba6]=new cb(_0xbf2422,_0x1b20c6),v['call'](()=>this['_checkFbo'](_0x41376d,_0x68c9ae,'MSAA-MRT-d'+'st'+_0x4afba6));}}['_checkFbo'](_0x377605,_0x2cec88,_0x5500ac=''){const _0x395102=_0x377605['gl'],_0x2754dc=_0x395102['checkFrame'+'bufferStat'+'us'](_0x395102['FRAMEBUFFE'+'R']);let _0x3d0a91;switch(_0x2754dc){case _0x395102['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x3d0a91='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x395102['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x3d0a91='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x395102['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x3d0a91='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x395102['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x3d0a91='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x3d0a91,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x3d0a91+(',\x20render\x20t'+'arget:\x20')+_0x2cec88['name']+'\x20'+_0x5500ac,_0x2cec88);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x79b*0x5+-0x1642+-0xfc5,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x15fa+-0x25d4+0xfda),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0xb*0x101+0x10cf+-0x12*0x52),this['_isInitial'+'ized']=!(-0xdda+-0x472+0x124d);}['internalRe'+'solve'](_0x2d2865,_0x494076,_0x1293d6,_0x5088f4,_0x3a5b9d){v['assert'](_0x494076!==_0x1293d6,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x2d2865['setScissor'](0x1572+-0x7b8+0x1*-0xdba,0x1772+0x263*-0xc+0x532,_0x5088f4['width'],_0x5088f4['height']);const _0x231d8b=_0x2d2865['gl'];_0x231d8b['bindFrameb'+'uffer'](_0x231d8b['READ_FRAME'+'BUFFER'],_0x494076),_0x231d8b['bindFrameb'+'uffer'](_0x231d8b['DRAW_FRAME'+'BUFFER'],_0x1293d6),_0x231d8b['blitFrameb'+'uffer'](0x1a34+0x1*-0x9f7+-0x103d*0x1,0x1*0x82a+0x24ec+-0x2d16,_0x5088f4['width'],_0x5088f4['height'],-0xffa+0x38e*-0x3+0x1aa4,0x24ec+-0x1d25+-0x7c7,_0x5088f4['width'],_0x5088f4['height'],_0x3a5b9d,_0x231d8b['NEAREST']);}['resolve'](_0x471f21,_0x56f102,_0xefa990,_0x4b21f5){const _0x391c30=_0x471f21['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0xefa990)for(let _0x5e50d3=-0x132+0x115d+-0x102b;_0x5e50d3<this['colorMrtFr'+'amebuffers']['length'];_0x5e50d3++){const _0x317fa1=this['colorMrtFr'+'amebuffers'][_0x5e50d3];G['pushGpuMar'+'ker'](_0x471f21,'RESOLVE-MR'+'T'+_0x5e50d3),this['internalRe'+'solve'](_0x471f21,_0x317fa1['msaaFB'],_0x317fa1['resolveFB'],_0x56f102,_0x391c30['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x471f21);}_0x4b21f5&&(G['pushGpuMar'+'ker'](_0x471f21,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x471f21,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x56f102,_0x391c30['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x471f21));}else G['pushGpuMar'+'ker'](_0x471f21,'RESOLVE'),this['internalRe'+'solve'](_0x471f21,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x56f102,(_0xefa990?_0x391c30['COLOR_BUFF'+'ER_BIT']:0x39*-0x89+0x256e+-0x3*0x24f)|(_0x4b21f5?_0x391c30['DEPTH_BUFF'+'ER_BIT']:0x1954+-0x1cc4+-0x14*-0x2c)),G['popGpuMark'+'er'](_0x471f21);_0x391c30['bindFrameb'+'uffer'](_0x391c30['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x25fa8a){this['queries']['forEach'](_0x2612a=>_0x25fa8a['deleteQuer'+'y'](_0x2612a)),this['queries']=null;}}class fb extends tb{constructor(_0x217204){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x217204,this['ext']=_0x217204['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0xe65277=>this['device']['gl']['deleteQuer'+'y'](_0xe65277)),this['frameQueri'+'es']['forEach'](_0x5bc670=>this['device']['gl']['deleteQuer'+'y'](_0x5bc670)),this['previousFr'+'ameQueries']['forEach'](_0x37ad89=>_0x37ad89['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x284d0b){if(this['ext']){const _0x4fc439=this['getSlot'](_0x284d0b),_0x493106=this['getQuery']();return this['frameQueri'+'es'][_0x4fc439]=_0x493106,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x493106),_0x4fc439;}}['end'](_0x38bc56){_0x38bc56!==void(-0xd0b*-0x2+-0x52f*-0x3+-0x273*0x11)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x18679f=this['ext'],_0x1e89c1=this['device']['gl'],_0x1f37dc=this['device']['renderVers'+'ion'],_0x504cc0=this['frameQueri'+'es'];if(_0x504cc0['length']>-0x6a5+0xaa+0x5fb){this['frameQueri'+'es']=[];const _0x2ee4b9=new ub();_0x2ee4b9['queries']=_0x504cc0,_0x2ee4b9['renderVers'+'ion']=_0x1f37dc,this['previousFr'+'ameQueries']['push'](_0x2ee4b9);}if(this['previousFr'+'ameQueries']['length']>0x4f+0x1a42+0x3*-0x8db){const _0x9f44cb=this['previousFr'+'ameQueries'][0xcd3+-0x293*-0x5+-0x19b2],_0x51e442=_0x9f44cb['queries'],_0x3ee319=_0x51e442[_0x51e442['length']-(0x30*0xa9+0xc5e+-0x2c0d)],_0x4f1429=_0x1e89c1['getQueryPa'+'rameter'](_0x3ee319,_0x1e89c1['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x152cee=_0x1e89c1['getParamet'+'er'](_0x18679f['GPU_DISJOI'+'NT_EXT']);if(_0x4f1429&&!_0x152cee){this['previousFr'+'ameQueries']['shift']();const _0x320dd1=this['timings'];_0x320dd1['length']=-0x182f+0x1a4f*-0x1+-0x1*-0x327e;for(let _0x4c157d=0x10a*0x3+-0x2180+-0x1e62*-0x1;_0x4c157d<_0x51e442['length'];_0x4c157d++){const _0x128feb=_0x51e442[_0x4c157d],_0x1ee21e=_0x1e89c1['getQueryPa'+'rameter'](_0x128feb,_0x1e89c1['QUERY_RESU'+'LT']);_0x320dd1[_0x4c157d]=_0x1ee21e*(0x2505+0x583*-0x3+0x4*-0x51f+0.000001),this['freeQuerie'+'s']['push'](_0x128feb);}this['report'](_0x9f44cb['renderVers'+'ion'],_0x320dd1);}_0x152cee&&(this['previousFr'+'ameQueries']['forEach'](_0x513d66=>{this['report'](_0x513d66['renderVers'+'ion'],null),_0x513d66['destroy'](_0x1e89c1);}),this['previousFr'+'ameQueries']['length']=0x2*-0x266+-0x3*0xb2b+0x264d);}super['request'](_0x1f37dc);}}}const Tn=[];class pb extends Fh{constructor(_0x2912c8,_0x4c369b={}){super(_0x2912c8,_0x4c369b),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(0x445+0x2556+-0x299a)),(_0x4c369b=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x1*-0xdcc+0x42*-0x42+0x339),this['_contextLo'+'stHandler']=_0x5a9565=>{_0x5a9565['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x5be5f8=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x5be5f8&&_0x5be5f8['includes']('AppleWebKi'+'t')&&(_0x5be5f8['includes']('15.4')||_0x5be5f8['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x4c369b['antialias']=!(-0x13d7*-0x1+0x1a62+-0x2e38),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x425b94=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x1e2598=_0x425b94?_0x425b94[-0x1a0f+-0x389+-0x1d99*-0x1]:null;if(_0x1e2598){const _0x55ec0f=parseFloat(_0x1e2598);(ye['name']==='windows'&&(_0x55ec0f>=-0x48b+-0x2623+-0x315*-0xe||_0x55ec0f===-0x1*-0xc61+-0x377*0xa+-0x1*-0x16b8)||ye['name']==='android'&&_0x55ec0f>=0x1*-0xbb9+0x1*0x1414+0x1*-0x7d7)&&(_0x4c369b['antialias']=!(-0x12*0xea+0x1202+-0x18d),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x1e2598));}}this['backBuffer'+'Antialias']=_0x4c369b['antialias']??!(-0x48b*-0x7+0xc5*-0x18+-0xd54),_0x4c369b['antialias']=!(0xa31+-0x252e+-0x566*-0x5);const _0x2c3e78=_0x4c369b['gl']??_0x2912c8['getContext']('webgl2',_0x4c369b);if(!_0x2c3e78)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x2c3e78,this['isWebGL2']=!(0x1f*-0x8+0x1d6b+-0x1c73),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x29d41e=ye['browserNam'+'e']==='chrome',_0x34c9d4=ye['browserNam'+'e']==='safari',_0x1639d9=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x29*0xf+-0x7b7+0x551);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x34c9d4,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x1639d9&&_0x29d41e&&!_0x4c369b['alpha'],_0x2912c8['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x26b6+0xdff*-0x1+-0x18b6)),_0x2912c8['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x25*0x7a+0x7*-0x78+0x14eb)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x34c9d4&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x2c3e78['SAMPLER_2D'],_0x2c3e78['SAMPLER_CU'+'BE'],_0x2c3e78['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x2c3e78['INT_SAMPLE'+'R_2D'],_0x2c3e78['SAMPLER_2D'+'_SHADOW'],_0x2c3e78['SAMPLER_CU'+'BE_SHADOW'],_0x2c3e78['SAMPLER_3D'],_0x2c3e78['INT_SAMPLE'+'R_3D'],_0x2c3e78['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x2c3e78['SAMPLER_2D'+'_ARRAY'],_0x2c3e78['INT_SAMPLE'+'R_2D_ARRAY'],_0x2c3e78['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x2c3e78['REPEAT'],_0x2c3e78['CLAMP_TO_E'+'DGE'],_0x2c3e78['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x2c3e78['FUNC_ADD'],_0x2c3e78['FUNC_SUBTR'+'ACT'],_0x2c3e78['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x2c3e78['MIN'],_0x2c3e78['MAX']],this['glBlendFun'+'ctionColor']=[_0x2c3e78['ZERO'],_0x2c3e78['ONE'],_0x2c3e78['SRC_COLOR'],_0x2c3e78['ONE_MINUS_'+'SRC_COLOR'],_0x2c3e78['DST_COLOR'],_0x2c3e78['ONE_MINUS_'+'DST_COLOR'],_0x2c3e78['SRC_ALPHA'],_0x2c3e78['SRC_ALPHA_'+'SATURATE'],_0x2c3e78['ONE_MINUS_'+'SRC_ALPHA'],_0x2c3e78['DST_ALPHA'],_0x2c3e78['ONE_MINUS_'+'DST_ALPHA'],_0x2c3e78['CONSTANT_C'+'OLOR'],_0x2c3e78['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x2c3e78['ZERO'],_0x2c3e78['ONE'],_0x2c3e78['SRC_COLOR'],_0x2c3e78['ONE_MINUS_'+'SRC_COLOR'],_0x2c3e78['DST_COLOR'],_0x2c3e78['ONE_MINUS_'+'DST_COLOR'],_0x2c3e78['SRC_ALPHA'],_0x2c3e78['SRC_ALPHA_'+'SATURATE'],_0x2c3e78['ONE_MINUS_'+'SRC_ALPHA'],_0x2c3e78['DST_ALPHA'],_0x2c3e78['ONE_MINUS_'+'DST_ALPHA'],_0x2c3e78['CONSTANT_A'+'LPHA'],_0x2c3e78['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x2c3e78['NEVER'],_0x2c3e78['LESS'],_0x2c3e78['EQUAL'],_0x2c3e78['LEQUAL'],_0x2c3e78['GREATER'],_0x2c3e78['NOTEQUAL'],_0x2c3e78['GEQUAL'],_0x2c3e78['ALWAYS']],this['glStencilO'+'p']=[_0x2c3e78['KEEP'],_0x2c3e78['ZERO'],_0x2c3e78['REPLACE'],_0x2c3e78['INCR'],_0x2c3e78['INCR_WRAP'],_0x2c3e78['DECR'],_0x2c3e78['DECR_WRAP'],_0x2c3e78['INVERT']],this['glClearFla'+'g']=[-0x1*-0x7f4+0x1*-0x14d1+0xcdd,_0x2c3e78['COLOR_BUFF'+'ER_BIT'],_0x2c3e78['DEPTH_BUFF'+'ER_BIT'],_0x2c3e78['COLOR_BUFF'+'ER_BIT']|_0x2c3e78['DEPTH_BUFF'+'ER_BIT'],_0x2c3e78['STENCIL_BU'+'FFER_BIT'],_0x2c3e78['STENCIL_BU'+'FFER_BIT']|_0x2c3e78['COLOR_BUFF'+'ER_BIT'],_0x2c3e78['STENCIL_BU'+'FFER_BIT']|_0x2c3e78['DEPTH_BUFF'+'ER_BIT'],_0x2c3e78['STENCIL_BU'+'FFER_BIT']|_0x2c3e78['COLOR_BUFF'+'ER_BIT']|_0x2c3e78['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x662*0x2+0x17b6+-0x247a,_0x2c3e78['BACK'],_0x2c3e78['FRONT'],_0x2c3e78['FRONT_AND_'+'BACK']],this['glFilter']=[_0x2c3e78['NEAREST'],_0x2c3e78['LINEAR'],_0x2c3e78['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x2c3e78['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x2c3e78['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x2c3e78['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x2c3e78['POINTS'],_0x2c3e78['LINES'],_0x2c3e78['LINE_LOOP'],_0x2c3e78['LINE_STRIP'],_0x2c3e78['TRIANGLES'],_0x2c3e78['TRIANGLE_S'+'TRIP'],_0x2c3e78['TRIANGLE_F'+'AN']],this['glType']=[_0x2c3e78['BYTE'],_0x2c3e78['UNSIGNED_B'+'YTE'],_0x2c3e78['SHORT'],_0x2c3e78['UNSIGNED_S'+'HORT'],_0x2c3e78['INT'],_0x2c3e78['UNSIGNED_I'+'NT'],_0x2c3e78['FLOAT'],_0x2c3e78['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x2c3e78['BOOL']]=ca,this['pcUniformT'+'ype'][_0x2c3e78['INT']]=ln,this['pcUniformT'+'ype'][_0x2c3e78['FLOAT']]=Ws,this['pcUniformT'+'ype'][_0x2c3e78['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x2c3e78['FLOAT_VEC3']]=Wt,this['pcUniformT'+'ype'][_0x2c3e78['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x2c3e78['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x2c3e78['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x2c3e78['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x2c3e78['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x2c3e78['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x2c3e78['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x2c3e78['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x2c3e78['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x2c3e78['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x2c3e78['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x2c3e78['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x2c3e78['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x2c3e78['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x2c3e78['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x2c3e78['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x2c3e78['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x2c3e78['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x2c3e78['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x2c3e78['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x2c3e78['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x2c3e78['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x2c3e78['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x2c3e78['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x2c3e78['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x2c3e78['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x2c3e78['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x2c3e78['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x2c3e78['TEXTURE_2D']]=0x1b89+-0x389+-0x1800,this['targetToSl'+'ot'][_0x2c3e78['TEXTURE_CU'+'BE_MAP']]=-0xc8*0x2e+-0x1af2+-0x11*-0x3b3,this['targetToSl'+'ot'][_0x2c3e78['TEXTURE_3D']]=0x1d2d+-0x136e+-0x9bd;let _0x2eb468,_0xedd175,_0x2efcf2,_0x14dd4b,_0xfade31;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x5515bc,_0x48bb8a){_0x5515bc['value']!==_0x48bb8a&&(_0x2c3e78['uniform1i'](_0x5515bc['locationId'],_0x48bb8a),_0x5515bc['value']=_0x48bb8a);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][Ws]=function(_0x236075,_0x5007b9){_0x236075['value']!==_0x5007b9&&(_0x2c3e78['uniform1f'](_0x236075['locationId'],_0x5007b9),_0x236075['value']=_0x5007b9);},this['commitFunc'+'tion'][or]=function(_0x367ade,_0x44a346){_0xfade31=_0x367ade['value'],_0x2eb468=_0x44a346[0x1b83*-0x1+-0x132+0x1cb5*0x1],_0xedd175=_0x44a346[-0x3*0x954+-0x10f1+0x2cee],(_0xfade31[0x9*-0x1f7+0x1b72+-0x77*0x15]!==_0x2eb468||_0xfade31[0x11*-0x156+0x17ba+-0x7*0x25]!==_0xedd175)&&(_0x2c3e78['uniform2fv'](_0x367ade['locationId'],_0x44a346),_0xfade31[-0x18e*0xb+-0x26a4+0x2*0x1bdf]=_0x2eb468,_0xfade31[0xe1c+0x4c*0x7f+-0x33cf*0x1]=_0xedd175);},this['commitFunc'+'tion'][Wt]=function(_0x1d1d09,_0x4ac0df){_0xfade31=_0x1d1d09['value'],_0x2eb468=_0x4ac0df[0x2f*-0x4+-0x1c0f+-0x7*-0x41d],_0xedd175=_0x4ac0df[-0x1a8f+0x448*-0x6+0x3440],_0x2efcf2=_0x4ac0df[0x195d+-0x3*0xbdb+0xa36],(_0xfade31[-0xd*-0x279+0x242d+-0x6d5*0xa]!==_0x2eb468||_0xfade31[-0x2400+-0xf*0x213+-0x8e*-0x79]!==_0xedd175||_0xfade31[-0x1b*-0xb9+-0x266f+-0x1*-0x12ee]!==_0x2efcf2)&&(_0x2c3e78['uniform3fv'](_0x1d1d09['locationId'],_0x4ac0df),_0xfade31[-0x2398+-0x1e14+-0x579*-0xc]=_0x2eb468,_0xfade31[0x2*0xd2d+-0x3ea*0x4+0x7*-0x187]=_0xedd175,_0xfade31[0x3*0x38b+0x1*-0x11d6+-0x737*-0x1]=_0x2efcf2);},this['commitFunc'+'tion'][xa]=function(_0x57f311,_0x3ab478){_0xfade31=_0x57f311['value'],_0x2eb468=_0x3ab478[0x3bf*-0x1+0x266+-0x45*-0x5],_0xedd175=_0x3ab478[0x57*0x2f+0x404+0x4*-0x4ff],_0x2efcf2=_0x3ab478[-0x7*-0x3df+-0x2*-0x5e0+-0x26d7],_0x14dd4b=_0x3ab478[0x3f*-0x15+-0x1*-0x130a+-0xddc],(_0xfade31[-0x72f*-0x1+-0x1060+0xd*0xb5]!==_0x2eb468||_0xfade31[0x122d*-0x1+-0x4*0x469+0x23d2]!==_0xedd175||_0xfade31[0x1146+-0x186e+0x72a]!==_0x2efcf2||_0xfade31[-0x10d*-0x1+-0x12*0x1+-0xf8]!==_0x14dd4b)&&(_0x2c3e78['uniform4fv'](_0x57f311['locationId'],_0x3ab478),_0xfade31[-0x1002+0xbd1+0x431]=_0x2eb468,_0xfade31[-0x1*0x755+-0x1e23+0x2579]=_0xedd175,_0xfade31[-0x155e+-0x13e7+0x2947]=_0x2efcf2,_0xfade31[0x8bf+-0x1*0x1765+0xea9]=_0x14dd4b);},this['commitFunc'+'tion'][Zr]=function(_0x1e45f0,_0x4c9955){_0xfade31=_0x1e45f0['value'],_0x2eb468=_0x4c9955[0xb4a+0x25fa+0xc51*-0x4],_0xedd175=_0x4c9955[0x1*0x5f7+0x9cf*-0x1+0x1*0x3d9],(_0xfade31[0x1*0x359+0x231d+0x2*-0x133b]!==_0x2eb468||_0xfade31[-0x22a9+0x6e4+-0x58e*-0x5]!==_0xedd175)&&(_0x2c3e78['uniform2iv'](_0x1e45f0['locationId'],_0x4c9955),_0xfade31[-0x15fc+0xd71+0x88b]=_0x2eb468,_0xfade31[0x4*-0x7cc+0x2548+-0x617]=_0xedd175);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x470612,_0x31bfac){_0xfade31=_0x470612['value'],_0x2eb468=_0x31bfac[0x83*0x49+-0xb78+-0x19e3],_0xedd175=_0x31bfac[-0x2441+-0xcf*-0x21+0x993],_0x2efcf2=_0x31bfac[-0x21d3+-0x2*0x695+0x2eff],(_0xfade31[-0x1*-0x14ef+0x4b*0x5f+-0x30c4]!==_0x2eb468||_0xfade31[0x60*0x5+-0x1*0x1499+-0x5e*-0x33]!==_0xedd175||_0xfade31[0x455*0x1+0x1849+-0x1c9c]!==_0x2efcf2)&&(_0x2c3e78['uniform3iv'](_0x470612['locationId'],_0x31bfac),_0xfade31[0x270e+0x8c9*0x4+-0x4a32]=_0x2eb468,_0xfade31[-0x1c*0xc7+-0x216b+0x3730]=_0xedd175,_0xfade31[0x1a1e+-0x1c77+0x3*0xc9]=_0x2efcf2);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x599f13,_0x88c843){_0xfade31=_0x599f13['value'],_0x2eb468=_0x88c843[0x2ee+0x2f*0x2b+0xad3*-0x1],_0xedd175=_0x88c843[0x4d+-0x47*-0x74+-0x2078],_0x2efcf2=_0x88c843[-0x9*-0x2b6+0xd8b+-0x53*0x75],_0x14dd4b=_0x88c843[-0x150e+0x1201+0x310],(_0xfade31[-0x11d1*0x2+-0xc*-0x36+0x211a]!==_0x2eb468||_0xfade31[-0x1*0x18e9+0x480+0x146a]!==_0xedd175||_0xfade31[0x18ca+0x5ec+-0x1eb4]!==_0x2efcf2||_0xfade31[-0x127f+0x54*-0x28+0x1fa2]!==_0x14dd4b)&&(_0x2c3e78['uniform4iv'](_0x599f13['locationId'],_0x88c843),_0xfade31[-0xc15*0x2+0x17*0x1d+0x158f]=_0x2eb468,_0xfade31[0x393*-0x4+-0x1*0x201d+0x1c9*0x1a]=_0xedd175,_0xfade31[-0xdca+0x1af8+-0x1*0xd2c]=_0x2efcf2,_0xfade31[-0xfd8*0x2+0x47*-0x65+0x3bb6*0x1]=_0x14dd4b);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x43a9e4,_0x33443f){_0x2c3e78['uniformMat'+'rix2fv'](_0x43a9e4['locationId'],!(-0x242b+0x1*0xdf3+0x1639),_0x33443f);},this['commitFunc'+'tion'][ko]=function(_0x3dd268,_0x313d69){_0x2c3e78['uniformMat'+'rix3fv'](_0x3dd268['locationId'],!(-0x7b*0x25+-0x23ef*0x1+0x35b7),_0x313d69);},this['commitFunc'+'tion'][Sa]=function(_0xdb0311,_0x1e4ebe){_0x2c3e78['uniformMat'+'rix4fv'](_0xdb0311['locationId'],!(0x1c51*-0x1+-0x2129+0x1*0x3d7b),_0x1e4ebe);},this['commitFunc'+'tion'][Dc]=function(_0x43112e,_0x2b045e){_0x2c3e78['uniform1fv'](_0x43112e['locationId'],_0x2b045e);},this['commitFunc'+'tion'][Lc]=function(_0x498758,_0x926c2a){_0x2c3e78['uniform2fv'](_0x498758['locationId'],_0x926c2a);},this['commitFunc'+'tion'][Fc]=function(_0x51ba2d,_0x47721c){_0x2c3e78['uniform3fv'](_0x51ba2d['locationId'],_0x47721c);},this['commitFunc'+'tion'][lp]=function(_0x1b35aa,_0x287774){_0x2c3e78['uniform4fv'](_0x1b35aa['locationId'],_0x287774);},this['commitFunc'+'tion'][va]=function(_0x45f62b,_0x11947e){_0x45f62b['value']!==_0x11947e&&(_0x2c3e78['uniform1ui'](_0x45f62b['locationId'],_0x11947e),_0x45f62b['value']=_0x11947e);},this['commitFunc'+'tion'][ba]=function(_0x41483d,_0x46d9a4){_0xfade31=_0x41483d['value'],_0x2eb468=_0x46d9a4[-0x952+0x1f*0x1c+0x5ee],_0xedd175=_0x46d9a4[-0x739*-0x1+0x20b2+0x1*-0x27ea],(_0xfade31[-0x2478+0x21b0+0x2c8]!==_0x2eb468||_0xfade31[0x43*0x34+0x1c*0x9b+-0x1e8f]!==_0xedd175)&&(_0x2c3e78['uniform2ui'+'v'](_0x41483d['locationId'],_0x46d9a4),_0xfade31[0x1273*-0x1+0x1a10+0x79d*-0x1]=_0x2eb468,_0xfade31[-0x1439+0xa4a*0x1+0x18*0x6a]=_0xedd175);},this['commitFunc'+'tion'][wa]=function(_0x1062c1,_0x4951e5){_0xfade31=_0x1062c1['value'],_0x2eb468=_0x4951e5[-0x101a+-0x1*0xd3b+-0x3*-0x9c7],_0xedd175=_0x4951e5[-0x10*-0x67+0x2e9+-0x958],_0x2efcf2=_0x4951e5[-0x1*0x1f81+-0x17e6+-0x3769*-0x1],(_0xfade31[-0x22b8+-0xd*-0x13+0x21c1*0x1]!==_0x2eb468||_0xfade31[0x22*-0x10+0x138e+-0x116d]!==_0xedd175||_0xfade31[-0xb6b+-0x19d5+0x26*0xfb]!==_0x2efcf2)&&(_0x2c3e78['uniform3ui'+'v'](_0x1062c1['locationId'],_0x4951e5),_0xfade31[-0x2*-0x5ea+-0x19d0+0xdfc]=_0x2eb468,_0xfade31[-0xc6*0x17+0x26f2+-0x1527]=_0xedd175,_0xfade31[0x1eb7*-0x1+-0x95*0x43+0x45b8]=_0x2efcf2);},this['commitFunc'+'tion'][Ta]=function(_0x59c04c,_0x1a5ad8){_0xfade31=_0x59c04c['value'],_0x2eb468=_0x1a5ad8[-0x16fe+0xa63+0x1*0xc9b],_0xedd175=_0x1a5ad8[0x7*0x2a6+-0x8bf+-0x9ca],_0x2efcf2=_0x1a5ad8[0xd5e*0x1+-0x1d71+0x1015],_0x14dd4b=_0x1a5ad8[0xc15*-0x3+-0x1+0x2443*0x1],(_0xfade31[-0x1*0x476+-0x1*-0x304+0x172]!==_0x2eb468||_0xfade31[-0x1076+0x927+0x10*0x75]!==_0xedd175||_0xfade31[0x1787+0xc4a+-0x67*0x59]!==_0x2efcf2||_0xfade31[-0x1ffe+0x1642+0x9bf]!==_0x14dd4b)&&(_0x2c3e78['uniform4ui'+'v'](_0x59c04c['locationId'],_0x1a5ad8),_0xfade31[0xf92+0x11d9+-0x216b]=_0x2eb468,_0xfade31[-0x16*0xaf+-0xba6+0x1ab1]=_0xedd175,_0xfade31[0xebe+-0x621*0x1+-0x89b]=_0x2efcf2,_0xfade31[-0xc*0x17d+-0xe63+0x1*0x2042]=_0x14dd4b);},this['commitFunc'+'tion'][Aa]=function(_0x3386c2,_0x349da9){_0x2c3e78['uniform1iv'](_0x3386c2['locationId'],_0x349da9);},this['commitFunc'+'tion'][Oc]=function(_0x402b42,_0x91b1d4){_0x2c3e78['uniform1ui'+'v'](_0x402b42['locationId'],_0x91b1d4);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x888d72,_0x381d59){_0x2c3e78['uniform2iv'](_0x888d72['locationId'],_0x381d59);},this['commitFunc'+'tion'][Bc]=function(_0x4aeeab,_0x403317){_0x2c3e78['uniform2ui'+'v'](_0x4aeeab['locationId'],_0x403317);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x2227f2,_0x488c5e){_0x2c3e78['uniform3iv'](_0x2227f2['locationId'],_0x488c5e);},this['commitFunc'+'tion'][zc]=function(_0x2bbbfc,_0x31f302){_0x2c3e78['uniform3ui'+'v'](_0x2bbbfc['locationId'],_0x31f302);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0xebc6cb,_0x2f6914){_0x2c3e78['uniform4iv'](_0xebc6cb['locationId'],_0x2f6914);},this['commitFunc'+'tion'][hp]=function(_0x4dd4eb,_0x37d475){_0x2c3e78['uniform4ui'+'v'](_0x4dd4eb['locationId'],_0x37d475);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x48664b,_0x3ed606){_0x2c3e78['uniformMat'+'rix4fv'](_0x48664b['locationId'],!(0x177d+-0xb7*0x6+0x5b*-0x36),_0x3ed606);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x4c5915=this['gl'];this['feedback']&&_0x4c5915['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0xb3c*0x3+0x2*-0x4f9+-0x17c1)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0xa75+0x1*0x1a3f+0x1c1*-0x9)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x578809){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x578809;}['updateBack'+'bufferForm'+'at'](_0x1bae99){const _0x3bf6b7=this['gl'];_0x3bf6b7['bindFrameb'+'uffer'](_0x3bf6b7['FRAMEBUFFE'+'R'],_0x1bae99);const _0x24cc0e=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x24cc0e?Se:dr;}['updateBack'+'buffer'](){const _0x23e621=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x23e621)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x197*0xf+0x69*-0x57+-0x1*-0x3b89),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x299214,_0x30426b){return new sb();}['createInde'+'xBufferImp'+'l'](_0x4fa8d4){return new ib(_0x4fa8d4);}['createShad'+'erImpl'](_0x158902){return new lb(_0x158902);}['createText'+'ureImpl'](_0x4d9b8c){return new hb(_0x4d9b8c);}['createRend'+'erTargetIm'+'pl'](_0x302dbe){return new db();}['pushMarker'](_0x12daca){if(ye['browser']&&window['spector']){const _0x25fa65=G['toString']();window['spector']['setMarker'](_0x25fa65+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x5dd422=G['toString']();_0x5dd422['length']?window['spector']['setMarker'](_0x5dd422+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x370ae2=this['gl'];let _0x2b3281='highp';if(_0x370ae2['getShaderP'+'recisionFo'+'rmat']){const _0x4272fe=_0x370ae2['getShaderP'+'recisionFo'+'rmat'](_0x370ae2['VERTEX_SHA'+'DER'],_0x370ae2['HIGH_FLOAT']),_0x36a1e2=_0x370ae2['getShaderP'+'recisionFo'+'rmat'](_0x370ae2['VERTEX_SHA'+'DER'],_0x370ae2['MEDIUM_FLO'+'AT']),_0x23c35a=_0x370ae2['getShaderP'+'recisionFo'+'rmat'](_0x370ae2['FRAGMENT_S'+'HADER'],_0x370ae2['HIGH_FLOAT']),_0x52f1b6=_0x370ae2['getShaderP'+'recisionFo'+'rmat'](_0x370ae2['FRAGMENT_S'+'HADER'],_0x370ae2['MEDIUM_FLO'+'AT']);if(_0x4272fe&&_0x36a1e2&&_0x23c35a&&_0x52f1b6){const _0x31bfba=_0x4272fe['precision']>0x329*0x5+0x18d3+0x4*-0xa28&&_0x23c35a['precision']>0x20c2+-0x2*-0xe7b+0x13c*-0x32,_0x1a512d=_0x36a1e2['precision']>-0x13ee+0x1*0x23ef+0x1001*-0x1&&_0x52f1b6['precision']>0x25eb+-0x78d+-0xa9*0x2e;_0x31bfba||(_0x1a512d?(_0x2b3281='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x2b3281='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x2b3281;}['getExtensi'+'on'](){for(let _0x1a7310=-0x1*-0x2496+-0x22ab+-0x1eb;_0x1a7310<arguments['length'];_0x1a7310++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x1a7310])!==-(0x25c1+-0x1f9f+0x1*-0x621))return this['gl']['getExtensi'+'on'](arguments[_0x1a7310]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x120b3d=this['gl'];this['supportedE'+'xtensions']=_0x120b3d['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x2c6*-0x1+-0x126e+0x1534),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x1292d2=this['gl'];let _0x77ee6e;const _0x17b55e=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x15b7f3=_0x1292d2['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x15b7f3==null?void(0x5cb*0x3+-0x24c7+0x1*0x1366):_0x15b7f3['antialias'])??!(0x5b1*-0x5+-0xa6+0x1d1c),this['supportsSt'+'encil']=(_0x15b7f3==null?void(0x914*-0x3+0x3a*-0x8a+-0x680*-0x9):_0x15b7f3['stencil'])??!(-0x208f+0xd10+0x1380),this['maxTexture'+'Size']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_3D_TEX'+'TURE_SIZE']),_0x77ee6e=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x77ee6e?_0x1292d2['getParamet'+'er'](_0x77ee6e['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x77ee6e?_0x1292d2['getParamet'+'er'](_0x77ee6e['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x166793=/\bMali-G52+/,_0x59fb1c=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x17b55e['match'](_0x59fb1c))&&!this['unmaskedRe'+'nderer']['match'](_0x166793),_0x77ee6e=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x77ee6e?_0x1292d2['getParamet'+'er'](_0x77ee6e['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x272*0x1+0x1*-0x962+0x1*0x6f1;const _0x4bd1e3=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x4bd1e3?_0x1292d2['getParamet'+'er'](_0x1292d2['MAX_SAMPLE'+'S']):-0x4e*-0x1d+-0x11aa+0x8d5,this['maxSamples']=Math['min'](this['maxSamples'],-0x864+0x24d9+0x1*-0x1c71),this['samples']=_0x4bd1e3&&this['backBuffer'+'Antialias']?this['maxSamples']:0x1*0x24f9+0x1*0xb82+-0x307a,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=-0x21f5+0x115a*-0x1+-0x3f3*-0xd&&(this['supportsAr'+'eaLights']=!(-0x737+-0xd9+0x811));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x577c6e=this['gl'];_0x577c6e['disable'](_0x577c6e['BLEND']),_0x577c6e['blendFunc'](_0x577c6e['ONE'],_0x577c6e['ZERO']),_0x577c6e['blendEquat'+'ion'](_0x577c6e['FUNC_ADD']),_0x577c6e['colorMask'](!(-0x117a+-0x2651+0x37cb),!(0x118e+-0xa85+-0x709),!(-0x1*-0xd62+-0x1*0x2506+0x22*0xb2),!(0x7c1+-0x25d4+0x1e13)),_0x577c6e['blendColor'](-0x125b+-0x1ebd+0x3118,-0x625+0x24f7+0x20e*-0xf,0x15eb+-0x415+-0x11d6,0x169c+0x6*0x22a+-0x2398),_0x577c6e['enable'](_0x577c6e['CULL_FACE']),this['cullFace']=_0x577c6e['BACK'],_0x577c6e['cullFace'](_0x577c6e['BACK']),_0x577c6e['enable'](_0x577c6e['DEPTH_TEST']),_0x577c6e['depthFunc'](_0x577c6e['LEQUAL']),_0x577c6e['depthMask'](!(0x956+-0x86e+-0xe8)),this['stencil']=!(-0x1*-0x165b+-0x1bf5*0x1+0x59b),_0x577c6e['disable'](_0x577c6e['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x90f+-0x1629+0xd1a*0x1,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x51*0x27+0x14ef*0x1+-0x5*0x185,_0x577c6e['stencilFun'+'c'](_0x577c6e['ALWAYS'],-0x3*-0x8fa+0x26b*-0x7+0xc5*-0xd,-0x7a5*-0x4+0xc1*0x1+0xb*-0x2c2),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=0x65c+0x128d+0x1*-0x17ea,this['stencilWri'+'teMaskBack']=-0x14be+-0x18*0xf4+0x2c9d,_0x577c6e['stencilOp'](_0x577c6e['KEEP'],_0x577c6e['KEEP'],_0x577c6e['KEEP']),_0x577c6e['stencilMas'+'k'](-0x75+0x1*0xd21+-0xbad),this['alphaToCov'+'erage']=!(-0x2*0x7e6+0x52f+0xa9e),this['raster']=!(0x131*0x11+0x15bd+-0xa*0x433),_0x577c6e['disable'](_0x577c6e['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x577c6e['disable'](_0x577c6e['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x14bc+0x3d2+0x10eb),_0x577c6e['disable'](_0x577c6e['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x1*-0x20a5+-0x38*0x7+-0x19*-0x15e,_0x577c6e['clearDepth'](0x1*0x1381+-0x6*-0x27b+-0x12*0x1e9),this['clearColor']=new Y(-0x529*-0x1+-0x83*0x5+-0x14d*0x2,-0x1*-0x2162+-0x8d4+-0xc47*0x2,-0xdaf+-0x8b*0xd+0x14be,-0x5*-0x308+-0xb16+-0x412),_0x577c6e['clearColor'](0x1a15+0x136+-0x1b4b,-0x41*0xa+0x273+-0x17*-0x1,0x1*0x36+0x1f5*-0x11+0xd*0x28b,-0xf3a+-0x175e*-0x1+-0x824),this['clearStenc'+'il']=-0x1*-0xf0b+-0x903*-0x3+-0x150a*0x2,_0x577c6e['clearStenc'+'il'](-0x1*0xcc5+0xb3e+0x17*0x11),_0x577c6e['hint'](_0x577c6e['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x577c6e['NICEST']),_0x577c6e['enable'](_0x577c6e['SCISSOR_TE'+'ST']),_0x577c6e['pixelStore'+'i'](_0x577c6e['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x577c6e['NONE']),this['unpackFlip'+'Y']=!(0x1102+0x1095+-0x2196),_0x577c6e['pixelStore'+'i'](_0x577c6e['UNPACK_FLI'+'P_Y_WEBGL'],!(0x1*0xaa5+-0x78*0x2d+0xa74)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x1375*-0x1+-0x20*-0x137+-0x136a),_0x577c6e['pixelStore'+'i'](_0x577c6e['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0xe3a+0xeea*0x1+0x23*-0x5)),_0x577c6e['pixelStore'+'i'](_0x577c6e['UNPACK_ALI'+'GNMENT'],-0x2036+0x1f52+-0xe5*-0x1);}['initTextur'+'eUnits'](_0x2f3f3d=0x1cf4+0x6a*0x2+-0x4*0x76e){this['textureUni'+'ts']=[];for(let _0x2078c4=-0xbb9+-0xddb*0x2+0x276f;_0x2078c4<_0x2f3f3d;_0x2078c4++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x1d65+-0x9a5+-0x1*0x13c0,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x247c1e of this['shaders'])_0x247c1e['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x4bf9a8 of this['shaders'])_0x4bf9a8['restoreCon'+'text']();}['setViewpor'+'t'](_0x5a52a2,_0xebdcea,_0x39eeee,_0x9b00b6){(this['vx']!==_0x5a52a2||this['vy']!==_0xebdcea||this['vw']!==_0x39eeee||this['vh']!==_0x9b00b6)&&(this['gl']['viewport'](_0x5a52a2,_0xebdcea,_0x39eeee,_0x9b00b6),this['vx']=_0x5a52a2,this['vy']=_0xebdcea,this['vw']=_0x39eeee,this['vh']=_0x9b00b6);}['setScissor'](_0x4cc9d2,_0x20c071,_0x15d434,_0x58cf56){(this['sx']!==_0x4cc9d2||this['sy']!==_0x20c071||this['sw']!==_0x15d434||this['sh']!==_0x58cf56)&&(this['gl']['scissor'](_0x4cc9d2,_0x20c071,_0x15d434,_0x58cf56),this['sx']=_0x4cc9d2,this['sy']=_0x20c071,this['sw']=_0x15d434,this['sh']=_0x58cf56);}['setFramebu'+'ffer'](_0x3d6571){if(this['activeFram'+'ebuffer']!==_0x3d6571){const _0x4be898=this['gl'];_0x4be898['bindFrameb'+'uffer'](_0x4be898['FRAMEBUFFE'+'R'],_0x3d6571),this['activeFram'+'ebuffer']=_0x3d6571;}}['copyRender'+'Target'](_0x23e41f,_0x3ee87b,_0x50795d,_0x160b31){var _0x152e66,_0x45eeb5;const _0x2b9f2f=this['gl'];if(_0x23e41f===this['backBuffer']&&(_0x23e41f=null),_0x50795d){if(_0x3ee87b){if(_0x23e41f){if(!_0x23e41f['_colorBuff'+'er']||!_0x3ee87b['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1*-0x17b+-0x1fb6*0x1+-0x2132*-0x1);if(_0x23e41f['_colorBuff'+'er']['_format']!==_0x3ee87b['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x1a6*0xa+-0xa91*0x3+0x2*0x1818);}}else{if(!_0x23e41f['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x26d3*0x1+0x1983+-0x4055);}}if(_0x160b31&&_0x23e41f&&!_0x23e41f['_depth']){if(!_0x23e41f['_depthBuff'+'er']||!_0x3ee87b['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x8a3*-0x4+-0x1*0x2353+0xc8);if(_0x23e41f['_depthBuff'+'er']['_format']!==_0x3ee87b['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x18bb+0xd6*0x7+-0x1e94);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x1cd821=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x3ee87b,this['updateBegi'+'n']();const _0x469567=_0x23e41f?_0x23e41f['impl']['_glFrameBu'+'ffer']:(_0x152e66=this['backBuffer'])==null?void(0x393*0x2+-0x27f*0xf+0x1e4b):_0x152e66['impl']['_glFrameBu'+'ffer'],_0x2a922e=_0x3ee87b?_0x3ee87b['impl']['_glFrameBu'+'ffer']:(_0x45eeb5=this['backBuffer'])==null?void(-0x1e88+0x83b*0x4+-0x264):_0x45eeb5['impl']['_glFrameBu'+'ffer'];v['assert'](_0x469567!==_0x2a922e,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x2b9f2f['bindFrameb'+'uffer'](_0x2b9f2f['READ_FRAME'+'BUFFER'],_0x469567),_0x2b9f2f['bindFrameb'+'uffer'](_0x2b9f2f['DRAW_FRAME'+'BUFFER'],_0x2a922e);const _0x5d89fc=_0x23e41f?_0x23e41f['width']:_0x3ee87b?_0x3ee87b['width']:this['width'],_0xe608ae=_0x23e41f?_0x23e41f['height']:_0x3ee87b?_0x3ee87b['height']:this['height'];return _0x2b9f2f['blitFrameb'+'uffer'](0x1*0xc41+0x1d9+-0xa*0x169,-0x2064+0x1d6a+0x2fa,_0x5d89fc,_0xe608ae,0x1da7*0x1+0xba*0x1a+-0x11*0x2db,0x170+0x364+-0x4d4,_0x5d89fc,_0xe608ae,(_0x50795d?_0x2b9f2f['COLOR_BUFF'+'ER_BIT']:0x582+-0x1*-0x1e2f+-0x23b1)|(_0x160b31?_0x2b9f2f['DEPTH_BUFF'+'ER_BIT']:0x2ef*-0x7+0x152b+0x1b*-0x6),_0x2b9f2f['NEAREST']),this['renderTarg'+'et']=_0x1cd821,_0x2b9f2f['bindFrameb'+'uffer'](_0x2b9f2f['FRAMEBUFFE'+'R'],_0x1cd821?_0x1cd821['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(0x1c9a+-0x98f*-0x4+-0x42d6);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x2d9779){const _0x148411=_0x2d9779['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x148411,v['assert'](_0x148411),G['pushGpuMar'+'ker'](this,'Pass:'+_0x2d9779['name']+'\x20RT:'+_0x148411['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x4ba15a,height:_0x2b34d7}=_0x148411;this['setViewpor'+'t'](-0xf69+-0xceb*-0x1+0x27e,-0x19*-0xca+0xd39+0x697*-0x5,_0x4ba15a,_0x2b34d7),this['setScissor'](0xac7+-0x599+-0x52e,0xb1f+-0xc1c+0xfd,_0x4ba15a,_0x2b34d7);const _0x16cafd=_0x2d9779['colorOps'],_0x2a49b9=_0x2d9779['depthStenc'+'ilOps'];if(_0x16cafd!=null&&_0x16cafd['clear']||_0x2a49b9['clearDepth']||_0x2a49b9['clearStenc'+'il']){let _0x58d22e=-0x50b*-0x1+-0x2*-0xe2d+-0x2165;const _0x553177={};_0x16cafd!=null&&_0x16cafd['clear']&&(_0x58d22e|=Co,_0x553177['color']=[_0x16cafd['clearValue']['r'],_0x16cafd['clearValue']['g'],_0x16cafd['clearValue']['b'],_0x16cafd['clearValue']['a']]),_0x2a49b9['clearDepth']&&(_0x58d22e|=Mo,_0x553177['depth']=_0x2a49b9['clearDepth'+'Value']),_0x2a49b9['clearStenc'+'il']&&(_0x58d22e|=Ah,_0x553177['stencil']=_0x2a49b9['clearStenc'+'ilValue']),_0x553177['flags']=_0x58d22e,this['clear'](_0x553177);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x1*0xdb7+0x4c5+-0x479*-0x2),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x3decf6){var _0x5bff4c;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x235d3c=this['renderTarg'+'et'],_0x89305=_0x3decf6['colorArray'+'Ops']['length'];if(_0x235d3c){Tn['length']=-0xb*-0x6b+-0x71e+0x285;const _0x4b4738=this['gl'];for(let _0x2a3c89=0x153e+0x10*-0x145+0x11*-0xe;_0x2a3c89<_0x89305;_0x2a3c89++){const _0x260d41=_0x3decf6['colorArray'+'Ops'][_0x2a3c89];_0x260d41['store']||_0x260d41['resolve']||Tn['push'](_0x4b4738['COLOR_ATTA'+'CHMENT0']+_0x2a3c89);}_0x235d3c!==this['backBuffer']&&(_0x3decf6['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x4b4738['DEPTH_ATTA'+'CHMENT']),_0x3decf6['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x4b4738['STENCIL_AT'+'TACHMENT'])),Tn['length']>-0x2*0x611+0xb4a*-0x3+0x2e00&&_0x3decf6['fullSizeCl'+'earRect']&&_0x4b4738['invalidate'+'Framebuffe'+'r'](_0x4b4738['DRAW_FRAME'+'BUFFER'],Tn),_0x89305&&((_0x5bff4c=_0x3decf6['colorOps'])!=null&&_0x5bff4c['resolve'])&&_0x3decf6['samples']>-0x7bb*0x1+-0x49*-0x1c+-0x40*0x1&&_0x235d3c['autoResolv'+'e']&&_0x235d3c['resolve'](!(-0x1*0x164f+-0x1849+0x2e98),!(-0x4*-0x16a+0x1*-0x133+0x4c*-0xf)),_0x235d3c['depthBuffe'+'r']&&_0x3decf6['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x3decf6['samples']>-0x1c4*0x13+-0x1d76+0x3f03&&_0x235d3c['autoResolv'+'e']&&_0x235d3c['resolve'](!(0x95*-0x6+0x2130+0x1db1*-0x1),!(0x1ba2+0xd3*0x2f+-0x425f*0x1));for(let _0x3456a3=-0x2391+-0x2b0+0x7*0x577;_0x3456a3<_0x89305;_0x3456a3++)if(_0x3decf6['colorArray'+'Ops'][_0x3456a3]['genMipmaps']){const _0x1d09bb=_0x235d3c['_colorBuff'+'ers'][_0x3456a3];_0x1d09bb&&_0x1d09bb['impl']['_glTexture']&&_0x1d09bb['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x3456a3),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1*0x165a+-0x1*-0x11d7+-0x242*-0x2)),this['bindTextur'+'e'](_0x1d09bb),this['gl']['generateMi'+'pmap'](_0x1d09bb['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x18f3+0x3*0x7ed+0x12d),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x2435d7){this['_defaultFr'+'amebuffer']!==_0x2435d7&&(this['_defaultFr'+'amebuffer']=_0x2435d7,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x44a+-0x1*-0x49+0x401*0x1));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x172c65=-0x1b2c+-0x4*0x2e0+0x9*0x44c;_0x172c65<this['textureUni'+'ts']['length'];++_0x172c65)for(let _0x116d45=0xcdd*-0x3+-0x1756+0x3ded;_0x116d45<-0x51a+-0xd2d+0x124a;++_0x116d45)this['textureUni'+'ts'][_0x172c65][_0x116d45]=null;}const _0x56f3d0=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x56f3d0);const _0x6e217b=_0x56f3d0['impl'];_0x6e217b['initialize'+'d']||this['initRender'+'Target'](_0x56f3d0),this['setFramebu'+'ffer'](_0x6e217b['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x16d0e8=this['renderTarg'+'et'];if(_0x16d0e8&&_0x16d0e8!==this['backBuffer']){_0x16d0e8['_samples']>-0x20e*-0x1+-0x22+-0x1eb&&_0x16d0e8['autoResolv'+'e']&&_0x16d0e8['resolve']();const _0x5e114e=_0x16d0e8['_colorBuff'+'er'];_0x5e114e&&_0x5e114e['impl']['_glTexture']&&_0x5e114e['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x29*0xeb+-0x29*0x41+-0x1b39)),this['bindTextur'+'e'](_0x5e114e),this['gl']['generateMi'+'pmap'](_0x5e114e['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x4800ec){if(this['unpackFlip'+'Y']!==_0x4800ec){this['unpackFlip'+'Y']=_0x4800ec;const _0x5e8d91=this['gl'];_0x5e8d91['pixelStore'+'i'](_0x5e8d91['UNPACK_FLI'+'P_Y_WEBGL'],_0x4800ec);}}['setUnpackP'+'remultiply'+'Alpha'](_0x41216c){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x41216c){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x41216c;const _0x15d0ea=this['gl'];_0x15d0ea['pixelStore'+'i'](_0x15d0ea['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x41216c);}}['activeText'+'ure'](_0x4f6db4){this['textureUni'+'t']!==_0x4f6db4&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x4f6db4),this['textureUni'+'t']=_0x4f6db4);}['bindTextur'+'e'](_0xdd9284){const _0xdf915f=_0xdd9284['impl'],_0x25aa93=_0xdf915f['_glTarget'],_0x147f91=_0xdf915f['_glTexture'],_0x3e730a=this['textureUni'+'t'],_0x3dcdfe=this['targetToSl'+'ot'][_0x25aa93];this['textureUni'+'ts'][_0x3e730a][_0x3dcdfe]!==_0x147f91&&(this['gl']['bindTextur'+'e'](_0x25aa93,_0x147f91),this['textureUni'+'ts'][_0x3e730a][_0x3dcdfe]=_0x147f91);}['bindTextur'+'eOnUnit'](_0x49abb0,_0x510872){const _0x35e6fc=_0x49abb0['impl'],_0xdab2d=_0x35e6fc['_glTarget'],_0x39576b=_0x35e6fc['_glTexture'],_0xe285db=this['targetToSl'+'ot'][_0xdab2d];this['textureUni'+'ts'][_0x510872][_0xe285db]!==_0x39576b&&(this['activeText'+'ure'](_0x510872),this['gl']['bindTextur'+'e'](_0xdab2d,_0x39576b),this['textureUni'+'ts'][_0x510872][_0xe285db]=_0x39576b);}['setTexture'+'Parameters'](_0x20c370){const _0x19c454=this['gl'],_0x562046=_0x20c370['impl']['dirtyParam'+'eterFlags'],_0x56dc2c=_0x20c370['impl']['_glTarget'];if(_0x562046&zy){let _0x400320=_0x20c370['_minFilter'];(!_0x20c370['_mipmaps']||_0x20c370['_compresse'+'d']&&_0x20c370['_levels']['length']===-0x2*-0xbf6+0x19e6+0x3d5*-0xd)&&(_0x400320===fc||_0x400320===pc?_0x400320=de:(_0x400320===mc||_0x400320===nn)&&(_0x400320=st)),_0x19c454['texParamet'+'eri'](_0x56dc2c,_0x19c454['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x400320]);}if(_0x562046&Uy&&_0x19c454['texParamet'+'eri'](_0x56dc2c,_0x19c454['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x20c370['_magFilter']]),_0x562046&Vy&&_0x19c454['texParamet'+'eri'](_0x56dc2c,_0x19c454['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x20c370['_addressU']]),_0x562046&Gy&&_0x19c454['texParamet'+'eri'](_0x56dc2c,_0x19c454['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x20c370['_addressV']]),_0x562046&Hy&&_0x19c454['texParamet'+'eri'](_0x56dc2c,_0x19c454['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x20c370['_addressW']]),_0x562046&$y&&_0x19c454['texParamet'+'eri'](_0x56dc2c,_0x19c454['TEXTURE_CO'+'MPARE_MODE'],_0x20c370['_compareOn'+'Read']?_0x19c454['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x19c454['NONE']),_0x562046&Wy&&_0x19c454['texParamet'+'eri'](_0x56dc2c,_0x19c454['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x20c370['_compareFu'+'nc']]),_0x562046&qy){const _0x36608d=this['extTexture'+'FilterAnis'+'otropic'];_0x36608d&&_0x19c454['texParamet'+'erf'](_0x56dc2c,_0x36608d['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x20c370['_anisotrop'+'y']),-0xda1*0x1+-0x193e+0x4dc*0x8,this['maxAnisotr'+'opy']));}}['setTexture'](_0x552849,_0xa7b46b){const _0x9a7568=_0x552849['impl'];_0x9a7568['_glTexture']||_0x9a7568['initialize'](this,_0x552849),_0x9a7568['dirtyParam'+'eterFlags']>-0x1*0x1867+-0x1a*-0x1d+0x1*0x1575||_0x552849['_needsUplo'+'ad']||_0x552849['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0xa7b46b),this['bindTextur'+'e'](_0x552849),_0x9a7568['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x552849),_0x9a7568['dirtyParam'+'eterFlags']=0x5*-0x422+-0x11*-0x103+0x377*0x1),(_0x552849['_needsUplo'+'ad']||_0x552849['_needsMipm'+'apsUpload'])&&(_0x9a7568['upload'](this,_0x552849),_0x552849['_needsUplo'+'ad']=!(0x23f6+0x1*-0x6cc+-0x1d29),_0x552849['_needsMipm'+'apsUpload']=!(0x19e+-0x25f5*-0x1+-0x5*0x7ea))):this['bindTextur'+'eOnUnit'](_0x552849,_0xa7b46b);}['createVert'+'exArray'](_0xc6dc3b){let _0x223f85,_0x29e413;const _0x59679d=_0xc6dc3b['length']>0x2a5*-0xb+-0x1474+-0x12e*-0x2a;if(_0x59679d){_0x223f85='';for(let _0x43063b=0x14*0xd0+0x1bd7+-0x2c17;_0x43063b<_0xc6dc3b['length'];_0x43063b++){const _0x53d78a=_0xc6dc3b[_0x43063b];_0x223f85+=_0x53d78a['id']+_0x53d78a['format']['renderingH'+'ash'];}_0x29e413=this['_vaoMap']['get'](_0x223f85);}if(!_0x29e413){const _0x17e157=this['gl'];_0x29e413=_0x17e157['createVert'+'exArray'](),_0x17e157['bindVertex'+'Array'](_0x29e413),_0x17e157['bindBuffer'](_0x17e157['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x2d6556=!(-0x1da1+-0x5*-0x517+0x3f*0x11);for(let _0x5abee9=-0x23ea*0x1+0x188e+-0x2*-0x5ae;_0x5abee9<_0xc6dc3b['length'];_0x5abee9++){const _0x4fbd79=_0xc6dc3b[_0x5abee9];_0x17e157['bindBuffer'](_0x17e157['ARRAY_BUFF'+'ER'],_0x4fbd79['impl']['bufferId']);const _0x5e4fbf=_0x4fbd79['format']['elements'];for(let _0x17db98=0x2554*-0x1+-0x301+0x2855;_0x17db98<_0x5e4fbf['length'];_0x17db98++){const _0x414b29=_0x5e4fbf[_0x17db98],_0x206518=ve[_0x414b29['name']];_0x206518===0x1*0xd5b+-0x1*0x1763+0x3*0x358&&(_0x2d6556=!(-0x7e+0x29*-0x39+-0x335*-0x3)),_0x414b29['asInt']?_0x17e157['vertexAttr'+'ibIPointer'](_0x206518,_0x414b29['numCompone'+'nts'],this['glType'][_0x414b29['dataType']],_0x414b29['stride'],_0x414b29['offset']):_0x17e157['vertexAttr'+'ibPointer'](_0x206518,_0x414b29['numCompone'+'nts'],this['glType'][_0x414b29['dataType']],_0x414b29['normalize'],_0x414b29['stride'],_0x414b29['offset']),_0x17e157['enableVert'+'exAttribAr'+'ray'](_0x206518),_0x4fbd79['format']['instancing']&&_0x17e157['vertexAttr'+'ibDivisor'](_0x206518,0x23ed+0x1c6f+0x293*-0x19);}}_0x17e157['bindVertex'+'Array'](null),_0x17e157['bindBuffer'](_0x17e157['ARRAY_BUFF'+'ER'],null),_0x59679d&&this['_vaoMap']['set'](_0x223f85,_0x29e413),_0x2d6556||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x29e413;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x5d99eb=this['gl'];let _0x1a1862;if(this['vertexBuff'+'ers']['length']===-0x1bf9+0x2269+0x9*-0xb7){const _0x299896=this['vertexBuff'+'ers'][0x3ef+-0xf11+0x11d*0xa];v['assert'](_0x299896['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x299896['impl']['vao']||(_0x299896['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x1a1862=_0x299896['impl']['vao'];}else _0x1a1862=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x1a1862&&(this['boundVao']=_0x1a1862,_0x5d99eb['bindVertex'+'Array'](_0x1a1862)),this['clearVerte'+'xBuffer']();const _0x3f4f57=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x5d99eb['bindBuffer'](_0x5d99eb['ELEMENT_AR'+'RAY_BUFFER'],_0x3f4f57);}['draw'](_0x5e2adb,_0x538d5d,_0xf9618){const _0x276e8d=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x1b842d,_0x3ee756,_0x1939e6,_0x45c015,_0x1336be,_0x9a282a,_0x4c5dff,_0x166cb4;const _0x5a39d5=this['shader'];if(!_0x5a39d5)return;const _0x2a6fcc=_0x5a39d5['impl']['samplers'],_0x507471=_0x5a39d5['impl']['uniforms'];_0xf9618||this['setBuffers']();let _0x2f77fb=-0x136c+-0x154c+0x1*0x28b8;for(let _0x466628=-0x476*0x2+0x7d9*-0x1+0x10c5,_0xfbcf81=_0x2a6fcc['length'];_0x466628<_0xfbcf81;_0x466628++){if(_0x1b842d=_0x2a6fcc[_0x466628],_0x3ee756=_0x1b842d['scopeId']['value'],!_0x3ee756){const _0x39eb40=_0x1b842d['scopeId']['name'];v['assert'](_0x39eb40!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x39eb40!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x39eb40==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x3ee756=en(this,'white')),_0x39eb40==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x3ee756=en(this,'pink')),_0x3ee756||(v['errorOnce']('Shader\x20'+_0x5a39d5['name']+'\x20requires\x20'+_0x39eb40+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x3ee756=en(this,'pink'));}if(_0x3ee756 instanceof he)_0x1939e6=_0x3ee756,this['setTexture'](_0x1939e6,_0x2f77fb),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x23f5+0xf29*0x1+-0x331c&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x1939e6?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x1939e6}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x1939e6&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x1939e6})),_0x1b842d['slot']!==_0x2f77fb&&(_0x276e8d['uniform1i'](_0x1b842d['locationId'],_0x2f77fb),_0x1b842d['slot']=_0x2f77fb),_0x2f77fb++;else{_0x1b842d['array']['length']=0xf79+0x1*0x14b3+-0x242c,_0x45c015=_0x3ee756['length'];for(let _0x2afc00=0x1552*-0x1+-0x339+0x188b;_0x2afc00<_0x45c015;_0x2afc00++)_0x1939e6=_0x3ee756[_0x2afc00],this['setTexture'](_0x1939e6,_0x2f77fb),_0x1b842d['array'][_0x2afc00]=_0x2f77fb,_0x2f77fb++;_0x276e8d['uniform1iv'](_0x1b842d['locationId'],_0x1b842d['array']);}}for(let _0x5648da=-0x9ad*0x4+-0x1e32+0x44e6,_0x37375b=_0x507471['length'];_0x5648da<_0x37375b;_0x5648da++)_0x1336be=_0x507471[_0x5648da],_0x9a282a=_0x1336be['scopeId'],_0x4c5dff=_0x1336be['version'],_0x166cb4=_0x9a282a['versionObj'+'ect']['version'],(_0x4c5dff['globalId']!==_0x166cb4['globalId']||_0x4c5dff['revision']!==_0x166cb4['revision'])&&(_0x4c5dff['globalId']=_0x166cb4['globalId'],_0x4c5dff['revision']=_0x166cb4['revision'],_0x9a282a['value']!==null&&this['commitFunc'+'tion'][_0x1336be['dataType']](_0x1336be,_0x9a282a['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x276e8d['bindBuffer'+'Base'](_0x276e8d['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0xe24+-0x1486+0x11*0x20a,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x276e8d['beginTrans'+'formFeedba'+'ck'](_0x276e8d['POINTS']));const _0x1539b1=this['glPrimitiv'+'e'][_0x5e2adb['type']],_0x4a3663=_0x5e2adb['count'];if(_0x5e2adb['indexed']){const _0x501e3a=this['indexBuffe'+'r'];v['assert'](_0x501e3a['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x4777b5=_0x501e3a['impl']['glFormat'],_0x342234=_0x5e2adb['base']*_0x501e3a['bytesPerIn'+'dex'];_0x538d5d>-0x200a*0x1+-0x1335+-0x1115*-0x3?_0x276e8d['drawElemen'+'tsInstance'+'d'](_0x1539b1,_0x4a3663,_0x4777b5,_0x342234,_0x538d5d):_0x276e8d['drawElemen'+'ts'](_0x1539b1,_0x4a3663,_0x4777b5,_0x342234);}else{const _0x3e0459=_0x5e2adb['base'];_0x538d5d>-0x283*0xd+-0x7*-0x371+0x890?_0x276e8d['drawArrays'+'Instanced'](_0x1539b1,_0x3e0459,_0x4a3663,_0x538d5d):_0x276e8d['drawArrays'](_0x1539b1,_0x3e0459,_0x4a3663);}this['transformF'+'eedbackBuf'+'fer']&&(_0x276e8d['endTransfo'+'rmFeedback'](),_0x276e8d['bindBuffer'+'Base'](_0x276e8d['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x1*-0x1486+0x1e+0x4*-0x529,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x5e2adb['type']]+=_0x5e2adb['count']*(_0x538d5d>-0x229*0x5+0x2*0x677+-0x1*0x220?_0x538d5d:0x1*-0xe18+0x26d*0x2+-0x93f*-0x1);}['clear'](_0x3c140c){const _0x12a554=this['defaultCle'+'arOptions'];_0x3c140c=_0x3c140c||_0x12a554;const _0x26e502=_0x3c140c['flags']??_0x12a554['flags'];if(_0x26e502!==0x1a+0x2a8+-0x2*0x161){const _0x2e537d=this['gl'];if(_0x26e502&Co){const _0x3147e3=_0x3c140c['color']??_0x12a554['color'],_0x3adbe7=_0x3147e3[-0x14c0+-0xc21+0x13*0x1bb],_0x53b940=_0x3147e3[-0x13ac+0x2*-0x1357+0x3a5b],_0xd6bdf7=_0x3147e3[-0xa*-0xd1+-0x1*-0x1ea2+-0x26ca],_0x217615=_0x3147e3[-0x143e+-0x11*0x11+0xa1*0x22],_0x2672b5=this['clearColor'];(_0x3adbe7!==_0x2672b5['r']||_0x53b940!==_0x2672b5['g']||_0xd6bdf7!==_0x2672b5['b']||_0x217615!==_0x2672b5['a'])&&(this['gl']['clearColor'](_0x3adbe7,_0x53b940,_0xd6bdf7,_0x217615),this['clearColor']['set'](_0x3adbe7,_0x53b940,_0xd6bdf7,_0x217615)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x26e502&Mo){const _0x2249cc=_0x3c140c['depth']??_0x12a554['depth'];_0x2249cc!==this['clearDepth']&&(this['gl']['clearDepth'](_0x2249cc),this['clearDepth']=_0x2249cc),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x26e502&Ah){const _0x53aa72=_0x3c140c['stencil']??_0x12a554['stencil'];_0x53aa72!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x53aa72),this['clearStenc'+'il']=_0x53aa72),_0x2e537d['stencilMas'+'k'](-0x1d80+-0x36d+0x21ec),this['stencilWri'+'teMaskFron'+'t']=0x1981*0x1+0x18*0x170+-0x86e*0x7,this['stencilWri'+'teMaskBack']=-0xf*0x1b7+0x1934+0x184;}_0x2e537d['clear'](this['glClearFla'+'g'][_0x26e502]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x4c9e2b,_0x27f30d,_0x36c4b5,_0x44ce01,_0x252700){const _0x4cb19a=this['gl'];_0x4cb19a['readPixels'](_0x4c9e2b,_0x27f30d,_0x36c4b5,_0x44ce01,_0x4cb19a['RGBA'],_0x4cb19a['UNSIGNED_B'+'YTE'],_0x252700);}async['readPixels'+'Async'](_0xed81e2,_0x3403e8,_0x25a188,_0xb9a3d,_0xf3cfc1){var _0x40d5fa;const _0x20dc4f=this['gl'],_0x5e056f=(_0x171787,_0x1d5a00)=>{const _0x4126eb=_0x20dc4f['fenceSync'](_0x20dc4f['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x2167+0x2421+-0x32*0x164);return this['submit'](),new Promise((_0x149711,_0x3b6334)=>{function _0x1bd944(){const _0x39f74b=_0x20dc4f['clientWait'+'Sync'](_0x4126eb,_0x171787,0x13f3+-0x26ed+0x1*0x12fa);_0x39f74b===_0x20dc4f['WAIT_FAILE'+'D']?(_0x20dc4f['deleteSync'](_0x4126eb),_0x3b6334(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x39f74b===_0x20dc4f['TIMEOUT_EX'+'PIRED']?setTimeout(_0x1bd944,_0x1d5a00):(_0x20dc4f['deleteSync'](_0x4126eb),_0x149711());}_0x1bd944();});},_0x317849=(_0x40d5fa=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x13*-0x1e0+-0x1d39+0x1*0x40d9):_0x40d5fa['impl'],_0x2b94d0=(_0x317849==null?void(-0x235f+-0x5*-0x1a1+0x1b3a):_0x317849['_glFormat'])??_0x20dc4f['RGBA'],_0x48c021=(_0x317849==null?void(0xce7+0x3*-0x59e+-0x1*-0x3f3):_0x317849['_glPixelTy'+'pe'])??_0x20dc4f['UNSIGNED_B'+'YTE'],_0x32c59d=_0x20dc4f['createBuff'+'er']();return _0x20dc4f['bindBuffer'](_0x20dc4f['PIXEL_PACK'+'_BUFFER'],_0x32c59d),_0x20dc4f['bufferData'](_0x20dc4f['PIXEL_PACK'+'_BUFFER'],_0xf3cfc1['byteLength'],_0x20dc4f['STREAM_REA'+'D']),_0x20dc4f['readPixels'](_0xed81e2,_0x3403e8,_0x25a188,_0xb9a3d,_0x2b94d0,_0x48c021,-0x25d1+-0x119e+0x17*0x269),_0x20dc4f['bindBuffer'](_0x20dc4f['PIXEL_PACK'+'_BUFFER'],null),await _0x5e056f(-0xc1*0xf+0x1469+-0x91a,0x1*0xfb9+-0x1ac1+-0x6*-0x1da),_0x20dc4f['bindBuffer'](_0x20dc4f['PIXEL_PACK'+'_BUFFER'],_0x32c59d),_0x20dc4f['getBufferS'+'ubData'](_0x20dc4f['PIXEL_PACK'+'_BUFFER'],0x16d1+0x8ca+-0x1f9b,_0xf3cfc1),_0x20dc4f['bindBuffer'](_0x20dc4f['PIXEL_PACK'+'_BUFFER'],null),_0x20dc4f['deleteBuff'+'er'](_0x32c59d),_0xf3cfc1;}['readTextur'+'eAsync'](_0x2231ec,_0x266697,_0x4879ad,_0xc116cb,_0x2cc407,_0x3cf44c){const _0x3986ff=_0x3cf44c['face']??-0x1fd1+-0x1*0x26a+0x223b,_0x2c20ad=_0x3cf44c['renderTarg'+'et']??new pt({'colorBuffer':_0x2231ec,'depth':!(-0x210f+-0x8d1+0x29e1),'face':_0x3986ff});v['assert'](_0x2c20ad['colorBuffe'+'r']===_0x2231ec);const _0x4e3964=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0xc116cb,_0x2cc407,0xc8+0xa16+-0xadd*0x1,_0x2231ec['_format'])),_0xc76a42=_0x3cf44c['data']??new(Cy(_0x2231ec['_format']))(_0x4e3964);return this['setRenderT'+'arget'](_0x2c20ad),this['initRender'+'Target'](_0x2c20ad),new Promise((_0x387e7a,_0xfab1f0)=>{this['readPixels'+'Async'](_0x266697,_0x4879ad,_0xc116cb,_0x2cc407,_0xc76a42)['then'](_0x358c22=>{_0x3cf44c['renderTarg'+'et']||_0x2c20ad['destroy'](),_0x387e7a(_0x358c22);})['catch'](_0xfab1f0);});}['setAlphaTo'+'Coverage'](_0x13d504){this['alphaToCov'+'erage']!==_0x13d504&&(this['alphaToCov'+'erage']=_0x13d504,_0x13d504?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x1d5d03){if(this['transformF'+'eedbackBuf'+'fer']!==_0x1d5d03){this['transformF'+'eedbackBuf'+'fer']=_0x1d5d03;const _0x26db49=this['gl'];_0x1d5d03?(this['feedback']||(this['feedback']=_0x26db49['createTran'+'sformFeedb'+'ack']()),_0x26db49['bindTransf'+'ormFeedbac'+'k'](_0x26db49['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x26db49['bindTransf'+'ormFeedbac'+'k'](_0x26db49['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x421786){this['raster']!==_0x421786&&(this['raster']=_0x421786,_0x421786?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x420bac){if(this['stencil']!==_0x420bac){const _0x1ba6a1=this['gl'];_0x420bac?_0x1ba6a1['enable'](_0x1ba6a1['STENCIL_TE'+'ST']):_0x1ba6a1['disable'](_0x1ba6a1['STENCIL_TE'+'ST']),this['stencil']=_0x420bac;}}['setStencil'+'Func'](_0x59f143,_0x1a666c,_0x596b97){(this['stencilFun'+'cFront']!==_0x59f143||this['stencilRef'+'Front']!==_0x1a666c||this['stencilMas'+'kFront']!==_0x596b97||this['stencilFun'+'cBack']!==_0x59f143||this['stencilRef'+'Back']!==_0x1a666c||this['stencilMas'+'kBack']!==_0x596b97)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x59f143],_0x1a666c,_0x596b97),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x59f143,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x1a666c,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x596b97);}['setStencil'+'FuncFront'](_0xa83233,_0x1121fc,_0x4e79e1){if(this['stencilFun'+'cFront']!==_0xa83233||this['stencilRef'+'Front']!==_0x1121fc||this['stencilMas'+'kFront']!==_0x4e79e1){const _0xb09c94=this['gl'];_0xb09c94['stencilFun'+'cSeparate'](_0xb09c94['FRONT'],this['glComparis'+'on'][_0xa83233],_0x1121fc,_0x4e79e1),this['stencilFun'+'cFront']=_0xa83233,this['stencilRef'+'Front']=_0x1121fc,this['stencilMas'+'kFront']=_0x4e79e1;}}['setStencil'+'FuncBack'](_0x5b3ed1,_0x2fe17e,_0x3d0573){if(this['stencilFun'+'cBack']!==_0x5b3ed1||this['stencilRef'+'Back']!==_0x2fe17e||this['stencilMas'+'kBack']!==_0x3d0573){const _0x1172ce=this['gl'];_0x1172ce['stencilFun'+'cSeparate'](_0x1172ce['BACK'],this['glComparis'+'on'][_0x5b3ed1],_0x2fe17e,_0x3d0573),this['stencilFun'+'cBack']=_0x5b3ed1,this['stencilRef'+'Back']=_0x2fe17e,this['stencilMas'+'kBack']=_0x3d0573;}}['setStencil'+'Operation'](_0x302799,_0x111c32,_0x299439,_0x3dda6a){(this['stencilFai'+'lFront']!==_0x302799||this['stencilZfa'+'ilFront']!==_0x111c32||this['stencilZpa'+'ssFront']!==_0x299439||this['stencilFai'+'lBack']!==_0x302799||this['stencilZfa'+'ilBack']!==_0x111c32||this['stencilZpa'+'ssBack']!==_0x299439)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x302799],this['glStencilO'+'p'][_0x111c32],this['glStencilO'+'p'][_0x299439]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x302799,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x111c32,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x299439),(this['stencilWri'+'teMaskFron'+'t']!==_0x3dda6a||this['stencilWri'+'teMaskBack']!==_0x3dda6a)&&(this['gl']['stencilMas'+'k'](_0x3dda6a),this['stencilWri'+'teMaskFron'+'t']=_0x3dda6a,this['stencilWri'+'teMaskBack']=_0x3dda6a);}['setStencil'+'OperationF'+'ront'](_0xbafb94,_0x546a1a,_0x21dbb8,_0x3e8425){(this['stencilFai'+'lFront']!==_0xbafb94||this['stencilZfa'+'ilFront']!==_0x546a1a||this['stencilZpa'+'ssFront']!==_0x21dbb8)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0xbafb94],this['glStencilO'+'p'][_0x546a1a],this['glStencilO'+'p'][_0x21dbb8]),this['stencilFai'+'lFront']=_0xbafb94,this['stencilZfa'+'ilFront']=_0x546a1a,this['stencilZpa'+'ssFront']=_0x21dbb8),this['stencilWri'+'teMaskFron'+'t']!==_0x3e8425&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x3e8425),this['stencilWri'+'teMaskFron'+'t']=_0x3e8425);}['setStencil'+'OperationB'+'ack'](_0x1aa6e6,_0x31187c,_0x3426b1,_0xc4c4fe){(this['stencilFai'+'lBack']!==_0x1aa6e6||this['stencilZfa'+'ilBack']!==_0x31187c||this['stencilZpa'+'ssBack']!==_0x3426b1)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x1aa6e6],this['glStencilO'+'p'][_0x31187c],this['glStencilO'+'p'][_0x3426b1]),this['stencilFai'+'lBack']=_0x1aa6e6,this['stencilZfa'+'ilBack']=_0x31187c,this['stencilZpa'+'ssBack']=_0x3426b1),this['stencilWri'+'teMaskBack']!==_0xc4c4fe&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0xc4c4fe),this['stencilWri'+'teMaskBack']=_0xc4c4fe);}['setBlendSt'+'ate'](_0x2cab9c){const _0xd2ce04=this['blendState'];if(!_0xd2ce04['equals'](_0x2cab9c)){const _0x46eb4b=this['gl'],{blend:_0x50b20c,colorOp:_0x47368c,alphaOp:_0x360147,colorSrcFactor:_0x450b1c,colorDstFactor:_0xde90b1,alphaSrcFactor:_0x1a592f,alphaDstFactor:_0x2aca7a}=_0x2cab9c;if(_0xd2ce04['blend']!==_0x50b20c&&(_0x50b20c?_0x46eb4b['enable'](_0x46eb4b['BLEND']):_0x46eb4b['disable'](_0x46eb4b['BLEND'])),_0xd2ce04['colorOp']!==_0x47368c||_0xd2ce04['alphaOp']!==_0x360147){const _0x3653c9=this['glBlendEqu'+'ation'];_0x46eb4b['blendEquat'+'ionSeparat'+'e'](_0x3653c9[_0x47368c],_0x3653c9[_0x360147]);}(_0xd2ce04['colorSrcFa'+'ctor']!==_0x450b1c||_0xd2ce04['colorDstFa'+'ctor']!==_0xde90b1||_0xd2ce04['alphaSrcFa'+'ctor']!==_0x1a592f||_0xd2ce04['alphaDstFa'+'ctor']!==_0x2aca7a)&&_0x46eb4b['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x450b1c],this['glBlendFun'+'ctionColor'][_0xde90b1],this['glBlendFun'+'ctionAlpha'][_0x1a592f],this['glBlendFun'+'ctionAlpha'][_0x2aca7a]),_0xd2ce04['allWrite']!==_0x2cab9c['allWrite']&&this['gl']['colorMask'](_0x2cab9c['redWrite'],_0x2cab9c['greenWrite'],_0x2cab9c['blueWrite'],_0x2cab9c['alphaWrite']),_0xd2ce04['copy'](_0x2cab9c);}}['setBlendCo'+'lor'](_0x2c4fa0,_0x5dd677,_0x574c11,_0x5bbdbd){const _0x4c19ed=this['blendColor'];(_0x2c4fa0!==_0x4c19ed['r']||_0x5dd677!==_0x4c19ed['g']||_0x574c11!==_0x4c19ed['b']||_0x5bbdbd!==_0x4c19ed['a'])&&(this['gl']['blendColor'](_0x2c4fa0,_0x5dd677,_0x574c11,_0x5bbdbd),_0x4c19ed['set'](_0x2c4fa0,_0x5dd677,_0x574c11,_0x5bbdbd));}['setStencil'+'State'](_0x1d84f4,_0x5d39ea){_0x1d84f4||_0x5d39ea?(this['setStencil'+'Test'](!(0x3e2*-0x1+0x1511*-0x1+0x1*0x18f3)),_0x1d84f4===_0x5d39ea?(this['setStencil'+'Func'](_0x1d84f4['func'],_0x1d84f4['ref'],_0x1d84f4['readMask']),this['setStencil'+'Operation'](_0x1d84f4['fail'],_0x1d84f4['zfail'],_0x1d84f4['zpass'],_0x1d84f4['writeMask'])):(_0x1d84f4??(_0x1d84f4=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x1d84f4['func'],_0x1d84f4['ref'],_0x1d84f4['readMask']),this['setStencil'+'OperationF'+'ront'](_0x1d84f4['fail'],_0x1d84f4['zfail'],_0x1d84f4['zpass'],_0x1d84f4['writeMask']),_0x5d39ea??(_0x5d39ea=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x5d39ea['func'],_0x5d39ea['ref'],_0x5d39ea['readMask']),this['setStencil'+'OperationB'+'ack'](_0x5d39ea['fail'],_0x5d39ea['zfail'],_0x5d39ea['zpass'],_0x5d39ea['writeMask']))):this['setStencil'+'Test'](!(0x1a2+0x4fc+-0x69d*0x1));}['setDepthSt'+'ate'](_0x25b111){const _0x2cff20=this['depthState'];if(!_0x2cff20['equals'](_0x25b111)){const _0x4b0567=this['gl'],_0x1c15bf=_0x25b111['write'];_0x2cff20['write']!==_0x1c15bf&&_0x4b0567['depthMask'](_0x1c15bf);let {func:_0x4f7fef,test:_0x2e9cf1}=_0x25b111;!_0x2e9cf1&&_0x1c15bf&&(_0x2e9cf1=!(0x9a8+0x1d3*0x13+-0x8dd*0x5),_0x4f7fef=Ai),_0x2cff20['func']!==_0x4f7fef&&_0x4b0567['depthFunc'](this['glComparis'+'on'][_0x4f7fef]),_0x2cff20['test']!==_0x2e9cf1&&(_0x2e9cf1?_0x4b0567['enable'](_0x4b0567['DEPTH_TEST']):_0x4b0567['disable'](_0x4b0567['DEPTH_TEST']));const {depthBias:_0x1854bc,depthBiasSlope:_0x19b58f}=_0x25b111;_0x1854bc||_0x19b58f?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x3*-0xb96+0x6d*-0x3+-0x171*-0x19),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x4b0567['polygonOff'+'set'](_0x19b58f,_0x1854bc)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x5a7+-0xfdf*-0x1+-0xa37),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2cff20['copy'](_0x25b111);}}['setCullMod'+'e'](_0x49d617){if(this['cullMode']!==_0x49d617){if(_0x49d617===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x3967b2=this['glCull'][_0x49d617];this['cullFace']!==_0x3967b2&&(this['gl']['cullFace'](_0x3967b2),this['cullFace']=_0x3967b2);}this['cullMode']=_0x49d617;}}['setShader'](_0x10e560,_0x3664d7=!(-0x1c62+0x15c9+0x41*0x1a)){_0x10e560!==this['shader']&&(this['shader']=_0x10e560,this['shaderAsyn'+'cCompile']=_0x3664d7,this['shaderVali'+'d']=void(-0x229c+-0xeb2*0x2+0x4000),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x849e1e){const {shader:_0x516765}=this,{impl:_0x2206a4}=_0x516765;this['shaderVali'+'d']===void(-0xe54*-0x2+0x1*-0xcdc+0xc*-0x151)&&(_0x516765['failed']?this['shaderVali'+'d']=!(-0x1b9d+-0x1*-0xffd+-0x1*-0xba1):_0x516765['ready']||(this['shaderAsyn'+'cCompile']?_0x2206a4['isLinked'](_0x849e1e)?_0x2206a4['finalize'](this,_0x516765)||(_0x516765['failed']=!(-0x75f+-0x1*0x2359+0x2ab8),this['shaderVali'+'d']=!(-0x2222+-0x86a+0x2a8d)):this['shaderVali'+'d']=!(0x49*0x2+-0x1*0x80f+-0x7*-0x112):_0x2206a4['finalize'](this,_0x516765)||(_0x516765['failed']=!(0x224f+-0x1850+-0x9ff),this['shaderVali'+'d']=!(0x21f7+0x6d6+0x28cc*-0x1)))),this['shaderVali'+'d']===void(-0xd1a+0x15ce+0x1*-0x8b4)&&(this['gl']['useProgram'](_0x2206a4['glProgram']),this['shaderVali'+'d']=!(0x1cad*0x1+-0x8*-0x3b3+0x1*-0x3a45));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x256e26=this['gl'];this['_vaoMap']['forEach']((_0x3514f5,_0x5480cb,_0x3fb168)=>{_0x256e26['deleteVert'+'exArray'](_0x3514f5);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x293819){_0x293819?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x14198c=0x5*-0x6fd+0x8*0x169+-0x1*-0x180d){const _0x47bb15=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x47bb15['loseContex'+'t'](),setTimeout(()=>_0x47bb15['restoreCon'+'text'](),_0x14198c);}}let mb=-0x1*-0x1eb4+-0x1*-0x269f+-0x4553;class lr{constructor(_0x7a16fa,_0x1cdfef,_0x326cec,_0x228aa4=jt,_0x7df1ea,_0x16f235){this['device']=_0x7a16fa,this['format']=_0x1cdfef,this['numIndices']=_0x326cec,this['usage']=_0x228aa4,this['id']=mb++,this['impl']=_0x7a16fa['createInde'+'xBufferImp'+'l'](this,_0x16f235);const _0xdf2e76=vv[_0x1cdfef];this['bytesPerIn'+'dex']=_0xdf2e76,this['numBytes']=this['numIndices']*_0xdf2e76,_0x7df1ea?this['setData'](_0x7df1ea):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x7a16fa['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x5798a1=this['device'],_0x57585d=_0x5798a1['buffers']['indexOf'](this);_0x57585d!==-(-0xb30+-0xc8c*0x1+0x17bd)&&_0x5798a1['buffers']['splice'](_0x57585d,0x7*-0x35+-0x1349+-0x14bd*-0x1),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x5798a1),this['adjustVram'+'SizeTracki'+'ng'](_0x5798a1['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x9bb562,_0x3edab9){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x3edab9+'\x20vram.ib:\x20'+_0x9bb562['ib']+'\x20=>\x20'+(_0x9bb562['ib']+_0x3edab9)),_0x9bb562['ib']+=_0x3edab9;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x189b36){return _0x189b36['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x189b36['byteLength']),!(-0x220b+-0x13e*-0x4+0x1d14)):(this['storage']=_0x189b36,this['unlock'](),!(0x1160+0x1a81+-0x2be1));}['_lockTyped'+'Array'](){const _0x28c024=this['lock']();return this['format']===nr?new Uint32Array(_0x28c024):this['format']===Pi?new Uint16Array(_0x28c024):new Uint8Array(_0x28c024);}['writeData'](_0x49717b,_0x5bd30c){const _0x45b9b5=this['_lockTyped'+'Array']();if(_0x49717b['length']>_0x5bd30c){if(ArrayBuffer['isView'](_0x49717b))_0x49717b=_0x49717b['subarray'](-0x1978+-0x1612+-0x5*-0x982,_0x5bd30c),_0x45b9b5['set'](_0x49717b);else{for(let _0x3feb20=0x8ce+0x2589+-0x2e57;_0x3feb20<_0x5bd30c;_0x3feb20++)_0x45b9b5[_0x3feb20]=_0x49717b[_0x3feb20];}}else _0x45b9b5['set'](_0x49717b);this['unlock']();}['readData'](_0x4b207e){const _0x568582=this['_lockTyped'+'Array'](),_0x4fc170=this['numIndices'];if(ArrayBuffer['isView'](_0x4b207e))_0x4b207e['set'](_0x568582);else{_0x4b207e['length']=-0x329*-0xc+-0x26f+-0x237d;for(let _0x122ae3=0x1a2c+-0x45*-0x27+-0x24af;_0x122ae3<_0x4fc170;_0x122ae3++)_0x4b207e[_0x122ae3]=_0x568582[_0x122ae3];}return _0x4fc170;}}class _b{constructor(){c(this,'clearValue',new Y(0x1*-0x1b6b+-0x2*0x7a3+0x2ab1,0x3b*0x57+-0x1b63+0x3ab*0x2,0x26*0xd0+-0xb*0x113+0x7*-0x2b9,0x1f16*0x1+-0x2*-0xa35+-0x337f)),c(this,'clearValue'+'Linear',new Y(0x1f08+-0x11*-0x83+-0x7*0x5ad,0x1ca*0x8+-0x80d+-0x643,0x989*-0x2+0x17d7+-0x3*0x197,0x10f*-0x1+0xe*0x6f+-0x502)),c(this,'clear',!(0x1*0x57e+0xaf9*-0x1+-0x15f*-0x4)),c(this,'store',!(0x19ef+-0x1854+0xcd*-0x2)),c(this,'resolve',!(0x20a6+-0x25*-0x107+-0x46a9)),c(this,'genMipmaps',!(-0x1b7e+0xdb+0x1aa4));}}class gb{constructor(){c(this,'clearDepth'+'Value',0x27*0xc+0x18fd*0x1+0x16*-0x138),c(this,'clearStenc'+'ilValue',0x98+0x1*-0x9cc+-0x24d*-0x4),c(this,'clearDepth',!(0x17*-0xb+0x12ff+-0xb*0x1a3)),c(this,'clearStenc'+'il',!(-0x15*0x97+-0x2105+0x2d69)),c(this,'storeDepth',!(-0x17*0x7+-0x2647+0x26e9)),c(this,'resolveDep'+'th',!(-0x94f*0x2+0xb93*-0x2+0x1*0x29c5)),c(this,'storeStenc'+'il',!(0x47a+0x25d1+-0x2a4a));}}class ds{constructor(_0x5929cb){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(0xc73*0x1+0xada+-0x174d)),c(this,'_skipStart',!(0x208+-0x1c*-0x7c+-0xf97)),c(this,'_skipEnd',!(0x2*0x2cd+-0x24f1+0x1f58)),c(this,'executeEna'+'bled',!(-0x1*0x13aa+0x179*-0xa+-0x1*-0x2264)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',0x11*0x65+-0x1244+0xb8f),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0x1a69+0x1a24+0x45)),c(this,'fullSizeCl'+'earRect',!(0x8b*0x35+0x1*-0x1319+-0x9ae)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x5929cb),this['device']=_0x5929cb);}get['colorOps'](){return this['colorArray'+'Ops'][-0xa0c+-0x1a6*0x17+-0xe*-0x36d];}set['name'](_0x58b2b5){this['_name']=_0x58b2b5;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x16cea9){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x16cea9;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x3adfd0){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x3adfd0;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x1ad3d1){this['_options']=_0x1ad3d1,_0x1ad3d1&&(this['scaleX']=this['scaleX']??0x20c6+-0x18b3+-0x812,this['scaleY']=this['scaleY']??-0x8*0x57+0x1537*0x1+0x20e*-0x9);}get['options'](){return this['_options'];}['init'](_0x5b78d6=null,_0x1f50b0){this['options']=_0x1f50b0,this['renderTarg'+'et']=_0x5b78d6,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0xb27*-0x1+-0x141e+-0x8*-0x11f),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x51b7ef,_0x167ef4,_0xd3b2da,_0x381575;const _0x37489a=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x37489a!=null&&_0x37489a['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x84a+-0x1636+0x20*0xf4));const _0xb719dd=_0x37489a?((_0x51b7ef=_0x37489a['_colorBuff'+'ers'])==null?void(-0xd43+-0xc3d+-0x880*-0x3):_0x51b7ef['length'])??-0x95*-0x23+0x241a+-0x3879:-0x298*-0x4+0x631*-0x3+0xf*0x8c;this['colorArray'+'Ops']['length']=0x3*0x57+-0x1*-0x1837+-0x193c;for(let _0x53c4fa=0x16a3*0x1+-0x1*-0x1101+0x27a4*-0x1;_0x53c4fa<_0xb719dd;_0x53c4fa++){const _0x18ddc2=new _b();this['colorArray'+'Ops'][_0x53c4fa]=_0x18ddc2,this['samples']===0x141*-0x2+-0x2635+0x28b8&&(_0x18ddc2['store']=!(-0x1057+0x9b1*-0x3+0x2d6a),_0x18ddc2['resolve']=!(-0x341+-0x1*0xfd3+0x1315*0x1));const _0x11527f=(_0xd3b2da=(_0x167ef4=this['renderTarg'+'et'])==null?void(0xafa+-0xa21+-0xd9):_0x167ef4['_colorBuff'+'ers'])==null?void(0x77d+-0x6*0x3b9+0x3*0x4f3):_0xd3b2da[_0x53c4fa];if((_0x381575=this['renderTarg'+'et'])!=null&&_0x381575['mipmaps']&&(_0x11527f!=null&&_0x11527f['mipmaps'])){const _0x3572c3=ea(_0x11527f['_format']);_0x18ddc2['genMipmaps']=!_0x3572c3;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x4b4fa0=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x4988aa=Math['floor'](_0x4b4fa0['width']*this['scaleX']),_0x50e474=Math['floor'](_0x4b4fa0['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x4988aa,_0x50e474);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0xf095a6){this['_enabled']!==_0xf095a6&&(this['_enabled']=_0xf095a6,_0xf095a6?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x58248d){const _0x1e961d=this['colorArray'+'Ops']['length'];for(let _0x4a32d0=0x1de0+-0x1*0xa4d+0x1*-0x1393;_0x4a32d0<_0x1e961d;_0x4a32d0++){const _0x1f6735=this['colorArray'+'Ops'][_0x4a32d0];_0x58248d&&(_0x1f6735['clearValue']['copy'](_0x58248d),_0x1f6735['clearValue'+'Linear']['linear'](_0x58248d)),_0x1f6735['clear']=!!_0x58248d;}}['setClearDe'+'pth'](_0x2e94bd){_0x2e94bd&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x2e94bd),this['depthStenc'+'ilOps']['clearDepth']=_0x2e94bd!==void(0x16b*0x11+0x1101+-0x291c);}['setClearSt'+'encil'](_0x412dca){_0x412dca&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x412dca),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x412dca!==void(0xe5d+-0x2540+0x16e3);}['render'](){if(this['enabled']){const _0x24cf49=this['device'],_0x5df80c=this['renderTarg'+'et']!==void(-0x804+0x1dce+-0x15ca);v['call'](()=>{this['log'](_0x24cf49,_0x24cf49['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x5df80c&&!this['_skipStart']&&_0x24cf49['startRende'+'rPass'](this),this['execute'](),_0x5df80c&&!this['_skipEnd']&&_0x24cf49['endRenderP'+'ass'](this)),this['after'](),_0x24cf49['renderPass'+'Index']++;}}['log'](_0x3f0914,_0x112d0f=0x7*-0x349+-0xb03+0x2*0x1101){var _0x59f07d,_0x35f423,_0x24f82f;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x3c81c3=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x3f0914['backBuffer']:null),_0x2029fc=!!(_0x3c81c3!=null&&_0x3c81c3['impl']['assignedCo'+'lorTexture'])||(_0x3c81c3==null?void(0x1feb+-0x2*0x13+-0x1fc5):_0x3c81c3['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0xb34+0x149c+-0x2b*0x38),_0x363a61=((_0x59f07d=_0x3c81c3==null?void(0x15b7+-0x21c+-0x139b*0x1):_0x3c81c3['_colorBuff'+'ers'])==null?void(0x8*-0x2db+-0xeaf+-0x2587*-0x1):_0x59f07d['length'])??(_0x2029fc?-0x1d91*-0x1+-0x239+-0x91d*0x3:0x71d+-0xf5b*-0x2+-0x25d3),_0x855883=_0x3c81c3==null?void(-0x10f4+0x1dad*-0x1+-0x17*-0x207):_0x3c81c3['depth'],_0x35849f=_0x3c81c3==null?void(0x1b34+-0x1d*0x13+0x79*-0x35):_0x3c81c3['stencil'],_0x341f44=_0x3c81c3==null?void(0xd*-0x11b+0x4*-0x59e+0x24d7):_0x3c81c3['mipLevel'],_0x271dff=_0x3c81c3?'\x20RT:\x20'+(_0x3c81c3?_0x3c81c3['name']:'NULL')+'\x20'+(_0x363a61>-0x376*0xb+0x1a*0x58+0x1d22?'[Color'+(_0x363a61>0x13a0*0x1+0x261c+-0x39bb?'\x20x\x20'+_0x363a61:'')+']':'')+(_0x855883?'[Depth]':'')+(_0x35849f?'[Stencil]':'')+'\x20'+_0x3c81c3['width']+'\x20x\x20'+_0x3c81c3['height']+(this['samples']>-0x5c6+-0x149e*0x1+0x1a64?'\x20samples:\x20'+this['samples']:'')+(_0x341f44>-0x24dd*0x1+0x1*0xb5f+0x197e*0x1?'\x20mipLevel:'+'\x20'+_0x341f44:''):'',_0x145c5f=this['_skipStart']?'++':_0x112d0f['toString']()['padEnd'](-0x1978+-0x157a+-0x964*-0x5,'\x20');v['trace'](jp,_0x145c5f+':\x20'+this['name']['padEnd'](-0x1094*0x2+0x1839+0x903,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x271dff['padEnd'](0x2091+0x5ca+0x1*-0x263d));for(let _0x44cdb7=0x2149+-0x7*0x4a3+-0xd4;_0x44cdb7<_0x363a61;_0x44cdb7++){const _0x104d05=this['colorArray'+'Ops'][_0x44cdb7],_0x14f8f5=(_0x35f423=xt['get'](_0x2029fc?_0x3f0914['backBuffer'+'Format']:_0x3c81c3['getColorBu'+'ffer'](_0x44cdb7)['format']))==null?void(-0x1044+0x3*-0xc9f+-0x95*-0x5d):_0x35f423['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x44cdb7+']:\x20'+(_0x104d05['clear']?'clear':'load')+'->'+(_0x104d05['store']?'store':'discard')+'\x20'+(_0x104d05['resolve']?'resolve\x20':'')+(_0x104d05['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x14f8f5+']\x20'+(_0x104d05['clear']?'[clear:\x20'+_0x104d05['clearValue']['toString'](!(0x2*0x55d+0x72a+-0x11e4),!(-0x11aa+-0x3b*-0xd+0x2ef*0x5))+']':''));}if(this['depthStenc'+'ilOps']){const _0x2adf22=''+(_0x3c81c3['depthBuffe'+'r']?'\x20[format:\x20'+((_0x24f82f=xt['get'](_0x3c81c3['depthBuffe'+'r']['format']))==null?void(0x1d8f+-0x171d*-0x1+-0x34ac):_0x24f82f['name'])+']':'');_0x855883&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x2adf22+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x35849f&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x2adf22+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x4ef8cf){this['array'][this['index']]=_0x4ef8cf;}function xb(_0x380004,_0x118578){this['array'][this['index']]=_0x380004,this['array'][this['index']+(-0x59+0x1f6d+-0x1f13)]=_0x118578;}function Sb(_0x4a9e5a,_0x4d3356,_0x964ea9){this['array'][this['index']]=_0x4a9e5a,this['array'][this['index']+(-0x13*-0x56+-0xd7b+0x71a)]=_0x4d3356,this['array'][this['index']+(0x2b*0x26+-0x6f7+-0x97*-0x1)]=_0x964ea9;}function vb(_0x3ea89d,_0x1e8d45,_0x186d6a,_0x50a2c2){this['array'][this['index']]=_0x3ea89d,this['array'][this['index']+(0x3c7+0x3*-0x279+0x137*0x3)]=_0x1e8d45,this['array'][this['index']+(-0x1a05+0x1f*-0x7+-0x1ae0*-0x1)]=_0x186d6a,this['array'][this['index']+(-0x11d0+-0x499*0x7+0x3202)]=_0x50a2c2;}function bb(_0x4ca72b,_0x4a1fa3,_0x137c39){this['array'][_0x4ca72b]=_0x4a1fa3[_0x137c39];}function wb(_0x866aff,_0x34b164,_0x8ec0dc){this['array'][_0x866aff]=_0x34b164[_0x8ec0dc],this['array'][_0x866aff+(-0x4*0x695+0x502+0x1553)]=_0x34b164[_0x8ec0dc+(0x526+0x2*-0x10c4+0x2b*0xa9)];}function Tb(_0xee1d57,_0x2e8dae,_0x3ec2d5){this['array'][_0xee1d57]=_0x2e8dae[_0x3ec2d5],this['array'][_0xee1d57+(-0x67c+-0x1*-0xc0b+-0x58e)]=_0x2e8dae[_0x3ec2d5+(-0x83f+0x2*-0x9d9+-0x1bf2*-0x1)],this['array'][_0xee1d57+(0xfab*-0x1+0x169c+-0x6ef)]=_0x2e8dae[_0x3ec2d5+(0x5b9*0x4+0x2*-0xc63+0x1e4)];}function Ab(_0x40da04,_0x59d065,_0x287317){this['array'][_0x40da04]=_0x59d065[_0x287317],this['array'][_0x40da04+(0x2b*-0x52+-0x14e7+0x1*0x22ae)]=_0x59d065[_0x287317+(0x953+-0xc9f+0x34d)],this['array'][_0x40da04+(0xcad+-0x1b8d+-0x3*-0x4f6)]=_0x59d065[_0x287317+(-0x39*-0x34+0x18c1+-0x2453)],this['array'][_0x40da04+(0x7a6*0x5+-0x64b*-0x3+0x2db*-0x14)]=_0x59d065[_0x287317+(0x17b1*0x1+-0x675+0x1139*-0x1)];}function Eb(_0x390884,_0xf814d7,_0x2dce3b){_0xf814d7[_0x2dce3b]=this['array'][_0x390884];}function Cb(_0x2de413,_0x410b75,_0x5998d0){_0x410b75[_0x5998d0]=this['array'][_0x2de413],_0x410b75[_0x5998d0+(0x1*-0x58d+0xd57+0x7c9*-0x1)]=this['array'][_0x2de413+(0x25df+-0x102a+-0x15b4)];}function Mb(_0x1c0525,_0x11859e,_0x2d5e43){_0x11859e[_0x2d5e43]=this['array'][_0x1c0525],_0x11859e[_0x2d5e43+(-0x16f*0x1b+-0x2f*-0x97+0xafd)]=this['array'][_0x1c0525+(-0x65+-0x1*-0x1333+-0x12cd*0x1)],_0x11859e[_0x2d5e43+(0x2253+-0x1f5+-0x205c)]=this['array'][_0x1c0525+(-0x49f+0xa0*0x22+-0x109f)];}function Pb(_0xb753b0,_0x14213d,_0x5bb150){_0x14213d[_0x5bb150]=this['array'][_0xb753b0],_0x14213d[_0x5bb150+(0x262a+-0x1*0x1aba+-0x1*0xb6f)]=this['array'][_0xb753b0+(-0x1841*-0x1+0xd0+0x2*-0xc88)],_0x14213d[_0x5bb150+(0x2204+0x5*-0xef+-0x1d57)]=this['array'][_0xb753b0+(-0x3*0x869+-0x3b6+0x1*0x1cf3)],_0x14213d[_0x5bb150+(-0x3e*-0x9f+-0x2*0x1003+-0x1*0x679)]=this['array'][_0xb753b0+(-0x58*-0xb+0xc7d*0x1+0x2*-0x821)];}class Rb{constructor(_0x143a76,_0xabb191,_0x2a687b){switch(this['index']=-0xabb+-0xe18+-0x18d3*-0x1,this['numCompone'+'nts']=_0xabb191['numCompone'+'nts'],_0x2a687b['interleave'+'d']?this['array']=new da[_0xabb191['dataType']](_0x143a76,_0xabb191['offset']):this['array']=new da[_0xabb191['dataType']](_0x143a76,_0xabb191['offset'],_0x2a687b['vertexCoun'+'t']*_0xabb191['numCompone'+'nts']),this['stride']=_0xabb191['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0xabb191['numCompone'+'nts']){case-0xf6e+0x5d5+0x99a:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case 0x15e*-0x14+0x236c+-0x812:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case 0xb*0x126+0x99*0x3c+-0x307b:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0x1*-0x79f+-0xa3d*-0x3+0xd3*-0x1c:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x47628f){return this['array'][this['index']+_0x47628f];}['set'](_0x1dcb0a,_0x48a56b,_0x187353,_0x5ec678){}['getToArray'](_0x103f8a,_0x57a676,_0x3a6698){}['setFromArr'+'ay'](_0x2b544c,_0x1bbdcc,_0x598eb2){}}class go{constructor(_0x1e7215){this['vertexBuff'+'er']=_0x1e7215,this['vertexForm'+'atSize']=_0x1e7215['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x5edf59=this['vertexBuff'+'er']['getFormat']();for(let _0x1c55ef=-0x923*0x1+0x8a*-0x3+0x1*0xac1;_0x1c55ef<_0x5edf59['elements']['length'];_0x1c55ef++){const _0xae42fc=_0x5edf59['elements'][_0x1c55ef];this['accessors'][_0x1c55ef]=new Rb(this['buffer'],_0xae42fc,_0x5edf59),this['element'][_0xae42fc['name']]=this['accessors'][_0x1c55ef];}}['next'](_0xc4752c=-0x26b5+-0x216c*-0x1+0x54a*0x1){let _0x81246b=-0xb65+-0x1*0x12df+-0x254*-0xd;const _0x400a2b=this['accessors'],_0x4dfe42=this['accessors']['length'];for(;_0x81246b<_0x4dfe42;){const _0x1588a4=_0x400a2b[_0x81246b++];_0x1588a4['index']+=_0xc4752c*_0x1588a4['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0xb81f6,_0xd5eb81,_0x4f4011){const _0x356cc1=this['element'][_0xb81f6];if(_0x356cc1){_0x4f4011>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x4f4011+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x4f4011=this['vertexBuff'+'er']['numVertice'+'s']);const _0x4940dd=_0x356cc1['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0xe8cc8d=-0x3*-0x767+0x306+-0x193b;for(let _0x506973=-0x1300+-0xa70+-0x2*-0xeb8;_0x506973<_0x4f4011;_0x506973++)_0x356cc1['setFromArr'+'ay'](_0xe8cc8d,_0xd5eb81,_0x506973*_0x4940dd),_0xe8cc8d+=_0x356cc1['stride'];}else{if(_0xd5eb81['length']>_0x4f4011*_0x4940dd){const _0x121862=_0x4f4011*_0x4940dd;if(ArrayBuffer['isView'](_0xd5eb81))_0xd5eb81=_0xd5eb81['subarray'](0x41c+-0x3b0+-0x2*0x36,_0x121862),_0x356cc1['array']['set'](_0xd5eb81);else{for(let _0x139d71=-0x1*-0xa15+-0x539*0x3+-0x2*-0x2cb;_0x139d71<_0x121862;_0x139d71++)_0x356cc1['array'][_0x139d71]=_0xd5eb81[_0x139d71];}}else _0x356cc1['array']['set'](_0xd5eb81);}}}['readData'](_0x1dc1b8,_0x450918){const _0x508225=this['element'][_0x1dc1b8];let _0x257467=0x130f+0x260f+-0x391e;if(_0x508225){_0x257467=this['vertexBuff'+'er']['numVertice'+'s'];let _0x42f035;const _0x2097ac=_0x508225['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x450918)&&(_0x450918['length']=0x21fb+-0x4*-0x46d+-0x33af),_0x508225['index']=0x246e+-0x261d*-0x1+-0x1*0x4a8b;let _0x13ad95=-0xc6c+-0x1b7*0x1+0x7*0x205;for(_0x42f035=0x557+-0x1*-0x979+-0xed0;_0x42f035<_0x257467;_0x42f035++)_0x508225['getToArray'](_0x13ad95,_0x450918,_0x42f035*_0x2097ac),_0x13ad95+=_0x508225['stride'];}else{if(ArrayBuffer['isView'](_0x450918))_0x450918['set'](_0x508225['array']);else{_0x450918['length']=-0x16d1+0xf*0x272+0x7*-0x1fb;const _0x165ed4=_0x257467*_0x2097ac;for(_0x42f035=-0x17fe+-0xf11+0x270f;_0x42f035<_0x165ed4;_0x42f035++)_0x450918[_0x42f035]=_0x508225['array'][_0x42f035];}}}return _0x257467;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(0x782+-0x287*-0xb+0x2*-0x11a7);class Db{constructor(_0x371633,_0x108d1d){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x108d1d&&(this['key']=_0x108d1d['keyCode'],this['element']=_0x108d1d['target'],this['event']=_0x108d1d);}}const Sl=new Db();function fd(_0x193d11){return Sl['key']=_0x193d11['keyCode'],Sl['element']=_0x193d11['target'],Sl['event']=_0x193d11,Sl;}function vl(_0x792c77){return typeof _0x792c77=='string'?_0x792c77['toUpperCas'+'e']()['charCodeAt'](0x1db6+0x58*-0x37+-0xace):_0x792c77;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x3e5763,_0x13b3e2={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x3e5763&&this['attach'](_0x3e5763),this['preventDef'+'ault']=_0x13b3e2['preventDef'+'ault']||!(-0x1750+0x333+0x141e),this['stopPropag'+'ation']=_0x13b3e2['stopPropag'+'ation']||!(-0x1083+-0xcc5+-0x1d49*-0x1));}['attach'](_0x32e505){this['_element']&&this['detach'](),this['_element']=_0x32e505,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x1fe3+-0x1*-0x1dfb+-0x3*0x149f)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x637+-0x1*-0xcc7+-0x12fd)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0xa2e+0x23b*-0x11+0x2*0x180d)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x12*0x1f4+0x91b+0x16*-0x203)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x1*-0x10a3+0x4e8+0xbbc));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x803+0xb51+-0x1353)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x1d36+-0x2139+0x101*0x4));}['toKeyIdent'+'ifier'](_0x5da150){_0x5da150=vl(_0x5da150);const _0x52a078=Lb[_0x5da150['toString']()];if(_0x52a078)return _0x52a078;let _0x518cba=_0x5da150['toString'](-0x72f+-0x1a3f+0x6*0x595)['toUpperCas'+'e']();const _0xd1415d=_0x518cba['length'];for(let _0x58bfe2=-0x2*-0x76d+0x6*0x235+-0x1c18;_0x58bfe2<0x23e*-0x1+0x68f+0x44d*-0x1-_0xd1415d;_0x58bfe2++)_0x518cba='0'+_0x518cba;return'U+'+_0x518cba;}['_handleKey'+'Down'](_0x50d409){const _0x10cd1b=_0x50d409['keyCode']||_0x50d409['charCode'];if(_0x10cd1b===void(-0x7*-0x395+0x1cc0+-0x35d3*0x1))return;const _0x220d26=this['toKeyIdent'+'ifier'](_0x10cd1b);this['_keymap'][_0x220d26]=!(-0x19*-0x8a+0x3*-0xa31+0x1119),this['fire']('keydown',fd(_0x50d409)),this['preventDef'+'ault']&&_0x50d409['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x50d409['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x517e2b){const _0x18e05e=_0x517e2b['keyCode']||_0x517e2b['charCode'];if(_0x18e05e===void(0x16df+0x1*-0x4c3+-0x121c))return;const _0x49aa91=this['toKeyIdent'+'ifier'](_0x18e05e);delete this['_keymap'][_0x49aa91],this['fire']('keyup',fd(_0x517e2b)),this['preventDef'+'ault']&&_0x517e2b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x517e2b['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x3e4e29){this['fire']('keypress',fd(_0x3e4e29)),this['preventDef'+'ault']&&_0x3e4e29['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3e4e29['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x3210a2 in this['_lastmap'])delete this['_lastmap'][_0x3210a2];for(const _0x15cb63 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x15cb63)&&(this['_lastmap'][_0x15cb63]=this['_keymap'][_0x15cb63]);}['isPressed'](_0x42661f){const _0x44168b=vl(_0x42661f),_0x304fec=this['toKeyIdent'+'ifier'](_0x44168b);return!!this['_keymap'][_0x304fec];}['wasPressed'](_0x37f0eb){const _0x1dcd72=vl(_0x37f0eb),_0x3fd36b=this['toKeyIdent'+'ifier'](_0x1dcd72);return!!this['_keymap'][_0x3fd36b]&&!this['_lastmap'][_0x3fd36b];}['wasRelease'+'d'](_0x1d7a74){const _0x58842f=vl(_0x1d7a74),_0x12821c=this['toKeyIdent'+'ifier'](_0x58842f);return!this['_keymap'][_0x12821c]&&!!this['_lastmap'][_0x12821c];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x3419c6,_0x3884d0){c(this,'x',-0x115*-0x1+0x750+-0x7*0x133),c(this,'y',-0x4*0x391+0x1*-0xdab+-0x1*-0x1bef),c(this,'dx',-0x133+-0x5*-0x90+-0x19d),c(this,'dy',0x1b80+0x1df7+-0x3977*0x1),c(this,'button',Ib),c(this,'wheelDelta',-0x1e61*-0x1+-0x2d0+-0x1b91),c(this,'element'),c(this,'ctrlKey',!(-0x48a+0x4*0x65b+-0x14e1)),c(this,'altKey',!(-0x1b7c+-0xa5e*-0x2+0x1*0x6c1)),c(this,'shiftKey',!(0x6f4+-0x97c+0x289)),c(this,'metaKey',!(-0x141+0x5*0x4f6+-0x178c)),c(this,'event');let _0x9ddfcd={'x':0x0,'y':0x0};if(_0x3884d0){if(_0x3884d0 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x9ddfcd=_0x3419c6['_getTarget'+'Coords'](_0x3884d0);}else _0x3884d0={};if(_0x9ddfcd)this['x']=_0x9ddfcd['x'],this['y']=_0x9ddfcd['y'];else{if(Pu())this['x']=-0x1dc4+-0x1676+0x343a,this['y']=0xd49*-0x1+0x225a*0x1+-0x1511;else return;}_0x3884d0['type']==='wheel'&&(_0x3884d0['deltaY']>-0x5*-0x28c+0x583+-0x615*0x3?this['wheelDelta']=0x13*0x25+0xbb*-0x20+0x14a2:_0x3884d0['deltaY']<-0x13a*0x1+0x197b+0x1*-0x1841&&(this['wheelDelta']=-(-0xdc9*0x2+0x1b68+0x2b))),Pu()?(this['dx']=_0x3884d0['movementX']||_0x3884d0['webkitMove'+'mentX']||_0x3884d0['mozMovemen'+'tX']||-0x10*-0x1c9+-0x731+-0x155f*0x1,this['dy']=_0x3884d0['movementY']||_0x3884d0['webkitMove'+'mentY']||_0x3884d0['mozMovemen'+'tY']||-0x3d*-0x4+0x1a3e*0x1+-0x1*0x1b32):(this['dx']=this['x']-_0x3419c6['_lastX'],this['dy']=this['y']-_0x3419c6['_lastY']),(_0x3884d0['type']==='mousedown'||_0x3884d0['type']==='mouseup')&&(this['button']=_0x3884d0['button']),this['buttons']=_0x3419c6['_buttons']['slice'](0xaee+0x19e1*0x1+-0x24cf),this['element']=_0x3884d0['target'],this['ctrlKey']=_0x3884d0['ctrlKey']??!(0x3d9+-0x1b03+0x172b),this['altKey']=_0x3884d0['altKey']??!(-0x2*-0xfb7+0x1*0x8a8+-0x2815),this['shiftKey']=_0x3884d0['shiftKey']??!(0x4*0x7b1+0x9a7+-0x286a),this['metaKey']=_0x3884d0['metaKey']??!(0x16eb*-0x1+0x2*0x5b3+0xb86*0x1),this['event']=_0x3884d0;}}class bl extends ce{constructor(_0xe705fc){super(),c(this,'_lastX',0x1a3d+-0x202b+0x5ee),c(this,'_lastY',0x13*0x159+-0x1d2d+0x392),c(this,'_buttons',[!(0x1a27+0x162+0x8*-0x371),!(-0xbc2+-0x2e*0x98+0x2713),!(0xe*-0x1ab+0x10e7+-0x674*-0x1)]),c(this,'_lastbutto'+'ns',[!(0x18b7+0x2*0x92a+-0x2b0a*0x1),!(0x19b2+-0x2b*0x7a+0xb*-0x79),!(0x49a*-0x6+0x11*0xdf+0xcce)]),c(this,'_target',null),c(this,'_attached',!(-0x488+-0x975+-0x4aa*-0x3)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x124e6d=>{_0x124e6d['preventDef'+'ault']();},this['attach'](_0xe705fc));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x539523){if(this['_target']=_0x539523,this['_attached'])return;this['_attached']=!(-0x2519+-0x9*0x21d+0xb*0x51a);const _0xb0a291={'passive':!(-0x261c+0x3*0x6b+0x24dc)},_0x4166dc=ye['passiveEve'+'nts']?_0xb0a291:!(-0x2*0xed1+-0x123b+0x2fde);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x4166dc),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x4166dc),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x4166dc),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x4166dc);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x57*0x2e+-0x186b+0x280e),this['_target']=null;const _0x3094e9={'passive':!(0x2f5*0xa+0xf75+-0x2d06)},_0x5e3d3d=ye['passiveEve'+'nts']?_0x3094e9:!(0x1*0xb59+0x1d34+-0x288c);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x5e3d3d),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x5e3d3d),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x5e3d3d),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x5e3d3d);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x5c9d80,_0x1c6b63){if(!document['body']['requestPoi'+'nterLock']){_0x1c6b63&&_0x1c6b63();return;}const _0x42ecae=()=>{_0x5c9d80(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x42ecae);},_0x1d332d=()=>{_0x1c6b63(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x1d332d);};_0x5c9d80&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x42ecae,!(-0x2ab*0x5+0x1*0x12f9+0x83*-0xb)),_0x1c6b63&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x1d332d,!(0x16c6+0x1d25+-0x33ea)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x30923b){if(!document['exitPointe'+'rLock'])return;const _0x52c067=()=>{_0x30923b(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x52c067);};_0x30923b&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x52c067,!(0x199e+0x2*0x1066+-0x3a69)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x1c*-0x12d+0x10a3*-0x1+-0x1049]=this['_buttons'][-0x1*-0x214f+0x1*0x2050+-0x419f],this['_lastbutto'+'ns'][0xb3*-0x2b+-0x9*0x181+0x2b9b*0x1]=this['_buttons'][-0x1727+-0x2*-0x325+0x10de],this['_lastbutto'+'ns'][-0x352*-0x5+-0x3d+-0x105b]=this['_buttons'][-0x175f+-0x7f2*0x2+0x2745];}['isPressed'](_0x1f5d84){return this['_buttons'][_0x1f5d84];}['wasPressed'](_0x2b79e8){return this['_buttons'][_0x2b79e8]&&!this['_lastbutto'+'ns'][_0x2b79e8];}['wasRelease'+'d'](_0x482674){return!this['_buttons'][_0x482674]&&this['_lastbutto'+'ns'][_0x482674];}['_handleUp'](_0x14b335){this['_buttons'][_0x14b335['button']]=!(-0xddf+-0x19da+-0x5a*-0x71);const _0xf62009=new ta(this,_0x14b335);_0xf62009['event']&&this['fire'](Lm,_0xf62009);}['_handleDow'+'n'](_0x94af53){this['_buttons'][_0x94af53['button']]=!(0x1128+-0x1f6f*-0x1+-0x3097);const _0x571d03=new ta(this,_0x94af53);_0x571d03['event']&&this['fire'](Im,_0x571d03);}['_handleMov'+'e'](_0x2ea6e1){const _0x561fe1=new ta(this,_0x2ea6e1);_0x561fe1['event']&&(this['fire'](Dm,_0x561fe1),this['_lastX']=_0x561fe1['x'],this['_lastY']=_0x561fe1['y']);}['_handleWhe'+'el'](_0xb29757){const _0x2fa001=new ta(this,_0xb29757);_0x2fa001['event']&&this['fire'](Mu,_0x2fa001);}['_getTarget'+'Coords'](_0x2bb9fd){const _0x2f592b=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x19e4f0=Math['floor'](_0x2f592b['left']),_0x493516=Math['floor'](_0x2f592b['top']);return _0x2bb9fd['clientX']<_0x19e4f0||_0x2bb9fd['clientX']>=_0x19e4f0+this['_target']['clientWidt'+'h']||_0x2bb9fd['clientY']<_0x493516||_0x2bb9fd['clientY']>=_0x493516+this['_target']['clientHeig'+'ht']?null:{'x':_0x2bb9fd['clientX']-_0x19e4f0,'y':_0x2bb9fd['clientY']-_0x493516};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x9ca8b1,_0x3f244e,_0x3606de){return typeof _0x3f244e=='function'&&(_0x3606de=_0x3f244e,_0x3f244e={}),this['request']('GET',_0x9ca8b1,_0x3f244e,_0x3606de);}['post'](_0x1b5684,_0x340a12,_0x3d8a9a,_0x424c83){return typeof _0x3d8a9a=='function'&&(_0x424c83=_0x3d8a9a,_0x3d8a9a={}),_0x3d8a9a['postdata']=_0x340a12,this['request']('POST',_0x1b5684,_0x3d8a9a,_0x424c83);}['put'](_0x277803,_0x567a59,_0x6abf0a,_0xb3a1a9){return typeof _0x6abf0a=='function'&&(_0xb3a1a9=_0x6abf0a,_0x6abf0a={}),_0x6abf0a['postdata']=_0x567a59,this['request']('PUT',_0x277803,_0x6abf0a,_0xb3a1a9);}['del'](_0x1789ef,_0x57d675,_0x5c6453){return typeof _0x57d675=='function'&&(_0x5c6453=_0x57d675,_0x57d675={}),this['request']('DELETE',_0x1789ef,_0x57d675,_0x5c6453);}['request'](_0x14b3d0,_0x53c1dc,_0x1a69e7,_0x4e03ea){let _0x4cec30,_0x29fc40,_0x42c27d,_0x4ce488=!(0x963+-0x15da+0x3*0x428);if(typeof _0x1a69e7=='function'&&(_0x4e03ea=_0x1a69e7,_0x1a69e7={}),_0x1a69e7['retry']&&(_0x1a69e7=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x1a69e7)),_0x1a69e7['callback']=_0x4e03ea,_0x1a69e7['async']==null&&(_0x1a69e7['async']=!(-0x3a9+-0x285*0x2+-0x8b3*-0x1)),_0x1a69e7['headers']==null&&(_0x1a69e7['headers']={}),_0x1a69e7['postdata']!=null){if(_0x1a69e7['postdata']instanceof Document)_0x42c27d=_0x1a69e7['postdata'];else{if(_0x1a69e7['postdata']instanceof FormData)_0x42c27d=_0x1a69e7['postdata'];else{if(_0x1a69e7['postdata']instanceof Object){let _0xea1fb3=_0x1a69e7['headers']['Content-Ty'+'pe'];switch(_0xea1fb3===void(-0x1d8e+0x6eb+0x16a3)&&(_0x1a69e7['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0xea1fb3=_0x1a69e7['headers']['Content-Ty'+'pe']),_0xea1fb3){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x42c27d='';let _0xff5170=!(-0x2635+0x429+0x220c);for(const _0x16903a in _0x1a69e7['postdata'])if(_0x1a69e7['postdata']['hasOwnProp'+'erty'](_0x16903a)){_0xff5170?_0xff5170=!(0x32*0x10+-0x1*-0x1a7d+-0x1d9c):_0x42c27d+='&';const _0x2563df=encodeURIComponent(_0x16903a),_0x610a88=encodeURIComponent(_0x1a69e7['postdata'][_0x16903a]);_0x42c27d+=_0x2563df+'='+_0x610a88;}break;}default:case be['ContentTyp'+'e']['JSON']:_0xea1fb3==null&&(_0x1a69e7['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x42c27d=JSON['stringify'](_0x1a69e7['postdata']);break;}}else _0x42c27d=_0x1a69e7['postdata'];}}}if(_0x1a69e7['cache']===!(0x59d+0x1e*0x91+0xb4d*-0x2)){const _0x1f992a=ne();_0x4cec30=new sd(_0x53c1dc),_0x4cec30['query']?_0x4cec30['query']=_0x4cec30['query']+'&ts='+_0x1f992a:_0x4cec30['query']='ts='+_0x1f992a,_0x53c1dc=_0x4cec30['toString']();}_0x1a69e7['query']&&(_0x4cec30=new sd(_0x53c1dc),_0x29fc40=vh(_0x4cec30['getQuery'](),_0x1a69e7['query']),_0x4cec30['setQuery'](_0x29fc40),_0x53c1dc=_0x4cec30['toString']());const _0x19cec5=new XMLHttpRequest();_0x19cec5['open'](_0x14b3d0,_0x53c1dc,_0x1a69e7['async']),_0x19cec5['withCreden'+'tials']=_0x1a69e7['withCreden'+'tials']!==void(-0x1c9b+0x49*0x6a+-0x19f)?_0x1a69e7['withCreden'+'tials']:!(-0x1ed*-0x12+-0x1*-0xb7a+-0x1*0x2e23),_0x19cec5['responseTy'+'pe']=_0x1a69e7['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x53c1dc);for(const _0x37bab0 in _0x1a69e7['headers'])_0x1a69e7['headers']['hasOwnProp'+'erty'](_0x37bab0)&&_0x19cec5['setRequest'+'Header'](_0x37bab0,_0x1a69e7['headers'][_0x37bab0]);_0x19cec5['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x14b3d0,_0x53c1dc,_0x1a69e7,_0x19cec5);},_0x19cec5['onerror']=()=>{this['_onError'](_0x14b3d0,_0x53c1dc,_0x1a69e7,_0x19cec5),_0x4ce488=!(0xd+0x1b7*-0x7+0xbf4);};try{_0x19cec5['send'](_0x42c27d);}catch(_0x13bb8a){_0x4ce488||_0x1a69e7['error'](_0x19cec5['status'],_0x19cec5,_0x13bb8a);}return _0x19cec5;}['_guessResp'+'onseType'](_0x5475b2){const _0x342b93=new sd(_0x5475b2),_0x537023=fe['getExtensi'+'on'](_0x342b93['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x537023)>=0x2*-0x998+0x42a+-0x502*-0x3?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x537023==='.json'?be['ResponseTy'+'pe']['JSON']:_0x537023==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x4ba8d3){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x4ba8d3)>=0x76*0x1a+-0x2524+0x1928;}['_isBinaryR'+'esponseTyp'+'e'](_0x4433fb){return _0x4433fb===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x4433fb===be['ResponseTy'+'pe']['BLOB']||_0x4433fb===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x471854,_0x16fa83,_0x85a68c,_0xb5c009){if(_0xb5c009['readyState']===0x1b65+-0x218c+0x1*0x62b)switch(_0xb5c009['status']){case 0x204+0x23e2+-0x25e6:{_0xb5c009['responseUR'+'L']&&_0xb5c009['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x471854,_0x16fa83,_0x85a68c,_0xb5c009):this['_onError'](_0x471854,_0x16fa83,_0x85a68c,_0xb5c009);break;}case 0x6d*0x20+0x2436+0x4e*-0xa1:case 0x14e0*0x1+0x1c3b+0x1829*-0x2:case-0x2f8+0x1*-0x302+0x1*0x6c8:case 0x293*-0x2+0x1*-0xb2d+0x1183*0x1:{this['_onSuccess'](_0x471854,_0x16fa83,_0x85a68c,_0xb5c009);break;}default:{this['_onError'](_0x471854,_0x16fa83,_0x85a68c,_0xb5c009);break;}}}['_onSuccess'](_0x201641,_0x3f51a5,_0x2c7558,_0x47c381){let _0x16c2fb,_0xe5b4b7;const _0x59d9aa=_0x47c381['getRespons'+'eHeader']('Content-Ty'+'pe');_0x59d9aa&&(_0xe5b4b7=_0x59d9aa['split'](';')[-0x31*-0x12+0x56*0x1c+-0x149*0xa]['trim']());try{this['_isBinaryC'+'ontentType'](_0xe5b4b7)||this['_isBinaryR'+'esponseTyp'+'e'](_0x47c381['responseTy'+'pe'])?_0x16c2fb=_0x47c381['response']:_0xe5b4b7===be['ContentTyp'+'e']['JSON']||_0x3f51a5['split']('?')[0xfd7+0x3*0xa1e+-0x2e31]['endsWith']('.json')?_0x16c2fb=JSON['parse'](_0x47c381['responseTe'+'xt']):_0x47c381['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0xe5b4b7===be['ContentTyp'+'e']['XML']?_0x16c2fb=_0x47c381['responseXM'+'L']:_0x16c2fb=_0x47c381['responseTe'+'xt'],_0x2c7558['callback'](null,_0x16c2fb);}catch(_0x47fe8b){_0x2c7558['callback'](_0x47fe8b);}}['_onError'](_0x15b4cd,_0x5bc306,_0x34735d,_0xa45f28){if(!_0x34735d['retrying']){if(_0x34735d['retry']&&_0x34735d['retries']<_0x34735d['maxRetries']){_0x34735d['retries']++,_0x34735d['retrying']=!(-0x8c2+0x23df*0x1+0x1*-0x1b1d);const _0x3bce14=N['clamp'](Math['pow'](0x417+-0x1fd*0xf+0x526*0x5,_0x34735d['retries'])*be['retryDelay'],0x1*-0x43a+0x293*0xb+-0x1817,_0x34735d['maxRetryDe'+'lay']||-0x2177*0x1+-0x21af+-0x13d*-0x46);console['log'](_0x15b4cd+':\x20'+_0x5bc306+'\x20-\x20Error\x20'+_0xa45f28['status']+('.\x20Retrying'+'\x20in\x20')+_0x3bce14+'\x20ms'),setTimeout(()=>{_0x34735d['retrying']=!(0x246b+0x1*-0x1987+-0xae3),this['request'](_0x15b4cd,_0x5bc306,_0x34735d,_0x34735d['callback']);},_0x3bce14);}else _0x34735d['callback'](_0xa45f28['status']===0x17c5+-0x15f6+-0x1cf?'Network\x20er'+'ror':_0xa45f28['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',-0x10a6+0x1a3+0xf67);let ls=be;const We=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x1d2a3b,_0x1cb3b6,_0x2f4576={}){if(this['volume']=_0x2f4576['volume']??-0x20f6+-0x17fd+0x38f4,this['loop']=_0x2f4576['loop']??!(0x455*-0x3+0x1df+0xb21),this['pitch']=_0x2f4576['pitch']??0xdd*0x13+-0x23c2+0x674*0x3,this['sound']=_0x1cb3b6,this['paused']=!(0x6a+0x256c+-0x25d5),this['suspended']=!(-0x31*0x6d+-0x1a+-0x1*-0x14f8),this['manager']=_0x1d2a3b,this['source']=null,Li()){this['startTime']=0x18d4+-0x1aeb+0x217,this['startOffse'+'t']=0x2521+0x3*-0x46+-0x244f;const _0xbc44c9=_0x1d2a3b['context'];this['gain']=_0xbc44c9['createGain']();}else _0x1cb3b6['audio']&&(this['source']=_0x1cb3b6['audio']['cloneNode'](!(-0x21cf*0x1+-0x6d*-0x2e+0x71d*0x2)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x5d2c71){this['loop']=_0x5d2c71,this['source']&&(this['source']['loop']=_0x5d2c71);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(-0x365+0x801+-0x49c),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(0x452+-0x2cc*-0xb+0x503*-0x7),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x1*-0xaed+0xb*-0x1d2+-0xa51*-0x3,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0x2677+0xbdf*-0x2+0x3e35),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](-0x17ef+-0x1159*-0x1+0x696),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x14e1*-0x1+0x1762+0xec1*-0x3,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0x665*-0x2+0x779*-0x1+0x1444));}['stop'](){this['source']&&(this['source']['stop'](0x59b+0x1*-0x1543+-0x6*-0x29c),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x3d0678){_0x3d0678=N['clamp'](_0x3d0678,-0x5fc*-0x1+-0x3*-0x4e3+-0x23*0x97,-0x1c7c+0x1*-0x125e+-0x2edb*-0x1),this['volume']=_0x3d0678,this['gain']&&(this['gain']['gain']['value']=_0x3d0678*this['manager']['volume']);}['setPitch'](_0x2379de){this['pitch']=_0x2379de,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x2379de);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x279*-0x2+-0x150b+0x1019;}['_createSou'+'rce'](){const _0x23bb2b=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x23bb2b['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x23bb2b['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x156*0x6+0x2*-0xa73+0xb*0x2a1),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(0x1e87*0x1+-0x2*-0x97d+-0x3181),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x19a3+0xce7+0xcbd*0x1),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x412b99){_0x412b99=N['clamp'](_0x412b99,0x1*-0x19cf+0x6d7*0x3+0x2a5*0x2,-0x1*-0x95d+-0x260d+0x1cb1),this['volume']=_0x412b99,this['source']&&(this['source']['volume']=_0x412b99*this['manager']['volume']);},'setPitch':function(_0x5b3f24){this['pitch']=_0x5b3f24,this['source']&&(this['source']['playbackRa'+'te']=_0x5b3f24);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x21*-0x55+-0x427*-0x5+0x74*-0x46;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0x3150+0x48b3+0x1f*-0x2ad;class Ru extends kh{constructor(_0x5e7daf,_0x1a6ee5,_0x976f70){super(_0x5e7daf,_0x1a6ee5,_0x976f70),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x5e7daf['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x10d*-0x1b+-0x1ec4+0x266*0x1,this['rollOffFac'+'tor']=0x1*0x1f11+0x7f2+0x2*-0x1381,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x3680ed){this['position']['copy'](_0x3680ed);const _0x460ee2=this['panner'];'positionX'in _0x460ee2?(_0x460ee2['positionX']['value']=_0x3680ed['x'],_0x460ee2['positionY']['value']=_0x3680ed['y'],_0x460ee2['positionZ']['value']=_0x3680ed['z']):_0x460ee2['setPositio'+'n']&&_0x460ee2['setPositio'+'n'](_0x3680ed['x'],_0x3680ed['y'],_0x3680ed['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x1292db){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x1292db);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x5e0f21){this['panner']['maxDistanc'+'e']=_0x5e0f21;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x469dc1){this['panner']['refDistanc'+'e']=_0x469dc1;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x3e9ae0){this['panner']['rolloffFac'+'tor']=_0x3e9ae0;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x355e7c){this['panner']['distanceMo'+'del']=_0x355e7c;}['_createSou'+'rce'](){const _0x39e0ee=this['manager']['context'];this['source']=_0x39e0ee['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x39e0ee['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x42c601,_0x4c31c3,_0x56d6bd,_0x322a64,_0x49131f,_0x27ea1d){l=l['sub2'](_0x42c601,_0x4c31c3);const _0x5908ed=l['length']();if(_0x5908ed<_0x56d6bd)return-0x18fe+-0x1e01+-0x50*-0xb0;if(_0x5908ed>_0x322a64)return 0x2*-0xb6+0x533+-0x3c7;let _0x16c9db=-0x7b3+-0x909*-0x3+-0x1368;return _0x27ea1d===cc?_0x16c9db=-0x2344+0x9e9+0x6*0x43a-_0x49131f*(_0x5908ed-_0x56d6bd)/(_0x322a64-_0x56d6bd):_0x27ea1d===Ff?_0x16c9db=_0x56d6bd/(_0x56d6bd+_0x49131f*(_0x5908ed-_0x56d6bd)):_0x27ea1d===cy&&(_0x16c9db=Math['pow'](_0x5908ed/_0x56d6bd,-_0x49131f)),N['clamp'](_0x16c9db,-0xd*-0xde+0x5*0x74f+-0x1*0x2fd1,-0xf*-0x4d+0x1*0xd4f+-0x11d1);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x9598fb){if(this['position']['copy'](_0x9598fb),this['source']){const _0x29b7ee=this['manager']['listener']['getPositio'+'n'](),_0x5589c1=t(_0x29b7ee,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x5f6983=this['getVolume']();this['source']['volume']=_0x5f6983*_0x5589c1;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x32e89d){this['maxDistanc'+'e']=_0x32e89d;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x22e84b){this['minDistanc'+'e']=_0x22e84b;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x5bde5d){this['rollOffFac'+'tor']=_0x5bde5d;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x8193ba){this['distanceMo'+'del']=_0x8193ba;}});}class Ob{constructor(_0x2553d3){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x2553d3;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0xce9ae2){this['position']['copy'](_0xce9ae2);const _0x20c960=this['listener'];_0x20c960&&('positionX'in _0x20c960?(_0x20c960['positionX']['value']=_0xce9ae2['x'],_0x20c960['positionY']['value']=_0xce9ae2['y'],_0x20c960['positionZ']['value']=_0xce9ae2['z']):_0x20c960['setPositio'+'n']&&_0x20c960['setPositio'+'n'](_0xce9ae2['x'],_0xce9ae2['y'],_0xce9ae2['z']));}['setOrienta'+'tion'](_0x2bf6de){this['orientatio'+'n']['copy'](_0x2bf6de);const _0x2ff149=this['listener'];if(_0x2ff149){const _0x3876bb=_0x2bf6de['data'];'forwardX'in _0x2ff149?(_0x2ff149['forwardX']['value']=-_0x3876bb[-0x4*0x315+0x1ed+0xa6f],_0x2ff149['forwardY']['value']=-_0x3876bb[0x2670+0xc*0x12a+-0x345f],_0x2ff149['forwardZ']['value']=-_0x3876bb[0xc3c+-0x195b+0xd29],_0x2ff149['upX']['value']=_0x3876bb[-0x8f5+0x13*0x51+0x2f6],_0x2ff149['upY']['value']=_0x3876bb[0xc7e+0xeb0+-0x1b29],_0x2ff149['upZ']['value']=_0x3876bb[0x11c5+0x12e1+-0x24a0]):_0x2ff149['setOrienta'+'tion']&&_0x2ff149['setOrienta'+'tion'](-_0x3876bb[0x1*-0x139d+0x2c*-0xad+0x3161*0x1],-_0x3876bb[-0xe54+-0x1d3c*0x1+-0x2b99*-0x1],-_0x3876bb[-0xdbe+-0xe5*0x13+0x1*0x1ec7],_0x3876bb[-0x1403*0x1+-0x525+0x12*0x166],_0x3876bb[0xf*0x175+0xff3+-0x25c9],_0x3876bb[-0x22*0xef+0xf94+0x1030]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x3f81ab=this['_manager']['context'];return _0x3f81ab?_0x3f81ab['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x8f5*0x3+0x2*0x132f+-0x413c),this['listener']=new Ob(this),this['_volume']=-0x1*-0x1f4b+0x73*-0x37+-0x1*0x695;}set['volume'](_0x9f8d4a){_0x9f8d4a=N['clamp'](_0x9f8d4a,-0x3f3*-0x1+-0x1271+0x7*0x212,-0x5*-0x407+0x1cdc+-0x30fe),this['_volume']=_0x9f8d4a,this['fire']('volumechan'+'ge',_0x9f8d4a);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0xf47*-0x1+-0x936*0x1+-0x611),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x15*0x12f+0x16ba+-0x2a*-0xd),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x929441;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x929441=this['_context'])==null||_0x929441['close'](),this['_context']=null);}['playSound'](_0x3d4d2d,_0xbae09c={}){let _0x4e08c8=null;return kh&&(_0x4e08c8=new kh(this,_0x3d4d2d,_0xbae09c),_0x4e08c8['play']()),_0x4e08c8;}['playSound3'+'d'](_0x239f9b,_0x59c83d,_0x1d3fe8={}){let _0x594783=null;return Ru&&(_0x594783=new Ru(this,_0x239f9b,_0x1d3fe8),_0x594783['setPositio'+'n'](_0x59c83d),_0x1d3fe8['volume']&&_0x594783['setVolume'](_0x1d3fe8['volume']),_0x1d3fe8['loop']&&_0x594783['setLoop'](_0x1d3fe8['loop']),_0x1d3fe8['maxDistanc'+'e']&&_0x594783['setMaxDist'+'ance'](_0x1d3fe8['maxDistanc'+'e']),_0x1d3fe8['minDistanc'+'e']&&_0x594783['setMinDist'+'ance'](_0x1d3fe8['minDistanc'+'e']),_0x1d3fe8['rollOffFac'+'tor']&&_0x594783['setRollOff'+'Factor'](_0x1d3fe8['rollOffFac'+'tor']),_0x1d3fe8['distanceMo'+'del']&&_0x594783['setDistanc'+'eModel'](_0x1d3fe8['distanceMo'+'del']),_0x594783['play']()),_0x594783;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x46c1b8=this['_context']['createBuff'+'erSource']();_0x46c1b8['buffer']=this['_context']['createBuff'+'er'](0x32e*-0x2+-0x1*-0x1b8b+-0x152e,0xd*0x239+-0x1*0x4ee+-0x17f6,this['_context']['sampleRate']),_0x46c1b8['connect'](this['_context']['destinatio'+'n']),_0x46c1b8['start'](-0x2516+0x22e3+0x233*0x1),_0x46c1b8['onended']=_0x40a3a4=>{_0x46c1b8['disconnect'](0x701+0xb7e+-0x127f),this['fire']('resume');};},_0x27c2d7=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x27c2d7);})['catch'](_0x401f04=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x401f04);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x4dcd9d=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x4dcd9d);})['catch'](_0x1076f0=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x1076f0);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x8a7df7=>{window['addEventLi'+'stener'](_0x8a7df7,this['_unlockHan'+'dlerFunc'],!(0x6*0x253+0x1316+-0x2107));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x218311=>{window['removeEven'+'tListener'](_0x218311,this['_unlockHan'+'dlerFunc'],!(-0x1c12+-0x16*-0x12b+-0x1*-0x261));});}}class Bb{constructor(_0x7ab374){c(this,'audio'),c(this,'buffer'),_0x7ab374 instanceof Audio?this['audio']=_0x7ab374:this['buffer']=_0x7ab374;}get['duration'](){let _0x37c466=0xd51*-0x1+-0x985*0x2+0x205b;return this['buffer']?_0x37c466=this['buffer']['duration']:this['audio']&&(_0x37c466=this['audio']['duration']),_0x37c466||0x239*0x6+-0x1*-0x2631+-0x3387;}}const Pt=-0x1e78+0x7*-0xd3+0x243d,sa=-0x653*0x5+0x281*0x1+0x1d1f,ws=-0x2*-0xfe2+-0x2a3*0x1+0x1f1*-0xf;function Rt(_0x3e78d1,_0x4a2dc4){return _0x3e78d1%_0x4a2dc4||-0x1*0x1cd5+-0x1*-0x14a1+0x834;}class ss extends ce{constructor(_0x2089e3,_0x1ff621,_0x16063a){super(),c(this,'source',null),(this['_manager']=_0x2089e3,this['_volume']=_0x16063a['volume']!==void(-0x19fb+0x4a9+0x1552)?N['clamp'](Number(_0x16063a['volume'])||0x34d*-0x1+0x1603+-0x12b6,0x1*0x2051+0x125+0x2176*-0x1,-0x1*0x25b1+0xcfd+0x18b5):0x1b63+-0x1314+0x1*-0x84e,this['_pitch']=_0x16063a['pitch']!==void(-0xa2b+-0x172d+-0x8*-0x42b)?Math['max'](-0xd7b+-0xf56+-0x3*-0x99b+0.01,Number(_0x16063a['pitch'])||0x12f*0x11+-0xbad+-0x872):0x2479*-0x1+-0xe57+0x32d1,this['_loop']=!!(_0x16063a['loop']!==void(-0x735+-0x96*-0x1b+0x69*-0x15)&&_0x16063a['loop']),this['_sound']=_0x1ff621,this['_state']=ws,this['_suspended']=!(0x3*0x32b+0x2f*-0x5f+0x7f1),this['_suspendEn'+'dEvent']=-0x232a+0x24e1*-0x1+0x1*0x480b,this['_suspendIn'+'stanceEven'+'ts']=!(0x2431+0x837+-0x2c67),this['_playWhenL'+'oaded']=!(-0x7*0x3b3+0x6ca+0x49*0x43),this['_startTime']=Math['max'](0x1cf*0x11+0x3*0x1a7+-0x23b4,Number(_0x16063a['startTime'])||-0xd*-0x196+0xf91+-0x242f),this['_duration']=Math['max'](0x26e3+0x1*-0x1105+0x9*-0x26e,Number(_0x16063a['duration'])||0x32*-0x49+-0x14f4+0x2336*0x1),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x16063a['onPlay'],this['_onPauseCa'+'llback']=_0x16063a['onPause'],this['_onResumeC'+'allback']=_0x16063a['onResume'],this['_onStopCal'+'lback']=_0x16063a['onStop'],this['_onEndCall'+'back']=_0x16063a['onEnd'],Li()?(this['_startedAt']=0x1f43+-0x23a0+0x45d,this['_currentTi'+'me']=-0x65*-0xc+-0x8*0x353+-0x2*-0xaee,this['_currentOf'+'fset']=-0x3*0x455+0x8*0x342+-0xd11,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*0xbcf+-0x212c+0xb3f*0x4),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x1c4d+-0x9*0x2dd+-0x287),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x4e6395){if(!(_0x4e6395<-0x1983+0x19e+0x17e5*0x1)){if(this['_state']===Pt){const _0x384f70=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x1*0x386+-0x287*-0x3+0x1*-0x40f),this['stop'](),this['_startOffs'+'et']=_0x4e6395,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x384f70;}else this['_startOffs'+'et']=_0x4e6395,this['_currentTi'+'me']=_0x4e6395;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0xe59+-0xcd7+0x1b30:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x893a4b){this['_duration']=Math['max'](-0x7b+0x2516*0x1+-0x249b*0x1,Number(_0x893a4b)||0x1*0x22df+-0x26ad+0x3ce*0x1);const _0x31a019=this['_state']===Pt;this['stop'](),_0x31a019&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x26f5+0x2399+0x35c;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x366887){this['_loop']=!!_0x366887,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x486e79){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x486e79)||-0x3c*0x9e+-0x1e*-0x107+0x636,-0x12af+-0x9c9*-0x1+0x8e6+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x51904f){this['_sound']=_0x51904f,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x69beb5){this['_startTime']=Math['max'](0x23bf+-0x6ad*-0x5+-0xe*0x4f0,Number(_0x69beb5)||0x239d+-0x100d+-0x1390*0x1);const _0x603f7a=this['_state']===Pt;this['stop'](),_0x603f7a&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x27b0d3){_0x27b0d3=N['clamp'](_0x27b0d3,-0x1*0x2243+0x1fb+0x2048,0x35*-0x81+0x1187+0x92f),this['_volume']=_0x27b0d3,this['gain']&&(this['gain']['gain']['value']=_0x27b0d3*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1810+0xb5c+0x65a*0x2){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(0x17e*0x3+-0x1502+-0x844*-0x2),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x509*-0x7+0x1741+0xbff),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x21b3+-0x1841+0x39f5*0x1),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0x1*0x1a3+-0xdcc+0x2*0x615):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x82f+0x5f2*-0x5+-0x44f*-0x5),!(-0x7*0x205+0x1193+-0x36f)):(this['_playAudio'+'Immediate'](),!(-0x1*0x961+-0x1859+0x21ba));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x276+0x7*-0x1da+0xa81),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x138beb=Rt(this['_startOffs'+'et'],this['duration']);_0x138beb=Rt(this['_startTime']+_0x138beb,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x27*-0xf2+-0x1*0x1f11+0x43ef,_0x138beb,this['_duration']):this['source']['start'](0x37f+0x4c*0x3+-0x463,_0x138beb),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x24a9+0x1*0x5db+0x38b*-0xc,this['_currentOf'+'fset']=_0x138beb,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x69f+0xfc3+-0x1661),this['_state']!==Pt?!(0x1*0x1171+0x3e3+0x67*-0x35):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x2*0x5ce+0x1111*-0x1+0xb*0x7f),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x12a4+-0x158f+0x1*0x2833));}['resume'](){if(this['_state']!==sa)return!(0xd59+-0x6c5*0x1+-0x693);let _0x25c7f2=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x25c7f2=Rt(this['_startOffs'+'et'],this['duration']),_0x25c7f2=Rt(this['_startTime']+_0x25c7f2,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x2157+-0x228*-0x4+-0x1*0x29f7,_0x25c7f2,this['_duration']):this['source']['start'](-0x321*0x1+0x5*0x6b9+-0x1e7c,_0x25c7f2),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x25c7f2,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x1940+0xb76+0x141*0xb),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x9*0x1d5+-0xd81*0x1+-0x2fc);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0xdf*-0x1f+-0xfaf+-0xb51),this['_state']===ws)return!(0x3b*0x14+-0x5*0x6c5+0x1d3e);const _0x3b54bf=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x7cd*0x3+-0x1*0x19c3+0x25c,this['_currentTi'+'me']=-0x111b+0x4*-0xa9+-0x151*-0xf,this['_currentOf'+'fset']=0x121*-0x13+-0x8b1+-0x283*-0xc,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x3b54bf&&this['source']&&this['source']['stop'](0x4e5+0xe93+-0x1378),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x805+-0x92*-0x2f+-0x22d3);}['setExterna'+'lNodes'](_0x1c9784,_0x305a7d){if(!_0x1c9784){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x305a7d||(_0x305a7d=_0x1c9784);const _0x45078d=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x1c9784&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x45078d),this['_firstNode']=_0x1c9784,this['_connector'+'Node']['connect'](_0x1c9784)),this['_lastNode']!==_0x305a7d&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x45078d),this['_lastNode']=_0x305a7d,this['_lastNode']['connect'](_0x45078d));}['clearExter'+'nalNodes'](){const _0x1294a4=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x1294a4),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x1294a4);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x522c19=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x522c19['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](-0x12b*0x3+0x4*-0x345+0xf*0x11b),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0xc96+-0x1*-0x42b+0x86*-0x20):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x20b*-0x7+-0x1*0xd44+-0x2*-0xdc9),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x1ff3+0x412+0x2405*-0x1));},'pause':function(){return!this['source']||this['_state']!==Pt?!(0x149d*0x1+0x245b+-0x38f7):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x768+-0x8*0x24f+0x19e1),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x26c0+0x4*0x3b5+0x17ec));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x1388+-0xc9*0x2e+0x1097*0x1):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x2648+-0x185a+0x42d*0xf),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x19ff+0x129a+0x7*-0x65f));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x1dd9+-0x2547+-0x23*-0x1eb):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x2475+-0x2*0x13a+0x26ea),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x1*0xe2f+0x1*0x75e+0x6d1*0x1));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x19*0x9f+0x902+-0x1889);let _0x50bc1f=Rt(this['_startOffs'+'et'],this['duration']);_0x50bc1f=Rt(this['_startTime']+_0x50bc1f,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x50bc1f;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x19bb*-0x1+0xc3a+0xd82),this['source']=this['_sound']['audio']['cloneNode'](!(-0x3f*0x17+0x2*-0x1369+0x1*0x2c7b)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x3bb6c1){_0x3bb6c1=N['clamp'](_0x3bb6c1,0x13*-0x1d+-0x2146+-0x3*-0xbcf,-0x41*-0x83+0x1*0x2ab+0x11*-0x21d),this['_volume']=_0x3bb6c1,this['source']&&(this['source']['volume']=_0x3bb6c1*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x1c404d){this['_pitch']=Math['max'](Number(_0x1c404d)||-0x1547+-0x12e5+-0x4*-0xa0b,0x1b72+-0x68d+-0x3*0x6f7+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x15e73d){this['stop'](),this['_sound']=_0x15e73d;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?0x9cd+-0x467+-0x566:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x4a3241){_0x4a3241<0x9d*-0xb+-0xa*0x3b9+0x2bf9||(this['_startOffs'+'et']=_0x4a3241,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x4a3241,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=-0x68a+0x47a6+-0x1a0c;class jn extends ss{constructor(_0x3e0a56,_0x2aad42,_0x3ebc13={}){super(_0x3e0a56,_0x2aad42,_0x3ebc13),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x3ebc13['position']&&(this['position']=_0x3ebc13['position']),this['maxDistanc'+'e']=_0x3ebc13['maxDistanc'+'e']!==void(-0x1ad7+0x178*-0x12+-0x251*-0x17)?Number(_0x3ebc13['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x3ebc13['refDistanc'+'e']!==void(0x1107+-0x1d8+-0xf2f)?Number(_0x3ebc13['refDistanc'+'e']):-0x1*-0x664+-0x688+0x25,this['rollOffFac'+'tor']=_0x3ebc13['rollOffFac'+'tor']!==void(-0x427*0x1+-0xa6f*0x2+0x1905)?Number(_0x3ebc13['rollOffFac'+'tor']):0x1*-0x51a+-0xf6*0x7+0xbd5,this['distanceMo'+'del']=_0x3ebc13['distanceMo'+'del']!==void(0x2602+0xb*0x29d+0x17*-0x2e7)?_0x3ebc13['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x1e098a){this['_position']['copy'](_0x1e098a);const _0x212608=this['panner'];'positionX'in _0x212608?(_0x212608['positionX']['value']=_0x1e098a['x'],_0x212608['positionY']['value']=_0x1e098a['y'],_0x212608['positionZ']['value']=_0x1e098a['z']):_0x212608['setPositio'+'n']&&_0x212608['setPositio'+'n'](_0x1e098a['x'],_0x1e098a['y'],_0x1e098a['z']);}get['position'](){return this['_position'];}set['velocity'](_0x1bb10a){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x1bb10a);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x2a01b2){this['panner']['maxDistanc'+'e']=_0x2a01b2;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x1a62ef){this['panner']['refDistanc'+'e']=_0x1a62ef;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x1dca65){this['panner']['rolloffFac'+'tor']=_0x1dca65;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x27db3c){this['panner']['distanceMo'+'del']=_0x27db3c;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x3a1585,_0x538d07,_0x42bb8c,_0xf10bf5,_0x53d17d,_0x25370d){l=l['sub2'](_0x3a1585,_0x538d07);const _0x236a1a=l['length']();if(_0x236a1a<_0x42bb8c)return-0x1*-0xdc6+0x1405+-0x21ca;if(_0x236a1a>_0xf10bf5)return 0x1ff*-0x7+0x2c5*-0x4+0x190d;let _0x441518=0x1*0x10aa+0x1*-0x1183+-0x1f*-0x7;return _0x25370d===cc?_0x441518=0x1028+-0x3*0xaae+0xfe3-_0x53d17d*(_0x236a1a-_0x42bb8c)/(_0xf10bf5-_0x42bb8c):_0x25370d===Ff?_0x441518=_0x42bb8c/(_0x42bb8c+_0x53d17d*(_0x236a1a-_0x42bb8c)):_0x25370d===cy&&(_0x441518=Math['pow'](_0x236a1a/_0x42bb8c,-_0x53d17d)),N['clamp'](_0x441518,-0xa*0x3cd+-0x4e0*0x5+0x3e62,0x8*-0x123+-0x187*-0x12+-0x1265);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x4c4a9f){if(this['_position']['copy'](_0x4c4a9f),this['source']){const _0x1b5b3c=this['_manager']['listener']['getPositio'+'n'](),_0x35b802=t(_0x1b5b3c,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x273a34=this['volume'];this['source']['volume']=_0x273a34*_0x35b802*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x5d3d52){this['_maxDistan'+'ce']=_0x5d3d52;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x1b5d12){this['_refDistan'+'ce']=_0x1b5d12;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x2a9c84){this['_rollOffFa'+'ctor']=_0x2a9c84;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x4bac0c){this['_distanceM'+'odel']=_0x4bac0c;}});}const n0=-0x1cdd+-0x274*-0x1+0x1*0x1a69,yp=-0xd01*0x2+-0x580+0x1f83*0x1,Kt=-0x25d1*-0x1+0xfae+-0x357d,is=0x1ed1+0x262d*-0x1+0x1*0x75f,hr=-0x2*-0xeb+0x29*-0x12+0x110,xp=-0x2263+-0x2*-0x531+0xc03*0x2,Hc=-0x1*-0x2274+0x2238+0x57*-0xca,a0=0x11f0+-0x40e*-0x1+-0x15f7,o0=0x81e*0x1+-0x164f+0xe39,l0=0x1*-0xf9+0x1e7d+-0x1*0x1d7b,h0=0x1409*0x1+-0x1*-0x15b1+0x536*-0x8,Fa='none',zb='linear',Sp=0xbdb*0x1+0x26d1+-0x32aa,Ub=0xbed+0x1b0b+-0x26f8*0x1,Vb=-0x401*0x4+0x1a4b+-0xa45,c0=0x56e+-0x1b1f+-0x3*-0x740,Fi=0x19b0+0x15e1*0x1+0x1*-0x2f91,Xt=0xd*0x68+-0x4c2+-0x85,vp=-0x179*-0x18+0x465+-0x27bb,bp=0x1e11*-0x1+0x189c+-0x15e*-0x4,tl=-0x84d+-0x12eb+0x1b3c,oe=-0xacc+-0x1*0xac9+0x1595,Pe=0x2709+0xfc4+-0x3*0x1244,Re=0x1b2b+-0x2709+0x5*0x260,yt=0x2*-0x913+0xa*0x303+-0xbf8,Gb=-0x52*0x4e+0x8be+0x103f,Hb=0x1f5+0x20*0x29+-0x713,$b=0x4c6+-0x11e1+0xd1e*0x1,wp=0x1*0x593+-0x6d*-0x2+-0x66d,Wb=0x9*0x11c+-0x1*-0xb82+-0x1*0x157d,Dt=0x21af*-0x1+-0x1*-0x26bf+-0x510,Hr=-0x1102+-0x7*0x10+-0x2*-0x8ba,$r=-0x7d*-0x2b+-0x6b*0x2b+-0x303,lh=-0x12f5+-0x144+0x143d,Bh=-0x378+-0x3*0x89f+0xdd*0x22,Ts=-0x14*-0x125+0xbfb*-0x1+-0xae3,Nh=0x12b*-0xc+0x1da2+0x133*-0xd,zh=0x2*0xd53+-0x1*0x1ffb+-0x1*-0x55d,Iu=0x4*-0x736+0x1*0xcb3+0x102e,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(0x21*0x6a+-0x2556+-0x25e*-0xa)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(0x257f+0x7c3*-0x1+-0xede*0x2)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0x50*0x4f+-0x1472*0x1+-0x21f*0x2)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(0x2ef*0x4+-0x4*-0x115+0x202*-0x8)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(0x26df+0x1*-0x3f9+0xba2*-0x3)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0x122f+0x305*0x9+0x2*-0x47f)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(0x1050+0x123f+-0x228f)}],[$r,{'name':'VSM_32F','format':Ke,'vsm':!(-0x6b3+0x1c90+0x15dd*-0x1)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(-0x2bb+0x1*0x1695+-0x13da)}]]),Tp=0x1b7+-0x1*-0xe47+-0xffd*0x1,Du=-0x232f*-0x1+-0xaed*-0x3+-0x43f6,d0=0x117f*-0x1+0x2d*-0x43+0x9c2*0x3,Vs=-0xd19+-0x22+0xd3b,qb=-0x999+0x160a*0x1+-0xc70,Uh=-0x1b5a+-0xd5+0x1c2f,Xb=-0x2184+-0x201b*0x1+0x41a0,Gs=0x170a+-0x2f4+-0x1416,ua=-0x13dd+-0xb07+0x1ee5*0x1,yo=-0x11*-0x1bb+0x1631+0x1134*-0x3,Dr=-0x2*0x1073+-0x13a8+0x348f,Tl=-0x193a+0x1*0x469+0x14d3,u0=-0x18a*0x3+-0x24a3+0x2941,jb=0x1243*0x1+-0x1764+0x522,km='mul',sl=0x2090+-0x6d*-0x1+-0x5*0x699,hh=-0x2*0x118d+0x3fe+-0x213*-0xf,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=-0x2*0xe+0x748+-0x72c,aF=-0xc3f+0xc7*0x32+-0x1a9e,oF=0x85*0xa+0x4f*0x74+-0x28fc,lF=-0x69e*0x3+0x90*-0x3d+0x362d,hF=0x22f1+0xdbb+-0x30a8,cF=-0x17cb+0xb9d+-0x15b*-0x9,f0=0x1*0x1b5a+-0xf19+0x1f*-0x65,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=0x3a*0x2f+-0xe4+-0x9c2,Bo=0x1a14+0x65e+-0x2071,Lu=-0x2671+-0x5*0x337+0x3686,Ep=-0x15a3+0x2*0x1258+-0x9*0x1ac,$c=-0x1*-0x258c+-0x26e*0x3+-0x2c0*0xb,m0=0x153f+-0xf01+-0x63a,_0=-0x1ec8+0x4*-0x71+0x2094,g0=0x1b5b+0x268e+-0x751*0x9,Wc=0x1*0x2467+-0x126+0x187*-0x17,Fu=0x2209+-0x26af+0x42*0x13,y0=0x1f+0x38e*-0x8+0x1cd1,Cp=-0x1dde+-0x1f6c+-0x3aa*-0x11,Mp=-0x2303*-0x1+0x18d8+-0x3*0x1349,qc=0x2199+-0x10*0x53+0x1869*-0x1,Xc=-0xfc9+-0x4*0x561+0x2d4d*0x1,x0=0x1a3d*-0x1+0x2201+-0x3e*-0x22,jc=0xb*0x29+-0x1fb0+0x3ded,Ou=-0x22*-0x157+-0x1*-0x57d1+-0x455f,Ps=0x8f3*-0x2+0x2*0xcc+0x2*0x827,cn=-0x2ef*-0x5+0x1*-0x2677+0x17cd,Pp=-0x1*-0x1444+-0x5c9+-0x2e5*0x5,Ei=0x145+-0x10f*-0x23+0xda*-0x2d,ku=-0x1*0x1e3b+-0x25e8+0x4424,hs=0x11a*-0x17+0x1357+-0x40*-0x18,cr=-0x1*-0x1046+-0x10*-0x18a+-0x28e4,rr=-0x5ab*-0x2+-0xd*0x1a8+-0xa36*-0x1,gn=0xc9f+0x71*-0x57+0x37*0x78,il=-0x2313+0x1f0*-0xe+0x2*0x1f1a,rl=-0x15e+0xe*0x149+-0x109e,Oa=-0x31*-0x59+-0x1093+0x5*-0x17,Rp=0x710+-0xa20+0x314,Ti=0xaa9+0xbcd+-0x1676*0x1,nt=-0x1*-0xe85+-0xbce+0x15b*-0x2,Qe=0x19a5+0x1cc9+-0x36*0x102,ch=-0x1659+0x328+0x1332,Al=0x130*-0x13+-0xb25+0x21b5,dh=0x1c4a+0x1954+-0x359e,Zb=0x1*-0x2ec+-0x1d8f+-0x15*-0x18c,Qb=-0x24f4+0xb5a+-0x95*-0x2c,Bm=0x13*-0x18d+0x1b28*0x1+0x12*0x21,Jb=-0x234d+-0xfd8+-0x1*-0x3329,ew=0x17e2+0xb9b*0x3+-0x3aae,Ip=0x1*-0x1bbf+-0xb2*0x21+0x32b1*0x1,Bu=-0x78b+0x1*0xc10+-0x484,pe=0x9b+0x1d*-0x127+0x20d0,ke=0x3d*-0x67+-0x1c99+0x3525,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x1525e4,_0x3c6919,_0x55898e){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x1525e4,this['bindGroupF'+'ormats'][Dh]=_0x3c6919,this['vertexForm'+'at']=_0x55898e);}['hasUniform'](_0x24970a){for(let _0x484d45=0x53*0x71+-0x2*-0x1f4+-0x288b*0x1;_0x484d45<this['uniformFor'+'mats']['length'];_0x484d45++){const _0x50f62d=this['uniformFor'+'mats'][_0x484d45];if(_0x50f62d!=null&&_0x50f62d['get'](_0x24970a))return!(-0x453+0xf99+-0xb46);}return!(0x560+-0x1*-0x789+-0xe*0xec);}['hasTexture'](_0x1debf1){for(let _0x32cb73=0x45*0x4b+0x6f0+-0x14b*0x15;_0x32cb73<this['bindGroupF'+'ormats']['length'];_0x32cb73++){const _0x50347e=this['bindGroupF'+'ormats'][_0x32cb73];if(_0x50347e!=null&&_0x50347e['getTexture'](_0x1debf1))return!(0x51*0x3d+-0x7*0x3a9+0x1*0x652);}return!(0x68e*-0x1+0xfde+-0x94f);}['getVertexE'+'lement'](_0x1f8f7b){var _0x36d9e8;return(_0x36d9e8=this['vertexForm'+'at'])==null?void(-0xc*-0x175+-0x11*0x95+0x1d*-0x43):_0x36d9e8['elements']['find'](_0x2019e3=>_0x2019e3['name']===_0x1f8f7b);}['generateKe'+'y'](_0x41003c){var _0x376dc4;let _0x1513b0=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x41003c['isWebGPU']&&(_0x1513b0+=(_0x376dc4=this['vertexForm'+'at'])==null?void(0xe2a+0x1076+-0x1ea0):_0x376dc4['shaderProc'+'essingHash'+'String']),_0x1513b0;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',$w='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),Ww='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',$T='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',WT='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',$A='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',WA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':$w,'encodePS':v0,'endPS':Ww,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':$T,'opacityDitherPS':WT,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':$A,'reflectionEnvHQPS':WA,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0xd527a9){const _0x13a33e=b0['get'](_0xd527a9);return v['assert'](_0x13a33e),_0x13a33e;}function $E(_0x450b12,_0x201b5b){v['assert'](_0x201b5b),b0['get'](_0x450b12,()=>_0x201b5b);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x4ca926){const _0x5e6c7d=Array['from'](_0x4ca926)['sort']((_0x57f2ea,_0xd37db3)=>_0x57f2ea[-0x189*0x14+-0x1672+0x3526]>_0xd37db3[0x1ebb+0x1*-0x251a+0x65f]?0x29*-0x5+0x560*0x2+0x4f9*-0x2:-(-0x7c*0x1d+0x1840+-0xa33));return hn(JSON['stringify'](_0x5e6c7d));}}const WE=new Ot();class qE{constructor(_0x2945fa,_0x3f763f,_0x619403={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x2945fa),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x2945fa),this['name']=_0x2945fa,this['index']=_0x3f763f,Object['assign'](this,_0x619403),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x820e4;this['isShadow']?_0x820e4='SHADOW':this['isForward']?_0x820e4='FORWARD':this['index']===rl?_0x820e4='DEPTH':this['index']===Oa&&(_0x820e4='PICK'),this['defines']['set'](_0x820e4+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x335*0x6+0x23b+0x1103);const _0x440ff6=(_0x4c4908,_0x3b66b1,_0x5d6162)=>{const _0x31da32=this['allocate'](_0x4c4908,_0x5d6162);v['assert'](_0x31da32['index']===_0x3b66b1);};_0x440ff6('forward',gn,{'isForward':!(0x2331+0xa39*-0x1+-0x18f8)}),_0x440ff6('prepass',il),_0x440ff6('depth',rl),_0x440ff6('pick',Oa),_0x440ff6('shadow',Rp);}static['get'](_0x2f0976){return v['assert'](_0x2f0976),WE['get'](_0x2f0976,()=>new Ks());}['allocate'](_0x12d369,_0x28d025){let _0x3b68f9=this['passesName'+'d']['get'](_0x12d369);return _0x3b68f9===void(0x73b*0x1+-0x15c+-0x5df)&&(_0x3b68f9=new qE(_0x12d369,this['nextIndex'],_0x28d025),this['passesName'+'d']['set'](_0x3b68f9['name'],_0x3b68f9),this['passesInde'+'xed'][_0x3b68f9['index']]=_0x3b68f9,this['nextIndex']++),_0x3b68f9;}['getByIndex'](_0x1b10b9){const _0x2d1603=this['passesInde'+'xed'][_0x1b10b9];return v['assert'](_0x2d1603),_0x2d1603;}['getByName'](_0x43e3b8){return this['passesName'+'d']['get'](_0x43e3b8);}}function Is(_0x4c76f0,_0x57ee06,_0x1721f2,_0x1c2743,_0x22c9a0,_0x1e857e=!(0x1*0x1cc9+-0x1ac0+0x68*-0x5),_0x1e6457={}){v['assert'](!(0xb2*-0x11+0x1abd*-0x1+0x268f)),typeof _0x1e857e=='boolean'?_0x1e6457['useTransfo'+'rmFeedback']=_0x1e857e:typeof _0x1e857e=='object'&&(_0x1e6457={..._0x1e6457,..._0x1e857e});const _0x2c2050=ka(_0x4c76f0);let _0x1fcc91=_0x2c2050['getCachedS'+'hader'](_0x1c2743);return _0x1fcc91||(_0x1fcc91=new i0(_0x4c76f0,Mt['createDefi'+'nition'](_0x4c76f0,{..._0x1e6457,'name':_0x1c2743,'vertexCode':_0x57ee06,'fragmentCode':_0x1721f2,'attributes':_0x22c9a0})),_0x2c2050['setCachedS'+'hader'](_0x1c2743,_0x1fcc91)),_0x1fcc91;}class XE extends It{constructor(_0x2af01a,_0x5df2cd){super(),this['key']=_0x2af01a,this['shaderDefi'+'nition']=_0x5df2cd;}['generateKe'+'y'](_0x1c684e){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x216596,_0x19e60d){return this['shaderDefi'+'nition'];}}function jE(_0x4b6e61,_0x239eee){v['assert'](_0x4b6e61);const _0x14b842=_0x4b6e61['definition'],_0xedd3ee=(_0x14b842['name']??'shader')+'-id-'+_0x4b6e61['id'],_0x33c84a=new XE(_0xedd3ee,_0x14b842),_0x1eba6f='shader',_0x36c446=ka(_0x4b6e61['device']);v['assert'](!_0x36c446['isRegister'+'ed'](_0x1eba6f)),_0x36c446['register'](_0x1eba6f,_0x33c84a);const _0xd68702=_0x36c446['getProgram'](_0x1eba6f,{},_0x239eee);return _0x4b6e61['definition']['shaderLang'+'uage']===Ph&&(_0xd68702['meshUnifor'+'mBufferFor'+'mat']=_0x14b842['meshUnifor'+'mBufferFor'+'mat'],_0xd68702['meshBindGr'+'oupFormat']=_0x14b842['meshBindGr'+'oupFormat']),_0x36c446['unregister'](_0x1eba6f),_0xd68702;}const Dp=(_0x3ccd2e,_0x2c262c)=>{const _0x2c55a4=new Map(_0x3ccd2e['defines']);return _0x2c262c['cameraShad'+'erParams']['defines']['forEach']((_0x54be39,_0x1008fe)=>_0x2c55a4['set'](_0x1008fe,_0x54be39)),Ks['get'](_0x2c262c['device'])['getByIndex'](_0x2c262c['pass'])['defines']['forEach']((_0x363b79,_0x1357e3)=>_0x2c55a4['set'](_0x1357e3,_0x363b79)),_0x2c55a4;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(0x2*-0x8ba+0x1515+-0x3a0)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x4187ca){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x66b28d=_0x4187ca['device'];if(this['shader']=_0x4187ca,v['assert'](_0x4187ca),_0x66b28d['supportsUn'+'iformBuffe'+'rs']){const _0x187484=new Yc();this['shader']=jE(_0x4187ca,_0x187484);const _0x4f49bd=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x4f49bd&&(this['uniformBuf'+'fer']=new gp(_0x66b28d,_0x4f49bd,!(-0x1*0x1497+-0x1342+-0x1*-0x27da)));const _0x4871c4=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x4871c4),this['bindGroup']=new mp(_0x66b28d,_0x4871c4),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x5c78b5,_0x39bea4;(_0x5c78b5=this['uniformBuf'+'fer'])==null||_0x5c78b5['destroy'](),this['uniformBuf'+'fer']=null,(_0x39bea4=this['bindGroup'])==null||_0x39bea4['destroy'](),this['bindGroup']=null;}['render'](_0x501d0d,_0x2c5791){const _0x3be82e=this['shader']['device'];G['pushGpuMar'+'ker'](_0x3be82e,'QuadRender'),_0x501d0d&&(Va['set'](_0x3be82e['vx'],_0x3be82e['vy'],_0x3be82e['vw'],_0x3be82e['vh']),Ga['set'](_0x3be82e['sx'],_0x3be82e['sy'],_0x3be82e['sw'],_0x3be82e['sh']),_0x2c5791=_0x2c5791??_0x501d0d,_0x3be82e['setViewpor'+'t'](_0x501d0d['x'],_0x501d0d['y'],_0x501d0d['z'],_0x501d0d['w']),_0x3be82e['setScissor'](_0x2c5791['x'],_0x2c5791['y'],_0x2c5791['z'],_0x2c5791['w'])),_0x3be82e['setVertexB'+'uffer'](_0x3be82e['quadVertex'+'Buffer'],-0x911*-0x2+0xf*-0x1c+0x107e*-0x1);const _0x13fc82=this['shader'];if(_0x3be82e['setShader'](_0x13fc82),_0x3be82e['supportsUn'+'iformBuffe'+'rs']){_0x3be82e['setBindGro'+'up'](Dh,_0x3be82e['emptyBindG'+'roup']);const _0x4ff1a7=this['bindGroup'];_0x4ff1a7['update'](),_0x3be82e['setBindGro'+'up'](Xy,_0x4ff1a7);const _0x1aecc9=this['uniformBuf'+'fer'];_0x1aecc9?(_0x1aecc9['update'](pd),_0x3be82e['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x3be82e['setBindGro'+'up'](Eu,_0x3be82e['emptyBindG'+'roup']);}_0x3be82e['draw'](YE),_0x501d0d&&(_0x3be82e['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x3be82e['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x3be82e);}}class KE extends ds{constructor(_0x2c3d79,_0x27f250,_0x30c566,_0x19c340){super(_0x2c3d79),this['quad']=_0x27f250,this['rect']=_0x30c566,this['scissorRec'+'t']=_0x19c340;}['execute'](){const {device:_0x2b3331}=this;G['pushGpuMar'+'ker'](_0x2b3331,this['name']+':'+this['quad']['shader']['name']),_0x2b3331['setCullMod'+'e'](mt),_0x2b3331['setDepthSt'+'ate'](as['NODEPTH']),_0x2b3331['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x2b3331);}}const ZE=new Q();function dn(_0x5127d1,_0x21ef2e,_0x36c21d,_0x36104d,_0x35ff92){v['assert'](_0x21ef2e!==void(0xd*-0xe4+-0x2383+-0x2f17*-0x1));const _0x11181a=arguments[0x102+0x1ffe+-0x20fb];v['call'](()=>{_0x11181a!==void(-0x1*0x39a+0x526+-0x18c)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x2a51a8=new Nu(_0x36c21d);_0x36104d||(_0x36104d=ZE,_0x36104d['x']=-0x49a+0x23d1+-0x1f37,_0x36104d['y']=-0xd5*-0x2+0x16*-0xd9+0x10fc,_0x36104d['z']=_0x21ef2e?_0x21ef2e['width']:_0x5127d1['width'],_0x36104d['w']=_0x21ef2e?_0x21ef2e['height']:_0x5127d1['height']);const _0x2c5fbc=new KE(_0x5127d1,_0x2a51a8,_0x36104d,_0x35ff92);_0x2c5fbc['init'](_0x21ef2e),_0x2c5fbc['colorOps']['clear']=!(0x42*-0x75+0x911+-0x92*-0x25),_0x2c5fbc['depthStenc'+'ilOps']['clearDepth']=!(0x13ab+0x10*-0x191+0x2*0x2b3),_0x5127d1['isWebGPU']&&_0x21ef2e===null&&_0x5127d1['samples']>0x1ed8+-0xaf5+0xa*-0x1fd&&(_0x2c5fbc['colorOps']['store']=!(-0x13a8+-0x1669+0x2a11)),_0x2c5fbc['render'](),_0x2a51a8['destroy']();}class zm{constructor(_0x16fd5e,_0x28848d,_0x7adb44){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x16fd5e,this['dynamic']=_0x28848d,this['batchGroup'+'Id']=_0x7adb44);}['destroy'](_0x4d89a4,_0x227e09){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x4d89a4,_0x227e09),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x17fc9c,_0x3bd69c){for(let _0x1e5f5c=-0x10fc+-0xdeb*0x2+0x2cd2;_0x1e5f5c<_0x3bd69c['length'];_0x1e5f5c++){const _0x19a439=_0x17fc9c['layers']['getLayerBy'+'Id'](_0x3bd69c[_0x1e5f5c]);_0x19a439&&_0x19a439['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x41d916,_0x164181){for(let _0x3c1609=-0x4c*-0x5c+-0x27b*0xb+-0x7;_0x3c1609<_0x164181['length'];_0x3c1609++){const _0x4c61f1=_0x41d916['layers']['getLayerBy'+'Id'](_0x164181[_0x3c1609]);_0x4c61f1&&_0x4c61f1['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x9d8+0x3*-0x9ef+0x33*0xc7]['aabb']);for(let _0x1be5c6=0x1539+-0x1*-0x1835+-0x1d*0x191;_0x1be5c6<this['origMeshIn'+'stances']['length'];_0x1be5c6++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x1be5c6]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0xbf8+-0x3f5*0x4+-0x4c*-0xd;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x233c18,_0x210182,_0x46d11f,_0x504d3d,_0x25f4cf=[Fi]){c(this,'_ui',!(-0x201*-0xd+0x65*0x59+0x3*-0x1463)),c(this,'_sprite',!(0x1f*0x97+0x2635+-0x387d*0x1)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x233c18,this['name']=_0x210182,this['dynamic']=_0x46d11f,this['maxAabbSiz'+'e']=_0x504d3d,this['layers']=_0x25f4cf);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x3ba6ea){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(0x48*-0x71+0x149*-0x16+0x3c0e),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x3e*-0x43+-0x151*0xb+-0xdf*0x2),this['_updateBef'+'oreCull']=!(-0x5c1*0x4+0x2e*-0xa7+0x3506),_0x3ba6ea&&this['initSkin'](_0x3ba6ea));}set['rootBone'](_0x26341b){this['_rootBone']=_0x26341b;}get['rootBone'](){return this['_rootBone'];}['init'](_0x1ccff3,_0x505cc6){const _0x5d2b96=_0x505cc6*(-0x4fc*0x1+-0x2621+-0x73*-0x60);let _0x255d06=Math['ceil'](Math['sqrt'](_0x5d2b96));_0x255d06=N['roundUp'](_0x255d06,0x1*0xb5d+-0x2f9+-0x861);const _0x14f6a7=Math['ceil'](_0x5d2b96/_0x255d06);this['boneTextur'+'e']=new he(_0x1ccff3,{'width':_0x255d06,'height':_0x14f6a7,'format':Ke,'mipmaps':!(0x2200+-0x21c+-0x1fe3),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x255d06,_0x14f6a7,(-0x1a65+-0x1593*-0x1+0x4d3)/_0x255d06,(-0x67d+-0x805*-0x3+-0x3*0x5db)/_0x14f6a7],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x2aa616,_0x130a10){this['rootBone']=_0x2aa616;const _0x178314=this['skin'],_0x3354d2=[];for(let _0x338fe3=0x14f2+0xa57+0x1*-0x1f49;_0x338fe3<_0x178314['boneNames']['length'];_0x338fe3++){const _0x2512c5=_0x178314['boneNames'][_0x338fe3];let _0x27ae31=_0x2aa616['findByName'](_0x2512c5);_0x27ae31||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x2512c5+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x130a10['name']+(',\x20rootBone'+':\x20')+_0x2aa616['name']),_0x27ae31=_0x130a10),_0x3354d2['push'](_0x27ae31);}this['bones']=_0x3354d2;}['initSkin'](_0x175af6){this['skin']=_0x175af6,this['bones']=[];const _0x4c36e7=_0x175af6['inverseBin'+'dPose']['length'];this['init'](_0x175af6['device'],_0x4c36e7),this['matrices']=[];for(let _0x33cca7=0x1f5b+0xcdf+-0x2c3a;_0x33cca7<_0x4c36e7;_0x33cca7++)this['matrices'][_0x33cca7]=new q();}['uploadBone'+'s'](_0x273698){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x335ca6,_0x923568){if(this['_skinUpdat'+'eIndex']!==_0x923568){this['_skinUpdat'+'eIndex']=_0x923568,Um['copy'](_0x335ca6['getWorldTr'+'ansform']())['invert']();for(let _0x59ae71=this['bones']['length']-(0x7*-0x298+0x289*-0x2+0x173b);_0x59ae71>=0x10a6+-0x6a3+-0xa03;_0x59ae71--)this['matrices'][_0x59ae71]['mulAffine2'](Um,this['bones'][_0x59ae71]['getWorldTr'+'ansform']()),this['matrices'][_0x59ae71]['mulAffine2'](this['matrices'][_0x59ae71],this['skin']['inverseBin'+'dPose'][_0x59ae71]);}}['updateMatr'+'ices'](_0x49bc9f,_0x1ad615){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x49bc9f,_0x1ad615);}['updateMatr'+'ixPalette'](_0x5f5ca8,_0x5e2691){this['_updateMat'+'rices'](_0x5f5ca8,_0x5e2691);const _0x4e4a76=this['matrixPale'+'tte'],_0x4ca97d=this['bones']['length'];for(let _0x284240=0x903+0x3*0xcf1+0xd*-0x3ae;_0x284240<_0x4ca97d;_0x284240++){const _0x2b289d=this['matrices'][_0x284240]['data'],_0x3054fe=_0x284240*(0x10f2+0x29*0x37+-0x1*0x19b5);_0x4e4a76[_0x3054fe]=_0x2b289d[0x12e4+-0x66e*0x6+0x13b0],_0x4e4a76[_0x3054fe+(-0x1efd+0x1f2f*-0x1+0x3e2d)]=_0x2b289d[0x2*0x1382+-0x2b5+-0x244b],_0x4e4a76[_0x3054fe+(-0x449*-0x8+-0x3*-0x5d1+-0x33b9)]=_0x2b289d[0xfec+0xb8d*0x1+-0x1b71],_0x4e4a76[_0x3054fe+(-0x26fa+0x241c+0x2e1)]=_0x2b289d[-0x384+0x129e+0x2f*-0x52],_0x4e4a76[_0x3054fe+(0x1c9f+-0x1*0x65f+-0xb1e*0x2)]=_0x2b289d[0x156c+0x17c6+-0x2d31],_0x4e4a76[_0x3054fe+(0x19e6+-0x27*0x12+-0x1*0x1723)]=_0x2b289d[-0x200f+-0xb*-0x1db+0xbab],_0x4e4a76[_0x3054fe+(0x2*-0xfa9+-0x13f8+0x3350)]=_0x2b289d[-0x18f3*-0x1+-0x1b56+-0x9b*-0x4],_0x4e4a76[_0x3054fe+(-0x1df2+-0x2*0xaed+0x33d3)]=_0x2b289d[0x1e3d+-0x234a+0x51a],_0x4e4a76[_0x3054fe+(-0x13*0x55+-0x35f*-0x9+0x30*-0x80)]=_0x2b289d[0x2234+-0x1da*-0x3+0x10*-0x27c],_0x4e4a76[_0x3054fe+(0x25f3+-0x1*-0x16e6+-0x79a*0x8)]=_0x2b289d[-0x4f2+0x89+0x46f*0x1],_0x4e4a76[_0x3054fe+(-0x20df+0x1029*0x2+0x1*0x97)]=_0x2b289d[-0x7f6+0x2f6*-0x4+0x1fc*0xa],_0x4e4a76[_0x3054fe+(0x24b*0x1+0xd*0x2f7+-0x28cb)]=_0x2b289d[-0x877*-0x3+0x3*-0x255+-0x8*0x24b];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x3d491b,_0x54e9e2,_0x38c5ad){super();const _0xe936aa=_0x54e9e2['length'];this['init'](_0x3d491b,_0xe936aa),this['device']=_0x3d491b,this['rootNode']=_0x38c5ad,this['bones']=_0x54e9e2;}['updateMatr'+'ices'](_0x468217,_0x44360a){}['updateMatr'+'ixPalette'](_0x205aa1,_0x4e4742){const _0x4cfcbb=this['matrixPale'+'tte'],_0x4cc87b=this['bones']['length'];for(let _0xb3199c=0x1*0xcc9+0xe71+-0x1b3a;_0xb3199c<_0x4cc87b;_0xb3199c++){const _0x1f586b=this['bones'][_0xb3199c]['getWorldTr'+'ansform']()['data'],_0xd62d7=_0xb3199c*(0x3*0x9b0+-0x20d1+-0x7*-0x8b);_0x4cfcbb[_0xd62d7]=_0x1f586b[-0x7*0x31d+-0xb*0x315+0x1bd9*0x2],_0x4cfcbb[_0xd62d7+(-0x1*0x2629+-0x2f*-0x19+0x2193)]=_0x1f586b[-0x1*-0x11b3+0x23a+-0x13e9],_0x4cfcbb[_0xd62d7+(0x1d9d+0x228e*-0x1+-0xb5*-0x7)]=_0x1f586b[-0x170c+0x2337+-0xc23],_0x4cfcbb[_0xd62d7+(0xa44+-0x22ad+0x412*0x6)]=_0x1f586b[-0xbdd+0x1a*-0x8f+0x43*0x65],_0x4cfcbb[_0xd62d7+(-0x1c*0x100+-0xed*0x13+0x2d9b)]=_0x1f586b[0xfa1+0xcdd*0x1+-0x1c7d],_0x4cfcbb[_0xd62d7+(-0x18c9+0x7*0x227+0x9bd)]=_0x1f586b[-0x26e*0xb+0x23be+-0x8ff],_0x4cfcbb[_0xd62d7+(-0xf9*-0x1b+0xc5f*0x1+-0x269c)]=_0x1f586b[-0x33*-0xb9+-0x18ba+-0x8*0x183],_0x4cfcbb[_0xd62d7+(0x6*0x238+0x86*0x47+-0x3273)]=_0x1f586b[-0x2*0x50b+0x29*0x98+-0xe35*0x1],_0x4cfcbb[_0xd62d7+(-0x25f*0xe+-0x23bf+0x1*0x44f9)]=_0x1f586b[0x71+-0x1ba7+0x1b38],_0x4cfcbb[_0xd62d7+(0x150a+-0x253a+0x1*0x1039)]=_0x1f586b[0x1265+0x2*0xda1+-0x2da1],_0x4cfcbb[_0xd62d7+(-0x189*-0xd+0x19f+-0x3*0x72e)]=_0x1f586b[-0x1*-0xee6+-0x1fa1*0x1+-0x35*-0x51],_0x4cfcbb[_0xd62d7+(-0xbd0+0xd8c*-0x2+0x3b*0xa9)]=_0x1f586b[-0x1*0x1237+-0x1*-0x2257+0xbb*-0x16];}this['uploadBone'+'s'](this['device']);}}let QE=-0x165*0x2+0x1e15+-0x1b4b;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x51*0x3b+-0x24a4+-0x30*-0x127),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=-0x90a+-0x22*-0x47+-0x64,this['maxIndices']=-0x15d9+0x26c9+-0x10f0,this['vertexCoun'+'t']=-0x2f+0x480+-0x451,this['indexCount']=-0x1754+0xc4d+-0x3ad*-0x3,this['vertexStre'+'amsUpdated']=!(0xd93*0x1+-0x1370+0x5de),this['indexStrea'+'mUpdated']=!(-0x430*0x5+0x24f6+-0x1005),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x368241,_0x38be46){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x368241,'Vertex\x20str'+'eam\x20'+_0x38be46+'\x20has\x20'+_0x368241+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x368241;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x1d7b+0x9*0x135+-0x3b*0xaf),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x9b8+0x1*-0x193b+0x2*0x7c3),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x1*0x23aa+-0x22ac+0x4658),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x2367+0xd52+0x1*-0x30b5);class JE{constructor(_0xc5af12,_0x4f08a0,_0x226953,_0x47a4d0,_0x5af489){this['data']=_0xc5af12,this['componentC'+'ount']=_0x4f08a0,this['dataType']=_0x226953,this['dataTypeNo'+'rmalize']=_0x47a4d0,this['asInt']=_0x5af489;}}class Ie extends Gc{constructor(_0x3989e8,_0x2db07b){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x115*-0x2+-0x149a+0x1270),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0x1cf*0x1+-0xd*0xf4+0x54b*0x2)),c(this,'_storageVe'+'rtex',!(-0x490+-0x334+0x7c5)),(this['id']=QE++,v['assert'](_0x3989e8,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x3989e8,this['_storageIn'+'dex']=(_0x2db07b==null?void(0x14*-0x82+-0x2233+-0x2c5b*-0x1):_0x2db07b['storageInd'+'ex'])||!(0x1df5+0xb*-0x13d+-0x25*0x71),this['_storageVe'+'rtex']=(_0x2db07b==null?void(-0xddf+0x371*-0x1+0x1150):_0x2db07b['storageVer'+'tex'])||!(0x1484+0x1e15+-0x3298*0x1));}static['fromGeomet'+'ry'](_0x515994,_0x1fdbeb,_0x2705a7={}){const _0xcc60cf=new Ie(_0x515994,_0x2705a7),{positions:_0x450430,normals:_0x33df3c,tangents:_0x5d8520,colors:_0x595d56,uvs:_0x2697eb,uvs1:_0x1cac4c,blendIndices:_0x500f34,blendWeights:_0x489266,indices:_0x6c0832}=_0x1fdbeb;return _0x450430&&_0xcc60cf['setPositio'+'ns'](_0x450430),_0x33df3c&&_0xcc60cf['setNormals'](_0x33df3c),_0x5d8520&&_0xcc60cf['setVertexS'+'tream'](Zs,_0x5d8520,-0x3bf*-0x7+-0xa*-0x21e+0xfcb*-0x3),_0x595d56&&_0xcc60cf['setColors3'+'2'](_0x595d56),_0x2697eb&&_0xcc60cf['setUvs'](-0x12cc*-0x1+-0xcd6*-0x1+-0x1fa2,_0x2697eb),_0x1cac4c&&_0xcc60cf['setUvs'](-0x1d4f+-0x2686+0x43d6,_0x1cac4c),_0x500f34&&_0xcc60cf['setVertexS'+'tream'](qt,_0x500f34,0x1*-0x262d+0x5*-0x587+0xb*0x5fc,_0x500f34['length']/(-0xa42*-0x1+-0x1*0x231d+-0x1*-0x18df),Kr),_0x489266&&_0xcc60cf['setVertexS'+'tream'](Ys,_0x489266,0x1*0xb9e+0x1f3d+-0x2ad7*0x1),_0x6c0832&&_0xcc60cf['setIndices'](_0x6c0832),_0xcc60cf['update'](),_0xcc60cf;}set['morph'](_0x4d6a5b){_0x4d6a5b!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x4d6a5b,_0x4d6a5b&&_0x4d6a5b['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x34df88){this['_aabb']=_0x34df88,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x594753=this['morph'];_0x594753&&(this['morph']=null,_0x594753['refCount']<0x2197+-0x6be+-0x35b*0x8&&_0x594753['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x169288=0x1153*0x1+-0x501*0x3+0x8*-0x4a;_0x169288<this['indexBuffe'+'r']['length'];_0x169288++)this['_destroyIn'+'dexBuffer'](_0x169288);this['indexBuffe'+'r']['length']=-0x3*-0x6d7+-0xe47+-0x63e,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x530dd4){this['indexBuffe'+'r'][_0x530dd4]&&(this['indexBuffe'+'r'][_0x530dd4]['destroy'](),this['indexBuffe'+'r'][_0x530dd4]=null);}['_initBoneA'+'abbs'](_0x3ee80b){this['boneAabb']=[],this['boneUsed']=[];let _0x21c9ca,_0x26054e,_0x4c27b9,_0x1736ec,_0x43fc55;const _0x43b8f9=[],_0x2ed594=[],_0x487a6f=this['boneUsed'],_0x50917f=this['skin']['boneNames']['length'];let _0x39ecad,_0x778413,_0x54b4ed;for(let _0xae131f=0x15e*-0x7+-0x7*-0x534+-0x1ada;_0xae131f<_0x50917f;_0xae131f++)_0x43b8f9[_0xae131f]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x2ed594[_0xae131f]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x3908db=new go(this['vertexBuff'+'er']),_0x59cb6e=_0x3908db['element'][He],_0x3f9ca1=_0x3908db['element'][Ys],_0x38f27b=_0x3908db['element'][qt],_0xc69559=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0xbd8c66=0x20b5*-0x1+-0x1507+0x35bc;_0xbd8c66<_0xc69559;_0xbd8c66++){for(let _0x4261bf=-0x37f*0x6+-0x182a+0x2d24;_0x4261bf<-0xba9+-0x2b*0xc1+0x2c18;_0x4261bf++)if(_0x3f9ca1['array'][_0x3f9ca1['index']+_0x4261bf]>-0x120c+-0x1d8e+0x12*0x2a5){const _0x27376e=_0x38f27b['array'][_0x38f27b['index']+_0x4261bf];if(_0x487a6f[_0x27376e]=!(-0x1b86+0x16ea+0x49c),_0x21c9ca=_0x59cb6e['array'][_0x59cb6e['index']],_0x26054e=_0x59cb6e['array'][_0x59cb6e['index']+(0x7*0x514+-0x133e+-0x56f*0x3)],_0x4c27b9=_0x59cb6e['array'][_0x59cb6e['index']+(-0xd81*0x1+-0x1fcd*-0x1+-0x124a)],_0x1736ec=_0x2ed594[_0x27376e],_0x43fc55=_0x43b8f9[_0x27376e],_0x43fc55['x']>_0x21c9ca&&(_0x43fc55['x']=_0x21c9ca),_0x43fc55['y']>_0x26054e&&(_0x43fc55['y']=_0x26054e),_0x43fc55['z']>_0x4c27b9&&(_0x43fc55['z']=_0x4c27b9),_0x1736ec['x']<_0x21c9ca&&(_0x1736ec['x']=_0x21c9ca),_0x1736ec['y']<_0x26054e&&(_0x1736ec['y']=_0x26054e),_0x1736ec['z']<_0x4c27b9&&(_0x1736ec['z']=_0x4c27b9),_0x3ee80b){let _0x58c400=_0x39ecad=_0x21c9ca,_0x649635=_0x778413=_0x26054e,_0x2e1868=_0x54b4ed=_0x4c27b9;for(let _0x164b5b=-0x2*0x125+0x19*0x133+0x33*-0x8b;_0x164b5b<_0x3ee80b['length'];_0x164b5b++){const _0x4d39da=_0x3ee80b[_0x164b5b],_0x22d533=_0x4d39da['deltaPosit'+'ions'][_0xbd8c66*(-0x2b*0x68+0x1f58+-0xddd)],_0x321090=_0x4d39da['deltaPosit'+'ions'][_0xbd8c66*(-0x654+-0x227c+0x28d3)+(0x1e77+-0x2154+0x2de)],_0x1b71e0=_0x4d39da['deltaPosit'+'ions'][_0xbd8c66*(0x2089*-0x1+-0x3*0x38+0x2134)+(-0x2202+0x1*-0x163d+0x3841)];_0x22d533<-0x1108*-0x2+0x7f5*-0x1+0x1*-0x1a1b?_0x58c400+=_0x22d533:_0x39ecad+=_0x22d533,_0x321090<0x3*0x59c+-0x1b9+0xf1b*-0x1?_0x649635+=_0x321090:_0x778413+=_0x321090,_0x1b71e0<-0x41a+0x10*0x1+-0x2*-0x205?_0x2e1868+=_0x1b71e0:_0x54b4ed+=_0x1b71e0;}_0x43fc55['x']>_0x58c400&&(_0x43fc55['x']=_0x58c400),_0x43fc55['y']>_0x649635&&(_0x43fc55['y']=_0x649635),_0x43fc55['z']>_0x2e1868&&(_0x43fc55['z']=_0x2e1868),_0x1736ec['x']<_0x39ecad&&(_0x1736ec['x']=_0x39ecad),_0x1736ec['y']<_0x778413&&(_0x1736ec['y']=_0x778413),_0x1736ec['z']<_0x54b4ed&&(_0x1736ec['z']=_0x54b4ed);}}_0x3908db['next']();}const _0x354d4=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x228f6b=>_0x228f6b['name']===He);if(_0x354d4&&_0x354d4['normalize']){const _0x5c9784=((()=>{switch(_0x354d4['dataType']){case Rc:return _0x28bfca=>Math['max'](_0x28bfca/(0x31*0x20+-0x260f+0x206e),-(-0x2cb+0x2592+-0x22c6));case Kr:return _0x1978ad=>_0x1978ad/(-0x1*-0x62b+0x579+-0xaa5);case Ic:return _0x2ebee8=>Math['max'](_0x2ebee8/(0x8544+-0x3*-0x3a17+0xe*-0xcd3),-(0x12da+0x24e4+0x13*-0x2ef));case el:return _0x8598a5=>_0x8598a5/(0x13026+0x1ecc0+-0x21ce7);default:return _0x391a8a=>_0x391a8a;}})());for(let _0x20acc1=0x1*-0xc21+0x732+0x1*0x4ef;_0x20acc1<_0x50917f;_0x20acc1++)if(_0x487a6f[_0x20acc1]){const _0x89c014=_0x43b8f9[_0x20acc1],_0x573471=_0x2ed594[_0x20acc1];_0x89c014['set'](_0x5c9784(_0x89c014['x']),_0x5c9784(_0x89c014['y']),_0x5c9784(_0x89c014['z'])),_0x573471['set'](_0x5c9784(_0x573471['x']),_0x5c9784(_0x573471['y']),_0x5c9784(_0x573471['z']));}}for(let _0x3f66a5=0x242*-0x2+0x31*0x7d+-0x1369;_0x3f66a5<_0x50917f;_0x3f66a5++){const _0x5d8bfb=new _e();_0x5d8bfb['setMinMax'](_0x43b8f9[_0x3f66a5],_0x2ed594[_0x3f66a5]),this['boneAabb']['push'](_0x5d8bfb);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x33b*0x6+0xb32+0x4*0x20c&&this['indexBuffe'+'r'][-0x3c5+0x1*0xa13+-0x2*0x327]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x26e5+-0x7*0x4f3+0x4*-0x110]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x2680+0x159*-0x19+0x4831*0x1]['numIndices']));}['clear'](_0x37b113,_0x150386,_0x32dc91=0xe82*-0x1+-0x1*0x1558+0x23da,_0x3e9645=-0x7ed+0x465+-0x388*-0x1){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x10e5+0x1ee7+0xa3*-0x16),this['_geometryD'+'ata']['maxVertice'+'s']=_0x32dc91,this['_geometryD'+'ata']['maxIndices']=_0x3e9645,this['_geometryD'+'ata']['verticesUs'+'age']=_0x37b113?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x150386?jt:Th;}['setVertexS'+'tream'](_0x148fcf,_0x4e8d2b,_0x153ec9,_0x58679a,_0x573235=Ee,_0x40f07f=!(0x26c+0x14b8+-0x1*0x1723),_0x5d23c6=!(-0x18a3*0x1+0x1fb7+-0x713)){this['_initGeome'+'tryData']();const _0x387886=_0x58679a||_0x4e8d2b['length']/_0x153ec9;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x387886,_0x148fcf),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x25c7+-0x10*-0xbd+-0x1*0x3197),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x148fcf]=new JE(_0x4e8d2b,_0x153ec9,_0x573235,_0x40f07f,_0x5d23c6);}['getVertexS'+'tream'](_0x5b8e4e,_0x37a94a){let _0x3c8963=-0x1dfc+-0x1*0x1b41+0x393d,_0x3b45ae=!(-0x1*0x1349+0xc9c+0x6ae);if(this['_geometryD'+'ata']){const _0x5c51b4=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5b8e4e];_0x5c51b4&&(_0x3b45ae=!(-0x261c+0x119*0x17+-0x1*-0xcdd),_0x3c8963=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x37a94a)?_0x37a94a['set'](_0x5c51b4['data']):(_0x37a94a['length']=0x2*0x12aa+-0x1777+-0xddd,_0x37a94a['push'](_0x5c51b4['data'])));}return _0x3b45ae||this['vertexBuff'+'er']&&(_0x3c8963=new go(this['vertexBuff'+'er'])['readData'](_0x5b8e4e,_0x37a94a)),_0x3c8963;}['setPositio'+'ns'](_0x37ea02,_0x5d15b9=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x5dba09){this['setVertexS'+'tream'](He,_0x37ea02,_0x5d15b9,_0x5dba09,Ee,!(0x1*0x2c2+-0x2cb+0x1*0xa));}['setNormals'](_0x18d186,_0x51b82d=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x4a34b6){this['setVertexS'+'tream'](Yt,_0x18d186,_0x51b82d,_0x4a34b6,Ee,!(0x16da+0x36a+0x3*-0x8c1));}['setUvs'](_0x2fd7c9,_0x11eab0,_0x29d469=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x47b3ad){this['setVertexS'+'tream'](om+_0x2fd7c9,_0x11eab0,_0x29d469,_0x47b3ad,Ee,!(0x49*-0x3b+0x5*0x437+-0x43f));}['setColors'](_0x2733df,_0xa3e7ad=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x5a7266){this['setVertexS'+'tream'](At,_0x2733df,_0xa3e7ad,_0x5a7266,Ee,!(0x1787+-0x4e7+-0x129f));}['setColors3'+'2'](_0x14a608,_0x5b1105){this['setVertexS'+'tream'](At,_0x14a608,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x5b1105,Kr,!(-0x671*0x1+-0x2385+-0x83*-0x52));}['setIndices'](_0x4bdbfa,_0x45857e){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x1304+-0x6c4+0x620*-0x2),this['_geometryD'+'ata']['indices']=_0x4bdbfa,this['_geometryD'+'ata']['indexCount']=_0x45857e||_0x4bdbfa['length'];}['getPositio'+'ns'](_0x5c6097){return this['getVertexS'+'tream'](He,_0x5c6097);}['getNormals'](_0x246c73){return this['getVertexS'+'tream'](Yt,_0x246c73);}['getUvs'](_0xed294f,_0x41070f){return this['getVertexS'+'tream'](om+_0xed294f,_0x41070f);}['getColors'](_0x5cb713){return this['getVertexS'+'tream'](At,_0x5cb713);}['getIndices'](_0x4ff51f){let _0x347ce2=-0x185a+-0x246e+-0xf32*-0x4;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x162e75=this['_geometryD'+'ata']['indices'];if(_0x347ce2=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x4ff51f))_0x4ff51f['set'](_0x162e75);else{_0x4ff51f['length']=-0xb*-0x2a9+0x1759+-0x349c;for(let _0x3dc6e6=-0x15a5+-0x2070+0x3615,_0x1cbe42=_0x162e75['length'];_0x3dc6e6<_0x1cbe42;_0x3dc6e6++)_0x4ff51f['push'](_0x162e75[_0x3dc6e6]);}}else this['indexBuffe'+'r']['length']>0x89*-0x3+0x1f93*0x1+-0x1df8&&this['indexBuffe'+'r'][0x2e3*0x4+0xbc5+0x1751*-0x1]&&(_0x347ce2=this['indexBuffe'+'r'][-0x50*-0x5d+-0x165*0xc+-0xc54]['readData'](_0x4ff51f));return _0x347ce2;}['update'](_0x2b5ab8=Ms,_0x32748=!(-0x2a*-0x8a+-0x99f*-0x3+0x36f*-0xf)){if(this['_geometryD'+'ata']){if(_0x32748){const _0x3d018c=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x3d018c&&_0x3d018c['componentC'+'ount']===-0x1289+0x15e6*-0x1+0x2872&&(this['_aabb']['compute'](_0x3d018c['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x5f4878=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x5f4878=!(-0xdc8+0x311*-0x1+0x1*0x10d9),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x5f4878&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2f3bbc=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2f3bbc=!(-0x238a*-0x1+-0x2d*0x26+0x737*-0x4),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2f3bbc&&this['indexBuffe'+'r']['length']>-0x116f+0xf1e+0x251&&this['indexBuffe'+'r'][-0x1473+0x66d*-0x2+-0x1f*-0x113]&&(this['indexBuffe'+'r'][0xb64+-0x838*-0x3+-0x240c]['destroy'](),this['indexBuffe'+'r'][0x234f+-0x11*-0x1b1+0x52*-0xc8]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0x4*-0x8ba+0x50c+0x4*-0x9fd]['type']=_0x2b5ab8,this['indexBuffe'+'r']['length']>0x1*-0x265+0x236a+-0x2105&&this['indexBuffe'+'r'][0x16*-0x14e+-0x811+-0x24c5*-0x1]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x8da+0x25de+-0x1d04]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x1388+0x7a*-0x3a+-0xbcb*-0x4]['indexed']=!(-0x2599+0x5*0x5+0x2580)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x4*0x664+0x2653*0x1+-0xcc3]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x1460+-0x1482+-0x1*-0x28e2]['indexed']=!(-0x1*0x1ac4+0x1*-0x493+0x1f58)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x122*-0x21+-0x1f45+0x44a7,this['_geometryD'+'ata']['indexCount']=0x183b+-0x1e6c+0x631,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0xe*-0x29a+0x2326+0x6d*0x3),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0xb*-0x1ff+-0x11*0x1c6+0x1cc*0x1d),this['_geometryD'+'ata']['recreate']=!(0x4ad+-0x2698+0x21ec),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x3f9c05){const _0x33e3dc=[];for(const _0x390b0e in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x413dc1=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x390b0e];_0x33e3dc['push']({'semantic':_0x390b0e,'components':_0x413dc1['componentC'+'ount'],'type':_0x413dc1['dataType'],'normalize':_0x413dc1['dataTypeNo'+'rmalize'],'asInt':_0x413dc1['asInt']});}return new Et(this['device'],_0x33e3dc,_0x3f9c05);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x34e4ac=this['_geometryD'+'ata']['maxVertice'+'s'],_0x151814=this['_buildVert'+'exFormat'](_0x34e4ac);this['vertexBuff'+'er']=new os(this['device'],_0x151814,_0x34e4ac,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x46a601=new go(this['vertexBuff'+'er']),_0x91f7d8=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x1f6559 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x32e6c7=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1f6559];_0x46a601['writeData'](_0x1f6559,_0x32e6c7['data'],_0x91f7d8),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1f6559];}_0x46a601['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0xd*-0x1a5+-0xc6a*0x2+-0x3*-0xf67||!this['indexBuffe'+'r'][-0x10*0x239+0x7*-0xb5+-0x2883*-0x1]){const _0x3f722a=this['_geometryD'+'ata']['maxVertice'+'s'],_0x4b7712=_0x3f722a>-0x91af+0xef3*0x21+-0x1*0x5ba5||_0x3f722a===-0x3*0x57+-0x1bda+0x1cdf?nr:Pi,_0x1515f0=this['_storageIn'+'dex']?{'storage':!(-0x1*0x1b3d+-0x16*0xc8+0x2c6d)}:void(-0x114d+-0x134b+-0x926*-0x4);this['indexBuffe'+'r'][0x1*-0x1fa5+-0x611+0x25b6]=new lr(this['device'],_0x4b7712,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x21f+0x45e+0x73*-0x5),_0x1515f0);}const _0x2f108f=this['_geometryD'+'ata']['indices'];_0x2f108f&&(this['indexBuffe'+'r'][0xd82+-0x1902+-0x2e0*-0x4]['writeData'](_0x2f108f,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x45c442){_0x45c442===Dr?this['generateWi'+'reframe']():_0x45c442===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x1a91*-0x1+0x7dd+-0x226e,'indexed':!(-0x9f*-0x3d+-0x371*-0x7+-0x3df9)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x56c7f6=this['vertexBuff'+'er']['numVertice'+'s'],_0x3f8314=[];let _0x7b331c;if(this['indexBuffe'+'r']['length']>-0x3*-0x67+-0xd3*-0x25+-0x1fb4&&this['indexBuffe'+'r'][0xa*-0x21d+-0x1b40+-0x16*-0x233]){const _0x28ae0c=[[0x1807+0xf29+-0x2730,-0x71+-0x642+0x6b4],[-0x1aab+-0x1b6b*-0x1+-0x1*0xbf,0x59*0x5b+0x1fbe+0x3f5f*-0x1],[0x5bd+-0xdae+-0xb9*-0xb,0x2362+0xcbc*-0x2+-0x6*0x1a7]],_0xf90a52=this['primitive'][yo]['base'],_0x2736cb=this['primitive'][yo]['count'],_0x45a046=this['indexBuffe'+'r'][yo],_0x181cad=new Lh[_0x45a046['format']](_0x45a046['storage']),_0x3ed8a1=new Set();for(let _0x22d388=_0xf90a52;_0x22d388<_0xf90a52+_0x2736cb;_0x22d388+=-0x16b6+0x1*-0x1b66+-0x15*-0x263)for(let _0x48ba93=0x3b*-0x13+0x11a4*-0x2+0x47*0x8f;_0x48ba93<-0x18ce+-0x8a1*0x3+-0x6e*-0x76;_0x48ba93++){const _0x599a7f=_0x181cad[_0x22d388+_0x28ae0c[_0x48ba93][-0x1bc4*0x1+0xe84+0xd4*0x10]],_0x2b12ea=_0x181cad[_0x22d388+_0x28ae0c[_0x48ba93][-0x2fc+-0x20ee+-0x23eb*-0x1]],_0x3dad3f=_0x599a7f>_0x2b12ea?_0x2b12ea*_0x56c7f6+_0x599a7f:_0x599a7f*_0x56c7f6+_0x2b12ea;_0x3ed8a1['has'](_0x3dad3f)||(_0x3ed8a1['add'](_0x3dad3f),_0x3f8314['push'](_0x599a7f,_0x2b12ea));}_0x7b331c=_0x45a046['format'];}else{for(let _0x26cb63=0x3*-0x3e8+-0xe80+0x1a38;_0x26cb63<_0x56c7f6;_0x26cb63+=-0x3*0xbce+-0x1d*-0x12e+0x1*0x137)_0x3f8314['push'](_0x26cb63,_0x26cb63+(-0x1028+-0x31d*-0xb+-0x90b*0x2),_0x26cb63+(-0x1c5a+0x1*0x17e7+-0x39*-0x14),_0x26cb63+(-0x307*0x1+-0xda9*0x2+0x1e5b),_0x26cb63+(0x488+-0x1*-0x2b+-0x4b1),_0x26cb63);_0x7b331c=_0x3f8314['length']>0x104*-0xd+0x4fa1+0xbd92?nr:Pi;}const _0x239fdd=new lr(this['vertexBuff'+'er']['device'],_0x7b331c,_0x3f8314['length']);new Lh[_0x239fdd['format']](_0x239fdd['storage'])['set'](_0x3f8314),_0x239fdd['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x3f8314['length'],'indexed':!(-0x7c9*0x3+0xaf4+0x7f*0x19)},this['indexBuffe'+'r'][Dr]=_0x239fdd;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),$m=new T(),Wm=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0xd8bd23,_0xb6aee){return _0xd8bd23 instanceof Function?_0xd8bd23:_0x56c5ca=>{let _0x56a447=_0x56c5ca[_0xd8bd23];return _0x56a447 instanceof Function&&(_0x56a447=_0x56a447()),_0x56a447===_0xb6aee;};}function w0(_0x3a138d,_0x11ce91){if(_0x11ce91(_0x3a138d))return _0x3a138d;const _0x1e5366=_0x3a138d['_children'],_0x391f06=_0x1e5366['length'];for(let _0x439dfd=0x1985+-0x1*0x1219+-0x76c;_0x439dfd<_0x391f06;++_0x439dfd){const _0x5a5582=w0(_0x1e5366[_0x439dfd],_0x11ce91);if(_0x5a5582)return _0x5a5582;}return null;}class De extends ce{constructor(_0x87b04b='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(0x1b9f*-0x1+0x1125*-0x1+0x2cc5*0x1,0x5*0xac+0x1dd9*0x1+-0x2134,0x4bc*-0x2+0x1483+-0xb0a)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x4f*-0x63+-0x5ef+-0x1*0x189d)),c(this,'_aabbVer',-0x1*0x713+-0x25bd+0x2cd0),c(this,'_frozen',!(0x2*0x5c9+-0x297*0x9+0x2*0x5df)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0x17b4+-0x1*0x1107+-0x6ca*-0x6)),c(this,'_worldScal'+'eSign',0x74b*0x4+0x16bd+-0x33e9),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(0x23ae+0x4c2*0x1+-0x2870)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0x1462+0x2238+-0x369a),c(this,'_enabled',!(0x83*0x6+0x101*0x1+-0x1*0x413)),c(this,'_enabledIn'+'Hierarchy',!(-0xf2c*0x1+0x21ef+-0x12c2)),c(this,'scaleCompe'+'nsation',!(0x1*0x1421+-0x191*0xd+0x3d)),this['name']=_0x87b04b;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x14cb*-0x1+-0xf74+0x1*-0x556));}get['normalMatr'+'ix'](){const _0x58a4c5=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x58a4c5['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0xc76+0x1295+-0x36*0x1d)),_0x58a4c5;}set['enabled'](_0x5d0300){var _0x39300c;this['_enabled']!==_0x5d0300&&(this['_enabled']=_0x5d0300,(_0x5d0300&&((_0x39300c=this['_parent'])!=null&&_0x39300c['enabled'])||!_0x5d0300)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x5d0300));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x945223=this['_parent'];if(!_0x945223)return'';let _0x1c6491=this['name'];for(;_0x945223&&_0x945223['_parent'];)_0x1c6491=_0x945223['name']+'/'+_0x1c6491,_0x945223=_0x945223['_parent'];return _0x1c6491;}get['root'](){let _0x4f445e=this;for(;_0x4f445e['_parent'];)_0x4f445e=_0x4f445e['_parent'];return _0x4f445e;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x4c4274,_0x21ea5){_0x4c4274['_onHierarc'+'hyStateCha'+'nged'](_0x21ea5);const _0x5f57ff=_0x4c4274['_children'];for(let _0x3fda32=-0x1e18+0x422+0x19f6,_0x9d2c5d=_0x5f57ff['length'];_0x3fda32<_0x9d2c5d;_0x3fda32++)_0x5f57ff[_0x3fda32]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x5f57ff[_0x3fda32],_0x21ea5);}['_onHierarc'+'hyStateCha'+'nged'](_0x1a43d3){this['_enabledIn'+'Hierarchy']=_0x1a43d3,_0x1a43d3&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x36fb28){_0x36fb28['name']=this['name'];const _0x34581b=this['tags']['_list'];_0x36fb28['tags']['clear']();for(let _0x2915c9=0x13ea*-0x1+-0x1e7f*0x1+0xa15*0x5;_0x2915c9<_0x34581b['length'];_0x2915c9++)_0x36fb28['tags']['add'](_0x34581b[_0x2915c9]);_0x36fb28['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x36fb28['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x36fb28['localScale']['copy'](this['localScale']),_0x36fb28['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x36fb28['position']['copy'](this['position']),_0x36fb28['rotation']['copy'](this['rotation']),_0x36fb28['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x36fb28['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x36fb28['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x36fb28['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x36fb28['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x36fb28['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x36fb28['_aabbVer']=this['_aabbVer']+(-0x1e96+0x3a*0x82+-0x61*-0x3),_0x36fb28['_enabled']=this['_enabled'],_0x36fb28['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x36fb28['_enabledIn'+'Hierarchy']=!(-0x1*0x129f+0x1781*0x1+-0x4e1*0x1);}['clone'](){const _0x4d31e2=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x4d31e2),_0x4d31e2;}['copy'](_0x26bc23){return _0x26bc23['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x52d6ae=this['_children'];for(;_0x52d6ae['length'];){const _0x5840b2=_0x52d6ae['pop']();_0x5840b2['_parent']=null,_0x5840b2['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x1755b9,_0x3997bb){const _0x2d0838=[],_0x1a343d=Xm(_0x1755b9,_0x3997bb);return this['forEach'](_0x41a951=>{_0x1a343d(_0x41a951)&&_0x2d0838['push'](_0x41a951);}),_0x2d0838;}['findOne'](_0xb696a6,_0x4abbce){const _0x434f33=Xm(_0xb696a6,_0x4abbce);return w0(this,_0x434f33);}['findByTag'](){const _0x16c6bd=arguments,_0x4deeff=[],_0x52c65d=(_0x35ed9f,_0x311503)=>{_0x311503&&_0x35ed9f['tags']['has'](..._0x16c6bd)&&_0x4deeff['push'](_0x35ed9f);for(let _0x2b7559=0x159b+0x2064+0x259*-0x17;_0x2b7559<_0x35ed9f['_children']['length'];_0x2b7559++)_0x52c65d(_0x35ed9f['_children'][_0x2b7559],!(0x6fa+-0x5*0x8d+-0x439));};return _0x52c65d(this,!(0xbec+0x1*0xc5e+-0x1*0x1849)),_0x4deeff;}['findByName'](_0x54ff51){return this['findOne']('name',_0x54ff51);}['findByPath'](_0x2f6420){const _0x2ec9a0=Array['isArray'](_0x2f6420)?_0x2f6420:_0x2f6420['split']('/');let _0x2d8643=this;for(let _0x5b6db3=0xd*-0x6b+-0x1712+0x1c81,_0x24c9d9=_0x2ec9a0['length'];_0x5b6db3<_0x24c9d9;++_0x5b6db3)if(_0x2d8643=_0x2d8643['children']['find'](_0x443431=>_0x443431['name']===_0x2ec9a0[_0x5b6db3]),!_0x2d8643)return null;return _0x2d8643;}['forEach'](_0x2c5edd,_0x1a45e9){_0x2c5edd['call'](_0x1a45e9,this);const _0x491693=this['_children'],_0x5562d9=_0x491693['length'];for(let _0x2f3592=0x31*0x97+-0xe81+-0xe66;_0x2f3592<_0x5562d9;++_0x2f3592)_0x491693[_0x2f3592]['forEach'](_0x2c5edd,_0x1a45e9);}['isDescenda'+'ntOf'](_0x3462e){let _0x352a66=this['_parent'];for(;_0x352a66;){if(_0x352a66===_0x3462e)return!(-0x29*0x7b+-0x233*0xb+0x2be4);_0x352a66=_0x352a66['_parent'];}return!(-0x1a8d*0x1+0x23f9+-0x1*0x96b);}['isAncestor'+'Of'](_0x26a03a){return _0x26a03a['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0xe23+0x1e90+0x1*-0x106c)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x56+-0x6a*-0x5d+-0x4*0x9b6&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x59f58c;(_0x59f58c=this['_parent'])==null||_0x59f58c['removeChil'+'d'](this);}['reparent'](_0x228a90,_0x4266cb){this['remove'](),_0x228a90&&(_0x4266cb>=0x55*0x21+-0x2*0x44f+0x1*-0x257?_0x228a90['insertChil'+'d'](this,_0x4266cb):_0x228a90['addChild'](this));}['setLocalEu'+'lerAngles'](_0x2c44de,_0x346375,_0x57f02a){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x2c44de,_0x346375,_0x57f02a),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x3d4f77,_0x477cd7,_0x2df274){_0x3d4f77 instanceof T?this['localPosit'+'ion']['copy'](_0x3d4f77):this['localPosit'+'ion']['set'](_0x3d4f77,_0x477cd7,_0x2df274),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x136162,_0x16df3c,_0x2e4c7c,_0x2fc69f){_0x136162 instanceof se?this['localRotat'+'ion']['copy'](_0x136162):this['localRotat'+'ion']['set'](_0x136162,_0x16df3c,_0x2e4c7c,_0x2fc69f),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x2a3d54,_0x3507ad,_0x5645b7){_0x2a3d54 instanceof T?this['localScale']['copy'](_0x2a3d54):this['localScale']['set'](_0x2a3d54,_0x3507ad,_0x5645b7),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x1*-0x1f35+0xc6f+-0xb2*-0x1b),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x15f825=this['_parent'];for(;_0x15f825;)_0x15f825['_frozen']=!(0x1b81+-0x1423+-0x75d),_0x15f825=_0x15f825['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0xbb*-0x24+-0x215b+0x3ba8),this['_dirtyWorl'+'d']=!(0x7*-0x3b0+0x1288+0x748);for(let _0x2c4ea9=-0x19f8*0x1+-0x1*-0x1e46+-0x2*0x227;_0x2c4ea9<this['_children']['length'];_0x2c4ea9++)this['_children'][_0x2c4ea9]['_dirtyWorl'+'d']||this['_children'][_0x2c4ea9]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x2be*-0x2+-0xd96+0x2*0x989),this['_worldScal'+'eSign']=-0x8*-0x60+-0x1*0x22f+-0xd1,this['_aabbVer']++;}['setPositio'+'n'](_0xab76b7,_0x27984f,_0xdd190d){_0xab76b7 instanceof T?kt['copy'](_0xab76b7):kt['set'](_0xab76b7,_0x27984f,_0xdd190d),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x4973b6,_0x7fdceb,_0x5edd43,_0x16f948){if(_0x4973b6 instanceof se?Bt['copy'](_0x4973b6):Bt['set'](_0x4973b6,_0x7fdceb,_0x5edd43,_0x16f948),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x3ede2a=this['_parent']['getRotatio'+'n']();An['copy'](_0x3ede2a)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x47d031,_0x13e061){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x47d031),this['localRotat'+'ion']['copy'](_0x13e061);else{const _0x484d9f=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x484d9f)['invert'](),Ha['transformP'+'oint'](_0x47d031,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x13e061);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x47885d,_0x5d9259,_0x35760c){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x47885d,_0x5d9259,_0x35760c),this['_parent']!==null){const _0x533e4f=this['_parent']['getRotatio'+'n']();An['copy'](_0x533e4f)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x249708){this['_prepareIn'+'sertChild'](_0x249708),this['_children']['push'](_0x249708),this['_onInsertC'+'hild'](_0x249708);}['addChildAn'+'dSaveTrans'+'form'](_0x1ecbbd){const _0xbcf9f8=_0x1ecbbd['getPositio'+'n'](),_0x1ec0ed=_0x1ecbbd['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x1ecbbd),_0x1ecbbd['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0xbcf9f8)),_0x1ecbbd['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x1ec0ed)),this['_children']['push'](_0x1ecbbd),this['_onInsertC'+'hild'](_0x1ecbbd);}['insertChil'+'d'](_0x83ad74,_0x94f958){this['_prepareIn'+'sertChild'](_0x83ad74),this['_children']['splice'](_0x94f958,-0x226e+0x26dd*-0x1+0x494b,_0x83ad74),this['_onInsertC'+'hild'](_0x83ad74);}['_prepareIn'+'sertChild'](_0x2ba381){_0x2ba381['remove'](),v['assert'](_0x2ba381!==this,'GraphNode\x20'+(_0x2ba381==null?void(0x24da*0x1+0x1c68*-0x1+-0x872):_0x2ba381['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x2ba381),'GraphNode\x20'+(_0x2ba381==null?void(-0x4f5+0x160b*0x1+-0xf3*0x12):_0x2ba381['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x15d6d6,_0xc1f0bf,_0x51b8bd){this['fire'](_0x15d6d6,_0x51b8bd);for(let _0x262df5=0x1c3*-0x2+-0x1*-0x44f+-0xc9;_0x262df5<this['_children']['length'];_0x262df5++)this['_children'][_0x262df5]['_fireOnHie'+'rarchy'](_0xc1f0bf,_0xc1f0bf,_0x51b8bd);}['_onInsertC'+'hild'](_0x201bfd){_0x201bfd['_parent']=this;const _0x534859=_0x201bfd['_enabled']&&this['enabled'];_0x201bfd['_enabledIn'+'Hierarchy']!==_0x534859&&(_0x201bfd['_enabledIn'+'Hierarchy']=_0x534859,_0x201bfd['_notifyHie'+'rarchyStat'+'eChanged'](_0x201bfd,_0x534859)),_0x201bfd['_updateGra'+'phDepth'](),_0x201bfd['_dirtifyWo'+'rld'](),this['_frozen']&&_0x201bfd['_unfreezeP'+'arentToRoo'+'t'](),_0x201bfd['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x201bfd);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x1809+-0x269a+0xe92):-0x1842+0xbea+0x2*0x62c;for(let _0x19f88b=0x19*0xb+-0x14bc+0x2cf*0x7,_0x22dd30=this['_children']['length'];_0x19f88b<_0x22dd30;_0x19f88b++)this['_children'][_0x19f88b]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x4a2949){const _0x2efa5e=this['_children']['indexOf'](_0x4a2949);_0x2efa5e!==-(-0x2b8*-0xe+-0x19c3+0x4*-0x313)&&(this['_children']['splice'](_0x2efa5e,0x19ad+0xd*0xb0+0x6ec*-0x5),_0x4a2949['_parent']=null,_0x4a2949['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x4a2949));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x765+0x1d2d+-0x2491)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x12d9c1;const _0x5ed31d=this['_parent'];let _0x41a45c=this['localScale'],_0x3c8f52=_0x5ed31d;if(_0x3c8f52){for(;_0x3c8f52&&_0x3c8f52['scaleCompe'+'nsation'];)_0x3c8f52=_0x3c8f52['_parent'];_0x3c8f52&&(_0x3c8f52=_0x3c8f52['_parent'],_0x3c8f52&&(_0x12d9c1=_0x3c8f52['worldTrans'+'form']['getScale'](),$m['mul2'](_0x12d9c1,this['localScale']),_0x41a45c=$m));}_d['setFromMat'+'4'](_0x5ed31d['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x2b287e=_0x5ed31d['worldTrans'+'form'];_0x5ed31d['scaleCompe'+'nsation']&&(Wm['mul2'](_0x12d9c1,_0x5ed31d['getLocalSc'+'ale']()),Gm['setTRS'](_0x5ed31d['worldTrans'+'form']['getTransla'+'tion'](md),_d,Wm),_0x2b287e=Gm),_0x2b287e['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x41a45c);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x1*-0x2007+-0x7*-0x517+-0x399);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x6*-0x3c7+0xbb7+-0x2261),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x1cefd2=this['_children'];for(let _0x2c2c3a=-0x108f+0xcfb*-0x1+0xc7*0x26,_0x22a662=_0x1cefd2['length'];_0x2c2c3a<_0x22a662;_0x2c2c3a++)_0x1cefd2[_0x2c2c3a]['syncHierar'+'chy']();}['lookAt'](_0x150c1d,_0x13d4cf,_0x44cd68,_0x173080=0x1*-0x121f+-0x4*-0xc8+-0x15d*-0xb,_0x1ad9d9=0x99d*0x1+-0x2670+0x1cd4,_0x154708=0x489+-0x1ede+-0x3f*-0x6b){if(_0x150c1d instanceof T)gd['copy'](_0x150c1d),_0x13d4cf instanceof T?El['copy'](_0x13d4cf):El['copy'](T['UP']);else{if(_0x44cd68===void(-0x1*0x5d9+0x195d+-0x1*0x1384))return;gd['set'](_0x150c1d,_0x13d4cf,_0x44cd68),El['set'](_0x173080,_0x1ad9d9,_0x154708);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x3c7425,_0x2338a4,_0x273937){_0x3c7425 instanceof T?kt['copy'](_0x3c7425):kt['set'](_0x3c7425,_0x2338a4,_0x273937),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x1fd7c9,_0x57e299,_0x3e177f){_0x1fd7c9 instanceof T?kt['copy'](_0x1fd7c9):kt['set'](_0x1fd7c9,_0x57e299,_0x3e177f),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x1fdd44,_0x2588c9,_0x2caeb7){if(Bt['setFromEul'+'erAngles'](_0x1fdd44,_0x2588c9,_0x2caeb7),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x27f130=this['getRotatio'+'n'](),_0x5ac037=this['_parent']['getRotatio'+'n']();An['copy'](_0x5ac037)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x27f130);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x55faf6,_0x1ea77e,_0x3273e3){Bt['setFromEul'+'erAngles'](_0x55faf6,_0x1ea77e,_0x3273e3),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x36eaa9){const _0x4fa155=T0['get'](_0x36eaa9);return v['assert'](_0x4fa155),_0x4fa155;}function sC(_0x53756f,_0x39f0c5){v['assert'](_0x39f0c5),T0['get'](_0x53756f,()=>_0x39f0c5);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x5a896f,_0x1f96cb)=>{_0x1f96cb['destroy']();}),this['cache']['clear']();}['incRef'](_0x10a158){const _0x16bda8=(this['cache']['get'](_0x10a158)||0x3be+-0x12e4+-0xe*-0x115)+(0x171*0x4+-0x3f*-0x2f+-0x1*0x1154);this['cache']['set'](_0x10a158,_0x16bda8);}['decRef'](_0x156b67){if(_0x156b67){let _0x2bc24b=this['cache']['get'](_0x156b67);_0x2bc24b&&(_0x2bc24b--,_0x2bc24b===-0xab5+0xe95+-0x3e0?(this['cache']['delete'](_0x156b67),_0x156b67['destroy']()):this['cache']['set'](_0x156b67,_0x2bc24b));}}}class Si{static['incRef'](_0x3cae02){this['cache']['incRef'](_0x3cae02);}static['decRef'](_0x136915){this['cache']['decRef'](_0x136915);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=-0x18*0x192+0x2193+-0x1*-0x41d;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(-0xe85+0x8a5*0x1+-0x34*-0x1d);class aC{constructor(_0x51d8db){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x1cda+-0x179e+-0x1*-0x3479)),this['count']=_0x51d8db;}['destroy'](){var _0x149d25;this['_destroyVe'+'rtexBuffer']&&((_0x149d25=this['vertexBuff'+'er'])==null||_0x149d25['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x15efb3){if(!this['bindGroup']){const _0x487a70=this['shader'];v['assert'](_0x487a70);const _0x11a01e=_0x487a70['meshBindGr'+'oupFormat'];v['assert'](_0x11a01e),this['bindGroup']=new mp(_0x15efb3,_0x11a01e),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x232480){if(!this['uniformBuf'+'fer']){const _0x172130=this['shader'];v['assert'](_0x172130);const _0xb13c30=_0x172130['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0xb13c30),this['uniformBuf'+'fer']=new gp(_0x232480,_0xb13c30,!(0x24be+0x1*0x1a8f+-0x3f4c));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x33d1cc,_0x3deb59;(_0x33d1cc=this['bindGroup'])==null||_0x33d1cc['destroy'](),this['bindGroup']=null,(_0x3deb59=this['uniformBuf'+'fer'])==null||_0x3deb59['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x447e31,_0x23e7e9,_0xbc9bd9=null){c(this,'castShadow',!(-0x1076+-0x1b*0x122+0x3*0xfaf)),c(this,'cull',!(-0x1a9e+-0x5ff*0x2+-0x134e*-0x2)),c(this,'drawOrder',0x76e+-0x395+-0x5*0xc5),c(this,'node'),c(this,'visible',!(0x1596+0x2f*0x9d+0x3269*-0x1)),c(this,'visibleThi'+'sFrame',!(-0x4ea+-0x3*0x767+0x1b20)),c(this,'flipFacesF'+'actor',-0xb*-0x387+0xa2d+-0x30f9),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x1ada+-0x2043+0x3b1d)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0x1ac2+-0x9*-0x34+0x32d*-0x9)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(0x1*-0x1555+-0x246e+-0x1*-0x39c4)),c(this,'_aabbMeshV'+'er',-(-0x3bf+-0xd*-0x133+-0xbd7)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(-0xd*0x2b3+-0x1456+0x376d)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x9a*-0x2e+-0x3df*0x8+0x3aa4,-0x343+0xf1*-0x15+-0x43*-0x58]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(0x2567+-0x5*0x1c1+-0x1ca2)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(-0x566+0xd*0x197+-0xf44)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<-0xeb0+-0x8*0x45d+0x31a8),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x447e31 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0xbc9bd9,this['_mesh']=_0x447e31,_0x447e31['incRefCoun'+'t'](),this['material']=_0x23e7e9,_0x447e31['vertexBuff'+'er']){const _0x3dc8c=_0x447e31['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x3dc8c['hasUv0']?m0:-0x5ed+0x1*0x167+0x486,this['_shaderDef'+'s']|=_0x3dc8c['hasUv1']?_0:0xfe*-0xc+-0x16e3+0xb99*0x3,this['_shaderDef'+'s']|=_0x3dc8c['hasColor']?g0:-0x17e9*0x1+-0x1*0x309+0x1af2,this['_shaderDef'+'s']|=_0x3dc8c['hasTangent'+'s']?Mp:0x1*0x14ef+-0x296+-0x1259;}this['updateKey']();}set['renderStyl'+'e'](_0x2315e5){this['_renderSty'+'le']=_0x2315e5,this['mesh']['prepareRen'+'derState'](_0x2315e5);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x3b7774){_0x3b7774!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x3b7774,_0x3b7774&&_0x3b7774['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x2194ce){this['_aabb']=_0x2194ce;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x29eaf8=this['_customAab'+'b'],_0x1cb25e=!!_0x29eaf8;if(!_0x29eaf8){if(_0x29eaf8=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x593e1d=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x593e1d);}const _0x58c885=this['mesh']['boneUsed'];let _0x4b5121=!(-0x270b+0x1530+0x11db);for(let _0x51b96c=-0x872+-0x26ac+-0x2f1e*-0x1;_0x51b96c<this['mesh']['boneAabb']['length'];_0x51b96c++)_0x58c885[_0x51b96c]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x51b96c],this['skinInstan'+'ce']['matrices'][_0x51b96c]),_0x4b5121?(_0x4b5121=!(0x51b+-0x726+0x20c),_0x29eaf8['center']['copy'](Cl['center']),_0x29eaf8['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x29eaf8['add'](Cl));_0x1cb25e=!(-0x1bbc*-0x1+0x3a4*-0xa+0x8ac);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x29eaf8['center']['copy'](this['mesh']['aabb']['center']),_0x29eaf8['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x29eaf8['center']['set'](-0x93c+-0x29*-0xa4+0x2*-0x884,0x1*-0x1fd2+-0xe64+0x2*0x171b,-0x1dcd+0x1fbe+-0x1f1),_0x29eaf8['halfExtent'+'s']['set'](-0x1c7e+-0x161*-0x17+-0x339,-0x26c9*0x1+0x124e+0x147b,0x5b6+0xfa6+-0x155c)),this['mesh']&&this['mesh']['morph']){const _0x54031c=this['mesh']['morph']['aabb'];_0x29eaf8['_expand'](_0x54031c['getMin'](),_0x54031c['getMax']());}_0x1cb25e=!(0x4*0x8af+-0x2ef*0x3+0x1*-0x19ef),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x1cb25e&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x29eaf8,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x10c7d6=>{_0x10c7d6['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x1d302e,_0x53ee48,_0x3ddacd,_0x92d4f7,_0x468d94,_0x2de202,_0x413c1b){var _0x374a2c;const _0x235464=this['_shaderDef'+'s'];yr[0x2275*-0x1+0xa*0x3d5+0x17*-0x2b]=_0x1d302e,yr[-0x18b1+-0x239b+0x3c4d]=_0x53ee48,yr[0x2*-0x27d+0x89c+-0x3a0]=_0x235464,yr[0x1b40+-0x129*-0x12+-0x1*0x301f]=_0x92d4f7['hash'];const _0x2aeaf8=Zy(yr);let _0x5e9ddb=this['_shaderCac'+'he']['get'](_0x2aeaf8);if(!_0x5e9ddb){const _0x4d86ba=this['_material'];if(_0x5e9ddb=new oC(),_0x5e9ddb['shader']=_0x4d86ba['variants']['get'](_0x2aeaf8),_0x5e9ddb['hashes']=new Uint32Array(yr),!_0x5e9ddb['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x56776d=_0x4d86ba['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x3ddacd,'objDefs':_0x235464,'cameraShaderParams':_0x92d4f7,'pass':_0x1d302e,'sortedLights':_0x413c1b,'viewUniformFormat':_0x468d94,'viewBindGroupFormat':_0x2de202,'vertexFormat':(_0x374a2c=this['mesh']['vertexBuff'+'er'])==null?void(-0xb*-0x231+0xf42+-0x275d):_0x374a2c['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x4d86ba['variants']['set'](_0x2aeaf8,_0x56776d),_0x5e9ddb['shader']=_0x56776d;}this['_shaderCac'+'he']['set'](_0x2aeaf8,_0x5e9ddb);}return v['call'](()=>{$v['equals'](_0x5e9ddb['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x5e9ddb;}set['material'](_0x2d2dc3){this['clearShade'+'rs']();const _0x549ece=this['_material'];_0x549ece&&_0x549ece['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x2d2dc3,_0x2d2dc3&&(_0x2d2dc3['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x2d2dc3['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x5f204b){this['_layer']=_0x5f204b,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0xa48258){_0xa48258!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0xa48258,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x1b73ce){this['_calculate'+'SortDistan'+'ce']=_0x1b73ce;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x4da549){this['_receiveSh'+'adow']!==_0x4da549&&(this['_receiveSh'+'adow']=_0x4da549,this['_updateSha'+'derDefs'](_0x4da549?this['_shaderDef'+'s']&-(-0xbb2+0x1dcf+-0x121b):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x18031e){this['_updateSha'+'derDefs'](_0x18031e?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(0x4597+0x3*-0x2353+-0x33d*-0x1f));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==-0x1bf1+-0x1*-0x1a36+-0x1*-0x1bb;}set['skinInstan'+'ce'](_0x21fb21){this['_skinInsta'+'nce']=_0x21fb21,this['_updateSha'+'derDefs'](_0x21fb21?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(-0x149a+-0x3*-0x936+0x1*-0x705)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x1ff822){var _0x63b99c;(_0x63b99c=this['_morphInst'+'ance'])==null||_0x63b99c['destroy'](),this['_morphInst'+'ance']=_0x1ff822;let _0x5b7279=this['_shaderDef'+'s'];_0x5b7279=_0x1ff822&&_0x1ff822['morph']['morphPosit'+'ions']?_0x5b7279|qc:_0x5b7279&-(0x21fb+-0xdee+-0x100c),_0x5b7279=_0x1ff822&&_0x1ff822['morph']['morphNorma'+'ls']?_0x5b7279|Xc:_0x5b7279&-(0x1*0x1293+0x2d1*-0x6+0x654),_0x5b7279=_0x1ff822&&_0x1ff822['morph']['intRenderF'+'ormat']?_0x5b7279|jc:_0x5b7279&-(0x1429+-0x140+0xd18),this['_updateSha'+'derDefs'](_0x5b7279);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x1dcecb){this['_screenSpa'+'ce']!==_0x1dcecb&&(this['_screenSpa'+'ce']=_0x1dcecb,this['_updateSha'+'derDefs'](_0x1dcecb?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(-0x196f*0x1+0x142a+0x1*0x646)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x29e9f3){this['_key'][Ei]=_0x29e9f3;}get['key'](){return this['_key'][Ei];}set['mask'](_0x209242){const _0x5bff7e=this['_shaderDef'+'s']&0xe29f+-0x1*0x38e1+0x5641;this['_updateSha'+'derDefs'](_0x5bff7e|_0x209242<<0xa*-0x19d+-0x22d0*0x1+0x3302*0x1);}get['mask'](){return this['_shaderDef'+'s']>>-0x523*0x3+0x2050+-0x10d7*0x1;}set['instancing'+'Count'](_0x37b2bb){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x37b2bb);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x15ea+0x103f+0x1*0x5ab;}['destroy'](){var _0x126b09,_0x4b02b1,_0x2a9e89;const _0x188b98=this['mesh'];_0x188b98&&(this['mesh']=null,_0x188b98['refCount']<0x2*-0xad5+-0x1ad6+0x3*0x102b&&_0x188b98['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x173+0x6b1+0x16*-0x3d],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0xba1*-0x1+-0x2464+0x3006],null),(_0x126b09=this['_skinInsta'+'nce'])==null||_0x126b09['destroy'](),this['_skinInsta'+'nce']=null,(_0x4b02b1=this['morphInsta'+'nce'])==null||_0x4b02b1['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x2a9e89=this['instancing'+'Data'])==null||_0x2a9e89['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x266337,_0x1f8531){if(_0x266337){for(let _0x8c99=-0x13*-0x43+-0x1da4+0x18ab;_0x8c99<_0x266337['length'];_0x8c99++){_0x266337[_0x8c99]['_renderSty'+'le']=_0x1f8531;const _0x1d1645=_0x266337[_0x8c99]['mesh'];xd['has'](_0x1d1645)||(xd['add'](_0x1d1645),_0x1d1645['prepareRen'+'derState'](_0x1f8531));}xd['clear']();}}['_isVisible'](_0x483d04){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x483d04):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x483d04['frustum']['containsSp'+'here'](yd)>0x4b4+0x18e0+-0x1d94):!(0xfa3+-0x50e*-0x2+-0x19be);}['updateKey'](){const _0x55870c=this['material'],_0x5bd23c=_0x55870c['alphaToCov'+'erage']||_0x55870c['alphaTest']?Kt:_0x55870c['blendType'];this['_key'][Ei]=(this['layer']&0x4d4*-0x5+0x28*0x88+0x5*0x97)<<0x3d*0x4d+0x1873+0xe3b*-0x3|(_0x5bd23c===is?-0xab4+0x4*-0x389+0x18d9*0x1:-0x2404+0x95*-0x3b+0x465b)<<-0x255*0xd+0x18be+0x5ad|(_0x55870c['id']&-0x4accdd+-0x770df6+0x2c1dad2)<<0xa26+0x16df+-0x2105*0x1;}['setInstanc'+'ing'](_0x2296ad,_0x10b868=!(0x3*0x596+0x727+-0x17e8)){_0x2296ad?(this['instancing'+'Data']=new aC(_0x2296ad['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x2296ad,_0x2296ad['format']['instancing']=!(0x4*-0x8cb+0x85+0xb8d*0x3),this['cull']=_0x10b868):(this['instancing'+'Data']=null,this['cull']=!(0x51e+-0xe05+-0x1*-0x8e7)),this['_updateSha'+'derDefs'](_0x2296ad?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(0x1ccd*0x1+-0x1*0x17a5+0x27*-0x21));}['ensureMate'+'rial'](_0x4597e9){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x4597e9));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x32aa6f){return this['parameters'][_0x32aa6f];}['setParamet'+'er'](_0x1002ec,_0x19ea03,_0x323a78=0x1bba92847*0x1+-0x779b9*0x1e5b+0x2742ca7b){const _0x4efe54=this['parameters'][_0x1002ec];_0x4efe54?(_0x4efe54['data']=_0x19ea03,_0x4efe54['passFlags']=_0x323a78):this['parameters'][_0x1002ec]={'scopeId':null,'data':_0x19ea03,'passFlags':_0x323a78};}['setRealtim'+'eLightmap'](_0x191835,_0x1a8eb5){const _0x5122db=this['getParamet'+'er'](_0x191835);_0x5122db!==_0x1a8eb5&&(_0x5122db&&Si['decRef'](_0x5122db['data']),_0x1a8eb5?(Si['incRef'](_0x1a8eb5),this['setParamet'+'er'](_0x191835,_0x1a8eb5)):this['deletePara'+'meter'](_0x191835));}['deletePara'+'meter'](_0x1bd514){this['parameters'][_0x1bd514]&&delete this['parameters'][_0x1bd514];}['setParamet'+'ers'](_0x1bd17e,_0x5ec56d){const _0x3e828a=this['parameters'];for(const _0x408603 in _0x3e828a){const _0x12fc33=_0x3e828a[_0x408603];_0x12fc33['passFlags']&_0x5ec56d&&(_0x12fc33['scopeId']||(_0x12fc33['scopeId']=_0x1bd17e['scope']['resolve'](_0x408603)),_0x12fc33['scopeId']['setValue'](_0x12fc33['data']));}}['setLightma'+'pped'](_0x9d886a){_0x9d886a?this['mask']=(this['mask']|cr)&-(0x1770+-0x89d*0x4+0x12*0x9d):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x18c0+-0x1a9b+-0x1db*-0x1],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x133c*-0x2+0xc97*-0x1+-0x1988*-0x2],null),this['_shaderDef'+'s']&=-(0xd6a+0x10c8+-0xd71),this['mask']=(this['mask']|hs)&-(0x5*-0x7ab+0xc96*0x1+-0xce4*-0x2));}['setCustomA'+'abb'](_0x143f6e){_0x143f6e?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x143f6e):this['_customAab'+'b']=_0x143f6e['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x8bb+-0x1*0x1ab9+0x2375)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[-0xd2d+0xf87+-0x25a,-0x1*0x228a+-0xba3*0x2+0x39d1*0x1,0x2393+-0x1*-0x2605+-0x4995,-0x1b84+0x4d*-0x40+0x2ec6,-0x1*0x1c0b+0x7*0x24b+0xc01,0x122e+0xdb9+-0x3*0xaa2],hC=[0x672+0xdd1+-0x1443,0x10*-0x199+0x3*-0x54f+0x297e,0x7d4+0x1ed8+0xce3*-0x3,-0xb9*-0x19+-0xe49+-0x2c*0x16,-0xe5*-0x7+-0x656*-0x5+-0x25ee,-0x1*0x57f+0x2*-0x9eb+0x1957],jm=new js();function Ym(_0x36af32,_0x3f5576){if(_0x36af32&&!_0x3f5576||!_0x36af32&&_0x3f5576)return!(-0x223e+-0xca*0x29+-0x3*-0x1633);if(_0x36af32=_0x36af32['data'],_0x3f5576=_0x3f5576['data'],_0x36af32===_0x3f5576)return!(0x206f+0x1ba9*0x1+0x502*-0xc);if(_0x36af32 instanceof Float32Array&&_0x3f5576 instanceof Float32Array){if(_0x36af32['length']!==_0x3f5576['length'])return!(0xd*0x66+-0x7b*0x2+-0x437);for(let _0x1b5cbc=0xcd+0x1b31+0xdff*-0x2;_0x1b5cbc<_0x36af32['length'];_0x1b5cbc++)if(_0x36af32[_0x1b5cbc]!==_0x3f5576[_0x1b5cbc])return!(0x7d4+-0x328+0x4ab*-0x1);return!(-0x125*0x17+-0x27*-0x69+0xa54);}return!(0x3bb*0x3+0x11fc+-0x4*0x74b);}function cC(_0x4c92e8,_0x18c862){for(const _0xca629a in _0x4c92e8)if(_0x4c92e8['hasOwnProp'+'erty'](_0xca629a)&&!Ym(_0x4c92e8[_0xca629a],_0x18c862[_0xca629a]))return!(-0x1*-0x247b+0x47*0x35+-0x332d);for(const _0x42fba8 in _0x18c862)if(_0x18c862['hasOwnProp'+'erty'](_0x42fba8)&&!Ym(_0x18c862[_0x42fba8],_0x4c92e8[_0x42fba8]))return!(0x519+0x6d*0x4a+-0x249a);return!(-0x11de*0x2+0x449+0x1f73);}function Sd(_0x5e2090){return _0x5e2090['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x3e558b,_0x3e0d4d,_0x3a53d6){this['device']=_0x3e558b,this['rootNode']=_0x3e0d4d,this['scene']=_0x3a53d6,this['_init']=!(-0x94d*-0x1+0x2*-0x92f+0x912),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x31*0x2b+0xd35+-0x1*0x1570,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x501637,_0x131de9,_0x11ef25,_0xbd66a1,_0x4867dc){if(_0xbd66a1===void(-0x26f7+0x245*-0x5+-0x4*-0xc94)&&(_0xbd66a1=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0xbd66a1]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xbd66a1+('\x20already\x20e'+'xists.'));return;}const _0x417949=new et(_0xbd66a1,_0x501637,_0x131de9,_0x11ef25,_0x4867dc);return this['_batchGrou'+'ps'][_0xbd66a1]=_0x417949,_0x417949;}['removeGrou'+'p'](_0x2cd182){if(!this['_batchGrou'+'ps'][_0x2cd182]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x2cd182+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x3aa142=[];for(let _0x378c35=-0x5*0x47f+0xb67+0xb14;_0x378c35<this['_batchList']['length'];_0x378c35++)this['_batchList'][_0x378c35]['batchGroup'+'Id']===_0x2cd182?this['destroyBat'+'ch'](this['_batchList'][_0x378c35]):_0x3aa142['push'](this['_batchList'][_0x378c35]);this['_batchList']=_0x3aa142,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x2cd182),delete this['_batchGrou'+'ps'][_0x2cd182];}['markGroupD'+'irty'](_0x571f8c){this['_dirtyGrou'+'ps']['indexOf'](_0x571f8c)<-0x3*0xb2d+0x8f*-0x1c+0x29*0x133&&this['_dirtyGrou'+'ps']['push'](_0x571f8c);}['getGroupBy'+'Name'](_0x1942db){const _0x1033ee=this['_batchGrou'+'ps'];for(const _0x49c1f9 in _0x1033ee)if(_0x1033ee['hasOwnProp'+'erty'](_0x49c1f9)&&_0x1033ee[_0x49c1f9]['name']===_0x1942db)return _0x1033ee[_0x49c1f9];return null;}['getBatches'](_0x2229e6){const _0x11ab1a=[],_0x27e884=this['_batchList']['length'];for(let _0x52f949=0x1e6d+0x574+-0xa7*0x37;_0x52f949<_0x27e884;_0x52f949++){const _0x57f464=this['_batchList'][_0x52f949];_0x57f464['batchGroup'+'Id']===_0x2229e6&&_0x11ab1a['push'](_0x57f464);}return _0x11ab1a;}['_removeMod'+'elsFromBat'+'chGroup'](_0x49d25b,_0x4c115a){if(_0x49d25b['enabled']){_0x49d25b['model']&&_0x49d25b['model']['batchGroup'+'Id']===_0x4c115a&&(_0x49d25b['model']['batchGroup'+'Id']=-(-0x2*-0x1005+0x1*-0x23f+0x9ee*-0x3)),_0x49d25b['render']&&_0x49d25b['render']['batchGroup'+'Id']===_0x4c115a&&(_0x49d25b['render']['batchGroup'+'Id']=-(-0x21f8+-0x882*-0x2+0x10f5)),_0x49d25b['element']&&_0x49d25b['element']['batchGroup'+'Id']===_0x4c115a&&(_0x49d25b['element']['batchGroup'+'Id']=-(0xc7*-0x2+0x3f*0x51+-0x1260)),_0x49d25b['sprite']&&_0x49d25b['sprite']['batchGroup'+'Id']===_0x4c115a&&(_0x49d25b['sprite']['batchGroup'+'Id']=-(0x14cb*0x1+-0x1db8+0x8ee));for(let _0x245c82=0x2a9+0xc4b+-0x27e*0x6;_0x245c82<_0x49d25b['_children']['length'];_0x245c82++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x49d25b['_children'][_0x245c82],_0x4c115a);}}['insert'](_0x3bf61a,_0x5f5ddf,_0x2f06f9){const _0x5b77e7=this['_batchGrou'+'ps'][_0x5f5ddf];v['assert'](_0x5b77e7,'Invalid\x20ba'+'tch\x20'+_0x5f5ddf+'\x20insertion'),_0x5b77e7&&_0x5b77e7['_obj'][_0x3bf61a]['indexOf'](_0x2f06f9)<0x9*-0x2ab+0x3*0x46b+0xac2&&(_0x5b77e7['_obj'][_0x3bf61a]['push'](_0x2f06f9),this['markGroupD'+'irty'](_0x5f5ddf));}['remove'](_0x3f1780,_0x358827,_0x5a1e7f){const _0xf2c0b2=this['_batchGrou'+'ps'][_0x358827];if(v['assert'](_0xf2c0b2,'Invalid\x20ba'+'tch\x20'+_0x358827+'\x20insertion'),_0xf2c0b2){const _0x21770b=_0xf2c0b2['_obj'][_0x3f1780]['indexOf'](_0x5a1e7f);_0x21770b>=0x62*-0x6+0x184d+-0x83*0x2b&&(_0xf2c0b2['_obj'][_0x3f1780]['splice'](_0x21770b,0x1e08*0x1+-0x13*-0x166+0x1*-0x3899),this['markGroupD'+'irty'](_0x358827));}}['_extractRe'+'nder'](_0x5dd142,_0x2f52ce,_0x42e38d,_0x3f4ce7){return _0x5dd142['render']&&(_0x2f52ce=_0x3f4ce7[_0x5dd142['render']['batchGroup'+'Id']]=_0x2f52ce['concat'](_0x5dd142['render']['meshInstan'+'ces']),_0x5dd142['render']['removeFrom'+'Layers']()),_0x2f52ce;}['_extractMo'+'del'](_0xb9171e,_0x337470,_0x1541da,_0x108c45){return _0xb9171e['model']&&_0xb9171e['model']['model']&&(_0x337470=_0x108c45[_0xb9171e['model']['batchGroup'+'Id']]=_0x337470['concat'](_0xb9171e['model']['meshInstan'+'ces']),_0xb9171e['model']['removeMode'+'lFromLayer'+'s'](),_0xb9171e['model']['_batchGrou'+'p']=_0x1541da),_0x337470;}['_extractEl'+'ement'](_0x31a8c2,_0x37b653,_0x228dfa){if(!_0x31a8c2['element'])return;let _0x272a5e=!(0x25ca+0x138b+-0x3954);_0x31a8c2['element']['_text']&&_0x31a8c2['element']['_text']['_model']['meshInstan'+'ces']['length']>0x1a1*-0xe+0x19d*0x2+0x1394?(_0x37b653['push'](_0x31a8c2['element']['_text']['_model']['meshInstan'+'ces'][-0x14ac*0x1+0x330+0x117c]),_0x31a8c2['element']['removeMode'+'lFromLayer'+'s'](_0x31a8c2['element']['_text']['_model']),_0x272a5e=!(0xa60+-0x22fe+-0x1*-0x189e)):_0x31a8c2['element']['_image']&&(_0x37b653['push'](_0x31a8c2['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x31a8c2['element']['removeMode'+'lFromLayer'+'s'](_0x31a8c2['element']['_image']['_renderabl'+'e']['model']),_0x31a8c2['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x37b653['push'](_0x31a8c2['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x31a8c2['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x31a8c2['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x31a8c2['element']['_dirtifyMa'+'sk'](),_0x31a8c2['element']['_onPrerend'+'er']())),_0x272a5e=!(0x177*0x2+0x1402+-0x16f0)),_0x272a5e&&(_0x228dfa['_ui']=!(0x2640+-0x147c+0x6*-0x2f6),_0x31a8c2['element']['_batchGrou'+'p']=_0x228dfa);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x45e5d6,_0x177e74){for(let _0x5d7147=-0x2347+-0x1300+0x3647;_0x5d7147<_0x177e74['length'];_0x5d7147++){const _0x4fa56b=_0x177e74[_0x5d7147],_0x359b31=this['_batchGrou'+'ps'][_0x4fa56b];if(!_0x359b31)continue;let _0x531ad0=_0x45e5d6[_0x4fa56b];_0x531ad0||(_0x531ad0=_0x45e5d6[_0x4fa56b]=[]);for(let _0x24403a=0x11f9+0x16fd+-0x28f6;_0x24403a<_0x359b31['_obj']['model']['length'];_0x24403a++)_0x531ad0=this['_extractMo'+'del'](_0x359b31['_obj']['model'][_0x24403a],_0x531ad0,_0x359b31,_0x45e5d6);for(let _0x525d18=-0x1e36+-0x24*0x4b+0x28c2;_0x525d18<_0x359b31['_obj']['render']['length'];_0x525d18++)_0x531ad0=this['_extractRe'+'nder'](_0x359b31['_obj']['render'][_0x525d18],_0x531ad0,_0x359b31,_0x45e5d6);for(let _0x5f1819=0xca7+0x1*0x268a+0xa3d*-0x5;_0x5f1819<_0x359b31['_obj']['element']['length'];_0x5f1819++)this['_extractEl'+'ement'](_0x359b31['_obj']['element'][_0x5f1819],_0x531ad0,_0x359b31);for(let _0x576fa3=-0x2248+-0x36e+0x6*0x649;_0x576fa3<_0x359b31['_obj']['sprite']['length'];_0x576fa3++){const _0x26ba16=_0x359b31['_obj']['sprite'][_0x576fa3];_0x26ba16['sprite']&&_0x26ba16['sprite']['_meshInsta'+'nce']&&(_0x359b31['dynamic']||_0x26ba16['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x531ad0['push'](_0x26ba16['sprite']['_meshInsta'+'nce']),_0x26ba16['sprite']['removeMode'+'lFromLayer'+'s'](),_0x359b31['_sprite']=!(-0x5*-0x496+-0x1*-0x14a1+-0x4d7*0x9),_0x26ba16['sprite']['_batchGrou'+'p']=_0x359b31);}}}['generate'](_0x3bad0d){const _0x27e728={};_0x3bad0d||(_0x3bad0d=Object['keys'](this['_batchGrou'+'ps']));const _0x1ceca0=[];for(let _0x597895=-0x19a3+-0x22a6+0x3c49;_0x597895<this['_batchList']['length'];_0x597895++){if(_0x3bad0d['indexOf'](this['_batchList'][_0x597895]['batchGroup'+'Id'])<-0x2b*-0xda+-0x18d5+0x7*-0x1af){_0x1ceca0['push'](this['_batchList'][_0x597895]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x597895]);}if(this['_batchList']=_0x1ceca0,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x27e728,_0x3bad0d),_0x3bad0d===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0xa26+0x2146+-0x1720;else{const _0xfb6c16=[];for(let _0x4b80a7=0x16ef+0x1c62+0x1d*-0x1c5;_0x4b80a7<this['_dirtyGrou'+'ps']['length'];_0x4b80a7++)_0x3bad0d['indexOf'](this['_dirtyGrou'+'ps'][_0x4b80a7])<0x789+0x2001+0x15*-0x1e2&&_0xfb6c16['push'](this['_dirtyGrou'+'ps'][_0x4b80a7]);this['_dirtyGrou'+'ps']=_0xfb6c16;}let _0x2172cf,_0x20708a,_0x1e15c3,_0x1c98fd;for(const _0x3f07af in _0x27e728)if(_0x27e728['hasOwnProp'+'erty'](_0x3f07af)){if(_0x2172cf=_0x27e728[_0x3f07af],_0x1e15c3=this['_batchGrou'+'ps'][_0x3f07af],!_0x1e15c3){v['error']('batch\x20grou'+'p\x20'+_0x3f07af+'\x20not\x20found');continue;}_0x20708a=this['prepare'](_0x2172cf,_0x1e15c3['dynamic'],_0x1e15c3['maxAabbSiz'+'e'],_0x1e15c3['_ui']||_0x1e15c3['_sprite']);for(let _0xf632c6=-0x2362+0x1c60+-0x381*-0x2;_0xf632c6<_0x20708a['length'];_0xf632c6++)_0x1c98fd=this['create'](_0x20708a[_0xf632c6],_0x1e15c3['dynamic'],parseInt(_0x3f07af,0x1c4e+-0xd29+-0xf1b)),_0x1c98fd&&_0x1c98fd['addToLayer'+'s'](this['scene'],_0x1e15c3['layers']);}}['prepare'](_0x4cf5fe,_0x15d046,_0x39aba9=Number['POSITIVE_I'+'NFINITY'],_0x3414b0){if(_0x4cf5fe['length']===-0xca+0x3*-0xbbb+0x23fb)return[];const _0xbe9b09=_0x39aba9*(0x1582+-0x786+0x166*-0xa+0.5),_0x400682=-0x1*0x1407+0x943*0x2+0x581,_0x498c5d=0x185fa82b3+-0x3*-0x40177b59+-0x19*0xd0cd697,_0x182541=new _e(),_0x1fd602=new _e();let _0x4ce40e=null,_0x3727d1;const _0x2ee626=[];let _0x128d67=0x691+-0xb8b*0x2+-0x1085*-0x1;_0x3414b0&&_0x4cf5fe['sort']((_0x1d9808,_0x4d8054)=>_0x1d9808['drawOrder']-_0x4d8054['drawOrder']);let _0x444fbb=_0x4cf5fe,_0x5d46eb;const _0x38c4b1=_0x3414b0?function(_0x43df17){_0x4ce40e?_0x4ce40e['add'](_0x43df17['aabb']):_0x4ce40e=_0x43df17['aabb']['clone'](),_0x5d46eb['push'](_0x43df17);}:function(_0x42ba8f){_0x5d46eb['push'](_0x42ba8f);};for(;_0x444fbb['length']>0x19*0x14e+-0x103*0x25+-0x89*-0x9;){_0x2ee626[_0x128d67]=[_0x444fbb[0x1a4b+-0x8f*0x25+-0x5a0]],_0x5d46eb=[];const _0x22fb1c=_0x444fbb[0x167*-0xb+-0x1fd*0x5+-0x22*-0xbf]['material'],_0x47b090=_0x444fbb[-0x1f*0x100+0x986+-0x1*-0x157a]['layer'],_0xb624df=_0x444fbb[0x5f0+0x1*-0xea5+0x8b5]['_shaderDef'+'s'],_0x3fe00e=_0x444fbb[0x1*0xa65+0x29*-0xe0+0x197b]['parameters'],_0x4adebe=_0x444fbb[0xe08+0x61b*-0x5+0x107f]['stencilFro'+'nt'];let _0x33a733=_0x444fbb[-0x1d*-0xa3+-0x19e9+0x772]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x309d5a=_0x444fbb[0xb9*-0xb+-0x1b38+0x232b]['drawOrder'];_0x182541['copy'](_0x444fbb[0x7*-0x397+-0x19f7+0x3318]['aabb']);const _0x409954=Sd(_0x444fbb[0x727+0xb79+-0x2*0x950]),_0x4be3a8=_0x444fbb[0x3d*0x7a+0x1d59+-0x3a6b]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x221b51=_0x444fbb[-0x20b*0x6+-0x1cac+-0x193*-0x1a]['mesh']['primitive'][0x474*-0x7+0x141a+-0x2*-0x589]['indexed'];_0x4ce40e=null;for(let _0x4bc535=0x1f4d*0x1+0x46a+0xe*-0x28d;_0x4bc535<_0x444fbb['length'];_0x4bc535++){const _0x583f77=_0x444fbb[_0x4bc535];if(_0x15d046&&_0x2ee626[_0x128d67]['length']>=_0x400682){_0x5d46eb=_0x5d46eb['concat'](_0x444fbb['slice'](_0x4bc535));break;}if(_0x22fb1c!==_0x583f77['material']||_0x47b090!==_0x583f77['layer']||_0x4be3a8!==_0x583f77['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x221b51!==_0x583f77['mesh']['primitive'][-0x25a3+-0x262a+-0x1*-0x4bcd]['indexed']||_0xb624df!==_0x583f77['_shaderDef'+'s']||_0x33a733+_0x583f77['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x498c5d){_0x38c4b1(_0x583f77);continue;}if(_0x1fd602['copy'](_0x182541),_0x1fd602['add'](_0x583f77['aabb']),_0x1fd602['halfExtent'+'s']['x']>_0xbe9b09||_0x1fd602['halfExtent'+'s']['y']>_0xbe9b09||_0x1fd602['halfExtent'+'s']['z']>_0xbe9b09){_0x38c4b1(_0x583f77);continue;}if(_0x4adebe&&(!(_0x3727d1=_0x583f77['stencilFro'+'nt'])||_0x4adebe['func']!==_0x3727d1['func']||_0x4adebe['zpass']!==_0x3727d1['zpass'])){_0x38c4b1(_0x583f77);continue;}if(_0x409954!==Sd(_0x583f77)){_0x38c4b1(_0x583f77);continue;}if(!cC(_0x3fe00e,_0x583f77['parameters'])){_0x38c4b1(_0x583f77);continue;}if(_0x3414b0&&_0x4ce40e&&_0x4ce40e['intersects'](_0x583f77['aabb'])&&_0x583f77['drawOrder']!==_0x309d5a){_0x38c4b1(_0x583f77);continue;}_0x182541['add'](_0x583f77['aabb']),_0x33a733+=_0x583f77['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x2ee626[_0x128d67]['push'](_0x583f77);}_0x128d67++,_0x444fbb=_0x5d46eb;}return _0x2ee626;}['collectBat'+'chedMeshDa'+'ta'](_0x221923,_0x3cb234){let _0x114353=null,_0x18b71c=-0x1*-0x5ab+0x253b*-0x1+-0x328*-0xa,_0x48d31e=0x10f9+-0x29b+-0xe5e*0x1,_0xf79e9f=null;for(let _0x5ea044=0x3f1+0x104c+-0x1*0x143d;_0x5ea044<_0x221923['length'];_0x5ea044++)if(_0x221923[_0x5ea044]['visible']){const _0x1121ba=_0x221923[_0x5ea044]['mesh'],_0x4b954c=_0x1121ba['vertexBuff'+'er']['numVertice'+'s'];if(_0x18b71c+=_0x4b954c,_0x1121ba['primitive'][0x13*0x162+0x11*-0x161+-0x1*0x2d5]['indexed'])_0x48d31e+=_0x1121ba['primitive'][-0x21f*0x2+-0xad9+0xf17]['count'];else{const _0x22d8df=_0x1121ba['primitive'][-0x14a4*-0x1+0x7f8+-0x2*0xe4e]['type'];(_0x22d8df===Yr||_0x22d8df===ar)&&_0x1121ba['primitive'][0xaf6+-0x2b*0x1+-0x3*0x399]['count']===0x1*-0x111d+0x363*0xa+-0x10bd*0x1&&(_0x48d31e+=-0x200b+0x194c+0x6c5);}if(!_0x114353){_0xf79e9f=_0x221923[_0x5ea044]['material'],_0x114353={};const _0x3152a2=_0x1121ba['vertexBuff'+'er']['format']['elements'];for(let _0xa95b5c=0xcc4+0x3*0xaa1+-0x2ca7;_0xa95b5c<_0x3152a2['length'];_0xa95b5c++){const _0x5b8e65=_0x3152a2[_0xa95b5c]['name'];_0x114353[_0x5b8e65]={'numComponents':_0x3152a2[_0xa95b5c]['numCompone'+'nts'],'dataType':_0x3152a2[_0xa95b5c]['dataType'],'normalize':_0x3152a2[_0xa95b5c]['normalize'],'count':0x0};}_0x3cb234&&(_0x114353[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(0x19e0+0x2590+0x3f6f*-0x1),'count':0x0});}}return{'streams':_0x114353,'batchNumVerts':_0x18b71c,'batchNumIndices':_0x48d31e,'material':_0xf79e9f};}['create'](_0x3250c9,_0x2ee383,_0xce6e51){const _0x118c48=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x1*-0xe16+-0x43*-0x2+0x22*-0x6e));let _0x463a3a=null,_0x34bcff,_0x59b3a2,_0x15998d,_0x5d87ef=null;const _0x479ed8=this['collectBat'+'chedMeshDa'+'ta'](_0x3250c9,_0x2ee383);if(_0x479ed8['streams']){const _0x38cd30=_0x479ed8['streams'];let _0x30c06b=_0x479ed8['material'];const _0x563816=_0x479ed8['batchNumVe'+'rts'],_0x220251=_0x479ed8['batchNumIn'+'dices'];_0x5d87ef=new zm(_0x3250c9,_0x2ee383,_0xce6e51),this['_batchList']['push'](_0x5d87ef);let _0x13d432,_0x9e2722,_0xe9779f,_0x147257=-0x16e8+-0x1*-0x6fb+0xfed,_0x1e948d=-0x1e47+-0x1dad*-0x1+0x9a,_0x5570a9;const _0x151a59=_0x563816<=0xe5fc+-0x1*-0x4999+0x2*-0x17cb?Uint16Array:Uint32Array,_0x39b1fc=new _0x151a59(_0x220251);for(_0x34bcff in _0x38cd30)_0x463a3a=_0x38cd30[_0x34bcff],_0x463a3a['typeArrayT'+'ype']=da[_0x463a3a['dataType']],_0x463a3a['elementByt'+'eSize']=_o[_0x463a3a['dataType']],_0x463a3a['buffer']=new _0x463a3a['typeArrayT'+'ype'](_0x563816*_0x463a3a['numCompone'+'nts']);for(let _0xd8b167=0x7d1*-0x4+-0xbeb+0x2b2f;_0xd8b167<_0x3250c9['length'];_0xd8b167++)if(_0x3250c9[_0xd8b167]['visible']){_0x59b3a2=_0x3250c9[_0xd8b167]['mesh'],_0x15998d=_0x59b3a2['vertexBuff'+'er']['numVertice'+'s'],_0x2ee383||(_0x5570a9=_0x3250c9[_0xd8b167]['node']['getWorldTr'+'ansform']());for(_0x34bcff in _0x38cd30)if(_0x34bcff!==qt){_0x463a3a=_0x38cd30[_0x34bcff];const _0x175477=new _0x463a3a['typeArrayT'+'ype'](_0x463a3a['buffer']['buffer'],_0x463a3a['elementByt'+'eSize']*_0x463a3a['count']),_0x410f5c=_0x59b3a2['getVertexS'+'tream'](_0x34bcff,_0x175477)*_0x463a3a['numCompone'+'nts'];if(_0x463a3a['count']+=_0x410f5c,!_0x2ee383&&_0x463a3a['numCompone'+'nts']>=-0xe83+-0x25dc+0x3462){if(_0x34bcff===He){const _0x130d13=_0x5570a9['data'],_0x4c3458=_0x130d13[-0xe32*0x1+0x15d0+-0x4e*0x19],_0x258b53=_0x130d13[0xd*0x75+0x1*-0x16c3+0x10d3],_0xf0af0e=_0x130d13[-0x556+0x27c+0x2dc*0x1],_0x598283=_0x130d13[-0x1d89+-0xbc1+0x294e],_0x1217c3=_0x130d13[-0x32d+0x3f8+-0xc6],_0x26dad9=_0x130d13[-0x113f*-0x1+-0x37a*-0xb+-0x3777],_0x1843cf=_0x130d13[-0x2285+-0x9d*0x1f+0x3590],_0x450737=_0x130d13[0x1669+-0x1*0x9af+0x1*-0xcb1],_0x1e094c=_0x130d13[-0x1235+0x49*0x3a+0x1b5],_0x23adf2=_0x130d13[-0x68+-0x1638+0x16ac*0x1],_0x48fc98=_0x130d13[-0x3*-0x6d2+0x796*-0x1+-0x31*0x43],_0x1763a2=_0x130d13[-0x215*-0xf+-0x9e*-0x38+-0x41bd];let _0x4dd289,_0x23866a,_0x4326bc;for(let _0x5b4c76=-0x223*-0x3+-0x3*0x2e5+0x246;_0x5b4c76<_0x410f5c;_0x5b4c76+=_0x463a3a['numCompone'+'nts'])_0x4dd289=_0x175477[_0x5b4c76],_0x23866a=_0x175477[_0x5b4c76+(0xd57*-0x2+0x985+0x112a)],_0x4326bc=_0x175477[_0x5b4c76+(0x1*-0x1921+-0x265*-0x9+0x396)],_0x175477[_0x5b4c76]=_0x4dd289*_0x4c3458+_0x23866a*_0x598283+_0x4326bc*_0x1843cf+_0x23adf2,_0x175477[_0x5b4c76+(-0x33*-0x3b+-0x925*-0x4+-0x3054)]=_0x4dd289*_0x258b53+_0x23866a*_0x1217c3+_0x4326bc*_0x450737+_0x48fc98,_0x175477[_0x5b4c76+(-0x1fbc+-0x1e09+0x3dc7)]=_0x4dd289*_0xf0af0e+_0x23866a*_0x26dad9+_0x4326bc*_0x1e094c+_0x1763a2;}else{if(_0x34bcff===Yt||_0x34bcff===Zs){jm['invertMat4'](_0x5570a9)['transpose']();const [_0x52b3db,_0x4adef0,_0x2e23c6,_0x19b665,_0x2db5c3,_0x16c817,_0x1f9558,_0x2542e4,_0x346c44]=jm['data'];let _0x81882a,_0x3c672c,_0x34637c;for(let _0xc86e07=0x968*-0x1+0x1aa7+-0x113f*0x1;_0xc86e07<_0x410f5c;_0xc86e07+=_0x463a3a['numCompone'+'nts'])_0x81882a=_0x175477[_0xc86e07],_0x3c672c=_0x175477[_0xc86e07+(0x2a1+0x13f4+-0x1694)],_0x34637c=_0x175477[_0xc86e07+(0x70+-0x1*0xef6+0xe88)],_0x175477[_0xc86e07]=_0x81882a*_0x52b3db+_0x3c672c*_0x19b665+_0x34637c*_0x1f9558,_0x175477[_0xc86e07+(-0x1*0x17f+-0x270*-0x8+-0x1200)]=_0x81882a*_0x4adef0+_0x3c672c*_0x2db5c3+_0x34637c*_0x2542e4,_0x175477[_0xc86e07+(0x2*-0x1007+-0x29d+0x22ad)]=_0x81882a*_0x2e23c6+_0x3c672c*_0x16c817+_0x34637c*_0x346c44;}}}}if(_0x2ee383){_0x463a3a=_0x38cd30[qt];for(let _0x2c1fc0=-0x1*0x21a+-0xe*0x107+-0x5*-0x34c;_0x2c1fc0<_0x15998d;_0x2c1fc0++)_0x463a3a['buffer'][_0x463a3a['count']++]=_0xd8b167;}if(_0x59b3a2['primitive'][-0x2*-0x649+-0x2188+0x14f6]['indexed']){_0x13d432=_0x59b3a2['primitive'][-0x1b13*-0x1+-0x2*-0xf71+-0x39f5]['base'],_0x9e2722=_0x59b3a2['primitive'][-0x154+-0x1*-0xbf5+-0xaa1]['count'];const _0x107333=_0x59b3a2['indexBuffe'+'r'][-0x1ed8+0x2*-0x6d3+0x163f*0x2]['getFormat']();_0xe9779f=new Lh[_0x107333](_0x59b3a2['indexBuffe'+'r'][0x1436+0x1*0x2587+-0x39bd]['storage']);}else{const _0xa5cfa2=_0x59b3a2['primitive'][-0x24e8+0x1baa+0x93e]['type'];if(_0xa5cfa2===Yr||_0xa5cfa2===ar){if(_0x59b3a2['primitive'][0x8*-0x482+0xaa*-0x1a+0x3554*0x1]['count']===-0x8d6+-0x1e9f+-0xeb*-0x2b)_0x13d432=-0xce0+0x9d*0x3d+-0x1889,_0x9e2722=-0x17b+-0x1e34*-0x1+0x5d*-0x4f,_0xe9779f=_0xa5cfa2===Yr?lC:hC;else{_0x9e2722=0x209d+0x1952+0x39ef*-0x1;continue;}}}for(let _0x299031=-0x260b*0x1+0x1917+-0x33d*-0x4;_0x299031<_0x9e2722;_0x299031++)_0x39b1fc[_0x299031+_0x1e948d]=_0xe9779f[_0x13d432+_0x299031]+_0x147257;_0x1e948d+=_0x9e2722,_0x147257+=_0x15998d;}_0x59b3a2=new Ie(this['device']);for(_0x34bcff in _0x38cd30)_0x463a3a=_0x38cd30[_0x34bcff],_0x59b3a2['setVertexS'+'tream'](_0x34bcff,_0x463a3a['buffer'],_0x463a3a['numCompone'+'nts'],void(-0xfb1+0x15d*-0x11+0x26de),_0x463a3a['dataType'],_0x463a3a['normalize']);_0x39b1fc['length']>0x66*0x10+0x7*-0x19+-0x5b1&&_0x59b3a2['setIndices'](_0x39b1fc),_0x59b3a2['update'](Ms,!(-0x4*-0x2bd+0x1094+-0x1b87)),_0x2ee383&&(_0x30c06b=_0x30c06b['clone'](),_0x30c06b['update']());const _0x18692c=new Le(_0x59b3a2,_0x30c06b,this['rootNode']);_0x18692c['castShadow']=_0x5d87ef['origMeshIn'+'stances'][0x17f6+-0x20ff+0x909]['castShadow'],_0x18692c['parameters']=_0x5d87ef['origMeshIn'+'stances'][0x1ee2+-0xd*0x26f+-0xc1*-0x1]['parameters'],_0x18692c['layer']=_0x5d87ef['origMeshIn'+'stances'][-0x743+0x4ed+0x1*0x256]['layer'],_0x18692c['_shaderDef'+'s']=_0x5d87ef['origMeshIn'+'stances'][0x25cf*0x1+0x12*0x125+-0x3a69]['_shaderDef'+'s'],_0x18692c['batching']=!(-0x9ad*0x1+0x1*-0x2614+-0x1e9*-0x19),_0x18692c['cull']=_0x5d87ef['origMeshIn'+'stances'][0xf03+-0x1d57*-0x1+-0x656*0x7]['cull'];const _0x710a42=this['_batchGrou'+'ps'][_0xce6e51];if(_0x710a42&&_0x710a42['_ui']&&(_0x18692c['cull']=!(-0xdaf+-0xf79+0x1d29)),_0x2ee383){const _0x56ef0c=[];for(let _0x3cabaf=-0x1c13+0x62*0x40+0x393;_0x3cabaf<_0x5d87ef['origMeshIn'+'stances']['length'];_0x3cabaf++)_0x56ef0c['push'](_0x5d87ef['origMeshIn'+'stances'][_0x3cabaf]['node']);_0x18692c['skinInstan'+'ce']=new Vm(this['device'],_0x56ef0c,this['rootNode']);}_0x18692c['_updateAab'+'b']=!(-0x3f+0x346+-0x306),_0x18692c['drawOrder']=_0x5d87ef['origMeshIn'+'stances'][-0x2666+0x125f*-0x1+0x38c5]['drawOrder'],_0x18692c['stencilFro'+'nt']=_0x5d87ef['origMeshIn'+'stances'][0x1848+-0x35*-0x43+-0x2627]['stencilFro'+'nt'],_0x18692c['stencilBac'+'k']=_0x5d87ef['origMeshIn'+'stances'][0x525*-0x5+-0x36*0x4b+0x1*0x298b]['stencilBac'+'k'],_0x18692c['flipFacesF'+'actor']=Sd(_0x5d87ef['origMeshIn'+'stances'][0xd5*0x1+0x1259*-0x1+0x1184]),_0x18692c['castShadow']=_0x5d87ef['origMeshIn'+'stances'][-0x8e4+-0x3d7+0xcbb]['castShadow'],_0x5d87ef['meshInstan'+'ce']=_0x18692c,_0x5d87ef['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x118c48,_0x5d87ef;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0xae*-0x9+-0x23ea+0xa*0x434&&this['generate'](this['_dirtyGrou'+'ps']);const _0x3d6d04=ne();for(let _0xab010b=-0x7b8+-0x30*0x26+0xed8;_0xab010b<this['_batchList']['length'];_0xab010b++)this['_batchList'][_0xab010b]['dynamic']&&this['_batchList'][_0xab010b]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x3d6d04;}['clone'](_0x30a95c,_0x4b77bf){const _0x48a55b=new zm(_0x4b77bf,_0x30a95c['dynamic'],_0x30a95c['batchGroup'+'Id']);this['_batchList']['push'](_0x48a55b);const _0x1d40f4=[];for(let _0x2361af=-0x1*0x15d+-0xdff*0x1+-0x2*-0x7ae;_0x2361af<_0x4b77bf['length'];_0x2361af++)_0x1d40f4['push'](_0x4b77bf[_0x2361af]['node']);return _0x48a55b['meshInstan'+'ce']=new Le(_0x30a95c['meshInstan'+'ce']['mesh'],_0x30a95c['meshInstan'+'ce']['material'],_0x30a95c['meshInstan'+'ce']['node']),_0x48a55b['meshInstan'+'ce']['_updateAab'+'b']=!(0x17bf+0xc7*-0x9+-0x10bf),_0x48a55b['meshInstan'+'ce']['parameters']=_0x4b77bf[0xa3e+-0x2010+0x15d2]['parameters'],_0x48a55b['meshInstan'+'ce']['cull']=_0x4b77bf[0x9da*-0x2+-0x24e+0xb01*0x2]['cull'],_0x48a55b['meshInstan'+'ce']['layer']=_0x4b77bf[0x7*0x293+0x44d*-0x1+-0x8*0x1b7]['layer'],_0x30a95c['dynamic']&&(_0x48a55b['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x1d40f4,this['rootNode'])),_0x48a55b['meshInstan'+'ce']['castShadow']=_0x30a95c['meshInstan'+'ce']['castShadow'],_0x48a55b;}['destroyBat'+'ch'](_0x4ab0d2){_0x4ab0d2['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x4ab0d2['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x21772c,_0xbf5906,_0x1a088c){if((_0x21772c==null?void(0x98d*0x1+-0x248e*-0x1+0x1*-0x2e1b):_0x21772c['colorBuffe'+'r']['format'])!==_0x1a088c)return!(0xb*0x16a+-0x1a29+-0x5*-0x21f);const _0x5f0eb4=(_0xbf5906==null?void(0x789+-0x21f8+0x1a6f):_0xbf5906['width'])||this['device']['width'],_0x215ba1=(_0xbf5906==null?void(0x176d+0x1a2e+-0x2eb*0x11):_0xbf5906['height'])||this['device']['height'];return!_0x21772c||_0x5f0eb4!==_0x21772c['width']||_0x215ba1!==_0x21772c['height'];}['allocateRe'+'nderTarget'](_0x1f16a9,_0x4e83f3,_0x1d9117,_0x293ae0){const _0x54b4f9=new he(_0x1d9117,{'name':Km,'format':_0x293ae0,'width':_0x4e83f3?_0x4e83f3['colorBuffe'+'r']['width']:_0x1d9117['width'],'height':_0x4e83f3?_0x4e83f3['colorBuffe'+'r']['height']:_0x1d9117['height'],'mipmaps':!(-0x1*-0xfe7+0x13*-0x135+0x78*0xf),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x1f16a9?(_0x1f16a9['destroyFra'+'meBuffers'](),_0x1f16a9['_colorBuff'+'er']=_0x54b4f9,_0x1f16a9['_colorBuff'+'ers']=[_0x54b4f9]):_0x1f16a9=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x54b4f9,'depth':!(-0x1ba3+-0xcba+-0x2*-0x142f),'stencil':!(-0x1094+-0x1*0xd78+-0x44b*-0x7),'autoResolve':!(-0x2*0x4cc+0x14fe*0x1+0x1*-0xb65)}),_0x1f16a9;}['releaseRen'+'derTarget'](_0x3b50a7){_0x3b50a7&&(_0x3b50a7['destroyTex'+'tureBuffer'+'s'](),_0x3b50a7['destroy']());}['frameUpdat'+'e'](){const _0x5cffec=this['device'],_0x60747b=this['source'],_0x5976e2=(_0x60747b==null?void(-0x554+0x1*0x46d+-0x21*-0x7):_0x60747b['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x60747b==null?void(0xa*-0x38c+0x1*-0x12cb+0x3643):_0x60747b['colorBuffe'+'r'],_0x5976e2)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x60747b,_0x5cffec,_0x5976e2));const _0x58f591=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x5cffec['scope']['resolve'](Km)['setValue'](_0x58f591);}['execute'](){const _0x419c9c=this['device'];G['pushGpuMar'+'ker'](_0x419c9c,'GRAB-COLOR');const _0x46a211=this['source'],_0x194e00=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x419c9c['isWebGPU']?(_0x419c9c['copyRender'+'Target'](_0x46a211,this['colorRende'+'rTarget'],!(-0x5*-0x4ef+-0xae3+-0xdc8),!(-0x1873*0x1+-0x199d+-0x7*-0x727)),_0x419c9c['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x419c9c['copyRender'+'Target'](_0x46a211,this['colorRende'+'rTarget'],!(-0xa8a+-0x78+0xb02),!(0x1da7*0x1+0x1ed2+-0x3c78)),_0x419c9c['activeText'+'ure'](_0x419c9c['maxCombine'+'dTextures']-(-0x2521+0x5af+0x1f73*0x1)),_0x419c9c['bindTextur'+'e'](_0x194e00),_0x419c9c['gl']['generateMi'+'pmap'](_0x194e00['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x419c9c);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x225ac7,_0x39af5e){super(_0x225ac7),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x39af5e;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x268068,_0x19eb8e){const _0xa10769=(_0x19eb8e==null?void(-0x7*-0x585+-0xf13*-0x2+0x44c9*-0x1):_0x19eb8e['width'])||this['device']['width'],_0x58cf68=(_0x19eb8e==null?void(-0x1f1e+0x4*-0x152+-0x1233*-0x2):_0x19eb8e['height'])||this['device']['height'];return!_0x268068||_0xa10769!==_0x268068['width']||_0x58cf68!==_0x268068['height'];}['allocateRe'+'nderTarget'](_0x1200ec,_0x396122,_0x25230b,_0x342c9b,_0x382a69){const _0xdd5eaf=new he(_0x25230b,{'name':Zm,'format':_0x342c9b,'width':_0x396122?_0x396122['colorBuffe'+'r']['width']:_0x25230b['width'],'height':_0x396122?_0x396122['colorBuffe'+'r']['height']:_0x25230b['height'],'mipmaps':!(-0x164f+-0x729+0x1d79),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x1200ec?(_0x1200ec['destroyFra'+'meBuffers'](),_0x382a69?_0x1200ec['_depthBuff'+'er']=_0xdd5eaf:(_0x1200ec['_colorBuff'+'er']=_0xdd5eaf,_0x1200ec['_colorBuff'+'ers']=[_0xdd5eaf])):_0x1200ec=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x382a69?null:_0xdd5eaf,'depthBuffer':_0x382a69?_0xdd5eaf:null,'depth':!_0x382a69,'stencil':_0x25230b['supportsSt'+'encil'],'autoResolve':!(-0x652*-0x3+0x25ca+0xc7*-0x49)}),_0x1200ec;}['releaseRen'+'derTarget'](_0x3eecb2){_0x3eecb2&&(_0x3eecb2['destroyTex'+'tureBuffer'+'s'](),_0x3eecb2['destroy']());}['before'](){var _0x13c47a,_0x25b4a3;const _0x17e664=this['camera'],_0x1c5741=this['device'],_0x41d784=(_0x17e664==null?void(-0x829+-0x1265*0x1+0x1a8e):_0x17e664['renderTarg'+'et'])??_0x1c5741['backBuffer'];let _0x47e9fd=!(-0x7*-0x15a+0x2668+-0x2fde),_0xdae369=_0x41d784['stencil']?vc:Ci;_0x1c5741['isWebGPU']&&_0x41d784['samples']>0x85*-0x47+0x33*-0x29+0x2d0f&&(_0xdae369=Ii,_0x47e9fd=!(-0x8c9*0x2+0xd2*-0x12+0x2057));const _0x578050=((_0x13c47a=_0x17e664['renderTarg'+'et'])==null?void(0xd*-0x1fd+-0x2312+-0x5*-0xc2f):_0x13c47a['depthBuffe'+'r'])??((_0x25b4a3=_0x17e664['renderTarg'+'et'])==null?void(0x18aa+-0x1748+0x6*-0x3b):_0x25b4a3['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x578050)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x17e664['renderTarg'+'et'],_0x1c5741,_0xdae369,_0x47e9fd));const _0xd0dc2e=_0x47e9fd?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x1c5741['scope']['resolve'](Zm)['setValue'](_0xd0dc2e);}['execute'](){const _0x28c4ed=this['device'];if(G['pushGpuMar'+'ker'](_0x28c4ed,'GRAB-DEPTH'),_0x28c4ed['isWebGL2']&&_0x28c4ed['renderTarg'+'et']['samples']>-0x318+0x1e28+-0x1b0f*0x1){const _0x54147f=_0x28c4ed['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x16f915=this['depthRende'+'rTarget'];_0x28c4ed['renderTarg'+'et']=_0x16f915,_0x28c4ed['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x28c4ed,_0x54147f,_0x16f915['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x28c4ed['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x28c4ed['copyRender'+'Target'](_0x28c4ed['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x8e2*-0x4+-0x4*0x2ea+-0x2a7*0x9),!(-0x13a*0xd+-0x41*0x4f+-0xd*-0x2c5));G['popGpuMark'+'er'](_0x28c4ed);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(0x8c4+-0x6*-0x4b9+0x2519*-0x1)),c(this,'_ssaoEnabl'+'ed',!(0x1*0xf79+-0x2*0x17b+-0xc82)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(0x279*-0xd+-0xfd8+0x2ffe)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x12f*0xa+0x1*-0x1a1+-0xa35));}get['hash'](){if(this['_hash']===void(0x95*0x1+-0x5*0x16f+0x696)){const _0x47491b=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x47491b);}return this['_hash'];}get['defines'](){const _0x18851d=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x1*0x5fb+-0x23e*-0x2+0x180),_0x18851d['clear'](),this['_sceneDept'+'hMapLinear']&&_0x18851d['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x9*0x3f7+-0x28*-0x1b+0x1f77)),_0x18851d['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x18851d['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x18851d['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x18851d;}['markDirty'](){this['_hash']=void(0x64*-0x56+0xef*0x9+0x1*0x1931),this['_definesDi'+'rty']=!(-0x1*0x1de1+0x2ca+0x1b17);}set['fog'](_0x188cee){this['_fog']!==_0x188cee&&(this['_fog']=_0x188cee,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x47aa6e){this['_ssaoEnabl'+'ed']!==_0x47aa6e&&(this['_ssaoEnabl'+'ed']=_0x47aa6e,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x58afea){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x95*-0x1d+-0x1647+-0x1394*-0x2),this['_gammaCorr'+'ection']!==_0x58afea&&(this['_gammaCorr'+'ection']=_0x58afea,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x2f32d4){this['_toneMappi'+'ng']!==_0x2f32d4&&(this['_toneMappi'+'ng']=_0x2f32d4,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x14a28c){this['_srgbRende'+'rTarget']!==_0x14a28c&&(this['_srgbRende'+'rTarget']=_0x14a28c,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x54f0a3){this['_sceneDept'+'hMapLinear']!==_0x54f0a3&&(this['_sceneDept'+'hMapLinear']=_0x54f0a3,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),$a=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',-0x2bf+-0xef*0x10+-0x5e5*-0x3),(this['_aspectRat'+'io']=(0x3*0x241+0x13f0+-0x1aa3)/(0x106d*0x1+-0x8c9+-0x79b),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(0x6*-0x52c+0x6*0x4cf+0x22e+0.75,0xf*-0x1dc+-0x1a89*0x1+0x366d+0.75,-0xd1*-0x4+-0x1bbe+0x187a+0.75,-0x14*-0x24+0x1e37+-0x2106),this['_clearColo'+'rBuffer']=!(0x3b*-0x22+-0xd*0x199+0x1c9b),this['_clearDept'+'h']=0x2*-0xf3f+0x1615+0x86a,this['_clearDept'+'hBuffer']=!(-0x7b9+0x1819+0x2*-0x830),this['_clearSten'+'cil']=0x1dd7+-0x11*-0x221+-0x4208,this['_clearSten'+'cilBuffer']=!(-0x16c7+0x26f6+0x102f*-0x1),this['_cullFaces']=!(-0x11*0xc7+-0x8fe+-0x5*-0x471),this['_farClip']=0x1*0x1a3f+-0xe97+-0x7c0,this['_flipFaces']=!(-0x1c8a+0x5*-0x62b+0x3b62),this['_fov']=-0xa9*0x2b+0x1368+0x928,this['_frustumCu'+'lling']=!(-0x44*-0x7+-0x1413+0x1237*0x1),this['_horizonta'+'lFov']=!(-0x49*0x39+0x47*-0x83+0x3497),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x95c+0x1*-0x16b8+0x2014*0x1+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x1082*-0x2+0x2c6*0x2+-0x3ee*-0x7,this['_projectio'+'n']=Gs,this['_rect']=new Q(0x1*-0x1a89+0x6d*-0x31+0x2f66*0x1,-0x6*-0x554+-0xd82+0x116*-0x11,-0x1*-0xa8d+0x21f*-0xb+0xcc9,0x157f+-0xc73+0x1cf*-0x5),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(0x6c4+-0xfe4+-0x1*-0x920,0x98f+-0x36a+-0x625,-0x8*0x2dc+0x1411+-0x3c*-0xc,0x2*0xa9f+-0x2*0xac1+-0x1*-0x45),this['_scissorRe'+'ctClear']=!(-0x2*-0xd99+-0x1237+-0x1*0x8fa),this['_aperture']=-0x26e5+-0x1d0*-0x8+0x1875,this['_shutter']=(-0x2*-0x137d+-0x1893*0x1+-0xe66)/(0x62f*0x6+-0x12c8+-0xe6a),this['_sensitivi'+'ty']=-0x2*0xfed+-0x20cf+0x4491,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x6a8+0x1*-0x103a+0x2*0xb71),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0x76b+0x236f+0x701*-0x4),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(-0x15ee+-0x732+0x1d20),this['_shaderMat'+'ricesVersi'+'on']=-0x1*0x27f+-0x5*0x523+0x1c2e,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[-0x2621+-0x22d2+-0xf9*-0x4b,-0x1a8b+0x2*0x365+0x1*0x13c1,0x19b0+0x1266+0x6*-0x759,0x1784+-0x99+-0x16eb*0x1],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x5e2d76,_0x44b43a;(_0x5e2d76=this['renderPass'+'ColorGrab'])==null||_0x5e2d76['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x44b43a=this['renderPass'+'DepthGrab'])==null||_0x44b43a['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x5*-0x406+-0xab*-0x7+0x1*0xf71;}['_storeShad'+'erMatrices'](_0x10b661,_0x45e224,_0x5d963b,_0x19892f){this['_shaderMat'+'ricesVersi'+'on']!==_0x19892f&&(this['_shaderMat'+'ricesVersi'+'on']=_0x19892f,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x10b661),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x10b661),this['_viewProjI'+'nverse']['invert'](_0x10b661),this['_jitters'][-0x102d+0x1fa0+-0xf71]=this['_jitters'][-0x156a*0x1+-0x4*0x78b+0x3396],this['_jitters'][0x11c1+-0x7f*-0x2f+-0x290f]=this['_jitters'][-0x1e30+0xa2e+0x1403],this['_jitters'][-0x33*0x45+0x1d*0x43+0x628]=_0x45e224,this['_jitters'][0x71d*-0x1+0x5c*0x58+-0x1*0x1882]=_0x5d963b);}get['fullSizeCl'+'earRect'](){const _0x220a8b=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x220a8b['x']===-0x132c+0x3d1+0xf5b&&_0x220a8b['y']===0x88a+0x1898+-0x2122&&_0x220a8b['z']===-0x24b*0xa+0x19ef*0x1+0x1*-0x300&&_0x220a8b['w']===0x304+-0xbcc+0x8c9;}set['aspectRati'+'o'](_0x2c3dfb){this['_aspectRat'+'io']!==_0x2c3dfb&&(this['_aspectRat'+'io']=_0x2c3dfb,this['_projMatDi'+'rty']=!(-0x135e*0x2+0x1d7e+-0xe*-0xa9));}get['aspectRati'+'o'](){var _0x5b9bcd;return(_0x5b9bcd=this['xr'])!=null&&_0x5b9bcd['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x10bede){this['_aspectRat'+'ioMode']!==_0x10bede&&(this['_aspectRat'+'ioMode']=_0x10bede,this['_projMatDi'+'rty']=!(-0x3*0xcad+0x319*0x3+0x265*0xc));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x1ca2a8){this['_calculate'+'Projection']=_0x1ca2a8,this['_projMatDi'+'rty']=!(-0x3b*0x1f+-0x7d9+0xca*0x13);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x37c2bf){this['_calculate'+'Transform']=_0x37c2bf;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x1f7d3b){this['_clearColo'+'r']['copy'](_0x1f7d3b);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x4d51f1){this['_clearColo'+'rBuffer']=_0x4d51f1;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x5dccbf){this['_clearDept'+'h']=_0x5dccbf;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x2d1290){this['_clearDept'+'hBuffer']=_0x2d1290;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x21b510){this['_clearSten'+'cil']=_0x21b510;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x2e6a88){this['_clearSten'+'cilBuffer']=_0x2e6a88;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x5e90c1){this['_cullFaces']=_0x5e90c1;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x1773be){this['_farClip']!==_0x1773be&&(this['_farClip']=_0x1773be,this['_projMatDi'+'rty']=!(0x2*-0xa3e+0x1*0x23c5+-0xf49));}get['farClip'](){var _0x5f2793;return(_0x5f2793=this['xr'])!=null&&_0x5f2793['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x36d923){this['_flipFaces']=_0x36d923;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x3efe2){this['_fov']!==_0x3efe2&&(this['_fov']=_0x3efe2,this['_projMatDi'+'rty']=!(-0x1bae+-0x1d6b+0x3919));}get['fov'](){var _0x286e6a;return(_0x286e6a=this['xr'])!=null&&_0x286e6a['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x493878){this['_frustumCu'+'lling']=_0x493878;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x173667){this['_horizonta'+'lFov']!==_0x173667&&(this['_horizonta'+'lFov']=_0x173667,this['_projMatDi'+'rty']=!(-0x1*-0x1cbf+0xa*0x5c+-0x11*0x1e7));}get['horizontal'+'Fov'](){var _0x1ea334;return(_0x1ea334=this['xr'])!=null&&_0x1ea334['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x34ca73){this['_layers']=_0x34ca73['slice'](0xaf3*-0x1+0x1091+0x59e*-0x1),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x3bdd8f){this['_nearClip']!==_0x3bdd8f&&(this['_nearClip']=_0x3bdd8f,this['_projMatDi'+'rty']=!(0x8*-0x451+-0xf03+-0x1*-0x318b));}get['nearClip'](){var _0x2eb251;return(_0x2eb251=this['xr'])!=null&&_0x2eb251['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x42ecb9){this['_node']=_0x42ecb9;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x51f4ad){this['_orthoHeig'+'ht']!==_0x51f4ad&&(this['_orthoHeig'+'ht']=_0x51f4ad,this['_projMatDi'+'rty']=!(0x488+0xa97*-0x1+0x205*0x3));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x3cd133){this['_projectio'+'n']!==_0x3cd133&&(this['_projectio'+'n']=_0x3cd133,this['_projMatDi'+'rty']=!(0x327*-0x5+-0x939+0x18fc));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x3e55b2){this['_rect']['copy'](_0x3e55b2);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x248962){this['_renderTar'+'get']=_0x248962;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x1a91fa){this['_scissorRe'+'ct']['copy'](_0x1a91fa);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x30588d=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x30588d)['invert'](),this['_viewMatDi'+'rty']=!(0x212b+-0x1e81+-0x2a9*0x1);}return this['_viewMat'];}set['aperture'](_0x512452){this['_aperture']=_0x512452;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x533b6a){this['_sensitivi'+'ty']=_0x533b6a;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x37e60e){this['_shutter']=_0x37e60e;}get['shutter'](){return this['_shutter'];}set['xr'](_0x56f12e){this['_xr']!==_0x56f12e&&(this['_xr']=_0x56f12e,this['_projMatDi'+'rty']=!(-0x2309*-0x1+0x1bfe*-0x1+-0x70b));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x24a58e){return this['_aspectRat'+'io']=_0x24a58e['_aspectRat'+'io'],this['_farClip']=_0x24a58e['_farClip'],this['_fov']=_0x24a58e['_fov'],this['_horizonta'+'lFov']=_0x24a58e['_horizonta'+'lFov'],this['_nearClip']=_0x24a58e['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x24a58e['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x24a58e['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x24a58e['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x24a58e['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x24a58e['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x24a58e['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x24a58e['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x24a58e['calculateT'+'ransform'],this['clearColor']=_0x24a58e['clearColor'],this['clearColor'+'Buffer']=_0x24a58e['clearColor'+'Buffer'],this['clearDepth']=_0x24a58e['clearDepth'],this['clearDepth'+'Buffer']=_0x24a58e['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x24a58e['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x24a58e['clearStenc'+'ilBuffer'],this['cullFaces']=_0x24a58e['cullFaces'],this['flipFaces']=_0x24a58e['flipFaces'],this['frustumCul'+'ling']=_0x24a58e['frustumCul'+'ling'],this['layers']=_0x24a58e['layers'],this['orthoHeigh'+'t']=_0x24a58e['orthoHeigh'+'t'],this['projection']=_0x24a58e['projection'],this['rect']=_0x24a58e['rect'],this['renderTarg'+'et']=_0x24a58e['renderTarg'+'et'],this['scissorRec'+'t']=_0x24a58e['scissorRec'+'t'],this['aperture']=_0x24a58e['aperture'],this['shutter']=_0x24a58e['shutter'],this['sensitivit'+'y']=_0x24a58e['sensitivit'+'y'],this['shaderPass'+'Info']=_0x24a58e['shaderPass'+'Info'],this['jitter']=_0x24a58e['jitter'],this['_projMatDi'+'rty']=!(-0x1f0a+-0x1*-0x3fe+0x1b0c),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x275b52,_0xf17574){var _0x3aa41e;_0xf17574?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x275b52)):((_0x3aa41e=this['renderPass'+'ColorGrab'])==null||_0x3aa41e['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x4fcd3e,_0x30a45c,_0x2018c8){var _0x1be6b6;_0x2018c8?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x4fcd3e,this)):((_0x1be6b6=this['renderPass'+'DepthGrab'])==null||_0x1be6b6['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0x2*-0x8ac+0x179f*-0x1+-0x45*-0x98));}['worldToScr'+'een'](_0x5ad82f,_0x3c9c8a,_0x50b926,_0x2f2243=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x5ad82f,_0x2f2243);const _0x28e17b=this['_viewProjM'+'at']['data'],_0x12e3f3=_0x5ad82f['x']*_0x28e17b[-0x1c4e+0x2c*-0xb2+0x3ae9]+_0x5ad82f['y']*_0x28e17b[0x12*0x59+-0x425*0x1+0x1*-0x216]+_0x5ad82f['z']*_0x28e17b[0xd9d+-0xa37+-0x35b]+(-0x28*0x57+-0x16*0x59+0x153f)*_0x28e17b[-0x1a05*-0x1+-0x1*0x1efe+0x508];return _0x2f2243['x']=(_0x2f2243['x']/_0x12e3f3+(0x5*0x2af+-0x21e2+-0x83*-0x28))*(0x1958+0x19f*-0x3+0x7*-0x2ed+0.5)*_0x3c9c8a,_0x2f2243['y']=(0x1583+0xb5*0xb+0x165*-0x15-_0x2f2243['y']/_0x12e3f3)*(-0x5*0x4e1+0x9c9*-0x2+0x2bf7+0.5)*_0x50b926,_0x2f2243;}['screenToWo'+'rld'](_0x533301,_0x43ac56,_0x29470c,_0x30b1af,_0x13e563,_0x14b9f3=new T()){const _0x535a10=this['farClip']-this['nearClip'];if(En['set'](_0x533301/_0x30b1af,(_0x13e563-_0x43ac56)/_0x13e563,_0x29470c/_0x535a10),En['mulScalar'](-0xd62*-0x2+0x1*-0x1767+-0x1*0x35b),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize']($a,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),$a['x']*=En['x'],$a['y']*=En['y'];const _0x2717ff=this['_node']['getWorldTr'+'ansform']();$a['z']=-this['nearClip'],_0x2717ff['transformP'+'oint']($a,Qm);const _0x54cdbc=this['_node']['getPositio'+'n']();_0x14b9f3['sub2'](Qm,_0x54cdbc),_0x14b9f3['normalize'](),_0x14b9f3['mulScalar'](_0x29470c),_0x14b9f3['add'](_0x54cdbc);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x14b9f3);return _0x14b9f3;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x5c81f2=this['_orthoHeig'+'ht'],_0x54888e=_0x5c81f2*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x54888e,_0x54888e,-_0x5c81f2,_0x5c81f2,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x39e+-0x1027*-0x1+-0x13c4);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x3b6edb=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x3aa+0x2336+-0x1f28)/this['_sensitivi'+'ty']);return(-0xa66+-0x21c*0xf+0x2f*0xe5)/(Math['pow'](0x47f+0x1027+-0x14a4,_0x3b6edb)*(0x1*-0x11d7+-0x65*0x54+0x1f6*0x1a+0.19999999999999996));}['getScreenS'+'ize'](_0x505b32){if(this['_projectio'+'n']===Gs){const _0x2794e1=this['_node']['getPositio'+'n']()['distance'](_0x505b32['center']);if(_0x2794e1<_0x505b32['radius'])return 0x1*0x26cb+0x2*0xc4b+0x3*-0x1520;const _0x4a3711=Math['asin'](_0x505b32['radius']/_0x2794e1),_0x139012=Math['tan'](_0x4a3711),_0x410412=Math['tan'](this['fov']/(-0x1*0xaf4+0x22dc*0x1+-0x17e6)*N['DEG_TO_RAD']);return Math['min'](_0x139012/_0x410412,-0x481*-0x2+0x1288*0x1+0x7*-0x3ef);}return N['clamp'](_0x505b32['radius']/this['_orthoHeig'+'ht'],0x29*-0x71+0x3d*-0x62+0x49b*0x9,0x266b+0x228a+-0x142*0x3a);}['getFrustum'+'Corners'](_0x25d812=this['nearClip'],_0x50e19a=this['farClip']){const _0x186ef4=this['fov']*Math['PI']/(0x412*0x2+-0x14a0+0x698*0x2);let _0x3f0545,_0x23889e;this['projection']===Gs?this['horizontal'+'Fov']?(_0x3f0545=_0x25d812*Math['tan'](_0x186ef4/(-0x1*-0x196d+0x59*-0x43+0x22*-0x10)),_0x23889e=_0x3f0545/this['aspectRati'+'o']):(_0x23889e=_0x25d812*Math['tan'](_0x186ef4/(0xb*0x3f+0x22e+-0x4e1)),_0x3f0545=_0x23889e*this['aspectRati'+'o']):(_0x23889e=this['_orthoHeig'+'ht'],_0x3f0545=_0x23889e*this['aspectRati'+'o']);const _0x1060de=pC;return _0x1060de[-0x91d*-0x1+-0xeca+-0x5ad*-0x1]['x']=_0x3f0545,_0x1060de[-0x1be3+-0x1339+0x4*0xbc7]['y']=-_0x23889e,_0x1060de[0x40e+-0x1*-0xbbc+0x56*-0x2f]['z']=-_0x25d812,_0x1060de[0x21c8+0x328+-0x24ef]['x']=_0x3f0545,_0x1060de[-0x1249+-0x5*0x3e+0x68*0x30]['y']=_0x23889e,_0x1060de[-0xfb2+0xed8+0xdb]['z']=-_0x25d812,_0x1060de[0x2415+-0xabb+-0x1958]['x']=-_0x3f0545,_0x1060de[0xa18+0x10fd*-0x1+0x3*0x24d]['y']=_0x23889e,_0x1060de[-0x1cf4*-0x1+-0x1797+-0x55b]['z']=-_0x25d812,_0x1060de[-0x1008+-0x49*0x1d+0x1850]['x']=-_0x3f0545,_0x1060de[0x2440+0x257+-0x2694]['y']=-_0x23889e,_0x1060de[-0x1*-0x1646+0x9*0x133+-0x210e]['z']=-_0x25d812,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x3f0545=_0x50e19a*Math['tan'](_0x186ef4/(0x175e+-0xf1*0x16+-0x2a6)),_0x23889e=_0x3f0545/this['aspectRati'+'o']):(_0x23889e=_0x50e19a*Math['tan'](_0x186ef4/(0xdc9+0x141a+-0x21e1)),_0x3f0545=_0x23889e*this['aspectRati'+'o'])),_0x1060de[0x25c5+0x2477+-0x4*0x128e]['x']=_0x3f0545,_0x1060de[-0x375*0x1+-0x43d+-0x2a*-0x2f]['y']=-_0x23889e,_0x1060de[0x17*-0x39+-0x115*-0xa+-0x61*0xf]['z']=-_0x50e19a,_0x1060de[0x12a*0x1+-0x154d+-0x2*-0xa14]['x']=_0x3f0545,_0x1060de[-0x89c+-0x4*0x751+0x25e5]['y']=_0x23889e,_0x1060de[-0x1361+0xdbe*0x1+-0x2*-0x2d4]['z']=-_0x50e19a,_0x1060de[0x1de0+0x1c49+-0x3*0x1361]['x']=-_0x3f0545,_0x1060de[-0x26e*0xc+-0x2*-0x9d9+0x97c]['y']=_0x23889e,_0x1060de[0x3b0*-0x7+0xf9d+0x1*0xa39]['z']=-_0x50e19a,_0x1060de[0x59d*-0x1+0x23*-0xca+-0x3*-0xb16]['x']=-_0x3f0545,_0x1060de[-0x11d3*-0x1+-0x21*0x121+0x11*0x125]['y']=-_0x23889e,_0x1060de[0x4*-0x20b+0x11ce+-0x99b]['z']=-_0x50e19a,_0x1060de;}['setXrPrope'+'rties'](_0x57e80d){Object['assign'](this['_xrPropert'+'ies'],_0x57e80d),this['_projMatDi'+'rty']=!(-0x12*0x5d+-0x129*0x2+0x8dc);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x4f8ce9,_0x3e9864,_0x351f8f){const _0x3a37c0=new ol();switch(_0x3a37c0['node']=new De(_0x4f8ce9),_0x3a37c0['aspectRati'+'o']=-0xd0d+-0x1d5f+0x2a6d*0x1,_0x3a37c0['aspectRati'+'oMode']=Bu,_0x3a37c0['_scissorRe'+'ctClear']=!(-0x25*0x37+0x2b*-0x71+0x2*0xd77),_0x3e9864){case Pe:_0x3a37c0['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x351f8f]),_0x3a37c0['fov']=-0x4d4*-0x8+-0x18*-0xcc+-0x3e*0xed,_0x3a37c0['projection']=Gs;break;case Re:_0x3a37c0['projection']=Gs;break;case oe:_0x3a37c0['projection']=ua;break;}return _0x3a37c0;}static['evalSpotCo'+'okieMatrix'](_0x419999){let _0x35f099=Qi['_spotCooki'+'eCamera'];_0x35f099||(_0x35f099=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x35f099),_0x35f099['fov']=_0x419999['_outerCone'+'Angle']*(0x40a+0x22a9+-0x26b1);const _0x11caca=_0x35f099['_node'];_0x11caca['setPositio'+'n'](_0x419999['_node']['getPositio'+'n']()),_0x11caca['setRotatio'+'n'](_0x419999['_node']['getRotatio'+'n']()),_0x11caca['rotateLoca'+'l'](-(0xad0+-0x1b68*-0x1+0x4a*-0x83),0x184a+-0x200+0x3b7*-0x6,0x6b9+-0x1*-0x1c51+-0x230a),e_['setTRS'](_0x11caca['getPositio'+'n'](),_0x11caca['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x35f099['projection'+'Matrix'],e_);const _0x21b2e2=_0x419999['cookieMatr'+'ix'],_0x5874c9=_0x419999['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x5874c9['x'],_0x5874c9['y'],_0x5874c9['z'],_0x5874c9['w']),_0x21b2e2['mul2'](s_,t_),_0x21b2e2;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x1d61+-0x1e6d+0x3bce,0x11d1*0x2+0x1227+0x356f*-0x1,0x3a3+0x1d6*0x1+0xb*-0x6f),new se()['setFromEul'+'erAngles'](0xf*0x20b+-0xe21*0x1+0x4*-0x421,-(0xa*0x154+-0xa1*-0x29+-0x11*0x247),0x996*-0x2+0x1*-0x26b7+0x3a97),new se()['setFromEul'+'erAngles'](-0x509*-0x2+0x1a*0x17f+0x184f*-0x2,0x25f9+-0x1d5c+-0x89d,0x3ef*-0x4+-0x160a+0x78e*0x5),new se()['setFromEul'+'erAngles'](-(-0x1c6*-0xd+0x1c1b+-0x32cf*0x1),0x1c5+-0x5a2*0x2+-0xd*-0xbb,0x7b2+-0xa*-0xad+-0xe74),new se()['setFromEul'+'erAngles'](0x17*-0x4+-0x1c4d+0x1ca9,-0x110a+0x20f3+-0x1*0xf35,-0x10c3+-0x136c+-0x1*-0x24e3),new se()['setFromEul'+'erAngles'](-0x571*-0x1+-0x3*-0x6b3+-0xcc5*0x2,0x8e4*-0x2+0x1*0x21b3+-0x1*0xfeb,-0x1cd*-0xf+0x1e60+-0x38af)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=-0x269+0xb1a*-0x1+0x1*0xd83+0.000001,Zt=new T(),xr=new Float32Array(-0x1*-0x2037+0x3*0x796+0x1b*-0x209),mC=new T(-(0x1*0x5fb+0x1*-0x285+0x1bb*-0x2+0.5),-0x1*-0x21d7+0x1*0xfbf+-0x3196,0x2b8+0x2021+-0x22d9),_C=new T(-0x11*0x13e+-0xde*0x3+0x17b8,0x1*0xb88+-0x2665+0xd*0x211,0x227+0x23f9+0x28*-0xf4+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x339516){c(this,'areaLights'+'Enabled',!(0x3aa*-0x1+-0x5d*0xa+-0x10b*-0x7)),(this['device']=_0x339516,this['cookiesEna'+'bled']=!(0x7*0x43d+0x8cc+0x133b*-0x2),this['shadowsEna'+'bled']=!(-0x1801+0x1b2*0x2+0x149e),this['areaLights'+'Enabled']=!(-0x355*-0x8+0x26a6+-0x49*0xe5),this['maxLights']=-0x4e1+-0xd5b+0x223*0x9);const _0x1df381=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((-0x267e+0x2f*0x6b+0x12dd)*_0x1df381*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x1df381,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x4d5bf0=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((0xee+-0x198+0xae)*_0x4d5bf0*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x4d5bf0,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=-0x827+-0x8*-0xc5+-0x1ff*-0x1,this['invMaxAtte'+'nuation']=0xf1f*-0x1+0x1*-0x16f1+-0x15c*-0x1c,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x3cfba8=(_0x1b4e3b,_0x482338)=>Object['keys'](_0x1b4e3b)['map'](_0x5819ee=>'#define\x20'+_0x482338+_0x5819ee+'\x20'+_0x1b4e3b[_0x5819ee])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cfba8(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x3cfba8(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x41f3e5,_0xe70d7e;(_0x41f3e5=this['lightsText'+'ure8'])==null||_0x41f3e5['destroy'](),this['lightsText'+'ure8']=null,(_0xe70d7e=this['lightsText'+'ureFloat'])==null||_0xe70d7e['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x4e0f01,_0x1646e9,_0x1daa11,_0x12fe46,_0x28f6d2){return new he(_0x4e0f01,{'name':_0x28f6d2,'width':_0x1646e9,'height':_0x1daa11,'mipmaps':!(0x695+-0x7a*0x3e+0x16f8),'format':_0x12fe46,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x11f2ee,_0x47c260){this['invMaxColo'+'rValue']=(0x161c+0x8*-0x1ac+-0x5*0x1bf)/_0x47c260,this['invMaxAtte'+'nuation']=(-0x2626+0x2be+0x2369)/_0x11f2ee;}['setBounds'](_0x26062b,_0x448cbb){this['boundsMin']['copy'](_0x26062b),this['boundsDelt'+'a']['copy'](_0x448cbb);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x1ec4b0,_0x88df9f){_0x88df9f['_node']['getWorldTr'+'ansform']()['getY'](_0x1ec4b0)['mulScalar'](-(-0x1b08+-0x1b*-0xc+0x19c5)),_0x1ec4b0['normalize']();}['getLightAr'+'eaSizes'](_0xf52293){const _0x2916dc=_0xf52293['_node']['getWorldTr'+'ansform']();return _0x2916dc['transformV'+'ector'](mC,Zt),xr[0x571+0x1636*0x1+-0x1*0x1ba7]=Zt['x'],xr[-0x246c+-0x9a4+-0x3*-0xf5b]=Zt['y'],xr[-0x157b+-0x692+0x1c0f]=Zt['z'],_0x2916dc['transformV'+'ector'](_C,Zt),xr[0x1*0x196a+0x2563+0x2f*-0x156]=Zt['x'],xr[0x2*0x2ae+-0x23b1+0x11*0x1c9]=Zt['y'],xr[0x1*0x1b91+-0xc32+-0xf5a]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x5d699d,_0x4e7295,_0xaecc78,_0x534377,_0x5aa652,_0x3411fb){_0x5d699d[_0x4e7295+(-0x2*-0x7d9+0x1*0xaae+-0x1a60)]=_0x534377?-0x1bd6+-0x10e*0x1+-0x7*-0x445:0x18*0xb3+-0xc6c+-0x45c,_0x5d699d[_0x4e7295+(-0x1122*0x1+-0x3*0x2e7+0x19d8)]=this['areaLights'+'Enabled']?_0xaecc78['_shape']*(-0x55f+-0x10d2+-0x77b*-0x3):-0x1*0x17eb+0xf1*0x2+-0x1*-0x1609,_0x5d699d[_0x4e7295+(0x2*-0xe8+0x1*0x1061+-0xe8f)]=_0xaecc78['_falloffMo'+'de']*(0x3*0xc1c+0x1*-0xfc8+-0x138d),_0x5d699d[_0x4e7295+(-0x1ece+-0x2*0x1039+0x1*0x3f43)]=_0x5aa652?_0x3411fb*(-0x35e+-0xc83+0x10e0):-0xfde+-0x1142+-0xa0*-0x35;}['addLightDa'+'taColor'](_0x61e20b,_0x518665,_0x30e78f,_0x29c948){const _0x39d180=this['invMaxColo'+'rValue'],_0x3220f3=_0x30e78f['_colorLine'+'ar'];$t['float2Byte'+'s'](_0x3220f3[-0x939+-0x2*0x6c+-0x35b*-0x3]*_0x39d180,_0x61e20b,_0x518665+(0x9*0x2c3+0x9c6+0x3*-0xb8b),0x1a42+0x10f*0x1b+-0x36d5),$t['float2Byte'+'s'](_0x3220f3[-0x869*0x2+-0x3f1+0x14c4]*_0x39d180,_0x61e20b,_0x518665+(0x3*-0xc69+-0xf25*-0x1+0x1618),0x250c+-0x3aa*0x9+-0x410),$t['float2Byte'+'s'](_0x3220f3[-0x1f80+-0x1*-0x896+0x16ec]*_0x39d180,_0x61e20b,_0x518665+(0x1dc5*-0x1+-0xb*0x126+-0x1*-0x2a6b),-0x26c2+0xc8d+-0x3*-0x8bd),_0x61e20b[_0x518665+(-0x739+0x14*-0x1c6+-0x4bf*-0x9)]=_0x29c948?0x1e4f+0xb80+-0x28d0:-0x1c51*0x1+0x3e4*0x1+-0x25*-0xa9;const _0x54661a=!!(_0x30e78f['mask']&hs),_0x59d790=!!(_0x30e78f['mask']&cr);_0x61e20b[_0x518665+(-0x21cd+-0xa46+-0x2c1a*-0x1)]=_0x54661a&&_0x59d790?-0xcca+-0x2589*0x1+0x32d2:_0x59d790?0xd1c+-0x1*0x26dd+0x1ac0:-0x37d+-0x4c1*0x2+0xcff;}['addLightDa'+'taSpotAngl'+'es'](_0x27bd70,_0x1a49f6,_0x4b4209){$t['float2Byte'+'s'](_0x4b4209['_innerCone'+'AngleCos']*(0x1002+-0x16e*0x19+0x1*0x13bc+0.5-i_)+(0x930+-0x5ff+0x331*-0x1+0.5),_0x27bd70,_0x1a49f6+(0x1272+-0x22ed*0x1+0x1*0x107b),-0x1*0x2183+-0x57b*0x6+0x4267*0x1),$t['float2Byte'+'s'](_0x4b4209['_outerCone'+'AngleCos']*(0x7*0x9d+-0x2182+-0x1b*-0x115+0.5-i_)+(-0x1a00+0x11b1*-0x1+-0x2bb1*-0x1+0.5),_0x27bd70,_0x1a49f6+(0x25*-0x42+0x3*0x85d+-0xf8b),0x25ff+-0x12*0x182+-0xad9);}['addLightDa'+'taShadowBi'+'as'](_0x3f2370,_0x1b473e,_0x21f290){const _0x21947d=_0x21f290['getRenderD'+'ata'](null,-0x848+0xd5*0xb+-0xdf),_0x208075=_0x21f290['_getUnifor'+'mBiasValue'+'s'](_0x21947d);$t['float2Byte'+'sRange'](_0x208075['bias'],_0x3f2370,_0x1b473e,-(0x107*0x2+-0x1307+0x10fa),0x1a60+0x41*0x4+-0x6d4*0x4,-0x2*0xd12+0x8*-0x264+0x2d46),$t['float2Byte'+'s'](_0x208075['normalBias'],_0x3f2370,_0x1b473e+(-0x1c5+0xe21+-0x41e*0x3),0x50d*0x4+-0x32*0x1d+-0xe88*0x1);}['addLightDa'+'taCookies'](_0x15a8e1,_0x4405c4,_0x56c24e){const _0x388180=_0x56c24e['_cookieCha'+'nnel']==='rgb';if(_0x15a8e1[_0x4405c4+(-0x2683*-0x1+0xff8*0x2+-0x4673)]=Math['floor'](_0x56c24e['cookieInte'+'nsity']*(-0x5c*-0x65+0x4f1+-0x283e)),_0x15a8e1[_0x4405c4+(-0x3a7*-0xa+0x7ad*0x5+0x2*-0x2573)]=_0x388180?0x14f*0x2+-0x1*0x147d+0x96f*0x2:0x1b76+0x1*-0x559+-0x75f*0x3,!_0x388180){const _0x9ccba5=_0x56c24e['_cookieCha'+'nnel'];_0x15a8e1[_0x4405c4+(0x189c+-0x4f*0x5e+0x71*0xa)]=_0x9ccba5==='rrr'?-0x1e42+-0x9fd*-0x1+-0x1*-0x1544:-0x13d9+0x149f*-0x1+-0x5c8*-0x7,_0x15a8e1[_0x4405c4+(0x1*-0x2361+-0x217c+-0x3*-0x16f6)]=_0x9ccba5==='ggg'?-0xd42+-0xb5e*-0x1+-0x1*-0x2e3:-0x2*0x1ac+0x16c3+-0x3*0x679,_0x15a8e1[_0x4405c4+(0x1d45+0x223*-0x10+0x4f1)]=_0x9ccba5==='bbb'?0x1b5c+-0x74d+-0x1310:0x332+-0x1e8f+0x1b5d,_0x15a8e1[_0x4405c4+(0x3*0xc6b+-0x15*-0x15b+-0x41b1)]=_0x9ccba5==='aaa'?-0x65*-0x53+-0x160d+-0x9b3:0x61a+-0xcb*-0x22+-0x5c*0x5c;}}['addLightDa'+'ta'](_0x25cd16,_0x18cd80){const _0x24dd53=_0x25cd16['_type']===Re,_0x43d072=_0x25cd16['atlasViewp'+'ortAllocat'+'ed'],_0x354264=this['cookiesEna'+'bled']&&!!_0x25cd16['_cookie']&&_0x43d072,_0x18f57d=this['areaLights'+'Enabled']&&_0x25cd16['shape']!==yt,_0x1feb37=this['shadowsEna'+'bled']&&_0x25cd16['castShadow'+'s']&&_0x43d072,_0x51afc0=_0x25cd16['_node']['getPositio'+'n']();let _0x952e11=null,_0x5aaf47=null;_0x24dd53?_0x1feb37?_0x952e11=_0x25cd16['getRenderD'+'ata'](null,0x380*-0x6+0x1*0x51+0x14af)['shadowMatr'+'ix']:_0x354264&&(_0x952e11=Ma['evalSpotCo'+'okieMatrix'](_0x25cd16)):(_0x1feb37||_0x354264)&&(_0x5aaf47=_0x25cd16['atlasViewp'+'ort']);const _0x2dd2f1=this['lights8'],_0x1697dd=_0x18cd80*this['lightsText'+'ure8']['width']*(0x405+-0x1156+0x1*0xd55);this['addLightDa'+'taFlags'](_0x2dd2f1,_0x1697dd+(-0x24e1+0x1*-0x1137+0x361c)*Sr['FLAGS'],_0x25cd16,_0x24dd53,_0x1feb37,_0x25cd16['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x2dd2f1,_0x1697dd+(0x2f*0x97+0x425+-0x1fda)*Sr['COLOR_A'],_0x25cd16,_0x354264),_0x24dd53&&this['addLightDa'+'taSpotAngl'+'es'](_0x2dd2f1,_0x1697dd+(-0x2*0xc2+-0x41*0x2b+0xc73*0x1)*Sr['SPOT_ANGLE'+'S'],_0x25cd16),_0x25cd16['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x2dd2f1,_0x1697dd+(0x1aa5*0x1+-0x1cb0+0x20f)*Sr['SHADOW_BIA'+'S'],_0x25cd16),_0x354264&&this['addLightDa'+'taCookies'](_0x2dd2f1,_0x1697dd+(-0x16f9+-0x497+-0x14*-0x161)*Sr['COOKIE_A'],_0x25cd16);const _0x412f98=this['lightsFloa'+'t'],_0x3169ba=_0x18cd80*this['lightsText'+'ureFloat']['width']*(0x2*-0x494+0x2*0x2cc+0x2*0x1ca);if(_0x412f98[_0x3169ba+(0x8b5+-0xc6+0x1*-0x7eb)*lt['POSITION_R'+'ANGE']+(0x71*0x4b+0x17d3*-0x1+-0x63*0x18)]=_0x51afc0['x'],_0x412f98[_0x3169ba+(-0x32*-0xb3+-0x3*0xb35+0x71*-0x3)*lt['POSITION_R'+'ANGE']+(-0x5e8*0x5+-0x226+0x1faf*0x1)]=_0x51afc0['y'],_0x412f98[_0x3169ba+(0x1d8*-0xd+0x2345+-0xb49)*lt['POSITION_R'+'ANGE']+(-0x9*0x399+0x2a0+0x1dc3)]=_0x51afc0['z'],_0x412f98[_0x3169ba+(0x10c+0x152b+-0x1633)*lt['POSITION_R'+'ANGE']+(0x1af1+0x274*0xe+0x2c9*-0x16)]=_0x25cd16['attenuatio'+'nEnd'],_0x24dd53&&(this['getSpotDir'+'ection'](Zt,_0x25cd16),_0x412f98[_0x3169ba+(-0x1d29+-0xdbd*0x2+0x38a7)*lt['SPOT_DIREC'+'TION']+(-0x1647+0x6d5*0x1+-0xf72*-0x1)]=Zt['x'],_0x412f98[_0x3169ba+(0xb*0xc5+0x1*-0x1b31+0x12be)*lt['SPOT_DIREC'+'TION']+(0x11a8+0xc*-0x1e2+0x37*0x17)]=Zt['y'],_0x412f98[_0x3169ba+(-0x1310+-0x259+0x156d)*lt['SPOT_DIREC'+'TION']+(-0x4d9*0x8+-0x2501*-0x1+-0x1c9*-0x1)]=Zt['z']),_0x952e11){const _0x4948e4=_0x952e11['data'];for(let _0x1e3e8a=0x37*-0x95+0x1d*-0x34+0x25e7*0x1;_0x1e3e8a<0xbc4+0x145*-0x1d+0x1*0x191d;_0x1e3e8a++)_0x412f98[_0x3169ba+(-0x876*-0x3+0x1*0x3ee+-0x4e2*0x6)*lt['PROJ_MAT_0']+_0x1e3e8a]=_0x4948e4[_0x1e3e8a];}if(_0x5aaf47&&(_0x412f98[_0x3169ba+(-0x2ea*-0x2+0x1*0x971+-0x30d*0x5)*lt['ATLAS_VIEW'+'PORT']+(-0x252f+0x3a9+-0x1*-0x2186)]=_0x5aaf47['x'],_0x412f98[_0x3169ba+(-0x419*0x4+0x97*0x1d+0x1*-0xb3)*lt['ATLAS_VIEW'+'PORT']+(0x5*0x4b1+-0x16db+0x1*-0x99)]=_0x5aaf47['y'],_0x412f98[_0x3169ba+(0xb3f*0x1+0x25a3+-0x30de)*lt['ATLAS_VIEW'+'PORT']+(-0x20c8+-0x23c5+0x448f)]=_0x5aaf47['z']/(-0x225b+0xc29*-0x1+-0x2e87*-0x1)),_0x18f57d){const _0x5c58a2=this['getLightAr'+'eaSizes'](_0x25cd16);_0x412f98[_0x3169ba+(0xafe+-0x3*-0x4dc+-0x2*0xcc7)*lt['AREA_DATA_'+'WIDTH']+(-0x4c6+-0x150+0x2*0x30b)]=_0x5c58a2[-0x23c5+-0x2324+0x17a3*0x3],_0x412f98[_0x3169ba+(0x2274+0x1*-0x1d16+-0x55a)*lt['AREA_DATA_'+'WIDTH']+(0x17a0+0x2f9*0xa+-0x3559*0x1)]=_0x5c58a2[-0x1aae+-0x1809+0x32b8],_0x412f98[_0x3169ba+(-0x2263+0x163*0x13+-0x2*-0x407)*lt['AREA_DATA_'+'WIDTH']+(-0x7be*-0x4+0xfc0+-0x175b*0x2)]=_0x5c58a2[-0xa13*0x1+0x2574+-0x1b5f],_0x412f98[_0x3169ba+(0x1915*0x1+-0x26a8+0xd97)*lt['AREA_DATA_'+'HEIGHT']+(-0x1942+-0x1238*0x1+0x2b7a)]=_0x5c58a2[0x21c5+-0x5b*0x15+0x7f*-0x35],_0x412f98[_0x3169ba+(-0x9*0x295+-0x26ee+0x3e2f)*lt['AREA_DATA_'+'HEIGHT']+(0x39c+0x221b+-0x25b6)]=_0x5c58a2[0x637*-0x4+-0x1*0x1ef8+0x37d8],_0x412f98[_0x3169ba+(-0x15ea+0xa08+0xbe6)*lt['AREA_DATA_'+'HEIGHT']+(-0x2ad*0x9+-0x10e5+0x28fc)]=_0x5c58a2[0x2629+-0x1ebb+-0x769];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x17b*0x1+-0xf4f+-0x1*-0x10ca+0.000001,n_=0x1*0x84e+-0x3f3+0x10f*0xb;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x16c9e1){c(this,'clusterTex'+'ture'),(this['device']=_0x16c9e1,this['name']='Untitled',this['reportCoun'+'t']=-0x25*0x4f+-0xf7*0x18+0x2293,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(-0x1b10+-0x2442+0x3f53,0x1*0x259+-0xde3+0x5*0x24f,0x571*0x1+-0x1f*0x3+-0x3*0x1b1),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x21af+0x1*-0x1997+-0x814,this['_maxAttenu'+'ation']=-0xdfd+-0x2b*0x16+0x5e5*0x3,this['_maxColorV'+'alue']=-0x581+-0x1*-0x2ef+0x5e*0x7,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x16c9e1),this['registerUn'+'iforms'](_0x16c9e1));}set['maxCellLig'+'htCount'](_0x24896c){_0x24896c!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x24896c,this['_cellsDirt'+'y']=!(0x9*0x233+-0x1ee9+0x2*0x58f));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x3e383f){Ml['copy'](_0x3e383f)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(-0xdf3*0x1+-0x79b+0x158e));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0xd0d61a){this['_clusterSk'+'ipId']=_0xd0d61a['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0xd0d61a['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0xd0d61a['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0xd0d61a['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x3*0x571+0x17f5+-0x2845),this['_clusterBo'+'undsMinId']=_0xd0d61a['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0xb1*0x17+0x43*-0x2e+0x3da*-0x1),this['_clusterBo'+'undsDeltaI'+'d']=_0xd0d61a['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x1ead*-0x1+0x4e2+0x19ce),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0xd0d61a['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1*-0x240b+0x1b24+0xe*0xa3),this['_clusterCe'+'llsDotId']=_0xd0d61a['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x247*0xd+-0x16c7+-0x6d1),this['_clusterCe'+'llsMaxId']=_0xd0d61a['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x93+-0x1720+-0xb48*-0x2),this['_clusterCo'+'mpressionL'+'imit0Id']=_0xd0d61a['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x14f+0x199*-0x16+-0x5*-0x74b);}['updatePara'+'ms'](_0x15676e){_0x15676e&&(this['cells']=_0x15676e['cells'],this['maxCellLig'+'htCount']=_0x15676e['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x15676e['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x15676e['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x15676e['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x1598+0x1a*0xff+0x3*-0x16f);const _0x501bd0=this['_cells']['x'],_0x368af9=this['_cells']['y'],_0xd6234e=this['_cells']['z'],_0x4b2427=_0x501bd0*_0x368af9*_0xd6234e,_0x8493a9=this['maxCellLig'+'htCount']*_0x4b2427;let _0x5c4141=Math['ceil'](Math['sqrt'](_0x8493a9));_0x5c4141=N['roundUp'](_0x5c4141,this['maxCellLig'+'htCount']);const _0x16aaab=Math['ceil'](_0x8493a9/_0x5c4141);v['assert'](_0x5c4141<=n_&&_0x16aaab<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x11*0x71+-0x9*-0x3e5+-0x2b*0xa4]=_0x501bd0,this['_clusterCe'+'llsMaxData'][0x19*-0xfc+0x1ac9+0x116*-0x2]=_0x368af9,this['_clusterCe'+'llsMaxData'][-0x23*0xba+0x1f*0xd2+-0x2*-0x1]=_0xd6234e,this['_clusterCe'+'llsDotData'][-0x72*0x4c+0x165c+0xb7c]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x1f61+-0xb*0x1c9+0x25*0x161]=_0x501bd0*_0xd6234e*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x16c4+-0x2*-0x743+0x840]=_0x501bd0*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x8493a9),this['counts']=new Int32Array(_0x4b2427),this['_clusterTe'+'xtureSizeD'+'ata'][0x14a7+0x5cf+0x2*-0xd3b]=_0x5c4141,this['_clusterTe'+'xtureSizeD'+'ata'][0x122f+0x7*-0x18a+-0x9e*0xc]=(-0x1337*-0x2+-0xd46*0x1+0x1*-0x1927)/_0x5c4141,this['_clusterTe'+'xtureSizeD'+'ata'][0xe77+-0xe12+0x9*-0xb]=(0x1*0xd3a+-0x1f21*0x1+0x11e8)/_0x16aaab,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x5c4141,_0x16aaab,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x11c6+-0x1*-0x7cd+-0x1992?0x1c01+-0x3*0x1e6+-0x164f:0x1ae9+-0x5*0x33a+-0xac6),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0xe3197c=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x5d3+-0x1571*0x1+0x1b44]=this['_cells']['x']/_0xe3197c['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x58*0x60+0x260f+0x1*-0x50e]=this['_cells']['y']/_0xe3197c['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1687+0xb*-0x28d+0x58a]=this['_cells']['z']/_0xe3197c['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x173e+-0x1f46*-0x1+0x101*-0x8]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x6a6*-0x1+-0x7*0x229+0x87a]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x21b0+0x6f*0x2f+-0x1*-0xd51]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1615+0x1ad1+0xca*-0x6]=_0xe3197c['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x22*0xc3+-0x18cc+-0x1*-0x32b3]=_0xe3197c['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x7db*0x3+0x1*-0x1c51+-0xa2*-0x52]=_0xe3197c['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x7*0x1be+-0x1968+0xd36]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x11*0x1d+0xf71+0x23*-0x7f]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x2f957e,_0x1e0fea,_0x44b3a3){_0x1e0fea['copy'](_0x2f957e['min']),_0x1e0fea['sub'](this['boundsMin']),_0x1e0fea['div'](this['boundsDelt'+'a']),_0x1e0fea['mul2'](_0x1e0fea,this['cells']),_0x1e0fea['floor'](),_0x44b3a3['copy'](_0x2f957e['max']),_0x44b3a3['sub'](this['boundsMin']),_0x44b3a3['div'](this['boundsDelt'+'a']),_0x44b3a3['mul2'](_0x44b3a3,this['cells']),_0x44b3a3['ceil'](),_0x1e0fea['max'](T['ZERO']),_0x44b3a3['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x5985ad){const _0x5773e9=this['lightsBuff'+'er']['maxLights'],_0x50ee8b=this['_usedLight'+'s'];let _0x121475=0x657+-0x23b5+0x1d5f;_0x5985ad['forEach'](_0x54e284=>{const _0x473ad8=!!(_0x54e284['mask']&(hs|cr)),_0x57fccf=_0x54e284['type']===Re&&_0x54e284['_outerCone'+'Angle']===-0x49f+0x2522+-0x2083*0x1;if(_0x54e284['enabled']&&_0x54e284['type']!==oe&&_0x54e284['visibleThi'+'sFrame']&&_0x54e284['intensity']>0x1726+0x282+-0x19a8&&_0x473ad8&&!_0x57fccf){if(_0x121475<_0x5773e9){let _0x47ba0a;_0x121475<_0x50ee8b['length']?_0x47ba0a=_0x50ee8b[_0x121475]:(_0x47ba0a=new a_(),_0x50ee8b['push'](_0x47ba0a)),_0x47ba0a['light']=_0x54e284,_0x54e284['getBoundin'+'gBox'](bd),_0x47ba0a['min']['copy'](bd['getMin']()),_0x47ba0a['max']['copy'](bd['getMax']()),_0x121475++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x5773e9-(-0x8*-0xc3+0x18df+-0x3*0xa52))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x50ee8b['length']=_0x121475;}['evaluateBo'+'unds'](){const _0x4fcb64=this['_usedLight'+'s'],_0x347773=this['boundsMin'],_0x359cec=this['boundsMax'];if(_0x4fcb64['length']>0x4*-0xd1+-0x2193*0x1+-0xc*-0x312){_0x347773['copy'](_0x4fcb64[0x1ca*-0xd+0x26c7+-0xf84]['min']),_0x359cec['copy'](_0x4fcb64[-0x20d1+-0x83f+0x1*0x2911]['max']);for(let _0x5b2436=0x10ea+0x1d3c+-0x2e24;_0x5b2436<_0x4fcb64['length'];_0x5b2436++)_0x347773['min'](_0x4fcb64[_0x5b2436]['min']),_0x359cec['max'](_0x4fcb64[_0x5b2436]['max']);}else _0x347773['set'](0xf98+0x1*0x1786+0x271e*-0x1,0x248f+-0x8e*0x1+-0x2c5*0xd,0x92c+0x1375+-0x1*0x1ca1),_0x359cec['set'](0x2268+0x11*0x65+0x6da*-0x6,-0x336+-0x1e5f+0x10cb*0x2,-0xe*-0x259+-0x1075+-0x1068);this['boundsDelt'+'a']['sub2'](_0x359cec,_0x347773),this['lightsBuff'+'er']['setBounds'](_0x347773,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x3332e5=-0x22f5+-0x2385+-0xbbf*-0x6,_0x28c93b=0xee9*-0x1+0x3c6+0xb23;const _0x2da377=this['_usedLight'+'s'];for(let _0x5549b6=-0x21f+-0xc56+0xe76;_0x5549b6<_0x2da377['length'];_0x5549b6++){const _0x88df9=_0x2da377[_0x5549b6]['light'];_0x3332e5=Math['max'](_0x88df9['attenuatio'+'nEnd'],_0x3332e5);const _0x97b1=_0x88df9['_colorLine'+'ar'];_0x28c93b=Math['max'](_0x97b1[0x21f0+-0xe82+0x33d*-0x6],_0x28c93b),_0x28c93b=Math['max'](_0x97b1[0x1*-0x26d5+-0x1b41+-0x7*-0x971],_0x28c93b),_0x28c93b=Math['max'](_0x97b1[-0xe3a+0x1*0x326+0xb16],_0x28c93b);}this['_maxAttenu'+'ation']=_0x3332e5+r_,this['_maxColorV'+'alue']=_0x28c93b+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x418434){this['counts']['fill'](-0x1d*-0x105+0x6d3*0x1+-0x4*0x919),this['clusters']['fill'](0x12a1+0xb0b+-0x1*0x1dac),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x418434?_0x418434['areaLights'+'Enabled']:!(-0x25c1+0x99*0x12+0x1b00);const _0x56ad46=this['_cells']['x'],_0x87babd=this['_cells']['z'],_0x398989=this['counts'],_0x14b909=this['_maxCellLi'+'ghtCount'],_0x380e9e=this['clusters'],_0x177dd7=this['maxCellLig'+'htCount'];let _0x74751b=!(-0x29f*-0x4+-0x121*-0xb+0x2*-0xb73);const _0x3a2219=this['_usedLight'+'s'];for(let _0x27cfc9=0xc23*-0x1+0x1501*0x1+-0x1*0x8dd;_0x27cfc9<_0x3a2219['length'];_0x27cfc9++){const _0x4f55ef=_0x3a2219[_0x27cfc9],_0x6f58d3=_0x4f55ef['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x6f58d3,_0x27cfc9),this['evalLightC'+'ellMinMax'](_0x4f55ef,Pl,Rl);const _0x3f688e=Pl['x'],_0x3b1d8d=Rl['x'],_0x4fbd89=Pl['y'],_0xed41db=Rl['y'],_0x5bb233=Pl['z'],_0x29529a=Rl['z'];for(let _0xf34b33=_0x3f688e;_0xf34b33<=_0x3b1d8d;_0xf34b33++)for(let _0x314643=_0x5bb233;_0x314643<=_0x29529a;_0x314643++)for(let _0x2a7b87=_0x4fbd89;_0x2a7b87<=_0xed41db;_0x2a7b87++){const _0x4bdc13=_0xf34b33+_0x56ad46*(_0x314643+_0x2a7b87*_0x87babd),_0x54693e=_0x398989[_0x4bdc13];_0x54693e<_0x14b909?(_0x380e9e[_0x177dd7*_0x4bdc13+_0x54693e]=_0x27cfc9,_0x398989[_0x4bdc13]=_0x54693e+(-0x201b*0x1+0x25e7*-0x1+0x4603)):_0x74751b=!(-0x1*0xf5+0x2*0xa21+-0x134d);}}_0x74751b&&this['reportCoun'+'t']<0x1de7+0x6d*0xd+-0x236b&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0xdd+0x26e+-0x347?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x35c605,_0x9d147=null){this['updatePara'+'ms'](_0x9d147),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x35c605),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x9d147),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=-0x43*0x7c+0x2521+0xef*-0x5+0.39996322972865306,ll={'circlePoint'(_0x2fe2a6){const _0x56ee3f=Math['sqrt'](Math['random']()),_0x1c00ba=Math['random']()*(-0x1*0x8de+-0xf2a+0x180a)*Math['PI'];_0x2fe2a6['x']=_0x56ee3f*Math['cos'](_0x1c00ba),_0x2fe2a6['y']=_0x56ee3f*Math['sin'](_0x1c00ba);},'circlePointDeterministic'(_0x246309,_0x583669,_0x3473ab){const _0x56aa9f=_0x583669*o_,_0x1d555b=Math['sqrt'](_0x583669)/Math['sqrt'](_0x3473ab);_0x246309['x']=_0x1d555b*Math['cos'](_0x56aa9f),_0x246309['y']=_0x1d555b*Math['sin'](_0x56aa9f);},'spherePointDeterministic'(_0x552498,_0x21df26,_0x2859d6,_0x165825=0x7*-0x1f6+0x1de4+-0x2*0x815,_0x33d565=-0x1c73+-0x24dd+0x4151){_0x165825=-0xf62+-0x53a+0x149d-(0x1*-0x1b47+0x22ec*0x1+0x73*-0x11)*_0x165825,_0x33d565=-0x5*-0x55f+-0x1b00+0x26-(0x8*0x435+-0x3*0x562+-0x140*0xe)*_0x33d565;const _0x2d8630=N['lerp'](_0x165825,_0x33d565,_0x21df26/_0x2859d6),_0x3210cf=Math['sqrt'](-0x65*-0x3f+-0xb*0x16+-0x17e8-_0x2d8630*_0x2d8630),_0x5303de=o_*_0x21df26;_0x552498['x']=Math['cos'](_0x5303de)*_0x3210cf,_0x552498['y']=_0x2d8630,_0x552498['z']=Math['sin'](_0x5303de)*_0x3210cf;},'radicalInverse'(_0x21e203){let _0x1f25bc=(_0x21e203<<0x24e*0x7+-0xcfb*-0x3+-0x1*0x3703|_0x21e203>>>0x627+0x11f1*0x1+-0x8*0x301)>>>0x1d95+-0xc*-0x161+0x7*-0x697;return _0x1f25bc=((_0x1f25bc&-0x24563b04+-0x9*-0x873de61+-0x2d98bef0*-0x1)<<0x8*-0x246+0xd*0x1a9+-0xd9*0x4|(_0x1f25bc&-0xd027e45*-0x13+0x1*0xe1ae2eea+-0x12e32e35f)>>>0x1473+-0x17*0xca+-0x24c)>>>-0x322+0x1f0c+0x3*-0x94e,_0x1f25bc=((_0x1f25bc&-0xc1*0x5975ba+0x5d4*-0x103802+-0x1*-0xd52b6015)<<-0xca6*-0x2+-0x2*0x567+-0xe7c|(_0x1f25bc&-0x29aa5c83+-0xffe3*0x3221+0x128927b92*0x1)>>>-0x2*0xcbb+0x1c3*0xe+-0xce*-0x1)>>>-0xb*0x277+0x8*-0x33b+-0x1*-0x34f5,_0x1f25bc=((_0x1f25bc&0x18b2d542*0x1+0x2*0x9398ecd+-0x1c16e3cd)<<-0x1*0x15bb+-0x4*0xbf+0x18bb|(_0x1f25bc&-0x17ed3a7ac+0x15be24c87*0x1+-0x1*-0x113e24c15)>>>-0x10d7+-0x1c43*0x1+0xa5*0x46)>>>0x1*0x1e35+0x9c9*0x3+-0x4*0xee4,_0x1f25bc=((_0x1f25bc&-0x1f*-0xc429f+0x2603a*0x1c+-0x107b1*0xba)<<-0x1f2d+0x3a1*-0x4+0x2db9|(_0x1f25bc&0x1d2d1618d*-0x1+-0x1dedda949+0x9*0x8568e4a6)>>>-0x1f3e+-0x1448+0x338e)>>>0x7b6+-0xe0*-0x18+-0x1cb6,_0x1f25bc*(0x3*-0xc31+-0x2*-0xe62+0x7cf*0x1+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0xb2de8e){return gC[_0xb2de8e]||'decodeGamm'+'a';}static['encodeFunc'](_0x4a71ab){return yC[_0x4a71ab]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x1a4b79,_0x16a33e){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x16a33e['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x1a4b79['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x152dc5=>{switch(_0x152dc5){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x447113,_0x465231,_0x434666)=>{if(_0x447113<=0x25d1+-0x74*-0x48+0x3*-0x177b)_0x465231[_0x434666+(-0x195*-0xa+0x136b+-0x233d)]=0x95*-0xb+-0x1425+0x1a8c,_0x465231[_0x434666+(-0xb*0xff+0x1c2c+-0x1136)]=-0x1fed+0x212c+-0x13f,_0x465231[_0x434666+(-0xb69+-0x17f9+0x2364)]=0x7a*-0x49+-0x7cc*0x3+-0x16*-0x2a5,_0x465231[_0x434666+(-0x1099*0x1+-0x2*-0xa09+0x376*-0x1)]=-0x16*0x1ba+-0xfb*-0x1+0x2501;else{if(_0x447113>=-0x231+-0x329*-0x7+-0x13ed)_0x465231[_0x434666+(0x58d*0x7+-0x3a*-0x7f+0x1*-0x43a1)]=0x2c9+0x1e13+0x3*-0xa9f,_0x465231[_0x434666+(-0x71*0x7+0x25d+0xbb)]=-0x261e+-0x1a09+0x4027,_0x465231[_0x434666+(0x136c+0x1208+-0x2*0x12b9)]=0xf9e+-0x1a32*-0x1+-0x29d0,_0x465231[_0x434666+(-0x4af+0x5*0x167+-0x251)]=-0x13a7+-0x21*0x121+0x38e8;else{let _0x233cac=(-0x2*-0xd7f+0xd0f+-0x280c)*_0x447113%(-0x43*0x1+0x1e85+-0x1e41),_0x45fde4=(-0x12a4*-0x1+-0x16*-0xc1+-0x3*0xb69)*_0x447113%(0x1*0x9e3+-0x604+-0x3de),_0x17e721=(-0x15a51+0x1162b+0x14227)*_0x447113%(-0x2c1*-0x3+-0x1417+0xbd5);const _0x34c772=(-0x1d37e46+0x15ea00+0x2917f5*0x11)*_0x447113%(-0x1*-0x695+0x18f9*-0x1+-0x11*-0x115);_0x233cac-=_0x45fde4/(0x1*0x53d+0x1833+-0x1*0x1c71),_0x45fde4-=_0x17e721/(0x31f*-0x2+-0x3b*0x34+0x1339*0x1),_0x17e721-=_0x34c772/(0x1f9f+0x982*0x1+0x3a6*-0xb),_0x465231[_0x434666+(0xd*0x1fd+0x2f*-0xa6+0x4a1*0x1)]=Math['min'](0xd*0x2f5+0x1b9a+-0x410c,Math['floor'](_0x233cac*(-0x1*-0x11d1+0x1233+-0xc*0x2eb))),_0x465231[_0x434666+(-0x13c5+0xac1+0x905)]=Math['min'](-0x1*0x2313+0x26d3+-0x2c1*0x1,Math['floor'](_0x45fde4*(-0x1824+0x25e2+-0xcbe))),_0x465231[_0x434666+(0x22*-0xf7+-0x1807+0x38d7*0x1)]=Math['min'](-0x1*0xb95+-0xcb6+0x1f2*0xd,Math['floor'](_0x17e721*(0x4c7*-0x7+-0x9ab+0x2c1c))),_0x465231[_0x434666+(-0x2af+-0x1b76+0x3c5*0x8)]=Math['min'](0x2096+-0x2c0+-0x1cd7,Math['floor'](_0x34c772*(-0x20e*0x12+0x1955+0xca7)));}}},xC=_0x5f0a74=>{const _0x429483=_0x5f0a74['length'],_0xd92673=Math['min'](_0x429483,-0x648*0x2+-0x5c1+-0x2e7*-0x7),_0x15627f=Math['ceil'](_0x429483/_0xd92673),_0x6670df=new Uint8Array(_0xd92673*_0x15627f*(0x1361*-0x1+-0x1c4e*0x1+-0x1*-0x2fb3));let _0x1f25da=0x3*0x585+0x99*-0x37+0x18*0xae;for(let _0x4ef079=-0x18d8+0x917+0xfc1;_0x4ef079<_0x429483;_0x4ef079+=-0x19fa+-0x35*-0x25+-0x13*-0xf7)Il(_0x5f0a74[_0x4ef079+(0x1c1*0x5+0x1c56+-0x251b)]*(0x826+0x13*-0xaa+0x478+0.5)+(-0xfc0+0x13e3+-0x1*0x423+0.5),_0x6670df,_0x1f25da+(-0x3*0x805+-0xc1f+0x242e)),Il(_0x5f0a74[_0x4ef079+(-0x1*-0x267b+0x6ad+-0x2d27)]*(-0x164c+-0xa33*0x1+-0x2f*-0xb1+0.5)+(-0x6e1+-0xd*-0x151+-0xa*0x106+0.5),_0x6670df,_0x1f25da+(0xe59+-0x75+-0xde0)),Il(_0x5f0a74[_0x4ef079+(-0x1af*0x2+0xb33+-0x7d3)]*(0x71*0x1d+0x693*0x4+-0x2719*0x1+0.5)+(-0x3*-0x195+-0x3*-0x869+-0x1dfa+0.5),_0x6670df,_0x1f25da+(0x1*0xe5d+0xeb1+-0x1d06)),Il(_0x5f0a74[_0x4ef079+(0x1*-0x168e+-0x26b4+0x3d45)]/(-0x23a4+0xc64+0x28*0x95),_0x6670df,_0x1f25da+(0x13e*0x8+-0x1ea9+-0xd*-0x199)),_0x1f25da+=-0xc6d*0x3+0x7cd+-0x13*-0x18e;return{'width':_0xd92673,'height':_0x15627f,'data':_0x6670df};},SC=(_0x5d27f3,_0x5b1db6,_0x25f586,_0x176c82)=>{const _0x280efb=_0x25f586*(-0x40*-0x6b+-0x1a08+-0xd*0xe)*Math['PI'],_0xead4bf=Math['pow'](0x1*-0xb9e+0x5*-0x623+0x2a4e-_0x5b1db6,(0x1ecd+0x15ab+-0x3477)/(_0x176c82+(0x109+-0x234e+0x6b*0x52))),_0x4947ef=Math['sqrt'](0x392*0x6+0x109f+-0x260a-_0xead4bf*_0xead4bf);_0x5d27f3['set'](Math['cos'](_0x280efb)*_0x4947ef,Math['sin'](_0x280efb)*_0x4947ef,_0xead4bf)['normalize']();},vC=(_0x5d06a5,_0xb86804,_0x4fd3ec)=>{const _0x4c80a0=_0x4fd3ec*(0x65*-0x25+-0x2695+-0x2*-0x1a98)*Math['PI'],_0xaf7aeb=Math['sqrt'](0x864*-0x1+0x5*-0x419+0xe71*0x2-_0xb86804),_0x26fcbc=Math['sqrt'](_0xb86804);_0x5d06a5['set'](Math['cos'](_0x4c80a0)*_0x26fcbc,Math['sin'](_0x4c80a0)*_0x26fcbc,_0xaf7aeb)['normalize']();},bC=(_0x42fb6a,_0x50dd17,_0xc281a6,_0x523121)=>{const _0x5997cf=_0xc281a6*(0x1*0xe5f+0x19ba+-0x2817)*Math['PI'],_0x4b107d=Math['sqrt']((0x7cf+0x1972+-0x26*0xe0-_0x50dd17)/(0x1988+-0x3f8+-0x158f*0x1+(_0x523121*_0x523121-(0x16fd+0x1aab+-0x31a7*0x1))*_0x50dd17)),_0x1941a9=Math['sqrt'](-0x18c0+-0x1a93+0x3354-_0x4b107d*_0x4b107d);_0x42fb6a['set'](Math['cos'](_0x5997cf)*_0x1941a9,Math['sin'](_0x5997cf)*_0x1941a9,_0x4b107d)['normalize']();},wC=(_0x51ccb2,_0x5d950d)=>{const _0x14b283=_0x51ccb2*_0x5d950d,_0x401503=_0x5d950d/(0x2321+-0x16e1*-0x1+0x1*-0x3a01-_0x51ccb2*_0x51ccb2+_0x14b283*_0x14b283);return _0x401503*_0x401503*((-0x1e6d+-0xd7*-0x6+-0x82*-0x32)/Math['PI']);},TC=(_0x54a2a0,_0x353ed2)=>{const _0x10c239=new T(),_0x125530=[];for(let _0x59e610=0x1*0x1a4f+-0x18c3+0x18c*-0x1;_0x59e610<_0x54a2a0;++_0x59e610)SC(_0x10c239,_0x59e610/_0x54a2a0,ll['radicalInv'+'erse'](_0x59e610),_0x353ed2),_0x125530['push'](_0x10c239['x'],_0x10c239['y'],_0x10c239['z'],0x8ec+-0x2*-0xfbb+-0x2862);return _0x125530;},AC=(_0xc94a38,_0x1ab1cc)=>{const _0x216dfe=_0x1ab1cc/_0xc94a38,_0xa6925e=new T(),_0x45000a=[];for(let _0xe24818=-0x72a*0x1+0x1d10+0x1*-0x15e6;_0xe24818<_0xc94a38;++_0xe24818){vC(_0xa6925e,_0xe24818/_0xc94a38,ll['radicalInv'+'erse'](_0xe24818));const _0x39f7e2=_0xa6925e['z']/Math['PI'],_0x3de6e7=(0x6*-0x565+0x1a7a*-0x1+0x3ad8+0.5)*Math['log2'](_0x216dfe/_0x39f7e2);_0x45000a['push'](_0xa6925e['x'],_0xa6925e['y'],_0xa6925e['z'],_0x3de6e7);}return _0x45000a;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x3d09c5,_0x34ac44)=>{const _0x374c=EC[_0x3d09c5];return _0x374c&&_0x374c[_0x34ac44]||_0x3d09c5;},MC=(_0x59d679,_0x569e4c,_0x13e815)=>{const _0x4eaae5=_0x13e815/_0x59d679,_0x5b9ad5=-0xc*-0x197+0x1fb3+0x61*-0x86-Math['log2'](_0x569e4c)/(0xf6e+-0x26cd+-0x176a*-0x1),_0x216f72=_0x5b9ad5*_0x5b9ad5,_0x1806e9=new T(),_0x5523fe=new T(),_0x56b917=new T(0x1b24+0x1da1*0x1+-0x38c5,0xab3+-0x453+0x4*-0x198,-0x1260+0x29*0xcc+-0xe4b*0x1),_0x4ca93d=[],_0x28a565=CC(_0x59d679,_0x569e4c);for(let _0x568b99=-0x6*0x12a+0x1f5c+-0x1e0*0xd;_0x568b99<_0x28a565;++_0x568b99){bC(_0x1806e9,_0x568b99/_0x28a565,ll['radicalInv'+'erse'](_0x568b99),_0x216f72);const _0x376da=_0x1806e9['z'];if(_0x5523fe['set'](_0x1806e9['x'],_0x1806e9['y'],_0x1806e9['z'])['mulScalar']((-0x137b+-0x1c61+-0x2fde*-0x1)*_0x376da)['sub'](_0x56b917),_0x5523fe['z']>0xa94*0x1+0x1*-0x95+0x1*-0x9ff){const _0x36340a=wC(Math['min'](-0xd90+0x16d7+-0x946*0x1,_0x376da),_0x216f72)/(0x2010+-0x21b*0xb+-0x8e3)+(0x4*-0x5bf+0x10ea+0x612+0.001),_0x23de07=(0x1*-0x1ea4+-0xf53*-0x2+-0x2+0.5)*Math['log2'](_0x4eaae5/_0x36340a);_0x4ca93d['push'](_0x5523fe['x'],_0x5523fe['y'],_0x5523fe['z'],_0x23de07);}}for(;_0x4ca93d['length']<_0x59d679*(-0xb06+0x2b7*0xd+0x1*-0x1841);)_0x4ca93d['push'](-0x2*-0x84+0x18*0x79+-0x9*0x160,-0x1fd2+-0x184a*0x1+0xab*0x54,0x11*-0x44+-0x2f9*0x1+-0x9*-0xd5,0xc86*0x3+-0xa72+-0x1b20);return _0x4ca93d;},PC=(_0x38784f,_0x32710f,_0x519fb0)=>{const _0x2d750e=xC(_0x519fb0);return new he(_0x38784f,{'name':_0x32710f,'width':_0x2d750e['width'],'height':_0x2d750e['height'],'mipmaps':!(-0x14*-0x6e+0x6c8*-0x1+0x1*-0x1cf),'minFilter':de,'magFilter':de,'levels':[_0x2d750e['data']]});};class C0{constructor(_0x1dab4f=!(-0xa3*-0x1d+-0x132d+0xb6)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x1dab4f;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x2d7f51,_0x5333dc)=>{_0x2d7f51['destroy']();});}['get'](_0x3ffc4f,_0x150b2a){if(!this['map']['has'](_0x3ffc4f)){const _0x439706=_0x150b2a();return this['map']['set'](_0x3ffc4f,_0x439706),_0x439706;}return this['map']['get'](_0x3ffc4f);}}const RC=new C0(!(-0xdf*-0x1a+-0xb53*0x1+-0xb52)),IC=new Ot(),Lp=(_0x13fced,_0x55aac5,_0x155160)=>IC['get'](_0x13fced,()=>new C0())['get'](_0x55aac5,()=>PC(_0x13fced,_0x55aac5,RC['get'](_0x55aac5,_0x155160))),DC=(_0x3d8511,_0x54c20d,_0x3d2cee)=>{const _0x13ad89='lambert-sa'+'mples-'+_0x54c20d+'-'+_0x3d2cee;return Lp(_0x3d8511,_0x13ad89,()=>AC(_0x54c20d,_0x3d2cee));},LC=(_0x56fe06,_0x2233a9,_0xf80680)=>{const _0x5ef104='phong-samp'+'les-'+_0x2233a9+'-'+_0xf80680;return Lp(_0x56fe06,_0x5ef104,()=>TC(_0x2233a9,_0xf80680));},FC=(_0x121481,_0x3c1b21,_0x54d4b0,_0x44f06f)=>{const _0x865629='ggx-sample'+'s-'+_0x3c1b21+'-'+_0x54d4b0+'-'+_0x44f06f;return Lp(_0x121481,_0x865629,()=>MC(_0x3c1b21,_0x54d4b0,_0x44f06f));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x56c5bc,_0x539a0a,_0x43b306={}){var _0x4b9450,_0x555674;v['assert'](_0x56c5bc instanceof he&&_0x539a0a instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x3f22f5=_0x43b306['seamPixels']??-0xeb5*-0x1+-0x8*-0x6d+-0x121d,_0x127a5b=(((_0x4b9450=_0x43b306['rect'])==null?void(-0x1d*0x13c+-0x34*-0x29+0x1b78):_0x4b9450['z'])??_0x539a0a['width'])-_0x3f22f5*(0xe8f*-0x1+0x6*-0xf6+-0x5*-0x411),_0x26bf00=(((_0x555674=_0x43b306['rect'])==null?void(0x1e58+-0x16da+-0x77e):_0x555674['w'])??_0x539a0a['height'])-_0x3f22f5*(0x102b*-0x1+-0x1*-0x61+0x544*0x3);if(_0x127a5b<0x227e+0x145f+-0x36dc||_0x26bf00<-0x1*-0x18f5+0xf35*0x1+-0x2829)return!(-0xf5c+-0x1027*0x2+-0x1*-0x2fab);const _0x1916ac={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x402e6a=_0x43b306['hasOwnProp'+'erty']('specularPo'+'wer')?_0x43b306['specularPo'+'wer']:0xa51+-0x126e+0x1*0x81e,_0x55ae5c=_0x43b306['hasOwnProp'+'erty']('face')?_0x43b306['face']:null,_0x4b982e=_0x43b306['hasOwnProp'+'erty']('distributi'+'on')?_0x43b306['distributi'+'on']:_0x402e6a===0x1*-0x83a+0x7c1*0x3+-0x4a*0x34?'none':'phong',_0x542833=_0x1916ac[_0x4b982e]||'reproject',_0x4dd801=_0x542833['startsWith']('prefilterS'+'amples'),_0x5e722e=Es['decodeFunc'](_0x56c5bc['encoding']),_0x43ac90=Es['encodeFunc'](_0x539a0a['encoding']),_0x268da4='sample'+l_(_0x56c5bc['projection']),_0x3bce6a='getDirecti'+'on'+l_(_0x539a0a['projection']),_0x2dea8d=_0x43b306['hasOwnProp'+'erty']('numSamples')?_0x43b306['numSamples']:-0x3d*-0x9f+0x1*0x229d+-0x4480,_0x5d4a88=_0x542833+'_'+_0x5e722e+'_'+_0x43ac90+'_'+_0x268da4+'_'+_0x3bce6a+'_'+_0x2dea8d,_0x1f3db9=_0x56c5bc['device'];let _0x116b36=ka(_0x1f3db9)['getCachedS'+'hader'](_0x5d4a88);if(!_0x116b36){const _0x3949b3='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x542833+'\x0a'+(_0x4dd801?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x56c5bc['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x5e722e+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x43ac90+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x268da4+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x3bce6a+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x2dea8d+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x2dea8d))['toFixed'](0xd*-0x5+0x89*0x1+-0x47)+'\x0a';_0x116b36=Is(_0x1f3db9,OC,_0x3949b3+'\x0a'+X['reprojectP'+'S'],_0x5d4a88);}G['pushGpuMar'+'ker'](_0x1f3db9,'ReprojectT'+'exture'),_0x1f3db9['setBlendSt'+'ate'](_t['NOBLEND']);const _0x44db13=_0x1f3db9['scope']['resolve'](_0x56c5bc['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x44db13),_0x44db13['setValue'](_0x56c5bc);const _0x568ca3=_0x1f3db9['scope']['resolve']('params'),_0x198977=_0x1f3db9['scope']['resolve']('uvMod');_0x3f22f5>0x9c+-0xc1*0x25+0x1b49?_0x198977['setValue']([(_0x127a5b+_0x3f22f5*(-0xd*-0x19f+0x2*-0xfbb+-0x377*-0x3))/_0x127a5b,(_0x26bf00+_0x3f22f5*(0xa9f*0x3+-0x1d*-0x14b+-0x455a))/_0x26bf00,-_0x3f22f5/_0x127a5b,-_0x3f22f5/_0x26bf00]):_0x198977['setValue']([-0x1c39+-0x1d8a+0x39c4,-0x218d+0x19a3+-0x7eb*-0x1,-0x10f*0x15+-0x17f*0xb+-0x4d6*-0x8,-0x11*0x15b+0x1dd*-0xa+0x29ad]);const _0x43710a=[-0x3b3*0x4+0x1*0x6d+0xe5f,_0x539a0a['width']*_0x539a0a['height']*(_0x539a0a['cubemap']?-0x3a4+-0x850+-0x5fd*-0x2:0x3fa+-0xe2*-0x23+-0x22df*0x1),_0x56c5bc['width']*_0x56c5bc['height']*(_0x56c5bc['cubemap']?-0x20b5+-0x1*-0x2e6+0x1dd5:0x21*0xf6+-0x6*-0x17f+-0x1*0x28af)];if(_0x4dd801){const _0x59cf76=_0x56c5bc['width']*_0x56c5bc['height']*(_0x56c5bc['cubemap']?-0x2017+0x1cd3*0x1+0x34a:-0x14b*-0x1a+0x13*-0x119+-0xcc2),_0x4e75b1=_0x4b982e==='ggx'?FC(_0x1f3db9,_0x2dea8d,_0x402e6a,_0x59cf76):_0x4b982e==='lambert'?DC(_0x1f3db9,_0x2dea8d,_0x59cf76):LC(_0x1f3db9,_0x2dea8d,_0x402e6a);_0x1f3db9['scope']['resolve']('samplesTex')['setValue'](_0x4e75b1),_0x1f3db9['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x2446+-0x6d3*-0x1+0x4*-0xac6)/_0x4e75b1['width'],(-0x5f*-0x1f+-0x1d7f*-0x1+-0x28ff)/_0x4e75b1['height']]);}for(let _0x17f7bd=-0x4*-0x99a+0x1*-0x1d10+0x2e*-0x34;_0x17f7bd<(_0x539a0a['cubemap']?0x5e*-0x5b+-0xc*0x271+0x646*0xa:-0x10bf+-0x464*0x2+-0x8*-0x331);_0x17f7bd++)if(_0x55ae5c===null||_0x17f7bd===_0x55ae5c){const _0x56aa43=new pt({'colorBuffer':_0x539a0a,'face':_0x17f7bd,'depth':!(-0x2002+0x1e3d*-0x1+0x3e40),'flipY':_0x1f3db9['isWebGPU']});_0x43710a[-0x29*-0x6b+0x1cdb+-0x2dfe]=_0x17f7bd,_0x568ca3['setValue'](_0x43710a),dn(_0x1f3db9,_0x56aa43,_0x116b36,_0x43b306==null?void(-0x14b0+-0x7a*-0x2b+-0x1*-0x32):_0x43b306['rect']),_0x56aa43['destroy']();}return G['popGpuMark'+'er'](_0x1f3db9),!(-0x1*-0x1dc1+0x83*-0x49+-0x2*-0x3cd);}const wd=(_0x7d2334,_0x3a9645=0x6*-0x607+0x4b9*0x7+0x31b)=>0x2f1+0x2c9+-0x5b9+Math['floor'](Math['log2'](Math['max'](_0x7d2334,_0x3a9645))),kC=_0x5edf2e=>_0x5edf2e['textureHal'+'fFloatRend'+'erable'],BC=_0x355d69=>_0x355d69['textureFlo'+'atRenderab'+'le'],NC=_0x21ea3e=>kC(_0x21ea3e)?Je:BC(_0x21ea3e)?Ke:Se,zC=_0x457d38=>Se,UC=(_0x9712a1,_0x3cbee9,_0x5a8204,_0x1f8282)=>new he(_0x9712a1,{'name':'lighting-'+_0x3cbee9,'cubemap':!(-0x92+-0x247b*-0x1+-0x23e9),'width':_0x3cbee9,'height':_0x3cbee9,'format':_0x5a8204,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(0x270e+0x23aa+0x1*-0x4ab7)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x45ba9a,_0x4ee12a){const _0x87b799=_0x45ba9a['device'];G['pushGpuMar'+'ker'](_0x87b799,'genSkyboxC'+'ubemap');const _0xaa6527=UC(_0x87b799,_0x4ee12a||(_0x45ba9a['cubemap']?_0x45ba9a['width']:_0x45ba9a['width']/(-0x211c+-0x1*0x15a4+0x36c4)),Se);return Qs(_0x45ba9a,_0xaa6527,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x87b799),_0xaa6527;}static['generateLi'+'ghtingSour'+'ce'](_0x35067c,_0x342d79){const _0x2edcc3=_0x35067c['device'];G['pushGpuMar'+'ker'](_0x2edcc3,'genLightin'+'gSource');const _0x3118e9=NC(_0x2edcc3),_0x40fce1=(_0x342d79==null?void(0x1c2e+-0x1bf6+-0x38):_0x342d79['target'])||new he(_0x2edcc3,{'name':'lighting-s'+'ource','cubemap':!(-0x1b80+0x3*0xa7a+-0x3ee),'width':(_0x342d79==null?void(0x26b5+-0x23f6*-0x1+-0xeef*0x5):_0x342d79['size'])||-0x3cb*-0x5+0xd*-0x293+0x180*0xa,'height':(_0x342d79==null?void(-0x1486+0xb*0x28d+-0x789):_0x342d79['size'])||0x481*0x1+0x1f9e+-0x239f,'format':_0x3118e9,'type':_0x3118e9===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(-0x1908+-0x621*-0x3+0x9*0xbd)});return Qs(_0x35067c,_0x40fce1,{'numSamples':_0x35067c['mipmaps']?0x1774+-0x71*0x3b+0x2*0x14c:0x1a90+-0x354+-0x4cf*0x4}),G['popGpuMark'+'er'](_0x2edcc3),_0x40fce1;}static['generateAt'+'las'](_0x70513c,_0x571a14){const _0x2581df=_0x70513c['device'],_0x30e215=zC();G['pushGpuMar'+'ker'](_0x2581df,'genAtlas');const _0x3973de=(_0x571a14==null?void(-0x1*0xdeb+0x1d6+0x1*0xc15):_0x571a14['target'])||new he(_0x2581df,{'name':'envAtlas','width':(_0x571a14==null?void(0x2461+0x523+0x1*-0x2984):_0x571a14['size'])||-0x1864*-0x1+0xe43*0x1+-0xb*0x355,'height':(_0x571a14==null?void(-0x18fd+-0x13*-0x2b+0x15cc):_0x571a14['size'])||0x12*0xa4+-0x1*0x1db8+0x2*0xa18,'format':_0x30e215,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x4*-0x418+-0xb*-0x106+0x51f)});G['pushGpuMar'+'ker'](_0x2581df,'mipmaps');const _0x461d0d=_0x3973de['width']/(-0x2f6+-0x3*0x295+0x1*0xcb5),_0x531929=new Q(-0x2268+0x2257+0x1*0x11,0x2*-0x1315+0x1e7*0x13+0xb*0x2f,(-0x1c1c+0x9fb+0x1421)*_0x461d0d,(0x20bd+0x353+-0x2310)*_0x461d0d),_0x17082a=wd(0x24ac+-0x1*0x2041+-0x36b)-wd(0x3*0x805+-0x19cf+0x4*0x71);for(let _0x42d74e=0x2*0x687+0x13c2+0xc8*-0x2a;_0x42d74e<_0x17082a;++_0x42d74e)Qs(_0x70513c,_0x3973de,{'numSamples':0x1,'rect':_0x531929,'seamPixels':_0x461d0d}),_0x531929['x']+=_0x531929['w'],_0x531929['y']+=_0x531929['w'],_0x531929['z']=Math['max'](-0x2*-0x305+-0x3fb+-0x107*0x2,Math['floor'](_0x531929['z']*(-0x1*-0x20e7+-0x1f5+-0x1ef2+0.5))),_0x531929['w']=Math['max'](0x2081+0x3*-0x4db+-0x1*0x11ef,Math['floor'](_0x531929['w']*(-0x722+-0x539*-0x1+-0x1e9*-0x1+0.5)));G['popGpuMark'+'er'](_0x2581df),G['pushGpuMar'+'ker'](_0x2581df,'reflection'+'s'),_0x531929['set'](0x1d6c+-0x1cda+-0x92,(-0x35*0x39+-0xec0+0x1b8d)*_0x461d0d,(-0x2*-0x122b+-0xf14+-0x1442)*_0x461d0d,(-0x7*-0x58b+0x1*-0x21b1+-0x49c)*_0x461d0d);for(let _0x4d0c55=0x25ab+0x32f*0x1+-0x28d9;_0x4d0c55<0x1b09+0x1*0xede+-0x29e0;++_0x4d0c55)Qs(_0x70513c,_0x3973de,{'numSamples':(_0x571a14==null?void(0x53f*-0x4+0x205e+-0xb62):_0x571a14['numReflect'+'ionSamples'])||-0xc00+-0x6ee+0x16ee,'distribution':(_0x571a14==null?void(0x22c8+-0xa7*0x13+-0x1*0x1663):_0x571a14['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x201*0x13+0x1*-0x1df2+-0x1*-0x4406,0x18e2+0x149a+-0x95f*0x4>>_0x4d0c55*(-0x1d2*0x4+0x83*0x4c+-0x2*0xfcd)),'rect':_0x531929,'seamPixels':_0x461d0d}),_0x531929['y']+=_0x531929['w'],_0x531929['z']=Math['max'](-0xdb6+-0x1f1f+0x2cd6,Math['floor'](_0x531929['z']*(0x295+0x26ef*0x1+-0x2984+0.5))),_0x531929['w']=Math['max'](0x194+-0x1904+0x1771,Math['floor'](_0x531929['w']*(-0x12ae+0xab+0x1203+0.5)));return G['popGpuMark'+'er'](_0x2581df),G['pushGpuMar'+'ker'](_0x2581df,'ambient'),_0x531929['set']((-0x1d9*0xd+0x6c3*0x1+0x11c2)*_0x461d0d,(0x15cc+0x1*0x25f3+-0x3a3f)*_0x461d0d,(-0x224+-0x2679+0x28dd)*_0x461d0d,(-0x996+-0x89*-0x1+-0x105*-0x9)*_0x461d0d),Qs(_0x70513c,_0x3973de,{'numSamples':(_0x571a14==null?void(-0x1*-0x1f86+0x1ab8+-0x3a3e):_0x571a14['numAmbient'+'Samples'])||-0xd07+0x8*0x463+-0xd*0x115,'distribution':'lambert','rect':_0x531929,'seamPixels':_0x461d0d}),G['popGpuMark'+'er'](_0x2581df),G['popGpuMark'+'er'](_0x2581df),_0x3973de;}static['generatePr'+'efilteredA'+'tlas'](_0xcf308c,_0x32cfbd){const _0xa4a31f=_0xcf308c[-0x1*0x1391+0x1b*-0x12e+0x336b]['device'],_0xe92e19=_0xcf308c[0x536+-0x1*0x19dd+0x14a7]['format'],_0x2597fe=_0xcf308c[-0xb*-0x17e+0x22d8+-0x3342]['type'];G['pushGpuMar'+'ker'](_0xa4a31f,'genPrefilt'+'eredAtlas');const _0x40cb36=(_0x32cfbd==null?void(0x2c*-0x8f+-0xd*-0x2a2+-0x9a6):_0x32cfbd['target'])||new he(_0xa4a31f,{'name':'envPrefilt'+'eredAtlas','width':(_0x32cfbd==null?void(0xb95*0x1+-0xbc4+0x2f):_0x32cfbd['size'])||-0xbd2+0x1d*0x13+0xbab,'height':(_0x32cfbd==null?void(0x777+-0x2671+0x632*0x5):_0x32cfbd['size'])||-0x2096+-0x2657+0x48ed,'format':_0xe92e19,'type':_0x2597fe,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x23ec+-0x12ba+-0x1131)});G['pushGpuMar'+'ker'](_0xa4a31f,'mipmaps');const _0x403093=_0x40cb36['width']/(-0x55*0x25+-0x780+0x15c9),_0x58b2dc=new Q(0x22ab*-0x1+0x19d*-0x1+0x2448,-0xbc9+0x15+-0x2ed*-0x4,(-0x5*-0x129+0xc*0x233+-0x83*0x3b)*_0x403093,(-0x58*-0x47+-0x53d*0x4+-0x274)*_0x403093),_0x8240d9=wd(-0x3bd+0x4a6*0x1+0x117);for(let _0x59bfa8=-0xc5b+-0x4*-0x565+-0x3*0x313;_0x59bfa8<_0x8240d9;++_0x59bfa8)Qs(_0xcf308c[0x1401+0x1*0x2531+-0x3932],_0x40cb36,{'numSamples':0x1,'rect':_0x58b2dc,'seamPixels':_0x403093}),_0x58b2dc['x']+=_0x58b2dc['w'],_0x58b2dc['y']+=_0x58b2dc['w'],_0x58b2dc['z']=Math['max'](0x1223+0x10ad+-0x4f9*0x7,Math['floor'](_0x58b2dc['z']*(0x1f3e+-0x6d+0x1*-0x1ed1+0.5))),_0x58b2dc['w']=Math['max'](-0x1d1+0x14bd*-0x1+0x168f,Math['floor'](_0x58b2dc['w']*(-0x59c*0x4+0x351*0xa+0x55d*-0x2+0.5)));G['popGpuMark'+'er'](_0xa4a31f),G['pushGpuMar'+'ker'](_0xa4a31f,'reflection'+'s'),_0x58b2dc['set'](-0x1727*0x1+-0x30d*0x6+-0x2975*-0x1,(-0x101d+-0x514+-0x17*-0xf7)*_0x403093,(-0x231*-0x10+-0x83d+0xb*-0x259)*_0x403093,(-0xcfd+0x5*-0x68f+0x2e48)*_0x403093);for(let _0x3be011=-0x232*-0xd+0xbc5+0x43*-0x9a;_0x3be011<_0xcf308c['length'];++_0x3be011)Qs(_0xcf308c[_0x3be011],_0x40cb36,{'numSamples':0x1,'rect':_0x58b2dc,'seamPixels':_0x403093}),_0x58b2dc['y']+=_0x58b2dc['w'],_0x58b2dc['z']=Math['max'](-0x9eb*0x1+-0x2634+-0x5*-0x9a0,Math['floor'](_0x58b2dc['z']*(-0x157+-0x1c1d+0x1d74+0.5))),_0x58b2dc['w']=Math['max'](-0x1994+0x191*-0x12+0x35c7,Math['floor'](_0x58b2dc['w']*(0x1bf7+-0x12*-0x1f6+-0x3f43+0.5)));return G['popGpuMark'+'er'](_0xa4a31f),G['pushGpuMar'+'ker'](_0xa4a31f,'ambient'),_0x58b2dc['set']((-0x8b*0x12+0x228e+0x8*-0x309)*_0x403093,(0x2*0xc0b+-0x1b94+0x4fe)*_0x403093,(-0x21b6+-0x258f+0x1*0x4785)*_0x403093,(0x228b+-0x7*-0x461+-0x4112)*_0x403093),_0x32cfbd!=null&&_0x32cfbd['legacyAmbi'+'ent']?Qs(_0xcf308c[0xea1+-0x1cfd+-0x1*-0xe61],_0x40cb36,{'numSamples':0x1,'rect':_0x58b2dc,'seamPixels':_0x403093}):Qs(_0xcf308c[-0x1*0x1f9c+-0xa57+-0x29f3*-0x1],_0x40cb36,{'numSamples':(_0x32cfbd==null?void(0x1*-0x22bd+0x1529*0x1+-0x2c*-0x4f):_0x32cfbd['numSamples'])||0x9*0x33+-0x62b*-0x4+-0x1277,'distribution':'lambert','rect':_0x58b2dc,'seamPixels':_0x403093}),G['popGpuMark'+'er'](_0xa4a31f),G['popGpuMark'+'er'](_0xa4a31f),_0x40cb36;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x2dfb64,_0x58d644)=>{const _0x40536b=_0x2dfb64['split']('.')['map'](_0x501597=>parseInt(_0x501597,-0x591*0x1+-0x4e7*-0x1+0xb4)),_0x5192a6=_0x58d644['split']('.')['map'](_0xca957b=>parseInt(_0xca957b,0x2344+-0xdad+0x72f*-0x3));return _0x40536b[0xc5+0x1746+-0x180b*0x1]<_0x5192a6[0x218b+0x111+-0x1*0x229c]||_0x40536b[-0xac9+-0xf25+-0x1*-0x19ee]===_0x5192a6[-0xb*-0x1c1+0x318+-0x1663]&&_0x40536b[-0xb5*0x2e+0x17*-0x43+0x1346*0x2]<_0x5192a6[0x8b3+0x1120+0x19d2*-0x1];},$C=_0x101bfc=>{const _0xf2bd05=_0x101bfc['APIVersion'];for(const _0x545d3d in _0x101bfc)if(_0x545d3d!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x545d3d)){const _0x233b6a=VC[_0x545d3d];_0x233b6a&&(!_0xf2bd05||HC(_0xf2bd05,_0x233b6a))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x545d3d+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x233b6a+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0xf2bd05||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x4c959d=GC[_0x545d3d];_0x4c959d?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x545d3d+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x4c959d+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x545d3d+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x1d82c8){_0x1d82c8['forEach'](_0x1eb5ca=>{_0x1eb5ca['endsWith']('\x0a')?this['code']+=_0x1eb5ca:this['code']+=_0x1eb5ca+'\x0a';});}['prepend'](..._0x101087){_0x101087['forEach'](_0x37ee72=>{_0x37ee72['endsWith']('\x0a')?this['code']=_0x37ee72+this['code']:this['code']=_0x37ee72+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class WC{constructor(_0x454faa,_0x26bcbf){if(this['device']=_0x454faa,this['options']=_0x26bcbf,this['attributes']={'vertex_position':He},_0x26bcbf['userAttrib'+'utes']){for(const [_0x394e95,_0x283902]of Object['entries'](_0x26bcbf['userAttrib'+'utes']))this['attributes'][_0x283902]=_0x394e95;}if(_0x26bcbf['chunks']){const _0x416d46=_0x26bcbf['chunks'];$C(_0x416d46),this['chunks']=Object['create'](X);for(const _0x38ee8f in X)if(_0x416d46['hasOwnProp'+'erty'](_0x38ee8f)){const _0x2e110a=_0x416d46[_0x38ee8f];for(const _0x4b1fc5 in Td)Td['hasOwnProp'+'erty'](_0x4b1fc5)&&_0x2e110a['indexOf'](_0x4b1fc5)>=0x4*-0x8ac+0x1fda+0x2d6&&(this['attributes'][_0x4b1fc5]=Td[_0x4b1fc5]);this['chunks'][_0x38ee8f]=_0x2e110a;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x26bcbf['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x26bcbf['lights']['length']>-0x1812+0x1fc*0x1+-0x202*-0xb||_0x26bcbf['dirLightMa'+'pEnabled']||_0x26bcbf['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x26bcbf['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x26bcbf['useSpecula'+'r']||_0x26bcbf['ambientSH']||_0x26bcbf['useHeights']||_0x26bcbf['enableGGXS'+'pecular']||_0x26bcbf['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x26bcbf['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x26bcbf['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x26bcbf['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x26bcbf['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x83041e,_0x641a16,_0x44c2bf){return _0x83041e+=_0x641a16['baseVS'],(_0x44c2bf['nineSliced'+'Mode']===nt||_0x44c2bf['nineSliced'+'Mode']===Qe)&&(_0x83041e+=_0x641a16['baseNineSl'+'icedVS']),_0x83041e;}['_setMapTra'+'nsform'](_0x44c9fb,_0x1025de,_0x550c62,_0x19d4aa){const _0x215104=_0x550c62+_0x19d4aa*(0x18b9+-0x2*0x170+-0x1575);if(!_0x44c9fb[0x115a*-0x2+-0x1e4a*-0x1+0xb*0x67][_0x215104]){const _0xf93109='texture_'+_0x1025de+('MapTransfo'+'rm');_0x44c9fb[0x1*-0x773+0xd*0x2ce+-0x1d03]+='uniform\x20ve'+'c3\x20'+_0xf93109+'0;\x0a',_0x44c9fb[0x1035*0x1+-0x2484+0x144f*0x1]+='uniform\x20ve'+'c3\x20'+_0xf93109+'1;\x0a',_0x44c9fb[-0x2352+0x1ee+0x2165]+='varying\x20ve'+'c2\x20vUV'+_0x19d4aa+'_'+_0x550c62+';\x0a',_0x44c9fb[-0x1e30+0x19ac+0x486]+='\x20\x20\x20vUV'+_0x19d4aa+'_'+_0x550c62+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x19d4aa+',\x201),\x20'+_0xf93109+('0),\x20dot(ve'+'c3(uv')+_0x19d4aa+',\x201),\x20'+_0xf93109+'1));\x0a',_0x44c9fb[0x1311+-0x26ae+0x13a0][_0x215104]=!(-0x1ea1*0x1+-0x1*0x1d2+0x2073);}return _0x44c9fb;}['_fsGetBase'+'Code'](){const _0x14de67=this['options'],_0x3b06f7=this['chunks'];let _0x49d54c=this['chunks']['basePS'];return _0x14de67['nineSliced'+'Mode']===nt?_0x49d54c+=_0x3b06f7['baseNineSl'+'icedPS']:_0x14de67['nineSliced'+'Mode']===Qe&&(_0x49d54c+=_0x3b06f7['baseNineSl'+'icedTiledP'+'S']),_0x49d54c;}['_fsGetStar'+'tCode'](_0x2e13c5,_0x2cf7c8,_0x5387ec,_0x23fa21){let _0x5506ec=_0x5387ec['startPS'];return _0x23fa21['nineSliced'+'Mode']===nt?_0x5506ec+=_0x5387ec['startNineS'+'licedPS']:_0x23fa21['nineSliced'+'Mode']===Qe&&(_0x5506ec+=_0x5387ec['startNineS'+'licedTiled'+'PS']),_0x5506ec;}['_getLightS'+'ourceShape'+'String'](_0xdc269e){switch(_0xdc269e){case Gb:return'Rect';case Hb:return'Disk';case $b:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x1e90b3,_0xc4098,_0x48a3b2){const _0x5ce37e=this['device'],_0x406caf=this['options'],_0x247a21=this['chunks'];let _0x4194e1='',_0x469967='',_0x1d61b1='';_0x4194e1=this['_vsAddBase'+'Code'](_0x4194e1,_0x247a21,_0x406caf),_0x469967+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x1d61b1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x469967+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x4194e1+=_0x247a21['transformV'+'S'],this['needsNorma'+'l']&&(_0x4194e1+=_0x247a21['normalCore'+'VS'],_0x4194e1+=_0x247a21['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x469967+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x406caf['reflection'+'Source']==='sphereMap'&&_0x5ce37e['fragmentUn'+'iformsCoun'+'t']<=0x2*-0xf0d+0x1d24+0x106&&(_0x4194e1+=_0x247a21['viewNormal'+'VS'],_0x469967+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x406caf['hasTangent'+'s']&&(_0x406caf['useHeights']||_0x406caf['useNormals']||_0x406caf['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x4194e1+=_0x247a21['tangentBin'+'ormalVS'],_0x469967+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x469967+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x406caf['enableGGXS'+'pecular']&&(_0x469967+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x1f355d=0x2*0x3c1+0x15*0x1f+-0xa0b;for(let _0x311f07=-0x2328+0x2*-0x524+0x2d70;_0x311f07<_0x1f355d;_0x311f07++)_0x1e90b3[_0x311f07]&&(this['attributes']['vertex_tex'+'Coord'+_0x311f07]='TEXCOORD'+_0x311f07,_0x4194e1+=_0x247a21['uv'+_0x311f07+'VS'],_0x469967+='\x20\x20\x20vec2\x20uv'+_0x311f07+'\x20=\x20getUv'+_0x311f07+'();\x0a'),_0xc4098[_0x311f07]&&(_0x469967+='\x20\x20\x20vUv'+_0x311f07+'\x20=\x20uv'+_0x311f07+';\x0a');const _0x3c621d=[_0x4194e1,this['varyings'],_0x469967,[]];_0x48a3b2['forEach'](_0x28d5e5=>{this['_setMapTra'+'nsform'](_0x3c621d,_0x28d5e5['name'],_0x28d5e5['id'],_0x28d5e5['uv']);}),_0x4194e1=_0x3c621d[-0x195c+0x1*-0x210d+-0x3a69*-0x1],this['varyings']=_0x3c621d[0x23a3+-0x47+-0x235b],_0x469967=_0x3c621d[-0x1db+0x5f4*0x3+-0xfff],_0x406caf['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x469967+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x406caf['useMsdf']&&_0x406caf['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x469967+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x4194e1+=_0x247a21['msdfVS']),(_0x406caf['useMorphPo'+'sition']||_0x406caf['useMorphNo'+'rmal'])&&(_0x1d61b1+='#define\x20MO'+'RPHING\x0a',_0x406caf['useMorphTe'+'xtureBased'+'Int']&&(_0x1d61b1+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x406caf['useMorphPo'+'sition']&&(_0x1d61b1+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x406caf['useMorphNo'+'rmal']&&(_0x1d61b1+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x406caf['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x406caf['batch']?_0x1d61b1+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x1d61b1+='#define\x20SK'+'IN\x0a')):_0x406caf['useInstanc'+'ing']&&(_0x1d61b1+='#define\x20IN'+'STANCING\x0a'),_0x406caf['screenSpac'+'e']&&(_0x1d61b1+='#define\x20SC'+'REENSPACE\x0a'),_0x406caf['pixelSnap']&&(_0x1d61b1+='#define\x20PI'+'XELSNAP\x0a'),_0x4194e1+='\x0a',_0x4194e1+=_0x247a21['startVS'],_0x4194e1+=_0x469967,_0x4194e1+=_0x247a21['endVS'],_0x4194e1+='}',Object['keys'](h_)['forEach'](_0x47bab1=>{_0x4194e1['indexOf'](_0x47bab1)>=0x7f*0x9+-0x1*-0x6d6+-0xb4d&&(this['varyings']+='varying\x20'+h_[_0x47bab1]+'\x20'+_0x47bab1+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x47bab1['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x1d61b1+this['varyings']+_0x4194e1;}['_fsGetBegi'+'nCode'](){let _0x33e046='';for(let _0x12d2be=-0x2607+-0x31f*0xb+0x485c*0x1;_0x12d2be<this['defines']['length'];_0x12d2be++)_0x33e046+='#define\x20'+this['defines'][_0x12d2be]+'\x0a';return _0x33e046;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0xa96cea=this['_fsGetBegi'+'nCode']();return _0xa96cea+=this['varyings'],_0xa96cea+=this['varyingDef'+'ines'],_0xa96cea+=this['frontendDe'+'cl'],_0xa96cea+=this['frontendCo'+'de'],_0xa96cea+=It['begin'](),_0xa96cea+=this['frontendFu'+'nc'],_0xa96cea+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0xa96cea+=It['end'](),_0xa96cea;}['_fsGetPreP'+'assCode'](){let _0x15daf5=this['_fsGetBegi'+'nCode']();return _0x15daf5+=this['varyings'],_0x15daf5+=this['varyingDef'+'ines'],_0x15daf5+=this['chunks']['floatAsUin'+'tPS'],_0x15daf5+=this['frontendDe'+'cl'],_0x15daf5+=this['frontendCo'+'de'],_0x15daf5+=It['begin'](),_0x15daf5+=this['frontendFu'+'nc'],_0x15daf5+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x15daf5+=It['end'](),_0x15daf5;}['_fsGetShad'+'owPassCode'](){const _0x5b1fb9=this['options'],_0x1e7abf=this['chunks'],_0x2a2d68=this['varyings'],_0x520dd3=this['shaderPass'+'Info']['lightType'];let _0x43d6ec=this['shaderPass'+'Info']['shadowType'];_0x520dd3!==oe&&_0x5b1fb9['clusteredL'+'ightingEna'+'bled']&&(_0x43d6ec===Hr||_0x43d6ec===$r||_0x43d6ec===Ts)&&(_0x43d6ec=Dt);const _0x16fa0a=ir['get'](_0x43d6ec);v['assert'](_0x16fa0a);const _0xfca68d=(_0x16fa0a==null?void(-0x1*-0x25ee+-0xf91+-0x165d):_0x16fa0a['vsm'])??!(-0x7f*-0x7+0x2182+-0x2*0x127d),_0x34c69f=(_0x16fa0a==null?void(0x1438+0xfeb+-0x1d*0x13f):_0x16fa0a['pcss'])??!(-0x1fe2+-0x18d5+0x6e*0x84);let _0x1a39ac=this['_fsGetBegi'+'nCode']();_0x43d6ec===$r?_0x1a39ac+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x43d6ec===Hr&&(_0x1a39ac+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x520dd3!==oe&&(_0x1a39ac+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x1a39ac+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x1a39ac+=_0x2a2d68,_0x1a39ac+=this['varyingDef'+'ines'],_0x1a39ac+=this['frontendDe'+'cl'],_0x1a39ac+=this['frontendCo'+'de'],_0x43d6ec===Ts&&(_0x1a39ac+=X['linearizeD'+'epthPS']),_0x1a39ac+=It['begin'](),_0x1a39ac+=this['frontendFu'+'nc'];const _0x25be2f=_0x520dd3===oe||!_0xfca68d&&_0x520dd3===Re;let _0x47b77f=!(0x1949+-0x1993*0x1+0x4b*0x1);return _0x25be2f?(_0x1a39ac+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x34c69f&&_0x520dd3!==oe&&(_0x1a39ac+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x1a39ac+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x47b77f=!(-0x2*0x68f+0x593*0x1+0x1*0x78b)),_0xfca68d?_0x1a39ac+=_0x1e7abf['storeEVSMP'+'S']:_0x34c69f?_0x1a39ac+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x47b77f&&(_0x1a39ac+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x1a39ac+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x1a39ac+=It['end'](),_0x1a39ac;}['_fsGetLitP'+'assCode'](){var _0x56b292;const _0x243761=this['device'],_0x50e458=this['options'],_0x4fc304=this['chunks'],_0xcb48f6=new sr(),_0x58c3d4=new sr(),_0x4c27d8=new sr(),_0x29f9b1=new sr();_0x50e458['opacityFad'+'esSpecular']===!(-0x29*-0xad+0xc7c*0x1+-0x2830)&&_0xcb48f6['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x50e458['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x50e458['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x50e458['fresnelMod'+'el']>0xfb1*0x2+-0x47+-0x1f1b&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x50e458['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x50e458['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x2d28fd=[];let _0x21debb=-0xba2*0x3+-0x1*-0x1108+-0x2*-0x8ef,_0x2858bb=!(-0x312+-0x1*-0x10f+0x1*0x204),_0x59088a=!(0x143+0x827+-0x49*0x21),_0x31055e=!(0xf*-0x1e8+0x149d*-0x1+0x2*0x189b),_0x32275b=_0x50e458['lights']['some'](_0x5ca565=>_0x5ca565['_shape']&&_0x5ca565['_shape']!==yt);_0x50e458['clusteredL'+'ightingEna'+'bled']&&_0x50e458['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x32275b=!(-0x7df+-0x1d*-0x149+-0x1d66)),(_0x32275b||_0x50e458['clusteredL'+'ightingEna'+'bled'])&&(_0xcb48f6['append']('#define\x20AR'+'EA_LIGHTS'),_0xcb48f6['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0xcb48f6['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x487e9b=-0x14ba+-0x1f7e*-0x1+0x6a*-0x1a;_0x487e9b<_0x50e458['lights']['length'];_0x487e9b++){const _0x4c1d8b=_0x50e458['lights'][_0x487e9b],_0x42138e=_0x4c1d8b['_type'];if(_0x50e458['clusteredL'+'ightingEna'+'bled']&&_0x42138e!==oe)continue;const _0x1b46b4=_0x32275b&&_0x4c1d8b['_shape']?_0x4c1d8b['_shape']:yt;_0xcb48f6['append']('uniform\x20ve'+'c3\x20light'+_0x487e9b+'_color;'),_0x4c1d8b['_shadowTyp'+'e']===Ts&&_0x4c1d8b['castShadow'+'s']&&!_0x50e458['noShadow']&&(_0xcb48f6['append']('uniform\x20fl'+'oat\x20light'+_0x487e9b+('_shadowSea'+'rchArea;')),_0xcb48f6['append']('uniform\x20ve'+'c4\x20light'+_0x487e9b+('_cameraPar'+'ams;')),_0x42138e===oe&&_0xcb48f6['append']('uniform\x20ve'+'c4\x20light'+_0x487e9b+('_softShado'+'wParams;'))),_0x42138e===oe?_0xcb48f6['append']('uniform\x20ve'+'c3\x20light'+_0x487e9b+('_direction'+';')):(_0xcb48f6['append']('uniform\x20ve'+'c3\x20light'+_0x487e9b+'_position;'),_0xcb48f6['append']('uniform\x20fl'+'oat\x20light'+_0x487e9b+'_radius;'),_0x42138e===Re&&(_0xcb48f6['append']('uniform\x20ve'+'c3\x20light'+_0x487e9b+('_direction'+';')),_0xcb48f6['append']('uniform\x20fl'+'oat\x20light'+_0x487e9b+('_innerCone'+'Angle;')),_0xcb48f6['append']('uniform\x20fl'+'oat\x20light'+_0x487e9b+('_outerCone'+'Angle;')))),_0x1b46b4!==yt&&(_0x42138e===oe&&_0xcb48f6['append']('uniform\x20ve'+'c3\x20light'+_0x487e9b+'_position;'),_0xcb48f6['append']('uniform\x20ve'+'c3\x20light'+_0x487e9b+('_halfWidth'+';')),_0xcb48f6['append']('uniform\x20ve'+'c3\x20light'+_0x487e9b+('_halfHeigh'+'t;'))),_0x4c1d8b['castShadow'+'s']&&!_0x50e458['noShadow']&&(_0xcb48f6['append']('uniform\x20ma'+'t4\x20light'+_0x487e9b+('_shadowMat'+'rix;')),_0xcb48f6['append']('uniform\x20fl'+'oat\x20light'+_0x487e9b+('_shadowInt'+'ensity;')),_0x42138e===oe&&(_0xcb48f6['append']('uniform\x20ma'+'t4\x20light'+_0x487e9b+('_shadowMat'+'rixPalette'+'[4];')),_0xcb48f6['append']('uniform\x20ve'+'c4\x20light'+_0x487e9b+('_shadowCas'+'cadeDistan'+'ces;')),_0xcb48f6['append']('uniform\x20in'+'t\x20light'+_0x487e9b+('_shadowCas'+'cadeCount;')),_0xcb48f6['append']('uniform\x20fl'+'oat\x20light'+_0x487e9b+('_shadowCas'+'cadeBlend;'))),_0xcb48f6['append']('uniform\x20ve'+'c4\x20light'+_0x487e9b+('_shadowPar'+'ams;')),_0x42138e===oe&&(_0x2858bb=!(0x1d*0x5b+0x1*-0x2493+0x1a44)),_0x42138e===Pe?_0xcb48f6['append']('uniform\x20'+(_0x4c1d8b['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x487e9b+('_shadowMap'+';')):_0xcb48f6['append']('uniform\x20'+(_0x4c1d8b['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x487e9b+('_shadowMap'+';')),_0x21debb++,_0x2d28fd[_0x4c1d8b['_shadowTyp'+'e']]=!(-0x7fb+0x230a+-0x1*0x1b0f),_0x4c1d8b['_isVsm']&&(_0x59088a=!(-0x689+-0x232f*0x1+-0x537*-0x8)),_0x4c1d8b['_shadowTyp'+'e']===Ts&&(_0x31055e=!(0x4*0x4f4+-0x36e*-0xa+-0x361c))),_0x4c1d8b['_cookie']&&(_0x4c1d8b['_cookie']['_cubemap']?_0x42138e===Pe&&(_0xcb48f6['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x487e9b+'_cookie;'),_0xcb48f6['append']('uniform\x20fl'+'oat\x20light'+_0x487e9b+('_cookieInt'+'ensity;')),(!_0x4c1d8b['castShadow'+'s']||_0x50e458['noShadow'])&&_0xcb48f6['append']('uniform\x20ma'+'t4\x20light'+_0x487e9b+('_shadowMat'+'rix;'))):_0x42138e===Re&&(_0xcb48f6['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x487e9b+'_cookie;'),_0xcb48f6['append']('uniform\x20fl'+'oat\x20light'+_0x487e9b+('_cookieInt'+'ensity;')),(!_0x4c1d8b['castShadow'+'s']||_0x50e458['noShadow'])&&_0xcb48f6['append']('uniform\x20ma'+'t4\x20light'+_0x487e9b+('_shadowMat'+'rix;')),_0x4c1d8b['_cookieTra'+'nsform']&&(_0xcb48f6['append']('uniform\x20ve'+'c4\x20light'+_0x487e9b+('_cookieMat'+'rix;')),_0xcb48f6['append']('uniform\x20ve'+'c2\x20light'+_0x487e9b+('_cookieOff'+'set;')))));}const _0x2a8a5b=this['needsNorma'+'l']&&(_0x50e458['useNormals']||_0x50e458['useClearCo'+'atNormals']||_0x50e458['enableGGXS'+'pecular']&&!_0x50e458['useHeights']);if(_0x2a8a5b&&(_0x50e458['hasTangent'+'s']?_0x58c3d4['append'](_0x4fc304['TBNPS']):_0x50e458['useNormals']||_0x50e458['useClearCo'+'atNormals']?_0x58c3d4['append'](_0x4fc304['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x58c3d4['append'](_0x4fc304['TBNObjectS'+'pacePS']),_0x50e458['twoSidedLi'+'ghting']&&_0x58c3d4['append'](_0x4fc304['twoSidedLi'+'ghtingPS'])),_0x58c3d4['append'](_0x4fc304['sphericalP'+'S']),_0x58c3d4['append'](_0x4fc304['decodePS']),_0x58c3d4['append'](_0x4fc304['gammaPS']),_0x58c3d4['append'](_0x4fc304['tonemappin'+'gPS']),_0x58c3d4['append'](_0x4fc304['fogPS']),_0x58c3d4['append'](this['frontendCo'+'de']),_0x50e458['useCubeMap'+'Rotation']&&_0xcb48f6['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x58c3d4['append'](_0x4fc304['cubeMapRot'+'atePS']),_0x58c3d4['append'](_0x50e458['cubeMapPro'+'jection']>0xa1*0x26+0x1302+-0x2ae8?_0x4fc304['cubeMapPro'+'jectBoxPS']:_0x4fc304['cubeMapPro'+'jectNonePS']),_0x58c3d4['append'](_0x50e458['skyboxInte'+'nsity']?_0x4fc304['envMultipl'+'yPS']:_0x4fc304['envConstPS'])),(this['lighting']&&_0x50e458['useSpecula'+'r']||this['reflection'+'s'])&&(_0x50e458['useMetalne'+'ss']&&_0x58c3d4['append'](_0x4fc304['metalnessM'+'odulatePS']),_0x50e458['fresnelMod'+'el']===Sp&&_0x58c3d4['append'](_0x4fc304['fresnelSch'+'lickPS']),_0x50e458['useIridesc'+'ence']&&_0x58c3d4['append'](_0x4fc304['iridescenc'+'eDiffracti'+'onPS'])),_0x50e458['useAo'])switch(_0x58c3d4['append'](_0x4fc304['aoDiffuseO'+'ccPS']),_0x50e458['occludeSpe'+'cular']){case Bo:_0x58c3d4['append'](_0x50e458['occludeSpe'+'cularFloat']?_0x4fc304['aoSpecOccS'+'implePS']:_0x4fc304['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x58c3d4['append'](_0x50e458['occludeSpe'+'cularFloat']?_0x4fc304['aoSpecOccP'+'S']:_0x4fc304['aoSpecOccC'+'onstPS']);break;}_0x50e458['reflection'+'Source']==='envAtlasHQ'?(_0x58c3d4['append'](_0x4fc304['envAtlasPS']),_0x58c3d4['append'](_0x4fc304['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x50e458['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x50e458['reflection'+'Encoding'])))):_0x50e458['reflection'+'Source']==='envAtlas'?(_0x58c3d4['append'](_0x4fc304['envAtlasPS']),_0x58c3d4['append'](_0x4fc304['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x50e458['reflection'+'Encoding'])))):_0x50e458['reflection'+'Source']==='cubeMap'?_0x58c3d4['append'](_0x4fc304['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x50e458['reflection'+'Encoding']))):_0x50e458['reflection'+'Source']==='sphereMap'&&_0x58c3d4['append'](_0x4fc304['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x50e458['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x50e458['useClearCo'+'at']&&_0x58c3d4['append'](_0x4fc304['reflection'+'CCPS']),_0x50e458['useSheen']&&_0x58c3d4['append'](_0x4fc304['reflection'+'SheenPS'])),_0x50e458['useRefract'+'ion']&&(_0x50e458['useDynamic'+'Refraction']?(_0x50e458['dispersion']&&(_0xcb48f6['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0xcb48f6['append']('#define\x20DI'+'SPERSION\x0a')),_0x58c3d4['append'](_0x4fc304['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x58c3d4['append'](_0x4fc304['refraction'+'CubePS'])),_0x50e458['useSheen']&&_0x58c3d4['append'](_0x4fc304['lightSheen'+'PS']),_0x50e458['clusteredL'+'ightingEna'+'bled']&&(_0x58c3d4['append'](_0x4fc304['clusteredL'+'ightUtilsP'+'S']),_0x50e458['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x58c3d4['append'](_0x4fc304['clusteredL'+'ightCookie'+'sPS']),_0x50e458['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x50e458['noShadow']&&(_0x2d28fd[Dt]=!(0x3*-0x201+-0x20b1+0x26b4),_0x2d28fd[lh]=!(0x12a9*0x1+-0xb9e+-0x70b),_0x2d28fd[Ts]=!(-0x6ce+0x5*0xe2+-0x22*-0x12))),(_0x21debb>0xaac*-0x3+-0x17a7+0x37ab||_0x50e458['clusteredL'+'ightingEna'+'bled'])&&(_0x2858bb&&_0x58c3d4['append'](_0x4fc304['shadowCasc'+'adesPS']),(_0x2d28fd[Bh]||_0x2d28fd[Dt]||_0x2d28fd[Nh]||_0x2d28fd[zh])&&_0x58c3d4['append'](_0x4fc304['shadowStan'+'dardPS']),(_0x2d28fd[lh]||_0x2d28fd[Iu])&&_0x58c3d4['append'](_0x4fc304['shadowStan'+'dardGL2PS']),_0x59088a&&(_0x58c3d4['append'](_0x4fc304['shadowVSM_'+'commonPS']),_0x2d28fd[Hr]&&_0x58c3d4['append'](_0x4fc304['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x2d28fd[$r]&&_0x58c3d4['append'](_0x243761['extTexture'+'FloatLinea'+'r']?_0x4fc304['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x4fc304['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x31055e&&(_0x58c3d4['append'](_0x4fc304['linearizeD'+'epthPS']),_0x58c3d4['append'](_0x4fc304['shadowPCSS'+'PS']),_0x58c3d4['append'](_0x4fc304['shadowSoft'+'PS']))),_0x50e458['enableGGXS'+'pecular']&&_0x58c3d4['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x58c3d4['append'](_0x4fc304['lightDiffu'+'seLambertP'+'S']),(_0x32275b||_0x50e458['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x58c3d4['append'](_0x4fc304['ltcPS']));let _0x19f34f=!(-0x1a9*0x11+0x21ce+-0x594);_0x50e458['useSpecula'+'r']&&(this['lighting']&&_0x58c3d4['append'](_0x50e458['enableGGXS'+'pecular']?_0x4fc304['lightSpecu'+'larAnisoGG'+'XPS']:_0x4fc304['lightSpecu'+'larBlinnPS']),!_0x50e458['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x50e458['diffuseMap'+'Enabled']&&(_0xcb48f6['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0xcb48f6['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x19f34f=!(0x9f*-0xc+-0x1234+-0xcd4*-0x2))),_0x58c3d4['append'](_0x4fc304['combinePS']),_0x50e458['lightMapEn'+'abled']&&_0x58c3d4['append'](_0x50e458['useSpecula'+'r']&&_0x50e458['dirLightMa'+'pEnabled']?_0x4fc304['lightmapDi'+'rAddPS']:_0x4fc304['lightmapAd'+'dPS']);const _0x31ac27=!_0x50e458['lightMapEn'+'abled']||_0x50e458['lightMapWi'+'thoutAmbie'+'nt'];_0x31ac27&&(_0x50e458['ambientSou'+'rce']==='ambientSH'?_0x58c3d4['append'](_0x4fc304['ambientSHP'+'S']):_0x50e458['ambientSou'+'rce']==='envAtlas'?(_0x50e458['reflection'+'Source']!=='envAtlas'&&_0x50e458['reflection'+'Source']!=='envAtlasHQ'&&_0x58c3d4['append'](_0x4fc304['envAtlasPS']),_0x58c3d4['append'](_0x4fc304['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x50e458['ambientEnc'+'oding'])))):_0x58c3d4['append'](_0x4fc304['ambientCon'+'stantPS'])),_0x19f34f||_0xcb48f6['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x50e458['useMsdf']&&(_0x50e458['msdfTextAt'+'tribute']||_0xcb48f6['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x58c3d4['append'](_0x4fc304['msdfPS'])),this['needsNorma'+'l']&&(_0x58c3d4['append'](_0x4fc304['viewDirPS']),_0x50e458['useSpecula'+'r']&&_0x58c3d4['append'](_0x50e458['enableGGXS'+'pecular']?_0x4fc304['reflDirAni'+'soPS']:_0x4fc304['reflDirPS']));let _0x2a36f3=!(0xfac+-0x9ea+0x1eb*-0x3),_0x288142=!(-0x2*-0xad3+0x2363*-0x1+0xdbe),_0x13641f=!(0x37b+-0x266a+0x8*0x45e),_0x25b619=!(0xf2b+0x1cd1+-0x2bfb),_0x40b600=!(0xe3e*-0x1+0x94+-0xdab*-0x1),_0x2b8db0;if(_0x50e458['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x25b619=!(-0x74+0x4fc+-0x488*0x1),_0x2a36f3=!(-0xe3*0x1b+-0x122f+0x2a20),_0x288142=!(0x1e4+0x8c2+-0xaa6),_0x40b600=!(-0xa*-0x28a+0x11d9+-0x2b3d),_0x58c3d4['append'](_0x4fc304['floatUnpac'+'kingPS']),_0x50e458['lightMaskD'+'ynamic']&&_0xcb48f6['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x50e458['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0xcb48f6['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x50e458['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x50e458['noShadow']){const _0x3e97f4=(_0x56b292=ir['get'](_0x50e458['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x15fe+-0x1*0x1945+0x3*0xfc1):_0x56b292['name'];v['assert'](_0x3e97f4);const _0x33a4cd=_0x3e97f4['substring'](0x55e*0x1+-0x39*0x4b+-0x3c7*-0x3,0x1e5c*0x1+0x1*-0x277+-0x1be1);_0xcb48f6['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0xcb48f6['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x33a4cd);}_0x50e458['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0xcb48f6['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0xcb48f6['append'](E0['getShaderD'+'efines']()),_0x50e458['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x50e458['noShadow']&&_0x58c3d4['append'](_0x4fc304['clusteredL'+'ightShadow'+'sPS']),_0x58c3d4['append'](_0x4fc304['clusteredL'+'ightPS']);}if(_0x29f9b1['append'](this['_fsGetStar'+'tCode'](_0x29f9b1,_0x243761,_0x4fc304,_0x50e458)),this['needsNorma'+'l']&&(_0x29f9b1['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x50e458['useHeights']||_0x50e458['useNormals'])&&_0x50e458['hasTangent'+'s']&&(_0x29f9b1['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x29f9b1['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x29f9b1['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x2a8a5b&&(_0x29f9b1['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x50e458['twoSidedLi'+'ghting']&&_0x29f9b1['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x29f9b1['append'](this['frontendFu'+'nc']),_0x50e458['ssao']&&(_0x58c3d4['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x4c27d8['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x50e458['useSpecula'+'r']&&_0x4c27d8['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x50e458['useClearCo'+'at']&&_0x4c27d8['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x50e458['useSpecula'+'r']||this['reflection'+'s'])&&(_0x50e458['useMetalne'+'ss']&&(_0x4c27d8['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x4c27d8['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x4c27d8['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x50e458['useIridesc'+'ence']&&_0x4c27d8['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x31ac27&&(_0x4c27d8['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x50e458['useSpecula'+'r']&&_0x4c27d8['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x50e458['separateAm'+'bient']&&_0x4c27d8['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x19f34f||_0x4c27d8['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x50e458['useAo']&&!_0x50e458['occludeDir'+'ect']&&_0x4c27d8['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x50e458['lightMapEn'+'abled']&&_0x4c27d8['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x50e458['useClearCo'+'at']&&(_0x4c27d8['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x50e458['fresnelMod'+'el']>0x18*0xb0+-0x1*0x215c+0x10dc?(_0x4c27d8['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x4c27d8['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x4c27d8['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x50e458['useSpecula'+'rityFactor']&&_0x4c27d8['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x50e458['useSheen']&&_0x4c27d8['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x4c27d8['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x50e458['fresnelMod'+'el']>0x7e0*-0x3+0x37*-0x1f+-0x1*-0x1e49?_0x4c27d8['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x4c27d8['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x50e458['useSpecula'+'rityFactor']&&_0x4c27d8['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x32275b&&(_0x4c27d8['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x50e458['useSpecula'+'r']&&_0x4c27d8['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x37bfd4=-0x2*-0x1319+-0x132f*-0x1+0x3961*-0x1;_0x37bfd4<_0x50e458['lights']['length'];_0x37bfd4++){const _0x26338a=_0x50e458['lights'][_0x37bfd4],_0xfc45a9=_0x26338a['_type'];if(_0x50e458['clusteredL'+'ightingEna'+'bled']&&_0xfc45a9!==oe)continue;_0x2b8db0=!(-0x1e7b+0x773*0x3+0x823);const _0x271628=_0x32275b&&_0x26338a['_shape']?_0x26338a['shape']:yt,_0x41d069=_0x32275b&&_0x26338a['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x271628):'';if(_0x271628!==yt&&_0x4c27d8['append']('\x20\x20\x20\x20calc'+_0x41d069+('LightValue'+'s(light')+_0x37bfd4+('_position,'+'\x20light')+_0x37bfd4+('_halfWidth'+',\x20light')+_0x37bfd4+('_halfHeigh'+'t);')),_0xfc45a9===oe?(_0x4c27d8['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x37bfd4+('_direction'+';')),_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x26338a['_cookie']&&(_0xfc45a9===Re&&!_0x26338a['_cookie']['_cubemap']||_0xfc45a9===Pe&&_0x26338a['_cookie']['_cubemap'])&&(_0x40b600=!(-0x19a3+0x5*-0x47+0x1b06),_0x2b8db0=!(0xef*-0x1b+0x47*0x85+-0x1*0xbae)),_0x4c27d8['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x37bfd4+('_position)'+';')),_0x2a36f3=!(-0x1b6+-0x7c9*-0x3+-0x15a5),_0x2b8db0&&(_0xfc45a9===Re?_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x26338a['_cookieFal'+'loff']?'':'Clip')+(_0x26338a['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x37bfd4+('_cookie,\x20l'+'ight')+_0x37bfd4+('_shadowMat'+'rix,\x20light')+_0x37bfd4+('_cookieInt'+'ensity')+(_0x26338a['_cookieTra'+'nsform']?',\x20light'+_0x37bfd4+('_cookieMat'+'rix,\x20light')+_0x37bfd4+('_cookieOff'+'set'):'')+').'+_0x26338a['_cookieCha'+'nnel']+';'):_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x37bfd4+('_cookie,\x20l'+'ight')+_0x37bfd4+('_shadowMat'+'rix,\x20light')+_0x37bfd4+('_cookieInt'+'ensity).')+_0x26338a['_cookieCha'+'nnel']+';')),_0x271628===yt?_0x26338a['_falloffMo'+'de']===wp?(_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x37bfd4+('_radius,\x20d'+'LightDirW)'+';')),_0x288142=!(0x16ed*-0x1+-0x3f7+0x1ae4)):(_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x37bfd4+('_radius,\x20d'+'LightDirW)'+';')),_0x13641f=!(-0x986+0x23ad+-0x1a27)):(_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x37bfd4+('_radius,\x20d'+'LightDirW)'+';')),_0x13641f=!(-0x1a*0x9f+0x26*0xf5+-0x1438)),_0x4c27d8['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0xfc45a9===Re&&(_0x2b8db0&&!_0x26338a['_cookieFal'+'loff']||(_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x37bfd4+('_direction'+',\x20light')+_0x37bfd4+('_innerCone'+'Angle,\x20lig'+'ht')+_0x37bfd4+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x25b619=!(0x2eb*-0x5+0x173a*-0x1+0x25d1*0x1)))),_0x271628!==yt?_0xfc45a9===oe?_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x41d069+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x26338a['castShadow'+'s']&&!_0x50e458['noShadow']){const _0xfe31c5=ir['get'](_0x26338a['_shadowTyp'+'e']);v['assert'](_0xfe31c5);const _0x280e93=_0x26338a['_shadowTyp'+'e']===Ts,_0x34e4b2=_0xfe31c5==null?void(-0x1177+0x1cf4+-0xb7d):_0xfe31c5['vsm'],_0x701d24=_0xfe31c5==null?void(-0x1*-0x1b8d+-0x3bf*0x2+-0x140f):_0xfe31c5['pcf'];let _0x408f01=null,_0x12a797;switch(_0x26338a['_shadowTyp'+'e']){case Hr:_0x408f01='VSM16',_0x12a797='5.54';break;case $r:_0x408f01='VSM32',_0x12a797='15.0';break;case Bh:case Nh:_0x408f01='PCF1x1';break;case lh:case Iu:_0x408f01='PCF5x5';break;case Ts:_0x408f01='PCSS';break;case Dt:case zh:default:_0x408f01='PCF3x3';break;}if(_0x408f01!==null){_0x26338a['_normalOff'+'setBias']&&!_0x26338a['_isVsm']&&_0x58c3d4['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0xfc45a9===oe&&_0x58c3d4['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x701d24||_0x280e93||_0x243761['isWebGPU'])&&_0x58c3d4['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0xfc45a9===Pe&&_0x58c3d4['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x2aaf79=_0x4fc304['shadowSamp'+'leCoordPS'];_0x58c3d4['append'](_0x2aaf79['replace']('$LIGHT',_0x37bfd4)),_0x58c3d4['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x58c3d4['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x58c3d4['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x58c3d4['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x880c16='light'+_0x37bfd4+('_shadowMat'+'rix');_0xfc45a9===oe&&_0x26338a['numCascade'+'s']>0x134f+-0x927+-0xa27&&(_0x4c27d8['append']('int\x20cascad'+'eIndex'+_0x37bfd4+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x37bfd4+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x37bfd4+('_shadowCas'+'cadeCount)'+';')),_0x26338a['cascadeBle'+'nd']>0x1360+0x1d*0x6b+-0x1f7f*0x1&&_0x4c27d8['append']('cascadeInd'+'ex'+_0x37bfd4+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x37bfd4+',\x20light'+_0x37bfd4+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x37bfd4+('_shadowCas'+'cadeCount,'+'\x20light')+_0x37bfd4+('_shadowCas'+'cadeBlend)'+';')),_0x4c27d8['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x37bfd4+'\x20=\x20light'+_0x37bfd4+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x37bfd4+'];'),_0x880c16='cascadeSha'+'dowMat'+_0x37bfd4),_0x4c27d8['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x37bfd4+'('+_0x880c16+',\x20light'+_0x37bfd4+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0xfc45a9===oe&&_0x4c27d8['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x37bfd4+('_shadowCas'+'cadeDistan'+'ces);'));let _0x167c7c='SHADOWMAP_'+'PASS(light'+_0x37bfd4+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x37bfd4+('_shadowPar'+'ams');if(_0x34e4b2)_0x167c7c=_0x167c7c+',\x20'+_0x12a797+(',\x20dLightDi'+'rW');else{if(_0x280e93){let _0x43179c=_0xfc45a9===oe?'light'+_0x37bfd4+('_softShado'+'wParams'):'vec2(light'+_0x37bfd4+('_shadowSea'+'rchArea)');_0x271628!==yt&&(_0x43179c='vec2(lengt'+'h(light'+_0x37bfd4+('_halfWidth'+'),\x20length('+'light')+_0x37bfd4+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x37bfd4+('_shadowSea'+'rchArea')),_0x167c7c=_0x167c7c+',\x20light'+_0x37bfd4+('_cameraPar'+'ams,\x20')+_0x43179c+(',\x20dLightDi'+'rW');}}_0xfc45a9===Pe?(_0x408f01='Point'+_0x408f01,_0x280e93||(_0x167c7c=_0x167c7c+(',\x20dLightDi'+'rW'))):_0xfc45a9===Re&&(_0x408f01='Spot'+_0x408f01),_0x4c27d8['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x37bfd4+('\x20=\x20getShad'+'ow')+_0x408f01+'('+_0x167c7c+');'),_0x4c27d8['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x37bfd4+',\x20light'+_0x37bfd4+('_shadowInt'+'ensity);'));}}if(_0x271628!==yt?_0x50e458['useSpecula'+'r']?_0x4c27d8['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x4c27d8['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3':'')+';'):_0x32275b&&_0x50e458['useSpecula'+'r']?_0x4c27d8['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x4c27d8['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3':'')+';'),_0x50e458['useSpecula'+'r']&&_0x4c27d8['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x26338a['affectSpec'+'ularity']){if(_0x271628!==yt)_0x50e458['useClearCo'+'at']&&_0x4c27d8['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x41d069+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3':'')+';'),_0x50e458['useSpecula'+'r']&&_0x4c27d8['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x41d069+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3':'')+';');else{let _0xdb5437=!(-0x3*-0xc91+-0x15f5+-0xfbd);_0xfc45a9===oe&&_0x50e458['fresnelMod'+'el']>-0x1*0x201b+-0x1aa8*0x1+0x3ac3&&(_0xdb5437=!(-0x2383*-0x1+0x57a*0x1+-0x28fd)),_0x50e458['useClearCo'+'at']&&_0x4c27d8['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3':'')+(_0xdb5437?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x50e458['useSheen']&&_0x4c27d8['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3'+';':';')),_0x50e458['useSpecula'+'r']&&_0x4c27d8['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x37bfd4+'_color'+(_0x2b8db0?'\x20*\x20dAtten3':'')+(_0xdb5437?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0xfc45a9!==oe&&_0x4c27d8['append']('\x20\x20\x20\x20}');}_0x50e458['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x288142=!(0x1*0x1529+-0x1*0xdcb+-0x52*0x17),_0x13641f=!(0xc4c*0x1+-0x9d+-0xbaf),_0x2a36f3=!(-0x1e51+-0x1a0*0x2+0x2191),_0x4c27d8['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x32275b&&(_0x50e458['useClearCo'+'at']&&_0x4c27d8['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x50e458['useSpecula'+'r']&&_0x4c27d8['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x50e458['useRefract'+'ion']&&_0x4c27d8['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x50e458['useAo']&&(_0x50e458['occludeDir'+'ect']&&_0x4c27d8['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x50e458['occludeSpe'+'cular']===Bo||_0x50e458['occludeSpe'+'cular']===Lu)&&_0x4c27d8['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x50e458['useSpecula'+'rityFactor']&&_0x4c27d8['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x50e458['opacityFad'+'esSpecular']===!(0x4*-0x4a8+0x17*-0x140+0x2f61)&&((_0x50e458['blendType']===Kt||_0x50e458['blendType']===hr)&&(_0x4c27d8['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x4c27d8['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x4c27d8['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x4c27d8['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x4c27d8['append'](_0x4fc304['endPS']),_0x50e458['blendType']===Kt||_0x50e458['blendType']===Hc||_0x50e458['alphaToCov'+'erage']?_0x4c27d8['append'](_0x4fc304['outputAlph'+'aPS']):_0x50e458['blendType']===hr?_0x4c27d8['append'](_0x4fc304['outputAlph'+'aPremulPS']):_0x4c27d8['append'](_0x4fc304['outputAlph'+'aOpaquePS']),_0x50e458['useMsdf']&&_0x4c27d8['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x4c27d8['append'](_0x4fc304['outputPS']),_0x4c27d8['append'](_0x4fc304['debugOutpu'+'tPS']),_0x2a36f3&&_0x58c3d4['prepend'](_0x4fc304['lightDirPo'+'intPS']),_0x288142&&_0x58c3d4['prepend'](_0x4fc304['falloffLin'+'earPS']),_0x13641f&&_0x58c3d4['prepend'](_0x4fc304['falloffInv'+'SquaredPS']),_0x25b619&&_0x58c3d4['prepend'](_0x4fc304['spotPS']),_0x40b600&&!_0x50e458['clusteredL'+'ightingEna'+'bled']&&_0x58c3d4['prepend'](_0x4fc304['cookiePS']);let _0x17edcb='';const _0x35ce10='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x4c27d8['code']+'\x0a}';_0x58c3d4['append'](_0x35ce10),_0x29f9b1['append'](_0x4fc304['debugProce'+'ssFrontend'+'PS']),_0x29f9b1['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x29f9b1['append'](It['end']());const _0x55e5ed=_0xcb48f6['code']+_0x58c3d4['code']+_0x29f9b1['code'];return _0x55e5ed['includes']('dTBN')&&(_0x17edcb+='mat3\x20dTBN;'+'\x0a'),_0x55e5ed['includes']('dVertexNor'+'malW')&&(_0x17edcb+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x55e5ed['includes']('dTangentW')&&(_0x17edcb+='vec3\x20dTang'+'entW;\x0a'),_0x55e5ed['includes']('dBinormalW')&&(_0x17edcb+='vec3\x20dBino'+'rmalW;\x0a'),_0x55e5ed['includes']('dViewDirW')&&(_0x17edcb+='vec3\x20dView'+'DirW;\x0a'),_0x55e5ed['includes']('dReflDirW')&&(_0x17edcb+='vec3\x20dRefl'+'DirW;\x0a'),_0x55e5ed['includes']('dHalfDirW')&&(_0x17edcb+='vec3\x20dHalf'+'DirW;\x0a'),_0x55e5ed['includes']('ccReflDirW')&&(_0x17edcb+='vec3\x20ccRef'+'lDirW;\x0a'),_0x55e5ed['includes']('dLightDirN'+'ormW')&&(_0x17edcb+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x55e5ed['includes']('dLightDirW')&&(_0x17edcb+='vec3\x20dLigh'+'tDirW;\x0a'),_0x55e5ed['includes']('dLightPosW')&&(_0x17edcb+='vec3\x20dLigh'+'tPosW;\x0a'),_0x55e5ed['includes']('dShadowCoo'+'rd')&&(_0x17edcb+='vec3\x20dShad'+'owCoord;\x0a'),_0x55e5ed['includes']('dReflectio'+'n')&&(_0x17edcb+='vec4\x20dRefl'+'ection;\x0a'),_0x55e5ed['includes']('dDiffuseLi'+'ght')&&(_0x17edcb+='vec3\x20dDiff'+'useLight;\x0a'),_0x55e5ed['includes']('dSpecularL'+'ight')&&(_0x17edcb+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x55e5ed['includes']('dAtten')&&(_0x17edcb+='float\x20dAtt'+'en;\x0a'),_0x55e5ed['includes']('dAttenD')&&(_0x17edcb+='float\x20dAtt'+'enD;\x0a'),_0x55e5ed['includes']('dAtten3')&&(_0x17edcb+='vec3\x20dAtte'+'n3;\x0a'),_0x55e5ed['includes']('dMsdf')&&(_0x17edcb+='vec4\x20dMsdf'+';\x0a'),_0x55e5ed['includes']('ccFresnel')&&(_0x17edcb+='float\x20ccFr'+'esnel;\x0a'),_0x55e5ed['includes']('ccReflecti'+'on')&&(_0x17edcb+='vec3\x20ccRef'+'lection;\x0a'),_0x55e5ed['includes']('ccSpecular'+'Light')&&(_0x17edcb+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x55e5ed['includes']('ccSpecular'+'ityNoFres')&&(_0x17edcb+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x55e5ed['includes']('sSpecularL'+'ight')&&(_0x17edcb+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x55e5ed['includes']('sReflectio'+'n')&&(_0x17edcb+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x17edcb+this['frontendDe'+'cl']+_0x55e5ed;}['generateFr'+'agmentShad'+'er'](_0x265158,_0x49075c,_0x216633,_0xf5f142){const _0x5ec1a3=this['options'];this['frontendDe'+'cl']=_0x265158,this['frontendCo'+'de']=_0x49075c,this['frontendFu'+'nc']=_0x216633,this['lightingUv']=_0xf5f142,_0x5ec1a3['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x5ec1a3['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x5ec1a3['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x5ec1a3['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x5ec1a3['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(-0xa3*0xf+0x16a2+-0xd14)),c(this,'chunks',{}),c(this,'pass',-0xc6*-0x1f+0x1332+-0x1596*0x2),c(this,'alphaTest',!(-0x220b+-0x13ed+0x35f9)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(-0x2305+0x15f8+0xd0e)),c(this,'screenSpac'+'e',!(0x3eb+-0x9d3+0x5e9)),c(this,'skin',!(0x3ab*-0x3+0x347+0x7bb)),c(this,'batch',!(-0x303*0x7+0x4*-0x3bb+0x2402)),c(this,'useInstanc'+'ing',!(-0x22c8+0xb06+-0xb*-0x229)),c(this,'useMorphPo'+'sition',!(-0x28d*0xc+-0xe4c*0x2+-0x293*-0x17)),c(this,'useMorphNo'+'rmal',!(0x1df+0xee*-0xe+-0xb26*-0x1)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0xbfb+0x29*0x83+0x8ff*-0x1)),c(this,'nineSliced'+'Mode',0x1816+0x2586+0x2*-0x1ece),c(this,'clusteredL'+'ightingEna'+'bled',!(0x1bfa+-0x17f*0x18+-0xe*-0x91)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0xa94+-0x116a+-0x67*-0x11)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x1138+-0x1574+0x43d*0x1)),c(this,'clusteredL'+'ightingSha'+'dowType',0x1d*0x65+-0x2a*0xd6+0x17ab),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x432+0x219d+-0x25ce)),c(this,'vertexColo'+'rs',!(0x19be+-0x9*0x3df+0x91a)),c(this,'lightMapEn'+'abled',!(-0x9bd+-0x1c33+0x25f1)),c(this,'dirLightMa'+'pEnabled',!(-0x2*-0x137c+-0xd*-0x179+-0x3a1c)),c(this,'useHeights',!(0xad2+0x7*-0x63+-0x81c)),c(this,'useNormals',!(0x255e+-0x7b9+-0x1da4)),c(this,'useClearCo'+'atNormals',!(0x19dc+0x36e+-0x1d49)),c(this,'useAo',!(0x4*0x71f+-0x1*0x1af3+0x38*-0x7)),c(this,'diffuseMap'+'Enabled',!(-0x1*0x28d+0x2587*0x1+-0x22f9)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x17*-0x115+-0x2*0x69+0x4d*-0x50)),c(this,'ambientSH',!(-0x239*-0xa+0x1d3f*0x1+-0x3378)),c(this,'ssao',!(0xf9*-0x2+0x7a0*0x4+-0x1*0x1c8d)),c(this,'twoSidedLi'+'ghting',!(-0x1*-0x22a2+0x213b+-0x43dc)),c(this,'occludeDir'+'ect',!(-0x8b*-0x38+-0x136f+0x1b*-0x68)),c(this,'occludeSpe'+'cular',0x18eb+-0xb67+-0xd84),c(this,'occludeSpe'+'cularFloat',!(-0xeaa+0x1f*0xdb+-0x25*0x52)),c(this,'useMsdf',!(0x88f*-0x2+0x2003+-0xee4)),c(this,'msdfTextAt'+'tribute',!(-0x1c6c+0x12eb+0x982)),c(this,'alphaToCov'+'erage',!(0x2688+-0x2f*-0xcf+-0x4c88)),c(this,'opacityFad'+'esSpecular',!(-0x6*0x5f0+0x16b2+0xcef)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',0x1bc*-0x3+-0x1802+-0xe9b*-0x2),c(this,'useSpecula'+'r',!(0x7*0x303+-0x187b+0x367)),c(this,'useSpecula'+'rityFactor',!(0xd*0x247+-0x5*-0x6bb+-0x3f41)),c(this,'enableGGXS'+'pecular',!(-0xf6e+0x1*-0x17b3+0x2722)),c(this,'fresnelMod'+'el',0x9*0xf+-0x15d3+-0x74*-0x2f),c(this,'useRefract'+'ion',!(-0x11*-0x3d+0x14f+-0x55b)),c(this,'useClearCo'+'at',!(0x1c2f+-0x1ace+-0x160)),c(this,'useSheen',!(-0x2098+0x23ce+0x1*-0x335)),c(this,'useIridesc'+'ence',!(-0x64b+-0x975+0xfc1)),c(this,'useMetalne'+'ss',!(0x8bb+0x8b*0x37+-0x6f*0x59)),c(this,'useDynamic'+'Refraction',!(-0xb6c+0x1519*0x1+-0x9ac)),c(this,'dispersion',!(-0x1d08+-0x69e+0x23a7*0x1)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(-0x1688+-0x9d*-0xb+0xfca)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0xbe3+-0x1ea1*0x1+0x2a85),c(this,'useCubeMap'+'Rotation',!(-0x26c6+-0x1*0x243c+0x3*0x1901)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x6c2+0x1*0x1556+0x8d*-0x33)),c(this,'lights',[]),c(this,'noShadow',!(-0x1d2d+-0x10f+0x1e3d)),c(this,'lightMaskD'+'ynamic',-0x2653+-0x9*0x2c7+-0x655*-0xa),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0xe5*-0x1b+-0x2ca+-0x155c));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0x71b*-0x1+-0x37*0x2c+0xd4*0x14)),c(this,'specularTi'+'nt',!(0x8bd+0x12ab*0x1+-0x1b67)),c(this,'metalnessT'+'int',!(-0x238f+0x5*0xc7+0x1fad)),c(this,'glossTint',!(0xc5c+0x537*-0x1+-0x724)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(0x1*0x1597+-0x305*-0x1+0x1*-0x189b)),c(this,'glossInver'+'t',!(0x13+-0xbc1*0x3+-0x333*-0xb)),c(this,'sheenGloss'+'Invert',!(-0xbb1+-0x925+0x14d7)),c(this,'clearCoatG'+'lossInvert',!(-0x5f*-0x3b+-0x1*0xaca+0x62*-0x1d)),c(this,'useAO',!(0x9af+0x23ba+-0x1*0x2d68)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x5a377c){return'lit'+Object['keys'](_0x5a377c)['sort']()['map'](_0x2722b8=>_0x2722b8==='chunks'?Uu['generateCh'+'unksKey'](_0x5a377c):_0x2722b8==='lights'?Uu['generateLi'+'ghtsKey'](_0x5a377c):_0x2722b8+_0x5a377c[_0x2722b8])['join']('\x0a');},'generateLightsKey'(_0x3b76f0){return'lights:'+_0x3b76f0['lights']['map'](_0x3732d0=>!_0x3b76f0['clusteredL'+'ightingEna'+'bled']||_0x3732d0['_type']===oe?_0x3732d0['key']+',':'')['join']('');},'generateChunksKey'(_0x19c5da){return'chunks:\x0a'+Object['keys'](_0x19c5da['chunks']??{})['sort']()['map'](_0x55b7a5=>_0x55b7a5+_0x19c5da['chunks'][_0x55b7a5])['join']('');}},fa=[],Ad=_0x5bbd7b=>Object['keys'](_0x5bbd7b)['filter'](_0x178111=>_0x178111!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x4fa7cd){let _0x16d298;return _0x4fa7cd===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x4fa7cd)),_0x16d298=this['propsMin']):_0x4fa7cd===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x4fa7cd)),_0x16d298=this['props']):_0x16d298=Ad(_0x4fa7cd),'standard:\x0a'+It['definesHas'+'h'](_0x4fa7cd['defines'])+'\x0a'+_0x16d298['map'](_0x3e7957=>_0x3e7957+_0x4fa7cd[_0x3e7957])['join']('\x0a')+Uu['generateKe'+'y'](_0x4fa7cd['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x23f079,_0x5b3060,_0x4f9a1a){const _0x3e55a6=_0x4f9a1a[_0x23f079],_0x1f9399=_0x4f9a1a[_0x5b3060],_0x384b3a=_0x4f9a1a['litOptions']['pass']===gn;let _0xbb1044;return _0x384b3a&&_0x4f9a1a['litOptions']['nineSliced'+'Mode']===nt||_0x384b3a&&_0x4f9a1a['litOptions']['nineSliced'+'Mode']===Qe?_0xbb1044='nineSliced'+'Uv':(_0x3e55a6===-0x2236+0xf88+0x12ae?_0xbb1044='vUv'+_0x1f9399:_0xbb1044='vUV'+_0x1f9399+'_'+_0x3e55a6,_0x4f9a1a['heightMap']&&_0x23f079!=='heightMapT'+'ransform'&&(_0xbb1044+='\x20+\x20dUvOffs'+'et')),_0xbb1044;}['_addMapDef'](_0x2f1836,_0x5acf9c){return _0x5acf9c?'#define\x20'+_0x2f1836+'\x0a':'#undef\x20'+_0x2f1836+'\x0a';}['_addMapDef'+'s'](_0x310e92,_0x1cbfdb,_0x42788c,_0x36c0b3,_0x56abca){return this['_addMapDef']('MAPFLOAT',_0x310e92)+this['_addMapDef']('MAPCOLOR',_0x1cbfdb)+this['_addMapDef']('MAPVERTEX',_0x42788c)+this['_addMapDef']('MAPTEXTURE',_0x36c0b3)+this['_addMapDef']('MAPINVERT',_0x56abca);}['_addMap'](_0x33a1cd,_0xb2e04,_0x5cb695,_0x5d9fd5,_0x10cb68,_0x562e49=null){const _0x10a852=_0x33a1cd+'Map',_0x169cc3=_0x10a852+'Uv',_0x3318be=_0x10a852+'Identifier',_0x34a23d=_0x10a852+'Transform',_0x20a406=_0x10a852+'Channel',_0x28c9ff=_0x33a1cd+('VertexColo'+'rChannel'),_0x28025e=_0x33a1cd+'Tint',_0x444562=_0x33a1cd+('VertexColo'+'r'),_0x17f655=_0x33a1cd+'Mode',_0x39278c=_0x33a1cd+'Invert',_0x3b670c=_0x5cb695[_0x28025e],_0x2ac128=_0x5cb695[_0x444562],_0x33146a=_0x5cb695[_0x10a852],_0x1a18d2=_0x5cb695[_0x3318be],_0x4adc96=_0x5cb695[_0x17f655];let _0x5194f4=_0x5d9fd5[_0xb2e04];if(_0x33146a){const _0x193dc0=this['_getUvSour'+'ceExpressi'+'on'](_0x34a23d,_0x169cc3,_0x5cb695);if(_0x5194f4=_0x5194f4['replace'](/\$UV/g,_0x193dc0)['replace'](/\$CH/g,_0x5cb695[_0x20a406]),_0x10cb68&&_0x5194f4['search'](/\$SAMPLER/g)!==-(0x5ab*0x1+-0x1*-0xee1+-0x6d9*0x3)){let _0x9b500='texture_'+_0x10a852;const _0x14fd81=_0x10cb68[_0x1a18d2];_0x14fd81?_0x9b500=_0x14fd81:_0x10cb68[_0x1a18d2]=_0x9b500,_0x5194f4=_0x5194f4['replace'](/\$SAMPLER/g,_0x9b500);}if(_0x562e49&&(_0x5cb695[_0x20a406]==='aaa'?_0x5194f4=_0x5194f4['replace'](/\$DECODE/g,'passThroug'+'h'):_0x5194f4=_0x5194f4['replace'](/\$DECODE/g,Es['decodeFunc'](_0x562e49)),_0x5194f4['indexOf']('$texture2D'+'SAMPLE'))){const _0x219baf={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x5194f4=_0x5194f4['replace'](/\$texture2DSAMPLE/g,_0x219baf[_0x562e49]||'texture2D');}}_0x2ac128&&(_0x5194f4=_0x5194f4['replace'](/\$VC/g,_0x5cb695[_0x28c9ff])),_0x4adc96&&(_0x5194f4=_0x5194f4['replace'](/\$DETAILMODE/g,_0x4adc96));const _0x34c01e=!!(_0x3b670c&0x1*0x4cd+0x238*-0x10+0x1eb4),_0x3d97be=!!(_0x3b670c&0x83d+0x21d*-0x1+0x1d*-0x36),_0x4013b0=!!_0x5cb695[_0x39278c];return _0x5194f4=this['_addMapDef'+'s'](_0x34c01e,_0x3d97be,_0x2ac128,_0x33146a,_0x4013b0)+_0x5194f4,_0x5194f4['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x2f29a6,_0x1c1947,_0x5b5791){if(_0x5b5791[_0x2f29a6]>-0x29*0xb3+-0x1*-0x36f+0x193c){if(_0x5b5791[_0x2f29a6]<_0x1c1947['length'])return _0x1c1947['substring'](0x13c1+0x3ef+-0x4*0x5ec,_0x5b5791[_0x2f29a6]);if(_0x5b5791[_0x2f29a6]>_0x1c1947['length']){let _0xc4a857=_0x1c1947;const _0xcdc38f=_0xc4a857['charAt'](_0xc4a857['length']-(-0xed8+-0x1260+0x2139)),_0xda0aea=_0x5b5791[_0x2f29a6]-_0xc4a857['length'];for(let _0x5147d6=-0xcc3+-0xda*-0x3+0x3*0x367;_0x5147d6<_0xda0aea;_0x5147d6++)_0xc4a857+=_0xcdc38f;return _0xc4a857;}return _0x1c1947;}}['createShad'+'erDefiniti'+'on'](_0x33e6ae,_0x2bd1bb){const _0x5d3a08=Ks['get'](_0x33e6ae)['getByIndex'](_0x2bd1bb['litOptions']['pass'])['isForward'],_0x1f671f=new WC(_0x33e6ae,_0x2bd1bb['litOptions']),_0x4f7366=[],_0x44780d=[],_0x28ffbb=[],_0x42870b=0x1*-0x14e3+-0x2*-0x8bc+0x36d,_0x27aac4={};for(const _0x2e0880 in fa){const _0x1525ba=_0x2e0880+'Map';if(_0x2bd1bb[_0x2e0880+('VertexColo'+'r')]){const _0x5dc32b=_0x2e0880+('VertexColo'+'rChannel');_0x2bd1bb[_0x5dc32b]=this['_correctCh'+'annel'](_0x2e0880,_0x2bd1bb[_0x5dc32b],fa);}if(_0x2bd1bb[_0x1525ba]){const _0x1e5b46=_0x1525ba+'Channel',_0x33e417=_0x1525ba+'Transform',_0x5aaac5=_0x1525ba+'Uv';_0x2bd1bb[_0x5aaac5]=Math['min'](_0x2bd1bb[_0x5aaac5],_0x42870b-(0x221c+-0x62f*0x2+-0x15bd)),_0x2bd1bb[_0x1e5b46]=this['_correctCh'+'annel'](_0x2e0880,_0x2bd1bb[_0x1e5b46],fa);const _0x382e1e=_0x2bd1bb[_0x5aaac5];_0x4f7366[_0x382e1e]=!(-0x1fe7+0xe*0x85+-0x1e5*-0xd),_0x44780d[_0x382e1e]=_0x44780d[_0x382e1e]||_0x2bd1bb[_0x1525ba]&&!_0x2bd1bb[_0x33e417],_0x2bd1bb[_0x33e417]&&_0x28ffbb['push']({'name':_0x2e0880,'id':_0x2bd1bb[_0x33e417],'uv':_0x2bd1bb[_0x5aaac5]});}}_0x2bd1bb['forceUv1']&&(_0x4f7366[0x10*0x8+-0x7b2*0x1+0x733]=!(-0x7f6+0x1*0xefb+-0x705),_0x44780d[-0xb*-0x1bc+-0xeef+-0x424]=_0x44780d[0x1ab5+-0x1152+-0x1*0x962]!==void(0x1edf+-0xab1+-0x142e)?_0x44780d[0xa8f+-0x1f*0x3a+-0x388]:!(-0x1*-0x17fe+0x1f90+-0x378e)),_0x1f671f['generateVe'+'rtexShader'](_0x4f7366,_0x44780d,_0x28ffbb),_0x2bd1bb['litOptions']['fresnelMod'+'el']=_0x2bd1bb['litOptions']['fresnelMod'+'el']===-0x4ca+0x5*-0x60d+0x230b?Sp:_0x2bd1bb['litOptions']['fresnelMod'+'el'];const _0x48c561=new sr(),_0x338f09=new sr(),_0x8911f3=new sr(),_0x54e0bf=new sr();let _0x4e6b0e='';if(_0x2bd1bb['litOptions']['nineSliced'+'Mode']===Qe?_0x48c561['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x48c561['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x5d3a08){if(_0x2bd1bb['heightMap']&&(_0x48c561['append']('vec2\x20dUvOf'+'fset;'),_0x338f09['append'](this['_addMap']('height','parallaxPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getParalla'+'x();')),_0x2bd1bb['litOptions']['blendType']!==is||_0x2bd1bb['litOptions']['alphaTest']||_0x2bd1bb['litOptions']['alphaToCov'+'erage']||_0x2bd1bb['litOptions']['opacityDit'+'her']!==Rs){_0x48c561['append']('float\x20dAlp'+'ha;'),_0x338f09['append'](this['_addMap']('opacity','opacityPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getOpacity'+'();'),_0x54e0bf['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x2bd1bb['litOptions']['alphaTest']&&(_0x338f09['append'](_0x1f671f['chunks']['alphaTestP'+'S']),_0x8911f3['append']('alphaTest('+'dAlpha);'));const _0x42b7ef=_0x2bd1bb['litOptions']['opacityDit'+'her'];_0x42b7ef!==Rs&&(_0x42b7ef===Nm&&_0x48c561['append'](_0x1f671f['chunks']['bayerPS']),_0x48c561['append']('#define\x20DI'+'THER_'+_0x42b7ef['toUpperCas'+'e']()+'\x0a'),_0x48c561['append'](_0x1f671f['chunks']['opacityDit'+'herPS']),_0x8911f3['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x48c561['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x1f671f['needsNorma'+'l']){if((_0x2bd1bb['normalMap']||_0x2bd1bb['clearCoatN'+'ormalMap'])&&(_0x338f09['append'](_0x2bd1bb['packedNorm'+'al']?_0x1f671f['chunks']['normalXYPS']:_0x1f671f['chunks']['normalXYZP'+'S']),!_0x2bd1bb['litOptions']['hasTangent'+'s'])){const _0x10d8b3=_0x2bd1bb['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x4e6b0e=this['_getUvSour'+'ceExpressi'+'on'](_0x10d8b3+'Transform',_0x10d8b3+'Uv',_0x2bd1bb);}_0x48c561['append']('vec3\x20dNorm'+'alW;'),_0x338f09['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x338f09['append'](this['_addMap']('normal','normalMapP'+'S',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getNormal('+');'),_0x54e0bf['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x1f671f['needsScene'+'Color']&&_0x48c561['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x1f671f['needsScree'+'nSize']&&_0x48c561['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x1f671f['needsTrans'+'forms']&&(_0x48c561['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x48c561['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x2bd1bb['diffuseDet'+'ail']||_0x2bd1bb['aoDetail'])&&_0x338f09['append'](_0x1f671f['chunks']['detailMode'+'sPS']),_0x48c561['append']('vec3\x20dAlbe'+'do;'),_0x2bd1bb['diffuseDet'+'ail']&&_0x338f09['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4,_0x2bd1bb['diffuseDet'+'ailEncodin'+'g'])),_0x338f09['append'](this['_addMap']('diffuse','diffusePS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4,_0x2bd1bb['diffuseEnc'+'oding'])),_0x8911f3['append']('getAlbedo('+');'),_0x54e0bf['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x2bd1bb['litOptions']['useRefract'+'ion']&&(_0x48c561['append']('float\x20dTra'+'nsmission;'),_0x338f09['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getRefract'+'ion();'),_0x54e0bf['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x48c561['append']('float\x20dThi'+'ckness;'),_0x338f09['append'](this['_addMap']('thickness','thicknessP'+'S',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getThickne'+'ss();'),_0x54e0bf['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x2bd1bb['litOptions']['dispersion']&&_0x54e0bf['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x2bd1bb['litOptions']['useIridesc'+'ence']&&(_0x48c561['append']('float\x20dIri'+'descence;'),_0x338f09['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getIridesc'+'ence();'),_0x54e0bf['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x48c561['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x338f09['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getIridesc'+'enceThickn'+'ess();'),_0x54e0bf['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x1f671f['lighting']&&_0x2bd1bb['litOptions']['useSpecula'+'r']||_0x1f671f['reflection'+'s']?(_0x48c561['append']('vec3\x20dSpec'+'ularity;'),_0x48c561['append']('float\x20dGlo'+'ssiness;'),_0x2bd1bb['litOptions']['useSheen']&&(_0x48c561['append']('vec3\x20sSpec'+'ularity;'),_0x338f09['append'](this['_addMap']('sheen','sheenPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4,_0x2bd1bb['sheenEncod'+'ing'])),_0x8911f3['append']('getSheen()'+';'),_0x54e0bf['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x48c561['append']('float\x20sGlo'+'ssiness;'),_0x338f09['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getSheenGl'+'ossiness()'+';'),_0x54e0bf['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x2bd1bb['litOptions']['useMetalne'+'ss']&&(_0x48c561['append']('float\x20dMet'+'alness;'),_0x338f09['append'](this['_addMap']('metalness','metalnessP'+'S',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getMetalne'+'ss();'),_0x54e0bf['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x48c561['append']('float\x20dIor'+';'),_0x338f09['append'](this['_addMap']('ior','iorPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getIor();'),_0x54e0bf['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x2bd1bb['litOptions']['useSpecula'+'rityFactor']&&(_0x48c561['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x338f09['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getSpecula'+'rityFactor'+'();'),_0x54e0bf['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x2bd1bb['useSpecula'+'rColor']?_0x338f09['append'](this['_addMap']('specular','specularPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4,_0x2bd1bb['specularEn'+'coding'])):_0x338f09['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x338f09['append'](this['_addMap']('gloss','glossPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getGlossin'+'ess();'),_0x8911f3['append']('getSpecula'+'rity();'),_0x54e0bf['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x54e0bf['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x48c561['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x48c561['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x2bd1bb['aoDetail']&&_0x338f09['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),(_0x2bd1bb['aoMap']||_0x2bd1bb['aoVertexCo'+'lor']||_0x2bd1bb['useAO'])&&(_0x48c561['append']('float\x20dAo;'),_0x338f09['append'](this['_addMap']('ao','aoPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getAO();'),_0x54e0bf['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x48c561['append']('vec3\x20dEmis'+'sion;'),_0x338f09['append'](this['_addMap']('emissive','emissivePS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4,_0x2bd1bb['emissiveEn'+'coding'])),_0x8911f3['append']('getEmissio'+'n();'),_0x54e0bf['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x2bd1bb['litOptions']['useClearCo'+'at']&&(_0x48c561['append']('float\x20ccSp'+'ecularity;'),_0x48c561['append']('float\x20ccGl'+'ossiness;'),_0x48c561['append']('vec3\x20ccNor'+'malW;'),_0x338f09['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x338f09['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x338f09['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getClearCo'+'at();'),_0x8911f3['append']('getClearCo'+'atGlossine'+'ss();'),_0x8911f3['append']('getClearCo'+'atNormal()'+';'),_0x54e0bf['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x54e0bf['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x54e0bf['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x2bd1bb['lightMap']||_0x2bd1bb['lightVerte'+'xColor']){const _0x36d5d5=_0x2bd1bb['dirLightMa'+'p']&&_0x2bd1bb['litOptions']['useSpecula'+'r'],_0x3bc0e2=_0x36d5d5?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x48c561['append']('vec3\x20dLigh'+'tmap;'),_0x36d5d5&&_0x48c561['append']('vec3\x20dLigh'+'tmapDir;'),_0x338f09['append'](this['_addMap']('light',_0x3bc0e2,_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4,_0x2bd1bb['lightMapEn'+'coding'])),_0x8911f3['append']('getLightMa'+'p();'),_0x54e0bf['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x36d5d5&&_0x54e0bf['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x338f09['code']['indexOf']('texture2DS'+'RGB')===-(-0x43*0x29+-0x3b*0x7a+0x26da)&&_0x338f09['code']['indexOf']('texture2DR'+'GBM')===-(0x17ae+-0x1*-0x47a+-0x1c27)&&_0x338f09['code']['indexOf']('texture2DR'+'GBE')===-(-0xcc3*-0x3+-0x1c60+0x1*-0x9e8),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x22970f=_0x2bd1bb['litOptions']['opacitySha'+'dowDither'];(_0x2bd1bb['litOptions']['alphaTest']||_0x22970f)&&(_0x48c561['append']('float\x20dAlp'+'ha;'),_0x338f09['append'](this['_addMap']('opacity','opacityPS',_0x2bd1bb,_0x1f671f['chunks'],_0x27aac4)),_0x8911f3['append']('getOpacity'+'();'),_0x54e0bf['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x2bd1bb['litOptions']['alphaTest']&&(_0x338f09['append'](_0x1f671f['chunks']['alphaTestP'+'S']),_0x8911f3['append']('alphaTest('+'dAlpha);')),_0x22970f!==Rs&&(_0x22970f===Nm&&_0x48c561['append'](_0x1f671f['chunks']['bayerPS']),_0x48c561['append']('#define\x20DI'+'THER_'+_0x22970f['toUpperCas'+'e']()+'\x0a'),_0x48c561['append'](_0x1f671f['chunks']['opacityDit'+'herPS']),_0x8911f3['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x48c561['append'](_0x1f671f['chunks']['litShaderA'+'rgsPS']),_0x338f09['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x8911f3['code']+'\x0a'+_0x54e0bf['code']+'\x0a\x20}\x0a'),_0x8911f3['code']='evaluateFr'+'ontend();';for(const _0x54fc17 in _0x27aac4)_0x48c561['append']('uniform\x20sa'+'mpler2D\x20'+_0x27aac4[_0x54fc17]+';');_0x8911f3['code']='\x0a'+_0x8911f3['code']['split']('\x0a')['map'](_0x57501e=>'\x20\x20\x20\x20'+_0x57501e)['join']('\x0a')+'\x0a\x0a',_0x1f671f['generateFr'+'agmentShad'+'er'](_0x48c561['code'],_0x338f09['code'],_0x8911f3['code'],_0x4e6b0e);const _0x320f9a=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x1f671f['chunks']),..._0x1f671f['chunks'],..._0x2bd1bb['litOptions']['chunks']})),_0x253e15=new Map(_0x2bd1bb['defines']),_0x1815d8=Mt['createDefi'+'nition'](_0x33e6ae,{'name':'StandardSh'+'ader','attributes':_0x1f671f['attributes'],'vertexCode':_0x1f671f['vshader'],'fragmentCode':_0x1f671f['fshader'],'vertexIncludes':_0x320f9a,'fragmentIncludes':_0x320f9a,'fragmentDefines':_0x253e15,'vertexDefines':_0x253e15});return _0x1f671f['shaderPass'+'Info']['isForward']&&(_0x1815d8['tag']=Ly),_0x1815d8;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=0x15d7*-0x1+0x1*0xdf6+0x1*0x7e1;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(-0x1*0xb63+-0x31c+0xe80)),c(this,'parameters',{}),c(this,'alphaTest',-0x21d9+-0x25bf*0x1+0x4798),c(this,'alphaToCov'+'erage',!(-0x3f6*-0x6+-0xc71*-0x3+0xe*-0x45d)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x17bf*-0x1+0x96e*-0x1+-0x13*-0x1bf)),c(this,'_shaderVer'+'sion',0x236*-0x4+0x1b79+-0x12a1),c(this,'_scene',null),c(this,'dirty',!(-0x47+-0x1429+0x1470)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x2fef31){this['_dirtyShad'+'er']=!(0x22*-0xd9+0x1*-0x2377+0x4049),this['_chunks']=_0x2fef31;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x4af+0xb47*-0x2+0x11df),this['_chunks'];}set['depthBias'](_0x3d7b7c){this['_depthStat'+'e']['depthBias']=_0x3d7b7c;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x424a56){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x424a56;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x10f29b){this['_blendStat'+'e']['redWrite']=_0x10f29b;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x176329){this['_blendStat'+'e']['greenWrite']=_0x176329;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x69c3e8){this['_blendStat'+'e']['blueWrite']=_0x69c3e8;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x49abeb){this['_blendStat'+'e']['alphaWrite']=_0x49abeb;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0xd3ad76=this['transparen'+'t'],_0x3105d7=this['meshInstan'+'ces'];for(let _0x4be5ab=-0x68*0x1+-0xf1*-0xa+-0x902;_0x4be5ab<_0x3105d7['length'];_0x4be5ab++)_0x3105d7[_0x4be5ab]['transparen'+'t']=_0xd3ad76;}set['blendState'](_0x56780e){this['_blendStat'+'e']['copy'](_0x56780e),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x1d0efb){const _0x3cf97c=Ft[_0x1d0efb];v['assert'](_0x3cf97c,'Unknown\x20bl'+'end\x20mode\x20'+_0x1d0efb),this['_blendStat'+'e']['setColorBl'+'end'](_0x3cf97c['op'],_0x3cf97c['src'],_0x3cf97c['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x3cf97c['alphaOp']??_0x3cf97c['op'],_0x3cf97c['alphaSrc']??_0x3cf97c['src'],_0x3cf97c['alphaDst']??_0x3cf97c['dst']);const _0x304b16=_0x1d0efb!==is;this['_blendStat'+'e']['blend']!==_0x304b16&&(this['_blendStat'+'e']['blend']=_0x304b16,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x57f6c4,colorSrcFactor:_0x380aca,colorDstFactor:_0x12351f,alphaOp:_0xb9b9d4,alphaSrcFactor:_0x36145f,alphaDstFactor:_0xb99ef1}=this['_blendStat'+'e'];for(let _0x61e0a2=0x1551*0x1+0x2364+-0x38b5;_0x61e0a2<Ft['length'];_0x61e0a2++){const _0x17277b=Ft[_0x61e0a2];if(_0x17277b['src']===_0x380aca&&_0x17277b['dst']===_0x12351f&&_0x17277b['op']===_0x57f6c4&&_0x17277b['src']===_0x36145f&&_0x17277b['dst']===_0xb99ef1&&_0x17277b['op']===_0xb9b9d4)return _0x61e0a2;}return Kt;}set['depthState'](_0x55fb3f){this['_depthStat'+'e']['copy'](_0x55fb3f);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x26ba19){this['_depthStat'+'e']['test']=_0x26ba19;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x4b5fd0){this['_depthStat'+'e']['func']=_0x4b5fd0;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x33fd3d){this['_depthStat'+'e']['write']=_0x33fd3d;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x30a122){var _0x19fb4b;this['name']=_0x30a122['name'],this['alphaTest']=_0x30a122['alphaTest'],this['alphaToCov'+'erage']=_0x30a122['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x30a122['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x30a122['_depthStat'+'e']),this['cull']=_0x30a122['cull'],this['stencilFro'+'nt']=(_0x19fb4b=_0x30a122['stencilFro'+'nt'])==null?void(-0xc07*-0x2+0x629+-0x1e37):_0x19fb4b['clone'](),_0x30a122['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x30a122['stencilFro'+'nt']===_0x30a122['stencilBac'+'k']?this['stencilFro'+'nt']:_0x30a122['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x452168 in _0x30a122['parameters'])_0x30a122['parameters']['hasOwnProp'+'erty'](_0x452168)&&this['_setParame'+'terSimple'](_0x452168,_0x30a122['parameters'][_0x452168]['data']);this['defines']['clear'](),_0x30a122['defines']['forEach']((_0x5b7e86,_0x113296)=>this['defines']['set'](_0x113296,_0x5b7e86));const _0x58e9d3=_0x30a122['_chunks'];for(const _0xe4d4ac in _0x58e9d3)_0x58e9d3['hasOwnProp'+'erty'](_0xe4d4ac)&&(this['_chunks'][_0xe4d4ac]=_0x58e9d3[_0xe4d4ac]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x32bbfe=this['meshInstan'+'ces'];for(let _0x5a642c=-0x3a8+0x1759*-0x1+0x1b01;_0x5a642c<_0x32bbfe['length'];_0x5a642c++)_0x32bbfe[_0x5a642c]['updateKey']();}['updateUnif'+'orms'](_0x114ce1,_0x42a9eb){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x4f9284){v['assert'](!(-0x1*-0x8eb+0x1*-0xf4e+0x664),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x242f+0x1c4e+0x7e2),this['clearVaria'+'nts']()),this['dirty']=!(-0x3*-0xbed+-0x6*0x1b3+-0x1995);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x5ecde9=this['meshInstan'+'ces'],_0xca0edc=_0x5ecde9['length'];for(let _0x1f37b8=0x762+0xf19+-0x167b;_0x1f37b8<_0xca0edc;_0x1f37b8++)_0x5ecde9[_0x1f37b8]['clearShade'+'rs']();}['getParamet'+'er'](_0x134ae7){return this['parameters'][_0x134ae7];}['_setParame'+'terSimple'](_0x48510f,_0x57bc28){v['call'](()=>{_0x57bc28===void(0x2098+-0x26e2+0x64a)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x48510f+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x2cdc2a=this['parameters'][_0x48510f];_0x2cdc2a?_0x2cdc2a['data']=_0x57bc28:this['parameters'][_0x48510f]={'scopeId':null,'data':_0x57bc28};}['setParamet'+'er'](_0x150f29,_0x9a1fde){if(_0x9a1fde===void(-0x2365+0x11b1+0x1*0x11b4)&&typeof _0x150f29=='object'){const _0x575fab=_0x150f29;if(_0x575fab['length']){for(let _0x5bf680=-0x16*0x4c+-0x225a+0x28e2;_0x5bf680<_0x575fab['length'];_0x5bf680++)this['setParamet'+'er'](_0x575fab[_0x5bf680]);return;}_0x150f29=_0x575fab['name'],_0x9a1fde=_0x575fab['value'];}this['_setParame'+'terSimple'](_0x150f29,_0x9a1fde);}['deletePara'+'meter'](_0x53492f){this['parameters'][_0x53492f]&&delete this['parameters'][_0x53492f];}['setParamet'+'ers'](_0x4169fe,_0x37d014){const _0x46beb1=this['parameters'];_0x37d014===void(0x163b+0x12*-0x1c1+0x957)&&(_0x37d014=_0x46beb1);for(const _0x4b5d52 in _0x37d014){const _0x663bd6=_0x46beb1[_0x4b5d52];_0x663bd6&&(_0x663bd6['scopeId']||(_0x663bd6['scopeId']=_0x4169fe['scope']['resolve'](_0x4b5d52)),_0x663bd6['scopeId']['setValue'](_0x663bd6['data']));}}['setDefine'](_0xa7786f,_0x11464c){let _0x4b9d64=!(-0x7cd*0x2+0x3*-0x39f+0x1a78);const {defines:_0x3324c4}=this;_0x11464c!==void(0x7*0x53f+-0x148+-0x2371)&&_0x11464c!==!(-0x1*0x11ea+0x19bb+-0x7d0)?(_0x4b9d64=!_0x3324c4['has'](_0xa7786f)||_0x3324c4['get'](_0xa7786f)!==_0x11464c,_0x3324c4['set'](_0xa7786f,_0x11464c)):(_0x4b9d64=_0x3324c4['has'](_0xa7786f),_0x3324c4['delete'](_0xa7786f)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x4b9d64);}['getDefine'](_0x5e3450){return this['defines']['has'](_0x5e3450);}['destroy'](){this['variants']['clear']();for(let _0x1296b0=0x23a7+-0x4*-0x5db+-0xd5*0x47;_0x1296b0<this['meshInstan'+'ces']['length'];_0x1296b0++){const _0x1656af=this['meshInstan'+'ces'][_0x1296b0];if(_0x1656af['clearShade'+'rs'](),_0x1656af['_material']=null,_0x1656af['mesh']){const _0x384106=al(_0x1656af['mesh']['device']);this!==_0x384106&&(_0x1656af['material']=_0x384106);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0xbba+0x1*0xe6d+-0x1a27;}['addMeshIns'+'tanceRef'](_0x1c1140){this['meshInstan'+'ces']['push'](_0x1c1140);}['removeMesh'+'InstanceRe'+'f'](_0x5a6105){const _0xeb7e86=this['meshInstan'+'ces'],_0x2a0166=_0xeb7e86['indexOf'](_0x5a6105);_0x2a0166!==-(-0xb*0x43+-0x229*-0x1+-0x5*-0x25)&&_0xeb7e86['splice'](_0x2a0166,-0x1e74+-0xe75+0x2cea);}}class As{static['update'](_0x2f4b03,_0xcdad90,_0x13ebf2,_0x1f17d2,_0x23bc37,_0x2b355e,_0x71662a){As['updateShar'+'edOptions'](_0x2f4b03,_0xcdad90,_0x13ebf2,_0x23bc37,_0x2b355e),As['updateMate'+'rialOption'+'s'](_0x2f4b03,_0xcdad90),As['updateEnvO'+'ptions'](_0x2f4b03,_0xcdad90,_0x13ebf2,_0x1f17d2),As['updateLigh'+'tingOption'+'s'](_0x2f4b03,_0xcdad90,_0x23bc37,_0x71662a);}static['updateShar'+'edOptions'](_0x47b520,_0xb10649,_0x4fe1ec,_0x1d897e,_0x5bb756){_0x47b520['chunks']=_0xb10649['chunks'],_0x47b520['pass']=_0x5bb756,_0x47b520['alphaTest']=_0xb10649['alphaTest']>-0x15c9+0x4*-0x39f+0x26b*0xf,_0x47b520['blendType']=_0xb10649['blendType'],_0x47b520['screenSpac'+'e']=_0x1d897e&&(_0x1d897e&Cp)!==0xc*-0x1ec+0x26ad+0x7*-0x23b,_0x47b520['skin']=_0x1d897e&&(_0x1d897e&$c)!==0xb7a+-0x5*-0x4b+-0xcf1*0x1,_0x47b520['useInstanc'+'ing']=_0x1d897e&&(_0x1d897e&Wc)!==-0x8a5*0x3+0x162f+0x1*0x3c0,_0x47b520['useMorphPo'+'sition']=_0x1d897e&&(_0x1d897e&qc)!==-0x7f*0x11+0x1*-0x243a+-0x135*-0x25,_0x47b520['useMorphNo'+'rmal']=_0x1d897e&&(_0x1d897e&Xc)!==0x1*0x1435+-0x1673+0x23e,_0x47b520['useMorphTe'+'xtureBased'+'Int']=_0x1d897e&&(_0x1d897e&jc)!==-0x11b*-0x1c+0x19c6+-0x38ba,_0x47b520['hasTangent'+'s']=_0x1d897e&&(_0x1d897e&Mp)!==0xaa3+0x17*-0x17f+0x1*0x17c6,_0x47b520['nineSliced'+'Mode']=_0xb10649['nineSliced'+'Mode']||Ti,_0xb10649['useLightin'+'g']&&_0x4fe1ec['clusteredL'+'ightingEna'+'bled']?(_0x47b520['clusteredL'+'ightingEna'+'bled']=!(0x13e*0xc+-0x14db+0x5f3),_0x47b520['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x4fe1ec['lighting']['cookiesEna'+'bled'],_0x47b520['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x4fe1ec['lighting']['shadowsEna'+'bled'],_0x47b520['clusteredL'+'ightingSha'+'dowType']=_0x4fe1ec['lighting']['shadowType'],_0x47b520['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x4fe1ec['lighting']['areaLights'+'Enabled']):(_0x47b520['clusteredL'+'ightingEna'+'bled']=!(0x235e+-0x816+-0x1b47),_0x47b520['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0xf80+0xdd*-0xf+-0x28c),_0x47b520['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x15fd+-0x655+0x1*0x1c53),_0x47b520['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0xa6*-0x4+0x1d10+0x1*-0x1a77));}static['updateMate'+'rialOption'+'s'](_0x3b8862,_0x2a1131){_0x3b8862['separateAm'+'bient']=!(0x23*-0xbd+0xa90+0xf48),_0x3b8862['customFrag'+'mentShader']=null,_0x3b8862['pixelSnap']=_0x2a1131['pixelSnap'],_0x3b8862['ambientSH']=_0x2a1131['ambientSH'],_0x3b8862['twoSidedLi'+'ghting']=_0x2a1131['twoSidedLi'+'ghting'],_0x3b8862['occludeDir'+'ect']=_0x2a1131['occludeDir'+'ect'],_0x3b8862['occludeSpe'+'cular']=_0x2a1131['occludeSpe'+'cular'],_0x3b8862['occludeSpe'+'cularFloat']=_0x2a1131['occludeSpe'+'cularInten'+'sity']!==0x1c7f+-0x64+-0x1c1a,_0x3b8862['useMsdf']=!(0x5*-0x766+-0x2520+0x4a1f),_0x3b8862['msdfTextAt'+'tribute']=!(0x4d*0x6e+0x1*-0x67+-0x20ae),_0x3b8862['alphaToCov'+'erage']=_0x2a1131['alphaToCov'+'erage'],_0x3b8862['opacityFad'+'esSpecular']=_0x2a1131['opacityFad'+'esSpecular'],_0x3b8862['opacityDit'+'her']=_0x2a1131['opacityDit'+'her'],_0x3b8862['cubeMapPro'+'jection']=u0,_0x3b8862['useSpecula'+'r']=_0x2a1131['hasSpecula'+'r'],_0x3b8862['useSpecula'+'rityFactor']=_0x2a1131['hasSpecula'+'rityFactor'],_0x3b8862['enableGGXS'+'pecular']=_0x2a1131['ggxSpecula'+'r'],_0x3b8862['fresnelMod'+'el']=_0x2a1131['fresnelMod'+'el'],_0x3b8862['useRefract'+'ion']=_0x2a1131['hasRefract'+'ion'],_0x3b8862['useClearCo'+'at']=_0x2a1131['hasClearCo'+'at'],_0x3b8862['useSheen']=_0x2a1131['hasSheen'],_0x3b8862['useIridesc'+'ence']=_0x2a1131['hasIrrides'+'cence'],_0x3b8862['useMetalne'+'ss']=_0x2a1131['hasMetalne'+'ss'],_0x3b8862['useDynamic'+'Refraction']=_0x2a1131['dynamicRef'+'raction'],_0x3b8862['dispersion']=_0x2a1131['dispersion']>-0x1ad4+-0x2605*-0x1+-0xb31,_0x3b8862['vertexColo'+'rs']=!(-0x458+-0x1f13+0x8db*0x4),_0x3b8862['lightMapEn'+'abled']=_0x2a1131['hasLightin'+'g'],_0x3b8862['dirLightMa'+'pEnabled']=_0x2a1131['dirLightMa'+'p'],_0x3b8862['useHeights']=_0x2a1131['hasHeights'],_0x3b8862['useNormals']=_0x2a1131['hasNormals'],_0x3b8862['useClearCo'+'atNormals']=_0x2a1131['hasClearCo'+'atNormals'],_0x3b8862['useAo']=_0x2a1131['hasAo'],_0x3b8862['diffuseMap'+'Enabled']=_0x2a1131['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x4d9f97,_0x2539c9,_0x4e1a10,_0x25c6ba){_0x4d9f97['fog']=_0x2539c9['useFog']?_0x25c6ba['fog']:Fa,_0x4d9f97['gamma']=_0x25c6ba['shaderOutp'+'utGamma'],_0x4d9f97['toneMap']=_0x2539c9['useTonemap']?_0x25c6ba['toneMappin'+'g']:f0,_0x2539c9['useSkybox']&&_0x4e1a10['envAtlas']&&_0x4e1a10['skybox']?(_0x4d9f97['reflection'+'Source']='envAtlasHQ',_0x4d9f97['reflection'+'Encoding']=_0x4e1a10['envAtlas']['encoding'],_0x4d9f97['reflection'+'CubemapEnc'+'oding']=_0x4e1a10['skybox']['encoding']):_0x2539c9['useSkybox']&&_0x4e1a10['envAtlas']?(_0x4d9f97['reflection'+'Source']='envAtlas',_0x4d9f97['reflection'+'Encoding']=_0x4e1a10['envAtlas']['encoding']):_0x2539c9['useSkybox']&&_0x4e1a10['skybox']?(_0x4d9f97['reflection'+'Source']='cubeMap',_0x4d9f97['reflection'+'Encoding']=_0x4e1a10['skybox']['encoding']):(_0x4d9f97['reflection'+'Source']=null,_0x4d9f97['reflection'+'Encoding']=null),_0x2539c9['ambientSH']?(_0x4d9f97['ambientSou'+'rce']='ambientSH',_0x4d9f97['ambientEnc'+'oding']=null):_0x4d9f97['reflection'+'Source']&&_0x4e1a10['envAtlas']?(_0x4d9f97['ambientSou'+'rce']='envAtlas',_0x4d9f97['ambientEnc'+'oding']=_0x4e1a10['envAtlas']['encoding']):(_0x4d9f97['ambientSou'+'rce']='constant',_0x4d9f97['ambientEnc'+'oding']=null);const _0x5f4612=!!_0x4d9f97['reflection'+'Source'];_0x4d9f97['skyboxInte'+'nsity']=_0x5f4612,_0x4d9f97['useCubeMap'+'Rotation']=_0x5f4612&&_0x4e1a10['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x3902da,_0x4c04d1,_0x5453ec,_0x33f41a){if(_0x3902da['lightMapWi'+'thoutAmbie'+'nt']=!(-0x3fa*-0x2+-0xaf3*-0x1+-0x12e6),_0x4c04d1['useLightin'+'g']){const _0x3c5c9a=[],_0x57b120=_0x5453ec?_0x5453ec>>-0x6f+-0x2373*-0x1+-0x8bd*0x4:hs;_0x3902da['lightMaskD'+'ynamic']=!!(_0x57b120&hs),_0x3902da['lightMapWi'+'thoutAmbie'+'nt']=!(0x2b*-0xd9+0x9*-0x42a+0x49ee),_0x33f41a&&(As['collectLig'+'hts'](oe,_0x33f41a[oe],_0x3c5c9a,_0x57b120),As['collectLig'+'hts'](Pe,_0x33f41a[Pe],_0x3c5c9a,_0x57b120),As['collectLig'+'hts'](Re,_0x33f41a[Re],_0x3c5c9a,_0x57b120)),_0x3902da['lights']=_0x3c5c9a;}else _0x3902da['lights']=[];(_0x3902da['lights']['length']===-0xbc*0x1f+0xf4b+0x779||(_0x5453ec&Ep)!==0x1a72+0xe6d*-0x2+0x4d*0x8)&&(_0x3902da['noShadow']=!(0x210f+-0x65*-0x19+0x43*-0xa4));}static['collectLig'+'hts'](_0x487427,_0x508305,_0x378b19,_0x4fd26e){for(let _0x118746=-0x19*-0xbf+-0x1840+0x599*0x1;_0x118746<_0x508305['length'];_0x118746++){const _0x53968d=_0x508305[_0x118746];_0x53968d['enabled']&&_0x53968d['mask']&_0x4fd26e&&_0x378b19['push'](_0x53968d);}}}const c_=(_0x4e5b6b,_0x2b8978)=>{if(_0x4e5b6b['length']!==_0x2b8978['length'])return!(-0xcea+0x17be+-0xa3*0x11);for(let _0x516f3b=0x76a*-0x1+-0x1ca5+0x240f;_0x516f3b<_0x4e5b6b['length'];++_0x516f3b)if(_0x4e5b6b[_0x516f3b]!==_0x2b8978[_0x516f3b])return!(-0x153d*0x1+0x1*-0xe6f+0x1*0x23ad);return!(0x5d4+-0x8d9+-0x305*-0x1);},YC=_0x4a6409=>_0x4a6409['r']!==0x18f8+0x1*-0x142f+-0x66*0xc||_0x4a6409['g']!==0x496*-0x3+-0x1992+0x2755||_0x4a6409['b']!==-0x1*0x110b+0x31*0x61+-0x185,KC=_0x4bab3b=>_0x4bab3b['r']!==-0x11d7+0x17bb+-0x5e4||_0x4bab3b['g']!==-0xe3*0x1a+0x18d7+0x1c9*-0x1||_0x4bab3b['b']!==0x22eb+0x10d4+-0x1*0x33bf;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x1d4b0c,_0x1c431c,_0x299ab2,_0x43ef4d,_0x56ea15,_0x16cc50){this['_updateSha'+'redOptions'](_0x1d4b0c,_0x1c431c,_0x299ab2,_0x43ef4d,_0x56ea15),this['_updateMin'+'Options'](_0x1d4b0c,_0x299ab2,_0x56ea15),this['_updateUVO'+'ptions'](_0x1d4b0c,_0x299ab2,_0x43ef4d,!(0x1441+0x2623+0x4a*-0xca));}['updateRef'](_0x254503,_0x2882dd,_0xb47753,_0x38389e,_0x322bc9,_0x23d662,_0x1dbcc5){this['_updateSha'+'redOptions'](_0x254503,_0x2882dd,_0x38389e,_0x322bc9,_0x23d662),this['_updateEnv'+'Options'](_0x254503,_0x38389e,_0x2882dd,_0xb47753),this['_updateMat'+'erialOptio'+'ns'](_0x254503,_0x38389e),_0x254503['litOptions']['hasTangent'+'s']=_0x322bc9&&(_0x322bc9&Mp)!==-0x24a+-0x25*-0x2+0x200,this['_updateLig'+'htOptions'](_0x254503,_0x2882dd,_0x38389e,_0x322bc9,_0x1dbcc5),this['_updateUVO'+'ptions'](_0x254503,_0x38389e,_0x322bc9,!(-0x1*-0x19f+-0x2*-0xc54+-0x3*0x8c2),_0xb47753);}['_updateSha'+'redOptions'](_0x267e51,_0x253a29,_0x4551b2,_0x41d78a,_0x26c9bf){_0x267e51['forceUv1']=_0x4551b2['forceUv1'],_0x4551b2['userAttrib'+'utes']&&(_0x267e51['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x4551b2['userAttrib'+'utes']['entries']())),_0x267e51['litOptions']['chunks']=_0x4551b2['chunks']||{},_0x267e51['litOptions']['pass']=_0x26c9bf,_0x267e51['litOptions']['alphaTest']=_0x4551b2['alphaTest']>0x171*-0xc+0x122b+-0xdf,_0x267e51['litOptions']['blendType']=_0x4551b2['blendType'],_0x267e51['litOptions']['screenSpac'+'e']=_0x41d78a&&(_0x41d78a&Cp)!==0x5c+-0x2343+-0x1*-0x22e7,_0x267e51['litOptions']['skin']=_0x41d78a&&(_0x41d78a&$c)!==-0x7*0x115+0x41c+-0x1*-0x377,_0x267e51['litOptions']['batch']=_0x41d78a&&(_0x41d78a&Ou)!==0x152e+-0xdf*0x2+-0x2*0x9b8,_0x267e51['litOptions']['useInstanc'+'ing']=_0x41d78a&&(_0x41d78a&Wc)!==0x128+-0x1e22+0x1cfa,_0x267e51['litOptions']['useMorphPo'+'sition']=_0x41d78a&&(_0x41d78a&qc)!==0x31d*-0x7+-0x21aa+-0x3775*-0x1,_0x267e51['litOptions']['useMorphNo'+'rmal']=_0x41d78a&&(_0x41d78a&Xc)!==-0xdd5+-0x82*-0x34+-0x431*0x3,_0x267e51['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x41d78a&&(_0x41d78a&jc)!==-0x363*-0x6+0xc33+-0xad7*0x3,_0x267e51['litOptions']['nineSliced'+'Mode']=_0x4551b2['nineSliced'+'Mode']||-0x23a0+-0x7*-0x206+0x1576,_0x253a29['clusteredL'+'ightingEna'+'bled']&&_0x4551b2['useLightin'+'g']?(_0x267e51['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0xe4d+0x5db*-0x1+-0x872),_0x267e51['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x253a29['lighting']['cookiesEna'+'bled'],_0x267e51['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x253a29['lighting']['shadowsEna'+'bled'],_0x267e51['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x253a29['lighting']['shadowType'],_0x267e51['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x253a29['lighting']['areaLights'+'Enabled']):(_0x267e51['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x26d4+-0x2152+-0x581*0x1),_0x267e51['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x521+-0x361+0x883*0x1),_0x267e51['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1c9*0x9+0x1770+-0x75e),_0x267e51['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x13*-0x148+-0x6c1+-0x1*-0x1f1a));}['_updateUVO'+'ptions'](_0x54b0b9,_0x2bbb99,_0x5872d1,_0xb41fb3,_0x3db296){let _0x2c626f=!(-0xc*-0x195+-0x105a*0x1+-0x2a1),_0x28893a=!(-0x2*-0x101c+-0x187*-0x1+-0xe*0x269),_0x5cb6ec=!(0x5de*-0x5+0x1*0x6e6+0x1*0x1671);_0x5872d1&&(_0x2c626f=(_0x5872d1&m0)!==0x89*-0x8+0x210d*0x1+-0x1cc5,_0x28893a=(_0x5872d1&_0)!==0x4*-0x151+-0x1f*-0xe7+-0x16b5,_0x5cb6ec=(_0x5872d1&g0)!==0x10a3+-0x1c80+0x1*0xbdd),_0x54b0b9['litOptions']['vertexColo'+'rs']=!(-0x284+0xc2f*-0x1+0x1*0xeb4),this['_mapXForms']=[];const _0x321d8d={};for(const _0x5080b2 in fa)this['_updateTex'+'Options'](_0x54b0b9,_0x2bbb99,_0x5080b2,_0x2c626f,_0x28893a,_0x5cb6ec,_0xb41fb3,_0x321d8d);this['_mapXForms']=null,_0x54b0b9['litOptions']['ssao']=_0x3db296==null?void(-0xd2c+-0x15e7+-0x3*-0xbb1):_0x3db296['ssaoEnable'+'d'],_0x54b0b9['useAO']=_0x54b0b9['litOptions']['ssao'],_0x54b0b9['litOptions']['lightMapEn'+'abled']=_0x54b0b9['lightMap'],_0x54b0b9['litOptions']['dirLightMa'+'pEnabled']=_0x54b0b9['dirLightMa'+'p'],_0x54b0b9['litOptions']['useHeights']=_0x54b0b9['heightMap'],_0x54b0b9['litOptions']['useNormals']=_0x54b0b9['normalMap'],_0x54b0b9['litOptions']['useClearCo'+'atNormals']=_0x54b0b9['clearCoatN'+'ormalMap'],_0x54b0b9['litOptions']['useAo']=_0x54b0b9['aoMap']||_0x54b0b9['aoVertexCo'+'lor']||_0x54b0b9['litOptions']['ssao'],_0x54b0b9['litOptions']['diffuseMap'+'Enabled']=_0x54b0b9['diffuseMap'];}['_updateTex'+'Options'](_0x5dd8dd,_0x45d676,_0x3a8f9d,_0x3c8ce3,_0x293267,_0x5e7c14,_0x3915af,_0x3b51cd){const _0x4571e0=_0x3a8f9d==='opacity';if(!_0x3915af||_0x4571e0){const _0x5dee14=_0x3a8f9d+'Map',_0x459de4=_0x3a8f9d+('VertexColo'+'r'),_0x424e50=_0x3a8f9d+('VertexColo'+'rChannel'),_0x2d0041=_0x5dee14+'Channel',_0x48b9c1=_0x5dee14+'Transform',_0xf34b8b=_0x5dee14+'Uv',_0x1a3bfd=_0x5dee14+'Identifier';if(_0x3a8f9d!=='light'&&(_0x5dd8dd[_0x5dee14]=!(0x77*-0x39+-0x1*0x933+0x23b3),_0x5dd8dd[_0x1a3bfd]=void(0x23c3+-0x1*-0x102e+0x33f1*-0x1),_0x5dd8dd[_0x2d0041]='',_0x5dd8dd[_0x48b9c1]=-0x1dc5+0x1fbb+-0x2*0xfb,_0x5dd8dd[_0xf34b8b]=-0x1804+-0x15f2*0x1+0x2df6),_0x5dd8dd[_0x459de4]=!(0x5d*-0x42+-0x1d65+0x3560),_0x5dd8dd[_0x424e50]='',_0x4571e0&&_0x45d676['blendType']===is&&_0x45d676['alphaTest']===0x17c6+-0x218f+-0x3*-0x343&&!_0x45d676['alphaToCov'+'erage']&&_0x45d676['opacityDit'+'her']===Rs)return;if(_0x3a8f9d!=='height'&&_0x45d676[_0x459de4]&&_0x5e7c14&&(_0x5dd8dd[_0x459de4]=_0x45d676[_0x459de4],_0x5dd8dd[_0x424e50]=_0x45d676[_0x424e50],_0x5dd8dd['litOptions']['vertexColo'+'rs']=!(0x25ed*0x1+-0x27a+-0x2373)),_0x45d676[_0x5dee14]){let _0x513cd5=!(0x1559+0xb76+-0x20cf);if(_0x45d676[_0xf34b8b]===-0x1c66+-0xd5f+0x29c5&&!_0x3c8ce3&&(_0x513cd5=!(-0xc61+0x1984+-0x2*0x691)),_0x45d676[_0xf34b8b]===-0x9a8+-0x17*-0x173+-0x17ac&&!_0x293267&&(_0x513cd5=!(-0x2*-0x429+-0x11*-0x15e+-0x1f8f*0x1)),_0x513cd5){const _0x1fbdfc=_0x45d676[_0x5dee14]['id'];let _0x375c2e=_0x3b51cd[_0x1fbdfc];_0x375c2e===void(-0x325+0xa08+-0x2b*0x29)&&(_0x3b51cd[_0x1fbdfc]=_0x3a8f9d,_0x375c2e=_0x3a8f9d),_0x5dd8dd[_0x5dee14]=!!_0x45d676[_0x5dee14],_0x5dd8dd[_0x1a3bfd]=_0x375c2e,_0x5dd8dd[_0x48b9c1]=this['_getMapTra'+'nsformID'](_0x45d676['getUniform'](_0x48b9c1),_0x45d676[_0xf34b8b]),_0x5dd8dd[_0x2d0041]=_0x45d676[_0x2d0041],_0x5dd8dd[_0xf34b8b]=_0x45d676[_0xf34b8b];}}}}['_updateMin'+'Options'](_0xbe71a7,_0x27f8b9,_0x217c44){const _0x1cc7a6=_0x217c44===il;_0xbe71a7['litOptions']['opacitySha'+'dowDither']=_0x1cc7a6?_0x27f8b9['opacityDit'+'her']:_0x27f8b9['opacitySha'+'dowDither'],_0xbe71a7['litOptions']['linearDept'+'h']=_0x1cc7a6,_0xbe71a7['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x5915f6,_0x245d9a){var _0x41af97,_0xb1c4e1,_0x333f2e,_0x226244;const _0x5d9adf=!!(_0x245d9a['useMetalne'+'ss']||_0x245d9a['specularMa'+'p']||_0x245d9a['sphereMap']||_0x245d9a['cubeMap']||KC(_0x245d9a['specular'])||_0x245d9a['specularit'+'yFactor']>0x227a+-0x148d+-0xded&&_0x245d9a['useMetalne'+'ss']||_0x245d9a['enableGGXS'+'pecular']||_0x245d9a['clearCoat']>0x174+0x44*-0x1d+0x640),_0x3f33a6=!_0x245d9a['useMetalne'+'ss']||_0x245d9a['useMetalne'+'ssSpecular'+'Color'],_0x38827b=_0x5d9adf&&(_0x245d9a['specularTi'+'nt']||!_0x245d9a['specularMa'+'p']&&!_0x245d9a['specularVe'+'rtexColor'])&&YC(_0x245d9a['specular']),_0x19943f=_0x5d9adf&&_0x245d9a['useMetalne'+'ssSpecular'+'Color']&&(_0x245d9a['specularit'+'yFactorTin'+'t']||_0x245d9a['specularit'+'yFactor']<-0x9a2+0x5db+0x3c8&&!_0x245d9a['specularit'+'yFactorMap']),_0x5b23b2=_0x245d9a['normalMap']?_0x245d9a['normalMap']['format']===Wo||_0x245d9a['normalMap']['type']===op:!(-0x5*-0x100+-0x1c76+0x1777),_0x2d2f07=(_0x35cab2,_0x2c98f7)=>Math['abs'](_0x35cab2-_0x2c98f7)<-0x1213+-0x13d4+0x1*0x25e7+0.0001;_0x5915f6['specularTi'+'nt']=_0x38827b?-0xb5*0x14+0x6b5+0x771:-0x687*0x5+0x2*0xb26+-0x1*-0xa57,_0x5915f6['specularit'+'yFactorTin'+'t']=_0x19943f?-0x219c+0x2477+-0x2da:-0x62*-0x5c+0xfab+-0x1*0x32e3,_0x5915f6['metalnessT'+'int']=_0x245d9a['useMetalne'+'ss']&&_0x245d9a['metalness']<0xfd*0x17+0x15b*0x1+0x3*-0x807?-0x1934*0x1+-0x26ea*0x1+-0x14f*-0x31:0xce9+0x20b8+0x1*-0x2da1,_0x5915f6['glossTint']=-0x92*0x39+-0xae6+0x2b69,_0x5915f6['diffuseEnc'+'oding']=(_0x41af97=_0x245d9a['diffuseMap'])==null?void(-0xb7d*0x1+0xd*-0x67+-0x42e*-0x4):_0x41af97['encoding'],_0x5915f6['diffuseDet'+'ailEncodin'+'g']=(_0xb1c4e1=_0x245d9a['diffuseDet'+'ailMap'])==null?void(-0x27f*0x2+-0x5ca*0x5+0x18*0x16a):_0xb1c4e1['encoding'],_0x5915f6['emissiveEn'+'coding']=(_0x333f2e=_0x245d9a['emissiveMa'+'p'])==null?void(-0xc*-0x1e7+-0x14ab+-0x229):_0x333f2e['encoding'],_0x5915f6['lightMapEn'+'coding']=(_0x226244=_0x245d9a['lightMap'])==null?void(-0x63d*-0x1+0x1*0x4e5+-0x3b6*0x3):_0x226244['encoding'],_0x5915f6['packedNorm'+'al']=_0x5b23b2,_0x5915f6['refraction'+'Tint']=_0x2d2f07(_0x245d9a['refraction'],-0x4a3+0xa21+-0x57d)?0x218f+-0xfb*0x9+0x18bc*-0x1:-0x4ed+-0xd47*-0x1+-0x859,_0x5915f6['refraction'+'IndexTint']=_0x2d2f07(_0x245d9a['refraction'+'Index'],(0x2*-0xab6+0x1b80+-0x137*0x5)/(-0x17b9+-0x1*-0xca0+0xb1a+0.5))?0x1*-0xd84+0x3*0xb47+0x7*-0x2e7:0x3*0xa09+-0x1b31+-0x2e9,_0x5915f6['thicknessT'+'int']=_0x245d9a['useDynamic'+'Refraction']&&_0x245d9a['thickness']!==-0xb65+-0x24fb+0x3061?-0x701+-0xaa6*0x2+-0x1*-0x1c4e:-0x703+-0x937+-0x43*-0x3e,_0x5915f6['specularEn'+'coding']=_0x245d9a['specularEn'+'coding']||'linear',_0x5915f6['sheenEncod'+'ing']=_0x245d9a['sheenEncod'+'ing']||'linear',_0x5915f6['aoMapUv']=_0x245d9a['aoUvSet'],_0x5915f6['aoDetail']=!!_0x245d9a['aoMap'],_0x5915f6['diffuseDet'+'ail']=!!_0x245d9a['diffuseMap'],_0x5915f6['normalDeta'+'il']=!!_0x245d9a['normalMap'],_0x5915f6['diffuseDet'+'ailMode']=_0x245d9a['diffuseDet'+'ailMode'],_0x5915f6['aoDetailMo'+'de']=_0x245d9a['aoDetailMo'+'de'],_0x5915f6['clearCoatT'+'int']=_0x2d2f07(_0x245d9a['clearCoat'],-0xdd+0x22d3+-0x21f5*0x1)?0x1*-0x29b+0x8*-0x349+0x1ce3:-0x83a+-0xb94+0x13cf,_0x5915f6['clearCoatG'+'loss']=!!_0x245d9a['clearCoatG'+'loss'],_0x5915f6['clearCoatG'+'lossTint']=_0x245d9a['clearCoatG'+'loss']!==-0x1f2*-0xc+0x7*-0x478+0x7f1?-0x43*0x25+-0x12*0x1ac+0x27c8:-0x88*0x2f+0x2c2+0xb1b*0x2,_0x5915f6['iorTint']=_0x2d2f07(_0x245d9a['refraction'+'Index'],(-0x1109+-0x2*0x3f5+0x18f4)/(0x4db+0x1bec+-0x20c6+0.5))?0xecb+0x3*0x8ec+-0x298f:-0x2*0xe31+-0x371*0xb+0x423e,_0x5915f6['iridescenc'+'eTint']=_0x245d9a['iridescenc'+'e']!==-0x4b*0x66+0x1e93+-0xb0?-0x9d*-0x2f+0x58c+0x1*-0x225e:-0x17e7+0xadf+0xd08,_0x5915f6['glossInver'+'t']=_0x245d9a['glossInver'+'t'],_0x5915f6['sheenGloss'+'Invert']=_0x245d9a['sheenGloss'+'Invert'],_0x5915f6['clearCoatG'+'lossInvert']=_0x245d9a['clearCoatG'+'lossInvert'],_0x5915f6['useSpecula'+'rColor']=_0x3f33a6,_0x5915f6['litOptions']['separateAm'+'bient']=!(0x1a3*-0x5+0x180d+-0xfdd),_0x5915f6['litOptions']['customFrag'+'mentShader']=_0x245d9a['customFrag'+'mentShader'],_0x5915f6['litOptions']['pixelSnap']=_0x245d9a['pixelSnap'],_0x5915f6['litOptions']['ambientSH']=!!_0x245d9a['ambientSH'],_0x5915f6['litOptions']['twoSidedLi'+'ghting']=_0x245d9a['twoSidedLi'+'ghting'],_0x5915f6['litOptions']['occludeSpe'+'cular']=_0x245d9a['occludeSpe'+'cular'],_0x5915f6['litOptions']['occludeSpe'+'cularFloat']=_0x245d9a['occludeSpe'+'cularInten'+'sity']!==-0x20b*-0x2+-0xf3*-0x10+0x1*-0x1345,_0x5915f6['litOptions']['useMsdf']=!!_0x245d9a['msdfMap'],_0x5915f6['litOptions']['msdfTextAt'+'tribute']=!!_0x245d9a['msdfTextAt'+'tribute'],_0x5915f6['litOptions']['alphaToCov'+'erage']=_0x245d9a['alphaToCov'+'erage'],_0x5915f6['litOptions']['opacityFad'+'esSpecular']=_0x245d9a['opacityFad'+'esSpecular'],_0x5915f6['litOptions']['opacityDit'+'her']=_0x245d9a['opacityDit'+'her'],_0x5915f6['litOptions']['cubeMapPro'+'jection']=_0x245d9a['cubeMapPro'+'jection'],_0x5915f6['litOptions']['occludeDir'+'ect']=_0x245d9a['occludeDir'+'ect'],_0x5915f6['litOptions']['useSpecula'+'r']=_0x5d9adf,_0x5915f6['litOptions']['useSpecula'+'rityFactor']=(_0x19943f||!!_0x245d9a['specularit'+'yFactorMap'])&&_0x245d9a['useMetalne'+'ssSpecular'+'Color'],_0x5915f6['litOptions']['enableGGXS'+'pecular']=_0x245d9a['enableGGXS'+'pecular'],_0x5915f6['litOptions']['fresnelMod'+'el']=_0x245d9a['fresnelMod'+'el'],_0x5915f6['litOptions']['useRefract'+'ion']=(_0x245d9a['refraction']||!!_0x245d9a['refraction'+'Map'])&&(_0x245d9a['useDynamic'+'Refraction']||!!_0x5915f6['litOptions']['reflection'+'Source']),_0x5915f6['litOptions']['useClearCo'+'at']=!!_0x245d9a['clearCoat'],_0x5915f6['litOptions']['useSheen']=_0x245d9a['useSheen'],_0x5915f6['litOptions']['useIridesc'+'ence']=_0x245d9a['useIridesc'+'ence']&&_0x245d9a['iridescenc'+'e']!==-0x1*0x18dc+-0x12bd+0x2b99*0x1,_0x5915f6['litOptions']['useMetalne'+'ss']=_0x245d9a['useMetalne'+'ss'],_0x5915f6['litOptions']['useDynamic'+'Refraction']=_0x245d9a['useDynamic'+'Refraction'],_0x5915f6['litOptions']['dispersion']=_0x245d9a['dispersion']>-0x1*0xdc7+0x1184+-0x3bd;}['_updateEnv'+'Options'](_0x276fb3,_0x1dc7e2,_0x8d9bee,_0x523bc7){_0x276fb3['litOptions']['fog']=_0x1dc7e2['useFog']?_0x523bc7['fog']:Fa,_0x276fb3['litOptions']['gamma']=_0x523bc7['shaderOutp'+'utGamma'],_0x276fb3['litOptions']['toneMap']=_0x1dc7e2['useTonemap']?_0x523bc7['toneMappin'+'g']:f0;let _0x4bf052=!(-0x1c6f+0xdea+0x743*0x2);if(_0x1dc7e2['envAtlas']&&_0x1dc7e2['cubeMap']?(_0x276fb3['litOptions']['reflection'+'Source']='envAtlasHQ',_0x276fb3['litOptions']['reflection'+'Encoding']=_0x1dc7e2['envAtlas']['encoding'],_0x276fb3['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x1dc7e2['cubeMap']['encoding']):_0x1dc7e2['envAtlas']?(_0x276fb3['litOptions']['reflection'+'Source']='envAtlas',_0x276fb3['litOptions']['reflection'+'Encoding']=_0x1dc7e2['envAtlas']['encoding']):_0x1dc7e2['cubeMap']?(_0x276fb3['litOptions']['reflection'+'Source']='cubeMap',_0x276fb3['litOptions']['reflection'+'Encoding']=_0x1dc7e2['cubeMap']['encoding']):_0x1dc7e2['sphereMap']?(_0x276fb3['litOptions']['reflection'+'Source']='sphereMap',_0x276fb3['litOptions']['reflection'+'Encoding']=_0x1dc7e2['sphereMap']['encoding']):_0x1dc7e2['useSkybox']&&_0x8d9bee['envAtlas']&&_0x8d9bee['skybox']?(_0x276fb3['litOptions']['reflection'+'Source']='envAtlasHQ',_0x276fb3['litOptions']['reflection'+'Encoding']=_0x8d9bee['envAtlas']['encoding'],_0x276fb3['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x8d9bee['skybox']['encoding'],_0x4bf052=!(-0x1*0x262a+-0x1640+0x3c6a)):_0x1dc7e2['useSkybox']&&_0x8d9bee['envAtlas']?(_0x276fb3['litOptions']['reflection'+'Source']='envAtlas',_0x276fb3['litOptions']['reflection'+'Encoding']=_0x8d9bee['envAtlas']['encoding'],_0x4bf052=!(0x22a*-0x7+0xa7*-0xd+0x17a1)):_0x1dc7e2['useSkybox']&&_0x8d9bee['skybox']?(_0x276fb3['litOptions']['reflection'+'Source']='cubeMap',_0x276fb3['litOptions']['reflection'+'Encoding']=_0x8d9bee['skybox']['encoding'],_0x4bf052=!(0x1dd6+-0x12b1*-0x1+-0x3087)):(_0x276fb3['litOptions']['reflection'+'Source']=null,_0x276fb3['litOptions']['reflection'+'Encoding']=null),_0x1dc7e2['ambientSH'])_0x276fb3['litOptions']['ambientSou'+'rce']='ambientSH',_0x276fb3['litOptions']['ambientEnc'+'oding']=null;else{const _0x3e91b4=_0x1dc7e2['envAtlas']||(_0x1dc7e2['useSkybox']&&_0x8d9bee['envAtlas']?_0x8d9bee['envAtlas']:null);_0x3e91b4&&!_0x1dc7e2['sphereMap']?(_0x276fb3['litOptions']['ambientSou'+'rce']='envAtlas',_0x276fb3['litOptions']['ambientEnc'+'oding']=_0x3e91b4['encoding']):(_0x276fb3['litOptions']['ambientSou'+'rce']='constant',_0x276fb3['litOptions']['ambientEnc'+'oding']=null);}_0x276fb3['litOptions']['skyboxInte'+'nsity']=_0x4bf052,_0x276fb3['litOptions']['useCubeMap'+'Rotation']=_0x4bf052&&_0x8d9bee['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x258611,_0x2c6d42,_0x58ac2b,_0x17a691,_0x17c8e0){if(_0x258611['lightMap']=!(0x1*0x67b+-0x1733+0x10b9),_0x258611['lightMapCh'+'annel']='',_0x258611['lightMapUv']=-0x2d4+-0xbf7+0xecb,_0x258611['lightMapTr'+'ansform']=-0x2f*0x9+0x11*-0x5+0x1fc,_0x258611['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x9b*-0x31+0x3*0xc92+-0x4360),_0x258611['dirLightMa'+'p']=!(0x3*0x529+-0x171b+0x7a1),_0x17a691&&(_0x258611['litOptions']['noShadow']=(_0x17a691&Ep)!==-0x13*-0x32+-0x1*-0x1d44+-0x20fa,(_0x17a691&Fu)!==-0x1f6*-0x9+0x7ab+-0x1951*0x1&&(_0x258611['lightMapEn'+'coding']=_0x2c6d42['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x258611['lightMap']=!(0x1b4*-0x14+0xd9a*0x2+0x6dc),_0x258611['lightMapCh'+'annel']='rgb',_0x258611['lightMapUv']=-0x12af*0x1+0xcf0+-0x2e*-0x20,_0x258611['lightMapTr'+'ansform']=-0x24de+0x26e3+-0x205,_0x258611['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x58ac2b['lightMap'],(_0x17a691&y0)!==0x3b1+-0x232+-0x17f&&(_0x258611['dirLightMa'+'p']=!(-0x138f*0x1+0x1f5e+0xbcf*-0x1)),(_0x17a691&x0)!==-0x1f7e+0x13fa+0x5c2*0x2&&(_0x258611['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x3*-0x29b+0x2f9+-0xac9)))),_0x58ac2b['useLightin'+'g']){const _0x2e082c=[],_0x25ef67=_0x17a691?_0x17a691>>-0x674*-0x1+0xe78+-0x14dc:hs;_0x258611['litOptions']['lightMaskD'+'ynamic']=!!(_0x25ef67&hs),_0x17c8e0&&(As['collectLig'+'hts'](oe,_0x17c8e0[oe],_0x2e082c,_0x25ef67),As['collectLig'+'hts'](Pe,_0x17c8e0[Pe],_0x2e082c,_0x25ef67),As['collectLig'+'hts'](Re,_0x17c8e0[Re],_0x2e082c,_0x25ef67)),_0x258611['litOptions']['lights']=_0x2e082c;}else _0x258611['litOptions']['lights']=[];_0x258611['litOptions']['lights']['length']===-0x2*0x41c+0xe6d+0x7*-0xe3&&(_0x258611['litOptions']['noShadow']=!(-0x1dd3*-0x1+-0x1a53+-0x380*0x1));}['_getMapTra'+'nsformID'](_0x398ccf,_0x21977e){if(!_0x398ccf)return 0xafd+-0x16a*-0x10+-0x219d*0x1;let _0x14f952=this['_mapXForms'][_0x21977e];_0x14f952||(_0x14f952=[],this['_mapXForms'][_0x21977e]=_0x14f952);for(let _0x54019d=-0x2218+0x1940+0x8d8;_0x54019d<_0x14f952['length'];_0x54019d++)if(c_(_0x14f952[_0x54019d][-0x3*-0x403+0x6*-0x625+0x18d5]['value'],_0x398ccf[0x9*0x390+0x1da4+-0x2ce*0x16]['value'])&&c_(_0x14f952[_0x54019d][-0x1822+0xc6+0x175d]['value'],_0x398ccf[-0x95e+0x20*-0x5e+0x151f]['value']))return _0x54019d+(-0x1*0x35c+-0x5c7+0x924);return _0x14f952['push'](_0x398ccf);}}function qe(_0x2cbefc,_0x452625=!(-0xa3*0x4+-0x7c7+-0x1*-0xa53),_0x256ce3=!(-0x1*-0x4b1+0x2681+-0x2b32)){const _0x31bd8c={};return _0x31bd8c[_0x2cbefc+'Map']='texture',_0x31bd8c[_0x2cbefc+'MapTiling']='vec2',_0x31bd8c[_0x2cbefc+'MapOffset']='vec2',_0x31bd8c[_0x2cbefc+('MapRotatio'+'n')]='number',_0x31bd8c[_0x2cbefc+'MapUv']='number',_0x452625&&(_0x31bd8c[_0x2cbefc+'MapChannel']='string',_0x256ce3&&(_0x31bd8c[_0x2cbefc+('VertexColo'+'r')]='boolean',_0x31bd8c[_0x2cbefc+('VertexColo'+'rChannel')]='string')),_0x31bd8c;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(0x1383+0x1c09*-0x1+0x886),!(-0x9be+-0x1fb2+-0x67*-0x67)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(-0xd93+0xda8+0x1*-0x15),!(-0x1*-0x2135+-0x1c72+-0x7*0xae)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(0x5d5+0x74b+-0xd1f)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x322*0x5+0x5ba+-0x1563)),'bumpiness':'number',...qe('normalDeta'+'il',!(-0x1b18+0x524+-0x4d*-0x49)),'normalDetailMapBumpiness':'number',...qe('height',!(0x115*0x1+-0x5d*0x33+0xb*0x196),!(-0x16a7+-0x25f+0x1907)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let Wa=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x3e3990=>{this['_'+_0x3e3990]=uh[_0x3e3990]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x347139){return super['copy'](_0x347139),Object['keys'](uh)['forEach'](_0x30f763=>{this[_0x30f763]=_0x347139[_0x30f763];}),this['userAttrib'+'utes']=new Map(_0x347139['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x319dae,_0x1978b9){this['userAttrib'+'utes']['set'](_0x1978b9,_0x319dae);}['_setParame'+'ter'](_0x24c64a,_0x4b01b9){Wa['add'](_0x24c64a),this['setParamet'+'er'](_0x24c64a,_0x4b01b9);}['_setParame'+'ters'](_0x2befd2){_0x2befd2['forEach'](_0x4a619e=>{this['_setParame'+'ter'](_0x4a619e['name'],_0x4a619e['value']);});}['_processPa'+'rameters'](_0x351446){const _0x61326a=this[_0x351446];_0x61326a['forEach'](_0x45b26d=>{Wa['has'](_0x45b26d)||delete this['parameters'][_0x45b26d];}),this[_0x351446]=Wa,Wa=_0x61326a,Wa['clear']();}['_updateMap'](_0xe941ac){const _0x5d87ab=_0xe941ac+'Map',_0x14b09a=this[_0x5d87ab];if(_0x14b09a){this['_setParame'+'ter']('texture_'+_0x5d87ab,_0x14b09a);const _0x3feb98=_0x5d87ab+'Transform',_0x1472dd=this['getUniform'](_0x3feb98);_0x1472dd&&this['_setParame'+'ters'](_0x1472dd);}}['_allocUnif'+'orm'](_0x2be149,_0x756cd2){let _0x25e8cf=this['_uniformCa'+'che'][_0x2be149];return _0x25e8cf||(_0x25e8cf=_0x756cd2(),this['_uniformCa'+'che'][_0x2be149]=_0x25e8cf),_0x25e8cf;}['getUniform'](_0x4bace6,_0x5b4a02,_0x21d078){return P0[_0x4bace6](this,_0x5b4a02,_0x21d078);}['updateUnif'+'orms'](_0x570ec1,_0x4d773a){const _0x35cdd2=_0x5301d1=>this['getUniform'](_0x5301d1,_0x570ec1,_0x4d773a);this['_setParame'+'ter']('material_a'+'mbient',_0x35cdd2('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x35cdd2('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0xf71*0x1+-0x1*0x1b5e+0x1fd*0x6)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x35cdd2('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x35cdd2('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x35cdd2('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>0x6af+0x2689+0x5a7*-0x8&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x1*0x1f0d+-0xd41+0x2c4e&&this['emissive']['g']===0x1d*0x7a+0x14fc+-0x2*0x1167&&this['emissive']['b']===-0x1bc9+-0x586+0x214f*0x1&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x35cdd2('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x55*0x13+0xd*-0x1d3+0x1e06&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x6c0+0x66f*0x4+-0x12fc&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x35cdd2('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x1*0xc8+0x499+-0x1*0x3d1?-0x207a+-0x1b*0x10b+0x3ca3*0x1:(0x2d*-0x39+-0x5ad*0x1+-0xfb3*-0x1)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x2*-0x2e5+0x647*-0x1+0xc12)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x35cdd2('cubeMapPro'+'jectionBox'));for(const _0x2fd4a9 in fa)this['_updateMap'](_0x2fd4a9);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x35cdd2('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x570ec1,_0x4d773a);}['updateEnvU'+'niforms'](_0xd85aea,_0x53d5f5){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x53d5f5['envAtlas']&&_0x53d5f5['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x53d5f5['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x53d5f5['skybox'])):_0x53d5f5['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x53d5f5['envAtlas']):_0x53d5f5['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x53d5f5['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x362481){const {device:_0xfde44d,scene:_0x4e9929,pass:_0x212a7b,objDefs:_0x17865e,sortedLights:_0x59e12c,cameraShaderParams:_0x282e31}=_0x362481;this['updateEnvU'+'niforms'](_0xfde44d,_0x4e9929);const _0x3091ed=Ks['get'](_0xfde44d)['getByIndex'](_0x212a7b),_0x5613dd=_0x212a7b===rl||_0x212a7b===Oa||_0x212a7b===il||_0x3091ed['isShadow'];let _0x31b940=_0x5613dd?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x31b940['defines']=Dp(this,_0x362481),_0x5613dd?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x31b940,_0x4e9929,this,_0x17865e,_0x212a7b,_0x59e12c):this['shaderOptB'+'uilder']['updateRef'](_0x31b940,_0x4e9929,_0x282e31,this,_0x17865e,_0x212a7b,_0x59e12c),_0x31b940['defines']['set']('TONEMAP',p0[_0x31b940['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x31b940=this['onUpdateSh'+'ader'](_0x31b940));const _0x23acb4=new Yc(_0x362481['viewUnifor'+'mFormat'],_0x362481['viewBindGr'+'oupFormat'],_0x362481['vertexForm'+'at']),_0x35705e=ka(_0xfde44d);_0x35705e['register']('standard',Ed);const _0x3d1421=_0x35705e['getProgram']('standard',_0x31b940,_0x23acb4,this['userId']);return this['_dirtyShad'+'er']=!(0x16*0xd6+0x1b6b*0x1+-0x1*0x2dce),_0x3d1421;}['destroy'](){for(const _0x177046 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x177046]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x3326e8,_0x2136f1)=>{P0[_0x3326e8]=_0x2136f1;},Op=(_0x2d7c6a,_0x4bf877,_0x554270,_0x103fc6)=>{Object['defineProp'+'erty'](cs['prototype'],_0x2d7c6a,{'get':_0x103fc6||function(){return this['_'+_0x2d7c6a];},'set':_0x554270}),uh[_0x2d7c6a]={'value':_0x4bf877};},JC=_0x7923ab=>{const _0x37987e='_'+_0x7923ab['name'],_0x3165aa=_0x7923ab['dirtyShade'+'rFunc']||(()=>!(0x784*-0x1+0x151*0x5+0xef)),_0x49f2f2=function(_0xc865ce){const _0x3d7fee=this[_0x37987e];_0x3d7fee!==_0xc865ce&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x3165aa(_0x3d7fee,_0xc865ce),this[_0x37987e]=_0xc865ce);};Op(_0x7923ab['name'],()=>_0x7923ab['defaultVal'+'ue'],_0x49f2f2,_0x7923ab['getterFunc']);},eM=_0x43a26d=>{const _0x3a1547='_'+_0x43a26d['name'],_0x1aa06e=_0x43a26d['dirtyShade'+'rFunc']||(()=>!(-0xaf+-0x1*-0x7af+0x8*-0xe0)),_0x139336=function(_0xef42a8){const _0x4bd153=this[_0x3a1547];_0x4bd153['equals'](_0xef42a8)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x1aa06e(_0x4bd153,_0xef42a8),this[_0x3a1547]=_0x4bd153['copy'](_0xef42a8));};Op(_0x43a26d['name'],()=>_0x43a26d['defaultVal'+'ue']['clone'](),_0x139336,_0x43a26d['getterFunc']);},ts=_0x57e22e=>_0x57e22e['defaultVal'+'ue']&&_0x57e22e['defaultVal'+'ue']['clone']?eM(_0x57e22e):JC(_0x57e22e);function Ge(_0x36cc69,_0x43bc86='rgb',_0x57336a=!(-0x15d*0x1+0x2059+-0x1efc),_0x4cc112=-0x2e7*-0x3+0x2b*0x1d+-0x6ca*0x2){fa[_0x36cc69]=_0x43bc86['length']||-(-0x1127*0x1+0x2626+-0x2*0xa7f),ts({'name':_0x36cc69+'Map','defaultValue':null,'dirtyShaderFunc':(_0x462175,_0x165787)=>!!_0x462175!=!!_0x165787||_0x462175&&(_0x462175['type']!==_0x165787['type']||_0x462175['format']!==_0x165787['format'])}),ts({'name':_0x36cc69+'MapTiling','defaultValue':new $(-0x1233*0x1+0x4*0x1b5+0xb60,0x1442+0x1*-0x14d5+0x94)}),ts({'name':_0x36cc69+'MapOffset','defaultValue':new $(-0x1*-0xf21+-0x1475*0x1+-0xb*-0x7c,-0x38b+-0x1*-0xcfe+-0x973)}),ts({'name':_0x36cc69+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x36cc69+'MapUv','defaultValue':_0x4cc112}),_0x43bc86&&(ts({'name':_0x36cc69+'MapChannel','defaultValue':_0x43bc86}),_0x57336a&&(ts({'name':_0x36cc69+('VertexColo'+'r'),'defaultValue':!(-0x1f0f*0x1+-0x2*0x1ac+0x2268)}),ts({'name':_0x36cc69+('VertexColo'+'rChannel'),'defaultValue':_0x43bc86})));const _0x1f9993=_0x36cc69+'MapTiling',_0x396629=_0x36cc69+'MapOffset',_0x19c7d5=_0x36cc69+('MapRotatio'+'n'),_0xeea6e5=_0x36cc69+('MapTransfo'+'rm');Zc(_0xeea6e5,(_0x465550,_0x99a6c,_0x14315d)=>{const _0x5daaae=_0x465550[_0x1f9993],_0x54cdd7=_0x465550[_0x396629],_0x2281db=_0x465550[_0x19c7d5];if(_0x5daaae['x']===-0x765+-0x1*0x24ad+-0x1*-0x2c13&&_0x5daaae['y']===0x1aa4+-0x1d9e+0x1*0x2fb&&_0x54cdd7['x']===-0x1aec+-0x410+-0xf7e*-0x2&&_0x54cdd7['y']===0x1*0xe49+-0x9e1+0x18*-0x2f&&_0x2281db===0x1*-0x237b+0x1*-0x242b+0x47a6)return null;const _0x5870ef=_0x465550['_allocUnif'+'orm'](_0xeea6e5,()=>[{'name':'texture_'+_0xeea6e5+'0','value':new Float32Array(-0x17f3+-0xb*0x28a+0x33e4)},{'name':'texture_'+_0xeea6e5+'1','value':new Float32Array(0xab*-0x12+0x16*-0xda+0x1ec5*0x1)}]),_0x3909df=Math['cos'](_0x2281db*N['DEG_TO_RAD']),_0x1498d0=Math['sin'](_0x2281db*N['DEG_TO_RAD']),_0x119e08=_0x5870ef[0x1*-0xea7+0x1e58+-0xfb1]['value'];_0x119e08[-0x34d*-0x3+-0x202d+-0x1*-0x1646]=_0x3909df*_0x5daaae['x'],_0x119e08[0x2328+0x2c0+-0x25e7]=-_0x1498d0*_0x5daaae['y'],_0x119e08[-0x1674+-0x12a1+0x2917]=_0x54cdd7['x'];const _0x1a84e8=_0x5870ef[0x1d5*-0x7+0x2*-0xf3e+0x2b50]['value'];return _0x1a84e8[0xc8*-0x2b+-0x2395+0x452d]=_0x1498d0*_0x5daaae['x'],_0x1a84e8[0x93d+-0x8cc*-0x3+-0x23a0]=_0x3909df*_0x5daaae['y'],_0x1a84e8[0x1972+-0x57b+0x6a7*-0x3]=-0x2d7+-0x7dd+-0xab5*-0x1-_0x5daaae['y']-_0x54cdd7['y'],_0x5870ef;});}function Cn(_0x59e644,_0x1a10cd){ts({'name':_0x59e644,'defaultValue':_0x1a10cd,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x1884+0x5b*0x1c+0xe90),this['_'+_0x59e644];}}),Zc(_0x59e644,(_0x301c5c,_0x4e0c27,_0x16fdae)=>{const _0x1f686e=_0x301c5c['_allocUnif'+'orm'](_0x59e644,()=>new Float32Array(0xb3*0x5+0xd38+-0x42d*0x4)),_0x5ce08e=_0x301c5c[_0x59e644];return Dl['linear'](_0x5ce08e),_0x1f686e[0x7a9+0xaaa+-0x1253*0x1]=Dl['r'],_0x1f686e[-0x1*0xc9d+0x269b*-0x1+0x3339]=Dl['g'],_0x1f686e[-0x26c9*0x1+-0xda7+0x3472]=Dl['b'],_0x1f686e;});}function Ce(_0x286365,_0x43e244,_0x4ea1ea){ts({'name':_0x286365,'defaultValue':_0x43e244,'dirtyShaderFunc':(_0x298f54,_0x4e6b3d)=>(_0x298f54===0x1641+-0x5d*0x59+-0xf*-0xac||_0x298f54===-0x13b0+0x5*-0x695+0x349a)!=(_0x4e6b3d===0x1*-0x53+-0x1806*-0x1+-0x1*0x17b3||_0x4e6b3d===0x12*0x153+0x2b*0x2f+-0xfdd*0x2)}),Zc(_0x286365,_0x4ea1ea);}function qa(_0x3a72b0,_0x370ae5){ts({'name':_0x3a72b0,'defaultValue':null,'dirtyShaderFunc':(_0x31f8a8,_0x47f415)=>!!_0x31f8a8==!!_0x47f415}),Zc(_0x3a72b0,_0x370ae5);}function we(_0x49f0bc,_0x58f66c){ts({'name':_0x49f0bc,'defaultValue':_0x58f66c});}function tM(){Cn('ambient',new Y(0x1*0x1741+0x175*0x10+-0x2e90,0x85d*-0x4+0xb79+-0x57f*-0x4,0x2*-0x33a+-0x13*0x8f+0x1112)),Cn('diffuse',new Y(0x1*-0x24e9+0x20de*0x1+0x1*0x40c,0x21b6+0x25d7+0x13*-0x3c4,-0x1e11+0x24fa+0x11*-0x68)),Cn('specular',new Y(0x11f*-0x7+-0x22d*0xc+0x21f5,0x2c4*-0x4+0x548+0x5c8,-0x29a+0x349+-0xaf)),Cn('emissive',new Y(0x2361+0xd3*-0x1+-0x228e,0x3d0+0xd2d+0x10fd*-0x1,0xa62+-0x7*0x32b+-0x1*-0xbcb)),Cn('sheen',new Y(-0x309+0x13f6+0x2*-0x876,-0x1*0x67+0x3*-0x33b+0xa19,-0x1ad*0x6+-0x421*-0x9+-0x1b1a)),Cn('attenuatio'+'n',new Y(0xbca+-0xa28+0x8b*-0x3,0x1e8a+0x49*-0x7c+-0x5f*-0xd,-0x6e5*0x1+0x1*0x1136+-0xa50)),Ce('emissiveIn'+'tensity',-0x19d6*0x1+-0x1547+0x2f1e*0x1),Ce('specularit'+'yFactor',0xdd0+0x10f0+-0x1ebf),Ce('sheenGloss',-0x1ac3+0x1f4b+0x28*-0x1d),Ce('gloss',0x2*-0x251+0x3da*-0x4+0x87*0x26+0.25),Ce('aoIntensit'+'y',-0xe*-0xb+-0x1*-0x9a8+-0xa41*0x1),Ce('heightMapF'+'actor',0x4*-0xee+0x3a9*0x8+-0x198f,(_0x240fa4,_0x54d8a3,_0x482307)=>_0x240fa4['heightMapF'+'actor']*(0xb61+-0x1f0d+0x13ac+0.025)),Ce('opacity',0x6b*0x27+0xca1+0x5*-0x5c9),Ce('alphaFade',-0x10*-0xb5+-0x104c+0x4fd*0x1),Ce('alphaTest',-0x1008+-0x6*0x126+0x16ec),Ce('bumpiness',0xaff+-0x1a56*0x1+0x7ac*0x2),Ce('normalDeta'+'ilMapBumpi'+'ness',-0x123*-0x1+0x22f*-0x1+0x10d*0x1),Ce('reflectivi'+'ty',-0xdd2+0x1*-0x10de+0x1eb1),Ce('occludeSpe'+'cularInten'+'sity',-0x3*-0x703+0xfbd+0x1*-0x24c5),Ce('refraction',0x10c1*0x2+0x2*-0xd4+-0x1b*0x12e),Ce('refraction'+'Index',(0xe3*0x23+-0x1552+0xe2*-0xb)/(-0x13fe+-0xe76+0x2275+0.5)),Ce('dispersion',0x114b+0x2*0x679+-0x1e3d),Ce('thickness',-0x1*0x2665+0x27*0x9f+-0x38b*-0x4),Ce('attenuatio'+'nDistance',-0x4*-0x6b0+0x433*-0x3+0xe27*-0x1),Ce('metalness',0xb00+0x26*0x28+0x10ef*-0x1),Ce('anisotropy',-0x156d*-0x1+0x26ca+0x1*-0x3c37),Ce('clearCoat',-0x1*-0x1e18+-0x1cbb+-0x15d),Ce('clearCoatG'+'loss',0x1aa3+-0x374+-0x172e),Ce('clearCoatB'+'umpiness',0x540+0x3*0x939+-0x20ea),Ce('aoUvSet',0x1bcd*-0x1+-0x3f0+0x1fbd,null),Ce('iridescenc'+'e',0x1540+0x117c+0x26bc*-0x1),Ce('iridescenc'+'eRefractio'+'nIndex',(0x102d+-0x597+-0x3f*0x2b)/(-0x5*-0x3ec+0x47*-0x83+0x2*0x85d+0.5)),Ce('iridescenc'+'eThickness'+'Min',0x201e+-0x1469+0xbb5*-0x1),Ce('iridescenc'+'eThickness'+'Max',-0xed8+0x13e2*-0x1+0x27b*0xe),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x5ad32a,_0x1ce7b9,_0x3f72a7)=>{const _0x379caf=_0x5ad32a['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x1ddd+-0x6aa*0x1+-0x6*-0x617)},{'name':'envBoxMax','value':new Float32Array(-0x2007*-0x1+0x134a+0x42*-0xc7)}]),_0x536c5e=_0x5ad32a['cubeMapPro'+'jectionBox']['getMin'](),_0x3a92b7=_0x379caf[0x1ff7+-0x5b*0x11+-0x19ec]['value'];_0x3a92b7[0x8c4+0x803+0x10c7*-0x1]=_0x536c5e['x'],_0x3a92b7[-0xd40*0x1+0xc*-0x29+-0x50f*-0x3]=_0x536c5e['y'],_0x3a92b7[0x1*-0x255a+-0x28*-0xc4+0x6bc]=_0x536c5e['z'];const _0x4017ae=_0x5ad32a['cubeMapPro'+'jectionBox']['getMax'](),_0x4b39d9=_0x379caf[0x64e*0x5+0x2fa+-0x1*0x227f]['value'];return _0x4b39d9[0xe86+-0x1660*0x1+0x7da]=_0x4017ae['x'],_0x4b39d9[0x1471*-0x1+-0x2553+0x39c5]=_0x4017ae['y'],_0x4b39d9[-0x833*-0x4+0x26d5+-0x479f]=_0x4017ae['z'],_0x379caf;}),we('specularTi'+'nt',!(-0x807*-0x1+0xdd2+-0x15d8)),we('specularit'+'yFactorTin'+'t',!(0x11a7*-0x2+-0x1*0x321+-0x6*-0x668)),we('useMetalne'+'ss',!(-0x13e3+-0xaa+-0x148e*-0x1)),we('useMetalne'+'ssSpecular'+'Color',!(-0x7e7+0x974*-0x4+0x1a2*0x1c)),we('useSheen',!(-0x24fc+-0x176b+0x8*0x78d)),we('enableGGXS'+'pecular',!(0x1b72+-0x2b*0x85+0x51a*-0x1)),we('occludeDir'+'ect',!(-0x4*-0x691+-0x1889*-0x1+-0x32cc)),we('opacityFad'+'esSpecular',!(-0x238*0x7+-0x206a+0x2ff2)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(0x1*0x1fa8+-0x2249*0x1+0x2a2)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(0x86d*-0x3+-0x7b9+0x2100)),we('useLightin'+'g',!(-0x777+-0x1*-0x2327+-0xdd8*0x2)),we('useTonemap',!(-0x149+0x1*0xd5+-0x4*-0x1d)),we('useSkybox',!(0x612+0x56d*0x2+-0x10ec)),we('forceUv1',!(-0x1783+-0x1a02+0x3186)),we('pixelSnap',!(-0x8*0x1+0x10a9*-0x2+0x215b)),we('twoSidedLi'+'ghting',!(-0xb0f+0x1b61+-0x1*0x1051)),we('nineSliced'+'Mode',void(0xc4e+0x1*-0x290+-0x9be)),we('msdfTextAt'+'tribute',!(0x2*0xfa1+-0x3*-0xcf1+-0x4614)),we('useIridesc'+'ence',!(0x1*-0x2221+-0x425+0x2647)),we('glossInver'+'t',!(-0x10b*-0xa+-0x3fb*0x6+-0x2b1*-0x5)),we('sheenGloss'+'Invert',!(-0x9da*0x3+0xe4d+-0x7a1*-0x2)),we('clearCoatG'+'lossInvert',!(-0x12f5+0x1*-0xac1+-0x1*-0x1db7)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(0x1*0x218f+0x250f+-0x469d)),Ge('ao','g'),Ge('light','rgb',!(0x6*-0x1b7+0x1694+0x625*-0x2),0xc7a+-0x62c+-0x64d*0x1),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(0xc52+-0x116+-0xb3b)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0x1*-0x1447+0x92*-0x2e+0x2e84)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x5364c4=function(){return this['_prefilter'+'edCubemaps'];},_0x55249c=function(_0x162e6b){const _0x16a335=this['_prefilter'+'edCubemaps'];_0x162e6b=_0x162e6b||[];let _0x260100=!(-0x94a+0x9*-0x55+0xc48),_0x2b9ad9=!(0x16ff+0x2593*-0x1+-0xc*-0x137);for(let _0xd5c293=-0x15ad+-0x8b9+0x1e66;_0xd5c293<-0x1*0x11ce+-0x2ab*-0x5+0x47d;++_0xd5c293){const _0x43280a=_0x162e6b[_0xd5c293]||null;_0x16a335[_0xd5c293]!==_0x43280a&&(_0x16a335[_0xd5c293]=_0x43280a,_0x260100=!(0x1*0x269+-0x1*0x1ea9+0x1c40)),_0x2b9ad9=_0x2b9ad9&&!!_0x16a335[_0xd5c293];}_0x260100&&(_0x2b9ad9?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x16a335,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x47*-0x36+0x3b2*0x5+0x20*-0x1c));},_0x2548c4=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x2548c4['slice'](),_0x55249c,_0x5364c4);}tM();const dt=class dt{static['render'](_0x420073,_0x1c5d31){const _0xb1cf37=_0x1c5d31['device'],_0x2de0b3=_0x420073['cells'],_0x5e2f18=_0x420073['lightsBuff'+'er'],_0x175365=_0x5e2f18['boundsMin'],_0x42b775=_0x5e2f18['boundsDelt'+'a'],_0x4e349e=_0x175365['clone']()['add'](_0x42b775),_0x416bfe=_0x5e2f18['boundsDelt'+'a']['clone']()['div'](_0x2de0b3),_0xd3e7c8=dt['gridPositi'+'ons'],_0x5ecf57=dt['gridColors'],_0x4f3060=new Y(0x1*0x16f+-0x2*-0x31c+-0x7a7*0x1+0.3,-0x6d1*-0x2+0x7a*-0xd+0x2*-0x3b8+0.3,-0x262e+0x1741*-0x1+0x3d6f*0x1+0.3),_0x27053b=(_0x114d50,_0x3fae04,_0x152ef3,_0x5a2999,_0x29a2c7,_0x43b696,_0x1fa7cc,_0x205c53,_0x3868ec)=>{for(let _0x426308=0x31d+-0x23d5+0x6*0x574;_0x426308<=_0x114d50;_0x426308++)for(let _0x5d8655=0x22a+-0x1e7*-0x8+0x32*-0x59;_0x5d8655<=_0x3fae04;_0x5d8655++){const _0x302cf8=_0x152ef3+_0x426308*_0x5a2999,_0x27a01d=_0x29a2c7+_0x5d8655*_0x43b696;_0x3868ec===-0x56f*-0x1+0x806+-0xd75?_0xd3e7c8['push'](_0x302cf8,_0x1fa7cc,_0x27a01d,_0x302cf8,_0x205c53,_0x27a01d):_0x3868ec===-0x1732+-0x1*0x1e69+0x359c?_0xd3e7c8['push'](_0x302cf8,_0x27a01d,_0x1fa7cc,_0x302cf8,_0x27a01d,_0x205c53):_0x3868ec===0x1*-0x1dee+0x146f+0x981&&_0xd3e7c8['push'](_0x1fa7cc,_0x302cf8,_0x27a01d,_0x205c53,_0x302cf8,_0x27a01d);}};if(_0x27053b(_0x2de0b3['x'],_0x2de0b3['z'],_0x175365['x'],_0x416bfe['x'],_0x175365['z'],_0x416bfe['z'],_0x175365['y'],_0x4e349e['y'],0x1d07+0x2c6*0x2+-0x2293),_0x27053b(_0x2de0b3['x'],_0x2de0b3['y'],_0x175365['x'],_0x416bfe['x'],_0x175365['y'],_0x416bfe['y'],_0x175365['z'],_0x4e349e['z'],0x8af*-0x1+0x1cf0+0x2*-0xa20),_0x27053b(_0x2de0b3['y'],_0x2de0b3['z'],_0x175365['y'],_0x416bfe['y'],_0x175365['z'],_0x416bfe['z'],_0x175365['x'],_0x4e349e['x'],-0x3*-0x73b+-0xe3*-0x27+0x115*-0x34),_0xd3e7c8['length']){const _0x5e1f54=_0xd3e7c8['length']/(-0x2083+0x6*0x463+0x634);if(_0x5e1f54!==_0x5ecf57['length']/(-0x164d+0xc0+0x1591)){_0x5ecf57['length']=0x9e4+-0x97b+-0x69*0x1;for(let _0x2a7327=0x11*-0x1de+-0xd81+0x2d3f;_0x2a7327<_0x5e1f54;_0x2a7327++)_0x5ecf57['push'](_0x4f3060['r'],_0x4f3060['g'],_0x4f3060['b'],_0x4f3060['a']);}_0x1c5d31['drawLineAr'+'rays'](_0xd3e7c8,_0x5ecf57),_0xd3e7c8['length']=-0x1563+-0x4cf*0x7+-0xd*-0x43c;}let _0xf46c10=dt['mesh'];_0xf46c10||(_0xf46c10=new Ie(_0xb1cf37),_0xf46c10['clear'](!(0x244d*0x1+0x1297+0x6*-0x926),!(0x18f3+0x1*-0x1025+-0x8ce)),dt['mesh']=_0xf46c10);const _0x542f85=[],_0x5b6e0d=[],_0x5e05f9=[],_0x171681=_0x420073['_cells']['x'],_0x333997=_0x420073['_cells']['z'],_0x1bda8f=_0x420073['counts'],_0x178481=_0x420073['_maxCellLi'+'ghtCount'],_0x38e201=new T(),_0xd43277=new T(),_0x59053d=new T(),_0x1b75e5=_0x42b775['clone']()['div'](_0x2de0b3);let _0x2bfa85=0x26b0+-0x1*-0x1acd+-0x417d;for(let _0x235314=0x75*0x4a+-0x8*-0x480+-0x22e9*0x2;_0x235314<_0x2de0b3['x'];_0x235314++)for(let _0x308380=0x17de+0x2632+-0x296*0x18;_0x308380<_0x2de0b3['z'];_0x308380++)for(let _0x24f1b1=-0x1eb+-0xb63+0xd4e;_0x24f1b1<_0x2de0b3['y'];_0x24f1b1++){const _0xadf26=_0x235314+_0x171681*(_0x308380+_0x24f1b1*_0x333997),_0x5c5c3e=_0x1bda8f[_0xadf26];if(_0x5c5c3e>0x9ea+0x47*-0x31+0x3ad*0x1){_0x38e201['x']=_0x175365['x']+_0x1b75e5['x']*_0x235314,_0x38e201['y']=_0x175365['y']+_0x1b75e5['y']*_0x24f1b1,_0x38e201['z']=_0x175365['z']+_0x1b75e5['z']*_0x308380,_0xd43277['add2'](_0x38e201,_0x1b75e5),_0x542f85['push'](_0x38e201['x'],_0x38e201['y'],_0xd43277['z']),_0x542f85['push'](_0xd43277['x'],_0x38e201['y'],_0xd43277['z']),_0x542f85['push'](_0xd43277['x'],_0xd43277['y'],_0xd43277['z']),_0x542f85['push'](_0x38e201['x'],_0xd43277['y'],_0xd43277['z']),_0x542f85['push'](_0xd43277['x'],_0x38e201['y'],_0x38e201['z']),_0x542f85['push'](_0x38e201['x'],_0x38e201['y'],_0x38e201['z']),_0x542f85['push'](_0x38e201['x'],_0xd43277['y'],_0x38e201['z']),_0x542f85['push'](_0xd43277['x'],_0xd43277['y'],_0x38e201['z']),_0x59053d['lerp'](dt['colorLow'],dt['colorHigh'],_0x5c5c3e/_0x178481)['round']();for(let _0x6ff714=-0x2456*0x1+-0x1cf7+0x414d;_0x6ff714<0x19f+0x918+-0xaaf*0x1;_0x6ff714++)_0x5b6e0d['push'](_0x59053d['x'],_0x59053d['y'],_0x59053d['z'],-0x3*0x97e+0x872+0x1409);_0x5e05f9['push'](_0x2bfa85*(-0x382*-0x3+-0x1*0x13cd+0x94f)+(0x5*-0x223+0x2*0x117e+-0x1*0x184d),_0x2bfa85*(0x2*0xe6f+0x982*-0x1+-0x1*0x1354)+(-0x245f+-0x3b*0x18+0x2*0x14f4),_0x2bfa85*(-0xd49+0x91+0x30*0x44)+(-0xa2b+-0x129e*-0x2+-0x1b0e)),_0x5e05f9['push'](_0x2bfa85*(-0x4*0x94b+-0x1*0xa7b+0x2faf)+(0x1f20+0x1*-0x2687+0x2*0x3b5),_0x2bfa85*(0x2538+0x1*0x846+-0x2d76)+(-0x9c*0x20+0x15b*0x1+-0x1*-0x1226),_0x2bfa85*(0x1a14+-0x253a+0x1b*0x6a)+(0x101f+0x1f0b+-0x2f28)),_0x5e05f9['push'](_0x2bfa85*(0x152+0x2*-0xe06+0x1ac2)+(-0x4e1*0x2+0x1*0x16f1+-0xd2b),_0x2bfa85*(0x67*-0x53+-0x7*-0x353+0xa28)+(-0x1*0x22a3+0x12f*0xf+-0x10e7*-0x1),_0x2bfa85*(-0x106*-0x1+0x2190+0x1*-0x228e)+(0x1*0x4ed+0x7*-0x3fd+0x1*0x1705)),_0x5e05f9['push'](_0x2bfa85*(-0x3*-0x34f+-0x6b5*0x5+0x17a4)+(-0xca8+-0xa42+-0x1*-0x16f1),_0x2bfa85*(-0xc7*0x1+0x1c2c+-0x1b5d)+(0xb6+-0x199c+0x18eb),_0x2bfa85*(0x1*-0x8c9+0x12f5+-0x289*0x4)+(-0x1544+0x1203*0x1+0x1*0x347)),_0x5e05f9['push'](_0x2bfa85*(-0x3*0x8af+-0x1957+0x336c)+(-0x1689+-0x2*-0xd87+-0x482),_0x2bfa85*(0xa65*0x3+0x1f*0x10f+0x7ff*-0x8)+(-0x867+0x1399+-0x2cc*0x4),_0x2bfa85*(-0x11*-0x99+-0x11*0x1b4+0x12d3)+(-0x476*0x4+-0xf1*0x23+0x32d1)),_0x5e05f9['push'](_0x2bfa85*(-0x32b+0x6b*-0x2+0x409)+(-0xce5*0x2+0x208f+-0x3*0x241),_0x2bfa85*(-0x18b3+0x53*-0x32+-0xdf*-0x2f)+(0x1273*0x2+0x71f*-0x5+-0x144),_0x2bfa85*(-0xc7c+-0xf0a*0x1+0xdc7*0x2)+(-0x1f8a+-0x7*-0x471+0x79)),_0x5e05f9['push'](_0x2bfa85*(-0xe*0x12f+0x6f3*0x2+-0x2*-0x15a)+(-0x1f*-0x68+0x137e+0x2b*-0xbf),_0x2bfa85*(-0x198*0xd+0x41b*0x1+0x10a5)+(-0x7fa+-0xdde+0x15d8*0x1),_0x2bfa85*(0x5aa*-0x4+-0x656+0x1d06)+(0x673+0xe0*-0x7+-0x1*0x4f)),_0x5e05f9['push'](_0x2bfa85*(-0x1e35+-0xdf*-0x16+0xb13)+(0x1b2c+0x749+0x1*-0x2275),_0x2bfa85*(-0x32e+-0x8*0x191+0xfbe)+(0x1fcc+0x1df*-0x11+0x8),_0x2bfa85*(0x687+0x1cd7+-0x2356)+(0xba6+-0x1e10+0x126e)),_0x5e05f9['push'](_0x2bfa85*(0x1017+0x734+0x5*-0x4a7)+(-0x2140+-0x251a+0x465b),_0x2bfa85*(0x997*0x1+0x1*-0x1bb3+0x1224)+(-0x1*0x223b+0x3*-0x328+0x2bb7),_0x2bfa85*(0x23c5*0x1+0x184d+-0x3c0a)+(0x8*-0x388+0x1872+-0x1e8*-0x2)),_0x5e05f9['push'](_0x2bfa85*(-0x3a1*0x1+0x1e75+-0x55c*0x5)+(0x151*0x1b+0x1*0x1949+0x10*-0x3cd),_0x2bfa85*(0x1eb3+0x20*0xe5+0x161*-0x2b)+(0x550+-0x1b0+-0x399),_0x2bfa85*(0x1e33*-0x1+0x2624*-0x1+-0x2f9*-0x17)+(-0xab4+-0x1835+0x1*0x22eb)),_0x5e05f9['push'](_0x2bfa85*(-0xd*-0xda+0x19b8+-0x24c2)+(0x152c*0x1+-0x1*0x2499+0xf72),_0x2bfa85*(-0x139*-0xe+-0x199c+-0x2*-0x443)+(0x80d*0x1+-0x1b7c+-0xc7*-0x19),_0x2bfa85*(-0x2*-0x1259+-0x2398+-0x112)+(0x2141*0x1+-0x7*-0xc+-0x218f)),_0x5e05f9['push'](_0x2bfa85*(0x85+-0x1d60+0x1*0x1ce3)+(0x37*-0x6d+-0x156*-0x11+0x1*0xb5),_0x2bfa85*(0xe68+-0xb49+-0x71*0x7)+(0x3+0x29*-0x2+-0x1*-0x52),_0x2bfa85*(-0x17f*-0x11+-0x1f4f+0x5e8)+(-0x5cb*-0x1+0x3*0x5b5+-0x16e4)),_0x2bfa85++;}}if(_0x2bfa85){if(_0xf46c10['setPositio'+'ns'](_0x542f85),_0xf46c10['setColors3'+'2'](_0x5b6e0d),_0xf46c10['setIndices'](_0x5e05f9),_0xf46c10['update'](Ms,!(-0x9*-0x341+0x2*-0x7c9+-0xdb6)),!dt['meshInstan'+'ce']){const _0x3ba81c=new cs();_0x3ba81c['useLightin'+'g']=!(0x8b1*-0x2+-0x42*-0x6a+-0x9f1),_0x3ba81c['emissive']=new Y(-0x256a+0xbae*0x2+-0x1*-0xe0f,0x21b+-0x1814+0x2*0xafd,-0x1690+0x2*0xbd5+-0x119),_0x3ba81c['emissiveVe'+'rtexColor']=!(-0x2403+0x6d8+0x3*0x9b9),_0x3ba81c['blendType']=Hc,_0x3ba81c['depthWrite']=!(0x4*-0x8b9+-0xffd+0x32e2),_0x3ba81c['update']();const _0x2e47d7=new De('WorldClust'+'ersDebug');_0x2e47d7['worldTrans'+'form']=q['IDENTITY'],_0x2e47d7['_dirtyWorl'+'d']=_0x2e47d7['_dirtyNorm'+'al']=!(-0xf22+-0x1064+0x481*0x7),dt['meshInstan'+'ce']=new Le(_0xf46c10,_0x3ba81c,_0x2e47d7),dt['meshInstan'+'ce']['cull']=!(0x74d*0x1+0x2339+-0x137*0x23);}const _0x245fd0=dt['meshInstan'+'ce'];_0x1c5d31['immediate']['drawMesh'](_0x245fd0['material'],_0x245fd0['node']['worldTrans'+'form'],null,_0x245fd0,_0x1c5d31['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(-0x8c5*0x2+-0x15bb+0x2746,-0x1ef2+-0x32d*-0xb+-0x3fc,-0x2124+0x207d*-0x1+0x41a2)),c(dt,'colorHigh',new T(-0x98*0x28+-0x77*0x2+0x18d6,-0xaa2*-0x3+-0x2295+0x3*0xe5,-0x1*-0x1fd3+-0x2*0x736+-0x1167));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x56a58c=atob(sM);vi=Uint8Array['from'](_0x56a58c,_0x4c15f6=>_0x4c15f6['charCodeAt'](-0x9*-0x449+-0x1*0x1767+0x795*-0x2));}},iM=()=>(R0(),vi);class rM{constructor(_0x2a014c=0x398*0x6+0x62f*-0x3+0x303*-0x1){c(this,'seed',0x8df+-0xc3+0x81c*-0x1),(this['seed']=_0x2a014c*(-0xe*0x2c9+-0x954+0x3056),R0());}['_next'](){this['seed']=(this['seed']+(0x1e59*0x1+0x71*0x2+0x83*-0x3d))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(0x58d+0x4d5*0x1+-0x1b*0x59);}['vec4'](_0x43bfd2=new Q()){return this['_next'](),_0x43bfd2['set'](vi[this['seed']],vi[this['seed']+(-0x7*0x2f+0x13e5*0x1+-0x129b)],vi[this['seed']+(-0x1*-0x1a4f+0x67*0x3f+-0x33a6)],vi[this['seed']+(-0x6e7*0x5+-0x3*-0x4eb+0x13c5)])['mulScalar']((0x2219*-0x1+-0x209*-0x2+0x1e08)/(0x22d1+0x413+-0x25e5));}}const nM=[new T(-(-0x23fc+-0x225+0x2622),0x2f9+0x1c8+-0x4c1,0x2e*0x95+-0x167d+-0x449),new T(0xb0c+0x6f7*0x2+-0x18f9,0x18f+0x4bc+-0x64b,0x56b+0x1790+-0x1cfb*0x1),new T(0x91a+0x15a1+-0x1ebb,-(0x17*-0xd5+-0x1786*0x1+0x2aaa),-0xf4b+-0xfbf+0x1f0a),new T(0x3fa*0x7+0x1255+-0x2e2b,-0x5*0x73+0x24fe+-0x22be,-0x4*0x525+0x2049+-0xbb5),new T(-0x1*0x20+-0x16*0x76+0xa44,-0x113a+0x291*0x6+0x1d4,-(0x196f+0x17b8+-0x3126)),new T(-0xf4*-0x1+0x16ec+0xbf*-0x20,-0x1*-0xa1f+0x9a3*-0x3+-0x25*-0x82,-0x1a8*0x6+0x47f+0x572)];class aM{constructor(){c(this,'colors',new Float32Array((-0x5*0x521+0x18*-0x10c+0x32cb)*(0x11*-0x157+0xed8+0x7f2)));}['update'](_0x20c5ad,_0x599098){const _0x5250af=this['colors'],{r:_0x3c9b7c,g:_0x520b05,b:_0x3f43bc}=_0x20c5ad;for(let _0x52f86d=-0xa59+-0x1fbc+0x2a15;_0x52f86d<0x207c+-0xd*0x42+0x36*-0x8a;_0x52f86d++)_0x5250af[_0x52f86d*(0x198+-0x1*0x4b9+-0x43*-0xc)]=_0x3c9b7c,_0x5250af[_0x52f86d*(-0xf2a+0x1791*-0x1+0x9*0x44e)+(0x1*-0xa3d+0x1*-0x3fa+0xe38)]=_0x520b05,_0x5250af[_0x52f86d*(-0x1*0xfa3+-0x3*0x2ce+0x1810)+(-0x1*0x2069+-0xa06+0x29*0x109)]=_0x3f43bc;for(let _0x545fc9=0x35*-0x69+0x2*-0xa33+0x7*0x605;_0x545fc9<_0x599098['length'];_0x545fc9++){const _0x5a9577=_0x599098[_0x545fc9];if(_0x5a9577['_type']===oe)for(let _0x5c444c=0x2b7*0x3+-0x242a+0x1c05;_0x5c444c<0x1*-0x20a1+0x19d1+0x6d6;_0x5c444c++){const _0xf5ab43=Math['max'](nM[_0x5c444c]['dot'](_0x5a9577['_direction']),0x17e2+-0x1d3+-0x160f)*_0x5a9577['_intensity'],_0x3c58a5=_0x5a9577['_color'];_0x5250af[_0x5c444c*(-0xc0b+0x22b0+0x2*-0xb51)]+=_0x3c58a5['r']*_0xf5ab43,_0x5250af[_0x5c444c*(0x873+-0x62b+0x53*-0x7)+(0x6f8+-0xeda+0x7e3)]+=_0x3c58a5['g']*_0xf5ab43,_0x5250af[_0x5c444c*(-0x55*0xe+0x47*-0x46+0x1813)+(-0x119d+0xa*-0x31a+0x30a3)]+=_0x3c58a5['b']*_0xf5ab43;}}}}const oM=(_0x2f3100,_0x14ce28,_0x1dd5d1,_0x9c84ca)=>{const _0x45f732=new he(_0x2f3100,{'name':''+_0x14ce28+_0x1dd5d1,'width':_0x1dd5d1,'height':_0x1dd5d1,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x125e+0x1365+-0x106)});return _0x45f732['lock']()['set'](_0x9c84ca),_0x45f732['unlock'](),_0x45f732;},lM=new Ot(),hM=_0x2d815d=>lM['get'](_0x2d815d,()=>{const _0x17eafc=iM(),_0x1600b1=Math['sqrt'](_0x17eafc['length']/(-0x531+0x1d99*0x1+-0x1be*0xe));return oM(_0x2d815d,'BlueNoise',_0x1600b1,_0x17eafc);});class un{constructor(_0x506b15,_0x5d19c5){this['texture']=_0x506b15,this['cached']=!(-0x1*0x1bf5+-0x1310+0x2f06),this['renderTarg'+'ets']=_0x5d19c5;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x16575c=this['renderTarg'+'ets'];for(let _0x516931=0xc0b+0x21f3+-0x2dfe;_0x516931<_0x16575c['length'];_0x516931++)_0x16575c[_0x516931]['destroy']();this['renderTarg'+'ets']['length']=0xf05+0x268a+0x358f*-0x1;}static['getShadowF'+'iltering'](_0x5c4d45,_0x3d5737){return _0x3d5737===$r?_0x5c4d45['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x9142cf,_0xd1a819){let _0x34090b=null;return _0xd1a819['_type']===Pe?_0x34090b=this['createCube'+'map'](_0x9142cf,_0xd1a819['_shadowRes'+'olution'],_0xd1a819['_shadowTyp'+'e']):_0x34090b=this['create2dMa'+'p'](_0x9142cf,_0xd1a819['_shadowRes'+'olution'],_0xd1a819['_shadowTyp'+'e']),_0x34090b;}static['createAtla'+'s'](_0x267a1f,_0x4bc5b4,_0x1c255c){const _0x41937a=this['create2dMa'+'p'](_0x267a1f,_0x4bc5b4,_0x1c255c),_0x281062=_0x41937a['renderTarg'+'ets'],_0x205b1e=_0x281062[0x1c31+-0x56f+-0x16c2];for(let _0x1bed30=0x14cc+0x11dd*-0x1+0x1*-0x2ef;_0x1bed30<-0x1b06+-0x177*0x9+0x283a;_0x1bed30++)_0x281062['push'](_0x205b1e);return _0x41937a;}static['create2dMa'+'p'](_0x2faa37,_0x150ada,_0x5c077b){var _0xa880db;const _0x51fa8c=ir['get'](_0x5c077b);v['assert'](_0x51fa8c);let _0x58d86c=_0x51fa8c['format'];_0x58d86c===Ii&&!_0x2faa37['textureFlo'+'atRenderab'+'le']&&_0x2faa37['textureHal'+'fFloatRend'+'erable']&&(_0x58d86c=Ec);const _0x1bf411=(_0xa880db=xt['get'](_0x58d86c))==null?void(0x4d*-0x3+-0x7d5+0x2b*0x34):_0xa880db['name'],_0x312630=this['getShadowF'+'iltering'](_0x2faa37,_0x5c077b),_0x2851a8=new he(_0x2faa37,{'profilerHint':Tu,'format':_0x58d86c,'width':_0x150ada,'height':_0x150ada,'mipmaps':!(0x129e*0x2+-0x236e+-0x1cd*0x1),'minFilter':_0x312630,'magFilter':_0x312630,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x1bf411});let _0x1363c3=null;return _0x51fa8c!=null&&_0x51fa8c['pcf']?(_0x2851a8['compareOnR'+'ead']=!(0x16b*-0x14+-0x2*-0xc+0x1c44),_0x2851a8['compareFun'+'c']=Eh,_0x1363c3=new pt({'depthBuffer':_0x2851a8})):_0x1363c3=new pt({'colorBuffer':_0x2851a8,'depth':!(-0x1517+-0x24cd+0x39e4)}),_0x2faa37['isWebGPU']&&(_0x1363c3['flipY']=!(0x2098+0xa4f+-0xe4d*0x3)),new un(_0x2851a8,[_0x1363c3]);}static['createCube'+'map'](_0x2623db,_0x387a56,_0x46583a){var _0x5e2faf;const _0x425dbb=ir['get'](_0x46583a);v['assert'](_0x425dbb);const _0x2c1908=(_0x5e2faf=xt['get'](_0x425dbb['format']))==null?void(0x4f7+0x748+-0x5*0x273):_0x5e2faf['name'],_0x25b087=_0x46583a===Ts,_0x1ce850=_0x25b087?de:st,_0x5e22a5=new he(_0x2623db,{'profilerHint':Tu,'format':_0x425dbb==null?void(-0x5c9*-0x4+-0x1*0x2394+0x638*0x2):_0x425dbb['format'],'width':_0x387a56,'height':_0x387a56,'cubemap':!(0x1065+-0x1a4f+0x9ea*0x1),'mipmaps':!(-0x1cf*0x5+-0x2233*0x1+0x2b3f*0x1),'minFilter':_0x1ce850,'magFilter':_0x1ce850,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x2c1908});_0x25b087||(_0x5e22a5['compareOnR'+'ead']=!(0xc5*-0x2b+0x9d2+0x1745),_0x5e22a5['compareFun'+'c']=Eh);const _0x3a058e=[];for(let _0x336eb6=-0x10ed+0x15eb+-0x4fe;_0x336eb6<0x9f3+-0x118+-0x8d5;_0x336eb6++)_0x25b087?_0x3a058e['push'](new pt({'colorBuffer':_0x5e22a5,'face':_0x336eb6,'depth':!(-0x851*-0x1+0x23c0+-0x2c11)})):_0x3a058e['push'](new pt({'depthBuffer':_0x5e22a5,'face':_0x336eb6}));return new un(_0x5e22a5,_0x3a058e);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x5e1364){this['size']=Math['floor'](_0x5e1364['w']*(-0x1e2*0x6+-0x242d+0x1*0x3379)),this['used']=!(-0x1071+-0x1e1d+0x2e8f),this['lightId']=-(0x8b7*-0x2+0x17*-0xd+0x129a),this['rect']=_0x5e1364;}}class uM{constructor(_0x49f845){this['device']=_0x49f845,this['version']=-0x1*-0x169a+0x1*-0x1a87+0x3ee,this['shadowAtla'+'sResolutio'+'n']=-0x212c+0x1b8b*-0x1+0x44b7,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x9e4+0x2*-0x1159+0x1*0x18d1,this['cookieAtla'+'sResolutio'+'n']=-0xd9*0x23+0x6*0x4a5+0x1d1,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0xd5c+0x58f*0x7+-0x198c),'mipmaps':!(-0x22*-0xdc+0x25be*-0x1+0x887*0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x11d4+-0x29*0xe5+0x3682),'flipY':!(-0x443*-0x8+-0x1*0x829+0x1*-0x19ef)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new $(-0xb5*-0x2+0x9*0x57+-0x479,0x1b5*0xd+0x2522+0x3b53*-0x1),new $(-0x49*-0x8+0x1*0x1455+-0x169d,-0x6*-0xca+0x47f+-0x93a*0x1),new $(-0x1923+-0x1307+0x1*0x2c2b,-0x89*-0x33+0x16*-0x9d+0x1*-0xdcd),new $(-0x732+-0x2492+0x2eb*0xf,0x1e9d+-0x623*-0x1+-0x24bf),new $(0xce3*-0x1+-0x1174+0x11*0x1c9,-0x14e0+-0x1*-0x269b+-0x11bb),new $(-0x1*-0x773+0x1*-0x69f+-0xd2,-0x22a6*-0x1+0x2356+0x1*-0x45fb)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0x18e+0x1370*0x1+-0x14fd),this['allocateCo'+'okieAtlas'](-0x128*0x1+0x931+-0x808),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x5f1d2b;(_0x5f1d2b=this['shadowAtla'+'s'])==null||_0x5f1d2b['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x485859,_0x47eda7;(_0x485859=this['cookieAtla'+'s'])==null||_0x485859['destroy'](),this['cookieAtla'+'s']=null,(_0x47eda7=this['cookieRend'+'erTarget'])==null||_0x47eda7['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x1badfb,_0x18648f=Dt){var _0x258262;const _0x389ed0=(_0x258262=this['shadowAtla'+'s'])==null?void(0x1*-0x1283+0x7*-0x41d+-0x976*-0x5):_0x258262['texture']['format'],_0x2e758f=ir['get'](_0x18648f)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x1badfb||_0x389ed0!==_0x2e758f){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x1badfb,_0x18648f),this['shadowAtla'+'s']['cached']=!(0x1*-0x185b+-0xc72+0x1*0x24cd);const _0x221473=(0x1*-0x136e+0x1bf8+-0x886)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x221473,_0x221473,-(-0xa3*-0x2b+-0x1f12+0x3b3)*_0x221473,-(-0xfd8+-0x26d1+0x137*0x2d)*_0x221473);}}['allocateCo'+'okieAtlas'](_0x223a5c){this['cookieAtla'+'s']['width']!==_0x223a5c&&(this['cookieRend'+'erTarget']['resize'](_0x223a5c,_0x223a5c),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x1bed+-0x1e*-0x7+0x7*-0x41b),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x170944=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x79d+-0x1a4b+0x8c*0x3e]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x170944),this['_shadowAtl'+'asParams'][0x1*-0x1253+0xd83+-0x4d*-0x10]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0xd9d+-0x681+-0x71b]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x151c13,_0x107e1c){let _0x5a1205=_0x107e1c['atlasSplit'];if(!_0x5a1205){const _0x3c9ab2=Math['ceil'](Math['sqrt'](_0x151c13));_0x5a1205=dM,_0x5a1205[-0x25d7+0x89f+0x1d38]=_0x3c9ab2,_0x5a1205['length']=0x3*-0x105+-0x13*-0x29+-0x1*-0x5;}if(!((_0x223e2a,_0xb37d1f)=>_0x223e2a['length']===_0xb37d1f['length']&&_0x223e2a['every']((_0x2cbf01,_0x3e6310)=>_0x2cbf01===_0xb37d1f[_0x3e6310]))(_0x5a1205,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x155e+-0x1f*0x102+0x349c,this['atlasSplit']['length']=0x7ee+0x10*-0x17b+0xfc2,this['atlasSplit']['push'](..._0x5a1205);const _0x14c405=this['atlasSplit'][-0x41b*0x3+-0x124e+-0x1e9f*-0x1];if(_0x14c405>0x18fd+0x1e9*0xa+-0x2c16){const _0x2bd73c=(0x18b4+0x1e5*0x2+-0x1c7d)/_0x14c405;for(let _0x55304b=-0x12*-0x96+0x17de*0x1+-0x226a;_0x55304b<_0x14c405;_0x55304b++)for(let _0xb722c0=-0x17f0+-0x11*0x1c9+-0x3649*-0x1;_0xb722c0<_0x14c405;_0xb722c0++){const _0x6451b9=new Q(_0x55304b*_0x2bd73c,_0xb722c0*_0x2bd73c,_0x2bd73c,_0x2bd73c),_0x374ff2=this['atlasSplit'][-0x127+0x23+0x1*0x105+_0x55304b*_0x14c405+_0xb722c0];if(_0x374ff2>0x1*0x10c+-0x212d+0x2022){for(let _0x503825=0x11db*-0x2+-0xd01+-0x1*-0x30b7;_0x503825<_0x374ff2;_0x503825++)for(let _0x4232e9=-0x480+-0x2*-0x3e6+-0x34c;_0x4232e9<_0x374ff2;_0x4232e9++){const _0xc23ca=_0x2bd73c/_0x374ff2,_0x325d7f=new Q(_0x6451b9['x']+_0x503825*_0xc23ca,_0x6451b9['y']+_0x4232e9*_0xc23ca,_0xc23ca,_0xc23ca);this['slots']['push'](new Md(_0x325d7f));}}else this['slots']['push'](new Md(_0x6451b9));}}else this['slots']['push'](new Md(new Q(0x2607+0x1a10*0x1+0x1*-0x4017,0x1b5+-0x24ca*-0x1+0x2d*-0xdb,-0x1da9+0x1d49+-0x61*-0x1,-0x2384+-0x2013+0x2d1*0x18)));this['slots']['sort']((_0x417ca3,_0xd63aff)=>_0xd63aff['size']-_0x417ca3['size']);}}['collectLig'+'hts'](_0x4ac7da,_0x2f130e){const _0x494018=_0x2f130e['cookiesEna'+'bled'],_0x4c5564=_0x2f130e['shadowsEna'+'bled'];let _0x3ae7bf=!(-0xd4c*-0x2+-0x11eb+0x25*-0x3c),_0x2f3183=!(0x19d3*0x1+-0x5*0x2a+-0x1900);const _0x5e727a=cM;return _0x5e727a['length']=-0x1d3*-0x3+-0x3*0x60d+0xcae*0x1,(_0x494018||_0x4c5564)&&(_0xd6d47d=>{for(let _0x5574af=0xa9a+0x37+-0xad1;_0x5574af<_0xd6d47d['length'];_0x5574af++){const _0x3dcf38=_0xd6d47d[_0x5574af];if(_0x3dcf38['visibleThi'+'sFrame']){const _0x5f6141=_0x4c5564&&_0x3dcf38['castShadow'+'s'],_0x59f505=_0x494018&&!!_0x3dcf38['cookie'];_0x3ae7bf||(_0x3ae7bf=_0x5f6141),_0x2f3183||(_0x2f3183=_0x59f505),(_0x5f6141||_0x59f505)&&_0x5e727a['push'](_0x3dcf38);}}})(_0x4ac7da),_0x5e727a['sort']((_0x40bca9,_0x46bc3b)=>_0x46bc3b['maxScreenS'+'ize']-_0x40bca9['maxScreenS'+'ize']),_0x3ae7bf&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x2f130e['shadowType']),_0x2f3183&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x3ae7bf||_0x2f3183)&&this['subdivide'](_0x5e727a['length'],_0x2f130e),_0x5e727a;}['setupSlot'](_0x221dd6,_0x15e5d1){_0x221dd6['atlasViewp'+'ort']['copy'](_0x15e5d1);const _0x43b470=_0x221dd6['numShadowF'+'aces'];for(let _0x212dd1=-0x1*-0xc46+-0x27*-0x99+-0x2395;_0x212dd1<_0x43b470;_0x212dd1++)if(_0x221dd6['castShadow'+'s']||_0x221dd6['_cookie']){if(Js['copy'](_0x15e5d1),Cd['copy'](_0x15e5d1),_0x221dd6['_type']===Re&&Js['add'](this['scissorVec']),_0x221dd6['_type']===Pe){const _0x77f3e4=Js['z']/(0x222c+-0x797*0x2+-0x12fb),_0x55430b=this['cubeSlotsO'+'ffsets'][_0x212dd1];Js['x']+=_0x77f3e4*_0x55430b['x'],Js['y']+=_0x77f3e4*_0x55430b['y'],Js['z']=_0x77f3e4,Js['w']=_0x77f3e4,Cd['copy'](Js);}if(_0x221dd6['castShadow'+'s']){const _0x15cb3b=_0x221dd6['getRenderD'+'ata'](null,_0x212dd1);_0x15cb3b['shadowView'+'port']['copy'](Js),_0x15cb3b['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x54e8ca,_0x2380a3,_0x42439b){_0x54e8ca['atlasViewp'+'ortAllocat'+'ed']=!(-0xce9+0x171f+-0x51b*0x2);const _0x28e03f=this['slots'][_0x2380a3];_0x28e03f['lightId']=_0x54e8ca['id'],_0x28e03f['used']=!(0x28*-0x53+0x4*0x6b9+0x1b*-0x84),_0x42439b&&(_0x54e8ca['atlasSlotU'+'pdated']=!(-0x3e3*0x7+0x19ed+0x148),_0x54e8ca['atlasVersi'+'on']=this['version'],_0x54e8ca['atlasSlotI'+'ndex']=_0x2380a3);}['update'](_0x2a78c1,_0x48650d){this['shadowAtla'+'sResolutio'+'n']=_0x48650d['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x48650d['cookieAtla'+'sResolutio'+'n'];const _0x199c57=this['collectLig'+'hts'](_0x2a78c1,_0x48650d);if(_0x199c57['length']>0x5db*-0x5+-0x3b7*-0x2+0x15d9){const _0x46afc8=this['slots'];for(let _0x136c45=0x6f9*-0x3+0x1351+-0xa*-0x29;_0x136c45<_0x46afc8['length'];_0x136c45++)_0x46afc8[_0x136c45]['used']=!(-0x12d5+-0x752+0x1a28);const _0x57dc5c=Math['min'](_0x199c57['length'],_0x46afc8['length']);for(let _0x246606=-0x3a*0x93+0x23*0x73+-0x7*-0x283;_0x246606<_0x57dc5c;_0x246606++){const _0x186763=_0x199c57[_0x246606];_0x186763['castShadow'+'s']&&(_0x186763['_shadowMap']=this['shadowAtla'+'s']);const _0x7451b5=_0x46afc8[_0x186763['atlasSlotI'+'ndex']];if(_0x186763['atlasVersi'+'on']===this['version']&&_0x186763['id']===(_0x7451b5==null?void(0x1*-0x103c+-0x1*0x156b+0x25a7):_0x7451b5['lightId'])){const _0x3963a0=_0x46afc8[_0x186763['atlasSlotI'+'ndex']];_0x3963a0['size']===_0x46afc8[_0x246606]['size']&&!_0x3963a0['used']&&this['assignSlot'](_0x186763,_0x186763['atlasSlotI'+'ndex'],!(-0x1*-0x265f+0xed0+-0x1a97*0x2));}}let _0xa078ed=0xaad+0x12cc+-0x1d79;for(let _0x5a6c09=-0x1009+-0x1*0x1ce4+-0x2ced*-0x1;_0x5a6c09<_0x57dc5c;_0x5a6c09++){for(;_0xa078ed<_0x46afc8['length']&&_0x46afc8[_0xa078ed]['used'];)_0xa078ed++;const _0x56b7b4=_0x199c57[_0x5a6c09];_0x56b7b4['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x56b7b4,_0xa078ed,!(-0x956+0x1d41+-0x13eb));const _0x22aef2=_0x46afc8[_0x56b7b4['atlasSlotI'+'ndex']];this['setupSlot'](_0x56b7b4,_0x22aef2['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x15fcc4=>{_0x15fcc4['forEach'](_0x5be684=>{_0x5be684['destroy']();});}),this['cache']['clear']();}['getKey'](_0x53b848){const _0xfa7792=_0x53b848['_type']===Pe,_0x1987d7=_0x53b848['_shadowTyp'+'e'],_0x371af7=_0x53b848['_shadowRes'+'olution'];return _0xfa7792+'-'+_0x1987d7+'-'+_0x371af7;}['get'](_0xd75403,_0x459e56){const _0x34805d=this['getKey'](_0x459e56),_0x3c3bf9=this['cache']['get'](_0x34805d);if(_0x3c3bf9&&_0x3c3bf9['length'])return _0x3c3bf9['pop']();const _0x5a2a5c=un['create'](_0xd75403,_0x459e56);return _0x5a2a5c['cached']=!(-0x1*-0x60f+0x559*0x7+-0x2*0x15bf),_0x5a2a5c;}['add'](_0x5ee682,_0x2cfecd){const _0x27e00e=this['getKey'](_0x5ee682),_0x1ef651=this['cache']['get'](_0x27e00e);_0x1ef651?_0x1ef651['push'](_0x2cfecd):this['cache']['set'](_0x27e00e,[_0x2cfecd]);}}class pM extends ds{constructor(_0x29dc5a,_0x208ce9,_0x57f5f0,_0x409e6a,_0x2a2028){super(_0x29dc5a),mn['setName'](this,this['name']+'-'+_0x57f5f0['_node']['name']),this['requiresCu'+'bemaps']=!(-0x5e5*0x3+0x78d+0x1*0xa23),this['shadowRend'+'erer']=_0x208ce9,this['light']=_0x57f5f0,this['face']=_0x409e6a,this['applyVsm']=_0x2a2028,this['shadowCame'+'ra']=_0x208ce9['prepareFac'+'e'](_0x57f5f0,null,_0x409e6a),_0x208ce9['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x36+-0x1*-0xf76+-0xfac));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x1f7*-0x5+-0x706+-0x59e*-0x3));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x4592c5,_0x3b6811){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4592c5,this['shadowRend'+'erer']=_0x3b6811,this['device']=_0x4592c5['device']);}['cull'](_0x551eb8,_0x5df79e,_0x22df81=null){const _0x4e74b0=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x551eb8['visibleThi'+'sFrame']=!(0x28d*-0x6+0xa25*-0x1+0x1973),_0x4e74b0||_0x551eb8['_shadowMap']||(_0x551eb8['_shadowMap']=un['create'](this['device'],_0x551eb8));const _0x1db6c5=_0x551eb8['_type'],_0x3d2685=_0x1db6c5===Re?-0x210+-0x1*0x1459+0x166a:0x6fd*0x4+0x160f+-0x1*0x31fd;for(let _0x3fc698=0x1599+-0x20c+-0x2cb*0x7;_0x3fc698<_0x3d2685;_0x3fc698++){const _0x50d1b2=_0x551eb8['getRenderD'+'ata'](null,_0x3fc698),_0x12ab79=_0x50d1b2['shadowCame'+'ra'];_0x12ab79['nearClip']=_0x551eb8['attenuatio'+'nEnd']/(-0xd*0x1ca+0x509*0x1+0x1621),_0x12ab79['farClip']=_0x551eb8['attenuatio'+'nEnd'];const _0x106e46=_0x12ab79['_node'],_0x277595=_0x551eb8['_node'];if(_0x106e46['setPositio'+'n'](_0x277595['getPositio'+'n']()),_0x1db6c5===Re)_0x12ab79['fov']=_0x551eb8['_outerCone'+'Angle']*(-0x1119*-0x1+-0x229+-0xeee),_0x106e46['setRotatio'+'n'](_0x277595['getRotatio'+'n']()),_0x106e46['rotateLoca'+'l'](-(-0xf1a*0x2+-0x128c+0x346*0xf),-0x81*-0x2b+-0x156a+-0x5*0xd,-0x1*-0x106+0x859*-0x1+0x177*0x5);else{if(_0x1db6c5===Pe){if(_0x4e74b0){const _0x51566d=(-0x1083+0x201*-0x4+0x1889*0x1)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x551eb8['atlasViewp'+'ort']['z']/(0xa31+0x201d+-0x3*0xe19))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x12ab79['fov']=Math['atan'](0x392+-0x7a*0xb+0x1ad+_0x51566d)*N['RAD_TO_DEG']*(-0x1c64+0x976+0x65*0x30);}else _0x12ab79['fov']=0x1*0xc0e+-0x12ec+0x738;}}this['renderer']['updateCame'+'raFrustum'](_0x12ab79),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x5df79e,_0x551eb8,_0x50d1b2['visibleCas'+'ters'],_0x12ab79,_0x22df81);}}['prepareLig'+'hts'](_0x259e8d,_0x43191c){let _0x83d36d;for(let _0x3d4fbd=0x1*0x78d+-0x399*-0x3+-0x92c*0x2;_0x3d4fbd<_0x43191c['length'];_0x3d4fbd++){const _0x5f521d=_0x43191c[_0x3d4fbd];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5f521d)&&_0x5f521d['atlasViewp'+'ortAllocat'+'ed']){_0x259e8d['push'](_0x5f521d);for(let _0x34b2f9=0x782*-0x3+-0x13c1+0x2a47;_0x34b2f9<_0x5f521d['numShadowF'+'aces'];_0x34b2f9++)_0x83d36d=this['shadowRend'+'erer']['prepareFac'+'e'](_0x5f521d,null,_0x34b2f9);}}return _0x83d36d;}['buildNonCl'+'usteredRen'+'derPasses'](_0x43aa61,_0x10a1a2){for(let _0xaecc41=-0x1c32+0x1a0d+0x225;_0xaecc41<_0x10a1a2['length'];_0xaecc41++){const _0x1f3455=_0x10a1a2[_0xaecc41];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x1f3455)){const _0x1ef545=_0x1f3455['_type']===Re,_0x30bdd7=_0x1f3455['numShadowF'+'aces'];for(let _0x3032f1=-0x1*-0x1da7+-0x1e38+-0x91*-0x1;_0x3032f1<_0x30bdd7;_0x3032f1++){const _0x15f8f8=new pM(this['device'],this['shadowRend'+'erer'],_0x1f3455,_0x3032f1,_0x1ef545);_0x43aa61['addRenderP'+'ass'](_0x15f8f8);}}}}}class _M extends ds{constructor(_0x2198f5,_0x4775b0,_0x57574d,_0x4bfd40,_0x411a54){super(_0x2198f5),mn['setName'](this,this['name']+'-'+_0x57574d['_node']['name']),this['shadowRend'+'erer']=_0x4775b0,this['light']=_0x57574d,this['camera']=_0x4bfd40,this['allCascade'+'sRendering']=_0x411a54;}['execute'](){const {light:_0x2e5638,camera:_0x33c35c,shadowRenderer:_0x19d90a,allCascadesRendering:_0x47d6f5}=this,_0x47a211=_0x2e5638['numShadowF'+'aces'],_0xdb825b=_0x2e5638['shadowUpda'+'teOverride'+'s'];for(let _0xa36fc9=-0x5cd*0x4+0x1a28+-0x2f4;_0xa36fc9<_0x47a211;_0xa36fc9++)(_0xdb825b==null?void(0x465+-0x94*0x13+-0x1*-0x697):_0xdb825b[_0xa36fc9])!==Ps&&_0x19d90a['renderFace'](_0x2e5638,_0x33c35c,_0xa36fc9,!_0x47d6f5),(_0xdb825b==null?void(0xc14+0x2b*-0x2f+-0x42f):_0xdb825b[_0xa36fc9])===cn&&(_0xdb825b[_0xa36fc9]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x471cf5,_0x23ce7e,_0x3e22b9){Fe[0x2170+0x1bd8+0x1a8*-0x25]['x']=Fe[0xae3+-0xeed+0x40b]['x']=Fe[0x155*-0x14+-0x1d53+0x37f9*0x1]['x']=Fe[-0x2*-0x1093+0x17*-0x8b+-0x14a6]['x']=_0x23ce7e['x'],Fe[0x1*0x22a2+-0x12b9+-0xfe8]['y']=Fe[0x259d*0x1+-0x7af+0xcf*-0x25]['y']=Fe[-0x67*-0x39+-0xd*0xe6+0x2*-0x59d]['y']=Fe[-0x153c+-0x3*-0xa63+-0x2*0x4f4]['y']=_0x23ce7e['y'],Fe[-0x1*0x196c+-0x1*-0x1c27+-0x2b9]['z']=Fe[-0x1*0x1c42+0x1f*0x17+0xe9*0x1c]['z']=Fe[0x2*0x313+-0x1*0x137c+-0x72*-0x1e]['z']=Fe[-0x1719+-0x883+0x1fa3]['z']=_0x23ce7e['z'],Fe[0xf1*0x2+-0x1a83+0x1*0x18a5]['x']=Fe[0x3de+-0x2*-0x747+0x7*-0x2a1]['x']=Fe[0x1d+-0x1*0x1f87+0x8*0x3ee]['x']=Fe[-0x4*-0xd0+0x77e*-0x2+-0xbc3*-0x1]['x']=_0x3e22b9['x'],Fe[0x2384+0x1c6a+-0x3fee]['y']=Fe[-0xfb0+-0xf2a+0x1edc]['y']=Fe[0x2438+-0x1656*-0x1+-0x3a8a]['y']=Fe[-0x5d*0x2e+0x20b5+-0xff9]['y']=_0x3e22b9['y'],Fe[0x1e5*0x11+0x20c4+-0x40f9*0x1]['z']=Fe[-0x1*-0x1ac8+-0x1079*0x1+-0x527*0x2]['z']=Fe[-0x1f0c+-0x2*0xb8+0x2080]['z']=Fe[0xac*-0x1e+0x130c+0x121]['z']=_0x3e22b9['z'];let _0x3404fc=0x25b80c67c+-0x3dbf*0x121ff1+0x3477f26*0x153,_0x4509e3=-(0x1a6401*-0x1e17+0x9bba0867*-0x2+0x6a5970ee4);for(let _0x1827c8=0x18ea+-0xa43*0x2+-0x464;_0x1827c8<-0x114d+-0x2466*-0x1+-0x1311;++_0x1827c8){_0x471cf5['transformP'+'oint'](Fe[_0x1827c8],Fe[_0x1827c8]);const _0xf1f822=Fe[_0x1827c8]['z'];_0xf1f822<_0x3404fc&&(_0x3404fc=_0xf1f822),_0xf1f822>_0x4509e3&&(_0x4509e3=_0xf1f822);}return Pd['min']=_0x3404fc,Pd['max']=_0x4509e3,Pd;}class yM{constructor(_0x8c08ea,_0x56050a){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x8c08ea,this['shadowRend'+'erer']=_0x56050a,this['device']=_0x8c08ea['device']);}['cull'](_0x3dedc7,_0x530071,_0x3dedc8,_0x3aeb07=null){_0x3dedc7['visibleThi'+'sFrame']=!(-0x1304+0x5d*-0x1+0x1361),_0x3dedc7['_shadowMap']||(_0x3dedc7['_shadowMap']=un['create'](this['device'],_0x3dedc7));const _0xa69ee9=_0x3dedc8['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x3dedc7,_0xa69ee9,Math['min'](_0x3dedc8['_farClip'],_0x3dedc7['shadowDist'+'ance']));const _0x378cbd=_0x3dedc7['shadowUpda'+'teOverride'+'s'];for(let _0x251826=-0x17e*0x8+-0x1*0x547+-0x27*-0x71;_0x251826<_0x3dedc7['numCascade'+'s']&&(_0x378cbd==null?void(-0x13*-0x1d1+0x362+-0x25e5):_0x378cbd[_0x251826])!==Ps;_0x251826++){const _0x3f0f19=_0x3dedc7['getRenderD'+'ata'](_0x3dedc8,_0x251826),_0x235628=_0x3f0f19['shadowCame'+'ra'];_0x235628['renderTarg'+'et']=_0x3dedc7['_shadowMap']['renderTarg'+'ets'][-0x166*0x19+0x35*0x89+0x699],_0x3f0f19['shadowView'+'port']['copy'](_0x3dedc7['cascades'][_0x251826]),_0x3f0f19['shadowScis'+'sor']['copy'](_0x3dedc7['cascades'][_0x251826]);const _0x39f6fa=_0x235628['_node'],_0x501feb=_0x3dedc7['_node'];_0x39f6fa['setPositio'+'n'](_0x501feb['getPositio'+'n']()),_0x39f6fa['setRotatio'+'n'](_0x501feb['getRotatio'+'n']()),_0x39f6fa['rotateLoca'+'l'](-(0xf*0x4+0xe*-0xe2+0xc7a),0x1e4f*0x1+-0x1f2c+-0xd*-0x11,0xd9c*-0x1+-0x2297+0x3033);const _0x42e07b=_0x251826===-0x2223+-0xb*0x2eb+-0x9*-0x75c?_0xa69ee9:_0x3dedc7['_shadowCas'+'cadeDistan'+'ces'][_0x251826-(-0x4e9+0x24c6+-0x1*0x1fdc)],_0x30d8be=_0x3dedc7['_shadowCas'+'cadeDistan'+'ces'][_0x251826],_0x276127=_0x3dedc8['getFrustum'+'Corners'](_0x42e07b,_0x30d8be);ei['set'](0x1d7c+-0x914+0x2*-0xa34,-0xd9b+0x26f4+0x1*-0x1959,0x12cb+-0x1bc+-0x110f);const _0x686787=_0x3dedc8['node']['getWorldTr'+'ansform']();for(let _0x3d9040=0x1*0x1097+-0xe31+-0x2*0x133;_0x3d9040<0x9*0x128+0x44*0x9+0x1*-0xcc4;_0x3d9040++)_0x686787['transformP'+'oint'](_0x276127[_0x3d9040],_0x276127[_0x3d9040]),ei['add'](_0x276127[_0x3d9040]);ei['mulScalar']((-0x36d*0x2+0x1233*0x1+-0x2*0x5ac)/(0x2516+0x2*0x671+0x4*-0xc7c));let _0x59d94d=-0x4*0x55f+-0xab*0x17+-0x24d9*-0x1;for(let _0x3cd2a2=0x1*0x13d9+0x3f9*0x5+-0x27b6;_0x3cd2a2<-0x88a*0x1+-0xc7f+0x1511*0x1;_0x3cd2a2++){const _0x57d35e=_0x276127[_0x3cd2a2]['sub'](ei)['length']();_0x57d35e>_0x59d94d&&(_0x59d94d=_0x57d35e);}const _0x2008b9=_0x39f6fa['right'],_0x4286a9=_0x39f6fa['up'],_0x3b2810=_0x39f6fa['forward'],_0x13d3a7=(0xb43+0x204c+0x9*-0x4d7+0.25)*_0x3dedc7['_shadowRes'+'olution']/_0x59d94d,_0xa9c9c0=Math['ceil'](ei['dot'](_0x4286a9)*_0x13d3a7)/_0x13d3a7,_0x423253=Math['ceil'](ei['dot'](_0x2008b9)*_0x13d3a7)/_0x13d3a7,_0x230e05=_0x4286a9['mulScalar'](_0xa9c9c0),_0xe1d847=_0x2008b9['mulScalar'](_0x423253),_0x334465=ei['dot'](_0x3b2810),_0x2c5c8b=_0x3b2810['mulScalar'](_0x334465);ei['add2'](_0x230e05,_0xe1d847)['add'](_0x2c5c8b),_0x39f6fa['setPositio'+'n'](ei),_0x39f6fa['translateL'+'ocal'](0x1*-0x46d+0x3*-0x34+-0x1*-0x509,-0x1*0x22c1+0x1*0x862+0x1*0x1a5f,-0x2*-0xcef71+0x1*-0x92ddf+-0x16ec3),_0x235628['nearClip']=0x2*-0xd7c+0x2*0x5b5+-0x7c7*-0x2+0.01,_0x235628['farClip']=-0x1*-0x10aa34+0x7*-0x4b5ef+0x2ed3d5,_0x235628['orthoHeigh'+'t']=_0x59d94d,this['renderer']['updateCame'+'raFrustum'](_0x235628),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x530071,_0x3dedc7,_0x3f0f19['visibleCas'+'ters'],_0x235628,_0x3aeb07);let _0x222e46=!(-0x5*-0x703+0x1ac*-0x3+0x1e0b*-0x1);const _0x3572fb=_0x3f0f19['visibleCas'+'ters'];for(let _0x3bd85a=-0x1*0x1c4+-0x63d*-0x5+-0x1d6d;_0x3bd85a<_0x3572fb['length'];_0x3bd85a++){const _0x38f938=_0x3572fb[_0x3bd85a];_0x222e46?(_0x222e46=!(-0xd*0x6f+0x230b+-0x243*0xd),Ll['copy'](_0x38f938['aabb'])):Ll['add'](_0x38f938['aabb']);}d_['copy'](_0x39f6fa['getWorldTr'+'ansform']())['invert']();const _0x57dff9=gM(d_,Ll['getMin'](),Ll['getMax']());_0x39f6fa['translateL'+'ocal'](-0x1a62+0x1*0xd18+0xd4a,0x1a89*-0x1+0x1*-0xa1+0x16e*0x13,_0x57dff9['max']+(-0x1c1*-0x1+-0x1*-0x19a9+0x1b6a*-0x1+0.1)),_0x235628['farClip']=_0x57dff9['max']-_0x57dff9['min']+(-0x6ec*-0x3+-0x1cc7*0x1+-0x1*-0x803+0.2),_0x3f0f19['projection'+'Compensati'+'on']=_0x59d94d;}}['generateSp'+'litDistanc'+'es'](_0x5eef,_0x30ccf6,_0x3676e5){_0x5eef['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x3676e5);for(let _0x53b0ec=0x4f9*0x2+-0xb02*-0x1+-0x1f*0xad;_0x53b0ec<_0x5eef['numCascade'+'s'];_0x53b0ec++){const _0x5a5d34=_0x53b0ec/_0x5eef['numCascade'+'s'],_0xe67333=_0x30ccf6+(_0x3676e5-_0x30ccf6)*_0x5a5d34,_0x296480=_0x30ccf6*(_0x3676e5/_0x30ccf6)**_0x5a5d34,_0x4fcc9d=N['lerp'](_0xe67333,_0x296480,_0x5eef['cascadeDis'+'tribution']);_0x5eef['_shadowCas'+'cadeDistan'+'ces'][_0x53b0ec-(-0x1305+-0x10dc+0x23e2)]=_0x4fcc9d;}}['getLightRe'+'nderPass'](_0x3970e2,_0x5e3db8){v['assert'](_0x3970e2&&_0x3970e2['_type']===oe);let _0x9e5585=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3970e2)){const _0x4c0b17=_0x3970e2['numShadowF'+'aces'],_0x44d5cf=_0x3970e2['shadowUpda'+'teOverride'+'s'];let _0x5abee8=!(0x3d*-0x91+0x6e3*0x2+-0x3*-0x6ed),_0x37522b;for(let _0x3c777d=0x1723*0x1+0x1027+0x2f*-0xd6;_0x3c777d<_0x4c0b17;_0x3c777d++)(_0x44d5cf==null?void(0x1af3*0x1+0x1*0xf2c+-0x2a1f):_0x44d5cf[_0x3c777d])===Ps&&(_0x5abee8=!(-0x2613+0x1*0x184a+-0x2c2*-0x5)),_0x37522b=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3970e2,_0x5e3db8,_0x3c777d);_0x9e5585=new _M(this['device'],this['shadowRend'+'erer'],_0x3970e2,_0x5e3db8,_0x5abee8),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x9e5585,_0x37522b,_0x5abee8);}return _0x9e5585;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(-0x2096+0x6ad*-0x4+0x3b4c),Xa=new Q(-0x173d*0x1+-0x25*0x1d+-0x1b6f*-0x1,-0x123*-0x1b+-0x6f*0x17+0x14b7*-0x1,-0x89*0x3b+0x26b1*0x1+-0x71e,-0xa*-0x2c8+0x11c3*-0x1+0xa0d*-0x1),p_=new q();function xM(_0x562fab,_0x415598){return Math['exp'](-(_0x562fab*_0x562fab)/((0x4*0x734+-0xb14+-0x11ba)*_0x415598*_0x415598));}function SM(_0x550146){const _0x4f9134=(_0x550146-(-0x878*0x2+0xec7+0x22a))/(-0x329+0xd80+-0xa51),_0xf848be=(_0x550146-(0x1417*-0x1+0x2c+0x13ec))*(-0xafc+0x653+0x4a9+0.5),_0xea7b49=new Array(_0x550146);let _0x4088b5=-0x1315+-0x1305+0x261a;for(let _0xf04c67=0x16d0*-0x1+0x22c1+-0xbf1;_0xf04c67<_0x550146;++_0xf04c67)_0xea7b49[_0xf04c67]=xM(_0xf04c67-_0xf848be,_0x4f9134),_0x4088b5+=_0xea7b49[_0xf04c67];for(let _0x931f2e=-0x1*0x1ddb+-0x2453+0x422e;_0x931f2e<_0x550146;++_0x931f2e)_0xea7b49[_0x931f2e]/=_0x4088b5;return _0xea7b49;}class I0{constructor(_0x2bee35,_0x2a5e0e){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x2bee35['device'],this['renderer']=_0x2bee35,this['lightTextu'+'reAtlas']=_0x2a5e0e);const _0x5d6457=this['device']['scope'];this['sourceId']=_0x5d6457['resolve']('source'),this['pixelOffse'+'tId']=_0x5d6457['resolve']('pixelOffse'+'t'),this['weightId']=_0x5d6457['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x5d6457['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x26ee+-0x20fd+-0x5f0),!(0x18f3+-0x2544+0xc52),!(0x925+-0x1233*-0x2+-0x192*0x1d),!(-0xf9c+0x1af1+-0xb54));}static['createShad'+'owCamera'](_0x2b62c8,_0x8c23df,_0x460652){const _0x3afce4=Ma['create']('ShadowCame'+'ra',_0x8c23df,_0x460652),_0xd031fa=ir['get'](_0x2b62c8);v['assert'](_0xd031fa);const _0x373fa8=(_0xd031fa==null?void(-0x1fe5+0x2634*0x1+0x5f*-0x11):_0xd031fa['vsm'])??!(-0x94e+0x1*0x15e2+-0xc93*0x1),_0x356f67=(_0xd031fa==null?void(0x8dd*-0x1+0x2437+-0x1b5a):_0xd031fa['pcf'])??!(0x569*-0x3+0xe40+-0x7f*-0x4);return _0x373fa8?_0x3afce4['clearColor']=new Y(-0x25*-0x1d+-0x54+0x2b*-0x17,0x789+0x1292+-0x29*0xa3,0x4d2+-0x26e7+0x2215,-0x4*0x6+0x16bc+-0x16a4):_0x3afce4['clearColor']=new Y(0x1b9a*-0x1+0x1dcf+-0x2f*0xc,0x247f*-0x1+-0x1*0x1d2f+0x41af,0x1d*-0x8b+0x1*-0x26bf+0x367f,-0x19c0+-0xd*-0x269+-0x594),_0x3afce4['clearDepth'+'Buffer']=!(0x1425*-0x1+0x845*0x1+0xbe0),_0x3afce4['clearStenc'+'ilBuffer']=!(-0x1*-0x1c31+-0x8c6*0x2+0x38c*-0x3),_0x3afce4['clearColor'+'Buffer']=!_0x356f67,_0x3afce4;}['_cullShado'+'wCastersIn'+'ternal'](_0x1d23d2,_0x294371,_0x1b4f83){const _0xb1fa7=_0x1d23d2['length'];for(let _0x387607=0x225a+-0x1624+-0x3*0x412;_0x387607<_0xb1fa7;_0x387607++){const _0x2ec090=_0x1d23d2[_0x387607];_0x2ec090['castShadow']&&(!_0x2ec090['cull']||_0x2ec090['_isVisible'](_0x1b4f83))&&(_0x2ec090['visibleThi'+'sFrame']=!(-0xe5f+-0x25*-0x3e+-0x1*-0x569),_0x294371['push'](_0x2ec090));}}['cullShadow'+'Casters'](_0xb60419,_0x528f82,_0x33c6a9,_0x39f361,_0xd7f1db){if(_0x33c6a9['length']=-0xdd8+-0xa02+0x17da,_0xd7f1db)this['_cullShado'+'wCastersIn'+'ternal'](_0xd7f1db,_0x33c6a9,_0x39f361);else{const _0x25b9c5=_0xb60419['layerList'],_0x3fb649=_0x25b9c5['length'];for(let _0x2a7936=0x42c+0x6f3*-0x1+0x4f*0x9;_0x2a7936<_0x3fb649;_0x2a7936++){const _0x358e24=_0x25b9c5[_0x2a7936];_0x358e24['_lightsSet']['has'](_0x528f82)&&(Rd['has'](_0x358e24)||(Rd['add'](_0x358e24),this['_cullShado'+'wCastersIn'+'ternal'](_0x358e24['shadowCast'+'ers'],_0x33c6a9,_0x39f361)));}Rd['clear']();}_0x33c6a9['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x47944a,_0x38fabd){const _0x3a334e=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x38fabd['_isPcf']:_0x38fabd['_isPcf']&&_0x38fabd['_type']!==Pe;_0x47944a['setBlendSt'+'ate'](_0x3a334e?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x47944a['setDepthSt'+'ate'](_0x38fabd['shadowDept'+'hState']),_0x47944a['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x24f101,_0x21684f,_0x3ab8b1,_0x34d266){const _0x45d110=_0x21684f['_node'];_0x24f101['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x45d110['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x24f101['attenuatio'+'nEnd'])),u_['setTRS'](_0x45d110['getPositio'+'n'](),_0x45d110['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x21684f['projection'+'Matrix'],u_);const _0x6ce157=_0x3ab8b1['shadowView'+'port'];_0x21684f['rect']=_0x6ce157,_0x21684f['scissorRec'+'t']=_0x3ab8b1['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x6ce157['x'],_0x6ce157['y'],_0x6ce157['z'],_0x6ce157['w']),_0x3ab8b1['shadowMatr'+'ix']['mul2'](p_,f_),_0x24f101['_type']===oe&&_0x24f101['_shadowMat'+'rixPalette']['set'](_0x3ab8b1['shadowMatr'+'ix']['data'],_0x34d266*(0x1886+-0xea2*-0x1+-0x2718));}['getShadowP'+'ass'](_0x3f03c0){var _0x29f593;const _0x4f4d80=_0x3f03c0['_type'],_0x522e1d=_0x3f03c0['_shadowTyp'+'e'];let _0x3b655d=(_0x29f593=this['shadowPass'+'Cache'][_0x4f4d80])==null?void(-0x353*-0x7+-0x2*0xd2d+-0x107*-0x3):_0x29f593[_0x522e1d];if(!_0x3b655d){const _0x170830='ShadowPass'+'_'+_0x4f4d80+'_'+_0x522e1d;_0x3b655d=Ks['get'](this['device'])['allocate'](_0x170830,{'isShadow':!(-0x1d65*-0x1+-0x1*0x12e8+-0xb3*0xf),'lightType':_0x4f4d80,'shadowType':_0x522e1d}),this['shadowPass'+'Cache'][_0x4f4d80]||(this['shadowPass'+'Cache'][_0x4f4d80]=[]),this['shadowPass'+'Cache'][_0x4f4d80][_0x522e1d]=_0x3b655d;}return _0x3b655d['index'];}['submitCast'+'ers'](_0x44feb9,_0x245a47,_0x57569e){const _0x4271a2=this['device'],_0x234a4f=this['renderer'],_0x3f14e8=_0x234a4f['scene'],_0x18a16a=-0x763+-0x115+0x879<<Rp,_0x990e27=this['getShadowP'+'ass'](_0x245a47),_0x2d768f=_0x57569e['shaderPara'+'ms'],_0x58e655=_0x57569e['renderTarg'+'et']['flipY']?-(0x3*0x256+0x1908+0x3b*-0x8b):0xc62+-0x24c8+0x1867,_0x20702c=_0x44feb9['length'];for(let _0x31740a=-0xce2*-0x3+-0x2649+-0x5d;_0x31740a<_0x20702c;_0x31740a++){const _0x870c76=_0x44feb9[_0x31740a],_0xc34ab0=_0x870c76['mesh'];_0x870c76['ensureMate'+'rial'](_0x4271a2);const _0x1f3baa=_0x870c76['material'];G['pushGpuMar'+'ker'](_0x4271a2,'Node:\x20'+_0x870c76['node']['name']+(',\x20Material'+':\x20')+_0x1f3baa['name']),_0x234a4f['setBaseCon'+'stants'](_0x4271a2,_0x1f3baa),_0x234a4f['setSkinnin'+'g'](_0x4271a2,_0x870c76),_0x1f3baa['dirty']&&(_0x1f3baa['updateUnif'+'orms'](_0x4271a2,_0x3f14e8),_0x1f3baa['dirty']=!(-0x1*-0x10bb+-0x1*0x176d+0x6b3)),_0x234a4f['setupCullM'+'ode'](!(0x2218+0x1a*-0x1+-0x21fe),_0x58e655,_0x870c76),_0x1f3baa['setParamet'+'ers'](_0x4271a2),_0x870c76['setParamet'+'ers'](_0x4271a2,_0x18a16a);const _0x6e6f66=_0x870c76['getShaderI'+'nstance'](_0x990e27,-0x1*-0x18ad+0x5*-0xd4+0x1*-0x1489,_0x3f14e8,_0x2d768f,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0xd35dc7=_0x6e6f66['shader'];v['assert'](_0xd35dc7,'no\x20shader\x20'+'for\x20pass\x20'+_0x990e27,_0x1f3baa),_0x870c76['_key'][ku]=_0xd35dc7['id'],_0x4271a2['setShader'](_0xd35dc7),_0x234a4f['setVertexB'+'uffers'](_0x4271a2,_0xc34ab0),_0x234a4f['setMorphin'+'g'](_0x4271a2,_0x870c76['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x6e6f66,_0x870c76);const _0x2c958c=_0x870c76['renderStyl'+'e'];_0x4271a2['setIndexBu'+'ffer'](_0xc34ab0['indexBuffe'+'r'][_0x2c958c]),_0x234a4f['drawInstan'+'ce'](_0x4271a2,_0x870c76,_0xc34ab0,_0x2c958c),_0x234a4f['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x4271a2);}}['needsShado'+'wRendering'](_0xcb4b06){const _0x8ab66=_0xcb4b06['enabled']&&_0xcb4b06['castShadow'+'s']&&_0xcb4b06['shadowUpda'+'teMode']!==Ps&&_0xcb4b06['visibleThi'+'sFrame'];return _0xcb4b06['shadowUpda'+'teMode']===cn&&(_0xcb4b06['shadowUpda'+'teMode']=Ps),_0x8ab66&&(this['renderer']['_shadowMap'+'Updates']+=_0xcb4b06['numShadowF'+'aces']),_0x8ab66;}['getLightRe'+'nderData'](_0x3545be,_0x45e4bc,_0x4f9dad){return _0x3545be['getRenderD'+'ata'](_0x3545be['_type']===oe?_0x45e4bc:null,_0x4f9dad);}['setupRende'+'rPass'](_0x10ef79,_0x48836c,_0x3d9ae1){const _0x211d03=_0x48836c['renderTarg'+'et'];_0x10ef79['init'](_0x211d03),_0x10ef79['depthStenc'+'ilOps']['clearDepth'+'Value']=0xd*0x133+-0x1*-0x1729+-0x26bf,_0x10ef79['depthStenc'+'ilOps']['clearDepth']=_0x3d9ae1,_0x211d03['depthBuffe'+'r']?_0x10ef79['depthStenc'+'ilOps']['storeDepth']=!(-0x23f6+-0x1580+0x3976*0x1):(_0x10ef79['colorOps']['clearValue']['copy'](_0x48836c['clearColor']),_0x10ef79['colorOps']['clear']=_0x3d9ae1,_0x10ef79['depthStenc'+'ilOps']['storeDepth']=!(-0x955*0x1+-0x7fd*-0x1+-0x159*-0x1)),_0x10ef79['requiresCu'+'bemaps']=!(-0xde0*-0x1+-0x2*0x629+-0x18d*0x1);}['prepareFac'+'e'](_0x3d3b75,_0x5c9c8f,_0x33a189){const _0x31eb1d=_0x3d3b75['_type'],_0x2bd99f=this['getLightRe'+'nderData'](_0x3d3b75,_0x5c9c8f,_0x33a189)['shadowCame'+'ra'],_0xee81fb=_0x31eb1d===oe?0x123*-0x6+0x1b4d*0x1+-0x147b:_0x33a189;return _0x2bd99f['renderTarg'+'et']=_0x3d3b75['_shadowMap']['renderTarg'+'ets'][_0xee81fb],_0x2bd99f;}['renderFace'](_0x19f116,_0x2a6538,_0x5cac0a,_0x41e939,_0x58da8a=!(0x6aa*-0x4+-0xead+-0x1*-0x2955)){const _0xc89163=this['device'],_0x226d9e=ne();G['pushGpuMar'+'ker'](_0xc89163,'SHADOW\x20'+_0x19f116['_node']['name']+'\x20FACE\x20'+_0x5cac0a);const _0x11ff94=this['getLightRe'+'nderData'](_0x19f116,_0x2a6538,_0x5cac0a),_0x4ba2cd=_0x11ff94['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x19f116,_0x4ba2cd,_0x11ff94,_0x5cac0a);const _0x2cd0cb=_0x4ba2cd['renderTarg'+'et'],_0x101e97=this['renderer'];_0x101e97['setCameraU'+'niforms'](_0x4ba2cd,_0x2cd0cb),_0xc89163['supportsUn'+'iformBuffe'+'rs']&&_0x101e97['setupViewU'+'niformBuff'+'ers'](_0x11ff94['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],-0x1f23*-0x1+0x1aa*-0x14+-0x6e*-0x5),_0x58da8a?(_0x101e97['setupViewp'+'ort'](_0x4ba2cd,_0x2cd0cb),_0x41e939&&_0x101e97['clear'](_0x4ba2cd)):_0x101e97['clearView'](_0x4ba2cd,_0x2cd0cb,!(0x1*0x11c+0x12b0+-0x13cc),!(0x90+0x1d*0xd9+-0x1924)),this['setupRende'+'rState'](_0xc89163,_0x19f116),this['submitCast'+'ers'](_0x11ff94['visibleCas'+'ters'],_0x19f116,_0x4ba2cd),G['popGpuMark'+'er'](_0xc89163),_0x101e97['_shadowMap'+'Time']+=ne()-_0x226d9e;}['render'](_0x35985a,_0x3412b3,_0xd7709b=!(-0x7*0xf5+-0x1*0x930+0xfe3)){if(this['needsShado'+'wRendering'](_0x35985a)){const _0x15511f=_0x35985a['numShadowF'+'aces'];for(let _0x179806=0x5e+0x126a+0x259*-0x8;_0x179806<_0x15511f;_0x179806++)this['prepareFac'+'e'](_0x35985a,_0x3412b3,_0x179806),this['renderFace'](_0x35985a,_0x3412b3,_0x179806,!(0x24d+0x66f+-0x8bc),_0xd7709b);this['renderVsm'](_0x35985a,_0x3412b3);}}['renderVsm'](_0x400a3c,_0x480ad5){_0x400a3c['_isVsm']&&_0x400a3c['_vsmBlurSi'+'ze']>0x167+-0x457+0x2f1&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x400a3c['_type']===oe)&&this['applyVsmBl'+'ur'](_0x400a3c,_0x480ad5);}['getVsmBlur'+'Shader'](_0x4fdff5,_0x4d6163){const _0x1c9079=this['blurVsmSha'+'der'];let _0x3618b4=_0x1c9079[_0x4fdff5][_0x4d6163];if(!_0x3618b4){this['blurVsmWei'+'ghts'][_0x4d6163]=SM(_0x4d6163);const _0x272054=X['fullscreen'+'QuadVS'];let _0x1ee5b8='#define\x20SA'+'MPLES\x20'+_0x4d6163+'\x0a';_0x1ee5b8+=this['blurVsmSha'+'derCode'][_0x4fdff5];const _0x458dfd='blurVsm'+_0x4fdff5+_0x4d6163;_0x3618b4=Is(this['device'],_0x272054,_0x1ee5b8,_0x458dfd),_0x1c9079[_0x4fdff5][_0x4d6163]=_0x3618b4;}return _0x3618b4;}['applyVsmBl'+'ur'](_0xc7f11f,_0x2d8682){const _0x1664f1=this['device'];G['pushGpuMar'+'ker'](_0x1664f1,'VSM\x20'+_0xc7f11f['_node']['name']),_0x1664f1['setBlendSt'+'ate'](_t['NOBLEND']);const _0x551b3d=_0xc7f11f['getRenderD'+'ata'](_0xc7f11f['_type']===oe?_0x2d8682:null,-0x781*0x2+-0xb3b+0x1a3d)['shadowCame'+'ra']['renderTarg'+'et'],_0x74f200=this['renderer']['shadowMapC'+'ache']['get'](_0x1664f1,_0xc7f11f),_0xd6b4c5=_0x74f200['renderTarg'+'ets'][-0x1af5+-0x11*0x175+0x33ba],_0x4a2cd4=_0xc7f11f['vsmBlurMod'+'e'],_0x339a3c=_0xc7f11f['_vsmBlurSi'+'ze'],_0x401b7c=this['getVsmBlur'+'Shader'](_0x4a2cd4,_0x339a3c);Xa['z']=_0xc7f11f['_shadowRes'+'olution']-(0x257d+-0x1*0x1aa5+-0xad6),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x551b3d['colorBuffe'+'r']),vr[-0x33*-0x3e+0x17c7+-0x2421]=(0x755*-0x1+-0x1756*-0x1+-0x20*0x80)/_0xc7f11f['_shadowRes'+'olution'],vr[-0x2689*0x1+0x1c5+-0x1*-0x24c5]=0x4a3*0x5+-0xa37+0x53*-0x28,this['pixelOffse'+'tId']['setValue'](vr),_0x4a2cd4===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x339a3c]),dn(_0x1664f1,_0xd6b4c5,_0x401b7c,null,Xa),this['sourceId']['setValue'](_0xd6b4c5['colorBuffe'+'r']),vr[0x1429*-0x1+0x8da*0x1+0xb50]=vr[-0x151b+-0x12c1*-0x1+0x25a],vr[-0x22e7+0x3b*-0x8d+0x4366]=0x48b+0x119*0x19+-0x1ffc,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x1664f1,_0x551b3d,_0x401b7c,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0xc7f11f,_0x74f200),G['popGpuMark'+'er'](_0x1664f1);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x366395){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x366395;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x542d05=>{_0x542d05['destroy']();}),this['_allocated']['length']=0x2238+0xb*-0x1fd+-0x6d*0x1d;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x4e540d=new zu(this['device']);_0x4e540d['name']='ClusterEmp'+'ty',_0x4e540d['update']([]),this['_empty']=_0x4e540d;}return this['_empty'];}['assign'](_0x2a5446){const _0x3e4814=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=0x1934+0xbcb*0x3+-0x3c95,this['_clusters']['clear']();const _0x5e2bee=_0x2a5446['length'];for(let _0x6b3908=-0x661+-0x1602+-0x1c63*-0x1;_0x6b3908<_0x5e2bee;_0x6b3908++){const _0x400fd1=_0x2a5446[_0x6b3908]['renderActi'+'ons'];if(_0x400fd1){const _0x2cc105=_0x400fd1['length'];for(let _0xe2bc2e=-0x12ae+-0x7f*0x10+0x1a9e*0x1;_0xe2bc2e<_0x2cc105;_0xe2bc2e++){const _0x266768=_0x400fd1[_0xe2bc2e];_0x266768['lightClust'+'ers']=null;const _0x4a3e20=_0x266768['layer'];if(_0x4a3e20['hasCluster'+'edLights']&&_0x4a3e20['meshInstan'+'ces']['length']){const _0x16bc6e=_0x4a3e20['getLightId'+'Hash'](),_0x153291=this['_clusters']['get'](_0x16bc6e);let _0x137806=_0x153291==null?void(0x85a*0x1+0x1cd0+-0x8e*0x43):_0x153291['lightClust'+'ers'];_0x137806||(_0x137806=Fl['pop']()??new zu(this['device']),mn['setName'](_0x137806,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x137806),this['_clusters']['set'](_0x16bc6e,_0x266768)),_0x266768['lightClust'+'ers']=_0x137806;}_0x266768['lightClust'+'ers']||(_0x266768['lightClust'+'ers']=_0x3e4814);}}}Fl['forEach'](_0x21a2cf=>_0x21a2cf['destroy']()),Fl['length']=-0x1267+-0x2*-0x8d2+0xc3*0x1;}['update'](_0x2001ec,_0x401254){this['assign'](_0x2001ec),this['_clusters']['forEach'](_0x328d14=>{const _0x4fc99a=_0x328d14['layer'];_0x328d14['lightClust'+'ers']['update'](_0x4fc99a['clusteredL'+'ightsSet'],_0x401254);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x9df332,_0xff27d0){super(_0x9df332),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0xff27d0,this['requiresCu'+'bemaps']=!(-0xf88+0x7cd*0x3+-0x1*0x7de),this['blitTextur'+'eId']=_0x9df332['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x9df332['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x306da6,_0x4681fb;(_0x306da6=this['_quadRende'+'rer2D'])==null||_0x306da6['destroy'](),this['_quadRende'+'rer2D']=null,(_0x4681fb=this['_quadRende'+'rerCube'])==null||_0x4681fb['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x48ec28,_0x25c12c){v['assert'](_0x48ec28);const _0x8db679=new kp(_0x48ec28['device'],_0x25c12c);return _0x8db679['init'](_0x48ec28),_0x8db679['colorOps']['clear']=!(0x9f7+0x4*-0x66e+-0x1*-0xfc2),_0x8db679['depthStenc'+'ilOps']['clearDepth']=!(-0x2605*-0x1+-0xa5f+0x151*-0x15),_0x8db679;}['update'](_0x234d2a){const _0x34c52b=this['_filteredL'+'ights'];this['filter'](_0x234d2a,_0x34c52b),this['executeEna'+'bled']=_0x34c52b['length']>0x137d+-0xb1+-0x12cc;}['filter'](_0x2eb925,_0x9abbea){for(let _0x39bfe0=0x1e99+-0xc7+-0x16*0x15b;_0x39bfe0<_0x2eb925['length'];_0x39bfe0++){const _0x1e839c=_0x2eb925[_0x39bfe0];_0x1e839c['_type']!==oe&&_0x1e839c['atlasViewp'+'ortAllocat'+'ed']&&_0x1e839c['atlasSlotU'+'pdated']&&_0x1e839c['enabled']&&_0x1e839c['cookie']&&_0x1e839c['visibleThi'+'sFrame']&&_0x9abbea['push'](_0x1e839c);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x42bb21=-0x1ab2*0x1+-0x26a1+-0x7*-0x955;_0x42bb21<-0x11*0x102+0x121*0x17+0xcd*-0xb;_0x42bb21++){const _0xea834f=Ma['create'](null,Pe,_0x42bb21),_0x38d842=_0xea834f['projection'+'Matrix'],_0x4cd9e0=_0xea834f['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x42bb21]=new q()['mul2'](_0x38d842,_0x4cd9e0)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x158f5d=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x158f5d);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x58547e=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x58547e);}return this['_quadRende'+'rerCube'];}['execute'](){const _0xf20562=this['device'];_0xf20562['setBlendSt'+'ate'](_t['NOBLEND']),_0xf20562['setCullMod'+'e'](mt),_0xf20562['setDepthSt'+'ate'](as['NODEPTH']),_0xf20562['setStencil'+'State']();const _0x1a6b42=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x49b8c0=this['_cubeSlots'+'Offsets'],_0x2c169c=this['_filteredL'+'ights'];for(let _0x39e293=-0x950+-0x6b2+-0x801*-0x2;_0x39e293<_0x2c169c['length'];_0x39e293++){const _0x5e2e88=_0x2c169c[_0x39e293];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x5e2e88['_node']['name']);const _0x347c05=_0x5e2e88['numShadowF'+'aces'],_0x1782c1=_0x347c05>-0x146+0x159e+0x1*-0x1457?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x347c05>0x1*0x12af+0x32b*-0xb+0x1*0x102b&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x5e2e88['cookie']);for(let _0x2e8b16=0x1cbd+0xb*-0x199+0x1*-0xb2a;_0x2e8b16<_0x347c05;_0x2e8b16++){if(Gi['copy'](_0x5e2e88['atlasViewp'+'ort']),_0x347c05>-0xf53+0xb5*0xc+0x6d8){const _0x15fd70=Gi['z']/(0x8*-0x44f+0x233e+-0xc3),_0x53b0cd=_0x49b8c0[_0x2e8b16];Gi['x']+=_0x15fd70*_0x53b0cd['x'],Gi['y']+=_0x15fd70*_0x53b0cd['y'],Gi['z']=_0x15fd70,Gi['w']=_0x15fd70,this['invViewPro'+'jId']['setValue'](Id[_0x2e8b16]['data']);}Gi['mulScalar'](_0x1a6b42),_0x1782c1['render'](Gi);}G['popGpuMark'+'er'](_0xf20562);}_0x2c169c['length']=-0x1285+0x11f2+-0x93*-0x1;}}class TM extends ds{constructor(_0x312ca0,_0x544afb,_0x436fc9){super(_0x312ca0),this['requiresCu'+'bemaps']=!(-0x19a2+-0x1764+0x3107),this['shadowRend'+'erer']=_0x544afb,this['shadowRend'+'ererLocal']=_0x436fc9;}['update'](_0x5f2828){const _0x36b2de=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0xf3146b=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x36b2de,_0x5f2828),_0x361a0b=_0x36b2de['length'];this['enabled']=_0x361a0b>-0x224c+-0x1829*0x1+0x3a75,_0x361a0b&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0xf3146b,!(0x7*-0x245+0x1362+-0x37e));}['execute'](){const _0x436f28=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x4d2015=_0x436f28['length'];for(let _0x44ba84=-0xe*0x1e7+0x662*-0x3+0x2dc8;_0x44ba84<_0x4d2015;_0x44ba84++){const _0x4c5fc1=_0x436f28[_0x44ba84];for(let _0x3a3da5=-0x922+-0x1*-0x98e+-0x6c;_0x3a3da5<_0x4c5fc1['numShadowF'+'aces'];_0x3a3da5++)this['shadowRend'+'erer']['renderFace'](_0x4c5fc1,null,_0x3a3da5,!(-0x1*0x13eb+-0x59*-0x3b+0x8*-0x13));}_0x436f28['length']=0x3c1+0x209a+-0x1*0x245b;}}class AM extends ds{constructor(_0x22d831,_0x998aec,_0x90efc8,_0x227023,_0x4b9cfb){super(_0x22d831),this['renderer']=_0x998aec,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x4b9cfb['cookieRend'+'erTarget'],_0x4b9cfb['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x22d831,_0x90efc8,_0x227023),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x440237,_0x3bb2ca,_0x210322,_0x4e8c1a,_0x144190){this['frameGraph']=_0x440237,this['cookiesRen'+'derPass']['enabled']=_0x210322,_0x210322&&this['cookiesRen'+'derPass']['update'](_0x4e8c1a),this['shadowRend'+'erPass']['enabled']=_0x3bb2ca,_0x3bb2ca&&this['shadowRend'+'erPass']['update'](_0x144190);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x7bd650=ne(),{renderer:_0x16d7ca}=this,{scene:_0x3874a8}=_0x16d7ca;_0x16d7ca['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x3874a8['lighting']),_0x16d7ca['_lightClus'+'tersTime']+=ne()-_0x7bd650,_0x16d7ca['_lightClus'+'ters']=_0x16d7ca['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=-0x332*-0x1+-0x211b+0xd*0x24d;const Hi=new q(),$i=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0x1c95+0x148f+0x807,-(0x1600+0xbe+-0x16bd),0x1*-0xaf1+0x1*0x2147+-0x1655),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([-0xcfd+-0x683*0x1+-0x1*-0x1381,0x295+-0x1*0x72+-0x223,-0xae0+-0x17e8+0x22c8,-0x6e1*0x4+-0x14c0+0x2*0x1822,0x1ecd+0x16*0xe5+-0x1*0x327b,0x1df3+-0x2522+0x50*0x17,0x167e+0xca7+-0x2325,0x364*-0x4+0x2398+0x14*-0x11a,0x2148+0x3bc*-0x5+0x37*-0x44,-0x24bb+0x1c8a+0x831,-0x1953+0x546+0x3*0x6af+0.5,0x1af*0xf+0x1*-0x515+-0x142c,-0xed8+-0x1c0a+0x2ae2*0x1,0x74b+-0x71+-0x6da,0x1970+0xbe*0xd+-0x2316+0.5,0x776*0x5+-0x2696+0x7*0x2f]),x_=[new $(-0x1564+-0x575*-0x5+-0x1f7*0x3+0.5,0x2*-0xc9d+0xdb1+-0x1*-0xb89+0.333333),new $(0x620+-0x61c+-0x4+0.25,0x1c78*0x1+0x3b*0x29+-0x25eb+0.666667),new $(-0xb31+0x1ef3+-0x13c2+0.75,0xfc8*-0x1+-0xc7a+-0x1c42*-0x1+0.111111),new $(-0x109c+0xec1+0x1db+0.125,0xe36*0x1+-0x1b04+0xcce+0.444444),new $(0x374*-0x8+-0x1daa*-0x1+-0x20a+0.625,0x197+0x1e39+-0xfe8*0x2+0.777778),new $(0x12*-0x81+-0x1*0x19db+0x1*0x22ed+0.375,-0x81d*-0x2+-0x5e*0x9+-0x33b*0x4+0.222222),new $(0x51*0x67+-0x1248+-0xe4f+0.875,-0xea4*0x1+-0x1f*-0xd+0xd11+0.555556),new $(0x1*0xe02+-0x4c0+0x4f*-0x1e+0.0625,0xa*-0x281+0x8*-0xac+-0x11*-0x1ca+0.888889),new $(0x1fbc+0xb*-0xed+-0x158d+0.5625,0x1c*-0x152+-0x6*-0x214+0x1880+0.037037),new $(0x1*0xe59+0x1*-0x37f+-0x2*0x56d+0.3125,0xf1*0x9+0x1*0x625+-0xe9e+0.37037),new $(-0x1*0x1b39+-0x1*0x1264+0x2d9d+0.8125,0x6d3+0x160+-0x833*0x1+0.703704),new $(-0xd8b*0x1+-0x6dd+0x1468+0.1875,0x37e+0x1*0x1d6e+-0x7*0x4b4+0.148148),new $(-0x19ef*-0x1+0x2*0x3fe+-0x13*0x1c9+0.6875,-0x1*-0x1ba4+0x1*-0x1281+-0x923+0.481481),new $(0x7*-0x3be+-0x917*-0x2+0x804+0.4375,-0x2045*-0x1+0x1820+-0x3865+0.814815),new $(0xc2d+0x2d*-0x7f+-0x1b1*-0x6+0.9375,-0x5*-0x173+-0x1*0x12e9+0xbaa+0.259259),new $(-0x1006+0x390+0xc76+0.03125,0x3b*-0x51+0x2f2*0x5+0x3f1+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x46d02d){c(this,'clustersDe'+'bugRendere'+'d',!(0x10f2+-0x6f3*0x5+0x2b*0x6a)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(-0x246b+0x476*-0x6+0x3faa)),(this['device']=_0x46d02d,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x46d02d),this['lightTextu'+'reAtlas']=new uM(_0x46d02d),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x2*-0xad9+0x1f3*0x9+0x427,this['_morphTime']=0x1aa2+-0x4*0x119+-0x163e,this['_cullTime']=-0xcf3+0x35*-0x35+0x17ec,this['_shadowMap'+'Time']=0x29*-0x49+0x7ec*0x4+-0x13ff,this['_lightClus'+'tersTime']=-0x1994+-0x2070*-0x1+-0x1*0x6dc,this['_layerComp'+'ositionUpd'+'ateTime']=0x8*0x1b6+-0x9*0x25e+0x79e,this['_shadowDra'+'wCalls']=-0x16b4+-0x4a*0x12+0x1be8,this['_skinDrawC'+'alls']=0x180+-0x13c7+0x1247,this['_instanced'+'DrawCalls']=0xab5*-0x1+0x5fd+-0x4*-0x12e,this['_shadowMap'+'Updates']=-0x446+-0x18ee*-0x1+-0x14a8*0x1,this['_numDrawCa'+'llsCulled']=-0x157d+-0x2*0xeb9+0x32ef,this['_camerasRe'+'ndered']=-0x2153+0xd1c*0x1+0x1437,this['_lightClus'+'ters']=0x26f+0x20d5+-0x2344);const _0x501fc5=_0x46d02d['scope'];this['boneTextur'+'eId']=_0x501fc5['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x501fc5['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x501fc5['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x501fc5['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x501fc5['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x1*0x1f99+0x18*0x75+-0x2a8e),this['viewPosId']=_0x501fc5['resolve']('view_posit'+'ion'),this['projId']=_0x501fc5['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x501fc5['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x501fc5['resolve']('matrix_vie'+'w'),this['viewId3']=_0x501fc5['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x501fc5['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x501fc5['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x501fc5['resolve']('tbnBasis'),this['nearClipId']=_0x501fc5['resolve']('camera_nea'+'r'),this['farClipId']=_0x501fc5['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x2*-0xa30+0x2*-0x123+-0x78e*-0x3),this['cameraPara'+'msId']=_0x501fc5['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x501fc5['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0x17e5+0x191d+-0x1a*0xc,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x1a3*-0x17+0x20e6+-0x4687),this['blueNoiseJ'+'itterId']=_0x501fc5['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x501fc5['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x501fc5['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x501fc5['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x501fc5['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x501fc5['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x1cbb+-0x179*0x7+0x270a),this['morphPosit'+'ionTex']=_0x501fc5['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x501fc5['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x501fc5['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x501fc5['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x5109df,_0x5a5d91){if(_0x5109df['layer']===_0x5a5d91['layer']){if(_0x5109df['drawOrder']&&_0x5a5d91['drawOrder'])return _0x5109df['drawOrder']-_0x5a5d91['drawOrder'];if(_0x5109df['zdist']&&_0x5a5d91['zdist'])return _0x5a5d91['zdist']-_0x5109df['zdist'];if(_0x5109df['zdist2']&&_0x5a5d91['zdist2'])return _0x5109df['zdist2']-_0x5a5d91['zdist2'];}return _0x5a5d91['_key'][Ei]-_0x5109df['_key'][Ei];}['sortCompar'+'eMesh'](_0x304485,_0x301a04){if(_0x304485['layer']===_0x301a04['layer']){if(_0x304485['drawOrder']&&_0x301a04['drawOrder'])return _0x304485['drawOrder']-_0x301a04['drawOrder'];if(_0x304485['zdist']&&_0x301a04['zdist'])return _0x301a04['zdist']-_0x304485['zdist'];}const _0x4f5277=_0x304485['_key'][Ei],_0x4674ca=_0x301a04['_key'][Ei];return _0x4f5277===_0x4674ca&&_0x304485['mesh']&&_0x301a04['mesh']?_0x301a04['mesh']['id']-_0x304485['mesh']['id']:_0x4674ca-_0x4f5277;}['sortCompar'+'eDepth'](_0x5a69f1,_0x3dd5c3){const _0x198c46=_0x5a69f1['_key'][ku],_0x2ed836=_0x3dd5c3['_key'][ku];return _0x198c46===_0x2ed836&&_0x5a69f1['mesh']&&_0x3dd5c3['mesh']?_0x3dd5c3['mesh']['id']-_0x5a69f1['mesh']['id']:_0x2ed836-_0x198c46;}['setupViewp'+'ort'](_0x2eba6e,_0x566ea8){const _0x5e899e=this['device'],_0x326c03=_0x566ea8?_0x566ea8['width']:_0x5e899e['width'],_0x5c23cc=_0x566ea8?_0x566ea8['height']:_0x5e899e['height'],_0x4ef2d3=_0x2eba6e['rect'];let _0x331853=Math['floor'](_0x4ef2d3['x']*_0x326c03),_0x176c04=Math['floor'](_0x4ef2d3['y']*_0x5c23cc),_0x136337=Math['floor'](_0x4ef2d3['z']*_0x326c03),_0x1e58c8=Math['floor'](_0x4ef2d3['w']*_0x5c23cc);if(_0x5e899e['setViewpor'+'t'](_0x331853,_0x176c04,_0x136337,_0x1e58c8),_0x2eba6e['_scissorRe'+'ctClear']){const _0x86d2b1=_0x2eba6e['scissorRec'+'t'];_0x331853=Math['floor'](_0x86d2b1['x']*_0x326c03),_0x176c04=Math['floor'](_0x86d2b1['y']*_0x5c23cc),_0x136337=Math['floor'](_0x86d2b1['z']*_0x326c03),_0x1e58c8=Math['floor'](_0x86d2b1['w']*_0x5c23cc);}_0x5e899e['setScissor'](_0x331853,_0x176c04,_0x136337,_0x1e58c8);}['setCameraU'+'niforms'](_0x51cbe7,_0xabf252){var _0x146756,_0x256067;const _0x20d4d4=_0xabf252==null?void(-0x2b*-0xd4+-0xec7*0x1+-0x14d5):_0xabf252['flipY'];let _0x12d7f1=0x187a+-0x19*0x175+0xbf4*0x1;if(_0x51cbe7['xr']&&_0x51cbe7['xr']['session']){const _0x500888=((_0x256067=(_0x146756=_0x51cbe7['_node'])==null?void(0x2*0x11a+-0x2681*0x1+-0x244d*-0x1):_0x146756['parent'])==null?void(-0x98f+-0x4c8+0xe57):_0x256067['getWorldTr'+'ansform']())||null,_0x222c5e=_0x51cbe7['xr']['views'];_0x12d7f1=_0x222c5e['list']['length'];for(let _0x24f454=-0x14*0x43+-0x23c5+0x2901;_0x24f454<_0x12d7f1;_0x24f454++){const _0x308a53=_0x222c5e['list'][_0x24f454];_0x308a53['updateTran'+'sforms'](_0x500888),_0x51cbe7['frustum']['setFromMat'+'4'](_0x308a53['projViewOf'+'fMat']);}}else{let _0x53d8ff=_0x51cbe7['projection'+'Matrix'];_0x51cbe7['calculateP'+'rojection']&&_0x51cbe7['calculateP'+'rojection'](_0x53d8ff,Al);let _0x36e801=_0x51cbe7['getProject'+'ionMatrixS'+'kybox']();_0x20d4d4&&(_0x53d8ff=EM['mul2'](g_,_0x53d8ff),_0x36e801=CM['mul2'](g_,_0x36e801)),this['device']['isWebGPU']&&(_0x53d8ff=MM['mul2'](y_,_0x53d8ff),_0x36e801=PM['mul2'](y_,_0x36e801));const {jitter:_0x5c0fee}=_0x51cbe7;let _0x29cc5d=0x1447+0x11a7*-0x1+0x54*-0x8,_0x5c8eb5=-0xb15+0x2042+-0x1*0x152d;if(_0x5c0fee>0x1a85+0x1c8a+-0x370f){const _0x3cdb2f=_0xabf252?_0xabf252['width']:this['device']['width'],_0x42eec4=_0xabf252?_0xabf252['height']:this['device']['height'],_0x59e27d=x_[this['device']['renderVers'+'ion']%x_['length']];_0x29cc5d=_0x5c0fee*(_0x59e27d['x']*(-0x8*0x349+-0x1a3d+0x3487)-(0x1fa0*0x1+0x1e72+0x3e11*-0x1))/_0x3cdb2f,_0x5c8eb5=_0x5c0fee*(_0x59e27d['y']*(-0x61+-0xb5f+0xbc2)-(-0x1878+0x1*0x589+-0x2*-0x978))/_0x42eec4,_0x53d8ff=RM['copy'](_0x53d8ff),_0x53d8ff['data'][0xba0+-0x1301+0x10f*0x7]=_0x29cc5d,_0x53d8ff['data'][-0x2f*0x44+-0xfef+0x1c74]=_0x5c8eb5,_0x36e801=IM['copy'](_0x36e801),_0x36e801['data'][0xbbb+-0x43*-0x1+0x2*-0x5fb]=_0x29cc5d,_0x36e801['data'][0xeb+-0x525+0x443*0x1]=_0x5c8eb5,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x2a3865=_0x5c0fee>-0x7d6+-0x1*-0x1af8+0x991*-0x2?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x101*-0x14+-0x1*-0x1659+0x1*-0x2a6d]=_0x2a3865['x'],this['blueNoiseJ'+'itterData'][0xecf+-0x6d4+-0x7fa]=_0x2a3865['y'],this['blueNoiseJ'+'itterData'][0xa4*-0xb+0x1e*-0xd+-0x16e*-0x6]=_0x2a3865['z'],this['blueNoiseJ'+'itterData'][0x2*0x1126+-0xa4+0xb*-0x30f]=_0x2a3865['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x53d8ff['data']),this['projSkybox'+'Id']['setValue'](_0x36e801['data']),_0x51cbe7['calculateT'+'ransform'])_0x51cbe7['calculateT'+'ransform']($i,Al);else{const _0x538c8f=_0x51cbe7['_node']['getPositio'+'n'](),_0x279405=_0x51cbe7['_node']['getRotatio'+'n']();$i['setTRS'](_0x538c8f,_0x279405,T['ONE']);}this['viewInvId']['setValue']($i['data']),Mn['copy']($i)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x53d8ff,Mn),this['viewProjId']['setValue'](Hi['data']),_0x51cbe7['_storeShad'+'erMatrices'](Hi,_0x29cc5d,_0x5c8eb5,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x20d4d4?-(-0x1f*-0xa7+-0x19*-0x7+-0x14e7):0xce7+0x2*0x4b1+0x5c*-0x3e),this['dispatchVi'+'ewPos'](_0x51cbe7['_node']['getPositio'+'n']()),_0x51cbe7['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x20d4d4?-(-0x164b+0x1064+-0x48*-0x15):-0x1463+-0x874+0xe6c*0x2);const _0x258d34=_0x51cbe7['_nearClip'],_0x375c3a=_0x51cbe7['_farClip'];return this['nearClipId']['setValue'](_0x258d34),this['farClipId']['setValue'](_0x375c3a),this['cameraPara'+'ms'][-0x1*-0x21e5+-0x35b+-0x1e8a]=(-0x25c8+0x1e89*0x1+-0xe8*-0x8)/_0x375c3a,this['cameraPara'+'ms'][0xa7b+0x25c8+-0x3042]=_0x375c3a,this['cameraPara'+'ms'][0x2*0x10d2+0x5*-0x778+-0x26*-0x19]=_0x258d34,this['cameraPara'+'ms'][-0x5*0x427+-0x1ca2+0x3168]=_0x51cbe7['projection']===ua?0x15bb+-0x19da*-0x1+-0xe*0x366:-0x480+-0xb1+0x3*0x1bb,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x51cbe7['getExposur'+'e']():this['scene']['exposure']),_0x12d7f1;}['clear'](_0x129d6c,_0xadf046,_0x3f6a93,_0x547506){const _0x32f64a=(_0xadf046??_0x129d6c['_clearColo'+'rBuffer']?Co:0x694+-0x831*-0x3+-0x1f27)|(_0x3f6a93??_0x129d6c['_clearDept'+'hBuffer']?Mo:0x1*-0x10c0+0x1*0x114+0x11*0xec)|(_0x547506??_0x129d6c['_clearSten'+'cilBuffer']?Ah:-0x1*-0x1c83+-0x239f+-0x4*-0x1c7);if(_0x32f64a){const _0x58860e=this['device'];G['pushGpuMar'+'ker'](_0x58860e,'CLEAR'),_0x58860e['clear']({'color':[_0x129d6c['_clearColo'+'r']['r'],_0x129d6c['_clearColo'+'r']['g'],_0x129d6c['_clearColo'+'r']['b'],_0x129d6c['_clearColo'+'r']['a']],'depth':_0x129d6c['_clearDept'+'h'],'stencil':_0x129d6c['_clearSten'+'cil'],'flags':_0x32f64a}),G['popGpuMark'+'er'](_0x58860e);}}['setCamera'](_0x558ccb,_0x509b49,_0x6c3ce9,_0x160de0=null){this['setCameraU'+'niforms'](_0x558ccb,_0x509b49),this['clearView'](_0x558ccb,_0x509b49,_0x6c3ce9,!(0x1*0xf47+-0x2*-0xf6d+-0x2e20));}['clearView'](_0x17619b,_0x3c41d7,_0x20cf02,_0x595107){const _0x89bbd1=this['device'];if(G['pushGpuMar'+'ker'](_0x89bbd1,'CLEAR-VIEW'),_0x89bbd1['setRenderT'+'arget'](_0x3c41d7),_0x89bbd1['updateBegi'+'n'](),_0x595107&&(_0x89bbd1['setColorWr'+'ite'](!(0x3fb*-0x7+0x20e4+-0xd*0x63),!(0x5*0x44f+0x3*0x80e+-0x2db5),!(0x3f*0x15+0x1387*0x1+0x18b2*-0x1),!(0x25e1+-0x1dc2+-0x81f)),_0x89bbd1['setDepthWr'+'ite'](!(0x41*0x14+-0x43f+-0x1*0xd5))),this['setupViewp'+'ort'](_0x17619b,_0x3c41d7),_0x20cf02){const _0x2986cb=_0x17619b['_clearOpti'+'ons'];_0x89bbd1['clear'](_0x2986cb||{'color':[_0x17619b['_clearColo'+'r']['r'],_0x17619b['_clearColo'+'r']['g'],_0x17619b['_clearColo'+'r']['b'],_0x17619b['_clearColo'+'r']['a']],'depth':_0x17619b['_clearDept'+'h'],'flags':(_0x17619b['_clearColo'+'rBuffer']?Co:0x2183+-0xa*0x373+-0xfb*-0x1)|(_0x17619b['_clearDept'+'hBuffer']?Mo:-0x1f*-0x11c+-0xe*-0x1b4+-0x1*0x3a3c)|(_0x17619b['_clearSten'+'cilBuffer']?Ah:-0x1bfc+0x73f+0x1*0x14bd),'stencil':_0x17619b['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x89bbd1);}['setupCullM'+'ode'](_0xf375ba,_0x454790,_0x475968){const _0x1bc1b3=_0x475968['material'];let _0x5e37c6=mt;if(_0xf375ba){let _0x4c264a=-0x300+-0xe82+0x1183;(_0x1bc1b3['cull']===mo||_0x1bc1b3['cull']===rn)&&(_0x4c264a=_0x454790*_0x475968['flipFacesF'+'actor']*_0x475968['node']['worldScale'+'Sign']),_0x4c264a<-0x28d*-0xb+-0x19c+-0x1a73?_0x5e37c6=_0x1bc1b3['cull']===mo?rn:mo:_0x5e37c6=_0x1bc1b3['cull'];}this['device']['setCullMod'+'e'](_0x5e37c6),_0x5e37c6===mt&&_0x1bc1b3['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x475968['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x1c0b8d){if(_0x1c0b8d['xr']&&_0x1c0b8d['xr']['views']['list']['length']){const _0xe91d26=_0x1c0b8d['xr']['views']['list'][-0x98d+0x1865+0x64*-0x26];Hi['mul2'](_0xe91d26['projMat'],_0xe91d26['viewOffMat']),_0x1c0b8d['frustum']['setFromMat'+'4'](Hi);return;}const _0x365739=_0x1c0b8d['projection'+'Matrix'];if(_0x1c0b8d['calculateP'+'rojection']&&_0x1c0b8d['calculateP'+'rojection'](_0x365739,Al),_0x1c0b8d['calculateT'+'ransform'])_0x1c0b8d['calculateT'+'ransform']($i,Al);else{const _0x1b1525=_0x1c0b8d['_node']['getPositio'+'n'](),_0x41ef83=_0x1c0b8d['_node']['getRotatio'+'n']();$i['setTRS'](_0x1b1525,_0x41ef83,T['ONE']),this['viewInvId']['setValue']($i['data']);}Mn['copy']($i)['invert'](),Hi['mul2'](_0x365739,Mn),_0x1c0b8d['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x580cff,_0x795699){_0x580cff['setCullMod'+'e'](_0x795699['cull']),_0x795699['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x795699['opacityMap']),(_0x795699['opacityMap']||_0x795699['alphaTest']>0x1*0x1580+-0x109b+-0x4e5)&&this['alphaTestI'+'d']['setValue'](_0x795699['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0xcdc732){Dd++;const _0x1c5a0f=_0xcdc732['length'];if(_0x1c5a0f===-0x556+0x16d0*0x1+0x8bd*-0x2)return;const _0x1e0eb7=ne();for(let _0x4f68b6=0x1a*-0xde+-0x997+0x13*0x1b1;_0x4f68b6<_0x1c5a0f;_0x4f68b6++){const _0x379c8f=_0xcdc732[_0x4f68b6]['skinInstan'+'ce'];_0x379c8f&&(_0x379c8f['updateMatr'+'ices'](_0xcdc732[_0x4f68b6]['node'],Dd),_0x379c8f['_dirty']=!(0xd77+0x1*-0x5ab+-0x7cc));}this['_skinTime']+=ne()-_0x1e0eb7;}['updateGpuS'+'kinMatrice'+'s'](_0x11fdd4){const _0x1c4a1b=ne();for(const _0x2d9ffd of _0x11fdd4){const _0x34312e=_0x2d9ffd['skinInstan'+'ce'];_0x34312e&&_0x34312e['_dirty']&&(_0x34312e['updateMatr'+'ixPalette'](_0x2d9ffd['node'],Dd),_0x34312e['_dirty']=!(0x220f*-0x1+-0x246d+0x3*0x177f));}this['_skinTime']+=ne()-_0x1c4a1b;}['updateMorp'+'hing'](_0x5dc1f9){const _0x4772d8=ne();for(const _0x5dc6cf of _0x5dc1f9){const _0x709c59=_0x5dc6cf['morphInsta'+'nce'];_0x709c59&&_0x709c59['_dirty']&&_0x709c59['update']();}this['_morphTime']+=ne()-_0x4772d8;}['updateGSpl'+'ats'](_0x1b3a40){var _0x13dc03;for(const _0x3a6e50 of _0x1b3a40)(_0x13dc03=_0x3a6e50['gsplatInst'+'ance'])==null||_0x13dc03['update']();}['gpuUpdate'](_0x4e0819){this['updateGpuS'+'kinMatrice'+'s'](_0x4e0819),this['updateMorp'+'hing'](_0x4e0819),this['updateGSpl'+'ats'](_0x4e0819);}['setVertexB'+'uffers'](_0x4336d2,_0xd1eaee){_0x4336d2['setVertexB'+'uffer'](_0xd1eaee['vertexBuff'+'er']);}['setMorphin'+'g'](_0x20301a,_0x1535c6){_0x1535c6&&(_0x1535c6['prepareRen'+'dering'](_0x20301a),_0x20301a['setVertexB'+'uffer'](_0x1535c6['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x1535c6['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x1535c6['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x1535c6['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x469150,_0x245141){const _0x5c20ea=_0x245141['skinInstan'+'ce'];if(_0x5c20ea){this['_skinDrawC'+'alls']++;const _0x14acd6=_0x5c20ea['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x14acd6),this['boneTextur'+'eSizeId']['setValue'](_0x5c20ea['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x11137d){const _0x345a84=this['viewPos'];_0x345a84[0xd7*-0x28+-0x568+0x100*0x27]=_0x11137d['x'],_0x345a84[0x1*-0x1ba5+-0x1*-0x12ac+0x8fa]=_0x11137d['y'],_0x345a84[0x1dea+0x4ed*-0x2+0x97*-0x22]=_0x11137d['z'],this['viewPosId']['setValue'](_0x345a84);}['initViewBi'+'ndGroupFor'+'mat'](_0x29086d){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x2e6598=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',Wt),new gt('skyboxInte'+'nsity',Ws),new gt('exposure',Ws),new gt('textureBia'+'s',Ws)];_0x29086d&&_0x2e6598['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',Wt),new gt('clusterTex'+'tureSize',Wt),new gt('clusterBou'+'ndsMin',Wt),new gt('clusterBou'+'ndsDelta',Wt),new gt('clusterCel'+'lsDot',Wt),new gt('clusterCel'+'lsMax',Wt),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',Ws)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x2e6598);const _0x3981c8=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x29086d&&_0x3981c8['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x3981c8);}}['setupViewU'+'niformBuff'+'ers'](_0x4bff0f,_0xe8b0b5,_0x6933bc,_0x3ef09c){v['assert'](Array['isArray'](_0x4bff0f),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x4878a0=this['device'];for(v['assert'](_0x3ef09c===0x111a+0x1*-0xec3+-0x256,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x4bff0f['length']<_0x3ef09c;){const _0x3e44ac=new gp(_0x4878a0,_0xe8b0b5,!(-0x95+0xc28*-0x3+0x250e)),_0x5c865a=new mp(_0x4878a0,_0x6933bc,_0x3e44ac);mn['setName'](_0x5c865a,'ViewBindGr'+'oup_'+_0x5c865a['id']),_0x4bff0f['push'](_0x5c865a);}const _0x2d03e6=_0x4bff0f[0x1424+-0x24b5+0x1091];_0x2d03e6['defaultUni'+'formBuffer']['update'](),_0x2d03e6['update'](),_0x4878a0['setBindGro'+'up'](Dh,_0x2d03e6);}['setupMeshU'+'niformBuff'+'ers'](_0x478307,_0x108e70){const _0x256e43=this['device'];if(_0x256e43['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x108e70['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x108e70['node']['normalMatr'+'ix']['data']);const _0x12d28c=_0x478307['getBindGro'+'up'](_0x256e43);_0x12d28c['update'](),_0x256e43['setBindGro'+'up'](Xy,_0x12d28c),_0x478307['getUniform'+'Buffer'](_0x256e43)['update'](kd),_0x256e43['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0xe6d2f4,_0x13f2e3,_0x221ede,_0x30caa5,_0x6d2523){const _0x68c086=_0x13f2e3['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x68c086['data']),_0x6d2523&&this['normalMatr'+'ixId']['setValue'](_0x13f2e3['node']['normalMatr'+'ix']['data']);const _0x3b4aaf=_0x13f2e3['instancing'+'Data'];_0x3b4aaf?_0x3b4aaf['count']>-0x539*-0x2+-0x3b8+-0x6ba?(this['_instanced'+'DrawCalls']++,_0xe6d2f4['setVertexB'+'uffer'](_0x3b4aaf['vertexBuff'+'er']),_0xe6d2f4['draw'](_0x221ede['primitive'][_0x30caa5],_0x3b4aaf['count'])):_0xe6d2f4['clearVerte'+'xBuffer']():_0xe6d2f4['draw'](_0x221ede['primitive'][_0x30caa5]);}['drawInstan'+'ce2'](_0x221748,_0x5a3bef,_0x116bd9,_0x3252b5){const _0x24beb4=_0x5a3bef['instancing'+'Data'];_0x24beb4?_0x24beb4['count']>-0x1*-0x1346+-0x1*0x1b4f+-0xbb*-0xb?(this['_instanced'+'DrawCalls']++,_0x221748['draw'](_0x116bd9['primitive'][_0x3252b5],_0x24beb4['count'],!(-0x1*0x2e3+-0x24bc*-0x1+-0x21d9))):_0x221748['clearVerte'+'xBuffer']():_0x221748['draw'](_0x116bd9['primitive'][_0x3252b5],void(0x4*-0x1d2+-0x1d39+0x2481),!(-0x82a+-0x51*0x4f+0xd*0x28d));}['cull'](_0x14ca1a,_0x19b4cb,_0x2ba161){const _0x38132c=ne(),_0x145f48=_0x2ba161['opaque'];_0x145f48['length']=0x4e1+0xd22+-0x1203;const _0x159462=_0x2ba161['transparen'+'t'];_0x159462['length']=0x3*-0xaa7+0x1*-0x21c9+-0xc6*-0x55;const _0x1c3a8a=_0x14ca1a['frustumCul'+'ling'],_0x2dd036=_0x19b4cb['length'];for(let _0x25f752=-0x1e93+-0x5c7+0x245a;_0x25f752<_0x2dd036;_0x25f752++){const _0x64124d=_0x19b4cb[_0x25f752];_0x64124d['visible']&&(!_0x1c3a8a||!_0x64124d['cull']||_0x64124d['_isVisible'](_0x14ca1a))&&(_0x64124d['visibleThi'+'sFrame']=!(0x4*-0x751+0x5d0*0x4+0x16*0x46),(_0x64124d['transparen'+'t']?_0x159462:_0x145f48)['push'](_0x64124d),(_0x64124d['skinInstan'+'ce']||_0x64124d['morphInsta'+'nce']||_0x64124d['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x64124d),_0x64124d['gsplatInst'+'ance']&&_0x64124d['gsplatInst'+'ance']['cameras']['push'](_0x14ca1a)));}this['_cullTime']+=ne()-_0x38132c,this['_numDrawCa'+'llsCulled']+=_0x1c3a8a?_0x2dd036:-0x142d*-0x1+-0x1341+0x4*-0x3b;}['collectLig'+'hts'](_0x43339d){this['lights']['length']=0x2*0xf5+-0xf8c+0xda2,this['localLight'+'s']['length']=0x1*0x1f2c+0x245*0x6+-0x2cca;const _0x4124b9=this['scene']['_stats'];_0x4124b9['dynamicLig'+'hts']=0x7*0x54a+0x3*0x8c3+-0x3f4f,_0x4124b9['bakedLight'+'s']=0x1d8+-0x7f8+0x620;const _0x555b69=_0x43339d['layerList']['length'];for(let _0x1fecb8=0x2*0x63d+0x1b1*-0x4+-0x22*0x2b;_0x1fecb8<_0x555b69;_0x1fecb8++){const _0x2132bc=_0x43339d['layerList'][_0x1fecb8];if(!Od['has'](_0x2132bc)){Od['add'](_0x2132bc);const _0x390982=_0x2132bc['_lights'];for(let _0x34fcf5=-0x239*0x7+-0x1966*0x1+0x28f5;_0x34fcf5<_0x390982['length'];_0x34fcf5++){const _0x527365=_0x390982[_0x34fcf5];Fd['has'](_0x527365)||(Fd['add'](_0x527365),this['lights']['push'](_0x527365),_0x527365['_type']!==oe&&this['localLight'+'s']['push'](_0x527365),(_0x527365['mask']&hs||_0x527365['mask']&cr)&&_0x4124b9['dynamicLig'+'hts']++,_0x527365['mask']&rr&&_0x4124b9['bakedLight'+'s']++);}}}_0x4124b9['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x46b110,_0x5971c9){const _0x4c7c14=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x8d14d1=this['scene']['physicalUn'+'its'];for(let _0x4b90ea=0x1*-0x26f5+0xe9+0x260c;_0x4b90ea<_0x5971c9['length'];_0x4b90ea++){const _0x555d5d=_0x5971c9[_0x4b90ea];if(_0x555d5d['enabled']){if(_0x555d5d['_type']!==oe){if(_0x555d5d['getBoundin'+'gSphere'](Ld),_0x46b110['frustum']['containsSp'+'here'](Ld)){_0x555d5d['visibleThi'+'sFrame']=!(-0x6a3*-0x2+-0xfed+-0x61*-0x7),_0x555d5d['usePhysica'+'lUnits']=_0x8d14d1;const _0x479b59=_0x46b110['getScreenS'+'ize'](Ld);_0x555d5d['maxScreenS'+'ize']=Math['max'](_0x555d5d['maxScreenS'+'ize'],_0x479b59);}else _0x4c7c14||_0x555d5d['castShadow'+'s']&&!_0x555d5d['shadowMap']&&(_0x555d5d['visibleThi'+'sFrame']=!(0x11*0x17f+0x2511+-0x3e80));}else _0x555d5d['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x5b0e50){const _0x18c41c=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x540a5e=-0x1*-0x632+0x4a*-0x7f+-0x1c*-0x117;_0x540a5e<this['localLight'+'s']['length'];_0x540a5e++){const _0x328ede=this['localLight'+'s'][_0x540a5e];_0x328ede['_type']!==oe&&(_0x18c41c?_0x328ede['atlasSlotU'+'pdated']&&_0x328ede['shadowUpda'+'teMode']===Ps&&(_0x328ede['shadowUpda'+'teMode']=cn):_0x328ede['shadowUpda'+'teMode']===Ps&&_0x328ede['castShadow'+'s']&&(_0x328ede['getRenderD'+'ata'](null,0xb0f+0x1a*0x9+-0xbf9*0x1)['shadowCame'+'ra']['renderTarg'+'et']||(_0x328ede['shadowUpda'+'teMode']=cn)),_0x328ede['visibleThi'+'sFrame']&&_0x328ede['castShadow'+'s']&&_0x328ede['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x328ede,_0x5b0e50));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x16676c=_0x5b0e50['cameras'];for(let _0x4b4bbc=-0xfe*0x17+-0x1abc+-0x2*-0x18c7;_0x4b4bbc<_0x16676c['length'];_0x4b4bbc++){const _0x140c85=_0x16676c[_0x4b4bbc];if(_0x140c85['enabled']){const _0x3657ce=_0x140c85['camera'];let _0x17f7c3;const _0x319b47=_0x3657ce['layers'];for(let _0x243040=0x1*0x1a3a+-0xb2*-0x2b+-0x382*0x10;_0x243040<_0x319b47['length'];_0x243040++){const _0x26fcec=_0x5b0e50['getLayerBy'+'Id'](_0x319b47[_0x243040]);if(_0x26fcec){const _0x33b1dc=_0x26fcec['splitLight'+'s'][oe];for(let _0x2ad72d=-0x2*-0x727+0x1ebc*-0x1+0x106e;_0x2ad72d<_0x33b1dc['length'];_0x2ad72d++){const _0xbfa675=_0x33b1dc[_0x2ad72d];_0xbfa675['castShadow'+'s']&&!Pn['has'](_0xbfa675)&&(Pn['add'](_0xbfa675),_0x17f7c3=_0x17f7c3??[],_0x17f7c3['push'](_0xbfa675),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0xbfa675,_0x5b0e50,_0x3657ce));}}}_0x17f7c3&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x3657ce,_0x17f7c3),Pn['clear']();}}}['cullCompos'+'ition'](_0xc06f2b){const _0x1985ba=ne(),{scene:_0x1f2823}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x4a3972=_0xc06f2b['cameras']['length'];this['_camerasRe'+'ndered']+=_0x4a3972;for(let _0x2f794d=-0x5b*0x50+-0x125c+-0x4*-0xbb3;_0x2f794d<_0x4a3972;_0x2f794d++){const _0x27964d=_0xc06f2b['cameras'][_0x2f794d];_0x1f2823==null||_0x1f2823['fire'](ow,_0x27964d);const _0x4fe18b=_0x27964d['renderTarg'+'et'];_0x27964d['frameUpdat'+'e'](_0x4fe18b),this['updateCame'+'raFrustum'](_0x27964d['camera']);const _0x19433f=_0x27964d['layers'];for(let _0x4e7519=0xd6d*0x1+-0x2*-0x10ca+0x3f*-0xbf;_0x4e7519<_0x19433f['length'];_0x4e7519++){const _0x1877b8=_0xc06f2b['getLayerBy'+'Id'](_0x19433f[_0x4e7519]);if(_0x1877b8&&_0x1877b8['enabled']){this['cullLights'](_0x27964d['camera'],_0x1877b8['_lights']);const _0x113399=_0x1877b8['getCulledI'+'nstances'](_0x27964d['camera']);this['cull'](_0x27964d['camera'],_0x1877b8['meshInstan'+'ces'],_0x113399);}}_0x1f2823==null||_0x1f2823['fire'](lw,_0x27964d);}_0x1f2823['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0xc06f2b),this['_cullTime']+=ne()-_0x1985ba;}['updateShad'+'ers'](_0x1a8207,_0x1e8a7c){const _0x225936=_0x1a8207['length'];for(let _0x56677c=0x18ca*0x1+-0x6*0x32a+0x1*-0x5ce;_0x56677c<_0x225936;_0x56677c++){const _0x492e32=_0x1a8207[_0x56677c]['material'];if(_0x492e32&&!Pn['has'](_0x492e32)&&(Pn['add'](_0x492e32),_0x492e32['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x1e8a7c&&(!_0x492e32['useLightin'+'g']||_0x492e32['emitter']&&!_0x492e32['emitter']['lighting']))continue;_0x492e32['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x3a8dbb){const _0x1b66e4=this['scene'],_0x153266=_0x1b66e4['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x453d4b=0x264f+0x1382+-0x39d1;const _0x287cd0=_0x3a8dbb['layerList'],_0x4080e5=_0x287cd0['length'];for(let _0x392ef2=0x16d9+0xbaf+0x14*-0x1ba;_0x392ef2<_0x4080e5;_0x392ef2++){const _0x4ddec2=_0x287cd0[_0x392ef2]['meshInstan'+'ces'],_0x38db97=_0x4ddec2['length'];_0x453d4b+=_0x38db97;for(let _0x368233=-0x1*0x8f+0xb*-0x2f+-0x2*-0x14a;_0x368233<_0x38db97;_0x368233++){const _0x2786b5=_0x4ddec2[_0x368233];_0x2786b5['visibleThi'+'sFrame']=!(0x5*0x127+-0x2*0x4ec+0x416),_0x153266&&Bd['push'](_0x2786b5),_0x2786b5['skinInstan'+'ce']&&Nd['push'](_0x2786b5);}}if(_0x1b66e4['_stats']['meshInstan'+'ces']=_0x453d4b,_0x153266){const _0x48fc40=!_0x1b66e4['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x48fc40),_0x1b66e4['updateShad'+'ers']=!(0x2f3+-0xcbf+0xd*0xc1),this['device']['_shadersDi'+'rty']=!(-0x83f*-0x3+-0x129e*0x1+0x20a*-0x3),_0x1b66e4['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=-0x2046+-0x1d5+-0x1*-0x221b,Nd['length']=-0x3*0x418+-0x3d7*0x2+0x46*0x49;const _0x378ddf=this['lights'],_0x275250=_0x378ddf['length'];for(let _0x27164e=-0x243a+0x1fdc+0x45e;_0x27164e<_0x275250;_0x27164e++)_0x378ddf[_0x27164e]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x431610){const _0x5d439c=ne(),_0xfa0da7=_0x431610['layerList']['length'],_0x5352c4=this['scene']['_shaderVer'+'sion'];for(let _0x33435c=-0x1df*-0x11+0x16d8+0x337*-0x11;_0x33435c<_0xfa0da7;_0x33435c++){const _0x5d5688=_0x431610['layerList'][_0x33435c];_0x5d5688['_shaderVer'+'sion']=_0x5352c4,_0x5d5688['_skipRende'+'rCounter']=0xca*-0x26+0x1*0x281+0xf*0x1d5,_0x5d5688['_forwardDr'+'awCalls']=-0x1c*-0x6e+0x586+-0x118e,_0x5d5688['_shadowDra'+'wCalls']=0x63*-0x2c+0x2465+0x79*-0x29,_0x5d5688['_renderTim'+'e']=0x1f*-0x18+-0x3*0x1a7+-0x29f*-0x3;}_0x431610['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x5d439c;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x10ce+0x1526+0x25f3*-0x1),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0x14f4+-0x96e+-0xb85),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x16ae+-0x1633+0x1671*0x2),this['clearDepth']=!(-0x35*0x19+0x1*-0x2635+-0x1d*-0x17f),this['clearStenc'+'il']=!(-0x41d+0x3+0x41b*0x1),this['triggerPos'+'tprocess']=!(0x1*-0x11e1+-0x2081+0x3263),this['firstCamer'+'aUse']=!(0xd49+0x1*0x481+-0x11c9),this['lastCamera'+'Use']=!(-0xf4d*-0x1+0x4*-0x10a+0x3e*-0x2e),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x1*0x4a3+-0xe69+-0x1*-0x130d));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2fda2b=>{_0x2fda2b['defaultUni'+'formBuffer']['destroy'](),_0x2fda2b['destroy']();}),this['viewBindGr'+'oups']['length']=-0xb37+0x823*-0x4+-0x11*-0x293;}['setupClear'+'s'](_0x1143d5,_0x75fd6e){this['clearColor']=(_0x1143d5==null?void(0x20a2+-0x144e*-0x1+-0x58*0x9a):_0x1143d5['clearColor'+'Buffer'])||_0x75fd6e['clearColor'+'Buffer'],this['clearDepth']=(_0x1143d5==null?void(0x71*-0xd+-0x1b27+0x14*0x1a5):_0x1143d5['clearDepth'+'Buffer'])||_0x75fd6e['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x1143d5==null?void(-0xbb2+0x1*-0x13df+-0x1f91*-0x1):_0x1143d5['clearStenc'+'ilBuffer'])||_0x75fd6e['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0xcf0603,_0x23cc92,_0x19e383,_0x462926){super(_0xcf0603),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(-0x461+0x13a4+0x1f*-0x7e)),(this['layerCompo'+'sition']=_0x23cc92,this['scene']=_0x19e383,this['renderer']=_0x462926);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x10cb+-0xc96*0x2+0x29f7;}['addRenderA'+'ction'](_0x57898e){this['renderActi'+'ons']['push'](_0x57898e);}['addLayer'](_0x539155,_0x35cdfd,_0x47d871,_0x3e125c=!(0x112+0x18f5+-0x1*0x1a07)){v['assert'](_0x539155),v['assert'](this['renderTarg'+'et']!==void(-0x1b59+-0x1926+0x347f),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x539155['camera']['layersSet']['has'](_0x35cdfd['id']),'Camera\x20'+_0x539155['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x35cdfd['name']+'.');const _0x4deaaf=new D0();if(_0x4deaaf['renderTarg'+'et']=this['renderTarg'+'et'],_0x4deaaf['camera']=_0x539155,_0x4deaaf['layer']=_0x35cdfd,_0x4deaaf['transparen'+'t']=_0x47d871,_0x3e125c){const _0x494bb2=this['renderActi'+'ons']['length']===-0xf15+-0x1b7c+0x2a91;_0x4deaaf['setupClear'+'s'](_0x494bb2?_0x539155:void(-0x1*-0x1529+-0x15a*-0xd+-0x3*0xce9),_0x35cdfd);}this['addRenderA'+'ction'](_0x4deaaf);}['addLayers'](_0x5b5f2a,_0x5a5d09,_0x41be17,_0x2413cc,_0x5e2955,_0x56236e=!(-0x1b94+-0x1a64+0x35f8)){const {layerList:_0x5cdbf1,subLayerList:_0x18003e}=_0x5b5f2a;let _0x4d53f9=_0x2413cc,_0x3f8a3f=_0x41be17;for(;_0x3f8a3f<_0x5cdbf1['length'];){const _0x37ea2a=_0x5cdbf1[_0x3f8a3f],_0x17fe62=_0x18003e[_0x3f8a3f];if(_0x5a5d09['camera']['layersSet']['has'](_0x37ea2a['id'])&&(this['addLayer'](_0x5a5d09,_0x37ea2a,_0x17fe62,_0x4d53f9),_0x4d53f9=!(-0x5*0xd5+-0x53*-0x3+0x331)),_0x3f8a3f++,_0x37ea2a['id']===_0x5e2955&&_0x17fe62===_0x56236e)break;}return _0x3f8a3f;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x361210,renderActions:_0x2bd597}=this;for(let _0x58dc93=-0xa4a+-0x90*-0x21+-0x2*0x423;_0x58dc93<_0x2bd597['length'];_0x58dc93++){const _0x1a5622=_0x2bd597[_0x58dc93]['camera']['camera'],_0x93ae6e=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x1a5622);if(_0x93ae6e)for(let _0x59e26a=-0x6f7+0x1*-0x1ef8+0x25ef*0x1;_0x59e26a<_0x93ae6e['length'];_0x59e26a++){const _0x468db0=_0x93ae6e[_0x59e26a];if(_0x361210['dirLightSh'+'adows']['get'](_0x468db0)!==_0x1a5622){_0x361210['dirLightSh'+'adows']['set'](_0x468db0,_0x1a5622);const _0x37af82=_0x361210['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x468db0,_0x1a5622);_0x37af82&&this['beforePass'+'es']['push'](_0x37af82);}}}}['updateClea'+'rs'](){const _0x3aa866=this['renderActi'+'ons'][0x601*0x1+0x1228+-0x1829];if(_0x3aa866){const _0x24ff57=_0x3aa866['camera']['camera'],_0x570787=_0x24ff57['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x570787&&_0x3aa866['clearColor']?_0x24ff57['clearColor']:void(-0x326*0xa+0x19b1+0x5cb*0x1)),this['setClearDe'+'pth'](_0x570787&&_0x3aa866['clearDepth']&&!this['noDepthCle'+'ar']?_0x24ff57['clearDepth']:void(-0x5*-0x56c+-0x21cd+-0x23b*-0x3)),this['setClearSt'+'encil'](_0x570787&&_0x3aa866['clearStenc'+'il']?_0x24ff57['clearStenc'+'il']:void(0x4a*0x26+0x1fb9*0x1+-0x2ab5));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x51a19d}=this;for(let _0x4a7634=0x25c2+0x209*-0x11+0x329*-0x1;_0x4a7634<_0x51a19d['length'];_0x4a7634++){const _0x1b8997=_0x51a19d[_0x4a7634];_0x1b8997['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x1b8997['camera']);}}['execute'](){const {layerComposition:_0xa50d40,renderActions:_0x4fc1d2}=this;for(let _0x1dbab0=0x4*-0x89e+-0x1db7*-0x1+0x4c1;_0x1dbab0<_0x4fc1d2['length'];_0x1dbab0++){const _0x270893=_0x4fc1d2[_0x1dbab0],_0x47e066=_0x270893['layer'];v['call'](()=>{_0xa50d40['getLayerBy'+'Name'](_0x47e066['name'])||v['warnOnce']('Layer\x20'+_0x47e066['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0xa50d40['isEnabled'](_0x47e066,_0x270893['transparen'+'t'])&&this['renderRend'+'erAction'](_0x270893,_0x1dbab0===-0x1*-0xd46+-0xa41+-0x305);}}['after'](){for(let _0x32e236=-0x10bf+0x178*0x2+0xdcf;_0x32e236<this['renderActi'+'ons']['length'];_0x32e236++){const _0x4f1c12=this['renderActi'+'ons'][_0x32e236];_0x4f1c12['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x4f1c12['camera']);}this['beforePass'+'es']['length']=0xc05*-0x3+-0x1841+0x1e28*0x2;}['renderRend'+'erAction'](_0x4df3c1,_0x5d2ab2){var _0x4eebef;const {renderer:_0x17ee3f,scene:_0x380608}=this,_0x481fba=_0x17ee3f['device'],{layer:_0xcbfef,transparent:_0x4a9b70,camera:_0x54103d}=_0x4df3c1;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x54103d?_0x54103d['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0xcbfef['name']+'('+(_0x4a9b70?'TRANSP':'OPAQUE')+')');const _0x5769dc=ne();if(_0x54103d){const _0x579380=_0x54103d['gammaCorre'+'ction'],_0x2f76f0=_0x54103d['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x2d2+-0x446*0x3+0xa00)&&(_0x54103d['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x97f*-0x1+-0x1620+0x1f9f)&&(_0x54103d['toneMappin'+'g']=this['toneMappin'+'g']),_0x380608['fire'](nw,_0x54103d,_0xcbfef,_0x4a9b70);const _0xaac52c={'lightClusters':_0x4df3c1['lightClust'+'ers']},_0x3b0798=((_0x4eebef=_0x54103d['camera']['shaderPass'+'Info'])==null?void(-0x9*-0xa1+0x2a7+-0x850):_0x4eebef['index'])??gn;(!_0x5d2ab2||!_0x54103d['camera']['fullSizeCl'+'earRect'])&&(_0xaac52c['clearColor']=_0x4df3c1['clearColor'],_0xaac52c['clearDepth']=_0x4df3c1['clearDepth'],_0xaac52c['clearStenc'+'il']=_0x4df3c1['clearStenc'+'il']);const _0x1980dd=_0x4df3c1['renderTarg'+'et']??_0x481fba['backBuffer'];_0x17ee3f['renderForw'+'ardLayer'](_0x54103d['camera'],_0x1980dd,_0xcbfef,_0x4a9b70,_0x3b0798,_0x4df3c1['viewBindGr'+'oups'],_0xaac52c),_0x481fba['setBlendSt'+'ate'](_t['NOBLEND']),_0x481fba['setStencil'+'State'](null,null),_0x481fba['setAlphaTo'+'Coverage'](!(-0x1ba6+-0x5ce+0x2175)),_0x380608['fire'](aw,_0x54103d,_0xcbfef,_0x4a9b70),this['gammaCorre'+'ction']!==void(0x1928+0x7ed*0x1+-0x2115*0x1)&&(_0x54103d['gammaCorre'+'ction']=_0x579380),this['toneMappin'+'g']!==void(-0x11d1+-0x1*0x1399+0x256a)&&(_0x54103d['toneMappin'+'g']=_0x2f76f0);}G['popGpuMark'+'er'](this['device']),_0xcbfef['_renderTim'+'e']+=ne()-_0x5769dc;}['log'](_0x625202,_0x189bec){if(super['log'](_0x625202,_0x189bec),Xs['get'](Jn)){const {layerComposition:_0x2dadbd}=this;this['renderActi'+'ons']['forEach']((_0x3d288b,_0x1bdcd7)=>{const _0xdfe350=_0x3d288b['layer'],_0xe70f11=_0xdfe350['enabled']&&_0x2dadbd['isEnabled'](_0xdfe350,_0x3d288b['transparen'+'t']),_0x19783e=_0x3d288b['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x1bdcd7+':'+('\x20Cam:\x20'+(_0x19783e?_0x19783e['entity']['name']:'-'))['padEnd'](-0x173f+0x13eb+0x36a,'\x20')+('\x20Lay:\x20'+_0xdfe350['name'])['padEnd'](-0xeff+-0x793+-0x8*-0x2d5,'\x20')+(_0x3d288b['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0xe70f11?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0xdfe350['meshInstan'+'ces']['length'])['padEnd'](0x18d*0x6+-0xf8+-0x851,'\x20'));});}}}class FM extends ds{constructor(_0x91041b,_0x30c0b1,_0x4c7ca2){super(_0x91041b),this['renderer']=_0x30c0b1,this['renderActi'+'on']=_0x4c7ca2,this['requiresCu'+'bemaps']=!(-0x256e+0x40f+0x2160);}['execute'](){const _0x5c561f=this['renderActi'+'on'],_0x46abc4=_0x5c561f['camera'];v['assert'](_0x5c561f['triggerPos'+'tprocess']&&_0x46abc4['onPostproc'+'essing']),_0x46abc4['onPostproc'+'essing']();}}const OM=[[],[],[]],Wi=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0x6db+0x1b68+-0x1*0x148d,this['shaderInst'+'ances']['length']=-0x162b*0x1+0x3*-0x7b5+-0x176*-0x1f,this['isNewMater'+'ial']['length']=0x1*-0x2d8+-0x1*0x13eb+0x16c3,this['lightMaskC'+'hanged']['length']=0x38b+-0x3*-0xa79+-0x22f6;}};function kM(_0x38b8ae){const _0x1baed3=[];for(let _0x567000=-0x1a6f+-0x1d83*-0x1+-0x314;_0x567000<_0x38b8ae;++_0x567000){const _0x371b4f=Math['sqrt'](_0x567000+(0x229*-0x8+-0x761*0x3+0x1*0x276b+0.5))/Math['sqrt'](_0x38b8ae);_0x1baed3['push'](_0x371b4f);}return _0x1baed3;}function BM(_0x4b48be){const _0x25c622=[];for(let _0x5123ad=-0x67f+-0x1370+0x19ef;_0x5123ad<_0x4b48be;_0x5123ad++){const _0x436b4f=_0x5123ad/_0x4b48be,_0x56f40b=Math['sqrt'](_0x436b4f*_0x436b4f);_0x25c622['push'](_0x56f40b);}return _0x25c622;}const _i=class _i extends DM{constructor(_0x19d6ca){super(_0x19d6ca);const _0x4efe7e=this['device'];this['_forwardDr'+'awCalls']=0x95f+0x573*-0x7+0x7f*0x3a,this['_materialS'+'witches']=-0xe0f+-0x2052+-0x1f*-0x17f,this['_depthMapT'+'ime']=-0x2633+-0xe99*0x1+0x34cc,this['_forwardTi'+'me']=-0x3e5+0x93e+0x25*-0x25,this['_sortTime']=0x1bf3+0x1062+-0x2c55;const _0x5f168e=_0x4efe7e['scope'];this['fogColorId']=_0x5f168e['resolve']('fog_color'),this['fogStartId']=_0x5f168e['resolve']('fog_start'),this['fogEndId']=_0x5f168e['resolve']('fog_end'),this['fogDensity'+'Id']=_0x5f168e['resolve']('fog_densit'+'y'),this['ambientId']=_0x5f168e['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x5f168e['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x5f168e['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x5f168e['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x5f168e['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x5f168e['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x224+-0x136c+0x1594),this['fogColor']=new Float32Array(0x2ea*-0xb+0x185*-0x2+0x231b),this['ambientCol'+'or']=new Float32Array(-0xa52+-0x3*-0x361+0x32),this['pcssDiskSa'+'mples']=kM(0x24e0+-0x4c9+-0x2007),this['pcssSphere'+'Samples']=BM(-0x15da+-0x1e00+-0x5*-0xa62);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x26ed19){const _0x56d357=this['ambientCol'+'or'];if(Wi['linear'](_0x26ed19['ambientLig'+'ht']),_0x56d357[0x211*0x4+-0x1f58+0x1714]=Wi['r'],_0x56d357[0x7*-0x51+0x193+0xa5]=Wi['g'],_0x56d357[0x1*-0x13fa+0x16a3+-0x2a7]=Wi['b'],_0x26ed19['physicalUn'+'its']){for(let _0xa2cc5b=0x2b*0x8b+0x5*-0x14b+-0x10e2;_0xa2cc5b<-0x2af*0x3+0x1c29+-0x5*0x405;_0xa2cc5b++)_0x56d357[_0xa2cc5b]*=_0x26ed19['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x56d357),this['skyboxInte'+'nsityId']['setValue'](_0x26ed19['physicalUn'+'its']?_0x26ed19['skyboxLumi'+'nance']:_0x26ed19['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x26ed19['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x2430f4,_0x5343f4){const _0x4193a4='light'+_0x5343f4;this['lightColor'+'Id'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+'_color'),this['lightDir'][_0x5343f4]=new Float32Array(0x1702+-0x34*0x5e+-0x3e7),this['lightDirId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+'_direction'),this['lightShado'+'wMapId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+'_radius'),this['lightPos'][_0x5343f4]=new Float32Array(-0x1195+0x5d5*-0x5+-0x2ec1*-0x1),this['lightPosId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+'_position'),this['lightWidth'][_0x5343f4]=new Float32Array(-0x1e02+-0x1228+-0x1*-0x302d),this['lightWidth'+'Id'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+'_halfWidth'),this['lightHeigh'+'t'][_0x5343f4]=new Float32Array(0xfc8+-0x1*-0x23ed+-0x1*0x33b2),this['lightHeigh'+'tId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+'_cookie'),this['lightCooki'+'eIntId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x5343f4]=_0x2430f4['resolve'](_0x4193a4+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x31bee1,_0xadf151,_0x4c137d,_0x3d04ad,_0x868baf){this['lightPos'][_0xadf151][0x3*-0x505+0xee3+0x2c]=_0x3d04ad['x']-_0x4c137d['x']*_0x868baf,this['lightPos'][_0xadf151][0x2*0x74b+0x1*0x1abb+-0x2*0x14a8]=_0x3d04ad['y']-_0x4c137d['y']*_0x868baf,this['lightPos'][_0xadf151][-0x259*-0x1+0x1e31+-0x15b*0x18]=_0x3d04ad['z']-_0x4c137d['z']*_0x868baf,this['lightPosId'][_0xadf151]['setValue'](this['lightPos'][_0xadf151]);const _0x28ce08=_0x31bee1['transformV'+'ector'](new T(-(-0x9c*0x9+-0x9*0x2ec+0x1fc8+0.5),-0xa1*0x7+0xe7d*0x1+-0xa16,0xac8*0x2+-0x1d65+0x7d5));this['lightWidth'][_0xadf151][0xc5b*0x1+0x1*-0x1bea+-0x239*-0x7]=_0x28ce08['x']*_0x868baf,this['lightWidth'][_0xadf151][0x17f*-0xb+0x1*-0x1393+0x2409]=_0x28ce08['y']*_0x868baf,this['lightWidth'][_0xadf151][-0xbb*0x7+0x1*-0x1183+0xb51*0x2]=_0x28ce08['z']*_0x868baf,this['lightWidth'+'Id'][_0xadf151]['setValue'](this['lightWidth'][_0xadf151]);const _0x1129f2=_0x31bee1['transformV'+'ector'](new T(0x222b+0x133*0x12+0x37c1*-0x1,0x7*-0x2f+0x1c5*0x13+-0x2*0x102b,-0x244*0xf+-0x2*0x35+0x22*0x103+0.5));this['lightHeigh'+'t'][_0xadf151][-0x7*-0xfd+0x1f9f+-0x1*0x268a]=_0x1129f2['x']*_0x868baf,this['lightHeigh'+'t'][_0xadf151][-0x2*-0x50b+0x81b*-0x3+-0x71e*-0x2]=_0x1129f2['y']*_0x868baf,this['lightHeigh'+'t'][_0xadf151][0x5a0+-0x761*-0x3+-0x1bc1]=_0x1129f2['z']*_0x868baf,this['lightHeigh'+'tId'][_0xadf151]['setValue'](this['lightHeigh'+'t'][_0xadf151]);}['dispatchDi'+'rectLights'](_0x2e854f,_0x1d47a7,_0x4c86cf){let _0x17efde=-0x1*-0x12d+-0x125*-0x17+-0x1b80;const _0x17d429=this['device']['scope'];for(let _0x15d1ae=0x2f8*0x5+0x72d*-0x1+-0x7ab;_0x15d1ae<_0x2e854f['length'];_0x15d1ae++){if(!(_0x2e854f[_0x15d1ae]['mask']&_0x1d47a7))continue;const _0x29e063=_0x2e854f[_0x15d1ae],_0x4aebb5=_0x29e063['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x17efde]||this['_resolveLi'+'ght'](_0x17d429,_0x17efde),this['lightColor'+'Id'][_0x17efde]['setValue'](_0x29e063['_colorLine'+'ar']),_0x4aebb5['getY'](_0x29e063['_direction'])['mulScalar'](-(0x23f9*-0x1+0x9e6+0x4*0x685)),_0x29e063['_direction']['normalize'](),this['lightDir'][_0x17efde][-0xaf+-0xdcf+-0xe7e*-0x1]=_0x29e063['_direction']['x'],this['lightDir'][_0x17efde][-0x17*0x1b2+-0x503+0x2c02]=_0x29e063['_direction']['y'],this['lightDir'][_0x17efde][-0x1b3+-0x23c6*0x1+0x257b]=_0x29e063['_direction']['z'],this['lightDirId'][_0x17efde]['setValue'](this['lightDir'][_0x17efde]),_0x29e063['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x4aebb5,_0x17efde,_0x29e063['_direction'],_0x4c86cf['_node']['getPositio'+'n'](),_0x4c86cf['farClip']),_0x29e063['castShadow'+'s']){const _0x2c991a=_0x29e063['getRenderD'+'ata'](_0x4c86cf,-0x21d*0xb+0x1*-0x61a+0x1*0x1d59),_0x20304b=_0x29e063['_getUnifor'+'mBiasValue'+'s'](_0x2c991a);this['lightShado'+'wMapId'][_0x17efde]['setValue'](_0x2c991a['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x17efde]['setValue'](_0x2c991a['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x17efde]['setValue'](_0x29e063['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x17efde]['setValue'](_0x29e063['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x17efde]['setValue'](_0x29e063['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x17efde]['setValue'](-0x2659+0x1b92+0xac8-_0x29e063['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x17efde]['setValue'](_0x29e063['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x17efde]['setValue'](_0x29e063['_softShado'+'wParams']),_0x2c991a['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x17efde]['setValue'](_0x29e063['penumbraSi'+'ze']/_0x2c991a['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x2c991a['projection'+'Compensati'+'on']);const _0x41bcaa=_0x29e063['_shadowCam'+'eraParams'];_0x41bcaa['length']=-0xb7*-0x25+0x160a+0x3079*-0x1,_0x41bcaa[-0x2068+0xb73*-0x1+-0x6d*-0x67]=0x144+-0x1557+0x1413,_0x41bcaa[0x13*-0x81+0x1*-0xc5f+0x15f3]=_0x2c991a['shadowCame'+'ra']['_farClip'],_0x41bcaa[-0x10ac+-0xfea+-0x8*-0x413]=_0x2c991a['shadowCame'+'ra']['_nearClip'],_0x41bcaa[0x1*0xbee+-0x1002+0x417]=-0x44d*-0x3+0x1681+-0x2367*0x1,this['lightCamer'+'aParamsId'][_0x17efde]['setValue'](_0x41bcaa);const _0x20a38a=_0x29e063['_shadowRen'+'derParams'];_0x20a38a['length']=-0xf19+-0x1*-0x1024+0x107*-0x1,_0x20a38a[-0xd91+0x1020+-0x28f]=_0x29e063['_shadowRes'+'olution'],_0x20a38a[0x1*-0x223e+-0x112b+0x336a]=_0x20304b['normalBias'],_0x20a38a[-0xff7*0x2+0x576+0x1a7a]=_0x20304b['bias'],_0x20a38a[0xed*0x10+0xcb4+-0x1b81]=0x1*-0x12ca+-0xcd0+-0x329*-0xa,this['lightShado'+'wParamsId'][_0x17efde]['setValue'](_0x20a38a);}_0x17efde++;}return _0x17efde;}['setLTCPosi'+'tionalLigh'+'t'](_0x3e3cbf,_0x89f8c5){const _0x1e116f=_0x3e3cbf['transformV'+'ector'](new T(-(-0x134a+-0xf12+0x225c*0x1+0.5),-0xc43+-0x1*0x1521+0x2164,0x1*0x1d23+-0xe18+-0xf0b));this['lightWidth'][_0x89f8c5][0x1da9+-0x5db*-0x6+-0x369*0x13]=_0x1e116f['x'],this['lightWidth'][_0x89f8c5][-0xe63+0x169d+-0x1a5*0x5]=_0x1e116f['y'],this['lightWidth'][_0x89f8c5][-0x2*-0x1198+0x1f0d+0x1*-0x423b]=_0x1e116f['z'],this['lightWidth'+'Id'][_0x89f8c5]['setValue'](this['lightWidth'][_0x89f8c5]);const _0x536f3e=_0x3e3cbf['transformV'+'ector'](new T(-0x135c+-0xfb3*-0x1+0x1*0x3a9,-0x3*-0x432+0x11*-0x16a+0xb74,-0x979*0x4+-0x1*-0x109e+0x7*0x30a+0.5));this['lightHeigh'+'t'][_0x89f8c5][0x245*0x9+-0x131*0x1b+-0x1*-0xbbe]=_0x536f3e['x'],this['lightHeigh'+'t'][_0x89f8c5][-0x1496+0x702+0xd95]=_0x536f3e['y'],this['lightHeigh'+'t'][_0x89f8c5][0x4e1*-0x7+0x5*-0x6d3+-0x5c*-0xbe]=_0x536f3e['z'],this['lightHeigh'+'tId'][_0x89f8c5]['setValue'](this['lightHeigh'+'t'][_0x89f8c5]);}['dispatchOm'+'niLight'](_0x4d8609,_0x5caaa3,_0x24d869){const _0x4daca4=_0x5caaa3['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x24d869]||this['_resolveLi'+'ght'](_0x4d8609,_0x24d869),this['lightRadiu'+'sId'][_0x24d869]['setValue'](_0x5caaa3['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x24d869]['setValue'](_0x5caaa3['_colorLine'+'ar']),_0x4daca4['getTransla'+'tion'](_0x5caaa3['_position']),this['lightPos'][_0x24d869][0x263c+-0xb3*-0x22+0x3e02*-0x1]=_0x5caaa3['_position']['x'],this['lightPos'][_0x24d869][-0x6*0x26f+0x2*0x71+-0x1*-0xdb9]=_0x5caaa3['_position']['y'],this['lightPos'][_0x24d869][0x1*-0x1b05+0x1921+0x1e6]=_0x5caaa3['_position']['z'],this['lightPosId'][_0x24d869]['setValue'](this['lightPos'][_0x24d869]),_0x5caaa3['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x4daca4,_0x24d869),_0x5caaa3['castShadow'+'s']){const _0x3c3617=_0x5caaa3['getRenderD'+'ata'](null,0x1d12+-0x51*0x1+-0x1cc1);this['lightShado'+'wMapId'][_0x24d869]['setValue'](_0x3c3617['shadowBuff'+'er']);const _0x57166d=_0x5caaa3['_getUnifor'+'mBiasValue'+'s'](_0x3c3617),_0x15ddff=_0x5caaa3['_shadowRen'+'derParams'];_0x15ddff['length']=0x1087+-0x144a+0x3c7,_0x15ddff[0x1f3*-0x10+0x11ad+-0x1*-0xd83]=_0x5caaa3['_shadowRes'+'olution'],_0x15ddff[0x2*0x55d+0x21af+-0x2c68]=_0x57166d['normalBias'],_0x15ddff[0x16*0xc7+-0x8*0x320+0x7e8]=_0x57166d['bias'],_0x15ddff[-0x18f+0x3f*0x6d+0x1af*-0xf]=(-0x174c*0x1+0x16*-0x159+0x34f3)/_0x5caaa3['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x24d869]['setValue'](_0x15ddff),this['lightShado'+'wIntensity'][_0x24d869]['setValue'](_0x5caaa3['shadowInte'+'nsity']);const _0x538e38=_0x5caaa3['penumbraSi'+'ze']/_0x3c3617['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x24d869]['setValue'](_0x538e38);const _0x41f493=_0x5caaa3['_shadowCam'+'eraParams'];_0x41f493['length']=0x1*-0x23a2+-0x1*0x5d9+0x1*0x297f,_0x41f493[-0x2504+-0xa*0x305+0x4336]=0x7b3*0x5+0x1*0x1e5f+-0x6e3*0xa,_0x41f493[0x1877+-0x1*0x103d+0x839*-0x1]=_0x3c3617['shadowCame'+'ra']['_farClip'],_0x41f493[-0xd69*-0x1+0x16eb+-0x2452]=_0x3c3617['shadowCame'+'ra']['_nearClip'],_0x41f493[-0x7f6+0x3d7*-0x4+0x1755]=0x1a5b+0xd1*0x2+-0x1bfd,this['lightCamer'+'aParamsId'][_0x24d869]['setValue'](_0x41f493);}_0x5caaa3['_cookie']&&(this['lightCooki'+'eId'][_0x24d869]['setValue'](_0x5caaa3['_cookie']),this['lightShado'+'wMatrixId'][_0x24d869]['setValue'](_0x4daca4['data']),this['lightCooki'+'eIntId'][_0x24d869]['setValue'](_0x5caaa3['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x567ab3,_0x24c9d3,_0xfe3a1b){const _0x4bef8e=_0x24c9d3['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0xfe3a1b]||this['_resolveLi'+'ght'](_0x567ab3,_0xfe3a1b),this['lightInAng'+'leId'][_0xfe3a1b]['setValue'](_0x24c9d3['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0xfe3a1b]['setValue'](_0x24c9d3['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0xfe3a1b]['setValue'](_0x24c9d3['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0xfe3a1b]['setValue'](_0x24c9d3['_colorLine'+'ar']),_0x4bef8e['getTransla'+'tion'](_0x24c9d3['_position']),this['lightPos'][_0xfe3a1b][0xdb9+-0x219b+-0x9f1*-0x2]=_0x24c9d3['_position']['x'],this['lightPos'][_0xfe3a1b][0xa04+-0xc3a*0x1+0x1*0x237]=_0x24c9d3['_position']['y'],this['lightPos'][_0xfe3a1b][0x2308+0x2fa+0x2600*-0x1]=_0x24c9d3['_position']['z'],this['lightPosId'][_0xfe3a1b]['setValue'](this['lightPos'][_0xfe3a1b]),_0x24c9d3['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x4bef8e,_0xfe3a1b),_0x4bef8e['getY'](_0x24c9d3['_direction'])['mulScalar'](-(0x8cb+-0x1*-0x10d+-0x9d7)),_0x24c9d3['_direction']['normalize'](),this['lightDir'][_0xfe3a1b][0x1*-0x1723+-0x4e1*-0x1+-0x39*-0x52]=_0x24c9d3['_direction']['x'],this['lightDir'][_0xfe3a1b][0x14c5+-0x1009+-0x4bb]=_0x24c9d3['_direction']['y'],this['lightDir'][_0xfe3a1b][-0x3d3+-0x1c60+0x1e5*0x11]=_0x24c9d3['_direction']['z'],this['lightDirId'][_0xfe3a1b]['setValue'](this['lightDir'][_0xfe3a1b]),_0x24c9d3['castShadow'+'s']){const _0x177ce7=_0x24c9d3['getRenderD'+'ata'](null,-0x22c5*0x1+0x54c+0x1d79);this['lightShado'+'wMapId'][_0xfe3a1b]['setValue'](_0x177ce7['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0xfe3a1b]['setValue'](_0x177ce7['shadowMatr'+'ix']['data']);const _0x113681=_0x24c9d3['_getUnifor'+'mBiasValue'+'s'](_0x177ce7),_0x37751c=_0x24c9d3['_shadowRen'+'derParams'];_0x37751c['length']=-0xe7d*-0x1+-0x2*-0x160+-0x1*0x1139,_0x37751c[-0x1e18+-0x26a2+0x1cf*0x26]=_0x24c9d3['_shadowRes'+'olution'],_0x37751c[-0x1*-0xb5f+-0x19*-0x10a+-0x5*0x778]=_0x113681['normalBias'],_0x37751c[0x1*0x1683+-0x2*-0xa49+-0x2b13]=_0x113681['bias'],_0x37751c[0x11*0x89+0x659+-0xf6f]=(0x1*0x642+0xb43+-0x1184)/_0x24c9d3['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0xfe3a1b]['setValue'](_0x37751c),this['lightShado'+'wIntensity'][_0xfe3a1b]['setValue'](_0x24c9d3['shadowInte'+'nsity']);const _0x54d7f8=_0x24c9d3['penumbraSi'+'ze']/_0x177ce7['shadowCame'+'ra']['renderTarg'+'et']['width'],_0xc3f636=_0x177ce7['shadowCame'+'ra']['_fov']*Math['PI']/(-0x10c4*-0x1+-0x121*-0x1a+-0x2d6a),_0x3e0670=(0x1*0x22d6+0x1*-0x189b+-0xa3a)/Math['tan'](_0xc3f636/(0x1441+0x1a8+0x10b*-0x15));this['lightShado'+'wSearchAre'+'aId'][_0xfe3a1b]['setValue'](_0x54d7f8*_0x3e0670);const _0xe7737f=_0x24c9d3['_shadowCam'+'eraParams'];_0xe7737f['length']=0x382+0x5c1*-0x2+0x804,_0xe7737f[-0x19eb*0x1+-0x1d59+0x20c*0x1b]=0x5b4+0x1306+-0x4f2*0x5,_0xe7737f[0xc*0x26a+-0x1*0x204a+-0x353*-0x1]=_0x177ce7['shadowCame'+'ra']['_farClip'],_0xe7737f[-0x2d2*0x2+-0x1bcc+0x2172]=_0x177ce7['shadowCame'+'ra']['_nearClip'],_0xe7737f[0x7*0x1fd+0x1099+-0x1e81]=-0x1a5f+-0x37*-0x53+-0x88a*-0x1,this['lightCamer'+'aParamsId'][_0xfe3a1b]['setValue'](_0xe7737f);}if(_0x24c9d3['_cookie']){if(!_0x24c9d3['castShadow'+'s']){const _0x151680=Ma['evalSpotCo'+'okieMatrix'](_0x24c9d3);this['lightShado'+'wMatrixId'][_0xfe3a1b]['setValue'](_0x151680['data']);}this['lightCooki'+'eId'][_0xfe3a1b]['setValue'](_0x24c9d3['_cookie']),this['lightCooki'+'eIntId'][_0xfe3a1b]['setValue'](_0x24c9d3['cookieInte'+'nsity']),_0x24c9d3['_cookieTra'+'nsform']&&(_0x24c9d3['_cookieTra'+'nsformUnif'+'orm'][0x4*0x1c8+-0x1a91+0x1371]=_0x24c9d3['_cookieTra'+'nsform']['x'],_0x24c9d3['_cookieTra'+'nsformUnif'+'orm'][-0xc3d+0x1144+-0x506]=_0x24c9d3['_cookieTra'+'nsform']['y'],_0x24c9d3['_cookieTra'+'nsformUnif'+'orm'][-0x3*0x76+-0x2219+-0x5*-0x719]=_0x24c9d3['_cookieTra'+'nsform']['z'],_0x24c9d3['_cookieTra'+'nsformUnif'+'orm'][-0x607*0x5+-0x276+0x2*0x104e]=_0x24c9d3['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0xfe3a1b]['setValue'](_0x24c9d3['_cookieTra'+'nsformUnif'+'orm']),_0x24c9d3['_cookieOff'+'setUniform'][-0x252c+0x1e16+0x716]=_0x24c9d3['_cookieOff'+'set']['x'],_0x24c9d3['_cookieOff'+'setUniform'][-0x1a90+0x1*0x26e8+-0xc57]=_0x24c9d3['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0xfe3a1b]['setValue'](_0x24c9d3['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x53d5ee,_0x37940e,_0x565fc7){let _0xb81c98=_0x565fc7;const _0x2e63c0=this['device']['scope'],_0x132d2b=_0x53d5ee[Pe],_0x1cea3b=_0x132d2b['length'];for(let _0x4f9735=0x1a20+0x71e*-0x3+-0x4c6;_0x4f9735<_0x1cea3b;_0x4f9735++){const _0x251e29=_0x132d2b[_0x4f9735];_0x251e29['mask']&_0x37940e&&(this['dispatchOm'+'niLight'](_0x2e63c0,_0x251e29,_0xb81c98),_0xb81c98++);}const _0x1e8ae3=_0x53d5ee[Re],_0x2e17dc=_0x1e8ae3['length'];for(let _0x5c49f2=0x7be+0x1*0x23e9+-0x4b*0x95;_0x5c49f2<_0x2e17dc;_0x5c49f2++){const _0x1b04fa=_0x1e8ae3[_0x5c49f2];_0x1b04fa['mask']&_0x37940e&&(this['dispatchSp'+'otLight'](_0x2e63c0,_0x1b04fa,_0xb81c98),_0xb81c98++);}}['renderForw'+'ardPrepare'+'Materials'](_0x3b6458,_0x5332d7,_0x59c68d,_0x3d0122,_0x19175d,_0x55f0cb){const _0x135d92=_0x3b6458['fog']??this['scene']['fog'],_0x4c1291=_0x3b6458['shaderPara'+'ms'];_0x4c1291['fog']=_0x135d92['type'],_0x4c1291['srgbRender'+'Target']=(_0x5332d7==null?void(-0x14b*0x17+-0x11a2*0x1+0x2f5f):_0x5332d7['isColorBuf'+'ferSrgb'](-0x125*-0x5+0x1f4a+0x767*-0x5))??!(0x2*-0xfc2+-0x1768+0x36ed);const _0x8ccbd1=(_0x2cb2b8,_0x5d34a4,_0x35bbca,_0x451eed)=>{br['drawCalls']['push'](_0x2cb2b8),br['shaderInst'+'ances']['push'](_0x5d34a4),br['isNewMater'+'ial']['push'](_0x35bbca),br['lightMaskC'+'hanged']['push'](_0x451eed);};br['clear']();const _0x123448=this['device'],_0x31adb6=this['scene'],_0x1ad39c=_0x31adb6['clusteredL'+'ightingEna'+'bled'],_0x20b1b6=(_0x19175d==null?void(-0x5e*-0x4a+0x219+-0x1*0x1d45):_0x19175d['getLightHa'+'sh'](_0x1ad39c))??0xcbd+-0x2344+0x1687*0x1;let _0x3ea08f=null,_0x28ebc8,_0xd55f85;const _0xc61e5a=_0x59c68d['length'];for(let _0x472716=0x185+-0x173*-0x14+-0x1e81;_0x472716<_0xc61e5a;_0x472716++){const _0x6ab313=_0x59c68d[_0x472716];if(_0x3b6458===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x19175d){if(_0x19175d['_skipRende'+'rCounter']>=_0x19175d['skipRender'+'After'])continue;_0x19175d['_skipRende'+'rCounter']++;}_0x6ab313['ensureMate'+'rial'](_0x123448);const _0x20d44b=_0x6ab313['material'],_0x415d3c=_0x6ab313['_shaderDef'+'s'],_0x1aa45e=_0x6ab313['mask'];_0x20d44b&&_0x20d44b===_0x3ea08f&&_0x415d3c!==_0x28ebc8&&(_0x3ea08f=null),_0x20d44b!==_0x3ea08f&&(this['_materialS'+'witches']++,_0x20d44b['_scene']=_0x31adb6,_0x20d44b['dirty']&&(G['pushGpuMar'+'ker'](_0x123448,'Node:\x20'+_0x6ab313['node']['name']+(',\x20Material'+':\x20')+_0x20d44b['name']),_0x20d44b['updateUnif'+'orms'](_0x123448,_0x31adb6),_0x20d44b['dirty']=!(0x595+0xeef*-0x1+0x95b),G['popGpuMark'+'er'](_0x123448)));const _0x535a6f=_0x6ab313['getShaderI'+'nstance'](_0x55f0cb,_0x20b1b6,_0x31adb6,_0x4c1291,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x3d0122);_0x8ccbd1(_0x6ab313,_0x535a6f,_0x20d44b!==_0x3ea08f,!_0x3ea08f||_0x1aa45e!==_0xd55f85),_0x3ea08f=_0x20d44b,_0x28ebc8=_0x415d3c,_0xd55f85=_0x1aa45e;}return br;}['renderForw'+'ardInterna'+'l'](_0x2f3e99,_0x283e2d,_0x117236,_0x5915f5,_0x38348d,_0x3202c5){const _0xde94ea=this['device'],_0x36ed96=this['scene'],_0x18fcc9=0x171*0x19+-0x5a6+0xf31*-0x2<<_0x5915f5,_0x327356=_0x3202c5?-(-0x5*0x57e+0x17*0x1ab+-0x5a*0x1f):-0xb1b*-0x1+0x13ed+-0x1f07,_0x24b2da=_0x36ed96['clusteredL'+'ightingEna'+'bled'],_0x487122=_0x283e2d['drawCalls']['length'];for(let _0x1cb000=-0x1*-0xbfb+0x1*-0x257d+0xcc1*0x2;_0x1cb000<_0x487122;_0x1cb000++){const _0x54e831=_0x283e2d['drawCalls'][_0x1cb000],_0x461dad=_0x283e2d['isNewMater'+'ial'][_0x1cb000],_0x1457c8=_0x283e2d['lightMaskC'+'hanged'][_0x1cb000],_0x1bad33=_0x283e2d['shaderInst'+'ances'][_0x1cb000],_0x22866f=_0x54e831['material'],_0x306cc8=_0x54e831['mask'];if(_0x461dad){if(_0xde94ea['setShader'](_0x1bad33['shader'],!(-0x167f+-0x1c65+0x32e5)),_0x22866f['setParamet'+'ers'](_0xde94ea),_0x1457c8){const _0x1c24e9=this['dispatchDi'+'rectLights'](_0x117236[oe],_0x306cc8,_0x2f3e99);_0x24b2da||this['dispatchLo'+'calLights'](_0x117236,_0x306cc8,_0x1c24e9);}this['alphaTestI'+'d']['setValue'](_0x22866f['alphaTest']),_0xde94ea['setBlendSt'+'ate'](_0x22866f['blendState']),_0xde94ea['setDepthSt'+'ate'](_0x22866f['depthState']),_0xde94ea['setAlphaTo'+'Coverage'](_0x22866f['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0xde94ea,'Node:\x20'+_0x54e831['node']['name']+(',\x20Material'+':\x20')+_0x22866f['name']),this['setupCullM'+'ode'](_0x2f3e99['_cullFaces'],_0x327356,_0x54e831);const _0x1e2a55=_0x54e831['stencilFro'+'nt']??_0x22866f['stencilFro'+'nt'],_0x1e1ee1=_0x54e831['stencilBac'+'k']??_0x22866f['stencilBac'+'k'];_0xde94ea['setStencil'+'State'](_0x1e2a55,_0x1e1ee1),_0x54e831['setParamet'+'ers'](_0xde94ea,_0x18fcc9),_0xde94ea['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x54e831['id']);const _0x1968ad=_0x54e831['mesh'];this['setVertexB'+'uffers'](_0xde94ea,_0x1968ad),this['setMorphin'+'g'](_0xde94ea,_0x54e831['morphInsta'+'nce']),this['setSkinnin'+'g'](_0xde94ea,_0x54e831),this['setupMeshU'+'niformBuff'+'ers'](_0x1bad33,_0x54e831);const _0xbbc9a3=_0x54e831['renderStyl'+'e'];if(_0xde94ea['setIndexBu'+'ffer'](_0x1968ad['indexBuffe'+'r'][_0xbbc9a3]),_0x38348d==null||_0x38348d(_0x54e831,_0x1cb000),_0x2f3e99['xr']&&_0x2f3e99['xr']['session']&&_0x2f3e99['xr']['views']['list']['length']){const _0x223afa=_0x2f3e99['xr']['views'];for(let _0x1f6944=0x3ee*-0x6+0x1872+-0xde;_0x1f6944<_0x223afa['list']['length'];_0x1f6944++){const _0x43bb26=_0x223afa['list'][_0x1f6944];_0xde94ea['setViewpor'+'t'](_0x43bb26['viewport']['x'],_0x43bb26['viewport']['y'],_0x43bb26['viewport']['z'],_0x43bb26['viewport']['w']),this['projId']['setValue'](_0x43bb26['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x43bb26['projMat']['data']),this['viewId']['setValue'](_0x43bb26['viewOffMat']['data']),this['viewInvId']['setValue'](_0x43bb26['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x43bb26['viewMat3']['data']),this['viewProjId']['setValue'](_0x43bb26['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x43bb26['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x1f6944),_0x1f6944===0xb*-0x25a+-0xf*0xc3+0x254b?this['drawInstan'+'ce'](_0xde94ea,_0x54e831,_0x1968ad,_0xbbc9a3,!(0x1b4d+-0x4*0x433+-0x1*0xa81)):this['drawInstan'+'ce2'](_0xde94ea,_0x54e831,_0x1968ad,_0xbbc9a3),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0xde94ea,_0x54e831,_0x1968ad,_0xbbc9a3,!(-0x2*-0xd7+0x23f+-0x3ed)),this['_forwardDr'+'awCalls']++;_0x1cb000<_0x487122-(-0x1504+0xa42*-0x1+0x9d*0x33)&&!_0x283e2d['isNewMater'+'ial'][_0x1cb000+(-0x2*-0xd8b+0x3*-0x27c+0x43*-0x4b)]&&_0x22866f['setParamet'+'ers'](_0xde94ea,_0x54e831['parameters']),G['popGpuMark'+'er'](_0xde94ea);}}['renderForw'+'ard'](_0x5e0907,_0xf45c97,_0x4aa286,_0x4b37d3,_0xf20818,_0x27c618,_0x1360ec,_0x4e09ba){const _0x3497bc=ne(),_0x5d0bc7=this['renderForw'+'ardPrepare'+'Materials'](_0x5e0907,_0xf45c97,_0x4aa286,_0x4b37d3,_0x1360ec,_0xf20818);this['renderForw'+'ardInterna'+'l'](_0x5e0907,_0x5d0bc7,_0x4b37d3,_0xf20818,_0x27c618,_0x4e09ba),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x3497bc;}['renderForw'+'ardLayer'](_0x34f30c,_0x228522,_0x2978f7,_0x25e8b9,_0x3f1096,_0x477713,_0x47cd34={}){const {scene:_0x91afd7,device:_0x321959}=this,_0x544e6d=_0x91afd7['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x34f30c,_0x228522);let _0x151963,_0x488dd8;if(_0x2978f7){const _0x5baf74=ne();_0x2978f7['sortVisibl'+'e'](_0x34f30c,_0x25e8b9),this['_sortTime']+=ne()-_0x5baf74;const _0x5491e8=_0x2978f7['getCulledI'+'nstances'](_0x34f30c);_0x151963=_0x25e8b9?_0x5491e8['transparen'+'t']:_0x5491e8['opaque'],_0x91afd7['immediate']['onPreRende'+'rLayer'](_0x2978f7,_0x151963,_0x25e8b9),_0x2978f7['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x91afd7['ambientLig'+'ht'],_0x2978f7['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x488dd8=_0x2978f7['splitLight'+'s'];}else _0x151963=_0x47cd34['meshInstan'+'ces'],_0x488dd8=_0x47cd34['splitLight'+'s']??OM;if(v['assert'](_0x151963,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x544e6d){const _0x4cf898=_0x47cd34['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x4cf898['activate'](),_0x2978f7&&!this['clustersDe'+'bugRendere'+'d']&&_0x91afd7['lighting']['debugLayer']===_0x2978f7['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x301*0x4+-0x1a07+-0x1*-0x260b),Vu['render'](_0x4cf898,this['scene']));}_0x91afd7['_activeCam'+'era']=_0x34f30c;const _0x28708e=_0x34f30c['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x28708e);const _0x340211=this['setCameraU'+'niforms'](_0x34f30c,_0x228522);_0x321959['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x477713,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x340211);const _0x310736=_0x47cd34['clearColor']??!(-0x13*0x10b+-0x1*-0x200a+-0x11*0xb8),_0x1415f6=_0x47cd34['clearDepth']??!(0x1*0x92f+0xa4+-0x6*0x1a3),_0x4542c3=_0x47cd34['clearStenc'+'il']??!(0x1*-0x113f+0x25*-0xd5+0x3009);(_0x310736||_0x1415f6||_0x4542c3)&&this['clear'](_0x34f30c,_0x310736,_0x1415f6,_0x4542c3);const _0xf9c9b=!!(_0x34f30c['_flipFaces']^(_0x228522==null?void(0x1c56+0x2*0x912+-0x2e7a):_0x228522['flipY'])),_0x1703f0=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x34f30c,_0x228522,_0x151963,_0x488dd8,_0x3f1096,null,_0x2978f7,_0xf9c9b),_0x2978f7&&(_0x2978f7['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x1703f0);}['setFogCons'+'tants'](_0x42eea3){if(_0x42eea3['type']!==Fa){Wi['linear'](_0x42eea3['color']);const _0x30e951=this['fogColor'];_0x30e951[-0x1ca6+0x107a+-0x1*-0xc2c]=Wi['r'],_0x30e951[-0x4*-0x308+0x4c3*-0x3+0x22a]=Wi['g'],_0x30e951[0xbce+-0x1ef6+0x132a]=Wi['b'],this['fogColorId']['setValue'](_0x30e951),_0x42eea3['type']===zb?(this['fogStartId']['setValue'](_0x42eea3['start']),this['fogEndId']['setValue'](_0x42eea3['end'])):this['fogDensity'+'Id']['setValue'](_0x42eea3['density']);}}['setSceneCo'+'nstants'](){const _0x1fc43d=this['scene'];this['dispatchGl'+'obalLights'](_0x1fc43d);const _0x569703=this['device'];this['_screenSiz'+'e'][0x1*-0x3f8+0x9f+0x1*0x359]=_0x569703['width'],this['_screenSiz'+'e'][0x7*0x23+0x23fb+-0x24ef]=_0x569703['height'],this['_screenSiz'+'e'][0x1*-0x945+0x186a+-0x5*0x307]=(-0xe77*0x1+-0x1c10+0x2a88)/_0x569703['width'],this['_screenSiz'+'e'][-0x1*-0x2de+-0x128b+0xfb0]=(-0x1*-0x1269+-0x110b+0x15d*-0x1)/_0x569703['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x4b7583,_0x14f48d){const _0x4b9ff3=this['scene'];if(_0x4b7583['reset'](),_0x4b9ff3['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x4c3941,cookiesEnabled:_0x4cd76d}=_0x4b9ff3['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x4b7583,_0x4c3941,_0x4cd76d,this['lights'],this['localLight'+'s']),_0x4b7583['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x4b7583,this['localLight'+'s']);let _0x2dde26=0x21a6+-0x1fd1+-0x7*0x43,_0x5aedd0=!(-0x17bd+-0x435*0x2+0x2027),_0x1faeae=null;const _0x4c7417=_0x14f48d['_renderAct'+'ions'];for(let _0x2b6254=_0x2dde26;_0x2b6254<_0x4c7417['length'];_0x2b6254++){const _0x38e450=_0x4c7417[_0x2b6254],{layer:_0x33aa73,camera:_0x4eaec5}=_0x38e450;if(_0x38e450['useCameraP'+'asses'])v['call'](()=>{_0x4eaec5['postEffect'+'s']['effects']['length']>-0x129d+0x1d*0xa6+-0x31&&v['warnOnce']('Camera\x20\x27'+_0x4eaec5['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x4eaec5['camera']['renderPass'+'es']['forEach'](_0x490fa6=>{_0x4b7583['addRenderP'+'ass'](_0x490fa6);});else{const _0x3fec4a=_0x33aa73['id']===Xt,_0x318dfa=_0x3fec4a&&(_0x4eaec5['renderScen'+'eColorMap']||_0x4eaec5['renderScen'+'eDepthMap']);_0x5aedd0&&(_0x5aedd0=!(0x3*0x562+-0x10a*0x1+0xf1b*-0x1),_0x2dde26=_0x2b6254,_0x1faeae=_0x38e450['renderTarg'+'et']);const _0x579061=_0x4c7417[_0x2b6254+(-0x1047*-0x1+-0x1f79+-0x1*-0xf33)],_0x2e52b7=(_0x579061?!_0x579061['useCameraP'+'asses']&&_0x579061['layer']['id']===Xt:!(-0x1c30+-0xc9*-0x1b+0x6fe))&&(_0x4eaec5['renderScen'+'eColorMap']||_0x4eaec5['renderScen'+'eDepthMap']),_0xc10344=_0x579061?_0x579061['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x579061['camera']['camera']):!(0x9f5+-0x3e*-0x1+0x12*-0x91);if(!_0x579061||_0x579061['renderTarg'+'et']!==_0x1faeae||_0xc10344||_0x2e52b7||_0x318dfa){if(_0x3fec4a&&_0x2dde26===_0x2b6254||this['addMainRen'+'derPass'](_0x4b7583,_0x14f48d,_0x1faeae,_0x2dde26,_0x2b6254),_0x3fec4a){if(_0x4eaec5['renderScen'+'eColorMap']){const _0x1e1162=_0x4eaec5['camera']['renderPass'+'ColorGrab'];_0x1e1162['source']=_0x4eaec5['renderTarg'+'et'],_0x4b7583['addRenderP'+'ass'](_0x1e1162);}_0x4eaec5['renderScen'+'eDepthMap']&&_0x4b7583['addRenderP'+'ass'](_0x4eaec5['camera']['renderPass'+'DepthGrab']);}if(_0x38e450['triggerPos'+'tprocess']&&(_0x4eaec5!=null&&_0x4eaec5['onPostproc'+'essing'])){const _0x1a6f8b=new FM(this['device'],this,_0x38e450);_0x4b7583['addRenderP'+'ass'](_0x1a6f8b);}_0x5aedd0=!(-0x1*-0x24fa+0x1*0x232c+-0x4826*0x1);}}}}['addMainRen'+'derPass'](_0x1cff44,_0x208c8e,_0x417f0d,_0xefe2cc,_0x55fc68){const _0x3c8091=new LM(this['device'],_0x208c8e,this['scene'],this);_0x3c8091['init'](_0x417f0d);const _0x5b67f1=_0x208c8e['_renderAct'+'ions'];for(let _0x4acf57=_0xefe2cc;_0x4acf57<=_0x55fc68;_0x4acf57++)_0x3c8091['addRenderA'+'ction'](_0x5b67f1[_0x4acf57]);_0x1cff44['addRenderP'+'ass'](_0x3c8091);}['update'](_0x546761){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x546761),this['collectLig'+'hts'](_0x546761),this['beginFrame'](_0x546761),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x546761),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0x55d+-0x1c86+0x1729),c(_i,'skipRender'+'After',-0x1653+0x9cb+-0xc88*-0x1);let Gh=_i,zd=0x2e0*0x1+0x27*-0x2f+-0x1*-0x449;const ja=[],Ol=new Set();function NM(_0x110c05,_0x20fdc1){return _0x110c05['drawOrder']-_0x20fdc1['drawOrder'];}function zM(_0x5dc931,_0x1200f8){const _0x2e5fa1=_0x5dc931['_key'][Ei],_0xd6835c=_0x1200f8['_key'][Ei];return _0x2e5fa1===_0xd6835c&&_0x5dc931['mesh']&&_0x1200f8['mesh']?_0x1200f8['mesh']['id']-_0x5dc931['mesh']['id']:_0xd6835c-_0x2e5fa1;}function UM(_0x4e7800,_0x1b7354){return _0x1b7354['zdist']-_0x4e7800['zdist'];}function VM(_0xd9aa06,_0x57f2cc){return _0xd9aa06['zdist']-_0x57f2cc['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x45ea37={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(-0x1*-0xca1+0x1aff*-0x1+0xe5e)),c(this,'requiresLi'+'ghtCube',!(0x792+0x9bd+-0x5*0x376)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(0x9b5+-0x26e+-0x746)),(_0x45ea37['id']!==void(0x27a+0x1e7+0x1*-0x461)?(this['id']=_0x45ea37['id'],zd=Math['max'](this['id']+(0x61*-0x26+-0x1*-0x10bf+-0x1e*0x14),zd)):this['id']=zd++,this['name']=_0x45ea37['name'],this['_enabled']=_0x45ea37['enabled']??!(0x3*-0x3c7+-0x21a8+0x2cfd*0x1),this['_refCounte'+'r']=this['_enabled']?-0x1f67*0x1+-0x1*0x1279+-0x71*-0x71:-0xa1b*-0x3+0xc04+-0x2a55,this['opaqueSort'+'Mode']=_0x45ea37['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x45ea37['transparen'+'tSortMode']??Bm,_0x45ea37['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x45ea37['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x45ea37['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x45ea37['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x45ea37['clearStenc'+'ilBuffer'],this['onEnable']=_0x45ea37['onEnable'],this['onDisable']=_0x45ea37['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x1a1a+0x61*-0x49+0x18f,this['_lightHash'+'Dirty']=!(-0xb*0x1e5+0x12d1*-0x2+-0x1f3*-0x1e),this['_lightIdHa'+'sh']=-0x1ccf+-0xbe2+0x28b1,this['_lightIdHa'+'shDirty']=!(0x5*0x43c+0xc*-0x17f+-0x337*0x1),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x6d4*-0x4+0x133*-0x1d+0x3e17,this['_renderTim'+'e']=-0xb*-0x1ea+-0x9*0x9f+0x1*-0xf77,this['_forwardDr'+'awCalls']=0x19d5+-0x224b*-0x1+-0x3c20,this['_shadowDra'+'wCalls']=-0x1a82*0x1+-0x19a9+0x342b,this['_shaderVer'+'sion']=-(0x2*-0xbed+0x5*0x145+0xa6*0x1b));}set['enabled'](_0xb9d7e3){_0xb9d7e3!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x36c+-0xffc+0xc90),this['_enabled']=_0xb9d7e3,_0xb9d7e3?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x363597){this['_clearColo'+'rBuffer']=_0x363597,this['_dirtyComp'+'osition']=!(0x6a1*0x1+0x44*-0x83+0x1*0x1c2b);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x1eee3e){this['_clearDept'+'hBuffer']=_0x1eee3e,this['_dirtyComp'+'osition']=!(0x21a1+0x175b+-0x38fc);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x36d742){this['_clearSten'+'cilBuffer']=_0x36d742,this['_dirtyComp'+'osition']=!(-0x172f+0x238d+-0x1*0xc5e);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x12d4+-0x1fe7+0x32bb;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x4*0x4cf+0x348+0x4*0x3fd&&(this['_enabled']=!(-0x197d*0x1+0xdc0+-0x259*-0x5),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x5e3+-0x17e5+-0x3d*-0x7d)this['_enabled']=!(-0xc1*-0x1b+-0x1*0x22e5+0xe8b),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x16d5*0x1+-0x23ec+-0x3*-0x45d){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x3dd9aa,_0xdb8431){const _0x50ead1=this['meshInstan'+'ces'],_0x22a40a=this['meshInstan'+'cesSet'];for(let _0x1b7414=0xc65+0x13c6+0x225*-0xf;_0x1b7414<_0x3dd9aa['length'];_0x1b7414++){const _0x48c2fb=_0x3dd9aa[_0x1b7414];_0x22a40a['has'](_0x48c2fb)||(_0x50ead1['push'](_0x48c2fb),_0x22a40a['add'](_0x48c2fb),Ol['add'](_0x48c2fb['material']));}if(_0xdb8431||this['addShadowC'+'asters'](_0x3dd9aa),Ol['size']>-0x1a*0xd+-0xeb*-0x1+0x67){const _0x2dd151=this['_shaderVer'+'sion'];Ol['forEach'](_0x35797e=>{_0x2dd151>=0x24a0+0x158b+-0x3a2b*0x1&&_0x35797e['_shaderVer'+'sion']!==_0x2dd151&&(_0x35797e['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x35797e['clearVaria'+'nts'](),_0x35797e['_shaderVer'+'sion']=_0x2dd151);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x3ec4db,_0x375ce7){const _0x5c5f4e=this['meshInstan'+'ces'],_0x57bb89=this['meshInstan'+'cesSet'];for(let _0x456161=-0x1f58+0x2*-0x399+0x2*0x1345;_0x456161<_0x3ec4db['length'];_0x456161++){const _0xf648c2=_0x3ec4db[_0x456161];if(_0x57bb89['has'](_0xf648c2)){_0x57bb89['delete'](_0xf648c2);const _0x4842b5=_0x5c5f4e['indexOf'](_0xf648c2);_0x4842b5>=0x82d+0x13*-0x112+0xc29&&_0x5c5f4e['splice'](_0x4842b5,0xf0*-0x25+0x22ca+0x19*-0x1);}}_0x375ce7||this['removeShad'+'owCasters'](_0x3ec4db);}['addShadowC'+'asters'](_0x341185){const _0x78a524=this['shadowCast'+'ers'],_0x3b3d33=this['shadowCast'+'ersSet'];for(let _0x3b9963=0x1a14+0x1522+-0x2f36;_0x3b9963<_0x341185['length'];_0x3b9963++){const _0x124a10=_0x341185[_0x3b9963];_0x124a10['castShadow']&&!_0x3b3d33['has'](_0x124a10)&&(_0x3b3d33['add'](_0x124a10),_0x78a524['push'](_0x124a10));}}['removeShad'+'owCasters'](_0x2eed5b){const _0x1ed2d8=this['shadowCast'+'ers'],_0x2696f5=this['shadowCast'+'ersSet'];for(let _0x30e885=0x6a*-0x1b+0x653+-0x1*-0x4db;_0x30e885<_0x2eed5b['length'];_0x30e885++){const _0x12434d=_0x2eed5b[_0x30e885];if(_0x2696f5['has'](_0x12434d)){_0x2696f5['delete'](_0x12434d);const _0xbc45dc=_0x1ed2d8['indexOf'](_0x12434d);_0xbc45dc>=-0x2559+-0x218a+-0x315*-0x17&&_0x1ed2d8['splice'](_0xbc45dc,-0x2*0x3fa+0x15fd+-0x1c1*0x8);}}}['clearMeshI'+'nstances'](_0x5516ab=!(0x1a63*0x1+0x11*0x143+0x1*-0x2fd5)){this['meshInstan'+'ces']['length']=0x1*-0xc89+-0xd6f+0x33f*0x8,this['meshInstan'+'cesSet']['clear'](),_0x5516ab||(this['shadowCast'+'ers']['length']=0x1da3+0x2c1*0x8+-0x33ab,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x120c+-0x1*-0x9d+-0x1*-0x116f),this['_lightIdHa'+'shDirty']=!(0x8b+0x2173+-0x21fe),this['_splitLigh'+'tsDirty']=!(0x25b8+0x2547+-0x4aff*0x1);}['hasLight'](_0x5e0705){return this['_lightsSet']['has'](_0x5e0705);}['addLight'](_0x54724f){const _0x3f21a3=_0x54724f['light'];this['_lightsSet']['has'](_0x3f21a3)||(this['_lightsSet']['add'](_0x3f21a3),this['_lights']['push'](_0x3f21a3),this['markLights'+'Dirty']()),_0x3f21a3['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x3f21a3);}['removeLigh'+'t'](_0x484eda){const _0x44a054=_0x484eda['light'];this['_lightsSet']['has'](_0x44a054)&&(this['_lightsSet']['delete'](_0x44a054),this['_lights']['splice'](this['_lights']['indexOf'](_0x44a054),0x16a*0x4+0x839+0x1bc*-0x8),this['markLights'+'Dirty']()),_0x44a054['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x44a054);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x16b21a=>_0x16b21a['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x1edf+0x2*0x367+0x1811,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x23c3*-0x1+0x7*0x55d+0x23*-0xd);const _0x143b8b=this['_splitLigh'+'ts'];for(let _0x450c84=0x5*-0x52d+-0x184a+0x10b9*0x3;_0x450c84<_0x143b8b['length'];_0x450c84++)_0x143b8b[_0x450c84]['length']=-0x214b+0x7*-0x180+0x2bcb;const _0x8aada2=this['_lights'];for(let _0x2e931f=0xc96+-0x6df+-0x5b7;_0x2e931f<_0x8aada2['length'];_0x2e931f++){const _0x402e2c=_0x8aada2[_0x2e931f];_0x402e2c['enabled']&&_0x143b8b[_0x402e2c['_type']]['push'](_0x402e2c);}for(let _0x5aae65=0xaef*-0x1+0x7bb*0x1+-0xa4*-0x5;_0x5aae65<_0x143b8b['length'];_0x5aae65++)_0x143b8b[_0x5aae65]['sort']((_0x144aad,_0x304138)=>_0x144aad['key']-_0x304138['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0xaaeca6,_0x399558,_0x1d4305){let _0xe90de7=0xbf*0x1d+-0x66b+-0xf38;const _0x73275b=this['_lights'];for(let _0x571ce4=0xbb9*0x1+-0xf0*-0x24+0x1*-0x2d79;_0x571ce4<_0x73275b['length'];_0x571ce4++){const _0x348428=_0x73275b[_0x571ce4]['type']!==oe;(_0xaaeca6&&_0x348428||_0x399558&&!_0x348428)&&ja['push'](_0x1d4305?_0x73275b[_0x571ce4]['id']:_0x73275b[_0x571ce4]['key']);}return ja['length']>0x35b*-0x1+-0x1585+0x18e0&&(ja['sort'](),_0xe90de7=Zy(ja),ja['length']=-0x17dd+0x27f+0x446*0x5),_0xe90de7;}['getLightHa'+'sh'](_0x719729){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x959*-0x3+-0x1509+0x3115),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x719729,!(0x7f*-0x13+0x1c21+0x63c*-0x3),!(0x1642+-0x269e*-0x1+-0x3cdf))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0xe*0x171+-0x1dd1+-0x64*-0x80),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x1d*0xfb+0xec9*0x1+-0x2b38),!(-0x1f17+-0x20c9+0x3fe1),!(0xd*0xf7+0x2*0x10f+-0xea9))),this['_lightIdHa'+'sh'];}['addCamera'](_0x35a0bd){this['camerasSet']['has'](_0x35a0bd['camera'])||(this['camerasSet']['add'](_0x35a0bd['camera']),this['cameras']['push'](_0x35a0bd),this['_dirtyComp'+'osition']=!(0x60e+0x1a2a+-0x80e*0x4));}['removeCame'+'ra'](_0x16ea73){if(this['camerasSet']['has'](_0x16ea73['camera'])){this['camerasSet']['delete'](_0x16ea73['camera']);const _0xef2681=this['cameras']['indexOf'](_0x16ea73);this['cameras']['splice'](_0xef2681,0x11ad+-0x266+-0xf46),this['_dirtyComp'+'osition']=!(-0x73e+-0x43c+0xb7a);}}['clearCamer'+'as'](){this['cameras']['length']=0x16c5+-0xbf5*-0x1+-0xfe*0x23,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x11f2+0x16a+0x1088*0x1);}['_calculate'+'SortDistan'+'ces'](_0x271dab,_0x145f41,_0x220300,_0x1f079f){for(let _0x56d8bb=0x3b*0x89+-0x1595+-0x2*0x4ff;_0x56d8bb<_0x145f41;_0x56d8bb++){const _0x363222=_0x271dab[_0x56d8bb];if(_0x363222['layer']<=Vb)continue;if(_0x363222['calculateS'+'ortDistanc'+'e']){_0x363222['zdist']=_0x363222['calculateS'+'ortDistanc'+'e'](_0x363222,_0x220300,_0x1f079f);continue;}const _0x4ba6e8=_0x363222['aabb']['center'],_0x2956fa=_0x4ba6e8['x']-_0x220300['x'],_0x5be54f=_0x4ba6e8['y']-_0x220300['y'],_0x3849f5=_0x4ba6e8['z']-_0x220300['z'];_0x363222['zdist']=_0x2956fa*_0x1f079f['x']+_0x5be54f*_0x1f079f['y']+_0x3849f5*_0x1f079f['z'];}}['getCulledI'+'nstances'](_0xe1c831){let _0x3d271a=this['_visibleIn'+'stances']['get'](_0xe1c831);return _0x3d271a||(_0x3d271a=new HM(),this['_visibleIn'+'stances']['set'](_0xe1c831,_0x3d271a)),_0x3d271a;}['sortVisibl'+'e'](_0x5a567d,_0x3cd763){const _0x503347=_0x3cd763?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x503347===dh)return;const _0x12060c=this['getCulledI'+'nstances'](_0x5a567d),_0x203a88=_0x3cd763?_0x12060c['transparen'+'t']:_0x12060c['opaque'],_0x2ec334=_0x5a567d['node'];if(_0x503347===ew){const _0x2a5f1d=_0x2ec334['getPositio'+'n'](),_0x427160=_0x2ec334['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x203a88,_0x203a88['length'],_0x2a5f1d,_0x427160),this['customSort'+'Callback']&&_0x203a88['sort'](this['customSort'+'Callback']);}else{if(_0x503347===Bm||_0x503347===Jb){const _0x53aa57=_0x2ec334['getPositio'+'n'](),_0x1c69df=_0x2ec334['forward'];this['_calculate'+'SortDistan'+'ces'](_0x203a88,_0x203a88['length'],_0x53aa57,_0x1c69df);}_0x203a88['sort'](GM[_0x503347]);}}}const $M=(_0x5ce897,_0x42e36c)=>_0x5ce897['priority']-_0x42e36c['priority'],No=_0x32c5f8=>_0x32c5f8['sort']($M);class S_ extends ce{constructor(_0x3bfc3a='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(-0x2421+0x20b6+0x36c)),(this['name']=_0x3bfc3a,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x3df50a=>_0x3df50a['destroy']()),this['_renderAct'+'ions']['length']=-0xa3d+0x1a03+-0xfc6;}['_update'](){const _0x1ab9ac=this['layerList']['length'];if(!this['_dirty']){for(let _0x4932c8=0x253d+0xed2*0x1+-0x340f;_0x4932c8<_0x1ab9ac;_0x4932c8++)if(this['layerList'][_0x4932c8]['_dirtyComp'+'osition']){this['_dirty']=!(-0x235*-0x2+0x13b6+-0x1820);break;}}if(this['_dirty']){this['_dirty']=!(0x9*-0x2dc+-0x1*0x13f9+0x2db6),this['cameras']['length']=-0x165c+-0x14*-0x11c+0x16*0x2;for(let _0x15f5ab=-0x94d*-0x3+-0x8b7*0x1+0x133*-0x10;_0x15f5ab<_0x1ab9ac;_0x15f5ab++){const _0x4fda78=this['layerList'][_0x15f5ab];_0x4fda78['_dirtyComp'+'osition']=!(0x3*-0x293+-0x2*0x737+0x58a*0x4);for(let _0x1bbea7=-0xf71*0x1+-0x2cc*0x5+0x1d6d;_0x1bbea7<_0x4fda78['cameras']['length'];_0x1bbea7++){const _0x17958c=_0x4fda78['cameras'][_0x1bbea7];this['cameras']['indexOf'](_0x17958c)<0x1ad3+0xaf0+-0x565*0x7&&this['cameras']['push'](_0x17958c);}}this['cameras']['length']>-0x5*-0x404+0x29d*-0x6+-0x9*0x7d&&No(this['cameras']);let _0x3326c0=-0x3e*-0x56+0x2*0x3c4+-0xdc*0x21;this['destroyRen'+'derActions']();for(let _0x4ac4ec=-0x9da+0x152c*0x1+0xa1*-0x12;_0x4ac4ec<this['cameras']['length'];_0x4ac4ec++){const _0x567c49=this['cameras'][_0x4ac4ec];if(_0x567c49['camera']['renderPass'+'es']['length']>-0xad*-0x2f+0xd8d+-0x190*0x1d){this['addDummyRe'+'nderAction'](_0x3326c0,_0x567c49),_0x3326c0++;continue;}let _0x2d220b=!(-0x1566+-0x2ce+0x1834);const _0x42ee53=_0x3326c0;let _0xe2c4d2=null,_0x3ca594=!(0x9*0x1f+0x1*0x192a+-0x460*0x6);for(let _0x41a843=0x205d+0x4*-0x8e1+0x3*0x10d;_0x41a843<_0x1ab9ac;_0x41a843++){const _0x21e5a8=this['layerList'][_0x41a843];if(_0x21e5a8['enabled']&&this['subLayerEn'+'abled'][_0x41a843]&&_0x21e5a8['cameras']['length']>-0xd8e*-0x2+-0x1301+-0x5*0x19f&&_0x567c49['layers']['indexOf'](_0x21e5a8['id'])>=0x430+0x1f6f*-0x1+0x117*0x19){!_0x3ca594&&_0x21e5a8['id']===_0x567c49['disablePos'+'tEffectsLa'+'yer']&&(_0x3ca594=!(-0xf10+-0x95a+0x186a),_0xe2c4d2&&(_0xe2c4d2['triggerPos'+'tprocess']=!(0x1000+-0x118*-0x1f+0x2*-0x18f4)));const _0x20f962=this['subLayerLi'+'st'][_0x41a843];_0xe2c4d2=this['addRenderA'+'ction'](_0x3326c0,_0x21e5a8,_0x20f962,_0x567c49,_0x2d220b,_0x3ca594),_0x3326c0++,_0x2d220b=!(0xa99*-0x2+-0x1*-0x2645+-0x1112);}}_0x42ee53<_0x3326c0&&(_0xe2c4d2['lastCamera'+'Use']=!(0x11*-0x12b+0x78b*-0x2+0x22f1)),!_0x3ca594&&_0xe2c4d2&&(_0xe2c4d2['triggerPos'+'tprocess']=!(-0x1*0x63c+0x25e6+-0x182*0x15)),_0x567c49['renderTarg'+'et']&&_0x567c49['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x42ee53-(0x3a7+0x31a*0x2+-0x9da),_0x567c49);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x24651a){v['assert'](this['_renderAct'+'ions']['length']===_0x24651a);const _0x56f577=new D0();return this['_renderAct'+'ions']['push'](_0x56f577),_0x56f577;}['addDummyRe'+'nderAction'](_0x46aa82,_0x52e126){const _0x4222fb=this['getNextRen'+'derAction'](_0x46aa82);_0x4222fb['camera']=_0x52e126,_0x4222fb['useCameraP'+'asses']=!(0x4*-0x2f4+-0x36+0xc06);}['addRenderA'+'ction'](_0x293687,_0xff62e7,_0x2cddee,_0x295886,_0x5c6975,_0x5887dc){let _0x4a561e=_0xff62e7['id']!==Xt?_0x295886['renderTarg'+'et']:null,_0x209892=!(-0x143*-0xe+-0x1*0x806+0x1*-0x9a3);const _0x29ed89=this['_renderAct'+'ions'];for(let _0x2ed7f5=_0x293687-(0x1cd0+0x17cc+0x349b*-0x1);_0x2ed7f5>=0x9f*-0x37+-0x1e99+-0x1b*-0x266;_0x2ed7f5--)if(_0x29ed89[_0x2ed7f5]['camera']===_0x295886&&_0x29ed89[_0x2ed7f5]['renderTarg'+'et']===_0x4a561e){_0x209892=!(0xd1f*-0x1+-0x2433+0x3152);break;}_0x5887dc&&_0x295886['postEffect'+'sEnabled']&&(_0x4a561e=null);const _0x186d99=this['getNextRen'+'derAction'](_0x293687);_0x186d99['triggerPos'+'tprocess']=!(0x3ad*-0x1+-0xa2d+0xddb),_0x186d99['layer']=_0xff62e7,_0x186d99['transparen'+'t']=_0x2cddee,_0x186d99['camera']=_0x295886,_0x186d99['renderTarg'+'et']=_0x4a561e,_0x186d99['firstCamer'+'aUse']=_0x5c6975,_0x186d99['lastCamera'+'Use']=!(-0x262f+-0x270+0x28a0);const _0xf257ae=_0x5c6975||!_0x209892,_0x49e024=_0xff62e7['clearColor'+'Buffer']||_0xff62e7['clearDepth'+'Buffer']||_0xff62e7['clearStenc'+'ilBuffer'];return(_0xf257ae||_0x49e024)&&_0x186d99['setupClear'+'s'](_0xf257ae?_0x295886:void(0x18ee+0x3fd+0xb*-0x2a1),_0xff62e7),_0x186d99;}['propagateR'+'enderTarge'+'t'](_0x206110,_0x51b89c){for(let _0x2c5d52=_0x206110;_0x2c5d52>=0x1122*0x2+0x80b+-0x2a4f*0x1;_0x2c5d52--){const _0x4a77ff=this['_renderAct'+'ions'][_0x2c5d52],_0x805c60=_0x4a77ff['layer'];if(_0x4a77ff['renderTarg'+'et']&&_0x805c60['id']!==Xt)break;if(_0x805c60['id']===Xt)continue;if(_0x4a77ff['useCameraP'+'asses'])break;const _0x2cfcae=_0x4a77ff==null?void(0x547+-0x1480+0x513*0x3):_0x4a77ff['camera']['camera'];if(_0x2cfcae&&(!_0x51b89c['camera']['rect']['equals'](_0x2cfcae['rect'])||!_0x51b89c['camera']['scissorRec'+'t']['equals'](_0x2cfcae['scissorRec'+'t'])))break;_0x4a77ff['renderTarg'+'et']=_0x51b89c['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x12dddb=-0x1ab7+-0x5*-0x2ce+0xcb1;_0x12dddb<this['_renderAct'+'ions']['length'];_0x12dddb++){const _0x106077=this['_renderAct'+'ions'][_0x12dddb],_0x3eb17a=_0x106077['camera'];if(_0x106077['useCameraP'+'asses'])v['trace'](pl,_0x12dddb+('CustomPass'+'es\x20Cam:\x20')+(_0x3eb17a?_0x3eb17a['entity']['name']:'-'));else{const _0x330a17=_0x106077['layer'],_0x38cd84=_0x330a17['enabled']&&this['isEnabled'](_0x330a17,_0x106077['transparen'+'t']),_0x3eabb8=(_0x106077['clearColor']?'Color\x20':'.....\x20')+(_0x106077['clearDepth']?'Depth\x20':'.....\x20')+(_0x106077['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x12dddb+('\x20Cam:\x20'+(_0x3eb17a?_0x3eb17a['entity']['name']:'-'))['padEnd'](-0x13*-0x49+0x1909+0x17*-0x152,'\x20')+('\x20Lay:\x20'+_0x330a17['name'])['padEnd'](0x188d*0x1+0x65+0xac*-0x25,'\x20')+(_0x106077['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x38cd84?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x106077['renderTarg'+'et']?_0x106077['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1*0x5fc+-0xf2*0x2+0x7fe,'\x20')+'\x20Clear:\x20'+_0x3eabb8+(_0x106077['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x106077['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x106077['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x548aa2){const _0x136a21=this['layerIdMap']['get'](_0x548aa2['id'])===_0x548aa2;return v['assert'](!_0x136a21,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x548aa2['name']),_0x136a21;}['_isSublaye'+'rAdded'](_0x5616db,_0x3482be){return(_0x3482be?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x5616db)!==void(0x73e+0x19d4+-0x2112)?(v['error']('Sublayer\x20'+_0x5616db['name']+(',\x20transpar'+'ent:\x20')+_0x3482be+('\x20is\x20alread'+'y\x20added.')),!(-0x53b*-0x1+-0x176d+0x1232)):!(0x6*-0x306+0x1*-0xc7d+0x1ea2);}['push'](_0x381064){this['_isLayerAd'+'ded'](_0x381064)||(this['layerList']['push'](_0x381064),this['layerList']['push'](_0x381064),this['_opaqueOrd'+'er'][_0x381064['id']]=this['subLayerLi'+'st']['push'](!(-0x2*0xa63+-0x5fd*-0x2+-0x1*-0x8cd))-(0x7*-0x2ab+0x1*0x2183+-0xed5),this['_transpare'+'ntOrder'][_0x381064['id']]=this['subLayerLi'+'st']['push'](!(-0x681+-0x3d*-0x3c+0x7cb*-0x1))-(-0x20f*0x1+0x778*0x2+-0xce0),this['subLayerEn'+'abled']['push'](!(0x10a5+0x170b+0x7f*-0x50)),this['subLayerEn'+'abled']['push'](!(-0x2*0x3e1+-0x4*0x261+0x1146)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x9d0+-0x52*0x1+-0x97e),this['fire']('add',_0x381064));}['insert'](_0x578a7b,_0x57a68e){if(this['_isLayerAd'+'ded'](_0x578a7b))return;this['layerList']['splice'](_0x57a68e,0x112*-0x1+0x12c3*-0x2+0x2698,_0x578a7b,_0x578a7b),this['subLayerLi'+'st']['splice'](_0x57a68e,0x19*0x19+-0x2*-0x481+-0xb73,!(-0x133*-0x9+0x1a2*-0x5+-0x54*0x8),!(0x165a+0x1b2*0xb+0x4*-0xa40));const _0xed1dac=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x57a68e,_0xed1dac-(-0x2*-0x1157+0x2207+0x44b4*-0x1)),this['_updateTra'+'nsparentOr'+'der'](_0x57a68e,_0xed1dac-(-0x9f+0x1*-0x1445+-0x14e5*-0x1)),this['subLayerEn'+'abled']['splice'](_0x57a68e,0x2434+0x823+-0x2c57,!(-0x1a41+-0xc85+-0x1*-0x26c6),!(-0x1be6+-0x1eee+0x3ad4)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x377+-0x565*0x7+0x293a),this['fire']('add',_0x578a7b);}['remove'](_0x459903){let _0x114322=this['layerList']['indexOf'](_0x459903);for(delete this['_opaqueOrd'+'er'][_0x114322],delete this['_transpare'+'ntOrder'][_0x114322];_0x114322>=-0x1*-0x18c9+0x6*0x211+-0x252f;)this['layerList']['splice'](_0x114322,-0x1eb7+0x249f+-0x5e7),this['subLayerLi'+'st']['splice'](_0x114322,-0x24d1+0x22f7+0x1db*0x1),this['subLayerEn'+'abled']['splice'](_0x114322,0x4a*0x7f+0x14d*-0xe+-0x127f),_0x114322=this['layerList']['indexOf'](_0x459903),this['_dirty']=!(0x19bd+0x86d*0x1+-0x222a),this['fire']('remove',_0x459903);const _0xaa6bba=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x661+0x1a20+-0x2081,_0xaa6bba-(0xe84+-0xe38+0x5*-0xf)),this['_updateTra'+'nsparentOr'+'der'](-0x3*-0x9a5+0x1*-0x171d+-0x5d2,_0xaa6bba-(0x138+-0x1ab*-0x15+-0x243e)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x4d30d9){this['_isSublaye'+'rAdded'](_0x4d30d9,!(0x21d5*-0x1+-0x10a+0x22e0))||(this['layerList']['push'](_0x4d30d9),this['_opaqueOrd'+'er'][_0x4d30d9['id']]=this['subLayerLi'+'st']['push'](!(0x189a*-0x1+-0x1f4a+-0x15d*-0x29))-(0x262a+0x1*-0xacf+-0x1b5a),this['subLayerEn'+'abled']['push'](!(-0xdd5*0x1+-0x7*0x25b+0x1e52)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x4b+-0x94d*-0x1+-0x1*0x998),this['fire']('add',_0x4d30d9));}['insertOpaq'+'ue'](_0x3db50b,_0xc9ec59){if(this['_isSublaye'+'rAdded'](_0x3db50b,!(0x19*-0x1f+0xccd+-0x9c5)))return;this['layerList']['splice'](_0xc9ec59,-0x1d8c+-0x11e7+0x2f73*0x1,_0x3db50b),this['subLayerLi'+'st']['splice'](_0xc9ec59,0x95*0x15+0x7cd+-0x1406,!(0x2c5*0x7+0x1*-0x1ac6+-0x2b*-0x2c));const _0x373513=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0xc9ec59,_0x373513-(-0x5fd+0xd*0x2fd+0x20db*-0x1)),this['subLayerEn'+'abled']['splice'](_0xc9ec59,0xf9*-0x2+0x1f2f*-0x1+0x2121,!(0x1a0a+-0x4*0x47a+-0x822)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1aa2+-0x3*-0x6e9+0x1e5*-0x19),this['fire']('add',_0x3db50b);}['removeOpaq'+'ue'](_0x2897ef){for(let _0x3ff888=-0x4*0xf2+-0x25*0x35+0xb71,_0x377ef8=this['layerList']['length'];_0x3ff888<_0x377ef8;_0x3ff888++)if(this['layerList'][_0x3ff888]===_0x2897ef&&!this['subLayerLi'+'st'][_0x3ff888]){this['layerList']['splice'](_0x3ff888,-0x1*0x849+-0xe31+0x167b),this['subLayerLi'+'st']['splice'](_0x3ff888,-0x23e3+0x1624+-0x6e*-0x20),_0x377ef8--,this['_updateOpa'+'queOrder'](_0x3ff888,_0x377ef8-(-0x2f8+-0x1*-0x737+0x6*-0xb5)),this['subLayerEn'+'abled']['splice'](_0x3ff888,0x2*0x4d6+0x1211+-0x1bbc),this['_dirty']=!(0x1301+0x1cbd+0x7*-0x6d2),this['layerList']['indexOf'](_0x2897ef)<0x1e5b+0x3*0x64d+-0x3142&&this['fire']('remove',_0x2897ef);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x4ac828){this['_isSublaye'+'rAdded'](_0x4ac828,!(-0x99f+0x23fc+-0x11*0x18d))||(this['layerList']['push'](_0x4ac828),this['_transpare'+'ntOrder'][_0x4ac828['id']]=this['subLayerLi'+'st']['push'](!(0x1324+-0xad3+-0x851))-(0x22*0x65+-0x406+-0x963),this['subLayerEn'+'abled']['push'](!(-0x21*0x33+-0x1e3+0x876)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1970+-0x413*-0x4+0x27*0x3c),this['fire']('add',_0x4ac828));}['insertTran'+'sparent'](_0x3919d2,_0x41ff6a){if(this['_isSublaye'+'rAdded'](_0x3919d2,!(-0xa*-0x3a9+0x2*0x1202+-0x34d*0x16)))return;this['layerList']['splice'](_0x41ff6a,-0x9*-0xc4+-0x4*0x530+0xddc,_0x3919d2),this['subLayerLi'+'st']['splice'](_0x41ff6a,0x1f*-0xa1+0x513*-0x1+0x1892,!(-0x1fad+0x2c9*0x5+-0x2*-0x8e0));const _0xf37546=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x41ff6a,_0xf37546-(-0x288*-0xc+-0xa0*0x10+-0x145f)),this['subLayerEn'+'abled']['splice'](_0x41ff6a,-0x1aae+-0x12ae+0x2d5c,!(-0x11d2+-0x1ae1+0x2cb3)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1732+-0x2499+-0x3bcb*-0x1),this['fire']('add',_0x3919d2);}['removeTran'+'sparent'](_0x5c000c){for(let _0x18a1dc=-0xe45*0x2+0x42b*-0x4+0x2d36,_0x4b0a79=this['layerList']['length'];_0x18a1dc<_0x4b0a79;_0x18a1dc++)if(this['layerList'][_0x18a1dc]===_0x5c000c&&this['subLayerLi'+'st'][_0x18a1dc]){this['layerList']['splice'](_0x18a1dc,-0x23aa+0x1295+0x2d9*0x6),this['subLayerLi'+'st']['splice'](_0x18a1dc,0xf17*-0x1+0xc0e+-0x30a*-0x1),_0x4b0a79--,this['_updateTra'+'nsparentOr'+'der'](_0x18a1dc,_0x4b0a79-(-0x232e+0xb46+-0x1*-0x17e9)),this['subLayerEn'+'abled']['splice'](_0x18a1dc,0x947+0x2*-0x118d+0x19d4),this['_dirty']=!(0x1d8d+0x2522+-0x42af),this['layerList']['indexOf'](_0x5c000c)<0x4d2*0x4+-0x2052+0xd0a*0x1&&this['fire']('remove',_0x5c000c);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x20fa4e){return this['layerOpaqu'+'eIndexMap']['get'](_0x20fa4e)??-(-0xf2f*-0x1+-0x1*0x2b+-0xb7*0x15);}['getTranspa'+'rentIndex'](_0x5ee920){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x5ee920)??-(0xdfd*-0x1+0x165e+-0x860);}['isEnabled'](_0x4800c8,_0x219df6){if(_0x4800c8['enabled']){const _0x265940=_0x219df6?this['getTranspa'+'rentIndex'](_0x4800c8):this['getOpaqueI'+'ndex'](_0x4800c8);if(_0x265940>=0x8e*-0x36+0x7*0x2c6+0xa8a)return this['subLayerEn'+'abled'][_0x265940];}return!(0x25ea*0x1+-0xdc4+-0x1*0x1825);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x24b799=-0x26ec+-0x37*-0x91+0xd*0x99;_0x24b799<this['layerList']['length'];_0x24b799++){const _0x19454c=this['layerList'][_0x24b799];this['layerIdMap']['set'](_0x19454c['id'],_0x19454c),this['layerNameM'+'ap']['set'](_0x19454c['name'],_0x19454c),(this['subLayerLi'+'st'][_0x24b799]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x19454c,_0x24b799);}}['getLayerBy'+'Id'](_0x19ce25){return this['layerIdMap']['get'](_0x19ce25)??null;}['getLayerBy'+'Name'](_0xaee960){return this['layerNameM'+'ap']['get'](_0xaee960)??null;}['_updateOpa'+'queOrder'](_0x530bfa,_0x572a1c){for(let _0x578f18=_0x530bfa;_0x578f18<=_0x572a1c;_0x578f18++)this['subLayerLi'+'st'][_0x578f18]===!(-0x3*0x6ff+0x214c+0xc4e*-0x1)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x578f18]['id']]=_0x578f18);}['_updateTra'+'nsparentOr'+'der'](_0x3c857d,_0x1117a0){for(let _0x19f675=_0x3c857d;_0x19f675<=_0x1117a0;_0x19f675++)this['subLayerLi'+'st'][_0x19f675]===!(0x1*-0x264a+0x2c*-0xd0+0x4a0a)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x19f675]['id']]=_0x19f675);}['_sortLayer'+'sDescendin'+'g'](_0x38e1fb,_0x1932f9,_0x4b824d){let _0x54a1fb=-(-0x1c97*0x1+0x1ac6+0x1d2),_0x544eff=-(-0x19b+0x39d+0x1*-0x201);for(let _0x52f7a1=-0x133f+-0x32*0x52+0x99*0x3b,_0x8a9058=_0x38e1fb['length'];_0x52f7a1<_0x8a9058;_0x52f7a1++){const _0x526f63=_0x38e1fb[_0x52f7a1];_0x4b824d['hasOwnProp'+'erty'](_0x526f63)&&(_0x54a1fb=Math['max'](_0x54a1fb,_0x4b824d[_0x526f63]));}for(let _0x3a6894=-0x1*-0x1849+0x443*0x5+-0x2d98,_0x1d1809=_0x1932f9['length'];_0x3a6894<_0x1d1809;_0x3a6894++){const _0xa371b=_0x1932f9[_0x3a6894];_0x4b824d['hasOwnProp'+'erty'](_0xa371b)&&(_0x544eff=Math['max'](_0x544eff,_0x4b824d[_0xa371b]));}return _0x54a1fb===-(0xf6*0x15+0x3*0xbbf+0x29*-0x15a)&&_0x544eff!==-(0x4ab*-0x1+-0x2*0xb51+0x5*0x576)?0x11a*-0x19+0x2427+0x44e*-0x2:_0x544eff===-(0x21*0xd+0x13*-0x15b+0x1815)&&_0x54a1fb!==-(0x612+-0x5*-0x623+-0x24c0)?-(-0x4*-0x531+-0x1980+0x4bd*0x1):_0x544eff-_0x54a1fb;}['sortTransp'+'arentLayer'+'s'](_0x19519c,_0x4baf95){return this['_sortLayer'+'sDescendin'+'g'](_0x19519c,_0x4baf95,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x468d1a,_0x1f1b8c){return this['_sortLayer'+'sDescendin'+'g'](_0x468d1a,_0x1f1b8c,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},WM=[[new Q(0x1cef+-0x2477+0x788,0x1ced+0x17cc+-0x34b9,0x1ba7+-0x1288*0x2+0x96a,-0x3*0x8b3+-0x91*-0x5+0x1745)],[new Q(-0x3*0x81+-0x24e8+-0x5*-0x7af,0x5*0x745+0x4*0x89e+-0x46d1,-0x11ae+-0xa71+0x1c1f+0.5,0x35*-0x4e+0xb5b+-0x1*-0x4cb+0.5),new Q(0x26a4+-0xbf*-0x1f+-0x3dc5,-0x26f2+-0xe*-0xc7+-0x4*-0x704+0.5,0x640*-0x5+-0x248+0x2*0x10c4+0.5,-0xe9*0xc+-0x1*-0x2347+-0x5*0x4df+0.5)],[new Q(0xc4*-0x1d+0xbf4+0xa40,0x37*-0x5f+-0x985+0x1dee,0x192*-0x1+0x1904+0xbb9*-0x2+0.5,0x1f8a+0x43*-0x3b+-0x1019+0.5),new Q(0x192+-0x17c8+0x1636,-0x1*-0x116f+-0x21a1*-0x1+-0x3310+0.5,0x41b*-0x1+-0x1f71+0x14*0x1c7+0.5,0x734*0x1+0x6*0x146+-0xed8+0.5),new Q(-0x4d4+-0x46c+0x250*0x4+0.5,-0xbab+0xe9*0x5+0x71e,-0x2*0x125f+0x24df*0x1+-0x21+0.5,0x24d+0x1a57*-0x1+-0x180a*-0x1+0.5)],[new Q(0x1705+0x3*-0xad0+0x96b,-0x2303+-0x1566+-0x1*-0x3869,0x2*-0x8b5+0x2635+-0x14cb+0.5,0x49d+-0x1*-0x1df+-0x2*0x33e+0.5),new Q(-0x1*0x44b+-0x1c12+-0x1*-0x205d,0x24c2+-0x1509+-0xfb9+0.5,-0x20de+0x1d68+0x376+0.5,0x1e1*0x10+-0x2*-0x62d+-0x2a6a+0.5),new Q(-0x1d7+-0x5d1*-0x1+-0x3fa+0.5,-0x1377+-0x153f+0x243*0x12,0x2530*0x1+0x1443*0x1+-0x3973+0.5,0x2a9*-0x4+0x1af6+-0x1052+0.5),new Q(-0x1ec5*0x1+-0x1625+-0xd*-0x412+0.5,0x3df+0xb*0x24a+-0x1d0d+0.5,-0x495*-0x7+-0x258f+0x57c+0.5,-0x5f+-0x7b*0x4a+-0x23ed*-0x1+0.5)]];let qM=-0xcf7+0x1a75+-0xd7e;class XM{constructor(_0x1434de,_0x21705d,_0x3c0b45){this['light']=_0x3c0b45,this['camera']=_0x1434de,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x3c0b45['_shadowTyp'+'e'],_0x3c0b45['_type'],_0x21705d),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(0x1*-0x343+-0x7*-0x502+-0x1fcb,0x1d35+-0x7d2*0x1+0x721*-0x3,-0x1bba+0xd95+0xe26,0x703+0x1a3c+-0x213e),this['shadowScis'+'sor']=new Q(0x176d+0x1a0c+-0x11*0x2e9,-0x1*-0x14e1+0x1be2*-0x1+0x701*0x1,-0x16e6+0xe47+0x30*0x2e,0x843+0x2*0x10b3+-0xf8*0x2b),this['projection'+'Compensati'+'on']=0x16a1+-0xb*-0x1b5+-0x2968,this['face']=_0x21705d,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x53e9a9=>{_0x53e9a9['defaultUni'+'formBuffer']['destroy'](),_0x53e9a9['destroy']();}),this['viewBindGr'+'oups']['length']=0xe09+0x4df*-0x3+0x94;}get['shadowBuff'+'er'](){const _0x530055=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x530055?this['light']['_isPcf']?_0x530055['depthBuffe'+'r']:_0x530055['colorBuffe'+'r']:null;}}class zo{constructor(_0x5f0138,_0xe992d6){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x5f0138,this['clusteredL'+'ighting']=_0xe992d6,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0x10d*-0xb+0x1*-0x9dd+-0x2*0xd9+0.8,0x3b7+0x3*0xa27+0xa2*-0x36+0.8,-0x1826*0x1+-0x18e8+0x310e+0.8),this['_intensity']=0x415*0x4+-0x106b+0x18,this['_affectSpe'+'cularity']=!(0x2272+-0xaed+-0x1785),this['_luminance']=0x2cf+-0xbbe*-0x1+-0xe8d,this['_castShado'+'ws']=!(0x172a+0x38c+-0x1ab5),this['_enabled']=!(-0x1cf7+0x1804+-0x13d*-0x4),this['_mask']=hs,this['isStatic']=!(-0x16e8+0x1bd5+0x1a4*-0x3),this['key']=0x569*0x5+0xc2*-0x1+0x35*-0x7f,this['bakeDir']=!(0x1df7+-0x20e3+0x2ec),this['bakeNumSam'+'ples']=0xa54+0xade+-0x5*0x43d,this['bakeArea']=0xb*-0x1fd+0x23ac+-0xdcd,this['attenuatio'+'nStart']=-0xce1+-0x5*-0x6c1+-0x14da,this['attenuatio'+'nEnd']=-0x138*-0x12+-0x166+-0x1480,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=0x2*0x79f+0x6b8+0x1f*-0xb5,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x1f3*0xe+-0xee7+-0xc63+0.01)*(-0x1*-0x38a+0x1c0d+-0x1f97+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x1*0x1a95+-0x7f*0x1+-0x1*-0x1b15,this['_cookieFal'+'loff']=!(0x179b+0x1a29+-0x31c4),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x1c49+0x147*0x11+-0x31fc),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x7*-0x576+0xf5+0x2547),this['_cookieTra'+'nsformSet']=!(-0x5*0x799+0xe3b*-0x2+0x4274),this['_cookieOff'+'setSet']=!(-0x1*-0x251+-0x1805+0x15b5),this['_innerCone'+'Angle']=-0x17ed+0x116d*0x1+0x6a8,this['_outerCone'+'Angle']=-0x5b6+0x2c*0x3e+-0x4c5,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x6b5+0x2479*-0x1+0x1dc5*0x1,this['_cascadeBl'+'end']=0x3*0x7a+0x24a5+0x169*-0x1b,this['cascadeDis'+'tribution']=0x7c8+0x2*-0x711+0x21e*0x3+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(-0x1*0xdab+-0x6*-0x486+-0x2*0x6bb),this['_updateLin'+'earColor'](),this['_position']=new T(0x1663+-0xba4+-0xabf,-0x9*-0x249+0xaab*0x2+0x277*-0x11,-0x12fe*-0x1+-0xa18+-0x11*0x86),this['_direction']=new T(-0x965*0x2+0x462+0xe68,0x1*-0x69d+0x2153*-0x1+0xd5*0x30,-0x2227+-0x1a09+0x3c30),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x3*-0x71+-0x6*0x82+0x26d)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x1e8+-0x1f54+0x1*0x213c),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x1*-0xc23+-0x6*-0xb+-0x27*-0x4f,this['_shadowRes'+'olution']=-0x147*0x1b+0x1f*0xc5+0xea2,this['_shadowBia'+'s']=-(-0x188f+-0x1bab+-0x539*-0xa+0.0005),this['shadowInte'+'nsity']=-0x237d+0x1c5e+0x720,this['_normalOff'+'setBias']=0x2*-0x407+0x1523+-0x1*0xd15,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x1d15+-0x229c+0x588),this['_isPcf']=!(-0x1351+-0x209*-0x9+0x100),this['_softShado'+'wParams']=new Float32Array(0xb*0x14b+-0x19c4+-0x10d*-0xb),this['shadowSamp'+'les']=-0x116d+0x1*-0xd13+-0x4*-0x7a4,this['shadowBloc'+'kerSamples']=-0x1*-0x1c0b+0x26ff+-0x42fa,this['penumbraSi'+'ze']=-0x1ff*-0x9+0xb*0x241+0xc7*-0x37,this['penumbraFa'+'lloff']=0x1b29+0x8*-0x241+0x4*-0x248,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x16*-0x1af+-0x909+0x4*-0x700),this['atlasVersi'+'on']=0x9*-0x2f5+-0x1*-0x3+-0x1e*-0xe3,this['atlasSlotI'+'ndex']=-0xcb7+-0x1cff+-0x13*-0x232,this['atlasSlotU'+'pdated']=!(0x1*0xba6+0x2b1*-0x7+0x732),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0xe81+0x1091+-0x20f),this['maxScreenS'+'ize']=-0x231*-0x3+-0x118d+-0x1*-0xafa,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x44d4e5=0x1caf+0x25bd+0xd*-0x51c;_0x44d4e5<this['_renderDat'+'a']['length'];_0x44d4e5++)this['_renderDat'+'a'][_0x44d4e5]['destroy']();this['_renderDat'+'a']['length']=-0x14db+0xc4d*0x2+0x7*-0x89;}}['addLayer'](_0x53c710){this['layers']['add'](_0x53c710);}['removeLaye'+'r'](_0x53617a){this['layers']['delete'](_0x53617a);}set['shadowSamp'+'les'](_0x286c0c){this['_softShado'+'wParams'][0x1*-0x2357+-0x242a+0x4781]=_0x286c0c;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x620+0x15f0+-0x1c10];}set['shadowBloc'+'kerSamples'](_0x38fa61){this['_softShado'+'wParams'][-0x1*-0x1d86+0x8d7+0x5*-0x7ac]=_0x38fa61;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0xef2+0x4c7+0xa2c];}set['shadowBias'](_0x18ae5a){this['_shadowBia'+'s']!==_0x18ae5a&&(this['_shadowBia'+'s']=_0x18ae5a,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x1c325a){(!this['cascades']||this['numCascade'+'s']!==_0x1c325a)&&(this['cascades']=WM[_0x1c325a-(-0x16*-0xa5+-0xe64+0x37*0x1)],this['_shadowMat'+'rixPalette']=new Float32Array((-0xc8f*-0x3+-0x2df+-0x22ca)*(0x1e9d*0x1+-0xdff+-0x108e)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x202*-0x10+-0xdf4+-0x14c*0xe),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x1974a7){this['_cascadeBl'+'end']!==_0x1974a7&&(this['_cascadeBl'+'end']=_0x1974a7,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x44449f){this['_shadowMap']!==_0x44449f&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x44449f);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x2df42a){this['_mask']!==_0x2df42a&&(this['_mask']=_0x2df42a,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x58d080=this['_type'];return _0x58d080===oe?this['numCascade'+'s']:_0x58d080===Pe?0xa74*-0x3+-0x586*-0x2+0x1456:-0xd00+-0x755+0x1456;}set['type'](_0x3607f3){if(this['_type']===_0x3607f3)return;this['_type']=_0x3607f3,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x26b677=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x26b677;}get['type'](){return this['_type'];}set['shape'](_0x17c554){if(this['_shape']===_0x17c554)return;this['_shape']=_0x17c554,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x536876=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x536876;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x17cbda){this['_usePhysic'+'alUnits']!==_0x17cbda&&(this['_usePhysic'+'alUnits']=_0x17cbda,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x47278a){if(this['_shadowTyp'+'e']===_0x47278a)return;const _0x5e441e=this['device'];_0x47278a===Ts&&!_0x5e441e['textureFlo'+'atRenderab'+'le']&&!_0x5e441e['textureHal'+'fFloatRend'+'erable']&&(_0x47278a=Dt),this['_type']===Pe&&_0x47278a!==Bh&&_0x47278a!==Dt&&_0x47278a!==Nh&&_0x47278a!==zh&&_0x47278a!==Ts&&(_0x47278a=Dt),_0x47278a===$r&&(!_0x5e441e['textureFlo'+'atRenderab'+'le']||!_0x5e441e['textureFlo'+'atFilterab'+'le'])&&(_0x47278a=Hr),_0x47278a===Hr&&!_0x5e441e['textureHal'+'fFloatRend'+'erable']&&(_0x47278a=Dt);const _0x168e14=ir['get'](_0x47278a);this['_isVsm']=(_0x168e14==null?void(-0x250e+0x1b3b+-0x5*-0x1f7):_0x168e14['vsm'])??!(0x2*-0x359+0x67*0x51+-0xcf2*0x2),this['_isPcf']=(_0x168e14==null?void(0xd39*0x1+-0x19c0+0xc87):_0x168e14['pcf'])??!(0x3*0x242+0x87f+-0xf44),this['_shadowTyp'+'e']=_0x47278a,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x4d787f){this['_enabled']!==_0x4d787f&&(this['_enabled']=_0x4d787f,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x611503){this['_castShado'+'ws']!==_0x611503&&(this['_castShado'+'ws']=_0x611503,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0x1d73+-0xb7e+-0x11f5;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x5a8154){this['_shadowRes'+'olution']!==_0x5a8154&&(this['_type']===Pe?_0x5a8154=Math['min'](_0x5a8154,this['device']['maxCubeMap'+'Size']):_0x5a8154=Math['min'](_0x5a8154,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x5a8154,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x97b39c){this['_vsmBlurSi'+'ze']!==_0x97b39c&&(_0x97b39c%(-0x12d1+-0x753+0x1a26*0x1)===-0x220a+0x1ea5+-0x4f*-0xb&&_0x97b39c++,this['_vsmBlurSi'+'ze']=_0x97b39c);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x2d1af5){if(this['_normalOff'+'setBias']!==_0x2d1af5){const _0x28d284=!this['_normalOff'+'setBias']&&_0x2d1af5||this['_normalOff'+'setBias']&&!_0x2d1af5;this['_normalOff'+'setBias']=_0x2d1af5,_0x28d284&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x2485d6){this['_falloffMo'+'de']!==_0x2485d6&&(this['_falloffMo'+'de']=_0x2485d6,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x274a7c){this['_innerCone'+'Angle']!==_0x274a7c&&(this['_innerCone'+'Angle']=_0x274a7c,this['_innerCone'+'AngleCos']=Math['cos'](_0x274a7c*Math['PI']/(0x1d7f+0x1618+0x745*-0x7)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x31b4ff){this['_outerCone'+'Angle']!==_0x31b4ff&&(this['_outerCone'+'Angle']=_0x31b4ff,this['_updateOut'+'erAngle'](_0x31b4ff),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x514a11){this['_penumbraS'+'ize']=_0x514a11,this['_softShado'+'wParams'][-0x19a3+-0x1467+0x2e0c]=_0x514a11;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x343e93){this['_softShado'+'wParams'][0x14a8+0x423*-0x2+0xc5f*-0x1]=_0x343e93;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x2*-0x7ab+-0x26b1+0x175e];}['_updateOut'+'erAngle'](_0x138482){const _0x2a60cb=_0x138482*Math['PI']/(-0x3*-0xad4+-0x1c*-0x14b+-0x43fc);this['_outerCone'+'AngleCos']=Math['cos'](_0x2a60cb),this['_outerCone'+'AngleSin']=Math['sin'](_0x2a60cb);}set['intensity'](_0x4700e0){this['_intensity']!==_0x4700e0&&(this['_intensity']=_0x4700e0,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x42005e){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x42005e,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x3700ba){this['_luminance']!==_0x3700ba&&(this['_luminance']=_0x3700ba,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(-0x3*0x72f+0x2626+-0x1099,-0x22b0+-0xa*0x310+0x4150,-0x1602+0x3*-0x8d7+-0xc22*-0x4,-0x25ba+0x1*0x8d7+0x1ce4)),this['_atlasView'+'port'];}set['cookie'](_0x3c5ef3){this['_cookie']!==_0x3c5ef3&&(this['_cookie']=_0x3c5ef3,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x242df6){this['_cookieFal'+'loff']!==_0x242df6&&(this['_cookieFal'+'loff']=_0x242df6,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x5752bd){if(this['_cookieCha'+'nnel']!==_0x5752bd){if(_0x5752bd['length']<-0x1c0d+0x1008+-0x2*-0x604){const _0x1e9434=_0x5752bd['charAt'](_0x5752bd['length']-(-0x19c3+-0x210e+0x3ad2)),_0x33de5e=0x1*-0xec3+0x20c7+-0x1201-_0x5752bd['length'];for(let _0x61b336=-0x171+0x595*0x1+0x14*-0x35;_0x61b336<_0x33de5e;_0x61b336++)_0x5752bd+=_0x1e9434;}this['_cookieCha'+'nnel']=_0x5752bd,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x23c25f){this['_cookieTra'+'nsform']!==_0x23c25f&&(this['_cookieTra'+'nsform']=_0x23c25f,this['_cookieTra'+'nsformSet']=!!_0x23c25f,_0x23c25f&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new $(),this['_cookieOff'+'setSet']=!(-0x6*-0x537+0xbc9+0x12a*-0x25)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x33a443){if(this['_cookieOff'+'set']===_0x33a443)return;!!(this['_cookieTra'+'nsformSet']||_0x33a443)&&!_0x33a443&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0xccd+0x8*0x307+-0xb6b,0x1a55+-0xb96+0xebf*-0x1):this['_cookieOff'+'set']=_0x33a443,this['_cookieOff'+'setSet']=!!_0x33a443,_0x33a443&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x15ab+0x23bd*0x1+0x5*-0xb7b,-0x1*0x14d5+-0xa0f*-0x1+-0xac7*-0x1,-0x1b55*-0x1+0xec9+-0x12*0x257,-0xab*0x2+0x1a26+-0x18d0),this['_cookieTra'+'nsformSet']=!(-0x11a6+-0x1b9a*0x1+-0x90d*-0x5)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0x1396+-0x486+0x4*0x607,this['atlasViewp'+'ortAllocat'+'ed']=!(0xa7*0x11+0x61f*-0x5+0x13*0x107),this['atlasSlotU'+'pdated']=!(0x516+0x14fb+-0x1a1*0x10);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x3c5c17=0x1e7*-0x12+0x6d1+0x11*0x19d;_0x3c5c17<this['shadowUpda'+'teOverride'+'s']['length'];_0x3c5c17++)this['shadowUpda'+'teOverride'+'s'][_0x3c5c17]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x3c5c17]=cn);}}['getRenderD'+'ata'](_0x25f6e8,_0x1e6557){for(let _0x15ac18=-0x1877*-0x1+0x1083+-0x28fa;_0x15ac18<this['_renderDat'+'a']['length'];_0x15ac18++){const _0xdb26c6=this['_renderDat'+'a'][_0x15ac18];if(_0xdb26c6['camera']===_0x25f6e8&&_0xdb26c6['face']===_0x1e6557)return _0xdb26c6;}const _0x1c139d=new XM(_0x25f6e8,_0x1e6557,this);return this['_renderDat'+'a']['push'](_0x1c139d),_0x1c139d;}['clone'](){const _0x31f859=new zo(this['device'],this['clusteredL'+'ighting']);return _0x31f859['type']=this['_type'],_0x31f859['setColor'](this['_color']),_0x31f859['intensity']=this['_intensity'],_0x31f859['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x31f859['luminance']=this['_luminance'],_0x31f859['castShadow'+'s']=this['castShadow'+'s'],_0x31f859['_enabled']=this['_enabled'],_0x31f859['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x31f859['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x31f859['falloffMod'+'e']=this['_falloffMo'+'de'],_0x31f859['shadowType']=this['_shadowTyp'+'e'],_0x31f859['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x31f859['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x31f859['vsmBias']=this['vsmBias'],_0x31f859['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x31f859['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x31f859['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x31f859['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x31f859['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x31f859['numCascade'+'s']=this['numCascade'+'s'],_0x31f859['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x31f859['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x31f859['shape']=this['_shape'],_0x31f859['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x31f859['shadowBias']=this['shadowBias'],_0x31f859['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x31f859['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x31f859['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x31f859['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x31f859['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x31f859['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x31f859['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x31f859['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x31f859;}static['getLightUn'+'itConversi'+'on'](_0x4b717a,_0x2ca820=Math['PI']/(0x25*-0x73+0x147*0x1+0xf5c),_0x4ca01b=-0x1*0x2665+-0x3b9*0x1+0x2a1e){switch(_0x4b717a){case Re:{const _0x4d5e7c=Math['cos'](_0x2ca820),_0x15b875=Math['cos'](_0x4ca01b);return(-0xee1+0xb99+-0x34a*-0x1)*Math['PI']*(0x659+-0x1*-0xb93+-0x11eb-_0x15b875+(_0x15b875-_0x4d5e7c)/(0x1b7*-0x15+0x2c0+0x3*0xb17));}case Pe:return(0x1e58*-0x1+-0x11b3+0x9*0x557)*Math['PI'];case oe:return-0x40*0x1d+0x25b5+-0x1e74;}}['_getUnifor'+'mBiasValue'+'s'](_0x35b06c){const _0x50469c=_0x35b06c['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(0x13*0x16d+-0x1*-0x10b1+-0x2*0x15e4+0.00001)*(0x4*-0x1c6+-0x174e*-0x1+-0x1022):ti['bias']=this['shadowBias']*(-0x15fa+0x2419+-0x1*0xe0b),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x1*-0x258+-0x6*-0x67+-0x4bb*0x1)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(-0x22cf+0x135f+-0x3dc*-0x4+0.00001)*(0x6*0x1bc+0x587*-0x7+0x1*0x1c5d):ti['bias']=this['shadowBias']/_0x50469c*(0x255a+-0x64b*-0x6+-0x957*0x8),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x50469c/(0xb56*-0x2+-0xb85*0x3+0x2a*0x15d)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x4b2716){if(this['_type']===Re){const _0x271a1f=this['attenuatio'+'nEnd'],_0x32b192=this['_outerCone'+'Angle'],_0x31005a=this['_outerCone'+'AngleCos'],_0x5318f2=this['_node'];kl['copy'](_0x5318f2['up']),_0x32b192>0x1bac+-0x1ffc+0x47d?(_0x4b2716['radius']=_0x271a1f*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x271a1f*_0x31005a)):(_0x4b2716['radius']=_0x271a1f/((0x38d*-0x8+0x4ff+-0x5*-0x4af)*_0x31005a),kl['mulScalar'](-_0x4b2716['radius'])),_0x4b2716['center']['add2'](_0x5318f2['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x4b2716['center']=this['_node']['getPositio'+'n'](),_0x4b2716['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x440a1d){if(this['_type']===Re){const _0x47ba86=this['attenuatio'+'nEnd'],_0x3f49f6=this['_outerCone'+'Angle'],_0x46615c=this['_node'],_0x160d0f=Math['abs'](Math['sin'](_0x3f49f6*N['DEG_TO_RAD'])*_0x47ba86);_0x440a1d['center']['set'](-0x142*0x6+0x10bd+-0x1*0x931,-_0x47ba86*(0x2f*0x35+0xeb*-0x17+0x2f*0x3e+0.5),-0x25*-0xdd+-0x1241*0x1+0x92*-0x18),_0x440a1d['halfExtent'+'s']['set'](_0x160d0f,_0x47ba86*(0x47*-0x58+0x17*-0x14b+0xa7*0x53+0.5),_0x160d0f),_0x440a1d['setFromTra'+'nsformedAa'+'bb'](_0x440a1d,_0x46615c['getWorldTr'+'ansform'](),!(0x6c8+0xb29+-0x11f1));}else this['_type']===Pe&&(_0x440a1d['center']['copy'](this['_node']['getPositio'+'n']()),_0x440a1d['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x13bc+0xaf1+-0x1ead,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0xb*0x117+0x13eb+0xa*-0xcb;else{const _0x8b5764=this['shadowBias']*-(-0x3*-0xc6d+0x150d*0x1+-0x366c*0x1);this['shadowDept'+'hState']['depthBias']=_0x8b5764,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x8b5764;}}['_updateLin'+'earColor'](){let _0x187393=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x187393=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x2fc593=this['_color'],_0x132223=this['_colorLine'+'ar'];_0x187393>=0x1fb2+0xf7c+-0x2f2d*0x1?Ya['linear'](_0x2fc593)['mulScalar'](_0x187393):Ya['copy'](_0x2fc593)['mulScalar'](_0x187393)['linear'](),_0x132223[-0x17f5*-0x1+0x1*-0x145+-0xb58*0x2]=Ya['r'],_0x132223[0x7*0x112+-0x1297*0x1+0xb1a]=Ya['g'],_0x132223[0x3e*-0x4c+-0x911+-0x43*-0x69]=Ya['b'];}['setColor'](){arguments['length']===0xa7*-0x3+0xed1+-0xcdb?this['_color']['set'](arguments[-0x1c2+0x22b1+-0x20ef]['r'],arguments[-0x2*0x374+0x1*-0x24fa+0x15f1*0x2]['g'],arguments[0x1dea+-0x24bf+-0x21*-0x35]['b']):arguments['length']===-0x46*0xb+-0x109*0x1e+-0x29f*-0xd&&this['_color']['set'](arguments[0xf2b+0x1f4f+-0x2e7a],arguments[-0x879+0x1a87+0x1*-0x120d],arguments[-0x14c+-0x91+0x1df]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x34b9a7=>{_0x34b9a7['hasLight'](this)&&_0x34b9a7['markLights'+'Dirty']();});}['updateKey'](){let _0x42e894=this['_type']<<0x25eb+0x18e4+0x1f59*-0x2|this['_shadowTyp'+'e']<<-0x1*0x1a9e+0x24d7*-0x1+0x3f8e|this['_falloffMo'+'de']<<-0xedb*-0x2+0x1bd4+0x7*-0x835|(this['_normalOff'+'setBias']!==0x343*0x5+0x1*-0x2340+-0xd*-0x175?0x1a60+-0x1*-0x530+-0x1f8f:0x8d9+0x1*-0x2453+-0xdbd*-0x2)<<0x266d+0x1345*-0x2+0x33*0x1|(this['_cookie']?-0xd29*0x1+-0x1c36+0x2960:-0x16fb+-0xc9+-0x5f1*-0x4)<<-0xef+-0x9a*-0x3+0xca*-0x1|(this['_cookieFal'+'loff']?-0x48e+0x6d8+-0x249:-0xffa+-0x45*-0x39+-0x9d*-0x1)<<-0xfa*-0x16+0x69*0x2f+-0x823*0x5|Ud[this['_cookieCha'+'nnel']['charAt'](-0x17f*0x11+0x1966+0x9)]<<-0x26f9+-0x61*0x1b+0x3146*0x1|(this['_cookieTra'+'nsform']?0x2f*-0xc2+0x1cba*0x1+0x6e5:-0x2067+0x9a+0x48b*0x7)<<0x183b+0x1f4d+0x35*-0x10c|this['_shape']<<0x474+0x1*-0x1435+0xfcb|(this['numCascade'+'s']>0x1eae+-0x47*0x80+0x4d2?-0x203d+0x1fde+0x60:0x13c6+0x1d2f+-0x53*0x97)<<0xe3b+-0xab6+-0x37c|(this['_cascadeBl'+'end']>-0x47e+0x17ab*0x1+0x1*-0x132d?-0x1bbf*-0x1+-0x5*0x499+0x4c1*-0x1:0x3*0x508+0x26bf+-0xb3*0x4d)<<0x1786+-0x3de+-0x9d*0x20|(this['affectSpec'+'ularity']?-0x1ece+-0x2285*0x1+-0x1*-0x4154:0x2*0xc89+-0x242c*0x1+-0xe*-0xcb)<<0x495+0x113e+0x12*-0x136|this['mask']<<0xa9b+0xafb+-0x1cc*0xc|(this['_castShado'+'ws']?0x1bb+0x362+-0x4*0x147:0x8e2*0x1+-0x1301+0xa1f)<<0x18ed*-0x1+0x1*-0x683+0x1f73;this['_cookieCha'+'nnel']['length']===0xd8+0x21a1+-0x1*0x2276&&(_0x42e894|=Ud[this['_cookieCha'+'nnel']['charAt'](0x215a+0x2217+-0x4370)]<<0xff9+-0xd9+-0xf10,_0x42e894|=Ud[this['_cookieCha'+'nnel']['charAt'](0x2*0x2ec+-0xead+-0x1*-0x8d7)]<<0x1f9*0xd+-0x8eb*-0x1+-0x1141*0x2),_0x42e894!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x42e894;}}class L0{constructor(_0x2d1ed9,_0x19f142,_0x52e423){c(this,'_areaLight'+'sEnabled',!(0x22ad+-0x1*0x629+-0x1c83)),c(this,'_cells',new T(0xf47+-0x16*0x6d+-0x5df,0x18*0x18a+-0xc10+-0x18dd,0x2546+0x3c8*0x7+-0x3fb4)),c(this,'_maxLights'+'PerCell',0x1*0x2e1+0x5d8*0x1+-0x7ba),c(this,'_shadowsEn'+'abled',!(0xf9+-0x1*-0x26c1+-0x27ba)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x26d4+-0x2*-0xa3+-0x201a),c(this,'_cookiesEn'+'abled',!(0x13e0+0xddb*0x1+-0x21ba)),c(this,'_cookieAtl'+'asResoluti'+'on',-0x6*0x579+0xa1f+-0x3*-0xa3d),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x2d1ed9,this['_maxTextur'+'eSize']=_0x19f142,this['_dirtyLigh'+'tsFnc']=_0x52e423);}['applySetti'+'ngs'](_0x5a3c64){this['shadowsEna'+'bled']=_0x5a3c64['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x5a3c64['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x5a3c64['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x5a3c64['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x5a3c64['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x5a3c64['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x5a3c64['lightingSh'+'adowType']??this['shadowType'],_0x5a3c64['lightingCe'+'lls']&&(this['cell']=new T(_0x5a3c64['lightingCe'+'lls']));}set['cells'](_0x26e2bc){this['_cells']['copy'](_0x26e2bc);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x1b6659){this['_maxLights'+'PerCell']=N['clamp'](_0x1b6659,-0x317+-0xfc0+-0x4*-0x4b6,-0xae*0x20+0x1f8e+-0x8cf*0x1);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x28c8de){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x28c8de,0x1f0f*-0x1+-0xf8+0x2027,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x3f3c7c){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x3f3c7c,-0x2691+-0xa46+0x30f7,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x6873d5){this['_shadowTyp'+'e']!==_0x6873d5&&(this['_shadowTyp'+'e']=_0x6873d5,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x4c96ba){this['_cookiesEn'+'abled']!==_0x4c96ba&&(this['_cookiesEn'+'abled']=_0x4c96ba,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x4d0164){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x4d0164&&(this['_areaLight'+'sEnabled']=_0x4d0164,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x3534be){this['_shadowsEn'+'abled']!==_0x3534be&&(this['_shadowsEn'+'abled']=_0x3534be,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(-0x3db+0x1572+0xed*-0x13),Lt,at,at);class fn{constructor(_0x1caedc){c(this,'shaderCach'+'e',[]),(this['morph']=_0x1caedc,_0x1caedc['incRefCoun'+'t'](),this['device']=_0x1caedc['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x35b050=-0x1d61+0x1701+0x8*0xcc;_0x35b050<_0x1caedc['_targets']['length'];_0x35b050++){const _0x27fef9=_0x1caedc['_targets'][_0x35b050];_0x27fef9['name']&&this['_weightMap']['set'](_0x27fef9['name'],_0x35b050),this['setWeight'](_0x35b050,_0x27fef9['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x3c8283=(_0x4736b0,_0x59ef22)=>(this[_0x59ef22]=_0x1caedc['_createTex'+'ture'](_0x4736b0,_0x1caedc['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x59ef22],'depth':!(0x8b4*-0x4+-0xca2+0x2f73)}));_0x1caedc['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x3c8283('MorphRTPos','texturePos'+'itions')),_0x1caedc['morphNorma'+'ls']&&(this['rtNormals']=_0x3c8283('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x1caedc['morphTextu'+'reWidth'],_0x1caedc['morphTextu'+'reHeight']]);const _0x21b4a3=_0x1caedc['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x21b4a3['x']*(-0x1f30+-0x11f1+0x3125),_0x21b4a3['y']*(-0x2de+-0x1999*0x1+0x1c7b),_0x21b4a3['z']*(0x1adc+0x101+-0x1bd9*0x1)]);const _0x4037fd=_0x1caedc['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x4037fd['x']*(-0xabd+-0x141a+0x1ed9),_0x4037fd['y']*(0x1121+0xd9f*-0x1+-0x380),_0x4037fd['z']*(-0x1607*-0x1+-0x1329+-0x2dc)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x1b01+-0x1e90+0x1331*0x3,-0xc1*-0x3+0x4d+-0x2*0x147,-0xdfd*-0x2+0x1358+-0x2f50*0x1]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0xd76*0x1+-0x485+0x11fc),-(0x120b+0x1be5+-0x2def),-(0x527+0x1c87+0x1*-0x21ad)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x5b6652=0x1b99+-0x1e60*-0x1+0x1353*-0x3;_0x5b6652<this['maxSubmitC'+'ount'];_0x5b6652++)this['morphBlend'+'Tex'+_0x5b6652]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x5b6652);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0x40*-0x2b+-0xbc*-0xb+0x2ad*0x1);}['destroy'](){this['shader']=null;const _0x1029dc=this['morph'];_0x1029dc&&(this['morph']=null,_0x1029dc['decRefCoun'+'t'](),_0x1029dc['refCount']<-0x695*0x4+0x1005+0xa50&&_0x1029dc['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x3e22aa){if(typeof _0x3e22aa=='string'){const _0x43ca4c=this['_weightMap']['get'](_0x3e22aa);return _0x43ca4c===void(0x9*-0x1e7+0x4d*0x67+-0xddc)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x3e22aa+'.'),_0x43ca4c;}return _0x3e22aa;}['getWeight'](_0x4e1f32){const _0x4ddf1e=this['_getWeight'+'Index'](_0x4e1f32);return this['_weights'][_0x4ddf1e];}['setWeight'](_0x22e3a9,_0x899b89){const _0xcc07a1=this['_getWeight'+'Index'](_0x22e3a9);v['assert'](_0xcc07a1>=0x4ec+-0xc65+0x779&&_0xcc07a1<this['morph']['_targets']['length']),this['_weights'][_0xcc07a1]=_0x899b89,this['_dirty']=!(-0x1a2e*-0x1+0x240e+0x239*-0x1c);}['_getFragme'+'ntShader'](_0x137b25){let _0x782cbc='',_0x4d9a89='';for(let _0x55a299=0xead+0x1242+0x1*-0x20ef;_0x55a299<_0x137b25;_0x55a299++)_0x782cbc+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x55a299+';',_0x4d9a89+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x55a299+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x55a299+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x137b25>-0x41*0x61+-0x23f1*-0x1+-0xb50?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x137b25+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x782cbc+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x4d9a89+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x4ab72e){let _0x2bdae6=this['shaderCach'+'e'][_0x4ab72e];if(!_0x2bdae6){const _0x2f9c80=this['_getFragme'+'ntShader'](_0x4ab72e),_0x4acc97=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x2bdae6=Is(this['device'],jM,_0x2f9c80,'textureMor'+'ph'+_0x4ab72e,void(-0x1ca7+0xd89+-0x81*-0x1e),{'fragmentOutputTypes':[_0x4acc97]}),this['shaderCach'+'e'][_0x4ab72e]=_0x2bdae6;}return _0x2bdae6;}['_updateTex'+'tureRender'+'Target'](_0x4048c9,_0x5f7f19,_0x1ffda3){const _0x359d94=this['device'],_0x476b15=(_0x13c92c,_0x5c1c96)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x359d94['setBlendSt'+'ate'](_0x5c1c96?YM:_t['NOBLEND']);const _0x5d75b0=this['_getShader'](_0x13c92c);dn(_0x359d94,_0x4048c9,_0x5d75b0);};this['setAabbUni'+'forms'](_0x1ffda3);let _0x47d554=0x825+-0x22e5*0x1+0x1ac0,_0xd992e2=!(0x1044+-0x29c*0x9+0x739*0x1);const _0x5a05d5=this['_activeTar'+'gets']['length'];for(let _0x17841c=-0xbff*0x1+0x22*-0xb+-0x41*-0x35;_0x17841c<_0x5a05d5;_0x17841c++){const _0x2d3098=this['_activeTar'+'gets'][_0x17841c],_0x38fddd=_0x2d3098['target'][_0x5f7f19];_0x38fddd&&(this['morphBlend'+'Tex'+_0x47d554]['setValue'](_0x38fddd),this['_shaderMor'+'phWeights'][_0x47d554]=_0x2d3098['weight'],_0x47d554++,_0x47d554>=this['maxSubmitC'+'ount']&&(_0x476b15(_0x47d554,_0xd992e2),_0x47d554=0x27*0x2b+0x83*0x49+-0x8c8*0x5,_0xd992e2=!(-0x262+-0x1*0x982+0xbe4)));}(_0x47d554>0x59*0x2f+0x2141+-0x3198||_0x5a05d5===0x1c1b+0x15+-0x1c30&&!this['zeroTextur'+'es'])&&_0x476b15(_0x47d554,_0xd992e2);}['_updateTex'+'tureMorph'](){const _0xe09815=this['device'];G['pushGpuMar'+'ker'](_0xe09815,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>-0x220+0x1eee+0x1*-0x1cce||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x25cf+0x218e+0x441)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(0x2190+-0x17db+-0x9b4)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0x252+-0xc92*-0x3+-0x2808),G['popGpuMark'+'er'](_0xe09815);}['setAabbUni'+'forms'](_0x429ddb=!(0xf94+0xff8+-0x1f8c)){this['aabbSizeId']['setValue'](_0x429ddb?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x429ddb?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x11f6d9){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0xe4d+0x1a*0x2c+-0x12c4);const _0x4016e6=this['morph']['_targets'];let _0x48810d=0x25ee*-0x1+-0x1715*-0x1+0xed9;const _0x1b0903=-0x1e4+-0x132e+-0x6*-0x383+0.00001;for(let _0x564c09=0x2629+-0x72a*0x1+-0x1eff;_0x564c09<_0x4016e6['length'];_0x564c09++){const _0x223431=Math['abs'](this['getWeight'](_0x564c09));if(_0x223431>_0x1b0903){this['_activeTar'+'gets']['length']<=_0x48810d&&(this['_activeTar'+'gets'][_0x48810d]={});const _0x28e128=this['_activeTar'+'gets'][_0x48810d++];_0x28e128['absWeight']=_0x223431,_0x28e128['weight']=this['getWeight'](_0x564c09),_0x28e128['target']=_0x4016e6[_0x564c09];}}this['_activeTar'+'gets']['length']=_0x48810d,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x2c862d,_0x5bf067)=>_0x2c862d['absWeight']<_0x5bf067['absWeight']?0x23e7*-0x1+0x1*-0x14cb+0x38b3:_0x5bf067['absWeight']<_0x2c862d['absWeight']?-(0x9cc+0x5b*-0x15+-0x12a*0x2):-0x1e05+0xa9f*-0x1+0x28a4),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0xf2d+-0x2554+0x3481,this['_immutable']=!(-0x1c86+0x664+0x1623));}['getGraph'](){return this['graph'];}['setGraph'](_0x1cfdee){this['graph']=_0x1cfdee;}['getCameras'](){return this['cameras'];}['setCameras'](_0x13a8e7){this['cameras']=_0x13a8e7;}['getLights'](){return this['lights'];}['setLights'](_0x14f248){this['lights']=_0x14f248;}['getMateria'+'ls'](){const _0xc0acb0=[];for(let _0x3847d1=0x2*0x109d+-0x61+-0x20d9;_0x3847d1<this['meshInstan'+'ces']['length'];_0x3847d1++){const _0x211b9a=this['meshInstan'+'ces'][_0x3847d1];_0xc0acb0['indexOf'](_0x211b9a['material'])===-(0x12fa+-0x1*0x16e1+0x3e8)&&_0xc0acb0['push'](_0x211b9a['material']);}return _0xc0acb0;}['clone'](){const _0xca482f=[],_0x50df1b=[],_0x2cde85=function(_0xc247fa){const _0x3089cb=_0xc247fa['clone']();_0xca482f['push'](_0xc247fa),_0x50df1b['push'](_0x3089cb);for(let _0x6f3cf3=-0x722+-0xadd*-0x1+0x3bb*-0x1;_0x6f3cf3<_0xc247fa['_children']['length'];_0x6f3cf3++)_0x3089cb['addChild'](_0x2cde85(_0xc247fa['_children'][_0x6f3cf3]));return _0x3089cb;},_0x5a2d5c=_0x2cde85(this['graph']),_0x349824=[],_0x5a78e8=[],_0x4650b6=[];for(let _0x175ace=0x3d*0x52+-0xf23+-0x1*0x467;_0x175ace<this['skinInstan'+'ces']['length'];_0x175ace++){const _0x1aad25=this['skinInstan'+'ces'][_0x175ace]['skin'],_0xe936b3=new nl(_0x1aad25),_0x1e3dae=[];for(let _0x5c03a4=-0x1*-0xbd2+0x1*0x261d+-0x10a5*0x3;_0x5c03a4<_0x1aad25['boneNames']['length'];_0x5c03a4++){const _0xa42468=_0x1aad25['boneNames'][_0x5c03a4],_0x424364=_0x5a2d5c['findByName'](_0xa42468);_0x1e3dae['push'](_0x424364);}_0xe936b3['bones']=_0x1e3dae,_0x5a78e8['push'](_0xe936b3);}for(let _0x5aee38=-0xc1*-0xe+-0x20b9*0x1+0x162b;_0x5aee38<this['morphInsta'+'nces']['length'];_0x5aee38++){const _0x240701=this['morphInsta'+'nces'][_0x5aee38]['morph'],_0x4e7b01=new fn(_0x240701);_0x4650b6['push'](_0x4e7b01);}for(let _0x207bea=-0x2525+0x115a+0x13cb;_0x207bea<this['meshInstan'+'ces']['length'];_0x207bea++){const _0x3c031e=this['meshInstan'+'ces'][_0x207bea],_0x3bbb7f=_0xca482f['indexOf'](_0x3c031e['node']),_0x127411=new Le(_0x3c031e['mesh'],_0x3c031e['material'],_0x50df1b[_0x3bbb7f]);if(_0x3c031e['skinInstan'+'ce']){const _0x45b964=this['skinInstan'+'ces']['indexOf'](_0x3c031e['skinInstan'+'ce']);_0x127411['skinInstan'+'ce']=_0x5a78e8[_0x45b964];}if(_0x3c031e['morphInsta'+'nce']){const _0x11f703=this['morphInsta'+'nces']['indexOf'](_0x3c031e['morphInsta'+'nce']);_0x127411['morphInsta'+'nce']=_0x4650b6[_0x11f703];}_0x349824['push'](_0x127411);}const _0x1719d7=new Oi();return _0x1719d7['graph']=_0x5a2d5c,_0x1719d7['meshInstan'+'ces']=_0x349824,_0x1719d7['skinInstan'+'ces']=_0x5a78e8,_0x1719d7['morphInsta'+'nces']=_0x4650b6,_0x1719d7['getGraph']()['syncHierar'+'chy'](),_0x1719d7;}['destroy'](){const _0x5213aa=this['meshInstan'+'ces'];for(let _0x2198c3=0x3*-0xad6+0x152f+0xb53;_0x2198c3<_0x5213aa['length'];_0x2198c3++)_0x5213aa[_0x2198c3]['destroy']();this['meshInstan'+'ces']['length']=-0x2*0x28d+0xabb+0x83*-0xb;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x3c3782,_0x5cefc4,{preferHighPrecision:_0x5ab845=!(-0x171e*-0x1+-0x13*-0x20c+-0xd*0x4c5)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x5cefc4,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x5cefc4,this['preferHigh'+'Precision']=_0x5ab845,v['assert'](_0x3c3782['every'](_0x558824=>!_0x558824['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x3c3782['slice']());const _0x1e5c56=this['device'],_0x399609=_0x1e5c56['textureHal'+'fFloatRend'+'erable']?Je:void(0x43*0x1d+0x7ab*-0x4+-0x1*-0x1715),_0x595a99=_0x1e5c56['textureFlo'+'atRenderab'+'le']?Ke:void(-0x1*0x17a1+0x257*-0x7+0x12*0x239);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x595a99??_0x399609:_0x399609??_0x595a99,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x243f99=new T(),_0x9b2b99=new T();for(let _0x275538=0x1dc5+-0xc86+0x113f*-0x1;_0x275538<this['_targets']['length'];_0x275538++){const _0x45f1b0=this['_targets'][_0x275538]['aabb'];_0x243f99['min'](_0x45f1b0['getMin']()),_0x9b2b99['max'](_0x45f1b0['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x243f99,_0x9b2b99);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x246809=-0x1b8+-0x2619+0x27d1;_0x246809<this['_targets']['length'];_0x246809++)this['_targets'][_0x246809]['_postInit']();}['_findSpars'+'eSet'](_0x3e4938,_0x2c805f,_0x16712d){let _0x40d970=-0x584*0x4+-0x2395*0x1+0x39a6;const _0x2704f4=_0x3e4938[0x1*-0x1703+0x52*-0xc+-0x5*-0x55f]['length'];for(let _0x2aaa68=0xe8*0x1+0x294+-0x37c;_0x2aaa68<_0x2704f4;_0x2aaa68+=-0x1690+-0x1fe7*0x1+0x367a){let _0x5cfe96=!(-0x445*-0x1+0xf7f+0x13c3*-0x1);for(let _0x56bece=0x65*-0x2+0x1cf1+-0x1*0x1c27;_0x56bece<_0x3e4938['length'];_0x56bece++){const _0x1eedab=_0x3e4938[_0x56bece];if(_0x1eedab[_0x2aaa68]!==0x1bdd+-0x1*-0x100a+0x1*-0x2be7||_0x1eedab[_0x2aaa68+(-0x260d+-0x10f0+0x36fe)]!==-0x1*0x2615+-0x1*-0x7f1+0xf12*0x2||_0x1eedab[_0x2aaa68+(0x6*0x311+-0x1d3e+0x56d*0x2)]!==-0x33c+-0x28f+-0x1*-0x5cb){_0x5cfe96=!(-0x1e3*0x6+-0x74a+-0x4*-0x4a7);break;}}_0x5cfe96?(_0x2c805f['push'](_0x40d970),_0x16712d['push'](_0x2aaa68/(-0xe6c+0xb6f*0x3+-0x13de)),_0x40d970++):_0x2c805f['push'](0x1*-0x3a+0x5*0x71d+-0x2357);}return _0x40d970;}['_initTextu'+'reBased'](){const _0x14b91c=[],_0x2b10fb=[];for(let _0x2a6ad4=-0x1733+-0x7*0x4da+-0x1*-0x3929;_0x2a6ad4<this['_targets']['length'];_0x2a6ad4++){const _0x5931b3=this['_targets'][_0x2a6ad4];_0x5931b3['options']['deltaPosit'+'ions']&&(_0x14b91c['push'](_0x5931b3['options']['deltaPosit'+'ions']),_0x2b10fb['push']({'target':_0x5931b3,'name':'texturePos'+'itions'})),_0x5931b3['options']['deltaNorma'+'ls']&&(_0x14b91c['push'](_0x5931b3['options']['deltaNorma'+'ls']),_0x2b10fb['push']({'target':_0x5931b3,'name':'textureNor'+'mals'}));}const _0x596592=[],_0x370b5c=[],_0x234bb2=this['_findSpars'+'eSet'](_0x14b91c,_0x596592,_0x370b5c),_0x3f7419=this['device']['maxTexture'+'Size'];let _0x2f7d6c=Math['ceil'](Math['sqrt'](_0x234bb2));_0x2f7d6c=Math['min'](_0x2f7d6c,_0x3f7419);const _0xe5b1b6=Math['ceil'](_0x234bb2/_0x2f7d6c);if(_0xe5b1b6>_0x3f7419)return!(0xc7*0x10+0x287*-0x9+0xa50);this['morphTextu'+'reWidth']=_0x2f7d6c,this['morphTextu'+'reHeight']=_0xe5b1b6;let _0x4ba658=!(0x1404+-0x219*0x7+-0x554),_0x2f273f=0x264+0x4e8+0x5*-0x175;const _0x4c7c1c=$t['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x4ba658=!(0x2*-0x52c+-0xb*0x13d+0x17f7),_0x2f273f=-0x1386+0x31e*0x7+0x2*-0x124);const _0x2ba61b=[];for(let _0x37b45a=0x1*-0x7fb+0x4de*-0x7+0x2a0d;_0x37b45a<_0x14b91c['length'];_0x37b45a++)_0x2ba61b['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x742415=0x2519+-0xb*0x1af+-0x74*0x29;_0x742415<_0x14b91c['length'];_0x742415++){const _0x4d2643=_0x14b91c[_0x742415],_0x425732=_0x2ba61b[_0x742415],_0x17ab85=_0x425732['lock']();if(_0x4ba658)for(let _0xd62c48=0x1216+-0x4d*0x68+-0x233*-0x6;_0xd62c48<_0x370b5c['length'];_0xd62c48++){const _0x40e2e4=_0x370b5c[_0xd62c48]*(0x13aa*0x1+0x137*-0x12+-0x3*-0xbd),_0x4e815c=_0xd62c48*_0x2f273f+_0x2f273f;_0x17ab85[_0x4e815c]=_0x4c7c1c(_0x4d2643[_0x40e2e4]),_0x17ab85[_0x4e815c+(0x178b+0x1a1+-0x192b*0x1)]=_0x4c7c1c(_0x4d2643[_0x40e2e4+(-0x1e+0x4*-0x819+-0x1d*-0x11f)]),_0x17ab85[_0x4e815c+(0x3*0x8eb+-0x24*-0x19+-0x1e43)]=_0x4c7c1c(_0x4d2643[_0x40e2e4+(0x1f08+0x1e02+-0xa8*0x5d)]);}else for(let _0x52803d=-0xad0+0x1111+0x641*-0x1;_0x52803d<_0x370b5c['length'];_0x52803d++){const _0x2bb9c4=_0x370b5c[_0x52803d]*(0x1756+0x1651+-0x2da4),_0xf48063=_0x52803d*_0x2f273f+_0x2f273f;_0x17ab85[_0xf48063]=_0x4d2643[_0x2bb9c4],_0x17ab85[_0xf48063+(-0x3*-0x202+0x15e2+-0x1be7)]=_0x4d2643[_0x2bb9c4+(0x51c+-0xa9*-0x4+-0x7bf)],_0x17ab85[_0xf48063+(0xdcd*-0x2+-0x1d9d+0x3939)]=_0x4d2643[_0x2bb9c4+(-0x1f33+0xa7d+0x14b8)];}_0x425732['unlock'](),_0x2b10fb[_0x742415]['target']['_setTextur'+'e'](_0x2b10fb[_0x742415]['name'],_0x425732);}const _0x57bebd=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(-0x723+-0x5e3*0x1+-0x2*-0x683)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x57bebd,_0x596592['length']),_0x596592['length'],{'data':new Uint32Array(_0x596592)}),!(-0x3*0x2fa+0x22+0x8cc);}['destroy'](){var _0x28e854;(_0x28e854=this['vertexBuff'+'erIds'])==null||_0x28e854['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x20f09a=0xdfa+-0xda3+0x1*-0x57;_0x20f09a<this['_targets']['length'];_0x20f09a++)this['_targets'][_0x20f09a]['destroy']();this['_targets']['length']=0xe*-0x20c+-0x427*0x2+0x6*0x629;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0xd8f+-0xf*0x254+0x155e),this['_morphNorm'+'als']=!(0x12ec+-0x1350+0x65*0x1);for(let _0xd250a7=-0xdbb+-0x1*-0x25+0xd96;_0xd250a7<this['_targets']['length'];_0xd250a7++){const _0xd6829c=this['_targets'][_0xd250a7];_0xd6829c['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x26ff*0x1+0x17*-0xe1+-0x11e*-0x35)),_0xd6829c['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x7*0x39b+0x703+0x2*0x91d));}}['_createTex'+'ture'](_0x23d9dd,_0x4162e7){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x4162e7,'cubemap':!(-0x128c+0xa*0x33d+-0xdd5),'mipmaps':!(0x13c3+0xa7b*0x3+-0x3333),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x23d9dd});}}class Qc{constructor(_0x864f12){c(this,'used',!(0x1b87+-0x1ac*0xd+-0x5ca)),(v['assert'](arguments['length']===-0x11f3+0x6a2+0xb52),this['options']=_0x864f12,this['_name']=_0x864f12['name'],this['_defaultWe'+'ight']=_0x864f12['defaultWei'+'ght']||-0x1*-0xabd+-0x1*-0x2516+-0x1*0x2fd3,this['_aabb']=_0x864f12['aabb'],this['deltaPosit'+'ions']=_0x864f12['deltaPosit'+'ions']);}['destroy'](){var _0x64b6da,_0x27f612;(_0x64b6da=this['texturePos'+'itions'])==null||_0x64b6da['destroy'](),this['texturePos'+'itions']=null,(_0x27f612=this['textureNor'+'mals'])==null||_0x27f612['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x6b*-0x1c+-0x92e+0x1b*0xc6);}['_setTextur'+'e'](_0x57a2be,_0x5b4613){this[_0x57a2be]=_0x5b4613;}}let si,v_=-0x16f*0x10+0x290+0x1461;const ie=0x1786+-0x239*0x4+0x74f*-0x2,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x5b5bb0){return _0x5b5bb0-Math['floor'](_0x5b5bb0);}function KM(_0x1497a8){return Math['max'](Math['min'](_0x1497a8,-0x9*0x271+0xeae+0x1d3*0x4),0x7aa+-0x196b+0x11c1);}function Hd(_0x4aeaa8,_0x53641b){return _0x4aeaa8-_0x53641b*Math['floor'](_0x4aeaa8/_0x53641b);}function ZM(_0x4b65fa){let _0x22e269=ia(_0x4b65fa),_0x2d1c9f=ia((0x15a4+0xd6+-0x157b)*_0x4b65fa),_0x3ae42d=ia((0x12cd1+0x5*0x304d+-0x12051)*_0x4b65fa),_0x39500f=ia((-0xe1653f4+0xe758c1+0x16c14232)*_0x4b65fa);return _0x22e269-=_0x2d1c9f/(0x1d50+0x1e96+-0x3ae7),_0x2d1c9f-=_0x3ae42d/(-0x103*0x13+0x855+0xbe3),_0x3ae42d-=_0x39500f/(0x6d*-0x35+-0x16f5+0x2e85),_0x39500f-=_0x39500f/(-0x15b7+-0xc81*-0x3+-0xecd),[_0x22e269,_0x2d1c9f,_0x3ae42d,_0x39500f];}function Nl(_0x38bfbb){let _0x58543b=ia(_0x38bfbb),_0x3049db=ia((-0xb3e*0x1+-0x2*-0xd03+-0xdc9)*_0x38bfbb);return _0x58543b-=_0x3049db/(0x61d+-0x211f+0x1*0x1c01),_0x3049db-=_0x3049db/(0xe3a*0x2+-0x49e+-0x16d7),[_0x58543b,_0x3049db];}class QM{constructor(_0x1dc16f){this['_emitter']=_0x1dc16f;}['calcSpawnP'+'osition'](_0x1bc7a4,_0x5f3c73,_0x5964d1,_0x85b771,_0x3cceec){const _0xdaa97d=this['_emitter'],_0x1ea6a4=Math['random'](),_0x565487=Math['random'](),_0xfa7aa2=Math['random'](),_0x1c06d4=Math['random']();if(_0xdaa97d['useCpu']&&(_0x1bc7a4[_0x3cceec*ie+(0x2bd*0x5+-0x184*0x15+-0x1223*-0x1)+_0xdaa97d['numParticl'+'esPot']*(0xab1+-0xe*-0x24b+-0x2ac9)*ie]=_0x1ea6a4,_0x1bc7a4[_0x3cceec*ie+(0xd0e*0x2+-0x7d5+-0x1246)+_0xdaa97d['numParticl'+'esPot']*(0x1eb9+0x1c09*-0x1+0x7*-0x62)*ie]=_0x565487,_0x1bc7a4[_0x3cceec*ie+(0x44*0x45+0x1*-0x64f+-0xc03)+_0xdaa97d['numParticl'+'esPot']*(0x1460+0x215a+-0x35b8)*ie]=_0xfa7aa2),ze['x']=_0x1ea6a4-(-0x2303*-0x1+-0x449+-0x1eba+0.5),ze['y']=_0x565487-(0x1937+0x1*-0x542+-0x13f5+0.5),ze['z']=_0xfa7aa2-(-0x465+0x166*0x17+-0x1bc5+0.5),_0xdaa97d['emitterSha'+'pe']===Vs){const _0x3c08dc=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x16ca51=_0x3c08dc+(-0x8*0x472+0x42*-0x14+0x28b8+0.5-_0x3c08dc)*_0x5964d1[-0x1861+-0x1d1d*0x1+0x357e],_0x5d2f7c=_0x3c08dc+(-0x5a2+-0x268f*-0x1+-0x20ed+0.5-_0x3c08dc)*_0x5964d1[0x1*0x3fb+-0x19e2+0x15e8],_0x224b50=_0x3c08dc+(0x104*0x1a+0xdc3+-0x1*0x282b+0.5-_0x3c08dc)*_0x5964d1[-0x260*-0x8+-0x1b5a+0x85c];ze['x']=_0x16ca51*(_0x3c08dc===Math['abs'](ze['x'])?Math['sign'](ze['x']):(0x56d+0x2b*-0x2b+0x1ce)*ze['x']),ze['y']=_0x5d2f7c*(_0x3c08dc===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0x1161+0x125d*-0x1+0x23c0)*ze['y']),ze['z']=_0x224b50*(_0x3c08dc===Math['abs'](ze['z'])?Math['sign'](ze['z']):(-0x62b+-0xd5*-0x18+-0x1*0xdcb)*ze['z']),_0xdaa97d['localSpace']?ks['copy'](_0x5f3c73['transformP'+'oint'](ze)):ks['copy'](_0x85b771)['add'](_0x5f3c73['transformP'+'oint'](ze));}else{ze['normalize']();const _0x3ba2d8=_0xdaa97d['emitterRad'+'ius']===0x3*-0x433+-0x78d+-0xa13*-0x2?-0x14a5+0x84c+0xc59:_0xdaa97d['emitterRad'+'iusInner']/_0xdaa97d['emitterRad'+'ius'],_0x2dd94e=_0x1c06d4*(-0x1d28+0xd70*-0x1+0xf*0x2d7-_0x3ba2d8)+_0x3ba2d8;_0xdaa97d['localSpace']?ks['copy'](ze['mulScalar'](_0x2dd94e*_0xdaa97d['emitterRad'+'ius'])):ks['copy'](_0x85b771)['add'](ze['mulScalar'](_0x2dd94e*_0xdaa97d['emitterRad'+'ius']));}let _0x5b21b4=-N['lerp'](_0xdaa97d['rate'],_0xdaa97d['rate2'],_0x1ea6a4)*_0x3cceec;if(_0xdaa97d['pack8']){const _0x5c9804=(ks['x']-_0xdaa97d['worldBound'+'s']['center']['x'])/_0xdaa97d['worldBound'+'sSize']['x']+(0x85+0xa42+-0xac7+0.5),_0x2fd0e8=(ks['y']-_0xdaa97d['worldBound'+'s']['center']['y'])/_0xdaa97d['worldBound'+'sSize']['y']+(-0x1*0x92b+0xd08+-0x17*0x2b+0.5),_0x3951cc=(ks['z']-_0xdaa97d['worldBound'+'s']['center']['z'])/_0xdaa97d['worldBound'+'sSize']['z']+(0x9d2+-0x59b*0x6+-0x30*-0x7f+0.5);let _0x2bd0de=N['lerp'](_0xdaa97d['startAngle']*N['DEG_TO_RAD'],_0xdaa97d['startAngle'+'2']*N['DEG_TO_RAD'],_0x1ea6a4);_0x2bd0de=_0x2bd0de%(Math['PI']*(0x1b6*-0x16+-0x3*0x786+0xf0e*0x4))/(Math['PI']*(-0x1c69+-0x264*0x2+0x2133));const _0x2d197e=Nl(_0x5c9804);_0x1bc7a4[_0x3cceec*ie]=_0x2d197e[-0x1975+0x26dd+-0xd68],_0x1bc7a4[_0x3cceec*ie+(0x1*-0x1d71+-0x2*-0x1c9+0xcf0*0x2)]=_0x2d197e[0x1*0xe1b+0x267+-0x1081];const _0x5de400=Nl(_0x2fd0e8);_0x1bc7a4[_0x3cceec*ie+(-0x1*0x13d+0x1*-0x13f3+0x1532)]=_0x5de400[0x3df*-0x1+0x203+0x1dc],_0x1bc7a4[_0x3cceec*ie+(-0x1790+0x1c4e+0x1*-0x4bb)]=_0x5de400[0x1e6d+0x61*-0x3b+-0x19d*0x5];const _0x7bafe3=Nl(_0x3951cc);_0x1bc7a4[_0x3cceec*ie+(-0x1*0x2503+-0x4aa+0x1*0x29ad)+_0xdaa97d['numParticl'+'esPot']*ie]=_0x7bafe3[0x8f+0x179a+0x5*-0x4d5],_0x1bc7a4[_0x3cceec*ie+(0x184+-0x1*0x2597+-0x4*-0x905)+_0xdaa97d['numParticl'+'esPot']*ie]=_0x7bafe3[0x2507+0xebd+-0x3*0x1141];const _0xb29cc4=Nl(_0x2bd0de);_0x1bc7a4[_0x3cceec*ie+(0x6fb*0x5+0x2490+-0x4775)+_0xdaa97d['numParticl'+'esPot']*ie]=_0xb29cc4[-0x132d*-0x1+0x1*0x6f7+-0xef*0x1c],_0x1bc7a4[_0x3cceec*ie+(0x187b+-0x1290+-0x38*0x1b)+_0xdaa97d['numParticl'+'esPot']*ie]=_0xb29cc4[0x6ba+-0xd*0x6a+-0x157];const _0x1531ec=0x1*0x102+-0x22b6+0x21b5;_0x1bc7a4[_0x3cceec*ie+(-0x1002+0x1ae6+0xae1*-0x1)+_0xdaa97d['numParticl'+'esPot']*ie*(-0x269f*-0x1+-0x430+0x1*-0x226d)]=_0x1531ec;const _0x135461=Math['max'](_0xdaa97d['lifetime'],(_0xdaa97d['numParticl'+'es']-(0x20f8+0xa*0x10d+-0x1f*0x167))*Math['max'](_0xdaa97d['rate'],_0xdaa97d['rate2'])),_0x4698db=_0xdaa97d['lifetime']+(-0x1f81+-0xb3*0x28+0x2e*0x14b);_0x5b21b4=(_0x5b21b4+_0x135461)/(_0x135461+_0x4698db);const _0x3abc30=ZM(_0x5b21b4);_0x1bc7a4[_0x3cceec*ie+(-0x2*0x15b+-0x1*0x1f0f+-0x6c1*-0x5)+_0xdaa97d['numParticl'+'esPot']*ie*(0xd21*-0x2+0x47e+-0xdf*-0x19)]=_0x3abc30[-0xa21*0x1+-0xb12+-0x1*-0x1533],_0x1bc7a4[_0x3cceec*ie+(0xe59+0x73d+0xd*-0x1a9)+_0xdaa97d['numParticl'+'esPot']*ie*(-0x1e8f*0x1+0xbf*-0x30+0x4262)]=_0x3abc30[0x85f+-0x21d7*0x1+-0x1*-0x1979],_0x1bc7a4[_0x3cceec*ie+(-0x125*-0x11+-0xdff+-0x574)+_0xdaa97d['numParticl'+'esPot']*ie*(-0x120d*-0x1+-0x2*0x114a+0x108a)]=_0x3abc30[0xfcb+-0x1c0c+0xc43],_0x1bc7a4[_0x3cceec*ie+(-0x23e+0x1d0e+-0x1acd)+_0xdaa97d['numParticl'+'esPot']*ie*(0x2a*-0xce+0x218b+-0x22*-0x2)]=_0x3abc30[0x337*-0x2+0xe80+-0x80f*0x1];}else _0x1bc7a4[_0x3cceec*ie]=ks['x'],_0x1bc7a4[_0x3cceec*ie+(-0x363*-0x6+-0x1*0x25af+-0x6*-0x2e5)]=ks['y'],_0x1bc7a4[_0x3cceec*ie+(-0x24d9*0x1+0x1*-0x4a2+0x297d)]=ks['z'],_0x1bc7a4[_0x3cceec*ie+(-0x1c6f+0x3c4*-0x3+0x27be)]=N['lerp'](_0xdaa97d['startAngle']*N['DEG_TO_RAD'],_0xdaa97d['startAngle'+'2']*N['DEG_TO_RAD'],_0x1ea6a4),_0x1bc7a4[_0x3cceec*ie+(0x63d*-0x5+0x1034+0xf00)+_0xdaa97d['numParticl'+'esPot']*ie]=_0x5b21b4;}['update'](_0xaf70eb,_0x15ed55,_0x36fff9,_0x17b675,_0x6698e4,_0x323c5b,_0x12efbe,_0x242e98){let _0x57869a,_0x307226,_0x4bc5c0;const _0x507f60=this['_emitter'];if(_0x507f60['meshInstan'+'ce']['node']){const _0x1e98c9=_0x507f60['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x94a2=-0x3*0x137+-0x3b2+0x757;_0x94a2<-0xbd0+0x2232+-0x1656;_0x94a2++)Vd['data'][_0x94a2]=_0x1e98c9['data'][_0x94a2];Gd['copy'](Vd),Gd['invert'](),si=_0x507f60['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x323c5b=_0x507f60['meshInstan'+'ce']['node']===null||_0x507f60['localSpace']?T['ZERO']:_0x507f60['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x53ff8f=_0x507f60['camera']?_0x507f60['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x28b786=_0x507f60['useMesh']?0x2*-0xe7f+-0x1*0x7c+0x1d8b:0x1c9e+-0x2f5*-0x5+-0x2b58;let _0xab967a,_0x4f350d,_0x118fd5,_0x2a6673,_0x11afe0,_0x56785c,_0xb1c65,_0x6ec3c5,_0x4fac20;const _0x3d8fc8=_0x507f60['precision']-(-0x31e+-0x1f97*0x1+-0x5c9*-0x6);for(let _0x1cd614=0x1fbb+-0xf0c+0x10af*-0x1;_0x1cd614<_0x507f60['numParticl'+'es'];_0x1cd614++){const _0x21bcff=Math['floor'](_0x507f60['vbCPU'][_0x1cd614*_0x507f60['numParticl'+'eVerts']*(_0x507f60['useMesh']?-0x361+-0x1*-0x8b+0xc*0x3d:-0x1*0x871+0x12d+-0x748*-0x1)+(-0x1996+-0x3f5*0x9+0x1*0x3d36)]),_0x5d8ef6=_0x36fff9[_0x21bcff*ie+(-0x1d06+0x193f*0x1+0x3c7)+_0x507f60['numParticl'+'esPot']*(-0x2b6+0x785+-0x1*0x4cd)*ie];ps['x']=_0x5d8ef6,ps['y']=_0x36fff9[_0x21bcff*ie+(0x1*0x4f7+0x17*-0x135+-0x1*-0x16cd)+_0x507f60['numParticl'+'esPot']*(0x71d+0xedb+-0x15f6)*ie],ps['z']=_0x36fff9[_0x21bcff*ie+(-0xb0e+0x1e47+-0x1337)+_0x507f60['numParticl'+'esPot']*(0x64*-0x35+0x60f+0xea7)*ie];const _0x47795b=_0x507f60['rate']+(_0x507f60['rate2']-_0x507f60['rate'])*_0x5d8ef6,_0x4e5fbb=_0x507f60['lifetime'];let _0x2895ed=_0x36fff9[_0x21bcff*ie+(0xce4+-0x18b*-0x3+-0x1b*0xa6)+_0x507f60['numParticl'+'esPot']*ie]+_0x12efbe;const _0x4bd7fe=KM(_0x2895ed/_0x4e5fbb);let _0xb47d6a=0x8*0x17f+-0x3b3*-0x1+-0xfab,_0x3f922d=-0xfa7*-0x1+0xbe7*0x1+-0x1b8e;const _0x56a91d=-0x5*-0x6ec+0x3*0xa39+-0x4147;(_0x2895ed-_0x12efbe<=0x96b+0xd9b+-0x34a*0x7||_0x2895ed>=_0x4e5fbb)&&this['calcSpawnP'+'osition'](_0x36fff9,_0x17b675,_0x6698e4,_0x323c5b,_0x21bcff);let _0x3261ca=_0x2895ed>-0x1e34+-0x295+0x20c9&&_0x2895ed<_0x4e5fbb;_0x3261ca&&(_0x4bc5c0=_0x4bd7fe*_0x3d8fc8,_0xab967a=Math['floor'](_0x4bc5c0),_0x4f350d=Math['ceil'](_0x4bc5c0),_0x4bc5c0%=0x847+-0xd22*-0x1+-0x1568,_0x57869a=_0x507f60['qRotSpeed'][_0xab967a],_0x307226=_0x507f60['qRotSpeed'][_0x4f350d],_0x118fd5=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qRotSpeed2'][_0xab967a],_0x307226=_0x507f60['qRotSpeed2'][_0x4f350d],_0x2a6673=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qScale'][_0xab967a],_0x307226=_0x507f60['qScale'][_0x4f350d],_0xb47d6a=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qScale2'][_0xab967a],_0x307226=_0x507f60['qScale2'][_0x4f350d],_0x11afe0=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qAlpha'][_0xab967a],_0x307226=_0x507f60['qAlpha'][_0x4f350d],_0x56785c=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qAlpha2'][_0xab967a],_0x307226=_0x507f60['qAlpha2'][_0x4f350d],_0xb1c65=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qRadialSpe'+'ed'][_0xab967a],_0x307226=_0x507f60['qRadialSpe'+'ed'][_0x4f350d],_0x6ec3c5=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qRadialSpe'+'ed2'][_0xab967a],_0x307226=_0x507f60['qRadialSpe'+'ed2'][_0x4f350d],_0x4fac20=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x6ec3c5+=(_0x4fac20-_0x6ec3c5)*(_0x5d8ef6*(-0x72f*0x5+0x1*-0x1762+-0x887*-0x7)%(0x1506+-0x28e+-0x1277)),Rn['x']=_0x36fff9[_0x21bcff*ie],Rn['y']=_0x36fff9[_0x21bcff*ie+(-0x1a*-0xdf+0x1*-0x7e5+0x10*-0xec)],Rn['z']=_0x36fff9[_0x21bcff*ie+(-0x2635+0xe6e+0x17c9)],_0x507f60['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x323c5b),Ka['normalize']()['mulScalar'](_0x6ec3c5),_0xab967a*=0xeba+0xb83+-0x1a3a,_0x4f350d*=0x4*0x7b5+-0x137f+-0xb52,_0x57869a=_0x507f60['qLocalVelo'+'city'][_0xab967a],_0x307226=_0x507f60['qLocalVelo'+'city'][_0x4f350d],Ze['x']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qLocalVelo'+'city'][_0xab967a+(0x2*0x725+0xaac+0x1*-0x18f5)],_0x307226=_0x507f60['qLocalVelo'+'city'][_0x4f350d+(-0x1f76*-0x1+0x229a+-0x3*0x1605)],Ze['y']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qLocalVelo'+'city'][_0xab967a+(0x72a*-0x2+0x1efd+0x31*-0x57)],_0x307226=_0x507f60['qLocalVelo'+'city'][_0x4f350d+(-0x2*0x338+0x1c19*-0x1+0x228b)],Ze['z']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qLocalVelo'+'city2'][_0xab967a],_0x307226=_0x507f60['qLocalVelo'+'city2'][_0x4f350d],Dn['x']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qLocalVelo'+'city2'][_0xab967a+(-0x1e03+-0x5*-0x706+-0x51a)],_0x307226=_0x507f60['qLocalVelo'+'city2'][_0x4f350d+(-0x49e*-0x2+-0x14ef+0xbb4)],Dn['y']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qLocalVelo'+'city2'][_0xab967a+(0x1f3f*0x1+0x1261*-0x1+0x2*-0x66e)],_0x307226=_0x507f60['qLocalVelo'+'city2'][_0x4f350d+(0x370+0x1a67*0x1+0x7*-0x443)],Dn['z']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qVelocity'][_0xab967a],_0x307226=_0x507f60['qVelocity'][_0x4f350d],Nt['x']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qVelocity'][_0xab967a+(0x613*0x5+-0x1571+-0x8ed)],_0x307226=_0x507f60['qVelocity'][_0x4f350d+(-0x1d2d+-0x1389+-0x1*-0x30b7)],Nt['y']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qVelocity'][_0xab967a+(-0x21b9+-0xd2b+0xfa2*0x3)],_0x307226=_0x507f60['qVelocity'][_0x4f350d+(0xc6c+-0x1330+0x6c6)],Nt['z']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qVelocity2'][_0xab967a],_0x307226=_0x507f60['qVelocity2'][_0x4f350d],In['x']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qVelocity2'][_0xab967a+(0x1f34+0x51e*0x5+0x38c9*-0x1)],_0x307226=_0x507f60['qVelocity2'][_0x4f350d+(-0x25ee+-0x370*0x1+-0x7*-0x5e9)],In['y']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,_0x57869a=_0x507f60['qVelocity2'][_0xab967a+(-0x2de+-0x20e5+0x1*0x23c5)],_0x307226=_0x507f60['qVelocity2'][_0x4f350d+(-0x2a*0xd7+0xcbd+0x168b*0x1)],In['z']=_0x57869a+(_0x307226-_0x57869a)*_0x4bc5c0,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x507f60['initialVel'+'ocity']>0xa58+0x20e6+-0x2b3e&&(_0x507f60['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](0x15e*-0x14+-0x26d0+-0x2*-0x2115)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x507f60['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x507f60['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x118fd5+=(_0x2a6673-_0x118fd5)*ps['y'],_0xb47d6a=(_0xb47d6a+(_0x11afe0-_0xb47d6a)*(_0x5d8ef6*(-0x609*0x7+-0x235*-0x5+0x4646)%(-0x1a99+-0x246b+0x3f05)))*v_,_0x3f922d=(_0xb1c65-_0x56785c)*(_0x5d8ef6*(-0x1*-0x17fe+0xe6a+-0x17*0x180)%(0x337*0x7+0x11fc+0x287c*-0x1)),_0x507f60['meshInstan'+'ce']['node']&&(_0x507f60['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x507f60['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x12efbe)),vt['copy'](b_),_0x36fff9[_0x21bcff*ie]=vt['x'],_0x36fff9[_0x21bcff*ie+(-0x219*-0xb+-0xbb4+0xb5e*-0x1)]=vt['y'],_0x36fff9[_0x21bcff*ie+(0x7*-0xf8+-0x125*-0xb+0x5cd*-0x1)]=vt['z'],_0x36fff9[_0x21bcff*ie+(-0x2b*-0x64+-0x1*0x1aa7+0x9de)]+=_0x118fd5*_0x12efbe,_0x507f60['wrap']&&_0x507f60['wrapBounds']&&(_0x507f60['localSpace']||vt['sub'](_0x323c5b),vt['x']=Hd(vt['x'],_0x507f60['wrapBounds']['x'])-_0x507f60['wrapBounds']['x']*(-0x109c+0xc4d+0x44f+0.5),vt['y']=Hd(vt['y'],_0x507f60['wrapBounds']['y'])-_0x507f60['wrapBounds']['y']*(-0x1f85+0x17c0+0x7c5+0.5),vt['z']=Hd(vt['z'],_0x507f60['wrapBounds']['z'])-_0x507f60['wrapBounds']['z']*(0x2623+-0x21cf+-0x454+0.5),_0x507f60['localSpace']||vt['add'](_0x323c5b)),_0x507f60['sort']>-0x1*0x1471+0x720+0x1e7*0x7&&(_0x507f60['sort']===-0xcdf*-0x1+0xf51+-0x1c2f?(wr['copy'](vt)['sub'](_0x53ff8f),_0x507f60['particleDi'+'stance'][_0x21bcff]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x507f60['sort']===0xdc9+-0x9*0x251+0x712?_0x507f60['particleDi'+'stance'][_0x21bcff]=_0x2895ed:_0x507f60['sort']===-0x61*0x1+0x1da*-0x2+0x4*0x106&&(_0x507f60['particleDi'+'stance'][_0x21bcff]=-_0x2895ed))),_0x242e98?_0x2895ed<0x206a+-0x1b9+-0x1eb1&&(_0x36fff9[_0x21bcff*ie+(-0x1*-0x51e+0x2*-0x22d+0xc1*-0x1)+_0x507f60['numParticl'+'esPot']*(-0x1*0x18c4+0x5*-0x212+0x2320)*ie]=-(-0x1616+-0x1*0x1ed1+0x34e8)):(_0x2895ed>=_0x4e5fbb&&(_0x2895ed-=Math['max'](_0x4e5fbb,(_0x507f60['numParticl'+'es']-(0x1de7+0x1a06+0x37ec*-0x1))*_0x47795b),_0x36fff9[_0x21bcff*ie+(-0xbac*0x1+-0x585+0x1134)+_0x507f60['numParticl'+'esPot']*(-0x786*0x2+0x89*0x25+-0x4bf)*ie]=_0x507f60['loop']?0x95f*0x2+-0x44+-0x1279:-(0x26e1+0x4ff+-0x2bdf)),_0x2895ed<-0x1b02+0x2622+-0x1*0xb20&&_0x507f60['loop']&&(_0x36fff9[_0x21bcff*ie+(0xb74+0x1*-0x1d55+0xe5*0x14)+_0x507f60['numParticl'+'esPot']*(0xd82+0x222a+-0x2faa*0x1)*ie]=0xf8a+0x8bb+-0x1844)),_0x36fff9[_0x21bcff*ie+(0x12*0x12a+-0x89*0x25+-0x124)+_0x507f60['numParticl'+'esPot']*(-0x2*-0xd05+-0x18bd+-0x14b*0x1)*ie]<0xb5f+0x9d*-0x21+0xa*0xe3&&(_0x3261ca=!(-0x52b*-0x2+-0x99*-0x11+-0x2*0xa3f)),_0x36fff9[_0x21bcff*ie+(0x551*0x6+0xe57+0x1*-0x2e3a)+_0x507f60['numParticl'+'esPot']*ie]=_0x2895ed;for(let _0x2b8941=-0x596+0x759+-0x1*0x1c3;_0x2b8941<_0x507f60['numParticl'+'eVerts'];_0x2b8941++){const _0x34335f=(_0x1cd614*_0x507f60['numParticl'+'eVerts']+_0x2b8941)*(_0x507f60['useMesh']?0x1e24+0x2*0x1305+-0x6*0xb5c:0x37*0x5+0x7bb*0x5+-0x22*0x12b);let _0x582c9c=_0x507f60['vbCPU'][_0x34335f],_0xc6978e=_0x507f60['vbCPU'][_0x34335f+(0x99c*-0x1+-0x896+0x1233*0x1)],_0x24d7e2=_0x507f60['vbCPU'][_0x34335f+(-0x31b+0x1288+-0xf6b)];_0x3261ca||(_0x582c9c=_0xc6978e=_0x24d7e2=-0x1f61+-0x166d+-0x47*-0xc2);const _0x229bff=_0x1cd614*_0x507f60['numParticl'+'eVerts']*_0x28b786+_0x2b8941*_0x28b786;_0xaf70eb[_0x229bff]=vt['x'],_0xaf70eb[_0x229bff+(0x10b*0xe+-0x435+-0xa64)]=vt['y'],_0xaf70eb[_0x229bff+(-0x1892+-0xa9f+0x2333*0x1)]=vt['z'],_0xaf70eb[_0x229bff+(-0x1f75+-0xff4+0x2f6c)]=_0x4bd7fe,_0xaf70eb[_0x229bff+(-0x88e*0x4+-0x180d+0x3a49)]=_0x507f60['alignToMot'+'ion']?_0x56a91d:_0x36fff9[_0x21bcff*ie+(-0x1*0x1659+0x1*0xa41+0x409*0x3)],_0xaf70eb[_0x229bff+(0xe3*-0x17+-0x1a7e*0x1+0xbba*0x4)]=_0xb47d6a,_0xaf70eb[_0x229bff+(0x25e0+0x150c+0x13a2*-0x3)]=_0x3f922d,_0xaf70eb[_0x229bff+(-0x14c8+0xd*0x1ca+-0x273)]=Bl['x'],_0xaf70eb[_0x229bff+(-0x17*0x6f+0x198e*-0x1+-0x1*-0x238f)]=_0x582c9c,_0xaf70eb[_0x229bff+(0xa85*-0x3+0x3*-0x6dc+0x342c)]=_0xc6978e,_0xaf70eb[_0x229bff+(-0x156f*0x1+0x3*0xb5c+-0xc9b)]=_0x24d7e2,_0xaf70eb[_0x229bff+(0x3c5*-0x2+0x2*-0x12a4+0x2cdd)]=Bl['y'],_0xaf70eb[_0x229bff+(0x1*0x278+-0x3*-0x54f+0xb*-0x1ab)]=_0x21bcff,_0xaf70eb[_0x229bff+(-0x3d1+0x1162+-0xd84)]=Bl['z'],_0xaf70eb[_0x229bff+(-0x882+0x252b+-0x1c9b)]=_0x507f60['vbCPU'][_0x34335f+(-0x72*0x47+0x140c*-0x1+-0x1*-0x33ad)],_0x507f60['useMesh']&&(_0xaf70eb[_0x229bff+(-0x2615*0x1+-0x12fa+0x391e)]=_0x507f60['vbCPU'][_0x34335f+(-0x511*-0x5+0x2*0xa9b+-0x2e87)],_0xaf70eb[_0x229bff+(-0x105b+0x2272*0x1+0x163*-0xd)]=_0x507f60['vbCPU'][_0x34335f+(0x1558+0x2395+-0x38e8)]);}}if(_0x507f60['sort']>Du&&_0x507f60['camera']){const _0x38e2e3=_0x507f60['useMesh']?-0x1bbb+0x29b+0x25*0xae:0x14*-0xb5+0x1d9e+-0xf76,_0x58463c=_0x507f60['particleDi'+'stance'];for(let _0x1f0875=0x2020+-0x19*0x16a+-0x7*-0x76;_0x1f0875<_0x507f60['numParticl'+'es'];_0x1f0875++)_0x15ed55[_0x1f0875][0x1892+-0xd*-0x16+-0x18*0x112]=_0x1f0875,_0x15ed55[_0x1f0875][-0x63a+0x7*-0x36b+-0x78a*-0x4]=_0x58463c[Math['floor'](_0x507f60['vbCPU'][_0x1f0875*_0x507f60['numParticl'+'eVerts']*_0x38e2e3+(-0x444+-0x61c+0x1*0xa63)])];_0x507f60['vbOld']['set'](_0x507f60['vbCPU']),_0x15ed55['sort']((_0x38f829,_0x150924)=>_0x38f829[-0x1*0x1116+0x5*0x47+-0x192*-0xa]-_0x150924[0x2205+-0x1ae8+0x5*-0x16c]);for(let _0x10c9bd=-0x9c5+-0x1cf6+0x5*0x7bf;_0x10c9bd<_0x507f60['numParticl'+'es'];_0x10c9bd++){const _0x4f62c0=_0x15ed55[_0x10c9bd][0x760*-0x4+0x2387+-0x607]*_0x507f60['numParticl'+'eVerts']*_0x38e2e3,_0x5a49fd=_0x10c9bd*_0x507f60['numParticl'+'eVerts']*_0x38e2e3;for(let _0x21a140=-0x2b+-0x35*-0x8+0x17d*-0x1;_0x21a140<_0x507f60['numParticl'+'eVerts']*_0x38e2e3;_0x21a140++)_0x507f60['vbCPU'][_0x5a49fd+_0x21a140]=_0x507f60['vbOld'][_0x4f62c0+_0x21a140];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0xba7b73,_0x4af2f){this['_emitter']=_0xba7b73,this['frameRando'+'mUniform']=new Float32Array(0x36*0x99+0x223*0xf+0x62*-0xa8),this['emitterPos'+'Uniform']=new Float32Array(-0xfb9+-0x1*-0x273+0xd49),this['emitterSca'+'leUniform']=new Float32Array([-0x656*-0x1+-0x6b*-0x2c+-0x18b9*0x1,0x1a83+0xac3+-0x2545,0x99d+0xd4f*0x1+-0x16eb]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0xbb9*-0x2+-0x14*0xbe+0x5*0x7a9),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x2600+-0x13c1+0x1*0x39c4),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x1926+0x1*0x1ad7+0x2*-0xd7),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x5b*-0x13+0x9*-0x15b+0x575),this['constantPa'+'rticleTexI'+'N']=_0x4af2f['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x4af2f['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x4af2f['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x4af2f['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x4af2f['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x4af2f['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x4af2f['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x4af2f['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x4af2f['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x4af2f['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x4af2f['scope']['resolve']('delta'),this['constantRa'+'te']=_0x4af2f['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x4af2f['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x4af2f['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x4af2f['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x4af2f['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x4af2f['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x4af2f['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x4af2f['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x4af2f['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x4af2f['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x4af2f['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x4af2f['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x4af2f['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x4af2f['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x4af2f['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x4af2f['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x4af2f['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x4af2f['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x4af2f['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x4af2f['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x4af2f['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x4af2f['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x4af2f['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x4af2f['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x4af2f['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x4af2f['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0xb*-0x145+0x1d64+-0x167*0xb]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x5e1+0x1269+-0x1*0x1849]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x4a4*-0x1+-0x2262+-0x770*-0x4]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x207d+-0x1a3*0x16+0x447f*0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x3*0x61+-0x7*-0x1c6+-0xb46]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x1f4d+0x35*0x18+-0x2443*0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x17d8+0x15b6+-0x2d8e]=Math['random'](),this['frameRando'+'mUniform'][0x706+0x1*-0x35f+0x1d3*-0x2]=Math['random'](),this['frameRando'+'mUniform'][0x1607+-0x16bb+-0x1a*-0x7]=Math['random']();}['update'](_0x20f52b,_0x367238,_0x57c7a8,_0x1983cb,_0x3494d3){G['pushGpuMar'+'ker'](_0x20f52b,'ParticleGP'+'U');const _0x28b2fd=this['_emitter'];_0x20f52b['setBlendSt'+'ate'](_t['NOBLEND']),_0x20f52b['setDepthSt'+'ate'](as['NODEPTH']),_0x20f52b['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x1*0x1d23+-0x17a7+0x5*0xa8f)/_0x28b2fd['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x28b2fd['precision']),this['constantNu'+'mParticles']['setValue'](_0x28b2fd['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x28b2fd['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x28b2fd['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x28b2fd['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x28b2fd['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x28b2fd['internalTe'+'x3']);const _0x218463=_0x28b2fd['meshInstan'+'ce']['node'],_0x19ccff=_0x218463===null?T['ONE']:_0x218463['localScale'];if(_0x28b2fd['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x37*-0x6e+-0x6e*0x1a+-0xc76]=_0x28b2fd['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x2*0x106c+0x20f2+0x41c9*-0x1]=_0x28b2fd['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x2*-0x5f3+-0x7*0x161+0x158f]=_0x28b2fd['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x4eb+-0x83c+0x11b*0x3]=_0x28b2fd['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x301*-0x5+-0x637*0x1+-0x2ef*0x3]=_0x28b2fd['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x104f*-0x1+-0x1268+-0x7*-0x4d]=_0x28b2fd['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x205cf3=_0x28b2fd['maxVel']*Math['max'](Math['max'](_0x19ccff['x'],_0x19ccff['y']),_0x19ccff['z']);_0x205cf3=Math['max'](_0x205cf3,0x1f*0x3+0x140e+-0x43*0x4e),this['constantMa'+'xVel']['setValue'](_0x205cf3);}const _0x44542c=_0x218463===null||_0x28b2fd['localSpace']?T['ZERO']:_0x218463['getPositio'+'n'](),_0x5695df=_0x218463===null?q['IDENTITY']:_0x218463['getWorldTr'+'ansform']();_0x28b2fd['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x367238),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x57c7a8)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x28b2fd['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x28b2fd['emitterRad'+'ius']===-0x1cff+0x13*0x1ca+0x4ff*-0x1?-0x10db+-0x2*-0xb4e+-0x5c1*0x1:_0x28b2fd['emitterRad'+'iusInner']/_0x28b2fd['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x28b2fd['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x5695df),A_['invertMat4'](_0x5695df),this['emitterPos'+'Uniform'][-0x24b1+0x855+0x2d6*0xa]=_0x44542c['x'],this['emitterPos'+'Uniform'][-0x5*0x4bc+0xb2+-0x16fb*-0x1]=_0x44542c['y'],this['emitterPos'+'Uniform'][-0x1e8f*0x1+-0x26aa+0x453b]=_0x44542c['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x1983cb),this['constantRa'+'te']['setValue'](_0x28b2fd['rate']),this['constantRa'+'teDiv']['setValue'](_0x28b2fd['rate2']-_0x28b2fd['rate']),this['constantSt'+'artAngle']['setValue'](_0x28b2fd['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x28b2fd['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x28b2fd['seed']),this['constantLi'+'fetime']['setValue'](_0x28b2fd['lifetime']),this['emitterSca'+'leUniform'][0x34c+-0x1439+0x10ed]=_0x19ccff['x'],this['emitterSca'+'leUniform'][0x5*-0x587+0xa7d*0x2+0x6aa]=_0x19ccff['y'],this['emitterSca'+'leUniform'][0x394+-0x1e96+-0xf7*-0x1c]=_0x19ccff['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x28b2fd['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x28b2fd['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x28b2fd['rotSpeedUM'+'ax'][0x1b33+0x1*-0x2313+0x7e0]);let _0x5ecb42=_0x28b2fd['swapTex']?_0x28b2fd['particleTe'+'xOUT']:_0x28b2fd['particleTe'+'xIN'];_0x5ecb42=_0x28b2fd['beenReset']?_0x28b2fd['particleTe'+'xStart']:_0x5ecb42;const _0x3556f1=_0x28b2fd['swapTex']?_0x28b2fd['particleTe'+'xIN']:_0x28b2fd['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x5ecb42),dn(_0x20f52b,_0x28b2fd['swapTex']?_0x28b2fd['rtParticle'+'TexIN']:_0x28b2fd['rtParticle'+'TexOUT'],_0x3494d3?_0x28b2fd['shaderPart'+'icleUpdate'+'OnStop']:_0x28b2fd['loop']?_0x28b2fd['shaderPart'+'icleUpdate'+'Respawn']:_0x28b2fd['shaderPart'+'icleUpdate'+'NoRespawn']),_0x28b2fd['material']['setParamet'+'er']('particleTe'+'xOUT',_0x5ecb42),_0x28b2fd['material']['setParamet'+'er']('particleTe'+'xIN',_0x3556f1),_0x28b2fd['beenReset']=!(-0xb*-0x31b+0x2133+-0x435b),_0x28b2fd['swapTex']=!_0x28b2fd['swapTex'],_0x28b2fd['prevWorldB'+'oundsSize']['copy'](_0x28b2fd['worldBound'+'sSize']),_0x28b2fd['prevWorldB'+'oundsCente'+'r']['copy'](_0x28b2fd['worldBound'+'s']['center']),_0x28b2fd['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x20f52b);}}class e1 extends It{['generateKe'+'y'](_0x26bd48){let _0xec9fa2='particle_'+It['definesHas'+'h'](_0x26bd48['defines'])+'_';for(const _0x2445b1 in _0x26bd48)_0x26bd48['hasOwnProp'+'erty'](_0x2445b1)&&(_0xec9fa2+=_0x26bd48[_0x2445b1]);return _0xec9fa2;}['_animTex'](_0x44f399){let _0x20f1f8='';return _0x20f1f8+=_0x44f399['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x20f1f8+=X['particleAn'+'imTexVS'],_0x20f1f8;}['createShad'+'erDefiniti'+'on'](_0x1f2b08,_0x18987d){const _0x5d1afc='#define\x20PA'+'RTICLE_'+(_0x18987d['useCpu']?'CPU':'GPU')+'\x0a';let _0x5025d8='#define\x20PA'+'RTICLE\x0a'+_0x5d1afc,_0x1a3d68='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x5d1afc;_0x18987d['mesh']&&(_0x1a3d68+='#define\x20US'+'E_MESH\x0a'),_0x18987d['localSpace']&&(_0x1a3d68+='#define\x20LO'+'CAL_SPACE\x0a'),_0x18987d['screenSpac'+'e']&&(_0x1a3d68+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x18987d['animTex']&&(_0x1a3d68+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x18987d['animTex']&&(_0x1a3d68+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x18987d['animTex']&&(_0x1a3d68+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x18987d['normal']===-0x213e+0x1750+-0xc*-0xd4&&(_0x1a3d68+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x18987d['normal']===0x1c82*0x1+-0x1150+-0xb31&&(_0x1a3d68+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x18987d['soft']&&(_0x1a3d68+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x494965=_0x18987d['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x18987d['useCpu']?(_0x18987d['soft']>0x5*-0x4f4+-0x11*0x7b+0x20ef&&(_0x1a3d68+=X['screenDept'+'hPS']),_0x1a3d68+=X['particle_c'+'puVS'],_0x18987d['localSpace']&&(_0x1a3d68+=X['particle_l'+'ocalShiftV'+'S']),_0x18987d['animTex']&&(_0x1a3d68+=this['_animTex'](_0x18987d)),_0x18987d['alignToMot'+'ion']&&(_0x1a3d68+=X['particle_p'+'ointAlongV'+'S']),_0x1a3d68+=_0x18987d['mesh']?X['particle_m'+'eshVS']:_0x494965,_0x18987d['normal']===0x2*0x11db+-0xa0*-0x28+-0x1*0x3cb5&&(_0x1a3d68+=X['particle_n'+'ormalVS']),_0x18987d['normal']===0x2c*-0xc2+0xc8c+0xa67*0x2&&(_0x1a3d68+=X['particle_T'+'BNVS']),_0x18987d['stretch']>-0x103c+-0x19a7+0x29e3&&(_0x1a3d68+=X['particle_s'+'tretchVS']),_0x1a3d68+=X['particle_c'+'pu_endVS'],_0x18987d['soft']>-0x1eb5+0x26ea+-0x835&&(_0x1a3d68+=X['particle_s'+'oftVS'])):(_0x1a3d68+=X['particle_i'+'nitVS'],_0x1a3d68+=_0x18987d['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x18987d['soft']>-0x10e7+0x30*0xb7+-0x1*0x1169&&(_0x1a3d68+=X['screenDept'+'hPS']),_0x1a3d68+=X['particleVS'],_0x18987d['localSpace']&&(_0x1a3d68+=X['particle_l'+'ocalShiftV'+'S']),_0x18987d['animTex']&&(_0x1a3d68+=this['_animTex'](_0x18987d)),_0x18987d['wrap']&&(_0x1a3d68+=X['particle_w'+'rapVS']),_0x18987d['alignToMot'+'ion']&&(_0x1a3d68+=X['particle_p'+'ointAlongV'+'S']),_0x1a3d68+=_0x18987d['mesh']?X['particle_m'+'eshVS']:_0x494965,_0x18987d['normal']===0x18e7+0x8cc+-0x21b2&&(_0x1a3d68+=X['particle_n'+'ormalVS']),_0x18987d['normal']===0x9d3+0x1*0x16f+-0xb40&&(_0x1a3d68+=X['particle_T'+'BNVS']),_0x18987d['stretch']>-0x1*-0x1b41+0xa5*-0x14+0xe5d*-0x1&&(_0x1a3d68+=X['particle_s'+'tretchVS']),_0x1a3d68+=X['particle_e'+'ndVS'],_0x18987d['soft']>0x13e7+-0x1138+0x2af*-0x1&&(_0x1a3d68+=X['particle_s'+'oftVS'])),_0x1a3d68+='}\x0a',_0x18987d['normal']>0x524+-0x12a3+0x2b3*0x5&&(_0x18987d['normal']===-0x1858+-0x41f*-0x3+0xbfc?_0x5025d8+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x18987d['normal']===0x1*-0x129a+0xa91+-0x47*-0x1d&&(_0x5025d8+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x5025d8+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x18987d['soft']&&(_0x5025d8+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x5025d8+=X['decodePS'],_0x5025d8+='#include\x20\x22'+'gammaPS\x22\x0a',_0x5025d8+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x5025d8+='#include\x20\x22'+'fogPS\x22\x0a',_0x18987d['normal']===-0x1*0x167e+-0x12b4+-0x6de*-0x6&&(_0x5025d8+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x18987d['soft']>-0x1bfd+-0xb4+-0x5*-0x5bd&&(_0x5025d8+=X['screenDept'+'hPS']),_0x5025d8+=X['particlePS'],_0x18987d['soft']>0x357*-0x7+-0x1327+0x2a88&&(_0x5025d8+=X['particle_s'+'oftPS']),_0x18987d['normal']===0x185*-0x1+-0x5*0x5e9+-0x5*-0x637&&(_0x5025d8+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x18987d['normal']===-0x1300+0x16ba*0x1+0x22*-0x1c&&(_0x5025d8+=X['particle_n'+'ormalMapPS']),_0x18987d['normal']>-0x2437+-0x42f*-0x9+-0x170&&(_0x5025d8+=_0x18987d['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x18987d['normal']>-0x1ff*-0x1+-0x10c5+-0x7a*-0x1f&&(_0x5025d8+=X['particle_l'+'ightingPS']),_0x18987d['blend']===Kt?_0x5025d8+=X['particle_b'+'lendNormal'+'PS']:_0x18987d['blend']===yp?_0x5025d8+=X['particle_b'+'lendAddPS']:_0x18987d['blend']===xp&&(_0x5025d8+=X['particle_b'+'lendMultip'+'lyPS']),_0x5025d8+=X['particle_e'+'ndPS'];const _0x3ad355=new Map(Object['entries']({...X,..._0x18987d['chunks']}));return Mt['createDefi'+'nition'](_0x1f2b08,{'name':'ParticleSh'+'ader','vertexCode':_0x1a3d68,'fragmentCode':_0x5025d8,'fragmentDefines':_0x18987d['defines'],'fragmentIncludes':_0x3ad355,'vertexDefines':_0x18987d['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x512e69){super(),c(this,'emitter',null),(this['emitter']=_0x512e69,v['assert'](_0x512e69));}['getShaderV'+'ariant'](_0x44f827){const {device:_0x23e274,scene:_0x2eb546,cameraShaderParams:_0x445557}=_0x44f827,{emitter:_0x5d917a}=this,_0x1d819a={'defines':Dp(this,_0x44f827),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x5d917a['lighting']?_0x5d917a['normalMap']!==null?0x3*-0x786+-0x16c4+0x2d58:0x1a*-0x4e+-0xe*-0x1f6+0x1*-0x1387:0x198f+0x11e9+-0x2b78,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x445557==null?void(-0x1b7c+0x19*0x9d+0xc27):_0x445557['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x445557==null?void(-0x186+-0x22*0x26+0x692):_0x445557['toneMappin'+'g'])??Ap,'fog':_0x2eb546&&!this['emitter']['noFog']?_0x2eb546['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x5d917a['inTools']?!(-0x1405+-0x3*0x556+0x481*0x8):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x1772b5=new Yc(_0x44f827['viewUnifor'+'mFormat'],_0x44f827['viewBindGr'+'oupFormat'],_0x44f827['vertexForm'+'at']),_0x5dcc9c=ka(_0x23e274);return _0x5dcc9c['register']('particle',t1),_0x5dcc9c['getProgram']('particle',_0x1d819a,_0x1772b5,this['userId']);}}const E_=[[-(-0x67*-0x1+-0xda6+0xd40),-(0x7*-0x393+-0x3*-0xc7a+-0xc68)],[0x5ce*0x1+0x1923+-0x1ef0,-(0x1a0d+0x207f+-0x3a8b)],[0x1831*0x1+0x1*-0xbf7+0x1*-0xc39,0x2a+-0xfdb*-0x1+-0x19*0xa4],[-(0xc82*-0x1+0x10fd*-0x1+-0xec*-0x20),0x13bd+0xe*0xb8+-0x2*0xee6]];function Qt(_0xff4e2d,_0x1b3e1f,_0x727437,_0x308b39,_0x995bc1=Ke,_0x550320,_0x3c2a9c){let _0x556906=de;_0x3c2a9c&&(_0x995bc1===Se||_0x995bc1===rs)&&(_0x556906=st);const _0x2bf5b3=new he(_0xff4e2d,{'width':_0x1b3e1f,'height':_0x727437,'format':_0x995bc1,'cubemap':!(0x54a+-0x3f8+-0x151*0x1),'mipmaps':!(0x1c81+0x1d7+-0x1e57),'minFilter':_0x556906,'magFilter':_0x556906,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x4ead50=_0x2bf5b3['lock']();if(_0x995bc1===Se||_0x995bc1===rs){const _0x3e6bd7=new Uint8Array(_0x308b39['length']);for(let _0x505e10=0xd88+-0x148c+0x704;_0x505e10<_0x308b39['length'];_0x505e10++)_0x3e6bd7[_0x505e10]=_0x308b39[_0x505e10]*_0x550320*(-0xdd8+-0x29a*-0xb+-0xdc7*0x1);_0x308b39=_0x3e6bd7;}return _0x4ead50['set'](_0x308b39),_0x2bf5b3['unlock'](),_0x2bf5b3;}function C_(_0x1026bd){return Math['max'](Math['min'](_0x1026bd,-0x1*-0x1183+0x243*-0x2+-0x4*0x33f),0x3*-0x4e1+-0xfad*0x1+0x1e50);}const M_=new Cs([0xa81*0x1+-0x1*-0x1e4d+-0xd9a*0x3,0x1346+-0xe2*0x2c+-0x2*-0x9c9,0x214a*-0x1+0x1224+0x9*0x1af,0x16a4+-0x22ac+0xc08]),P_=new Cs([-0xc48+-0x269f+-0x32e7*-0x1,0x125c+0xbd1+-0x78b*0x4,0x1d7f+-0xd*-0x1cf+0x3501*-0x1,0x5db+-0x23*0x11b+0x20d7]),R_=new jr([-0x1c5c+0x5cd+0x19*0xe7,-0x1*-0x13a2+0x26b9+-0x1*0x3a5b,-0x3*-0xc26+-0x1d21+-0x2*0x3a8,0x1561+-0xc79+-0x72*0x14],[0x112f*-0x2+-0xf36+0x3194,-0x161*-0x4+0xb*0x1df+-0x1*0x1a19,0x1231+0x6*-0x2f7+0x33*-0x2,0x1*-0x22c6+-0x922+0x2be8],[0x8e6+-0xa6*-0x15+0x1*-0x1684,0x1f09+-0x1de1+-0x128,0x24b6+-0x16*0xa0+-0x16f5,0x254b+-0xa1c+-0x1b2f]),i1=new jr([0x293+-0x1fc*-0x5+-0xc7f,-0x4*0x855+0x7*0x3fb+-0x14*-0x46,0x1484+-0x1eb4*0x1+0xa31,-0x134d+-0x254d+0x389b],[-0xc68+-0x24c2+0x312a,0x1b5+0x18dc+-0x1a90,-0x2668+-0x5*0x1d5+-0x2*-0x17c9,0x14e4+-0x1*-0x16be+-0x11*0x291],[0x14e*-0x1+0x2d*0x9b+-0x19f1,0x203*-0xb+0xb82+0x220*0x5,0x12*0x149+-0x1a5+-0x157c,0x1*0x2051+0xde2*-0x2+-0x48c]);let ii=0x141a*0x1+-0x23f7+-0x11*-0xef;const zl=-0x14eb+0x170e*0x1+-0x21f,ri=new Float32Array(0x1a0*0xf+-0x24be+0xc61),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x377078,_0x42b92c){fh[_0x377078]!==void(0x11*-0xc+-0x1a0d+0x4f*0x57)&&fh[_0x377078]!==null?Hu[_0x377078]=fh[_0x377078]:Hu[_0x377078]=_0x42b92c;}function O0(_0x2f8d26,_0x1b6c30,_0x38468f){return(_0x2f8d26*(0xa43*0x3+0x7a6+-0x12b8*0x2)<<0x23b*0x11+0x102f+-0x1*0x360a|_0x1b6c30*(-0x20f7+-0x214a*-0x1+0xac)<<-0x2*-0x509+-0x2508+0x1afe|_0x38468f*(0x21f2*-0x1+-0x1c55+0x3f46))/(-0x1*-0x19d9+0xa54*-0x2+-0x8*0xa6<<0x1d85+0x1f1*-0x5+-0x4*0x4ee);}function D_(_0x3a3b32,_0x30d3df){const _0x402441=_0x3a3b32['length']/(-0x377*0x5+0x9af*-0x2+-0xc*-0x30f),_0x161e82=new Array(_0x402441*(-0x4*-0x86e+-0x11b0+-0x1004));for(let _0x3a3f9d=-0x1fb*0x11+-0x1c0*-0x1+0x1feb;_0x3a3f9d<_0x402441;_0x3a3f9d++)_0x161e82[_0x3a3f9d*(-0x1*-0x2485+0x822+-0x2ca3)]=_0x3a3b32[_0x3a3f9d*(-0x61f*-0x1+-0x2568+0x7d3*0x4)],_0x161e82[_0x3a3f9d*(-0x22b4+0x22+0x13*0x1d2)+(0x2530+-0x61a+-0x1f15)]=_0x3a3b32[_0x3a3f9d*(0x66c*0x1+0x436*0x1+-0x1*0xa9f)+(0x2a*0xd7+0x23f1*0x1+0x4736*-0x1)],_0x161e82[_0x3a3f9d*(0x645+-0x156f*-0x1+-0x1bb0)+(-0x11f*0x17+-0x1c9+0x1b94)]=_0x3a3b32[_0x3a3f9d*(-0x79c+-0xb*0x1b8+-0x1a87*-0x1)+(0x1*-0x2579+0x5d*-0x2a+0x34bd)],_0x161e82[_0x3a3f9d*(-0x50f+0x1*0x821+-0x30e)+(-0x8a*-0x1b+0x573+-0x13fe)]=O0(_0x30d3df[_0x3a3f9d*(-0xe91+0x1*-0x88+0xf1c)],_0x30d3df[_0x3a3f9d*(-0x42*-0x3+0x611+0x1*-0x6d4)+(-0xa*0x3e6+-0x24f5+-0x2*-0x25f9)],_0x30d3df[_0x3a3f9d*(-0x16*0x9e+0x21a6+-0x5*0x403)+(0x1a04+0x1d53+0xb11*-0x5)]);return _0x161e82;}function r1(_0x5eaee1,_0x4c7f2f){const _0x5a9c7d=new Array(_0x4c7f2f['length']*(0x592*-0x1+0xf4*-0x3+0x5e*0x17));for(let _0x27d380=-0x12a1+-0x106a+0x230b;_0x27d380<_0x4c7f2f['length'];_0x27d380++)_0x5a9c7d[_0x27d380*(-0x32*0x2f+-0x273+0xba5)]=_0x5eaee1[_0x27d380*(-0x2313+0xcdb+0x163b)],_0x5a9c7d[_0x27d380*(-0x98d*-0x2+-0xe*-0x70+-0x1936)+(0x15bf+-0x1*-0x1822+-0x20*0x16f)]=_0x5eaee1[_0x27d380*(-0x65*0x29+-0x1db3+0x2b3*0x11)+(0x123d*-0x2+0x5bf*-0x1+0x73*0x5e)],_0x5a9c7d[_0x27d380*(0x563+-0xe17*0x1+0x8b8)+(-0xd*0x47+0xa9f*0x1+-0x702)]=_0x5eaee1[_0x27d380*(-0x1*-0x2d1+-0x533*-0x7+-0x9*0x45b)+(-0x420+0x8*-0x2fb+0x2*0xdfd)],_0x5a9c7d[_0x27d380*(0xe83*0x2+0xc76+0xa5e*-0x4)+(0x2306+-0x1097*0x1+-0x126c)]=_0x4c7f2f[_0x27d380];return _0x5a9c7d;}function n1(_0x36517b,_0x2df591,_0x81a98b,_0x5b02fc,_0x3e29fd){const _0x2a9d6=new Array(_0x36517b['length']*(0x200e+0x23f7+-0x4401));for(let _0x2d78e3=0xfb1+-0x297+-0xd1a;_0x2d78e3<_0x36517b['length'];_0x2d78e3++)_0x2a9d6[_0x2d78e3*(0xa*0x392+0x1*0x1ae3+0x3e93*-0x1)]=_0x36517b[_0x2d78e3],_0x2a9d6[_0x2d78e3*(0x982+-0x1b34+0x11b6)+(-0x269+0x2*0xf4c+-0x1c2e)]=_0x2df591[_0x2d78e3],_0x2a9d6[_0x2d78e3*(-0x1785+-0x458+0x1be1)+(-0xd43+0x1b12+-0xdcd)]=-0x7cd*0x1+0x29d*-0x1+0x2*0x535,_0x2a9d6[_0x2d78e3*(-0x30b*0xb+0x6ac+-0x55d*-0x5)+(0x189*-0x6+0x3*0x2a7+0x6*0x36)]=O0(_0x81a98b[_0x2d78e3],_0x5b02fc[_0x2d78e3],_0x3e29fd[_0x2d78e3]);return _0x2a9d6;}function a1(_0x3eb9bb,_0x3f7580){const _0x217ce1=new Array(_0x3eb9bb['length']*(-0x298*-0x1+0x11*-0x1d0+0x1c3c));for(let _0x40a2ca=0xafb+0x1*0x593+-0x2*0x847;_0x40a2ca<_0x3eb9bb['length'];_0x40a2ca++)_0x217ce1[_0x40a2ca*(0xecf+-0x7f*0x1+0x5*-0x2dc)]=_0x3eb9bb[_0x40a2ca],_0x217ce1[_0x40a2ca*(-0x2fc*0x9+0xbe0+0xf00)+(0x1afa+0x35f*0x2+-0x9*0x3bf)]=_0x3f7580[_0x40a2ca],_0x217ce1[_0x40a2ca*(-0x1*-0x1701+-0xa5a+-0xca3)+(0x1*0x220f+-0x2165*0x1+0x1*-0xa8)]=0x1*-0x241a+-0x1*0x2275+-0x1b*-0x29d,_0x217ce1[_0x40a2ca*(-0x8*-0x332+0x73d+-0x20c9)+(0xa3d*0x2+0x1e46+-0x32bd)]=-0x542*0x1+0x7*-0x3ae+-0x5*-0x634;return _0x217ce1;}function o1(_0x1af9c7){const _0x3dc606=Math['max'](_0x1af9c7['rate'],_0x1af9c7['rate2'])*_0x1af9c7['numParticl'+'es']+_0x1af9c7['lifetime'];return Date['now']()+_0x3dc606*(-0x191e+-0x2675+0x437b);}function l1(_0x3332cd,_0x1ac230){const _0x251967=new Float32Array(_0x3332cd['length']);for(let _0x8b8464=0x2*-0x1345+0x3cd*-0x8+0x44f2;_0x8b8464<_0x3332cd['length'];_0x8b8464++)_0x251967[_0x8b8464]=_0x3332cd[_0x8b8464]-_0x1ac230[_0x8b8464];return _0x251967;}function Fr(_0xc52214,_0x56642){const _0x3ce11d=_0x56642['length'],_0x51839b=_0xc52214['length']/_0x3ce11d;for(let _0x19f96a=-0x1*-0x4a3+-0x1273*0x1+0xdd*0x10;_0x19f96a<_0x51839b;_0x19f96a++)for(let _0xa6a590=-0x2*0xf94+0x1eb6+0x72;_0xa6a590<_0x3ce11d;_0xa6a590++){const _0x28fa38=Math['abs'](_0xc52214[_0x19f96a*_0x3ce11d+_0xa6a590]);_0x56642[_0xa6a590]=Math['max'](_0x56642[_0xa6a590],_0x28fa38);}}function h1(_0x37ed7e,_0x6b00a6){const _0x528869=_0x6b00a6['length'],_0x26102c=_0x37ed7e['length']/_0x528869;for(let _0x1ab1d0=0x3*-0xa16+-0x2378+0x166*0x2f;_0x1ab1d0<_0x26102c;_0x1ab1d0++)for(let _0x1cafcd=-0xa51+0x2f5+-0x6*-0x13a;_0x1cafcd<_0x528869;_0x1cafcd++)_0x37ed7e[_0x1ab1d0*_0x528869+_0x1cafcd]/=_0x6b00a6[_0x1cafcd]===-0x1e52+0x4*-0x216+0xca*0x31?-0xe32+-0xfbe+0x15*0x16d:_0x6b00a6[_0x1cafcd],_0x37ed7e[_0x1ab1d0*_0x528869+_0x1cafcd]*=0x1df9+0x125*-0xd+-0xf18+0.5,_0x37ed7e[_0x1ab1d0*_0x528869+_0x1cafcd]+=0x116f+-0x225d+0x10ee+0.5;}function Ar(_0x44a670,_0x16f73e,_0x3d73b1){const _0x42b5f5=l1(_0x16f73e,_0x44a670);return Fr(_0x42b5f5,_0x3d73b1),h1(_0x42b5f5,_0x3d73b1),_0x42b5f5;}const c1=new Ot();class d1{constructor(_0x55cbc3,_0x1fa652){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x55cbc3;const _0x24afbd=_0x55cbc3,_0x5b0b8c=-0x518+-0x41*0x5f+0x1d*0x103;this['precision']=_0x5b0b8c,this['_addTimeTi'+'me']=-0xe6d+-0x21d+-0x92*-0x1d,Hu=this,fh=_0x1fa652,re('numParticl'+'es',0x604+0x150b+-0x2*0xd87),this['numParticl'+'es']>_0x55cbc3['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x55cbc3['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x55cbc3['maxTexture'+'Size']),re('rate',-0x1498+-0xa55+0x1eee),re('rate2',this['rate']),re('lifetime',-0x267a+0x2408+0x2a4),re('emitterExt'+'ents',new T(0x18ef+-0x87b*-0x3+-0xc98*0x4,0x2524+-0x359*-0x7+-0x6bb*0x9,-0xecb+-0x1*0x1f83+0x2e4e)),re('emitterExt'+'entsInner',new T(-0x1932+-0x1b8d+0x34bf,0x250c*-0x1+0xbd1+0x193b,-0x1dfb*0x1+0x751*0x1+0x16aa)),re('emitterRad'+'ius',0xa3*-0x19+0x1bf7+-0x1*0xc0c),re('emitterRad'+'iusInner',-0x62f+0x4*-0x551+0x1b73),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',0xef2*-0x1+-0x1ba+-0x58f*-0x3),re('wrap',!(-0x4a9*0x5+0x1*0x26b3+0xf65*-0x1)),re('localSpace',!(0x1405+0x5*-0x694+0x10*0xce)),re('screenSpac'+'e',!(0x160f*0x1+-0x19a7+-0x1*-0x399)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(-0x101f+-0x19*-0x13d+-0xed6)),re('preWarm',!(0x1*-0xdd7+-0x1ce1+0x2ab9)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(0xdb5+0x12ba+0x206e*-0x1)),re('halfLamber'+'t',!(-0xab9*-0x3+-0x1b*0xa9+0xe57*-0x1)),re('intensity',0x19c7+0x1a4a*0x1+-0x3410),re('stretch',-0x41e*0x3+0x7cd*0x4+-0x12da),re('alignToMot'+'ion',!(-0x403*-0x1+-0x244b+-0x5f*-0x57)),re('depthSofte'+'ning',-0x143*-0x1d+-0x86*0x11+-0x1bb1*0x1),re('mesh',null),re('particleNo'+'rmal',new T(-0x1*-0x31e+0x1f5f+0x9*-0x3d5,-0x2520+0x9c1+0x1b60,-0x1*0xf16+0x7*0x4f9+-0x9*0x231)),re('orientatio'+'n',Uh),re('depthWrite',!(-0x1*-0x14a3+0x15fb+0x2a9d*-0x1)),re('noFog',!(-0x1ea3+0xf30+0xf74)),re('blendType',Kt),re('node',null),re('startAngle',0x20a2+0x1978+-0x3a1a),re('startAngle'+'2',this['startAngle']),re('animTilesX',0xd6+-0x1f57+0x1e82),re('animTilesY',0xb66+-0xb*0x95+0x6*-0xd5),re('animStartF'+'rame',-0x21e4+0x79a*-0x5+0x47e6),re('animNumFra'+'mes',-0x1ec7*0x1+-0x2607*0x1+0x44cf),re('animNumAni'+'mations',-0x1*0xe53+-0x1a03+0x2857*0x1),re('animIndex',-0x92*0x25+-0x187a+0x16ca*0x2),re('randomizeA'+'nimIndex',!(-0x11d*0x13+0x1fed+0x397*-0x3)),re('animSpeed',0x25c5+-0x12c9+0x2b*-0x71),re('animLoop',!(-0x139d*-0x1+0x1*-0x115d+-0x240)),this['_gpuUpdate'+'r']=new JM(this,_0x24afbd),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x1*0x15df+0x115*0x13+0x71*0x3),this['wrapBounds'+'Uniform']=new Float32Array(-0xc56+-0x1*0xc46+0x189f),this['emitterSca'+'leUniform']=new Float32Array([0x1d40+-0x1866+-0x1*0x4d9,0xa75*0x3+0xd4f*0x1+-0x2cad*0x1,0x7b5*0x2+-0x1eb6+-0xf4d*-0x1]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x44*-0x27+-0x47*-0x59+-0x1*0x2309),this['animParams']=new Float32Array(0x1316+-0xe3*0x21+0xa31),this['animIndexP'+'arams']=new Float32Array(0x41*-0x43+-0x1960+-0x1*-0x2a65),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x1*0x268a+-0x15a4+-0x1*0x10e5),this['useMesh']=!(0x1ee3*-0x1+-0x955+0x2838),this['useCpu']=!_0x55cbc3['supportsGp'+'uParticles'],this['pack8']=!(0x2113+-0x13a*0xb+0x687*-0x3),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=-0x31*-0xc1+0x7*-0x2e3+0x44*-0x3f,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x32f*-0x5+-0x1*0x90f+-0x1*0x6dc,this['numParticl'+'eIndices']=-0x2c*0x89+0x12eb*-0x1+0x2a77*0x1,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x120*0x19+0x1*-0x16bd+0x32dd,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0xcc8+0x1c8f+-0x2956)/(-0x1*-0xf76+-0x736+-0x804),this['maxSubStep'+'s']=0xcb*-0x3+-0x1*-0x3f+0x22c,this['simTime']=0xaa0+0x1ce8+-0x14*0x1fa,this['simTimeTot'+'al']=0x2514+0x11*0x24+-0x2778,this['beenReset']=!(-0x54*-0x31+0x14e*0x5+-0x1699),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x5531c0=new Float32Array(-0x1d*0x73+0xb5d+0x5aa);for(let _0x5bc454=-0x1eb*0x11+0x9*0x2da+0x6f1;_0x5bc454<0xd5a*-0x2+0xa*0x175+0xdf*0xe;_0x5bc454++)for(let _0x43417c=0x1*0xa4c+-0x7*-0x443+-0x2821*0x1;_0x43417c<-0x7d*0x1f+0x66b+0x8c8;_0x43417c++){const _0x4d660a=_0x43417c+(-0xf*0x191+-0x5fd+0x1d7d)-(0x2*0x10b9+-0x13bf+-0x1*0xdab+0.5),_0x365147=_0x5bc454+(-0x49*-0x2c+0x1c27+-0x28b2)-(-0x3*0x283+-0x76+0x807*0x1+0.5),_0x46f671=C_(-0x4cd*0x2+0x1b04+-0x1*0x1169-C_(Math['sqrt'](_0x4d660a*_0x4d660a+_0x365147*_0x365147)/(-0xc00+0x1f98+0xfa*-0x14))-(-0xbd9+-0x1*0xb75+0x13*0x13a+0.5)),_0x10e59d=_0x5bc454*(0x1*0xa1b+0x679+-0x25c*0x7)+_0x43417c;_0x5531c0[_0x10e59d*(0xdec+-0x2462+0x167a)]=0x2*-0x6e3+-0xbd9*-0x3+-0x15c4,_0x5531c0[_0x10e59d*(0x1d13+0x25f*-0x10+0x8e1)+(0x233e+0x17ff+-0x3b3c)]=0x15*-0x2+0x3*-0x56+0x1*0x12d,_0x5531c0[_0x10e59d*(0x1f+0x1247*-0x1+0x122c)+(0x705+0x61*0x35+0x484*-0x6)]=-0x1a37+0x1811+0x227,_0x5531c0[_0x10e59d*(0x17d3+0x1563+-0x2d32)+(-0x928+-0xe59*0x1+0x8c*0x2b)]=_0x46f671;}const _0x3edb6a=Qt(this['graphicsDe'+'vice'],-0x21c1+0x7e7+-0x6b*-0x3e,-0x332+-0x13*0x140+-0x1b02*-0x1,_0x5531c0,rs,0x835+-0x1103+0x8cf,!(0x11e4+-0x14e+0x182*-0xb));return _0x3edb6a['minFilter']=st,_0x3edb6a['magFilter']=st,_0x3edb6a;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x1b*-0x73+-0xa94*-0x1+-0x16b4)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0x1c5b+-0x9a5+0x2601)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x8e9*-0x3+0x9+0x1ac3*-0x1)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x7*-0x313+-0x2*0xa38+-0x29*-0x106)),this['worldBound'+'sAdd']['x']+=-0x2046+-0xb3f+0x359*0xd+0.5,this['worldBound'+'sAdd']['y']+=-0x28a+0x1e1*-0x10+0x209a+0.5,this['worldBound'+'sAdd']['z']+=0x494+-0xb6c+-0x124*-0x6+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x35d421=!(0xb7*-0x12+0x6a+0xc75);this['emitterSha'+'pe']===Vs?_0x35d421=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x35d421=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x35d421&&this['calculateL'+'ocalBounds']();}const _0x49612f=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x49612f),this['worldBound'+'sTrail'][-0x880+-0x17*-0x193+-0x1bb5]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1dfa+-0x1d49+-0x16*0x8]['add'](this['worldBound'+'sNoTrail']);const _0x48adb0=this['simTimeTot'+'al'];_0x48adb0>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x1a72+-0x1*0x173d+-0x335*0x1]['copy'](this['worldBound'+'sTrail'][0x21bc+-0x7cb+-0x19f0]),this['worldBound'+'sTrail'][0x1*0x9a9+-0xb11+0x13*0x13]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x48adb0+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x885+-0x95f*-0x1+-0x14*0xe5]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x19b2+0x311*0x2+0x3ea*0x5),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x49612f),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x49612f)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x167f+-0x123b*-0x1+-0x1*-0x445-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0xbda+0x5*-0x79a+0xd14*0x2]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x1c8b+-0x2e1*0xd+0x41f9]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1e27*-0x1+0x3*0x733+-0x33c*0x10]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x47*-0x6f+-0x1e17*0x1+0x1*-0xb0),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x64e+-0x145*-0xc+-0x8ee,this['timeToSwit'+'chBounds']=0x1393+-0x1075+0x2*-0x18f);}['calculateL'+'ocalBounds'](){let _0x51bac6=Number['MAX_VALUE'],_0x275057=Number['MAX_VALUE'],_0x4f2ae9=Number['MAX_VALUE'],_0x58607b=-Number['MAX_VALUE'],_0x42b58b=-Number['MAX_VALUE'],_0x3c82c1=-Number['MAX_VALUE'],_0x3ac59f=0x198b+0x2212*0x1+-0x3b9d,_0x536562=0x199b+-0x11dc+-0x3*0x295;const _0x1b61bf=this['lifetime']/this['precision'],_0x1c1303=[this['qVelocity'],this['qVelocity2']],_0x422f45=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x46d57d=[-0x17*0x4f+-0x8*0x122+0x563*0x3,-0x2476+-0x1738+0x3bae],_0x3f1af6=[-0x3*-0xc69+-0xed1*0x2+-0x799,-0xf*0x17e+0x9be*0x1+0xca4],_0xae5609=[0xe61+-0x10d7+0x5*0x7e,0x3*0x823+0xdb4+-0x261d*0x1],_0x7bda33=[0x1*-0x807+0x6b*-0x3b+0x20b0,-0x7fc+-0x61c+0xe18],_0x53d8be=[-0x20c4+0x5*0x2b4+-0x16*-0xe0,-0x17e*-0xb+0xdcf+-0x1e39];let _0xbe38a9,_0x1c3466,_0x1841d3;for(let _0x286a3b=-0x18ea+0x20ee+0x2ac*-0x3;_0x286a3b<this['precision']+(0x10*0x16f+0x1d33+-0x1*0x3422);_0x286a3b++){const _0x14be56=Math['min'](_0x286a3b,this['precision']-(0xd06+0x1658+-0x235d));for(let _0x29bec0=-0x12ee*-0x1+-0x10*-0x266+-0x394e;_0x29bec0<-0x13*-0x5b+0x1d01*-0x1+0x1642;_0x29bec0++)_0xbe38a9=_0x422f45[_0x29bec0][_0x14be56*(-0x1*-0x13d+-0x2*-0x76b+-0x10*0x101)+(0x2157*-0x1+0xf19+0x2*0x91f)]*_0x1b61bf+_0x46d57d[_0x29bec0],_0x1c3466=_0x422f45[_0x29bec0][_0x14be56*(-0xd1*0x1f+-0x1344+0xd*0x36e)+(-0xa58+0x8be+0x19b)]*_0x1b61bf+_0x3f1af6[_0x29bec0],_0x1841d3=_0x422f45[_0x29bec0][_0x14be56*(0x89*-0x47+-0x1e0d*-0x1+0x123*0x7)+(-0x2b3*0x2+0x2ce*0x1+-0x4a*-0x9)]*_0x1b61bf+_0xae5609[_0x29bec0],_0x51bac6=Math['min'](_0xbe38a9,_0x51bac6),_0x275057=Math['min'](_0x1c3466,_0x275057),_0x4f2ae9=Math['min'](_0x1841d3,_0x4f2ae9),_0x58607b=Math['max'](_0xbe38a9,_0x58607b),_0x42b58b=Math['max'](_0x1c3466,_0x42b58b),_0x3c82c1=Math['max'](_0x1841d3,_0x3c82c1),_0x46d57d[_0x29bec0]=_0xbe38a9,_0x3f1af6[_0x29bec0]=_0x1c3466,_0xae5609[_0x29bec0]=_0x1841d3;for(let _0x1e148f=-0x219*0x1+-0x2d7*0x1+-0x1*-0x4f0;_0x1e148f<-0x4*0x869+-0xd4d+0x2ef3;_0x1e148f++)_0x53d8be[_0x1e148f]+=_0x1b61bf*Math['sqrt'](_0x1c1303[_0x1e148f][_0x14be56*(-0x1ecb*-0x1+-0x2416+0xc2*0x7)+(0x6c0+0x113+-0x7d3)]*_0x1c1303[_0x1e148f][_0x14be56*(0x12e6*0x1+-0x1*-0x12c7+-0x25aa*0x1)+(0x26a4*-0x1+0x3*0x824+0xe38)]+_0x1c1303[_0x1e148f][_0x14be56*(-0x2105+0x20b*-0x6+0x2d4a)+(-0x154a+0x1866+-0x31b*0x1)]*_0x1c1303[_0x1e148f][_0x14be56*(0x1a8d+-0x2ba*-0x5+0x6*-0x6b2)+(0x2075+0x1*0x217c+0x34c*-0x14)]+_0x1c1303[_0x1e148f][_0x14be56*(0x1289*-0x1+-0xc00+0x2e*0xaa)+(-0x1d58+-0x20e0+0x24e*0x1b)]*_0x1c1303[_0x1e148f][_0x14be56*(-0xac*-0x32+0x1aba+-0x3c4f)+(-0x25a8+0x2cf*-0x2+0x2b48)]);_0x7bda33[0x1*0x205f+0x5db+0x7*-0x576]+=this['qRadialSpe'+'ed'][_0x14be56]*_0x1b61bf,_0x7bda33[-0x118c+-0x1d3f+0x2ecc]+=this['qRadialSpe'+'ed2'][_0x14be56]*_0x1b61bf,_0x3ac59f=Math['max'](_0x3ac59f,Math['max'](Math['abs'](_0x7bda33[-0x4f*-0x50+0x614+-0x1ec4]),Math['abs'](_0x7bda33[0x1123+0x2*-0x836+0xd*-0xe]))),_0x536562=Math['max'](_0x536562,this['qScale'][_0x14be56]);}this['emitterSha'+'pe']===Vs?(_0xbe38a9=this['emitterExt'+'ents']['x']*(0x6*0xd6+-0x1a53*0x1+-0x5*-0x443+0.5),_0x1c3466=this['emitterExt'+'ents']['y']*(0x1dbe+-0xd8f+-0x1*0x102f+0.5),_0x1841d3=this['emitterExt'+'ents']['z']*(0x7a8+-0x1*-0x1ad5+-0x147*0x1b+0.5)):(_0xbe38a9=this['emitterRad'+'ius'],_0x1c3466=this['emitterRad'+'ius'],_0x1841d3=this['emitterRad'+'ius']);const _0x112b62=Math['max'](_0x53d8be[0x7*0x53d+-0x8d2+0x1bd9*-0x1],_0x53d8be[0x1586+0xc6*0x1b+0x87b*-0x5]);Ul['x']=_0x51bac6-_0x536562-_0xbe38a9-_0x3ac59f-_0x112b62,Ul['y']=_0x275057-_0x536562-_0x1c3466-_0x3ac59f-_0x112b62,Ul['z']=_0x4f2ae9-_0x536562-_0x1841d3-_0x3ac59f-_0x112b62,Vl['x']=_0x58607b+_0x536562+_0xbe38a9+_0x3ac59f+_0x112b62,Vl['y']=_0x42b58b+_0x536562+_0x1c3466+_0x3ac59f+_0x112b62,Vl['z']=_0x3c82c1+_0x536562+_0x1841d3+_0x3ac59f+_0x112b62,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0xb3bd=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0xb3bd['maxVertexT'+'extures']<=-0xe9c+-0x150d+0x5*0x722||_0xb3bd['fragmentUn'+'iformsCoun'+'t']<0x43*-0xc+0x34*-0xbc+-0x3*-0xddc||_0xb3bd['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0xb3bd['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?-0x5*0x3da+0x2*-0x35+0x13b0*0x1:-0x1b6c+-0x11bb+-0x41b*-0xb,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x19*0x95+0x35*-0x81+-0x2*-0x14a1]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x1*0x365+0x2582+-0x221c]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1152+-0x97*0x2+-0x17*-0xce),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x49e535=-0x1e45*0x1+0x1*0x3f1+-0x14*-0x151;_0x49e535<this['numParticl'+'es'];_0x49e535++)this['vbToSort'][_0x49e535]=[0x1882+-0x2300+0x4f*0x22,-0x1814+-0x14b4+0x2cc8];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x217217=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[-0x8c6+-0xa75+0x133b]=this['emitterExt'+'ents']['x']!==-0x8*-0x59+-0x3b*0x2d+0x797?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1ac9+0x228e*-0x1+0x3d57,ri[-0xb*0x15a+-0x1ac9+0x535*0x8]=this['emitterExt'+'ents']['y']!==-0x2161+-0x142+0x22a3?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x82e+-0x1cd4+0x14a6,ri[-0x20d8+0x5*-0x32+0x4*0x875]=this['emitterExt'+'ents']['z']!==-0x19b5*-0x1+0x1742+-0x30f7?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x760+0x3*0x775+-0xeff);for(let _0x564ca6=0x492*0x5+-0x175c+-0x1*-0x82;_0x564ca6<this['numParticl'+'es'];_0x564ca6++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x217217,_0x564ca6),this['useCpu']&&(this['particleTe'+'x'][_0x564ca6*zl+(-0x1761+0x3ac+-0x1*-0x13b8)+this['numParticl'+'esPot']*(0x7*-0x109+0x76a+-0x29)*zl]=0x1*0xb29+0x426+0x51a*-0x3);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x2783dd=-0x16*-0x16b+0x2430+-0x4362;_0x2783dd<this['particleTe'+'xStart']['length'];_0x2783dd++)this['particleTe'+'xStart'][_0x2783dd]=this['particleTe'+'x'][_0x2783dd];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0xb3bd,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x5*0x25e+0x1530+-0x2105,!(0x1a1f+-0x2042+-0x4*-0x189)),this['particleTe'+'xOUT']=Qt(_0xb3bd,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x778+0x1041+-0x17b8,!(-0x1*-0x2371+-0x1*-0x125e+-0x35ce)),this['particleTe'+'xStart']=Qt(_0xb3bd,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,0x1ed4*0x1+-0xd*-0x236+-0x11*0x381,!(0x23ac+-0x1*0x1477+-0xf34))):(this['particleTe'+'xIN']=Qt(_0xb3bd,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0xb3bd,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0xb3bd,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x1415+-0x405*-0x2+-0x1*0x1c1e)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x274+0x7*-0x404+-0x1*-0x19a9)}),this['swapTex']=!(0x665*0x1+0xa05+-0x1069*0x1));const _0x292a01=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x5141ea=_0x292a01+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x19585d=_0x292a01+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x506b28=_0x292a01+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x2a15fc='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0xb3bd,X['fullscreen'+'QuadVS'],_0x5141ea,'ParticleUp'+'dateRespaw'+'n-'+_0x2a15fc),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0xb3bd,X['fullscreen'+'QuadVS'],_0x19585d,'ParticleUp'+'dateNoResp'+'awn-'+_0x2a15fc),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0xb3bd,X['fullscreen'+'QuadVS'],_0x506b28,'ParticleUp'+'dateStop-'+_0x2a15fc),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x7*0x37+0x21b3+-0x202e,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x28d+0xdf1+0x3cc*-0x3]['numIndices']:0x1*0x1d53+0x3d+-0x1d8a,this['_allocate'](this['numParticl'+'es']);const _0x497558=new Ie(_0xb3bd);_0x497558['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x497558['indexBuffe'+'r'][-0x2289+-0x37*0x44+0x3125]=this['indexBuffe'+'r'],_0x497558['primitive'][-0x1c*0xa8+-0xd*0x16f+0x2503]['type']=Ms,_0x497558['primitive'][0x1dd+0x92*0x2c+-0x43*0x67]['base']=0x12bc+-0x2b+-0x1291,_0x497558['primitive'][-0x1a4d+0x4df+0xd3*0x1a]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x497558['primitive'][-0x664+0x1*0x157+0x50d]['indexed']=!(0x2536+0x1*-0x2631+0xfb),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x58b93d=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1*0x15de+0x11fa+0x3e4);this['meshInstan'+'ce']=new Le(_0x497558,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x711+0x549+0x1c9*0x1),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x1*-0x18ac+0x23b1*-0x1+0x3c5d),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x4*0x5b+0x2123*0x1+-0x228e),this['meshInstan'+'ce']['visible']=_0x58b93d,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x20c3*0x1+-0x16d*0xf+0xb60*-0x1,!(-0x1f0*0x5+0x2*0x249+-0x3*-0x1b5)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x1d55+0x3*0x959+-0x14b*-0x1&&(this['animTilesX']>-0x13*-0x4a+0xc05*-0x3+0x1e92||this['animTilesY']>-0x1*0xdb+-0x869+0x945)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x580a3d=this['precision'],_0x494986=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x580a3d),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x580a3d),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x580a3d,0x265*0x3+-0x2244+0x1b15,0x9d*0x8+0x1*0x4dc+-0x9c3),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x580a3d),this['qScale']=this['scaleGraph']['quantize'](_0x580a3d),this['qAlpha']=this['alphaGraph']['quantize'](_0x580a3d),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x580a3d),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x580a3d),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x580a3d),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x580a3d,-0x99f+-0x32*0x89+0x2461,-0x10a5+0x1*0x5fb+0xaab*0x1),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x580a3d),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x580a3d),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x580a3d),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x580a3d);for(let _0x4551a2=-0x15c1+0x2210+-0xc4f;_0x4551a2<_0x580a3d;_0x4551a2++)this['qRotSpeed'][_0x4551a2]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x4551a2]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0xb17+-0x20d1+0x15bd),this['velocityUM'+'ax']=new Float32Array(0x875+-0x1b25+0x12b3),this['colorUMax']=new Float32Array(0x11*-0x29+0x24cf+-0x2213),this['rotSpeedUM'+'ax']=[-0xf*0x10d+0x1daf+-0xdec],this['scaleUMax']=[-0x355*0x5+-0x1de*0x7+-0xb1*-0x2b],this['alphaUMax']=[0xb9*-0x5+0x128a+-0xeed],this['radialSpee'+'dUMax']=[-0x114*0x5+-0x2*0x5b1+-0x10c6*-0x1],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x268bd7=[0xf3a+0x15ed*0x1+-0x2527,0x248d+0xe*0x4f+-0x28df,-0x71f*0x1+0x1*0x16e9+-0xfca];Fr(this['qVelocity'],_0x268bd7);const _0x501f94=[0x167d+-0x201b+0x1*0x99e,0x1*0x13bb+0x8*0x5a+-0x168b*0x1,0x17*0x12f+0x1b5e+-0x22f*0x19];Fr(this['qVelocity2'],_0x501f94);const _0x1f3944=[0x1*0xbcd+0x2051*0x1+-0x1*0x2c1e,-0x1d80+0x47c+0x2*0xc82,-0x10f1*-0x1+0x24a0+-0x3591];Fr(this['qLocalVelo'+'city'],_0x1f3944);const _0x95438c=[0x500+0x1*-0x19cf+0x1*0x14cf,-0xe38+0x253a*0x1+-0x1702,-0x15b0+0x1*0x401+0x11af];Fr(this['qLocalVelo'+'city2'],_0x95438c);const _0x50fedd=[0x264b*0x1+-0x1*-0xbb2+-0x31fd];Fr(this['qRadialSpe'+'ed'],_0x50fedd);const _0x1b76dd=[-0x4*-0x95f+0xa3+-0x261f];Fr(this['qRadialSpe'+'ed2'],_0x1b76dd);let _0x3d6632=Math['max'](_0x268bd7[-0x3fa+-0x2*-0x7f7+-0xbf4],_0x501f94[-0x1*0x1e83+-0x18+-0x61f*-0x5]);_0x3d6632=Math['max'](_0x3d6632,_0x268bd7[-0x96d+-0x65*-0x61+-0x17*0x141]),_0x3d6632=Math['max'](_0x3d6632,_0x501f94[-0xc4e+0x869*0x2+-0x483]),_0x3d6632=Math['max'](_0x3d6632,_0x268bd7[-0x1*-0x21eb+0x61*-0x4f+-0x3fa]),_0x3d6632=Math['max'](_0x3d6632,_0x501f94[-0x1ea8+0x1730+0x77a]);let _0x3d0ff5=Math['max'](_0x1f3944[-0x8fb+-0x1967+0x2262],_0x95438c[-0x4d*-0xd+-0xa83*0x1+0x69a]);_0x3d0ff5=Math['max'](_0x3d0ff5,_0x1f3944[-0x108d+0x168b+-0x5fd*0x1]),_0x3d0ff5=Math['max'](_0x3d0ff5,_0x95438c[-0x20da*-0x1+0x1b20+-0x3bf9]),_0x3d0ff5=Math['max'](_0x3d0ff5,_0x1f3944[-0x2650+0x23ba+0x298]),_0x3d0ff5=Math['max'](_0x3d0ff5,_0x95438c[0x878*0x2+-0xfc8+-0x126]);const _0x398522=Math['max'](_0x50fedd[0x1*-0x1e47+0x218c+0x1b*-0x1f],_0x1b76dd[0xe*0x1f1+0x18f6+-0x3424]);this['maxVel']=_0x3d6632+_0x3d0ff5+_0x398522;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x494986,_0x580a3d,0x26e2+0x609+0x2*-0x1675,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x494986,_0x580a3d,0x2*-0xc87+-0x16*-0xb6+0x96b,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x494986,_0x580a3d,-0x1f1b*-0x1+-0xf89+-0xf91,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x494986,_0x580a3d,0x5fc*0x6+-0x24a8+0xc1,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x494986,_0x580a3d,-0x2292*0x1+-0x1*0x25fa+-0x488d*-0x1,r1(this['qColor'],this['qAlpha']),rs,0x1d*0x147+-0x21*-0x81+0x4e1*-0xb,!(-0x37*0xb+-0x249f+0x26fc));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x31e43f=new s1(this);return _0x31e43f['name']='EmitterMat'+'erial:'+this['node']['name'],_0x31e43f['cull']=mt,_0x31e43f['alphaWrite']=!(0x23*-0xd+-0x3*-0xc2d+-0x22bf),_0x31e43f['blendType']=this['blendType'],_0x31e43f['depthWrite']=this['depthWrite'],_0x31e43f;}['resetMater'+'ial'](){const _0x235160=this['material'];_0x235160['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x235160['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x235160['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x235160['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x235160['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x235160['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x235160['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x235160['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x235160['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x235160['setParamet'+'er']('colorParam',this['colorParam']),_0x235160['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x235160['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x235160['setParamet'+'er']('lifetime',this['lifetime']),_0x235160['setParamet'+'er']('rate',this['rate']),_0x235160['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x235160['setParamet'+'er']('seed',this['seed']),_0x235160['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0xe87+-0x4dc*-0x5+-0x26d3]),_0x235160['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x376*0xb+0x23ab+-0x49bd]),_0x235160['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x2ab*0xd+0x2*0xfac+0x357]),_0x235160['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x235160['setParamet'+'er']('graphSampl'+'eSize',(0x1b75+0x1cdc+-0x3850)/this['precision']),_0x235160['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x1f30+0x493+-0x1*0x23c2,-0x997*-0x1+0xf8c+-0x1922,0x1ae1*0x1+0x1*-0xde4+-0xcfc])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x235160['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x235160['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x235160['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x33*0xb3+-0x2*-0xd28+0x959]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x3da+-0x20*-0xfb+0x7f*-0x47]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x3c2+-0xf1b*0x2+0x8d2*0x3]=this['wrapBounds']['z'],_0x235160['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x17af+-0xc6b+-0xb44&&_0x235160['setParamet'+'er']('softening',(0x33b*0x7+0x15c5+-0x2c61)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x1520+0x3*0x635+0x39*0xd))),this['stretch']>0xe1*0x21+-0x31*0x95+0x1*-0x7c&&(_0x235160['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0xb2b496,_0x2e1ad0;if(this['orientatio'+'n']===Uh)_0xb2b496=new Float32Array([0x26cc+-0x1141+-0x158a,0x1e27+-0x128*0x8+-0x14e7,0x25e+0x71*0x56+0xa15*-0x4]),_0x2e1ad0=new Float32Array([-0xa4d+0x1da2+-0x31*0x65,-0x260d+0x4ef+0x211e,-0x1384+-0xa*-0x301+0x1*-0xa85]);else{let _0x463cc1;this['orientatio'+'n']===Xb?_0x463cc1=this['particleNo'+'rmal']['normalize']():_0x463cc1=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x60251d=new T(-0x20fe+-0x7bb*0x3+0x1f*0x1d0,-0x25*0xef+-0x229b+-0x2*-0x2293,-0x1*0x74a+0x11*0xb4+-0x3*0x18e);Math['abs'](_0x60251d['dot'](_0x463cc1))===0x17e7+0xe24*-0x2+-0xb*-0x66&&_0x60251d['set'](-0x9bf+-0x1*0xbd8+0x1597,-0x2002*0x1+0xa*-0x190+-0x2fa2*-0x1,0x392*0x2+-0x234b+0x1c28);const _0x5246fa=new T()['cross'](_0x463cc1,_0x60251d)['normalize']();_0x60251d['cross'](_0x5246fa,_0x463cc1)['normalize'](),_0xb2b496=new Float32Array([_0x60251d['x'],_0x60251d['y'],_0x60251d['z']]),_0x2e1ad0=new Float32Array([_0x5246fa['x'],_0x5246fa['y'],_0x5246fa['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0xb2b496),this['material']['setParamet'+'er']('faceBinorm',_0x2e1ad0);}['_allocate'](_0x490012){const _0x3ebe65=_0x490012*this['numParticl'+'eVerts'],_0x3b30fd=_0x490012*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x5*-0x167+-0x21c9+0x28cc)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x3ebe65){const _0x17a9a0=[];this['useCpu']?_0x17a9a0['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0xc9*0x2a+0xb*0x329+-0x1c5*0x1:0x1*-0x2467+-0x1906+0x3d6f,'type':Ee}):(_0x17a9a0['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x17a9a0['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x2ef109=new Et(this['graphicsDe'+'vice'],_0x17a9a0);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x2ef109,_0x3ebe65,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x3b30fd);const _0x9b94c4=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x6ac7e2,_0x1d23f0,_0x48656a;if(this['useMesh']){_0x6ac7e2=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x1d23f0=_0x6ac7e2['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x1686a6=0x1ce+-0x1*-0xf31+-0x10ff;_0x1686a6<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x1686a6++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x1686a6]['name']===ns){_0x48656a=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x1686a6]['offset']/(-0x1eb8*0x1+-0x1bb6+0x1d39*0x2);break;}}for(let _0x242585=0x1*0x29c+0x5ac+0x2*-0x424;_0x242585<_0x3ebe65;_0x242585++){const _0x492bce=Math['floor'](_0x242585/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x1a2c40=_0x242585%this['numParticl'+'eVerts'];_0x9b94c4[_0x242585*(0x1*-0x1883+-0x1*-0x1cb1+-0x4c*0xe)]=_0x6ac7e2[_0x1a2c40*_0x1d23f0],_0x9b94c4[_0x242585*(-0x4*-0x20d+0x19*0xbe+0x3a*-0x76)+(0x1d37+-0x1c4a+-0xec)]=_0x6ac7e2[_0x1a2c40*_0x1d23f0+(-0x2bd*0xe+-0x29*-0x3b+0x1ce4)],_0x9b94c4[_0x242585*(0x1e1c+-0x4*0x3d+-0x1d22)+(0x43*0x7c+-0x281*-0x5+-0x2cf7)]=_0x6ac7e2[_0x1a2c40*_0x1d23f0+(0x6b*-0x2b+0x149a+-0x29f)],_0x9b94c4[_0x242585*(0x17*0xb5+-0xda4+0x1*-0x299)+(0x16ea+-0x20a+-0x14dd)]=_0x492bce,_0x9b94c4[_0x242585*(0x97b+0x1f5f+0x43*-0x9c)+(-0x1821*0x1+-0x3f5*-0x1+-0x10*-0x143)]=_0x6ac7e2[_0x1a2c40*_0x1d23f0+_0x48656a+(0x23d9+-0x29b*0x3+-0x1c08)],_0x9b94c4[_0x242585*(-0x16e1*-0x1+0x98*0x2+-0x180b)+(0x19e0+0x16*0x1e+-0x1d*0xfb)]=-0x4*-0x78e+-0xece+0x5*-0x315-_0x6ac7e2[_0x1a2c40*_0x1d23f0+_0x48656a+(-0x1a28+0xa7d*-0x1+0x24a6)];}else{const _0x60f3a8=_0x242585%(0x876+-0xb84+0x6*0x83);_0x9b94c4[_0x242585*(0x1*-0x10fb+-0x1014+0x2113*0x1)]=E_[_0x60f3a8][-0x2089+0x239d+-0x314],_0x9b94c4[_0x242585*(-0x19*0x102+-0x41d+0x1d53)+(0x2089*0x1+0x2089+-0x4111)]=E_[_0x60f3a8][0x106c+0x15d*0x1b+-0x353a],_0x9b94c4[_0x242585*(-0x149d*-0x1+-0x9b7+-0xe*0xc7)+(-0xa82+0x2510+-0x1a8c)]=0x1f67+-0x1bc1+-0x3a6,_0x9b94c4[_0x242585*(-0x663*-0x3+-0x1*0xe1e+-0x507)+(-0xb8+-0x1273*-0x2+-0x2f*0xc5)]=_0x492bce;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x9b94c4),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x293b72=0x29*0x9f+0x1d09+-0x3680;const _0x49b19e=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x4feaa0=this['mesh']['indexBuffe'+'r'][-0x9e*-0x1+-0x1*-0x1985+-0x1a23];_0x6ac7e2=new Lh[_0x4feaa0['format']](_0x4feaa0['lock']());}for(let _0x307167=-0x98c*0x2+-0x1*0xbe4+0x1efc;_0x307167<_0x490012;_0x307167++)if(this['useMesh']){for(let _0x7ba4da=-0x2578+0x5*0x685+0x1*0x4df;_0x7ba4da<this['numParticl'+'eIndices'];_0x7ba4da++)_0x49b19e[_0x307167*this['numParticl'+'eIndices']+_0x7ba4da]=_0x6ac7e2[_0x7ba4da]+_0x307167*this['numParticl'+'eVerts'];}else{const _0x5a2536=_0x307167*(-0xee+-0x3*0x83f+0x19af);_0x49b19e[_0x293b72++]=_0x5a2536,_0x49b19e[_0x293b72++]=_0x5a2536+(-0x21fa+-0xaaa+0x40f*0xb),_0x49b19e[_0x293b72++]=_0x5a2536+(0xb13+-0x2*0x77e+0x3eb),_0x49b19e[_0x293b72++]=_0x5a2536,_0x49b19e[_0x293b72++]=_0x5a2536+(0x1cb+-0xc03+0x2*0x51d),_0x49b19e[_0x293b72++]=_0x5a2536+(-0x15b9+0x25*-0x25+0x1b15);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0xa54*0x2+0x226f+-0x1*0x3717]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x2*-0x5d5+0x6ce+-0x1278),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x3e75de=-0x6e9*0x4+-0x11db+0x2d7f;_0x3e75de<this['particleTe'+'xStart']['length'];_0x3e75de++)this['particleTe'+'x'][_0x3e75de]=this['particleTe'+'xStart'][_0x3e75de];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x1a3ea9=this['loop'];this['loop']=!(-0x1*0x1b83+-0x3ae+0x1f31),this['addTime'](0x57f+0x5*0x63a+0x24a1*-0x1,!(0x2468*0x1+-0x1232+-0x4f*0x3b)),this['loop']=_0x1a3ea9,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x1f8354){const _0x4e3ee4=_0x1f8354/this['lifetime'],_0x4ac108=Math['min'](Math['floor'](_0x4e3ee4*this['precision']),this['precision']),_0x41e3c3=_0x1f8354/_0x4ac108;for(let _0x3dd2a0=0x5*0x622+0x16ad+-0x3557;_0x3dd2a0<_0x4ac108;_0x3dd2a0++)this['addTime'](_0x41e3c3,!(-0x18d*-0x13+-0x15a3+-0x7d3));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x1c9011,_0xe26f0a){const _0x255483=this['graphicsDe'+'vice'],_0x3323d8=ne();if(this['simTimeTot'+'al']+=_0x1c9011,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x8ebe9=this['animTilesP'+'arams'];_0x8ebe9[0x8c1+0x1181+-0x1a42]=(-0x397+0x1d40+-0x19a8)/this['animTilesX'],_0x8ebe9[0x1439*-0x1+-0x1c3c+-0x3076*-0x1]=(-0x12d*0x1d+0x1*0x1a77+0x11*0x73)/this['animTilesY'];const _0x582c38=this['animParams'];_0x582c38[0x3b*-0x5d+0x15fe+0x1*-0x8f]=this['animStartF'+'rame'],_0x582c38[-0x289*-0xe+0x9e6+-0x2d63]=this['animNumFra'+'mes']*this['animSpeed'],_0x582c38[0x7*-0x18e+0x1b79*0x1+0x1*-0x1095]=this['animNumFra'+'mes']-(-0x12f2*0x1+-0x7*0x1b7+0x1ef4),_0x582c38[0x11a1*-0x1+0xfaf+0xa7*0x3]=this['animNumAni'+'mations']-(0xed*-0x4+0xac6*-0x1+0xe7b);const _0x8f4909=this['animIndexP'+'arams'];_0x8f4909[-0x2ba*-0xe+-0xd*-0x2ef+-0xf43*0x5]=this['animIndex'],_0x8f4909[0x98*0x31+0x666+-0x237d]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[0x7a*-0x5+0xc5c+-0x9fa]=this['emitterExt'+'ents']['x']!==-0x5ff+-0x1f2*-0x6+-0x5ad*0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1*-0x1be9+-0x3d*-0x61+-0x2a*0x137,ri[-0x1bea*-0x1+-0xfb*0x25+-0x132*-0x7]=this['emitterExt'+'ents']['y']!==0x1c05+0x26d4+-0x42d9?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x13a1*0x1+0x28f+0x2*0x889,ri[-0xd03+-0x1bce*0x1+0x28d3]=this['emitterExt'+'ents']['z']!==0x1a59+0x4*-0x21f+-0x10d*0x11?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x3c9*-0x1+-0x1*-0x17c2+-0x1*0x13f9,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x1dda99;const _0x2d27ce=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x495*0x7+-0x11*-0x16d+0x7d6]=_0x2d27ce['x'],this['emitterSca'+'leUniform'][0xc*0x13a+-0x10f0+0x239]=_0x2d27ce['y'],this['emitterSca'+'leUniform'][-0x1*-0x1021+-0xa86*0x1+0x599*-0x1]=_0x2d27ce['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x1dda99=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x2d*0x97+0x4*0x155+0x1537]=_0x1dda99['x'],this['emitterPos'+'Uniform'][-0x115*-0x6+-0x24fc+-0x1e7f*-0x1]=_0x1dda99['y'],this['emitterPos'+'Uniform'][0x142+0xee8+0x2*-0x814]=_0x1dda99['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x255483,Tr,ri,_0x1c9011,_0xe26f0a);else{const _0x182cd2=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x182cd2,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x1dda99,_0x1c9011,_0xe26f0a);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x973*-0x1+-0xa34+-0x275*-0x8)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x3323d8;}['_destroyRe'+'sources'](){var _0x517307,_0x5e157f,_0x1c4771,_0x273507,_0x39a791,_0x28e358,_0xcfd19c,_0x2b8417,_0x3fefc3,_0x1852d1,_0x1cf9a6,_0x540773;(_0x517307=this['particleTe'+'xIN'])==null||_0x517307['destroy'](),this['particleTe'+'xIN']=null,(_0x5e157f=this['particleTe'+'xOUT'])==null||_0x5e157f['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x1c4771=this['rtParticle'+'TexIN'])==null||_0x1c4771['destroy'](),this['rtParticle'+'TexIN']=null,(_0x273507=this['rtParticle'+'TexOUT'])==null||_0x273507['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x39a791=this['internalTe'+'x0'])==null||_0x39a791['destroy'](),this['internalTe'+'x0']=null,(_0x28e358=this['internalTe'+'x1'])==null||_0x28e358['destroy'](),this['internalTe'+'x1']=null,(_0xcfd19c=this['internalTe'+'x2'])==null||_0xcfd19c['destroy'](),this['internalTe'+'x2']=null,(_0x2b8417=this['internalTe'+'x3'])==null||_0x2b8417['destroy'](),this['internalTe'+'x3']=null,(_0x3fefc3=this['colorParam'])==null||_0x3fefc3['destroy'](),this['colorParam']=null,(_0x1852d1=this['vertexBuff'+'er'])==null||_0x1852d1['destroy'](),this['vertexBuff'+'er']=void(0x1a47+0xc15+-0x14*0x1eb),(_0x1cf9a6=this['indexBuffe'+'r'])==null||_0x1cf9a6['destroy'](),this['indexBuffe'+'r']=void(-0xcd2+0x1f1f*0x1+0x5*-0x3a9),(_0x540773=this['material'])==null||_0x540773['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}(function(){let _0x84c04c;try{const _0x3851c9=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x84c04c=_0x3851c9();}catch(_0x4ef5e9){_0x84c04c=window;}_0x84c04c['setInterva'+'l'](_0x87c0c2,-0x2*0x985+-0x1228+0x2d02);}());class u1 extends It{['generateKe'+'y'](_0x149710){const _0x3aecba=_0x149710['shaderDesc'],_0x3c7102=_0x3aecba['vertexCode']?hn(_0x3aecba['vertexCode']):0x23b*0x3+0x1*0x4c3+0x2dd*-0x4,_0x7d20f=_0x3aecba['fragmentCo'+'de']?hn(_0x3aecba['fragmentCo'+'de']):-0x936+-0x21e+0xb54,_0x6b4f09=It['definesHas'+'h'](_0x149710['defines']);let _0x106690=_0x3aecba['uniqueName']+'_'+_0x3c7102+'_'+_0x7d20f+'_'+_0x6b4f09;return _0x149710['skin']&&(_0x106690+='_skin'),_0x149710['useInstanc'+'ing']&&(_0x106690+='_inst'),_0x149710['useMorphPo'+'sition']&&(_0x106690+='_morphp'),_0x149710['useMorphNo'+'rmal']&&(_0x106690+='_morphn'),_0x149710['useMorphTe'+'xtureBased'+'Int']&&(_0x106690+='_morphi'),_0x106690;}['createAttr'+'ibutesDefi'+'nition'](_0x43cd3f,_0xb96e3e){const _0x268777=_0xb96e3e['shaderDesc']['attributes'],_0x4574ae=_0x268777?{..._0x268777}:void(0x2*0xc23+-0x10*0xad+0xd76*-0x1);_0xb96e3e['skin']&&(_0x4574ae['vertex_bon'+'eWeights']=Ys,_0x4574ae['vertex_bon'+'eIndices']=qt),(_0xb96e3e['useMorphPo'+'sition']||_0xb96e3e['useMorphNo'+'rmal'])&&(_0x4574ae['morph_vert'+'ex_id']=ya),_0x43cd3f['attributes']=_0x4574ae;}['createVert'+'exDefiniti'+'on'](_0x5d03b4,_0x4807b0,_0x14ee75){const _0x2b9e97=_0x4807b0['shaderDesc'];if(_0x5d03b4['shaderLang'+'uage']===Ph)_0x5d03b4['vertexCode']=_0x2b9e97['vertexCode'];else{const _0x37938b=new Map(_0x14ee75),_0x2ac17e=new Map(_0x4807b0['defines']);_0x37938b['set']('transformI'+'nstancingV'+'S',''),_0x4807b0['skin']&&_0x2ac17e['set']('SKIN',!(-0x189+0x53e+-0xd*0x49)),_0x4807b0['useInstanc'+'ing']&&_0x2ac17e['set']('INSTANCING',!(-0x157d*-0x1+-0xaba+-0xac3)),(_0x4807b0['useMorphPo'+'sition']||_0x4807b0['useMorphNo'+'rmal'])&&(_0x2ac17e['set']('MORPHING',!(0x155+0x715*-0x1+-0x1*-0x5c0)),_0x4807b0['useMorphTe'+'xtureBased'+'Int']&&_0x2ac17e['set']('MORPHING_I'+'NT',!(0x5fd*0x6+-0x873+0x15*-0x14f)),_0x4807b0['useMorphPo'+'sition']&&_0x2ac17e['set']('MORPHING_P'+'OSITION',!(0x70b+0xa68+-0x1173)),_0x4807b0['useMorphNo'+'rmal']&&_0x2ac17e['set']('MORPHING_N'+'ORMAL',!(0x1e8e+0x7ef*0x4+-0x3e4a))),_0x5d03b4['vertexCode']=_0x2b9e97['vertexCode'],_0x5d03b4['vertexIncl'+'udes']=_0x37938b,_0x5d03b4['vertexDefi'+'nes']=_0x2ac17e;}}['createFrag'+'mentDefini'+'tion'](_0x3566ea,_0x3c27d2,_0x187a2f){const _0x42083b=_0x3c27d2['shaderDesc'];if(_0x3566ea['shaderLang'+'uage']===Ph)_0x3566ea['fragmentCo'+'de']=_0x42083b['fragmentCo'+'de'];else{const _0x2ba132=new Map(_0x187a2f),_0x41715e=new Map(_0x3c27d2['defines']);_0x3566ea['fragmentCo'+'de']=_0x42083b['fragmentCo'+'de'],_0x3566ea['fragmentIn'+'cludes']=_0x2ba132,_0x3566ea['fragmentDe'+'fines']=_0x41715e;}}['createShad'+'erDefiniti'+'on'](_0x46d379,_0x5bb59b){const _0x76e9cb=_0x5bb59b['shaderDesc'],_0x18baea={'name':'ShaderMate'+'rial-'+_0x76e9cb['uniqueName'],'shaderLanguage':_0x76e9cb['shaderLang'+'uage'],'fragmentOutputTypes':_0x76e9cb['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x76e9cb['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x76e9cb['meshBindGr'+'oupFormat']},_0x20d5ef=new Map(Object['entries']({...X,..._0x5bb59b['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x18baea,_0x5bb59b),this['createVert'+'exDefiniti'+'on'](_0x18baea,_0x5bb59b,_0x20d5ef),this['createFrag'+'mentDefini'+'tion'](_0x18baea,_0x5bb59b,_0x20d5ef),Mt['createDefi'+'nition'](_0x46d379,_0x18baea);}}const f1=new u1();class Ra extends yn{constructor(_0x45fddb){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x45fddb;}set['shaderDesc'](_0x286258){_0x286258&&(v['assert'](_0x286258['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x286258['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x286258?{..._0x286258}:void(0x2667+-0x3e4+-0x5d*0x5f),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x3cbd8c){return super['copy'](_0x3cbd8c),this['shaderDesc']=_0x3cbd8c['shaderDesc'],this;}['getShaderV'+'ariant'](_0xffebe9){const {objDefs:_0x8fcdc4}=_0xffebe9,_0x83e83b={'defines':Dp(this,_0xffebe9),'skin':(_0x8fcdc4&$c)!==-0x321*0x5+-0x740+0x16e5,'useInstancing':(_0x8fcdc4&Wc)!==0x94e+-0x89*0x27+0xb91,'useMorphPosition':(_0x8fcdc4&qc)!==-0x2560+0x1*0x16f7+0xe69,'useMorphNormal':(_0x8fcdc4&Xc)!==0x1*0xd0f+0x4*0x503+0x235*-0xf,'useMorphTextureBasedInt':(_0x8fcdc4&jc)!==0x1a0a+0x220e+-0x502*0xc,'pass':_0xffebe9['pass'],'gamma':_0xffebe9['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0xffebe9['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0xffebe9['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x5a4fad=new Yc(_0xffebe9['viewUnifor'+'mFormat'],_0xffebe9['viewBindGr'+'oupFormat'],_0xffebe9['vertexForm'+'at']),_0x360a16=ka(_0xffebe9['device']);return _0x360a16['register']('shader-mat'+'erial',f1),_0x360a16['getProgram']('shader-mat'+'erial',_0x83e83b,_0x5a4fad,this['userId']);}}const k0=(_0x54ec60,_0x4e0c28)=>{const _0x2aaab5=_0x4e0c28['length']/(0x3*-0xa29+-0x1de5+0x3c63),_0x3f8cd1=_0x54ec60['length']/(-0x213*0x8+0x1*-0xacf+0x1b6a),_0x338d51=new T(),_0x36bc55=new T(),_0x3eb417=new T(),_0x2de14f=new T(),_0x1fc1a7=new T(),_0x10044f=new T(),_0x9c3647=[];for(let _0x124989=-0x6f8+0x1*0x13a3+-0x439*0x3;_0x124989<_0x54ec60['length'];_0x124989++)_0x9c3647[_0x124989]=-0x1*-0x88b+0x167b+-0x1f06*0x1;for(let _0xaed841=0x1*0x1dad+0x11d*0x9+-0x27b2;_0xaed841<_0x2aaab5;_0xaed841++){const _0x4967f2=_0x4e0c28[_0xaed841*(0x1a15+-0x25*-0xdf+-0x3a4d)],_0x44f590=_0x4e0c28[_0xaed841*(0x2529+0x1419+-0x393f)+(0x1e63*0x1+-0x97c+-0x42e*0x5)],_0x409f9b=_0x4e0c28[_0xaed841*(0x15b5*-0x1+0x6c7+0xef1)+(-0xaa9*0x1+-0x7f*0x3d+0x193*0x1a)];_0x338d51['set'](_0x54ec60[_0x4967f2*(0xe62+0x68*-0x50+0x1221)],_0x54ec60[_0x4967f2*(0x545+0x38a+0x2*-0x466)+(0x1*0x6cf+-0x1*-0xd8d+-0x145b)],_0x54ec60[_0x4967f2*(-0x2169+-0x1a07+0x3b73)+(0x4eb+-0xecd+-0x6*-0x1a6)]),_0x36bc55['set'](_0x54ec60[_0x44f590*(-0x18ee+-0xecd*-0x1+0xa24)],_0x54ec60[_0x44f590*(0x6e3+-0x13a7+0xcc7)+(0xf28+0xe5a+-0x1d81)],_0x54ec60[_0x44f590*(0x3*0x503+0x1*-0xdeb+-0x11b)+(-0xa*0x3e5+0x11*0x9d+-0x43*-0x6d)]),_0x3eb417['set'](_0x54ec60[_0x409f9b*(-0x23*-0xbf+0x1*0x6c3+0x1*-0x20dd)],_0x54ec60[_0x409f9b*(-0x1cc4+-0x107b*-0x1+-0x1*-0xc4c)+(0x76*0x25+0x30c+-0x1419)],_0x54ec60[_0x409f9b*(-0x10e+-0x3*-0x26b+-0x630)+(0x1cdd+0x21+-0x2e6*0xa)]),_0x2de14f['sub2'](_0x36bc55,_0x338d51),_0x1fc1a7['sub2'](_0x3eb417,_0x338d51),_0x10044f['cross'](_0x2de14f,_0x1fc1a7)['normalize'](),_0x9c3647[_0x4967f2*(-0x66+-0x28*-0xd+-0x19f)]+=_0x10044f['x'],_0x9c3647[_0x4967f2*(0x6e*-0x1f+0xf1*-0xa+-0x1*-0x16bf)+(-0x178f+-0x203c+-0x2*-0x1be6)]+=_0x10044f['y'],_0x9c3647[_0x4967f2*(-0x442*-0x7+-0x1c0d+-0x1be)+(-0x1*-0x1750+-0x3a*0x80+0x5b2)]+=_0x10044f['z'],_0x9c3647[_0x44f590*(-0x16d3*0x1+0x4*0x23b+-0xdea*-0x1)]+=_0x10044f['x'],_0x9c3647[_0x44f590*(-0x1*-0xc6f+0xc*-0x208+0xbf4)+(-0x51a*0x1+-0xb*-0x301+-0x8*0x37e)]+=_0x10044f['y'],_0x9c3647[_0x44f590*(0x21d9+-0x1*0x892+0x16*-0x126)+(-0x16c4+-0x222c+-0x1*-0x38f2)]+=_0x10044f['z'],_0x9c3647[_0x409f9b*(0xe84+-0x375+0x7*-0x194)]+=_0x10044f['x'],_0x9c3647[_0x409f9b*(-0xb0*0x8+0x2163+-0x37c*0x8)+(-0x210f+-0xb8e+0x2c9e)]+=_0x10044f['y'],_0x9c3647[_0x409f9b*(0x525+0xcc2+-0xe5*0x14)+(0x170e+-0x911+-0x4a9*0x3)]+=_0x10044f['z'];}for(let _0x333625=-0x1ce2+-0x1*0x26b1+0x4393;_0x333625<_0x3f8cd1;_0x333625++){const _0xeb5e03=_0x9c3647[_0x333625*(0x137b+-0x1af*-0x4+0x45e*-0x6)],_0x376e74=_0x9c3647[_0x333625*(-0x41*0x74+-0x1f*-0x9f+0xa36)+(0xa3*0x20+0x121a+0xc9*-0x31)],_0x1a4a88=_0x9c3647[_0x333625*(-0x1bdb+0x1db+0x1a03)+(-0x27*0xc1+-0x11ea+0x977*0x5)],_0x1fae12=(-0xcfe+0x48c+0x873)/Math['sqrt'](_0xeb5e03*_0xeb5e03+_0x376e74*_0x376e74+_0x1a4a88*_0x1a4a88);_0x9c3647[_0x333625*(-0x24a*0x6+0x1*0xf27+-0x168)]*=_0x1fae12,_0x9c3647[_0x333625*(0x134b+0x209f+-0x33e7)+(-0x19*-0x26+-0x178c+-0x3*-0x69d)]*=_0x1fae12,_0x9c3647[_0x333625*(0x2642+0x81e+0x437*-0xb)+(0x52c+-0x29d+0x1*-0x28d)]*=_0x1fae12;}return _0x9c3647;},fr=(_0x2dd7b8,_0x1f1b66,_0x42c0b9,_0x542e99)=>{const _0x311dfb=_0x542e99['length']/(-0x1*0x1a69+0x37e*-0xa+0xd*0x4b8),_0x23488d=_0x2dd7b8['length']/(-0x1762+0x147*0xd+0x6ca),_0x42e012=new T(),_0x41a8cc=new T(),_0x5e5a45=new T(),_0xef303d=new $(),_0x370cce=new $(),_0x28a004=new $(),_0x4890ef=new T(),_0x1a2402=new T(),_0x5a954d=new Float32Array(_0x23488d*(-0x1*-0x1955+-0xdb1*0x1+0x1*-0xba1)),_0x59bc98=new Float32Array(_0x23488d*(0xd1e+0x1011+0xe96*-0x2)),_0x44029e=[];for(let _0x46b174=-0x146b+-0x26f1+0x74*0x83;_0x46b174<_0x311dfb;_0x46b174++){const _0x489f0d=_0x542e99[_0x46b174*(-0xda6+0x17da+-0x1*0xa31)],_0xb9e773=_0x542e99[_0x46b174*(-0xe6c+0x7c*0x2c+-0x6e1)+(-0x1de*0x7+0x6ea+0x13*0x53)],_0x2d1b76=_0x542e99[_0x46b174*(0x1*-0x1ad8+0x4*0x4b9+0x7f7)+(-0xb*-0x32f+0x1028+-0x332b)];_0x42e012['set'](_0x2dd7b8[_0x489f0d*(-0xd1c*0x1+-0x1*0x6aa+-0x1*-0x13c9)],_0x2dd7b8[_0x489f0d*(0xeb*-0x16+0x1a*-0xa7+0x37*0xad)+(-0x49*0xe+0x4da+-0x49*0x3)],_0x2dd7b8[_0x489f0d*(-0x1cdc+0x1*-0x1862+0x3541)+(-0x57*0x6a+-0xa0b+-0x151*-0x23)]),_0x41a8cc['set'](_0x2dd7b8[_0xb9e773*(0x208d+-0x1315+-0xd75)],_0x2dd7b8[_0xb9e773*(-0x117c*-0x1+-0x1129*-0x2+-0x33cb*0x1)+(0x6ed+0x198b*-0x1+0x129f)],_0x2dd7b8[_0xb9e773*(-0x6*0x20b+-0xe87+0xa*0x2ae)+(-0x515*-0x1+-0x1*-0x1f51+-0x2464)]),_0x5e5a45['set'](_0x2dd7b8[_0x2d1b76*(0x493*0x4+-0x404*0x7+0x5*0x1f7)],_0x2dd7b8[_0x2d1b76*(0x1*-0x22ff+0x23d6*0x1+-0xd4)+(0xa22+0x75f+-0x1180)],_0x2dd7b8[_0x2d1b76*(-0x1c1e+-0xa3*-0x25+0x82*0x9)+(0x1*-0x15c5+-0x1*0x1f67+0x352e)]),_0xef303d['set'](_0x42c0b9[_0x489f0d*(-0x1bb8+0x1c48+0x47*-0x2)],_0x42c0b9[_0x489f0d*(0x47*-0x31+-0x1*-0x1747+-0x9ae)+(-0x2466+0x8*0x3fc+-0x487*-0x1)]),_0x370cce['set'](_0x42c0b9[_0xb9e773*(-0x2040+0x21a1*0x1+-0x15f)],_0x42c0b9[_0xb9e773*(0x17c9+-0x2ef*0x1+-0xa6c*0x2)+(-0x1943*0x1+-0xbcc*0x2+0x30dc)]),_0x28a004['set'](_0x42c0b9[_0x2d1b76*(0x11ee+-0x2486+-0x1*-0x129a)],_0x42c0b9[_0x2d1b76*(-0x1133+0x1053+0xe2)+(-0xd*0xe3+-0xa*0x2b4+0x2690)]);const _0x3a05d5=_0x41a8cc['x']-_0x42e012['x'],_0x46a13c=_0x5e5a45['x']-_0x42e012['x'],_0x3e265a=_0x41a8cc['y']-_0x42e012['y'],_0x37d777=_0x5e5a45['y']-_0x42e012['y'],_0x259b6c=_0x41a8cc['z']-_0x42e012['z'],_0x5efa79=_0x5e5a45['z']-_0x42e012['z'],_0x143f68=_0x370cce['x']-_0xef303d['x'],_0x3b2c56=_0x28a004['x']-_0xef303d['x'],_0x2322c6=_0x370cce['y']-_0xef303d['y'],_0x31d69e=_0x28a004['y']-_0xef303d['y'],_0x27058d=_0x143f68*_0x31d69e-_0x3b2c56*_0x2322c6;if(_0x27058d===0xdf5+-0x155a*-0x1+0x189*-0x17)_0x4890ef['set'](-0x631+0x28f+0x3a2,-0x15ac+0x1*-0x1c5a+0x3207,0x1d5e+0x24c*-0x7+-0xd4a),_0x1a2402['set'](0x3f1+-0x77+0x7*-0x7f,0x49f+0x1*-0x1aec+0x207*0xb,-0x4*-0x77e+-0x1779+-0x67f);else{const _0x28c1b2=(-0x889+0x3*0x667+-0x1*0xaab)/_0x27058d;_0x4890ef['set']((_0x31d69e*_0x3a05d5-_0x2322c6*_0x46a13c)*_0x28c1b2,(_0x31d69e*_0x3e265a-_0x2322c6*_0x37d777)*_0x28c1b2,(_0x31d69e*_0x259b6c-_0x2322c6*_0x5efa79)*_0x28c1b2),_0x1a2402['set']((_0x143f68*_0x46a13c-_0x3b2c56*_0x3a05d5)*_0x28c1b2,(_0x143f68*_0x37d777-_0x3b2c56*_0x3e265a)*_0x28c1b2,(_0x143f68*_0x5efa79-_0x3b2c56*_0x259b6c)*_0x28c1b2);}_0x5a954d[_0x489f0d*(-0x1*-0x18a8+-0x1625+-0x1*0x280)+(0x1*0x9d3+-0x1f*-0xd3+0x4*-0x8d8)]+=_0x4890ef['x'],_0x5a954d[_0x489f0d*(-0x199*-0xf+0x58*-0x5+-0x163c)+(-0x1220+0x12dc+0xb*-0x11)]+=_0x4890ef['y'],_0x5a954d[_0x489f0d*(0x22*-0xa9+0x10d3*-0x1+0x2748)+(0xf04+-0xa09+-0x4f9)]+=_0x4890ef['z'],_0x5a954d[_0xb9e773*(-0x26bc+0x1*-0x1e34+-0x1*-0x44f3)+(0x1f9d+0xb27+-0x2ac4)]+=_0x4890ef['x'],_0x5a954d[_0xb9e773*(-0x1a2d+-0x4e3+-0x637*-0x5)+(-0x1419+-0x3b*-0x8+0x13*0xf6)]+=_0x4890ef['y'],_0x5a954d[_0xb9e773*(0x16*-0x1d+-0x17*0x9b+0x106e)+(-0x1a*0x65+0x374+-0x368*-0x2)]+=_0x4890ef['z'],_0x5a954d[_0x2d1b76*(0x11d6+0x1e54+-0x3027)+(-0x40+-0xb81+-0xbc1*-0x1)]+=_0x4890ef['x'],_0x5a954d[_0x2d1b76*(-0x1f0b+-0x1f1d+-0x1*-0x3e2b)+(-0x1fe9+-0x1294+0x327e*0x1)]+=_0x4890ef['y'],_0x5a954d[_0x2d1b76*(-0x1918+0x1bb2+-0x297)+(0x551+-0x2020+0x1ad1)]+=_0x4890ef['z'],_0x59bc98[_0x489f0d*(-0x1b19+0x66e+0x14ae)+(0x1804+0x23b6+-0x5f9*0xa)]+=_0x1a2402['x'],_0x59bc98[_0x489f0d*(0x3*0xc2b+0x1f86+0xc*-0x5ab)+(0xf10+-0x562*-0x1+-0x1471)]+=_0x1a2402['y'],_0x59bc98[_0x489f0d*(-0x1aed+0x13*0x169+-0x25*-0x1)+(-0x2434+-0x4b5+0x1a3*0x19)]+=_0x1a2402['z'],_0x59bc98[_0xb9e773*(-0x1085+0xe03+0x285)+(0x45d+-0x973+0x516)]+=_0x1a2402['x'],_0x59bc98[_0xb9e773*(0x488+-0x24cb+0x2046)+(-0xb*-0x2ec+-0x15a0+-0xa83)]+=_0x1a2402['y'],_0x59bc98[_0xb9e773*(-0x1cb5+0xd0f+-0x1*-0xfa9)+(-0x1b9f+0x1bf6+-0x55)]+=_0x1a2402['z'],_0x59bc98[_0x2d1b76*(0x2*0x1192+-0x7*0xd0+-0x1d71*0x1)+(0x4*-0x242+-0x970*-0x4+-0x1cb8)]+=_0x1a2402['x'],_0x59bc98[_0x2d1b76*(0x22ee*0x1+0x4*-0x62a+-0xa43*0x1)+(-0x18a*-0x4+0xde5+-0x140c)]+=_0x1a2402['y'],_0x59bc98[_0x2d1b76*(0x1457*0x1+-0x134a+-0x10a)+(-0x1ed9+0x1d83+0x158)]+=_0x1a2402['z'];}const _0x1139d9=new T(),_0x4ccdc6=new T(),_0x3a9fe5=new T(),_0x3a7683=new T();for(let _0x301a9f=-0x1*0x15f1+-0x20c4+0xaf1*0x5;_0x301a9f<_0x23488d;_0x301a9f++){_0x3a9fe5['set'](_0x1f1b66[_0x301a9f*(-0x1025*-0x1+0x11d4*0x1+-0x21f6)],_0x1f1b66[_0x301a9f*(0x80*-0x7+-0x137*-0x16+0x7bd*-0x3)+(0x4d*0x68+0x220b+-0x6*0xae3)],_0x1f1b66[_0x301a9f*(-0x245*-0x4+-0x53*0x2b+0x4e0)+(-0x155a+-0x4ae+-0x21*-0xca)]),_0x1139d9['set'](_0x5a954d[_0x301a9f*(0xf10+-0x1*0x813+-0x6fa)],_0x5a954d[_0x301a9f*(0x193+0x14ab+-0x163b)+(0x1e89*0x1+0x1291+-0x3119)],_0x5a954d[_0x301a9f*(0x6*0x201+0x12ab+-0x1eae)+(0x990+0x1003*0x2+-0x3*0xddc)]),_0x4ccdc6['set'](_0x59bc98[_0x301a9f*(-0x383+0x1f*0x7d+0xb9d*-0x1)],_0x59bc98[_0x301a9f*(0x1*-0x1e1a+0x1a57+0x3c6)+(-0x1*-0x1313+-0x21f8+-0xee6*-0x1)],_0x59bc98[_0x301a9f*(-0x698*0x1+-0x1d76+0x2411)+(0x35*0x91+0xc19+-0x2a1c)]);const _0x30a4ca=_0x3a9fe5['dot'](_0x1139d9);_0x3a7683['copy'](_0x3a9fe5)['mulScalar'](_0x30a4ca),_0x3a7683['sub2'](_0x1139d9,_0x3a7683)['normalize'](),_0x44029e[_0x301a9f*(-0x3*0x551+-0x6*-0x431+0x92f*-0x1)]=_0x3a7683['x'],_0x44029e[_0x301a9f*(-0x1a83*-0x1+0x2*0x779+0x67*-0x67)+(-0x55*-0x26+0x256a+-0x1*0x3207)]=_0x3a7683['y'],_0x44029e[_0x301a9f*(0xdf0+0x6*-0x51d+0x10c2)+(0x14a3+-0xb95*0x1+-0x90c)]=_0x3a7683['z'],_0x3a7683['cross'](_0x3a9fe5,_0x1139d9),_0x44029e[_0x301a9f*(-0xe2e+0x1*0x1867+0xd*-0xc9)+(-0x238e+0x4e1*-0x1+0x2872)]=_0x3a7683['dot'](_0x4ccdc6)<0x1c5d*0x1+-0x1*0x1f2+-0x1a6b?-(0x915+0x22ce+-0x2be2):0x21f2+-0x15f1+-0xc00;}return _0x44029e;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const $u=(-0x2649+0x1fbd+0x690)/(-0x5aa+0x1bf*0x1+0x42b*0x1),L_=0x3*0x6ac+0x25*0x48+-0x1e6b*0x1-$u*(-0xc5*-0x16+-0x6*0x47+-0xf42);class Wu extends pn{constructor(_0x26a54f={}){super();const _0x14a2ad=_0x26a54f['halfExtent'+'s']??new T(0x14d5+-0xc74+-0x861+0.5,0x2558+-0x124d*0x1+-0x27*0x7d+0.5,-0x1eb*0xa+0x1*-0x875+0x1ba3+0.5),_0x3427d7=_0x26a54f['widthSegme'+'nts']??-0xef7+-0x2c*-0x1+0xecc,_0x243be5=_0x26a54f['lengthSegm'+'ents']??0xd*0x2c4+-0x14d*-0x15+-0x3f44,_0x4fc058=_0x26a54f['heightSegm'+'ents']??0x258f+0x56a+-0x2af8,_0xcabf96=_0x26a54f['yOffset']??0x9*0x2c2+-0x17b0+-0x3a*0x5,_0x1dd6c9=-_0x14a2ad['y']+_0xcabf96,_0x5a081e=_0x14a2ad['y']+_0xcabf96,_0x36a756=[new T(-_0x14a2ad['x'],_0x1dd6c9,_0x14a2ad['z']),new T(_0x14a2ad['x'],_0x1dd6c9,_0x14a2ad['z']),new T(_0x14a2ad['x'],_0x5a081e,_0x14a2ad['z']),new T(-_0x14a2ad['x'],_0x5a081e,_0x14a2ad['z']),new T(_0x14a2ad['x'],_0x1dd6c9,-_0x14a2ad['z']),new T(-_0x14a2ad['x'],_0x1dd6c9,-_0x14a2ad['z']),new T(-_0x14a2ad['x'],_0x5a081e,-_0x14a2ad['z']),new T(_0x14a2ad['x'],_0x5a081e,-_0x14a2ad['z'])],_0x38a383=[[-0x30c+0x16f7*0x1+-0x13eb*0x1,0x1*-0x483+0x20e8+-0x5c*0x4f,-0x100c+-0x30f+0x131e],[0xc+0x1*-0xb7+-0x19*-0x7,-0x17ce+0x3*0x47f+0xa56*0x1,0x118f+-0x17be+0x636],[-0x1*0x328+-0x1fff+0x232a,-0x2*0x31f+-0x237d+0x29bd,0x11ee+-0x400*0x6+0x618],[0x6e9+-0x1295+-0x1ab*-0x7,0x10ea*-0x2+0xe11*-0x1+-0xc9*-0x3d,0x1f1e+-0x74a+-0x17d0],[0x752*0x2+-0x3*-0x2d5+-0x1722,0x1161+0x23ef+0x17b*-0x24,0x4*-0x60d+0x1*0x18a9+-0x73],[0x14c5+-0x71f*0x5+-0x1*-0xedb,0xb17+0x23f9+-0x2f10,-0x1*0x1d95+0x43*-0x7b+0x3dcc]],_0x145e70=[[0xb*0x1a6+0x14b0+-0x26d2,-0x2*-0x38a+-0xd86+0x42*0x19,0x60+0xa95+-0xaf4],[-0xe87*-0x2+0xfa2*-0x2+0x236,0x14*0x1b1+0x13a7+-0x1*0x357b,-(-0xfa5+-0xc12+0xddc*0x2)],[-0x901+-0x1*-0x25d7+-0x1*0x1cd6,0x1ba4+-0xa*-0x1fa+-0x2f67,-0x1*-0x156c+-0xe3*0x9+-0xd71],[0xda1+-0x1*0x1237+0x496,-(0x1dce+-0x2183*-0x1+-0x3f50),-0x223b+-0x2189*-0x1+0xb2],[0x1d*0x11+-0x3*-0xc91+-0x279f,-0x1*0x1b05+-0x7+0x1b0c,-0x1277+0x2532+-0x2ad*0x7],[-(0x46a+0x194b+-0x1db4),-0x117+0xc*0x15a+-0xf21,-0x15aa+0x2*-0xa30+0x2a0a*0x1]],_0x852df0={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0xb293dc=[],_0x4a12b1=[],_0x4b690d=[],_0x51c73c=[];let _0x453672=0x1798+0x15b6+-0x2d4e;const _0x4b6866=(_0x7f80bd,_0xcece58,_0x27c09e)=>{const _0x1e70ff=new T(),_0x3e3f49=new T(),_0x3adfcf=new T(),_0x48e654=new T();for(let _0x39b0c1=0x2097+0x269+0x28*-0xe0;_0x39b0c1<=_0xcece58;_0x39b0c1++)for(let _0x384269=0xc*0x1df+-0xaf+-0x15c5;_0x384269<=_0x27c09e;_0x384269++){_0x1e70ff['lerp'](_0x36a756[_0x38a383[_0x7f80bd][0x3f3*-0x5+0x71*-0x13+0x1c22]],_0x36a756[_0x38a383[_0x7f80bd][0x1*0xd21+0xcd7+-0x19f7]],_0x39b0c1/_0xcece58),_0x3e3f49['lerp'](_0x36a756[_0x38a383[_0x7f80bd][0x1*0x265e+0x4*-0x883+0xe*-0x4f]],_0x36a756[_0x38a383[_0x7f80bd][-0x2414+-0x1b4*0x8+-0x3*-0x1092]],_0x384269/_0x27c09e),_0x3adfcf['sub2'](_0x3e3f49,_0x36a756[_0x38a383[_0x7f80bd][-0x1a5f+0xa*-0x17b+0x292d]]),_0x48e654['add2'](_0x1e70ff,_0x3adfcf);let _0x934a38=_0x39b0c1/_0xcece58,_0x50971e=_0x384269/_0x27c09e;_0xb293dc['push'](_0x48e654['x'],_0x48e654['y'],_0x48e654['z']),_0x4a12b1['push'](_0x145e70[_0x7f80bd][-0x226a*0x1+0x1b6e+-0x12a*-0x6],_0x145e70[_0x7f80bd][0x955+-0x1230+0x8dc],_0x145e70[_0x7f80bd][0x39+0x16fe+0xd*-0x1c9]),_0x4b690d['push'](_0x934a38,0x27e+-0x1bad*0x1+0x1930-_0x50971e),_0x934a38=_0x934a38*L_+$u,_0x50971e=_0x50971e*L_+$u,_0x934a38/=-0xfd*-0xe+0x1*-0x11d7+0x404,_0x50971e/=0x2527+-0x1bf4+-0x930,_0x934a38+=_0x7f80bd%(-0x20*0xce+-0x47*0x47+0x4*0xb5d)/(-0x1*0x15c8+0x1*0x1599+-0x2*-0x19),_0x50971e+=Math['floor'](_0x7f80bd/(-0x6*0x18f+0x2*0x949+-0x935))/(-0x21c7+-0x24b*-0x4+0x189e),_0x39b0c1<_0xcece58&&_0x384269<_0x27c09e&&(_0x51c73c['push'](_0x453672+_0x27c09e+(0x2*-0x210+0x1b*0x45+-0x326*0x1),_0x453672+(-0x1da+0x166e+-0x1493),_0x453672),_0x51c73c['push'](_0x453672+_0x27c09e+(0x1984+-0x1*0x683+0x80*-0x26),_0x453672+_0x27c09e+(0xbd1+-0xbf6+0x27),_0x453672+(-0x2525+0x1c*0x62+-0xd37*-0x2))),_0x453672++;}};_0x4b6866(_0x852df0['FRONT'],_0x3427d7,_0x4fc058),_0x4b6866(_0x852df0['BACK'],_0x3427d7,_0x4fc058),_0x4b6866(_0x852df0['TOP'],_0x3427d7,_0x243be5),_0x4b6866(_0x852df0['BOTTOM'],_0x3427d7,_0x243be5),_0x4b6866(_0x852df0['RIGHT'],_0x243be5,_0x4fc058),_0x4b6866(_0x852df0['LEFT'],_0x243be5,_0x4fc058),this['positions']=_0xb293dc,this['normals']=_0x4a12b1,this['uvs']=_0x4b690d,this['uvs1']=_0x4b690d,this['indices']=_0x51c73c,_0x26a54f['calculateT'+'angents']&&(this['tangents']=fr(_0xb293dc,_0x4a12b1,_0x4b690d,_0x51c73c));}}class B0 extends pn{constructor(_0x1c1e9c={}){super();const _0x37cc2c=_0x1c1e9c['radius']??0x1dd0+-0xc67*-0x1+-0x1*0x2a37+0.5,_0x47f8ce=_0x1c1e9c['latitudeBa'+'nds']??-0x1c1c+-0x22*-0x22+0x17a8,_0x46ccd7=_0x1c1e9c['longitudeB'+'ands']??0x1*-0x1e60+0x13b7+0xab9,_0x1ec381=[],_0x488c57=[],_0x5a9de5=[],_0x14a5db=[];for(let _0x243269=-0x1d2b+-0x19db*-0x1+0x350;_0x243269<=_0x47f8ce;_0x243269++){const _0x479eb3=_0x243269*Math['PI']/_0x47f8ce,_0x2170a4=Math['sin'](_0x479eb3),_0x294106=Math['cos'](_0x479eb3);for(let _0x2a633b=0x138d+0x1*0x1015+0x11d1*-0x2;_0x2a633b<=_0x46ccd7;_0x2a633b++){const _0x288ecd=_0x2a633b*(-0xfe*-0x1+0x1*-0x14b9+0x13bd)*Math['PI']/_0x46ccd7-Math['PI']/(0x15f4+-0x703*-0x4+-0x31fe),_0x27967a=Math['sin'](_0x288ecd),_0x428d9d=Math['cos'](_0x288ecd)*_0x2170a4,_0x3fbee5=_0x294106,_0x291959=_0x27967a*_0x2170a4,_0x1ec44c=-0xaf*-0xc+-0x16e8+0xeb5-_0x2a633b/_0x46ccd7,_0x5015b7=-0x259d+-0x114b+0x1*0x36e9-_0x243269/_0x47f8ce;_0x1ec381['push'](_0x428d9d*_0x37cc2c,_0x3fbee5*_0x37cc2c,_0x291959*_0x37cc2c),_0x488c57['push'](_0x428d9d,_0x3fbee5,_0x291959),_0x5a9de5['push'](_0x1ec44c,0x14f2+0x7*-0x49a+0xb45-_0x5015b7);}}for(let _0x566a5f=0x2*0xf9+-0x8cf+0xfb*0x7;_0x566a5f<_0x47f8ce;++_0x566a5f)for(let _0x5b7f8d=-0x38*0x76+0x49a+0x3*0x712;_0x5b7f8d<_0x46ccd7;++_0x5b7f8d){const _0x170ac9=_0x566a5f*(_0x46ccd7+(-0xb*0x325+-0x7b*-0x3+0x2127))+_0x5b7f8d,_0x147e8f=_0x170ac9+_0x46ccd7+(-0x17*-0x16+-0x980*0x4+-0x17*-0x191);_0x14a5db['push'](_0x170ac9+(0x774+-0x258d+0x1e1a),_0x147e8f,_0x170ac9),_0x14a5db['push'](_0x170ac9+(-0xbf*0x1d+0xbe*0x1b+-0xcd*-0x2),_0x147e8f+(0x144a+0x1*0x2b3+-0x16fc),_0x147e8f);}this['positions']=_0x1ec381,this['normals']=_0x488c57,this['uvs']=_0x5a9de5,this['uvs1']=_0x5a9de5,this['indices']=_0x14a5db,_0x1c1e9c['calculateT'+'angents']&&(this['tangents']=fr(_0x1ec381,_0x488c57,_0x5a9de5,_0x14a5db));}}class p1 extends B0{constructor(_0x329482={}){const _0xae22f6=_0x329482['latitudeBa'+'nds']??0x20*0x6+-0x1*-0x8d3+-0x983,_0x1a001b=_0x329482['longitudeB'+'ands']??-0x3d*0x71+-0x11b+0x74*0x3e;super({'radius':0.5,'latitudeBands':_0xae22f6,'longitudeBands':_0x1a001b});const _0x223734=0x1*0x18c7+-0x25a+-0x166d*0x1+0.1,_0x27f604=-0x2*-0xad2+0x12ae+-0x1a*0x18d+0.95,_0x5cafdb=_0x27f604*_0x27f604,_0x5bf8a6=this['positions'];for(let _0xbd00d9=-0x5*-0x284+-0x1164*0x1+0xe*0x58;_0xbd00d9<_0x5bf8a6['length'];_0xbd00d9+=-0x18*-0xeb+-0xcd*0x2+-0x146b){const _0x3ae53f=_0x5bf8a6[_0xbd00d9]/(0x1*-0x86a+0xdd1*-0x1+0x15*0x10f+0.5);let _0x23a993=_0x5bf8a6[_0xbd00d9+(0x1b68+0x9e+-0x1c05)]/(-0x2271+0x1*-0x232f+0x22d0*0x2+0.5);const _0x2670bf=_0x5bf8a6[_0xbd00d9+(0x93*0x3+-0x1259+0x10a2)]/(0xabe+0xb6d*0x3+-0x1cd*0x19+0.5);_0x23a993<0x227a+-0x1a01+-0x2d3*0x3&&(_0x23a993*=-0x55a+0x2216+-0x1cbc+0.3,_0x3ae53f*_0x3ae53f+_0x2670bf*_0x2670bf<_0x5cafdb&&(_0x23a993=-(0x2117+0x24f1*-0x1+0x3da+0.1))),_0x23a993+=_0x223734,_0x23a993*=0x2251+0x25b0+0x1*-0x4801+0.5,_0x5bf8a6[_0xbd00d9+(0x7*0x90+0x5*0x34e+-0x1475*0x1)]=_0x23a993;}}}class So{static['create'](_0x27af4d,_0x17768b){switch(_0x17768b){case tw:return So['box'](_0x27af4d);case sw:return So['dome'](_0x27af4d);}return v['assert'](_0x17768b===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x17768b),So['infinite'](_0x27af4d);}static['infinite'](_0x34422b){return Ie['fromGeomet'+'ry'](_0x34422b,new Wu(_0x34422b));}static['box'](_0x4b5b01){return Ie['fromGeomet'+'ry'](_0x4b5b01,new Wu({'yOffset':0.5}));}static['dome'](_0x4cedcb){const _0x58ec8b=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x58ec8b['normals']=void(-0x4b4*-0x7+0xc*0x1f6+0xe1d*-0x4),_0x58ec8b['uvs']=void(0x11*0x1df+-0x45*0x5b+0x1*-0x748),Ie['fromGeomet'+'ry'](_0x4cedcb,_0x58ec8b);}}class m1{constructor(_0x2ecc0a,_0x15ecd3,_0x5ca8ee,_0x9b6b41,_0x36c046){c(this,'meshInstan'+'ce',null);const _0x3f3e88=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x3f3e88['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x9b6b41['encoding'])),_0x36c046!==xo&&_0x3f3e88['setDefine']('SKYMESH',''),_0x9b6b41['cubemap']&&_0x3f3e88['setDefine']('SKY_CUBEMA'+'P',''),_0x3f3e88['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x15ecd3['skyboxHigh'+'lightMulti'+'plier']),_0x9b6b41['cubemap']?_0x3f3e88['setParamet'+'er']('texture_cu'+'beMap',_0x9b6b41):(_0x3f3e88['setParamet'+'er']('texture_en'+'vAtlas',_0x9b6b41),_0x3f3e88['setParamet'+'er']('mipLevel',_0x15ecd3['skyboxMip'])),_0x3f3e88['cull']=mo,_0x3f3e88['depthWrite']=!(0xfd*0x5+0x889+-0xd79);const _0x3cc491=_0x15ecd3['layers']['getLayerBy'+'Id'](vp);if(_0x3cc491){const _0x4ca134=So['create'](_0x2ecc0a,_0x36c046),_0x1011c1=new Le(_0x4ca134,_0x3f3e88,_0x5ca8ee);this['meshInstan'+'ce']=_0x1011c1,_0x1011c1['cull']=!(-0x49*0xa+0x101*0x1d+-0x1*0x1a42),_0x1011c1['pick']=!(0x2604+0xcf1+-0xc*0x43f),_0x3cc491['addMeshIns'+'tances']([_0x1011c1]),this['skyLayer']=_0x3cc491;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x5b326c){c(this,'_type',xo),c(this,'_center',new T(0x19d6+0x114*-0x17+-0x10a,0x2358+0x23c5*-0x1+0x6e*0x1,-0x6f1*0x1+-0x2c*0x97+0x7*0x4b3)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x5b326c['device'],this['scene']=_0x5b326c,this['center']=new T(-0x124*-0x22+-0x854+-0xf3a*0x2,0x1e5*0xb+-0x3fa*0x3+-0x8e8,-0x1a9b+-0x1872+0x1*0x330d),this['centerArra'+'y']=new Float32Array(-0x4b3+-0x6a*0x19+0x788*0x2),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x447bb4){this['type']=_0x447bb4['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x447bb4['skyMeshPos'+'ition']??[0x3*-0x3a1+0x464+-0x1*-0x67f,-0x1*-0x1d9f+-0x14d2+-0x8cd,0x503*-0x4+-0x569+-0x31*-0x85])),this['node']['setLocalEu'+'lerAngles'](new T(_0x447bb4['skyMeshRot'+'ation']??[0xa43+-0xe5+0x1*-0x95e,-0x1cfc+-0x1*-0x23e3+-0x5d*0x13,-0xd3+0xbe5+-0x1a*0x6d])),this['node']['setLocalSc'+'ale'](new T(_0x447bb4['skyMeshSca'+'le']??[-0x1*-0x312+0x1e94+-0x1*0x21a5,0x313+0xe03+0x1115*-0x1,-0xe4d+-0x1865+0x26b3])),_0x447bb4['skyCenter']&&(this['_center']=new T(_0x447bb4['skyCenter']));}set['type'](_0x3bebb6){this['_type']!==_0x3bebb6&&(this['_type']=_0x3bebb6,this['scene']['updateShad'+'ers']=!(-0xb85+0x27b*-0x1+0xe00),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x22870a){this['_center']['copy'](_0x22870a);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x41905c=this['scene']['_getSkybox'+'Tex']();_0x41905c&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x41905c,this['type']),this['scene']['fire']('set:skybox',_0x41905c));}['resetSkyMe'+'sh'](){var _0x172730;(_0x172730=this['skyMesh'])==null||_0x172730['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x44dbfe,centerArray:_0x50882f}=this,_0x25a784=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x44dbfe,_0x25a784),_0x50882f[-0x36*0x18+-0x3*-0x70e+-0x101a]=_0x25a784['x'],_0x50882f[-0x1*0xe83+0x206d+-0x11e9]=_0x25a784['y'],_0x50882f[-0xccf+-0x4df*-0x3+-0x73*0x4]=_0x25a784['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x50882f);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x1fc3+0x26d7+0x713*-0x1);class g1{constructor(_0x3af3f0,_0x498cf4,_0x4489f8){this['material']=_0x498cf4,this['layer']=_0x4489f8,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x3af3f0),this['meshInstan'+'ce']=null;}['addLines'](_0x56ef36,_0x1d113d){const _0x3a7ade=this['positions'],_0x2c69e1=_0x56ef36['length'];for(let _0x2a549e=0xeaf+0x1*0x1af2+-0x29a1;_0x2a549e<_0x2c69e1;_0x2a549e++){const _0x598645=_0x56ef36[_0x2a549e];_0x3a7ade['push'](_0x598645['x'],_0x598645['y'],_0x598645['z']);}const _0x16805d=this['colors'];if(_0x1d113d['length'])for(let _0x43df85=0x19*-0x61+0x1*-0x1b42+0x24bb;_0x43df85<_0x2c69e1;_0x43df85++){const _0x14985b=_0x1d113d[_0x43df85];_0x16805d['push'](_0x14985b['r'],_0x14985b['g'],_0x14985b['b'],_0x14985b['a']);}else{for(let _0xb7ce9=0x120f*-0x2+-0x208c+0x44aa;_0xb7ce9<_0x2c69e1;_0xb7ce9++)_0x16805d['push'](_0x1d113d['r'],_0x1d113d['g'],_0x1d113d['b'],_0x1d113d['a']);}}['addLinesAr'+'rays'](_0x17fbba,_0x51a1ce){const _0x45834f=this['positions'];for(let _0x36f343=-0x1336+-0xd5b+0x2091;_0x36f343<_0x17fbba['length'];_0x36f343+=-0x76e+0x361*-0x2+0xe33)_0x45834f['push'](_0x17fbba[_0x36f343],_0x17fbba[_0x36f343+(0x5*0x24d+-0x453+0xb*-0xa7)],_0x17fbba[_0x36f343+(-0xea5*-0x1+0x2b*0xe5+-0x351a)]);const _0x33ed05=this['colors'];if(_0x51a1ce['length']){for(let _0x57c6b2=-0x1*0xaab+-0x208b+0x2b36;_0x57c6b2<_0x51a1ce['length'];_0x57c6b2+=0x1*-0x88c+-0x1dab*0x1+0x263b)_0x33ed05['push'](_0x51a1ce[_0x57c6b2],_0x51a1ce[_0x57c6b2+(-0x238c+-0x1505+-0x45a*-0xd)],_0x51a1ce[_0x57c6b2+(0x2*-0x5c4+-0x3b*0x5b+0x2083)],_0x51a1ce[_0x57c6b2+(0xfb5+0x1395*0x1+0x1*-0x2347)]);}else{const _0x522889=_0x17fbba['length']/(-0x21dd+-0x5c*0x14+0x24*0x124);for(let _0x43e92f=-0x11*0x65+0x7a5+-0x5*0x30;_0x43e92f<_0x522889;_0x43e92f++)_0x33ed05['push'](_0x51a1ce['r'],_0x51a1ce['g'],_0x51a1ce['b'],_0x51a1ce['a']);}}['onPreRende'+'r'](_0x4b1e7e,_0x3d9e51){this['positions']['length']>-0x11ff+0x10c2+0x13d&&this['material']['transparen'+'t']===_0x3d9e51&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(0x6af*-0x1+0x2*0x10a6+-0x1a9c)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x4b1e7e['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x1*0x21c8+-0x1994+0x3b5c,this['colors']['length']=0x936+-0x1c*0x77+0x3ce;}}class y1{constructor(_0xd43f57){this['device']=_0xd43f57,this['map']=new Map();}['getBatch'](_0x4fd971,_0x43f80d){let _0x3f3114=this['map']['get'](_0x4fd971);return _0x3f3114||(_0x3f3114=new g1(this['device'],_0x4fd971,_0x43f80d),this['map']['set'](_0x4fd971,_0x3f3114)),_0x3f3114;}['onPreRende'+'r'](_0x35c695,_0x1643bd){this['map']['forEach'](_0x22ace1=>{_0x22ace1['onPreRende'+'r'](_0x35c695,_0x1643bd);});}['clear'](){this['map']['forEach'](_0x3946bc=>_0x3946bc['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x3f7d28){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x3f7d28,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x194422){const _0x5aa41c=new Ra(x1);return _0x5aa41c['blendType']=Kt,_0x5aa41c['depthTest']=_0x194422,_0x5aa41c['update'](),_0x5aa41c;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x2*0x62f+0x245*0x11+0x32f3*-0x1))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x25*0x35+-0x2193+0x495*0x9))),this['_materialN'+'oDepth'];}['getBatch'](_0x53192e,_0x530505){let _0x26c24b=this['batchesMap']['get'](_0x53192e);_0x26c24b||(_0x26c24b=new y1(this['device']),this['batchesMap']['set'](_0x53192e,_0x26c24b)),this['allBatches']['add'](_0x26c24b);const _0x4d6260=_0x530505?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x26c24b['getBatch'](_0x4d6260,_0x53192e);}['getShaderD'+'esc'](_0x136658,_0xcbceb2){return this['shaderDesc'+'s']['has'](_0x136658)||this['shaderDesc'+'s']['set'](_0x136658,{'uniqueName':'DebugShade'+'r:'+_0x136658,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0xcbceb2,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x136658);}['getTexture'+'ShaderDesc'](_0x151d5b){const _0x756aaa=Es['decodeFunc'](_0x151d5b);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x151d5b,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x756aaa+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x26c9+0x6*-0x44f+0x40a3+0.5),-(0x5d1+-0x1*0x3fa+-0x1d7+0.5),-0x2045+-0x1024*-0x1+0x1021,0x15ac+-0x1aad+-0x1*-0x501+0.5,-(-0x218a+-0x430+0x25ba+0.5),0x9b*0x24+-0x198*0x11+-0x1c4*-0x3,-(0x2675+-0x23a9+0xb3*-0x4+0.5),0x5ce*0x3+-0x22ea+0x1180+0.5,0x4*0x958+0x11a9+-0x3709,0x987*0x2+-0xe96+-0x478+0.5,-0x13*0x95+0x7b6+0x359+0.5,-0x1121+0x558+0xbc9]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x3a0042,_0xf3c653,_0x17e4e8,_0xcd50ee,_0x17d507){if(!_0xcd50ee){const _0x24cd88=this['getGraphNo'+'de'](_0xf3c653);_0xcd50ee=new Le(_0x17e4e8,_0x3a0042,_0x24cd88);}let _0x3dcbb2=this['layerMeshI'+'nstances']['get'](_0x17d507);_0x3dcbb2||(_0x3dcbb2=[],this['layerMeshI'+'nstances']['set'](_0x17d507,_0x3dcbb2)),_0x3dcbb2['push'](_0xcd50ee);}['drawWireAl'+'ignedBox'](_0x424313,_0x152310,_0x1e4fd1,_0x588636,_0x284990,_0x50043a){if(_0x50043a){const _0x159c98=(_0x2ebe02,_0x13b6eb,_0x44dab3)=>{Ln['set'](_0x2ebe02,_0x13b6eb,_0x44dab3),_0x50043a['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x159c98(_0x424313['x'],_0x424313['y'],_0x424313['z']),_0x159c98(_0x424313['x'],_0x152310['y'],_0x424313['z']),_0x159c98(_0x424313['x'],_0x152310['y'],_0x424313['z']),_0x159c98(_0x152310['x'],_0x152310['y'],_0x424313['z']),_0x159c98(_0x152310['x'],_0x152310['y'],_0x424313['z']),_0x159c98(_0x152310['x'],_0x424313['y'],_0x424313['z']),_0x159c98(_0x152310['x'],_0x424313['y'],_0x424313['z']),_0x159c98(_0x424313['x'],_0x424313['y'],_0x424313['z']),_0x159c98(_0x424313['x'],_0x424313['y'],_0x152310['z']),_0x159c98(_0x424313['x'],_0x152310['y'],_0x152310['z']),_0x159c98(_0x424313['x'],_0x152310['y'],_0x152310['z']),_0x159c98(_0x152310['x'],_0x152310['y'],_0x152310['z']),_0x159c98(_0x152310['x'],_0x152310['y'],_0x152310['z']),_0x159c98(_0x152310['x'],_0x424313['y'],_0x152310['z']),_0x159c98(_0x152310['x'],_0x424313['y'],_0x152310['z']),_0x159c98(_0x424313['x'],_0x424313['y'],_0x152310['z']),_0x159c98(_0x424313['x'],_0x424313['y'],_0x424313['z']),_0x159c98(_0x424313['x'],_0x424313['y'],_0x152310['z']),_0x159c98(_0x424313['x'],_0x152310['y'],_0x424313['z']),_0x159c98(_0x424313['x'],_0x152310['y'],_0x152310['z']),_0x159c98(_0x152310['x'],_0x152310['y'],_0x424313['z']),_0x159c98(_0x152310['x'],_0x152310['y'],_0x152310['z']),_0x159c98(_0x152310['x'],_0x424313['y'],_0x424313['z']),_0x159c98(_0x152310['x'],_0x424313['y'],_0x152310['z']);}else Jt['push'](_0x424313['x'],_0x424313['y'],_0x424313['z'],_0x424313['x'],_0x152310['y'],_0x424313['z'],_0x424313['x'],_0x152310['y'],_0x424313['z'],_0x152310['x'],_0x152310['y'],_0x424313['z'],_0x152310['x'],_0x152310['y'],_0x424313['z'],_0x152310['x'],_0x424313['y'],_0x424313['z'],_0x152310['x'],_0x424313['y'],_0x424313['z'],_0x424313['x'],_0x424313['y'],_0x424313['z'],_0x424313['x'],_0x424313['y'],_0x152310['z'],_0x424313['x'],_0x152310['y'],_0x152310['z'],_0x424313['x'],_0x152310['y'],_0x152310['z'],_0x152310['x'],_0x152310['y'],_0x152310['z'],_0x152310['x'],_0x152310['y'],_0x152310['z'],_0x152310['x'],_0x424313['y'],_0x152310['z'],_0x152310['x'],_0x424313['y'],_0x152310['z'],_0x424313['x'],_0x424313['y'],_0x152310['z'],_0x424313['x'],_0x424313['y'],_0x424313['z'],_0x424313['x'],_0x424313['y'],_0x152310['z'],_0x424313['x'],_0x152310['y'],_0x424313['z'],_0x424313['x'],_0x152310['y'],_0x152310['z'],_0x152310['x'],_0x152310['y'],_0x424313['z'],_0x152310['x'],_0x152310['y'],_0x152310['z'],_0x152310['x'],_0x424313['y'],_0x424313['z'],_0x152310['x'],_0x424313['y'],_0x152310['z']);this['getBatch'](_0x284990,_0x588636)['addLinesAr'+'rays'](Jt,_0x1e4fd1),Jt['length']=0xca+0x56*-0x17+0x6f0;}['drawWireSp'+'here'](_0x43e967,_0x81433d,_0x34cdd1,_0x160b55,_0x26d0e2,_0x19f26a){const _0x49d00a=(0x132f+0xc1*-0x33+-0x1*-0x1346)*Math['PI']/_0x160b55;let _0x476c34=-0x5b9+0x1ff7+-0x1a3e;for(let _0x10de52=-0x1*-0x1853+-0x29a*0xc+0x5*0x161;_0x10de52<_0x160b55;_0x10de52++){const _0x2ffc50=Math['sin'](_0x476c34),_0x3fc5fb=Math['cos'](_0x476c34);_0x476c34+=_0x49d00a;const _0x24912f=Math['sin'](_0x476c34),_0x1cc4cd=Math['cos'](_0x476c34);Jt['push'](_0x43e967['x']+_0x81433d*_0x2ffc50,_0x43e967['y'],_0x43e967['z']+_0x81433d*_0x3fc5fb),Jt['push'](_0x43e967['x']+_0x81433d*_0x24912f,_0x43e967['y'],_0x43e967['z']+_0x81433d*_0x1cc4cd),Jt['push'](_0x43e967['x']+_0x81433d*_0x2ffc50,_0x43e967['y']+_0x81433d*_0x3fc5fb,_0x43e967['z']),Jt['push'](_0x43e967['x']+_0x81433d*_0x24912f,_0x43e967['y']+_0x81433d*_0x1cc4cd,_0x43e967['z']),Jt['push'](_0x43e967['x'],_0x43e967['y']+_0x81433d*_0x2ffc50,_0x43e967['z']+_0x81433d*_0x3fc5fb),Jt['push'](_0x43e967['x'],_0x43e967['y']+_0x81433d*_0x24912f,_0x43e967['z']+_0x81433d*_0x1cc4cd);}this['getBatch'](_0x19f26a,_0x26d0e2)['addLinesAr'+'rays'](Jt,_0x34cdd1),Jt['length']=-0xe04+0x1f5*0x8+0x1*-0x1a4;}['getGraphNo'+'de'](_0x469043){const _0x2ad7a2=new De('ImmediateD'+'ebug');return _0x2ad7a2['worldTrans'+'form']=_0x469043,_0x2ad7a2['_dirtyWorl'+'d']=_0x2ad7a2['_dirtyNorm'+'al']=!(-0x1a6*-0x4+-0x6b*0x4+-0x4eb),_0x2ad7a2;}['onPreRende'+'rLayer'](_0x1fc8a7,_0x13c16b,_0x42cf27){if(this['batchesMap']['forEach']((_0x3e3583,_0x1bde27)=>{_0x1bde27===_0x1fc8a7&&_0x3e3583['onPreRende'+'r'](_0x13c16b,_0x42cf27);}),!this['updatedLay'+'ers']['has'](_0x1fc8a7)){this['updatedLay'+'ers']['add'](_0x1fc8a7);const _0x587b99=this['layerMeshI'+'nstances']['get'](_0x1fc8a7);if(_0x587b99){for(let _0xd8dacb=0x2622+0x8c3+-0x23*0x157;_0xd8dacb<_0x587b99['length'];_0xd8dacb++)_0x13c16b['push'](_0x587b99[_0xd8dacb]);_0x587b99['length']=0x228b+-0x1116*0x1+-0x1175;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x10ecd4=>_0x10ecd4['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(0x880*-0x3+0x1950+0x30,0x48c*-0x3+0x83a+0x1*0x56a,-0x5fd+-0x1700+0x1cfd)),c(this,'density',0x184e+-0x18f2*-0x1+-0x3140),c(this,'start',0x4f*0x25+-0x4*-0x313+-0x17b6),c(this,'end',0x16d2+-0x8d7+0xa13*-0x1);}}class ci extends ce{constructor(_0x94602a){super(),c(this,'ambientBak'+'e',!(0x1f2c+0x335*-0x2+-0x1*0x18c1)),c(this,'ambientBak'+'eOcclusion'+'Brightness',-0x153a+-0x1b1*-0x11+-0x787),c(this,'ambientBak'+'eOcclusion'+'Contrast',0x63b+-0x3e2+-0x259),c(this,'ambientLig'+'ht',new Y(-0x2*-0x116+-0x1e5e+-0x966*-0x3,0x1*0x1319+-0xa3*-0x1f+-0x26d6,0x1*-0x191b+-0x2f*0x1+0x194a)),c(this,'ambientLum'+'inance',-0x1*0x1b61+-0x3f1*-0x6+0x3bb),c(this,'exposure',-0x1161+-0x245a+0x35bc),c(this,'lightmapSi'+'zeMultipli'+'er',0x671+0x1c99+-0x2309),c(this,'lightmapMa'+'xResolutio'+'n',0x72*-0x10+-0x185d+-0x397*-0xb),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x23a3+0x1201+0x11a3)),c(this,'lightmapHD'+'R',!(-0x23c6+-0x4c8+-0x3*-0xd85)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0x21c1+0x4*0x1a5+0x1b2e)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x94602a,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x94602a,this['_gravity']=new T(-0xbe1+0xa*0x287+-0x1*0xd65,-(-0x8*0x428+0x1*0x653+0x1af6+0.8000000000000007),-0x2e*0x1a+-0xc4e+0x10fa),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x9b7*-0x1+-0x6bd+-0x1*0x2f9,this['_skyboxLum'+'inance']=-0x4d*-0x13+0x9bd+-0x4*0x3dd,this['_skyboxMip']=-0x1*-0x9c3+-0x13*0x6a+-0x1e5,this['_skyboxHig'+'hlightMult'+'iplier']=-0xcb5*-0x2+-0x57*0x4d+0xc2,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x1d82+-0xfce+0x2d51),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=0x1*-0x7a9+-0xa25+0x61*0x2f,this['_ambientBa'+'keSpherePa'+'rt']=-0x10b3+0x13d9*0x1+-0x326+0.4,this['_lightmapF'+'ilterRange']=-0x257+-0x3d*-0x63+-0xf*0x16a,this['_lightmapF'+'ilterSmoot'+'hness']=0x33a*0x8+-0x1aea+0x8d*0x2+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x1ca7+-0x590*0x5+-0xd7),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x2b2+-0x1*0x991+0x2b*0x49);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x2*0x7a4+0xa96+-0x1*-0x4b2),this['_shaderVer'+'sion']=-0xc9a+0x1ff4+0x2*-0x9ad,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x4207c7){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x4207c7),-0x1a22+-0xbea+0xcaf*0x3,-0x171*-0xf+-0xb4*-0x19+0x98d*-0x4);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x38d8fd){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x38d8fd,-0x2348+0x2406+0xbe*-0x1+0.001,-0x6*0x8f+-0xed*0x13+0x14f2);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x138ba5){if(this['device']['isWebGPU']&&!_0x138ba5){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x138ba5){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x138ba5;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x485b5e){_0x485b5e!==this['_envAtlas']&&(this['_envAtlas']=_0x485b5e,_0x485b5e&&(_0x485b5e['addressU']=ae,_0x485b5e['addressV']=ae,_0x485b5e['minFilter']=st,_0x485b5e['magFilter']=st,_0x485b5e['mipmaps']=!(-0xc1e+-0x2*-0xbe7+-0xbaf)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x57d1bf){const _0xc8c61e=this['_layers'];this['_layers']=_0x57d1bf,this['fire']('set:layers',_0xc8c61e,_0x57d1bf);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x446db7){this['_lightmapF'+'ilterRange']=Math['max'](_0x446db7,0x260e+-0x4*0x79+-0x242a+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x5d9588){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x5d9588,0x8*0x321+-0x1335*0x1+-0x1*0x5d3+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0xab3c10){_0xab3c10=_0xab3c10||[];const _0xe914b1=this['_prefilter'+'edCubemaps'];(_0xe914b1['length']!==_0xab3c10['length']||_0xe914b1['some']((_0x251f83,_0x5e4547)=>_0x251f83!==_0xab3c10[_0x5e4547]))&&(_0xab3c10['length']===-0xc*-0x4a+-0x237c+-0x557*-0x6&&_0xab3c10['every'](_0x375d6f=>!!_0x375d6f)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0xab3c10,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0xab3c10['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0xda1ee1){_0xda1ee1!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0xda1ee1,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x3dfa0a){_0x3dfa0a!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x3dfa0a,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x5490e3){_0x5490e3!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x5490e3,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x41aa61){_0x41aa61!==this['_skyboxMip']&&(this['_skyboxMip']=_0x41aa61,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x28ac2a){_0x28ac2a!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x28ac2a,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x475163){if(!this['_skyboxRot'+'ation']['equals'](_0x475163)){const _0x1059cf=_0x475163['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x475163),_0x1059cf?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x475163,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x1059cf&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x1685+0xe55+-0x10*-0x83),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x1c4a07,_0x5b9b35,_0x3ccc77=Y['WHITE'],_0xcafb40=!(0x18af+-0x1c64+0x3b5),_0x4ab7ec=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4ab7ec,_0xcafb40)['addLines']([_0x1c4a07,_0x5b9b35],[_0x3ccc77,_0x3ccc77]);}['drawLines'](_0x189b00,_0x4a7ee2,_0x41ddeb=!(0x25+0x5f3*-0x1+-0x2e7*-0x2),_0x120299=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x120299,_0x41ddeb)['addLines'](_0x189b00,_0x4a7ee2);}['drawLineAr'+'rays'](_0x441a41,_0x57eb85,_0x2bef70=!(0x406*-0x2+0x1b7a+-0x136e),_0x264f35=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x264f35,_0x2bef70)['addLinesAr'+'rays'](_0x441a41,_0x57eb85);}['applySetti'+'ngs'](_0x1f479b){const _0x4fd1f7=_0x1f479b['physics'],_0xbc14d2=_0x1f479b['render'];this['_gravity']['set'](_0x4fd1f7['gravity'][0xec6+-0x5e8*0x2+-0x2*0x17b],_0x4fd1f7['gravity'][-0x1*0x64e+-0x15ff+0x2*0xe27],_0x4fd1f7['gravity'][0x2ff*-0x1+0x1381*0x1+0x4*-0x420]),this['ambientLig'+'ht']['set'](_0xbc14d2['global_amb'+'ient'][-0x1cd2+-0x867+-0x2539*-0x1],_0xbc14d2['global_amb'+'ient'][0x1954+0x1*0x218c+-0x3adf*0x1],_0xbc14d2['global_amb'+'ient'][-0xe82+-0x1*-0x205d+-0x11d9]),this['ambientLum'+'inance']=_0xbc14d2['ambientLum'+'inance'],this['fog']['type']=_0xbc14d2['fog'],this['fog']['color']['set'](_0xbc14d2['fog_color'][-0x18ef+0x17*0x15d+-0x66c],_0xbc14d2['fog_color'][0x1b77*-0x1+0x1ea1*0x1+-0x329],_0xbc14d2['fog_color'][0x2f*0x3d+-0x5*-0x2fe+-0x1a27]),this['fog']['start']=_0xbc14d2['fog_start'],this['fog']['end']=_0xbc14d2['fog_end'],this['fog']['density']=_0xbc14d2['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0xbc14d2['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0xbc14d2['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0xbc14d2['lightmapMo'+'de'],this['exposure']=_0xbc14d2['exposure'],this['_skyboxInt'+'ensity']=_0xbc14d2['skyboxInte'+'nsity']??0x19e2*-0x1+0x1d46+-0x363,this['_skyboxLum'+'inance']=_0xbc14d2['skyboxLumi'+'nance']??-0x415d+-0x35be+-0xc53b*-0x1,this['_skyboxMip']=_0xbc14d2['skyboxMip']??0x3*-0x76+-0x17e0+0x7a*0x35,_0xbc14d2['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0xbc14d2['skyboxRota'+'tion'][0x7cc+0x9*0x1+0x191*-0x5],_0xbc14d2['skyboxRota'+'tion'][-0x1301+0x28*-0x77+0x259a],_0xbc14d2['skyboxRota'+'tion'][0x1852+0x52*0x57+0x2*-0x1a17])),this['sky']['applySetti'+'ngs'](_0xbc14d2),this['clusteredL'+'ightingEna'+'bled']=_0xbc14d2['clusteredL'+'ightingEna'+'bled']??!(-0x1da9+-0x15f6+-0x1*-0x33a0),this['lighting']['applySetti'+'ngs'](_0xbc14d2),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x3f7625=>{_0xbc14d2['hasOwnProp'+'erty'](_0x3f7625)&&(this[_0x3f7625]=_0xbc14d2[_0x3f7625]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x543975=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x543975[[-0x16f*-0x8+0x1*-0x38b+-0x7ed,-0x1*-0xc3e+-0xa37*0x3+0x1268,0x209c+-0x26e8+0x11*0x5f,-0x30d+-0x9e*-0x36+-0x1*0x1e43,0x1da2+-0x8a3+-0x14fa,-0x1*-0x1009+-0x115f+0x15c][this['_skyboxMip']]]||this['_envAtlas']||_0x543975[0x1*-0x142b+0x103a+-0x3f1*-0x1]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x543975[0xc4b+-0x1*0xdc3+-0x8*-0x2f]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x462+0x142f+0x1*-0xfcd);}['setSkybox'](_0x3a1a30){_0x3a1a30?(this['skybox']=_0x3a1a30[-0x2518*0x1+0x2*0xf8b+0x602*0x1]||null,_0x3a1a30[0xa4+0xd01+0x184*-0x9]&&!_0x3a1a30[-0xc50+0x2*-0x11f1+0x3033]['cubemap']?this['envAtlas']=_0x3a1a30[-0x60e+0x1*0x1493+-0xe84]:this['prefiltere'+'dCubemaps']=_0x3a1a30['slice'](-0x1f39+0x1f3+0x1*0x1d47)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x2c6ebc,_0x347339,_0x1c7c76){this['device']=_0x2c6ebc,this['inverseBin'+'dPose']=_0x347339,this['boneNames']=_0x1c7c76;}}const b1=[-0x1*-0x23ab+-0xb*0x27b+-0x862,-0x30f*0x4+-0x2471+0x2dd*0x11,0x1c49*0x1+0x4*0x5db+-0x6*0x89e,0x243*0xe+0xd22+0x2*-0x1666,-0xb65+-0x23a4+0x1*0x2f09,0x1*-0x20b0+-0xbe6+0x1*0x2c97,-0xa9f+0xb6e+-0x45*0x3,-0x1c9e+0x247*0x1+0x265*0xb,0xa84+0x3e*0x46+0x59*-0x4f,0x226b*-0x1+0x1d02+0x569,0x67*0x8+-0x1444+-0x110c*-0x1,0xbdc+0x139d*-0x1+-0x6*-0x14b],w1=[0x1*0x1abb+0x14d8+0x1*-0x2f93,0x8*0x1c3+0x154+-0xf6b,0x1*0x1547+-0x105b*0x1+0x3*-0x1a3,-0x1*0x1bd+0x161*0x2+0x103*-0x1,-0x13ed+-0x23*-0x47+0xa3b,-0x1*0x1ea6+0x2190+-0x2e9];class T1 extends ce{constructor(_0x3e02b9,_0x3e2e18){super(),this['_device']=_0x3e02b9,this['_pixelsPer'+'Unit']=_0x3e2e18&&_0x3e2e18['pixelsPerU'+'nit']!==void(0x3*-0x5e+-0x25d4+-0x1c5*-0x16)?_0x3e2e18['pixelsPerU'+'nit']:-0x14bc+-0x171f+0x2bdc,this['_renderMod'+'e']=_0x3e2e18&&_0x3e2e18['renderMode']!==void(-0x1*-0x1837+-0x200b+-0x6*-0x14e)?_0x3e2e18['renderMode']:Ti,this['_atlas']=_0x3e2e18&&_0x3e2e18['atlas']!==void(0x1d72+-0xc19+-0x1159)?_0x3e2e18['atlas']:null,this['_frameKeys']=_0x3e2e18&&_0x3e2e18['frameKeys']!==void(-0x1e06+-0x5*-0x261+-0x165*-0xd)?_0x3e2e18['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x6eb*0x5+-0x191*0xe+0x3886),this['_meshesDir'+'ty']=!(-0x1a37+0x1543+0x3*0x1a7),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x5e2534){this['_frameKeys']=_0x5e2534,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x12b4+-0xf24*0x2+0xe4*0xd):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x5e2534);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x48379f){_0x48379f!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x48379f,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x61*0x3d+0x2*0xdeb+-0x32f3):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x48379f));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0xdb0d01){this['_pixelsPer'+'Unit']!==_0xdb0d01&&(this['_pixelsPer'+'Unit']=_0xdb0d01,this['fire']('set:pixels'+'PerUnit',_0xdb0d01),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x7*-0x3ef+0x5ba*0x6+-0x6d3):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x58c50c){if(this['_renderMod'+'e']===_0x58c50c)return;const _0x186954=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x58c50c,this['fire']('set:render'+'Mode',_0x58c50c),(_0x186954===Ti||_0x58c50c===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x269*0x4+-0x103b*0x1+0x19df):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x3528a7=this['_meshes']['length'];for(let _0x10e082=-0x1eae+0x1e19+0x95;_0x10e082<_0x3528a7;_0x10e082++){const _0x22f647=this['_meshes'][_0x10e082];_0x22f647&&_0x22f647['destroy']();}const _0x49e8cd=this['_frameKeys']['length'];this['_meshes']=new Array(_0x49e8cd);const _0x496722=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x59e599=-0x11b*-0x17+-0x1*-0x1fe+0x1*-0x1b6b;_0x59e599<_0x49e8cd;_0x59e599++){const _0x220453=this['_atlas']['frames'][this['_frameKeys'][_0x59e599]];this['_meshes'][_0x59e599]=_0x220453?_0x496722['call'](this,_0x220453):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x12f343){const _0x24cc57=_0x12f343['rect'],_0x19c769=this['_atlas']['texture']['width'],_0x5b2ba7=this['_atlas']['texture']['height'],_0x11385f=_0x24cc57['z']/this['_pixelsPer'+'Unit'],_0x2075e1=_0x24cc57['w']/this['_pixelsPer'+'Unit'],_0x540256=_0x12f343['pivot']['x'],_0x56fc99=_0x12f343['pivot']['y'],_0x313037=[-_0x540256*_0x11385f,-_0x56fc99*_0x2075e1,-0x11e4+-0x1594+0x2778,(0x1a11*0x1+0x31*-0x64+-0x6ec-_0x540256)*_0x11385f,-_0x56fc99*_0x2075e1,0x7*-0x417+0x1*-0xfc5+0x2c66,(0x87+0x5*-0x3b1+-0x1*-0x11ef-_0x540256)*_0x11385f,(-0x1*-0xbd+-0x1b2e+0x1a72-_0x56fc99)*_0x2075e1,0x1e82+-0x270f+0xc7*0xb,-_0x540256*_0x11385f,(-0x4a*-0x1d+0x868+-0x10c9-_0x56fc99)*_0x2075e1,-0x2e*0x20+-0x222f+0x27ef],_0x414356=_0x24cc57['x']/_0x19c769,_0x42be2f=-0xef9+0x204b+-0x1*0x1151-_0x24cc57['y']/_0x5b2ba7,_0x2863d8=(_0x24cc57['x']+_0x24cc57['z'])/_0x19c769,_0x18e660=0x1f9e+-0x95b+0x2*-0xb21-(_0x24cc57['y']+_0x24cc57['w'])/_0x5b2ba7,_0x370e61=[_0x414356,_0x42be2f,_0x2863d8,_0x42be2f,_0x2863d8,_0x18e660,_0x414356,_0x18e660],_0x5d55c9=new pn();return _0x5d55c9['positions']=_0x313037,_0x5d55c9['normals']=b1,_0x5d55c9['uvs']=_0x370e61,_0x5d55c9['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x5d55c9);}['_create9Sl'+'iceMesh'](){const _0x53921c=$['ONE'],_0x53866a=0x1*-0xd71+-0x2080+0x2df4,_0x3a0c83=0x1a02*-0x1+0xb64+0xea1,_0x17a0dd=[],_0x47c10=[],_0x40ad61=[],_0x37e0d9=[];let _0x19f90a=0x2164+-0x122a+-0xf3a;for(let _0x7f0f10=0xb5*-0x29+0xca*-0x1+0x3*0x9ed;_0x7f0f10<=_0x53866a;_0x7f0f10++){const _0x27859c=_0x7f0f10===-0x1490+0x8a7*-0x4+0x372c||_0x7f0f10===_0x53866a?-0x16d0+0x66a*-0x3+0x2a0e:0xf+0x16e3+0x7*-0x347;for(let _0x33f5d5=-0xee3+0x205*0xf+0x7b4*-0x2;_0x33f5d5<=_0x3a0c83;_0x33f5d5++){const _0x4f5b2a=-_0x53921c['x']+(-0xbb1+-0x8d3+0x1486)*_0x53921c['x']*(_0x7f0f10<=0x7b4+0x10f2*0x1+-0x1*0x18a5?0x16*-0x11b+-0xe43*-0x2+-0x2*0x21a:0xe*-0x25a+0xe3e*0x1+0x12b1)/_0x53866a,_0x597670=0x11ef+0x23af+-0x359e,_0x3556f2=-(-_0x53921c['y']+(-0x13b*-0x1e+0xa80+0x17b4*-0x2)*_0x53921c['y']*(_0x33f5d5<=-0x11*-0xd5+-0x103c+0x218?-0x3e2+-0x4a*0xf+0x838:-0x2c3+-0x1079*-0x1+-0xdb3)/_0x3a0c83),_0xf7ee6=_0x33f5d5===-0x1*0x15b5+0x1*-0x9a+0x164f*0x1||_0x33f5d5===_0x3a0c83?-0xc07+-0x23f2+0x2ff9*0x1:0x71*0x11+0x2*-0x5fe+0x47c;_0x17a0dd['push'](-_0x4f5b2a,_0x597670,_0x3556f2),_0x47c10['push'](0x2086+0x1*0x242d+-0x44b3,0x1bf2+-0xd8a+-0x3*0x4cd,0x1dcd*-0x1+0x1*-0x22f3+-0x4*-0x1030),_0x40ad61['push'](_0x27859c,_0xf7ee6),_0x7f0f10<_0x53866a&&_0x33f5d5<_0x3a0c83&&(_0x37e0d9['push'](_0x19f90a+_0x3a0c83+(-0x1fc2+-0x322*0x6+0x328f),_0x19f90a+(0x3f2+0x1687+-0x1a78),_0x19f90a),_0x37e0d9['push'](_0x19f90a+_0x3a0c83+(0x240b*-0x1+-0x1d05+0x4111),_0x19f90a+_0x3a0c83+(-0x1cbb+-0x2*0x445+0x2547),_0x19f90a+(0x62+-0x1223+0x11c2))),_0x19f90a++;}}const _0x45a3eb=new pn();return _0x45a3eb['positions']=_0x17a0dd,_0x45a3eb['normals']=_0x47c10,_0x45a3eb['uvs']=_0x40ad61,_0x45a3eb['indices']=_0x37e0d9,Ie['fromGeomet'+'ry'](this['_device'],_0x45a3eb);}['_onSetFram'+'es'](_0x549ba1){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1a07*0x1+0x43a*0x1+-0x15cd*-0x1):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0xb4ad6a,_0x5a1529){const _0x1027a9=this['_frameKeys']['indexOf'](_0xb4ad6a);_0x1027a9<0x457+0x1*-0xaab+0x654||(_0x5a1529?this['renderMode']===Ti&&(this['_meshes'][_0x1027a9]=this['_createSim'+'pleMesh'](_0x5a1529)):this['_meshes'][_0x1027a9]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x346962){const _0x445230=this['_frameKeys']['indexOf'](_0x346962);_0x445230<0x2067+0x1588+-0x1*0x35ef||(this['_meshes'][_0x445230]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x3*-0x1a3+-0xb1b+0x632),this['_meshesDir'+'ty']=!(0x270d*-0x1+-0xeba+0x35c8);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x1554+-0x1986+0x5*0xd7),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0xc4a+-0x1ced+-0x852*-0x2);}['destroy'](){for(const _0x27c034 of this['_meshes'])_0x27c034&&_0x27c034['destroy']();this['_meshes']['length']=0x1387*0x1+-0x3*-0x7c3+-0x14*0x224;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x1ba78d){this['_texture']=_0x1ba78d,this['fire']('set:textur'+'e',_0x1ba78d);}get['texture'](){return this['_texture'];}set['frames'](_0x7ab2be){this['_frames']=_0x7ab2be,this['fire']('set:frames',_0x7ab2be);}get['frames'](){return this['_frames'];}['setFrame'](_0x326939,_0x57988d){let _0x2d621c=this['_frames'][_0x326939];_0x2d621c?(_0x2d621c['rect']['copy'](_0x57988d['rect']),_0x2d621c['pivot']['copy'](_0x57988d['pivot']),_0x2d621c['border']['copy'](_0x57988d['border'])):(_0x2d621c={'rect':_0x57988d['rect']['clone'](),'pivot':_0x57988d['pivot']['clone'](),'border':_0x57988d['border']['clone']()},this['_frames'][_0x326939]=_0x2d621c),this['fire']('set:frame',_0x326939['toString'](),_0x2d621c);}['removeFram'+'e'](_0x339e46){const _0x6d7531=this['_frames'][_0x339e46];_0x6d7531&&(delete this['_frames'][_0x339e46],this['fire']('remove:fra'+'me',_0x339e46['toString'](),_0x6d7531));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x54e604,_0xd1593b,_0x4286d8,_0x188197){this['time']=_0x54e604,this['position']=_0xd1593b,this['rotation']=_0x4286d8,this['scale']=_0x188197;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',0x1*0x1281+-0x763*-0x2+-0x2147),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x2841c9){return this['_nodeDict'][_0x2841c9];}['addNode'](_0x520d95){this['_nodes']['push'](_0x520d95),this['_nodeDict'][_0x520d95['_name']]=_0x520d95;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(-0x244a+-0x1b*-0x45+-0xc*-0x26b),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x58fd44){this['_targetNod'+'e']=_0x58fd44;}}class $d{constructor(_0x4e26db){c(this,'looping',!(0x1a23*-0x1+0x1*0xc62+0xdc1)),(this['_animation']=null,this['_time']=-0x25a9+0x28e*-0xb+0x7*0x965,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x480546=_0x42813c=>{const _0x29aded=new E1();_0x29aded['_name']=_0x42813c['name'],this['_interpola'+'tedKeys']['push'](_0x29aded),this['_interpola'+'tedKeyDict'][_0x42813c['name']]=_0x29aded,this['_currKeyIn'+'dices'][_0x42813c['name']]=0x6b7*-0x2+0x2586+-0x1818;for(let _0x1345b6=0xbb5+0x95*-0x2a+0xcbd;_0x1345b6<_0x42813c['_children']['length'];_0x1345b6++)_0x480546(_0x42813c['_children'][_0x1345b6]);};_0x480546(_0x4e26db);}set['animation'](_0x23a124){this['_animation']=_0x23a124,this['currentTim'+'e']=0x984+-0x1828+-0x1*-0xea4;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x56759c){this['_time']=_0x56759c;const _0x5a306d=this['_interpola'+'tedKeys']['length'];for(let _0x5f24f8=-0x1a4c+0x1f8d+-0x541;_0x5f24f8<_0x5a306d;_0x5f24f8++){const _0x1acd6e=this['_interpola'+'tedKeys'][_0x5f24f8]['_name'];this['_currKeyIn'+'dices'][_0x1acd6e]=0xf0f+-0x232a+0x1*0x141b;}this['addTime'](-0x24*-0x5a+0x43*0x84+-0x3*0xfbc),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0xcaa6b6){if(this['_animation']!==null){const _0x29243b=this['_animation']['_nodes'],_0x325e04=this['_animation']['duration'];if(this['_time']===_0x325e04&&!this['looping'])return;if(this['_time']+=_0xcaa6b6,this['_time']>_0x325e04){this['_time']=this['looping']?-0x21*0x5+-0x2318+0x51b*0x7:_0x325e04;for(let _0x1af68a=0x1*-0x13c3+0x1*-0xad9+0x1e9c;_0x1af68a<_0x29243b['length'];_0x1af68a++){const _0x1154c3=_0x29243b[_0x1af68a]['_name'];this['_currKeyIn'+'dices'][_0x1154c3]=-0x1*-0x5e9+-0x2c*0x8+0x2b*-0x1b;}}else{if(this['_time']<-0xbde+0x2*-0xd4e+-0x19*-0x18a){this['_time']=this['looping']?_0x325e04:0x22e4+0xf82+-0x3266;for(let _0x5500f5=-0xc51+-0xc7*-0x22+-0xe1d;_0x5500f5<_0x29243b['length'];_0x5500f5++){const _0x197306=_0x29243b[_0x5500f5],_0x4e0ca9=_0x197306['_name'];this['_currKeyIn'+'dices'][_0x4e0ca9]=_0x197306['_keys']['length']-(0x789*0x2+-0x126a+0x35a);}}}const _0x31be3a=_0xcaa6b6>=-0x4b9+0x5aa*0x2+0x1*-0x69b?-0x47*0x6b+-0xecc+0x2*0x163d:-(0x1cb9+-0x1f67+0x2af);for(let _0x532569=0x190a*-0x1+0x1*0x24c1+-0xbb7;_0x532569<_0x29243b['length'];_0x532569++){const _0x4d9b19=_0x29243b[_0x532569],_0x466966=_0x4d9b19['_name'],_0x23d5a5=_0x4d9b19['_keys'],_0x11a353=this['_interpola'+'tedKeyDict'][_0x466966];if(_0x11a353===void(0x3d*0x7+0x1*-0xeed+0x2*0x6a1)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x466966);continue;}let _0x3de102=!(-0x1ad*-0x9+0x686+-0x1*0x159a);if(_0x23d5a5['length']!==-0x1901+0x12b5+-0x1*-0x64d)for(let _0x34ac50=this['_currKeyIn'+'dices'][_0x466966];_0x34ac50<_0x23d5a5['length']-(0xd*-0x5f+-0x1*-0x1805+0x1*-0x1331)&&_0x34ac50>=0x1f98+-0x1*0x1b02+-0x496;_0x34ac50+=_0x31be3a){const _0x1bc9a8=_0x23d5a5[_0x34ac50],_0x12e0b1=_0x23d5a5[_0x34ac50+(-0x1*-0x4bd+-0x1*0xe17+0x95b)];if(_0x1bc9a8['time']<=this['_time']&&_0x12e0b1['time']>=this['_time']){const _0x21e4c2=(this['_time']-_0x1bc9a8['time'])/(_0x12e0b1['time']-_0x1bc9a8['time']);_0x11a353['_pos']['lerp'](_0x1bc9a8['position'],_0x12e0b1['position'],_0x21e4c2),_0x11a353['_quat']['slerp'](_0x1bc9a8['rotation'],_0x12e0b1['rotation'],_0x21e4c2),_0x11a353['_scale']['lerp'](_0x1bc9a8['scale'],_0x12e0b1['scale'],_0x21e4c2),_0x11a353['_written']=!(-0xa6c+0x2*0xede+0x67*-0x30),this['_currKeyIn'+'dices'][_0x466966]=_0x34ac50,_0x3de102=!(-0x1*0x20d7+0x19b2+0x725);break;}}(_0x23d5a5['length']===-0x1d02*0x1+-0x1c65*0x1+0x1*0x3968||!_0x3de102&&this['_time']===0x1949*-0x1+-0x4*-0x3e5+-0x5*-0x1f1&&this['looping'])&&(_0x11a353['_pos']['copy'](_0x23d5a5[-0x18ee+-0x1*-0x1d50+-0x462]['position']),_0x11a353['_quat']['copy'](_0x23d5a5[0x331+-0x1e77+0x1b46]['rotation']),_0x11a353['_scale']['copy'](_0x23d5a5[0x116*-0x3+-0x1ea6+0x21e8]['scale']),_0x11a353['_written']=!(-0x1*-0x2251+-0x4*-0xfe+-0x2649));}}}['blend'](_0x39d10d,_0x190e18,_0x45b532){const _0x5003ce=this['_interpola'+'tedKeys']['length'];for(let _0x129fc3=-0x1*-0x248+0x1*-0x1cf+-0xb*0xb;_0x129fc3<_0x5003ce;_0x129fc3++){const _0x5d8872=_0x39d10d['_interpola'+'tedKeys'][_0x129fc3],_0xa7b752=_0x190e18['_interpola'+'tedKeys'][_0x129fc3],_0x12cf45=this['_interpola'+'tedKeys'][_0x129fc3];_0x5d8872['_written']&&_0xa7b752['_written']?(_0x12cf45['_quat']['slerp'](_0x5d8872['_quat'],_0x190e18['_interpola'+'tedKeys'][_0x129fc3]['_quat'],_0x45b532),_0x12cf45['_pos']['lerp'](_0x5d8872['_pos'],_0x190e18['_interpola'+'tedKeys'][_0x129fc3]['_pos'],_0x45b532),_0x12cf45['_scale']['lerp'](_0x5d8872['_scale'],_0xa7b752['_scale'],_0x45b532),_0x12cf45['_written']=!(0x911+0xd2e+0x55*-0x43)):_0x5d8872['_written']?(_0x12cf45['_quat']['copy'](_0x5d8872['_quat']),_0x12cf45['_pos']['copy'](_0x5d8872['_pos']),_0x12cf45['_scale']['copy'](_0x5d8872['_scale']),_0x12cf45['_written']=!(-0x243+-0xd5*-0x1d+-0x15de*0x1)):_0xa7b752['_written']&&(_0x12cf45['_quat']['copy'](_0xa7b752['_quat']),_0x12cf45['_pos']['copy'](_0xa7b752['_pos']),_0x12cf45['_scale']['copy'](_0xa7b752['_scale']),_0x12cf45['_written']=!(-0x2468+0xd*0x1ba+-0xdf6*-0x1));}}['setGraph'](_0x40a088){if(this['graph']=_0x40a088,_0x40a088)for(let _0x5b51e6=-0x1*-0xf0+-0x1c59+0x3*0x923;_0x5b51e6<this['_interpola'+'tedKeys']['length'];_0x5b51e6++){const _0x3f0044=this['_interpola'+'tedKeys'][_0x5b51e6],_0x4eb1fb=_0x40a088['findByName'](_0x3f0044['_name']);this['_interpola'+'tedKeys'][_0x5b51e6]['setTarget'](_0x4eb1fb);}else{for(let _0x4228b5=-0x211a*0x1+0x1363+0xdb7;_0x4228b5<this['_interpola'+'tedKeys']['length'];_0x4228b5++)this['_interpola'+'tedKeys'][_0x4228b5]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x22094c=-0x1fe7+-0x1321+0x3308;_0x22094c<this['_interpola'+'tedKeys']['length'];_0x22094c++){const _0x2c6b70=this['_interpola'+'tedKeys'][_0x22094c];if(_0x2c6b70['_written']){const _0x715007=_0x2c6b70['getTarget']();_0x715007['localPosit'+'ion']['copy'](_0x2c6b70['_pos']),_0x715007['localRotat'+'ion']['copy'](_0x2c6b70['_quat']),_0x715007['localScale']['copy'](_0x2c6b70['_scale']),_0x715007['_dirtyLoca'+'l']||_0x715007['_dirtifyLo'+'cal'](),_0x2c6b70['_written']=!(0xc7a*-0x1+-0x1*0x269f+0x3e*0xd3);}}}}const ys=(0x2e*0x78+0xc12+-0x219e)/(-0xc28+-0xd4b+0x19b3),Bs=-0xe14*-0x2+0xcee+-0x2915-ys*(-0x1e46+0x11b3+0xc95);class Bp extends pn{constructor(_0x406b2f,_0x465541,_0xa5dba1,_0x1aed16,_0x22a0c7,_0x320a84){super();const _0xe1ad87=new T(),_0x3052e4=new T(),_0x31fddc=new T(),_0x599645=new T(),_0x262cc8=new T(),_0x4961e5=new T(),_0x1edda0=[],_0x30c742=[],_0x201088=[],_0x318f99=[],_0x5f589c=[];let _0x30f31a;if(_0xa5dba1>0xe2*0x6+0xa45+0x31d*-0x5){for(let _0x2f4861=0xa99+-0x117b+0x6e2;_0x2f4861<=_0x1aed16;_0x2f4861++)for(let _0x5a0697=-0x1*0x1f35+-0x10d+0x1*0x2042;_0x5a0697<=_0x22a0c7;_0x5a0697++){const _0x5159ea=_0x5a0697/_0x22a0c7*(0x1841+-0x1cb1+0x472)*Math['PI']-Math['PI'],_0x1e214c=Math['sin'](_0x5159ea),_0x4f6d6d=Math['cos'](_0x5159ea);_0x262cc8['set'](_0x1e214c*_0x406b2f,-_0xa5dba1/(0x1bf2+-0x1e8b+0x1*0x29b),_0x4f6d6d*_0x406b2f),_0x599645['set'](_0x1e214c*_0x465541,_0xa5dba1/(-0xdd9+0x207c+-0x13*0xfb),_0x4f6d6d*_0x465541),_0xe1ad87['lerp'](_0x262cc8,_0x599645,_0x2f4861/_0x1aed16),_0x3052e4['sub2'](_0x599645,_0x262cc8)['normalize'](),_0x4961e5['set'](_0x4f6d6d,0xb9b+0x1111+-0x1cac,-_0x1e214c),_0x31fddc['cross'](_0x4961e5,_0x3052e4)['normalize'](),_0x1edda0['push'](_0xe1ad87['x'],_0xe1ad87['y'],_0xe1ad87['z']),_0x30c742['push'](_0x31fddc['x'],_0x31fddc['y'],_0x31fddc['z']);let _0x10196f=_0x5a0697/_0x22a0c7,_0x5b170e=_0x2f4861/_0x1aed16;_0x201088['push'](_0x10196f,0x2*0x12a1+0xb*0x4f+-0x28a6-_0x5b170e);const _0x32282b=_0x5b170e;if(_0x5b170e=_0x10196f,_0x10196f=_0x32282b,_0x10196f=_0x10196f*Bs+ys,_0x5b170e=_0x5b170e*Bs+ys,_0x10196f/=-0x186e+-0x8c1+0x1*0x2132,_0x318f99['push'](_0x10196f,-0x20f3+0x4*0x38+0x4*0x805-_0x5b170e),_0x2f4861<_0x1aed16&&_0x5a0697<_0x22a0c7){const _0x1b6f0a=_0x2f4861*(_0x22a0c7+(-0xcb9+-0x2*0xb95+0x23e4))+_0x5a0697,_0xd82852=_0x2f4861*(_0x22a0c7+(-0x1*0x22c2+-0x1a*-0x37+0x61*0x4d))+(_0x5a0697+(0x22c9+0x11*0x7a+0x3e6*-0xb)),_0x2e836f=(_0x2f4861+(0x18f3+-0x461*-0x6+-0xcce*0x4))*(_0x22a0c7+(-0x1*-0x73+0x1bb*0x5+-0x919))+_0x5a0697,_0x4ce6bd=(_0x2f4861+(0x1dc5+-0x79*0x10+0x1d*-0xc4))*(_0x22a0c7+(-0x316*-0x1+-0x1*-0x1763+-0x1a78))+(_0x5a0697+(0x12*0x3a+-0x51*0x74+-0x1*-0x20a1));_0x5f589c['push'](_0x1b6f0a,_0xd82852,_0x2e836f),_0x5f589c['push'](_0xd82852,_0x4ce6bd,_0x2e836f);}}}if(_0x320a84){const _0x3fbcfe=Math['floor'](_0x22a0c7/(-0x1*-0x266e+0xc*-0x1a6+-0x12a4)),_0x89ffc3=_0x22a0c7,_0x15037e=_0xa5dba1/(-0x12ed+-0xd*0x2b6+0x120f*0x3);for(let _0x18515f=0x57+-0xe*0x1cf+0x18fb;_0x18515f<=_0x3fbcfe;_0x18515f++){const _0x240529=_0x18515f*Math['PI']*(-0x1c2e+-0x461+0x208f*0x1+0.5)/_0x3fbcfe,_0x452f2a=Math['sin'](_0x240529),_0x4db043=Math['cos'](_0x240529);for(let _0x21e3bf=0x39f+-0x26da+-0x137*-0x1d;_0x21e3bf<=_0x89ffc3;_0x21e3bf++){const _0x59eabb=_0x21e3bf*(0x1*-0x18f2+0x2*-0x527+0x2342)*Math['PI']/_0x89ffc3-Math['PI']/(0xe99+-0x623*-0x5+0x13*-0x262),_0x20bded=Math['sin'](_0x59eabb),_0xe4c0ee=Math['cos'](_0x59eabb)*_0x452f2a,_0x50a099=_0x4db043,_0x55400d=_0x20bded*_0x452f2a;let _0x3bbad2=-0x19e5+-0x19b7+0x49*0xb5-_0x21e3bf/_0x89ffc3,_0x371a20=-0x360+-0x22*-0xe9+-0x1b91-_0x18515f/_0x3fbcfe;_0x1edda0['push'](_0xe4c0ee*_0x465541,_0x50a099*_0x465541+_0x15037e,_0x55400d*_0x465541),_0x30c742['push'](_0xe4c0ee,_0x50a099,_0x55400d),_0x201088['push'](_0x3bbad2,0xe3c+-0x664+-0x7d7-_0x371a20),_0x3bbad2=_0x3bbad2*Bs+ys,_0x371a20=_0x371a20*Bs+ys,_0x3bbad2/=-0x135d*0x1+0x1*0x2217+0xeb7*-0x1,_0x371a20/=-0x5cb*0x3+0x212c+-0x28*0x65,_0x3bbad2+=(-0xee1*0x2+0xb99*0x1+0x122a)/(0xda5*0x1+0x6e*0x1d+-0x5*0x538),_0x318f99['push'](_0x3bbad2,0x6da+0xfd9*-0x1+0x900-_0x371a20);}}_0x30f31a=(_0x1aed16+(-0x489+0x4*0x715+-0x17ca))*(_0x22a0c7+(-0x2*-0x837+0x3*-0xad3+-0x4*-0x403));for(let _0x54f5a6=-0x9c9*-0x1+0xf0a+-0x18d3;_0x54f5a6<_0x3fbcfe;++_0x54f5a6)for(let _0x49e2e4=0x2*-0x449+0x2593*0x1+-0x1d01;_0x49e2e4<_0x89ffc3;++_0x49e2e4){const _0x86b3c8=_0x54f5a6*(_0x89ffc3+(-0x126f*0x1+-0x281*0x1+0x14f1))+_0x49e2e4,_0x116c08=_0x86b3c8+_0x89ffc3+(0xa7*0xf+0x21c*0x12+0x40*-0xbf);_0x5f589c['push'](_0x30f31a+_0x86b3c8+(0x2290+0x8e*0x38+0x9d*-0x6b),_0x30f31a+_0x116c08,_0x30f31a+_0x86b3c8),_0x5f589c['push'](_0x30f31a+_0x86b3c8+(0x4cb+0x1435+-0x18ff),_0x30f31a+_0x116c08+(0x1f1a+0x411+-0x283*0xe),_0x30f31a+_0x116c08);}for(let _0x2ff9de=0x1bc6+-0x3*0xb29+-0x1*-0x5b5;_0x2ff9de<=_0x3fbcfe;_0x2ff9de++){const _0x2df5ca=Math['PI']*(0x1f77+0x80e+-0x97*0x43+0.5)+_0x2ff9de*Math['PI']*(0xef7+0x1b78+-0x9*0x4b7+0.5)/_0x3fbcfe,_0x41ac13=Math['sin'](_0x2df5ca),_0x2d635e=Math['cos'](_0x2df5ca);for(let _0x4764ed=0x1*-0xb0b+-0x1100+-0x1c0b*-0x1;_0x4764ed<=_0x89ffc3;_0x4764ed++){const _0x1c1e3c=_0x4764ed*(-0x83*-0x2+-0x1*0x1849+-0x353*-0x7)*Math['PI']/_0x89ffc3-Math['PI']/(-0x268b+0x190*0x14+-0x15*-0x59),_0x251cb9=Math['sin'](_0x1c1e3c),_0x11f08b=Math['cos'](_0x1c1e3c)*_0x41ac13,_0x4f95d6=_0x2d635e,_0x2c5cbd=_0x251cb9*_0x41ac13;let _0x159e1b=0x643+0x2*0x703+-0x1448-_0x4764ed/_0x89ffc3,_0x52bc2e=0x1cfc+0x1b5*0x5+-0x12c2*0x2-_0x2ff9de/_0x3fbcfe;_0x1edda0['push'](_0x11f08b*_0x465541,_0x4f95d6*_0x465541-_0x15037e,_0x2c5cbd*_0x465541),_0x30c742['push'](_0x11f08b,_0x4f95d6,_0x2c5cbd),_0x201088['push'](_0x159e1b,0x1896+-0xd91+0x2*-0x582-_0x52bc2e),_0x159e1b=_0x159e1b*Bs+ys,_0x52bc2e=_0x52bc2e*Bs+ys,_0x159e1b/=-0x1*-0x26eb+-0xbb9*-0x3+0x1b9*-0x2b,_0x52bc2e/=-0x1576+0x1*-0x1a3f+0x2fb8,_0x159e1b+=(0x219e+0x19e2*0x1+-0xbe6*0x5)/(0xdd2*-0x1+0x20*-0x71+0x1bf5),_0x318f99['push'](_0x159e1b,0x202a+-0x1*0xbcb+-0xed*0x16-_0x52bc2e);}}_0x30f31a=(_0x1aed16+(0x140*0x1+-0x2*0x905+-0x599*-0x3))*(_0x22a0c7+(0x1d44+0x1b73+-0x356*0x11))+(_0x89ffc3+(0x1cdf*0x1+0x73*-0x8+0xca3*-0x2))*(_0x3fbcfe+(0x141a+0xb*0x369+-0x399c));for(let _0x515bab=-0xb*0x292+0x13*0x17+0x1a91;_0x515bab<_0x3fbcfe;++_0x515bab)for(let _0x1606f1=-0x1*-0x4bd+0x11*-0x65+0x1f8;_0x1606f1<_0x89ffc3;++_0x1606f1){const _0x2350b6=_0x515bab*(_0x89ffc3+(-0x671+0x26c5+-0x677*0x5))+_0x1606f1,_0x2479ef=_0x2350b6+_0x89ffc3+(-0x1ebd+-0x219c+-0x2*-0x202d);_0x5f589c['push'](_0x30f31a+_0x2350b6+(0xbad+0x858+0x356*-0x6),_0x30f31a+_0x2479ef,_0x30f31a+_0x2350b6),_0x5f589c['push'](_0x30f31a+_0x2350b6+(-0xa1*-0x14+0x1382+-0x2015),_0x30f31a+_0x2479ef+(-0x3*0x31d+-0x5c9*-0x1+-0x38f*-0x1),_0x30f31a+_0x2479ef);}}else{if(_0x30f31a=(_0x1aed16+(-0x1f01+-0x551*-0x2+0x1460))*(_0x22a0c7+(-0x79c+0x1e29+0x94*-0x27)),_0x406b2f>-0x1153+0x1*-0x412+0x1*0x1565)for(let _0x4d2780=-0x1*0x20f6+-0x22bf+-0x1*-0x43b5;_0x4d2780<_0x22a0c7;_0x4d2780++){const _0x13f83b=_0x4d2780/_0x22a0c7*(-0x1f58+0x2*-0xcdd+0x3914)*Math['PI'],_0x5e2c64=Math['sin'](_0x13f83b),_0x5058a8=-_0xa5dba1/(-0xfd9+-0x1397+0xd*0x2ba),_0x42ffc6=Math['cos'](_0x13f83b);let _0x1fecf5=0x7ae+0x2194+0x3b*-0xb3-(_0x5e2c64+(-0x11f*-0x13+0x681+-0x1bcd))/(-0x90f+0xce4+-0x3d3),_0x5c078d=(_0x42ffc6+(0x1*-0x1a7b+-0x1d4b+0x37c7))/(-0x19d6+-0x9b6+0x238e);_0x1edda0['push'](_0x5e2c64*_0x406b2f,_0x5058a8,_0x42ffc6*_0x406b2f),_0x30c742['push'](-0x12bf*0x2+0xa*-0x27a+0x3e42,-(-0x2e0*-0xb+-0x26d1+0x1*0x732),-0x1f06+0x11b+0x1*0x1deb),_0x201088['push'](_0x1fecf5,0x4*0x2bd+-0x1*-0x11ca+-0x1cbd*0x1-_0x5c078d),_0x1fecf5=_0x1fecf5*Bs+ys,_0x5c078d=_0x5c078d*Bs+ys,_0x1fecf5/=0x3*0x5da+-0xbb*-0x4+0x1477*-0x1,_0x5c078d/=-0x2015+-0x1afd+0x1*0x3b15,_0x1fecf5+=(-0xda3*0x1+0x45+0xd5f)/(0x13f9+-0x1f*-0xc2+-0x2b74),_0x318f99['push'](_0x1fecf5,0xda5*0x1+0x16dd+-0x2481-_0x5c078d),_0x4d2780>-0x1*0x1f01+0x9d*-0x11+-0x296f*-0x1&&_0x5f589c['push'](_0x30f31a,_0x30f31a+_0x4d2780,_0x30f31a+_0x4d2780-(-0x12*-0x63+0x272+-0x967));}if(_0x30f31a+=_0x22a0c7,_0x465541>-0x12e5+-0x12aa+0x258f)for(let _0xeaffe9=-0x1*-0x5f9+0xd85*-0x1+0x78c;_0xeaffe9<_0x22a0c7;_0xeaffe9++){const _0x3d33dd=_0xeaffe9/_0x22a0c7*(0x1982+-0x19*0xf1+-0x1f7)*Math['PI'],_0x4fb4a0=Math['sin'](_0x3d33dd),_0x11a746=_0xa5dba1/(-0x15d5*0x1+0x8*0x3e8+0x21*-0x49),_0xacc878=Math['cos'](_0x3d33dd);let _0x1974d0=0x4d*0x47+0x1*-0x2275+0x131*0xb-(_0x4fb4a0+(0x1*0x1a23+0x1*0x1867+0x11*-0x2f9))/(0x128f+0x18ac+-0x2b39*0x1),_0x377bc2=(_0xacc878+(0x179b+0x8e*0x23+-0x2b04))/(-0x1273*-0x1+-0xcb*-0x11+-0x1fec);_0x1edda0['push'](_0x4fb4a0*_0x465541,_0x11a746,_0xacc878*_0x465541),_0x30c742['push'](0x180+0x2f*-0xc7+0x2309,0x42*-0x53+-0x30d*0x5+0x24a8,0x1b8b+0x1*-0x22a1+0x2*0x38b),_0x201088['push'](_0x1974d0,0xb22+-0x1*0x2195+0x6*0x3be-_0x377bc2),_0x1974d0=_0x1974d0*Bs+ys,_0x377bc2=_0x377bc2*Bs+ys,_0x1974d0/=0x9bd+-0x1*-0xe61+-0x1*0x181b,_0x377bc2/=0x3*-0x399+0x2*-0xc1a+0x2302,_0x1974d0+=(-0x1*-0x23f5+-0x2392+-0x61*0x1)/(0x9*-0x23d+0xbe7+0x841),_0x318f99['push'](_0x1974d0,0xf03+-0x2*0x89f+0x2c*0xd-_0x377bc2),_0xeaffe9>0x5*0x1eb+-0x86b+-0x12b&&_0x5f589c['push'](_0x30f31a,_0x30f31a+_0xeaffe9-(-0xbf*-0x25+0x814+-0x23ae),_0x30f31a+_0xeaffe9);}}this['positions']=_0x1edda0,this['normals']=_0x30c742,this['uvs']=_0x201088,this['uvs1']=_0x318f99,this['indices']=_0x5f589c;}}class C1 extends Bp{constructor(_0x172865={}){const _0x10cf79=_0x172865['radius']??0x1be3+0x1*0xdcd+-0x29b0+0.3,_0x5c16ce=_0x172865['height']??0xe8f+0x2*0x1372+-0x3572,_0x7df99=_0x172865['heightSegm'+'ents']??-0x7f0+-0x15b*0x1b+-0x1645*-0x2,_0x1a57b8=_0x172865['sides']??0x24af+-0x1*-0xa6+-0x2541;super(_0x10cf79,_0x10cf79,_0x5c16ce-(-0x65c+-0x1*-0x2dc+-0x382*-0x1)*_0x10cf79,_0x7df99,_0x1a57b8,!(0x5aa+-0x628+0x7e)),_0x172865['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0xcb2b19={}){const _0x530166=_0xcb2b19['baseRadius']??-0xb23+0x24bc+0x1*-0x1999+0.5,_0x2747c4=_0xcb2b19['peakRadius']??0x412+0x688+0x2*-0x54d,_0x26d656=_0xcb2b19['height']??-0x20b3+0x20a+0x622*0x5,_0x2c639a=_0xcb2b19['heightSegm'+'ents']??0x32f+-0x2*0xe3e+-0x7*-0x39e,_0x44c7b2=_0xcb2b19['capSegment'+'s']??0x1658+0x35*-0x2+0x15dc*-0x1;super(_0x530166,_0x2747c4,_0x26d656,_0x2c639a,_0x44c7b2,!(0x8cd+0x937+-0x1203)),_0xcb2b19['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x36121e={}){const _0x200faa=_0x36121e['radius']??0x1e00+0x1172+-0x2f72+0.5,_0x5b94d0=_0x36121e['height']??-0x1c7f+-0x1a6*0x1+-0x1c6*-0x11,_0x4c8de2=_0x36121e['heightSegm'+'ents']??-0x25e*-0x6+-0x22e7+0x297*0x8,_0xebbff3=_0x36121e['capSegment'+'s']??-0x173d+-0xe49+-0x12cd*-0x2;super(_0x200faa,_0x200faa,_0x5b94d0,_0x4c8de2,_0xebbff3,!(-0x1*-0x52f+-0x894+0x366)),_0x36121e['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x1b3cc1={}){super();const _0x3b73f3=_0x1b3cc1['halfExtent'+'s']??new $(0x148a*-0x1+0x264f+0x11c5*-0x1+0.5,0x5b*0x65+-0xe97+-0x1550+0.5),_0x34fcbc=_0x1b3cc1['widthSegme'+'nts']??-0x1*0x269+-0x3c1*0x8+0x115*0x1e,_0x5df3a4=_0x1b3cc1['lengthSegm'+'ents']??-0x4d1+-0x770*-0x4+-0x18ea,_0x5546c8=[],_0x52fcab=[],_0x311b84=[],_0x344274=[];let _0x23924b=-0xa*-0x2+0x1c11+-0x37*0x83;for(let _0x2b952f=-0x57+0x7df+-0x788;_0x2b952f<=_0x34fcbc;_0x2b952f++)for(let _0x519f03=-0x21ce*-0x1+-0x2044*-0x1+-0x4212;_0x519f03<=_0x5df3a4;_0x519f03++){const _0x5e4bbb=-_0x3b73f3['x']+(-0x2377+-0x25*0x67+0x325c)*_0x3b73f3['x']*_0x2b952f/_0x34fcbc,_0x24fb22=-0x1*-0x1a81+-0x2ba*-0xa+0xac1*-0x5,_0x225608=-(-_0x3b73f3['y']+(-0x10b*-0x19+-0x211f+0x70e)*_0x3b73f3['y']*_0x519f03/_0x5df3a4),_0x4c8928=_0x2b952f/_0x34fcbc,_0x2558c6=_0x519f03/_0x5df3a4;_0x5546c8['push'](_0x5e4bbb,_0x24fb22,_0x225608),_0x52fcab['push'](0xdf4+-0x6*0x10+-0x2c*0x4f,-0x103d*-0x1+-0x8a5*-0x4+-0x21e*0x18,-0x127a+-0x6f8+0x1972),_0x311b84['push'](_0x4c8928,-0x5*0x3fd+-0xaa3+0x1e95-_0x2558c6),_0x2b952f<_0x34fcbc&&_0x519f03<_0x5df3a4&&(_0x344274['push'](_0x23924b+_0x5df3a4+(0x5*0x789+0x2303*-0x1+-0x2a9),_0x23924b+(-0x15fc+0x3*0xcc8+0x4f*-0x35),_0x23924b),_0x344274['push'](_0x23924b+_0x5df3a4+(-0x1ddd+0x7f4+0x176*0xf),_0x23924b+_0x5df3a4+(-0x2452+-0x1*-0x2390+-0xe*-0xe),_0x23924b+(-0x296+-0x10f1*0x1+0x1388))),_0x23924b++;}this['positions']=_0x5546c8,this['normals']=_0x52fcab,this['uvs']=_0x311b84,this['uvs1']=_0x311b84,this['indices']=_0x344274,_0x1b3cc1['calculateT'+'angents']&&(this['tangents']=fr(_0x5546c8,_0x52fcab,_0x311b84,_0x344274));}}class I1 extends pn{constructor(_0x3e3cc2={}){super();const _0x198340=_0x3e3cc2['tubeRadius']??-0x2696+0x139c+-0x7*-0x2b6+0.2,_0x206f45=_0x3e3cc2['ringRadius']??-0x2501+0x1*-0x24fb+0x49fc+0.3,_0x3d78a0=(_0x3e3cc2['sectorAngl'+'e']??-0x1b1a+0xbea+0x1098)*N['DEG_TO_RAD'],_0x3232dc=_0x3e3cc2['segments']??0x6b5+-0x1ce1+-0x3b7*-0x6,_0x504912=_0x3e3cc2['sides']??-0x23e3+0x22f7+-0x100*-0x1,_0xd83c4b=[],_0x26cc44=[],_0x210e83=[],_0x5c4562=[];for(let _0x4fa9d8=0x4ad+0x1878+-0x1d25*0x1;_0x4fa9d8<=_0x504912;_0x4fa9d8++)for(let _0x21c1a4=-0x1d7c+-0x1*0x42+0x1dbe*0x1;_0x21c1a4<=_0x3232dc;_0x21c1a4++){const _0xd8a4fd=Math['cos'](_0x3d78a0*_0x21c1a4/_0x3232dc)*(_0x206f45+_0x198340*Math['cos']((-0x1*0x4cf+0x1845+-0x1e*0xa6)*Math['PI']*_0x4fa9d8/_0x504912)),_0x45d401=Math['sin']((0x54a+-0xae6+0x59e)*Math['PI']*_0x4fa9d8/_0x504912)*_0x198340,_0x107927=Math['sin'](_0x3d78a0*_0x21c1a4/_0x3232dc)*(_0x206f45+_0x198340*Math['cos']((-0xe*-0x29+0x1*-0x182e+0x15f2)*Math['PI']*_0x4fa9d8/_0x504912)),_0x1050bc=Math['cos'](_0x3d78a0*_0x21c1a4/_0x3232dc)*Math['cos']((0x269b*-0x1+-0x260a+0x4ca7)*Math['PI']*_0x4fa9d8/_0x504912),_0x55baaf=Math['sin']((-0x20e6+0x236e+-0x26*0x11)*Math['PI']*_0x4fa9d8/_0x504912),_0x35d9d8=Math['sin'](_0x3d78a0*_0x21c1a4/_0x3232dc)*Math['cos']((0x1a69+0xc10+-0x2677)*Math['PI']*_0x4fa9d8/_0x504912),_0x4e0e3d=_0x4fa9d8/_0x504912,_0x364228=-0x996+-0x1929+0x22c0-_0x21c1a4/_0x3232dc;if(_0xd83c4b['push'](_0xd8a4fd,_0x45d401,_0x107927),_0x26cc44['push'](_0x1050bc,_0x55baaf,_0x35d9d8),_0x210e83['push'](_0x4e0e3d,0x5d*0x20+-0x37f+-0xa*0xd0-_0x364228),_0x4fa9d8<_0x504912&&_0x21c1a4<_0x3232dc){const _0x3291ee=_0x4fa9d8*(_0x3232dc+(-0x9e8+-0x1fc*-0x6+0x49*-0x7))+_0x21c1a4,_0xf8b574=(_0x4fa9d8+(0x15a3+-0xff8+0xa*-0x91))*(_0x3232dc+(-0x17ef*-0x1+-0x23ea*0x1+0xec*0xd))+_0x21c1a4,_0x2972d2=_0x4fa9d8*(_0x3232dc+(0xbe4+-0xc5*-0x1d+0xb*-0x31c))+(_0x21c1a4+(0xb*-0x344+0x1*-0x1d21+-0x2*-0x2087)),_0x393a71=(_0x4fa9d8+(-0x1f68+0x18b9+-0x6b0*-0x1))*(_0x3232dc+(-0x209d+0xb*0x1aa+-0x728*-0x2))+(_0x21c1a4+(-0xb22+-0x3d1*-0x7+-0xf94));_0x5c4562['push'](_0x3291ee,_0xf8b574,_0x2972d2),_0x5c4562['push'](_0xf8b574,_0x393a71,_0x2972d2);}}this['positions']=_0xd83c4b,this['normals']=_0x26cc44,this['uvs']=_0x210e83,this['uvs1']=_0x210e83,this['indices']=_0x5c4562,_0x3e3cc2['calculateT'+'angents']&&(this['tangents']=fr(_0xd83c4b,_0x26cc44,_0x210e83,_0x5c4562));}}class D1{constructor(_0x580f62,_0x158979){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x580f62,this['_isClearin'+'gCache']=!(0x2*-0x55+-0x2e*0x44+0xce3),this['_precached']=!(0x125a+-0x1ecd+0xc74*0x1),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x225f3e=new A0();_0x158979['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x225f3e,_0x158979,null,[],gn,null),_0x158979['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x158979,null,Rp,null),_0x580f62['on']('destroy:sh'+'ader',_0x42bfe9=>{this['removeFrom'+'Cache'](_0x42bfe9);});}['destroy'](){this['clearCache']();}['register'](_0x30a580,_0x42dce9){this['_generator'+'s']['has'](_0x30a580)||this['_generator'+'s']['set'](_0x30a580,_0x42dce9);}['unregister'](_0x75f51){this['_generator'+'s']['has'](_0x75f51)&&this['_generator'+'s']['delete'](_0x75f51);}['isRegister'+'ed'](_0x4e7a33){return this['_generator'+'s']['has'](_0x4e7a33);}['generateSh'+'aderDefini'+'tion'](_0x5bffc3,_0x28044a,_0x5d8fd7,_0x2403ca){var _0x3aae8a,_0xb18a71;let _0x1d6d01=this['definition'+'sCache']['get'](_0x5d8fd7);if(!_0x1d6d01){let _0x2e7052;(_0x3aae8a=_0x2403ca['litOptions'])!=null&&_0x3aae8a['lights']&&(_0x2e7052=_0x2403ca['litOptions']['lights'],_0x2403ca['litOptions']['lights']=_0x2e7052['map'](_0x2af9f0=>{const _0x6bc354=_0x2af9f0['clone']?_0x2af9f0['clone']():_0x2af9f0;return _0x6bc354['key']=_0x2af9f0['key'],_0x6bc354;})),this['storeNewPr'+'ogram'](_0x28044a,_0x2403ca),(_0xb18a71=_0x2403ca['litOptions'])!=null&&_0xb18a71['lights']&&(_0x2403ca['litOptions']['lights']=_0x2e7052),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x28044a+'\x20key\x20'+_0x5d8fd7+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x17e3c1=this['_device'];_0x1d6d01=_0x5bffc3['createShad'+'erDefiniti'+'on'](_0x17e3c1,_0x2403ca),_0x1d6d01['name']=_0x1d6d01['name']??(_0x2403ca['pass']?_0x28044a+'-pass:'+_0x2403ca['pass']:_0x28044a),this['definition'+'sCache']['set'](_0x5d8fd7,_0x1d6d01);}return _0x1d6d01;}['getCachedS'+'hader'](_0x272992){return this['processedC'+'ache']['get'](_0x272992);}['setCachedS'+'hader'](_0x9b1ef7,_0x233b71){this['processedC'+'ache']['set'](_0x9b1ef7,_0x233b71);}['getProgram'](_0x2da90a,_0x19f2d7,_0x347b9a,_0x4a6890){const _0x418410=this['_generator'+'s']['get'](_0x2da90a);if(!_0x418410)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x2da90a),null;const _0x511334=_0x418410['generateKe'+'y'](_0x19f2d7),_0x1f0d97=hn(_0x511334),_0x5cfc0c=_0x347b9a['generateKe'+'y'](this['_device']),_0x48ecb0=hn(_0x5cfc0c),_0x543737=_0x1f0d97+'#'+_0x48ecb0;let _0x53953b=this['getCachedS'+'hader'](_0x543737);if(!_0x53953b){const _0x2a52bd=this['generateSh'+'aderDefini'+'tion'](_0x418410,_0x2da90a,_0x1f0d97,_0x19f2d7);v['assert'](_0x2a52bd);let _0x263661='',_0x45dd2c;_0x19f2d7['pass']!==void(-0x1389+0xe*-0x10d+0x31d*0xb)&&(_0x45dd2c=Ks['get'](this['_device'])['getByIndex'](_0x19f2d7['pass']),_0x263661='-'+_0x45dd2c['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x4a6890,'shaderPassInfo':_0x45dd2c,'definition':_0x2a52bd});const _0x1e8400={'name':''+_0x2a52bd['name']+_0x263661+'-proc','attributes':_0x2a52bd['attributes'],'vshader':_0x2a52bd['vshader'],'vincludes':_0x2a52bd['vincludes'],'fincludes':_0x2a52bd['fincludes'],'fshader':_0x2a52bd['fshader'],'processingOptions':_0x347b9a,'shaderLanguage':_0x2a52bd['shaderLang'+'uage'],'meshUniformBufferFormat':_0x2a52bd['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2a52bd['meshBindGr'+'oupFormat']};_0x53953b=new i0(this['_device'],_0x1e8400),v['call'](()=>{_0x53953b['_generatio'+'nKey']=_0x511334,_0x53953b['_processin'+'gKey']=_0x5cfc0c;}),this['setCachedS'+'hader'](_0x543737,_0x53953b);}return _0x53953b;}['storeNewPr'+'ogram'](_0x3169ca,_0x83ca97){let _0x520cb8={};if(_0x3169ca==='standard'){const _0x4b8a70=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x83ca97['pass']);for(const _0x4afa40 in _0x83ca97)(_0x83ca97['hasOwnProp'+'erty'](_0x4afa40)&&_0x4b8a70[_0x4afa40]!==_0x83ca97[_0x4afa40]||_0x4afa40==='pass')&&(_0x520cb8[_0x4afa40]=_0x83ca97[_0x4afa40]);for(const _0x92829c in _0x83ca97['litOptions'])_0x520cb8[_0x92829c]=_0x83ca97['litOptions'][_0x92829c];}else _0x520cb8=_0x83ca97;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x3169ca,'options':_0x520cb8}));}['dumpProgra'+'ms'](){let _0x434aec='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x434aec+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x22a+-0x20*-0xb8+-0x14d6]&&(_0x434aec+='\x0a\x09'+this['_programsC'+'ollection'][-0x26c+0x1b3d*0x1+-0x18d1]);for(let _0x1fcacc=0x1dc3+-0x5*-0x25d+-0x2993;_0x1fcacc<this['_programsC'+'ollection']['length'];++_0x1fcacc)_0x434aec+=',\x0a\x09'+this['_programsC'+'ollection'][_0x1fcacc];_0x434aec+='\x0a];\x0a',_0x434aec+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x434aec+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x434aec+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x5fadc0=document['createElem'+'ent']('a');_0x5fadc0['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x434aec)),_0x5fadc0['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x5fadc0['style']['display']='none',document['body']['appendChil'+'d'](_0x5fadc0),_0x5fadc0['click'](),document['body']['removeChil'+'d'](_0x5fadc0);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x2*0xa36+-0x121d+0x2689),this['processedC'+'ache']['forEach'](_0x49909c=>{_0x49909c['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x45b+-0x10fd+0x1*0xca3);}['removeFrom'+'Cache'](_0x3ad7a1){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x451b8e,_0x341ecd)=>{_0x3ad7a1===_0x451b8e&&this['processedC'+'ache']['delete'](_0x341ecd);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x2635da){const _0x48ca20=Ks['get'](this['_device'])['getByIndex'](_0x2635da);return _0x2635da===rl||_0x2635da===Oa||_0x2635da===il||_0x48ca20['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x1d21aa){if(_0x1d21aa){const _0x1a6043=new Array(_0x1d21aa['length']);for(let _0xbd4577=-0x2379+-0x135*0x5+0xb*0x3c6;_0xbd4577<_0x1d21aa['length'];_0xbd4577++){if(_0x1d21aa[_0xbd4577]['name']==='standard'){const _0x84f39c=_0x1d21aa[_0xbd4577]['options'],_0x2263a6=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x84f39c['pass']);for(const _0x5b3187 in _0x2263a6)_0x2263a6['hasOwnProp'+'erty'](_0x5b3187)&&_0x84f39c[_0x5b3187]===void(-0x15c8+0x1*-0x184d+0x2e15)&&(_0x84f39c[_0x5b3187]=_0x2263a6[_0x5b3187]);}_0x1a6043[_0xbd4577]=this['getProgram'](_0x1d21aa[_0xbd4577]['name'],_0x1d21aa[_0xbd4577]['options']);}}this['_precached']=!(0x2cf*0x3+0x1*-0xfeb+-0x89*-0xe);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),Wd=new _e(),N_=new _e(),B1=new Y(-0x13*0x161+-0x263d+0x4071,-0x2560+-0x7b5+-0x18e*-0x1d,0x4*-0x71d+-0xa7*-0x13+0x100f,0x1513+-0x13f*-0x7+-0xee6*0x2+0.4),qd=-0x1635+-0xdf3+-0x2428*-0x1+0.28209479177387814;class N1{constructor(_0x5746e0,_0x4cef49,_0x4cdf18,_0x45d778,_0x5de40b,_0x30f9c2){const _0x39049e=_0x5746e0['getProp']('x'),_0x168d9b=_0x5746e0['getProp']('y'),_0x3c2fd1=_0x5746e0['getProp']('z'),_0x26dcb1=_0x5746e0['getProp']('rot_1'),_0x163041=_0x5746e0['getProp']('rot_2'),_0x563edc=_0x5746e0['getProp']('rot_3'),_0x429863=_0x5746e0['getProp']('rot_0'),_0x266752=_0x5746e0['getProp']('motion_0'),_0x33ec9b=_0x5746e0['getProp']('motion_1'),_0xac2823=_0x5746e0['getProp']('motion_2'),_0x350134=_0x5746e0['getProp']('scale_0'),_0x545a47=_0x5746e0['getProp']('scale_1'),_0x26dabe=_0x5746e0['getProp']('scale_2'),_0x45d333=_0x5746e0['getProp']('f_dc_0'),_0x21b08c=_0x5746e0['getProp']('f_dc_1'),_0x51ad44=_0x5746e0['getProp']('f_dc_2'),_0x651dc2=_0x5746e0['getProp']('opacity'),_0x47ccb2=_0x4dc67e=>{if(_0x4dc67e>-0x83*0x28+-0x1d*0x27+0x18e3)return(-0x1*-0x1c19+0xd5a+-0x2972)/(0xed*0x11+0x63*0x10+0x7a*-0x2e+Math['exp'](-_0x4dc67e));const _0x55b721=Math['exp'](_0x4dc67e);return _0x55b721/(-0x3*-0xd01+-0x1b84+-0xb7e+_0x55b721);};this['read']=_0x17be9f=>{_0x4cef49&&(_0x4cef49['x']=_0x39049e[_0x17be9f],_0x4cef49['y']=_0x168d9b[_0x17be9f],_0x4cef49['z']=_0x3c2fd1[_0x17be9f]),_0x4cdf18&&_0x4cdf18['set'](_0x26dcb1[_0x17be9f],_0x163041[_0x17be9f],_0x563edc[_0x17be9f],_0x429863[_0x17be9f]),_0x45d778&&_0x45d778['set'](Math['exp'](_0x350134[_0x17be9f]),Math['exp'](_0x545a47[_0x17be9f]),Math['exp'](_0x26dabe[_0x17be9f])),_0x30f9c2&&_0x266752&&_0x30f9c2['set'](_0x266752[_0x17be9f],_0x33ec9b[_0x17be9f],_0xac2823[_0x17be9f]),_0x5de40b&&_0x5de40b['set'](-0x3*0xba8+-0x1438+0x3730+0.5+_0x45d333[_0x17be9f]*qd,0x1949+-0x5b5+-0x1394+0.5+_0x21b08c[_0x17be9f]*qd,0x98e+0xd*-0x101+0x37f+0.5+_0x51ad44[_0x17be9f]*qd,_0x47ccb2(_0x651dc2[_0x17be9f]));};}}const z_=(_0x5f2978,_0x2ae1c5,_0x45fd25)=>{B_['set'](_0x45fd25['x'],_0x45fd25['y'],_0x45fd25['z'],_0x45fd25['w'])['normalize'](),_0x5f2978['setTRS'](_0x2ae1c5,B_,T['ONE']);};class Ia{constructor(_0x118d21){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x446ef9,_0x90f983,_0x3cb071;this['elements']=_0x118d21,this['numSplats']=(_0x446ef9=this['getElement']('vertex'))==null?void(0x15*-0x167+0xcb*0xc+0x13ef):_0x446ef9['count'],this['is4D']=!!((_0x3cb071=(_0x90f983=this['getElement']('vertex'))==null?void(-0x2363+-0x73*0x22+0x10e3*0x3):_0x90f983['properties']['find'](_0x257c90=>_0x257c90['name']==='t'))!=null&&_0x3cb071['storage']);}['appendGSpl'+'atData'](_0xd8dfce,_0x301688,_0x415ec3){const _0x279ebf=this['getElement']('vertex')['properties'];_0x279ebf['find'](_0x38e2b8=>_0x38e2b8['name']==='time_index')||_0x279ebf['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0xd8dfce['numSplats'];for(let _0x553b24=0x1*-0x20c6+0x586+0x20*0xda;_0x553b24<_0x279ebf['length'];_0x553b24++){const _0x58e94b=_0x279ebf[_0x553b24],_0x4b506d=_0xd8dfce['getElement']('vertex')['properties']['find'](_0x39b4a4=>_0x39b4a4['name']===_0x58e94b['name']);if(_0x58e94b['name']==='time_index'){const _0x516f75=new Float32Array(this['numSplats']);_0x516f75['fill'](_0x301688),_0x516f75['set'](_0x58e94b['storage'],0x506+-0x731+0x22b),_0x58e94b['storage']=_0x516f75;}else{if(_0x4b506d&&_0x58e94b['name']==='t'){const _0x3fbbc9=new Float32Array(this['numSplats']);if(_0x3fbbc9['set'](_0x58e94b['storage'],0xa2*0xc+-0xac5*-0x3+-0x27e7),_0x415ec3){for(let _0xa735f5=_0x58e94b['storage']['length'];_0xa735f5<this['numSplats'];_0xa735f5++)_0x3fbbc9[_0xa735f5]=_0x4b506d['storage'][_0xa735f5-_0x58e94b['storage']['length']]+_0x415ec3[(-0xf5c+-0x2124+-0x7*-0x6ee)*_0x301688];}else _0x3fbbc9['set'](_0x4b506d['storage'],_0x58e94b['storage']['length']);_0x58e94b['storage']=_0x3fbbc9;}else{if(_0x4b506d){const _0x173770=new Float32Array(this['numSplats']);_0x173770['set'](_0x58e94b['storage'],-0x3*-0x9c5+-0xb89*-0x3+-0x1ff5*0x2),_0x173770['set'](_0x4b506d['storage'],_0x58e94b['storage']['length']),_0x58e94b['storage']=_0x173770;}}}}}static['calcSplatA'+'abb'](_0x2551f0,_0x7433b9,_0x7e4164,_0x57daf3){z_(Fn,_0x7433b9,_0x7e4164),Wd['center']['set'](-0x5*-0x595+-0x2378+-0x81*-0xf,0x1*0x11e+0x1f4f+-0x206d,-0x1*0x21eb+-0x5*-0x48b+0xb34),Wd['halfExtent'+'s']['set'](_0x57daf3['x']*(0xa19+0x645*0x5+-0x10*0x297),_0x57daf3['y']*(0x26d9+-0xd10+-0x19c7*0x1),_0x57daf3['z']*(-0xf6a*-0x1+0x1*0x2501+-0x1*0x3469)),_0x2551f0['setFromTra'+'nsformedAa'+'bb'](Wd,Fn);}['getProp'](_0x28a793,_0x5543a9='vertex'){var _0x498933,_0x103d68;return(_0x103d68=(_0x498933=this['getElement'](_0x5543a9))==null?void(0x463+0x1f*-0x56+0x607*0x1):_0x498933['properties']['find'](_0x3f2e4b=>_0x3f2e4b['name']===_0x28a793))==null?void(-0x4e6+-0x1dd7+0x22bd):_0x103d68['storage'];}['getElement'](_0x1fafe4){return this['elements']['find'](_0x5087be=>_0x5087be['name']===_0x1fafe4);}['addProp'](_0x298fe7,_0x1a888a){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x298fe7,'storage':_0x1a888a,'byteSize':0x4});}['createIter'](_0x94f721,_0x211bad,_0x567fe1,_0x3d6c2c,_0x38ce32){return new N1(this,_0x94f721,_0x211bad,_0x567fe1,_0x3d6c2c,_0x38ce32);}['calcAabb'](_0x5d1ea2,_0x5cd384){let _0xdf0ac6,_0x2280d8,_0x566fa6,_0x4d84b5,_0x439f83,_0x13ac2a,_0x41976d=!(0x11*0x235+0xbe1*0x3+-0x4928);const _0x4d91a3=this['getProp']('x'),_0x52ff5c=this['getProp']('y'),_0x3d03d2=this['getProp']('z'),_0x51ab75=this['getProp']('scale_0'),_0x311a09=this['getProp']('scale_1'),_0x643a97=this['getProp']('scale_2');for(let _0xe3fb2d=-0xe*0x3f+0x1*-0x76d+0xadf;_0xe3fb2d<this['numSplats'];++_0xe3fb2d){if(_0x5cd384&&!_0x5cd384(_0xe3fb2d))continue;const _0x1f8df8=(-0x22a7*-0x1+0x19ed+-0x3c92)*Math['exp'](Math['max'](_0x51ab75[_0xe3fb2d],_0x311a09[_0xe3fb2d],_0x643a97[_0xe3fb2d])),_0x3a5d41=_0x4d91a3[_0xe3fb2d],_0x500cd9=_0x52ff5c[_0xe3fb2d],_0x50d6cd=_0x3d03d2[_0xe3fb2d];_0x41976d?(_0x41976d=!(-0x14e8*-0x1+-0x1619*-0x1+0x8*-0x560),_0xdf0ac6=_0x3a5d41-_0x1f8df8,_0x2280d8=_0x500cd9-_0x1f8df8,_0x566fa6=_0x50d6cd-_0x1f8df8,_0x4d84b5=_0x3a5d41+_0x1f8df8,_0x439f83=_0x500cd9+_0x1f8df8,_0x13ac2a=_0x50d6cd+_0x1f8df8):(_0xdf0ac6=Math['min'](_0xdf0ac6,_0x3a5d41-_0x1f8df8),_0x2280d8=Math['min'](_0x2280d8,_0x500cd9-_0x1f8df8),_0x566fa6=Math['min'](_0x566fa6,_0x50d6cd-_0x1f8df8),_0x4d84b5=Math['max'](_0x4d84b5,_0x3a5d41+_0x1f8df8),_0x439f83=Math['max'](_0x439f83,_0x500cd9+_0x1f8df8),_0x13ac2a=Math['max'](_0x13ac2a,_0x50d6cd+_0x1f8df8));}return _0x41976d||(_0x5d1ea2['center']['set']((_0xdf0ac6+_0x4d84b5)*(0x1ad1+-0x1f19+0x4*0x112+0.5),(_0x2280d8+_0x439f83)*(-0x1081+0x42b*0x6+-0x881+0.5),(_0x566fa6+_0x13ac2a)*(0x629*-0x4+-0xde2*0x1+0x1343*0x2+0.5)),_0x5d1ea2['halfExtent'+'s']['set']((_0x4d84b5-_0xdf0ac6)*(0x1e26+0x145+-0x1f6b+0.5),(_0x439f83-_0x2280d8)*(0x1398+0x1*-0x422+0xf76*-0x1+0.5),(_0x13ac2a-_0x566fa6)*(-0x26a3+0x33d*-0x3+-0x6*-0x80f+0.5))),!_0x41976d;}['calcAabbEx'+'act'](_0x100620,_0xc75c37){const _0x3c4c61=new T(),_0x133817=new se(),_0x4bafb1=new T(),_0x1053d4=this['createIter'](_0x3c4c61,_0x133817,_0x4bafb1);let _0x33537c=!(0x5*-0x1fd+0x44d*-0x1+0x1*0xe3e);for(let _0x2ae805=-0x125a+-0x81*0x25+-0xb*-0x35d;_0x2ae805<this['numSplats'];++_0x2ae805)_0xc75c37&&!_0xc75c37(_0x2ae805)||(_0x1053d4['read'](_0x2ae805),_0x33537c?(_0x33537c=!(-0x22d+-0xf97+-0x1*-0x11c5),Ia['calcSplatA'+'abb'](_0x100620,_0x3c4c61,_0x133817,_0x4bafb1)):(Ia['calcSplatA'+'abb'](N_,_0x3c4c61,_0x133817,_0x4bafb1),_0x100620['add'](N_)));return!_0x33537c;}['getCenters'](_0x3dbc51){const _0x2f7eee=this['getProp']('x'),_0x1dc52c=this['getProp']('y'),_0xbb8bfd=this['getProp']('z');for(let _0x23e6bb=0x1516+-0x3*-0xb67+-0xb0f*0x5;_0x23e6bb<this['numSplats'];++_0x23e6bb)_0x3dbc51[_0x23e6bb*(0x2651+0x6c0+-0x2d0e)+(-0x1837+0x1ab*0xb+0x5de*0x1)]=_0x2f7eee[_0x23e6bb],_0x3dbc51[_0x23e6bb*(-0x1*-0xa92+0x3f*-0x83+0x15ae)+(-0x2588+-0x2*-0x6c5+-0x1*-0x17ff)]=_0x1dc52c[_0x23e6bb],_0x3dbc51[_0x23e6bb*(-0x26e2+-0xd*-0x1bd+-0x254*-0x7)+(0x2dd*0x2+0x197f+-0x83*0x3d)]=_0xbb8bfd[_0x23e6bb];}['getMuT'](){const _0xe8a7aa=this['getProp']('t');if(!_0xe8a7aa)return;const _0x2ed46a=new Float32Array(this['numSplats']);for(let _0x7de52d=-0x638+0xe9*-0x23+-0x169*-0x1b;_0x7de52d<this['numSplats'];++_0x7de52d)_0x2ed46a[_0x7de52d]=_0xe8a7aa[_0x7de52d];return _0x2ed46a;}['getTScale'](){const _0x1abd07=this['getProp']('t_scale');if(!_0x1abd07)return;const _0x321a70=new Float32Array(this['numSplats']);for(let _0x1900bf=-0x2636+0x2*-0x824+0x367e;_0x1900bf<this['numSplats'];++_0x1900bf)_0x321a70[_0x1900bf]=Math['exp'](_0x1abd07[_0x1900bf]);return _0x321a70;}['getMotion'](_0x325f8a){const _0x5dec70=this['getProp']('motion_0'),_0x41763b=this['getProp']('motion_1'),_0x43fca5=this['getProp']('motion_2');if(!(!_0x5dec70||!_0x41763b||!_0x43fca5)){for(let _0x40b21e=-0x775+-0x6d1*0x1+0xe46;_0x40b21e<this['numSplats'];++_0x40b21e)_0x325f8a[_0x40b21e*(-0x9f*0x2e+-0x65*0x2f+0x2f20)+(-0x41*-0x82+0x1*-0x2217+0x115)]=_0x5dec70[_0x40b21e],_0x325f8a[_0x40b21e*(-0x6bb*-0x2+0x1d35*-0x1+-0x2*-0x7e1)+(0x1737+-0x1300+-0x436)]=_0x41763b[_0x40b21e],_0x325f8a[_0x40b21e*(0xeb1*0x2+-0x2255+-0x7f*-0xa)+(0x27f+-0x9*-0x1e8+-0x13a5)]=_0x43fca5[_0x40b21e];}}['getTimeInd'+'ex'](_0x3e9530){const _0x2f1624=this['getProp']('time_index');_0x2f1624&&_0x3e9530['set'](_0x2f1624,-0xb8b+-0x7a7*0x1+0x999*0x2);}['calcFocalP'+'oint'](_0x508f64,_0x3e64f8){const _0x3a5d07=this['getProp']('x'),_0xd23984=this['getProp']('y'),_0x2cbe16=this['getProp']('z'),_0x3de736=this['getProp']('scale_0'),_0x21be46=this['getProp']('scale_1'),_0x2351ef=this['getProp']('scale_2');_0x508f64['x']=-0x1947+-0x1ab*0x4+0x1ff3,_0x508f64['y']=-0x1b25*0x1+-0x7*-0x80+0x17a5,_0x508f64['z']=0x2114*-0x1+0xb62+-0x15b2*-0x1;let _0x887cd=0x20ef*0x1+-0x197b+-0x3*0x27c;for(let _0x39c7fc=-0x2593+-0xe*-0x11c+0x160b;_0x39c7fc<this['numSplats'];++_0x39c7fc){if(_0x3e64f8&&!_0x3e64f8(_0x39c7fc))continue;const _0x26824e=(-0x17b+-0x2d1*-0x2+-0x162*0x3)/(0x19*0xc+0x7e2*0x1+-0x90d+Math['exp'](Math['max'](_0x3de736[_0x39c7fc],_0x21be46[_0x39c7fc],_0x2351ef[_0x39c7fc])));_0x508f64['x']+=_0x3a5d07[_0x39c7fc]*_0x26824e,_0x508f64['y']+=_0xd23984[_0x39c7fc]*_0x26824e,_0x508f64['z']+=_0x2cbe16[_0x39c7fc]*_0x26824e,_0x887cd+=_0x26824e;}_0x508f64['mulScalar']((0x45*-0x3b+-0x2*0x41c+0x1820)/_0x887cd);}['renderWire'+'frameBound'+'s'](_0x1836a5,_0x2638d7){const _0x34839e=new T(),_0x1df233=new se(),_0x2d10f5=new T(),_0xc175f8=new T(),_0xa417d5=new T(),_0x3b42aa=this['createIter'](_0x34839e,_0x1df233,_0x2d10f5);for(let _0x2bfbd3=-0x3f*-0xe+0x1*0x1816+-0x2*0xdc4;_0x2bfbd3<this['numSplats'];++_0x2bfbd3)_0x3b42aa['read'](_0x2bfbd3),z_(Fn,_0x34839e,_0x1df233),Fn['mul2'](_0x2638d7,Fn),_0xc175f8['set'](_0x2d10f5['x']*-(0x257a+-0x11*0x24b+0x2b*0x9),_0x2d10f5['y']*-(-0x1*0xc5+0x12fb+0x2*-0x91a),_0x2d10f5['z']*-(0x1fb7+0x52b+-0x24e0)),_0xa417d5['set'](_0x2d10f5['x']*(-0x2198+-0x3d*-0x46+0x10ec),_0x2d10f5['y']*(0x254*-0x3+-0x15c*0x8+0x11de),_0x2d10f5['z']*(0x1e*-0x133+-0xa5a*0x3+0x430a)),_0x1836a5['immediate']['drawWireAl'+'ignedBox'](_0xc175f8,_0xa417d5,B1,!(0x1ece+-0x17a0+-0x1*0x72e),_0x1836a5['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(0x1a8*-0x1+-0x1f37+0x20e0);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2f27db=-0x2c*0xdc+0x2*0x1087+0x6*0xcb;_0x2f27db<-0xda3+0x706+0x1*0x6ca;++_0x2f27db)if(!this['getProp']('f_rest_'+_0x2f27db))return _0x2f27db;return-0x291*0x3+-0x26*0x5d+0x15ae;})())]??-0x11fb+-0x105d*0x1+-0x2*-0x112c;}['calcMorton'+'Order'](){const _0x24246e=_0x2a85b3=>{let _0x432d60=_0x2a85b3[0x160f+-0x22bd*0x1+0xcae],_0x461038=_0x2a85b3[-0x47c*0x4+0x2271+-0x41*0x41];for(let _0x3e65c5=-0x1*-0x1cea+0x7e7*-0x1+-0x2*0xa81;_0x3e65c5<_0x2a85b3['length'];_0x3e65c5++)_0x2a85b3[_0x3e65c5]<_0x432d60&&(_0x432d60=_0x2a85b3[_0x3e65c5]),_0x2a85b3[_0x3e65c5]>_0x461038&&(_0x461038=_0x2a85b3[_0x3e65c5]);return{'min':_0x432d60,'max':_0x461038};},_0x261507=(_0x3d269b,_0x57009b,_0x12860c)=>{const _0x22b98d=_0x2fee1e=>(_0x2fee1e&=-0x4b*0x72+-0x1*-0x13fc+0x1169,_0x2fee1e=(_0x2fee1e^_0x2fee1e<<-0x5ce+0x2*-0x134f+0x2c7c)&0x4*0x5b6a888b+0x92996343+0x80a1c238*-0x2,_0x2fee1e=(_0x2fee1e^_0x2fee1e<<0x2*-0x97f+-0xf61+0x1*0x2267)&0x9ed79f*-0x1+-0x128d1d+0x3b254cb*0x1,_0x2fee1e=(_0x2fee1e^_0x2fee1e<<-0xb65+0x4a8+0x6c1)&-0x5eafe80+0x3d94098+0x51deeab,_0x2fee1e=(_0x2fee1e^_0x2fee1e<<-0x2566+-0x1*0x812+0x2d7a)&0x1d2*0x1cbfd+-0xe1a7e23+0x9fcdef1*0x2,_0x2fee1e);return(_0x22b98d(_0x12860c)<<0x1*0x653+-0x2*-0x265+0xb1b*-0x1)+(_0x22b98d(_0x57009b)<<-0x52b*-0x7+-0x1ad1*0x1+-0x95b)+_0x22b98d(_0x3d269b);},_0xbb59be=this['getProp']('x'),_0x532628=this['getProp']('y'),_0x2dfdb8=this['getProp']('z'),{min:_0x26bc8d,max:_0x27a8e3}=_0x24246e(_0xbb59be),{min:_0xeaa2d5,max:_0x39968f}=_0x24246e(_0x532628),{min:_0x46ab5c,max:_0x47ea8}=_0x24246e(_0x2dfdb8),_0x1b95ab=_0x26bc8d===_0x27a8e3?0x1a*0xfe+-0x1*-0x1449+-0x2e15*0x1:(-0x1792+-0x328*-0x6+-0x2*-0x451)/(_0x27a8e3-_0x26bc8d),_0x38c735=_0xeaa2d5===_0x39968f?0x25*0x45+0xe38+0x233*-0xb:(-0x1*-0x22fc+-0x9a4+0x1*-0x1558)/(_0x39968f-_0xeaa2d5),_0x1b9154=_0x46ab5c===_0x47ea8?0x1879+0xb24+-0x239d:(0x2689+0x1e3d*-0x1+-0x44c)/(_0x47ea8-_0x46ab5c),_0x3e0127=new Map();for(let _0x4d9580=-0x1b47*-0x1+-0x1eb1+-0x36a*-0x1;_0x4d9580<this['numSplats'];_0x4d9580++){const _0x382386=Math['floor']((_0xbb59be[_0x4d9580]-_0x26bc8d)*_0x1b95ab),_0x12a813=Math['floor']((_0x532628[_0x4d9580]-_0xeaa2d5)*_0x38c735),_0x13d91d=Math['floor']((_0x2dfdb8[_0x4d9580]-_0x46ab5c)*_0x1b9154),_0x29207a=_0x261507(_0x382386,_0x12a813,_0x13d91d),_0x1f5e18=_0x3e0127['get'](_0x29207a);_0x1f5e18?_0x1f5e18['push'](_0x4d9580):_0x3e0127['set'](_0x29207a,[_0x4d9580]);}const _0xf92081=Array['from'](_0x3e0127['keys']())['sort']((_0xb1a605,_0x40aa10)=>_0xb1a605-_0x40aa10),_0x435c2d=new Uint32Array(this['numSplats']);let _0x3924d1=0x463*0x6+-0xa+-0x2*0xd24;for(let _0x1b85e9=-0x272+-0x168f+-0xad*-0x25;_0x1b85e9<_0xf92081['length'];++_0x1b85e9){const _0x5205b8=_0x3e0127['get'](_0xf92081[_0x1b85e9]);for(let _0x442063=0x2030+-0x1*-0x71e+-0x274e;_0x442063<_0x5205b8['length'];++_0x442063)_0x435c2d[_0x3924d1++]=_0x5205b8[_0x442063];}return _0x435c2d;}['reorder'](_0x262df1){const _0x29ec3e=new Map(),_0xf9ba4b=_0x36c880=>{if(_0x29ec3e['has'](_0x36c880)){const _0x2880c0=_0x29ec3e['get'](_0x36c880);return _0x29ec3e['delete'](_0x36c880),_0x2880c0;}return new ArrayBuffer(_0x36c880);},_0x118c76=_0x58529c=>{_0x29ec3e['set'](_0x58529c['byteLength'],_0x58529c);},_0x21ba4b=_0x50b39b=>{const _0x43dc9f=new _0x50b39b['constructo'+'r'](_0xf9ba4b(_0x50b39b['byteLength']));for(let _0x3fabd8=-0x178c+0x251d+-0xd91;_0x3fabd8<_0x262df1['length'];_0x3fabd8++)_0x43dc9f[_0x3fabd8]=_0x50b39b[_0x262df1[_0x3fabd8]];return _0x118c76(_0x50b39b['buffer']),_0x43dc9f;};this['elements']['forEach'](_0x94b71=>{_0x94b71['properties']['forEach'](_0x22c990=>{_0x22c990['storage']&&(_0x22c990['storage']=_0x21ba4b(_0x22c990['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x49fbdb={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x12ebbb=_0x49fbdb['dither']??Rs,_0x334ffe=_0x12ebbb!==Rs,_0x41b23b=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x49fbdb['vertex']??X['gsplatVS'],'fragmentCode':_0x49fbdb['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x41b23b['setDefine']('DITHER_'+_0x12ebbb['toUpperCas'+'e'](),''),_0x41b23b['cull']=mt,_0x41b23b['blendType']=_0x334ffe?is:hr,_0x41b23b['depthWrite']=_0x334ffe,_0x41b23b['update'](),_0x41b23b;};async function z1(){self['onmessage']=async _0x18fba4=>{const {data:_0x38b589}=_0x18fba4;switch(_0x38b589['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x3543ce(_0x38b589['numSplats'],_0x38b589['shBands'],_0x38b589['SHData']);break;}};const _0x3543ce=(_0x4f626d,_0x5a450e,_0x3e6f00)=>{const _0x367a07=new Uint32Array(_0x4f626d*(0x13d0+-0x17*0x16+-0x1*0x11d2)),_0x4d19aa=new Uint32Array(_0x4f626d*(0x6*0x2bf+0x1709*0x1+-0x277f*0x1)),_0x3fc4c1=new Uint32Array(_0x4f626d*(0x1bd1+0x1*0xfb3+0xae0*-0x4)),_0xe70aa5=new Uint32Array(_0x4f626d*(-0x5*-0x10d+0x69f+-0xbdc)),_0x1a8be2={0x1:0x3,0x2:0x8,0x3:0xf}[_0x5a450e],_0x351c2d=_0x3e6f00,_0x2200cb=-0x1cf7+0x1*0x1288+0x126e,_0x5e92b6=-0x1fa1+0x5de+0x1a*0x125,_0x197ce8=new Float32Array(0xc1*0x19+0x231d+-0x35f5),_0x577f27=new Uint32Array(_0x197ce8['buffer']),_0x30b1d2=new Array(_0x1a8be2*(0x128f*-0x1+-0x1*0xb7f+0x2b*0xb3))['fill'](0x26db*0x1+-0xb6a+-0x57d*0x5);for(let _0x4264a6=-0x1ba9*0x1+0x69b+0x150e;_0x4264a6<_0x4f626d;++_0x4264a6){for(let _0x4e1be7=-0x5*-0x77f+0x1d*-0xed+-0xaa2;_0x4e1be7<_0x1a8be2;++_0x4e1be7)_0x30b1d2[_0x4e1be7*(0xeb1*0x2+0xcf2*0x1+0x17*-0x1d7)]=_0x351c2d[_0x4e1be7][_0x4264a6],_0x30b1d2[_0x4e1be7*(-0xff7+0x13e1+-0x6f*0x9)+(0x15a5+0x61*0x36+-0x2a1a)]=_0x351c2d[_0x4e1be7+_0x1a8be2][_0x4264a6],_0x30b1d2[_0x4e1be7*(0x1*-0x2f0+0x229c+0x655*-0x5)+(0x1*-0x21d0+0x1*0x3c7+-0x1*-0x1e0b)]=_0x351c2d[_0x4e1be7+_0x1a8be2*(-0x1c57+0x1*0x2272+-0x619)][_0x4264a6];let _0x698335=_0x30b1d2[0x155d+0xd9c+-0x7*0x4ff];for(let _0x2cfb37=0x2b*0x31+-0x240c+0x4a3*0x6;_0x2cfb37<_0x1a8be2*(-0x1ecd+-0x1*-0x1cd6+0x1fa);++_0x2cfb37)_0x698335=Math['max'](_0x698335,Math['abs'](_0x30b1d2[_0x2cfb37]));if(_0x698335!==-0x1262+-0x1*0x133+0x1395){for(let _0x48a276=-0x1*-0x220b+-0x2226+0x1b;_0x48a276<_0x1a8be2;++_0x48a276)_0x30b1d2[_0x48a276*(0x159e+0x3*0x460+-0x22bb)+(-0x1*-0x19c7+-0x1baf+0x1e8)]=Math['max'](-0xc8a+-0x1*-0x206b+0x2d7*-0x7,Math['min'](_0x2200cb,Math['floor']((_0x30b1d2[_0x48a276*(0x9b*-0xf+-0x5*-0x243+0xbd*-0x3)+(0x1c27*-0x1+-0x93c*0x4+0x13*0x36d)]/_0x698335*(-0xce3+0x1441+-0x75e+0.5)+(-0x6b*0x11+-0x18d1+0x3*0xaa4+0.5))*_0x2200cb+(0x5*-0x4b1+-0x1*-0x1b21+-0x3ac+0.5)))),_0x30b1d2[_0x48a276*(0xd37+0x20d+-0xf41)+(0x67*-0xe+0xf9+0x6*0xc7)]=Math['max'](0x1*0x18cd+0x24d9+0x1ed3*-0x2,Math['min'](_0x5e92b6,Math['floor']((_0x30b1d2[_0x48a276*(0x1*-0x218b+-0x4*0x94f+0x29*0x1ba)+(0x1*0x16d5+0x2*-0x17f+-0x13d6*0x1)]/_0x698335*(0x23ae+0x36d*-0x2+-0x14*0x171+0.5)+(-0x2057+0x31*0x2f+0x6*0x3e4+0.5))*_0x5e92b6+(0x2a9+-0x599*-0x4+-0x190d+0.5)))),_0x30b1d2[_0x48a276*(-0x1186*0x2+0x1d9c+0x9*0x9b)+(-0xed9+0x1a54+-0xb79)]=Math['max'](0x40d*0x2+-0x1ba4*0x1+-0x52*-0x3d,Math['min'](_0x2200cb,Math['floor']((_0x30b1d2[_0x48a276*(-0x20a6+-0x9e5+0x2a8e)+(-0x1f*0x13+-0x1a7+-0x3*-0x152)]/_0x698335*(0x2536+-0x1b9c+-0x99a+0.5)+(0xcd5*0x1+-0x4e9*0x1+-0x7ec+0.5))*_0x2200cb+(0x13c7+0x9d*-0x1d+0x22*-0xf+0.5))));_0x197ce8[-0x1050+0x2519*0x1+-0x14c9]=_0x698335,_0x367a07[_0x4264a6*(0x406+0x1*0x466+-0x868)+(0x4*0x1a8+-0x23d1+0x3*0x9bb)]=_0x577f27[-0x9*-0xfd+0xa*-0x25f+0xed1*0x1],_0x367a07[_0x4264a6*(-0x11a0+-0xdb+0x127f)+(-0x2240*0x1+-0x2597+0x47d8)]=_0x30b1d2[-0x1ba6*0x1+-0x7b9+0x235f]<<-0xb6d*-0x1+0x174c+-0x22a4|_0x30b1d2[0xbfe+-0x16cd+0xad0]<<-0x1*-0x232c+0x9*0x17d+-0x1*0x3086|_0x30b1d2[0x1f29+0x2415+0x433c*-0x1],_0x367a07[_0x4264a6*(-0x1094+-0x3c5*0x2+0x1822)+(-0x2*0x1d3+0x16*0xd3+-0x22*0x6d)]=_0x30b1d2[-0x1f*-0x76+0x1*-0x529+-0x91e]<<0x17*0x1ac+0x4f7+-0x2b56|_0x30b1d2[-0x20a+0x12f1+0x10e3*-0x1]<<-0xdc7+0x4d1+0x901|_0x30b1d2[0x5c*0x49+-0x83b+-0x1*0x11fc],_0x367a07[_0x4264a6*(-0xa1d+-0x2*-0xae5+0x3*-0x3e3)+(-0x247e+0x1*-0xd69+0x31ea)]=_0x30b1d2[0x53*-0x21+0x14bc+0xb*-0xe9]<<0x112b+-0x3c8*0x1+-0xd4e|_0x30b1d2[-0x4e1*0x4+0x15f9+-0x26e]<<-0x1*0x7d1+-0x1075+-0x1*-0x1851|_0x30b1d2[0x2145+0x131*-0xd+-0x4*0x470],_0x5a450e>-0x83*-0x16+-0x1f9*-0xe+0x1*-0x26df&&(_0x4d19aa[_0x4264a6*(0x1*0x26c9+0x15a2+-0x3c67)+(0x1df0+0x20b+-0x1ffb)]=_0x30b1d2[-0x3d1*-0x2+-0x2113+0x3*0x87e]<<0x4*-0x2c+0x118f+-0x10ca|_0x30b1d2[-0x1a31+0x81*0x9+0x15b2]<<-0x17*0x53+0x10b8+-0x938|_0x30b1d2[0x9a3+0x583+-0xf1b],_0x4d19aa[_0x4264a6*(0x1*-0x22ed+0x24af+-0x1be)+(-0x183f+0x7ad+0x1*0x1093)]=_0x30b1d2[-0x105*0x11+-0x19c6+-0x2b27*-0x1]<<-0x6*-0x48b+0xc0d*0x1+-0x1*0x273a|_0x30b1d2[0xe06+0xb59+-0x1952]<<-0x1*0x2330+0x11d6+-0x1165*-0x1|_0x30b1d2[-0x10bb*0x1+0x42a*-0x6+0x29c5],_0x4d19aa[_0x4264a6*(-0x3*0x2dd+0x3*0x1f9+0xac*0x4)+(-0x22+0x1cb9+0x10f*-0x1b)]=_0x30b1d2[-0x62*-0x63+-0x40*0x2f+-0x1a17*0x1]<<0x89*-0xd+0x3a1*-0x5+0x7*0x399|_0x30b1d2[0xd*-0xe5+0x256e+-0x19bd]<<-0x1*-0x958+0x1c3a+-0x2e3*0xd|_0x30b1d2[-0x1dea*0x1+-0x1ed5+-0x70*-0x8b],_0x4d19aa[_0x4264a6*(0x19dc+-0x59f*-0x1+0x5*-0x64b)+(-0x19bf+0x1*0x203d+-0x229*0x3)]=_0x30b1d2[-0x1*0x1af3+0xeae+0xc57]<<-0x214a+-0xb*0x23e+0x3a09|_0x30b1d2[-0x2dd*0xa+0x24bf+-0x157*0x6]<<0x11e5+0x1*-0xd03+-0x4d7|_0x30b1d2[-0x2c4+-0x1*-0x21a9+-0x7*0x467],_0x5a450e>-0x23f4+0x88b+0x1b6b*0x1?(_0x3fc4c1[_0x4264a6*(-0xd66+-0x5b*0x41+0x2485)+(0x371*0x1+0x1d*-0xb5+0x1110)]=_0x30b1d2[0xfff+-0xd*-0x185+-0x17*0x18d]<<0x4*0x382+-0x9c3+-0x430|_0x30b1d2[-0x2419+0x1*-0xfaa+0x33d9]<<-0x1*-0x1fd3+-0x1f94+-0x34|_0x30b1d2[0x46*0x32+-0xf57+-0xa*-0x2d],_0x3fc4c1[_0x4264a6*(-0x6f2*-0x2+-0x1*-0x23ac+-0x318c)+(-0x2a1*0x9+-0xfef*-0x2+0x1a4*-0x5)]=_0x30b1d2[-0x2429+0x9a9*0x1+0x1a98]<<-0x15b7+0x243b+-0xe6f|_0x30b1d2[0x24fb+0x1*-0x7a+-0x8*0x48d]<<0x1*0x389+-0x1*0x10c6+0xd48|_0x30b1d2[-0x5*-0x59f+-0xd17+-0xeea],_0x3fc4c1[_0x4264a6*(-0x78d*0x1+-0x7d+0x80e)+(-0x1496+-0x1421+0x28b9)]=_0x30b1d2[-0x1*0x5d5+-0x1263+0x1853]<<-0x1*0x178a+-0x1*0xc48+0xd*0x2c3|_0x30b1d2[0x66a*-0x1+0x56b+0x11b]<<0x3*-0x82c+-0x1b60+0x1*0x33ef|_0x30b1d2[0x1*0xf3a+-0x1048+0x12b],_0x3fc4c1[_0x4264a6*(0x1*-0x24c5+-0x941+0x2e0a)+(0x490+0xe1e+-0x12ab)]=_0x30b1d2[-0x1c55+-0x421+0x2094]<<-0x12bf+-0x89*-0xe+0xb56|_0x30b1d2[-0x2*0x733+0x1534+-0x6af]<<0x115b+-0xb*-0x71+-0x1*0x162b|_0x30b1d2[0x47*-0x6d+-0x768+0x25c3],_0xe70aa5[_0x4264a6*(-0x6fd*0x3+-0x12a4+0x279f)+(-0x1672+-0x52*0x49+0x1c*0x1a3)]=_0x30b1d2[-0x1303+0x14c+0x11d8]<<0x17bf+0x1816+-0x2fc*0x10|_0x30b1d2[-0x727*0x4+-0x25a0*0x1+0x1*0x425e]<<0x39d*0x9+0x4a+0xe9*-0x24|_0x30b1d2[-0x2464*-0x1+0x81a+-0x2c5b],_0xe70aa5[_0x4264a6*(0x2*-0x10d2+0x1*0x165e+0x11*0xaa)+(0x17*-0x10c+-0x1*0x19c7+0x31dc)]=_0x30b1d2[0x2172+-0x13a8+-0xda6]<<0x1e47+0x6a9+0x275*-0xf|_0x30b1d2[0x29*0xf1+0x23fe+-0x1*0x4a72]<<0x78d*-0x3+0x2*0xc3e+-0x1ca|_0x30b1d2[0x109d*0x2+0x24c2+-0x45d6*0x1],_0xe70aa5[_0x4264a6*(-0x2056+-0x82a+0x2884)+(0x26b*0x3+-0xe*-0x236+-0x2633)]=_0x30b1d2[0x3ae*-0x3+-0x1d35+0x2866]<<0x3ea+0xde8+-0x11bd|_0x30b1d2[0x9b6*0x1+-0x3*0x7c9+0xdcd*0x1]<<0x1b0e+-0x9da+-0x1129|_0x30b1d2[0xec7+0x5f9+-0x1497],_0xe70aa5[_0x4264a6*(0x1574+0x1299+-0x2809*0x1)+(0x25c1+-0x2154+-0x46a)]=_0x30b1d2[-0x8bb*0x1+-0x8*-0x1a6+-0x44b]<<0x562+-0x94e*0x4+0x1feb|_0x30b1d2[0x1d*0x11+-0x19f7+0x1835]<<0x1*0x1264+0xa*-0x211+-0x251*-0x1|_0x30b1d2[-0x1361*-0x2+-0xc5c+-0x2*0xd1d]):_0x3fc4c1[_0x4264a6]=_0x30b1d2[0xb19*-0x3+0x313+0x1e4d]<<-0x14ac+-0x1*-0x1f0f+-0xa4e|_0x30b1d2[0x2*-0x728+-0x3f1*-0x5+0x1c5*-0x3]<<0x1343*-0x1+-0x35*0x71+0x2ab3|_0x30b1d2[-0x5*0xad+-0x47*0x62+0x1ea6]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x367a07,'sh4to7Data':_0x4d19aa,'sh8to11Data':_0x3fc4c1,'sh12to15Data':_0xe70aa5},[_0x367a07['buffer'],_0x4d19aa['buffer'],_0x3fc4c1['buffer'],_0xe70aa5['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0xf3a0bb=>{if(!this['worker'])return;const {data:_0xaa73e3}=_0xf3a0bb;switch(_0xaa73e3['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0xaa73e3['sh1to3Data'],_0xaa73e3['sh4to7Data'],_0xaa73e3['sh8to11Dat'+'a'],_0xaa73e3['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x4e383b,_0x554dea,_0x1f66b3){var _0x4a8d9c;(_0x4a8d9c=this['worker'])==null||_0x4a8d9c['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x4e383b,'shBands':_0x554dea,'SHData':_0x1f66b3});}['destroy'](){var _0x114078;this['worker']&&((_0x114078=this['worker'])==null||_0x114078['terminate'](),this['worker']=null);}}const U_=(_0x30988d,_0x48729e)=>{const _0x537fa2=[];for(let _0x2e0e6c=0x2627+-0xf*0x183+-0x2*0x7bd;_0x2e0e6c<_0x48729e;++_0x2e0e6c)_0x537fa2['push'](_0x30988d['getProp']('f_rest_'+_0x2e0e6c));return _0x537fa2;};class V1{constructor(_0x2d09a1,_0xcdafbd){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x5d2943=_0xcdafbd['numSplats'];this['device']=_0x2d09a1,this['numSplats']=_0x5d2943,this['numSplatsV'+'isible']=_0x5d2943,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0xcdafbd['numSplats']*(0xd03*0x1+-0x2f*-0x35+0xfd*-0x17)),this['motion']=new Float32Array(_0xcdafbd['numSplats']*(-0x19fb+0x775*-0x2+-0x2ec*-0xe)),this['timeIndex']=new Float32Array(_0xcdafbd['numSplats']),_0xcdafbd['getCenters'](this['centers']),_0xcdafbd['getMotion'](this['motion']),_0xcdafbd['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0xcdafbd['getMuT'](this['timeOption']),this['tScale']=_0xcdafbd['getTScale'](),this['is4D']=_0xcdafbd['is4D'],this['aabb']=new _e(),_0xcdafbd['calcAabb'](this['aabb']);const _0x1a6a4d=this['evalTextur'+'eSize'](_0x5d2943);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x1a6a4d),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x1a6a4d),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x1a6a4d),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x1a6a4d),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x1a6a4d),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x1a6a4d)),this['updateColo'+'rData'](_0xcdafbd),this['updateTran'+'sformData'](_0xcdafbd),this['shBands']=_0xcdafbd['shBands'],this['shBands']>-0xb4*-0x21+-0x1a*-0x14e+0x10*-0x392&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x1a6a4d),this['shBands']>0x1e40+-0x4b7+0x1988*-0x1&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x1a6a4d),this['shBands']>0x1*-0x19ed+0x1be0+-0x1f1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x1a6a4d),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x1a6a4d)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x1a6a4d)),this['updateSHDa'+'ta'](_0xcdafbd));}['updateData'](_0x58265b){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x2a86d5=_0x58265b['numSplats'];this['numSplats']=_0x2a86d5,this['numSplatsV'+'isible']=_0x2a86d5,this['centers']=new Float32Array(_0x58265b['numSplats']*(0x9a*0x1f+0x7*-0x112+-0xb25)),this['motion']=new Float32Array(_0x58265b['numSplats']*(-0x2*0xea4+0x139c+-0x1*-0x9af)),this['timeIndex']=new Float32Array(_0x58265b['numSplats']),_0x58265b['getCenters'](this['centers']),_0x58265b['getMotion'](this['motion']),_0x58265b['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x58265b['getMuT'](this['timeOption']),this['tScale']=_0x58265b['getTScale'](),this['is4D']=_0x58265b['is4D'],this['aabb']=new _e(),_0x58265b['calcAabb'](this['aabb']);const _0x4c0acf=this['evalTextur'+'eSize'](_0x2a86d5);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x4c0acf),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x4c0acf),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x4c0acf),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x4c0acf),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x4c0acf),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x4c0acf)),this['updateColo'+'rData'](_0x58265b),this['updateTran'+'sformData'](_0x58265b),this['shBands']=_0x58265b['shBands'],this['shBands']>0x1d5+0x164f+-0x1824&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x4c0acf),this['shBands']>-0x8a6+0x2b*-0x2b+0xfe0&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x4c0acf),this['shBands']>-0x1*0x1a7a+-0x49+0x1ac5?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x4c0acf),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x4c0acf)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x4c0acf)),this['updateSHDa'+'ta'](_0x58265b));}['destroy'](){var _0x38c14f,_0x14ea3d,_0x54ab52,_0xe14658,_0x526722,_0x5b9175,_0x4ffcab,_0x377768,_0x26f5b7,_0x5c9bb9;(_0x38c14f=this['colorTextu'+'re'])==null||_0x38c14f['destroy'](),(_0x14ea3d=this['transformA'+'Texture'])==null||_0x14ea3d['destroy'](),(_0x54ab52=this['transformB'+'Texture'])==null||_0x54ab52['destroy'](),(_0xe14658=this['transformR'+'Texture'])==null||_0xe14658['destroy'](),(_0x526722=this['transformT'+'SpeedTextu'+'re'])==null||_0x526722['destroy'](),(_0x5b9175=this['transformT'+'Texture'])==null||_0x5b9175['destroy'](),(_0x4ffcab=this['sh1to3Text'+'ure'])==null||_0x4ffcab['destroy'](),(_0x377768=this['sh4to7Text'+'ure'])==null||_0x377768['destroy'](),(_0x26f5b7=this['sh8to11Tex'+'ture'])==null||_0x26f5b7['destroy'](),(_0x5c9bb9=this['sh12to15Te'+'xture'])==null||_0x5c9bb9['destroy']();}['createMate'+'rial'](_0x3d77ea){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x16a4a6=z0(_0x3d77ea);return _0x16a4a6['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x16a4a6['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x16a4a6['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x16a4a6['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x16a4a6['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x16a4a6['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x16a4a6['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x16a4a6['setDefine']('SH_BANDS',this['shBands']),_0x16a4a6['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x16a4a6['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x16a4a6['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x16a4a6['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x16a4a6['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x16a4a6;}['evalTextur'+'eSize'](_0x550566){const _0x181fe6=Math['ceil'](Math['sqrt'](_0x550566)),_0x57b515=Math['ceil'](_0x550566/_0x181fe6);return new $(_0x181fe6,_0x57b515);}['createText'+'ure'](_0x15d4e2,_0x18c359,_0x5c4e42){return new he(this['device'],{'name':_0x15d4e2,'width':_0x5c4e42['x'],'height':_0x5c4e42['y'],'format':_0x18c359,'cubemap':!(-0x130+-0x1d73+-0x2*-0xf52),'mipmaps':!(-0x9*0x55+0x286*0xa+-0x163e),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x598f75){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x35d5e2=this['colorTextu'+'re'];if(!_0x35d5e2)return;const _0xdbbd4a=$t['float2Half'],_0x228a33=_0x35d5e2['lock'](),_0x1dee37=_0x598f75['getProp']('f_dc_0'),_0x1f0adb=_0x598f75['getProp']('f_dc_1'),_0x4e7ae0=_0x598f75['getProp']('f_dc_2'),_0x57e417=_0x598f75['getProp']('opacity'),_0x5d8f12=0x32*0x95+0x15b9+-0x1*0x32d3+0.28209479177387814;for(let _0x276791=-0x3*0x34f+-0x5fc+0xfe9;_0x276791<this['numSplats'];++_0x276791){const _0x5ea6a1=_0x1dee37[_0x276791]*_0x5d8f12+(0x226*0xb+-0x2098+-0x3e*-0x25+0.5),_0x3036d9=_0x1f0adb[_0x276791]*_0x5d8f12+(0x55*0x67+-0x26ac+-0x1*-0x479+0.5),_0xb4e41e=_0x4e7ae0[_0x276791]*_0x5d8f12+(0x102f+0x159c+-0x25cb+0.5),_0x28c431=(0x314+0x2510+0x807*-0x5)/(0x1ca3+0x2251+-0xc97*0x5+Math['exp'](-_0x57e417[_0x276791]));_0x228a33[_0x276791*(0x19ac*0x1+-0x2*-0x1245+-0x3e32)+(-0x1661+0x12ff+0x362)]=_0xdbbd4a(_0x5ea6a1),_0x228a33[_0x276791*(0x1*0xb57+-0xf51*0x2+-0x134f*-0x1)+(0x121*-0x11+-0x323+-0x1*-0x1655)]=_0xdbbd4a(_0x3036d9),_0x228a33[_0x276791*(0x113*-0x1d+-0x11*-0xad+-0x9d7*-0x2)+(0x270d+-0x269*0xd+-0x7b6)]=_0xdbbd4a(_0xb4e41e),_0x228a33[_0x276791*(0x89a*-0x4+0x527*-0x6+0x4156)+(-0x3c5+0x241a+-0x2052)]=_0xdbbd4a(_0x28c431);}_0x35d5e2['unlock']();}['updateTran'+'sformData'](_0x5e32e6){var _0x36ddc4,_0xba1aab,_0x251031,_0x5d9ed9;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x453486=$t['float2Half'];if(!this['transformA'+'Texture'])return;const _0x5ddeb1=this['transformA'+'Texture']['lock'](),_0x8b9ad=new Float32Array(_0x5ddeb1['buffer']),_0x17fb3b=this['transformR'+'Texture']['lock'](),_0x1c8d79=new Float32Array(_0x17fb3b['buffer']),_0x18bd16=this['transformB'+'Texture']['lock'](),_0x1ba672=(_0x36ddc4=this['transformT'+'SpeedTextu'+'re'])==null?void(0x26dd*-0x1+0x636+0x20a7):_0x36ddc4['lock']();let _0x3d6851;_0x1ba672&&(_0x3d6851=new Float32Array(_0x1ba672['buffer']));const _0x42998f=(_0xba1aab=this['transformT'+'Texture'])==null?void(-0x257*0x7+0x2367+-0x5*0x3ce):_0xba1aab['lock']();let _0x23143a;_0x42998f&&(_0x23143a=new Float32Array(_0x42998f['buffer']));const _0x1f04a3=new T(),_0x3bf774=new se(),_0x59dac3=new T(),_0x4c1bef=new T(),_0x2c9491=_0x5e32e6['createIter'](_0x1f04a3,_0x3bf774,_0x59dac3,null,_0x4c1bef),_0x39a3a9=_0x5e32e6['getProp']('t'),_0x3a8a50=_0x5e32e6['getProp']('t_scale');for(let _0x585e1e=-0x59*0x3f+0x12d+0x14ba;_0x585e1e<this['numSplats'];_0x585e1e++)_0x2c9491['read'](_0x585e1e),_0x3bf774['normalize'](),_0x3bf774['w']<0xe*0x24a+-0x25e3+0x5d7&&_0x3bf774['mulScalar'](-(-0x40c+0x3cd*-0x8+-0x1*-0x2275)),_0x8b9ad[_0x585e1e*(0x1*-0x233e+-0x45*0x57+0x71*0x85)+(-0x54b*0x2+-0xc5b+0x16f1*0x1)]=_0x1f04a3['x'],_0x8b9ad[_0x585e1e*(0x1021+-0x54*-0x3e+-0x2475)+(0x1*0x3d1+0x14aa+-0x1*0x187a)]=_0x1f04a3['y'],_0x8b9ad[_0x585e1e*(-0x217*0xa+-0x2493*-0x1+-0xfa9)+(0xdbc+-0x19a4+-0x1*-0xbea)]=_0x1f04a3['z'],_0x18bd16[_0x585e1e*(-0x39*-0x93+0x837+-0x28ee)+(-0x3*-0x42f+-0x59a+-0x3*0x251)]=_0x453486(_0x59dac3['x']),_0x18bd16[_0x585e1e*(0x665+-0xcd*-0xe+0x1197*-0x1)+(0x2343+0x162d*-0x1+-0xd15)]=_0x453486(_0x59dac3['y']),_0x18bd16[_0x585e1e*(-0x264b+-0x1*0x2581+0x4bd0)+(-0x5e3+-0x13e7+0x19cc)]=_0x453486(_0x59dac3['z']),_0x1c8d79[_0x585e1e*(-0x2669+0x24b9+0x1*0x1b4)+(0x1*-0x11cf+0x2050+-0x4f*0x2f)]=_0x3bf774['x'],_0x1c8d79[_0x585e1e*(0x1*0x1a71+-0x1*0x1f79+0x50c)+(0x232*-0xe+0x1af3+-0x61*-0xa)]=_0x3bf774['y'],_0x1c8d79[_0x585e1e*(-0x1e91+-0x2504+0xd85*0x5)+(-0x611*0x3+-0x9b0+0x1be5)]=_0x3bf774['z'],this['is4D']&&_0x3d6851&&_0x23143a&&(_0x3d6851[_0x585e1e*(0x1bf5*-0x1+-0x1952+0x354b*0x1)+(0x22fc*0x1+0x14bb+0x11*-0x347)]=_0x4c1bef['x'],_0x3d6851[_0x585e1e*(0xd42*-0x2+0x1214+0x874)+(0x5*-0x7e+-0x210b+0x2382)]=_0x4c1bef['y'],_0x3d6851[_0x585e1e*(-0x1230+-0x797+0x19cb*0x1)+(-0x1*0x1937+-0xdbe*0x1+-0x3*-0xcfd)]=_0x4c1bef['z'],_0x23143a[_0x585e1e*(-0x2411+0x2181*-0x1+-0x2*-0x22cb)+(0x1344*0x1+-0x1e2e*-0x1+-0x3172)]=_0x39a3a9?_0x39a3a9[_0x585e1e]:-0x2f1+-0x22ed*-0x1+-0x59*0x5c,_0x23143a[_0x585e1e*(-0x1858+0xf73+-0x8e9*-0x1)+(-0x15ea+-0x3ea+0x19d5)]=_0x3a8a50?Math['exp'](_0x3a8a50[_0x585e1e]):-0x6*-0x3c8+0x1*-0x16fd+-0x7*-0xb);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x251031=this['transformT'+'SpeedTextu'+'re'])==null||_0x251031['unlock'](),(_0x5d9ed9=this['transformT'+'Texture'])==null||_0x5d9ed9['unlock']();}['updateSHDa'+'ta'](_0x310052){var _0x4783d2,_0x273d08,_0x15e9cc,_0x32f22b,_0x3c5c83,_0x5ef27f,_0x109c6b;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x2dad40=(_0x4783d2=this['sh1to3Text'+'ure'])==null?void(0x65d+-0x26e4+0x2087):_0x4783d2['lock'](),_0x4a098b=(_0x273d08=this['sh4to7Text'+'ure'])==null?void(-0x2353*-0x1+-0x2082*0x1+-0x2d1):_0x273d08['lock'](),_0x225a38=(_0x15e9cc=this['sh8to11Tex'+'ture'])==null?void(-0x1c40+-0x1c*0xef+0x3664):_0x15e9cc['lock'](),_0x3d3a0c=(_0x32f22b=this['sh12to15Te'+'xture'])==null?void(-0xe1b*-0x1+-0x9c2+0x1*-0x459):_0x32f22b['lock'](),_0x7433ff={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x587704=U_(_0x310052,_0x7433ff*(-0x1d23+-0x92e+0x2654)),_0x12daa2=0x1*-0x46c+-0x4f7+0xa*0x1bd,_0x1933f3=0x16*0x18e+-0x2*-0x12bc+-0xa5*0x69,_0x39ae92=new Float32Array(-0x13eb+0x25*0x7d+-0x5f*-0x5),_0x303ff4=new Uint32Array(_0x39ae92['buffer']),_0x47c3d5=new Array(_0x7433ff*(-0x2497+0x1ca3+-0x7f7*-0x1))['fill'](-0x2*-0x7c3+-0x84+-0xf02);for(let _0x3ed0a7=-0x397*0x8+0x732+0xac3*0x2;_0x3ed0a7<_0x310052['numSplats'];++_0x3ed0a7){for(let _0x449385=0xa9*-0x2e+0x18f1+0x56d;_0x449385<_0x7433ff;++_0x449385)_0x47c3d5[_0x449385*(0x1056+-0x1e44+0xdf1)]=_0x587704[_0x449385][_0x3ed0a7],_0x47c3d5[_0x449385*(-0x21cb*-0x1+0x252b*0x1+-0x46f3)+(-0xad*0x9+0x2442+0x78b*-0x4)]=_0x587704[_0x449385+_0x7433ff][_0x3ed0a7],_0x47c3d5[_0x449385*(0xe89+0x4e7+-0x136d)+(0x47a+0x14f6+-0x9b*0x2a)]=_0x587704[_0x449385+_0x7433ff*(0xe2b+-0x43*-0x4d+-0x2250)][_0x3ed0a7];let _0x3be126=_0x47c3d5[0x26*-0xc5+-0x20*0x49+0x6*0x665];for(let _0x1864a6=-0xffa+-0x1fe+0x6b*0x2b;_0x1864a6<_0x7433ff*(0x24d6+0x27*0x22+-0x2a01);++_0x1864a6)_0x3be126=Math['max'](_0x3be126,Math['abs'](_0x47c3d5[_0x1864a6]));if(_0x3be126!==-0x1a6*0x7+-0x1f2f+0x2ab9){for(let _0x5de28b=-0x24a1*-0x1+-0x2*-0x7ab+-0x33f7;_0x5de28b<_0x7433ff;++_0x5de28b)_0x47c3d5[_0x5de28b*(-0x1410+0x24*-0xed+0x3567)+(0x132f+0x1613+-0x2942)]=Math['max'](0xc52+0x3be*0xa+-0x1*0x31be,Math['min'](_0x12daa2,Math['floor']((_0x47c3d5[_0x5de28b*(-0x1*-0x1229+0x140d+0x7*-0x575)+(0xeac*0x1+-0x4f+-0xe5d)]/_0x3be126*(0x1*0x1578+0x4d*0x2e+-0x2*0x11a7+0.5)+(-0x25e1*-0x1+0x2*0x1082+-0x46e5+0.5))*_0x12daa2+(0x1*-0xbe3+0x1f90+-0x13ad+0.5)))),_0x47c3d5[_0x5de28b*(0x1a6b+0x1*0x1cd0+-0x3738)+(0x1eb*0x8+-0x237c+-0x3*-0x6b7)]=Math['max'](0x16*0x65+-0x1869*0x1+-0xfbb*-0x1,Math['min'](_0x1933f3,Math['floor']((_0x47c3d5[_0x5de28b*(-0x8*-0x209+0x803*0x1+-0x1848)+(-0xfaa+0x2269+-0x12be)]/_0x3be126*(-0xc27*-0x3+0x349*0xa+-0x454f+0.5)+(0x1017*0x1+-0x1635+-0x105*-0x6+0.5))*_0x1933f3+(-0x1a8f+-0x473*0x5+0x30ce+0.5)))),_0x47c3d5[_0x5de28b*(-0xcde+-0x25f8+0x32d9*0x1)+(-0x1a42+0x24bb+-0xa77)]=Math['max'](-0x200a+-0x1bab+-0xf*-0x3fb,Math['min'](_0x12daa2,Math['floor']((_0x47c3d5[_0x5de28b*(0x26ce+-0x1*-0xcb5+-0x4*0xce0)+(-0x7cf*-0x1+-0x10*0x83+0x9*0xb)]/_0x3be126*(0x1*-0x28a+0x4aa+-0x220+0.5)+(-0x1182+0x3e*0xa+-0x1*-0xf16+0.5))*_0x12daa2+(0x13e5+-0x3*-0xa24+-0x3251+0.5))));_0x39ae92[0xa10+0x127e+-0xaa*0x2b]=_0x3be126,_0x2dad40[_0x3ed0a7*(0x1*0x40e+0x5*-0x4e7+-0x6d3*-0x3)+(0x1191+0x26d3+-0x3864)]=_0x303ff4[-0x11d5+-0x3a*-0xd+0xee3],_0x2dad40[_0x3ed0a7*(-0x10fc*-0x2+-0x268f+-0x3*-0x189)+(-0x16ce+0x5*-0x7cf+-0x6*-0xa4f)]=_0x47c3d5[-0x489+0x27*-0xbf+0x21a2]<<0xc1*0xb+0x2*0x30e+-0x27*0x5e|_0x47c3d5[0x1eda+-0x412*-0x1+0x4fd*-0x7]<<-0x22ed+0x8a5*0x1+-0x1*-0x1a53|_0x47c3d5[0x241+0x1f8e+-0x21cd],_0x2dad40[_0x3ed0a7*(0x5e2+-0x1ed*0x2+-0x204)+(0x1b8c+0x26fc+-0x4286)]=_0x47c3d5[-0x1*-0x1aa1+0x128b+-0x2d29]<<-0x3ae+-0x1332+0x16f5|_0x47c3d5[0x19c6+-0x1026+-0x99c]<<-0x5*0x649+-0x1146+0x30be|_0x47c3d5[-0x24+0x1526+-0x14fd],_0x2dad40[_0x3ed0a7*(0x224b+-0x1665+0x27*-0x4e)+(0x2288+-0x163d*0x1+-0xc48)]=_0x47c3d5[0x1edd+-0xdae+-0x1129]<<-0xd94+0x13f4+0x1*-0x64b|_0x47c3d5[-0x1e1e+-0xdc8+0x2bed]<<-0x1*-0x118a+0x2*0xa13+-0x25a5|_0x47c3d5[-0x45*-0x8d+0x110c+-0xf*0x3ab],this['shBands']>0xe0+0x14b4+-0x1593&&(_0x4a098b[_0x3ed0a7*(0x891+-0x1e8+-0x9*0xbd)+(-0xd*0x17+-0x61*-0x2+0x1*0x69)]=_0x47c3d5[0xad*-0x13+0xe7d*-0x1+-0x1b5d*-0x1]<<-0x22ff+-0x1c1b*0x1+0x1*0x3f2f|_0x47c3d5[0x20c+0x2b*-0x35+0x6e5*0x1]<<-0x117f+-0x1ab5+-0x2f*-0xf1|_0x47c3d5[-0x1e78+-0xda*0x19+0x95*0x59],_0x4a098b[_0x3ed0a7*(-0x17c*0x2+-0x1ba8+0x1ea4)+(0x15c2+-0x15*-0xc+-0x16bd)]=_0x47c3d5[0x21ab+-0x1da3+-0x3fc]<<-0xbd4+-0x2*0x16f+0x61*0x27|_0x47c3d5[-0x1d94+0x54*0x24+-0x1*-0x11d1]<<0x1da3+-0x19d0+-0x3c8|_0x47c3d5[0x10d9*-0x2+0x5*0x1e8+-0x7c*-0x32],_0x4a098b[_0x3ed0a7*(-0x1702+0x2622+-0x3c7*0x4)+(-0x3d8*-0x4+-0x51e+-0xa40)]=_0x47c3d5[0x4*-0x4e7+-0x1ab9+0x1732*0x2]<<0x178b+0xeba*0x1+-0x2630|_0x47c3d5[0x20fc+0x25a2+-0x468e]<<-0x177*0x1+-0x580+0x702|_0x47c3d5[0xd*0xb3+0xafd+-0x1403],_0x4a098b[_0x3ed0a7*(-0x124c+-0x133f+0x3*0xc85)+(0x11c3+0xf8c*0x1+-0x214c)]=_0x47c3d5[0x403*0x7+0x146b*0x1+-0x306e]<<-0x2e2+-0x3*-0x20b+-0x32a|_0x47c3d5[-0xe3a+-0x1*-0x8ef+0x55e]<<-0x128e*0x2+-0x1*-0x1ca6+0x881|_0x47c3d5[0xb*0x241+-0x189d+0x1a*-0x1],this['shBands']>-0x1d*-0x94+-0x18*0x100+-0x135*-0x6?(_0x225a38[_0x3ed0a7*(0x1*0xbdf+0xabf+0x20e*-0xb)+(0x7*-0x36e+0x19e6+0x2c*-0xb)]=_0x47c3d5[0x1e19+0x7*0x7a+0x2*-0x10ad]<<-0x171e+0x1a62+-0x32f|_0x47c3d5[-0x160*0xb+-0x306+0x123c]<<-0x3*0x49f+-0x1*0x2631+0x3419*0x1|_0x47c3d5[-0x15b4+0x1a72+-0x4a7],_0x225a38[_0x3ed0a7*(-0x75a+-0x80b*-0x1+-0xad)+(0x1392+0x13e6+0x1*-0x2777)]=_0x47c3d5[0x1875+0x274+-0x1ad1]<<0x199*0x15+0x17e*-0x19+-0x2*-0x1eb|_0x47c3d5[0x222b*-0x1+-0x1d63*-0x1+0x4e1]<<-0xe99+-0x268f+0x3533|_0x47c3d5[-0x5*0x42e+-0x22ba+0x7f6*0x7],_0x225a38[_0x3ed0a7*(-0xcef+-0x6c*-0x51+-0x1539)+(-0x80*0x19+0x449*0x2+0x3f0)]=_0x47c3d5[-0xbda+-0x7ce+-0x1*-0x13c3]<<0x49*-0x3a+0x1e7f+0x6f*-0x20|_0x47c3d5[-0x2133*0x1+-0x31*-0x55+-0x2d7*-0x6]<<0x6*0x67d+-0x6f5+-0x1*0x1fee|_0x47c3d5[-0x11d6+0x8*0x25b+-0x1*0xe5],_0x225a38[_0x3ed0a7*(-0x1*0x100d+-0x1190+0x21a1)+(-0x17ab+0xc4c+0x5e*0x1f)]=_0x47c3d5[0x2423+0x1*-0xde5+-0x1620]<<-0x371*-0xb+0x66*-0x48+-0x916*0x1|_0x47c3d5[0x264f*-0x1+-0x2*0x9f7+-0x3e4*-0xf]<<0xf85+0x4*-0x1fb+0x3c7*-0x2|_0x47c3d5[-0x503*0x2+-0x1a54+0x247a],_0x3d3a0c[_0x3ed0a7*(-0x347*0x2+0x25d0+0x3*-0xa6a)+(-0x6e3+0x69c+0x47)]=_0x47c3d5[-0x24c4+0x368+-0x217d*-0x1]<<-0x9a3+-0xcf9+0x16b1|_0x47c3d5[0x1*0x1073+-0x21f6+0x11a5]<<-0xd15+-0x1d*-0x6a+0x11e|_0x47c3d5[0x192b+0x72*0x57+-0x3fc6],_0x3d3a0c[_0x3ed0a7*(-0x1*0x222a+0x59*-0x13+0x28c9*0x1)+(0x2f*-0x5d+-0x1a*-0x14b+0x108a*-0x1)]=_0x47c3d5[0x37c+-0x47*0x36+0xba2]<<-0x1979+-0x20b3+0x9*0x679|_0x47c3d5[-0x8fc+-0xf92*0x1+0x18b3]<<-0x2003+-0x1c*-0xd9+0x852|_0x47c3d5[-0x213a*-0x1+-0x592+-0x1b82],_0x3d3a0c[_0x3ed0a7*(0x2*-0xbb1+0x46*0x80+-0xb9a)+(0x147a+-0x1*0x885+-0xa1*0x13)]=_0x47c3d5[-0x10b4+0x1*-0x4b1+0x158c]<<-0x877+0x2502+-0x1*0x1c76|_0x47c3d5[0x2*0xdfd+-0xfed+0x1d*-0x69]<<0x1568+-0xed0+-0x1*0x68d|_0x47c3d5[-0x3*-0xa95+0x121e+-0x18da*0x2],_0x3d3a0c[_0x3ed0a7*(0xb17*0x3+0x137+-0x2278)+(0x163+-0x1ac8+0x32d*0x8)]=_0x47c3d5[-0x1266+0x3*-0xb8d+0x1*0x3537]<<-0x35*-0x25+0x1b97+0xbb9*-0x3|_0x47c3d5[-0x5*-0x6f2+-0x1724*0x1+-0xb6b*0x1]<<-0x7*-0x3a5+0x6f9+-0x2071|_0x47c3d5[0x7a*-0x17+0x526+0x5fc]):_0x225a38[_0x3ed0a7]=_0x47c3d5[-0x2513+-0x1643+-0x3b6b*-0x1]<<0x254a+-0xd82+0x1*-0x17b3|_0x47c3d5[-0x6*0x12f+-0x15*0x112+0x1daa]<<0x2532+-0x23f9+0x97*-0x2|_0x47c3d5[-0x86*0x2c+0x354+0x13cb]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x3c5c83=this['sh4to7Text'+'ure'])==null||_0x3c5c83['unlock'](),(_0x5ef27f=this['sh8to11Tex'+'ture'])==null||_0x5ef27f['unlock'](),(_0x109c6b=this['sh12to15Te'+'xture'])==null||_0x109c6b['unlock']();}['updateSHDa'+'taByWorker'](_0x2e199f){const _0xc87182={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x53c4f7=U_(_0x2e199f,_0xc87182*(-0x2566*0x1+-0xebe+0x3427));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x2e199f['numSplats'],this['shBands'],_0x53c4f7),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x924467,_0x3ed3a6,_0x3e1065,_0x2b8e12)=>{var _0x2fd54e,_0x2f16c5,_0x41b826,_0x551433,_0xc4c24b,_0x2b75ee,_0x1618ea,_0x51dc27,_0x2278b3,_0x2f7058;const _0x4501e6=(_0x2fd54e=this['sh1to3Text'+'ure'])==null?void(0x3*0xb23+0x1*-0xb86+-0xd*0x1af):_0x2fd54e['lock']();if(new Uint32Array(_0x4501e6['buffer'])['set'](_0x924467),(_0x2f16c5=this['sh1to3Text'+'ure'])==null||_0x2f16c5['unlock'](),this['shBands']>0x47d*0x4+-0x17*0xf9+0x46c){const _0x3041dd=(_0x41b826=this['sh4to7Text'+'ure'])==null?void(0x61b+0x176*-0xc+0xb6d):_0x41b826['lock']();if(new Uint32Array(_0x3041dd['buffer'])['set'](_0x3ed3a6),(_0x551433=this['sh4to7Text'+'ure'])==null||_0x551433['unlock'](),this['shBands']>0x1c2*0x12+0x971*0x1+-0x2913){const _0x5aadbe=(_0xc4c24b=this['sh8to11Tex'+'ture'])==null?void(0x1a63+0x1726+-0x3189):_0xc4c24b['lock']();new Uint32Array(_0x5aadbe['buffer'])['set'](_0x3e1065),(_0x2b75ee=this['sh8to11Tex'+'ture'])==null||_0x2b75ee['unlock']();const _0x5c8836=(_0x1618ea=this['sh12to15Te'+'xture'])==null?void(0x146f+-0x243*0x1+-0x2*0x916):_0x1618ea['lock']();new Uint32Array(_0x5c8836['buffer'])['set'](_0x2b8e12),(_0x51dc27=this['sh12to15Te'+'xture'])==null||_0x51dc27['unlock']();}else{const _0x41ae68=(_0x2278b3=this['sh8to11Tex'+'ture'])==null?void(0x591*-0x2+-0xc0*-0x6+0x6a2):_0x2278b3['lock']();new Uint32Array(_0x41ae68['buffer'])['set'](_0x3e1065),(_0x2f7058=this['sh8to11Tex'+'ture'])==null||_0x2f7058['unlock']();}}});}}async function G1(){let _0x51ad39=null,_0x524ba9=null,_0x509b6d=null,_0x40d766=null,_0x3b54b1=null,_0x9afc52=null,_0x3e8a1e=null,_0x1f577e=null,_0x5a4d67=null,_0x321e43=null,_0x52e7fe=null,_0x218f5b=null,_0xa200cc=null,_0x4aada6=null,_0x539f9d=null,_0x5665fa=null,_0x1bfed8=null,_0x51746d=null,_0x3bef4c=null,_0x4e82ba=null,_0x3d9c88=null,_0x33c570=null,_0x154ae7=null,_0x1d9396=null,_0x338ad9=null,_0x396e4c=Float32Array['BYTES_PER_'+'ELEMENT'],_0x3d7c29=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x1bdef9=-0x15c7+0x1*-0x19fb+0x2fc2,_0x4c309a=!(0xa64+0x2*0xbe7+-0x2232),_0x207f04,_0x39d658,_0x553898={'x':0x0,'y':0x0,'z':0x0},_0x56effc={'x':0x0,'y':0x0,'z':0x0},_0x187549=!(-0x2*0xcb+0x199a+-0x1d*0xd4),_0x13060c=!(0x7*-0x1de+-0x1874+0x2587),_0x1b2565=!(-0x1*-0x238a+0x2452+-0x47db),_0x3de1ba=0x575+0x59f*-0x1+0x2a,_0x425769=-0x4b2+-0x5e1+0xa93,_0x2ec13a=!(-0x6*0x655+-0xb5*0x9+0x2c5c),_0x14da82=null;self['onmessage']=async _0x1a859d=>{const {data:_0x6684c8}=_0x1a859d;switch(_0x6684c8['type']){case'initWorker':_0x1bdef9=_0x6684c8['numSplats'],_0xa3eac8(),_0x4c309a=_0x6684c8['is4d'],await _0x55e7a3(_0x6684c8['sortWasmUr'+'l']),_0x2de043(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x6684c8['dataReady']){if(_0x9afc52&&_0x6684c8['centers']&&_0x9afc52['length']===_0x6684c8['centers']['length']){const _0x383405=new Float32Array(_0x6684c8['centers']);_0x9afc52['set'](_0x383405);}if(_0x5a4d67&&_0x6684c8['timeIndex']&&_0x5a4d67['length']===_0x6684c8['timeIndex']['length']){const _0x3bbbca=new Uint32Array(_0x6684c8['timeIndex']);_0x5a4d67['set'](_0x3bbbca);}if(_0x218f5b&&_0x6684c8['motion']&&_0x218f5b['length']===_0x6684c8['motion']['length']){const _0x73395b=new Float32Array(_0x6684c8['motion']);_0x218f5b['set'](_0x73395b);}if(_0x4c309a&&_0x321e43&&_0x52e7fe&&_0x6684c8['muT']&&_0x6684c8['tScale']&&_0x321e43['length']===_0x6684c8['muT']['length']&&_0x52e7fe['length']===_0x6684c8['tScale']['length']&&(_0x321e43['set'](_0x6684c8['muT']),_0x52e7fe['set'](_0x6684c8['tScale'])),_0x3e8a1e){for(let _0x587685=-0x15e*0x19+-0x793*0x5+-0x23*-0x20f;_0x587685<_0x3e8a1e['length'];++_0x587685)_0x3e8a1e[_0x587685]=_0x587685;}_0x3b54b1&&_0x6684c8['timeOption']&&_0x3b54b1['set'](_0x6684c8['timeOption']),setTimeout(()=>{_0x467baa();},0x1f00+-0x168a*-0x1+0xb*-0x4de);}break;case'setTime':_0x207f04=_0x6684c8['time'],_0x1db809();break;case'setUseTemp'+'oralSort':_0x187549=_0x6684c8['useTempora'+'lSort'];break;case'sort':if(!_0x509b6d)return;_0x509b6d[-0x1f88+0x3f*0xe+-0x5*-0x59e]=_0x6684c8['cameraPosi'+'tion']['x'],_0x509b6d[0x7b*-0xb+0x229+0x321]=_0x6684c8['cameraPosi'+'tion']['y'],_0x509b6d[0x2*0x505+0x1b79+0x1*-0x2581]=_0x6684c8['cameraPosi'+'tion']['z'],_0x40d766[0x1f81+0x7f3+-0x2*0x13ba]=_0x6684c8['cameraDire'+'ction']['x'],_0x40d766[-0x1c9*-0x13+0x19bc+0x3*-0x13e2]=_0x6684c8['cameraDire'+'ction']['y'],_0x40d766[-0x1343*-0x2+-0x1*-0x1d1b+-0x439f]=_0x6684c8['cameraDire'+'ction']['z'],_0x1db809();break;}};const _0x1db809=()=>{_0x14da82&&clearTimeout(_0x14da82),_0x14da82=setTimeout(()=>{_0x14da82=null,_0x23ca61();},-0x1d0c+-0xc4b+0x2957);},_0xa3eac8=()=>{_0x425769=Math['max'](-0x20b+-0x1*0x2046+0x225b,Math['min'](-0xc32+0x1fc1+-0x137b,Math['round'](Math['log2'](_0x1bdef9/(0xddb+0x2024+0x4f*-0x95))))),_0x3de1ba=(-0x1*0x1e7f+-0x288*-0xc+0x21*0x1)**_0x425769+(0x9da+0x1*-0x1bb1+0x11d8);},_0x2de043=()=>(_0xa200cc=-0x241*-0x11+-0x52e+-0x1*0x2123,_0x4aada6=_0xa200cc+_0x1bdef9*_0x396e4c*(0x12*-0x12d+0x14b*-0x4+-0x163*-0x13),_0x3bef4c=_0x4aada6+(-0x14eb+-0x19d0+-0x2f1f*-0x1)*_0x396e4c*(0x201*0x8+-0x2675+0x166f),_0x4e82ba=_0x3bef4c+_0x1bdef9*_0x3d7c29,_0x3d9c88=_0x4e82ba+(0x936*0x3+-0x33f*-0x7+-0x3258)*_0x396e4c,_0x33c570=_0x3d9c88+(0x3*0xc45+0x66*-0x19+-0x1ad6)*_0x396e4c,_0x154ae7=_0x33c570+(0x111*-0x2+-0x139*-0x1d+0xa4*-0x34)*_0x396e4c,_0x1d9396=_0x154ae7+(-0xae4*-0x2+-0xa70+-0xb55)*_0x396e4c,_0x338ad9=_0x1d9396+_0x1bdef9*_0x3d7c29,_0x9afc52=new Float32Array(_0x524ba9,_0xa200cc,_0x1bdef9*(0x2467*-0x1+0x1*0x1afa+-0x8*-0x12e)),_0x3b54b1=new Float32Array(_0x524ba9,_0x4aada6,(0x36*-0x89+0x137f+0x1*0x9cb)*(-0x32*0x2+0xeae*0x1+0x2*-0x724)),_0x3e8a1e=new Uint32Array(_0x524ba9,_0x3bef4c,_0x1bdef9),_0x1f577e=new Uint32Array(_0x3e8a1e),_0x509b6d=new Float32Array(_0x524ba9,_0x4e82ba,-0x1f7*-0x3+-0x185*0xb+0xad5),_0x40d766=new Float32Array(_0x524ba9,_0x3d9c88,-0x23a6+0x3*-0x676+0x29f*0x15),_0x4c309a&&(_0x1bfed8=_0x338ad9+_0x3de1ba*_0x3d7c29,_0x51746d=_0x1bfed8+_0x1bdef9*_0x396e4c,_0x5665fa=_0x51746d+_0x1bdef9*_0x396e4c,_0x539f9d=_0x5665fa+_0x1bdef9*(0x2302+-0x1088+-0x1277)*_0x396e4c,_0x321e43=new Float32Array(_0x524ba9,_0x1bfed8,_0x1bdef9),_0x52e7fe=new Float32Array(_0x524ba9,_0x51746d,_0x1bdef9),_0x218f5b=new Float32Array(_0x524ba9,_0x5665fa,_0x1bdef9*(0x13c1*-0x1+0xa*-0x66+0x20*0xbe)),_0x5a4d67=new Uint32Array(_0x524ba9,_0x539f9d,_0x1bdef9)),{'sharedMemory':_0x524ba9,'layout':{'timeOptionPtr':_0x4aada6,'timeIndexPtr':_0x539f9d,'centersPtr':_0xa200cc,'motionPtr':_0x5665fa,'muTPtr':_0x1bfed8,'tScalePtr':_0x51746d,'orderPtr':_0x3bef4c,'cameraPositionPtr':_0x4e82ba,'cameraDirectionPtr':_0x3d9c88,'boundMinPtr':_0x33c570,'boundMaxPtr':_0x154ae7,'distancesPtr':_0x1d9396,'countBufferPtr':_0x338ad9}}),_0x55e7a3=async _0x46b863=>{let _0x19de1c=_0x1bdef9*_0x396e4c*(0xeb*0x17+0x97*0x1d+0x2635*-0x1);_0x19de1c+=_0x1bdef9*_0x3d7c29,_0x19de1c+=(-0x1*0x37b+0x2379+-0x1ffb)*_0x396e4c,_0x19de1c+=(0x1*0x1b9b+0x1*0xe5+0x3*-0x97f)*_0x396e4c,_0x19de1c+=(-0x3a6+0x1*-0x939+-0xce2*-0x1)*_0x396e4c,_0x19de1c+=(0x1a1a+-0x111f+-0x8f8)*_0x396e4c,_0x19de1c+=_0x1bdef9*_0x396e4c,_0x19de1c+=_0x3de1ba*_0x3d7c29,_0x19de1c+=(-0x1bdc+-0x4f*0x21+0x266f*0x1)*_0x396e4c*(0x2278+0x17dc+0x5d5*-0xa),_0x19de1c+=_0x1bdef9*_0x3d7c29,_0x4c309a&&(_0x19de1c+=_0x1bdef9*_0x396e4c,_0x19de1c+=_0x1bdef9*_0x396e4c,_0x19de1c+=_0x1bdef9*_0x396e4c*(-0xbf5*-0x1+0x6a7+0x17*-0xcf));const _0x1976a6=(-0x1c3e+-0x901*0x2+0x40*0xba)*(0x1496+-0x517*0x5+0x8dd),_0x48ba11=Math['ceil'](_0x19de1c/_0x1976a6),_0x45bc95={'env':{'memory':new WebAssembly['Memory']({'initial':_0x48ba11,'maximum':_0x48ba11,'shared':!(0x1d4b+-0xcf5+0x7b*-0x22)}),'pthread_self':function(){return-0x1a52+0x1d*-0xe2+0x33ec;},'emscripten_builtin_memalign':function(){return-0x83a+0x21a5+0x196b*-0x1;},'loggerVec3':(_0x21271a,_0x2eefa0,_0x4f9005,_0x308572)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x21271a+']\x200:'+_0x2eefa0+'\x201:'+_0x4f9005+'\x202:'+_0x308572);},'loggerFloat':(_0x54c2a2,_0x14ba28)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x54c2a2+']\x20a:'+_0x14ba28);},'loggerValue':(_0x42c8ab,_0x19570c,_0x3d9730,_0x6a50dd,_0x3ba632)=>{console['log']('C++\x20logger'+'Value\x20['+_0x42c8ab+']\x20minDist:'+_0x19570c+'\x20maxDist:'+_0x3d9730+'\x20range:'+_0x6a50dd+'\x20divider:'+_0x3ba632);},'loggerCamera':(_0x4935d3,_0x4902f5,_0x40c6d2,_0x3b5241,_0x3989d8,_0x4b1dfa,_0xd6c4e9)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x4935d3+']\x20x:'+_0x4902f5+'\x20y:'+_0x40c6d2+'\x20z:'+_0x3b5241+'\x20dx:'+_0x3989d8+'\x20dy:'+_0x4b1dfa+'\x20dz:'+_0xd6c4e9);},'loggerBound':(_0x5c9db8,_0x4f25da,_0x6c0282,_0x4e9522,_0x39f879,_0x2b96c5)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x5c9db8+'\x20minY:'+_0x4f25da+'\x20minZ:'+_0x6c0282+'\x20maxX:'+_0x4e9522+'\x20maxY:'+_0x39f879+'\x20maxZ:'+_0x2b96c5);},'loggerDebug':_0x294412=>{console['log']('C++\x20logger'+'Debug\x20['+_0x294412+']');}}};try{const _0x3bfabf=await(await fetch(_0x46b863))['arrayBuffe'+'r']();return _0x51ad39=(await WebAssembly['instantiat'+'e'](_0x3bfabf,_0x45bc95))['instance'],_0x524ba9=_0x45bc95['env']['memory']['buffer'],_0x51ad39;}catch(_0x36e296){throw console['error']('WASM'+':',_0x36e296),_0x36e296;}},_0x467baa=()=>{if(!_0x51ad39)return;const {calcAABB:_0xb0bc96}=_0x51ad39['exports'];_0xb0bc96(_0xa200cc,_0x33c570,_0x154ae7,_0x1bdef9);},_0x23ca61=()=>{if(!_0x51ad39||_0x3bef4c===null||_0xa200cc===null||_0x4e82ba===null||_0x3d9c88===null||_0x33c570===null||_0x154ae7===null)return;const _0x733e11=_0x509b6d[-0x12e7+0x5e5*-0x2+0x1eb1],_0x22a586=_0x509b6d[0x9c*0x17+-0x1982+0xb7f],_0x2da2b2=_0x509b6d[0x2*-0x63e+0x18a*0x17+-0x16e8],_0x134812=_0x40d766[-0x2*0xe71+0x7*-0x10d+0x243d*0x1],_0x3b968f=_0x40d766[-0xb5*-0x6+-0x15a3+0x1166],_0x5ccadc=_0x40d766[-0xc61+0x83*-0x36+0x2805],_0xac1cee=-0xc95*0x3+0xf40+0x1*0x167f+0.001;if(!_0x13060c&&Math['abs'](_0x733e11-_0x553898['x'])<_0xac1cee&&Math['abs'](_0x22a586-_0x553898['y'])<_0xac1cee&&Math['abs'](_0x2da2b2-_0x553898['z'])<_0xac1cee&&Math['abs'](_0x134812-_0x56effc['x'])<_0xac1cee&&Math['abs'](_0x3b968f-_0x56effc['y'])<_0xac1cee&&Math['abs'](_0x5ccadc-_0x56effc['z'])<_0xac1cee&&Math['abs'](_0x207f04-_0x39d658)<0x1*0x1691+-0x1eb4+0x823+0.01)return;if(_0x1b2565){_0x2ec13a=!(-0xf1*-0x22+-0x7*-0x1c5+-0x1*0x2c65);return;}_0x1b2565=!(0xcf8+-0xae8+-0x210),_0x13060c=!(0x1211*-0x1+-0x1*0xd03+0x6d*0x49),_0x39d658=_0x207f04,_0x553898['x']=_0x733e11,_0x553898['y']=_0x22a586,_0x553898['z']=_0x2da2b2,_0x56effc['x']=_0x134812,_0x56effc['y']=_0x3b968f,_0x56effc['z']=_0x5ccadc,_0x2ec13a=!(-0x28*0x89+0x1ffb+-0xa92*0x1);const {sortIndexes:_0x4241dc}=_0x51ad39['exports'];try{const _0x235a82=_0x4241dc(_0x3bef4c,_0xa200cc,_0x5665fa,_0x1bfed8,_0x51746d,_0x4e82ba,_0x3d9c88,_0x33c570,_0x154ae7,_0x1d9396,_0x338ad9,_0x207f04,_0x187549,_0x4c309a,_0x1bdef9,_0x3de1ba,_0x425769,_0x4aada6,_0x539f9d);_0x1f577e['set'](_0x3e8a1e),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x235a82,'order':_0x1f577e});}catch(_0x1e0b6a){console['error'](':',_0x1e0b6a),self['postMessag'+'e']({'type':'error','error':_0x1e0b6a['message']});}_0x1b2565=!(0x119d*-0x2+0x17bc+0xb7f),_0x2ec13a&&_0x1db809();};}class H1 extends ce{constructor(_0x55008c,_0x371094=!(0x2312+0x1b8d+-0x1*0x3e9f)){super(),c(this,'worker',null),c(this,'numSplats',0xb95+-0x22e8+-0x7*-0x355),c(this,'is4d',!(0x505*0x5+0x9*0x373+-0x3824)),c(this,'sortStartT'+'ime',-0x85d*-0x2+0x1000*0x1+-0x20ba),c(this,'orderTextu'+'re'),(this['numSplats']=_0x55008c,this['is4d']=_0x371094,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x59e67c=>{if(!this['worker'])return;const {data:_0x52d2ae}=_0x59e67c;switch(_0x52d2ae['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x52d2ae['order']){const _0x169a30=this['orderTextu'+'re']['lock']();new Uint32Array(_0x169a30['buffer'])['set'](_0x52d2ae['order']),this['orderTextu'+'re']['unlock']();}let _0x17c9ab=0x2652+0xfee*-0x2+0x676*-0x1;this['sortStartT'+'ime']!==0x1467+-0x3*0x9d3+0x1*0x912&&(_0x17c9ab=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x59e67c['data']['count'],_0x17c9ab),this['sortStartT'+'ime']=0x2d2+-0x1436+0x1164;break;case'error':console['error']('Worker:',_0x52d2ae['error']),this['fire']('error',_0x52d2ae['error']);break;}};const _0x152987=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x152987,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x594785,_0x2bbd74,_0xef49fd,_0x1725fb,_0x22b594,_0x2abc78,_0x2e2c68){var _0x255729;(!_0x2e2c68||_0x2e2c68['length']===-0x2b*-0x59+-0x1*-0x471+0x22*-0x92)&&(_0x2e2c68=[-0x1*-0x1ec7+0x1*-0xd11+-0x11b6,0x1*0xe35+-0xa29+0x2*-0x1e8]),this['orderTextu'+'re']=_0x594785,(_0x255729=this['worker'])==null||_0x255729['postMessag'+'e']({'type':'initData','centers':_0x2bbd74,'muT':_0xef49fd,'tScale':_0x1725fb,'motion':_0x22b594,'timeIndex':_0x2abc78,'timeOption':_0x2e2c68,'dataReady':!(-0xaae+-0x2*-0x989+-0x864)});}['resize'](_0x4be603){this['destroy'](),this['numSplats']=_0x4be603,this['_initWorke'+'r']();}['setCamera'](_0x342e47,_0x163bac){this['worker']&&(this['sortStartT'+'ime']===0x4cf*-0x6+-0x1*-0x1ec1+-0x1*0x1e7&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x342e47['x'],'y':_0x342e47['y'],'z':_0x342e47['z']},'cameraDirection':{'x':_0x163bac['x'],'y':_0x163bac['y'],'z':_0x163bac['z']}}));}['setCurrent'+'Time'](_0x22e87b){this['worker']&&(this['sortStartT'+'ime']===0x2*-0x97a+-0x3*-0xff+0xff7&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x22e87b}));}['setUseTemp'+'oralSort'](_0x1ab9ea){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x1ab9ea});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const $1=new q(),On=new T(),kn=new T(),Gl=[0x1*-0x98f+-0xe*0xfd+0x1765*0x1,-0x103e+-0x12f1*-0x2+-0x15a4];class Np{constructor(_0x5e61f5,_0x491b6e){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x6d*0x1+0x13*0x1be+-0x20ad),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x5e61f5['numSplats']),this['splat']=_0x5e61f5,this['options']=Object['assign'](this['options'],_0x491b6e));const _0x4f920f=_0x5e61f5['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x2eafd8=0x338*0xb+-0x3c2+-0x2*0xf93,_0x11a4c3=Math['ceil'](_0x5e61f5['numSplats']/_0x2eafd8)*_0x2eafd8/_0x2eafd8,_0x2cd740=new Uint32Array(_0x11a4c3);for(let _0x227eb5=-0x1362+0x146b*-0x1+-0x17*-0x1bb;_0x227eb5<_0x11a4c3;++_0x227eb5)_0x2cd740[_0x227eb5]=_0x227eb5*_0x2eafd8;const _0x1c4fc9=new Et(_0x4f920f,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x81b+0x85b+-0x40)}]),_0x47f402=new os(_0x4f920f,_0x1c4fc9,_0x11a4c3,{'usage':jt,'data':_0x2cd740['buffer']}),_0x18a3a4=new Float32Array((0x6eb*0x5+0x3*0xcc+-0x131*0x1f)*_0x2eafd8),_0x427e65=new Uint32Array((0x25*-0xa5+-0x45d*-0x2+0xf25*0x1)*_0x2eafd8);for(let _0x111994=0x19d5+-0x1a10+0x3b;_0x111994<_0x2eafd8;++_0x111994){_0x18a3a4['set']([-(-0x975+0x17c3+-0xe4d),-(0xbf5+0x2654+-0x3248),_0x111994,0x29*0x8b+-0xf34+-0x70e,-(0x1*-0x2d9+0x17c9*0x1+-0x14ef),_0x111994,0x13*-0x1ad+0x1ccc+0x41*0xc,-0x13*-0xbd+-0x2709+-0x151*-0x13,_0x111994,-(-0x7bb*-0x5+0x1*-0x21b8+-0x4ee),-0x669+0x8b7*0x3+-0x13bb*0x1,_0x111994],_0x111994*(-0x1ee3*-0x1+0x17e+-0x2055));const _0x3a047e=_0x111994*(-0x6a3+0x1257+-0x2c*0x44);_0x427e65['set']([0x12b*0x11+-0x251d+0x1142+_0x3a047e,0xa*-0x171+-0x1b36*-0x1+-0xccb+_0x3a047e,-0xfe2+0x18bd+0x1*-0x8d9+_0x3a047e,-0x65+-0x2*-0x6f1+-0x3*0x47f+_0x3a047e,0x2452+-0x5*-0x27+-0x2513*0x1+_0x3a047e,0x464*-0x1+0x51*-0x78+0x1*0x2a5f+_0x3a047e],_0x111994*(0x54f+0x64f+-0x1a8*0x7));}const _0x4c1da4=new Ie(_0x4f920f);_0x4c1da4['setPositio'+'ns'](_0x18a3a4,0x13*0xb3+0x1751+-0x227*0x11),_0x4c1da4['setIndices'](_0x427e65),_0x4c1da4['update'](),this['mesh']=_0x4c1da4,this['mesh']['aabb']['copy'](_0x5e61f5['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x47f402,!(0xbba+0x1574+-0x212e)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x5*-0xbc+-0x13dc+-0x2*-0x818,(!_0x491b6e['dither']||_0x491b6e['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x4252d5;(_0x4252d5=this['sorter'])==null||_0x4252d5['initData'](this['orderTextu'+'re'],_0x5e61f5['centers'],_0x5e61f5['muT'],_0x5e61f5['tScale'],_0x5e61f5['motion'],_0x5e61f5['timeIndex'],_0x5e61f5['timeOption']);}),this['sorter']['on']('updated',_0x41a7f7=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x41a7f7/_0x2eafd8),this['material']['setParamet'+'er']('numSplats',_0x41a7f7);}));}['updateData'](_0x415066){var _0x66a906;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x415066['numSplats']),this['splat']=_0x415066;const _0x202023=_0x415066['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x47243a=-0x377*-0x1+-0x1143+0x3c*0x3d,_0x35c68c=Math['ceil'](_0x415066['numSplats']/_0x47243a)*_0x47243a/_0x47243a,_0x1fb9e0=new Uint32Array(_0x35c68c);for(let _0x268c93=0x2*0x35d+-0x5*0x35e+0xa1c;_0x268c93<_0x35c68c;++_0x268c93)_0x1fb9e0[_0x268c93]=_0x268c93*_0x47243a;const _0x217abe=new Et(_0x202023,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x7*0x185+-0x1ea+0x1cb*0x7)}]),_0x44b1a5=new os(_0x202023,_0x217abe,_0x35c68c,{'usage':jt,'data':_0x1fb9e0['buffer']});this['mesh']['aabb']['copy'](_0x415066['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x44b1a5,!(-0x17f*-0x19+-0x259e+0x37)),this['meshInstan'+'ce']['instancing'+'Count']=0x2253+0xd*-0x300+0x4ad,(_0x66a906=this['sorter'])==null||_0x66a906['resize'](_0x415066['numSplats']);}['releaseSeq'](_0x1c9eb2){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x1c9eb2);}['destroy'](){var _0x42cbd3,_0x1bf469,_0x584122;(_0x42cbd3=this['material'])==null||_0x42cbd3['destroy'](),(_0x1bf469=this['meshInstan'+'ce'])==null||_0x1bf469['destroy'](),(_0x584122=this['sorter'])==null||_0x584122['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0xd4c1c2){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0xd4c1c2),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x377c1b=this['splat']['device'];if(Gl[0x2498+0x1a02*-0x1+0x54b*-0x2]=_0x377c1b['width'],Gl[0x1*-0x1fcf+0x4a*-0x33+0xca*0x3b]=_0x377c1b['height'],this['cameras']['length']>-0x1*-0xfa9+0x18f9*-0x1+0x950){const _0x34fa93=this['cameras'][0x161b*0x1+0xb*0x26f+-0x30e0]['xr'];_0x34fa93&&_0x34fa93['active']&&_0x34fa93['views']['list']['length']===-0x207c+-0x6e6+0x2764&&(Gl[-0xafe*0x3+-0xf*0x83+-0x3*-0xd8d]/=-0x1*0x16eb+0x1*0x145+-0x63*-0x38);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x17ea19){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x399d66=_0x17ea19['getWorldTr'+'ansform']();_0x399d66['getTransla'+'tion'](On),_0x399d66['getZ'](kn);const _0x32be7e=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x482da9=$1['invert'](_0x32be7e);_0x482da9['transformP'+'oint'](On,On),_0x482da9['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>-0x21d9+0x2092+0x147){const _0xa40515=this['cameras'][-0xd+0x9*-0x61+0x376];this['sort'](_0xa40515['_node']),this['cameras']['length']=0xdaf*-0x2+-0x5f2*-0x2+0xf7a;}}['updateTime'](_0x3af603){this['time']=_0x3af603;}}const W1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x134c9b){U0=_0x134c9b;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x1077b3){v['assert'](_0x1077b3),_0x1077b3['frameUpdat'+'e']();const _0x203b2e=_0x1077b3['beforePass'+'es'];for(let _0x4118b3=0x1359+0xa4b*0x1+-0x43c*0x7;_0x4118b3<_0x203b2e['length'];_0x4118b3++){const _0xb79846=_0x203b2e[_0x4118b3];_0xb79846['enabled']&&this['addRenderP'+'ass'](_0xb79846);}_0x1077b3['enabled']&&this['renderPass'+'es']['push'](_0x1077b3);const _0x48af29=_0x1077b3['afterPasse'+'s'];for(let _0x17faf9=0x209c+0x4*-0x5a1+-0xa18;_0x17faf9<_0x48af29['length'];_0x17faf9++){const _0x328dfb=_0x48af29[_0x17faf9];_0x328dfb['enabled']&&this['addRenderP'+'ass'](_0x328dfb);}}['reset'](){this['renderPass'+'es']['length']=0x7*0x2a+-0x1eca+0x1da4;}['compile'](){const _0x36c70c=this['renderTarg'+'etMap'],_0x3487c9=this['renderPass'+'es'];for(let _0xaaf570=0xc2f*-0x2+0x20ac+0x427*-0x2;_0xaaf570<_0x3487c9['length'];_0xaaf570++){const _0x2e42a9=_0x3487c9[_0xaaf570],_0x48a46a=_0x2e42a9['renderTarg'+'et'];if(_0x48a46a!==void(-0x1f70+-0x132a+0x329a)){const _0x18415b=_0x36c70c['get'](_0x48a46a);if(_0x18415b){const _0x55fe27=_0x2e42a9['colorArray'+'Ops']['length'];for(let _0xab4705=-0x7f*0x2b+-0x1544+0x2a99;_0xab4705<_0x55fe27;_0xab4705++)_0x2e42a9['colorArray'+'Ops'][_0xab4705]['clear']||(_0x18415b['colorArray'+'Ops'][_0xab4705]['store']=!(-0xc7c+0x1*-0x21dc+0x4*0xb96));_0x2e42a9['depthStenc'+'ilOps']['clearDepth']||(_0x18415b['depthStenc'+'ilOps']['storeDepth']=!(0x644+0x655*-0x1+-0x11*-0x1)),_0x2e42a9['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x18415b['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x2591+0xe*0xb3+0x1bc7));}_0x36c70c['set'](_0x48a46a,_0x2e42a9);}}for(let _0x5eacf5=0x8b1+0x1*-0x161b+0x1*0xd6a;_0x5eacf5<_0x3487c9['length']-(0xc9*0x11+-0xe9*-0xd+-0x192d);_0x5eacf5++){const _0x586730=_0x3487c9[_0x5eacf5],_0x139acb=_0x586730['renderTarg'+'et'],_0x2f98e0=_0x3487c9[_0x5eacf5+(0x6d6+-0x67e+0x3*-0x1d)],_0x4c2a05=_0x2f98e0['renderTarg'+'et'];_0x139acb!==_0x4c2a05||_0x139acb===void(-0x13ac+0x7*0x8+0x1374)||_0x2f98e0['depthStenc'+'ilOps']['clearDepth']||_0x2f98e0['depthStenc'+'ilOps']['clearStenc'+'il']||_0x2f98e0['colorArray'+'Ops']['some'](_0x20ff6e=>_0x20ff6e['clear'])||_0x586730['afterPasse'+'s']['length']>-0x703*-0x4+-0x856+-0x1d*0xae||_0x2f98e0['beforePass'+'es']['length']>-0x2082+0x1a2d*0x1+0x655||(_0x586730['_skipEnd']=!(-0x1*-0x1816+0x6da*-0x3+0x388*-0x1),_0x2f98e0['_skipStart']=!(-0xf09*0x2+-0xf20+0x59*0x82));}let _0x34f8fd=null,_0x4a9db5=null;for(let _0x447f99=-0xb9e*0x3+0xe*0x6e+0x1cd6;_0x447f99<_0x3487c9['length'];_0x447f99++){const _0x46553a=_0x3487c9[_0x447f99],_0x41a45b=_0x46553a['renderTarg'+'et'],_0x436bb3=_0x41a45b==null?void(-0x79+-0xb2*-0x19+-0x10e9):_0x41a45b['colorBuffe'+'r'];if(_0x436bb3!=null&&_0x436bb3['cubemap']){if(_0x34f8fd===_0x436bb3){const _0x2b762a=_0x4a9db5['colorArray'+'Ops']['length'];for(let _0xccaa83=0x14d7+0x763*-0x5+0x1018;_0xccaa83<_0x2b762a;_0xccaa83++)_0x4a9db5['colorArray'+'Ops'][_0xccaa83]['mipmaps']=!(-0x17b3+-0x267*0x6+0x1*0x261e);}_0x34f8fd=_0x41a45b['colorBuffe'+'r'],_0x4a9db5=_0x46553a;}else _0x46553a['requiresCu'+'bemaps']&&(_0x34f8fd=null,_0x4a9db5=null);}_0x36c70c['clear']();}['render'](_0x4936bd){this['compile']();const _0x5160eb=this['renderPass'+'es'];for(let _0x2fd075=0x1*0x263b+-0x593*-0x1+-0x3f*0xb2;_0x2fd075<_0x5160eb['length'];_0x2fd075++)_0x5160eb[_0x2fd075]['render']();}}class j1{constructor(_0x2c6d0f,_0x386219){this['texture0']=_0x2c6d0f,this['texture1']=_0x386219;}['destroy'](){var _0x2b4692,_0x2ef678;(_0x2b4692=this['texture0'])==null||_0x2b4692['destroy'](),(_0x2ef678=this['texture1'])==null||_0x2ef678['destroy']();}}const H_=new Ot();class Wr{static['createText'+'ure'](_0x3fe67b,_0x23faed,_0x4197ea,_0x23b540=''){return new he(_0x3fe67b,{'name':'AreaLightL'+'UT'+_0x23b540,'width':_0x4197ea,'height':_0x4197ea,'format':_0x23faed,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x85+-0xb0+0x2c)});}static['applyTextu'+'res'](_0x3cae23,_0x152b05,_0x38cc9c){H_['remove'](_0x3cae23),H_['get'](_0x3cae23,()=>new j1(_0x152b05,_0x152b05===_0x38cc9c?null:_0x38cc9c)),_0x3cae23['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x152b05),_0x3cae23['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x38cc9c);}static['createPlac'+'eholder'](_0x37aad4){const _0x3c7b2b=Wr['createText'+'ure'](_0x37aad4,Je,-0xa6d*0x1+0x5*0x209+0x42*0x1,'placeholde'+'r');_0x3c7b2b['lock']()['fill'](0x62b+0x134b+-0x2*0xcbb),_0x3c7b2b['unlock'](),Wr['applyTextu'+'res'](_0x37aad4,_0x3c7b2b,_0x3c7b2b);}static['set'](_0x40d06a,_0x382c1e,_0x31e970){function _0xab570d(_0x4f1c4c,_0x25772b,_0x252e63){const _0x488968=Wr['createText'+'ure'](_0x4f1c4c,_0x252e63,-0x3*0xc5e+-0xb7*-0x2c+0x5e6);return _0x488968['lock']()['set'](_0x25772b),_0x488968['unlock'](),_0x488968;}function _0x942f54(_0x354e88){const _0x151429=_0x354e88['length'],_0x350952=new Uint16Array(_0x151429),_0xfd8c9=$t['float2Half'];for(let _0x33db51=-0x36*-0x4f+0x21e8+-0x3292;_0x33db51<_0x151429;_0x33db51++)_0x350952[_0x33db51]=_0xfd8c9(_0x354e88[_0x33db51]);return _0x350952;}const _0x327026=_0x382c1e,_0x4ba1bc=_0x31e970,_0x319add=_0x942f54(_0x327026),_0x13a7c8=_0x942f54(_0x4ba1bc),_0x3eea16=_0xab570d(_0x40d06a,_0x319add,Je),_0x5772cd=_0xab570d(_0x40d06a,_0x13a7c8,Je);Wr['applyTextu'+'res'](_0x40d06a,_0x3eea16,_0x5772cd);}}const $h='en-US',Wh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x59765b,_0x13ac66){for(let _0x2485b4=0x1*-0x15ce+-0x1590+0x15af*0x2,_0x30f46e=_0x59765b['length'];_0x2485b4<_0x30f46e;_0x2485b4++)zp[_0x59765b[_0x2485b4]]=_0x13ac66;}function pi(_0x5dd6d9){const _0x38cb9c=_0x5dd6d9['indexOf']('-');return _0x38cb9c!==-(-0x2537+0x2*0x616+0x190c)?_0x5dd6d9['substring'](0xb*0xe2+-0xd3*0x2e+0x1c34,_0x38cb9c):_0x5dd6d9;}function Y1(_0x22ed9c,_0x417eb5){const _0x492785=_0x22ed9c['indexOf']('-');return _0x492785!==-(-0x56d+-0x11e3+0x1751)?_0x417eb5+_0x22ed9c['substring'](_0x492785):_0x417eb5;}function V0(_0xb00c88,_0xc3bf8){if(_0xc3bf8[_0xb00c88])return _0xb00c88;let _0x337360=Wh[_0xb00c88];if(_0x337360&&_0xc3bf8[_0x337360])return _0x337360;const _0x8ce46e=pi(_0xb00c88);return _0x337360=Wh[_0x8ce46e],_0xc3bf8[_0x337360]?_0x337360:_0xc3bf8[_0x8ce46e]?_0x8ce46e:$h;}pr(['ja','ko','th','vi','zh','id'],_0x2941da=>0x2*-0x11ff+0x4*0x81+0x21fa),pr(['fa','hi'],_0xa9c53f=>_0xa9c53f>=-0x427+-0x17bb+0xa6*0x2b&&_0xa9c53f<=-0x206f+0x3ab*0x8+0x318?0x1*0x279+-0xacb*-0x3+-0x22da:-0x1*0x12dd+-0x19fe+-0x4*-0xb37),pr(['fr','pt'],_0x23864f=>_0x23864f>=0xb*-0xac+0x14*0xb+-0x2c*-0x26&&_0x23864f<-0x1e86+0x1365+0xb23?-0x1f87+0x25b7+-0x58*0x12:-0x24bc*0x1+-0x1906+0x3dc3),pr(['da'],_0x106b2e=>_0x106b2e===-0x6c9*-0x2+-0x18*0x6b+-0xb5*0x5||!Number['isInteger'](_0x106b2e)&&_0x106b2e>=0x2225*0x1+0x2d*0x6b+-0x34f4&&_0x106b2e<=0x1*0x2062+-0x21*0xcb+-0x2*0x31b?0x1eef+0x1*-0x1d9+0x1b6*-0x11:-0x1738+-0x12a*-0x9+-0xfb*-0xd),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x93e5f1=>_0x93e5f1===0xca*-0x31+-0x1a84*-0x1+-0x11*-0xb7?0x1934+0x2*0x161+-0x1bf6:0xed+0x1dfd+-0x29*0xc1),pr(['ru','uk'],_0x1b0021=>{if(Number['isInteger'](_0x1b0021)){const _0x31405c=_0x1b0021%(-0x1*0x199a+0x741+0x1263),_0x261f73=_0x1b0021%(-0x1c09*-0x1+0x2*-0xcec+-0x1cd);if(_0x31405c===-0x45d+0x98c+-0x52e&&_0x261f73!==-0x143c+0x1a*-0x7f+-0x3*-0xb0f)return 0x1f79+0x15df+-0x3558;if(_0x31405c>=-0x2691+-0x1*-0x1c81+0xa12&&_0x31405c<=-0x22f7*-0x1+0x57d+0x1*-0x2870&&(_0x261f73<0x1a90+0x21*0x5d+-0x2681||_0x261f73>-0x714+0xe14+-0x2*0x379))return 0x128+-0x971*-0x2+0x17*-0xdf;if(_0x31405c===0x1d17+-0x1*-0x29+-0x1d40||_0x31405c>=-0x3d*-0x67+-0x1085*-0x2+0x1*-0x3990&&_0x31405c<=0x26de*-0x1+0xd44+0x19a3||_0x261f73>=0x1baa+-0x2521+0x982*0x1&&_0x261f73<=-0xcc8*0x2+0x1*0x1021+0x97d*0x1)return 0x10*-0x219+-0x1b3*-0x1+0x1fdf*0x1;}return-0x17*-0x11c+-0x1*0x20ed+0x76c;}),pr(['pl'],_0x3baa92=>{if(Number['isInteger'](_0x3baa92)){if(_0x3baa92===0x21a8+-0x1*0x1607+-0x6*0x1f0)return-0x1873+0x1354*0x2+-0xe35;const _0x1a0772=_0x3baa92%(0xf31*0x2+-0xd2c*0x1+-0x112c),_0x504a7f=_0x3baa92%(-0x1142*-0x2+0x1038+-0xc96*0x4);if(_0x1a0772>=0x1*0x102a+-0x130d*0x1+0x1*0x2e5&&_0x1a0772<=-0x25ba+0x5b+-0x233*-0x11&&(_0x504a7f<0x8ae+-0x1374+0xad2||_0x504a7f>0x1298*0x2+-0x1992+-0x5c8*0x2))return-0x2555+-0xf6c+0x2*0x1a61;if(_0x1a0772>=-0x2*-0x20b+-0x13ae+-0x4*-0x3e6&&_0x1a0772<=-0x41+-0x35*0x18+0x1be*0x3||_0x1a0772>=0x14a*0x4+0x1*0xdc4+-0x12e7&&_0x1a0772<=-0xfe6*0x2+0x233b+0x2*-0x1b3||_0x504a7f>=-0x1f69+0x18d1*0x1+0x6a4*0x1&&_0x504a7f<=-0x1aae+-0xafd+0x25b9)return 0x268d+0x201c+0x1*-0x46a7;}return-0x2343+-0x6c3+-0x11*-0x279;}),pr(['ar'],_0x262b4d=>{if(_0x262b4d===0x15a9*-0x1+-0xb7e+-0x3*-0xb0d)return-0x1*-0x4c7+-0x1c25+0x175e;if(_0x262b4d===-0x1d*0x13d+0xb56+0x1894)return-0x22*0x79+-0x92b*-0x1+0x6e8;if(_0x262b4d===0x9a7*-0x2+-0x14b7*-0x1+-0x1*0x167)return 0xb*0x12+0x1606*-0x1+0x1542;if(Number['isInteger'](_0x262b4d)){const _0x45747c=_0x262b4d%(-0x1f6c+-0x1be2+-0x11b*-0x36);if(_0x45747c>=-0x43*0x52+-0x5f*0x5f+0x38ba&&_0x45747c<=-0x92b+-0xe4*-0x1+0x851)return-0x6a7*-0x3+0x1*0x285+-0x1677;if(_0x45747c>=0x1*-0xe0e+-0xefc+-0x1d15*-0x1&&_0x45747c<=-0x1413+0x107a+-0x5*-0xcc)return-0x559+-0x25db+0x2b38;}return 0x1045+-0x1651+0x611;});const K1=zp[pi($h)];function Xd(_0xc37106){return zp[_0xc37106]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x1c9220='',_0x1c73f5='',_0x4ea317=null,_0x4e5d52=null,_0x522f93=null,_0x3175dc=null){this['url']=_0x1c9220,this['filename']=_0x1c73f5,this['hash']=_0x4ea317,this['size']=_0x4e5d52,this['opt']=_0x522f93,this['contents']=_0x3175dc;}['equals'](_0x35b290){return this['url']===_0x35b290['url']&&this['filename']===_0x35b290['filename']&&this['hash']===_0x35b290['hash']&&this['size']===_0x35b290['size']&&this['opt']===_0x35b290['opt']&&this['contents']===_0x35b290['contents'];}}let Q1=-(0x223f*0x1+0x2e5*0x5+-0x30b7);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},$_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x5234e1,_0x20bef2,_0x1df6bf,_0x5de991,_0x19f3ad){super(),this['_id']=Q1--,this['_name']=_0x5234e1||'',this['type']=_0x20bef2,this['tags']=new po(this),this['_preload']=!(-0x13fe+0xfe1+0x41e),this['_file']=null,this['_data']=_0x5de991||{},this['options']=_0x19f3ad||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(0x2479+-0x8a2+-0xdeb*0x2),this['loading']=!(-0x413+0x1*0x2113+-0x1cff*0x1),this['registry']=null,_0x1df6bf&&(this['file']=_0x1df6bf);}set['id'](_0x2c06be){this['_id']=_0x2c06be;}get['id'](){return this['_id'];}set['name'](_0x49cac6){if(this['_name']===_0x49cac6)return;const _0x250f04=this['_name'];this['_name']=_0x49cac6,this['fire']('name',this,this['_name'],_0x250f04);}get['name'](){return this['_name'];}set['file'](_0x26fc40){var _0x3cc524,_0x1fd20f;if(_0x26fc40&&_0x26fc40['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x1490+0x4f*0x1d+0xb9e*0x1)){const _0x2e2e58=((_0x1fd20f=(_0x3cc524=this['registry'])==null?void(-0x2078+0x1f76+0x3*0x56):_0x3cc524['_loader'])==null?void(-0x61*0x2+0x3fe+0x4*-0xcf):_0x1fd20f['_app'])||tn(),_0xb4d320=_0x2e2e58==null?void(0xd0d+-0x264c+0x1*0x193f):_0x2e2e58['graphicsDe'+'vice'];if(_0xb4d320)for(let _0x2d795f=-0x1*-0x1123+0x1142*0x2+0x761*-0x7,_0x421305=$_['length'];_0x2d795f<_0x421305;_0x2d795f++){const _0x39f3e5=$_[_0x2d795f];if(_0x26fc40['variants'][_0x39f3e5]&&_0xb4d320[J1[_0x39f3e5]]){_0x26fc40=_0x26fc40['variants'][_0x39f3e5];break;}if(_0x2e2e58['enableBund'+'les']){const _0x2348f3=_0x2e2e58['bundles']['listBundle'+'sForAsset'](this);if(_0x2348f3&&_0x2348f3['find'](_0x362f54=>{var _0x363b64;return(_0x363b64=_0x362f54==null?void(-0x2517+-0x28b*-0x3+-0x6*-0x4e9):_0x362f54['file'])==null?void(0x1d9b+-0x115f+-0xc3c):_0x363b64['variants'][_0x39f3e5];}))break;}}}const _0x160663=this['_file'],_0x4e2ca5=_0x26fc40?new Z1(_0x26fc40['url'],_0x26fc40['filename'],_0x26fc40['hash'],_0x26fc40['size'],_0x26fc40['opt'],_0x26fc40['contents']):null;(!!_0x4e2ca5!=!!_0x160663||_0x4e2ca5&&!_0x4e2ca5['equals'](_0x160663))&&(this['_file']=_0x4e2ca5,this['fire']('change',this,'file',_0x4e2ca5,_0x160663),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x54e8c0){const _0x402189=this['_data'];this['_data']=_0x54e8c0,_0x54e8c0!==_0x402189&&(this['fire']('change',this,'data',_0x54e8c0,_0x402189),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x118726){const _0x5c5a48=this['_resources'][-0xab+0x1214+-0x1*0x1169];this['_resources'][0x107a+0x25c9+-0x1*0x3643]=_0x118726,this['fire']('change',this,'resource',_0x118726,_0x5c5a48);}get['resource'](){return this['_resources'][0x175+0x3*0x936+-0x1d17];}set['resources'](_0x292941){const _0x11b473=this['_resources'];this['_resources']=_0x292941,this['fire']('change',this,'resources',_0x292941,_0x11b473);}get['resources'](){return this['_resources'];}set['preload'](_0x3030ef){_0x3030ef=!!_0x3030ef,this['_preload']!==_0x3030ef&&(this['_preload']=_0x3030ef,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x23997){_0x23997=!!_0x23997,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x23997!==this['_loadFaces'])&&(this['_loadFaces']=_0x23997,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0xbe7edd=this['file'];if(!_0xbe7edd||!_0xbe7edd['url'])return null;let _0x48ebe5=_0xbe7edd['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x48ebe5)&&(_0x48ebe5=this['registry']['prefix']+_0x48ebe5),this['type']!=='script'&&_0xbe7edd['hash']){const _0x415529=_0x48ebe5['indexOf']('?')!==-(-0x1*-0xeff+-0x1d65+0x1*0xe67)?'&':'?';_0x48ebe5+=_0x415529+'t='+_0xbe7edd['hash'];}return _0x48ebe5;}['getAbsolut'+'eUrl'](_0x4170dd){if(_0x4170dd['startsWith']('blob:')||_0x4170dd['startsWith']('data:'))return _0x4170dd;const _0x294264=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x294264,_0x4170dd);}['getLocaliz'+'edAssetId'](_0x54b57b){return _0x54b57b=V0(_0x54b57b,this['_i18n']),this['_i18n'][_0x54b57b]||null;}['addLocaliz'+'edAssetId'](_0x2d92cd,_0xf5ce64){this['_i18n'][_0x2d92cd]=_0xf5ce64,this['fire']('add:locali'+'zed',_0x2d92cd,_0xf5ce64);}['removeLoca'+'lizedAsset'+'Id'](_0x25a9e7){const _0x5a94db=this['_i18n'][_0x25a9e7];_0x5a94db&&(delete this['_i18n'][_0x25a9e7],this['fire']('remove:loc'+'alized',_0x25a9e7,_0x5a94db));}['ready'](_0xe5bf2c,_0x5e5bd0){_0x5e5bd0=_0x5e5bd0||this,this['loaded']?_0xe5bf2c['call'](_0x5e5bd0,this):this['once']('load',_0x5eb726=>{_0xe5bf2c['call'](_0x5e5bd0,_0x5eb726);});}['reload'](){this['loaded']&&(this['loaded']=!(0x1*0x22ab+0xed+0x2397*-0x1),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0xd41+0xb6f+0x1*0x1d2)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x382e28=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x625+0x207+0xd3*0x5),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x2e9838=0x2657+0x555*-0x7+-0x104;_0x2e9838<_0x382e28['length'];++_0x2e9838){const _0xf5090b=_0x382e28[_0x2e9838];_0xf5090b&&_0xf5090b['destroy']&&_0xf5090b['destroy']();}}static['fetchArray'+'Buffer'](_0x13813f,_0xb6406b,_0x4514d5,_0xc0b05d=0x1573+0x3f6+-0x1*0x1969){var _0xd41081;(_0xd41081=_0x4514d5==null?void(0xb*-0x277+0x190d+-0x6*-0x58):_0x4514d5['file'])!=null&&_0xd41081['contents']?setTimeout(()=>{_0xb6406b(null,_0x4514d5['file']['contents']);}):We['get'](_0x13813f,{'cache':!(0x1*-0x238d+0x1cae+0x6df),'responseType':'arraybuffe'+'r','retry':_0xc0b05d>-0x1fa9+-0xae3+0x2a8c,'maxRetries':_0xc0b05d},_0xb6406b);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0xbe4df8=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0xbe4df8;}['addItem'](_0x4557a3){const _0x226e10=_0x4557a3['tags']['_list'];for(const _0x1da15c of _0x226e10)this['add'](_0x1da15c,_0x4557a3);}['removeItem'](_0x3542da){const _0x8f57f=_0x3542da['tags']['_list'];for(const _0x22c8fc of _0x8f57f)this['remove'](_0x22c8fc,_0x3542da);}['add'](_0x19f369,_0x58ee37){this['_index'][_0x19f369]&&this['_index'][_0x19f369]['list']['indexOf'](_0x58ee37)!==-(0x1b28+0x61*-0x25+-0xd22*0x1)||(this['_index'][_0x19f369]||(this['_index'][_0x19f369]={'list':[]},this['_key']&&(this['_index'][_0x19f369]['keys']={})),this['_index'][_0x19f369]['list']['push'](_0x58ee37),this['_key']&&(this['_index'][_0x19f369]['keys'][_0x58ee37[this['_key']]]=_0x58ee37));}['remove'](_0x4f71c0,_0x19195d){if(!this['_index'][_0x4f71c0]||this['_key']&&!this['_index'][_0x4f71c0]['keys'][_0x19195d[this['_key']]])return;const _0x468022=this['_index'][_0x4f71c0]['list']['indexOf'](_0x19195d);_0x468022!==-(0x2*-0x51f+-0x31*-0xb0+-0x1771)&&(this['_index'][_0x4f71c0]['list']['splice'](_0x468022,0x9b9+-0x650*0x4+0xf88),this['_key']&&delete this['_index'][_0x4f71c0]['keys'][_0x19195d[this['_key']]],this['_index'][_0x4f71c0]['list']['length']===-0x68b+0x92*-0x30+0x21eb&&delete this['_index'][_0x4f71c0]);}['find'](_0x3084d4){const _0x57ffab={},_0x1f6e4e=[];let _0x392c7c,_0x4046d6,_0x3dd62b,_0x523f4d,_0x3589e3;const _0x1584b1=(_0x338d9f,_0x1709f1)=>this['_index'][_0x338d9f]['list']['length']-this['_index'][_0x1709f1]['list']['length'];for(let _0x4f1043=-0x4ef+-0x16ad+0x39*0x7c;_0x4f1043<_0x3084d4['length'];_0x4f1043++){if(_0x4046d6=_0x3084d4[_0x4f1043],_0x4046d6 instanceof Array){if(_0x4046d6['length']===-0x1d9f*-0x1+0x2*0x65+-0x1e69)continue;if(_0x4046d6['length']===-0x3c+-0x132e+-0x3*-0x679)_0x4046d6=_0x4046d6[-0x501*-0x1+-0x61f*-0x4+-0x1d7d];else{_0x3589e3=!(0x28*0x41+0x7*-0x551+-0x2*-0xd88);for(let _0x33d2d8=-0x76*0x1e+-0x1fa2+0x2d76*0x1;_0x33d2d8<_0x4046d6['length'];_0x33d2d8++)if(!this['_index'][_0x4046d6[_0x33d2d8]]){_0x3589e3=!(-0x427+-0x1979*-0x1+-0x1552*0x1);break;}if(_0x3589e3)continue;_0x3dd62b=_0x4046d6['slice'](-0xe9d*0x1+-0xb4d+-0xcf5*-0x2)['sort'](_0x1584b1),_0x523f4d=_0x3dd62b['slice'](-0x11af+0x1*0x1e65+-0xcb5),_0x523f4d['length']===0x56d+0x256f+-0x3*0xe49&&(_0x523f4d=_0x523f4d[-0x16b3+-0x1*0xd3f+-0x23f2*-0x1]);for(let _0x547a5a=-0x1e4a+-0x22*0x2b+-0x2*-0x1200;_0x547a5a<this['_index'][_0x3dd62b[-0x7*0x8f+-0xcb4+0x109d]]['list']['length'];_0x547a5a++)_0x392c7c=this['_index'][_0x3dd62b[0xa6a+-0x39d*-0x2+-0x2*0x8d2]]['list'][_0x547a5a],(this['_key']?!_0x57ffab[_0x392c7c[this['_key']]]:_0x1f6e4e['indexOf'](_0x392c7c)===-(0x1461+0x737*-0x5+0xfb3))&&_0x392c7c['tags']['has'](_0x523f4d)&&(this['_key']&&(_0x57ffab[_0x392c7c[this['_key']]]=!(0x2f*0x17+0x133*0x11+0x12*-0x15e)),_0x1f6e4e['push'](_0x392c7c));continue;}}if(_0x4046d6&&typeof _0x4046d6=='string'&&this['_index'][_0x4046d6]){for(let _0x59eb11=-0x211f+0x2204*-0x1+0x4323;_0x59eb11<this['_index'][_0x4046d6]['list']['length'];_0x59eb11++)_0x392c7c=this['_index'][_0x4046d6]['list'][_0x59eb11],this['_key']?_0x57ffab[_0x392c7c[this['_key']]]||(_0x57ffab[_0x392c7c[this['_key']]]=!(-0x3d*0x57+-0xb*0x13+0xc5*0x1c),_0x1f6e4e['push'](_0x392c7c)):_0x1f6e4e['indexOf'](_0x392c7c)===-(-0xf2*-0xd+0x51b*-0x1+-0x397*0x2)&&_0x1f6e4e['push'](_0x392c7c);}}return _0x1f6e4e;}}class ao extends ce{constructor(_0x2c58b4){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x2c58b4;}['list'](_0x46bddd={}){const _0x40006e=Array['from'](this['_assets']);return _0x46bddd['preload']!==void(0x3ed*0x3+0x710*0x1+0x5b*-0x35)?_0x40006e['filter'](_0x2ceaa2=>_0x2ceaa2['preload']===_0x46bddd['preload']):_0x40006e;}['add'](_0x108fb7){var _0x29a9eb,_0x20532f;this['_assets']['has'](_0x108fb7)||(this['_assets']['add'](_0x108fb7),this['_idToAsset']['set'](_0x108fb7['id'],_0x108fb7),(_0x29a9eb=_0x108fb7['file'])!=null&&_0x29a9eb['url']&&this['_urlToAsse'+'t']['set'](_0x108fb7['file']['url'],_0x108fb7),this['_nameToAss'+'et']['has'](_0x108fb7['name'])||this['_nameToAss'+'et']['set'](_0x108fb7['name'],new Set()),this['_nameToAss'+'et']['get'](_0x108fb7['name'])['add'](_0x108fb7),_0x108fb7['on']('name',this['_onNameCha'+'nge'],this),_0x108fb7['registry']=this,this['_tags']['addItem'](_0x108fb7),_0x108fb7['tags']['on']('add',this['_onTagAdd'],this),_0x108fb7['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x108fb7),this['fire']('add:'+_0x108fb7['id'],_0x108fb7),(_0x20532f=_0x108fb7['file'])!=null&&_0x20532f['url']&&this['fire']('add:url:'+_0x108fb7['file']['url'],_0x108fb7),_0x108fb7['preload']&&this['load'](_0x108fb7));}['remove'](_0x3d0d21){var _0x209a56,_0x259963;if(!this['_assets']['has'](_0x3d0d21))return!(-0x1bfd*0x1+-0xfb3+-0x2bb1*-0x1);if(this['_assets']['delete'](_0x3d0d21),this['_idToAsset']['delete'](_0x3d0d21['id']),(_0x209a56=_0x3d0d21['file'])!=null&&_0x209a56['url']&&this['_urlToAsse'+'t']['delete'](_0x3d0d21['file']['url']),_0x3d0d21['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x3d0d21['name'])){const _0xe71180=this['_nameToAss'+'et']['get'](_0x3d0d21['name']);_0xe71180['delete'](_0x3d0d21),_0xe71180['size']===0x246*-0x6+0x1511+-0x76d&&this['_nameToAss'+'et']['delete'](_0x3d0d21['name']);}return this['_tags']['removeItem'](_0x3d0d21),_0x3d0d21['tags']['off']('add',this['_onTagAdd'],this),_0x3d0d21['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x3d0d21['fire']('remove',_0x3d0d21),this['fire']('remove',_0x3d0d21),this['fire']('remove:'+_0x3d0d21['id'],_0x3d0d21),(_0x259963=_0x3d0d21['file'])!=null&&_0x259963['url']&&this['fire']('remove:url'+':'+_0x3d0d21['file']['url'],_0x3d0d21),!(-0xc40+0x5*-0x66d+0x2c61);}['get'](_0x3befc0){return this['_idToAsset']['get'](Number(_0x3befc0));}['getByUrl'](_0x43633a){return this['_urlToAsse'+'t']['get'](_0x43633a);}['load'](_0x5995b2,_0x31ec47){if((_0x5995b2['loading']||_0x5995b2['loaded'])&&!(_0x31ec47!=null&&_0x31ec47['force']))return;const _0x4ffaac=_0x5995b2['file'],_0x3ab0db=()=>{this['fire']('load',_0x5995b2),this['fire']('load:'+_0x5995b2['id'],_0x5995b2),_0x4ffaac&&_0x4ffaac['url']&&this['fire']('load:url:'+_0x4ffaac['url'],_0x5995b2),_0x5995b2['fire']('load',_0x5995b2);},_0xdf2c76=_0x140586=>{if(_0x140586 instanceof Array?_0x5995b2['resources']=_0x140586:_0x5995b2['resource']=_0x140586,this['_loader']['patch'](_0x5995b2,this),_0x5995b2['type']==='bundle'){const _0x2bbb36=_0x5995b2['data']['assets'];for(let _0x314ce2=-0x1*0x2043+0x2107+-0xc4;_0x314ce2<_0x2bbb36['length'];_0x314ce2++){const _0x3746a2=this['_idToAsset']['get'](_0x2bbb36[_0x314ce2]);_0x3746a2&&!_0x3746a2['loaded']&&this['load'](_0x3746a2,{'force':!(0x7*0x394+-0x3*0x41b+-0xcbb)});}_0x5995b2['resource']['loaded']?_0x3ab0db():(this['fire']('load:start',_0x5995b2),this['fire']('load:start'+':'+_0x5995b2['id'],_0x5995b2),_0x4ffaac&&_0x4ffaac['url']&&this['fire']('load:start'+':url:'+_0x4ffaac['url'],_0x5995b2),_0x5995b2['fire']('load:start',_0x5995b2),_0x5995b2['resource']['on']('load',_0x3ab0db));}else _0x3ab0db();},_0x2245cd=(_0x8165e5,_0x1becca,_0x587efb)=>{if(_0x5995b2['loaded']=!(0x832*0x4+0x1958+-0x3a20),_0x5995b2['loading']=!(0xefb*-0x1+0x4*0x5e+0xd84),_0x8165e5)this['fire']('error',_0x8165e5,_0x5995b2),this['fire']('error:'+_0x5995b2['id'],_0x8165e5,_0x5995b2),_0x5995b2['fire']('error',_0x8165e5,_0x5995b2);else{if(_0x5995b2['type']==='script'){const _0xdac4e9=this['_loader']['getHandler']('script');_0xdac4e9['_cache'][_0x5995b2['id']]&&_0xdac4e9['_cache'][_0x5995b2['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0xdac4e9['_cache'][_0x5995b2['id']]),_0xdac4e9['_cache'][_0x5995b2['id']]=_0x587efb;}_0xdf2c76(_0x1becca);}};if(_0x4ffaac||_0x5995b2['type']==='cubemap'){this['fire']('load:start',_0x5995b2),this['fire']('load:'+_0x5995b2['id']+':start',_0x5995b2),_0x5995b2['loading']=!(0xaa4+0x7c2*0x2+-0x3e*0x6c);const _0xf088bf=_0x5995b2['getFileUrl']();if(_0x5995b2['type']==='bundle'){const _0x305795=_0x5995b2['data']['assets'];for(let _0xd60f27=0x120*-0xd+0x2*0x966+0x164*-0x3;_0xd60f27<_0x305795['length'];_0xd60f27++){const _0x14235d=this['_idToAsset']['get'](_0x305795[_0xd60f27]);_0x14235d&&(_0x14235d['loaded']||_0x14235d['resource']||_0x14235d['loading']||(_0x14235d['loading']=!(-0x1ffb+-0x22c8+-0x51*-0xd3)));}}this['_loader']['load'](_0xf088bf,_0x5995b2['type'],_0x2245cd,_0x5995b2,_0x31ec47);}else{const _0x24044d=this['_loader']['open'](_0x5995b2['type'],_0x5995b2['data']);_0x5995b2['loaded']=!(0x321*-0xc+0x1c51+0x93b),_0xdf2c76(_0x24044d);}}['loadFromUr'+'l'](_0x5f0111,_0x57096f,_0x2d0a6e){this['loadFromUr'+'lAndFilena'+'me'](_0x5f0111,null,_0x57096f,_0x2d0a6e);}['loadFromUr'+'lAndFilena'+'me'](_0x2fb622,_0x28e20a,_0x38807d,_0x51bc16){const _0x5c7088=fe['getBasenam'+'e'](_0x28e20a||_0x2fb622),_0x396bf0={'filename':_0x28e20a||_0x5c7088,'url':_0x2fb622};let _0x4769e4=this['getByUrl'](_0x2fb622);if(!_0x4769e4)_0x4769e4=new le(_0x5c7088,_0x38807d,_0x396bf0),this['add'](_0x4769e4);else{if(_0x4769e4['loaded']){_0x51bc16(_0x4769e4['loadFromUr'+'lError']||null,_0x4769e4);return;}}const _0x289c1f=_0x299e83=>{_0x299e83['once']('load',_0x22249f=>{_0x38807d==='material'?this['_loadTextu'+'res'](_0x22249f,(_0x430f07,_0x2a5d9c)=>{_0x51bc16(_0x430f07,_0x22249f);}):_0x51bc16(null,_0x22249f);}),_0x299e83['once']('error',_0x18754e=>{_0x18754e&&(this['loadFromUr'+'lError']=_0x18754e),_0x51bc16(_0x18754e,_0x299e83);}),this['load'](_0x299e83);};_0x4769e4['resource']?_0x51bc16(null,_0x4769e4):_0x38807d==='model'?this['_loadModel'](_0x4769e4,_0x289c1f):_0x289c1f(_0x4769e4);}['_loadModel'](_0x53cf31,_0x44f9e3){const _0xca5624=_0x53cf31['getFileUrl'](),_0x1282db=fe['getExtensi'+'on'](_0xca5624);if(_0x1282db==='.json'||_0x1282db==='.glb'){const _0x2c3ec5=fe['getDirecto'+'ry'](_0xca5624),_0x56c57a=fe['getBasenam'+'e'](_0xca5624),_0x32125a=fe['join'](_0x2c3ec5,_0x56c57a['replace'](_0x1282db,'.mapping.j'+'son'));this['_loader']['load'](_0x32125a,'json',(_0x2f3ed7,_0x2dee23)=>{_0x2f3ed7?(_0x53cf31['data']={'mapping':[]},_0x44f9e3(_0x53cf31)):this['_loadMater'+'ials'](_0x53cf31,_0x2dee23,(_0x5465d1,_0x7d88c1)=>{_0x53cf31['data']=_0x2dee23,_0x44f9e3(_0x53cf31);});});}else _0x44f9e3(_0x53cf31);}['_loadMater'+'ials'](_0x5b0f0e,_0x30f2bf,_0x32ef37){const _0x196d2d=[];let _0x331707=0x95b+0x4e2+-0xe3d;const _0x13914d=(_0x124aef,_0x56770e)=>{this['_loadTextu'+'res'](_0x56770e,(_0x22036f,_0xdf639e)=>{_0x196d2d['push'](_0x56770e),_0x196d2d['length']===_0x331707&&_0x32ef37(null,_0x196d2d);});};for(let _0x3717f5=0x1*-0x90b+-0x1bba+-0x1*-0x24c5;_0x3717f5<_0x30f2bf['mapping']['length'];_0x3717f5++){const _0x4d063c=_0x30f2bf['mapping'][_0x3717f5]['path'];if(_0x4d063c){_0x331707++;const _0x6b096c=_0x5b0f0e['getAbsolut'+'eUrl'](_0x4d063c);this['loadFromUr'+'l'](_0x6b096c,'material',_0x13914d);}}_0x331707===0x1*-0xe41+-0x1bee+-0x1*-0x2a2f&&_0x32ef37(null,_0x196d2d);}['_loadTextu'+'res'](_0x46b576,_0x7cc0f2){const _0x3e5f69=[];let _0x276be1=-0x7e1*0x4+0x2*-0x70c+0x2d9c;const _0x35e745=_0x46b576['data'];if(_0x35e745['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x46b576['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x7cc0f2(null,_0x3e5f69);return;}const _0x513e53=(_0x34cd23,_0x98a931)=>{_0x34cd23&&console['error'](_0x34cd23),_0x3e5f69['push'](_0x98a931),_0x3e5f69['length']===_0x276be1&&_0x7cc0f2(null,_0x3e5f69);},_0x5c3b6a=Kc;for(let _0x4b2eca=0x1c5b+0x220e+0x4cd*-0xd;_0x4b2eca<_0x5c3b6a['length'];_0x4b2eca++){const _0x4362dd=_0x35e745[_0x5c3b6a[_0x4b2eca]];if(_0x4362dd&&typeof _0x4362dd=='string'){_0x276be1++;const _0x55b2d0=_0x46b576['getAbsolut'+'eUrl'](_0x4362dd);this['loadFromUr'+'l'](_0x55b2d0,'texture',_0x513e53);}}_0x276be1===-0x1655+-0x1*0x1966+0x2fbb&&_0x7cc0f2(null,_0x3e5f69);}['_onTagAdd'](_0x1aacaf,_0x543253){this['_tags']['add'](_0x1aacaf,_0x543253);}['_onTagRemo'+'ve'](_0x3febdd,_0x23e980){this['_tags']['remove'](_0x3febdd,_0x23e980);}['_onNameCha'+'nge'](_0x2bdc81,_0x7697fc,_0x79a2e7){if(this['_nameToAss'+'et']['has'](_0x79a2e7)){const _0x3de94d=this['_nameToAss'+'et']['get'](_0x79a2e7);_0x3de94d['delete'](_0x2bdc81),_0x3de94d['size']===0x2c6+-0x4eb*-0x1+-0x7b1*0x1&&this['_nameToAss'+'et']['delete'](_0x79a2e7);}this['_nameToAss'+'et']['has'](_0x2bdc81['name'])||this['_nameToAss'+'et']['set'](_0x2bdc81['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2bdc81['name'])['add'](_0x2bdc81);}['findByTag'](..._0x1b0246){return this['_tags']['find'](_0x1b0246);}['filter'](_0x1a8113){return Array['from'](this['_assets'])['filter'](_0x3fa6b8=>_0x1a8113(_0x3fa6b8));}['find'](_0x1c8966,_0x224f69){const _0x2b53d6=this['_nameToAss'+'et']['get'](_0x1c8966);if(!_0x2b53d6)return null;for(const _0x31c589 of _0x2b53d6)if(!_0x224f69||_0x31c589['type']===_0x224f69)return _0x31c589;return null;}['findAll'](_0x5c3962,_0xfad86d){const _0x21afad=this['_nameToAss'+'et']['get'](_0x5c3962);if(!_0x21afad)return[];const _0x51e428=Array['from'](_0x21afad);return _0xfad86d?_0x51e428['filter'](_0x4c4f24=>_0x4c4f24['type']===_0xfad86d):_0x51e428;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x4b4a01){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x4b4a01,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0xfc8366){if(_0xfc8366['type']==='bundle'){this['_idToBundl'+'e']['set'](_0xfc8366['id'],_0xfc8366),this['_assets']['on']('load:start'+':'+_0xfc8366['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0xfc8366['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0xfc8366['id'],this['_onBundleE'+'rror'],this);const _0x3ba231=_0xfc8366['data']['assets'];for(let _0x5dc284=0x214+-0x1*0x95b+-0x3*-0x26d;_0x5dc284<_0x3ba231['length'];_0x5dc284++)this['_indexAsse'+'tInBundle'](_0x3ba231[_0x5dc284],_0xfc8366);}else this['_assetToBu'+'ndles']['has'](_0xfc8366['id'])&&this['_indexAsse'+'tFileUrls'](_0xfc8366);}['_unbindAss'+'etEvents'](_0x26cc9e){this['_assets']['off']('load:start'+':'+_0x26cc9e,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x26cc9e,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x26cc9e,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x53b0a6,_0x2eb425){let _0x53cc0b=this['_assetToBu'+'ndles']['get'](_0x53b0a6);_0x53cc0b||(_0x53cc0b=new Set(),this['_assetToBu'+'ndles']['set'](_0x53b0a6,_0x53cc0b)),_0x53cc0b['add'](_0x2eb425);const _0x58a28b=this['_assets']['get'](_0x53b0a6);_0x58a28b&&this['_indexAsse'+'tFileUrls'](_0x58a28b);}['_indexAsse'+'tFileUrls'](_0x446ab9){const _0x41867a=this['_getAssetF'+'ileUrls'](_0x446ab9);if(_0x41867a)for(let _0x35904e=-0x429+-0x1cbd+0x20e6;_0x35904e<_0x41867a['length'];_0x35904e++){const _0x1907d8=this['_assetToBu'+'ndles']['get'](_0x446ab9['id']);_0x1907d8&&this['_urlsToBun'+'dles']['set'](_0x41867a[_0x35904e],_0x1907d8);}}['_getAssetF'+'ileUrls'](_0x4aec45){let _0x2c3ce3=_0x4aec45['getFileUrl']();if(!_0x2c3ce3)return null;_0x2c3ce3=_0x2c3ce3['split']('?')[-0x1*0xf06+-0x1190+0x2096];const _0x4408ae=[_0x2c3ce3];if(_0x4aec45['type']==='font'){const _0x2e80f1=_0x4aec45['data']['info']['maps']['length'];for(let _0x233668=-0x1077+0x1b59*-0x1+0x2bd1;_0x233668<_0x2e80f1;_0x233668++)_0x4408ae['push'](_0x2c3ce3['replace']('.png',_0x233668+'.png'));}return _0x4408ae;}['_onAssetRe'+'move'](_0xe85610){if(_0xe85610['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0xe85610['id']),this['_unbindAss'+'etEvents'](_0xe85610['id']);const _0x5df4fb=_0xe85610['data']['assets'];for(let _0x10a5a6=0x1258+0xbf*-0x2f+0x10b9;_0x10a5a6<_0x5df4fb['length'];_0x10a5a6++){const _0x52a74d=this['_assetToBu'+'ndles']['get'](_0x5df4fb[_0x10a5a6]);if(_0x52a74d&&(_0x52a74d['delete'](_0xe85610),_0x52a74d['size']===0x251b+0x16*0xe3+-0x389d)){this['_assetToBu'+'ndles']['delete'](_0x5df4fb[_0x10a5a6]);for(const [_0x5151a1,_0x1216c1]of this['_urlsToBun'+'dles'])_0x1216c1===_0x52a74d&&this['_urlsToBun'+'dles']['delete'](_0x5151a1);}}this['_onBundleE'+'rror']('Bundle\x20'+_0xe85610['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0xe85610['id']))return;this['_assetToBu'+'ndles']['delete'](_0xe85610['id']);const _0x129caf=this['_getAssetF'+'ileUrls'](_0xe85610);if(!_0x129caf)return;for(let _0x4aabf8=0x174e+-0x2118+0x9ca*0x1;_0x4aabf8<_0x129caf['length'];_0x4aabf8++)this['_urlsToBun'+'dles']['delete'](_0x129caf[_0x4aabf8]);}}['_onBundleL'+'oadStart'](_0x408317){_0x408317['resource']['on']('add',(_0x41fcc9,_0x8f55e3)=>{const _0x111421=this['_fileReque'+'sts']['get'](_0x41fcc9);if(_0x111421){for(let _0x15e54a=-0x13ca+0x11cd+0x1fd*0x1;_0x15e54a<_0x111421['length'];_0x15e54a++)_0x111421[_0x15e54a](null,_0x8f55e3);this['_fileReque'+'sts']['delete'](_0x41fcc9);}});}['_onBundleL'+'oad'](_0x28a0a4){if(!_0x28a0a4['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x28a0a4['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x10bce1,_0x223e4e]of this['_fileReque'+'sts']){const _0x2a63b1=this['_urlsToBun'+'dles']['get'](_0x10bce1);if(!_0x2a63b1||!_0x2a63b1['has'](_0x28a0a4))continue;const _0x55659b=decodeURIComponent(_0x10bce1);let _0x1ca46e,_0x52849a;if(_0x28a0a4['resource']['has'](_0x55659b))_0x52849a=_0x28a0a4['resource']['get'](_0x55659b);else{if(_0x28a0a4['resource']['loaded'])_0x1ca46e='Bundle\x20'+_0x28a0a4['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x10bce1;else continue;}for(let _0x2eb335=-0x17dd+0x2698+-0xebb;_0x2eb335<_0x223e4e['length'];_0x2eb335++)_0x223e4e[_0x2eb335](_0x1ca46e,_0x1ca46e||_0x52849a);this['_fileReque'+'sts']['delete'](_0x10bce1);}}['_onBundleE'+'rror'](_0x42ea57){for(const [_0x289558,_0x3aa163]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x289558)){for(let _0x46cff4=0x199c+0x199e+-0x333a;_0x46cff4<_0x3aa163['length'];_0x46cff4++)_0x3aa163[_0x46cff4](_0x42ea57);this['_fileReque'+'sts']['delete'](_0x289558);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4e6e8e){const _0x443f9f=this['_urlsToBun'+'dles']['get'](_0x4e6e8e);if(!_0x443f9f)return null;let _0x3969c2=null;for(const _0x1914f8 of _0x443f9f){if(_0x1914f8['loaded']&&_0x1914f8['resource'])return _0x1914f8;_0x1914f8['loading']&&(_0x3969c2=_0x1914f8);}return _0x3969c2;}['listBundle'+'sForAsset'](_0x34cc49){const _0x1c8938=this['_assetToBu'+'ndles']['get'](_0x34cc49['id']);return _0x1c8938?Array['from'](_0x1c8938):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x5c2d31){return this['_urlsToBun'+'dles']['has'](_0x5c2d31);}['urlIsLoade'+'dOrLoading'](_0x180920){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x180920);}['loadUrl'](_0x4caa94,_0x19d60f){const _0x1c0769=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4caa94);if(!_0x1c0769){_0x19d60f('URL\x20'+_0x4caa94+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x1c0769['loaded']){const _0x408e90=decodeURIComponent(_0x4caa94);if(_0x1c0769['resource']['has'](_0x408e90)){_0x19d60f(null,_0x1c0769['resource']['get'](_0x408e90));return;}else{if(_0x1c0769['resource']['loaded']){_0x19d60f('Bundle\x20'+_0x1c0769['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x4caa94);return;}}}let _0x4d65f8=this['_fileReque'+'sts']['get'](_0x4caa94);_0x4d65f8||(_0x4d65f8=[],this['_fileReque'+'sts']['set'](_0x4caa94,_0x4d65f8)),_0x4d65f8['push'](_0x19d60f);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x2a5275 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x2a5275);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x4c3309){const _0x678699=_0x4c3309['id'];if(this[_0x678699])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x678699+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x678699]=_0x4c3309,this['list']['push'](_0x4c3309);}['remove'](_0x8676fc){const _0x4fa51e=_0x8676fc['id'];if(!this[_0x4fa51e])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x4fa51e+('\x27\x20register'+'ed'));delete this[_0x4fa51e];const _0x3a0888=this['list']['indexOf'](this[_0x4fa51e]);_0x3a0888!==-(0x7c7*-0x3+-0xe*-0x21e+-0x64e)&&this['list']['splice'](_0x3a0888,-0x685*0x1+0x1ac4+-0x143e);}['destroy'](){this['off']();for(let _0x95a599=-0x1447+-0x43d+0x4*0x621;_0x95a599<this['list']['length'];_0x95a599++)this['list'][_0x95a599]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x395*0x7+0x2*0x20b+-0x1*-0x14fe));}['addFile'](_0x1f29f0,_0x38815f){this['_index']['has'](_0x1f29f0)||(this['_index']['set'](_0x1f29f0,_0x38815f),this['fire']('add',_0x1f29f0,_0x38815f));}['has'](_0x48a9ee){return this['_index']['has'](_0x48a9ee);}['get'](_0x435968){return this['_index']['get'](_0x435968)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x47c9e8){!_0x47c9e8||this['_loaded']||(this['_loaded']=!(-0x2*-0x40f+-0xea8+0x68a),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x31cfab,_0xf34d18=''){super(),c(this,'headerSize',0x1*-0x1105+0x1af7+-0x7f2),c(this,'paddingSiz'+'e',0x4d9+-0x5f*-0x64+0xc1*-0x35),c(this,'bytesRead',-0x529+-0xa33+0xf5c*0x1),c(this,'bytesRecei'+'ved',-0x3*0x3a9+-0x22a0+0x2d9b),c(this,'headerRead',!(-0xe14+-0x1*-0x18d+0xc88)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x13*0x86+-0x1*0x1d39+0x272b)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',-0x12b*0xe+0xd98+-0x1*-0x2c2),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0xf34d18||'',this['reader']=_0x31cfab['body']['getReader'](),this['reader']['read']()['then'](_0x87bc99=>{this['pump'](_0x87bc99['done'],_0x87bc99['value']);})['catch'](_0x92d118=>{this['fire']('error',_0x92d118);}));}['pump'](_0x1f8f31,_0x420bc5){if(_0x1f8f31)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x420bc5['byteLength'];const _0x5f2ba1=new Uint8Array(this['data']['length']+_0x420bc5['length']);for(_0x5f2ba1['set'](this['data']),_0x5f2ba1['set'](_0x420bc5,this['data']['length']),this['data']=_0x5f2ba1;this['readFile'](););return this['reader']['read']()['then'](_0x249ff4=>{this['pump'](_0x249ff4['done'],_0x249ff4['value']);})['catch'](_0x59ba6a=>{this['fire']('error',_0x59ba6a);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x1eae+-0x47*-0x29+-0x2a0d);const _0x477598=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x40d248=this['decoder']['decode'](_0x477598);if(this['fileName']=_0x40d248['substring'](-0x1ad1+0x2e9*0x1+-0x2*-0xbf4,0x3*-0x8ec+-0x4*0x614+0x3378)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x40d248['substring'](0x17fa+-0x12a7*0x1+-0x19d*0x3,-0x89e+-0x2*-0xeb3+0x6c*-0x30),-0x1ce3+0x3*-0x9af+0xe*0x424),this['fileType']=_0x40d248['substring'](-0x2b*-0xdf+0x1321+-0x37fa,0x1061+-0x1471+0x4ad),this['ustarForma'+'t']=_0x40d248['substring'](-0x7*0x47f+0x54c*-0x3+0x305e,-0x20de*0x1+0x2702+-0x1*0x51d),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x327+-0x3ac+0x86*0x1)){const _0xcf41f6=_0x40d248['substring'](-0x9b2+-0x1f69+0x2a74,0x1*-0x269+-0x623*0x2+0x1*0x10a3)['replace'](/\0/g,'');_0xcf41f6['length']>-0x15*0x7+-0x3*0x592+0x1149&&(this['fileName']=_0xcf41f6['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x118d+0x189d*-0x1+0x910;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x166*-0x14+-0xb4b+0x2744);if(this['fileType']===''||this['fileType']==='0'){const _0x341a8a=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x477d93={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x341a8a};this['fire']('file',_0x477d93);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x9b6+-0x6*0x1b1+-0x1*-0x71);const _0xf2116c=this['bytesRead']%this['paddingSiz'+'e'];return _0xf2116c!==-0x1a49+0x79f*0x4+-0x433&&(this['bytesRead']+=this['paddingSiz'+'e']-_0xf2116c),!(0x1d7+-0x17ba*-0x1+-0xb*0x253);}return!(-0x8a0+-0x10cb+0x196c);}}class Ne{constructor(_0x515167,_0x532623){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0x5d9*0x1+-0x40*0x20+0xdd9),(this['_app']=_0x515167,this['handlerTyp'+'e']=_0x532623);}set['maxRetries'](_0x361384){this['_maxRetrie'+'s']=_0x361384;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x5836ab,_0x55557e,_0x103bd9){}['open'](_0x553f93,_0x50a5b1,_0x4bd3da){return _0x50a5b1;}['patch'](_0x3c94c3,_0x594941){}}class rP extends Ne{constructor(_0x44a4d1){super(_0x44a4d1,'bundle'),this['_assets']=_0x44a4d1['assets'];}['_fetchRetr'+'ies'](_0x16ec4c,_0x330137,_0x24cbea=0x8*0x2a6+-0x1*0xb1d+-0xa13){return new Promise((_0x1e9152,_0x53f232)=>{const _0x32f187=()=>{fetch(_0x16ec4c,_0x330137)['then'](_0x1e9152)['catch'](_0x31cd7f=>{_0x24cbea++,_0x24cbea<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x24cbea),_0x32f187()):_0x53f232(_0x31cd7f);});};_0x32f187();});}['load'](_0x4f9777,_0x30b441){typeof _0x4f9777=='string'&&(_0x4f9777={'load':_0x4f9777,'original':_0x4f9777}),this['_fetchRetr'+'ies'](_0x4f9777['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x2fb4f6=>{const _0x36247b=new Xu();_0x30b441(null,_0x36247b);const _0x4387bf=new iP(_0x2fb4f6,this['_assets']['prefix']);_0x4387bf['on']('file',_0x57bcc6=>{_0x36247b['addFile'](_0x57bcc6['name'],_0x57bcc6['data']);}),_0x4387bf['on']('done',()=>{_0x36247b['loaded']=!(0x1c52+-0x3d9*-0x1+-0x202b);}),_0x4387bf['on']('error',_0x3fd741=>{v['error'](_0x3fd741),_0x30b441(_0x3fd741);});})['catch'](_0x35fb57=>{v['error'](_0x35fb57),_0x30b441(_0x35fb57);});}['open'](_0x8f07e8,_0x249815){return _0x249815;}}class pa{constructor(_0x530a89){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x530a89;}['addHandler'](_0x56f50d,_0xd1680b){this['_handlers'][_0x56f50d]=_0xd1680b,_0xd1680b['_loader']=this;}['removeHand'+'ler'](_0x5313a3){delete this['_handlers'][_0x5313a3];}['getHandler'](_0x51c097){return this['_handlers'][_0x51c097];}static['makeKey'](_0x6167d4,_0x1a51fd){return _0x6167d4+'-'+_0x1a51fd;}['load'](_0x58ea7a,_0x50d2bb,_0x13f433,_0x572f58,_0x1a3077){var _0x5397d4;const _0x4ce743=this['_handlers'][_0x50d2bb];if(!_0x4ce743){const _0x591301='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x50d2bb+('\x27\x20when\x20loa'+'ding\x20[')+_0x58ea7a+']';v['errorOnce'](_0x591301),_0x13f433(_0x591301);return;}if(!_0x58ea7a){this['_loadNull'](_0x4ce743,_0x13f433,_0x572f58);return;}const _0x4c11c1=pa['makeKey'](_0x58ea7a,_0x50d2bb);if(this['_cache'][_0x4c11c1]!==void(-0x1219+0x25e5+-0x13cc))_0x13f433(null,this['_cache'][_0x4c11c1]);else{if(this['_requests'][_0x4c11c1])this['_requests'][_0x4c11c1]['push'](_0x13f433);else{this['_requests'][_0x4c11c1]=[_0x13f433];const _0x296208=this,_0x2f339b=function(_0x1988d1,_0x259947){if(_0x1988d1){_0x296208['_onFailure'](_0x4c11c1,_0x1988d1);return;}if(_0x259947['load']instanceof DataView){if(_0x4ce743['openBinary']){if(!_0x296208['_requests'][_0x4c11c1])return;try{const _0x32774b=_0x4ce743['openBinary'](_0x259947['load']);_0x296208['_onSuccess'](_0x4c11c1,_0x32774b);}catch(_0x24c98e){_0x296208['_onFailure'](_0x4c11c1,_0x24c98e);}return;}_0x259947['load']=URL['createObje'+'ctURL'](new Blob([_0x259947['load']])),_0x572f58&&(_0x572f58['urlObject']&&URL['revokeObje'+'ctURL'](_0x572f58['urlObject']),_0x572f58['urlObject']=_0x259947['load']);}_0x4ce743['load'](_0x259947,(_0x421253,_0x5acfba,_0xd5ce11)=>{if(_0x296208['_requests'][_0x4c11c1]){if(_0x421253){_0x296208['_onFailure'](_0x4c11c1,_0x421253);return;}try{_0x296208['_onSuccess'](_0x4c11c1,_0x4ce743['open'](_0x259947['original'],_0x5acfba,_0x572f58),_0xd5ce11);}catch(_0x44a1be){_0x296208['_onFailure'](_0x4c11c1,_0x44a1be);}}},_0x572f58);},_0x438ba9=_0x58ea7a['split']('?')[0xd01+0x22+-0x3*0x461];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x438ba9)&&!(_0x1a3077&&_0x1a3077['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x438ba9)){const _0x4cd21b=this['_app']['bundles']['listBundle'+'sForAsset'](_0x572f58);let _0x5d338c;_0x1a3077&&_0x1a3077['bundlesFil'+'ter']&&(_0x5d338c=_0x1a3077['bundlesFil'+'ter'](_0x4cd21b)),_0x5d338c||(_0x4cd21b==null||_0x4cd21b['sort']((_0x30e418,_0x143406)=>_0x30e418['file']['size']-_0x143406['file']['size']),_0x5d338c=_0x4cd21b==null?void(-0xd11+-0x3d5+0x10e6):_0x4cd21b[0x3a8*-0x6+0x902+-0x1*-0xcee]),_0x5d338c&&((_0x5397d4=this['_app']['assets'])==null||_0x5397d4['load'](_0x5d338c));}this['_app']['bundles']['loadUrl'](_0x438ba9,(_0x5dd2fb,_0x1ea1c4)=>{_0x2f339b(_0x5dd2fb,{'load':_0x1ea1c4,'original':_0x438ba9});});}else _0x2f339b(null,{'load':_0x58ea7a,'original':_0x572f58&&_0x572f58['file']['filename']||_0x58ea7a});}}}['_loadNull'](_0x2a5333,_0x90b3a2,_0x1113b5){const _0x4e5590=function(_0x363dad,_0x7a6df6,_0x4b96f8){if(_0x363dad)_0x90b3a2(_0x363dad);else try{_0x90b3a2(null,_0x2a5333['open'](null,_0x7a6df6,_0x1113b5),_0x4b96f8);}catch(_0x5efc7a){_0x90b3a2(_0x5efc7a);}};_0x2a5333['load'](null,_0x4e5590,_0x1113b5);}['_onSuccess'](_0x1a82ca,_0x5dca06,_0x471891){_0x5dca06!==null?this['_cache'][_0x1a82ca]=_0x5dca06:delete this['_cache'][_0x1a82ca];for(let _0x3ef42d=-0x1*-0x1669+0x2173+-0x6e*0x82;_0x3ef42d<this['_requests'][_0x1a82ca]['length'];_0x3ef42d++)this['_requests'][_0x1a82ca][_0x3ef42d](null,_0x5dca06,_0x471891);delete this['_requests'][_0x1a82ca];}['_onFailure'](_0x24ebfd,_0x280d4a){if(console['error'](_0x280d4a),this['_requests'][_0x24ebfd]){for(let _0x492218=-0xbf0+-0x1*-0x25f6+0x1a06*-0x1;_0x492218<this['_requests'][_0x24ebfd]['length'];_0x492218++)this['_requests'][_0x24ebfd][_0x492218](_0x280d4a);delete this['_requests'][_0x24ebfd];}}['open'](_0x4141ab,_0x357a97){const _0x4c7b15=this['_handlers'][_0x4141ab];return _0x4c7b15?_0x4c7b15['open'](null,_0x357a97):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x4141ab),_0x357a97);}['patch'](_0x503439,_0x147060){const _0x26fa2e=this['_handlers'][_0x503439['type']];if(!_0x26fa2e){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x503439['type']);return;}_0x26fa2e['patch']&&_0x26fa2e['patch'](_0x503439,_0x147060);}['clearCache'](_0xa08ae6,_0xf63293){const _0x230148=pa['makeKey'](_0xa08ae6,_0xf63293);delete this['_cache'][_0x230148];}['getFromCac'+'he'](_0x39ef78,_0x5ed250){const _0x16861d=pa['makeKey'](_0x39ef78,_0x5ed250);if(this['_cache'][_0x16861d])return this['_cache'][_0x16861d];}['enableRetr'+'y'](_0x19625a=0x1a62*-0x1+0x5*0x71+0x1832){_0x19625a=Math['max'](0x128b*-0x1+0x758+-0xb33*-0x1,_0x19625a)||0x4c2+-0x55*0x1a+0x3e0;for(const _0x23cb43 in this['_handlers'])this['_handlers'][_0x23cb43]['maxRetries']=_0x19625a;}['disableRet'+'ry'](){for(const _0xd416b0 in this['_handlers'])this['_handlers'][_0xd416b0]['maxRetries']=-0x12c*-0x10+-0x1ef6+0x61b*0x2;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x4db1c6){if(!_0x4db1c6['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x4db1c6['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x4db1c6['header']['version']!==0x928+0x443+-0xd6a)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x4db1c6['data']){if(!Array['isArray'](_0x4db1c6['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x3ddb76=-0x22c1+0x173+0x214e,_0x29b152=_0x4db1c6['data']['length'];_0x3ddb76<_0x29b152;_0x3ddb76++){const _0x184aef=_0x4db1c6['data'][_0x3ddb76];if(!_0x184aef['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3ddb76+('].info\x22\x20fi'+'eld'));if(!_0x184aef['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3ddb76+('].info.loc'+'ale\x22\x20field'));if(typeof _0x184aef['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x3ddb76+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x184aef['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3ddb76+('].messages'+'\x22\x20field'));}}['parse'](_0x2ee529){return this['_validate'](_0x2ee529),_0x2ee529['data'];}}class aP extends ce{constructor(_0x480c0a){super(),this['locale']=$h,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x480c0a,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x273be0){const _0x574034={};for(let _0x138999=0x1b92+0x1269*0x1+0x1*-0x2dfb,_0x2ba1ce=_0x273be0['length'];_0x138999<_0x2ba1ce;_0x138999++){const _0x295265=_0x273be0[_0x138999]instanceof le?_0x273be0[_0x138999]['id']:_0x273be0[_0x138999];_0x574034[_0x295265]=!(-0x955*0x3+0x10*-0x22b+0x3eaf);}let _0x1f70a7=this['_assets']['length'];for(;_0x1f70a7--;){const _0x1e4f95=this['_assets'][_0x1f70a7];if(!_0x574034[_0x1e4f95]){this['_app']['assets']['off']('add:'+_0x1e4f95,this['_onAssetAd'+'d'],this);const _0x1a38d2=this['_app']['assets']['get'](_0x1e4f95);_0x1a38d2&&this['_onAssetRe'+'move'](_0x1a38d2),this['_assets']['splice'](_0x1f70a7,-0x13ea+-0x1f8e+-0x3379*-0x1);}}for(const _0x45fc68 in _0x574034){const _0x11ba47=parseInt(_0x45fc68,-0x1483+0x3*0x1f1+0x75d*0x2);if(this['_assets']['indexOf'](_0x11ba47)!==-(-0xf*-0x21d+0x9cd*-0x1+-0x15e5))continue;this['_assets']['push'](_0x11ba47);const _0x556847=this['_app']['assets']['get'](_0x11ba47);_0x556847?this['_onAssetAd'+'d'](_0x556847):this['_app']['assets']['once']('add:'+_0x11ba47,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x55fde7){if(this['_locale']===_0x55fde7)return;let _0x2f34f6=pi(_0x55fde7);if(_0x2f34f6==='in'&&(_0x2f34f6='id',_0x55fde7=Y1(_0x55fde7,_0x2f34f6),this['_locale']===_0x55fde7))return;const _0x1c103=this['_locale'];this['_locale']=_0x55fde7,this['_lang']=_0x2f34f6,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x55fde7,_0x1c103);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x1390ea,_0x4a3eff){return V0(_0x1390ea,_0x4a3eff);}['findAvaila'+'bleLocale'](_0x1de74d){if(this['_translati'+'ons'][_0x1de74d])return _0x1de74d;const _0x57173a=pi(_0x1de74d);return this['_findFallb'+'ackLocale'](_0x1de74d,_0x57173a);}['getText'](_0xed682e,_0x33220e){let _0x4af59e=_0xed682e,_0xa8597c;_0x33220e||(_0x33220e=this['_locale'],_0xa8597c=this['_lang']);let _0x302737=this['_translati'+'ons'][_0x33220e];return _0x302737||(_0xa8597c||(_0xa8597c=pi(_0x33220e)),_0x33220e=this['_findFallb'+'ackLocale'](_0x33220e,_0xa8597c),_0x302737=this['_translati'+'ons'][_0x33220e]),_0x302737&&_0x302737['hasOwnProp'+'erty'](_0xed682e)&&(_0x4af59e=_0x302737[_0xed682e],Array['isArray'](_0x4af59e)&&(_0x4af59e=_0x4af59e[-0x181d+-0x5e+0x187b]),_0x4af59e==null&&(_0x4af59e=_0xed682e)),_0x4af59e;}['getPluralT'+'ext'](_0x47147f,_0x51b306,_0x37f892){let _0x30fe53=_0x47147f,_0x21e93b,_0x50c9a1;_0x37f892?(_0x21e93b=pi(_0x37f892),_0x50c9a1=Xd(_0x21e93b)):(_0x37f892=this['_locale'],_0x21e93b=this['_lang'],_0x50c9a1=this['_pluralFn']);let _0x4b4f49=this['_translati'+'ons'][_0x37f892];if(_0x4b4f49||(_0x37f892=this['_findFallb'+'ackLocale'](_0x37f892,_0x21e93b),_0x21e93b=pi(_0x37f892),_0x50c9a1=Xd(_0x21e93b),_0x4b4f49=this['_translati'+'ons'][_0x37f892]),_0x4b4f49&&_0x4b4f49[_0x47147f]&&_0x50c9a1){const _0x16f328=_0x50c9a1(_0x51b306);_0x30fe53=_0x4b4f49[_0x47147f][_0x16f328],_0x30fe53==null&&(_0x30fe53=_0x47147f);}return _0x30fe53;}['addData'](_0x3ca140){let _0x316581;try{_0x316581=this['_parser']['parse'](_0x3ca140);}catch(_0x472586){console['error'](_0x472586);return;}for(let _0x52f4d8=-0x2056+0x2*-0x37a+-0x2f*-0xd6,_0x29300f=_0x316581['length'];_0x52f4d8<_0x29300f;_0x52f4d8++){const _0x3c140b=_0x316581[_0x52f4d8],_0xcbddc2=_0x3c140b['info']['locale'],_0x16b9d0=_0x3c140b['messages'];if(!this['_translati'+'ons'][_0xcbddc2]){this['_translati'+'ons'][_0xcbddc2]={};const _0x349d98=pi(_0xcbddc2);this['_available'+'Langs'][_0x349d98]||(this['_available'+'Langs'][_0x349d98]=_0xcbddc2);}Object['assign'](this['_translati'+'ons'][_0xcbddc2],_0x16b9d0),this['fire']('data:add',_0xcbddc2,_0x16b9d0);}}['removeData'](_0x12e058){let _0x4c4f81;try{_0x4c4f81=this['_parser']['parse'](_0x12e058);}catch(_0x20e0f5){console['error'](_0x20e0f5);return;}for(let _0x40d5c7=0x3*0x7ac+-0xc*0x272+0x2d*0x24,_0x2d8de6=_0x4c4f81['length'];_0x40d5c7<_0x2d8de6;_0x40d5c7++){const _0x26fd0d=_0x4c4f81[_0x40d5c7],_0x21fa29=_0x26fd0d['info']['locale'],_0x1f4754=this['_translati'+'ons'][_0x21fa29];if(!_0x1f4754)continue;const _0x4d2279=_0x26fd0d['messages'];for(const _0x1f1c0b in _0x4d2279)delete _0x1f4754[_0x1f1c0b];Object['keys'](_0x1f4754)['length']===-0x1*0x2159+0x11*0x7f+0x18ea&&(delete this['_translati'+'ons'][_0x21fa29],delete this['_available'+'Langs'][pi(_0x21fa29)]),this['fire']('data:remov'+'e',_0x21fa29,_0x4d2279);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x430601,_0x4bcf30){let _0x9483a3=Wh[_0x430601];return _0x9483a3&&this['_translati'+'ons'][_0x9483a3]||(_0x9483a3=Wh[_0x4bcf30],_0x9483a3&&this['_translati'+'ons'][_0x9483a3])||(_0x9483a3=this['_available'+'Langs'][_0x4bcf30],_0x9483a3&&this['_translati'+'ons'][_0x9483a3])?_0x9483a3:$h;}['_onAssetAd'+'d'](_0x5ecfdb){_0x5ecfdb['on']('load',this['_onAssetLo'+'ad'],this),_0x5ecfdb['on']('change',this['_onAssetCh'+'ange'],this),_0x5ecfdb['on']('remove',this['_onAssetRe'+'move'],this),_0x5ecfdb['on']('unload',this['_onAssetUn'+'load'],this),_0x5ecfdb['resource']&&this['_onAssetLo'+'ad'](_0x5ecfdb);}['_onAssetLo'+'ad'](_0x2ae00c){this['addData'](_0x2ae00c['resource']);}['_onAssetCh'+'ange'](_0x1ccf97){_0x1ccf97['resource']&&this['addData'](_0x1ccf97['resource']);}['_onAssetRe'+'move'](_0x11bdf3){_0x11bdf3['off']('load',this['_onAssetLo'+'ad'],this),_0x11bdf3['off']('change',this['_onAssetCh'+'ange'],this),_0x11bdf3['off']('remove',this['_onAssetRe'+'move'],this),_0x11bdf3['off']('unload',this['_onAssetUn'+'load'],this),_0x11bdf3['resource']&&this['removeData'](_0x11bdf3['resource']),this['_app']['assets']['once']('add:'+_0x11bdf3['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0xfd7ec8){_0xfd7ec8['resource']&&this['removeData'](_0xfd7ec8['resource']);}}class oP extends ce{constructor(_0x151f2c){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x151f2c;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x165b75,_0x327c9e){_0x327c9e&&this['_scriptSch'+'emas']['set'](_0x165b75,_0x327c9e);}['getSchema'](_0x517757){return this['_scriptSch'+'emas']['get'](_0x517757);}['add'](_0x5efeee){const _0xa431e7=_0x5efeee['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0xa431e7)?(setTimeout(()=>{if(_0x5efeee['prototype']['swap']){const _0x5c58bd=this['_scripts'][_0xa431e7],_0x4ccdda=this['_list']['indexOf'](_0x5c58bd);this['_list'][_0x4ccdda]=_0x5efeee,this['_scripts'][_0xa431e7]=_0x5efeee,this['fire']('swap',_0xa431e7,_0x5efeee),this['fire']('swap:'+_0xa431e7,_0x5efeee);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0xa431e7+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x193b+-0x64d*0x5+0x38bd)):(this['_scripts'][_0xa431e7]=_0x5efeee,this['_list']['push'](_0x5efeee),this['fire']('add',_0xa431e7,_0x5efeee),this['fire']('add:'+_0xa431e7,_0x5efeee),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0xa431e7)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x1b1deb=this['app']['systems']['script']['_component'+'s'];let _0x583e11;const _0xcbdf5=[],_0x489029=[];for(_0x1b1deb['loopIndex']=-0x5c2+-0x4f9*-0x3+-0x929;_0x1b1deb['loopIndex']<_0x1b1deb['length'];_0x1b1deb['loopIndex']++){const _0x257601=_0x1b1deb['items'][_0x1b1deb['loopIndex']];if(_0x257601['_scriptsIn'+'dex'][_0xa431e7]&&_0x257601['_scriptsIn'+'dex'][_0xa431e7]['awaiting']){_0x257601['_scriptsDa'+'ta']&&_0x257601['_scriptsDa'+'ta'][_0xa431e7]&&(_0x583e11=_0x257601['_scriptsDa'+'ta'][_0xa431e7]['attributes']);const _0x24b9c0=_0x257601['create'](_0xa431e7,{'preloading':!(0x2*0x111+-0xc*-0x27a+0x2*-0xfed),'ind':_0x257601['_scriptsIn'+'dex'][_0xa431e7]['ind'],'attributes':_0x583e11});_0x24b9c0&&_0xcbdf5['push'](_0x24b9c0);for(const _0x25aaf8 of _0x257601['scripts'])_0x257601['initialize'+'Attributes'](_0x25aaf8);}}for(let _0x1cf758=0x134+0x1b2f*0x1+-0x1c63;_0x1cf758<_0xcbdf5['length'];_0x1cf758++)_0xcbdf5[_0x1cf758]['enabled']&&(_0xcbdf5[_0x1cf758]['_initializ'+'ed']=!(0x616*-0x6+0x1*0x1424+-0x10*-0x106),_0x489029['push'](_0xcbdf5[_0x1cf758]),_0xcbdf5[_0x1cf758]['initialize']&&_0xcbdf5[_0x1cf758]['initialize']());for(let _0x32ef07=-0x1c87*-0x1+-0x114e+0xa9*-0x11;_0x32ef07<_0x489029['length'];_0x32ef07++)!_0x489029[_0x32ef07]['enabled']||_0x489029[_0x32ef07]['_postIniti'+'alized']||(_0x489029[_0x32ef07]['_postIniti'+'alized']=!(0xb2b+0x1*-0x26b+-0x8c0),_0x489029[_0x32ef07]['postInitia'+'lize']&&_0x489029[_0x32ef07]['postInitia'+'lize']());}),!(-0x1c9a+0x260c+0x4b9*-0x2));}['remove'](_0x285d79){let _0x594e31=_0x285d79,_0x29466b=_0x285d79;if(typeof _0x29466b!='string'?_0x29466b=_0x594e31['__name']:_0x594e31=this['get'](_0x29466b),this['get'](_0x29466b)!==_0x594e31)return!(0x97c*0x2+0x29+0x20*-0x99);delete this['_scripts'][_0x29466b];const _0x4f0f1b=this['_list']['indexOf'](_0x594e31);return this['_list']['splice'](_0x4f0f1b,0x26f8+0xb*0x147+-0x3504),this['fire']('remove',_0x29466b,_0x594e31),this['fire']('remove:'+_0x29466b,_0x594e31),!(-0x471*0x1+-0x9cc+-0x1*-0xe3d);}['get'](_0x17b865){return this['_scripts'][_0x17b865]||null;}['has'](_0x54f180){if(typeof _0x54f180=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x54f180);if(!_0x54f180)return!(0x2*0x127d+-0xcb3+-0xef*0x1a);const _0x279fb8=_0x54f180['__name'];return this['_scripts'][_0x279fb8]===_0x54f180;}['list'](){return this['_list'];}}const lP=(_0x41bfe6,_0x2dd854)=>_0x41bfe6['constructo'+'r']['order']-_0x2dd854['constructo'+'r']['order'],hP=_0x3bc366=>_0x3bc366['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],W_=_0x5070c5=>{_0x5070c5['length']=0x11b*0x13+-0x8*-0x296+-0x29b1,G0['push'](_0x5070c5);},ac=class ac extends De{constructor(_0x477db6,_0x5e32b2=tn()){super(_0x477db6),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0x7*0x2c3+-0xb02+-0x852)),c(this,'_guid',null),c(this,'_template',!(-0x22*-0x9b+0x1*0x133a+-0x27cf*0x1)),(v['assert'](_0x5e32b2,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x5e32b2);}['addCompone'+'nt'](_0x2ec092,_0x43fdce){const _0x3006a1=this['_app']['systems'][_0x2ec092];return _0x3006a1?this['c'][_0x2ec092]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x2ec092+('\x27\x20componen'+'t')),null):_0x3006a1['addCompone'+'nt'](this,_0x43fdce):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x2ec092+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x528644){const _0x36241a=this['_app']['systems'][_0x528644];if(!_0x36241a){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x528644+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x528644]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x528644+('\x27\x20componen'+'t'));return;}_0x36241a['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x6111e1){const _0x198aa2=this['findOne'](_0x1a665a=>{var _0x1efcfd;return(_0x1efcfd=_0x1a665a['c'])==null?void(0x10d1+-0x252e+0x145d):_0x1efcfd[_0x6111e1];});return _0x198aa2&&_0x198aa2['c'][_0x6111e1];}['findCompon'+'ents'](_0x23429c){return this['find'](_0x3d835c=>{var _0x4dbeaa;return(_0x4dbeaa=_0x3d835c['c'])==null?void(-0x1f24+0xf33+0x1*0xff1):_0x4dbeaa[_0x23429c];})['map'](_0x413a53=>_0x413a53['c'][_0x23429c]);}['findScript'](_0x50483c){const _0x449acd=this['findOne'](_0x2b6f2e=>{var _0x27547b,_0x623cf1;return(_0x623cf1=(_0x27547b=_0x2b6f2e['c'])==null?void(-0x2*-0xc54+-0xe5f*-0x1+-0x1*0x2707):_0x27547b['script'])==null?void(-0x57*-0xd+-0x1*0xc9d+0x419*0x2):_0x623cf1['has'](_0x50483c);});return _0x449acd==null?void(0x1*0x231a+-0xc94*-0x1+-0x1*0x2fae):_0x449acd['c']['script']['get'](_0x50483c);}['findScript'+'s'](_0x25ddaf){return this['find'](_0x221553=>{var _0x5a2e9b,_0x5b64b2;return(_0x5b64b2=(_0x5a2e9b=_0x221553['c'])==null?void(0x25c4+-0x230a+0x2*-0x15d):_0x5a2e9b['script'])==null?void(0xb98+0x3c4*0x6+-0x2230):_0x5b64b2['has'](_0x25ddaf);})['map'](_0x1abbb3=>_0x1abbb3['c']['script']['get'](_0x25ddaf));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x591252){const _0x5c3e1d=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x5c3e1d[this['_guid']],this['_guid']=_0x591252,_0x5c3e1d[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x3c440e,_0x35032b){let _0x87b0d=!(-0x602+-0x1d21*0x1+0x2324);_0x3c440e===this&&Za['length']===-0x1*0x19e4+-0x13f4+0x2dd8&&(_0x87b0d=!(-0x2391+0x1d4f*-0x1+0x40e0)),_0x3c440e['_beingEnab'+'led']=!(0x14d7+-0xc6*0x31+0x110f*0x1),_0x3c440e['_onHierarc'+'hyStateCha'+'nged'](_0x35032b),_0x3c440e['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x3c440e);const _0x49057b=_0x3c440e['_children'];for(let _0x1bcc30=-0x1*0x775+0x1*0x5d4+-0x3*-0x8b,_0x4fa6a4=_0x49057b['length'];_0x1bcc30<_0x4fa6a4;_0x1bcc30++)_0x49057b[_0x1bcc30]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x49057b[_0x1bcc30],_0x35032b);if(_0x3c440e['_beingEnab'+'led']=!(0x408*0x9+-0x645+-0x1e02),_0x87b0d){for(let _0x9f9211=0x13c*0x8+-0x346+-0x69a;_0x9f9211<Za['length'];_0x9f9211++)Za[_0x9f9211]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=0x2*0xe13+-0x1a6c+0xd*-0x22;}}['_onHierarc'+'hyStateCha'+'nged'](_0x3555e0){super['_onHierarc'+'hyStateCha'+'nged'](_0x3555e0);const _0x275ee1=this['_getSorted'+'Components']();for(let _0xb784e4=0x2e9*-0x5+-0x1*-0x17ba+-0x92d;_0xb784e4<_0x275ee1['length'];_0xb784e4++){const _0x14fc7b=_0x275ee1[_0xb784e4];_0x14fc7b['enabled']&&(_0x3555e0?_0x14fc7b['onEnable']():_0x14fc7b['onDisable']());}W_(_0x275ee1);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x14c0b3=this['_getSorted'+'Components']();for(let _0x40e175=0x7a4+0x1ff*0x7+0x1*-0x159d;_0x40e175<_0x14c0b3['length'];_0x40e175++)_0x14c0b3[_0x40e175]['onPostStat'+'eChange']();W_(_0x14c0b3);}['findByGuid'](_0x33f60c){if(this['_guid']===_0x33f60c)return this;const _0x529190=this['_app']['_entityInd'+'ex'][_0x33f60c];return _0x529190&&(_0x529190===this||_0x529190['isDescenda'+'ntOf'](this))?_0x529190:null;}['destroy'](){this['_destroyin'+'g']=!(0x31e+-0x1af7+0x17d9);for(const _0x3fd9a5 in this['c'])this['c'][_0x3fd9a5]['enabled']=!(-0x1e23+0x1*0x8fe+-0xa93*-0x2);for(const _0x3c20ac in this['c'])this['c'][_0x3c20ac]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x5*-0x295+0x8*0x23e+0x1c*-0x11a);}['clone'](){const _0x3f2134={},_0x2a6ded=this['_cloneRecu'+'rsively'](_0x3f2134);return _0x3f2134[this['getGuid']()]=_0x2a6ded,H0(this,this,_0x2a6ded,_0x3f2134),_0x2a6ded;}['_getSorted'+'Components'](){const _0x328943=this['c'],_0x377169=cP();let _0x42c0f4=-0x1224+-0x24fa+0x371e;for(const _0x2b305b in _0x328943)if(_0x328943['hasOwnProp'+'erty'](_0x2b305b)){const _0x3b00c6=_0x328943[_0x2b305b];_0x42c0f4|=_0x3b00c6['constructo'+'r']['order']!==-0x20e+0x6a7+-0x499,_0x377169['push'](_0x3b00c6);}return _0x42c0f4&&_0x377169['length']>-0x2*-0xb69+0x2097+-0x3768&&hP(_0x377169),_0x377169;}['_cloneRecu'+'rsively'](_0x167a89){const _0x3628cc=new this['constructo'+'r'](void(-0x1081+0xf4d+0x134),this['_app']);super['_cloneInte'+'rnal'](_0x3628cc);for(const _0x47ae07 in this['c'])this['c'][_0x47ae07]['system']['cloneCompo'+'nent'](this,_0x3628cc);for(let _0x176144=0xef1+0x2543+-0x3434;_0x176144<this['_children']['length'];_0x176144++){const _0x589e02=this['_children'][_0x176144];if(_0x589e02 instanceof ac){const _0x5a46e4=_0x589e02['_cloneRecu'+'rsively'](_0x167a89);_0x3628cc['addChild'](_0x5a46e4),_0x167a89[_0x589e02['getGuid']()]=_0x5a46e4;}}return _0x3628cc;}};c(ac,'EVENT_DEST'+'ROY','destroy');let $e=ac;function H0(_0x19e9fa,_0x4f147d,_0x6d5077,_0x4680df){if(_0x4f147d instanceof $e){const _0x4b6dad=_0x4f147d['c'];for(const _0x5cd1be in _0x4b6dad){const _0x432dcc=_0x4b6dad[_0x5cd1be],_0x96e23b=_0x432dcc['system']['getPropert'+'iesOfType']('entity');for(let _0x3e5f36=0x996+0x1170+-0x6*0x481,_0x10269a=_0x96e23b['length'];_0x3e5f36<_0x10269a;_0x3e5f36++){const _0x914d09=_0x96e23b[_0x3e5f36]['name'],_0x572d6b=_0x432dcc[_0x914d09];if(!!_0x19e9fa['findByGuid'](_0x572d6b)){const _0x162f7e=_0x4680df[_0x572d6b]['getGuid']();_0x162f7e?_0x6d5077['c'][_0x5cd1be][_0x914d09]=_0x162f7e:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x4b6dad['script']&&_0x6d5077['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4b6dad['script'],_0x4680df),_0x4b6dad['render']&&_0x6d5077['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4b6dad['render'],_0x4680df),_0x4b6dad['button']&&_0x6d5077['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4b6dad['button'],_0x4680df),_0x4b6dad['scrollview']&&_0x6d5077['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4b6dad['scrollview'],_0x4680df),_0x4b6dad['scrollbar']&&_0x6d5077['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4b6dad['scrollbar'],_0x4680df),_0x4b6dad['anim']&&_0x6d5077['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4b6dad['anim'],_0x4680df);const _0x5f4e81=_0x4f147d['children']['filter'](_0x186f9a=>_0x186f9a instanceof $e),_0x2b35c2=_0x6d5077['children']['filter'](_0x522473=>_0x522473 instanceof $e);for(let _0xa30d49=-0x3*0x2f9+-0xab2+0x139d*0x1,_0x384cae=_0x5f4e81['length'];_0xa30d49<_0x384cae;_0xa30d49++)H0(_0x19e9fa,_0x5f4e81[_0xa30d49],_0x2b35c2[_0xa30d49],_0x4680df);}}class q_{constructor(_0x4983e7,_0x55e25c){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(-0x37c*0x1+0x7c7+-0x44a)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x4983e7,this['url']=_0x55e25c);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x1de251){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x1de251;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x1c4242,_0x487591){if(this['_index']['hasOwnProp'+'erty'](_0x1c4242))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x1c4242),!(-0x3*0x2ce+-0x66c+0xed7);const _0x27166c=new q_(_0x1c4242,_0x487591),_0x1ed4d9=this['_list']['push'](_0x27166c);return this['_index'][_0x27166c['name']]=_0x1ed4d9-(0x130d*-0x1+0x2140+-0xe32),this['_urlIndex'][_0x27166c['url']]=_0x1ed4d9-(0x1b*-0xf6+0x37*0x17+0x1502),!(0x1916+-0x2*-0x10f5+0xec*-0x40);}['find'](_0x2d96fd){return this['_index']['hasOwnProp'+'erty'](_0x2d96fd)?this['_list'][this['_index'][_0x2d96fd]]:null;}['findByUrl'](_0x305f7e){return this['_urlIndex']['hasOwnProp'+'erty'](_0x305f7e)?this['_list'][this['_urlIndex'][_0x305f7e]]:null;}['remove'](_0x71acc6){if(this['_index']['hasOwnProp'+'erty'](_0x71acc6)){const _0xcc1594=this['_index'][_0x71acc6];let _0x181ab0=this['_list'][_0xcc1594];delete this['_urlIndex'][_0x181ab0['url']],delete this['_index'][_0x71acc6],this['_list']['splice'](_0xcc1594,-0x50+-0x9d+0xee);for(let _0x5d1727=0x12d9+-0x4e9+-0xdf0;_0x5d1727<this['_list']['length'];_0x5d1727++)_0x181ab0=this['_list'][_0x5d1727],this['_index'][_0x181ab0['name']]=_0x5d1727,this['_urlIndex'][_0x181ab0['url']]=_0x5d1727;}}['_loadScene'+'Data'](_0x3beb00,_0xb88a5c,_0x54cdc2){const _0x543bf4=this['_app'];let _0x34358e=_0x3beb00;if(typeof _0x3beb00=='string'&&(_0x3beb00=this['findByUrl'](_0x34358e)||this['find'](_0x34358e)||new q_('Untitled',_0x34358e)),_0x34358e=_0x3beb00['url'],!_0x34358e){_0x54cdc2('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x3beb00['loaded']){_0x54cdc2(null,_0x3beb00);return;}_0x543bf4['assets']&&_0x543bf4['assets']['prefix']&&!Da['test'](_0x34358e)&&(_0x34358e=fe['join'](_0x543bf4['assets']['prefix'],_0x34358e)),_0x3beb00['_onLoadedC'+'allbacks']['push'](_0x54cdc2),_0x3beb00['_loading']||_0x543bf4['loader']['getHandler']('hierarchy')['load'](_0x34358e,(_0xe63de6,_0x26ccc6)=>{_0x3beb00['data']=_0x26ccc6,_0x3beb00['_loading']=!(0x4c8+-0x181a*-0x1+-0x1ce1);for(let _0x3e0884=0x2b*-0x37+0x1de6+-0x14a9;_0x3e0884<_0x3beb00['_onLoadedC'+'allbacks']['length'];_0x3e0884++)_0x3beb00['_onLoadedC'+'allbacks'][_0x3e0884](_0xe63de6,_0x3beb00);_0xb88a5c||(_0x3beb00['data']=null),_0x3beb00['_onLoadedC'+'allbacks']['length']=0x2f*-0x5f+0x18da+-0x769;}),_0x3beb00['_loading']=!(-0x1ad6+-0x1*-0x2043+-0x56d);}['loadSceneD'+'ata'](_0x2fa565,_0x55b30d){this['_loadScene'+'Data'](_0x2fa565,!(-0x1*-0x4af+0x23d3*-0x1+0x2*0xf92),_0x55b30d);}['unloadScen'+'eData'](_0x372a6d){typeof _0x372a6d=='string'&&(_0x372a6d=this['findByUrl'](_0x372a6d)),_0x372a6d&&(_0x372a6d['data']=null);}['_loadScene'+'Hierarchy'](_0x1a9b86,_0x5f1e53,_0x47e7ab){this['_loadScene'+'Data'](_0x1a9b86,!(0x24b*0x3+0x1*-0x50b+-0x7*0x43),(_0x1a950b,_0x44be95)=>{if(_0x1a950b){_0x47e7ab&&_0x47e7ab(_0x1a950b);return;}_0x5f1e53&&_0x5f1e53(_0x44be95);const _0x6ee6a3=this['_app'],_0x1f2dec=()=>{const _0x24b2c0=_0x6ee6a3['loader']['getHandler']('hierarchy');_0x6ee6a3['systems']['script']['preloading']=!(-0x10e5+0x21*-0xe+0x12b3*0x1);const _0x419a50=_0x24b2c0['open'](_0x44be95['url'],_0x44be95['data']);_0x6ee6a3['systems']['script']['preloading']=!(-0x2f1*0x5+0x1a6b+-0xbb5),_0x6ee6a3['loader']['clearCache'](_0x44be95['url'],'hierarchy'),_0x6ee6a3['root']['addChild'](_0x419a50),_0x6ee6a3['systems']['fire']('initialize',_0x419a50),_0x6ee6a3['systems']['fire']('postInitia'+'lize',_0x419a50),_0x6ee6a3['systems']['fire']('postPostIn'+'itialize',_0x419a50),_0x47e7ab&&_0x47e7ab(null,_0x419a50);};_0x6ee6a3['_preloadSc'+'ripts'](_0x44be95['data'],_0x1f2dec);});}['loadSceneH'+'ierarchy'](_0x39d95d,_0xdc95c3){this['_loadScene'+'Hierarchy'](_0x39d95d,null,_0xdc95c3);}['loadSceneS'+'ettings'](_0x15f114,_0x32e2d2){this['_loadScene'+'Data'](_0x15f114,!(0x1f*-0x5f+-0x1d23+0x5*0x821),(_0x19670b,_0x427533)=>{_0x19670b?_0x32e2d2&&_0x32e2d2(_0x19670b):(this['_app']['applyScene'+'Settings'](_0x427533['data']['settings']),_0x32e2d2&&_0x32e2d2(null));});}['changeScen'+'e'](_0x4bce2d,_0xedbc2f){const _0x5737ab=this['_app'],_0x14f078=_0x57a28b=>{const {children:_0x29c7ea}=_0x5737ab['root'];for(;_0x29c7ea['length'];)_0x29c7ea[0x1e6*0x3+0x1514+-0x95*0x2e]['destroy']();_0x5737ab['applyScene'+'Settings'](_0x57a28b['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x4bce2d,_0x14f078,_0xedbc2f);}['loadScene'](_0x5ba488,_0x1b5287){const _0x566cb5=this['_app'],_0x2119e1=_0x566cb5['loader']['getHandler']('scene');_0x566cb5['assets']&&_0x566cb5['assets']['prefix']&&!Da['test'](_0x5ba488)&&(_0x5ba488=fe['join'](_0x566cb5['assets']['prefix'],_0x5ba488)),_0x2119e1['load'](_0x5ba488,(_0x659d0b,_0x3094d8)=>{if(_0x659d0b)_0x1b5287&&_0x1b5287(_0x659d0b);else{const _0x1a760e=()=>{_0x566cb5['systems']['script']['preloading']=!(0x57e*0x3+-0x3ad*0x1+0x71*-0x1d);const _0x1d2f2d=_0x2119e1['open'](_0x5ba488,_0x3094d8),_0x2b3491=this['findByUrl'](_0x5ba488);_0x2b3491&&!_0x2b3491['loaded']&&(_0x2b3491['data']=_0x3094d8),_0x566cb5['systems']['script']['preloading']=!(0x145+-0x1e3c+0x1cf8),_0x566cb5['loader']['clearCache'](_0x5ba488,'scene'),_0x566cb5['loader']['patch']({'resource':_0x1d2f2d,'type':'scene'},_0x566cb5['assets']),_0x566cb5['root']['addChild'](_0x1d2f2d['root']),_0x566cb5['systems']['rigidbody']&&typeof Ammo<'u'&&_0x566cb5['systems']['rigidbody']['gravity']['set'](_0x1d2f2d['_gravity']['x'],_0x1d2f2d['_gravity']['y'],_0x1d2f2d['_gravity']['z']),_0x1b5287&&_0x1b5287(null,_0x1d2f2d);};_0x566cb5['_preloadSc'+'ripts'](_0x3094d8,_0x1a760e);}});}}class uP{constructor(_0x19a53e){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x19a53e['_shaderSta'+'ts'],this['vram']=_0x19a53e['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x427d85;return(_0x427d85=tn()['lightmappe'+'r'])==null?void(0xc91*-0x3+0xe29+0x83*0x2e):_0x427d85['stats'];}get['batcher'](){const _0x5b652b=tn()['_batcher'];return _0x5b652b?_0x5b652b['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x319524){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(0x1327*-0x1+0x6e7+0xc41)),c(this,'_inFrameUp'+'date',!(-0x1*0x182+-0x24eb+0x266e*0x1)),c(this,'_libraries'+'Loaded',!(-0x1*-0x18af+-0x3be+0x8*-0x29e)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(-0x1*-0x6f1+0x99b+-0x108c)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(-0x93b*-0x1+0x1*-0x2de+-0x65c)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x1013+0x16c8+-0x26db),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0x13f3+0x1*-0xec2+-0x6*-0x5c9),c(this,'maxDeltaTi'+'me',-0x249f+-0x5*0x15b+0x2b66+0.1),c(this,'frame',-0x2*0xf5b+0x8*0xf6+0x7*0x34a),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(-0x7*0x317+0x15da+-0x39)),c(this,'renderNext'+'Frame',!(-0xaa4+-0x4ce+-0x235*-0x7)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x2*-0xcf2+-0xa7f*0x1+0x159*0x1b):no['indexOf']('$'))<-0x13ac*-0x1+0x227e*0x1+-0x362a&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x319524['id']]=this,qu(this),this['root']=new $e(),this['root']['_enabledIn'+'Hierarchy']=!(-0x112b+0x9ca+0x761));}['init'](_0xca010e){const {assetPrefix:_0x2dcd9a,batchManager:_0xcc2712,componentSystems:_0xf75cfe,elementInput:_0x25cca4,gamepads:_0x2ed2c5,graphicsDevice:_0x1bc825,keyboard:_0x3925b9,lightmapper:_0x13ae08,mouse:_0x96d694,resourceHandlers:_0x3de477,scriptsOrder:_0x826d57,scriptPrefix:_0x44e6b5,soundManager:_0x2e655c,touch:_0x180a9b,xr:_0xb40d2c}=_0xca010e;v['assert'](_0x1bc825,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x1bc825,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x1bc825),this['_soundMana'+'ger']=_0x2e655c,this['scene']=new ci(_0x1bc825),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x2dcd9a&&(this['assets']['prefix']=_0x2dcd9a),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x826d57||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(0x147a+0xca7*0x1+0x8*-0x424),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x181550=new S_('default');_0x181550['pushOpaque'](this['defaultLay'+'erWorld']),_0x181550['pushOpaque'](this['defaultLay'+'erDepth']),_0x181550['pushOpaque'](this['defaultLay'+'erSkybox']),_0x181550['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x181550['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x181550['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x181550['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x181550,Wr['createPlac'+'eholder'](_0x1bc825),this['renderer']=new Gh(_0x1bc825),this['renderer']['scene']=this['scene'],_0x13ae08&&(this['lightmappe'+'r']=new _0x13ae08(_0x1bc825,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0xcc2712&&(this['_batcher']=new _0xcc2712(_0x1bc825,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x3925b9||null,this['mouse']=_0x96d694||null,this['touch']=_0x180a9b||null,this['gamepads']=_0x2ed2c5||null,_0x25cca4&&(this['elementInp'+'ut']=_0x25cca4,this['elementInp'+'ut']['app']=this),this['xr']=_0xb40d2c?new _0xb40d2c(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x44e6b5||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x3de477['forEach'](_0x17ec7c=>{const _0x1c734e=new _0x17ec7c(this);this['loader']['addHandler'](_0x1c734e['handlerTyp'+'e'],_0x1c734e);}),_0xf75cfe['forEach'](_0x298dda=>{this['systems']['add'](new _0x298dda(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x42a+0x3f4+0x36)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x389*0x4+-0x211e+0x2f43))):document['mozHidden']!==void(0x41c+-0x1*0xc40+-0x824*-0x1)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1560*-0x1+-0xf1a+0x5*-0x141))):document['msHidden']!==void(-0x51*-0x65+0xfdb*0x1+0x5a*-0x88)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x23cc+0x2*0x2d7+0x1e1f))):document['webkitHidd'+'en']!==void(0xae1+-0xad*-0x33+-0x2d58)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2a1*-0x5+0x12c5+-0x1*0x1fe9)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x50d59e){return _0x50d59e?Gr['_applicati'+'ons'][_0x50d59e]:tn();}['_initDefau'+'ltMaterial'](){const _0x5d10f9=new cs();_0x5d10f9['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x5d10f9);}['_initProgr'+'amLibrary'](){const _0x3a1512=new D1(this['graphicsDe'+'vice'],new cs());$E(this['graphicsDe'+'vice'],_0x3a1512);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4d1030,_0x94fba){We['get'](_0x4d1030,(_0x4df5bd,_0xc8e878)=>{if(_0x4df5bd){_0x94fba(_0x4df5bd);return;}const _0x5a3334=_0xc8e878['applicatio'+'n_properti'+'es'],_0x5d93ba=_0xc8e878['scenes'],_0x3440ca=_0xc8e878['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x5a3334,_0x286297=>{this['_parseScen'+'es'](_0x5d93ba),this['_parseAsse'+'ts'](_0x3440ca),_0x94fba(_0x286297||null);});});}['preload'](_0x4bf2e2){this['fire']('preload:st'+'art');const _0x468278=this['assets']['list']({'preload':!(-0x258c+-0x6*0x67a+0x2634*0x2)});if(_0x468278['length']===0x1*0xeff+-0x49f+-0xa6*0x10){this['fire']('preload:en'+'d'),_0x4bf2e2();return;}let _0x157a6f=0x47f*0x7+0x2580+-0x44f9;const _0x3ecb42=()=>{_0x157a6f++,this['fire']('preload:pr'+'ogress',_0x157a6f/_0x468278['length']),_0x157a6f===_0x468278['length']&&(this['fire']('preload:en'+'d'),_0x4bf2e2());};_0x468278['forEach'](_0x5b7ec5=>{_0x5b7ec5['loaded']?_0x3ecb42():(_0x5b7ec5['once']('load',_0x3ecb42),_0x5b7ec5['once']('error',_0x3ecb42),this['assets']['load'](_0x5b7ec5));});}['_preloadSc'+'ripts'](_0x57ceef,_0x1a1d10){_0x1a1d10();}['_parseAppl'+'icationPro'+'perties'](_0x2111fd,_0x481c2c){if(typeof _0x2111fd['maxAssetRe'+'tries']=='number'&&_0x2111fd['maxAssetRe'+'tries']>0x95*0x1+-0x2ba*0xc+0x2023&&this['loader']['enableRetr'+'y'](_0x2111fd['maxAssetRe'+'tries']),_0x2111fd['useDeviceP'+'ixelRatio']||(_0x2111fd['useDeviceP'+'ixelRatio']=_0x2111fd['use_device'+'_pixel_rat'+'io']),_0x2111fd['resolution'+'Mode']||(_0x2111fd['resolution'+'Mode']=_0x2111fd['resolution'+'_mode']),_0x2111fd['fillMode']||(_0x2111fd['fillMode']=_0x2111fd['fill_mode']),this['_width']=_0x2111fd['width'],this['_height']=_0x2111fd['height'],_0x2111fd['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x2111fd['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x2111fd['fillMode'],this['_width'],this['_height']),_0x2111fd['layers']&&_0x2111fd['layerOrder']){const _0x13b71a=new S_('applicatio'+'n'),_0x1a809a={};for(const _0x560727 in _0x2111fd['layers']){const _0x359c78=_0x2111fd['layers'][_0x560727];_0x359c78['id']=parseInt(_0x560727,0x2594+-0x11fb*-0x2+-0x4980),_0x359c78['enabled']=_0x359c78['id']!==Xt,_0x1a809a[_0x560727]=new Lr(_0x359c78);}for(let _0x3394b7=-0x1398*-0x1+0x4d1*-0x2+-0x9f6*0x1,_0x2b5d23=_0x2111fd['layerOrder']['length'];_0x3394b7<_0x2b5d23;_0x3394b7++){const _0x536ed1=_0x2111fd['layerOrder'][_0x3394b7],_0x4cb6b0=_0x1a809a[_0x536ed1['layer']];_0x4cb6b0&&(_0x536ed1['transparen'+'t']?_0x13b71a['pushTransp'+'arent'](_0x4cb6b0):_0x13b71a['pushOpaque'](_0x4cb6b0),_0x13b71a['subLayerEn'+'abled'][_0x3394b7]=_0x536ed1['enabled']);}this['scene']['layers']=_0x13b71a;}if(_0x2111fd['batchGroup'+'s']){const _0x11e6ab=this['batcher'];if(_0x11e6ab)for(let _0x3de900=0x2*0x12e2+-0x19e2*0x1+0x5f1*-0x2,_0x2b38d2=_0x2111fd['batchGroup'+'s']['length'];_0x3de900<_0x2b38d2;_0x3de900++){const _0x470276=_0x2111fd['batchGroup'+'s'][_0x3de900];_0x11e6ab['addGroup'](_0x470276['name'],_0x470276['dynamic'],_0x470276['maxAabbSiz'+'e'],_0x470276['id'],_0x470276['layers']);}}_0x2111fd['i18nAssets']&&(this['i18n']['assets']=_0x2111fd['i18nAssets']),this['_loadLibra'+'ries'](_0x2111fd['libraries'],_0x481c2c);}['_loadLibra'+'ries'](_0x41de86,_0xa21e68){const _0x47c3be=_0x41de86['length'];let _0x57c23d=_0x47c3be;const _0x59d777=/^https?:\/\//;if(_0x47c3be){const _0x4ca152=(_0x35ebd8,_0x43d584)=>{_0x57c23d--,_0x35ebd8?_0xa21e68(_0x35ebd8):_0x57c23d===0x2*0x10b9+0x1d00+-0x3e72*0x1&&(this['onLibrarie'+'sLoaded'](),_0xa21e68(null));};for(let _0x482b19=0x2f*0x4c+-0x1fd9+-0x1fd*-0x9;_0x482b19<_0x47c3be;++_0x482b19){let _0x2dfd2a=_0x41de86[_0x482b19];!_0x59d777['test'](_0x2dfd2a['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x2dfd2a=fe['join'](this['_scriptPre'+'fix'],_0x2dfd2a)),this['loader']['load'](_0x2dfd2a,'script',_0x4ca152);}}else this['onLibrarie'+'sLoaded'](),_0xa21e68(null);}['_parseScen'+'es'](_0x4e94e){if(_0x4e94e){for(let _0x2a8316=0x24fc+-0x97b+-0x1b81;_0x2a8316<_0x4e94e['length'];_0x2a8316++)this['scenes']['add'](_0x4e94e[_0x2a8316]['name'],_0x4e94e[_0x2a8316]['url']);}}['_parseAsse'+'ts'](_0x17b761){const _0x3f8308=[],_0x14bbea={},_0x1d6e3d={};for(let _0x40e318=-0x1b16+-0x30a*-0x6+0x8da;_0x40e318<this['scriptsOrd'+'er']['length'];_0x40e318++){const _0x3947a2=this['scriptsOrd'+'er'][_0x40e318];_0x17b761[_0x3947a2]&&(_0x14bbea[_0x3947a2]=!(-0xcd1*-0x3+0x5aa+-0x2c1d),_0x3f8308['push'](_0x17b761[_0x3947a2]));}if(this['enableBund'+'les']){for(const _0x1dde62 in _0x17b761)_0x17b761[_0x1dde62]['type']==='bundle'&&(_0x1d6e3d[_0x1dde62]=!(-0x94e+-0x1*0xd21+0x166f),_0x3f8308['push'](_0x17b761[_0x1dde62]));}for(const _0x498e1b in _0x17b761)_0x14bbea[_0x498e1b]||_0x1d6e3d[_0x498e1b]||_0x3f8308['push'](_0x17b761[_0x498e1b]);for(let _0x5e6917=-0x121e+0x1999+0x17f*-0x5;_0x5e6917<_0x3f8308['length'];_0x5e6917++){const _0x2598d4=_0x3f8308[_0x5e6917],_0x2c51c6=new le(_0x2598d4['name'],_0x2598d4['type'],_0x2598d4['file'],_0x2598d4['data']);if(_0x2c51c6['id']=parseInt(_0x2598d4['id'],0x5d*-0x1f+0xfb3+0x1*-0x466),_0x2c51c6['preload']=_0x2598d4['preload']?_0x2598d4['preload']:!(0x4*0x5f6+-0x5c3*-0x1+-0x1d9a),_0x2c51c6['loaded']=_0x2598d4['type']==='script'&&_0x2598d4['data']&&_0x2598d4['data']['loadingTyp'+'e']>-0x3c8+0x1035*0x1+0xc6d*-0x1,_0x2c51c6['tags']['add'](_0x2598d4['tags']),_0x2598d4['i18n']){for(const _0x3fc54e in _0x2598d4['i18n'])_0x2c51c6['addLocaliz'+'edAssetId'](_0x3fc54e,_0x2598d4['i18n'][_0x3fc54e]);}this['assets']['add'](_0x2c51c6);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0xe*-0x19+-0x113*0x1+-0x1*-0x271);}),this['frame']=0x1*-0x24dd+0xb7e+-0x195f*-0x1,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x443a24){this['controller']&&this['controller']['update'](_0x443a24),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0xa1e81f){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0xa1e81f),this['systems']['fire']('animationU'+'pdate',_0xa1e81f),this['systems']['fire']('postUpdate',_0xa1e81f),this['fire']('update',_0xa1e81f),this['inputUpdat'+'e'](_0xa1e81f),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=0x485*-0x1+-0x1*0x172b+0x1bb0,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x109cd8){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x109cd8),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x109cd8),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x372d47,_0x37791c,_0x4b49a8){const _0x17e77f=this['stats']['frame'];_0x17e77f['dt']=_0x37791c,_0x17e77f['ms']=_0x4b49a8,_0x372d47>_0x17e77f['_timeToCou'+'ntFrames']?(_0x17e77f['fps']=_0x17e77f['_fpsAccum'],_0x17e77f['_fpsAccum']=-0x242e+-0x1be9+-0x1*-0x4017,_0x17e77f['_timeToCou'+'ntFrames']=_0x372d47+(-0x1dc2+-0x5bd*0x5+0x3e5b)):_0x17e77f['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0xec9+-0x947+-0xa*0x8d;}['_fillFrame'+'Stats'](){let _0xe264a8=this['stats']['frame'];_0xe264a8['cameras']=this['renderer']['_camerasRe'+'ndered'],_0xe264a8['materials']=this['renderer']['_materialS'+'witches'],_0xe264a8['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0xe264a8['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0xe264a8['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0xe264a8['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0xe264a8['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x474132=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0xe264a8['triangles']=_0x474132[Ms]/(-0x1abd*0x1+-0xe95*0x1+0x2955)+Math['max'](_0x474132[ar]-(0xa1+-0x3*0xa77+0x1ec6),-0x3b5*0x4+-0x9e1+0x18b5)+Math['max'](_0x474132[Yr]-(-0x113f+0x1265+0x1*-0x124),0xf67+-0x1*-0x1146+0x20ad*-0x1),_0xe264a8['cullTime']=this['renderer']['_cullTime'],_0xe264a8['sortTime']=this['renderer']['_sortTime'],_0xe264a8['skinTime']=this['renderer']['_skinTime'],_0xe264a8['morphTime']=this['renderer']['_morphTime'],_0xe264a8['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0xe264a8['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0xe264a8['otherPrimi'+'tives']=0x215*0xd+0x4a7*-0x6+0xd9;for(let _0x26c94e=-0x1*0x1175+0x1c65+-0xaf0;_0x26c94e<_0x474132['length'];_0x26c94e++)_0x26c94e<Ms&&(_0xe264a8['otherPrimi'+'tives']+=_0x474132[_0x26c94e]),_0x474132[_0x26c94e]=-0x85c+0x2f*0x8d+-0x7*0x281;this['renderer']['_camerasRe'+'ndered']=-0x7ea+-0x1eec+0x26d6,this['renderer']['_materialS'+'witches']=0x1b01+-0x6f6+-0x140b,this['renderer']['_shadowMap'+'Updates']=-0x1701+-0x2*0xe36+0x336d,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x1*-0xa7a+-0x1d72+0x25f*0x8,this['renderer']['_cullTime']=-0x1d7b+-0x2328+0x40a3,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x212e+0x23f+-0x1*0x236d,this['renderer']['_lightClus'+'tersTime']=-0x1a4a+-0x1cbb+-0x3*-0x1257,this['renderer']['_sortTime']=-0x34*-0x98+0x205f+-0x3f3f,this['renderer']['_skinTime']=-0x22d*0xb+-0xa6*0x32+0x643*0x9,this['renderer']['_morphTime']=0xcb1+-0x7b2+-0x4ff*0x1,this['renderer']['_shadowMap'+'Time']=0x1127+0xc*0x5+-0x1*0x1163,this['renderer']['_depthMapT'+'ime']=-0x15f1*-0x1+0x1a82+-0x3073,this['renderer']['_forwardTi'+'me']=0x1a71+0x1519+-0x2f8a,_0xe264a8=this['stats']['drawCalls'],_0xe264a8['forward']=this['renderer']['_forwardDr'+'awCalls'],_0xe264a8['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0xe264a8['depth']=-0x1de4+0x398*-0x6+-0x94*-0x59,_0xe264a8['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0xe264a8['skinned']=this['renderer']['_skinDrawC'+'alls'],_0xe264a8['immediate']=0x609*0x1+0x19a5+-0x656*0x5,_0xe264a8['instanced']=0x76a*-0x4+-0xc7a*0x2+0x5*0xaec,_0xe264a8['removedByI'+'nstancing']=-0x1561+0x14eb+0x1*0x76,_0xe264a8['misc']=_0xe264a8['total']-(_0xe264a8['forward']+_0xe264a8['shadow']),this['renderer']['_depthDraw'+'Calls']=-0xba2*-0x2+-0xe94+0x116*-0x8,this['renderer']['_shadowDra'+'wCalls']=0x1*0x1780+0x11*0xe1+-0x2f5*0xd,this['renderer']['_forwardDr'+'awCalls']=-0x1*-0xc64+-0x17e1+0xb7d,this['renderer']['_numDrawCa'+'llsCulled']=0x1*0x2353+0x9cd+-0x8*0x5a4,this['renderer']['_skinDrawC'+'alls']=-0x23cd+-0x1b67+0x3f34,this['renderer']['_immediate'+'Rendered']=-0x1caf+-0x6*0x680+0x43af,this['renderer']['_instanced'+'DrawCalls']=-0x7db*0x1+0x224a+-0x43*0x65,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0xe264a8=this['stats']['particles'],_0xe264a8['updatesPer'+'Frame']=_0xe264a8['_updatesPe'+'rFrame'],_0xe264a8['frameTime']=_0xe264a8['_frameTime'],_0xe264a8['_updatesPe'+'rFrame']=-0x2*0x62f+-0x1*-0xf31+-0x2d3,_0xe264a8['_frameTime']=-0x5e*-0x1b+0x44c+-0xe36;}['setCanvasF'+'illMode'](_0x1c7087,_0x49f73a,_0xcaa235){this['_fillMode']=_0x1c7087,this['resizeCanv'+'as'](_0x49f73a,_0xcaa235);}['setCanvasR'+'esolution'](_0x3d3c30,_0x5a271e,_0x52b62f){this['_resolutio'+'nMode']=_0x3d3c30,_0x3d3c30===G_&&_0x5a271e===void(0x26*-0x101+-0x25d9+0x4bff)&&(_0x5a271e=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x52b62f=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x5a271e,_0x52b62f);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x4cfd5e,_0x150b38){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x543956=window['innerWidth'],_0x2ec291=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x238918=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x11fb4d=_0x543956/_0x2ec291;_0x238918>_0x11fb4d?(_0x4cfd5e=_0x543956,_0x150b38=_0x4cfd5e/_0x238918):(_0x150b38=_0x2ec291,_0x4cfd5e=_0x150b38*_0x238918);}else this['_fillMode']===W1&&(_0x4cfd5e=_0x543956,_0x150b38=_0x2ec291);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x4cfd5e+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x150b38+'px',this['updateCanv'+'asSize'](),{'width':_0x4cfd5e,'height':_0x150b38};}['updateCanv'+'asSize'](){var _0x46365b;if(!(!this['_allowResi'+'ze']||(_0x46365b=this['xr'])!=null&&_0x46365b['active'])&&this['_resolutio'+'nMode']===G_){const _0x2c90da=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x2c90da['clientWidt'+'h'],_0x2c90da['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x12d3+-0x26c0+0x3993),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0xe1a95f){let _0x44137a;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x11e3d8,_0x166e37,_0xcb3372]=_0xe1a95f['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x11e3d8,_0x166e37,_0xcb3372);}this['scene']['applySetti'+'ngs'](_0xe1a95f),_0xe1a95f['render']['hasOwnProp'+'erty']('skybox')&&(_0xe1a95f['render']['skybox']?(_0x44137a=this['assets']['get'](_0xe1a95f['render']['skybox']),_0x44137a?this['setSkybox'](_0x44137a):this['assets']['once']('add:'+_0xe1a95f['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x4b9e69,_0x3659d5){_0x4b9e69&&_0x3659d5?Wr['set'](this['graphicsDe'+'vice'],_0x4b9e69,_0x3659d5):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x352c9e){if(_0x352c9e!==this['_skyboxAss'+'et']){const _0x27ffb0=()=>{this['setSkybox'](null);},_0x4c7241=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x4c7241,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x27ffb0,this),this['_skyboxAss'+'et']['off']('change',_0x4c7241,this)),this['_skyboxAss'+'et']=_0x352c9e,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x4c7241,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x27ffb0,this),this['_skyboxAss'+'et']['on']('change',_0x4c7241,this),this['scene']['skyboxMip']===-0x455+-0x11f9*-0x1+-0xda4&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x118d*0x2+0x2028+0x2f2)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x4c7241();}}['_firstBake'](){var _0x31e425;(_0x31e425=this['lightmappe'+'r'])==null||_0x31e425['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0xfc9c5d;(_0xfc9c5d=this['batcher'])==null||_0xfc9c5d['generate']();}['_processTi'+'mestamp'](_0x14414d){return _0x14414d;}['drawLine'](_0xf35c80,_0x347af5,_0x2046ca,_0x1562ec,_0x45c5d7){this['scene']['drawLine'](_0xf35c80,_0x347af5,_0x2046ca,_0x1562ec,_0x45c5d7);}['drawLines'](_0x2a1c41,_0x24c6d1,_0x5ead14=!(0x34e+-0x103*-0xa+-0xd6c),_0x46fe2d=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x2a1c41,_0x24c6d1,_0x5ead14,_0x46fe2d);}['drawLineAr'+'rays'](_0x38b358,_0x2093c2,_0x3e8341=!(-0x15de+0x1cbf+-0x6e1),_0x1f4c70=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x38b358,_0x2093c2,_0x3e8341,_0x1f4c70);}['drawWireSp'+'here'](_0x5defa1,_0x1339d0,_0x5e02ee=Y['WHITE'],_0x3db61d=-0xa71+-0x806+0x128b,_0x51a770=!(-0x126c+0x1d0*-0x13+0x1*0x34dc),_0x4c66cb=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x5defa1,_0x1339d0,_0x5e02ee,_0x3db61d,_0x51a770,_0x4c66cb);}['drawWireAl'+'ignedBox'](_0x548e0d,_0x4ea4ad,_0xfb74d5=Y['WHITE'],_0x1d25ee=!(-0x5f*0x56+-0x1*-0x975+0x1675),_0x29685d=this['scene']['defaultDra'+'wLayer'],_0x51461f){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x548e0d,_0x4ea4ad,_0xfb74d5,_0x1d25ee,_0x29685d,_0x51461f);}['drawMeshIn'+'stance'](_0x10892f,_0x23eff8=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x10892f,_0x23eff8);}['drawMesh'](_0x4725e4,_0x43abe2,_0x2fcea0,_0x1ba59e=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x43abe2,_0x2fcea0,_0x4725e4,null,_0x1ba59e);}['drawQuad'](_0x457ed0,_0x32387a,_0x42917a=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x32387a,_0x457ed0,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x42917a);}['drawTextur'+'e'](_0x14bff8,_0x469fee,_0x33affa,_0x5aa6ac,_0x4ef14c,_0x123731,_0x10b778=this['scene']['defaultDra'+'wLayer'],_0xb1ac43=!(0xd69*-0x1+0xf4+0xc75)){if(_0xb1ac43===!(0x2f1*-0xb+0x1b3*0x5+0x17dd)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x16af6e=new q();_0x16af6e['setTRS'](new T(_0x14bff8,_0x469fee,-0x27*0xc5+0x453*-0x3+0x20c*0x15),se['IDENTITY'],new T(_0x33affa,-_0x5aa6ac,-0x2104+0x120f+-0xef5*-0x1)),_0x123731||(_0x123731=new Ra(),_0x123731['cull']=mt,_0x123731['setParamet'+'er']('colorMap',_0x4ef14c),_0x123731['shaderDesc']=_0xb1ac43?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x4ef14c['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x123731['update']()),this['drawQuad'](_0x16af6e,_0x123731,_0x10b778);}['drawDepthT'+'exture'](_0x2c07ab,_0x148da1,_0x5be6c9,_0x412722,_0x5e4543=this['scene']['defaultDra'+'wLayer']){const _0x2e5d39=new Ra();_0x2e5d39['cull']=mt,_0x2e5d39['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x2e5d39['update'](),this['drawTextur'+'e'](_0x2c07ab,_0x148da1,_0x5be6c9,_0x412722,null,_0x2e5d39,_0x5e4543);}['destroy'](){var _0x152cdd,_0x3bb528,_0xc0da49,_0x40afb6;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x2602+-0x210*-0x1+-0x2812);return;}const _0x32a729=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x101*-0xf+-0x612+0x1*-0x8fc)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1e6f+-0xb47*-0x2+0x1*-0x34fc)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x229*-0xd+-0x17d+0x1d93)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x3c9+-0x166d+-0x1*-0x1a37))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x25c2dd=this['assets']['list']();for(let _0x1e406f=0x2699+-0x54d+-0x214c;_0x1e406f<_0x25c2dd['length'];_0x1e406f++)_0x25c2dd[_0x1e406f]['unload'](),_0x25c2dd[_0x1e406f]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x2214b2=this['loader']['getHandler']('script');_0x2214b2==null||_0x2214b2['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x152cdd=this['lightmappe'+'r'])==null||_0x152cdd['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x3bb528=this['xr'])==null||_0x3bb528['end'](),(_0xc0da49=this['xr'])==null||_0xc0da49['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x40afb6=this['_soundMana'+'ger'])==null||_0x40afb6['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x32a729]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x5f1d12){_0x5f1d12['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x5f1d12['frameReque'+'stId']),_0x5f1d12['frameReque'+'stId']=void(0x197f+-0xb8c+-0xdf3));}['getEntityF'+'romIndex'](_0x1ab6ee){return this['_entityInd'+'ex'][_0x1ab6ee];}['_registerS'+'ceneImmedi'+'ate'](_0x54a992){this['on']('postrender',_0x54a992['immediate']['onPostRend'+'er'],_0x54a992['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x4203bd){const _0x3a57b1=_0x4203bd;return function(_0x11f34f,_0x1521b1){var _0x27c9dc,_0x106b17,_0x21d82e,_0x555aeb;if(!_0x3a57b1['graphicsDe'+'vice'])return;_0x3a57b1['frameReque'+'stId']&&((_0x106b17=(_0x27c9dc=_0x3a57b1['xr'])==null?void(-0x178c+-0x1*-0x70+0xc*0x1ed):_0x27c9dc['session'])==null||_0x106b17['cancelAnim'+'ationFrame'](_0x3a57b1['frameReque'+'stId']),cancelAnimationFrame(_0x3a57b1['frameReque'+'stId']),_0x3a57b1['frameReque'+'stId']=null),_0x3a57b1['_inFrameUp'+'date']=!(-0xa71+0xc14+-0x1a3*0x1),qu(_0x3a57b1);const _0x3f6171=_0x3a57b1['_processTi'+'mestamp'](_0x11f34f)||ne(),_0x1eea43=_0x3f6171-(_0x3a57b1['_time']||_0x3f6171);let _0x4ecaa3=_0x1eea43/(-0x16f9+-0x2e*-0xbd+-0x715);if(_0x4ecaa3=N['clamp'](_0x4ecaa3,0x1908+-0x34*0xd+-0x1664*0x1,_0x3a57b1['maxDeltaTi'+'me']),_0x4ecaa3*=_0x3a57b1['timeScale'],_0x3a57b1['_time']=_0x3f6171,(_0x21d82e=_0x3a57b1['xr'])!=null&&_0x21d82e['session']?_0x3a57b1['frameReque'+'stId']=_0x3a57b1['xr']['session']['requestAni'+'mationFram'+'e'](_0x3a57b1['tick']):_0x3a57b1['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x3a57b1['tick']):null,_0x3a57b1['graphicsDe'+'vice']['contextLos'+'t'])return;_0x3a57b1['_fillFrame'+'StatsBasic'](_0x3f6171,_0x4ecaa3,_0x1eea43),_0x3a57b1['_fillFrame'+'Stats'](),_0x3a57b1['fire']('frameupdat'+'e',_0x1eea43);let _0x2c1f44=!(0x985*0x3+0x1b96*-0x1+-0xf9);_0x1521b1?(_0x2c1f44=(_0x555aeb=_0x3a57b1['xr'])==null?void(-0x6aa*0x3+-0x1a3+-0x1*-0x15a1):_0x555aeb['update'](_0x1521b1),_0x3a57b1['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x1521b1['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x3a57b1['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x2c1f44&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x3a57b1['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0x1f31+-0x13a9+0x1c*0x1d1)+'ms'),_0x3a57b1['update'](_0x4ecaa3),_0x3a57b1['fire']('framerende'+'r'),(_0x3a57b1['autoRender']||_0x3a57b1['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](0x25*0x26+0x1650+-0x944*0x3)+'ms'),_0x3a57b1['updateCanv'+'asSize'](),_0x3a57b1['frameStart'](),_0x3a57b1['render'](),_0x3a57b1['frameEnd'](),_0x3a57b1['renderNext'+'Frame']=!(0xa*-0x3d9+0xb*0x108+-0x1b23*-0x1),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](-0x17b3+0x53*-0x26+0x2407*0x1)+'ms')),jd['timestamp']=ne(),jd['target']=_0x3a57b1,_0x3a57b1['fire']('frameend',jd)),_0x3a57b1['_inFrameUp'+'date']=!(-0x65*-0x10+-0x1583+0x116*0xe),_0x3a57b1['_destroyRe'+'quested']&&_0x3a57b1['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class $0{constructor(_0x747e18,_0x278a6a,_0x949f3f){this['scene']=_0x747e18,this['light']=_0x278a6a,this['store'](),_0x278a6a['numCascade'+'s']=-0x169*0x1+0x13b+0x2f*0x1,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x278a6a['castShadow'+'s']=_0x278a6a['bakeShadow'+'s']&&_0x949f3f['shadowsEna'+'bled']),_0x278a6a['type']!==oe&&(_0x278a6a['_node']['getWorldTr'+'ansform'](),_0x278a6a['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x2214ef=this['light'];_0x2214ef['mask']=this['mask'],_0x2214ef['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x2214ef['enabled']=this['enabled'],_0x2214ef['intensity']=this['intensity'],_0x2214ef['_node']['setLocalRo'+'tation'](this['rotation']),_0x2214ef['numCascade'+'s']=this['numCascade'+'s'],_0x2214ef['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x88a*-0x3+-0x645+0x1fe3),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x5ae0f9){const _0x40e638=this['light'];_0x40e638['enabled']=!(0x1104+-0x2*-0x110b+0x3319*-0x1),_0x40e638['shadowMap']&&(_0x40e638['shadowMap']['cached']&&_0x5ae0f9['add'](_0x40e638,_0x40e638['shadowMap']),_0x40e638['shadowMap']=null);}}const Hl=new $();class mP extends $0{constructor(_0x3193a7,_0x53246e){super(_0x3193a7['scene'],_0x53246e,_0x3193a7['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:-0x246a+-0x1916+0x14f*0x2f;}['prepareVir'+'tualLight'](_0x4553e6,_0x37bc19){const _0x39ea14=this['light'];if(_0x39ea14['_node']['setLocalRo'+'tation'](this['rotation']),_0x4553e6>0x1ddd+0x26be+-0x449b){const _0x504a6d=_0x39ea14['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x4553e6,_0x37bc19),Hl['mulScalar'](_0x504a6d*(-0x6*0x66+-0x63*0x2e+0x142e+0.5)),_0x39ea14['_node']['rotateLoca'+'l'](Hl['x'],0x1ea9+0x1619*0x1+-0x34c2,Hl['y']);}_0x39ea14['_node']['getWorldTr'+'ansform']();const _0x1276ad=-0x188*-0x4+-0x116c+0xb4e+0.20000000000000018,_0x1c07c6=Math['pow'](this['intensity'],_0x1276ad);_0x39ea14['intensity']=Math['pow'](_0x1c07c6/_0x37bc19,(0xd6*0x1+0x113*-0x9+0x8d6)/_0x1276ad);}}const X_=new T();class j_ extends $0{constructor(_0x4303b8){const _0x19ea3e=_0x4303b8['scene'],_0x5f4270=new $e('AmbientLig'+'ht');_0x5f4270['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x1bf*-0x1+0x58b+0x74a*-0x1),'affectLightmapped':!(-0x4eb+0x9f*-0x3a+-0x6*-0x6d3),'bake':!(0x896*-0x2+-0x9*-0x257+-0x3e3),'bakeNumSamples':_0x19ea3e['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x1*-0x1d83+0x11*-0x1f1+0x37e),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0x2529+0x17c4+0xf3b*-0x4)}),super(_0x19ea3e,_0x5f4270['light']['light'],_0x4303b8['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0xd678a2,_0x336dd8){ll['spherePoin'+'tDetermini'+'stic'](X_,_0xd678a2,_0x336dd8,-0x1*-0x20e9+0xe*-0xce+-0x15a5,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(-0x16+0x2072+-0x21*0xfb))),this['light']['_node']['rotateLoca'+'l'](0x115*-0x15+0x21b*0x4+-0x1f*-0x79,0xb8f+0x61*0x2+0xc51*-0x1,0x2511*-0x1+-0x2355+-0xc11*-0x6);const _0x1f7365=0x16f*-0x11+0x164c*-0x1+0x3*0xf8f+0.20000000000000018,_0x1995fc=(0x1fb0+-0x1f4d*0x1+-0x61)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x55327b=Math['pow'](_0x1995fc,_0x1f7365);this['light']['intensity']=Math['pow'](_0x55327b/_0x336dd8,(-0x1ecf+0x24*-0x3+0x1f3c)/_0x1f7365);}}class $l{constructor(_0x59e5b5,_0x33c907=null){this['node']=_0x59e5b5,this['component']=_0x59e5b5['render']||_0x59e5b5['model'],_0x33c907=_0x33c907||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x33c907,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=-0x2*-0x893+-0x8b8+-0x85f;class _P{constructor(_0x48f4d1){this['device']=_0x48f4d1,this['shaderDila'+'te']=Is(_0x48f4d1,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x48f4d1['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x48f4d1['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x4b3*-0x4+0x1*-0x1bf7+-0x399*-0xd),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x8c667b){this['constantTe'+'xSource']['setValue'](_0x8c667b);}['prepare'](_0x1139c9,_0x39ea20){this['pixelOffse'+'t'][0x1f93+0x7bd*0x5+0x4644*-0x1]=(0x1a29+0x3f*0x29+0x1*-0x243f)/_0x1139c9,this['pixelOffse'+'t'][0x8*-0x305+-0xa63+0x228c]=(0x1b2*-0x6+-0xc*0xfe+0x1615)/_0x39ea20,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x2410bc,_0x45227c,_0x401c21){const _0x3f2603=_0x401c21?-0x9a7*0x1+-0x1*-0x19c+0x47*0x1d:-0x1287+-0x1da4+-0x1*-0x302c;if(!this['shaderDeno'+'ise'][_0x3f2603]){const _0xe0e374='lmBilatera'+'lDeNoise-'+(_0x401c21?'hdr':'rgbm'),_0x79253f=_0x401c21?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x3f2603]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x79253f+vo['bilateralD'+'eNoisePS'],_0xe0e374),this['sigmas']=new Float32Array(-0xb*0x18+-0x10*0x209+-0x10cd*-0x2),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x6d8+0x1219+-0xb41*0x1]=_0x2410bc,this['sigmas'][-0x35f*-0x4+0xd87+-0x1b02*0x1]=_0x45227c,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x2410bc,_0x45227c);}['getDenoise'](_0x5cc0ce){const _0x2e1a82=_0x5cc0ce?0x14*-0x2+-0x8d*0x26+0xa8b*0x2:-0x1*-0x3fe+0x2*-0xe9+-0x22b;return this['shaderDeno'+'ise'][_0x2e1a82];}['getDilate'](_0x108423,_0x304348){const _0x532c63=_0x304348?-0x1*-0x11f9+-0x19*-0xdf+-0x27c0:0x68b+0xb13+0x9*-0x1f5;if(!this['shaderDila'+'te'][_0x532c63]){const _0x4cff31='lmDilate-'+(_0x304348?'hdr':'rgbm'),_0x20426e=_0x304348?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x532c63]=Is(_0x108423,X['fullscreen'+'QuadVS'],_0x20426e+vo['dilatePS'],_0x4cff31);}return this['shaderDila'+'te'][_0x532c63];}['evaluateDe'+'noiseUnifo'+'rms'](_0x578b9b,_0x4a0153){function _0x4ce093(_0x485635,_0x1d51be){return(0x13a5+-0x21bb+-0x3*-0x4b2+0.39894)*Math['exp'](-(0x16cc+0x4*-0x20e+-0xe94+0.5)*_0x485635*_0x485635/(_0x1d51be*_0x1d51be))/_0x1d51be;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x1fd98d=this['kernel'],_0x4df92a=Math['floor']((Y_-(-0x1*-0x14e9+-0x1*-0x859+-0x1*0x1d41))/(0xae5*-0x3+0x237d+0xb3*-0x4));for(let _0x431185=-0x22f8+-0x2*0x1eb+0x26ce*0x1;_0x431185<=_0x4df92a;++_0x431185){const _0xe56783=_0x4ce093(_0x431185,_0x578b9b);_0x1fd98d[_0x4df92a+_0x431185]=_0xe56783,_0x1fd98d[_0x4df92a-_0x431185]=_0xe56783;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x508097=(-0x38f*0x3+-0x8*-0x102+-0x29e*-0x1)/_0x4ce093(-0x1881+-0xd*-0x218+-0x1*0x2b7,_0x4a0153);this['bZnorm']['setValue'](_0x508097);}}class gP extends ds{constructor(_0x5ae7f1,_0x3561fc,_0x55677c,_0x41d99b,_0x24d3b1,_0x9be0af){super(_0x5ae7f1),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x3561fc,this['camera']=_0x55677c,this['worldClust'+'ers']=_0x41d99b,this['receivers']=_0x24d3b1,this['lightArray']=_0x9be0af);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2e1a86=>{_0x2e1a86['defaultUni'+'formBuffer']['destroy'](),_0x2e1a86['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1*-0x135d+0x1*0x6b9+-0x1a16;}['execute'](){const _0x32cd67=this['device'];G['pushGpuMar'+'ker'](_0x32cd67,'Lightmappe'+'r');const {renderer:_0x9a9e90,camera:_0x4dedb8,receivers:_0x524aba,renderTarget:_0x2bbce3,worldClusters:_0x1aa71e,lightArray:_0xb30cc4}=this;_0x9a9e90['renderForw'+'ardLayer'](_0x4dedb8,_0x2bbce3,null,void(-0x248e+0x78e+0x20*0xe8),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x524aba,'splitLights':_0xb30cc4,'lightClusters':_0x1aa71e}),G['popGpuMark'+'er'](_0x32cd67);}}const yP=-0x22af+-0xb9*-0x19+0x189e,xP=0x12d5+-0xefc+-0x5*0xc5,SP=-0x185f+0x1*0x25b7+-0xd57,Wl=new T();class vP{constructor(_0x3c42ed,_0x5768f9,_0x3d6c02,_0x468f37,_0x33245e){this['device']=_0x3c42ed,this['root']=_0x5768f9,this['scene']=_0x3d6c02,this['renderer']=_0x468f37,this['assets']=_0x33245e,this['shadowMapC'+'ache']=_0x468f37['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x3*-0x195+0x9*0x73+0xb5),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3ebed1;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3ebed1=this['camera'])==null||_0x3ebed1['destroy'](),this['camera']=null;}['initBake'](_0x565b78){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0xdcd+-0xaa4+0x1871),this['lightmapFi'+'lters']=new _P(_0x565b78),this['constantBa'+'keDir']=_0x565b78['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x4821bd=new ol();_0x4821bd['clearColor']['set'](-0x16*-0x3d+-0x827*0x4+0xdaf*0x2,0xbbc+0x265*-0xb+-0xe9b*-0x1,-0xe*0x62+0x170b+-0x11af*0x1,-0xbc3*0x1+0x1225*0x2+-0x17*0x111),_0x4821bd['clearColor'+'Buffer']=!(0x1ae0+0x18cb*-0x1+-0x215),_0x4821bd['clearDepth'+'Buffer']=!(0x55*0x1+0x39a+-0x3ee),_0x4821bd['clearStenc'+'ilBuffer']=!(-0x1*-0x12c3+0x15ed+-0x28af),_0x4821bd['frustumCul'+'ling']=!(-0x18*-0x88+0x1*-0x1be6+0xf27),_0x4821bd['projection']=ua,_0x4821bd['aspectRati'+'o']=-0x3*0x1+0x1a98+-0x1a94,_0x4821bd['node']=new De(),this['camera']=_0x4821bd,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x4f6274=new L0(_0x565b78['supportsAr'+'eaLights'],_0x565b78['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x4f6274;const _0x2f0682=this['scene']['lighting'];_0x4f6274['shadowsEna'+'bled']=_0x2f0682['shadowsEna'+'bled'],_0x4f6274['shadowAtla'+'sResolutio'+'n']=_0x2f0682['shadowAtla'+'sResolutio'+'n'],_0x4f6274['cookiesEna'+'bled']=_0x2f0682['cookiesEna'+'bled'],_0x4f6274['cookieAtla'+'sResolutio'+'n']=_0x2f0682['cookieAtla'+'sResolutio'+'n'],_0x4f6274['areaLights'+'Enabled']=_0x2f0682['areaLights'+'Enabled'],_0x4f6274['cells']=new T(-0x578+0x29*0xb8+-0x17fd,-0x63e+0x86f+-0x9*0x3e,-0x1*-0x1625+0xb5a*0x1+-0x4*0x85f),_0x4f6274['maxLightsP'+'erCell']=0x17ac+-0x1819+0x1*0x71,this['worldClust'+'ers']=new zu(_0x565b78),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x306df3){this['materials']=[];function _0x5ecff5(_0x44e4db){Si['decRef'](_0x44e4db['colorBuffe'+'r']),_0x44e4db['destroy']();}this['renderTarg'+'ets']['forEach'](_0x37b410=>{_0x5ecff5(_0x37b410);}),this['renderTarg'+'ets']['clear'](),_0x306df3['forEach'](_0x29aa65=>{_0x29aa65['renderTarg'+'ets']['forEach'](_0x57e19a=>{_0x5ecff5(_0x57e19a);}),_0x29aa65['renderTarg'+'ets']['length']=-0x11*-0xdd+0x1*0xa13+-0x18c0;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x56e8bd,_0x2b9633,_0x69d8ce,_0x1738d3){const _0x14310f=new cs();_0x14310f['name']='lmMaterial'+'-pass:'+_0x69d8ce+'-ambient:'+_0x1738d3,_0x14310f['chunks']['APIVersion']=hi;const _0x4215eb='#define\x20UV'+'1LAYOUT\x0a';if(_0x14310f['chunks']['transformV'+'S']=_0x4215eb+X['transformV'+'S'],_0x69d8ce===xP){let _0x1f3740=vo['bakeLmEndP'+'S'];_0x1738d3?_0x1f3740='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x2b9633['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](-0x133c*0x2+0xe3*0x3+0x23d0)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x2b9633['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x501+-0x2*0xa15+0xf2a)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x1f3740:_0x14310f['ambient']=new Y(0x143*-0x9+-0x97f+0x2*0xa6d,0x793+-0x5e0+-0x1b3,0x1d5*-0x1+0xcd2+0x1d*-0x61),_0x14310f['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x14310f['chunks']['endPS']=_0x1f3740,_0x14310f['lightMap']=this['blackTex'];}else _0x14310f['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x14310f['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x14310f['chunks']['outputAlph'+'aPS']='\x0a',_0x14310f['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x14310f['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x14310f['cull']=mt,_0x14310f['forceUv1']=!(-0x145d*0x1+-0x1386+-0x27e3*-0x1),_0x14310f['update'](),_0x14310f;}['createMate'+'rials'](_0x47a28c,_0x2b42d4,_0x57384b){for(let _0x50ed81=-0xa0c+-0x1065+0x1a71;_0x50ed81<_0x57384b;_0x50ed81++)this['passMateri'+'als'][_0x50ed81]||(this['passMateri'+'als'][_0x50ed81]=this['createMate'+'rialForPas'+'s'](_0x47a28c,_0x2b42d4,_0x50ed81,!(0xa9d+0x23*0x7a+-0xda5*0x2)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x47a28c,_0x2b42d4,-0xe6*0x2a+-0x78b+0x2d47,!(-0x913*0x1+-0x136f+0x29*0xb2)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x481d7b){return _0x481d7b['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0xf6d+0x15b6+-0x2523),_0x481d7b['litOptions']['separateAm'+'bient']=!(0xbf5*-0x1+-0x1177+0x4*0x75b),_0x481d7b;});}['createText'+'ure'](_0x16de37,_0x29ec7d){return new he(this['device'],{'profilerHint':Oy,'width':_0x16de37,'height':_0x16de37,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x1e95*-0x1+0x25a6+-0x710),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x29ec7d});}['collectMod'+'els'](_0x9c3d33,_0x132df0,_0x57815f){var _0x43eed4,_0x336719,_0x1596f2;if(!_0x9c3d33['enabled'])return;let _0x232c0a;if((_0x43eed4=_0x9c3d33['model'])!=null&&_0x43eed4['model']&&((_0x336719=_0x9c3d33['model'])!=null&&_0x336719['enabled'])&&(_0x57815f&&_0x57815f['push'](new $l(_0x9c3d33)),_0x9c3d33['model']['lightmappe'+'d']&&_0x132df0&&(_0x232c0a=_0x9c3d33['model']['model']['meshInstan'+'ces'])),(_0x1596f2=_0x9c3d33['render'])!=null&&_0x1596f2['enabled']&&(_0x57815f&&_0x57815f['push'](new $l(_0x9c3d33)),_0x9c3d33['render']['lightmappe'+'d']&&_0x132df0&&(_0x232c0a=_0x9c3d33['render']['meshInstan'+'ces'])),_0x232c0a){let _0x320447=!(-0x2d9*0x6+-0x2c9*-0xc+-0x1056);for(let _0x52f228=-0x20b5+-0x15ae+0x3663;_0x52f228<_0x232c0a['length'];_0x52f228++)if(!_0x232c0a[_0x52f228]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x9c3d33['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x320447=!(-0x261a+-0x709+0x2d24);break;}if(_0x320447){const _0x106298=[];for(let _0x5cc298=0xf1*-0x29+0x6ca+0x1fcf;_0x5cc298<_0x232c0a['length'];_0x5cc298++){const _0x43885c=_0x232c0a[_0x5cc298]['mesh'];this['_tempSet']['has'](_0x43885c)?_0x132df0['push'](new $l(_0x9c3d33,[_0x232c0a[_0x5cc298]])):_0x106298['push'](_0x232c0a[_0x5cc298]),this['_tempSet']['add'](_0x43885c);}this['_tempSet']['clear'](),_0x106298['length']>0x2149+-0x1db9+-0x8*0x72&&_0x132df0['push'](new $l(_0x9c3d33,_0x106298));}}for(let _0x5eca09=0x5e1+0x1*-0xdc9+0x7e8;_0x5eca09<_0x9c3d33['_children']['length'];_0x5eca09++)this['collectMod'+'els'](_0x9c3d33['_children'][_0x5eca09],_0x132df0,_0x57815f);}['prepareSha'+'dowCasters'](_0x4280b6){const _0x29893e=[];for(let _0x1bb1de=-0x457*0x2+0xe1b+0x1*-0x56d;_0x1bb1de<_0x4280b6['length'];_0x1bb1de++){const _0x70485d=_0x4280b6[_0x1bb1de]['component'];if(_0x70485d['castShadow'+'s']=_0x70485d['castShadow'+'sLightmap'],_0x70485d['castShadow'+'sLightmap']){const _0x3b848c=_0x4280b6[_0x1bb1de]['meshInstan'+'ces'];for(let _0x3789a1=-0x16f*0x1a+-0x1*-0x17d7+-0xd6f*-0x1;_0x3789a1<_0x3b848c['length'];_0x3789a1++)_0x3b848c[_0x3789a1]['visibleThi'+'sFrame']=!(0xabf*0x1+-0xb8c+-0xcd*-0x1),_0x29893e['push'](_0x3b848c[_0x3789a1]);}}return _0x29893e;}['updateTran'+'sforms'](_0x4c0445){for(let _0x58d2c8=-0xe24+-0x14aa+0x22ce;_0x58d2c8<_0x4c0445['length'];_0x58d2c8++){const _0x36beb2=_0x4c0445[_0x58d2c8]['meshInstan'+'ces'];for(let _0xcdd684=-0xe75*-0x1+-0x2*-0x7ca+-0x1e09;_0xcdd684<_0x36beb2['length'];_0xcdd684++)_0x36beb2[_0xcdd684]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x108c49){let _0x164425;const _0x465cb3=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x5*-0x4e8+0x2*0x730+0xa38,_0x10cb2b=Wl;let _0x4fb4f7,_0x3531c4;_0x108c49['model']?(_0x3531c4=_0x108c49['model']['lightmapSi'+'zeMultipli'+'er'],_0x108c49['model']['asset']?(_0x164425=this['assets']['get'](_0x108c49['model']['asset'])['data'],_0x164425['area']&&(_0x4fb4f7=_0x164425['area'])):_0x108c49['model']['_area']&&(_0x164425=_0x108c49['model'],_0x164425['_area']&&(_0x4fb4f7=_0x164425['_area']))):_0x108c49['render']&&(_0x3531c4=_0x108c49['render']['lightmapSi'+'zeMultipli'+'er'],_0x108c49['render']['type']!=='asset'&&_0x108c49['render']['_area']&&(_0x164425=_0x108c49['render'],_0x164425['_area']&&(_0x4fb4f7=_0x164425['_area'])));const _0x11c683={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x4fb4f7&&(_0x11c683['x']=_0x4fb4f7['x'],_0x11c683['y']=_0x4fb4f7['y'],_0x11c683['z']=_0x4fb4f7['z'],_0x11c683['uv']=_0x4fb4f7['uv']);const _0x1c376e=_0x3531c4||0x21bd*0x1+-0x181f+-0x99d;_0x11c683['x']*=_0x1c376e,_0x11c683['y']*=_0x1c376e,_0x11c683['z']*=_0x1c376e;const _0x2f29ad=_0x108c49['render']||_0x108c49['model'],_0x5e79cd=this['computeNod'+'eBounds'](_0x2f29ad['meshInstan'+'ces']);_0x10cb2b['copy'](_0x5e79cd['halfExtent'+'s']);let _0x5b8d0c=_0x11c683['x']*_0x10cb2b['y']*_0x10cb2b['z']+_0x11c683['y']*_0x10cb2b['x']*_0x10cb2b['z']+_0x11c683['z']*_0x10cb2b['x']*_0x10cb2b['y'];return _0x5b8d0c/=_0x11c683['uv'],_0x5b8d0c=Math['sqrt'](_0x5b8d0c),Math['min'](N['nextPowerO'+'fTwo'](_0x5b8d0c*_0x465cb3),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x34bfc8,_0xfd9594,_0x190ad9,_0x5892a2){for(let _0x38ed6e=-0x15c*-0xa+-0x1*0x2231+0x1499;_0x38ed6e<_0x34bfc8['length'];_0x38ed6e++){const _0x45af7d=_0x34bfc8[_0x38ed6e],_0x167e1b=_0x45af7d['meshInstan'+'ces'];for(let _0x502c0d=0x6*0x3ab+0x1a4a+-0x304c;_0x502c0d<_0x167e1b['length'];_0x502c0d++){const _0x2b02a0=_0x167e1b[_0x502c0d];if(_0x2b02a0['setLightma'+'pped'](_0xfd9594),_0xfd9594){_0x5892a2&&(_0x2b02a0['_shaderDef'+'s']|=_0x5892a2),_0x2b02a0['mask']=cr;for(let _0x598720=-0x12e3+-0x67c*0x6+-0x541*-0xb;_0x598720<_0x190ad9;_0x598720++){const _0x37668e=_0x45af7d['renderTarg'+'ets'][_0x598720]['colorBuffe'+'r'];_0x37668e['minFilter']=st,_0x37668e['magFilter']=st,_0x2b02a0['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x598720],_0x37668e);}}}}}['bake'](_0x3bd140,_0x364ccd=ch){const _0x13bdd2=this['device'],_0x168062=ne();this['scene']['_updateSky'+'Mesh'](),_0x13bdd2['fire']('lightmappe'+'r:start',{'timestamp':_0x168062,'target':this}),this['stats']['renderPass'+'es']=-0xcc4+0x1f05+-0x1241,this['stats']['shadowMapT'+'ime']=0x9b8+-0x29*0xe2+0x1a7a,this['stats']['forwardTim'+'e']=-0x2*0xeb2+-0xc16+-0x14bd*-0x2;const _0x1ae38e=_0x13bdd2['_shaderSta'+'ts']['linked'],_0x60aa64=_0x13bdd2['_renderTar'+'getCreatio'+'nTime'],_0x5f0d9e=_0x13bdd2['_shaderSta'+'ts']['compileTim'+'e'],_0x2afa65=[],_0x21f49e=[];if(_0x3bd140){for(let _0x3f7e7d=0x1147+-0x1584+0x1*0x43d;_0x3f7e7d<_0x3bd140['length'];_0x3f7e7d++)this['collectMod'+'els'](_0x3bd140[_0x3f7e7d],_0x2afa65,null);this['collectMod'+'els'](this['root'],null,_0x21f49e);}else this['collectMod'+'els'](this['root'],_0x2afa65,_0x21f49e);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x2afa65['length']>-0x3f2+0x246e+-0x207c){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0xcc7c10=_0x364ccd===ch?0x13a8+-0x6b*0x18+-0x99e:-0x224c+0x25f*0x8+0x9d*0x19;this['setLightma'+'pping'](_0x2afa65,!(0x633+-0x7*0x43c+0x1772),_0xcc7c10),this['initBake'](_0x13bdd2),this['bakeIntern'+'al'](_0xcc7c10,_0x2afa65,_0x21f49e);let _0x4169e3=Fu;_0x364ccd===ch&&(_0x4169e3|=y0),this['scene']['ambientBak'+'e']&&(_0x4169e3|=x0),this['setLightma'+'pping'](_0x2afa65,!(0x119a+-0x39*0x35+0x5cd*-0x1),_0xcc7c10,_0x4169e3),this['finishBake'](_0x2afa65);}G['popGpuMark'+'er'](this['device']);const _0x477b62=ne();this['stats']['totalRende'+'rTime']=_0x477b62-_0x168062,this['stats']['shadersLin'+'ked']=_0x13bdd2['_shaderSta'+'ts']['linked']-_0x1ae38e,this['stats']['compileTim'+'e']=_0x13bdd2['_shaderSta'+'ts']['compileTim'+'e']-_0x5f0d9e,this['stats']['fboTime']=_0x13bdd2['_renderTar'+'getCreatio'+'nTime']-_0x60aa64,this['stats']['lightmapCo'+'unt']=_0x2afa65['length'],_0x13bdd2['fire']('lightmappe'+'r:end',{'timestamp':_0x477b62,'target':this});}['allocateTe'+'xtures'](_0x5472b4,_0x375c87){for(let _0x34529d=-0x1f2f*-0x1+0x187*-0xf+-0x846;_0x34529d<_0x5472b4['length'];_0x34529d++){const _0x2050f9=_0x5472b4[_0x34529d],_0x362155=this['calculateL'+'ightmapSiz'+'e'](_0x2050f9['node']);for(let _0xb87754=0x25be*0x1+0x13e*-0xb+-0x1814;_0xb87754<_0x375c87;_0xb87754++){const _0x3e89f2=this['createText'+'ure'](_0x362155,'lightmappe'+'r_lightmap'+'_'+_0x34529d);Si['incRef'](_0x3e89f2),_0x2050f9['renderTarg'+'ets'][_0xb87754]=new pt({'colorBuffer':_0x3e89f2,'depth':!(-0x87e*-0x3+0xadb*0x3+-0x36a*0x11)});}if(!this['renderTarg'+'ets']['has'](_0x362155)){const _0x50c7ce=this['createText'+'ure'](_0x362155,'lightmappe'+'r_temp_lig'+'htmap_'+_0x362155);Si['incRef'](_0x50c7ce),this['renderTarg'+'ets']['set'](_0x362155,new pt({'colorBuffer':_0x50c7ce,'depth':!(0x42*-0x4d+0x9*-0x269+-0x14c6*-0x2)}));}}}['prepareLig'+'htsToBake'](_0x2ac332,_0x339347){if(this['scene']['ambientBak'+'e']){const _0x197c46=new j_(this);_0x339347['push'](_0x197c46);}const _0x2e6037=this['renderer']['lights'];for(let _0x2f7e99=0x19ca+0x906+0x22d0*-0x1;_0x2f7e99<_0x2e6037['length'];_0x2f7e99++){const _0x2ed52c=_0x2e6037[_0x2f7e99],_0x4e25fe=new mP(this,_0x2ed52c);_0x2ac332['push'](_0x4e25fe),_0x2ed52c['enabled']&&(_0x2ed52c['mask']&rr)!==0xbdb+-0x8ad*-0x1+-0x1488&&(_0x2ed52c['mask']=rr|cr|hs,_0x2ed52c['shadowUpda'+'teMode']=_0x2ed52c['type']===oe?Pp:cn,_0x339347['push'](_0x4e25fe));}_0x339347['sort']();}['restoreLig'+'hts'](_0x53d454){for(let _0x4fedae=-0x177a+-0x28*0x3c+0x20da;_0x4fedae<_0x53d454['length'];_0x4fedae++)_0x53d454[_0x4fedae]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x185*0x3+-0xd0+0x89*-0x7,-0x3ff*0x6+-0x7b0+0x1faa,-0x1*-0xaf5+-0xd8+-0xa1d),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x1e61e4){const _0x5ea019=new _e();if(_0x1e61e4['length']>-0x1179+-0x22c+0x13a5){_0x5ea019['copy'](_0x1e61e4[-0x1*-0xb5a+-0xbdb+0x81]['aabb']);for(let _0x50e0f9=0xaac+-0x3*0x397+-0x2*-0xd;_0x50e0f9<_0x1e61e4['length'];_0x50e0f9++)_0x5ea019['add'](_0x1e61e4[_0x50e0f9]['aabb']);}return _0x5ea019;}['computeNod'+'esBounds'](_0x348304){for(let _0x2ee1d8=-0x985*-0x3+-0x7*0x2b3+0x1*-0x9aa;_0x2ee1d8<_0x348304['length'];_0x2ee1d8++){const _0x1b4a99=_0x348304[_0x2ee1d8]['meshInstan'+'ces'];_0x348304[_0x2ee1d8]['bounds']=this['computeNod'+'eBounds'](_0x1b4a99);}}['computeBou'+'nds'](_0x450bab){const _0x4c1ba6=new _e();for(let _0x43f29d=0x164+-0x5b7*-0x1+-0x71b;_0x43f29d<_0x450bab['length'];_0x43f29d++){_0x4c1ba6['copy'](_0x450bab[-0x3df*0x1+-0x2*-0x12cb+-0x1*0x21b7]['aabb']);for(let _0x8c1dc=-0x3d0*-0x9+-0x24d+-0x2002;_0x8c1dc<_0x450bab['length'];_0x8c1dc++)_0x4c1ba6['add'](_0x450bab[_0x8c1dc]['aabb']);}return _0x4c1ba6;}['backupMate'+'rials'](_0x2fd6b6){for(let _0x515a38=-0x1dc4+-0x22*0x51+0x2886;_0x515a38<_0x2fd6b6['length'];_0x515a38++)this['materials'][_0x515a38]=_0x2fd6b6[_0x515a38]['material'];}['restoreMat'+'erials'](_0x1ff523){for(let _0x56f65b=-0x5e*-0x3a+-0xeed+-0x65f;_0x56f65b<_0x1ff523['length'];_0x56f65b++)_0x1ff523[_0x56f65b]['material']=this['materials'][_0x56f65b];}['lightCamer'+'aPrepare'](_0x12cb30,_0x61f1f0){const _0x4e46de=_0x61f1f0['light'];let _0x1bd5a9;return _0x4e46de['type']===Re&&(_0x1bd5a9=_0x4e46de['getRenderD'+'ata'](null,0x25d2+0x2399*-0x1+0x1*-0x239)['shadowCame'+'ra'],_0x1bd5a9['_node']['setPositio'+'n'](_0x4e46de['_node']['getPositio'+'n']()),_0x1bd5a9['_node']['setRotatio'+'n'](_0x4e46de['_node']['getRotatio'+'n']()),_0x1bd5a9['_node']['rotateLoca'+'l'](-(0x14ae*-0x1+0x3ff+0x1*0x1109),-0xac9*-0x1+-0x1df5+-0x4cb*-0x4,-0x9*-0x233+-0x6*0x470+0xb*0x9f),_0x1bd5a9['projection']=Gs,_0x1bd5a9['nearClip']=_0x4e46de['attenuatio'+'nEnd']/(0x31*-0x3b+0xe31+0x102),_0x1bd5a9['farClip']=_0x4e46de['attenuatio'+'nEnd'],_0x1bd5a9['aspectRati'+'o']=-0xb0+0x1181*-0x1+0x1232,_0x1bd5a9['fov']=_0x4e46de['_outerCone'+'Angle']*(-0x18d+0x14e2+0x61*-0x33),this['renderer']['updateCame'+'raFrustum'](_0x1bd5a9)),_0x1bd5a9;}['lightCamer'+'aPrepareAn'+'dCull'](_0x2ded80,_0x33df9c,_0x510052,_0x34f163){const _0x2571eb=_0x2ded80['light'];let _0x2aa89a=!(0x1019+0x28*-0xe8+0x1427);if(_0x2571eb['type']===oe){Wl['copy'](_0x34f163['center']),Wl['y']+=_0x34f163['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](Wl),this['camera']['node']['setEulerAn'+'gles'](-(-0x3a*0x71+-0x3b8+-0xc*-0x279),0x1*0x26c1+0x1*0x67f+-0xb5*0x40,0xb*-0x4f+0x1*0x22e5+-0x1f80),this['camera']['nearClip']=0x1e66*-0x1+-0x4*-0x174+0x1896,this['camera']['farClip']=_0x34f163['halfExtent'+'s']['y']*(-0x73e+0x3*0x782+-0xf46);const _0x361755=Math['max'](_0x34f163['halfExtent'+'s']['x'],_0x34f163['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x361755;}else _0x2ded80['lightBound'+'s']['intersects'](_0x33df9c['bounds'])||(_0x2aa89a=!(0x25d0+0x846+-0x2e15*0x1));if(_0x2571eb['type']===Re){let _0x27718c=!(-0x1*-0xf5f+-0x1*-0x1b55+-0x2ab3);const _0x2734d0=_0x33df9c['meshInstan'+'ces'];for(let _0x49df2c=-0x19dd+-0x17*0xa6+-0x8f*-0x49;_0x49df2c<_0x2734d0['length'];_0x49df2c++)if(_0x2734d0[_0x49df2c]['_isVisible'](_0x510052)){_0x27718c=!(0x3*0xc62+-0x220e*0x1+-0x318);break;}_0x27718c||(_0x2aa89a=!(-0x8d*0x30+0x26ad+0x1d*-0x6c));}return _0x2aa89a;}['setupLight'+'Array'](_0xef8306,_0x599b56){_0xef8306[oe]['length']=0x3*0x31b+-0x8*0x29f+-0x13*-0x9d,_0xef8306[Pe]['length']=0x1*-0x1837+0x38f*0x1+0x52a*0x4,_0xef8306[Re]['length']=-0xb3*-0x25+-0x18c1*0x1+0x1*-0x11e,_0xef8306[_0x599b56['type']][-0x1*-0x1ff9+-0x2*0x34d+-0x195f]=_0x599b56,_0x599b56['visibleThi'+'sFrame']=!(0x2312+-0x7*0x1c9+-0x1693*0x1);}['renderShad'+'owMap'](_0x4ca07b,_0x2c6268,_0x49a350,_0x1d7efe){const _0x46a540=_0x1d7efe['light'],_0x965bfb=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x391ee2=_0x46a540['castShadow'+'s']&&(!_0x965bfb||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x2c6268&&_0x391ee2){if(!_0x46a540['shadowMap']&&!_0x965bfb&&(_0x46a540['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x46a540)),_0x46a540['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x46a540,_0x4ca07b,this['camera'],_0x49a350);const _0x1c239c=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x46a540,this['camera']);_0x1c239c==null||_0x1c239c['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x18c6+-0x3*-0x867+-0x31fb);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x46a540,_0x4ca07b,_0x49a350),this['renderer']['shadowRend'+'erer']['render'](_0x46a540,this['camera'],!(-0x15f4+-0x9a4+0x1f99));}}return!(0xbf*-0xe+-0x1c06+-0x4*-0x99e);}['postproces'+'sTextures'](_0x46d69b,_0x5b29d1,_0xd631d2){const _0x4cd76c=this['lightmapFi'+'lters']['getDilate'](_0x46d69b,this['bakeHDR']);let _0x1f8f18;const _0x14c7b2=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x14c7b2&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x1f8f18=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x46d69b['setBlendSt'+'ate'](_t['NOBLEND']),_0x46d69b['setDepthSt'+'ate'](as['NODEPTH']),_0x46d69b['setStencil'+'State'](null,null);for(let _0x319ab1=0x2*-0x12ba+-0x1880+0x14*0x319;_0x319ab1<_0x5b29d1['length'];_0x319ab1++){const _0x4f562a=_0x5b29d1[_0x319ab1];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x319ab1);for(let _0x3fcc69=-0x25b*-0xb+0x17*0x139+0x85*-0x68;_0x3fcc69<_0xd631d2;_0x3fcc69++){const _0xbe0389=_0x4f562a['renderTarg'+'ets'][_0x3fcc69],_0x2a85bc=_0xbe0389['colorBuffe'+'r'],_0x83e4b1=this['renderTarg'+'ets']['get'](_0x2a85bc['width']),_0x4f2979=_0x83e4b1['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x2a85bc['width'],_0x2a85bc['height']);for(let _0x1f431e=0x15e*0xe+-0x6*-0x2c2+-0x23b0;_0x1f431e<0x1*0x1b8+0x4ed+-0x6a4;_0x1f431e++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x2a85bc),dn(_0x46d69b,_0x83e4b1,_0x14c7b2&&_0x3fcc69===0xe89*0x2+-0x10bd+0x29*-0x4d&&_0x1f431e===-0x1d2f*0x1+-0xc5*0x1+0x1df4?_0x1f8f18:_0x4cd76c),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x4f2979),dn(_0x46d69b,_0xbe0389,_0x4cd76c);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x4b9ada,_0x1d1d4a,_0x495d51){const _0x75344=this['scene'],_0x33d225=_0x75344['layers'],_0x11f9d4=this['device'],_0x4ac1f0=_0x75344['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x11f9d4,_0x75344,_0x4b9ada),this['setupScene'](),_0x33d225['_update'](),this['computeNod'+'esBounds'](_0x1d1d4a),this['allocateTe'+'xtures'](_0x1d1d4a,_0x4b9ada),this['renderer']['collectLig'+'hts'](_0x33d225);const _0x1f415d=[],_0x18c3d2=[];this['prepareLig'+'htsToBake'](_0x1f415d,_0x18c3d2),this['updateTran'+'sforms'](_0x495d51);const _0x752acc=this['prepareSha'+'dowCasters'](_0x495d51);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x752acc),this['renderer']['gpuUpdate'](_0x752acc);const _0x10e8ad=this['computeBou'+'nds'](_0x752acc);let _0x186cb5,_0x3696c3,_0x35e75e,_0x21f08a;for(_0x186cb5=-0x7*0x18e+0x7*-0x4fd+0x2dcd;_0x186cb5<_0x1d1d4a['length'];_0x186cb5++)for(_0x35e75e=_0x1d1d4a[_0x186cb5]['meshInstan'+'ces'],_0x3696c3=0x13f+-0x2b*-0xd+-0x36e;_0x3696c3<_0x35e75e['length'];_0x3696c3++)_0x21f08a=_0x35e75e[_0x3696c3],_0x21f08a['setLightma'+'pped'](!(-0x1ba0+0x3d3+0x17ce)),_0x21f08a['mask']=rr,_0x21f08a['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x6*0x19c+-0xfbe+0x616],this['blackTex']),_0x21f08a['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x2045*-0x1+-0x1773+-0x8d1],this['blackTex']);for(_0x3696c3=0x5f1*-0x5+-0x5*0xf2+0x226f;_0x3696c3<_0x18c3d2['length'];_0x3696c3++)_0x18c3d2[_0x3696c3]['light']['enabled']=!(-0x1*-0x167b+0x2120+-0x379a);const _0x5632af=[[],[],[]];let _0x153708,_0x886685,_0x2686c2=!(0x1692+-0x1296+-0x3fb);for(_0x186cb5=0xc11+0x2b7*-0xd+-0x7be*-0x3;_0x186cb5<_0x18c3d2['length'];_0x186cb5++){const _0x56531e=_0x18c3d2[_0x186cb5],_0x31aad7=_0x56531e instanceof j_,_0x2badd8=_0x56531e['light']['type']===oe;let _0x50baeb=_0x56531e['numVirtual'+'Lights'];_0x4b9ada>0x21d*0x4+0x72b+-0xf9e&&_0x50baeb>-0x231a+-0x1*-0xe71+0x211*0xa&&_0x56531e['light']['bakeDir']&&(_0x50baeb=0x25a3+-0x164f*0x1+-0xf53*0x1,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x1bf46e=0x85d*0x3+0x72*0x10+0x2037*-0x1;_0x1bf46e<_0x50baeb;_0x1bf46e++){G['pushGpuMar'+'ker'](_0x11f9d4,'Light:'+_0x56531e['light']['_node']['name']+':'+_0x1bf46e),_0x50baeb>0x9e+-0x1c4a+-0xd*-0x221&&_0x56531e['prepareVir'+'tualLight'](_0x1bf46e,_0x50baeb),_0x56531e['startBake']();let _0x5980ff=!(-0xf*0x12c+-0xe9*0x2+-0x1367*-0x1);const _0x82ea41=this['lightCamer'+'aPrepare'](_0x11f9d4,_0x56531e);for(_0x886685=-0x1f*-0x83+-0xc3e+-0x39f;_0x886685<_0x1d1d4a['length'];_0x886685++){const _0x5254c3=_0x1d1d4a[_0x886685];if(_0x35e75e=_0x5254c3['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x56531e,_0x5254c3,_0x82ea41,_0x10e8ad))continue;this['setupLight'+'Array'](_0x5632af,_0x56531e['light']);const _0x5133d3=_0x2badd8?[]:[_0x56531e['light']];for(_0x4ac1f0&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x5133d3,this['lightingPa'+'rams']),_0x5980ff=this['renderShad'+'owMap'](_0x33d225,_0x5980ff,_0x752acc,_0x56531e),_0x4ac1f0&&this['worldClust'+'ers']['update'](_0x5133d3,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x35e75e),_0x153708=-0x1e*-0x3a+-0x1*0x1d74+0x16a8;_0x153708<_0x4b9ada&&!(_0x153708>0x207*-0x9+0x16ca*0x1+-0x48b&&_0x1bf46e>0xb*0x386+0xada+-0x319c||_0x31aad7&&_0x153708>-0x634+-0x5*-0x59f+-0x3*0x74d);_0x153708++){G['pushGpuMar'+'ker'](_0x11f9d4,'LMPass:'+_0x153708);const _0x4d61ce=_0x5254c3['renderTarg'+'ets'][_0x153708],_0x132d7b=_0x5254c3['renderTarg'+'ets'][_0x153708]['colorBuffe'+'r']['width'],_0xb9fca6=this['renderTarg'+'ets']['get'](_0x132d7b),_0x44aa9e=_0xb9fca6['colorBuffe'+'r'];_0x153708===-0x15ea+0x1ed1+0x2b*-0x35?_0x2686c2=_0x75344['updateShad'+'ers']:_0x2686c2&&(_0x75344['updateShad'+'ers']=!(0x548*-0x3+-0x2125+0x30fd));let _0x15bdf3=this['passMateri'+'als'][_0x153708];for(_0x31aad7&&_0x1bf46e+(0x1f*-0xc4+0x2*0x1097+0x1*-0x971)===_0x50baeb&&_0x153708===0xfa9+0x1633+-0x25dc&&(_0x15bdf3=this['ambientAOM'+'aterial']),_0x3696c3=-0x37*0x1d+-0x5d5*-0x2+0x56f*-0x1;_0x3696c3<_0x35e75e['length'];_0x3696c3++)_0x35e75e[_0x3696c3]['material']=_0x15bdf3;if(this['renderer']['updateShad'+'ers'](_0x35e75e),_0x153708===SP&&this['constantBa'+'keDir']['setValue'](_0x56531e['light']['bakeDir']?-0x17e2+-0x2451*-0x1+0x56*-0x25:-0x444+-0x19*-0x13f+-0x1ae3*0x1),_0x11f9d4['isWebGPU']){const _0xecab2e=new gP(_0x11f9d4,this['renderer'],this['camera'],_0x4ac1f0?this['worldClust'+'ers']:null,_0x35e75e,_0x5632af);_0xecab2e['init'](_0xb9fca6),_0xecab2e['render'](),_0xecab2e['destroy']();}else this['renderer']['setCamera'](this['camera'],_0xb9fca6,!(-0x2303+-0x1eb*0x11+0x482*0xf)),_0x4ac1f0&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0xd2*0x29+0x1d57+0x157*-0x2f,this['renderer']['_shadowMap'+'Time']=0x4e7*-0x7+-0xd77+0x2fc8,this['renderer']['renderForw'+'ard'](this['camera'],_0xb9fca6,_0x35e75e,_0x5632af,gn),_0x11f9d4['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x5254c3['renderTarg'+'ets'][_0x153708]=_0xb9fca6,this['renderTarg'+'ets']['set'](_0x132d7b,_0x4d61ce),_0x3696c3=-0x151+-0x1d4*-0xf+-0x1a1b;_0x3696c3<_0x35e75e['length'];_0x3696c3++)_0x21f08a=_0x35e75e[_0x3696c3],_0x21f08a['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x153708],_0x44aa9e),_0x21f08a['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x11f9d4);}this['restoreMat'+'erials'](_0x35e75e);}_0x56531e['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x11f9d4);}}for(this['postproces'+'sTextures'](_0x11f9d4,_0x1d1d4a,_0x4b9ada),_0x886685=0x3df*-0x1+0x695+-0x2b6;_0x886685<_0x495d51['length'];_0x886685++)_0x495d51[_0x886685]['restore']();this['restoreLig'+'hts'](_0x1f415d),this['restoreSce'+'ne'](),_0x4ac1f0||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x1a8298,_0x3bf88d){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x1a8298,this['entity']=_0x3bf88d,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x5a4136,_0x17fd8e,_0x3e6f40){this['fire']('set_'+_0x5a4136,_0x5a4136,_0x17fd8e,_0x3e6f40);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x572712,_0x2f4752){_0x2f4752['forEach'](_0x372a33=>{const _0x42b1a7=typeof _0x372a33=='object'?_0x372a33['name']:_0x372a33;Object['defineProp'+'erty'](_0x572712,_0x42b1a7,{'get':function(){return this['data'][_0x42b1a7];},'set':function(_0x5e3e6b){const _0x1b96d1=this['data'],_0x1e1467=_0x1b96d1[_0x42b1a7];_0x1b96d1[_0x42b1a7]=_0x5e3e6b,this['fire']('set',_0x42b1a7,_0x1e1467,_0x5e3e6b);},'configurable':!(-0x1*-0xa1f+0x1d01+-0x2720)});}),_0x572712['_accessors'+'Built']=!(-0xf29+-0x169f+-0x138*-0x1f);}['buildAcces'+'sors'](_0xb5ca7){oc['_buildAcce'+'ssors'](this,_0xb5ca7);}['onSetEnabl'+'ed'](_0x142dd0,_0x1afb03,_0x333892){_0x1afb03!==_0x333892&&this['entity']['enabled']&&(_0x333892?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x397470=this['system']['store'][this['entity']['getGuid']()];return _0x397470?_0x397470['data']:null;}set['enabled'](_0x395725){}get['enabled'](){return!(0x85d+-0xa0e+-0x1*-0x1b1);}};c(oc,'order',-0xa56+0x7*0x515+-0x5b*0x47);let ue=oc;class Xe extends ce{constructor(_0x1daf69){super(),this['app']=_0x1daf69,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x39eab8,_0x5417a={}){const _0x2b2943=new this['ComponentT'+'ype'](this,_0x39eab8),_0x59571f=new this['DataType']();return this['store'][_0x39eab8['getGuid']()]={'entity':_0x39eab8,'data':_0x59571f},_0x39eab8[this['id']]=_0x2b2943,_0x39eab8['c'][this['id']]=_0x2b2943,this['initialize'+'ComponentD'+'ata'](_0x2b2943,_0x5417a,[]),this['fire']('add',_0x39eab8,_0x2b2943),_0x2b2943;}['removeComp'+'onent'](_0x31753a){const _0x5ea376=this['id'],_0x11ae82=this['store'][_0x31753a['getGuid']()],_0x3a4703=_0x31753a['c'][_0x5ea376];_0x3a4703['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x31753a,_0x3a4703),delete this['store'][_0x31753a['getGuid']()],_0x31753a[_0x5ea376]=void(0x2090+0x1489+-0x3519),delete _0x31753a['c'][_0x5ea376],this['fire']('remove',_0x31753a,_0x11ae82['data']);}['cloneCompo'+'nent'](_0x41ce2f,_0x2fc4ed){const _0x815b43=this['store'][_0x41ce2f['getGuid']()];return this['addCompone'+'nt'](_0x2fc4ed,_0x815b43['data']);}['initialize'+'ComponentD'+'ata'](_0xcbf620,_0xb9e6de={},_0x52b333){for(let _0x2f18c1=-0x333+0x3f*0x4e+-0xfff,_0x1aea8f=_0x52b333['length'];_0x2f18c1<_0x1aea8f;_0x2f18c1++){const _0x4d2660=_0x52b333[_0x2f18c1];let _0x41ceaa,_0x4b99ab;typeof _0x4d2660=='object'?(_0x41ceaa=_0x4d2660['name'],_0x4b99ab=_0x4d2660['type']):(_0x41ceaa=_0x4d2660,_0x4b99ab=void(0xbf*-0x15+0x7e2+0x7c9));let _0x2a95d9=_0xb9e6de[_0x41ceaa];_0x2a95d9!==void(-0x763+0xc*0x121+-0x629)?(_0x4b99ab!==void(0x42f*0x5+0x1*-0x224f+0xd64)&&(_0x2a95d9=bP(_0x2a95d9,_0x4b99ab)),_0xcbf620[_0x41ceaa]=_0x2a95d9):_0xcbf620[_0x41ceaa]=_0xcbf620['data'][_0x41ceaa];}_0xcbf620['enabled']&&_0xcbf620['entity']['enabled']&&_0xcbf620['onEnable']();}['getPropert'+'iesOfType'](_0x1811fd){const _0x5c9fb4=[];return(this['schema']||[])['forEach'](_0x1117fe=>{_0x1117fe&&typeof _0x1117fe=='object'&&_0x1117fe['type']===_0x1811fd&&_0x5c9fb4['push'](_0x1117fe);}),_0x5c9fb4;}['destroy'](){this['off']();}}function bP(_0x3aca82,_0x2b798f){if(!_0x3aca82)return _0x3aca82;switch(_0x2b798f){case'rgb':return _0x3aca82 instanceof Y?_0x3aca82['clone']():new Y(_0x3aca82[-0x1*-0x164f+0x1e30+-0x347f],_0x3aca82[-0x1*0xbe9+0xbcc*-0x1+0x17b6*0x1],_0x3aca82[-0xc5b*0x3+-0x800+0x2d13*0x1]);case'rgba':return _0x3aca82 instanceof Y?_0x3aca82['clone']():new Y(_0x3aca82[0x3*0x925+-0x756*0x5+-0x9*-0x107],_0x3aca82[-0x1569+0x927+0xc43],_0x3aca82[-0xb2*-0x6+0x1*0xa69+0x11f*-0xd],_0x3aca82[-0x1e17*-0x1+-0x7a*-0x4+0x1*-0x1ffc]);case'vec2':return _0x3aca82 instanceof $?_0x3aca82['clone']():new $(_0x3aca82[0xb3d+0x1*-0x26ba+0x1b7d],_0x3aca82[0x321+0x232c+-0x264c]);case'vec3':return _0x3aca82 instanceof T?_0x3aca82['clone']():new T(_0x3aca82[0x1258*0x1+-0xd8c+0x2*-0x266],_0x3aca82[-0x7*-0x2ca+-0x267b+0x12f6],_0x3aca82[-0x1*-0x11a5+-0xe3*0x13+-0xca]);case'vec4':return _0x3aca82 instanceof Q?_0x3aca82['clone']():new Q(_0x3aca82[-0x7*0x3ac+0x9*0x1ce+0x976],_0x3aca82[-0x6*-0x147+-0x1f5e+0x17b5],_0x3aca82[0x4*0x6b1+0x11e+0xdf*-0x20],_0x3aca82[-0x24b0+0xa1e+-0x551*-0x5]);case'boolean':case'number':case'string':return _0x3aca82;case'entity':return _0x3aca82;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x2b798f);}}const W0=0x163+-0x17*-0x1d+0x3fe*-0x1,ju=0xf77+0x5*0x3be+-0x222c,Yu=0x2*0x640+-0x35*-0x95+-0x1*0x2b57;class wP{constructor(){this['_left']=(-0x1ded+-0x1*-0x1b14+0x2da)/(-0x65*0x35+-0x231f+0x3808),this['_right']=-(-0x995+0x125d*-0x2+0x2e50)/(-0x1*-0x18a7+0x5*-0x79d+0xd6a),this['_len']=-0x2e9+-0x930+0xc19*0x1,this['_recip']=0x1187+-0x5db*0x1+-0xbac,this['_p0']=-0x33a*0xa+-0x1b25+0x3b69,this['_p1']=0x38d+-0x20ab+-0x2*-0xe8f,this['_t']=0xa9*-0x6+-0x1de9+0x21df,this['_hermite']={'valid':!(0x32*-0x9b+-0xcb3*0x2+0x37ad),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0xe409ac,_0x3d9185){if(_0xe409ac<this['_left']||_0xe409ac>=this['_right']){const _0x575c94=_0x3d9185['length'];if(!_0x575c94)this['_left']=-(0x1dc+0x86a*-0x2+-0x1*-0xef9)/(0x1eb8+-0x1ed4+0x1c),this['_right']=(0x2*-0x957+0x175*-0x15+0x4*0xc52)/(0x1d2+-0x2598+0x23c6),this['_len']=0x14cb*-0x1+-0x100b+0x5*0x75e,this['_recip']=0x563*0x1+0x255b+-0x2abe,this['_p0']=this['_p1']=0x148c+0x6d*0x45+-0x31ed*0x1;else{if(_0xe409ac<_0x3d9185[-0x12a*0x6+-0x2*0x4+0x704])this['_left']=-(-0x6d5*0x3+0x37*-0x1+-0x14b7*-0x1)/(-0x1122+0x80c*-0x4+0x76*0x6b),this['_right']=_0x3d9185[-0xb3b+-0x12eb+0x1e26],this['_len']=0xf45+0x6*-0xdc+-0xa1d*0x1,this['_recip']=0xc*-0x31f+0x6b0+0x1ec4,this['_p0']=this['_p1']=0x1220+0x337*0x6+-0x256a;else{if(_0xe409ac>=_0x3d9185[_0x575c94-(0x31f*-0x4+-0x12e4+0x1f61)])this['_left']=_0x3d9185[_0x575c94-(-0x36e+-0x506*0x1+-0x875*-0x1)],this['_right']=(0x324+0x2e*0xd7+0x121*-0x25)/(-0xb7*0x29+0xb51*-0x1+0x28a0),this['_len']=-0x16b3+-0x1894+0x2f47,this['_recip']=0x247d+-0xe37+-0x1646,this['_p0']=this['_p1']=_0x575c94-(-0x2379+-0x8*-0x6d+0x2012);else{const _0x3079d0=this['_findKey'](_0xe409ac,_0x3d9185);this['_left']=_0x3d9185[_0x3079d0],this['_right']=_0x3d9185[_0x3079d0+(0x15b*-0x19+0xe53*0x1+0x1391)],this['_len']=this['_right']-this['_left'];const _0x3cf29a=(-0x125*-0xb+0x62e*0x1+0x4b1*-0x4)/this['_len'];this['_recip']=isFinite(_0x3cf29a)?_0x3cf29a:-0x1948+0x1ff2+-0x6aa,this['_p0']=_0x3079d0,this['_p1']=_0x3079d0+(0x159*0x11+0x73b+-0x1e23);}}}}this['_t']=this['_recip']===-0x29*-0x6b+0xaa*0x16+-0x387*0x9?0x26ff+-0x1*-0x2c9+-0x29c8:(_0xe409ac-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x43*0x65+-0x28*0xe9+0x9fa);}['_findKey'](_0x2e45c9,_0x16931e){let _0x1552c0=-0x3*0xa37+-0x15ea+0x348f;for(;_0x2e45c9>=_0x16931e[_0x1552c0+(0x1d08+-0x210d+-0x2*-0x203)];)_0x1552c0++;return _0x1552c0;}['eval'](_0x29863e,_0x3fec2d,_0x48e8e0){const _0x261a95=_0x48e8e0['_data'],_0x15334d=_0x48e8e0['_component'+'s'],_0x1e2020=this['_p0']*_0x15334d;if(_0x3fec2d===W0){for(let _0x34dbae=-0x24dd*-0x1+-0xa*0x316+-0x601;_0x34dbae<_0x15334d;++_0x34dbae)_0x29863e[_0x34dbae]=_0x261a95[_0x1e2020+_0x34dbae];}else{const _0x38ef5f=this['_t'],_0x33de97=this['_p1']*_0x15334d;switch(_0x3fec2d){case ju:for(let _0x3bdc2b=0x2cd*-0xd+-0x3*0xbda+0x47f7;_0x3bdc2b<_0x15334d;++_0x3bdc2b)_0x29863e[_0x3bdc2b]=N['lerp'](_0x261a95[_0x1e2020+_0x3bdc2b],_0x261a95[_0x33de97+_0x3bdc2b],_0x38ef5f);break;case Yu:{const _0x5d0236=this['_hermite'];if(!_0x5d0236['valid']){const _0x461808=_0x38ef5f*_0x38ef5f,_0x59728d=_0x38ef5f+_0x38ef5f,_0x239d9d=0x57f+0x1*0x21e2+-0xd2*0x30-_0x38ef5f,_0x1ec53d=_0x239d9d*_0x239d9d;_0x5d0236['valid']=!(0x15d3*-0x1+-0xa3*0xd+0x1e1a*0x1),_0x5d0236['p0']=(0xaba*0x2+-0xb43+0x4*-0x28c+_0x59728d)*_0x1ec53d,_0x5d0236['m0']=_0x38ef5f*_0x1ec53d,_0x5d0236['p1']=_0x461808*(0x1*-0x151f+-0x12bb+-0x9d*-0x41-_0x59728d),_0x5d0236['m1']=_0x461808*(_0x38ef5f-(0xdc9*0x1+0xd*0x2b1+-0x30c5));}const _0x43c32f=(this['_p0']*(0xcf9+0x5d*0x59+-0x2d4b)+(0x9d3*0x3+0x263b+-0x43b3))*_0x15334d,_0x41e69f=(this['_p0']*(-0x1885+0x1bde+-0x356)+(0x31c+-0x30a+-0x8*0x2))*_0x15334d,_0x3e8ff4=(this['_p1']*(0x1b82*0x1+-0xd0c+0xe73*-0x1)+(0x123+-0x20d3+0x1fb1))*_0x15334d,_0x114cc7=(this['_p1']*(-0x138*0x1e+0xb34+0x195f)+(0xf35*-0x2+-0x1b46+0x39b0))*_0x15334d;for(let _0x271060=-0x11f1+0x862*0x1+-0x1*-0x98f;_0x271060<_0x15334d;++_0x271060)_0x29863e[_0x271060]=_0x5d0236['p0']*_0x261a95[_0x43c32f+_0x271060]+_0x5d0236['m0']*_0x261a95[_0x41e69f+_0x271060]*this['_len']+_0x5d0236['p1']*_0x261a95[_0x3e8ff4+_0x271060]+_0x5d0236['m1']*_0x261a95[_0x114cc7+_0x271060]*this['_len'];break;}}}}}class K_{constructor(_0x3f9bdb){this['_name']=_0x3f9bdb['name']+'Snapshot',this['_time']=-(0x1c2f+-0x277+-0x19b7),this['_cache']=[],this['_results']=[];for(let _0x39b351=0x25f0+-0x1de2+-0x1*0x80e;_0x39b351<_0x3f9bdb['_inputs']['length'];++_0x39b351)this['_cache'][_0x39b351]=new wP();const _0x422310=_0x3f9bdb['_curves'],_0x1852e0=_0x3f9bdb['_outputs'];for(let _0x4da849=-0x6fd*0x4+0x217d+-0x589;_0x4da849<_0x422310['length'];++_0x4da849){const _0x4c801f=_0x422310[_0x4da849],_0x590301=_0x1852e0[_0x4c801f['_output']],_0x157e15=[];for(let _0x4dc5a6=-0x1937+0x1f5a*-0x1+0x1*0x3891;_0x4dc5a6<_0x590301['_component'+'s'];++_0x4dc5a6)_0x157e15[_0x4dc5a6]=0x1109*0x1+-0x12d9+-0x10*-0x1d;this['_results'][_0x4da849]=_0x157e15;}}}const Eo=class Eo{constructor(_0x4727b0,_0x30bdc1,_0x4119fc,_0x1f027e,_0x51a84c,_0x2188a6){this['_name']=_0x4727b0['name'],this['_track']=_0x4727b0,this['_snapshot']=new K_(_0x4727b0),this['_playing']=_0x1f027e,this['_time']=_0x30bdc1,this['_speed']=_0x4119fc,this['_loop']=_0x51a84c,this['_blendWeig'+'ht']=-0x5c*-0x1c+0x1900+0x703*-0x5,this['_blendOrde'+'r']=0x1a24+0x31f+0x3*-0x9c1,this['_eventHand'+'ler']=_0x2188a6,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x4e135b){this['_name']=_0x4e135b;}get['name'](){return this['_name'];}set['track'](_0x430ee2){this['_track']=_0x430ee2,this['_snapshot']=new K_(_0x430ee2);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x4c328b){this['_time']=_0x4c328b,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x27fcb1){const _0x3d342e=Math['sign'](_0x27fcb1)!==Math['sign'](this['_speed']);this['_speed']=_0x27fcb1,_0x3d342e&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x27f804){this['_loop']=_0x27f804;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0xc5831){this['_blendWeig'+'ht']=_0xc5831;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x2e426a){this['_blendOrde'+'r']=_0x2e426a;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x3dc2bd){this['_eventCurs'+'or']=_0x3dc2bd;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0xd3c+-0x15a1+0x865:this['_track']['events']['length']-(-0x2*0x35+0x736*-0x5+0x2479);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x73*0x47+0x59*0x35+-0x10c6*0x3;}['nextEventA'+'headOfTime'](_0x4f57c7){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x4f57c7:this['nextEvent']['time']>=_0x4f57c7:!(0xc2f+0x269*-0x7+-0x1*-0x4b1);}['nextEventB'+'ehindTime'](_0xba0c58){return this['nextEvent']?_0xba0c58===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0xba0c58:this['nextEvent']['time']<=_0xba0c58:this['isReverse']?this['nextEvent']['time']>_0xba0c58:this['nextEvent']['time']<_0xba0c58:!(-0x267d+-0x1bb+-0x1*-0x2839);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x682*-0x1+0x17*-0x107+0x1e24):-0xa4*-0xb+-0xd*-0x61+-0xbf9;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x4e0*-0x7+0x26f2+-0x4d1):0x2627+0x155e+-0x3b84,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x10e*-0x24+0x5c4*-0x2+0x2f0*-0x9:this['_eventCurs'+'or']<-0x3*0xa54+-0x2275+0x4171&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x4*-0x83a+-0xd*-0x2d9+0x22f6*-0x2));}['clipFrameT'+'ime'](_0x532753){const _0x350055=Eo['eventFrame'];_0x350055['start']=-0x1d4d*0x1+-0x1*-0x752+0x11*0x14b,_0x350055['end']=_0x532753,_0x350055['residual']=-0x1c*-0x157+-0x58b+-0x5*0x665,this['isReverse']?_0x532753<0x1d63+-0x8e7*-0x1+-0x264a&&(_0x350055['start']=this['track']['duration'],_0x350055['end']=-0x12e3+0xe07+0x4dc,_0x350055['residual']=_0x532753+this['track']['duration']):_0x532753>this['track']['duration']&&(_0x350055['start']=0xfe*-0x6+0x1b56+-0x1562,_0x350055['end']=this['track']['duration'],_0x350055['residual']=_0x532753-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x4bc49a,_0x3cf664){return this['nextEventA'+'headOfTime'](_0x4bc49a)&&this['nextEventB'+'ehindTime'](_0x3cf664)?(this['fireNextEv'+'ent'](),!(0x12bc+-0x22ea+-0xda*-0x13)):!(0x24a8+-0xbd2+-0x18d5);}['activeEven'+'tsForFrame'](_0xf7b31,_0x309447){const _0x1e2863=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x309447);const _0x5c0139=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0xf7b31,_0x1e2863['end'])&&_0x5c0139!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x1e2863['residual'])>-0x6aa+-0x1134+0x17de&&this['activeEven'+'tsForFrame'](_0x1e2863['start'],_0x1e2863['residual']);}['progressFo'+'rTime'](_0x4ced36){return _0x4ced36*this['_speed']/this['_track']['duration'];}['_update'](_0x17426e){if(this['_playing']){let _0x373e6b=this['_time'];const _0x2ccb85=this['_track']['duration'],_0x568602=this['_speed'],_0x5ab772=this['_loop'];this['_track']['events']['length']>-0x91*0x15+-0x261*-0x1+-0x74*-0x15&&_0x2ccb85>0x17c5+0x496*0x1+-0x1c5b&&this['activeEven'+'tsForFrame'](_0x373e6b,_0x373e6b+_0x568602*_0x17426e),_0x373e6b+=_0x568602*_0x17426e,_0x568602>=0x2370+-0x100a+0xd*-0x17e?_0x373e6b>_0x2ccb85&&(_0x5ab772?_0x373e6b=_0x373e6b%_0x2ccb85||0x335*-0x1+-0x1f*-0x13+-0xe8*-0x1:(_0x373e6b=this['_track']['duration'],this['pause']())):_0x373e6b<-0x106c+0x1f2e+-0xec2&&(_0x5ab772?_0x373e6b=_0x2ccb85+(_0x373e6b%_0x2ccb85||0x1f52*0x1+0x11*-0x73+0x3*-0x7e5):(_0x373e6b=-0x7b6+0x1*-0x23dd+0x1e5*0x17,this['pause']())),this['_time']=_0x373e6b;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x10c6+-0x100*0x16+0x53a),this['_time']=-0x65c+0x1*0x427+-0x235*-0x1;}['stop'](){this['_playing']=!(-0x1dc*-0x5+-0x551*-0x1+-0xe9c),this['_time']=-0x106*-0x1c+0x51*-0x4e+0x2*-0x1fd;}['pause'](){this['_playing']=!(-0x24fb*-0x1+0xe4b+-0x36b*0xf);}['resume'](){this['_playing']=!(0x1d4e*0x1+0x17a3+0x34f1*-0x1);}['reset'](){this['_time']=0x16cf+-0x2527+0x9*0x198;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x3b362f,_0xe14d9f){const _0x1d3fdf=_0x3b362f['length'];let _0x30a329=-0x1bf7*-0x1+-0x1*0x21f5+0x5fe*0x1;for(let _0x28c6e5=-0x67*0x2+0x125d+-0x118f;_0x28c6e5<_0x1d3fdf;++_0x28c6e5)_0x30a329+=_0x3b362f[_0x28c6e5]*_0xe14d9f[_0x28c6e5];return _0x30a329;}static['normalize'](_0x265d6e){let _0x3186c1=Tt['dot'](_0x265d6e,_0x265d6e);if(_0x3186c1>-0x1739+0x1eab+-0x2*0x3b9){_0x3186c1=(0x1b9c+-0x379*0x3+-0x1130)/Math['sqrt'](_0x3186c1);const _0x2b3d57=_0x265d6e['length'];for(let _0x57954e=0xcc9*-0x1+0xb*0x1+0xcbe*0x1;_0x57954e<_0x2b3d57;++_0x57954e)_0x265d6e[_0x57954e]*=_0x3186c1;}}static['set'](_0x3d0e9a,_0x4f4e36,_0x2b3316){const _0x24f9fb=_0x3d0e9a['length'];if(_0x2b3316==='quaternion'){let _0x2437f5=Tt['dot'](_0x4f4e36,_0x4f4e36);_0x2437f5>0x14e+-0x235*0x7+0xe25*0x1&&(_0x2437f5=(0x90b*-0x4+0x754*-0x5+0x48d1)/Math['sqrt'](_0x2437f5));for(let _0x87b3ed=-0x124*-0x7+0x1*0x23e3+-0x2bdf;_0x87b3ed<_0x24f9fb;++_0x87b3ed)_0x3d0e9a[_0x87b3ed]=_0x4f4e36[_0x87b3ed]*_0x2437f5;}else{for(let _0x457498=-0x1f63+0x229e+-0x1*0x33b;_0x457498<_0x24f9fb;++_0x457498)_0x3d0e9a[_0x457498]=_0x4f4e36[_0x457498];}}static['blendVec'](_0x240041,_0x3de373,_0x38585a,_0x36125b){const _0x3f3db1=_0x36125b?0x2*-0x8c2+0x139c+-0x217:0x1d82+0x1cd4+-0x3a55*0x1-_0x38585a,_0x3f5202=_0x240041['length'];for(let _0x274653=-0x199+-0x190+0x329;_0x274653<_0x3f5202;++_0x274653)_0x240041[_0x274653]=_0x240041[_0x274653]*_0x3f3db1+_0x3de373[_0x274653]*_0x38585a;}static['blendQuat'](_0x3a1a47,_0x57b4ea,_0x1875bf,_0x5731d9){const _0x2cb0aa=_0x3a1a47['length'],_0x4bf8db=_0x5731d9?0x26f4+-0x191b*0x1+-0x376*0x4:-0x2*-0x22f+0xf87+-0x13e4-_0x1875bf;Tt['dot'](_0x3a1a47,_0x57b4ea)<-0x168d+-0x219e+0x382b&&(_0x1875bf=-_0x1875bf);for(let _0x652fef=-0x1*0xb9e+-0x2704+0x32a2;_0x652fef<_0x2cb0aa;++_0x652fef)_0x3a1a47[_0x652fef]=_0x3a1a47[_0x652fef]*_0x4bf8db+_0x57b4ea[_0x652fef]*_0x1875bf;_0x5731d9||Tt['normalize'](_0x3a1a47);}static['blend'](_0x474135,_0x5d1e23,_0x468800,_0xb91290,_0x3bdf33){_0xb91290==='quaternion'?Tt['blendQuat'](_0x474135,_0x5d1e23,_0x468800,_0x3bdf33):Tt['blendVec'](_0x474135,_0x5d1e23,_0x468800,_0x3bdf33);}static['stableSort'](_0x207758,_0x37f710){const _0x58b1ce=_0x207758['length'];for(let _0x40e0df=-0xeb2*0x2+-0x1bdf+0x89*0x6b;_0x40e0df<_0x58b1ce-(-0x252e+0xf3a+-0x323*-0x7);++_0x40e0df)for(let _0x2527c3=_0x40e0df+(0x26d3+0x23f6+-0x4ac8);_0x2527c3<_0x58b1ce;++_0x2527c3)if(_0x37f710(_0x207758[_0x2527c3],_0x207758[_0x40e0df])){const _0x5eef0a=_0x207758[_0x40e0df];_0x207758[_0x40e0df]=_0x207758[_0x2527c3],_0x207758[_0x2527c3]=_0x5eef0a;}}}const Ue=class Ue{constructor(_0x394878,_0x3747fa){this['_component']=_0x394878,this['mask']=new Int8Array(_0x394878['layers']['length']),this['weights']=new Float32Array(_0x394878['layers']['length']),this['totalWeigh'+'t']=-0x1*0x21e2+0x7*-0x109+0x2921*0x1,this['counter']=0x33*-0x2b+-0x7*0x3ce+0x2333,this['layerCount'+'er']=0x11e5*-0x2+0x92*0xb+0x1d84,this['valueType']=_0x3747fa,this['dirty']=!(0x4f*-0x7+0x1*-0x99d+0xbc6),this['value']=_0x3747fa===Ue['TYPE_QUAT']?[-0x1fcc+-0x133d+-0x43*-0xc3,-0x1606+-0x2525*-0x1+-0xf1f,-0x66b+-0x2363+-0x2*-0x14e7,-0x972+-0x1754+0x20c7]:[-0x5e6*-0x1+0x297*-0xd+0x1*0x1bc5,-0xe+-0x9c7*-0x1+-0x9b9,0x1640+-0x1*-0x508+-0x1b48],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x59cb5d){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x4*0x529+0xde4+0x6c0||!this['mask'][_0x59cb5d]?-0x19bc+0x9*-0x42+0x1c0e:this['_normalize'+'Weights']?this['weights'][_0x59cb5d]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x59cb5d],0x1440+0xe*-0x2c5+-0x2*-0x943,0x24*0x8a+-0x3a9*-0x3+0x1e62*-0x1);}['_layerBlen'+'dType'](_0xccf73c){return this['_component']['layers'][_0xccf73c]['blendType'];}['setMask'](_0x3fd8a8,_0x2541fc){this['mask'][_0x3fd8a8]=_0x2541fc,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x3fd8a8]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0x226a+-0x1f*-0xb0+0x22f*0x6,0x23*0x13+0x1*0x16a9+0x6a*-0x3d,_0x3fd8a8)),this['dirty']=!(0x24c6+0xc1*-0x1+-0x2405*0x1));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0xbb4+-0x18a3+-0x4d*-0x2b;for(let _0x1cb284=-0xed5+0x324*0xc+-0x16db;_0x1cb284<this['weights']['length'];_0x1cb284++)this['weights'][_0x1cb284]=this['_component']['layers'][_0x1cb284]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x1cb284]*this['weights'][_0x1cb284];this['dirty']=!(0x1b1b+-0xfab+0xb6f*-0x1);}['updateValu'+'e'](_0x2a8123,_0xa80b14){if(this['counter']===-0xafd+-0x4ab+0x14e*0xc&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],-0x123e+-0x223+0x1462,this['valueType'])),!(!this['mask'][_0x2a8123]||this['getWeight'](_0x2a8123)===-0x1b4a+-0x2ec+-0xa12*-0x3)){if(this['_layerBlen'+'dType'](_0x2a8123)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0xa7505b=Ue['q1']['set'](this['value'][0xbbe+0x1a3e+-0x8f*0x44],this['value'][0x1*0xe27+-0x154+-0x2*0x669],this['value'][0x818+-0x1d30+0x151a],this['value'][0x5*-0x6dc+-0x2*0x1eb+0x9*0x43d]),_0x3ff547=Ue['q2']['set'](this['baseValue'][-0x4*-0x272+-0x12bb+0x8f3],this['baseValue'][0x224*-0x2+-0xe35+0x127e],this['baseValue'][0x2579+0xf22+-0x3499],this['baseValue'][-0x476+-0x165b+-0x6b5*-0x4]),_0x9fb688=Ue['q3']['set'](_0xa80b14[-0x1201+-0x11d+0x131e*0x1],_0xa80b14[-0x2394+-0xc4b*-0x2+-0x1*-0xaff],_0xa80b14[-0x2*0x71f+0x19e9+-0xba9],_0xa80b14[0x618+-0x8d*0x2f+0x1e*0xa9]),_0x2b641a=_0x3ff547['invert']()['mul'](_0x9fb688);_0x2b641a['slerp'](se['IDENTITY'],_0x2b641a,this['getWeight'](_0x2a8123)),_0xa7505b['mul'](_0x2b641a),Ue['quatArr'][-0x530+0x2528+-0xc*0x2aa]=_0xa7505b['x'],Ue['quatArr'][0x3f*0x35+0x1130+0x1e3a*-0x1]=_0xa7505b['y'],Ue['quatArr'][-0x24f8+0x17e*-0xf+0x3b5c]=_0xa7505b['z'],Ue['quatArr'][-0x2317+0xe3*0xf+0x15cd]=_0xa7505b['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][0xbfa+0x260b+-0x3205]=_0xa80b14[0x2c*-0x35+-0xc1*-0x31+-0x1bd5]-this['baseValue'][0x1af*0x1+0x27e+-0x42d],Ue['vecArr'][-0xfaf+0x11*-0x25+0x1225]=_0xa80b14[-0xfd8+0x10aa+0x13*-0xb]-this['baseValue'][0xe*-0x1f7+-0x1e02+-0x5f*-0x9b],Ue['vecArr'][0x1*-0x1a8a+-0x5a5*-0x2+0xf42]=_0xa80b14[-0x1cf1+-0x1e19+0x2*0x1d86]-this['baseValue'][-0x1528+0x56*0x22+-0x1*-0x9be],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x2a8123),this['valueType'],!(0x65*0xb+-0x1fc9*0x1+0x6*0x493));}else Tt['blend'](this['value'],_0xa80b14,this['getWeight'](_0x2a8123),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0x3*0x3e8+0x186a+0xa*-0x145,-0x1d25+-0xff+0x1e24,0x3*-0x9ed+-0xc7*-0x15+-0xc*-0x11f,-0xbe9*0x3+-0x1b9e+0x3f5a*0x1]),c(Ue,'vecArr',[-0x219+-0x4*-0xa7+0x1*-0x83,0x15de+0x18f+-0x176d,0x23e6+-0x1*0x1f7c+-0x235*0x2]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[-0x1145*-0x1+-0x26ad*0x1+-0x4*-0x55a,0x8c6+-0x1274+0x19d*0x6,0x59*-0xf+0x1*-0x11f7+0x81*0x2e,-0x22e1+0x1*-0x169a+0x397c]);let bo=Ue;class j0{constructor(_0x42e18c){this['_binder']=_0x42e18c,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0xaffa1e){const _0x5f1375=this['_targets'],_0x3075d0=this['_binder'],_0x5b16a1=_0xaffa1e['track']['curves'],_0x311296=_0xaffa1e['snapshot'],_0x356283=[],_0x5f4955=[];for(let _0x195ae0=-0x11*-0x22d+-0x2*-0x5ae+-0x3059;_0x195ae0<_0x5b16a1['length'];++_0x195ae0){const _0x21a836=_0x5b16a1[_0x195ae0]['paths'];for(let _0x3b6c92=0x379*-0x5+0x1289*-0x1+0x397*0xa;_0x3b6c92<_0x21a836['length'];++_0x3b6c92){const _0x45d9bb=_0x21a836[_0x3b6c92],_0x216f49=_0x3075d0['resolve'](_0x45d9bb);let _0x30bbb7=_0x5f1375[_0x216f49&&_0x216f49['targetPath']||null];if(!_0x30bbb7&&_0x216f49){_0x30bbb7={'target':_0x216f49,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0xd51f1d=0x12f1+-0x1d*0xc5+0x360;_0xd51f1d<_0x30bbb7['target']['components'];++_0xd51f1d)_0x30bbb7['value']['push'](0x1*-0x70f+-0x13cb+0x1ada);if(_0x5f1375[_0x216f49['targetPath']]=_0x30bbb7,_0x3075d0['animCompon'+'ent']){if(!_0x3075d0['animCompon'+'ent']['targets'][_0x216f49['targetPath']]){let _0xe7c9ed;_0x216f49['targetPath']['substring'](_0x216f49['targetPath']['length']-(0x1902*0x1+-0xdf*0x11+-0xa26))==='localRotat'+'ion'?_0xe7c9ed=bo['TYPE_QUAT']:_0xe7c9ed=bo['TYPE_VEC3'],_0x3075d0['animCompon'+'ent']['targets'][_0x216f49['targetPath']]=new bo(_0x3075d0['animCompon'+'ent'],_0xe7c9ed);}_0x3075d0['animCompon'+'ent']['targets'][_0x216f49['targetPath']]['layerCount'+'er']++,_0x3075d0['animCompon'+'ent']['targets'][_0x216f49['targetPath']]['setMask'](_0x3075d0['layerIndex'],0x1a9b*-0x1+-0x12ab+-0xad*-0x43);}}_0x30bbb7&&(_0x30bbb7['curves']++,_0x356283['push'](_0x311296['_results'][_0x195ae0]),_0x5f4955['push'](_0x30bbb7));}}this['_clips']['push'](_0xaffa1e),this['_inputs']['push'](_0x356283),this['_outputs']['push'](_0x5f4955);}['removeClip'](_0x57e2cf){const _0x1d4b13=this['_targets'],_0x1810a2=this['_binder'],_0x5bb1f2=this['_clips'],_0x57b53c=_0x5bb1f2[_0x57e2cf]['track']['curves'];for(let _0x27dca9=-0x2530+0x1*-0x152f+0x3a5f;_0x27dca9<_0x57b53c['length'];++_0x27dca9){const _0x256907=_0x57b53c[_0x27dca9]['paths'];for(let _0x5b3814=0x1*-0x1c87+0x207*0x9+0x292*0x4;_0x5b3814<_0x256907['length'];++_0x5b3814){const _0x18188c=_0x256907[_0x5b3814],_0x55b15a=this['_binder']['resolve'](_0x18188c);_0x55b15a&&(_0x55b15a['curves']--,_0x55b15a['curves']===0x3*-0x97+-0x11*-0x1+0x2*0xda&&(_0x1810a2['unresolve'](_0x18188c),delete _0x1d4b13[_0x55b15a['targetPath']],_0x1810a2['animCompon'+'ent']&&_0x1810a2['animCompon'+'ent']['targets'][_0x55b15a['targetPath']]['layerCount'+'er']--));}}_0x5bb1f2['splice'](_0x57e2cf,-0x1ef7+-0x1*0x1e2f+0x3d27),this['_inputs']['splice'](_0x57e2cf,-0x15*0x121+-0x19eb*0x1+0x31a1),this['_outputs']['splice'](_0x57e2cf,-0x51b+0x1780+-0x499*0x4);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x29*0x4b+-0x8d3*-0x1+0x330;)this['removeClip'](0x1bff+0x23*-0x26+-0x16cd);}['updateClip'+'Track'](_0x480371,_0x428112){this['_clips']['forEach'](_0x2e41c5=>{_0x2e41c5['name']['includes'](_0x480371)&&(_0x2e41c5['track']=_0x428112);}),this['rebind']();}['findClip'](_0x2e9753){const _0x4bed2f=this['_clips'];for(let _0x7a8e=-0x25ef+-0x1fbf+0x45ae;_0x7a8e<_0x4bed2f['length'];++_0x7a8e){const _0x48873e=_0x4bed2f[_0x7a8e];if(_0x48873e['name']===_0x2e9753)return _0x48873e;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x471202=[...this['clips']];this['removeClip'+'s'](),_0x471202['forEach'](_0xa058b4=>{this['addClip'](_0xa058b4);});}['assignMask'](_0x59bd12){return this['_binder']['assignMask'](_0x59bd12);}['update'](_0x14d473,_0x206bb9=!(0x7*0x580+-0x465+-0x221b)){const _0x1ced6e=this['_clips'],_0x2f4223=_0x1ced6e['map']((_0x580ad7,_0x1b4483)=>_0x1b4483);Tt['stableSort'](_0x2f4223,(_0x45fefb,_0x32fd8e)=>_0x1ced6e[_0x45fefb]['blendOrder']<_0x1ced6e[_0x32fd8e]['blendOrder']);for(let _0x5df49d=0x21*-0x5b+-0x1b7a*-0x1+-0xfbf;_0x5df49d<_0x2f4223['length'];++_0x5df49d){const _0x322735=_0x2f4223[_0x5df49d],_0x4a06bb=_0x1ced6e[_0x322735],_0x48cd5a=this['_inputs'][_0x322735],_0x4965fc=this['_outputs'][_0x322735],_0x53b102=_0x4a06bb['blendWeigh'+'t'];if(_0x53b102>-0x141e+0x1ba8+-0x78a&&_0x4a06bb['_update'](_0x14d473),!_0x206bb9)break;let _0x572933,_0x361a30,_0xc3113b;if(_0x53b102>=0x1*-0x227a+0xeb1*0x2+-0x91*-0x9){for(let _0x49d3c7=-0x2*-0xb27+-0x1f4*-0x13+-0x3b6a;_0x49d3c7<_0x48cd5a['length'];++_0x49d3c7)_0x572933=_0x48cd5a[_0x49d3c7],_0x361a30=_0x4965fc[_0x49d3c7],_0xc3113b=_0x361a30['value'],Tt['set'](_0xc3113b,_0x572933,_0x361a30['target']['type']),_0x361a30['blendCount'+'er']++;}else{if(_0x53b102>-0x1*-0xff9+0x2175+-0x83d*0x6){for(let _0x2d9c3d=-0x1bed+0x1106+0xae7;_0x2d9c3d<_0x48cd5a['length'];++_0x2d9c3d)_0x572933=_0x48cd5a[_0x2d9c3d],_0x361a30=_0x4965fc[_0x2d9c3d],_0xc3113b=_0x361a30['value'],_0x361a30['blendCount'+'er']===-0x1f29+0x1607*0x1+0x922?Tt['set'](_0xc3113b,_0x572933,_0x361a30['target']['type']):Tt['blend'](_0xc3113b,_0x572933,_0x53b102,_0x361a30['target']['type']),_0x361a30['blendCount'+'er']++;}}}const _0x37e57e=this['_targets'],_0x4ef7e7=this['_binder'];for(const _0x28c786 in _0x37e57e)if(_0x37e57e['hasOwnProp'+'erty'](_0x28c786)){const _0x81235f=_0x37e57e[_0x28c786];if(_0x4ef7e7['animCompon'+'ent']&&_0x81235f['target']['isTransfor'+'m']){const _0x2f66d2=_0x4ef7e7['animCompon'+'ent']['targets'][_0x28c786];_0x2f66d2['counter']===_0x2f66d2['layerCount'+'er']&&(_0x2f66d2['counter']=0x5*0x524+0x280+-0x4*0x70d),_0x2f66d2['path']||(_0x2f66d2['path']=_0x28c786,_0x2f66d2['baseValue']=_0x81235f['target']['get'](),_0x2f66d2['setter']=_0x81235f['target']['set']),_0x2f66d2['updateValu'+'e'](_0x4ef7e7['layerIndex'],_0x81235f['value']),_0x2f66d2['counter']++;}else _0x81235f['target']['set'](_0x81235f['value']);_0x81235f['blendCount'+'er']=0x2435+-0x1*-0x1c2b+0x670*-0xa;}this['_binder']['update'](_0x14d473);}}class Y0{constructor(_0x4b50f4){this['_events']=[..._0x4b50f4],this['_events']['sort']((_0x5c4045,_0x45c816)=>_0x5c4045['time']-_0x45c816['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x4aa7ee,_0x14470d,_0x567ced,_0x1b8695,_0x36e119,_0x14890f=new Y0([])){this['_name']=_0x4aa7ee,this['_duration']=_0x14470d,this['_inputs']=_0x567ced,this['_outputs']=_0x1b8695,this['_curves']=_0x36e119,this['_animEvent'+'s']=_0x14890f;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x4b860b){this['_animEvent'+'s']=_0x4b860b;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x3c0b01,_0x5836c7){_0x5836c7['_time']=_0x3c0b01;const _0x3e2439=this['_inputs'],_0x5bc15e=this['_outputs'],_0x27a1ad=this['_curves'],_0x25d39a=_0x5836c7['_cache'],_0x39e497=_0x5836c7['_results'];for(let _0x1720e2=-0x21d8+-0x11b+-0x17*-0x185;_0x1720e2<_0x3e2439['length'];++_0x1720e2)_0x25d39a[_0x1720e2]['update'](_0x3c0b01,_0x3e2439[_0x1720e2]['_data']);for(let _0x3d3851=-0x732*-0x3+-0xa7+-0x14ef;_0x3d3851<_0x27a1ad['length'];++_0x3d3851){const _0xd2027d=_0x27a1ad[_0x3d3851],_0x4356f9=_0x5bc15e[_0xd2027d['_output']],_0x42ba64=_0x39e497[_0x3d3851];_0x25d39a[_0xd2027d['_input']]['eval'](_0x42ba64,_0xd2027d['_interpola'+'tion'],_0x4356f9);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x531e63,_0x4ae1f2){_0x4ae1f2=_0x4ae1f2||'.';const _0x450419=function(_0x1e2ea2){return _0x1e2ea2['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x4ae1f2,'g'),'\x5c'+_0x4ae1f2);};return _0x531e63['map'](_0x450419)['join'](_0x4ae1f2);}static['splitPath'](_0x50f65d,_0x251b69){_0x251b69=_0x251b69||'.';const _0x5e605d=[];let _0x1ba04d='',_0x49da84=0x22b1*-0x1+0xc4b*0x1+0x1666;for(;_0x49da84<_0x50f65d['length'];){let _0x7e367e=_0x50f65d[_0x49da84++];_0x7e367e==='\x5c'&&_0x49da84<_0x50f65d['length']?(_0x7e367e=_0x50f65d[_0x49da84++],_0x7e367e==='\x5c'||_0x7e367e===_0x251b69?_0x1ba04d+=_0x7e367e:_0x1ba04d+='\x5c'+_0x7e367e):_0x7e367e===_0x251b69?(_0x5e605d['push'](_0x1ba04d),_0x1ba04d=''):_0x1ba04d+=_0x7e367e;}return _0x1ba04d['length']>0xe0c+-0x5b*0x4b+-0xc9d*-0x1&&_0x5e605d['push'](_0x1ba04d),_0x5e605d;}static['encode'](_0x240be5,_0x1a9633,_0x186cfb){return(Array['isArray'](_0x240be5)?_0x240be5['join']('/'):_0x240be5)+'/'+_0x1a9633+'/'+(Array['isArray'](_0x186cfb)?_0x186cfb['join']('/'):_0x186cfb);}['resolve'](_0x192dd3){return null;}['unresolve'](_0xa17f53){}['update'](_0x126f43){}}class Zu{constructor(_0x6332c6,_0x1e890d,_0x1bfac2,_0xda9127){_0x6332c6['set']?(this['_set']=_0x6332c6['set'],this['_get']=_0x6332c6['get']):this['_set']=_0x6332c6,this['_type']=_0x1e890d,this['_component'+'s']=_0x1bfac2,this['_targetPat'+'h']=_0xda9127,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x40f*-0x1+0x7cd+-0xbcf))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x18c8+0x197d+0x191c*-0x2))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x749+-0x1235+-0x13*-0x158))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0xd6f326){c(this,'_isPathInM'+'ask',(_0x8f4317,_0x1b34fd)=>{const _0x1b4ae5=this['_mask'][_0x8f4317];if(_0x1b4ae5){if(_0x1b4ae5['children']||_0x1b34fd&&_0x1b4ae5['value']!==!(0x2*-0xdc+-0x1372*0x1+0x152b))return!(-0x1*-0x482+0x1*0x101f+-0x1*0x14a1);}else return!(-0x1fa9+0x3*-0x8c5+0x39f9);return!(-0x149*-0xd+0x15ed+-0x26a1);});if(this['graph']=_0xd6f326,!_0xd6f326)return;this['_mask']=null;const _0x579709={},_0x2a07b5=function(_0x11adce){_0x579709[_0x11adce['name']]=_0x11adce;for(let _0x1a5338=-0x1c5c+-0x18a7+0x3503;_0x1a5338<_0x11adce['children']['length'];++_0x1a5338)_0x2a07b5(_0x11adce['children'][_0x1a5338]);};_0x2a07b5(_0xd6f326),this['nodes']=_0x579709,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x1b3a13=function(_0x242935){let _0x1ef378=_0x242935;for(;_0x1ef378&&!(_0x1ef378 instanceof $e);)_0x1ef378=_0x1ef378['parent'];let _0x7e7785;return _0x1ef378&&(_0x1ef378['render']?_0x7e7785=_0x1ef378['render']['meshInstan'+'ces']:_0x1ef378['model']&&(_0x7e7785=_0x1ef378['model']['meshInstan'+'ces'])),_0x7e7785;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x304a80){const _0xb17952=_0x304a80['localPosit'+'ion'],_0x2c2ba7=function(_0x20b613){_0xb17952['set'](..._0x20b613);};return Ji['createAnim'+'Target'](_0x2c2ba7,'vector',-0x1*0x23c2+0x2c2*0x1+0x2103,_0x304a80,'localPosit'+'ion');},'localRotation':function(_0x2bc6b0){const _0x32f034=_0x2bc6b0['localRotat'+'ion'],_0x72b4cd=function(_0x502167){_0x32f034['set'](..._0x502167);};return Ji['createAnim'+'Target'](_0x72b4cd,'quaternion',0x1a*0xd+0x1f23*-0x1+-0x1*-0x1dd5,_0x2bc6b0,'localRotat'+'ion');},'localScale':function(_0x3303db){const _0xd2f46f=_0x3303db['localScale'],_0x19f613=function(_0x3583eb){_0xd2f46f['set'](..._0x3583eb);};return Ji['createAnim'+'Target'](_0x19f613,'vector',-0x2403+0x4d7+-0x1f2f*-0x1,_0x3303db,'localScale');},'weight':function(_0x1dd141,_0x38c580){_0x38c580['indexOf']('name.')===-0x1a7d+-0x1f6d+0x39ea?_0x38c580=_0x38c580['replace']('name.',''):_0x38c580=Number(_0x38c580);const _0x272316=_0x1b3a13(_0x1dd141);let _0x3bc2b6;if(_0x272316){for(let _0x3a48d3=-0x1fd1*0x1+-0x18c8+0x3899*0x1;_0x3a48d3<_0x272316['length'];++_0x3a48d3)if(_0x272316[_0x3a48d3]['node']['name']===_0x1dd141['name']&&_0x272316[_0x3a48d3]['morphInsta'+'nce']){const _0x4725c1=_0x272316[_0x3a48d3]['morphInsta'+'nce'],_0x285488=_0x56032=>{_0x4725c1['setWeight'](_0x38c580,_0x56032[0x52*0x65+0x1b4d+-0x3ba7*0x1]);};_0x3bc2b6||(_0x3bc2b6=[]),_0x3bc2b6['push'](_0x285488);}}if(_0x3bc2b6){const _0x11fbdf=_0x4d79d9=>{for(let _0xbd6ec9=0x2413+0xa4d+0x38*-0xd4;_0xbd6ec9<_0x3bc2b6['length'];++_0xbd6ec9)_0x3bc2b6[_0xbd6ec9](_0x4d79d9);};return Ji['createAnim'+'Target'](_0x11fbdf,'number',-0x34f+-0x3be+0x70e,_0x1dd141,'weight.'+_0x38c580);}return null;},'materialTexture':(_0x401af0,_0x5758d3)=>{const _0x29c401=_0x1b3a13(_0x401af0);if(_0x29c401){let _0x406443;for(let _0x366463=-0x23f9+0x1*0x7fa+0x1bff;_0x366463<_0x29c401['length'];++_0x366463)if(_0x29c401[_0x366463]['node']['name']===_0x401af0['name']){_0x406443=_0x29c401[_0x366463];break;}if(_0x406443){const _0x4d401f=_0x51b668=>{const _0x1ba51f=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x51b668[0x7c2+0x4a*0x54+-0x1005*0x2]);_0x1ba51f&&_0x1ba51f['resource']&&_0x1ba51f['type']==='texture'&&(_0x406443['material'][_0x5758d3]=_0x1ba51f['resource'],_0x406443['material']['update']());};return Ji['createAnim'+'Target'](_0x4d401f,'vector',-0x229+-0x86*0x49+0x260*0x11,_0x401af0,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x3d7ca1){if(!this['_mask'])return!(0x64*-0x2+-0x23ea*0x1+0x24b2);const _0x10e8d3=[_0x3d7ca1['entityPath'][-0x18bc+-0x7*0x10d+-0x35*-0x9b],this['graph']['name']];for(let _0x1dd270=-0xa9f*0x1+0x33*0x35+0x10;_0x1dd270<_0x10e8d3['length'];++_0x1dd270){let _0x1f4749=_0x10e8d3[_0x1dd270];if(this['_isPathInM'+'ask'](_0x1f4749,_0x3d7ca1['entityPath']['length']===0x242b+-0x12d7*0x2+0x1*0x184))return!(-0x135c+-0x2c8+0x1624);for(let _0x327cd4=-0x233f+-0x1*-0x6df+0x1c61;_0x327cd4<_0x3d7ca1['entityPath']['length'];_0x327cd4++)if(_0x1f4749+='/'+_0x3d7ca1['entityPath'][_0x327cd4],this['_isPathInM'+'ask'](_0x1f4749,_0x327cd4===_0x3d7ca1['entityPath']['length']-(0x2*-0x12a4+0x536+0x2013)))return!(-0x1*0x2668+-0x3*0xbdd+-0x1*-0x49ff);}return!(0x505*-0x4+-0xd*-0x2a5+0x2dc*-0x5);}['findNode'](_0x316b44){if(!this['_isPathAct'+'ive'](_0x316b44))return null;let _0x183d79;if(this['graph']&&(_0x183d79=this['graph']['findByPath'](_0x316b44['entityPath']),_0x183d79||(_0x183d79=this['graph']['findByPath'](_0x316b44['entityPath']['slice'](0x1536+-0x1b4a+0x615)))),!_0x183d79){_0x183d79=this['nodes'][_0x316b44['entityPath'][_0x316b44['entityPath']['length']-(-0x1*-0x24f5+0x277+-0x276b)]||''];const _0x1df339=qr['encode'](_0x316b44['entityPath'][_0x316b44['entityPath']['length']-(-0x412+-0x5*-0x150+-0x27d)]||'','graph',_0x316b44['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x1df339]===0x10f*-0x12+0x4dc*0x6+-0xa19&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x1df339+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x1df339])?this['visitedFal'+'lbackGraph'+'Paths'][_0x1df339]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x1df339]=0xa4e*-0x1+0x1*0x26b+-0x1*-0x7e3;}return _0x183d79;}static['createAnim'+'Target'](_0x2b8bbd,_0x281583,_0x3b271f,_0x4ecadd,_0x2ae79d,_0x51fd61){const _0x5a2403=qr['encode'](_0x4ecadd['path'],_0x51fd61||'entity',_0x2ae79d);return new Zu(_0x2b8bbd,_0x281583,_0x3b271f,_0x5a2403);}['resolve'](_0x42c3a3){const _0x44056d=qr['encode'](_0x42c3a3['entityPath'],_0x42c3a3['component'],_0x42c3a3['propertyPa'+'th']);let _0x1324b6=this['targetCach'+'e'][_0x44056d];if(_0x1324b6)return _0x1324b6;const _0x1bfa78=this['findNode'](_0x42c3a3);if(!_0x1bfa78)return null;const _0x1e3f66=this['handlers'][_0x42c3a3['propertyPa'+'th']];return!_0x1e3f66||(_0x1324b6=_0x1e3f66(_0x1bfa78),!_0x1324b6)?null:(this['targetCach'+'e'][_0x44056d]=_0x1324b6,this['nodeCounts'][_0x1bfa78['path']]?this['nodeCounts'][_0x1bfa78['path']]++:(this['activeNode'+'s']['push'](_0x1bfa78),this['nodeCounts'][_0x1bfa78['path']]=-0x1492+-0x4a5*0x7+0x3516),_0x1324b6);}['unresolve'](_0x30dcca){if(_0x30dcca['component']!=='graph')return;const _0x4de123=this['nodes'][_0x30dcca['entityPath'][_0x30dcca['entityPath']['length']-(-0xbc8+0x1*-0x461+0x102a)]||''];if(this['nodeCounts'][_0x4de123['path']]--,this['nodeCounts'][_0x4de123['path']]===0x173e+0x10a*0x4+-0x1b66){const _0x113a9d=this['activeNode'+'s'],_0x2e0946=_0x113a9d['indexOf'](_0x4de123['node']),_0x19320b=_0x113a9d['length'];_0x2e0946<_0x19320b-(-0x2104+-0x19e9+0x31a*0x13)&&(_0x113a9d[_0x2e0946]=_0x113a9d[_0x19320b-(0xb49+0xb0a+-0x1*0x1652)]),_0x113a9d['pop']();}}['update'](_0x350d39){const _0xd38414=this['activeNode'+'s'];for(let _0x5b5628=-0x1cd*0x4+0x7f4*-0x3+0x1f10;_0x5b5628<_0xd38414['length'];++_0x5b5628)_0xd38414[_0x5b5628]['_dirtifyLo'+'cal']();}['assignMask'](_0x3edc5d){return _0x3edc5d!==this['_mask']?(this['_mask']=_0x3edc5d,!(-0x2570+-0x133c+-0xea*-0x3e)):!(0x2*0x16+-0x254e+-0x3*-0xc61);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(0x1*0x1fe2+0x1da3+-0x3d85)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',-0x227d+-0x2*-0x861+0x11bb),c(this,'blending',!(0x24b4+-0x1382+-0x1131)),c(this,'blendSpeed',-0x719+0x21d8+-0x1abf),c(this,'activate',!(-0x59*-0x5d+0x1e25*-0x1+-0x230)),c(this,'speed',0x2*0x1097+-0xc0e+-0x151f);}set['animations'](_0x56d754){this['_animation'+'s']=_0x56d754,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x1216b5){const _0x5c4c80=this['_assets'];if(_0x5c4c80&&_0x5c4c80['length']){for(let _0x12655a=-0x195+-0x1e47+-0xfee*-0x2;_0x12655a<_0x5c4c80['length'];_0x12655a++)if(_0x5c4c80[_0x12655a]){const _0x51cc36=this['system']['app']['assets']['get'](_0x5c4c80[_0x12655a]);if(_0x51cc36){_0x51cc36['off']('change',this['onAssetCha'+'nged'],this),_0x51cc36['off']('remove',this['onAssetRem'+'oved'],this);const _0x1696ee=this['animations'+'Index'][_0x51cc36['id']];this['currAnim']===_0x1696ee&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x1696ee],delete this['animations'+'Index'][_0x51cc36['id']];}}}this['_assets']=_0x1216b5;const _0x4c590b=_0x1216b5['map'](_0x4beae6=>_0x4beae6 instanceof le?_0x4beae6['id']:_0x4beae6);this['loadAnimat'+'ionAssets'](_0x4c590b);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x5e51f5){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x5e51f5,this['skeleton']['addTime'](0x26dd+-0x69*-0x2d+-0x3952*0x1),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x2e4739=this['animEvalua'+'tor']['clips'];for(let _0x30d8c3=0x1*0xd30+-0x49*-0x13+-0x129b;_0x30d8c3<_0x2e4739['length'];++_0x30d8c3)_0x2e4739[_0x30d8c3]['time']=_0x5e51f5;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x500034=this['animEvalua'+'tor']['clips'];if(_0x500034['length']>0x1955+-0x15f4+-0x5*0xad)return _0x500034[_0x500034['length']-(-0x200b+-0xb0f*-0x3+-0x121)]['time'];}return-0x9d*-0x25+-0x1865+-0x1*-0x1b4;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x2*0x4d5+0x1*0x32d+0x67d);}set['loop'](_0x3b6999){if(this['_loop']=_0x3b6999,this['skeleton']&&(this['skeleton']['looping']=_0x3b6999),this['animEvalua'+'tor']){for(let _0x1a9f89=0x4de+-0x1acc+0xe*0x191;_0x1a9f89<this['animEvalua'+'tor']['clips']['length'];++_0x1a9f89)this['animEvalua'+'tor']['clips'][_0x1a9f89]['loop']=_0x3b6999;}}get['loop'](){return this['_loop'];}['play'](_0x2abf77,_0x57a61d=-0x1129*-0x1+0x14a3+0x12e6*-0x2){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x2abf77]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x2abf77+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x2abf77,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x293534=this['animations'][this['prevAnim']],_0x2f47f6=this['animations'][this['currAnim']];if(this['blending']=_0x57a61d>-0xb05+-0x23f3+0x2ef8&&!!this['prevAnim'],this['blending']&&(this['blend']=0x1c89*-0x1+-0x12fb+0x2f84,this['blendSpeed']=(0x1a*0xaf+-0x7*0x5+-0x11a2)/_0x57a61d),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x293534,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x2f47f6):this['skeleton']['animation']=_0x2f47f6),this['animEvalua'+'tor']){const _0x6dfd03=this['animEvalua'+'tor'];if(this['blending']){for(;_0x6dfd03['clips']['length']>0x942+0x1784+-0x20c5;)_0x6dfd03['removeClip'](0x1700+0xd*-0xc2+0x2*-0x693);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0xb1ad6a=new Xh(this['animations'][this['currAnim']],-0x8*-0x2ef+0x2f*0x1d+-0x1ccb,-0x1*0x1e2b+-0x2683+0x44af,!(-0x16a1+0x2393+-0xcf2),this['loop']);_0xb1ad6a['name']=this['currAnim'],_0xb1ad6a['blendWeigh'+'t']=this['blending']?0x1ab+-0x1*0x270a+0x255f:-0x1*-0xdf7+-0x2541+0x59*0x43,_0xb1ad6a['reset'](),this['animEvalua'+'tor']['addClip'](_0xb1ad6a);}}this['playing']=!(0x2563+0x2625+-0x2*0x25c4);}}['getAnimati'+'on'](_0x12feea){return this['animations'][_0x12feea];}['setModel'](_0x10c4a0){_0x10c4a0!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x10c4a0,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x2b4778=this['entity']['model'];if(_0x2b4778){const _0x2670cb=_0x2b4778['model'];_0x2670cb&&_0x2670cb!==this['model']&&this['setModel'](_0x2670cb);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x186fba=Object['keys'](this['_animation'+'s']);_0x186fba['length']>0x33*-0x6d+0x1*-0x36d+-0x649*-0x4&&this['play'](_0x186fba[0x1f7f+-0x5f6+-0x1989]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x157bcf=this['model'],_0x16478a=this['animations'];let _0x2d28b7=!(0x1*0x1df9+0x1508+-0x3300),_0x94829a=!(0x258b+-0x1e67+-0x723);for(const _0xc35e37 in _0x16478a)_0x16478a['hasOwnProp'+'erty'](_0xc35e37)&&(_0x16478a[_0xc35e37]['constructo'+'r']===Ri?_0x94829a=!(0x6*0x43c+0x47*0x83+-0x3dbd):_0x2d28b7=!(0x217+-0x1*-0x1da3+-0x3e*0x83));const _0x5e05b8=_0x157bcf['getGraph']();_0x2d28b7?(this['fromSkel']=new $d(_0x5e05b8),this['toSkel']=new $d(_0x5e05b8),this['skeleton']=new $d(_0x5e05b8),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x5e05b8)):_0x94829a&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x418eb8){if(!_0x418eb8||!_0x418eb8['length'])return;const _0x14df04=this['system']['app']['assets'],_0x3700d7=_0x42019c=>{if(_0x42019c['resources']['length']>-0xbfc*-0x2+-0x1bc8+0x1*0x3d1){for(let _0x2eb217=-0x694+0x204f+-0x19bb;_0x2eb217<_0x42019c['resources']['length'];_0x2eb217++)this['animations'][_0x42019c['resources'][_0x2eb217]['name']]=_0x42019c['resources'][_0x2eb217],this['animations'+'Index'][_0x42019c['id']]=_0x42019c['resources'][_0x2eb217]['name'];}else this['animations'][_0x42019c['name']]=_0x42019c['resource'],this['animations'+'Index'][_0x42019c['id']]=_0x42019c['name'];this['animations']=this['animations'];},_0x52c38f=_0x20c45f=>{_0x20c45f['off']('change',this['onAssetCha'+'nged'],this),_0x20c45f['on']('change',this['onAssetCha'+'nged'],this),_0x20c45f['off']('remove',this['onAssetRem'+'oved'],this),_0x20c45f['on']('remove',this['onAssetRem'+'oved'],this),_0x20c45f['resource']?_0x3700d7(_0x20c45f):(_0x20c45f['once']('load',_0x3700d7,this),this['enabled']&&this['entity']['enabled']&&_0x14df04['load'](_0x20c45f));};for(let _0x34f583=-0x20d0+0x1*0x61f+-0x1ab1*-0x1,_0x296021=_0x418eb8['length'];_0x34f583<_0x296021;_0x34f583++){const _0x454580=_0x14df04['get'](_0x418eb8[_0x34f583]);_0x454580?_0x52c38f(_0x454580):_0x14df04['on']('add:'+_0x418eb8[_0x34f583],_0x52c38f);}}['onAssetCha'+'nged'](_0x38a0b1,_0x18859c,_0x12f104,_0x39dac0){if(_0x18859c==='resource'||_0x18859c==='resources'){if(_0x18859c==='resources'&&_0x12f104&&_0x12f104['length']===-0x193a+-0x1*0x1360+0x2c9a&&(_0x12f104=null),_0x12f104){let _0x4eae1e=!(0x1bb7+0x150d+0x39*-0xdb);if(_0x12f104['length']>-0x2295+-0x1954+0x1df5*0x2){if(_0x39dac0&&_0x39dac0['length']>0x23a7+0x150b*0x1+-0x38b1){for(let _0x4eb823=0x1446+0x193e+0x16c2*-0x2;_0x4eb823<_0x39dac0['length'];_0x4eb823++)delete this['animations'][_0x39dac0[_0x4eb823]['name']];}else delete this['animations'][_0x38a0b1['name']];_0x4eae1e=!(-0xcd7+-0xc9d*-0x1+-0x1*-0x3b);for(let _0x5e4105=-0x178b+0x1*-0x3d3+-0x1*-0x1b5e;_0x5e4105<_0x12f104['length'];_0x5e4105++)this['animations'][_0x12f104[_0x5e4105]['name']]=_0x12f104[_0x5e4105],!_0x4eae1e&&this['currAnim']===_0x12f104[_0x5e4105]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4eae1e=!(0x7d5+0x237f+-0x2b54),this['play'](_0x12f104[_0x5e4105]['name']));_0x4eae1e||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x39dac0&&_0x39dac0['length']>0xb*-0x36f+-0x1ed*-0xc+-0x1*-0xeaa){for(let _0x424883=-0x2f0+0x4f*0x22+-0x78e;_0x424883<_0x39dac0['length'];_0x424883++)delete this['animations'][_0x39dac0[_0x424883]['name']];}this['animations'][_0x38a0b1['name']]=_0x12f104[0x5*0x34a+0x214+-0x943*0x2]||_0x12f104,_0x4eae1e=!(-0xf49+0x1*-0x201f+0x2f69),this['currAnim']===_0x38a0b1['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4eae1e=!(-0x1805+-0xdcd+-0x67*-0x5e),this['play'](_0x38a0b1['name'])),_0x4eae1e||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x38a0b1['id']]=_0x38a0b1['name'];}else{if(_0x39dac0['length']>0x21e3+-0x1*-0x2405+-0x3*0x174d){for(let _0x8c72b5=-0x1466*0x1+0x337+0x112f*0x1;_0x8c72b5<_0x39dac0['length'];_0x8c72b5++)delete this['animations'][_0x39dac0[_0x8c72b5]['name']],this['currAnim']===_0x39dac0[_0x8c72b5]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x38a0b1['name']],this['currAnim']===_0x38a0b1['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x38a0b1['id']];}}}['onAssetRem'+'oved'](_0x2547ec){if(_0x2547ec['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x2547ec['resources']['length']>-0x3*-0x971+-0x206+-0x1a4c){for(let _0x55c706=-0x3*-0x383+-0x23b6+-0x1*-0x192d;_0x55c706<_0x2547ec['resources']['length'];_0x55c706++)delete this['animations'][_0x2547ec['resources'][_0x55c706]['name']],this['currAnim']===_0x2547ec['resources'][_0x55c706]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x2547ec['name']],this['currAnim']===_0x2547ec['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x2547ec['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x1*-0x1ad2+0x21a5+-0x3c76),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0xc71+-0xf6d+0x4*0xbf,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x2d61f6=0x196+-0x1*-0x674+-0x80a;_0x2d61f6<this['animEvalua'+'tor']['clips']['length'];++_0x2d61f6)this['animEvalua'+'tor']['clips'][_0x2d61f6]['stop']();this['animEvalua'+'tor']['update'](-0x228e+0x81b*0x2+0x1258),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x1a09e8=this['assets'],_0x28632b=this['system']['app']['assets'];if(_0x1a09e8)for(let _0x4b3d2e=-0x20e0+-0x1fdf*0x1+-0x3cf*-0x11,_0x5f5475=_0x1a09e8['length'];_0x4b3d2e<_0x5f5475;_0x4b3d2e++){let _0x2f52ec=_0x1a09e8[_0x4b3d2e];_0x2f52ec instanceof le||(_0x2f52ec=_0x28632b['get'](_0x2f52ec)),_0x2f52ec&&!_0x2f52ec['resource']&&_0x28632b['load'](_0x2f52ec);}if(this['activate']&&!this['currAnim']){const _0x10633d=Object['keys'](this['animations']);_0x10633d['length']>-0x1*-0xf91+-0x1*0x13a5+0x414&&this['play'](_0x10633d[0x1*-0x3e+0x4*-0x4e0+-0x26*-0x85]);}}['onBeforeRe'+'move'](){for(let _0x33d80d=0x7f*0x3b+-0x14e9+-0x85c;_0x33d80d<this['assets']['length'];_0x33d80d++){let _0x5ab39a=this['assets'][_0x33d80d];typeof _0x5ab39a=='number'&&(_0x5ab39a=this['system']['app']['assets']['get'](_0x5ab39a)),_0x5ab39a&&(_0x5ab39a['off']('change',this['onAssetCha'+'nged'],this),_0x5ab39a['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x5a0a79){if(this['blending']&&(this['blend']+=_0x5a0a79*this['blendSpeed'],this['blend']>=0x906+0x1093+-0x1998&&(this['blend']=0x7*0x58f+-0xab4+-0xe1a*0x2)),this['playing']){const _0x4944a8=this['skeleton'];if(_0x4944a8!==null&&this['model']!==null){if(this['blending'])_0x4944a8['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x1abecd=_0x5a0a79*this['speed'];_0x4944a8['addTime'](_0x1abecd),this['speed']>0x1f9c+-0x50*0xc+-0x1bdc&&_0x4944a8['_time']===_0x4944a8['animation']['duration']&&!this['loop']?this['playing']=!(-0x1*-0x184f+-0x1*0x16de+-0x170):this['speed']<0x7d*0x4e+-0x3*0xba3+0x3*-0x10f&&_0x4944a8['_time']===0x1253+-0x544+-0xd0f&&!this['loop']&&(this['playing']=!(0x26*0x2+0x14*0x1d5+0x5*-0x763));}this['blending']&&this['blend']===-0x5a7+-0x417+0x9bf&&(_0x4944a8['animation']=this['toSkel']['animation']),_0x4944a8['updateGrap'+'h']();}}const _0x230a0a=this['animEvalua'+'tor'];if(_0x230a0a){for(let _0x483bdd=-0xa*-0xeb+-0x1*0x1c27+0x12f9;_0x483bdd<_0x230a0a['clips']['length'];++_0x483bdd){const _0x446aa3=_0x230a0a['clips'][_0x483bdd];_0x446aa3['speed']=this['speed'],this['playing']?_0x446aa3['resume']():_0x446aa3['pause']();}this['blending']&&_0x230a0a['clips']['length']>0x159*0xd+0x2ea+-0x1*0x146e&&(_0x230a0a['clips'][-0x1e2b+0x1327*-0x2+-0xa*-0x6d9]['blendWeigh'+'t']=this['blend']),_0x230a0a['update'](_0x5a0a79);}this['blending']&&this['blend']===0x6*-0x484+-0xf1*-0x16+-0x1*-0x663&&(this['blending']=!(-0x104c*0x1+-0x11a9+0x21f6));}}class zP{constructor(){this['enabled']=!(0x2c6+-0x163c+0x1376);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x35a23b){super(_0x35a23b),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x7bc674,_0x2942eb,_0x128f8b){_0x128f8b=['activate','enabled','loop','speed','assets'];for(const _0x22cca0 of _0x128f8b)_0x2942eb['hasOwnProp'+'erty'](_0x22cca0)&&(_0x7bc674[_0x22cca0]=_0x2942eb[_0x22cca0]);super['initialize'+'ComponentD'+'ata'](_0x7bc674,_0x2942eb,Qu);}['cloneCompo'+'nent'](_0x2f9fbe,_0x4492f6){this['addCompone'+'nt'](_0x4492f6,{}),_0x4492f6['animation']['assets']=_0x2f9fbe['animation']['assets']['slice'](),_0x4492f6['animation']['speed']=_0x2f9fbe['animation']['speed'],_0x4492f6['animation']['loop']=_0x2f9fbe['animation']['loop'],_0x4492f6['animation']['activate']=_0x2f9fbe['animation']['activate'],_0x4492f6['animation']['enabled']=_0x2f9fbe['animation']['enabled'];const _0x274836={},_0x4e55c7=_0x2f9fbe['animation']['animations'];for(const _0x5e474d in _0x4e55c7)_0x4e55c7['hasOwnProp'+'erty'](_0x5e474d)&&(_0x274836[_0x5e474d]=_0x4e55c7[_0x5e474d]);_0x4492f6['animation']['animations']=_0x274836;const _0xc8bc38={},_0x39befa=_0x2f9fbe['animation']['animations'+'Index'];for(const _0x3d140e in _0x39befa)_0x39befa['hasOwnProp'+'erty'](_0x3d140e)&&(_0xc8bc38[_0x3d140e]=_0x39befa[_0x3d140e]);return _0x4492f6['animation']['animations'+'Index']=_0xc8bc38,_0x4492f6['animation'];}['onBeforeRe'+'move'](_0x364bf6,_0xc61afe){_0xc61afe['onBeforeRe'+'move']();}['onUpdate'](_0x540066){const _0x5e6272=this['store'];for(const _0x468c41 in _0x5e6272)if(_0x5e6272['hasOwnProp'+'erty'](_0x468c41)){const _0x50fca2=_0x5e6272[_0x468c41];_0x50fca2['data']['enabled']&&_0x50fca2['entity']['enabled']&&_0x50fca2['entity']['animation']['update'](_0x540066);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x1915ff,_0x30fdd0,_0x40d2b0,_0x4bb462,_0x135719=0xfc0+-0x881+-0x3*0x26a){this['_state']=_0x1915ff,this['_parent']=_0x30fdd0,this['_name']=_0x40d2b0,Array['isArray'](_0x4bb462)?(this['_point']=new $(_0x4bb462[-0x12cd*0x2+0x10*0x189+-0x1*-0xd0a],_0x4bb462[-0xab+-0x1dd*0x6+0xbda]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x4bb462,this['_pointLeng'+'th']=_0x4bb462),this['_speed']=_0x135719,this['_weightedS'+'peed']=0x13a8*0x1+0x14*-0xbc+-0x4f7*0x1,this['_weight']=-0x1*0x1882+-0x5c9+-0xe*-0x22a,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x5d81f8){this['_weight']=_0x5d81f8;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x282219=this['_state']['totalWeigh'+'t'];return _0x282219===-0x5*0x650+-0x1c6*-0xb+0xc0e?-0x770+-0x2*0x1315+0x2d9a:this['weight']/_0x282219;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x29332f){this['_weightedS'+'peed']=_0x29332f;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x1abae6){this['_animTrack']=_0x1abae6;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x3e9463,_0x5e8604,_0x527ae6,_0x5ea13a,_0x170cef,_0x1ec921,_0x85839,_0x42f433,_0x2abd15){super(_0x3e9463,_0x5e8604,_0x527ae6,_0x5ea13a),this['_parameter'+'s']=_0x170cef,this['_parameter'+'Values']=new Array(_0x170cef['length']),this['_children']=[],this['_findParam'+'eter']=_0x2abd15,this['_syncAnima'+'tions']=_0x85839!==!(0x1cb3+-0x287*-0xb+-0x387f),this['_pointCach'+'e']={};for(let _0xb93a2b=-0x1199+0x1903+-0x76a;_0xb93a2b<_0x1ec921['length'];_0xb93a2b++){const _0x29684a=_0x1ec921[_0xb93a2b];_0x29684a['children']?this['_children']['push'](_0x42f433(_0x29684a['type'],_0x3e9463,this,_0x29684a['name'],0xecd+0x1eb3+0x265*-0x13,_0x29684a['parameter']?[_0x29684a['parameter']]:_0x29684a['parameters'],_0x29684a['children'],_0x29684a['syncAnimat'+'ions'],_0x42f433,_0x2abd15)):this['_children']['push'](new Uo(_0x3e9463,this,_0x29684a['name'],_0x29684a['point'],_0x29684a['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x40e49d){for(let _0x34d7e8=-0x589*-0x6+0x109f+-0x31d5*0x1;_0x34d7e8<this['_children']['length'];_0x34d7e8++)if(this['_children'][_0x34d7e8]['name']===_0x40e49d)return this['_children'][_0x34d7e8];return null;}['updatePara'+'meterValue'+'s'](){let _0xb7ab06=!(-0x1a*0xdf+0x1*0x16d3+-0x2d);for(let _0x548282=-0x313*0x5+0x77a*-0x2+0x1e53;_0x548282<this['_parameter'+'Values']['length'];_0x548282++){const _0x17101e=this['_findParam'+'eter'](this['_parameter'+'s'][_0x548282])['value'];this['_parameter'+'Values'][_0x548282]!==_0x17101e&&(this['_parameter'+'Values'][_0x548282]=_0x17101e,_0xb7ab06=!(-0x14*-0x8c+0x6cd*0x1+-0x11bc));}return _0xb7ab06;}['getNodeWei'+'ghtedDurat'+'ion'](_0x567431){return this['_children'][_0x567431]['animTrack']['duration']/this['_children'][_0x567431]['speedMulti'+'plier']*this['_children'][_0x567431]['weight'];}['getNodeCou'+'nt'](){let _0x1c44d6=-0x47e*-0x3+-0x11dd+0x463;for(let _0x5d9d4a=-0x8f2+0x793+-0xd*-0x1b;_0x5d9d4a<this['_children']['length'];_0x5d9d4a++)this['_children'][_0x5d9d4a]['constructo'+'r']===Ba?_0x1c44d6+=this['_children'][_0x5d9d4a]['getNodeCou'+'nt']():_0x1c44d6++;return _0x1c44d6;}}class VP extends Ba{constructor(_0x389697,_0x590afa,_0x102814,_0x496819,_0x47e5f4,_0x386d5e,_0x588003,_0x345dac,_0x5f0897){_0x386d5e['sort']((_0x5c4d3c,_0x47d732)=>_0x5c4d3c['point']-_0x47d732['point']),super(_0x389697,_0x590afa,_0x102814,_0x496819,_0x47e5f4,_0x386d5e,_0x588003,_0x345dac,_0x5f0897);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x8cc961=-0x2f5*-0x3+0x67*-0x44+0x127d;this['_children'][-0x258a+-0x91*0x7+0x2981]['weight']=0x592+0x3*0x33b+-0xf43*0x1;for(let _0x358209=0x3*-0x50b+0x59*0x19+0xce*0x8;_0x358209<this['_children']['length'];_0x358209++){const _0x4eeef6=this['_children'][_0x358209];if(_0x358209!==this['_children']['length']-(0xfe3+-0x1d17*-0x1+0x18d*-0x1d)){const _0x3e0dd4=this['_children'][_0x358209+(0xa9e*-0x1+0xab8+-0x19)];if(_0x4eeef6['point']===_0x3e0dd4['point'])_0x4eeef6['weight']=-0x20*-0xe7+-0x13ce+-0x912+0.5,_0x3e0dd4['weight']=0x5d1*0x5+0x245*-0xd+0x6c+0.5;else{if(N['between'](this['_parameter'+'Values'][-0x186c+0x1843*0x1+0x1*0x29],_0x4eeef6['point'],_0x3e0dd4['point'],!(0xbf4+0x4*0x928+-0x3094))){const _0x5436b0=Math['abs'](_0x4eeef6['point']-_0x3e0dd4['point']),_0x2cc663=Math['abs'](_0x4eeef6['point']-this['_parameter'+'Values'][0x2052+0x91*-0x3d+0x23b]),_0x451422=(_0x5436b0-_0x2cc663)/_0x5436b0;_0x4eeef6['weight']=_0x451422,_0x3e0dd4['weight']=0x71a+0x28*0x37+-0xfb1-_0x451422;}else _0x3e0dd4['weight']=0x178+0x1ba9+-0x1d21*0x1;}}this['_syncAnima'+'tions']&&(_0x8cc961+=_0x4eeef6['animTrack']['duration']/_0x4eeef6['absoluteSp'+'eed']*_0x4eeef6['weight']);}if(this['_syncAnima'+'tions'])for(let _0x317ee7=0x18c8*0x1+0x18*-0x78+-0x6c4*0x2;_0x317ee7<this['_children']['length'];_0x317ee7++){const _0x4d0013=this['_children'][_0x317ee7];_0x4d0013['weightedSp'+'eed']=_0x4d0013['animTrack']['duration']/_0x4d0013['absoluteSp'+'eed']/_0x8cc961;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0xc111d2,_0x248986){const _0x28d464=''+_0xc111d2+_0x248986;return this['_pointCach'+'e'][_0x28d464]||(this['_pointCach'+'e'][_0x28d464]=this['_children'][_0x248986]['point']['clone']()['sub'](this['_children'][_0xc111d2]['point'])),this['_pointCach'+'e'][_0x28d464];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xc8f5b2,_0x110c15;gi['_p']['set'](...this['_parameter'+'Values']),_0xc8f5b2=-0x1*-0x1c97+0x1*-0xc83+-0x15*0xc4,_0x110c15=0x199a+0xf*0x9d+-0x22cd;for(let _0xd8e540=0x1a2*0xf+0x1e74+-0x36f2;_0xd8e540<this['_children']['length'];_0xd8e540++){const _0x104a90=this['_children'][_0xd8e540],_0x4a4f40=_0x104a90['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x4a4f40);let _0x3564f4=Number['MAX_VALUE'];for(let _0x14d1a1=-0x2695+-0x30d*-0xb+0x506*0x1;_0x14d1a1<this['_children']['length'];_0x14d1a1++){if(_0xd8e540===_0x14d1a1)continue;const _0x4cbb4a=this['pointDista'+'nceCache'](_0xd8e540,_0x14d1a1),_0x124edb=N['clamp'](-0x100f+0x18a5+-0x1*0x895-gi['_pip']['dot'](_0x4cbb4a)/_0x4cbb4a['lengthSq'](),0x2043+0x9+-0x204c,-0x1*0x1e98+-0xe57+-0xb3c*-0x4);_0x124edb<_0x3564f4&&(_0x3564f4=_0x124edb);}_0x104a90['weight']=_0x3564f4,_0xc8f5b2+=_0x3564f4,this['_syncAnima'+'tions']&&(_0x110c15+=_0x104a90['animTrack']['duration']/_0x104a90['absoluteSp'+'eed']*_0x104a90['weight']);}for(let _0x59c46e=0x16a2+0x1b24+-0x31c6;_0x59c46e<this['_children']['length'];_0x59c46e++){const _0x265150=this['_children'][_0x59c46e];_0x265150['weight']=_0x265150['_weight']/_0xc8f5b2,this['_syncAnima'+'tions']&&(_0x265150['weightedSp'+'eed']=_0x265150['animTrack']['duration']/_0x265150['absoluteSp'+'eed']/_0x110c15);}}};c(gi,'_p',new $()),c(gi,'_pip',new $());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x316bba,_0x5a293d){const _0x1c0c90=''+_0x316bba+_0x5a293d;return this['_pointCach'+'e'][_0x1c0c90]||(this['_pointCach'+'e'][_0x1c0c90]=new $((this['_children'][_0x5a293d]['pointLengt'+'h']-this['_children'][_0x316bba]['pointLengt'+'h'])/((this['_children'][_0x5a293d]['pointLengt'+'h']+this['_children'][_0x316bba]['pointLengt'+'h'])/(-0x2de*-0x8+-0xa41+0x37*-0x3b)),$['angleRad'](this['_children'][_0x316bba]['point'],this['_children'][_0x5a293d]['point'])*(-0xca3+0xa4+0xc01))),this['_pointCach'+'e'][_0x1c0c90];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3f9b70,_0x507daf;yi['_p']['set'](...this['_parameter'+'Values']);const _0x12cecc=yi['_p']['length']();_0x3f9b70=0x12*0x1e9+0x18f0+0x1*-0x3b52,_0x507daf=-0x1621+-0xe09*-0x1+0x818;for(let _0x326279=0x425*0x9+0x1*-0x106+0x25*-0xfb;_0x326279<this['_children']['length'];_0x326279++){const _0x1a6dbb=this['_children'][_0x326279],_0x45bc89=_0x1a6dbb['point'],_0x37da20=_0x1a6dbb['pointLengt'+'h'];let _0x336264=Number['MAX_VALUE'];for(let _0x32de14=0x228d+-0x47a*-0x1+-0x2707;_0x32de14<this['_children']['length'];_0x32de14++){if(_0x326279===_0x32de14)continue;const _0x226055=this['pointCache'](_0x326279,_0x32de14),_0x526bee=this['_children'][_0x32de14]['pointLengt'+'h'];yi['_pip']['set']((_0x12cecc-_0x37da20)/((_0x526bee+_0x37da20)/(-0x37*-0x4b+0x25a6*0x1+0x11eb*-0x3)),$['angleRad'](_0x45bc89,yi['_p'])*(-0x1*0x5b3+-0x1da7+0x235c));const _0x4361d7=N['clamp'](-0x1665+-0x200+-0x2*-0xc33-Math['abs'](yi['_pip']['dot'](_0x226055)/_0x226055['lengthSq']()),0xb96*0x3+-0xc72+-0x54*0x44,-0xf87+-0x15ac+0x2534);_0x4361d7<_0x336264&&(_0x336264=_0x4361d7);}_0x1a6dbb['weight']=_0x336264,_0x3f9b70+=_0x336264,this['_syncAnima'+'tions']&&(_0x507daf+=_0x1a6dbb['animTrack']['duration']/_0x1a6dbb['absoluteSp'+'eed']*_0x1a6dbb['weight']);}for(let _0x6fb187=-0xefc*0x1+0x9d1*-0x2+0x1a6*0x15;_0x6fb187<this['_children']['length'];_0x6fb187++){const _0x4e282c=this['_children'][_0x6fb187];if(_0x4e282c['weight']=_0x4e282c['_weight']/_0x3f9b70,this['_syncAnima'+'tions']){const _0x17a6f6=_0x4e282c['animTrack']['duration']/_0x507daf*_0x3f9b70;_0x4e282c['weightedSp'+'eed']=_0x4e282c['absoluteSp'+'eed']*_0x17a6f6;}}}};c(yi,'_p',new $()),c(yi,'_pip',new $());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5818ae=0x11b3*-0x2+0x1*-0x704+0x2a6a,_0x27961d=0x5b7+-0x2277*0x1+0x1cc0;for(let _0x5438a8=0x1*0x1a0c+-0x128+-0x18e4;_0x5438a8<this['_children']['length'];_0x5438a8++)if(_0x5818ae+=Math['max'](this['_parameter'+'Values'][_0x5438a8],0xb*-0xf+-0x1388+0x142d),this['_syncAnima'+'tions']){const _0x2acf1c=this['_children'][_0x5438a8];_0x27961d+=_0x2acf1c['animTrack']['duration']/_0x2acf1c['absoluteSp'+'eed']*_0x2acf1c['weight'];}for(let _0x20a64c=-0x7*-0x17f+0x2647+-0x30c0;_0x20a64c<this['_children']['length'];_0x20a64c++){const _0xd03874=this['_children'][_0x20a64c],_0x13567d=Math['max'](this['_parameter'+'Values'][_0x20a64c],-0x1*0x2393+-0x1172*-0x1+0x1221);_0x5818ae?(_0xd03874['weight']=_0x13567d/_0x5818ae,this['_syncAnima'+'tions']&&(_0xd03874['weightedSp'+'eed']=_0xd03874['animTrack']['duration']/_0xd03874['absoluteSp'+'eed']/_0x27961d)):(_0xd03874['weight']=-0x5*-0x530+-0xb65*0x2+-0x326,this['_syncAnima'+'tions']&&(_0xd03874['weightedSp'+'eed']=0x2*0x1312+-0x1*0x17d7+-0x7*0x20b));}}}class eg{constructor(_0x2fb2fc,_0x24553c,_0x406551=-0x1dcd*0x1+0x11e8+0xbe6,_0x328497=!(0x12e4+-0x1a3d+0x759),_0x1d9723){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x2fb2fc,this['_name']=_0x24553c,this['_speed']=_0x406551,this['_loop']=_0x328497,this['_hasAnimat'+'ions']=!(-0x205c+-0x1*0x2589+0x45e6),_0x1d9723?this['_blendTree']=this['_createTre'+'e'](_0x1d9723['type'],this,null,_0x24553c,0x1*0x2042+0x22e4+0x1*-0x4325,_0x1d9723['parameter']?[_0x1d9723['parameter']]:_0x1d9723['parameters'],_0x1d9723['children'],_0x1d9723['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x24553c,0x2b*-0x6a+-0x21bb+0x338a,_0x406551));}['_createTre'+'e'](_0x366c21,_0x27558d,_0x407f85,_0x1985b6,_0x9319ff,_0xe33629,_0x148605,_0x4e35be,_0x3741ee,_0x1e338f){switch(_0x366c21){case FP:return new VP(_0x27558d,_0x407f85,_0x1985b6,_0x9319ff,_0xe33629,_0x148605,_0x4e35be,_0x3741ee,_0x1e338f);case kP:return new Ju(_0x27558d,_0x407f85,_0x1985b6,_0x9319ff,_0xe33629,_0x148605,_0x4e35be,_0x3741ee,_0x1e338f);case OP:return new ef(_0x27558d,_0x407f85,_0x1985b6,_0x9319ff,_0xe33629,_0x148605,_0x4e35be,_0x3741ee,_0x1e338f);case BP:return new GP(_0x27558d,_0x407f85,_0x1985b6,_0x9319ff,_0xe33629,_0x148605,_0x4e35be,_0x3741ee,_0x1e338f);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x366c21);}['_getNodeFr'+'omPath'](_0x34d0ac){let _0x121b8f=this['_blendTree'];for(let _0x124d75=-0x9*0x125+-0x985*-0x4+0xed*-0x1e;_0x124d75<_0x34d0ac['length'];_0x124d75++)_0x121b8f=_0x121b8f['getChild'](_0x34d0ac[_0x124d75]);return _0x121b8f;}['addAnimati'+'on'](_0x20f034,_0x5a65f5){const _0x34e6b7=_0x20f034['join']('.'),_0x3b4996=this['_animation'+'List']['findIndex'](_0x49e33a=>_0x49e33a['path']===_0x34e6b7);if(_0x3b4996>=-0x1767+-0xc20+0x5*0x71b)this['_animation'+'List'][_0x3b4996]['animTrack']=_0x5a65f5;else{const _0x3ea278=this['_getNodeFr'+'omPath'](_0x20f034);_0x3ea278['animTrack']=_0x5a65f5,this['_animation'+'List']['push'](_0x3ea278);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x18be*0x1+0x1*0x124b+0x1*-0x2b09&&this['_animation'+'List']['every'](_0x1c945a=>_0x1c945a['animTrack']&&_0x1c945a['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x5cf856){this['_animation'+'List']=_0x5cf856,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x154b09){this['_speed']=_0x154b09;}get['speed'](){return this['_speed'];}set['loop'](_0x2dfe8f){this['_loop']=_0x2dfe8f;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?-0x152f*0x1+0xa7a*-0x2+-0x1f*-0x15c:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(-0x161b+-0xb*0x196+-0x1*-0x278e)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x153b+0x3*0x4f6+-0x5*-0x145){const _0x1ef038=this['name']+'.'+this['animations'][0xd5*-0x1e+-0x263c*-0x1+-0xd46]['animTrack']['name'],_0x33010a=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x1ef038);if(_0x33010a)return _0x33010a['loop'];}return!(-0x7c5+-0x8*-0x33b+0x909*-0x2);}get['totalWeigh'+'t'](){let _0x424301=0xcd8+0x232c+0x2*-0x1802;for(let _0xe4bcb7=-0x1e26+-0x5*-0xa3+0x1af7*0x1;_0xe4bcb7<this['animations']['length'];_0xe4bcb7++)_0x424301+=this['animations'][_0xe4bcb7]['weight'];return _0x424301;}get['timelineDu'+'ration'](){let _0x3a87b8=0xc3*0x13+0x167*-0x19+0x11*0x136;for(let _0x1d4ac5=-0x3e9+-0x4*-0x737+-0x18f3;_0x1d4ac5<this['animations']['length'];_0x1d4ac5++){const _0x50709f=this['animations'][_0x1d4ac5];_0x50709f['animTrack']['duration']>_0x3a87b8&&(_0x3a87b8=_0x50709f['animTrack']['duration']);}return _0x3a87b8;}}class Yh{constructor({from:_0x4a9c04,to:_0x303a99,time:_0x554af6=0x1dbd+0x62+0x1e1f*-0x1,priority:_0x2afb6e=-0x7*0x3b6+-0x1fab+-0x1337*-0x3,conditions:_0x2d2a11=[],exitTime:_0x5e6649=null,transitionOffset:_0x348c1f=null,interruptionSource:_0x3dac1e=q0}){this['_from']=_0x4a9c04,this['_to']=_0x303a99,this['_time']=_0x554af6,this['_priority']=_0x2afb6e,this['_condition'+'s']=_0x2d2a11,this['_exitTime']=_0x5e6649,this['_transitio'+'nOffset']=_0x348c1f,this['_interrupt'+'ionSource']=_0x3dac1e;}get['from'](){return this['_from'];}set['to'](_0x2b7904){this['_to']=_0x2b7904;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x2ffacd,_0x4a07fb,_0x3faeeb,_0xae967f,_0x2f67b8,_0x22b533,_0x534715){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x1*0x745+0x2404+-0x1cbf),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x125*-0x22+-0x2250+0x26*-0x1f)),c(this,'_playing',!(0x4*0x7c3+0xce7+-0x2bf2)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',-0x86d*0x4+0x242d+-0x278),c(this,'_totalTran'+'sitionTime',-0x18b5+-0x1173*-0x1+-0xd*-0x8f),c(this,'_isTransit'+'ioning',!(0x2323+-0x1*0xe77+-0x14ab)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',-0x7ab+-0x136*-0x1b+-0x2b*0x95),c(this,'_timeInSta'+'teBefore',-0x1*0x1505+-0x1b5*0x1+0x16ba),c(this,'findParame'+'ter',_0x2ca976=>this['_findParam'+'eter'](_0x2ca976)),(this['_animEvalu'+'ator']=_0x2ffacd,this['_eventHand'+'ler']=_0x2f67b8,this['_findParam'+'eter']=_0x22b533,this['_consumeTr'+'igger']=_0x534715);for(let _0x1a30db=-0x299+-0x11*-0x1a5+-0x195c;_0x1a30db<_0x4a07fb['length'];_0x1a30db++)this['_states'][_0x4a07fb[_0x1a30db]['name']]=new eg(this,_0x4a07fb[_0x1a30db]['name'],_0x4a07fb[_0x1a30db]['speed'],_0x4a07fb[_0x1a30db]['loop'],_0x4a07fb[_0x1a30db]['blendTree']),this['_stateName'+'s']['push'](_0x4a07fb[_0x1a30db]['name']);this['_transitio'+'ns']=_0x3faeeb['map'](_0xb0f9a2=>new Yh({..._0xb0f9a2})),this['_activate']=_0xae967f;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x4c9a23){this['_activeSta'+'teName']=_0x4c9a23;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x188dbd){this['_previousS'+'tateName']=_0x188dbd;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x32ad8f=!(0x99a*-0x2+0x1ba2+-0x86e);for(let _0x4f13c3=0x1c6*0x3+-0xa2*0x1e+-0x247*-0x6;_0x4f13c3<this['_stateName'+'s']['length'];_0x4f13c3++)this['_states'][this['_stateName'+'s'][_0x4f13c3]]['playable']||(_0x32ad8f=!(0x1*-0x8e6+-0x3a*0x82+0x3*0xcc9));return _0x32ad8f;}set['playing'](_0x2b0083){this['_playing']=_0x2b0083;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x4e6398=0x468+-0x6*0x3a7+0x1182;for(let _0x1484b6=-0x24e7+-0xa89+0x2f70;_0x1484b6<this['activeStat'+'eAnimation'+'s']['length'];_0x1484b6++){const _0x34f65b=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x1484b6]['name']);_0x34f65b&&(_0x4e6398=Math['max'](_0x4e6398,_0x34f65b['track']['duration']));}this['_activeSta'+'teDuration']=_0x4e6398,this['_activeSta'+'teDuration'+'Dirty']=!(0x737*0x5+-0xa5e*-0x1+-0x2e70);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x11f96a){this['_timeInSta'+'teBefore']=_0x11f96a,this['_timeInSta'+'te']=_0x11f96a;for(let _0x2e1a74=0x21d1+0xd79+-0x2f4a;_0x2e1a74<this['activeStat'+'eAnimation'+'s']['length'];_0x2e1a74++){const _0x323586=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x2e1a74]['name']);_0x323586&&(_0x323586['time']=_0x11f96a);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x1e9b6c){return this['_animEvalu'+'ator']['assignMask'](_0x1e9b6c);}['_findState'](_0x3158e2){return this['_states'][_0x3158e2];}['_getActive'+'StateProgr'+'essForTime'](_0x19ab13){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return 0x1d7f+0x2f8+-0x2076;const _0x2f09c5=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x1452+-0x52a*-0x6+0x1e*-0x5b]['name']);return _0x2f09c5?_0x2f09c5['progressFo'+'rTime'](_0x19ab13):null;}['_findTrans'+'itionsFrom'+'State'](_0x1d888d){let _0x437d3f=this['_findTrans'+'itionsFrom'+'StateCache'][_0x1d888d];return _0x437d3f||(_0x437d3f=this['_transitio'+'ns']['filter'](_0x75bdbc=>_0x75bdbc['from']===_0x1d888d),No(_0x437d3f),this['_findTrans'+'itionsFrom'+'StateCache'][_0x1d888d]=_0x437d3f),_0x437d3f;}['_findTrans'+'itionsBetw'+'eenStates'](_0xc91a30,_0x1a9e49){let _0x11e5b2=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0xc91a30+'->'+_0x1a9e49];return _0x11e5b2||(_0x11e5b2=this['_transitio'+'ns']['filter'](_0x4be3d0=>_0x4be3d0['from']===_0xc91a30&&_0x4be3d0['to']===_0x1a9e49),No(_0x11e5b2),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0xc91a30+'->'+_0x1a9e49]=_0x11e5b2),_0x11e5b2;}['_transitio'+'nHasCondit'+'ionsMet'](_0x4ad5c8){const _0x45cb11=_0x4ad5c8['conditions'];for(let _0x3f5077=0x815*-0x2+-0x41f+0x241*0x9;_0x3f5077<_0x45cb11['length'];_0x3f5077++){const _0x16c81b=_0x45cb11[_0x3f5077],_0x16fefd=this['_findParam'+'eter'](_0x16c81b['parameterN'+'ame']);switch(_0x16c81b['predicate']){case MP:if(!(_0x16fefd['value']>_0x16c81b['value']))return!(0x1e4e+-0xce*0x24+0x1f*-0xb);break;case PP:if(!(_0x16fefd['value']<_0x16c81b['value']))return!(-0x1*-0x1664+-0x2533*-0x1+0x20e*-0x1d);break;case RP:if(!(_0x16fefd['value']>=_0x16c81b['value']))return!(-0x26*-0x60+-0x2ca+-0xb75);break;case IP:if(!(_0x16fefd['value']<=_0x16c81b['value']))return!(0xe0+0x22ea+-0x23c9);break;case DP:if(_0x16fefd['value']!==_0x16c81b['value'])return!(-0xf*0x23b+0x1181+0x2b*0x5f);break;case LP:if(_0x16fefd['value']===_0x16c81b['value'])return!(-0x13f9*-0x1+-0x1*-0x84f+-0x7f*0x39);break;}}return!(0x991*0x1+-0xb71+0x1e0);}['_findTrans'+'ition'](_0x11bc4d,_0x25c641){let _0x5edab7=[];if(_0x11bc4d&&_0x25c641)_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x11bc4d,_0x25c641));else{if(!this['_isTransit'+'ioning'])_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5edab7=_0x5edab7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x5edab7=_0x5edab7['filter'](_0x221b00=>{if(_0x221b00['to']===this['activeStat'+'eName'])return!(-0x11dc+0x7c5+0x88*0x13);if(_0x221b00['hasExitTim'+'e']){let _0x48ecac=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x11fe17=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x221b00['exitTime']<0x1*-0x21e5+-0xd9f*-0x1+0x1d*0xb3&&this['activeStat'+'e']['loop']&&(_0x48ecac-=Math['floor'](_0x48ecac),_0x11fe17-=Math['floor'](_0x11fe17)),_0x11fe17===_0x48ecac){if(_0x11fe17!==_0x221b00['exitTime'])return null;}else{if(!(_0x221b00['exitTime']>_0x48ecac&&_0x221b00['exitTime']<=_0x11fe17))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x221b00);}),_0x5edab7['length']>-0x189d*-0x1+-0x691+-0x14a*0xe){const _0x5395c7=_0x5edab7[0x1*-0xaed+0x8*-0x3fa+0x15*0x209];if(_0x5395c7['to']===Ku){const _0x7e2f85=this['_findTrans'+'itionsFrom'+'State'](oo)[-0xcd2*-0x1+-0x16*-0x178+-0x2d22];_0x5395c7['to']=_0x7e2f85['to'];}return _0x5395c7;}return null;}['updateStat'+'eFromTrans'+'ition'](_0xe7f53b){let _0x16bf2f,_0x24662d,_0x596f5b;this['previousSt'+'ate']=_0xe7f53b['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0xe7f53b['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x1998+-0x16a6+0x303e);for(let _0x136a7a=-0x803+0x23e8+-0x1be5*0x1;_0x136a7a<_0xe7f53b['conditions']['length'];_0x136a7a++){const _0x5e686f=_0xe7f53b['conditions'][_0x136a7a];this['_findParam'+'eter'](_0x5e686f['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x5e686f['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x1149d3=Math['min'](this['_totalTran'+'sitionTime']!==-0x1*-0x15a9+0x29a*-0x4+-0xb41?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x9ad*0x1+0x1*0x75b+-0x77*-0x5,0x236d+-0x1397+0x7*-0x243);for(let _0xf1bf12=0x41*0x6d+-0x17*0x50+-0x419*0x5;_0xf1bf12<this['_transitio'+'nPreviousS'+'tates']['length'];_0xf1bf12++){this['_isTransit'+'ioning']?_0xf1bf12!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x49a+-0xfd3*-0x1+0x4*-0x51b)?this['_transitio'+'nPreviousS'+'tates'][_0xf1bf12]['weight']*=0xbec+0x51c+-0x5ad*0x3-_0x1149d3:this['_transitio'+'nPreviousS'+'tates'][_0xf1bf12]['weight']=_0x1149d3:this['_transitio'+'nPreviousS'+'tates'][_0xf1bf12]['weight']=-0x181c+-0x687*0x1+0xf52*0x2,_0x16bf2f=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0xf1bf12]['name']);for(let _0x37d5c7=-0x1*-0x17d7+-0x1*0xdef+-0x9e8;_0x37d5c7<_0x16bf2f['animations']['length'];_0x37d5c7++)_0x24662d=_0x16bf2f['animations'][_0x37d5c7],_0x596f5b=this['_animEvalu'+'ator']['findClip'](_0x24662d['name']+'.previous.'+_0xf1bf12),_0x596f5b||(_0x596f5b=this['_animEvalu'+'ator']['findClip'](_0x24662d['name']),_0x596f5b['name']=_0x24662d['name']+'.previous.'+_0xf1bf12),_0xf1bf12!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x2243+-0xd*-0x59+0x1dbf)&&_0x596f5b['pause']();}}this['_isTransit'+'ioning']=!(0x23bf+-0x1*-0x10a5+0x77c*-0x7),this['_totalTran'+'sitionTime']=_0xe7f53b['time'],this['_currTrans'+'itionTime']=-0x950+-0x8af+0x11ff,this['_transitio'+'nInterrupt'+'ionSource']=_0xe7f53b['interrupti'+'onSource'];const _0x481ae5=this['activeStat'+'e'],_0x3830ed=_0xe7f53b['transition'+'Offset']&&_0xe7f53b['transition'+'Offset']>-0x1e86+-0x16ad+-0x1*-0x3533&&_0xe7f53b['transition'+'Offset']<-0x1*0x45f+0x1316+0x10d*-0xe;let _0x351aa4=0x1*0x1e43+-0x16*-0xa4+0x1*-0x2c5b,_0x210996=0x2*-0x74c+0x3ef+0xaa9;if(_0x3830ed){const _0x58761b=_0x481ae5['timelineDu'+'ration']*_0xe7f53b['transition'+'Offset'];_0x351aa4=_0x58761b,_0x210996=_0x58761b;}this['_timeInSta'+'te']=_0x351aa4,this['_timeInSta'+'teBefore']=_0x210996;for(let _0xdffe97=0x6e*0x55+0xe37+0x1*-0x32bd;_0xdffe97<_0x481ae5['animations']['length'];_0xdffe97++){if(_0x596f5b=this['_animEvalu'+'ator']['findClip'](_0x481ae5['animations'][_0xdffe97]['name']),_0x596f5b)_0x596f5b['reset']();else{const _0x3d2f03=Number['isFinite'](_0x481ae5['animations'][_0xdffe97]['speed'])?_0x481ae5['animations'][_0xdffe97]['speed']:_0x481ae5['speed'];_0x596f5b=new Xh(_0x481ae5['animations'][_0xdffe97]['animTrack'],this['_timeInSta'+'te'],_0x3d2f03,!(0x253c+-0x5e*-0xe+-0x2a60),_0x481ae5['loop'],this['_eventHand'+'ler']),_0x596f5b['name']=_0x481ae5['animations'][_0xdffe97]['name'],this['_animEvalu'+'ator']['addClip'](_0x596f5b);}if(_0xe7f53b['time']>0x4a*-0x6d+-0x1*0x196a+-0x1c76*-0x2?_0x596f5b['blendWeigh'+'t']=-0x25*0x10+0xfab+-0xd5b:_0x596f5b['blendWeigh'+'t']=_0x481ae5['animations'][_0xdffe97]['normalized'+'Weight'],_0x596f5b['play'](),_0x3830ed)_0x596f5b['time']=_0x481ae5['timelineDu'+'ration']*_0xe7f53b['transition'+'Offset'];else{const _0x88c193=_0x481ae5['speed']>=-0x732+0x1532*-0x1+0x1c64?-0x98d+-0x111*0xd+0x176a:this['activeStat'+'eDuration'];_0x596f5b['time']=_0x88c193;}}}['_transitio'+'nToState'](_0x1e5a7f){if(!this['_findState'](_0x1e5a7f))return;let _0x2d39d2=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x1e5a7f);_0x2d39d2||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x2d39d2=new Yh({'from':null,'to':_0x1e5a7f})),this['updateStat'+'eFromTrans'+'ition'](_0x2d39d2);}['assignAnim'+'ation'](_0x442dd6,_0x1258fe,_0x134a8b,_0x2c70c4){const _0x20d6ac=_0x442dd6['split']('.');let _0x4b08e2=this['_findState'](_0x20d6ac[-0x1a8a+-0x1*-0x5cd+0x1*0x14bd]);_0x4b08e2||(_0x4b08e2=new eg(this,_0x20d6ac[-0x355*-0x1+0x4cf+-0x2*0x412],_0x134a8b),this['_states'][_0x20d6ac[-0x172e+-0x1553+-0x1*-0x2c81]]=_0x4b08e2,this['_stateName'+'s']['push'](_0x20d6ac[-0x1774+-0x1f*-0xa1+0x3f5])),_0x4b08e2['addAnimati'+'on'](_0x20d6ac,_0x1258fe),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x4b08e2['name'],_0x1258fe),_0x134a8b!==void(-0x3*0x4e8+-0x5a5+0x145d)&&(_0x4b08e2['speed']=_0x134a8b),_0x2c70c4!==void(-0xb22*-0x1+0x478+-0xf9a)&&(_0x4b08e2['loop']=_0x2c70c4),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x1fc5+0x7e4*-0x4+-0x1f*-0x20b);}['removeNode'+'Animations'](_0xcf0b02){if(jh['indexOf'](_0xcf0b02)!==-(-0x763+0x1a24+-0x12c0))return!(-0x18de+0x3a*-0x7f+0x35a5);const _0x138039=this['_findState'](_0xcf0b02);return _0x138039?(_0x138039['animations']=[],!(-0x1891+0x1c6*0xb+0x7*0xb9)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0xcf0b02),!(-0x66b+-0x3*0x63f+-0x39*-0x71));}['play'](_0x5b34ef){_0x5b34ef&&this['_transitio'+'nToState'](_0x5b34ef),this['_playing']=!(-0x168f+0xd1c+-0x973*-0x1);}['pause'](){this['_playing']=!(0x575*-0x7+-0x1fab+0x45df);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0x1*0x38a+-0x1faf+0x1c26),this['_currTrans'+'itionTime']=0xa76+-0xedc+0x31*0x17,this['_totalTran'+'sitionTime']=0x97a*0x4+-0x2*0xa9f+-0x10a9,this['_isTransit'+'ioning']=!(0x1edb+0x1427+-0x3301*0x1),this['_timeInSta'+'te']=0xdf9+-0x108c*-0x2+0x2f11*-0x1,this['_timeInSta'+'teBefore']=-0x714+-0x1589*-0x1+-0xe75,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x55a0a9){if(!this['_playing'])return;let _0x5a7ab7,_0x158e17,_0x8963da;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x55a0a9*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x55a0a9=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x5368f2=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x5368f2&&this['updateStat'+'eFromTrans'+'ition'](_0x5368f2),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x55a0a9,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x214ab8=this['_totalTran'+'sitionTime']!==-0x74a+-0x26c4+0x2e0e?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x25f1+0x11*-0x193+0x40b5;for(let _0x5628e8=0x7*-0x315+-0x346*-0x6+0x1ef;_0x5628e8<this['_transitio'+'nPreviousS'+'tates']['length'];_0x5628e8++){_0x5a7ab7=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x5628e8]['name']);const _0x3f3bf0=this['_transitio'+'nPreviousS'+'tates'][_0x5628e8]['weight'];for(let _0x242d98=0x5*-0x3d6+-0x1c9d+0x5*0x98f;_0x242d98<_0x5a7ab7['animations']['length'];_0x242d98++)_0x158e17=_0x5a7ab7['animations'][_0x242d98],_0x8963da=this['_animEvalu'+'ator']['findClip'](_0x158e17['name']+'.previous.'+_0x5628e8),_0x8963da&&(_0x8963da['blendWeigh'+'t']=(0x1802*-0x1+0x4b3*-0x2+0x1*0x2169-_0x214ab8)*_0x158e17['normalized'+'Weight']*_0x3f3bf0);}_0x5a7ab7=this['activeStat'+'e'];for(let _0x570dde=-0x1c06+-0x1be4+0x37ea;_0x570dde<_0x5a7ab7['animations']['length'];_0x570dde++)_0x158e17=_0x5a7ab7['animations'][_0x570dde],this['_animEvalu'+'ator']['findClip'](_0x158e17['name'])['blendWeigh'+'t']=_0x214ab8*_0x158e17['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x210f+0xf4d+-0x305b);const _0x207599=this['activeStat'+'eAnimation'+'s']['length'],_0x198e83=this['_animEvalu'+'ator']['clips']['length'];for(let _0x19a71f=0x1*0x638+-0x4*0x87e+-0xc*-0x250;_0x19a71f<_0x198e83-_0x207599;_0x19a71f++)this['_animEvalu'+'ator']['removeClip'](0x13ea+-0x27c*-0xd+-0x3436);this['_transitio'+'nPreviousS'+'tates']=[],_0x5a7ab7=this['activeStat'+'e'];for(let _0x32d594=0x1*-0x1de7+-0x10d4+0x6ad*0x7;_0x32d594<_0x5a7ab7['animations']['length'];_0x32d594++)_0x158e17=_0x5a7ab7['animations'][_0x32d594],_0x8963da=this['_animEvalu'+'ator']['findClip'](_0x158e17['name']),_0x8963da&&(_0x8963da['blendWeigh'+'t']=_0x158e17['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x5a7ab7=this['activeStat'+'e'];for(let _0x3de3be=-0x6c3*0x3+-0x91+0x1*0x14da;_0x3de3be<_0x5a7ab7['animations']['length'];_0x3de3be++)_0x158e17=_0x5a7ab7['animations'][_0x3de3be],_0x8963da=this['_animEvalu'+'ator']['findClip'](_0x158e17['name']),_0x8963da&&(_0x8963da['blendWeigh'+'t']=_0x158e17['normalized'+'Weight'],_0x158e17['parent']['syncAnimat'+'ions']&&(_0x8963da['speed']=_0x158e17['speed']));}}this['_animEvalu'+'ator']['update'](_0x55a0a9,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new $(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x27b6a3,_0x2aad1c,_0x5a0bc1,_0x4a9a12,_0x435b6d){super(_0x2aad1c),this['animCompon'+'ent']=_0x27b6a3,this['_mask']=_0x4a9a12,this['layerName']=_0x5a0bc1,this['layerIndex']=_0x435b6d;}static['_packFloat'](_0x450950){return _0x450950[0xaa5+0x275*0xf+0x2*-0x17c0];}static['_packBoole'+'an'](_0x120123){return!!_0x120123[-0x98+-0x1945*-0x1+-0x18ad];}static['_packVec2'](_0x405ccb){return Yd['x']=_0x405ccb[0x1246*-0x2+0x2611*0x1+0x1*-0x185],Yd['y']=_0x405ccb[-0xb1*0x38+-0x3e*0x86+0x472d],Yd;}static['_packVec3'](_0x51e9af){return ql['x']=_0x51e9af[0x1*0x2467+-0x5ec*-0x3+-0x362b],ql['y']=_0x51e9af[-0x1*-0x269b+-0x1*0x24d4+-0x1c6],ql['z']=_0x51e9af[0x5c2*0x5+0x1a9c+-0x3764],ql;}static['_packVec4'](_0x3c1dce){return Ja['x']=_0x3c1dce[0x2288+0x55*-0x1+-0x55*0x67],Ja['y']=_0x3c1dce[-0x2475+0x3*0x13a+0x20c8],Ja['z']=_0x3c1dce[-0x1*0x1281+-0x17a3+-0x1513*-0x2],Ja['w']=_0x3c1dce[0x17*-0x67+0x2*-0x1f+0x982*0x1],Ja;}static['_packColor'](_0x181e9d){return eo['r']=_0x181e9d[0x32d*0xb+0x1df7+-0x40e6],eo['g']=_0x181e9d[-0x59*0x67+-0xe01+0x589*0x9],eo['b']=_0x181e9d[-0x264c+0x21b9+0x495],eo['a']=_0x181e9d[0x24b2+-0xa*0x1ab+-0x1401],eo;}static['_packQuat'](_0x4cf253){return to['x']=_0x4cf253[-0x491*0x3+-0xfa3*0x2+-0x18d*-0x1d],to['y']=_0x4cf253[0x3*0x509+0x1af5+-0x2a0f],to['z']=_0x4cf253[-0x16e5*-0x1+0x3*-0xac5+0x96c],to['w']=_0x4cf253[-0x1dbe+-0x2154+-0x7*-0x903],to;}['resolve'](_0x417a38){const _0x81b2da=qr['encode'](_0x417a38['entityPath'],_0x417a38['component'],_0x417a38['propertyPa'+'th']);let _0x4453b5=this['targetCach'+'e'][_0x81b2da];if(_0x4453b5)return _0x4453b5;let _0x2cfec5,_0x28d7c9,_0x1e421b;switch(_0x417a38['component']){case'entity':_0x2cfec5=this['_getEntity'+'FromHierar'+'chy'](_0x417a38['entityPath']),_0x1e421b=qr['encode'](_0x2cfec5['path'],'entity',_0x417a38['propertyPa'+'th']),_0x28d7c9=_0x2cfec5;break;case'graph':if(_0x28d7c9=this['findNode'](_0x417a38),!_0x28d7c9)return null;_0x1e421b=qr['encode'](_0x28d7c9['path'],'graph',_0x417a38['propertyPa'+'th']);break;default:if(_0x2cfec5=this['_getEntity'+'FromHierar'+'chy'](_0x417a38['entityPath']),_0x28d7c9=_0x2cfec5['findCompon'+'ent'](_0x417a38['component']),!_0x28d7c9)return null;_0x1e421b=qr['encode'](_0x2cfec5['path'],_0x417a38['component'],_0x417a38['propertyPa'+'th']);break;}return _0x4453b5=this['_createAni'+'mTargetFor'+'Property'](_0x28d7c9,_0x417a38['propertyPa'+'th'],_0x1e421b),this['targetCach'+'e'][_0x81b2da]=_0x4453b5,_0x4453b5;}['update'](_0x5b9310){const _0x39bd26=this['activeNode'+'s'];if(_0x39bd26){for(let _0x5a3831=0xf6*-0x1b+-0x1*0x1f55+0x3947;_0x5a3831<_0x39bd26['length'];_0x5a3831++)_0x39bd26[_0x5a3831]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x4cf319){if(!this['animCompon'+'ent']['entity']['name']===_0x4cf319[-0x19f7+0x1b47*-0x1+0x553*0xa])return null;const _0x277958=this['animCompon'+'ent']['entity'];return _0x4cf319['length']===-0x23cc+0x5*0x577+-0xa*-0xd9?_0x277958:_0x277958['_parent']['findByPath'](_0x4cf319);}['_resolvePa'+'th'](_0x296d78,_0x3a0a01,_0x180b8c){const _0x53daff=_0x3a0a01['length']-(_0x180b8c?-0x2061+-0x1*0xd02+0x2d63:-0x15f6+-0x9a8+0x1f9f);for(let _0x476792=0xdaa+0x4*0x52+0x2*-0x779;_0x476792<_0x53daff;_0x476792++)_0x296d78=_0x296d78[_0x3a0a01[_0x476792]];return _0x296d78;}['_setter'](_0x4e2530,_0xf15aab,_0x4d7314){const _0x40a486=this['_resolvePa'+'th'](_0x4e2530,_0xf15aab),_0x428f75=_0xf15aab[_0xf15aab['length']-(0x6bb*0x2+-0x22+0x3*-0x471)],_0xcd1226='set'+_0x428f75['substring'](-0x17a0+0x227a+0x56d*-0x2,-0x1648+-0x369*0x9+-0x34fa*-0x1)['toUpperCas'+'e']()+_0x428f75['substring'](-0xba*0x26+0x1d*-0x9c+-0x2d49*-0x1);if(_0x40a486[_0xcd1226]){let _0x11662d=_0x40a486['get'+_0x428f75['substring'](-0x187+-0x157*-0x7+-0x7da,-0x1*0x1705+-0x280+0x1986)['toUpperCas'+'e']()+_0x428f75['substring'](-0x2350+-0xa3c+0x2d8d)]['bind'](_0x40a486)();_0x11662d=[_0x11662d['x'],_0x11662d['y'],_0x11662d['z'],_0x11662d['w']];const _0x58afe5=_0x40a486[_0xcd1226]['bind'](_0x40a486);return{'set':_0x4ab34d=>{_0x58afe5(_0x4d7314(_0x4ab34d));},'get':()=>_0x11662d};}const _0x122d36=_0x40a486[_0x428f75];if(typeof _0x122d36=='object'&&_0x122d36['hasOwnProp'+'erty']('copy'))return function(_0x282006){_0x122d36['copy'](_0x4d7314(_0x282006));};if([$,T,Q,Y,se]['indexOf'](_0x40a486['constructo'+'r'])!==-(0x175*-0x16+-0x24a6+-0x16e7*-0x3)&&_0xf15aab['length']>-0x15d*-0xd+0x25e8+-0x37a0){const _0x505765=_0xf15aab['length']>-0x135d*-0x2+0x23f1+-0x33f*0x17?this['_resolvePa'+'th'](_0x4e2530,_0xf15aab['slice'](0xa32+-0xac*-0x6+-0xe3a*0x1,-(0x2209+-0x31a*0x7+-0xc52))):_0x4e2530,_0x3f87fd=_0xf15aab[_0xf15aab['length']-(-0x3d1*0x3+-0x12*-0x105+-0x5*0x161)];return function(_0x283b6e){_0x40a486[_0x428f75]=_0x4d7314(_0x283b6e),_0x505765[_0x3f87fd]=_0x40a486;};}return function(_0x3f2a14){_0x40a486[_0x428f75]=_0x4d7314(_0x3f2a14);};}['_createAni'+'mTargetFor'+'Property'](_0x3bcfce,_0x23c30c,_0x269517){if(this['handlers']&&_0x23c30c[-0x1d1+-0x1aa4+0x9b*0x2f]['startsWith']('weight.'))return this['handlers']['weight'](_0x3bcfce,_0x23c30c[0x697+-0x1041+0x9aa]['replace']('weight.',''));if(this['handlers']&&_0x23c30c[0x3*0x273+0x1*-0x2137+0x19de]==='material'&&_0x23c30c['length']===0x1765+0xe47+0x647*-0x6){const _0x389679=_0x23c30c[-0xaa0+0x13*-0x4+0xaed];if(_0x389679['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x3bcfce,_0x389679);}const _0x489b13=this['_resolvePa'+'th'](_0x3bcfce,_0x23c30c,!(0xc9a+-0xa2f*0x1+0x1*-0x26b));if(typeof _0x489b13>'u')return null;let _0x5f4dee,_0x2bf6a8,_0x530d24;if(typeof _0x489b13=='number')_0x5f4dee=this['_setter'](_0x3bcfce,_0x23c30c,mi['_packFloat']),_0x2bf6a8='vector',_0x530d24=0x2292+-0x1*0xb25+0xbb6*-0x2;else{if(typeof _0x489b13=='boolean')_0x5f4dee=this['_setter'](_0x3bcfce,_0x23c30c,mi['_packBoole'+'an']),_0x2bf6a8='vector',_0x530d24=-0x995+-0x18e4+0x227a;else{if(typeof _0x489b13=='object')switch(_0x489b13['constructo'+'r']){case $:_0x5f4dee=this['_setter'](_0x3bcfce,_0x23c30c,mi['_packVec2']),_0x2bf6a8='vector',_0x530d24=-0xe9b*0x1+-0x257f+0x536*0xa;break;case T:_0x5f4dee=this['_setter'](_0x3bcfce,_0x23c30c,mi['_packVec3']),_0x2bf6a8='vector',_0x530d24=-0x18bc+0x118*-0x17+0x31e7;break;case Q:_0x5f4dee=this['_setter'](_0x3bcfce,_0x23c30c,mi['_packVec4']),_0x2bf6a8='vector',_0x530d24=0x967*0x4+0x355*0xb+-0x4a3f;break;case Y:_0x5f4dee=this['_setter'](_0x3bcfce,_0x23c30c,mi['_packColor']),_0x2bf6a8='vector',_0x530d24=-0x1423+0x56d+0xeba;break;case se:_0x5f4dee=this['_setter'](_0x3bcfce,_0x23c30c,mi['_packQuat']),_0x2bf6a8='quaternion',_0x530d24=0x1*0x1a3d+-0x1ef*0x2+-0x165b;break;default:return null;}}}return _0x23c30c['indexOf']('material')!==-(0x148b+-0x9f3+-0xa97*0x1)?new Zu(_0xe79f2c=>{_0x5f4dee(_0xe79f2c),_0x3bcfce['material']['update']();},_0x2bf6a8,_0x530d24,_0x269517):new Zu(_0x5f4dee,_0x2bf6a8,_0x530d24,_0x269517);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x4ab1c1={},_0x7e1df7=function(_0x121b41){_0x4ab1c1[_0x121b41['name']]=_0x121b41;for(let _0x469532=0x2*-0x701+0x1*-0x12f3+0xb*0x2ff;_0x469532<_0x121b41['children']['length'];++_0x469532)_0x7e1df7(_0x121b41['children'][_0x469532]);};_0x7e1df7(this['graph']),this['nodes']=_0x4ab1c1;}}class $P{constructor(_0x572056,_0x46a408,_0x3249f3,_0x2e4ccb=-0xe35+0x125*-0xd+0x1d17,_0x25a6b4=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0xd*0x122+0x175*-0x14+0x2e2*0x5),c(this,'_blendTime'+'Elapsed',0x1360+0x1*0x1ca1+-0x3001),c(this,'_startingW'+'eight',0xd51+0x2c5+-0x1016),c(this,'_targetWei'+'ght',-0x7da+0x11*-0x59+0xdc3),(this['_name']=_0x572056,this['_controlle'+'r']=_0x46a408,this['_component']=_0x3249f3,this['_weight']=_0x2e4ccb,this['_blendType']=_0x25a6b4);}get['name'](){return this['_name'];}set['playing'](_0x39bfe7){this['_controlle'+'r']['playing']=_0x39bfe7;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0xa968d8){const _0xc24160=this['_controlle'+'r'],_0x2dea12=_0xc24160['playing'];_0xc24160['playing']=!(0x1542+0x1*0x166f+-0x8bd*0x5),_0xc24160['activeStat'+'eCurrentTi'+'me']=_0xa968d8,_0x2dea12||_0xc24160['update'](0x6f3*-0x2+-0x111*-0x3+-0xf9*-0xb),_0xc24160['playing']=_0x2dea12;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x3872e5){this['_weight']=_0x3872e5,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x4cd2a5){_0x4cd2a5!==this['_blendType']&&(this['_blendType']=_0x4cd2a5,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x5e1eac){this['_controlle'+'r']['assignMask'](_0x5e1eac)&&this['_component']['rebind'](),this['_mask']=_0x5e1eac;}get['mask'](){return this['_mask'];}['play'](_0xb7b0d2){this['_controlle'+'r']['play'](_0xb7b0d2);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x27ca40){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x27ca40):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x584+0x11*0x2d+-0x881,this['_blendTime'+'Elapsed']=0x550+0x2573+0x3*-0xe41,this['_startingW'+'eight']=-0x3*-0x167+-0x1*-0x1331+-0x1766,this['_targetWei'+'ght']=0x1*0x1c4f+0x1ced+-0x2c*0x14d)),this['_controlle'+'r']['update'](_0x27ca40);}['blendToWei'+'ght'](_0xa4a48d,_0x2c20cb){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0xa4a48d,this['_blendTime']=Math['max'](0x2361+0x116b+0xda*-0x3e,_0x2c20cb),this['_blendTime'+'Elapsed']=-0x1*-0xf1+-0x79f*0x4+-0x1d8b*-0x1;}['assignAnim'+'ation'](_0x521124,_0x34eb08,_0x598fd,_0x1589ff){if(!(_0x34eb08 instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x521124,_0x34eb08,_0x598fd,_0x1589ff),this['_controlle'+'r']['_transitio'+'ns']['length']===0x1a3e*0x1+0x1db9+-0x37f7&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x521124})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x1d08+-0xe48+0xc*0x39c));}['removeNode'+'Animations'](_0x1b998d){this['_controlle'+'r']['removeNode'+'Animations'](_0x1b998d)&&(this['_component']['playing']=!(0x506*-0x7+-0x1514+0x79*0x77));}['getAnimati'+'onAsset'](_0xecb3cb){return this['_component']['animationA'+'ssets'][this['name']+':'+_0xecb3cb];}['transition'](_0x47a24e,_0x2cfaec=0x8*0x1e7+-0x1e5b*0x1+0xf23,_0xb0011d=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x47a24e,'time':_0x2cfaec,'transitionOffset':_0xb0011d}));}}class mh{constructor(_0x3a7859){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x3a7859['layers']))this['_layers']=_0x3a7859['layers'];else for(const _0x568be2 in _0x3a7859['layers']){const _0x53a256=_0x3a7859['layers'][_0x568be2],_0x1de67a={'name':_0x53a256['name'],'blendType':_0x53a256['blendType'],'weight':_0x53a256['weight'],'states':[],'transitions':[]};for(let _0x501c4b=-0x1f*-0x73+0x224d+-0x2*0x181d;_0x501c4b<_0x53a256['states']['length'];_0x501c4b++)_0x1de67a['states']['push'](_0x3a7859['states'][_0x53a256['states'][_0x501c4b]]);for(let _0xb496dc=0xec0+-0x226c+0x13ac;_0xb496dc<_0x53a256['transition'+'s']['length'];_0xb496dc++){const _0x3d5e93=_0x3a7859['transition'+'s'][_0x53a256['transition'+'s'][_0xb496dc]];if(_0x3d5e93['conditions']&&!Array['isArray'](_0x3d5e93['conditions'])){const _0x2e0de8=Object['keys'](_0x3d5e93['conditions']),_0x3dc5cb=[];for(let _0x1819e2=0x1*-0x4e1+0x78c+0x1*-0x2ab;_0x1819e2<_0x2e0de8['length'];_0x1819e2++){const _0x2ff1ef=_0x3d5e93['conditions'][_0x2e0de8[_0x1819e2]];_0x2ff1ef['parameterN'+'ame']&&_0x3dc5cb['push'](_0x2ff1ef);}_0x3d5e93['conditions']=_0x3dc5cb;}Number['isInteger'](_0x3d5e93['from'])&&(_0x3d5e93['from']=_0x3a7859['states'][_0x3d5e93['from']]['name']),Number['isInteger'](_0x3d5e93['to'])&&(_0x3d5e93['to']=_0x3a7859['states'][_0x3d5e93['to']]['name']),_0x1de67a['transition'+'s']['push'](_0x3d5e93);}this['_layers']['push'](_0x1de67a);}for(const _0x5f42e4 in _0x3a7859['parameters']){const _0x5d7100=_0x3a7859['parameters'][_0x5f42e4];this['_parameter'+'s'][_0x5d7100['name']]={'type':_0x5d7100['type'],'value':_0x5d7100['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0x458+-0x3*0x3a1+0x1*0xf3c),c(this,'_activate',!(-0xc2c+-0x2*-0x621+0xb*-0x2)),c(this,'_playing',!(0x1ce2+-0x1077+-0xc6a*0x1)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(0xb2*-0x17+0x3fc+0xc03)),c(this,'findParame'+'ter',_0x19807f=>this['_parameter'+'s'][_0x19807f]),c(this,'consumeTri'+'gger',_0x35b8a1=>{this['_consumedT'+'riggers']['add'](_0x35b8a1);});}set['stateGraph'+'Asset'](_0x3bf4b5){if(_0x3bf4b5===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0xa9e156,_0x4b1ff0;_0x3bf4b5 instanceof le?(_0xa9e156=_0x3bf4b5['id'],_0x4b1ff0=this['system']['app']['assets']['get'](_0xa9e156),_0x4b1ff0||(this['system']['app']['assets']['add'](_0x3bf4b5),_0x4b1ff0=this['system']['app']['assets']['get'](_0xa9e156))):(_0xa9e156=_0x3bf4b5,_0x4b1ff0=this['system']['app']['assets']['get'](_0xa9e156)),!(!_0x4b1ff0||this['_stateGrap'+'hAsset']===_0xa9e156)&&(_0x4b1ff0['resource']?(this['_stateGrap'+'h']=_0x4b1ff0['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x4b1ff0['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x4b1ff0['once']('load',_0x3ca7e1=>{this['_stateGrap'+'h']=_0x3ca7e1['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x4b1ff0['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x4b1ff0)),this['_stateGrap'+'hAsset']=_0xa9e156);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x4dd329){this['_normalize'+'Weights']=_0x4dd329,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x19b82f){this['_animation'+'Assets']=_0x19b82f,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x4a7c9f){this['_speed']=_0x4a7c9f;}get['speed'](){return this['_speed'];}set['activate'](_0x2b76b9){this['_activate']=_0x2b76b9;}get['activate'](){return this['_activate'];}set['playing'](_0x16570c){this['_playing']=_0x16570c;}get['playing'](){return this['_playing'];}set['rootBone'](_0x659d3a){if(typeof _0x659d3a=='string'){const _0x297a52=this['entity']['root']['findByGuid'](_0x659d3a);v['assert'](_0x297a52,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x659d3a+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x297a52;}else _0x659d3a instanceof $e?this['_rootBone']=_0x659d3a:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x450835){this['_stateGrap'+'h']=_0x450835;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x5880a6){this['_layerIndi'+'ces']=_0x5880a6;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x2b8f9b){this['_parameter'+'s']=_0x2b8f9b;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x92beb3){this['_targets']=_0x92beb3;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x40e033=0x853+0x1b5+0x18*-0x6b;_0x40e033<this['_layers']['length'];_0x40e033++)if(!this['_layers'][_0x40e033]['playable'])return!(-0x17+0x2a5*0x9+-0x33*0x77);return!(-0xba5*0x2+-0x3*-0x5a6+0x658);}get['baseLayer'](){return this['_layers']['length']>0x340*-0x2+-0xd77+0x13f7?this['_layers'][-0x1024+-0x1a43+0x2a67]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x3fc152){const _0x5db883=this['animationA'+'ssets'],_0x4206fc=this['layers']['map'](_0x314eae=>_0x314eae['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x3fc152['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x5db883,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x3bf76b,_0x2aa83b)=>{_0x3bf76b['mask']=_0x4206fc[_0x2aa83b];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x23db0d=Object['values'](this['_targets']);for(let _0x3f5310=0x1ebf+0x4e1+-0x8e8*0x4;_0x3f5310<_0x23db0d['length'];_0x3f5310++)_0x23db0d[_0x3f5310]['dirty']=!(-0x433*-0x1+-0x2*-0xd66+-0x1eff);}['_addLayer']({name:_0x41c883,states:_0x125a8a,transitions:_0x4fe870,weight:_0x2933b3,mask:_0x452b16,blendType:_0xd7e0e2}){let _0x1f8133;this['rootBone']?_0x1f8133=this['rootBone']:_0x1f8133=this['entity'];const _0x2e6543=this['_layers']['length'],_0x39e17b=new mi(this,_0x1f8133,_0x41c883,_0x452b16,_0x2e6543),_0x50fe05=new j0(_0x39e17b),_0x453180=new HP(_0x50fe05,_0x125a8a,_0x4fe870,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new $P(_0x41c883,_0x453180,this,_0x2933b3,_0xd7e0e2)),this['_layerIndi'+'ces'][_0x41c883]=_0x2e6543,this['_layers'][_0x2e6543];}['addLayer'](_0x491337,_0x25ae4e,_0x486521,_0x35b7c2){const _0x42ad1c=this['findAnimat'+'ionLayer'](_0x491337);if(_0x42ad1c)return _0x42ad1c;const _0xdc1e75=[{'name':'START','speed':0x1}],_0x3e7539=[];return this['_addLayer']({'name':_0x491337,'states':_0xdc1e75,'transitions':_0x3e7539,'weight':_0x25ae4e,'mask':_0x486521,'blendType':_0x35b7c2});}['_assignPar'+'ameters'](_0x5d410c){this['_parameter'+'s']={};const _0x50d55f=Object['keys'](_0x5d410c['parameters']);for(let _0x39a736=0x7*-0x3cb+-0x1*0x24c3+0x3f50;_0x39a736<_0x50d55f['length'];_0x39a736++){const _0x39c958=_0x50d55f[_0x39a736];this['_parameter'+'s'][_0x39c958]={'type':_0x5d410c['parameters'][_0x39c958]['type'],'value':_0x5d410c['parameters'][_0x39c958]['value']};}}['loadStateG'+'raph'](_0xbfd9c0){this['_stateGrap'+'h']=_0xbfd9c0,this['_assignPar'+'ameters'](_0xbfd9c0),this['_layers']=[];let _0x298cd9=!(0x8b7*0x1+-0x59*0x2b+0x63d);for(let _0x486da6=0x8ee+0x101*-0x1b+0x122d;_0x486da6<_0xbfd9c0['layers']['length'];_0x486da6++){const _0x19b803=_0xbfd9c0['layers'][_0x486da6];this['_addLayer']({..._0x19b803}),_0x19b803['states']['some'](_0x21c38b=>_0x21c38b['blendTree'])&&(_0x298cd9=!(0x1396+-0xb*-0xba+-0x4*0x6e5));}_0x298cd9||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x259d28=-0xd*-0x2bd+-0x17aa*0x1+0x263*-0x5;_0x259d28<this['_layers']['length'];_0x259d28++){const _0x3820e1=this['_layers'][_0x259d28],_0x2ea6ba=_0x3820e1['name'];for(let _0x528167=0x120c+0x37*0xb4+-0x38b8;_0x528167<_0x3820e1['states']['length'];_0x528167++){const _0x5b84a7=_0x3820e1['states'][_0x528167];if(jh['indexOf'](_0x5b84a7)===-(0x11*-0x1a2+-0xe42+0x2a05)){const _0x484b13=_0x2ea6ba+':'+_0x5b84a7;this['_animation'+'Assets'][_0x484b13]||(this['_animation'+'Assets'][_0x484b13]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x22fdcc=-0x10c4*-0x1+0x7d6+0x1*-0x189a;_0x22fdcc<this['_layers']['length'];_0x22fdcc++){const _0x228ce0=this['_layers'][_0x22fdcc];for(let _0x1ab87c=-0x11+-0x10d*-0x22+-0x23a9;_0x1ab87c<_0x228ce0['states']['length'];_0x1ab87c++){const _0xad4b02=_0x228ce0['states'][_0x1ab87c];if(jh['indexOf'](_0xad4b02)!==-(0x219c+-0xaba+-0x16e1))continue;const _0x3c6c52=this['_animation'+'Assets'][_0x228ce0['name']+':'+_0xad4b02];if(!_0x3c6c52||!_0x3c6c52['asset']){this['findAnimat'+'ionLayer'](_0x228ce0['name'])['assignAnim'+'ation'](_0xad4b02,Ri['EMPTY']);continue;}const _0x362d26=_0x3c6c52['asset'],_0x35325a=this['system']['app']['assets']['get'](_0x362d26);_0x35325a&&(_0x35325a['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x228ce0['name'],_0xad4b02,_0x35325a):(_0x35325a['once']('load',function(_0x416834,_0x29d142){return function(_0x1fc8c7){this['onAnimatio'+'nAssetLoad'+'ed'](_0x416834,_0x29d142,_0x1fc8c7);}['bind'](this);}['bind'](this)(_0x228ce0['name'],_0xad4b02)),this['system']['app']['assets']['load'](_0x35325a)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x556ab6,_0x44ea28,_0x4ce77f){this['findAnimat'+'ionLayer'](_0x556ab6)['assignAnim'+'ation'](_0x44ea28,_0x4ce77f['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x226+0x61*-0x1+0x8*0x51),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x40dda6=-0x1ed*0xe+0x10a9+0x125*0x9;_0x40dda6<this['_layers']['length'];_0x40dda6++){const _0xa6acf2=this['_layers'][_0x40dda6]['playing'];this['_layers'][_0x40dda6]['reset'](),this['_layers'][_0x40dda6]['playing']=_0xa6acf2;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x1fbb5d=>{this['_targets'][_0x1fbb5d]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x376961=-0x2299+0xd7f+0x1*0x151a;_0x376961<this['_layers']['length'];_0x376961++)this['_layers'][_0x376961]['rebind']();}['findAnimat'+'ionLayer'](_0x3197f2){const _0x5c810c=this['_layerIndi'+'ces'][_0x3197f2];return this['_layers'][_0x5c810c]||null;}['addAnimati'+'onState'](_0x2525a2,_0x530488,_0x1c2ed3=-0xcd8+-0x73*0x1d+0x12*0x170,_0x144f62=!(-0x2528+0xdcb+-0x1*-0x175d),_0x5fabd2='Base'){var _0x110d17;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x5fabd2,'states':[{'name':'START','speed':0x1},{'name':_0x2525a2,'speed':_0x1c2ed3,'loop':_0x144f62,'defaultState':!(0x1*0x20fb+-0x11*-0xb1+-0x2cbc)}],'transitions':[{'from':'START','to':_0x2525a2}]}],'parameters':{}}));const _0x49644c=this['findAnimat'+'ionLayer'](_0x5fabd2);_0x49644c?_0x49644c['assignAnim'+'ation'](_0x2525a2,_0x530488,_0x1c2ed3,_0x144f62):(_0x110d17=this['addLayer'](_0x5fabd2))==null||_0x110d17['assignAnim'+'ation'](_0x2525a2,_0x530488,_0x1c2ed3,_0x144f62);}['assignAnim'+'ation'](_0x1288f1,_0x4d23a4,_0x50313d,_0x40b765=-0x1df3+0xdc1+0x1033,_0x301997=!(0x1f0d+0x2*-0x994+0x23*-0x57)){if(!this['_stateGrap'+'h']&&_0x1288f1['indexOf']('.')===-(-0x3fc+-0xd98*-0x2+-0x1*0x1733)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x1288f1,'speed':_0x40b765,'loop':_0x301997,'defaultState':!(-0xe*-0x266+-0x1955+-0x1*0x83f)}],'transitions':[{'from':'START','to':_0x1288f1}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x1288f1,_0x4d23a4);return;}const _0x40d283=_0x50313d?this['findAnimat'+'ionLayer'](_0x50313d):this['baseLayer'];if(!_0x40d283){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x40d283['assignAnim'+'ation'](_0x1288f1,_0x4d23a4,_0x40b765,_0x301997);}['removeNode'+'Animations'](_0x292687,_0xd64cef){const _0x19677c=_0xd64cef?this['findAnimat'+'ionLayer'](_0xd64cef):this['baseLayer'];if(!_0x19677c){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x19677c['removeNode'+'Animations'](_0x292687);}['getParamet'+'erValue'](_0x405b3d,_0x404349){const _0x4f75fa=this['_parameter'+'s'][_0x405b3d];if(_0x4f75fa&&_0x4f75fa['type']===_0x404349)return _0x4f75fa['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x405b3d+('\x22\x20of\x20type\x20'+'\x22')+_0x404349+'\x22');}['setParamet'+'erValue'](_0x1ba5d8,_0x2cace9,_0x147497){const _0x4e7cab=this['_parameter'+'s'][_0x1ba5d8];if(_0x4e7cab&&_0x4e7cab['type']===_0x2cace9){_0x4e7cab['value']=_0x147497;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x1ba5d8+('\x22\x20of\x20type\x20'+'\x22')+_0x2cace9+'\x22');}['getFloat'](_0x3eb21b){return this['getParamet'+'erValue'](_0x3eb21b,Q_);}['setFloat'](_0xb95875,_0x2456cb){this['setParamet'+'erValue'](_0xb95875,Q_,_0x2456cb);}['getInteger'](_0x779c06){return this['getParamet'+'erValue'](_0x779c06,Z_);}['setInteger'](_0x58240f,_0x5749cb){typeof _0x5749cb=='number'&&_0x5749cb%(-0x1b71+-0x870+0x23e2)===0x164f+0x1*-0x22d5+0x2*0x643?this['setParamet'+'erValue'](_0x58240f,Z_,_0x5749cb):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x58240f,_0x5749cb);}['getBoolean'](_0x32eaeb){return this['getParamet'+'erValue'](_0x32eaeb,J_);}['setBoolean'](_0x293aaa,_0x344181){this['setParamet'+'erValue'](_0x293aaa,J_,!!_0x344181);}['getTrigger'](_0x2ce2df){return this['getParamet'+'erValue'](_0x2ce2df,ph);}['setTrigger'](_0x51b81c,_0x2f7806=!(0xf07+0xa03+-0x1909)){this['setParamet'+'erValue'](_0x51b81c,ph,!(-0x103e+-0x17e0+0x281e)),_0x2f7806&&this['_consumedT'+'riggers']['add'](_0x51b81c);}['resetTrigg'+'er'](_0x51028a){this['setParamet'+'erValue'](_0x51028a,ph,!(-0x1d*0xf8+0x825+0x13f4));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x3666ce){for(let _0x4ac5ea=-0x547*0x7+0x18fd+-0x1fe*-0x6;_0x4ac5ea<this['layers']['length'];_0x4ac5ea++)this['layers'][_0x4ac5ea]['update'](_0x3666ce*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x2bd478=>{this['parameters'][_0x2bd478]['value']=!(0x245f+-0x23bb+-0x1*0xa3);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x24a766,_0x53e901){_0x24a766['rootBone']&&_0x53e901[_0x24a766['rootBone']['getGuid']()]?this['rootBone']=_0x53e901[_0x24a766['rootBone']['getGuid']()]:this['rebind']();}}class WP{constructor(){this['enabled']=!(-0x1e0*-0xd+0xb*0x28b+-0x3459*0x1);}}const tf=['enabled'];class qP extends Xe{constructor(_0x22f4f7){super(_0x22f4f7),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=WP,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x371e1e,_0x2973f5,_0x25fb46){super['initialize'+'ComponentD'+'ata'](_0x371e1e,_0x2973f5,tf);const _0x294588=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x2973f5)['forEach'](_0x4d606c=>{_0x294588['includes'](_0x4d606c)||(_0x371e1e[_0x4d606c]=_0x2973f5[_0x4d606c]);}),_0x2973f5['stateGraph']&&(_0x371e1e['stateGraph']=_0x2973f5['stateGraph'],_0x371e1e['loadStateG'+'raph'](_0x371e1e['stateGraph'])),_0x2973f5['layers']&&_0x2973f5['layers']['forEach']((_0x5c53d3,_0x5561cd)=>{_0x5c53d3['_controlle'+'r']['states']['forEach'](_0x41d58e=>{_0x5c53d3['_controlle'+'r']['_states'][_0x41d58e]['_animation'+'List']['forEach'](_0x221e7e=>{if(!_0x221e7e['animTrack']||_0x221e7e['animTrack']===Ri['EMPTY']){const _0x39fe87=this['app']['assets']['get'](_0x5c53d3['_component']['_animation'+'Assets'][_0x5c53d3['name']+':'+_0x221e7e['name']]['asset']);_0x39fe87&&!_0x39fe87['loaded']&&_0x39fe87['once']('load',()=>{_0x371e1e['layers'][_0x5561cd]['assignAnim'+'ation'](_0x221e7e['name'],_0x39fe87['resource']);});}else _0x371e1e['layers'][_0x5561cd]['assignAnim'+'ation'](_0x221e7e['name'],_0x221e7e['animTrack']);});});}),_0x2973f5['animationA'+'ssets']&&(_0x371e1e['animationA'+'ssets']=Object['assign'](_0x371e1e['animationA'+'ssets'],_0x2973f5['animationA'+'ssets'])),_0x2973f5['masks']&&Object['keys'](_0x2973f5['masks'])['forEach'](_0x287204=>{if(_0x371e1e['layers'][_0x287204]){const _0xe0404e=_0x2973f5['masks'][_0x287204]['mask'],_0x54a225={};Object['keys'](_0xe0404e)['forEach'](_0x4a3029=>{_0x54a225[decodeURI(_0x4a3029)]=_0xe0404e[_0x4a3029];}),_0x371e1e['layers'][_0x287204]['mask']=_0x54a225;}});}['onAnimatio'+'nUpdate'](_0x243348){const _0x1b063d=this['store'];for(const _0x18a3a2 in _0x1b063d)if(_0x1b063d['hasOwnProp'+'erty'](_0x18a3a2)){const _0x31643a=_0x1b063d[_0x18a3a2]['entity']['anim'];_0x31643a['data']['enabled']&&_0x31643a['entity']['enabled']&&_0x31643a['playing']&&_0x31643a['update'](_0x243348);}}['cloneCompo'+'nent'](_0x41286c,_0x197869){let _0x4dbc8d;(!_0x41286c['anim']['rootBone']||_0x41286c['anim']['rootBone']===_0x41286c)&&(_0x4dbc8d={},_0x41286c['anim']['layers']['forEach']((_0x57d279,_0x30e9fb)=>{if(_0x57d279['mask']){const _0x34aec3={};Object['keys'](_0x57d279['mask'])['forEach'](_0x2abedf=>{const _0x39e7f5=_0x2abedf['split']('/');_0x39e7f5['shift']();const _0x8d519e=[_0x197869['name'],..._0x39e7f5]['join']('/');_0x34aec3[_0x8d519e]=_0x57d279['mask'][_0x2abedf];}),_0x4dbc8d[_0x30e9fb]={'mask':_0x34aec3};}}));const _0x579e63={'enabled':_0x41286c['anim']['enabled'],'stateGraphAsset':_0x41286c['anim']['stateGraph'+'Asset'],'animationAssets':_0x41286c['anim']['animationA'+'ssets'],'speed':_0x41286c['anim']['speed'],'activate':_0x41286c['anim']['activate'],'playing':_0x41286c['anim']['playing'],'rootBone':_0x41286c['anim']['rootBone'],'stateGraph':_0x41286c['anim']['stateGraph'],'layers':_0x41286c['anim']['layers'],'layerIndices':_0x41286c['anim']['layerIndic'+'es'],'parameters':_0x41286c['anim']['parameters'],'normalizeWeights':_0x41286c['anim']['normalizeW'+'eights'],'masks':_0x4dbc8d};return this['addCompone'+'nt'](_0x197869,_0x579e63);}['onBeforeRe'+'move'](_0x3d1e0e,_0x3937fb){_0x3937fb['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x32a251=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x32a251);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(0x1a24+0xc*0x279+0x37d*-0x10);}}const J0=['enabled'];class jP extends Xe{constructor(_0x28c179){super(_0x28c179),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x28c179['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xc53ad5,_0x2fe8ce,_0x532da0){_0x532da0=['enabled'],super['initialize'+'ComponentD'+'ata'](_0xc53ad5,_0x2fe8ce,_0x532da0);}['onUpdate'](_0x301e4f){if(this['current']){const _0x48c1a2=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x48c1a2);const _0xdb1777=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0xdb1777);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0xe5*0x19+-0x825+0x1e82,tg=0x59d*0x6+0x1*-0x1b7c+-0x631,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x291886,_0x3ff548){super(_0x291886,_0x3ff548),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0x1394+0xd*-0x2fa+-0x5*-0x3d3)),c(this,'_hoveringC'+'ounter',0x1*0x89c+-0x1*-0x2604+-0x2ea0),c(this,'_isPressed',!(-0x946*-0x1+-0x17c2+0xe7d)),c(this,'_defaultTi'+'nt',new Y(-0x52*0x35+-0x18c7+0x29c2,0x1b*-0x39+0x39e*-0x2+0xd40,-0x22ea+0x1*-0x60+0x234b,0x5f*-0x43+-0x17*-0x5c+0x352*0x5)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x20ee+-0x39*-0xa3+0x7b1*-0x9),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x1d*-0xff+-0x3f4+-0x18ee),this['_hoveringC'+'ounter']=0x5*-0x712+0x1754+0xc06,this['_isPressed']=!(0x2214+-0x5*0x505+-0x8fa),this['_defaultTi'+'nt']=new Y(-0x1bb1+0xa7*0x1d+0x8c7,0x25f9+-0x54*0x5e+-0x720,-0x13dd+-0x4*-0x577+-0x1fe,-0x1*0x102+0x54*0x6f+-0x1*0x2369),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x27*0x41+-0x335*0x4+0x7*0x6b,this['_toggleLif'+'ecycleList'+'eners']('on',_0x291886));}get['data'](){const _0x38f089=this['system']['store'][this['entity']['getGuid']()];return _0x38f089?_0x38f089['data']:null;}set['enabled'](_0x3923e9){this['_setValue']('enabled',_0x3923e9);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x40b647){this['_setValue']('active',_0x40b647);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x5c4da5){if(this['_imageEnti'+'ty']!==_0x5c4da5){const _0x3f3175=typeof _0x5c4da5=='string';if(this['_imageEnti'+'ty']&&_0x3f3175&&this['_imageEnti'+'ty']['getGuid']()===_0x5c4da5)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x5c4da5 instanceof De?this['_imageEnti'+'ty']=_0x5c4da5:_0x3f3175?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x5c4da5)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x3f3175&&_0x5c4da5&&(this['data']['imageEntit'+'y']=_0x5c4da5);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x2e5554){this['_setValue']('hitPadding',_0x2e5554);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x477ebc){this['_setValue']('transition'+'Mode',_0x477ebc);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x47693e){this['_setValue']('hoverTint',_0x47693e);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0xcd1abc){this['_setValue']('pressedTin'+'t',_0xcd1abc);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x523ac1){this['_setValue']('inactiveTi'+'nt',_0x523ac1);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x47f33a){this['_setValue']('fadeDurati'+'on',_0x47f33a);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x5caa08){this['_setValue']('hoverSprit'+'eAsset',_0x5caa08);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x2164cb){this['_setValue']('hoverSprit'+'eFrame',_0x2164cb);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x5d0cda){this['_setValue']('pressedSpr'+'iteAsset',_0x5d0cda);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x57d906){this['_setValue']('pressedSpr'+'iteFrame',_0x57d906);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x426b2f){this['_setValue']('inactiveSp'+'riteAsset',_0x426b2f);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x3a5f7e){this['_setValue']('inactiveSp'+'riteFrame',_0x3a5f7e);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x3e0673,_0x47a5d5){const _0x304e7c=this['data'],_0x3f867c=_0x304e7c[_0x3e0673];_0x304e7c[_0x3e0673]=_0x47a5d5,this['fire']('set',_0x3e0673,_0x3f867c,_0x47a5d5);}['_toggleLif'+'ecycleList'+'eners'](_0x5a5a84,_0x38a295){var _0x41c670;this[_0x5a5a84]('set_active',this['_onSetActi'+'ve'],this),this[_0x5a5a84]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x5a5a84]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5a5a84]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5a5a84]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5a5a84]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5a5a84]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5a5a84]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5a5a84]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5a5a84]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5a5a84]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x5a5a84==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x41c670=this['_evtElemen'+'tAdd'])==null||_0x41c670['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x4e43b1,_0x3dfe5e,_0x416366){_0x3dfe5e!==_0x416366&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x40a7bf,_0x5046a3,_0x51a226){_0x5046a3!==_0x51a226&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x5046a3),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x2efb38,_0x33951f,_0x168e12){_0x33951f!==_0x168e12&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x47da68,_0xf7ea5b;(_0x47da68=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x47da68['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0xf7ea5b=this['_imageEnti'+'ty'])!=null&&_0xf7ea5b['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x2ade05=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x2ade05['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x2ade05['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x2ade05['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x2ade05['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x2ade05['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x1670a8,_0x549495,_0x488f7f,_0x4da3a1,_0x39e08f;(_0x1670a8=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x1670a8['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x549495=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x549495['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x488f7f=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x488f7f['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x4da3a1=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x4da3a1['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x39e08f=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x39e08f['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0xad3d15){if(this['entity']['element']){const _0x1d9f35=_0xad3d15==='on';if(_0x1d9f35&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0xad3d15]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0xad3d15]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0xad3d15]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0xad3d15]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0xad3d15]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0xad3d15]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0xad3d15]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0xad3d15]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0xad3d15]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0xad3d15]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0xad3d15]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0xad3d15]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0xad3d15]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0xad3d15]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x1d9f35;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x1dd4c0;const _0x199252=(_0x1dd4c0=this['_imageEnti'+'ty'])==null?void(-0x94*0x1+-0x622+-0x1*-0x6b6):_0x1dd4c0['element'];!_0x199252||_0x199252['type']===_h||(this['_storeDefa'+'ultColor'](_0x199252['color']),this['_storeDefa'+'ultOpacity'](_0x199252['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x199252['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x199252['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x2f1c86){this['_defaultTi'+'nt']['r']=_0x2f1c86['r'],this['_defaultTi'+'nt']['g']=_0x2f1c86['g'],this['_defaultTi'+'nt']['b']=_0x2f1c86['b'];}['_storeDefa'+'ultOpacity'](_0x264ae9){this['_defaultTi'+'nt']['a']=_0x264ae9;}['_storeDefa'+'ultSpriteA'+'sset'](_0x56f919){this['_defaultSp'+'riteAsset']=_0x56f919;}['_storeDefa'+'ultSpriteF'+'rame'](_0x1361df){this['_defaultSp'+'riteFrame']=_0x1361df;}['_onSetColo'+'r'](_0x134617){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x134617),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x4b746d){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x4b746d),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x5a13e2){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x5a13e2),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x3c55cc){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x3c55cc),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x494d6b){this['_isHoverin'+'g']=!(-0x23ba+0x1942+0xa*0x10c),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x494d6b);}['_onMouseLe'+'ave'](_0x1da7f1){this['_isHoverin'+'g']=!(0x1*-0xca6+0xa1f+-0x4*-0xa2),this['_isPressed']=!(0x13fe*-0x1+0x220f*0x1+-0xe10),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x1da7f1);}['_onMouseDo'+'wn'](_0x1835c4){this['_isPressed']=!(0x1f*-0x8a+0x1f*0xcf+-0x85b),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x1835c4);}['_onMouseUp'](_0x5087a3){this['_isPressed']=!(0x1b7f+0x10*-0x1e+0x2*-0xccf),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x5087a3);}['_onTouchSt'+'art'](_0x530c84){this['_isPressed']=!(-0x5*-0x6c1+-0x12c1+-0xf04),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x530c84);}['_onTouchEn'+'d'](_0x342ebd){_0x342ebd['event']['preventDef'+'ault'](),this['_isPressed']=!(0xf5d+0xa*0xf9+-0x1916),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x342ebd);}['_onTouchLe'+'ave'](_0x2438d2){this['_isPressed']=!(-0x24ad+0x11a2+0x35*0x5c),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x2438d2);}['_onTouchCa'+'ncel'](_0x4277ea){this['_isPressed']=!(-0xbd6+-0x1ce6+0x28bd),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x4277ea);}['_onSelectS'+'tart'](_0x23fc28){this['_isPressed']=!(-0x29*0xeb+0x1*-0x22b7+-0xbd*-0x62),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x23fc28);}['_onSelectE'+'nd'](_0x2525c0){this['_isPressed']=!(0x606*0x1+-0x70*-0xc+-0xb45),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x2525c0);}['_onSelectE'+'nter'](_0x2d10bd){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x5c6+0x1*0x107+0x91*-0xc&&(this['_isHoverin'+'g']=!(-0x2e3*0x7+0xd34+0x701),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x2d10bd);}['_onSelectL'+'eave'](_0x1af060){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x1fe7+-0x2ce*0x5+0xf4f*0x3&&(this['_isHoverin'+'g']=!(0xa8b*0x1+0x1*-0x1af3+-0x1*-0x1069),this['_isPressed']=!(-0x10da*0x1+0x1793+-0x2b*0x28),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x1af060);}['_onClick'](_0x8e14fd){this['_fireIfAct'+'ive']('click',_0x8e14fd);}['_fireIfAct'+'ive'](_0x1aa08d,_0x31b88f){this['data']['active']&&this['fire'](_0x1aa08d,_0x31b88f);}['_updateVis'+'ualState'](_0x2bdd81){const _0x5d6c4b=this['_visualSta'+'te'],_0x130169=this['_determine'+'VisualStat'+'e']();if((_0x5d6c4b!==_0x130169||_0x2bdd81)&&this['enabled'])switch(this['_visualSta'+'te']=_0x130169,_0x5d6c4b===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x5d6c4b===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x130169===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x130169===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x3ca4f6=hl[this['_visualSta'+'te']],_0x321c09=this[_0x3ca4f6];this['_applyTint'](_0x321c09);break;}case tg:{const _0x2083f1=cl[this['_visualSta'+'te']],_0x1fb872=dl[this['_visualSta'+'te']],_0x38bc85=this[_0x2083f1],_0x5ae987=this[_0x1fb872];this['_applySpri'+'te'](_0x38bc85,_0x5ae987);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x167c+0x1*0x966+-0x1fe2));}['_resetToDe'+'faultVisua'+'lState'](_0x4b5c59){var _0x19a6b2;if((_0x19a6b2=this['_imageEnti'+'ty'])!=null&&_0x19a6b2['element'])switch(_0x4b5c59){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x6a241c,_0x53ac44){var _0x5c6c94;const _0x2066c6=(_0x5c6c94=this['_imageEnti'+'ty'])==null?void(-0x34c*0x3+-0xbc8+0x15ac):_0x5c6c94['element'];_0x2066c6&&(_0x53ac44=_0x53ac44||-0xaff+-0x2040+0x2b3f,this['_isApplyin'+'gSprite']=!(0x95*-0x2+0x1e9d+0x7*-0x435),_0x2066c6['spriteAsse'+'t']!==_0x6a241c&&(_0x2066c6['spriteAsse'+'t']=_0x6a241c),_0x2066c6['spriteFram'+'e']!==_0x53ac44&&(_0x2066c6['spriteFram'+'e']=_0x53ac44),this['_isApplyin'+'gSprite']=!(0x2*-0x12b9+0x1*-0xb65+0x30d8));}['_applyTint'](_0x576f37){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x1b14+0x1a43+-0x3557?this['_applyTint'+'Immediatel'+'y'](_0x576f37):this['_applyTint'+'WithTween'](_0x576f37);}['_applyTint'+'Immediatel'+'y'](_0x498ab4){var _0x4bb34b;const _0x4177b3=(_0x4bb34b=this['_imageEnti'+'ty'])==null?void(0x1549*-0x1+-0x18ef+0x8*0x5c7):_0x4bb34b['element'];if(!_0x498ab4||!_0x4177b3||_0x4177b3['type']===_h)return;const _0x15f62f=sg(_0x498ab4);this['_isApplyin'+'gTint']=!(-0x85+-0x7a*0x26+0xfb*0x13),_0x15f62f['equals'](_0x4177b3['color'])||(_0x4177b3['color']=_0x15f62f),_0x4177b3['opacity']!==_0x498ab4['a']&&(_0x4177b3['opacity']=_0x498ab4['a']),this['_isApplyin'+'gTint']=!(-0x779*0x4+-0xf7*0x25+0x4198);}['_applyTint'+'WithTween'](_0x1c7cef){var _0x1ab872;const _0x5312cc=(_0x1ab872=this['_imageEnti'+'ty'])==null?void(-0x1*-0x1de7+-0x22*-0xe2+-0x3beb*0x1):_0x1ab872['element'];if(!_0x1c7cef||!_0x5312cc||_0x5312cc['type']===_h)return;const _0x6c737a=sg(_0x1c7cef),_0x4d2cad=_0x5312cc['color'],_0xed6c91=_0x5312cc['opacity'];_0x6c737a['equals'](_0x4d2cad)&&_0x1c7cef['a']===_0xed6c91||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x4d2cad['r'],_0x4d2cad['g'],_0x4d2cad['b'],_0xed6c91),'to':_0x1c7cef['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x170822=ne()-this['_tweenInfo']['startTime'];let _0x26a71a=this['fadeDurati'+'on']===0x24bc*-0x1+-0x209*0x5+-0x3*-0xfa3?-0x1*0xa47+0x250e+0x12a*-0x17:_0x170822/this['fadeDurati'+'on'];if(_0x26a71a=N['clamp'](_0x26a71a,-0x7a9+0x14de+-0xd35,0x1e5*0x4+0x1302*0x2+-0x425*0xb),Math['abs'](_0x26a71a-(-0x6a*0x2e+0x179f+-0x492))>-0x2518+0x162*-0x1+-0x1*-0x267a+0.00001){const _0x29671d=this['_tweenInfo']['lerpColor'];_0x29671d['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x26a71a),this['_applyTint'+'Immediatel'+'y'](new Y(_0x29671d['r'],_0x29671d['g'],_0x29671d['b'],_0x29671d['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x5*-0x3b+0x1*-0x2653+-0x1*-0x252d),this['_hoveringC'+'ounter']=-0x29*-0xad+0xca4+-0x2859,this['_isPressed']=!(-0x1741*-0x1+0x21fa+0x2*-0x1c9d),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3824a1,_0x502fd2){_0x3824a1['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x502fd2[_0x3824a1['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x366ade){return new Y(_0x366ade['r'],_0x366ade['g'],_0x366ade['b']);}class ZP{constructor(){this['enabled']=!(0x20b8+0xb*-0x2f1+-0x5d),this['active']=!(0x1a*0xa9+-0x95*-0x7+-0x153d),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(-0x125c+-0x2247+0x34a3+0.75,0x1a6e+0x1dda+-0x3848+0.75,-0x1099*-0x1+-0x22b+-0xe6e+0.75),this['pressedTin'+'t']=new Y(0x1492*-0x1+-0x12e6+0x8*0x4ef+0.5,-0x2*-0xd71+0x1*0xf67+-0x2a49+0.5,0x21d3+-0x508+-0x27*0xbd+0.5),this['inactiveTi'+'nt']=new Y(0xb64*0x3+0x45d+0x2689*-0x1+0.25,0x1ba5+0x1*-0x35d+-0x38*0x6f+0.25,-0x33*-0x59+0x1050*-0x2+0xee5+0.25),this['fadeDurati'+'on']=0x1b1*0x17+0x129b+0x1b1*-0x22,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x1840+-0x2018+0x3ec*0x2,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x1a0b+-0x1*-0x126b+-0xed2*0x3,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x1*-0x33b+0xb*0x24a+-0x1c69;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x391fbc){super(_0x391fbc),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3f0169,_0x447032,_0x68dc1b){_0x3f0169['imageEntit'+'y']=_0x447032['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x3f0169,_0x447032,ig);}['onUpdate'](_0x43ec8e){const _0x34ab83=this['store'];for(const _0x15d924 in _0x34ab83){const _0x3e55b7=_0x34ab83[_0x15d924]['entity'],_0x3eff6c=_0x3e55b7['button'];_0x3eff6c['enabled']&&_0x3e55b7['enabled']&&_0x3eff6c['onUpdate']();}}['_onRemoveC'+'omponent'](_0x5ca425,_0xdd7991){_0xdd7991['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0xf42edf,_0x5bf36b){super(_0xf42edf,_0x5bf36b),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0x3*-0x6da+0x3*-0x106+0x1*-0x117b)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x102957=this['system']['store'][this['entity']['getGuid']()];return _0x102957?_0x102957['data']:null;}set['enabled'](_0x1e572e){this['_setValue']('enabled',_0x1e572e);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x20fa62){this['_setValue']('type',_0x20fa62);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x2cacd6){this['_setValue']('halfExtent'+'s',_0x2cacd6);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x39d44b){this['_setValue']('linearOffs'+'et',_0x39d44b);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x5e07a1){this['_setValue']('angularOff'+'set',_0x5e07a1);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x271bdf){this['_setValue']('radius',_0x271bdf);}get['radius'](){return this['data']['radius'];}set['axis'](_0x4084c7){this['_setValue']('axis',_0x4084c7);}get['axis'](){return this['data']['axis'];}set['height'](_0x122357){this['_setValue']('height',_0x122357);}get['height'](){return this['data']['height'];}set['asset'](_0xf264e8){this['_setValue']('asset',_0xf264e8);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x522de0){this['_setValue']('renderAsse'+'t',_0x522de0);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x1bebd2){this['_setValue']('convexHull',_0x1bebd2);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x59ff7c){this['_setValue']('shape',_0x59ff7c);}get['shape'](){return this['data']['shape'];}set['model'](_0x10d388){this['_setValue']('model',_0x10d388);}get['model'](){return this['data']['model'];}set['render'](_0x5f259b){this['_setValue']('render',_0x5f259b);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x336254){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x336254);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x1ca805,_0x43dfa8){const _0x3e6c31=this['data'],_0x19770c=_0x3e6c31[_0x1ca805];_0x3e6c31[_0x1ca805]=_0x43dfa8,this['fire']('set',_0x1ca805,_0x19770c,_0x43dfa8);}['onSetType'](_0x4b6ccc,_0x339223,_0x5cb65c){_0x339223!==_0x5cb65c&&this['system']['changeType'](this,_0x339223,_0x5cb65c);}['onSetHalfE'+'xtents'](_0x64b51d,_0x4b5a6c,_0x4a9f8c){const _0x58e5a9=this['data']['type'];this['data']['initialize'+'d']&&_0x58e5a9==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x35f263,_0x23fede,_0x11aae7){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x11ef97,_0x54c74e,_0x3becad){const _0x4d4ea3=this['data']['type'];this['data']['initialize'+'d']&&(_0x4d4ea3==='sphere'||_0x4d4ea3==='capsule'||_0x4d4ea3==='cylinder'||_0x4d4ea3==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x5f3bed,_0x429ff7,_0x5d711a){const _0x1c1cef=this['data']['type'];this['data']['initialize'+'d']&&(_0x1c1cef==='capsule'||_0x1c1cef==='cylinder'||_0x1c1cef==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x2c369f,_0x299b45,_0x3de449){const _0x5b8e73=this['data']['type'];this['data']['initialize'+'d']&&(_0x5b8e73==='capsule'||_0x5b8e73==='cylinder'||_0x5b8e73==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x1e454a,_0x3e9b73,_0x5c1843){const _0xf46335=this['system']['app']['assets'];if(_0x3e9b73){const _0x4ee623=_0xf46335['get'](_0x3e9b73);_0x4ee623&&_0x4ee623['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x5c1843){_0x5c1843 instanceof le&&(this['data']['asset']=_0x5c1843['id']);const _0xa5e215=_0xf46335['get'](this['data']['asset']);_0xa5e215&&(_0xa5e215['off']('remove',this['onAssetRem'+'oved'],this),_0xa5e215['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x5c1843||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x2a43f6,_0x1070a2,_0x320c8d){const _0xeb4d3b=this['system']['app']['assets'];if(_0x1070a2){const _0x3ba7c5=_0xeb4d3b['get'](_0x1070a2);_0x3ba7c5&&_0x3ba7c5['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x320c8d){_0x320c8d instanceof le&&(this['data']['renderAsse'+'t']=_0x320c8d['id']);const _0x2f3d96=_0xeb4d3b['get'](this['data']['renderAsse'+'t']);_0x2f3d96&&(_0x2f3d96['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x2f3d96['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x320c8d||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x1faed1,_0x310b2f,_0x20fa3f){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x2ca679,_0x391d00,_0x5984ad){this['onSetModel'](_0x2ca679,_0x391d00,_0x5984ad);}['onAssetRem'+'oved'](_0x5b06d9){_0x5b06d9['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x5b06d9['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x34f458){_0x34f458['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x34f458['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x566747){const _0xd06b1d=this['data']['shape'],_0x3ad7cd=_0xd06b1d['getNumChil'+'dShapes']();for(let _0x3d060b=0x7*0x2da+0xb3*-0x1+-0x1343*0x1;_0x3d060b<_0x3ad7cd;_0x3d060b++){const _0x1be340=_0xd06b1d['getChildSh'+'ape'](_0x3d060b);if(Ammo['getPointer'](_0x1be340)===Ammo['getPointer'](_0x566747))return _0x3d060b;}return null;}['_onInsert'](_0x7d6b96){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x4a469a=this['entity']['parent'];for(;_0x4a469a;){if(_0x4a469a['collision']&&_0x4a469a['collision']['type']==='compound'){_0x4a469a['collision']['shape']['getNumChil'+'dShapes']()===-0x171b+0x1d90+-0x675?this['system']['recreatePh'+'ysicalShap'+'es'](_0x4a469a['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x4a469a=_0x4a469a['parent'];}}}}}['_updateCom'+'pound'](){const _0x20225a=this['entity'];if(_0x20225a['_dirtyWorl'+'d']){let _0x24dd09=_0x20225a['_dirtyLoca'+'l'],_0x102a6e=_0x20225a;for(;_0x102a6e&&!_0x24dd09&&!(_0x102a6e['collision']&&_0x102a6e['collision']===this['_compoundP'+'arent']);)_0x102a6e['_dirtyLoca'+'l']&&(_0x24dd09=!(-0x9ca*0x2+-0x829*-0x3+0x1*-0x4e7)),_0x102a6e=_0x102a6e['parent'];if(_0x24dd09){_0x20225a['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x20225a);const _0x581985=this['_compoundP'+'arent']['entity']['rigidbody'];_0x581985&&_0x581985['activate']();}}}['getShapePo'+'sition'](){const _0x153145=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x1c9b6b=this['entity']['getRotatio'+'n'](),_0x2f452d=this['data']['linearOffs'+'et'];return ng['copy'](_0x1c9b6b)['transformV'+'ector'](_0x2f452d,rg),rg['add'](_0x153145);}return _0x153145;}['getShapeRo'+'tation'](){const _0x5ba06a=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x5ba06a)['mul'](this['data']['angularOff'+'set']):_0x5ba06a;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x5372de=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x5372de&&(!_0x5372de['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0xda5+-0x2cd*0x9+0x136d*0x2)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x13ee57=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x13ee57,this['data']['shape']),Ammo['destroy'](_0x13ee57),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(-0x15e8*0x1+-0xd0c+-0x22f4*-0x1),this['type']='box',this['halfExtent'+'s']=new T(-0x2392+-0x1a56*0x1+0x3de8+0.5,0x202b+0x112*-0xd+0x1241*-0x1+0.5,0x77a+-0x4*-0x12b+0x5*-0x26e+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=-0x315*0xc+0x1*-0x13f2+0x38ee+0.5,this['axis']=0xd32+-0x466*0x8+-0x1*-0x15ff,this['height']=-0x21c4+-0x2302+-0x1*-0x44c8,this['convexHull']=!(-0x19*-0x133+-0x313+-0x1ae7*0x1),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x92*-0x15+-0x1f42+0x1348),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0xf82*-0x1+-0x224a+0x12c9);}}const so='static',ms='dynamic',Bn='kinematic',eR=0xacc+-0x25e9+0x1b1f,lo=0x2311+-0x6*0x234+-0x15d5,nf=0x246c+-0x24a*0x4+-0x1b43*0x1,ag=-0x1ce1+-0x1*0x1354+0x3*0x1013,tx=-0x8*-0x395+0xb31+-0x4*0x9f5,tR=-0xf29+-0x25bf*-0x1+0x1695*-0x1,og=-0x1*-0x130d+-0x1f70+-0x13*-0xa7,sR=-0x15*0x7+-0x2*-0x21b+-0x67*0x9,lg=-0xe5*-0x14+0xe0a*-0x1+-0x3ca,hg=-0x15c58*-0x1+0x4dd+-0x6136,af=0x1ecab+0x1*0x19d6d+0x28a1b*-0x1;let _s,Er,Nn;class sx{constructor(_0x50584e,_0x24dfe9,_0x329a05){this['entity']=_0x24dfe9['entity'],this['component']=_0x24dfe9,this['app']=_0x50584e,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x329a05);}['initialize'](_0x16a2fc){const _0xf979a8=this['entity'],_0x15f304=_0x16a2fc['shape'];if(_0x15f304&&typeof Ammo<'u'){_0xf979a8['trigger']&&_0xf979a8['trigger']['destroy']();const _0x4ae5cd=0x1879+0xd*-0x2a9+0x1*0xa1d,_0xbde5bd=this['component'];if(_0xbde5bd){const _0x5d5b54=_0xbde5bd['getShapePo'+'sition'](),_0x33bfa7=_0xbde5bd['getShapeRo'+'tation']();_s['setValue'](_0x5d5b54['x'],_0x5d5b54['y'],_0x5d5b54['z']),Er['setValue'](_0x33bfa7['x'],_0x33bfa7['y'],_0x33bfa7['z'],_0x33bfa7['w']);}else{const _0x2cf57a=_0xf979a8['getPositio'+'n'](),_0x3040c9=_0xf979a8['getRotatio'+'n']();_s['setValue'](_0x2cf57a['x'],_0x2cf57a['y'],_0x2cf57a['z']),Er['setValue'](_0x3040c9['x'],_0x3040c9['y'],_0x3040c9['z'],_0x3040c9['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x4bdc5b=this['app']['systems']['rigidbody']['createBody'](_0x4ae5cd,_0x15f304,Nn);_0x4bdc5b['setRestitu'+'tion'](-0x1b+-0xc6*-0x16+-0xd*0x14d),_0x4bdc5b['setFrictio'+'n'](-0x13*0x166+-0x13*-0xc7+-0x13*-0x9f),_0x4bdc5b['setDamping'](0x18e8+-0xe71*-0x2+0x1fe*-0x1b,-0x6b*-0xe+0xd9c+-0x1376),_s['setValue'](0x14f3+0x2*0xabb+-0x2a69,-0x1*0xbce+0x1411+-0x843,0x38e+0x1*0xbd7+-0xf65*0x1),_0x4bdc5b['setLinearF'+'actor'](_s),_0x4bdc5b['setAngular'+'Factor'](_s),_0x4bdc5b['setCollisi'+'onFlags'](_0x4bdc5b['getCollisi'+'onFlags']()|lo),_0x4bdc5b['entity']=_0xf979a8,this['body']=_0x4bdc5b,this['component']['enabled']&&_0xf979a8['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x21ec43){const _0x241f84=this['component'];if(_0x241f84){const _0x116182=_0x241f84['getShapePo'+'sition'](),_0x2655a8=_0x241f84['getShapeRo'+'tation']();_s['setValue'](_0x116182['x'],_0x116182['y'],_0x116182['z']),Er['setValue'](_0x2655a8['x'],_0x2655a8['y'],_0x2655a8['z'],_0x2655a8['w']);}else{const _0x1663cb=this['entity']['getPositio'+'n'](),_0x79d8b1=this['entity']['getRotatio'+'n']();_s['setValue'](_0x1663cb['x'],_0x1663cb['y'],_0x1663cb['z']),Er['setValue'](_0x79d8b1['x'],_0x79d8b1['y'],_0x79d8b1['z'],_0x79d8b1['w']);}_0x21ec43['setOrigin'](_s),_0x21ec43['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x117597=this['body'];_0x117597['setWorldTr'+'ansform'](Nn),_0x117597['activate']();}['enable'](){const _0x382378=this['body'];if(!_0x382378)return;const _0x441e08=this['app']['systems']['rigidbody'];_0x441e08['_triggers']['indexOf'](this)<-0xbdc+-0x10e2*0x2+-0x2da0*-0x1&&(_0x441e08['addBody'](_0x382378,lg,af^lg),_0x441e08['_triggers']['push'](this)),_0x382378['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x312431=this['body'];if(!_0x312431)return;const _0x5dfea8=this['app']['systems']['rigidbody'],_0x4ef32f=_0x5dfea8['_triggers']['indexOf'](this);_0x4ef32f>-(-0x4*0x8d+-0x822+-0xa57*-0x1)&&(_0x5dfea8['removeBody'](_0x312431),_0x5dfea8['_triggers']['splice'](_0x4ef32f,-0x16*0x19f+-0x328+-0x26d3*-0x1)),_0x312431['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x503cd5){this['system']=_0x503cd5;}['beforeInit'+'ialize'](_0x1cd3ef,_0x2f0022){_0x2f0022['shape']=null,_0x2f0022['model']=new Oi(),_0x2f0022['model']['graph']=new De();}['afterIniti'+'alize'](_0x294c6e,_0x4218a4){this['recreatePh'+'ysicalShap'+'es'](_0x294c6e),_0x294c6e['data']['initialize'+'d']=!(0x1afe+0x50a+-0x1004*0x2);}['reset'](_0xef3708,_0x494b91){this['beforeInit'+'ialize'](_0xef3708,_0x494b91),this['afterIniti'+'alize'](_0xef3708,_0x494b91);}['recreatePh'+'ysicalShap'+'es'](_0x3f9df8){const _0x4a7d1f=_0x3f9df8['entity'],_0x2c8683=_0x3f9df8['data'];if(typeof Ammo<'u'){_0x4a7d1f['trigger']&&(_0x4a7d1f['trigger']['destroy'](),delete _0x4a7d1f['trigger']),_0x2c8683['shape']&&(_0x3f9df8['_compoundP'+'arent']&&(_0x3f9df8!==_0x3f9df8['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x3f9df8['_compoundP'+'arent'],_0x2c8683['shape']),_0x3f9df8['_compoundP'+'arent']['entity']['rigidbody']&&_0x3f9df8['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x2c8683)),_0x2c8683['shape']=this['createPhys'+'icalShape'](_0x3f9df8['entity'],_0x2c8683);const _0x29dbba=!_0x3f9df8['_compoundP'+'arent'];if(_0x2c8683['type']==='compound'&&(!_0x3f9df8['_compoundP'+'arent']||_0x3f9df8===_0x3f9df8['_compoundP'+'arent']))_0x3f9df8['_compoundP'+'arent']=_0x3f9df8,_0x4a7d1f['forEach'](this['_addEachDe'+'scendant'],_0x3f9df8);else{if(_0x2c8683['type']!=='compound'&&!_0x3f9df8['rigidbody']){_0x3f9df8['_compoundP'+'arent']=null;let _0x6bf639=_0x4a7d1f['parent'];for(;_0x6bf639;){if(_0x6bf639['collision']&&_0x6bf639['collision']['type']==='compound'){_0x3f9df8['_compoundP'+'arent']=_0x6bf639['collision'];break;}_0x6bf639=_0x6bf639['parent'];}}}_0x3f9df8['_compoundP'+'arent']&&_0x3f9df8!==_0x3f9df8['_compoundP'+'arent']&&(_0x29dbba&&_0x3f9df8['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1d00+0x1e10+-0x110?this['system']['recreatePh'+'ysicalShap'+'es'](_0x3f9df8['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x4a7d1f,!(0x1*-0x1a95+0x1056*0x2+-0x617)),_0x3f9df8['_compoundP'+'arent']['entity']['rigidbody']&&_0x3f9df8['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x4a7d1f['rigidbody']?(_0x4a7d1f['rigidbody']['disableSim'+'ulation'](),_0x4a7d1f['rigidbody']['createBody'](),_0x4a7d1f['enabled']&&_0x4a7d1f['rigidbody']['enabled']&&_0x4a7d1f['rigidbody']['enableSimu'+'lation']()):_0x3f9df8['_compoundP'+'arent']||(_0x4a7d1f['trigger']?_0x4a7d1f['trigger']['initialize'](_0x2c8683):_0x4a7d1f['trigger']=new sx(this['system']['app'],_0x3f9df8,_0x2c8683));}}['createPhys'+'icalShape'](_0x294b44,_0x2ba7c2){}['updateTran'+'sform'](_0x4da22b,_0x3e38e7,_0x59923c,_0x3fde4a){_0x4da22b['entity']['trigger']&&_0x4da22b['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x2613e9){_0x2613e9['shape']&&(Ammo['destroy'](_0x2613e9['shape']),_0x2613e9['shape']=null);}['beforeRemo'+'ve'](_0x15c911,_0x535569){_0x535569['data']['shape']&&(_0x535569['_compoundP'+'arent']&&!_0x535569['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x535569['_compoundP'+'arent'],_0x535569['data']['shape']),_0x535569['_compoundP'+'arent']['entity']['rigidbody']&&_0x535569['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x535569['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x535569['data']));}['remove'](_0x3ca0af,_0x21aa71){_0x3ca0af['rigidbody']&&_0x3ca0af['rigidbody']['body']&&_0x3ca0af['rigidbody']['disableSim'+'ulation'](),_0x3ca0af['trigger']&&(_0x3ca0af['trigger']['destroy'](),delete _0x3ca0af['trigger']);}['clone'](_0x23e0bd,_0x52193b){const _0x3b8ebd=this['system']['store'][_0x23e0bd['getGuid']()],_0x4ccb2e={'enabled':_0x3b8ebd['data']['enabled'],'type':_0x3b8ebd['data']['type'],'halfExtents':[_0x3b8ebd['data']['halfExtent'+'s']['x'],_0x3b8ebd['data']['halfExtent'+'s']['y'],_0x3b8ebd['data']['halfExtent'+'s']['z']],'linearOffset':[_0x3b8ebd['data']['linearOffs'+'et']['x'],_0x3b8ebd['data']['linearOffs'+'et']['y'],_0x3b8ebd['data']['linearOffs'+'et']['z']],'angularOffset':[_0x3b8ebd['data']['angularOff'+'set']['x'],_0x3b8ebd['data']['angularOff'+'set']['y'],_0x3b8ebd['data']['angularOff'+'set']['z'],_0x3b8ebd['data']['angularOff'+'set']['w']],'radius':_0x3b8ebd['data']['radius'],'axis':_0x3b8ebd['data']['axis'],'height':_0x3b8ebd['data']['height'],'convexHull':_0x3b8ebd['data']['convexHull'],'asset':_0x3b8ebd['data']['asset'],'renderAsset':_0x3b8ebd['data']['renderAsse'+'t'],'model':_0x3b8ebd['data']['model'],'render':_0x3b8ebd['data']['render'],'checkVertexDuplicates':_0x3b8ebd['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x52193b,_0x4ccb2e);}}class aR extends xn{['createPhys'+'icalShape'](_0x6ee45e,_0x4c153f){if(typeof Ammo<'u'){const _0xde713f=_0x4c153f['halfExtent'+'s'],_0x16338a=new Ammo['btVector3'](_0xde713f?_0xde713f['x']:-0x1fc8+-0x22e6+0x42ae+0.5,_0xde713f?_0xde713f['y']:-0x1759+-0x77+0x17d0+0.5,_0xde713f?_0xde713f['z']:-0x8*0x404+-0x1*0x971+0x2991+0.5),_0x4e72c1=new Ammo['btBoxShape'](_0x16338a);return Ammo['destroy'](_0x16338a),_0x4e72c1;}}}class oR extends xn{['createPhys'+'icalShape'](_0x36638c,_0x4bbb78){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x4bbb78['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x1529dd,_0x421fd1){const _0x2c925b=_0x421fd1['axis']??-0x224a+-0x174+0x23bf,_0x45b0ea=_0x421fd1['radius']??0x11a6+0x5*0x59c+-0x2db2+0.5,_0x4d8cc1=Math['max']((_0x421fd1['height']??0x5*-0x3be+0xa*-0x34e+-0x2*-0x19e2)-(0x1*-0x214f+-0xc1b+0xe4*0x33)*_0x45b0ea,-0x397*-0x1+0x1c1b+-0x1fb2);let _0x5336a5=null;if(typeof Ammo<'u')switch(_0x2c925b){case-0x1de4+0x2658+0x4*-0x21d:_0x5336a5=new Ammo['btCapsuleS'+'hapeX'](_0x45b0ea,_0x4d8cc1);break;case-0x18d*-0x8+-0x252+-0xa15:_0x5336a5=new Ammo['btCapsuleS'+'hape'](_0x45b0ea,_0x4d8cc1);break;case-0x2611+0xa*0x16+-0x1*-0x2537:_0x5336a5=new Ammo['btCapsuleS'+'hapeZ'](_0x45b0ea,_0x4d8cc1);break;}return _0x5336a5;}}class hR extends xn{['createPhys'+'icalShape'](_0x516a0d,_0x3d8442){const _0x58d628=_0x3d8442['axis']??0x60b+0x8*0x3c4+-0xc0e*0x3,_0x1607c9=_0x3d8442['radius']??-0x67*0x1d+-0x1*0x1bd1+0x277c+0.5,_0x2ae088=_0x3d8442['height']??0x183c+0x1369*-0x2+0x3*0x4dd;let _0x7497b2=null,_0x5a74c0=null;if(typeof Ammo<'u')switch(_0x58d628){case-0x2*-0xee9+0x102+-0x1ed4:_0x7497b2=new Ammo['btVector3'](_0x2ae088*(-0x79*0x52+-0x4*-0x77+0x24e6+0.5),_0x1607c9,_0x1607c9),_0x5a74c0=new Ammo['btCylinder'+'ShapeX'](_0x7497b2);break;case-0x1423*0x1+-0x61*-0x34+0x70:_0x7497b2=new Ammo['btVector3'](_0x1607c9,_0x2ae088*(0x19cf+-0x2fe+-0xb*0x213+0.5),_0x1607c9),_0x5a74c0=new Ammo['btCylinder'+'Shape'](_0x7497b2);break;case 0x5cb*-0x6+-0x1d1d+0x3fe1:_0x7497b2=new Ammo['btVector3'](_0x1607c9,_0x1607c9,_0x2ae088*(0x3*-0x421+-0x15ba+0x1*0x221d+0.5)),_0x5a74c0=new Ammo['btCylinder'+'ShapeZ'](_0x7497b2);break;}return _0x7497b2&&Ammo['destroy'](_0x7497b2),_0x5a74c0;}}class cR extends xn{['createPhys'+'icalShape'](_0x46dda4,_0x5506f9){const _0x57f9f8=_0x5506f9['axis']??0x2*-0xc38+-0xc8a+0x24fb*0x1,_0x18ee7c=_0x5506f9['radius']??-0x5ee*-0x3+0x197a+-0x2b44+0.5,_0x31ec60=_0x5506f9['height']??0x6*0x3ec+-0xb*-0x381+0x46f*-0xe;let _0x3a1b7c=null;if(typeof Ammo<'u')switch(_0x57f9f8){case 0x1337+-0x1191+-0xd3*0x2:_0x3a1b7c=new Ammo['btConeShap'+'eX'](_0x18ee7c,_0x31ec60);break;case-0xf*-0x216+0x1e27*-0x1+-0xa*0x1d:_0x3a1b7c=new Ammo['btConeShap'+'e'](_0x18ee7c,_0x31ec60);break;case-0x201b+0x3e*0x55+0xb87:_0x3a1b7c=new Ammo['btConeShap'+'eZ'](_0x18ee7c,_0x31ec60);break;}return _0x3a1b7c;}}class dR extends xn{['beforeInit'+'ialize'](_0x288e9f,_0x5ead03){}['createAmmo'+'Hull'](_0x412e19,_0x10de57,_0x52c5b8,_0x484964){const _0x55e33b=new Ammo['btConvexHu'+'llShape'](),_0x34ec35=new Ammo['btVector3'](),_0x468caa=[];_0x412e19['getPositio'+'ns'](_0x468caa);for(let _0x199df4=-0xb3*0x37+-0x48a*-0x7+0x6af;_0x199df4<_0x468caa['length'];_0x199df4+=-0x2e*0x19+-0xf7*0x1+-0x23*-0x28)_0x34ec35['setValue'](_0x468caa[_0x199df4]*_0x484964['x'],_0x468caa[_0x199df4+(-0x10db*-0x1+-0x1*0x437+-0xca3)]*_0x484964['y'],_0x468caa[_0x199df4+(0x424+0x1*-0x207+-0x4d*0x7)]*_0x484964['z']),_0x55e33b['addPoint'](_0x34ec35,!(0x1e7e+0x231e*-0x1+0x4a1));Ammo['destroy'](_0x34ec35),_0x55e33b['recalcLoca'+'lAabb'](),_0x55e33b['setMargin'](-0x177e+0xe48*-0x1+-0x2*-0x12e3+0.01);const _0x11d9d9=this['system']['_getNodeTr'+'ansform'](_0x10de57);_0x52c5b8['addChildSh'+'ape'](_0x11d9d9,_0x55e33b),Ammo['destroy'](_0x11d9d9);}['createAmmo'+'Mesh'](_0x1cced8,_0x10f512,_0x623a93,_0x536fb7,_0x487617=!(-0x2339+-0x5f0+0x2929)){const _0x2ca9c1=this['system'];let _0x1216de;if(_0x2ca9c1['_triMeshCa'+'che'][_0x1cced8['id']])_0x1216de=_0x2ca9c1['_triMeshCa'+'che'][_0x1cced8['id']];else{const _0x2ba056=_0x1cced8['vertexBuff'+'er'],_0x1acbc6=_0x2ba056['getFormat']();let _0x2e58b0,_0x57b58e;for(let _0x1169a0=-0x3+0x25*-0xbc+0x1b2f;_0x1169a0<_0x1acbc6['elements']['length'];_0x1169a0++){const _0xaf2877=_0x1acbc6['elements'][_0x1169a0];if(_0xaf2877['name']===He){_0x57b58e=new Float32Array(_0x2ba056['lock'](),_0xaf2877['offset']),_0x2e58b0=_0xaf2877['stride']/(0x184f+-0xb3f*-0x1+-0x238a);break;}}const _0x1fedbb=[];_0x1cced8['getIndices'](_0x1fedbb);const _0x37327a=_0x1cced8['primitive'][-0x72*0x4d+0x88*0x47+-0x2*0x1b7]['count']/(0x1ed5+0x1167+0x1*-0x3039),_0x5d730e=new Ammo['btVector3']();let _0x37f0da,_0x744497,_0x1a93c9;const _0x50c935=_0x1cced8['primitive'][0xc53*-0x1+0x54d+0x706]['base'];_0x1216de=new Ammo['btTriangle'+'Mesh'](),_0x2ca9c1['_triMeshCa'+'che'][_0x1cced8['id']]=_0x1216de;const _0x71cf1d=new Map();v['assert'](typeof _0x1216de['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x38af26=_0x1216de['getIndexed'+'MeshArray']();_0x38af26['at'](0x1*-0x116c+-0x216a+0x1*0x32d6)['m_numTrian'+'gles']=_0x37327a;const _0x13cf16=_0x536fb7?_0x536fb7['x']:-0x213b+0xb33+0x1*0x1609,_0x573206=_0x536fb7?_0x536fb7['y']:-0x128a+-0x47*-0x8a+-0x13bb*0x1,_0x33ece5=_0x536fb7?_0x536fb7['z']:0xa5*0x1d+-0x462*-0x7+-0x315e,_0x243032=_0x18285c=>{const _0x13f0dd=_0x57b58e[_0x18285c*_0x2e58b0]*_0x13cf16,_0xd5d9ab=_0x57b58e[_0x18285c*_0x2e58b0+(-0xcb0+-0x14e1*0x1+0x1*0x2192)]*_0x573206,_0x143fb6=_0x57b58e[_0x18285c*_0x2e58b0+(-0x1dee+-0x1a04+0x1bfa*0x2)]*_0x33ece5;let _0x586c53;if(_0x487617){const _0x285a59=_0x13f0dd+':'+_0xd5d9ab+':'+_0x143fb6;if(_0x586c53=_0x71cf1d['get'](_0x285a59),_0x586c53!==void(0x398+-0x1d93+0x8a9*0x3))return _0x586c53;_0x5d730e['setValue'](_0x13f0dd,_0xd5d9ab,_0x143fb6),_0x586c53=_0x1216de['findOrAddV'+'ertex'](_0x5d730e,!(0x1806+0x2492*0x1+-0x3c97)),_0x71cf1d['set'](_0x285a59,_0x586c53);}else _0x5d730e['setValue'](_0x13f0dd,_0xd5d9ab,_0x143fb6),_0x586c53=_0x1216de['findOrAddV'+'ertex'](_0x5d730e,!(-0x308*-0x6+0x25b5+0x124*-0x31));return _0x586c53;};for(let _0x50a151=0xd55+-0x6a*0x25+0x1fd;_0x50a151<_0x37327a;_0x50a151++)_0x37f0da=_0x243032(_0x1fedbb[_0x50c935+_0x50a151*(0x8c2+0xa*0x2be+-0x242b)]),_0x744497=_0x243032(_0x1fedbb[_0x50c935+_0x50a151*(-0x6f+-0x1b*0x52+0x918)+(-0xb06+0x1*-0x196f+-0xd*-0x2ce)]),_0x1a93c9=_0x243032(_0x1fedbb[_0x50c935+_0x50a151*(-0x17*0x15f+0x305+0x1c87)+(-0x49*-0x6d+-0x21f5+-0x2*-0x171)]),_0x1216de['addIndex'](_0x37f0da),_0x1216de['addIndex'](_0x744497),_0x1216de['addIndex'](_0x1a93c9);Ammo['destroy'](_0x5d730e);}const _0x11e342=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x1216de,!(0x1461*-0x1+0x1474+-0x13));if(!_0x536fb7){const _0x95ef90=_0x2ca9c1['_getNodeSc'+'aling'](_0x10f512);_0x11e342['setLocalSc'+'aling'](_0x95ef90),Ammo['destroy'](_0x95ef90);}const _0x36e38d=_0x2ca9c1['_getNodeTr'+'ansform'](_0x10f512);_0x623a93['addChildSh'+'ape'](_0x36e38d,_0x11e342),Ammo['destroy'](_0x36e38d);}['createPhys'+'icalShape'](_0x41d8e1,_0xc69075){if(!(typeof Ammo>'u')&&(_0xc69075['model']||_0xc69075['render'])){const _0x2748ef=new Ammo['btCompound'+'Shape'](),_0xb1c86c=_0x41d8e1['getWorldTr'+'ansform']()['getScale']();if(_0xc69075['render']){const _0x1730d2=_0xc69075['render']['meshes'];for(let _0x4b058c=0x24b1+0x15*-0x10f+-0xe76;_0x4b058c<_0x1730d2['length'];_0x4b058c++)_0xc69075['convexHull']?this['createAmmo'+'Hull'](_0x1730d2[_0x4b058c],cg,_0x2748ef,_0xb1c86c):this['createAmmo'+'Mesh'](_0x1730d2[_0x4b058c],cg,_0x2748ef,_0xb1c86c,_0xc69075['checkVerte'+'xDuplicate'+'s']);}else{if(_0xc69075['model']){const _0x5a2954=_0xc69075['model']['meshInstan'+'ces'];for(let _0x20212b=0x3*0x369+-0x1*-0xc6b+0xb53*-0x2;_0x20212b<_0x5a2954['length'];_0x20212b++)this['createAmmo'+'Mesh'](_0x5a2954[_0x20212b]['mesh'],_0x5a2954[_0x20212b]['node'],_0x2748ef,null,_0xc69075['checkVerte'+'xDuplicate'+'s']);const _0x252593=new Ammo['btVector3'](_0xb1c86c['x'],_0xb1c86c['y'],_0xb1c86c['z']);_0x2748ef['setLocalSc'+'aling'](_0x252593),Ammo['destroy'](_0x252593);}}return _0x2748ef;}}['recreatePh'+'ysicalShap'+'es'](_0x214c85){const _0x5dbec7=_0x214c85['data'];if((_0x5dbec7['renderAsse'+'t']||_0x5dbec7['asset'])&&_0x214c85['enabled']&&_0x214c85['entity']['enabled']){this['loadAsset'](_0x214c85,_0x5dbec7['renderAsse'+'t']||_0x5dbec7['asset'],_0x5dbec7['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x214c85);}['loadAsset'](_0x227970,_0x4af0fd,_0x7fd748){const _0x13e0fb=_0x227970['data'],_0x49e494=this['system']['app']['assets'],_0xeedeb6=_0x13e0fb[_0x7fd748],_0x39a86f=_0x1806ea=>{_0x13e0fb[_0x7fd748]===_0xeedeb6&&(_0x13e0fb[_0x7fd748]=_0x1806ea['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x227970));},_0x39d810=_0x195bd1=>{_0x195bd1['ready'](_0x16959a=>{if(_0x16959a['data']['containerA'+'sset']){const _0x14670b=_0x49e494['get'](_0x16959a['data']['containerA'+'sset']);_0x14670b['loaded']?_0x39a86f(_0x16959a):(_0x14670b['ready'](()=>{_0x39a86f(_0x16959a);}),_0x49e494['load'](_0x14670b));}else _0x39a86f(_0x16959a);}),_0x49e494['load'](_0x195bd1);},_0x23f865=_0x49e494['get'](_0x4af0fd);_0x23f865?_0x39d810(_0x23f865):_0x49e494['once']('add:'+_0x4af0fd,_0x39d810);}['doRecreate'+'PhysicalSh'+'ape'](_0x529a99){const _0x29e474=_0x529a99['entity'],_0x3563f3=_0x529a99['data'];_0x3563f3['model']||_0x3563f3['render']?(this['destroySha'+'pe'](_0x3563f3),_0x3563f3['shape']=this['createPhys'+'icalShape'](_0x29e474,_0x3563f3),_0x29e474['rigidbody']?(_0x29e474['rigidbody']['disableSim'+'ulation'](),_0x29e474['rigidbody']['createBody'](),_0x29e474['enabled']&&_0x29e474['rigidbody']['enabled']&&_0x29e474['rigidbody']['enableSimu'+'lation']()):_0x29e474['trigger']?_0x29e474['trigger']['initialize'](_0x3563f3):_0x29e474['trigger']=new sx(this['system']['app'],_0x529a99,_0x3563f3)):(this['beforeRemo'+'ve'](_0x29e474,_0x529a99),this['remove'](_0x29e474,_0x3563f3));}['updateTran'+'sform'](_0x43226e,_0x2020d1,_0x26a512,_0x9cb9f6){if(_0x43226e['shape']){const _0x75d9ab=_0x43226e['entity']['getWorldTr'+'ansform']()['getScale'](),_0x47fa44=_0x43226e['shape']['getLocalSc'+'aling']();(_0x75d9ab['x']!==_0x47fa44['x']()||_0x75d9ab['y']!==_0x47fa44['y']()||_0x75d9ab['z']!==_0x47fa44['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x43226e);}super['updateTran'+'sform'](_0x43226e,_0x2020d1,_0x26a512,_0x9cb9f6);}['destroySha'+'pe'](_0x38b54d){if(!_0x38b54d['shape'])return;const _0x53dd5a=_0x38b54d['shape']['getNumChil'+'dShapes']();for(let _0xcfda37=0x18a7+0x10*-0x1a5+0x1a9;_0xcfda37<_0x53dd5a;_0xcfda37++){const _0x385e20=_0x38b54d['shape']['getChildSh'+'ape'](_0xcfda37);Ammo['destroy'](_0x385e20);}Ammo['destroy'](_0x38b54d['shape']),_0x38b54d['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x1d045f,_0x45a7af){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x413b97){!_0x413b97['collision']||_0x413b97['rigidbody']||(_0x413b97['collision']['_compoundP'+'arent']=this,_0x413b97!==this['entity']&&_0x413b97['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x413b97['collision']));}['_updateEac'+'hDescendan'+'t'](_0x2d4795){_0x2d4795['collision']&&_0x2d4795['collision']['_compoundP'+'arent']===this&&(_0x2d4795['collision']['_compoundP'+'arent']=null,_0x2d4795!==this['entity']&&!_0x2d4795['rigidbody']&&_0x2d4795['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x2d4795['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x4d95be){!_0x4d95be['collision']||_0x4d95be['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x4d95be,!(0x17d+-0x1*-0x2018+-0x2194));}}class fR extends Xe{constructor(_0x8e42eb){super(_0x8e42eb),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x381ba5,_0x254c23,_0x416887){_0x416887=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x1f1ebe={};for(let _0x4c4489=-0x1*0x4cf+-0xb7*-0x2b+-0x19ee,_0x152a20=_0x416887['length'];_0x4c4489<_0x152a20;_0x4c4489++){const _0x1ce520=_0x416887[_0x4c4489];_0x1f1ebe[_0x1ce520]=_0x254c23[_0x1ce520];}let _0x29eaf9;if(_0x254c23['hasOwnProp'+'erty']('asset')?(_0x29eaf9=_0x416887['indexOf']('model'),_0x29eaf9!==-(0x5*-0x107+-0x335*-0x1+0x1ef)&&_0x416887['splice'](_0x29eaf9,0xbe7*-0x1+0x26ed*-0x1+0xd*0x3e9),_0x29eaf9=_0x416887['indexOf']('render'),_0x29eaf9!==-(0x3*-0x935+-0x4f+0x1*0x1bef)&&_0x416887['splice'](_0x29eaf9,-0x269a+-0x265f+-0x4cfa*-0x1)):_0x254c23['hasOwnProp'+'erty']('model')&&(_0x29eaf9=_0x416887['indexOf']('asset'),_0x29eaf9!==-(0x2033+-0x1daf+-0x1*0x283)&&_0x416887['splice'](_0x29eaf9,0xe67+0x14cd+0x1*-0x2333)),_0x1f1ebe['type']||(_0x1f1ebe['type']=_0x381ba5['data']['type']),_0x381ba5['data']['type']=_0x1f1ebe['type'],Array['isArray'](_0x1f1ebe['halfExtent'+'s'])&&(_0x1f1ebe['halfExtent'+'s']=new T(_0x1f1ebe['halfExtent'+'s'])),Array['isArray'](_0x1f1ebe['linearOffs'+'et'])&&(_0x1f1ebe['linearOffs'+'et']=new T(_0x1f1ebe['linearOffs'+'et'])),Array['isArray'](_0x1f1ebe['angularOff'+'set'])){const _0x4f1389=_0x1f1ebe['angularOff'+'set'];_0x4f1389['length']===-0x149d+0xc47*0x1+0x1*0x859?_0x1f1ebe['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x4f1389[-0x1*-0x1b33+-0xe95+-0xc9e],_0x4f1389[-0x47b*-0x5+0xd7f+-0x23e5],_0x4f1389[-0x2*0xe1a+-0xc61+0x2897]):_0x1f1ebe['angularOff'+'set']=new se(_0x1f1ebe['angularOff'+'set']);}const _0x599576=this['_createImp'+'lementatio'+'n'](_0x1f1ebe['type']);_0x599576['beforeInit'+'ialize'](_0x381ba5,_0x1f1ebe),super['initialize'+'ComponentD'+'ata'](_0x381ba5,_0x1f1ebe,_0x416887),_0x599576['afterIniti'+'alize'](_0x381ba5,_0x1f1ebe);}['_createImp'+'lementatio'+'n'](_0x2d0ce8){if(this['implementa'+'tions'][_0x2d0ce8]===void(0x1573+-0x169c+-0x21*-0x9)){let _0x4c0bd0;switch(_0x2d0ce8){case'box':_0x4c0bd0=new aR(this);break;case'sphere':_0x4c0bd0=new oR(this);break;case'capsule':_0x4c0bd0=new lR(this);break;case'cylinder':_0x4c0bd0=new hR(this);break;case'cone':_0x4c0bd0=new cR(this);break;case'mesh':_0x4c0bd0=new dR(this);break;case'compound':_0x4c0bd0=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x2d0ce8);}this['implementa'+'tions'][_0x2d0ce8]=_0x4c0bd0;}return this['implementa'+'tions'][_0x2d0ce8];}['_getImplem'+'entation'](_0x174012){return this['implementa'+'tions'][_0x174012['collision']['data']['type']];}['cloneCompo'+'nent'](_0x39a48b,_0x563490){return this['_getImplem'+'entation'](_0x39a48b)['clone'](_0x39a48b,_0x563490);}['onBeforeRe'+'move'](_0x169155,_0x23a98b){this['implementa'+'tions'][_0x23a98b['data']['type']]['beforeRemo'+'ve'](_0x169155,_0x23a98b),_0x23a98b['onBeforeRe'+'move']();}['onRemove'](_0x1bfbe6,_0x4d9183){this['implementa'+'tions'][_0x4d9183['type']]['remove'](_0x1bfbe6,_0x4d9183);}['updateComp'+'oundChildT'+'ransform'](_0x1bac03,_0x5cc836){const _0xd9caea=_0x1bac03['collision']['_compoundP'+'arent'];if(_0xd9caea!==_0x1bac03['collision']&&_0x1bac03['enabled']&&_0x1bac03['collision']['enabled']&&(_0x1bac03['_dirtyLoca'+'l']||_0x5cc836)){const _0x18fc84=this['_getNodeTr'+'ansform'](_0x1bac03,_0xd9caea['entity']),_0x35af30=_0xd9caea['getCompoun'+'dChildShap'+'eIndex'](_0x1bac03['collision']['shape']);_0x35af30===null?_0xd9caea['shape']['addChildSh'+'ape'](_0x18fc84,_0x1bac03['collision']['data']['shape']):_0xd9caea['shape']['updateChil'+'dTransform'](_0x35af30,_0x18fc84,!(-0xb51*0x3+0x1b4f*0x1+0x2*0x352)),Ammo['destroy'](_0x18fc84);}}['_removeCom'+'poundChild'](_0x26d558,_0x963d40){if(_0x26d558['shape']['getNumChil'+'dShapes']()!==0x10f*-0x1b+0xa0a+0x128b){if(_0x26d558['shape']['removeChil'+'dShape'])_0x26d558['shape']['removeChil'+'dShape'](_0x963d40);else{const _0x1d0f5e=_0x26d558['getCompoun'+'dChildShap'+'eIndex'](_0x963d40);_0x1d0f5e!==null&&_0x26d558['shape']['removeChil'+'dShapeByIn'+'dex'](_0x1d0f5e);}}}['onTransfor'+'mChanged'](_0x54751e,_0x59468f,_0x344ab8,_0x163a7d){this['implementa'+'tions'][_0x54751e['data']['type']]['updateTran'+'sform'](_0x54751e,_0x59468f,_0x344ab8,_0x163a7d);}['changeType'](_0x424697,_0x992120,_0x12b4e6){this['implementa'+'tions'][_0x992120]['beforeRemo'+'ve'](_0x424697['entity'],_0x424697),this['implementa'+'tions'][_0x992120]['remove'](_0x424697['entity'],_0x424697['data']),this['_createImp'+'lementatio'+'n'](_0x12b4e6)['reset'](_0x424697,_0x424697['data']);}['recreatePh'+'ysicalShap'+'es'](_0x5890ec){this['implementa'+'tions'][_0x5890ec['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x5890ec);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x47c6f8,_0x1ba096){if(_0x47c6f8===_0x1ba096){const _0x123261=_0x47c6f8['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x123261['x'],_0x123261['y'],_0x123261['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x47c6f8['parent'],_0x1ba096),Xl['mul'](_0x47c6f8['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x1806e0){const _0x358f90=_0x1806e0['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x358f90['x'],_0x358f90['y'],_0x358f90['z']);}['_getNodeTr'+'ansform'](_0x1a1891,_0x344651){let _0x42dfeb,_0x41310c;_0x344651?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1a1891,_0x344651),_0x42dfeb=iR,_0x41310c=Cr,Xl['getTransla'+'tion'](_0x42dfeb),_0x41310c['setFromMat'+'4'](Xl)):(_0x42dfeb=_0x1a1891['getPositio'+'n'](),_0x41310c=_0x1a1891['getRotatio'+'n']());const _0x2b5087=new Ammo['btQuaterni'+'on'](),_0x4f208b=new Ammo['btTransfor'+'m']();_0x4f208b['setIdentit'+'y']();const _0xeceec0=_0x4f208b['getOrigin'](),_0x115e69=_0x1a1891['collision'];if(_0x115e69&&_0x115e69['_hasOffset']){const _0x27227e=_0x115e69['data']['linearOffs'+'et'],_0x1c9bf5=_0x115e69['data']['angularOff'+'set'],_0x17d82a=rR;Cr['copy'](_0x41310c)['transformV'+'ector'](_0x27227e,_0x17d82a),_0x17d82a['add'](_0x42dfeb),Cr['copy'](_0x41310c)['mul'](_0x1c9bf5),_0xeceec0['setValue'](_0x17d82a['x'],_0x17d82a['y'],_0x17d82a['z']),_0x2b5087['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0xeceec0['setValue'](_0x42dfeb['x'],_0x42dfeb['y'],_0x42dfeb['z']),_0x2b5087['setValue'](_0x41310c['x'],_0x41310c['y'],_0x41310c['z'],_0x41310c['w']);return _0x4f208b['setRotatio'+'n'](_0x2b5087),Ammo['destroy'](_0x2b5087),_0x4f208b;}['destroy'](){for(const _0x394c21 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x394c21]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x1eca08,_0x4de61c,_0x43e0e1){this['_entity']=_0x1eca08,this['_element']=_0x1eca08['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x4de61c,this['meshInstan'+'ce']=new Le(this['mesh'],_0x43e0e1,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x1eca08['name'],this['meshInstan'+'ce']['castShadow']=!(0x2018+-0x2a0+-0x1d77*0x1),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x1*-0x1728+0x121f+-0x2946),this['_meshDirty']=!(0x3c*0x74+-0x206b+0x53c),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x3a6f78,_0x190203;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x3a6f78=this['meshInstan'+'ce'])==null||_0x3a6f78['destroy'](),this['meshInstan'+'ce']=null,(_0x190203=this['unmaskMesh'+'Instance'])==null||_0x190203['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x50cc49){this['meshInstan'+'ce']&&(this['mesh']=_0x50cc49,this['meshInstan'+'ce']['mesh']=_0x50cc49,this['meshInstan'+'ce']['visible']=!!_0x50cc49,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x50cc49),this['forceUpdat'+'eAabb']());}['setMask'](_0x336748){var _0x3596e6;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x336748){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x2174+-0x1754+0x1*-0xa1f),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x1c98+0xd74+-0x2a0b),this['unmaskMesh'+'Instance']['pick']=!(0x4*-0x5b3+-0x2*0x6ce+0x2469),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x24f96c in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x24f96c,this['meshInstan'+'ce']['parameters'][_0x24f96c]['data']);}else{const _0x21bea2=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x21bea2>=0x1312+-0x1181+0x1*-0x191&&this['model']['meshInstan'+'ces']['splice'](_0x21bea2,0x5e7+0x3bc+-0x9a2);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x336748||((_0x3596e6=this['unmaskMesh'+'Instance'])==null||_0x3596e6['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x486ca6){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x486ca6,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x486ca6));}['setParamet'+'er'](_0xcda558,_0x597470){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0xcda558,_0x597470),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0xcda558,_0x597470));}['deletePara'+'meter'](_0x580be1){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x580be1),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x580be1));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x565407=function(_0x194b31){let _0x4cf095;const _0x188e02=_0x194b31['children'],_0x8d575b=_0x188e02['length'];if(_0x8d575b){for(let _0x432d9c=0x213f*-0x1+0x3*-0x50b+0x3060;_0x432d9c<_0x8d575b;_0x432d9c++)_0x188e02[_0x432d9c]['element']&&(_0x4cf095=_0x188e02[_0x432d9c]);if(!_0x4cf095)return null;const _0x4de6a7=_0x565407(_0x4cf095);return _0x4de6a7||_0x4cf095;}return null;};if(this['unmaskMesh'+'Instance']){const _0x1dde98=_0x565407(this['_entity']);_0x1dde98&&_0x1dde98['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x1dde98['element']['drawOrder']+_0x1dde98['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x4eadc8){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x4eadc8),this['meshInstan'+'ce']['drawOrder']=_0x4eadc8);}['setCull'](_0x556780){if(!this['meshInstan'+'ce'])return;const _0x201f22=this['_element'];let _0x44b9d0=null;_0x556780&&_0x201f22['_isScreenS'+'pace']()&&(_0x44b9d0=function(_0x5c09c2){return _0x201f22['isVisibleF'+'orCamera'](_0x5c09c2);}),this['meshInstan'+'ce']['cull']=_0x556780,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x44b9d0,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x556780,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x44b9d0);}['setScreenS'+'pace'](_0x58bb51){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x58bb51,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x58bb51));}['setLayer'](_0xd9a4cd){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0xd9a4cd,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0xd9a4cd));}['forceUpdat'+'eAabb'](_0x4ce723){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x2586+-0x141*-0xb+0x17bc),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0xaac*0x1+-0x1edf+-0x4*-0xa63)));}['setAabbFun'+'c'](_0x2d7b7b){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x2d7b7b,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x2d7b7b));}}class _R{constructor(_0x450a34){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x450a34,this['_entity']=_0x450a34['entity'],this['_system']=_0x450a34['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0x2535+-0x162b*-0x1+0x3b6*-0x10,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x1651+0xe67+-0xd*0x2d3),this['_rect']=new Q(0x12cd*-0x1+-0x63*-0x40+-0x5f3,0x3*-0x41b+-0x9*-0x23f+-0x7e6,0x23f3+-0xfd2+-0x4*0x508,-0x1ae*-0x1+-0x1*-0x1b97+-0x1d44),this['_mask']=!(-0x2153+-0xc46+0x2d9a),this['_maskRef']=-0x477*0x2+0xaab+-0x5*0x59,this['_outerScal'+'e']=new $(),this['_outerScal'+'eUniform']=new Float32Array(0x1b4+0x14*-0xb+-0x2*0x6b),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0x1a14+-0xb70+0x1a0*-0x9),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0xda8+0xb*-0x101+-0x299),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(-0x2eb+-0x1*0x4a3+0x78f,0x1c*0xdd+-0x148+-0x16e3,0x1a*-0x75+-0xa4b+0x162e,0xc*-0xc7+-0xa*-0x8f+0x3bf),this['_colorUnif'+'orm']=new Float32Array([-0x1dfe+-0x251*-0x4+0x14bb,0x1*-0x9db+-0x9fd*0x1+0x13d9,0xadb+-0xad6+-0x1*0x4]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0xb52+0x1*0x142f+-0xbd*0xc),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x5047dc){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x54cba7){this['_updateMat'+'erial'](_0x54cba7);}['_onScreenC'+'hange'](_0x250228,_0x3feb62){_0x250228?this['_updateMat'+'erial'](_0x250228['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x4*-0x646+0x204c+0x53*-0xb1));}['_onDrawOrd'+'erChange'](_0x4cded0){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x4cded0),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0xf05*0x1+-0x6d0+-0x834);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x1277ef){const _0xa8e0bf=!!this['_mask'],_0x31b488=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x4e7a1e=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x1277ef,_0xa8e0bf,_0x31b488,_0x4e7a1e)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x1277ef),this['_renderabl'+'e']['setLayer'](_0x1277ef?Ub:c0));}['_createMes'+'h'](){const _0x4a2e3c=this['_element'],_0x5e406a=_0x4a2e3c['calculated'+'Width'],_0x4f7fba=_0x4a2e3c['calculated'+'Height'],_0x5cac37=this['_rect'],_0x4186b5=this['_system']['app']['graphicsDe'+'vice'],_0x8eab57=new Float32Array([_0x5e406a,0x2393+-0xee6+0x1*-0x14ad,-0x2500+-0x1dbd+0x42bd,0x643+0xe*-0x2a2+0x1e99,-0x3*-0x141+0x167b+-0x2*0xd1f,-0x3*0x71+-0x2251+0x721*0x5,_0x5cac37['x']+_0x5cac37['z'],0x3a*-0x78+0x1ae+0x3a5*0x7-_0x5cac37['y'],_0x5e406a,_0x4f7fba,0x8af+-0x1*0x16d7+0xe28,-0x1bd0*0x1+-0xd6*-0xf+0xf46,0x15*-0xf1+-0x1e53+0x3218,0x25*0x55+-0x1e3+-0xa65,_0x5cac37['x']+_0x5cac37['z'],0x60f+-0x4*0x599+-0x1056*-0x1-(_0x5cac37['y']+_0x5cac37['w']),-0x12*-0x7e+0x1*-0x1617+0x3*0x469,0x1*-0x22a+-0x13d*0x19+0x211f,0x24a+-0x1aee+0x13*0x14c,0x182*0x12+0x2097+-0x3bbb,0x37d*-0x7+-0x1e3d+0xb*0x4f8,-0x745+0x8*0x230+-0xa3a,_0x5cac37['x'],-0x1*-0x83e+-0x1ddc+0x159f-_0x5cac37['y'],0xfb6+-0x2559*0x1+0x1d*0xbf,_0x4f7fba,0xdf*-0x1f+0x1d81+-0x280,0xe2c+-0x1*-0xe3f+0xf*-0x1e5,-0xed2+-0x24ce+0x33a0,0xad7+-0x7*-0x223+-0x19cb,_0x5cac37['x'],0x1583*0x1+-0x6d7*0x5+-0xcb1*-0x1-(_0x5cac37['y']+_0x5cac37['w'])]),_0x1b6e9f=pR['get'](_0x4186b5,()=>new Et(_0x4186b5,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x261f33=new os(_0x4186b5,_0x1b6e9f,0x1*0x2153+0x1*-0xff5+-0x8ad*0x2,{'data':_0x8eab57['buffer']}),_0x55231a=new Ie(_0x4186b5);return _0x55231a['vertexBuff'+'er']=_0x261f33,_0x55231a['primitive'][0x2*-0xecb+0x1*0x14cb+0x8cb]['type']=ar,_0x55231a['primitive'][-0x6ac+0x166*-0x4+0xc44]['base']=0x7b7*0x1+-0x2191+0x2*0xced,_0x55231a['primitive'][-0x1a26+0x17*-0x141+0x36fd]['count']=-0xfe*-0x1f+0x1*-0x1e12+-0x2*0x56,_0x55231a['primitive'][-0x176+-0x2*0xd9a+0x98e*0x3]['indexed']=!(-0x14c+-0x15*0x188+0x2175),_0x55231a['aabb']['setMinMax'](T['ZERO'],new T(_0x5e406a,_0x4f7fba,-0x2b*0x67+0xb*-0x185+-0x1*-0x2204)),this['_updateMes'+'h'](_0x55231a),_0x55231a;}['_updateMes'+'h'](_0x306f31){const _0x32ff5f=this['_element'];let _0x29b744=_0x32ff5f['calculated'+'Width'],_0x5a8ebc=_0x32ff5f['calculated'+'Height'];if(_0x32ff5f['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0x67*0x41+-0x1a0b*0x1+-0x7*0x4){const _0x488adc=_0x32ff5f['calculated'+'Width']/_0x32ff5f['calculated'+'Height'];_0x32ff5f['fitMode']===YP&&_0x488adc>this['_targetAsp'+'ectRatio']||_0x32ff5f['fitMode']===KP&&_0x488adc<this['_targetAsp'+'ectRatio']?_0x29b744=_0x32ff5f['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x5a8ebc=_0x32ff5f['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x566436=_0x32ff5f['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x566436),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0xdc2ac1=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x558222=(-0x171a*-0x1+-0x527*-0x3+-0x268d)/_0xdc2ac1['rect']['z'],_0x3b75e7=(0x3*-0xbdd+-0xf6e+0x3307)/_0xdc2ac1['rect']['w'];this['_innerOffs'+'et']['set'](_0xdc2ac1['border']['x']*_0x558222,_0xdc2ac1['border']['y']*_0x3b75e7,_0xdc2ac1['border']['z']*_0x558222,_0xdc2ac1['border']['w']*_0x3b75e7);const _0x2f965b=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0xdc2ac1['rect']['x']/_0x2f965b['width'],_0xdc2ac1['rect']['y']/_0x2f965b['height'],_0xdc2ac1['rect']['z']/_0x2f965b['width'],_0xdc2ac1['rect']['w']/_0x2f965b['height']);const _0x3701b6=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x55c823=_0xdc2ac1['rect']['z']/_0x3701b6,_0x55aa39=_0xdc2ac1['rect']['w']/_0x3701b6;this['_outerScal'+'e']['set'](Math['max'](_0x29b744,this['_innerOffs'+'et']['x']*_0x55c823),Math['max'](_0x5a8ebc,this['_innerOffs'+'et']['y']*_0x55aa39));let _0x12773f=_0x55c823,_0x4494f8=_0x55aa39;this['_outerScal'+'e']['x']/=_0x55c823,this['_outerScal'+'e']['y']/=_0x55aa39,_0x12773f*=N['clamp'](_0x29b744/(this['_innerOffs'+'et']['x']*_0x55c823),0x1ee8+-0x5a6+-0x1942+0.0001,0x22+-0x13*0x1db+-0x1190*-0x2),_0x4494f8*=N['clamp'](_0x5a8ebc/(this['_innerOffs'+'et']['y']*_0x55aa39),0x24b5+-0x21fb+0x2ba*-0x1+0.0001,0x2*0x9c2+-0x2f1+-0x1092),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x1*0x1c65+0x11*-0x236+0x7f*0x85]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x2*-0xfb8+0x7*-0x89+-0x1bb0]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x2*-0xf1b+-0x24a4+0x42dc]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1d*-0x4d+-0x1c89+0x1*0x2545]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0xbfe+0x3*-0x3f5+-0x1f]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x26a3+-0x56b*0x2+0x251*-0xc]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0xae8+0x107a+-0x1b60]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x996+0xe5*0xb+-0x3e2*0x5]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x1*-0x1dfc+-0x10e9+-0xd13]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0xbe7*-0x2+0x1e17*-0x1+0x64a]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x12773f,_0x4494f8,0x59*0x8+0x523+0x2*-0x3f5),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x231e*0x1+-0x13*-0xf7+0x10c9+0.5-_0x32ff5f['pivot']['x'])*_0x29b744,(-0x15d1+0x1f35*-0x1+-0x2*-0x1a83+0.5-_0x32ff5f['pivot']['y'])*_0x5a8ebc,-0x1b6d+-0x185*0x9+0x1*0x291a));}else{const _0x39577b=_0x306f31['vertexBuff'+'er'],_0x2947e1=new Float32Array(_0x39577b['lock']()),_0x37ca88=_0x32ff5f['pivot']['x'],_0x160465=_0x32ff5f['pivot']['y'];_0x2947e1[-0x12*0x141+-0xf7a+0x260c]=_0x29b744-_0x37ca88*_0x29b744,_0x2947e1[0x3*-0x95d+-0x25a5+0x41bd]=-0x1*-0x143b+0x111f*-0x1+-0x1*0x31c-_0x160465*_0x5a8ebc,_0x2947e1[0x3ce*-0x1+0x1*0x1d46+0x197*-0x10]=_0x29b744-_0x37ca88*_0x29b744,_0x2947e1[-0x2195+-0x793*-0x1+-0x71*-0x3b]=_0x5a8ebc-_0x160465*_0x5a8ebc,_0x2947e1[-0x577+-0x1cb0+-0x13*-0x1cd]=-0x2*0xac0+-0x10d*-0xd+0x7d7-_0x37ca88*_0x29b744,_0x2947e1[0x13*0x79+0x6d*-0x47+0x1551*0x1]=-0xeb0+0x3b3*-0x3+0x3af*0x7-_0x160465*_0x5a8ebc,_0x2947e1[0x1*0xbf9+-0x1514+0x1*0x933]=-0x8c6*0x1+-0x127d+0x7*0x3e5-_0x37ca88*_0x29b744,_0x2947e1[-0xd*-0xc2+-0x22d*-0x3+-0x1048]=_0x5a8ebc-_0x160465*_0x5a8ebc;let _0x3c32d6=-0x1c27+-0x19*-0xe4+-0x34*-0x1d,_0x313f24=0xe8a*-0x1+0x1e89+-0xffe,_0x3573ee=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x52e61f=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x52e61f&&(_0x3573ee=_0x52e61f['rect'],_0x3c32d6=this['_sprite']['atlas']['texture']['width'],_0x313f24=this['_sprite']['atlas']['texture']['height']);}_0x2947e1[-0x7b9*0x2+-0x1caa+-0x2*-0x1611]=(_0x3573ee['x']+_0x3573ee['z'])/_0x3c32d6,_0x2947e1[0xb61+-0x1845*0x1+0xceb]=-0x216+-0xf62+0x5d3*0x3-_0x3573ee['y']/_0x313f24,_0x2947e1[0x253e+0x598*0x4+-0x3b90]=(_0x3573ee['x']+_0x3573ee['z'])/_0x3c32d6,_0x2947e1[0x1b96+-0x1*-0x1a37+-0x35be]=0x4*0x679+0x3*-0x2bd+0x8d6*-0x2-(_0x3573ee['y']+_0x3573ee['w'])/_0x313f24,_0x2947e1[-0x2492+-0x391+0x1*0x2839]=_0x3573ee['x']/_0x3c32d6,_0x2947e1[0x112+0x399+-0x125*0x4]=-0x1*-0x29+0xdf*0x2+-0x1e6-_0x3573ee['y']/_0x313f24,_0x2947e1[0x93b+-0x1bb7+0x129a]=_0x3573ee['x']/_0x3c32d6,_0x2947e1[-0x3d2*0x1+0x6e*-0x37+0x1b93]=-0x9bb+-0x1bc6+0x2582-(_0x3573ee['y']+_0x3573ee['w'])/_0x313f24,_0x39577b['unlock']();const _0x2781c3=new T(0x2b*0x21+-0x4fd*0x7+-0x2*-0xeb0-_0x37ca88*_0x29b744,-0x6*0x15f+0x2b2*-0x1+0xaec-_0x160465*_0x5a8ebc,-0xa39*0x1+-0xf51+-0x3a6*-0x7),_0x31c0a7=new T(_0x29b744-_0x37ca88*_0x29b744,_0x5a8ebc-_0x160465*_0x5a8ebc,-0x1c46+-0x1*-0x113f+0x1*0xb07);_0x306f31['aabb']['setMinMax'](_0x2781c3,_0x31c0a7),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x5f*0x1f+-0x1c*-0x8d+0xd76*-0x2,0x334+0x558+-0x88b,0x1565+0x1521+-0x2a85*0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x25*0x2+-0x1b5d+-0x1d*-0xef,-0x109b+-0x1775*-0x1+0x2*-0x36d,0x1bb2+0x46e*-0x4+-0x9fa),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x1c9d+-0x1d*0x131+0x5f1);}['_updateSpr'+'ite'](){let _0x4d1d09=!(0x1*0x1949+0x633*0x2+-0x25ae),_0x3818e1=null;if(this['_targetAsp'+'ectRatio']=-(0x494*0x5+0x1144+-0x2827),this['_sprite']&&this['_sprite']['atlas']){_0x3818e1=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x4d1d09=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x2c42b8=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x2c42b8==null?void(0x1963*0x1+-0x23ec+0xa89):_0x2c42b8['rect']['w'])>0x2652+0x1*0x4e3+-0x2b35&&(this['_targetAsp'+'ectRatio']=_0x2c42b8['rect']['z']/_0x2c42b8['rect']['w']);}this['mesh']=_0x4d1d09?_0x3818e1:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x67*-0x14+-0x1339+0x1*0xb2d):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x23382e){return _0x23382e['center']['set'](-0xff7+0x175*0x9+0x2da,0x15ce*-0x1+-0x265*-0xf+-0x1*0xe1d,-0x339*-0x2+-0x3e*-0x1d+-0xd78),_0x23382e['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x697*-0x5+-0xfd3*0x2+-0x1*0x14d+0.5),this['_outerScal'+'e']['y']*(-0x3*0xbdc+0x10a+0x2*0x1145+0.5),-0x2ef*-0x7+-0x1*0x2113+0x141*0xa+0.001),_0x23382e['setFromTra'+'nsformedAa'+'bb'](_0x23382e,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x23382e;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x396778=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x396778),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x480858){this['material']=_0x480858['resource'];}['_onMateria'+'lAdded'](_0x3e439f){this['_system']['app']['assets']['off']('add:'+_0x3e439f['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x3e439f['id']&&this['_bindMater'+'ialAsset'](_0x3e439f);}['_bindMater'+'ialAsset'](_0x23f3b4){this['_entity']['enabled']&&(_0x23f3b4['on']('load',this['_onMateria'+'lLoad'],this),_0x23f3b4['on']('change',this['_onMateria'+'lChange'],this),_0x23f3b4['on']('remove',this['_onMateria'+'lRemove'],this),_0x23f3b4['resource']?this['_onMateria'+'lLoad'](_0x23f3b4):this['_system']['app']['assets']['load'](_0x23f3b4));}['_unbindMat'+'erialAsset'](_0x164457){_0x164457['off']('load',this['_onMateria'+'lLoad'],this),_0x164457['off']('change',this['_onMateria'+'lChange'],this),_0x164457['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x45dd6c){this['_system']['app']['assets']['off']('add:'+_0x45dd6c['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x45dd6c['id']&&this['_bindTextu'+'reAsset'](_0x45dd6c);}['_bindTextu'+'reAsset'](_0x21d6de){this['_entity']['enabled']&&(_0x21d6de['on']('load',this['_onTexture'+'Load'],this),_0x21d6de['on']('change',this['_onTexture'+'Change'],this),_0x21d6de['on']('remove',this['_onTexture'+'Remove'],this),_0x21d6de['resource']?this['_onTexture'+'Load'](_0x21d6de):this['_system']['app']['assets']['load'](_0x21d6de));}['_unbindTex'+'tureAsset'](_0x271768){_0x271768['off']('load',this['_onTexture'+'Load'],this),_0x271768['off']('change',this['_onTexture'+'Change'],this),_0x271768['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x12534a){this['texture']=_0x12534a['resource'];}['_onTexture'+'Change'](_0x371b42){}['_onTexture'+'Remove'](_0x230310){}['_onSpriteA'+'ssetAdded'](_0x69499a){this['_system']['app']['assets']['off']('add:'+_0x69499a['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x69499a['id']&&this['_bindSprit'+'eAsset'](_0x69499a);}['_bindSprit'+'eAsset'](_0x15739d){this['_entity']['enabled']&&(_0x15739d['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x15739d['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x15739d['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x15739d['resource']?this['_onSpriteA'+'ssetLoad'](_0x15739d):this['_system']['app']['assets']['load'](_0x15739d));}['_unbindSpr'+'iteAsset'](_0x5df96e){_0x5df96e['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5df96e['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x5df96e['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5df96e['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x5df96e['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x2f84a7){if(!_0x2f84a7||!_0x2f84a7['resource'])this['sprite']=null;else{if(_0x2f84a7['resource']['atlas'])this['sprite']=_0x2f84a7['resource'];else{const _0x5f5c54=_0x2f84a7['data']['textureAtl'+'asAsset'];if(_0x5f5c54){const _0x37187d=this['_system']['app']['assets'];_0x37187d['off']('load:'+_0x5f5c54,this['_onTexture'+'AtlasLoad'],this),_0x37187d['once']('load:'+_0x5f5c54,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x58f391){this['_onSpriteA'+'ssetLoad'](_0x58f391);}['_onSpriteA'+'ssetRemove'](_0x44abfa){}['_bindSprit'+'e'](_0x38630b){this['_evtSetMes'+'hes']=_0x38630b['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x38630b['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x38630b['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x38630b['atlas']&&_0x38630b['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x131920){var _0x3b0627;(_0x3b0627=this['_evtSetMes'+'hes'])==null||_0x3b0627['off'](),this['_evtSetMes'+'hes']=null,_0x131920['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x131920['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x131920['atlas']&&_0x131920['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x142e+0x1c26+0x6*-0x154,this['_sprite']['frameKeys']['length']-(0x26f7+0x1*-0x14f1+-0x7*0x293))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x513fd1){const _0x3d8840=this['_spriteAss'+'et'];_0x3d8840 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x3d8840):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x3d8840));}['onEnable'](){if(this['_materialA'+'sset']){const _0x1a34b1=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x1a34b1&&_0x1a34b1['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x1a34b1);}if(this['_textureAs'+'set']){const _0x1bf4b2=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x1bf4b2&&_0x1bf4b2['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x1bf4b2);}if(this['_spriteAss'+'et']){const _0x5829a0=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5829a0&&_0x5829a0['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x5829a0);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x53dd48){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x53dd48,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x53dd48;let _0x198796=-0x1*0x1b47+0x138c+0x7bb;if(this['_element']['maskedBy']&&(_0x198796=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x254fda=new qs({'ref':_0x198796+(0x20a*-0x3+0x25f5+-0xa*0x32f),'func':Ch,'zpass':$S});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x254fda,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x254fda;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][0x3d4+0x19a4+0x8*-0x3af]=jl['r'],this['_colorUnif'+'orm'][-0xa57*-0x2+-0x14a6+-0x7]=jl['g'],this['_colorUnif'+'orm'][-0x233*0x5+-0xa69+0x156a]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x505c2e){this['_color']===_0x505c2e&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x1edd36,g:_0x3f50f0,b:_0x212653}=_0x505c2e;(this['_color']['r']!==_0x1edd36||this['_color']['g']!==_0x3f50f0||this['_color']['b']!==_0x212653)&&(this['_color']['r']=_0x1edd36,this['_color']['g']=_0x3f50f0,this['_color']['b']=_0x212653,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x5e5bba){_0x5e5bba!==this['_color']['a']&&(this['_color']['a']=_0x5e5bba,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x5e5bba)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x5e5bba);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x2672cf){this['_rect']===_0x2672cf&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x2c2447,_0x15fd5d,_0x5a88e1,_0x3d83f2;_0x2672cf instanceof Q?(_0x2c2447=_0x2672cf['x'],_0x15fd5d=_0x2672cf['y'],_0x5a88e1=_0x2672cf['z'],_0x3d83f2=_0x2672cf['w']):(_0x2c2447=_0x2672cf[0xaeb+-0x2fd+-0x7ee],_0x15fd5d=_0x2672cf[0x26c7*-0x1+0x2c5*-0x2+0x2c52],_0x5a88e1=_0x2672cf[0x1889+-0x741+-0x6*0x2e1],_0x3d83f2=_0x2672cf[0x2*-0x355+0x1fb9+0x190c*-0x1]),!(_0x2c2447===this['_rect']['x']&&_0x15fd5d===this['_rect']['y']&&_0x5a88e1===this['_rect']['z']&&_0x3d83f2===this['_rect']['w'])&&(this['_rect']['set'](_0x2c2447,_0x15fd5d,_0x5a88e1,_0x3d83f2),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x1e*0xdf+0x1001+0xa21):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x5ada62=this['_system']['app']['assets'];_0x5ada62['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x13baa9=_0x5ada62['get'](this['_materialA'+'sset']);_0x13baa9&&(_0x13baa9['off']('load',this['_onMateria'+'lLoad'],this),_0x13baa9['off']('change',this['_onMateria'+'lChange'],this),_0x13baa9['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x5a2cc5){if(this['_material']!==_0x5a2cc5){if(!_0x5a2cc5){const _0x3a9850=this['_element']['_isScreenS'+'pace']();this['mask']?_0x5a2cc5=_0x3a9850?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x5a2cc5=_0x3a9850?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x5a2cc5,this['_materialA'+'sset']){const _0x49676f=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x49676f||_0x49676f['resource']!==_0x5a2cc5)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x5a2cc5&&(this['_renderabl'+'e']['setMateria'+'l'](_0x5a2cc5),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x49c874){const _0xdc400=this['_system']['app']['assets'];let _0x46c0c0=_0x49c874;if(_0x49c874 instanceof le&&(_0x46c0c0=_0x49c874['id']),this['_materialA'+'sset']!==_0x46c0c0){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x46c0c0,this['_materialA'+'sset']){const _0x59d0b4=_0xdc400['get'](this['_materialA'+'sset']);_0x59d0b4?this['_bindMater'+'ialAsset'](_0x59d0b4):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x46c0c0,_0xdc400['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x46c0c0;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x3aacac){if(this['_texture']!==_0x3aacac){if(this['_textureAs'+'set']){const _0x4fda2a=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x4fda2a&&_0x4fda2a['resource']!==_0x3aacac&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x3aacac,_0x3aacac){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x4fdba5=this['_texture']['width']/this['_texture']['height'];_0x4fdba5!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x4fdba5,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1e0+-0x16a8+0x14c9),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0xa6cbb1){const _0x28af2c=this['_system']['app']['assets'];let _0x3f6a8a=_0xa6cbb1;if(_0xa6cbb1 instanceof le&&(_0x3f6a8a=_0xa6cbb1['id']),this['_textureAs'+'set']!==_0x3f6a8a){if(this['_textureAs'+'set']){_0x28af2c['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x1af5a2=_0x28af2c['get'](this['_textureAs'+'set']);_0x1af5a2&&(_0x1af5a2['off']('load',this['_onTexture'+'Load'],this),_0x1af5a2['off']('change',this['_onTexture'+'Change'],this),_0x1af5a2['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x3f6a8a,this['_textureAs'+'set']){const _0x4ed003=_0x28af2c['get'](this['_textureAs'+'set']);_0x4ed003?this['_bindTextu'+'reAsset'](_0x4ed003):(this['texture']=null,_0x28af2c['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x888ad3){const _0x496b2e=this['_system']['app']['assets'];let _0x566d38=_0x888ad3;if(_0x888ad3 instanceof le&&(_0x566d38=_0x888ad3['id']),this['_spriteAss'+'et']!==_0x566d38){if(this['_spriteAss'+'et']){_0x496b2e['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0xa9b3b5=_0x496b2e['get'](this['_spriteAss'+'et']);_0xa9b3b5&&this['_unbindSpr'+'iteAsset'](_0xa9b3b5);}if(this['_spriteAss'+'et']=_0x566d38,this['_spriteAss'+'et']){const _0x56fbe3=_0x496b2e['get'](this['_spriteAss'+'et']);_0x56fbe3?this['_bindSprit'+'eAsset'](_0x56fbe3):(this['sprite']=null,_0x496b2e['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x566d38);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x1f5d12){if(this['_sprite']!==_0x1f5d12){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x250159=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x250159&&_0x250159['resource']!==_0x1f5d12&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x1f5d12,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x1d49+0x1*-0x103+-0x1c46,this['_sprite']['frameKeys']['length']-(-0x1*-0x5e+-0x16*0xc7+-0x1*-0x10bd))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x26b195){const _0x1cc555=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x26b195,-0x178c+0x213e+-0x9b2,this['_sprite']['frameKeys']['length']-(0xdce+0x1*-0x2447+-0x6*-0x3bf)):this['_spriteFra'+'me']=_0x26b195,this['_spriteFra'+'me']!==_0x1cc555&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x26b195);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x7b9e20){this['_renderabl'+'e']['setMesh'](_0x7b9e20),this['_defaultMe'+'sh']===_0x7b9e20?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x4c1bbf){this['_mask']!==_0x4c1bbf&&(this['_mask']=_0x4c1bbf,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x46911f){this['_pixelsPer'+'Unit']!==_0x46911f&&(this['_pixelsPer'+'Unit']=_0x46911f,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x330362){super(),this['_app']=_0x330362,_0x330362['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1501*-0x1+-0x19*-0x10f+-0x2f77),this['_disableLo'+'calization']=!(0xb*0x35f+0x7e4+-0x2cf8),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x222129){const _0x497b07=_0x222129 instanceof le?_0x222129['id']:_0x222129;this['_defaultAs'+'set']!==_0x497b07&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x497b07,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x301b09){const _0xfa3c96=_0x301b09 instanceof le?_0x301b09['id']:_0x301b09;this['_localized'+'Asset']!==_0xfa3c96&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0xfa3c96,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x42b79f){this['_autoLoad']!==_0x42b79f&&(this['_autoLoad']=_0x42b79f,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x375d87){this['_disableLo'+'calization']!==_0x375d87&&(this['_disableLo'+'calization']=_0x375d87,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x28d671=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x28d671?this['_onDefault'+'AssetAdd'](_0x28d671):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x26d1de=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x26d1de&&(_0x26d1de['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x26d1de['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x26d1de['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x741522){this['_defaultAs'+'set']===_0x741522['id']&&(_0x741522['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x741522['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x741522['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x1e047a){this['_defaultAs'+'set']===_0x1e047a['id']&&(_0x1e047a['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1e047a['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x262792=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x262792&&(_0x262792['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x262792['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x262792['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x262792['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x262792):this['_app']['assets']['load'](_0x262792));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x56ec71=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x56ec71&&(_0x56ec71['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x56ec71['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x56ec71['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x13f33e){this['_localized'+'Asset']===_0x13f33e['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x14e196){this['fire']('load',_0x14e196);}['_onLocaliz'+'edAssetCha'+'nge'](_0x4af1a6,_0x3ad2d4,_0x35670d,_0x5f014e){this['fire']('change',_0x4af1a6,_0x3ad2d4,_0x35670d,_0x5f014e);}['_onLocaliz'+'edAssetRem'+'ove'](_0x5e5bda){this['_localized'+'Asset']===_0x5e5bda['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x5e5bda);}['_onLocaleA'+'dd'](_0x1bc1aa,_0x119927){this['_app']['i18n']['locale']===_0x1bc1aa&&this['_onSetLoca'+'le'](_0x1bc1aa);}['_onLocaleR'+'emove'](_0x40a0ec,_0x5deda4){this['_app']['i18n']['locale']===_0x40a0ec&&this['_onSetLoca'+'le'](_0x40a0ec);}['_onSetLoca'+'le'](_0x58b6cd){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x33f478=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x33f478||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x321bdd=_0x33f478['getLocaliz'+'edAssetId'](_0x58b6cd);if(!_0x321bdd){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x321bdd;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=-0xac7*0x1+-0x784+-0x29d*-0x7,Kn=-0x35*-0x7c+-0x21f*0x1+-0xb*0x224,of=-0x6e6+0x3*-0x25f+0x25*0x61,ix=0x29*0xa9+-0x1dda+0x2cc,lf=0x862*0x1+-0x1fda+0x177c,hf=-0x119*0x13+0x3e*-0x32+0x20fc,cf=0x226b*0x1+0x1067+-0x32cc,df=-0x1ec2+0x10*0x49+-0x89*-0x31,dg=-0xe2e+-0x1fd8+0x2e0e,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x3186e1){this['_symbols']=_0x3186e1,this['_index']=0xfb*-0x1+-0x477+0x22*0x29,this['_last']=0x1ec5+0x3*-0x30f+-0x4*0x566,this['_cur']=this['_symbols']['length']>-0x12b*-0x13+-0x90a+-0x1*0xd27?this['_symbols'][0x167*-0x11+0x2221+0x6*-0x1b7]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x4a000d=this['_read']();for(;_0x4a000d===dg;)_0x4a000d=this['_read']();return _0x4a000d!==ho&&_0x4a000d!==Kn&&(this['_last']=this['_index']),_0x4a000d;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x477648=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x38e4a4=this['read'](),_0x4b94fd='';for(;_0x4b94fd+=(_0x4b94fd['length']>0x143f+0x2b6+-0x1*0x16f5?'\x0a':'')+_0x477648[_0x38e4a4]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x38e4a4===ho||_0x38e4a4===Kn);)_0x38e4a4=this['read']();return _0x4b94fd;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x2025+-0x140b+0x1*0x3430?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0x1e8b+-0x7*-0x202+0x65f*-0x7?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(-0x1*-0x1ccf+0x7*-0x3e8+-0x176);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x243c27){return _0x243c27['length']===0x32b*0x3+0xb61*0x3+-0x2ba3&&_0x243c27['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x1ac77a){this['_buf']['push'](_0x1ac77a);}}class bR{constructor(_0x188edf){this['_scanner']=new vR(_0x188edf),this['_error']=null;}['parse'](_0x348ce9,_0x1f8523){for(;;)switch(this['_scanner']['read']()){case ho:return!(-0x40*0x1a+0x1958+-0x12d8);case Kn:return!(-0x1039*-0x2+-0x1*-0x515+-0x641*0x6);case of:Array['prototype']['push']['apply'](_0x348ce9,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x348ce9,_0x1f8523))return!(-0x1978+0x93+0x18e6);break;default:return!(0x71*-0x56+-0x2cb+0x1461*0x2);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x45a70c,_0x96bb55){let _0x3a268c=this['_scanner']['read']();if(_0x3a268c!==df)return this['_error']='expected\x20i'+'dentifier',!(-0x1f*0x76+0x35*0x16+0x115*0x9);const _0x5821b5=this['_scanner']['buf']()['join']('');if(_0x5821b5[-0x1*0x1813+0x169*-0x1a+-0x143f*-0x3]==='/'){for(let _0x1e012c=_0x96bb55['length']-(0x537*0x7+0x779*0x5+-0x49dd);_0x1e012c>=-0x1*-0x233f+-0x137f+-0x1c*0x90;--_0x1e012c)if(_0x5821b5==='/'+_0x96bb55[_0x1e012c]['name']&&_0x96bb55[_0x1e012c]['end']===null)return _0x96bb55[_0x1e012c]['end']=_0x45a70c['length'],_0x3a268c=this['_scanner']['read'](),_0x3a268c!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x198e+0x1833+0x15c)):!(-0x9e*-0x1d+0x3f*-0x2d+-0x6d3);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x4b2+-0x168+0x61b);}const _0x207cec={'name':_0x5821b5,'value':null,'attributes':{},'start':_0x45a70c['length'],'end':null};if(_0x3a268c=this['_scanner']['read'](),_0x3a268c===hf){if(_0x3a268c=this['_scanner']['read'](),_0x3a268c!==cf)return this['_error']='expected\x20s'+'tring',!(-0x21a9+-0xd40+-0x962*-0x5);_0x207cec['value']=this['_scanner']['buf']()['join'](''),_0x3a268c=this['_scanner']['read']();}for(;;){switch(_0x3a268c){case lf:return _0x96bb55['push'](_0x207cec),!(-0xf99+0x169*-0x1+-0x26e*-0x7);case df:{const _0x4032bd=this['_scanner']['buf']()['join']('');if(_0x3a268c=this['_scanner']['read'](),_0x3a268c!==hf)return this['_error']='expected\x20e'+'quals',!(-0x43+0x1ba9+0x1b65*-0x1);if(_0x3a268c=this['_scanner']['read'](),_0x3a268c!==cf)return this['_error']='expected\x20s'+'tring',!(0xb*0x1f7+0x133a*0x1+-0x28d6);const _0x32a924=this['_scanner']['buf']()['join']('');_0x207cec['attributes'][_0x4032bd]=_0x32a924;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x26c3*-0x1+-0xb*-0x74+-0xb*0x3fa);}_0x3a268c=this['_scanner']['read']();}}}function rx(_0x22c0f0,_0xb89759){for(const _0x11d34a in _0xb89759){if(!_0xb89759['hasOwnProp'+'erty'](_0x11d34a))continue;const _0x484418=_0xb89759[_0x11d34a];_0x484418 instanceof Object?(_0x22c0f0['hasOwnProp'+'erty'](_0x11d34a)||(_0x22c0f0[_0x11d34a]={}),rx(_0x22c0f0[_0x11d34a],_0xb89759[_0x11d34a])):_0x22c0f0[_0x11d34a]=_0x484418;}}function wR(_0x47f819){if(_0x47f819['length']===-0xcf6+0x59*0x11+0x70d)return null;const _0x233ac6={};for(let _0x40e5ae=-0x1d43+-0x1*-0xb71+0x11d2*0x1;_0x40e5ae<_0x47f819['length'];++_0x40e5ae){const _0x199536=_0x47f819[_0x40e5ae],_0x44df08={};_0x44df08[_0x199536['name']]={'value':_0x199536['value'],'attributes':_0x199536['attributes']},rx(_0x233ac6,_0x44df08);}return _0x233ac6;}function TR(_0x7ebe3,_0x3579c6){if(_0x7ebe3['length']===-0x130c+0x1b2d+-0x821*0x1)return null;const _0x2e311a={};for(let _0x2c8560=0x472+-0x461*-0x5+-0x1a57*0x1;_0x2c8560<_0x7ebe3['length'];++_0x2c8560){const _0x543178=_0x7ebe3[_0x2c8560];_0x2e311a['hasOwnProp'+'erty'](_0x543178['start'])?_0x2e311a[_0x543178['start']]['open']===null?_0x2e311a[_0x543178['start']]['open']=[_0x543178]:_0x2e311a[_0x543178['start']]['open']['push'](_0x543178):_0x2e311a[_0x543178['start']]={'open':[_0x543178],'close':null},_0x2e311a['hasOwnProp'+'erty'](_0x543178['end'])?_0x2e311a[_0x543178['end']]['close']===null?_0x2e311a[_0x543178['end']]['close']=[_0x543178]:_0x2e311a[_0x543178['end']]['close']['push'](_0x543178):_0x2e311a[_0x543178['end']]={'open':null,'close':[_0x543178]};}let _0x2d80f3=[];function _0x365991(_0x50b482){_0x2d80f3=_0x2d80f3['filter'](_0x4c0264=>_0x50b482['find'](_0xbcf318=>_0xbcf318===_0x4c0264)===void(0x9*-0x3e0+0x2*0x1cf+0x1f42));}function _0x2f75fe(_0x3c9cab){for(let _0xe6f1ad=0x200f*0x1+-0xb*-0x205+-0x3646;_0xe6f1ad<_0x3c9cab['length'];++_0xe6f1ad)_0x2d80f3['push'](_0x3c9cab[_0xe6f1ad]);}const _0x4b4d88=Object['keys'](_0x2e311a)['sort']((_0xb7cd0b,_0x260290)=>_0xb7cd0b-_0x260290),_0x5779c3=[];for(let _0x18a603=0x1bb+-0x13e9+0x122e;_0x18a603<_0x4b4d88['length'];++_0x18a603){const _0x3acc5d=_0x2e311a[_0x4b4d88[_0x18a603]];_0x3acc5d['close']!==null&&_0x365991(_0x3acc5d['close']),_0x3acc5d['open']!==null&&_0x2f75fe(_0x3acc5d['open']),_0x5779c3['push']({'start':_0x4b4d88[_0x18a603],'tags':wR(_0x2d80f3)});}const _0x32da67=[];let _0x36493f=null;for(let _0x175ed9=-0x1*-0x1433+-0x1f33+-0x100*-0xb;_0x175ed9<_0x5779c3['length'];++_0x175ed9){const _0xe4d4d8=_0x5779c3[_0x175ed9];for(;_0x32da67['length']<_0xe4d4d8['start'];)_0x32da67['push'](_0x36493f?_0x36493f['tags']:null);_0x36493f=_0xe4d4d8;}for(;_0x32da67['length']<_0x3579c6;)_0x32da67['push'](null);return _0x32da67;}function AR(_0x4da173){const _0x1f3726=new bR(_0x4da173),_0x418caa=[],_0x255b40=[];if(!_0x1f3726['parse'](_0x418caa,_0x255b40))return console['warn'](_0x1f3726['error']()),{'symbols':_0x4da173,'tags':null};const _0x4f4f44=_0x255b40['find'](_0x2ee7a0=>_0x2ee7a0['end']===null);if(_0x4f4f44)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x4f4f44['name']+'\x27'),{'symbols':_0x4da173,'tags':null};const _0x1808cd=TR(_0x255b40,_0x418caa['length']);return{'symbols':_0x418caa,'tags':_0x1808cd};}class ER{static['evaluate'](_0x10ff8c){return AR(_0x10ff8c);}}class CR{constructor(){this['count']=-0x225b+-0x2277+0x44d2,this['quad']=0x3d*-0x6+-0x1e39+-0x6f*-0x49,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x301ca6,_0x10c5eb){const _0xea9a6a=new Ie(_0x301ca6);return _0xea9a6a['setPositio'+'ns'](_0x10c5eb['positions']),_0xea9a6a['setNormals'](_0x10c5eb['normals']),_0xea9a6a['setColors3'+'2'](_0x10c5eb['colors']),_0xea9a6a['setUvs'](0x1*-0x1e2+0x1040+0x72f*-0x2,_0x10c5eb['uvs']),_0xea9a6a['setIndices'](_0x10c5eb['indices']),_0xea9a6a['setVertexS'+'tream'](Po,_0x10c5eb['outlines'],0x15*0x97+-0x1*-0xe68+-0x1ac8,void(0x1853+0xad6+-0x2329),Ee,!(-0x1af3*0x1+-0x2c4+0x9e8*0x3)),_0xea9a6a['setVertexS'+'tream'](Ro,_0x10c5eb['shadows'],0x1c05*-0x1+-0x2059*0x1+-0x215*-0x1d,void(-0x1e15*0x1+-0x1180+-0x2f95*-0x1),Ee,!(0x6c0+-0x26*-0x47+0x375*-0x5)),_0xea9a6a['update'](),_0xea9a6a;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[]$/,DR=['','','','','','','','','','','','',''],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new $(),Me=new Y();class OR{constructor(_0x262728){this['_element']=_0x262728,this['_system']=_0x262728['system'],this['_entity']=_0x262728['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x62+0x107*-0x7+0x6cf),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0x2173+0x4d*0x3a+0x1002,-0x25d5+-0x2023+0x45f9,-0x1e88+-0x11e2+0x306b,0x2582*-0x1+0x1*0xd19+0x19*0xfa),this['_colorUnif'+'orm']=new Float32Array(-0x2*-0x1134+0x232f*-0x1+0xca),this['_spacing']=0x77e+0x673+0xdf*-0x10,this['_fontSize']=-0x674+0xbab+-0x517,this['_fontMinY']=-0x154e+0x1f79+-0x13*0x89,this['_fontMaxY']=-0xce2+-0x1ec8+0x2baa,this['_originalF'+'ontSize']=0x1c3*0x4+0x943+-0x102f,this['_maxFontSi'+'ze']=-0x232f+-0x64c+0x299b,this['_minFontSi'+'ze']=0x66b+0x11*0x1f3+0x2786*-0x1,this['_autoFitWi'+'dth']=!(-0x1cf9+-0x3*0x74f+0x53*0x9d),this['_autoFitHe'+'ight']=!(-0x191a+-0x243*-0x1+0x16d8),this['_maxLines']=-(-0x1e32+-0x2309*-0x1+-0x2*0x26b),this['_lineHeigh'+'t']=-0x10c3+0x182e+-0x74b,this['_scaledLin'+'eHeight']=0x2*0x125e+-0x263*0xe+-0x1*0x332,this['_wrapLines']=!(0x2704+-0x1077+-0x27*0x94),this['_drawOrder']=-0x22a2+0x257c*-0x1+0x481e,this['_alignment']=new $(-0x12*-0x20a+-0xb11+-0x19a3+0.5,-0x744*-0x3+0x2d*-0xad+0x89d+0.5),this['_autoWidth']=!(0x19*-0xf7+-0x1a49+0x3268),this['_autoHeigh'+'t']=!(0xa*-0x2b+-0x2d*0xba+-0x6e0*-0x5),this['width']=0xb*-0x14+0x1669*-0x1+0x1745,this['height']=0x10a*0x25+-0x1192+0x4*-0x538,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x8*0x215+-0x215d*0x1+-0x2f*-0x5b),this['_aabb']=new _e(),this['_noResize']=!(-0x193f*-0x1+-0x3*-0x824+-0x1a*0x1e9),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x149d+-0x16f*-0x17+0x1*-0xc5b),this['_unicodeCo'+'nverter']=!(0x24f6+0x2*-0xd81+-0x9f3),this['_rtl']=!(0x7e*0x25+-0x5*-0x641+-0x18bd*0x2),this['_outlineCo'+'lor']=new Y(-0xe5e+0x1*0x1363+-0x505,0x1251+-0xf65+-0x2ec,0x243a+0xe2*0xa+-0x2d0e,-0x1037+0x18f+0xea9),this['_outlineCo'+'lorUniform']=new Float32Array(-0xf7*-0x12+0x149e+0xd8*-0x2d),this['_outlineTh'+'icknessSca'+'le']=-0x986+0x148d+0x3*-0x3ad+0.2,this['_outlineTh'+'ickness']=-0x1*-0x21a1+0x751*0x3+0x3794*-0x1,this['_shadowCol'+'or']=new Y(-0xb*-0x101+0x236+-0x57*0x27,-0x1c5*-0xf+0xe2+-0x1b6d,-0x1a2e+-0x4*-0x703+0x2*-0xef,-0xa*0x1c0+-0xbc5+0xea3*0x2),this['_shadowCol'+'orUniform']=new Float32Array(-0x3f3*0x4+0x10a2+-0x1*0xd2),this['_shadowOff'+'setScale']=-0xb*0x24e+0x1*0x1d95+-0x43b+0.005,this['_shadowOff'+'set']=new $(0x65*0x1+0x32c+-0xb*0x53,0x1548*0x1+0x64+0x92*-0x26),this['_shadowOff'+'setUniform']=new Float32Array(0x2*-0x3d6+-0x2f2*0xd+-0x8*-0x5bf),this['_enableMar'+'kup']=!(0x2b2+0x82a+0xadb*-0x1),this['_onScreenC'+'hange'](this['_element']['screen']),_0x262728['on']('resize',this['_onParentR'+'esize'],this),_0x262728['on']('set:screen',this['_onScreenC'+'hange'],this),_0x262728['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x262728['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x262728['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x1edf+-0xa00+-0x1*-0x28df,this['_rangeEnd']=0x2*0xd0f+0x1*0xec9+-0x28e7;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x1ec687,_0x4357c4){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x49e8b2){_0x49e8b2?this['_updateMat'+'erial'](_0x49e8b2['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x863+-0xcf1+-0x3*-0x185));}['_onScreenS'+'paceChange'](_0x22a9d5){this['_updateMat'+'erial'](_0x22a9d5);}['_onDrawOrd'+'erChange'](_0x46aa65){if(this['_drawOrder']=_0x46aa65,this['_model']){for(let _0x2e79bb=0x29f+0x30*0xa6+-0x21bf,_0x29c0ae=this['_model']['meshInstan'+'ces']['length'];_0x2e79bb<_0x29c0ae;_0x2e79bb++)this['_model']['meshInstan'+'ces'][_0x2e79bb]['drawOrder']=_0x46aa65;}}['_onPivotCh'+'ange'](_0x5d32fb){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x2a3cb2){if(this['_i18nKey']){if(this['fontAsset']){const _0x3d8eb9=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x3d8eb9||!_0x3d8eb9['resource']||_0x3d8eb9['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x3ebecb,_0x1f5693){this['_i18nKey']&&_0x1f5693[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x1bd67f){if(this['unicodeCon'+'verter']){const _0x133ff9=this['_system']['getUnicode'+'Converter']();_0x133ff9?_0x1bd67f=_0x133ff9(_0x1bd67f):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x1bd67f&&(this['_font']&&this['_updateTex'+'t'](_0x1bd67f),this['_text']=_0x1bd67f);}['_updateTex'+'t'](_0x5032e7){let _0x52b0b2;if(_0x5032e7===void(0xec4+0x1e03*0x1+-0x3*0xeed)&&(_0x5032e7=this['_text']),this['_symbols']=ah['getSymbols'](_0x5032e7['normalize']?_0x5032e7['normalize']('NFC'):_0x5032e7),this['_symbols']['length']===-0x1edf+-0x4cb+0x23aa&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x4d7e05=ER['evaluate'](this['_symbols']);this['_symbols']=_0x4d7e05['symbols'],_0x52b0b2=_0x4d7e05['tags']||[];}if(this['_rtlReorde'+'r']){const _0x2fcce=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x2fcce){const _0x19cbf5=_0x2fcce(this['_symbols']);this['_rtl']=_0x19cbf5['rtl'],this['_symbols']=_0x19cbf5['mapping']['map'](function(_0x5534aa){return this['_symbols'][_0x5534aa];},this),_0x52b0b2&&(_0x52b0b2=_0x19cbf5['mapping']['map'](_0x256d94=>_0x52b0b2[_0x256d94]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1a5*0x9+-0x59a*0x1+0x2*0xa34);const _0x547881=(_0x171eae,_0x41a97f)=>_0x171eae['toString'](!(-0x839+-0x177b+0x1fb4))['toLowerCas'+'e']()+':'+_0x41a97f['toFixed'](-0x7*0x1bb+-0x23d8+0x2ff7),_0x363ab5=(_0x1662b1,_0x3f2aa0)=>_0x1662b1['toString'](!(0xe53+-0x2014+0x11c1))['toLowerCas'+'e']()+':'+_0x3f2aa0['x']['toFixed'](-0xb3f+-0x10f*-0x1+0xa32*0x1)+':'+_0x3f2aa0['y']['toFixed'](-0x2a7*0x1+-0x1*-0x517+-0x26e);if(_0x52b0b2){const _0x348452={},_0x5ce9eb={},_0x166149={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x577+-0x19e4*0x1+0x156c)),Math['round'](this['_color']['g']*(0x1*-0xe8f+0x1*0x1272+0x25*-0x14)),Math['round'](this['_color']['b']*(-0x26fe+-0x2b*-0x4f+0x1ab8*0x1))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x11b0+0x85+-0x1136)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x2*0x21f+-0x14e*0x1a+0x191*0x19)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x27*-0x22+-0x2632*-0x1+0x13*-0x23b)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x1*-0x19ab+0x2636+-0x3ee2)),Math['round'](this['_outlineTh'+'ickness']*(0x1636*-0x1+-0xe76+0x25ab))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x1*0x123c+0x187d+-0x2*0x2a1)),Math['round'](this['_shadowCol'+'or']['g']*(0x887+0x1efe+-0x1343*0x2)),Math['round'](this['_shadowCol'+'or']['b']*(-0x4*-0x6b1+0x1*-0x25e9+0xc24)),Math['round'](this['_shadowCol'+'or']['a']*(0x16bb+-0x11*-0x7a+0x3*-0x9f2)),Math['round'](this['_shadowOff'+'set']['x']*(0x1f30+0x1*-0x58a+-0x1927)),Math['round'](this['_shadowOff'+'set']['y']*(0x1cfd+-0x3*-0x511+0x1*-0x2bb1))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x348452[this['_color']['toString'](!(-0xbf7+-0x23ea+0x2fe2))['toLowerCas'+'e']()]=0x1faa+-0x145*-0xb+-0x2da1*0x1,_0x5ce9eb[_0x547881(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x1edb+0xb05*0x3+-0x12*0x38d,_0x166149[_0x363ab5(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x2e3*-0x1+0x1ba0+-0x18bd;for(let _0x2d80a8=0x338*-0x1+-0x17c1+-0x1af9*-0x1,_0x2c3e30=this['_symbols']['length'];_0x2d80a8<_0x2c3e30;++_0x2d80a8){const _0x3eb370=_0x52b0b2[_0x2d80a8];let _0x4af432=0x33*-0x1d+0x23d4+-0x1e0d;if(_0x3eb370&&_0x3eb370['color']&&_0x3eb370['color']['value']){const _0x5d61c9=_0x3eb370['color']['value'];if(_0x5d61c9['length']===-0x13ec+-0xecf+0x22c2*0x1&&_0x5d61c9[0x1a62*-0x1+-0x1767+0x31c9]==='#'){const _0x130b8b=_0x5d61c9['substring'](0xf9+-0x219d+0x20a5)['toLowerCas'+'e']();_0x348452['hasOwnProp'+'erty'](_0x130b8b)?_0x4af432=_0x348452[_0x130b8b]:/^[0-9a-f]{6}$/['test'](_0x130b8b)&&(_0x4af432=this['_colorPale'+'tte']['length']/(-0x93c+-0x71*0x1f+0x24b*0xa),_0x348452[_0x130b8b]=_0x4af432,this['_colorPale'+'tte']['push'](parseInt(_0x130b8b['substring'](0x9a*-0xb+-0x269f+0x2d3d,-0x21e*0x9+-0x262+0x1572),-0x11f6*0x1+0x1*0x18c7+-0x13*0x5b)),this['_colorPale'+'tte']['push'](parseInt(_0x130b8b['substring'](0x1*-0x1ef1+-0x588+0x351*0xb,0xdf3+0x13fb+0xb4e*-0x3),-0x15ca+0x12*-0x3a+0x19ee)),this['_colorPale'+'tte']['push'](parseInt(_0x130b8b['substring'](-0xc0c+0x1a85+-0xe75,0x5*-0x6ac+0x2f2+0x1e70),0x1375+0x1db+-0x1540)));}}this['_symbolCol'+'ors']['push'](_0x4af432);let _0xa25bbb=0x1*-0x224+-0x727+0x94b;if(_0x3eb370&&_0x3eb370['outline']&&(_0x3eb370['outline']['attributes']['color']||_0x3eb370['outline']['attributes']['thickness'])){let _0x50d55e=_0x3eb370['outline']['attributes']['color']?mg['fromString'](_0x3eb370['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x1f294c=Number(_0x3eb370['outline']['attributes']['thickness']);(Number['isNaN'](_0x50d55e['r'])||Number['isNaN'](_0x50d55e['g'])||Number['isNaN'](_0x50d55e['b'])||Number['isNaN'](_0x50d55e['a']))&&(_0x50d55e=this['_outlineCo'+'lor']),Number['isNaN'](_0x1f294c)&&(_0x1f294c=this['_outlineTh'+'ickness']);const _0x49adaf=_0x547881(_0x50d55e,_0x1f294c);_0x5ce9eb['hasOwnProp'+'erty'](_0x49adaf)?_0xa25bbb=_0x5ce9eb[_0x49adaf]:(_0xa25bbb=this['_outlinePa'+'lette']['length']/(0xefb+0x1*0xe93+0x1d89*-0x1),_0x5ce9eb[_0x49adaf]=_0xa25bbb,this['_outlinePa'+'lette']['push'](Math['round'](_0x50d55e['r']*(0x1a3c+0xe28+-0x5*0x7e1)),Math['round'](_0x50d55e['g']*(-0x25f*0xb+0x7be*-0x5+0x41ca)),Math['round'](_0x50d55e['b']*(-0xc15*0x2+-0x1939+0x3262)),Math['round'](_0x50d55e['a']*(0x9*-0x25+-0x25f6+0x2842)),Math['round'](_0x1f294c*(-0xe0*-0x15+0x11f3*0x1+-0x2354))));}this['_symbolOut'+'lineParams']['push'](_0xa25bbb);let _0x2471df=0x165+-0x2541+0x22*0x10e;if(_0x3eb370&&_0x3eb370['shadow']&&(_0x3eb370['shadow']['attributes']['color']||_0x3eb370['shadow']['attributes']['offset']||_0x3eb370['shadow']['attributes']['offsetX']||_0x3eb370['shadow']['attributes']['offsetY'])){let _0x6f1290=_0x3eb370['shadow']['attributes']['color']?mg['fromString'](_0x3eb370['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x4e6827=Number(_0x3eb370['shadow']['attributes']['offset']),_0x3afd26=Number(_0x3eb370['shadow']['attributes']['offsetX']),_0x4a8854=Number(_0x3eb370['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x6f1290['r'])||Number['isNaN'](_0x6f1290['g'])||Number['isNaN'](_0x6f1290['b'])||Number['isNaN'](_0x6f1290['a']))&&(_0x6f1290=this['_shadowCol'+'or']);const _0x1ad6ce=FR['set'](Number['isNaN'](_0x3afd26)?Number['isNaN'](_0x4e6827)?this['_shadowOff'+'set']['x']:_0x4e6827:_0x3afd26,Number['isNaN'](_0x4a8854)?Number['isNaN'](_0x4e6827)?this['_shadowOff'+'set']['y']:_0x4e6827:_0x4a8854),_0x27db41=_0x363ab5(_0x6f1290,_0x1ad6ce);_0x166149['hasOwnProp'+'erty'](_0x27db41)?_0x2471df=_0x166149[_0x27db41]:(_0x2471df=this['_shadowPal'+'ette']['length']/(0x3*-0xba3+0x41f*-0x2+0x2b2d),_0x166149[_0x27db41]=_0x2471df,this['_shadowPal'+'ette']['push'](Math['round'](_0x6f1290['r']*(0x1d11+0x1121+-0x2d33)),Math['round'](_0x6f1290['g']*(-0x1b05+0x9af+0x1255)),Math['round'](_0x6f1290['b']*(0x11e4+-0x130*-0xe+-0x2185)),Math['round'](_0x6f1290['a']*(0x1c8b*-0x1+0x1f7b*0x1+-0x1f1)),Math['round'](_0x1ad6ce['x']*(-0x1837+-0x1373+0x2c29)),Math['round'](_0x1ad6ce['y']*(0x1*0x7fd+-0x1589+0xe0b))));}this['_symbolSha'+'dowParams']['push'](_0x2471df);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x55c896=this['_calculate'+'CharsPerTe'+'xture']();let _0x4a796c=!(0x4*0x7bf+0xa70*0x1+-0x296b);const _0x59f2d6=this['_element'],_0x5c1ca3=_0x59f2d6['_isScreenS'+'pace'](),_0x38d2c5=_0x59f2d6['_isScreenC'+'ulled'](),_0x50023b=function(_0x1cad7f){return _0x59f2d6['isVisibleF'+'orCamera'](_0x1cad7f);};for(let _0x25fb04=-0xba+-0x1ed5+-0xa85*-0x3,_0x4d06c8=this['_meshInfo']['length'];_0x25fb04<_0x4d06c8;_0x25fb04++){const _0x5ac256=_0x55c896[_0x25fb04]||0x1be8+-0xed+0x1*-0x1afb,_0x3d8d37=this['_meshInfo'][_0x25fb04];if(_0x3d8d37['count']!==_0x5ac256){if(_0x4a796c||(_0x59f2d6['removeMode'+'lFromLayer'+'s'](this['_model']),_0x4a796c=!(0x214f*0x1+-0x1d77*-0x1+-0x3ec6)),_0x3d8d37['count']=_0x5ac256,_0x3d8d37['positions']['length']=_0x3d8d37['normals']['length']=_0x5ac256*(-0xb82+0x23b3+-0x182e)*(-0x19e5+-0x1*0x961+0x234a),_0x3d8d37['indices']['length']=_0x5ac256*(-0x3*0x5a7+-0x9*-0x148+0x570)*(-0x7*0x3be+-0x13bc+0x2df0),_0x3d8d37['uvs']['length']=_0x5ac256*(0x15c+0x4eb+-0x645)*(0x2*-0x1079+0x433*-0x1+-0x3f*-0x97),_0x3d8d37['colors']['length']=_0x5ac256*(-0x7dd*-0x1+-0x2*0x4de+0x1e3*0x1)*(-0x6cd+0x3*0x721+-0xe92),_0x3d8d37['outlines']['length']=_0x5ac256*(0x1f*0x103+-0x2117+0x1be*0x1)*(0x1*0x4f7+-0xa5d+0x569),_0x3d8d37['shadows']['length']=_0x5ac256*(-0xfef+0x472*-0x2+0x1*0x18d7)*(0xd8d+0x1*-0x25bf+0x1835),_0x3d8d37['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x3d8d37['meshInstan'+'ce']),_0x5ac256===-0x374+0x1ba+0x1a*0x11){_0x3d8d37['meshInstan'+'ce']=null;continue;}for(let _0x1af804=-0x1364+0x1330+0x34;_0x1af804<_0x5ac256;_0x1af804++)_0x3d8d37['indices'][_0x1af804*(0x7c*-0x30+0x14b8+0x28b)*(0x2*0x4ff+-0x2061*0x1+0x1665)+(-0xf9f+-0x19a*0x14+0x2fa7)]=_0x1af804*(-0x29b*-0x7+0x12*0x87+-0x1d9*0xf),_0x3d8d37['indices'][_0x1af804*(0xe1f+-0xa9a+-0x382)*(0x4*0x1e5+0x2485+-0x1*0x2c17)+(0x187+-0x6c*-0x28+-0x1266)]=_0x1af804*(-0xb*-0x2d7+0x1b3a+-0x3a73)+(-0xb18+-0x67+0xb80),_0x3d8d37['indices'][_0x1af804*(-0x299+-0xe*0xb2+-0x316*-0x4)*(-0x26a6+0x1e16+0x892*0x1)+(-0x11+-0x2d4*0x1+0x2e7)]=_0x1af804*(-0xbb8+0xc*-0x13+-0x4*-0x328)+(-0x303*0x1+0x1bb8+-0x18b2),_0x3d8d37['indices'][_0x1af804*(0x1e81*0x1+-0x1327+-0xb57)*(0x7*0xba+0x139*-0x9+0x5ed)+(0xb7d+0x18dd+0x531*-0x7)]=_0x1af804*(-0xe9f*-0x1+-0x1*0x443+-0xa58)+(-0x13*0x3+-0x4fb+0x536),_0x3d8d37['indices'][_0x1af804*(0x20*0xb6+-0x2074+0x9b7)*(0x5*0x2d4+-0x11e5+-0x141*-0x3)+(0xd2b+-0x10a*0x13+0x7*0xf1)]=_0x1af804*(0x3e6*-0x4+0xbb*0x7+0x1*0xa7f)+(-0x2191+0x2053+-0x141*-0x1),_0x3d8d37['indices'][_0x1af804*(0xead+-0x827+-0x683)*(-0x4d1+0x20a7+-0xd*0x224)+(-0xcc9+-0x158f*-0x1+-0x8c1*0x1)]=_0x1af804*(0x2bd*0x2+-0x9e3+-0x1*-0x46d)+(0x12ee+0x1c4f+0x1*-0x2f3c),_0x3d8d37['normals'][_0x1af804*(0x274*0x1+0xc*-0x243+-0x62d*-0x4)*(-0x1f*0x117+-0xaa*-0x4+-0x2*-0xf92)+(-0xcec+-0xe75*0x2+0x29d6)]=0x17*-0x104+-0x1286*0x1+0x3*0xdf6,_0x3d8d37['normals'][_0x1af804*(0x16*-0x26+0xdb8+-0x8*0x14e)*(-0xb54+0x1f4d*0x1+0x1*-0x13f6)+(-0x1cf*-0x13+0x13*0x14d+-0x3b13*0x1)]=0x106f*-0x2+0xe04+0x12da,_0x3d8d37['normals'][_0x1af804*(0x1338+-0x1016+-0x31e)*(0x16f7+-0x131b*-0x2+-0x3d2a*0x1)+(-0x7d*0x49+0xba5*0x2+0xc5d)]=-(0xaa1*0x1+-0x2156+0x9*0x286),_0x3d8d37['normals'][_0x1af804*(0x52f*-0x1+0x100e+-0x1*0xadb)*(0xde+0xece+-0x1*0xfa9)+(0x16e5*0x1+0xbd5*-0x2+0xc8)]=0x1cc+-0x368*0x1+0x4*0x67,_0x3d8d37['normals'][_0x1af804*(0x18d*-0xe+0x218*0x2+0x118a)*(-0x1*0x1a14+0x22cc+-0x8b5)+(-0x10a9*-0x1+0x23fb+-0x34a0)]=-0x1*-0x221+0x17*0x8f+-0x1aa*0x9,_0x3d8d37['normals'][_0x1af804*(0x1d8b+-0xae7+0x254*-0x8)*(0x1dec+-0x329*0x1+0xd60*-0x2)+(0xd*-0x234+-0x2d7*0xd+0x4194)]=-(-0x2208+0xae1*-0x3+0x42ac),_0x3d8d37['normals'][_0x1af804*(-0x912+-0xb11+0x1427)*(-0x6b7*-0x1+-0x2590*-0x1+-0x4*0xb11)+(-0x25d3*-0x1+-0x1*0x75a+-0x1e73)]=-0x8df+0x1f6+-0x1*-0x6e9,_0x3d8d37['normals'][_0x1af804*(0x1556*0x1+0x76a+-0xc*0x265)*(-0x3*0x2c2+0x152a+-0xce1)+(-0x315*-0x1+0x77*-0x1a+-0x22*-0x44)]=0x1683+0xf95+-0x2618,_0x3d8d37['normals'][_0x1af804*(-0xd46+-0xa8b+-0x17d5*-0x1)*(-0x17c1+0x2455+0x1*-0xc91)+(-0x96+-0xde1+0xe7f)]=-(-0x216e+-0xc6b+0x2*0x16ed),_0x3d8d37['normals'][_0x1af804*(-0x18cb*-0x1+-0x35*0xb3+0xc48)*(-0x234+-0x2d4*0x2+0x7df)+(-0x1*0x11cb+0x187c+-0x6a8)]=0x7b7+-0x228d+-0x1ad6*-0x1,_0x3d8d37['normals'][_0x1af804*(0x1cf*-0x3+0x66+0x1*0x50b)*(0x2*-0xa19+0x3c7*0x6+-0x275*0x1)+(-0x7f6*-0x4+0xa0a+0xa76*-0x4)]=-0x567+-0x1*0x51+-0x8*-0xb7,_0x3d8d37['normals'][_0x1af804*(-0x1587+-0x11ef+-0x3e*-0xa3)*(0x9*0x189+-0x1b68+0xd9a)+(-0x743*0x3+-0x14b1+0x7*0x613)]=-(-0x220*-0x5+0x3*-0x79f+-0x61f*-0x2);const _0x54f9e6=MR(this['_system']['app']['graphicsDe'+'vice'],_0x3d8d37),_0x444199=new Le(_0x54f9e6,this['_material'],this['_node']);if(_0x444199['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x444199['castShadow']=!(-0x1070+-0x98a+0x9*0x2e3),_0x444199['receiveSha'+'dow']=!(0x3b*0x16+0x635*0x1+-0xb46),_0x444199['cull']=!_0x5c1ca3,_0x444199['screenSpac'+'e']=_0x5c1ca3,_0x444199['drawOrder']=this['_drawOrder'],_0x38d2c5&&(_0x444199['cull']=!(0x36a+0x1bdf*0x1+0x1f49*-0x1),_0x444199['isVisibleF'+'unc']=_0x50023b),this['_setTextur'+'eParams'](_0x444199,this['_font']['textures'][_0x25fb04]),_0x444199['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x444199['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x444199['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x444199['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x444199['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x25fb04]['width']),_0x444199['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x444199['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x444199['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x11b3*-0x1+-0x79*0x2e+-0x2771*-0x1]=0x1328+-0x28*-0x9+-0x1490,this['_shadowOff'+'setUniform'][0xd6f*0x1+-0x1e42+0x167*0xc]=0x5c*0x1f+0x20*-0x3+-0xac4;else{const _0x2ee96e=-this['_font']['data']['info']['maps'][_0x25fb04]['width']/this['_font']['data']['info']['maps'][_0x25fb04]['height'];this['_shadowOff'+'setUniform'][-0xeb1+0x698*0x1+0x2b3*0x3]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1e2f*-0x1+-0x2*-0x15f+0x1b72]=_0x2ee96e*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x444199['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x3d8d37['meshInstan'+'ce']=_0x444199,this['_model']['meshInstan'+'ces']['push'](_0x444199);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x4a796c&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x1*-0x1d4a+0x1*0x83+0x1*-0x1dcd,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x80606b){_0x80606b['destroy']();const _0x17aa2e=this['_model']['meshInstan'+'ces']['indexOf'](_0x80606b);_0x17aa2e!==-(-0x287+-0x16b7*-0x1+0x142f*-0x1)&&this['_model']['meshInstan'+'ces']['splice'](_0x17aa2e,-0x139d*-0x1+0x1ed5+-0x3271);}['_setMateri'+'al'](_0x4e3821){if(this['_material']=_0x4e3821,this['_model'])for(let _0x1a7ceb=-0x64*0x33+-0x2163+0x354f,_0x103bdf=this['_model']['meshInstan'+'ces']['length'];_0x1a7ceb<_0x103bdf;_0x1a7ceb++){const _0x308d69=this['_model']['meshInstan'+'ces'][_0x1a7ceb];_0x308d69['material']=_0x4e3821;}}['_updateMat'+'erial'](_0x374493){const _0x588224=this['_element'],_0x4cdfba=_0x588224['_isScreenC'+'ulled'](),_0x17d474=function(_0x2dbfd6){return _0x588224['isVisibleF'+'orCamera'](_0x2dbfd6);},_0x5aa355=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x374493,_0x5aa355,this['_enableMar'+'kup']),this['_model'])for(let _0x210da0=-0x3*-0x893+-0x2*-0x1213+-0x3ddf,_0x37299d=this['_model']['meshInstan'+'ces']['length'];_0x210da0<_0x37299d;_0x210da0++){const _0x428199=this['_model']['meshInstan'+'ces'][_0x210da0];_0x428199['cull']=!_0x374493,_0x428199['material']=this['_material'],_0x428199['screenSpac'+'e']=_0x374493,_0x4cdfba?(_0x428199['cull']=!(0x6a*-0x53+-0x1*0x21fb+-0x1*-0x4459),_0x428199['isVisibleF'+'unc']=_0x17d474):_0x428199['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x7f6+-0x188b+0x351*0x5]=0x1*0x829+0xc0+-0x8e8,this['_colorUnif'+'orm'][-0x66c+-0x35*0x95+0x2546]=-0x8fc+0x45d*-0x3+-0x585*-0x4,this['_colorUnif'+'orm'][0x5*0x789+-0x4*-0x359+-0x330f]=-0xa36+-0x5c1+0x1*0xff8):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x1*-0x1438+0x411*0x2+0xc16]=Me['r'],this['_colorUnif'+'orm'][0x3*-0x5e2+-0xd70+-0x17b*-0x15]=Me['g'],this['_colorUnif'+'orm'][-0x3*0x7f2+-0x2364+-0x1*-0x3b3c]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x1440+0x645+0xdfb]=-0xf85+-0x1*-0x2ff+0x643*0x2,this['_outlineCo'+'lorUniform'][-0x53e+0x96a+-0x42b]=-0x10f*0x16+0x8d8+0xe72,this['_outlineCo'+'lorUniform'][0x1a0a*-0x1+-0x6*0x2d2+-0x2af8*-0x1]=0x248a+0xdc2+-0x4a*0xae,this['_outlineCo'+'lorUniform'][-0x2*-0x815+-0x5*0x61b+-0xa*-0x170]=0x1*0x20af+-0x151*0xb+-0x1233):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x121c+0x10ea+0x132]=Me['r'],this['_outlineCo'+'lorUniform'][0x630+-0x1*0xdf+-0x550]=Me['g'],this['_outlineCo'+'lorUniform'][0x985+0x1e79*0x1+0x355*-0xc]=Me['b'],this['_outlineCo'+'lorUniform'][-0x1130+-0x1c10+-0x1*-0x2d43]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0xe*0x298+0x264+0x9ad*-0x4]=-0x18fc+-0x1eaa+0x37a6,this['_shadowCol'+'orUniform'][-0x151+-0x77*-0x39+-0x192d]=0xdeb*-0x1+-0x3*-0x44f+0xfe,this['_shadowCol'+'orUniform'][-0xe2*-0x13+0x1679*-0x1+0x5b5]=-0x1b2d+0x1d5e+-0x11*0x21,this['_shadowCol'+'orUniform'][0x2367+0xa99*-0x3+0x1*-0x399]=-0x1c9*-0xe+-0x210+-0x496*0x5):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x1803+0x1040+0x7c3]=Me['r'],this['_shadowCol'+'orUniform'][0x230c+-0x14fe*0x1+-0xb*0x147]=Me['g'],this['_shadowCol'+'orUniform'][-0x556*-0x7+0x1418+-0x1*0x3970]=Me['b'],this['_shadowCol'+'orUniform'][0x361*0x2+-0x811+0x2*0xa9]=Me['a']);}['_isWordBou'+'ndary'](_0x225b51){return fg['test'](_0x225b51);}['_isValidNe'+'xtChar'](_0x4ae605){return _0x4ae605!==null&&!IR['test'](_0x4ae605);}['_isNextCJK'+'Boundary'](_0x2f7dc4,_0x2bdece){return pg['test'](_0x2f7dc4)&&(fg['test'](_0x2bdece)||RR['test'](_0x2bdece));}['_isNextCJK'+'WholeWord'](_0x589429){return pg['test'](_0x589429);}['_updateMes'+'hes'](){const _0x14f5b7=this['_font']['data'],_0x183ec6=this,_0x13c272=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x29c3d1=this['_maxFontSi'+'ze'],_0x31f987=this['_shouldAut'+'oFit']();_0x31f987&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x3d288c=0x216+-0x1991+0x1*0x179b,_0x550e7d=this['_symbols']['length'];let _0x5d4f35=0x13c5+0x222a*-0x1+0xe65,_0x4f2324=0xf95+-0x2c8*0x7+0x1*0x3e3,_0x237e73=0x2d1*-0x1+-0x2*-0x12af+-0x228d,_0x457932=-0x4*-0x9a5+-0x67*0x25+-0x17b1,_0x24b650=-0x264+-0x1538+0x179d,_0x5868bd=-0x2ce+0x1836+-0x1568,_0xad757e=-0xbc3+0x3d*0x6b+0x6de*-0x2,_0xbf7f39=0x1375+-0xb*-0xfe+-0x1e5f,_0x51975a=0xb47+0x8f*-0x3d+-0x1*-0x16cc,_0x5b9901=0x1fe1*-0x1+-0x124*0x7+0x27dd*0x1,_0x31ca54=0x2668+-0x1f3*0x12+-0x2*0x1a9;const _0xa90f99=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x21af+0x2bd+0x2*0xf79+0.0001;let _0x2c336b=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0xa90f99||!this['_wrapLines'])&&(_0x2c336b=Number['POSITIVE_I'+'NFINITY']);let _0x3fb5be=-0x33a*0x2+0x40+-0x1*-0x634,_0x2ae42d=-0x35*-0x76+0xdbc*-0x1+-0xab2,_0x4e06fe,_0x9d97b8,_0x20e6e1,_0x27b3ab;function _0x5f565b(_0x1fd1cd,_0x38532a,_0x43b64b){_0x183ec6['_lineWidth'+'s']['push'](Math['abs'](_0x43b64b));const _0x1df59f=_0xbf7f39>_0x38532a?_0x38532a+(-0x5*0x32d+-0x1bb5*-0x1+-0xbd3):_0xbf7f39,_0x12a606=_0xbf7f39>_0x38532a?_0xbf7f39+(0x18c+-0x4df*-0x2+-0xb49):_0x38532a,_0x39df7e=_0x1fd1cd['slice'](_0x1df59f,_0x12a606);if(_0x31ca54){let _0x1cb080=_0x39df7e['length'];for(;_0x1cb080--&&_0x31ca54>-0x15c6+0x2587+-0xfc1;)ug['test'](_0x39df7e[_0x1cb080])&&(_0x39df7e['splice'](_0x1cb080,0x1a7d+0x7a1+-0x221d),_0x31ca54--);}_0x183ec6['_lineConte'+'nts']['push'](_0x39df7e['join']('')),_0x5d4f35=0x292*-0x5+-0xfb*0xb+-0x17a3*-0x1,_0x4f2324-=_0x183ec6['_scaledLin'+'eHeight'],_0x24b650++,_0x51975a=-0x101*-0x11+0x192*-0xb+0x35,_0x5b9901=-0x33d*0xa+-0x7d1+0x2833,_0x31ca54=-0x12f4+0x1219+-0x3*-0x49,_0x5868bd=-0x6*-0x3b6+-0xd*-0xa7+-0x1ebf,_0xbf7f39=_0x38532a;}let _0x33cc6b=!(-0x634+-0x2bb+-0x8ef*-0x1);for(;_0x33cc6b;){_0x33cc6b=!(0x1*-0xc1b+-0x26c8+-0x2*-0x1972),_0x31f987?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x1a53+0x912*0x2+-0x2c77+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0xf84*0x1+0x13b2+0x2*-0x217,this['height']=-0xa65+0x1ebb+-0x1456,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x5d4f35=0x3f2*-0x9+0x19d2+0x9b0,_0x4f2324=-0x3*0x5af+-0x9e7*0x1+0x1af4,_0x237e73=-0xbc*0x2+0x209*-0x11+0x2411,_0x457932=0xb6b*-0x2+0x1a17+-0x31*0x11,_0x24b650=0x12d1+0x1914+-0x2be4,_0x5868bd=0x1*-0x2261+0xfda+0x3*0x62d,_0xad757e=0x6*0x485+0x1*0x9fb+-0x2519,_0xbf7f39=-0xd15+-0x1aba+0x27cf,_0x51975a=-0x29*-0x2b+-0x46f+-0x274*0x1,_0x5b9901=0x2c5*-0x3+0x140b+-0x2*0x5de,_0x31ca54=-0x337+0xb03+-0x7cc;const _0x2f04cf=this['_fontSize']/_0x3d288c;_0x3fb5be=this['_fontMinY']*_0x2f04cf,_0x2ae42d=this['_fontMaxY']*_0x2f04cf;for(let _0x2b03be=0x8*-0x3b2+0xf14+0xe7c;_0x2b03be<this['_meshInfo']['length'];_0x2b03be++)this['_meshInfo'][_0x2b03be]['quad']=0x15f*0x2+-0x18f*0x12+0x1950,this['_meshInfo'][_0x2b03be]['lines']={};let _0x4d565d=0x964+-0x153b*0x1+0x1*0xcd6,_0x16cd91=0x4b9+-0x10ec+0xd32,_0x109905=-0x37b+-0x207c+-0x2*-0x127b,_0x2d086e=-0x942+0x775+-0x166*-0x2+(0x1*-0x3a3+0x3b5*-0x6+-0x6b8*-0x4)*(0x1b49+0x6b*0x5d+-0xadc*0x6),_0x6b4a5a=0x5*-0x82+-0x1c51+0x1fda+(-0x1a6b*0x1+-0x1c+0x1b86)*(0x12f+-0x1*-0x293+0x2*-0x161),_0x4578aa=0x1*-0x1c37+0x2*0x5f9+0x77*0x23,_0x1e0584=0xa3c+0x1c10+-0x254d+(-0x1*0x201f+0x1e9*0x3+0x1b63)*(0xb87*0x3+0x33*0x7f+-0x1*0x3ae2),_0x40a9b1=0xdb*-0x9+-0x1bb5+0x2467+(0x6a3*0x5+-0x1*0xa9+-0x1f87)*(0xe02+0x16a+-0xe6c),_0x401958=-0x9b1+0x110c+-0x1*0x6dc+(0xc6b+0x19be+0x12d5*-0x2)*(-0x17*-0x7a+0xaad+-0x14a3);for(let _0x55fa22=-0x1*-0x239b+-0x7*0x503+-0x86;_0x55fa22<_0x550e7d;_0x55fa22++){if(_0x4e06fe=this['_symbols'][_0x55fa22],_0x27b3ab=_0x55fa22+(0x242b+0x955*-0x1+-0x1ad5)>=_0x550e7d?null:this['_symbols'][_0x55fa22+(-0x1829+-0x6a4+0x2*0xf67)],ug['test'](_0x4e06fe)){_0x31ca54++,(!this['_wrapLines']||this['_maxLines']<-0x1*0x1ef3+-0xaf8+0x29eb||_0x24b650<this['_maxLines'])&&(_0x5f565b(this['_symbols'],_0x55fa22,_0x457932),_0xad757e=_0x55fa22+(-0x881*0x3+0x29f+-0x16e5*-0x1),_0xbf7f39=_0x55fa22+(-0x1*-0x10e4+0x1dab+-0x65*0x76));continue;}let _0x3620be=0x6b*-0x3f+0x20f3+0xb*-0x9a,_0xbb0169=-0x24b1+0x26f9*-0x1+0x4baa,_0x49cf80=0x1e2*-0x11+0x219b+-0x199*0x1,_0x1854cc=0x5c*0x50+0xe3c+-0x2afb,_0x4a7468,_0x5b6f42;if(_0x9d97b8=_0x14f5b7['chars'][_0x4e06fe],!_0x9d97b8){if(DR['indexOf'](_0x4e06fe)!==-(-0x21+-0x158b+0xb3*0x1f))_0x9d97b8=LR;else{if(_0x14f5b7['chars']['\x20'])_0x9d97b8=_0x14f5b7['chars']['\x20'];else for(const _0x569073 in _0x14f5b7['chars']){_0x9d97b8=_0x14f5b7['chars'][_0x569073];break;}_0x14f5b7['missingCha'+'rs']||(_0x14f5b7['missingCha'+'rs']=new Set()),_0x14f5b7['missingCha'+'rs']['has'](_0x4e06fe)||(console['warn']('Character\x20'+'\x27'+_0x4e06fe+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x14f5b7['info']['face']),_0x14f5b7['missingCha'+'rs']['add'](_0x4e06fe));}}if(_0x9d97b8){let _0x2aeb46=0x107c*-0x2+-0x2607+0x5*0xe33;if(_0x5b9901>0xf6b*-0x2+0x29*0xb5+0x1d9){const _0x482ec5=this['_font']['data']['kerning'];if(_0x482ec5){const _0x11735d=_0x482ec5[ah['getCodePoi'+'nt'](this['_symbols'][_0x55fa22-(0x90d+-0x159f+0x1d*0x6f)])||0x10*0x115+0xfe*0x2+-0x134c];_0x11735d&&(_0x2aeb46=_0x11735d[ah['getCodePoi'+'nt'](this['_symbols'][_0x55fa22])||-0x14bf+-0xf23+0x11f1*0x2]||-0x25c3+0x1939+0xc8a);}}_0x4a7468=_0x9d97b8['scale']||0x195d+-0xb6*0xd+-0x101e,_0x5b6f42=(_0x9d97b8['width']+_0x9d97b8['height'])/(0x12ff*0x1+-0x2601+0x1304),_0x1854cc=_0x2f04cf*_0x5b6f42/_0x4a7468,_0x49cf80=(_0x9d97b8['xadvance']+_0x2aeb46)*_0x2f04cf,_0x3620be=(_0x9d97b8['xoffset']-_0x2aeb46)*_0x2f04cf,_0xbb0169=_0x9d97b8['yoffset']*_0x2f04cf;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x4e06fe+'\x27');const _0x2685e1=PR['test'](_0x4e06fe),_0x2c18f6=_0x9d97b8&&_0x9d97b8['map']||-0x13*-0x1a2+0x1e2e*-0x1+0x48*-0x3,_0x249948=-this['_font']['data']['info']['maps'][_0x2c18f6]['width']/this['_font']['data']['info']['maps'][_0x2c18f6]['height'],_0x499b0c=this['_meshInfo'][_0x2c18f6],_0x3fb943=_0x5d4f35+this['_spacing']*_0x49cf80;if(_0x3fb943>_0x2c336b&&_0x5b9901>0x265*0x1+-0x341+0x16*0xa&&!_0x2685e1&&(this['_maxLines']<0x1*-0x16fa+-0xae6+0x21e0||_0x24b650<this['_maxLines'])){if(_0x51975a===0x22fe+-0x1e2b+0xf7*-0x5)_0xad757e=_0x55fa22,_0x5f565b(this['_symbols'],_0x55fa22,_0x457932);else{const _0x13ff5c=Math['max'](_0x55fa22-_0xad757e,0xdb1+0x1951*-0x1+0xba0);if(this['_meshInfo']['length']<=0x2f*-0xa4+-0xd*-0x1e+0x1c97)_0x499b0c['lines'][_0x24b650-(-0x4*-0x2ea+-0x10b1*-0x1+0x4*-0x716)]-=_0x13ff5c,_0x499b0c['quad']-=_0x13ff5c;else{const _0x2a80ee=_0xad757e,_0x3ea2b0=_0x55fa22;for(let _0x4b2999=_0x2a80ee;_0x4b2999<_0x3ea2b0;_0x4b2999++){const _0x36e868=this['_symbols'][_0x4b2999],_0x5f0ba0=_0x14f5b7['chars'][_0x36e868],_0x17a216=this['_meshInfo'][_0x5f0ba0&&_0x5f0ba0['map']||0x106c+-0x203c+0x17*0xb0];_0x17a216['lines'][_0x24b650-(-0x2542+0x8e2*-0x1+0x2e25)]-=0x25ff*-0x1+-0x1f15+0x4515,_0x17a216['quad']-=0x1bfc+0x1*0x217b+-0x3d76;}}_0x55fa22-=_0x13ff5c+(0x45*-0x18+-0x218*0xe+0x1*0x23c9),_0x5f565b(this['_symbols'],_0xad757e,_0x5868bd);continue;}}_0x20e6e1=_0x499b0c['quad'],_0x499b0c['lines'][_0x24b650-(-0x1*-0x393+-0x57b*0x1+0x1e9)]=_0x20e6e1;let _0x551237=_0x5d4f35-_0x3620be,_0x568fe6=_0x551237+_0x1854cc;const _0x1c595c=_0x4f2324-_0xbb0169,_0x14e5ed=_0x1c595c+_0x1854cc;if(this['_rtl']){const _0xdd4aaa=_0x1854cc-_0x3620be-this['_spacing']*_0x49cf80-_0x3620be;_0x551237-=_0xdd4aaa,_0x568fe6-=_0xdd4aaa;}_0x499b0c['positions'][_0x20e6e1*(0x5*0x277+-0x201b+0x4*0x4f3)*(-0x1*-0x228a+0x1c74+-0x3efb)+(-0xabb+0x92+0x33*0x33)]=_0x551237,_0x499b0c['positions'][_0x20e6e1*(-0x250a+0xe29+0x16e5)*(0xc44+0x219f+0x20*-0x16f)+(-0x1655+-0x351+-0x3*-0x88d)]=_0x1c595c,_0x499b0c['positions'][_0x20e6e1*(-0x926+0x1a1*-0x5+0x279*0x7)*(-0xe3d+0x483+0x9bd)+(0x1f2e+0x2309+-0x4235)]=_0x237e73,_0x499b0c['positions'][_0x20e6e1*(-0x527+0x2*-0x1011+-0x1*-0x254d)*(0x1f*-0xe7+-0x1acb+0x36c7*0x1)+(-0x92f+0x1769+-0xe37)]=_0x568fe6,_0x499b0c['positions'][_0x20e6e1*(-0x3e1+0x1988+-0x15a3)*(0x8f6+0x15*0x4c+-0xa9*0x17)+(-0x71*-0x11+-0x1b81+-0x15*-0xf4)]=_0x1c595c,_0x499b0c['positions'][_0x20e6e1*(-0x630+-0xbc0+-0x47d*-0x4)*(-0x1174+0x2c*0xb6+0x9*-0x189)+(0x3ab*-0x9+-0x10ed*0x1+0x31*0x105)]=_0x237e73,_0x499b0c['positions'][_0x20e6e1*(0x8ad*-0x1+-0x200*-0x4+0xb1*0x1)*(0x44+0xa40*0x3+-0x1f01)+(-0x9e9*0x3+-0x1*-0x2db+-0x2*-0xd73)]=_0x568fe6,_0x499b0c['positions'][_0x20e6e1*(0x2*-0x133a+0x9c*0x3b+0x284)*(-0x1530+0xd53+-0x54*-0x18)+(-0xb3d+-0x8af+0x13f3)]=_0x14e5ed,_0x499b0c['positions'][_0x20e6e1*(0x6*-0x5b5+0x402+0x2*0xf20)*(0x4*-0x989+-0x1814+-0x59*-0xb3)+(0x272*0xe+-0x17da+-0xa5a)]=_0x237e73,_0x499b0c['positions'][_0x20e6e1*(0x13be+-0x3b5*-0x2+-0x486*0x6)*(-0x22e0+0x1fbc+0x327)+(0xf49+0x282*-0xa+0x9d4)]=_0x551237,_0x499b0c['positions'][_0x20e6e1*(-0x1*0x137b+0x6*0x82+0x1073*0x1)*(-0x1e55+-0x13f7+0x324f)+(-0x1e8c+0x427*0x1+0x1a6f)]=_0x14e5ed,_0x499b0c['positions'][_0x20e6e1*(0x1085+-0x1a8*-0x1+-0x1*0x1229)*(0x151*0x5+-0x230f+0x1c7d)+(-0x15a4+-0x19aa+-0x11*-0x2c9)]=_0x237e73,this['width']=Math['max'](this['width'],_0x3fb943);let _0x4ee6c9;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x4ee6c9=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x15e6+0xfe+-0x16e4+0.0001)),_0x4ee6c9=N['clamp'](_0x4ee6c9,_0x13c272,_0x29c3d1),_0x4ee6c9!==this['_element']['fontSize'])){this['_fontSize']=_0x4ee6c9,_0x33cc6b=!(0x10ad+0x68b+0xb9c*-0x2);break;}if(this['height']=Math['max'](this['height'],_0x2ae42d-(_0x4f2324+_0x3fb5be)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x4ee6c9=N['clamp'](this['_fontSize']-(-0x4eb*-0x6+-0x1ceb+0x5*-0x1e),_0x13c272,_0x29c3d1),_0x4ee6c9!==this['_element']['fontSize'])){this['_fontSize']=_0x4ee6c9,_0x33cc6b=!(-0x1*0xeaa+-0xb4e+0x19f8);break;}_0x5d4f35+=this['_spacing']*_0x49cf80,_0x2685e1||(_0x457932=_0x5d4f35),(this['_isWordBou'+'ndary'](_0x4e06fe)||this['_isValidNe'+'xtChar'](_0x27b3ab)&&(this['_isNextCJK'+'Boundary'](_0x4e06fe,_0x27b3ab)||this['_isNextCJK'+'WholeWord'](_0x27b3ab)))&&(_0x51975a++,_0x5868bd=_0x457932,_0xad757e=_0x55fa22+(-0x2135+0x3fa*-0x1+0x1*0x2530)),_0x5b9901++;const _0x214eeb=this['_getUv'](_0x4e06fe);if(_0x499b0c['uvs'][_0x20e6e1*(0x1faf+-0xc6e+-0x19*0xc5)*(-0x23ab+0x19f8+-0x1f1*-0x5)+(0x1fc4+0x263d+-0x4601*0x1)]=_0x214eeb[0x14*-0x17c+-0x8de+0x46*0x8d],_0x499b0c['uvs'][_0x20e6e1*(0x25*-0x82+-0x92*-0x38+0x29*-0x52)*(0x2*0x101+0x2289+-0x2489)+(-0x2*-0x121e+-0xd*-0x257+0x1*-0x42a6)]=-0x14f3*0x1+0x1690+-0x2*0xce-_0x214eeb[-0x3af+-0x20e+-0x5be*-0x1],_0x499b0c['uvs'][_0x20e6e1*(-0x59*-0x9+0x86f+-0x2e3*0x4)*(0x1220+0x388*0x2+-0x192e)+(0x18ec+0xf5f+-0x2849)]=_0x214eeb[-0xcf*-0x22+0x1*0x16f9+-0x3275],_0x499b0c['uvs'][_0x20e6e1*(-0x7b7*-0x5+-0x19c7*-0x1+-0x4056)*(-0x167+-0x524+-0x81*-0xd)+(0x26bb+0x1d*0x5+-0x2749)]=-0x1d58+-0x1*0x1526+-0x1*-0x327f-_0x214eeb[-0x1*-0x1f49+-0x1*-0x1ab1+-0x9*0x671],_0x499b0c['uvs'][_0x20e6e1*(0x7*0xc9+0x1c66+0x3b*-0x93)*(-0x1*0x427+-0x18b*-0xc+-0xe5b)+(0x2a*-0x7b+0xccb+0x767)]=_0x214eeb[-0x1e79+0x12a*-0xd+0x2d9d],_0x499b0c['uvs'][_0x20e6e1*(0x1537+-0x1b4f+0x61c)*(0x1ec*-0xf+0x24ca+0x3fa*-0x2)+(-0x7d2+0x107+0x368*0x2)]=-0x270*-0xd+0x114d+0x5*-0x9cc-_0x214eeb[-0x136d+-0x1*-0x42d+0x1*0xf43],_0x499b0c['uvs'][_0x20e6e1*(-0x1061+-0x166e+-0x26d3*-0x1)*(0x191d+0x2df+0x1bfa*-0x1)+(-0xc32+0x130e*0x2+-0x19e4)]=_0x214eeb[0x803+-0x3*0x937+-0x7*-0x2ce],_0x499b0c['uvs'][_0x20e6e1*(0x1c96+-0xe02+-0xe90)*(0x35*-0x59+-0x15ce*-0x1+-0x35f)+(-0x71b*0x5+0x16a9+0xce5)]=-0x258b+-0x19*0x8d+-0x57*-0x97-_0x214eeb[0x397*-0xa+0x4b5*-0x7+0x1*0x44dc],this['_symbolCol'+'ors']){const _0x5c2ab9=this['_symbolCol'+'ors'][_0x55fa22]*(-0x2182+-0x1*-0x16eb+0xa9a);_0x4d565d=this['_colorPale'+'tte'][_0x5c2ab9],_0x16cd91=this['_colorPale'+'tte'][_0x5c2ab9+(0x1*-0x232f+0xc88+0x16a8)],_0x109905=this['_colorPale'+'tte'][_0x5c2ab9+(-0xa*-0xe9+0x3d*0x4f+-0x1*0x1beb)];}if(_0x499b0c['colors'][_0x20e6e1*(0x20b*0xb+-0x563+-0x2e*0x5f)*(0x1a*0x21+-0x41*0x94+0xb6a*0x3)+(0x98*-0x5+0xc5a+-0x962)]=_0x4d565d,_0x499b0c['colors'][_0x20e6e1*(0x32b+0x13ca+-0x347*0x7)*(-0xc02*-0x1+0x178c+-0x238a)+(0x254c+0x1abf+-0x400a)]=_0x16cd91,_0x499b0c['colors'][_0x20e6e1*(0x1a3*-0x3+0x18b2+-0x13c5)*(-0x1a47+-0x11*0x1f3+0x3b6e)+(-0x1ddd+0x1*-0x1f7f+-0xc46*-0x5)]=_0x109905,_0x499b0c['colors'][_0x20e6e1*(-0x39*0x26+0xe37+-0x5bd)*(-0x2*-0xbfc+-0x12f+-0x57*0x43)+(0x242+-0x55*0x44+0x6c7*0x3)]=-0x1a2*0x16+0x1*0x1985+0xb66,_0x499b0c['colors'][_0x20e6e1*(0x2703+0xd*-0x1f7+0x6ba*-0x2)*(0x25f3+0xf65*0x1+0x1aaa*-0x2)+(0x2460+-0x12d5+-0x1187)]=_0x4d565d,_0x499b0c['colors'][_0x20e6e1*(0x1754+0x739+0x1e89*-0x1)*(-0x7*0x425+-0xbf*0x2f+0x4018)+(0x10af+0x117c+-0x2226)]=_0x16cd91,_0x499b0c['colors'][_0x20e6e1*(0x4d7*0x3+0xbb5+-0x1a36)*(-0x1*0x1b29+-0x5e0*0x1+0x210d)+(0x1983+0xdfe+-0x277b)]=_0x109905,_0x499b0c['colors'][_0x20e6e1*(0x1*0x295+-0x2ba*0x1+0x29)*(-0x1*0xa3+0x20a+-0x163)+(-0x576+-0xa7b+-0x38*-0x49)]=0x574*0x7+0x1b7*-0x13+-0x126*0x4,_0x499b0c['colors'][_0x20e6e1*(-0x95c+0x3*0xbf9+-0x1a8b)*(-0x2*-0x8ef+-0x275*-0x1+-0x144f)+(-0x1*0x1a74+0xb45+0xcd*0x13)]=_0x4d565d,_0x499b0c['colors'][_0x20e6e1*(0x1*0x445+0x1588+0x7*-0x3af)*(-0x1*0xe78+0x25*0x39+0x63f)+(-0x146f*0x1+-0xa0d*-0x3+0x25*-0x43)]=_0x16cd91,_0x499b0c['colors'][_0x20e6e1*(-0x11d1+0x6*0x1df+0x1*0x69b)*(0xf*0xad+0x403+0xe22*-0x1)+(-0x25f4+-0x7c*0x40+-0x1*-0x44fe)]=_0x109905,_0x499b0c['colors'][_0x20e6e1*(-0xc*0x19+0x1*-0x3ae+0x2*0x26f)*(0x1ccc+0x1d8*0x9+-0x2d60)+(-0xa64+0x2339+-0x18ca)]=-0x2361*0x1+-0x1*-0x49b+-0x1*-0x1fc5,_0x499b0c['colors'][_0x20e6e1*(0xf*0x2+0x125d*-0x1+0x1243)*(-0x2306+0x195f+0xe1*0xb)+(-0x662+-0x1*0x1f49+0x25b7*0x1)]=_0x4d565d,_0x499b0c['colors'][_0x20e6e1*(0x1abf+-0x20db*-0x1+0x20e*-0x1d)*(0x10d0+0x14c1*0x1+-0x258d*0x1)+(0x833+-0x493*-0x5+-0xa57*0x3)]=_0x16cd91,_0x499b0c['colors'][_0x20e6e1*(-0x2162+-0x1*0x1b1f+-0x3c85*-0x1)*(0x17dc+-0x11cd+-0x60b)+(-0x1*-0x4c7+0x1*-0x1bd7+0x21a*0xb)]=_0x109905,_0x499b0c['colors'][_0x20e6e1*(0x35*0x18+-0x947+-0x453*-0x1)*(-0x2074+0x4d5*0x3+0x2b*0x6b)+(0x1*-0x6c3+0xbbb+-0x1a3*0x3)]=-0x1*-0x443+0xeb0+0x8fa*-0x2,this['_symbolOut'+'lineParams']){const _0x411c17=this['_symbolOut'+'lineParams'][_0x55fa22]*(-0xb0b+0x420+0x6f0);_0x2d086e=this['_outlinePa'+'lette'][_0x411c17]+this['_outlinePa'+'lette'][_0x411c17+(0x309*-0x8+-0x15e9+0x1b6*0x1b)]*(-0x947+-0x8ef*-0x1+-0x1*-0x158),_0x6b4a5a=this['_outlinePa'+'lette'][_0x411c17+(0x27*-0x17+0x1eeb+0x4*-0x6da)]+this['_outlinePa'+'lette'][_0x411c17+(0x3*-0x8bf+-0x15e7+0x7*0x6e1)]*(-0x1b6d+0x685*-0x3+0x2ffc),_0x4578aa=this['_outlinePa'+'lette'][_0x411c17+(0xb*0x2a5+-0x1d9*-0x5+-0x994*0x4)];}if(_0x499b0c['outlines'][_0x20e6e1*(-0x1*-0xb1d+-0x1183*-0x1+-0x2*0xe4e)*(0x1*-0x2296+0x1712+-0xd*-0xe3)+(0xf3*0xa+-0x15ad+0xc2f)]=_0x2d086e,_0x499b0c['outlines'][_0x20e6e1*(-0x10ab*-0x1+-0x2*0xe7+-0xed9)*(0xe55*0x2+-0xa48+-0x125f)+(-0x91e*0x4+0x5c1+-0x4*-0x7ae)]=_0x6b4a5a,_0x499b0c['outlines'][_0x20e6e1*(0xd50+-0x19e3+0xc97)*(0x1*-0x14e5+-0x10bf*0x1+0x561*0x7)+(-0x2*-0x11da+0x76*-0xd+-0x1db4*0x1)]=_0x4578aa,_0x499b0c['outlines'][_0x20e6e1*(-0xa8b*0x2+-0x1bfb+0x7*0x703)*(-0x1ce5+0x1a9*0xf+0x401)+(0x823*-0x2+0x8*-0x481+0x3451)]=_0x2d086e,_0x499b0c['outlines'][_0x20e6e1*(0xc2f*0x1+0x1653+-0x227e)*(-0x255e+0x1*-0x1654+0x5*0xbf1)+(-0x65*0x1d+-0x18c1+0x2436)]=_0x6b4a5a,_0x499b0c['outlines'][_0x20e6e1*(0x26bb+0x4*-0x156+-0x215f)*(0x1fbe+-0x1a1c+-0x59f)+(0x13bb+0x1*-0x21e5+0xe2f*0x1)]=_0x4578aa,_0x499b0c['outlines'][_0x20e6e1*(-0x100f+-0x49*0x3a+0x79*0x45)*(-0x1370+-0x2426+0x3799)+(-0x12d9+0x1d2a*0x1+0x1f*-0x55)]=_0x2d086e,_0x499b0c['outlines'][_0x20e6e1*(-0x2*-0x1001+0x40f*0x7+0x7*-0x8a1)*(0x1e84+0x2*0x88f+-0x2f9f)+(-0x156c+-0xa4*0xf+0x1f0f)]=_0x6b4a5a,_0x499b0c['outlines'][_0x20e6e1*(0x14c9+0x1632+0x2af7*-0x1)*(-0x2*-0x42d+0x1bda+-0x2431)+(0x13*0x12d+-0x1e47+0x7f8)]=_0x4578aa,_0x499b0c['outlines'][_0x20e6e1*(0x3df*-0x9+0x55*-0x9+0x25d8)*(-0xd8e+-0x6*0x10f+0x13eb)+(-0x137+-0x3f*0x3b+0xb*0x16f)]=_0x2d086e,_0x499b0c['outlines'][_0x20e6e1*(0x6*-0x76+0xf08+-0xc40)*(0x1d*0x2+-0x1*0x2456+0x1*0x241f)+(-0x15a9+0x9b8+0xbfb)]=_0x6b4a5a,_0x499b0c['outlines'][_0x20e6e1*(0x116e+-0x2419+0x1*0x12af)*(0x132b+0x6a5+-0x19cd*0x1)+(0x563*0x7+-0x64c+-0x1f5e)]=_0x4578aa,this['_symbolSha'+'dowParams']){const _0x4b8d37=this['_symbolSha'+'dowParams'][_0x55fa22]*(0x2387+-0x22a8+-0xd9);_0x1e0584=this['_shadowPal'+'ette'][_0x4b8d37]+this['_shadowPal'+'ette'][_0x4b8d37+(-0x3ce+-0xcd0+0x17*0xb9)]*(0x22a2+0x10fb+-0x7*0x73b),_0x40a9b1=this['_shadowPal'+'ette'][_0x4b8d37+(-0x25*0xc7+0x1*-0x1979+-0x35*-0x106)]+this['_shadowPal'+'ette'][_0x4b8d37+(-0x1*-0x943+0x64d*-0x1+-0x2f3)]*(0x83*0xb+-0x81+-0x420),_0x401958=this['_shadowPal'+'ette'][_0x4b8d37+(-0x162*-0x1+-0xbaa*-0x1+-0xd08)]+(0xb17+0x1*0x793+-0x122b)+Math['round'](_0x249948*this['_shadowPal'+'ette'][_0x4b8d37+(-0x6d*-0x4b+-0x15d*0xe+-0xcd4)]+(0x16d*-0x7+-0x1*0x1c64+-0x18e*-0x19))*(0x19c+-0x2277+0x21db);}_0x499b0c['shadows'][_0x20e6e1*(0x2169+-0x191f*-0x1+-0x3a84)*(-0x4*0xc+-0xb8+0xeb)+(-0x888+0x17*-0x163+-0x83*-0x4f)]=_0x1e0584,_0x499b0c['shadows'][_0x20e6e1*(-0x7*0xfb+-0x46d+0xb4e)*(-0x3c*0x3+-0x1fa9+0xe0*0x25)+(-0x649+-0x1da2+0x23ec)]=_0x40a9b1,_0x499b0c['shadows'][_0x20e6e1*(0x16f*-0xe+0x25*0x26+-0x8*-0x1d3)*(-0x1eb3+0x15eb*-0x1+-0x118b*-0x3)+(-0x5d3*0x1+0x1e0+0x3f5)]=_0x401958,_0x499b0c['shadows'][_0x20e6e1*(0x1f1*-0x2+0x1bcd+-0x17e7)*(0x76+-0x1822+0x17af)+(-0x1208+0x1*-0xfad+-0x34*-0xa6)]=_0x1e0584,_0x499b0c['shadows'][_0x20e6e1*(0x54c+0x1727+0x1c6f*-0x1)*(-0x1740+-0x92*0xa+0x1*0x1cf7)+(0x4fc+0x1cf*0x3+-0xa65)]=_0x40a9b1,_0x499b0c['shadows'][_0x20e6e1*(-0x95f*-0x1+0x481+-0xddc*0x1)*(0x784*-0x3+0x5c0*0x5+0x13d*-0x5)+(-0x7c7*0x2+-0x7ca+-0x1*-0x175d)]=_0x401958,_0x499b0c['shadows'][_0x20e6e1*(0xd7f+0x13d3+-0x1d*0x126)*(0x3dd+0x1e5d+-0x1*0x2237)+(-0x675*0x1+0x7e0+-0x165)]=_0x1e0584,_0x499b0c['shadows'][_0x20e6e1*(0x5a*0x4b+-0xc7f+-0xddb)*(-0x827*-0x4+0x29f*-0x2+-0x1b5b)+(0x11f8+-0x8c5+-0x496*0x2)]=_0x40a9b1,_0x499b0c['shadows'][_0x20e6e1*(0x1018+-0x1*-0x1a24+-0x2a38)*(-0x3*0xb47+0x61a+0x1bbe)+(-0x1*0x342+0xf4d+0x401*-0x3)]=_0x401958,_0x499b0c['shadows'][_0x20e6e1*(0x6*-0x5d1+0x8c*0x11+0x199e*0x1)*(0x95f+-0x9eb+0x8f)+(0x2*0xa11+-0x1598+0x17f)]=_0x1e0584,_0x499b0c['shadows'][_0x20e6e1*(0xd7*0x19+-0x7*-0xef+0x496*-0x6)*(-0x3*-0xa28+0x13*-0x5a+-0x17c7)+(0x5fb*-0x3+0x1077+0x184)]=_0x40a9b1,_0x499b0c['shadows'][_0x20e6e1*(0xb92*0x2+-0x1*-0xf83+0xce1*-0x3)*(0xcb+0xcf4+-0x3*0x494)+(-0x18eb+0x1d6e*-0x1+0x3664)]=_0x401958,_0x499b0c['quad']++;}_0x33cc6b||_0xbf7f39<_0x550e7d&&_0x5f565b(this['_symbols'],_0x550e7d,_0x5d4f35);}this['_noResize']=!(0x21b6+0x233b+-0x44f1),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0xf*-0x6b+0x2f*0xca+-0x1ed0);const _0xe56d44=this['_element']['pivot']['x'],_0x5d0f5a=this['_element']['pivot']['y'],_0x374a43=this['_alignment']['x'],_0xf6bb60=this['_alignment']['y'];for(let _0xb51fd5=-0x859+-0xba*0x15+-0x179b*-0x1;_0xb51fd5<this['_meshInfo']['length'];_0xb51fd5++){if(this['_meshInfo'][_0xb51fd5]['count']===0x12c1+0x1*0x1add+0x16cf*-0x2)continue;let _0x44e0ee=0x924+0x92a+0x927*-0x2;for(const _0x2a1df8 in this['_meshInfo'][_0xb51fd5]['lines']){const _0x2f2d8f=this['_meshInfo'][_0xb51fd5]['lines'][_0x2a1df8],_0x7d993f=this['_lineWidth'+'s'][parseInt(_0x2a1df8,0x1*0x1619+-0x1621+0x12)],_0xcfe627=-_0xe56d44*this['_element']['calculated'+'Width']+_0x374a43*(this['_element']['calculated'+'Width']-_0x7d993f)*(this['_rtl']?-(-0x1290+0x5*0x6f+0x1066):0x3*0x8a5+0x2283+0x3c71*-0x1),_0x2b492e=(-0x35*-0x4f+-0x23c3+0x1*0x1369-_0x5d0f5a)*this['_element']['calculated'+'Height']-_0x2ae42d-(-0x4bd*-0x7+0x98e+0x557*-0x8-_0xf6bb60)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x42a7ee=_0x44e0ee;_0x42a7ee<=_0x2f2d8f;_0x42a7ee++)this['_meshInfo'][_0xb51fd5]['positions'][_0x42a7ee*(0x3*0x61+0x131*-0x2+0x1*0x143)*(0x1ba8+0x1789*-0x1+-0x41c)]+=_0xcfe627,this['_meshInfo'][_0xb51fd5]['positions'][_0x42a7ee*(-0x22d9+-0x63*-0x2e+0x1113)*(0x5*0x3df+0xca*-0x26+0xaa4)+(0x2*-0x8ce+-0x670+0x180f)]+=_0xcfe627,this['_meshInfo'][_0xb51fd5]['positions'][_0x42a7ee*(-0x84a+0x219b+-0x33*0x7f)*(-0x1286+0x2*-0x153+-0x1d*-0xbb)+(0x1*0x1bbb+-0x1*0x1331+-0x884)]+=_0xcfe627,this['_meshInfo'][_0xb51fd5]['positions'][_0x42a7ee*(-0x23b9+-0xb2c+-0x3*-0xfa3)*(-0x585+-0x2ea*0x4+0x1130)+(-0x1*-0x709+0x1a40+-0x2140)]+=_0xcfe627,this['_meshInfo'][_0xb51fd5]['positions'][_0x42a7ee*(0x589+0x1*0xc25+0x85*-0x22)*(0x1*-0x1a7c+-0x155+-0x1a*-0x112)+(0xd*0x7+-0xb7b*-0x1+-0xbd5)]+=_0x2b492e,this['_meshInfo'][_0xb51fd5]['positions'][_0x42a7ee*(-0xd67*-0x2+0x6a0*-0x1+-0x142a)*(-0x1a*0x11c+-0x2014*0x1+0x13*0x335)+(-0x4+0x2*0x10f+-0x216)]+=_0x2b492e,this['_meshInfo'][_0xb51fd5]['positions'][_0x42a7ee*(0x59*-0x36+0x5*-0x792+0x64*0x91)*(0x97f*-0x2+-0x1bf+-0x14c0*-0x1)+(0x3f5*-0x2+-0x15f*-0xf+-0x2*0x650)]+=_0x2b492e,this['_meshInfo'][_0xb51fd5]['positions'][_0x42a7ee*(-0x1136+0x179e+0x332*-0x2)*(0x1*0x943+0x1*-0xbd5+0x295)+(-0x231e+0x2d1*-0x7+-0xb*-0x4fd)]+=_0x2b492e;if(this['_rtl'])for(let _0x56538d=_0x44e0ee;_0x56538d<=_0x2f2d8f;_0x56538d++){const _0x422060=_0x56538d*(0x1d*0x5+-0x139c+-0x29*-0x77)*(0xcbf+0x168b+-0x1*0x2347);for(let _0x45c2c3=-0xcab+-0x2493+0x313e;_0x45c2c3<-0x2430+-0x18f6+0x3d2a;++_0x45c2c3)this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+_0x45c2c3*(-0x26e1+-0x42*0x2+-0x308*-0xd)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+_0x45c2c3*(0x7e5+0x1*-0x611+0x1d1*-0x1)]+_0xcfe627*(0x7*0x281+-0xfb6+-0x1cf);const _0x11a4d0=this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+(0xdbf+-0x12bf*0x2+0xbe1*0x2)],_0x3c30eb=this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+(-0x1c64+0x6ba+0x4*0x56c)];this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+(-0x1529+0x217*-0x8+0x1*0x25e4)]=this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+(-0x262e+-0x90c+0x193*0x1e)],this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+(0x2*-0x7f1+0xea9+0x13f)]=this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+(-0x32c+-0x1*0x19ed+0x1d22)],this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+(-0x1*-0xb2+0x18ae+0x1c*-0xe8)]=_0x11a4d0,this['_meshInfo'][_0xb51fd5]['positions'][_0x422060+(0x177f+-0x16c3+-0xb3)]=_0x3c30eb;}_0x44e0ee=_0x2f2d8f+(0x2*0xd79+-0x11*-0x1df+-0x3ac0);}const _0x2e4a3c=this['_meshInfo'][_0xb51fd5]['count']*(0x17e2+-0x120d*-0x1+-0x29eb),_0x12415e=this['_meshInfo'][_0xb51fd5]['quad']*(0x22bb+0x3d6+0x8b*-0x47),_0x37656c=new go(this['_meshInfo'][_0xb51fd5]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x45d9ec=0x19ed+0x161e+-0x300b;_0x45d9ec<_0x2e4a3c;_0x45d9ec++)_0x45d9ec>=_0x12415e?(_0x37656c['element'][He]['set'](0x1d07+0x1*0x152+-0x1e59,0x80+-0x1*0x866+0x7e6,-0xa9*-0x1b+0xba1+-0x1d74*0x1),_0x37656c['element'][ns]['set'](0x1a98*0x1+-0x3c*0x7d+0xad*0x4,-0x238d+0x164e+0xd3f*0x1),_0x37656c['element'][At]['set'](-0x1ca8+0x4c7*-0x3+0x5*0x899,0xd09+-0x6ee*0x3+-0x5*-0x18d,-0x60b+-0xccf*-0x3+-0xa*0x33d,-0x19cd+0x26ee+-0xd21),_0x37656c['element'][Po]['set'](0x7*0x279+-0x9ff*0x2+-0x2af*-0x1,0x4b6+-0x230+-0x286,-0x80*-0x34+0xde2+0x3fd*-0xa,-0x3*-0x57d+0x2*0xed5+-0x2e21),_0x37656c['element'][Ro]['set'](-0x1*-0x626+-0x1e3a+0x1814,0x1f08+0x5a6+-0x24ae,0xc0b+-0x1*0xfe5+-0x1*-0x3da,-0x2*-0x1355+0x9a1*0x1+-0x304b)):(_0x37656c['element'][He]['set'](this['_meshInfo'][_0xb51fd5]['positions'][_0x45d9ec*(0x7*-0x3c6+0x1f*-0xe9+0x36a4)+(-0x1a91+0x1*-0x2295+0x3d26)],this['_meshInfo'][_0xb51fd5]['positions'][_0x45d9ec*(-0xd*0x6d+0xa*0x30f+-0x190a)+(0x140e+0x99*0x41+-0x3*0x13a2)],this['_meshInfo'][_0xb51fd5]['positions'][_0x45d9ec*(-0x2600+0x8ef+0x1d14)+(-0x22c6*-0x1+0x8d3+-0x2b97)]),_0x37656c['element'][ns]['set'](this['_meshInfo'][_0xb51fd5]['uvs'][_0x45d9ec*(0x2522+0x568+0x1544*-0x2)+(-0x30+-0x1abb+0x1aeb*0x1)],this['_meshInfo'][_0xb51fd5]['uvs'][_0x45d9ec*(0x50c+0x2445*-0x1+0xc3*0x29)+(-0x607*-0x3+0x1426+-0x263a)]),_0x37656c['element'][At]['set'](this['_meshInfo'][_0xb51fd5]['colors'][_0x45d9ec*(-0x1e28+0x135*0xf+0xc11)+(-0x17*-0x170+-0x16cd*0x1+-0xa43)],this['_meshInfo'][_0xb51fd5]['colors'][_0x45d9ec*(-0x1*-0x137e+0x1ab1+-0x2e2b)+(-0x26*0xe2+-0x1*-0x210d+0x8*0x10)],this['_meshInfo'][_0xb51fd5]['colors'][_0x45d9ec*(0x17db+-0x1*0x34c+-0x148b)+(-0x2c*-0x32+0x1*-0xbbd+-0x1*-0x327)],this['_meshInfo'][_0xb51fd5]['colors'][_0x45d9ec*(-0x1eb6+0x267d+-0x7c3)+(0x1*0x259b+0x3*-0xa45+-0x3*0x243)]),_0x37656c['element'][Po]['set'](this['_meshInfo'][_0xb51fd5]['outlines'][_0x45d9ec*(-0x2*0xeb9+-0x1581+0x32f6)+(0x1897+0x1*-0x246+-0x1651)],this['_meshInfo'][_0xb51fd5]['outlines'][_0x45d9ec*(0x1799+-0x12*-0x118+-0x15a3*0x2)+(0x1*-0xfd1+-0x1256*0x2+0x2*0x1a3f)],this['_meshInfo'][_0xb51fd5]['outlines'][_0x45d9ec*(-0x17ce+0x1463+0x36e)+(0x3f*0x7+0x2*0x12cb+-0x1*0x274d)]),_0x37656c['element'][Ro]['set'](this['_meshInfo'][_0xb51fd5]['shadows'][_0x45d9ec*(-0x24ad*0x1+0x23b3*-0x1+0x4863)+(0x2425+0x258d*0x1+0x24d9*-0x2)],this['_meshInfo'][_0xb51fd5]['shadows'][_0x45d9ec*(-0x48*-0x63+-0xd2e+-0x1*0xea7)+(-0x27+-0xdf5+0xe1d)],this['_meshInfo'][_0xb51fd5]['shadows'][_0x45d9ec*(0xba*-0xd+0x8*-0x21a+0x1a45)+(0x1*0x1875+-0xf15+-0x95e)])),_0x37656c['next']();_0x37656c['end'](),this['_meshInfo'][_0xb51fd5]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0xb51fd5]['positions']),this['_meshInfo'][_0xb51fd5]['meshInstan'+'ce']['_aabbVer']=-(0x1aef+0x56*-0x5f+-0x3a*-0x16);}this['_aabbDirty']=!(-0x22ae+0x11a5+0x1109);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x304304){this['font']!==_0x304304['resource']&&(this['font']=_0x304304['resource']);}['_onFontCha'+'nge'](_0x56b124,_0x3e08c3,_0x43ea15,_0x57cde0){if(_0x3e08c3==='data'){this['_font']['data']=_0x43ea15;const _0x14683d=this['_font']['data']['info']['maps']['length'];for(let _0xaf434c=-0x212+0xc*0x2cc+0x3a*-0x8b;_0xaf434c<_0x14683d;_0xaf434c++){if(!this['_meshInfo'][_0xaf434c])continue;const _0x19b130=this['_meshInfo'][_0xaf434c]['meshInstan'+'ce'];_0x19b130&&(_0x19b130['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x19b130['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x19b130['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0xaf434c]['width']));}}}['_onFontRem'+'ove'](_0x4b33ac){}['_setTextur'+'eParams'](_0x359142,_0x5770a4){this['_font']&&(this['_font']['type']===Kh?(_0x359142['deletePara'+'meter']('texture_em'+'issiveMap'),_0x359142['deletePara'+'meter']('texture_op'+'acityMap'),_0x359142['setParamet'+'er']('texture_ms'+'dfMap',_0x5770a4)):this['_font']['type']===yR&&(_0x359142['deletePara'+'meter']('texture_ms'+'dfMap'),_0x359142['setParamet'+'er']('texture_em'+'issiveMap',_0x5770a4),_0x359142['setParamet'+'er']('texture_op'+'acityMap',_0x5770a4)));}['_getPxRang'+'e'](_0x5e9563){const _0x4d13f5=Object['keys'](this['_font']['data']['chars']);for(let _0x620f09=0x2c5*-0x4+0x1*0x20fa+0x2*-0xaf3;_0x620f09<_0x4d13f5['length'];_0x620f09++){const _0x1bc2cc=this['_font']['data']['chars'][_0x4d13f5[_0x620f09]];if(_0x1bc2cc['range'])return(_0x1bc2cc['scale']||-0x22a3*0x1+-0x18*0x133+-0x42*-0xf6)*_0x1bc2cc['range'];}return-0x3*-0x74a+-0x1*-0x25ff+-0x3bdb;}['_getUv'](_0x20393a){const _0x2cfcb3=this['_font']['data'];if(!_0x2cfcb3['chars'][_0x20393a]){const _0x4d57de='\x20';return _0x2cfcb3['chars'][_0x4d57de]?this['_getUv'](_0x4d57de):[0x258b*-0x1+-0x220f*-0x1+0x37c,0x859*0x4+-0x4b2*-0x1+-0x2616,-0x1*0x859+-0x13d8+0x407*0x7,0xf7f+-0x62f*-0x5+-0x2e6a];}const _0x59dc0e=_0x2cfcb3['chars'][_0x20393a]['map'],_0x3ef69a=_0x2cfcb3['info']['maps'][_0x59dc0e]['width'],_0x4b05c3=_0x2cfcb3['info']['maps'][_0x59dc0e]['height'],_0x10dba5=_0x2cfcb3['chars'][_0x20393a]['x'],_0x1f1253=_0x2cfcb3['chars'][_0x20393a]['y'],_0x2bf1e7=_0x10dba5,_0x598468=_0x1f1253,_0x42cff4=_0x10dba5+_0x2cfcb3['chars'][_0x20393a]['width'],_0x555d6d=_0x1f1253-_0x2cfcb3['chars'][_0x20393a]['height'],_0x4ed4ec=-0x73a+-0x5a1+0x66e*0x2-_0x2cfcb3['chars'][_0x20393a]['height']/_0x4b05c3;return[_0x2bf1e7/_0x3ef69a,_0x4ed4ec-_0x598468/_0x4b05c3,_0x42cff4/_0x3ef69a,_0x4ed4ec-_0x555d6d/_0x4b05c3];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x1a76+-0x952+0x23c8),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x1304*0x2+0x1105+-0x370c),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x1708b8){if(this['_model']){const _0x114bc4=this['_model']['meshInstan'+'ces'];for(let _0x13b947=0x2453+-0x23a*0x2+-0x1fdf;_0x13b947<_0x114bc4['length'];_0x13b947++)_0x114bc4[_0x13b947]['stencilFro'+'nt']=_0x1708b8,_0x114bc4[_0x13b947]['stencilBac'+'k']=_0x1708b8;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x24f6f2){const _0xc53cc6={};_0x24f6f2===void(0x1736*0x1+0x2246+-0x397c)&&(_0x24f6f2=this['_symbols']['length']);for(let _0x2c00da=0xd3+0x21d6*-0x1+-0x3ab*-0x9,_0x47fa76=_0x24f6f2;_0x2c00da<_0x47fa76;_0x2c00da++){const _0x545df1=this['_symbols'][_0x2c00da];let _0x2ab30a=this['_font']['data']['chars'][_0x545df1];_0x2ab30a||(_0x2ab30a=this['_font']['data']['chars']['\x20'],_0x2ab30a||(_0x2ab30a=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x7b4+-0x3*-0x334+-0x1e8]]));const _0x150083=_0x2ab30a['map'];_0xc53cc6[_0x150083]?_0xc53cc6[_0x150083]++:_0xc53cc6[_0x150083]=-0x1460+-0xe9d+0x22fe;}return _0xc53cc6;}['_updateRen'+'derRange'](){const _0x5815a6=this['_rangeStar'+'t']===0x2261+-0xe30*-0x1+-0x3091?-0x1*0x1f24+-0x2b*-0xa2+0x3ee:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x3bcc2c=this['_rangeEnd']===0x2447+0x6b1+-0x2af8?0xa4*-0xb+-0x11d7+0x18e3:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x1e5c72=0xeba+0x21d2+-0x308c,_0xf5f492=this['_meshInfo']['length'];_0x1e5c72<_0xf5f492;_0x1e5c72++){const _0x5d200a=_0x5815a6[_0x1e5c72]||-0x2*-0x5fc+-0x1388+0x4*0x1e4,_0x58668d=_0x3bcc2c[_0x1e5c72]||-0x4*0x80+0x471*-0x6+-0x1ca6*-0x1,_0x4a4d6c=this['_meshInfo'][_0x1e5c72]['meshInstan'+'ce'];if(_0x4a4d6c){const _0x4c25a8=_0x4a4d6c['mesh'];_0x4c25a8&&(_0x4c25a8['primitive'][-0x291*0x4+0x770+0x2d4*0x1]['base']=_0x5d200a*(0xbfd+0x1*-0x1583+0x989)*(0x90a+0xf*0x2a+-0x5bf*0x2),_0x4c25a8['primitive'][0xc5+0x1cde+-0x1da3]['count']=(_0x58668d-_0x5d200a)*(-0x1*0x2527+0x1fee+0x10c*0x5)*(0xeb*0x11+-0x1f9d+-0x401*-0x4));}}}set['text'](_0x3f0dfa){this['_i18nKey']=null;const _0x1a2860=_0x3f0dfa!=null&&_0x3f0dfa['toString']()||'';this['_setText'](_0x1a2860);}get['text'](){return this['_text'];}set['key'](_0x4c927){const _0xf72485=_0x4c927!==null?_0x4c927['toString']():null;this['_i18nKey']!==_0xf72485&&(this['_i18nKey']=_0xf72485,_0xf72485?(this['_fontAsset']['disableLoc'+'alization']=!(0x3*-0x677+0x9ab+0x2f*0x35),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x11e*0x1a+0x13c6+0x1*0x946));}get['key'](){return this['_i18nKey'];}set['color'](_0x2febeb){const _0x820b04=_0x2febeb['r'],_0x5f42eb=_0x2febeb['g'],_0x47bcc3=_0x2febeb['b'];if(this['_color']===_0x2febeb&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x820b04&&this['_color']['g']===_0x5f42eb&&this['_color']['b']===_0x47bcc3)&&(this['_color']['r']=_0x820b04,this['_color']['g']=_0x5f42eb,this['_color']['b']=_0x47bcc3,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1*-0x23f9+-0x11db+-0x121e]=Me['r'],this['_colorUnif'+'orm'][0x40*-0x4+-0x1*-0xefe+0x1*-0xdfd]=Me['g'],this['_colorUnif'+'orm'][-0x4a*-0x70+0x269d+-0x46fb]=Me['b'];for(let _0x2e3ada=0x26a2+-0x97d+-0x1d25*0x1,_0x4e7047=this['_model']['meshInstan'+'ces']['length'];_0x2e3ada<_0x4e7047;_0x2e3ada++)this['_model']['meshInstan'+'ces'][_0x2e3ada]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x4c8df8){if(this['_color']['a']!==_0x4c8df8&&(this['_color']['a']=_0x4c8df8,this['_model'])){for(let _0x3e131f=-0x4c*0x1e+-0x2506+0x2dee,_0x4b4ebd=this['_model']['meshInstan'+'ces']['length'];_0x3e131f<_0x4b4ebd;_0x3e131f++)this['_model']['meshInstan'+'ces'][_0x3e131f]['setParamet'+'er']('material_o'+'pacity',_0x4c8df8);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x4c8df8);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x2b2deb){const _0x1b861d=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x2b2deb,this['_scaledLin'+'eHeight']=_0x2b2deb,_0x1b861d!==_0x2b2deb&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0xdbfc24){const _0x233b1d=this['_wrapLines'];this['_wrapLines']=_0xdbfc24,_0x233b1d!==_0xdbfc24&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x9feed3){const _0x987d89=this['_spacing'];this['_spacing']=_0x9feed3,_0x987d89!==_0x9feed3&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x5bd253){const _0x41bc6d=this['_fontSize'];this['_fontSize']=_0x5bd253,this['_originalF'+'ontSize']=_0x5bd253,_0x41bc6d!==_0x5bd253&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x4667c0){this['_fontAsset']['defaultAss'+'et']=_0x4667c0;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x3a0440){let _0x357046;if(this['_font']&&(_0x357046=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x3a0440,this['_fontMinY']=0x240c+0x17*-0x35+0x1f49*-0x1,this['_fontMaxY']=0xecd+-0x15d2+0x705,!_0x3a0440)return;const _0x7d3e41=this['_font']['data'];for(const _0x54fdf5 in _0x7d3e41['chars']){const _0x4d29c1=_0x7d3e41['chars'][_0x54fdf5];_0x4d29c1['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x4d29c1['bounds'][0xb*-0x295+0xf2f+0xd39]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x4d29c1['bounds'][-0x47*0x7a+0x16ce+0x101*0xb]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x3a0440['type']!==_0x357046){const _0x24166a=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x24166a);}for(let _0x905534=0x57b*0x3+-0x5*-0x83+-0x1300,_0x1277a8=this['_font']['textures']['length'];_0x905534<_0x1277a8;_0x905534++)if(!this['_meshInfo'][_0x905534])this['_meshInfo'][_0x905534]=new CR();else{const _0x1cc118=this['_meshInfo'][_0x905534]['meshInstan'+'ce'];_0x1cc118&&(_0x1cc118['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x1cc118['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x1cc118['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x905534]['width']),this['_setTextur'+'eParams'](_0x1cc118,this['_font']['textures'][_0x905534]));}let _0x2c7894=!(-0x80*0x8+-0x1146+0x1a3*0xd);for(let _0x4a57a9=this['_font']['textures']['length'];_0x4a57a9<this['_meshInfo']['length'];_0x4a57a9++)this['_meshInfo'][_0x4a57a9]['meshInstan'+'ce']&&(_0x2c7894||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x2c7894=!(0x7*-0x2f5+0x1762+0x1*-0x2af)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x4a57a9]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x36b877){_0x36b877 instanceof $?this['_alignment']['set'](_0x36b877['x'],_0x36b877['y']):this['_alignment']['set'](_0x36b877[-0x3b*-0x2+0x16b2+-0x1728],_0x36b877[-0x377*-0x9+0x1a51+-0x397f]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x168def){const _0x265936=this['_autoWidth'];if(this['_autoWidth']=_0x168def,_0x168def&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x16*0x164+-0x5*-0x54+0x1cf4+0.0001&&(this['_element']['width']=this['width']),_0x265936!==_0x168def){const _0x59d548=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x59d548!==this['_fontSize']&&(this['_fontSize']=_0x59d548,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x5166ea){const _0x536ce6=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x5166ea,_0x5166ea&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x36c+-0x16a2+0x1336*0x1+0.0001&&(this['_element']['height']=this['height']),_0x536ce6!==_0x5166ea){const _0x57b576=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x57b576!==this['_fontSize']&&(this['_fontSize']=_0x57b576,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x9e92f1){this['_rtlReorde'+'r']!==_0x9e92f1&&(this['_rtlReorde'+'r']=_0x9e92f1,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0xbb9657){this['_unicodeCo'+'nverter']!==_0xbb9657&&(this['_unicodeCo'+'nverter']=_0xbb9657,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x51366b=!(0x1b65+0x263b+-0x419f);for(let _0x5b751c=-0xd*0xe9+-0x244a+0x301f;_0x5b751c<this['_meshInfo']['length'];_0x5b751c++)this['_meshInfo'][_0x5b751c]['meshInstan'+'ce']&&(_0x51366b?this['_aabb']['add'](this['_meshInfo'][_0x5b751c]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x5b751c]['meshInstan'+'ce']['aabb']),_0x51366b=!(0xc0+0x23e5+-0x24a5)));this['_aabbDirty']=!(-0x8a5+0x23be+-0xd8c*0x2);}return this['_aabb'];}set['outlineCol'+'or'](_0x4ffa13){const _0x28355d=_0x4ffa13 instanceof Y?_0x4ffa13['r']:_0x4ffa13[-0xcf0+0x265a+-0x196a*0x1],_0x169df9=_0x4ffa13 instanceof Y?_0x4ffa13['g']:_0x4ffa13[-0x257c+0x902*-0x1+-0x1*-0x2e7f],_0x4f07c6=_0x4ffa13 instanceof Y?_0x4ffa13['b']:_0x4ffa13[-0xf47*-0x1+0x1997*0x1+-0x28dc],_0x16d942=_0x4ffa13 instanceof Y?_0x4ffa13['a']:_0x4ffa13[-0x20*-0x10+0x173f*-0x1+0x1542];if(this['_outlineCo'+'lor']===_0x4ffa13&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x28355d&&this['_outlineCo'+'lor']['g']===_0x169df9&&this['_outlineCo'+'lor']['b']===_0x4f07c6&&this['_outlineCo'+'lor']['a']===_0x16d942)&&(this['_outlineCo'+'lor']['r']=_0x28355d,this['_outlineCo'+'lor']['g']=_0x169df9,this['_outlineCo'+'lor']['b']=_0x4f07c6,this['_outlineCo'+'lor']['a']=_0x16d942,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x4c2+-0x94e+0x48c]=Me['r'],this['_outlineCo'+'lorUniform'][-0x8b*0x17+-0x951+-0x3*-0x745]=Me['g'],this['_outlineCo'+'lorUniform'][-0x69c+0x33*0x14+0x2a2]=Me['b'],this['_outlineCo'+'lorUniform'][0x277+-0x1ef+0x1*-0x85]=Me['a'];for(let _0x50f70c=0x2610+-0x26df+0xcf,_0x3cc521=this['_model']['meshInstan'+'ces']['length'];_0x50f70c<_0x3cc521;_0x50f70c++)this['_model']['meshInstan'+'ces'][_0x50f70c]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x14667a){const _0x498528=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x14667a,_0x498528!==_0x14667a&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x9129f6=0xb8c*0x1+0x807+-0x1393,_0x5066d6=this['_model']['meshInstan'+'ces']['length'];_0x9129f6<_0x5066d6;_0x9129f6++)this['_model']['meshInstan'+'ces'][_0x9129f6]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x2e7b80){const _0x1b34d4=_0x2e7b80 instanceof Y?_0x2e7b80['r']:_0x2e7b80[-0x1df*-0x10+-0x2*0x697+0x2cb*-0x6],_0x5ade60=_0x2e7b80 instanceof Y?_0x2e7b80['g']:_0x2e7b80[-0x24f+0x1490+-0x1240],_0x332771=_0x2e7b80 instanceof Y?_0x2e7b80['b']:_0x2e7b80[0xca*-0x21+0xf00+0xb0c],_0x383247=_0x2e7b80 instanceof Y?_0x2e7b80['a']:_0x2e7b80[-0x49*-0x35+-0x1d43+0x1d*0x7d];if(this['_shadowCol'+'or']===_0x2e7b80&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x1b34d4&&this['_shadowCol'+'or']['g']===_0x5ade60&&this['_shadowCol'+'or']['b']===_0x332771&&this['_shadowCol'+'or']['a']===_0x383247)&&(this['_shadowCol'+'or']['r']=_0x1b34d4,this['_shadowCol'+'or']['g']=_0x5ade60,this['_shadowCol'+'or']['b']=_0x332771,this['_shadowCol'+'or']['a']=_0x383247,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0xdd*0xd+-0xb4*0x19+0x1*0x65b]=Me['r'],this['_shadowCol'+'orUniform'][0x11f3+-0xf5a+-0x8*0x53]=Me['g'],this['_shadowCol'+'orUniform'][0x39b*-0x5+-0x6*-0x2b9+0x1b3]=Me['b'],this['_shadowCol'+'orUniform'][-0x267+-0x550+-0x2e*-0x2b]=Me['a'];for(let _0x8f0894=-0xc86*0x1+0x2*0xd49+0x383*-0x4,_0x412310=this['_model']['meshInstan'+'ces']['length'];_0x8f0894<_0x412310;_0x8f0894++)this['_model']['meshInstan'+'ces'][_0x8f0894]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x31737d){const _0x531d0a=_0x31737d instanceof $?_0x31737d['x']:_0x31737d[0xa*-0x100+-0x1b8d+0x258d],_0x407fca=_0x31737d instanceof $?_0x31737d['y']:_0x31737d[-0x1fea+-0x1ebb*-0x1+-0x130*-0x1];if(!(this['_shadowOff'+'set']['x']===_0x531d0a&&this['_shadowOff'+'set']['y']===_0x407fca)&&(this['_shadowOff'+'set']['set'](_0x531d0a,_0x407fca),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0xfafe56=0x26f9+-0x3*-0x5f8+0x38e1*-0x1,_0x329f9f=this['_model']['meshInstan'+'ces']['length'];_0xfafe56<_0x329f9f;_0xfafe56++){const _0x36366e=-this['_font']['data']['info']['maps'][_0xfafe56]['width']/this['_font']['data']['info']['maps'][_0xfafe56]['height'];this['_shadowOff'+'setUniform'][0x6d0+-0x1af6+0x1426]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x8f5+-0x198a+-0x84b*-0x2]=_0x36366e*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0xfafe56]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x1e70ee){this['_minFontSi'+'ze']!==_0x1e70ee&&(this['_minFontSi'+'ze']=_0x1e70ee,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x2933c3){this['_maxFontSi'+'ze']!==_0x2933c3&&(this['_maxFontSi'+'ze']=_0x2933c3,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x5c6a58){this['_autoFitWi'+'dth']!==_0x5c6a58&&(this['_autoFitWi'+'dth']=_0x5c6a58,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x2f43dc){this['_autoFitHe'+'ight']!==_0x2f43dc&&(this['_autoFitHe'+'ight']=_0x2f43dc,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x25f56f){this['_maxLines']!==_0x25f56f&&(_0x25f56f===null&&this['_maxLines']===-(0x1ffd+0x2aa+-0x1*0x22a6)||(this['_maxLines']=_0x25f56f===null?-(0x1ede+0x1c*0x126+0x11*-0x3b5):_0x25f56f,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x2a3645){if(_0x2a3645=!!_0x2a3645,this['_enableMar'+'kup']===_0x2a3645)return;this['_enableMar'+'kup']=_0x2a3645,this['font']&&this['_updateTex'+'t']();const _0x157044=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x157044);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x1ebc4d){return this['_colorPale'+'tte']['slice'](_0x1ebc4d*(0xa*-0x14f+-0x395+0x10ae),_0x1ebc4d*(0x1bfb+-0x1caa+-0xb2*-0x1)+(-0x151+-0x199f+0x1af3));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x4f68f8){return this['_outlinePa'+'lette']['slice'](_0x4f68f8*(-0x1*0x101e+-0x214d+0x388*0xe),_0x4f68f8*(-0x1eb2+-0x13f5+-0x114*-0x2f)+(-0xab3*-0x2+0xafa+-0x3*0xac9));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0xe5850){return this['_shadowPal'+'ette']['slice'](_0xe5850*(0x5*0x732+-0x79*-0x15+-0x57*0x87),_0xe5850*(0x1717+-0x24d5+0xdc4)+(0x1*0x176e+-0x7cf+-0x79*0x21));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x1848a5){_0x1848a5=Math['max'](0x23b*-0x11+-0xa5b+0xa7*0x4a,Math['min'](_0x1848a5,this['_symbols']['length'])),_0x1848a5!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x1848a5,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x47657a){_0x47657a=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x47657a,this['_symbols']['length'])),_0x47657a!==this['_rangeEnd']&&(this['_rangeEnd']=_0x47657a,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x3653de,_0x12bd25){super(_0x3653de,_0x12bd25),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x9df*-0x2+-0x1ee5+0x32a4),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new $(),this['_width']=this['_calculate'+'dWidth']=0xf8b*-0x1+0x1*-0x19a9+-0x211*-0x14,this['_height']=this['_calculate'+'dHeight']=-0xb2d*-0x1+-0x1*0x1335+0x4*0x20a,this['_margin']=new Q(0x3*-0x757+-0x24b3+-0x2*-0x1d5c,-0x29d+-0x16b8+0x1955,-(-0xe85+-0xc4a+0x1aef),-(-0x1bb1+0x1ddd+-0x20c)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(-0x3e9*0x9+-0x8d6*-0x1+0x1*0x1a5b),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new $(),new $(),new $(),new $()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(0x1811+0x207a+-0x388b),this['_canvasCor'+'nersDirty']=!(-0x43*0xd+0x2f8+-0x25*-0x3),this['_worldCorn'+'ersDirty']=!(-0x1*-0x32b+-0xa10+0x6e5),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x4e4+0x18c6+0x1*-0x1daa,this['_fitMode']=gh,this['_useInput']=!(-0x4db*-0x2+-0x1c1f+-0x126a*-0x1),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x1*-0x1b41+0x16ee+-0x322e),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x29*-0x5f+0x1d70+-0xe39,this['_maskOffse'+'t']=0x2358+-0x49b+-0x1ebd+0.5,this['_maskedBy']=null);}get['data'](){const _0x136ff2=this['system']['store'][this['entity']['getGuid']()];return _0x136ff2?_0x136ff2['data']:null;}set['enabled'](_0x4636c5){const _0x3b556a=this['data'],_0x2ac120=_0x3b556a['enabled'];_0x3b556a['enabled']=_0x4636c5,this['fire']('set','enabled',_0x2ac120,_0x4636c5);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x1*-0x997+0xc5f+0x752*-0x3+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x546+0x1d16+-0x225c+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x53c585){_0x53c585 instanceof Q?this['_anchor']['copy'](_0x53c585):this['_anchor']['set'](..._0x53c585),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x65*0x5e+-0xc3*0x5+0x28e5),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x5ce756){var _0xcbed88,_0x170d9c;this['_batchGrou'+'pId']!==_0x5ce756&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1386+0x2106+0x80*-0x1b&&((_0xcbed88=this['system']['app']['batcher'])==null||_0xcbed88['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x5ce756>=0x194a+-0xde*0x17+-0x558&&((_0x170d9c=this['system']['app']['batcher'])==null||_0x170d9c['insert'](et['ELEMENT'],_0x5ce756,this['entity'])),_0x5ce756<0xe*-0x24d+-0x8b7*-0x1+0x177f&&this['_batchGrou'+'pId']>=-0x8*-0x209+-0x1a42+0x9fa&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x5ce756);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x3e4c5f){this['_margin']['y']=_0x3e4c5f;const _0x10724a=this['entity']['getLocalPo'+'sition'](),_0x4958fb=this['_absTop'],_0x3e07c9=this['_localAnch'+'or']['y']+_0x3e4c5f;this['_setHeight'](_0x4958fb-_0x3e07c9),_0x10724a['y']=_0x3e4c5f+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x10724a);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x15ac83){this['_setCalcul'+'atedWidth'](_0x15ac83,!(0x1c9d*0x1+-0xdc6+0xed7*-0x1));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x23bb88){this['_setCalcul'+'atedHeight'](_0x23bb88,!(-0xa7*0x1b+0x11*0x181+-0x1fd*0x4));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x5526b7=this['system']['app']['graphicsDe'+'vice'],_0x55e4af=this['screenCorn'+'ers'],_0x143b9b=_0x5526b7['canvas']['clientWidt'+'h']/_0x5526b7['width'],_0x5f5942=_0x5526b7['canvas']['clientHeig'+'ht']/_0x5526b7['height'];for(let _0x5b93df=-0x7be*0x1+0x1*0xafe+-0x340;_0x5b93df<0x755*-0x3+-0x9*-0x29+0xa49*0x2;_0x5b93df++)this['_canvasCor'+'ners'][_0x5b93df]['set'](_0x55e4af[_0x5b93df]['x']*_0x143b9b,(_0x5526b7['height']-_0x55e4af[_0x5b93df]['y'])*_0x5f5942);return this['_canvasCor'+'nersDirty']=!(-0x1*0x266a+-0xf87+0x35f2),this['_canvasCor'+'ners'];}set['drawOrder'](_0x570048){let _0x44beaf=0x1f5e+0x12b0+0x1907*-0x2;this['screen']&&(_0x44beaf=this['screen']['screen']['priority']),_0x570048>-0xca*0x38a7+0xdcd*0xb1f+0x3dc9*0x262&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x570048=0x596ab9+0x1c*-0xde9c8+-0x328f32*-0xb),this['_drawOrder']=(_0x44beaf<<0xb*-0x1f1+-0x1e8d+-0x40*-0xd0)+_0x570048,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x365319){this['_height']=_0x365319,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x365319,!(-0x1e07+0x25db+-0x7d4)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x1f8f07){if(this['_addedMode'+'ls']['length'])for(let _0x42c77e=-0x19be+-0x1b32+-0x134*-0x2c;_0x42c77e<this['_layers']['length'];_0x42c77e++){const _0x4185b2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x42c77e]);if(_0x4185b2){for(let _0x534bee=-0x1*-0x1f76+0x2254+-0x966*0x7;_0x534bee<this['_addedMode'+'ls']['length'];_0x534bee++)_0x4185b2['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x534bee]['meshInstan'+'ces']);}}if(this['_layers']=_0x1f8f07,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x58b799=0xc01*0x3+-0x9c+-0x2367;_0x58b799<this['_layers']['length'];_0x58b799++){const _0x15fec5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x58b799]);if(_0x15fec5){for(let _0x10b74d=0x814+-0xcf+-0x745;_0x10b74d<this['_addedMode'+'ls']['length'];_0x10b74d++)_0x15fec5['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x10b74d]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x368372){this['_margin']['x']=_0x368372;const _0x2bb395=this['entity']['getLocalPo'+'sition'](),_0x41c80d=this['_absRight'],_0x5068c7=this['_localAnch'+'or']['x']+_0x368372;this['_setWidth'](_0x41c80d-_0x5068c7),_0x2bb395['x']=_0x368372+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x2bb395);}get['left'](){return this['_margin']['x'];}set['margin'](_0x255afd){this['_margin']['copy'](_0x255afd),this['_calculate'+'Size'](!(0x4c*0x16+0xd33*-0x1+0x6ab),!(-0xf4c+0x2291*0x1+-0x1345)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x2c9ff3){const {pivot:_0x36371e,margin:_0x4e9d1}=this,_0x4d4b42=_0x36371e['x'],_0x3e1138=_0x36371e['y'];_0x2c9ff3 instanceof $?_0x36371e['copy'](_0x2c9ff3):_0x36371e['set'](..._0x2c9ff3);const _0x493e96=_0x4e9d1['x']+_0x4e9d1['z'],_0x2fe392=_0x36371e['x']-_0x4d4b42;_0x4e9d1['x']+=_0x493e96*_0x2fe392,_0x4e9d1['z']-=_0x493e96*_0x2fe392;const _0x4c2f40=_0x4e9d1['y']+_0x4e9d1['w'],_0x43b82c=_0x36371e['y']-_0x3e1138;_0x4e9d1['y']+=_0x4c2f40*_0x43b82c,_0x4e9d1['w']-=_0x4c2f40*_0x43b82c,this['_anchorDir'+'ty']=!(-0x100b*-0x1+-0xa9f+-0x56c),this['_cornersDi'+'rty']=!(-0x2b6+-0x106*0x1c+0x1f5e),this['_worldCorn'+'ersDirty']=!(0x2*-0x1d3+-0x20a1*-0x1+0x1*-0x1cfb),this['_calculate'+'Size'](!(0xed7+0x683+-0x1559),!(-0x12*-0xf3+-0x2159*0x1+0x822*0x2)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x36371e);}get['pivot'](){return this['_pivot'];}set['right'](_0x58a8fa){this['_margin']['z']=_0x58a8fa;const _0x500095=this['entity']['getLocalPo'+'sition'](),_0x13fb4e=this['_absLeft'],_0x2750c0=this['_localAnch'+'or']['z']-_0x58a8fa;this['_setWidth'](_0x2750c0-_0x13fb4e),_0x500095['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x58a8fa-this['_calculate'+'dWidth']*(0x113e*0x2+-0xf2*-0x11+-0x328d-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x500095);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0xf04961=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x331*-0x5+0x8d*0x3b+-0x3074];this['_screenCor'+'ners'][-0x6a1*0x3+0x129d+0x146]['set'](this['_absLeft'],this['_absBottom'],0x1*-0x1ed7+0x5c4+0x83*0x31),this['_screenCor'+'ners'][0x1*-0x193a+0x196b+-0x6*0x8]['set'](this['_absRight'],this['_absBottom'],-0x60a*-0x4+-0x4d*0x7e+-0x2*-0x6df),this['_screenCor'+'ners'][0x103b+0x2189+-0x31c2]['set'](this['_absRight'],this['_absTop'],0x7f2+-0x2005+-0x1*-0x1813),this['_screenCor'+'ners'][-0x12c2+0x2481+-0x5*0x38c]['set'](this['_absLeft'],this['_absTop'],-0x16d5+-0x1e64+0x3539);const _0x36f2eb=this['screen']['screen']['screenSpac'+'e'];for(let _0x217ec1=-0x1*0x8e1+-0xb*-0x1cd+-0x577*0x2;_0x217ec1<-0x1869+-0x3f1+0x1c5e;_0x217ec1++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x217ec1],this['_screenCor'+'ners'][_0x217ec1]),_0x36f2eb&&this['_screenCor'+'ners'][_0x217ec1]['mulScalar'](this['screen']['screen']['scale']),_0xf04961&&this['_screenCor'+'ners'][_0x217ec1]['add'](_0xf04961);return this['_cornersDi'+'rty']=!(0xb1a+0x1a50+0x9d*-0x3d),this['_canvasCor'+'nersDirty']=!(-0x58e*-0x4+0x2b*0x13+-0x5*0x515),this['_worldCorn'+'ersDirty']=!(0x27c*-0xd+-0x20c2+0x16*0x2f5),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x265*-0x4+0x1*0x1339+-0x1*0x1ccd;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x6b2+-0x14d1*-0x1+-0x4b5*0x3;}set['top'](_0x122e7d){this['_margin']['w']=_0x122e7d;const _0x3e8ba0=this['entity']['getLocalPo'+'sition'](),_0x5e104e=this['_absBottom'],_0x3e335a=this['_localAnch'+'or']['w']-_0x122e7d;this['_setHeight'](_0x3e335a-_0x5e104e),_0x3e8ba0['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x122e7d-this['_calculate'+'dHeight']*(-0x48f*-0x3+-0x6dc*0x1+-0x6d0-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x3e8ba0);}get['top'](){return this['_margin']['w'];}set['type'](_0x422df8){_0x422df8!==this['_type']&&(this['_type']=_0x422df8,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x422df8===rf?this['_image']=new _R(this):_0x422df8===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x413d07){this['_useInput']!==_0x413d07&&(this['_useInput']=_0x413d07,this['system']['app']['elementInp'+'ut']?_0x413d07?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x421*-0x7+-0x220*-0x9+0x1*0x9c7)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x413d07));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x393aa9){this['_fitMode']=_0x393aa9,this['_calculate'+'Size'](!(-0x7db*-0x1+0x80*-0x25+-0x1*-0xaa5),!(-0xf46+-0x614+-0x38f*-0x6)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x4f9471){this['_width']=_0x4f9471,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x4f9471,!(0x23ad+-0xac2+-0x18eb*0x1)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x370b88=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0x1b*-0x5+0x16c1+-0x13*0x139]=-es['data'][-0x1*0x2589+0x23e9+0x1ad],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x5b0fea=-0x420+-0x25aa+0x14e5*0x2;_0x5b0fea<0x1277+0x1*0x1f57+-0x31ca;_0x5b0fea++)es['transformP'+'oint'](_0x370b88[_0x5b0fea],this['_worldCorn'+'ers'][_0x5b0fea]);}}else{const _0x2fdd64=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x2fdd64['x'],-_0x2fdd64['y'],-_0x2fdd64['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x2fdd64['x'],_0x2fdd64['y'],_0x2fdd64['z']);const _0x6cf975=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x6cf975['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x2fdd64['x']-this['pivot']['x']*this['calculated'+'Width'],_0x2fdd64['y']-this['pivot']['y']*this['calculated'+'Height'],_0x2fdd64['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x165e+-0x2391+0xd33*0x1]),ni['set'](_0x2fdd64['x']+(-0x106*-0xe+-0x100*-0x1+0xf53*-0x1-this['pivot']['x'])*this['calculated'+'Width'],_0x2fdd64['y']-this['pivot']['y']*this['calculated'+'Height'],_0x2fdd64['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x12d5+0xc*-0x16e+0x11ff*0x2]),ni['set'](_0x2fdd64['x']+(0x17b3+-0x2*-0xaa9+-0xac*0x43-this['pivot']['x'])*this['calculated'+'Width'],_0x2fdd64['y']+(-0x222e+0xb5d+-0x2e*-0x7f-this['pivot']['y'])*this['calculated'+'Height'],_0x2fdd64['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x1526*0x1+0x2519+0x1*-0x3a3d]),ni['set'](_0x2fdd64['x']-this['pivot']['x']*this['calculated'+'Width'],_0x2fdd64['y']+(0x256e+-0x199e+-0xbcf-this['pivot']['y'])*this['calculated'+'Height'],_0x2fdd64['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x8ed*0x3+-0xfd1*-0x1+0xaf9]);}return this['_worldCorn'+'ersDirty']=!(-0x19*-0x151+0x1095+0x3*-0x107f),this['_worldCorn'+'ers'];}set['fontSize'](_0x38f10e){this['_setValue']('fontSize',_0x38f10e);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x3b58ff){this['_setValue']('minFontSiz'+'e',_0x3b58ff);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x542b14){this['_setValue']('maxFontSiz'+'e',_0x542b14);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x47ef39){this['_setValue']('maxLines',_0x47ef39);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x5d1a9c){this['_setValue']('autoFitWid'+'th',_0x5d1a9c);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x11958a){this['_setValue']('autoFitHei'+'ght',_0x11958a);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x47773){this['_setValue']('color',_0x47773);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x582075){this['_setValue']('font',_0x582075);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x22734d){this['_setValue']('fontAsset',_0x22734d);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x3b6476){this['_setValue']('spacing',_0x3b6476);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x30e67f){this['_setValue']('lineHeight',_0x30e67f);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x27b66d){this['_setValue']('wrapLines',_0x27b66d);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x1100eb){this['_setValue']('lines',_0x1100eb);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x52d15e){this['_setValue']('alignment',_0x52d15e);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x55142b){this['_setValue']('autoWidth',_0x55142b);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x371604){this['_setValue']('autoHeight',_0x371604);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0xc652b3){this['_setValue']('rtlReorder',_0xc652b3);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x4c94dc){this['_setValue']('unicodeCon'+'verter',_0x4c94dc);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0xa7874){this['_setValue']('text',_0xa7874);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x32af20){this['_setValue']('key',_0x32af20);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x2f86ba){this['_setValue']('texture',_0x2f86ba);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x381002){this['_setValue']('textureAss'+'et',_0x381002);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x539c3b){this['_setValue']('material',_0x539c3b);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x226789){this['_setValue']('materialAs'+'set',_0x226789);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x251529){this['_setValue']('sprite',_0x251529);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x9552df){this['_setValue']('spriteAsse'+'t',_0x9552df);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2a7243){this['_setValue']('spriteFram'+'e',_0x2a7243);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x214731){this['_setValue']('pixelsPerU'+'nit',_0x214731);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x193c6a){this['_setValue']('opacity',_0x193c6a);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x3a01b5){this['_setValue']('rect',_0x3a01b5);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x323b66){this['_setValue']('mask',_0x323b66);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x7755c4){this['_setValue']('outlineCol'+'or',_0x7755c4);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x522fa5){this['_setValue']('outlineThi'+'ckness',_0x522fa5);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x4a8778){this['_setValue']('shadowColo'+'r',_0x4a8778);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x1e046d){this['_setValue']('shadowOffs'+'et',_0x1e046d);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x4ecc2f){this['_setValue']('enableMark'+'up',_0x4ecc2f);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x2246b9){this['_setValue']('rangeStart',_0x2246b9);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x125387){this['_setValue']('rangeEnd',_0x125387);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x3cabbf,_0x1fce8e){this['_text']?(this['_text'][_0x3cabbf]!==_0x1fce8e&&this['_dirtyBatc'+'h'](),this['_text'][_0x3cabbf]=_0x1fce8e):this['_image']&&(this['_image'][_0x3cabbf]!==_0x1fce8e&&this['_dirtyBatc'+'h'](),this['_image'][_0x3cabbf]=_0x1fce8e);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=$e['prototype']['_sync'],this['entity']['setPositio'+'n']=$e['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=$e['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x1993c7,_0x3ec2c7,_0x8c434e){if(!this['element']['screen']){$e['prototype']['setPositio'+'n']['call'](this,_0x1993c7,_0x3ec2c7,_0x8c434e);return;}_0x1993c7 instanceof T?Kd['copy'](_0x1993c7):Kd['set'](_0x1993c7,_0x3ec2c7,_0x8c434e),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x152bea,_0x7c237d,_0x7699de){_0x152bea instanceof T?this['localPosit'+'ion']['copy'](_0x152bea):this['localPosit'+'ion']['set'](_0x152bea,_0x7c237d,_0x7699de);const _0x1c7155=this['element'],_0x41bcfa=this['localPosit'+'ion'],_0x27bbcf=_0x1c7155['_pivot'];_0x1c7155['_margin']['x']=_0x41bcfa['x']-_0x1c7155['_calculate'+'dWidth']*_0x27bbcf['x'],_0x1c7155['_margin']['z']=_0x1c7155['_localAnch'+'or']['z']-_0x1c7155['_localAnch'+'or']['x']-_0x1c7155['_calculate'+'dWidth']-_0x1c7155['_margin']['x'],_0x1c7155['_margin']['y']=_0x41bcfa['y']-_0x1c7155['_calculate'+'dHeight']*_0x27bbcf['y'],_0x1c7155['_margin']['w']=_0x1c7155['_localAnch'+'or']['w']-_0x1c7155['_localAnch'+'or']['y']-_0x1c7155['_calculate'+'dHeight']-_0x1c7155['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x4aa9c3=this['element'],_0x13f8e0=_0x4aa9c3['screen'];if(_0x13f8e0){if(_0x4aa9c3['_anchorDir'+'ty']){let _0x255a95=0x25f0+-0x18*-0x65+-0x2f68,_0x14688c=-0x11c6+-0x663+0x1829,_0x47bdfa=-0x20c7*-0x1+0x2694+-0x17c9*0x3,_0x26f7c8=0x7*0x80+0x255f*-0x1+0x21e0;if(this['_parent']&&this['_parent']['element'])_0x255a95=this['_parent']['element']['calculated'+'Width'],_0x14688c=this['_parent']['element']['calculated'+'Height'],_0x47bdfa=this['_parent']['element']['pivot']['x'],_0x26f7c8=this['_parent']['element']['pivot']['y'];else{const _0x2d614d=_0x13f8e0['screen']['resolution'];_0x255a95=_0x2d614d['x']/_0x13f8e0['screen']['scale'],_0x14688c=_0x2d614d['y']/_0x13f8e0['screen']['scale'];}_0x4aa9c3['_anchorTra'+'nsform']['setTransla'+'te'](_0x255a95*(_0x4aa9c3['anchor']['x']-_0x47bdfa),-(_0x14688c*(_0x26f7c8-_0x4aa9c3['anchor']['y'])),-0x13c1+0x246+0x117b),_0x4aa9c3['_anchorDir'+'ty']=!(-0xc1*-0x31+-0x9*0x83+0x59*-0x5d),_0x4aa9c3['_calculate'+'LocalAncho'+'rs']();}_0x4aa9c3['_sizeDirty']&&_0x4aa9c3['_calculate'+'Size'](!(-0x1*0xbfb+-0xad*0x22+0x22f6),!(0x1ad+-0x589*0x1+0x3dd));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x1c1dcd=this['localPosit'+'ion'],_0xf2beea=_0x4aa9c3['_pivot'];_0x4aa9c3['_margin']['x']=_0x1c1dcd['x']-_0x4aa9c3['_calculate'+'dWidth']*_0xf2beea['x'],_0x4aa9c3['_margin']['z']=_0x4aa9c3['_localAnch'+'or']['z']-_0x4aa9c3['_localAnch'+'or']['x']-_0x4aa9c3['_calculate'+'dWidth']-_0x4aa9c3['_margin']['x'],_0x4aa9c3['_margin']['y']=_0x1c1dcd['y']-_0x4aa9c3['_calculate'+'dHeight']*_0xf2beea['y'],_0x4aa9c3['_margin']['w']=_0x4aa9c3['_localAnch'+'or']['w']-_0x4aa9c3['_localAnch'+'or']['y']-_0x4aa9c3['_calculate'+'dHeight']-_0x4aa9c3['_margin']['y'],this['_dirtyLoca'+'l']=!(0x213b+0x5fe+-0x2738);}if(!_0x13f8e0){this['_dirtyWorl'+'d']&&(_0x4aa9c3['_cornersDi'+'rty']=!(0x2265+0xd7*-0x16+-0xfeb),_0x4aa9c3['_canvasCor'+'nersDirty']=!(-0x634+-0x52e+0x1*0xb62),_0x4aa9c3['_worldCorn'+'ersDirty']=!(-0x343*-0x6+-0xe3*0x1a+0x37c)),$e['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x4aa9c3['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x4aa9c3['_anchorTra'+'nsform']):_0x4aa9c3['_screenToW'+'orld']['copy'](_0x4aa9c3['_anchorTra'+'nsform']),_0x4aa9c3['_modelTran'+'sform']['mul2'](_0x4aa9c3['_screenToW'+'orld'],this['localTrans'+'form']),_0x13f8e0){_0x4aa9c3['_screenToW'+'orld']['mul2'](_0x13f8e0['screen']['_screenMat'+'rix'],_0x4aa9c3['_screenToW'+'orld']),_0x13f8e0['screen']['screenSpac'+'e']||_0x4aa9c3['_screenToW'+'orld']['mul2'](_0x13f8e0['worldTrans'+'form'],_0x4aa9c3['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x4aa9c3['_screenToW'+'orld'],this['localTrans'+'form']);const _0x57d332=_0x4aa9c3['_parentWor'+'ldTransfor'+'m'];_0x57d332['setIdentit'+'y']();const _0x3ab63e=this['_parent'];_0x3ab63e&&_0x3ab63e['element']&&_0x3ab63e!==_0x13f8e0&&(es['setTRS'](T['ZERO'],_0x3ab63e['getLocalRo'+'tation'](),_0x3ab63e['getLocalSc'+'ale']()),_0x57d332['mul2'](_0x3ab63e['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x29d914=ni;_0x29d914['set'](0x18f3+-0x1f*0x6f+0xb82*-0x1,-0x35*-0x11+-0x23df+-0x102d*-0x2,this['localPosit'+'ion']['z']);const _0x15ae5a=kR;_0x15ae5a['set'](_0x4aa9c3['_absLeft']+_0x4aa9c3['_pivot']['x']*_0x4aa9c3['calculated'+'Width'],_0x4aa9c3['_absBottom']+_0x4aa9c3['_pivot']['y']*_0x4aa9c3['calculated'+'Height'],-0x13*0x131+-0x2569*-0x1+-0xec6),es['setTransla'+'te'](-_0x15ae5a['x'],-_0x15ae5a['y'],-_0x15ae5a['z']),Yl['setTRS'](_0x29d914,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x15ae5a['x'],_0x15ae5a['y'],_0x15ae5a['z']),_0x4aa9c3['_screenTra'+'nsform']['mul2'](_0x4aa9c3['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x4aa9c3['_cornersDi'+'rty']=!(0x1a3c+-0x1bb*0x6+-0xfda),_0x4aa9c3['_canvasCor'+'nersDirty']=!(0x6d*-0x26+0x2f5*0xb+-0x1059),_0x4aa9c3['_worldCorn'+'ersDirty']=!(-0x228e+0x1850*0x1+0xa3e);}else this['worldTrans'+'form']['copy'](_0x4aa9c3['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0xd37*0x2+-0x9e9*0x3+0x382a);}}['_onInsert'](_0x32ca6b){const _0x262913=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x262913['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x182289=this['entity'];for(;_0x182289;){const _0x432c47=_0x182289['parent'];if((_0x432c47===null||_0x432c47['screen'])&&_0x182289['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x3352e9=this['system']['_prerender']['indexOf'](this['entity']);_0x3352e9>=-0x2459+0x134f*0x2+-0x53*0x7&&this['system']['_prerender']['splice'](_0x3352e9,-0x274*0x6+-0x2ea*-0x5+0x27),this['system']['_prerender']['indexOf'](_0x182289)<0x47e+-0x1843+0x13c5&&this['system']['_prerender']['push'](_0x182289),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x182289['name']);}_0x182289=_0x432c47;}}['_onPrerend'+'er'](){for(let _0x4c2b2e=0x135c+-0x1b4d+0x7f1;_0x4c2b2e<this['system']['_prerender']['length'];_0x4c2b2e++){const _0x388b96=this['system']['_prerender'][_0x4c2b2e];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x388b96['name']),_0x388b96['element']&&_0x388b96['element']['syncMask'](-0xe*-0x28d+-0x1cc2*-0x1+-0x4077);}this['system']['_prerender']['length']=0x3*-0x490+-0x2*0x1223+0x31f6;}['_bindScree'+'n'](_0x120eb2){_0x120eb2['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x125235){_0x125235['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x875d13){this['screen']&&this['screen']!==_0x875d13&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x2966f4=this['screen'];this['screen']=_0x875d13,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x2966f4),this['_anchorDir'+'ty']=!(-0x118c*-0x1+-0xa26+-0x766);const _0x3d754a=this['entity']['children'];for(let _0x26a4be=-0x1a*0x11+0x1f69+-0x3*0x9e5,_0x2bc26c=_0x3d754a['length'];_0x26a4be<_0x2bc26c;_0x26a4be++)_0x3d754a[_0x26a4be]['element']&&_0x3d754a[_0x26a4be]['element']['_updateScr'+'een'](_0x875d13);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x5b91bb){const _0x12ffc1=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x12ffc1['mask'],_0x5b91bb);}['_setMasked'+'By'](_0x4afe92){const _0x561195=this['_image']||this['_text'];if(_0x4afe92){const _0x2ba25b=_0x4afe92['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x2ba25b),_0x561195==null||_0x561195['_setStenci'+'l'](new qs({'ref':_0x2ba25b,'func':Ch})),this['_maskedBy']=_0x4afe92;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x561195==null||_0x561195['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x4de369,_0xa4f31b){var _0x3fd8c3,_0x1708a3;if(_0x4de369){if(this['_setMasked'+'By'](_0x4de369),this['mask']){const _0x1ec0e4=_0x4de369['element']['_image']['_maskRef'],_0x378100=new qs({'ref':_0x1ec0e4,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x378100),this['_image']['_maskRef']=_0xa4f31b,_0xa4f31b++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x378100['ref']+(0x1*-0xa0b+-0x324*-0x6+-0x8cc))),v['trace'](Ss,'depth++\x20to'+':\x20',_0xa4f31b),_0x4de369=this['entity'];}const _0x45c626=this['entity']['children'];for(let _0x2c96b9=0x158f+0x25d4+0x1*-0x3b63,_0x119697=_0x45c626['length'];_0x2c96b9<_0x119697;_0x2c96b9++)(_0x3fd8c3=_0x45c626[_0x2c96b9]['element'])==null||_0x3fd8c3['_updateMas'+'k'](_0x4de369,_0xa4f31b);this['mask']&&_0xa4f31b--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x365161=new qs({'ref':_0xa4f31b,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x365161),this['_image']['_maskRef']=_0xa4f31b,_0xa4f31b++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x365161['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0xa4f31b),_0x4de369=this['entity'];}const _0x1a76f1=this['entity']['children'];for(let _0x259135=0x178*0x16+-0x2709+-0x1*-0x6b9,_0x555f97=_0x1a76f1['length'];_0x259135<_0x555f97;_0x259135++)(_0x1708a3=_0x1a76f1[_0x259135]['element'])==null||_0x1708a3['_updateMas'+'k'](_0x4de369,_0xa4f31b);this['mask']&&_0xa4f31b--;}}['_parseUpTo'+'Screen'](){const _0x2a9750={'screen':null,'mask':null};let _0x2ac7fc=this['entity']['_parent'];for(;_0x2ac7fc&&!_0x2ac7fc['screen'];)_0x2ac7fc['element']&&_0x2ac7fc['element']['mask']&&(_0x2a9750['mask']||(_0x2a9750['mask']=_0x2ac7fc)),_0x2ac7fc=_0x2ac7fc['parent'];return _0x2ac7fc&&_0x2ac7fc['screen']&&(_0x2a9750['screen']=_0x2ac7fc),_0x2a9750;}['_onScreenR'+'esize'](_0x9a2660){this['_anchorDir'+'ty']=!(0x11ff+-0x1895+0x696),this['_cornersDi'+'rty']=!(0x1*-0x187c+0x252+-0xb15*-0x2),this['_worldCorn'+'ersDirty']=!(0xa3d*-0x3+-0x18b8+0x376f),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x9a2660);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x4f29fb=0x20*0x66+-0xaeb+-0x3*-0xb1,_0x5944d7=0x79+-0x9cc+0xd3b;const _0x15759d=this['entity']['_parent'];if(_0x15759d&&_0x15759d['element'])_0x4f29fb=_0x15759d['element']['calculated'+'Width'],_0x5944d7=_0x15759d['element']['calculated'+'Height'];else{if(this['screen']){const _0x20b047=this['screen']['screen']['resolution'],_0x54fc39=this['screen']['screen']['scale'];_0x4f29fb=_0x20b047['x']/_0x54fc39,_0x5944d7=_0x20b047['y']/_0x54fc39;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x4f29fb,this['_anchor']['y']*_0x5944d7,this['_anchor']['z']*_0x4f29fb,this['_anchor']['w']*_0x5944d7);}['getOffsetP'+'osition'](_0x4b30bb,_0xc09047){const _0x6d8e0c=this['entity']['getLocalPo'+'sition']()['clone']();return _0x6d8e0c['x']+=_0x4b30bb,_0x6d8e0c['y']+=_0xc09047,this['_screenToW'+'orld']['transformP'+'oint'](_0x6d8e0c,_0x6d8e0c),_0x6d8e0c;}['onLayersCh'+'anged'](_0x410ead,_0x1b88d8){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x410ead['off']('add',this['onLayerAdd'+'ed'],this),_0x410ead['off']('remove',this['onLayerRem'+'oved'],this),_0x1b88d8['on']('add',this['onLayerAdd'+'ed'],this),_0x1b88d8['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x40f2b9){this['layers']['indexOf'](_0x40f2b9['id'])<-0x407+-0x1bf9+-0x100*-0x20||(this['_image']?_0x40f2b9['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x40f2b9['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x57b2ca){this['layers']['indexOf'](_0x57b2ca['id'])<-0x1*-0x21ff+0xc6a+-0x2e69||(this['_image']?_0x57b2ca['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x57b2ca['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x2c2fdc;const _0x4e818d=this['system']['app']['scene'],_0x1ceed3=_0x4e818d['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x4e818d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1ceed3&&(this['_evtLayerA'+'dded']=_0x1ceed3['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1ceed3['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x1*0x219d+-0x16bf+-0x4*-0xe17&&((_0x2c2fdc=this['system']['app']['batcher'])==null||_0x2c2fdc['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x5a16f1,_0x5ea10c,_0x519859,_0x230053;const _0x272bb4=this['system']['app']['scene']['layers'];(_0x5a16f1=this['_evtLayers'+'Changed'])==null||_0x5a16f1['off'](),this['_evtLayers'+'Changed']=null,_0x272bb4&&((_0x5ea10c=this['_evtLayerA'+'dded'])==null||_0x5ea10c['off'](),this['_evtLayerA'+'dded']=null,(_0x519859=this['_evtLayerR'+'emoved'])==null||_0x519859['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x1d3*-0x13+-0x218*0x9+0x3581&&((_0x230053=this['system']['app']['batcher'])==null||_0x230053['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x327204,_0x5f3ef7){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x5f4ddf=this['_absRight']-this['_absLeft'],_0x4d14c7=this['_absTop']-this['_absBottom'];_0x327204?this['_setWidth'](_0x5f4ddf):this['_setCalcul'+'atedWidth'](_0x5f4ddf,!(-0x10d2+0x1c45+0x125*-0xa)),_0x5f3ef7?this['_setHeight'](_0x4d14c7):this['_setCalcul'+'atedHeight'](_0x4d14c7,!(0x45*-0x11+-0x1b1f+-0x1*-0x1fb5));const _0x162cd4=this['entity']['getLocalPo'+'sition']();_0x162cd4['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x162cd4['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x162cd4),this['_sizeDirty']=!(-0x1af4+0x372+-0x1783*-0x1);}['_setWidth'](_0x95d830){this['_width']=_0x95d830,this['_setCalcul'+'atedWidth'](_0x95d830,!(0xd*0x1af+-0x45*0xf+-0x11d7)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x27a407){this['_height']=_0x27a407,this['_setCalcul'+'atedHeight'](_0x27a407,!(0x581*0x3+0x1*-0x97+0xa3*-0x19)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x504f9f,_0x1ec868){if(!(Math['abs'](_0x504f9f-this['_calculate'+'dWidth'])<=-0xd06+0x23de+-0x16d8+0.0001)){if(this['_calculate'+'dWidth']=_0x504f9f,this['entity']['_dirtifyLo'+'cal'](),_0x1ec868){const _0x176d90=this['entity']['getLocalPo'+'sition'](),_0x525ab1=this['_pivot'];this['_margin']['x']=_0x176d90['x']-this['_calculate'+'dWidth']*_0x525ab1['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x458cb4,_0x398850){if(!(Math['abs'](_0x458cb4-this['_calculate'+'dHeight'])<=-0x2*0x180+-0x29*0x3d+0xcc5+0.0001)){if(this['_calculate'+'dHeight']=_0x458cb4,this['entity']['_dirtifyLo'+'cal'](),_0x398850){const _0x49f572=this['entity']['getLocalPo'+'sition'](),_0x16bd09=this['_pivot'];this['_margin']['y']=_0x49f572['y']-this['_calculate'+'dHeight']*_0x16bd09['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x2ef8f0=this['entity']['_children'];for(let _0x395ce3=-0x2e*0xb5+0x1*-0x1543+0x35c9,_0x529195=_0x2ef8f0['length'];_0x395ce3<_0x529195;_0x395ce3++)_0x2ef8f0[_0x395ce3]['element']&&(_0x2ef8f0[_0x395ce3]['element']['_anchorDir'+'ty']=!(0x4a5*-0x2+-0x11*-0x18+0x18a*0x5),_0x2ef8f0[_0x395ce3]['element']['_sizeDirty']=!(0x73c+0x398+-0xad4));}['addModelTo'+'Layers'](_0x2457d3){this['_addedMode'+'ls']['push'](_0x2457d3);for(let _0x38893d=0x1*0x1ad7+-0x23ad+0x1d*0x4e;_0x38893d<this['layers']['length'];_0x38893d++){const _0xd3afde=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x38893d]);_0xd3afde&&_0xd3afde['addMeshIns'+'tances'](_0x2457d3['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x16969c){const _0x2f6d5b=this['_addedMode'+'ls']['indexOf'](_0x16969c);_0x2f6d5b>=0x3*0x8d+-0x12b5+0x110e&&this['_addedMode'+'ls']['splice'](_0x2f6d5b,-0x1*0x74a+-0x3a9*-0x2+0x1*-0x7);for(let _0x141e7c=-0xfbb+-0x5*0x1a4+-0x1*-0x17ef;_0x141e7c<this['layers']['length'];_0x141e7c++){const _0x2e225b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x141e7c]);_0x2e225b&&_0x2e225b['removeMesh'+'Instances'](_0x16969c['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x4b4017=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x4b4017&&(this['_maskOffse'+'t']=-0xed+-0x1af5*0x1+0x56*0x53+0.5,this['_offsetRea'+'dAt']=_0x4b4017);const _0x5504ba=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x1481+-0x135*-0x1a+0x167*-0x25+0.001,_0x5504ba;}['isVisibleF'+'orCamera'](_0x2bfa08){let _0x395493,_0x4bc853,_0x43dd8b,_0x479ab5;if(this['maskedBy']){const _0x5a9b40=this['maskedBy']['element']['screenCorn'+'ers'];_0x395493=Math['min'](Math['min'](_0x5a9b40[-0xd66+0x1bb9+0x13*-0xc1]['x'],_0x5a9b40[0x145f+-0x8dd*-0x2+-0x2618]['x']),Math['min'](_0x5a9b40[-0x2*0xb7b+-0x13*0x149+0x2f63]['x'],_0x5a9b40[-0x1*-0x152b+-0x13b9+0x1*-0x16f]['x'])),_0x4bc853=Math['max'](Math['max'](_0x5a9b40[0xac7+-0xa*-0x2ce+-0xcf1*0x3]['x'],_0x5a9b40[0x196+0x9*0x38f+-0x219c*0x1]['x']),Math['max'](_0x5a9b40[0x166*0x19+-0xb5e+0x2*-0xbcb]['x'],_0x5a9b40[-0x85c+-0x1ad+-0x4*-0x283]['x'])),_0x479ab5=Math['min'](Math['min'](_0x5a9b40[0x14c4+0x694+0xc8*-0x23]['y'],_0x5a9b40[-0x9*0x9f+-0xc4a+-0x11e2*-0x1]['y']),Math['min'](_0x5a9b40[-0x137*-0xd+0x154a+-0x2513]['y'],_0x5a9b40[0xed2+-0x1b46+-0x1*-0xc77]['y'])),_0x43dd8b=Math['max'](Math['max'](_0x5a9b40[-0x5e*0x28+0x2439+-0x1589]['y'],_0x5a9b40[0x1b81+0x2a6*0x6+0x2*-0x15b2]['y']),Math['max'](_0x5a9b40[0x1a73+0x23d4+-0x3e45]['y'],_0x5a9b40[0xe*0xdf+-0x1*-0xd3d+0xcb6*-0x2]['y']));}else{const _0x472f2c=this['system']['app']['graphicsDe'+'vice']['width'],_0x499f2a=this['system']['app']['graphicsDe'+'vice']['height'],_0x2f0bdd=_0x2bfa08['_rect']['z']*_0x472f2c,_0x218b9f=_0x2bfa08['_rect']['w']*_0x499f2a;_0x395493=_0x2bfa08['_rect']['x']*_0x472f2c,_0x4bc853=_0x395493+_0x2f0bdd,_0x43dd8b=(0x2353+0x5ba*0x1+0x8e*-0x4a-_0x2bfa08['_rect']['y'])*_0x499f2a,_0x479ab5=_0x43dd8b-_0x218b9f;}const _0x4f64cd=this['screenCorn'+'ers'],_0x472b34=Math['min'](Math['min'](_0x4f64cd[0xc5*-0x2d+-0x1*-0x1d2d+0x2*0x2ba]['x'],_0x4f64cd[0x38+-0x36*0x23+0x1*0x72b]['x']),Math['min'](_0x4f64cd[-0x1*-0x2653+0x1*-0x172d+-0x143*0xc]['x'],_0x4f64cd[0x1*-0x24a9+-0x1aea+0x3f96]['x'])),_0x2f886d=Math['max'](Math['max'](_0x4f64cd[-0x256f+0x1c0+0x23af]['x'],_0x4f64cd[-0xb9*0x19+0x199*0x16+-0x1114]['x']),Math['max'](_0x4f64cd[0x17*0xf7+0x5b*-0x3c+-0x3*0x49]['x'],_0x4f64cd[0x15b3+-0x2d2+-0x12de]['x'])),_0x63b0f3=Math['min'](Math['min'](_0x4f64cd[0x1647+0x465*0x3+-0x2376]['y'],_0x4f64cd[-0x1*-0x1ed6+-0x11d6+-0x3*0x455]['y']),Math['min'](_0x4f64cd[0x815+-0x1e83*-0x1+-0x2696]['y'],_0x4f64cd[-0x17a5+-0x12f*-0xa+0xbd2]['y'])),_0x3866f5=Math['max'](Math['max'](_0x4f64cd[0x86*-0x26+0x24d9+-0x10f5]['y'],_0x4f64cd[-0x1bc*-0x1+0x2*-0x7de+0x4ab*0x3]['y']),Math['max'](_0x4f64cd[0x1b52+0x3d*-0x19+-0x155b]['y'],_0x4f64cd[-0x626*0x1+0x1f7c+-0x1953]['y']));return!(_0x2f886d<_0x395493||_0x472b34>_0x4bc853||_0x63b0f3>_0x43dd8b||_0x3866f5<_0x479ab5);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x25c*-0xf+-0x2381+0x1e*0x25d);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x247c+-0x409+0x2886);}['_dirtyBatc'+'h'](){var _0x1d10ce;this['batchGroup'+'Id']!==-(0x1c2d*-0x1+-0x1*0x1c14+0x3842)&&((_0x1d10ce=this['system']['app']['batcher'])==null||_0x1d10ce['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0x1*-0x755+0x88f*0x3+-0x4*0x496);}}const NR=['enabled'];class zR extends Xe{constructor(_0x33e551){super(_0x33e551),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x33e551['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x15fb57=this['_defaultTe'+'xture']['lock'](),_0x372606=new Uint8Array(-0x1aa2+0x1cdd+-0x237);_0x372606[0x146e+-0x1*-0x18af+-0x1*0x2d1d]=-0x1105*0x1+-0x1a3*-0x5+0x9d5,_0x372606[0x30f+0xef7*-0x2+0x158*0x14]=-0xa5d+0xe12+0x15b*-0x2,_0x372606[-0xfe4+0x101b+0x1*-0x35]=0x1af1+-0x67f*0x5+0x689,_0x372606[0x107f*0x1+0x216b+-0x19*0x1ff]=0xcff+-0x287*-0xa+-0x2546,_0x15fb57['set'](_0x372606),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x32c951,_0x36ae2a,_0x5dc4b9){_0x32c951['_beingInit'+'ialized']=!(-0x1a52+-0xf69*-0x1+-0x1*-0xae9),_0x36ae2a['anchor']!==void(-0xfc1+0x11e0*0x2+0x13ff*-0x1)&&(_0x36ae2a['anchor']instanceof Q?_0x32c951['anchor']['copy'](_0x36ae2a['anchor']):_0x32c951['anchor']['set'](_0x36ae2a['anchor'][0x1bd3+0xfe*0x15+-0x30a9*0x1],_0x36ae2a['anchor'][-0x5b0*0x6+0x5d*0x4a+0x73f],_0x36ae2a['anchor'][-0xe94+-0x1*0x7d1+0x1667],_0x36ae2a['anchor'][0x6*0xa6+0x1*-0xa+-0x3d7])),_0x36ae2a['pivot']!==void(0x1dd6+-0x885*0x2+-0xccc)&&(_0x36ae2a['pivot']instanceof $?_0x32c951['pivot']['copy'](_0x36ae2a['pivot']):_0x32c951['pivot']['set'](_0x36ae2a['pivot'][-0x4f*-0x7b+-0xd9*0x12+-0x16b3],_0x36ae2a['pivot'][-0x1*-0x1e71+0x1990*-0x1+-0x4e0]));const _0xb7121d=Math['abs'](_0x32c951['anchor']['x']-_0x32c951['anchor']['z'])>-0x1*-0x467+0x26cb*-0x1+0x2264+0.001,_0xbd0b1d=Math['abs'](_0x32c951['anchor']['y']-_0x32c951['anchor']['w'])>0xdb2+-0xdad+-0x5+0.001;let _0x5b0e84=!(-0x14ed*0x1+0x25b*-0x5+0x20b5),_0xca7fb6;_0x36ae2a['margin']!==void(0x9ff+0x3*0xa82+0x3*-0xdd7)&&(_0x36ae2a['margin']instanceof Q?_0x32c951['margin']['copy'](_0x36ae2a['margin']):_0x32c951['_margin']['set'](_0x36ae2a['margin'][0x1619*0x1+0x8b*-0x5+-0x1*0x1362],_0x36ae2a['margin'][0x81f+-0x1c76+0x2*0xa2c],_0x36ae2a['margin'][0x2413+-0x316*0x8+0x3*-0x3cb],_0x36ae2a['margin'][-0x277*-0xf+0x1a57+-0x3f4d]),_0x5b0e84=!(0xd0a+-0x1695+0x98b)),_0x36ae2a['left']!==void(0x150c+0x1*-0xb19+0x1*-0x9f3)&&(_0x32c951['_margin']['x']=_0x36ae2a['left'],_0x5b0e84=!(-0x18c3+-0xa48+-0x1*-0x230b)),_0x36ae2a['bottom']!==void(0x1206+-0xa8e+-0x1*0x778)&&(_0x32c951['_margin']['y']=_0x36ae2a['bottom'],_0x5b0e84=!(0x3*-0xcc0+-0x25af+-0x7*-0xad9)),_0x36ae2a['right']!==void(0xfb+0x48*-0x9+0x18d)&&(_0x32c951['_margin']['z']=_0x36ae2a['right'],_0x5b0e84=!(-0x2239*0x1+-0xf*0x1fa+0x3fdf)),_0x36ae2a['top']!==void(-0x19*0x184+0xbf0*-0x2+0x3dc4)&&(_0x32c951['_margin']['w']=_0x36ae2a['top'],_0x5b0e84=!(-0x121+-0xa22*-0x2+-0x1323)),_0x5b0e84&&(_0x32c951['margin']=_0x32c951['_margin']);let _0x2f6f47=!(0x1*-0xee9+-0x7fa*-0x4+-0x10fe);_0x36ae2a['width']!==void(0x10*-0x161+0x13*0x33+-0x1*-0x1247)&&!_0xb7121d?_0x32c951['width']=_0x36ae2a['width']:_0xb7121d&&(_0x2f6f47=!(-0x398+0xcf4*0x2+-0x4*0x594)),_0x36ae2a['height']!==void(0x5e2*-0x3+0x4ba+0xcec)&&!_0xbd0b1d?_0x32c951['height']=_0x36ae2a['height']:_0xbd0b1d&&(_0x2f6f47=!(0x20b3+-0x2269+0x1b6)),_0x2f6f47&&(_0x32c951['anchor']=_0x32c951['anchor']),_0x36ae2a['enabled']!==void(-0x5ab+0x13f2+-0xe47)&&(_0x32c951['enabled']=_0x36ae2a['enabled']),_0x36ae2a['useInput']!==void(0x1bac+-0x2*-0x68e+-0x8*0x519)&&(_0x32c951['useInput']=_0x36ae2a['useInput']),_0x36ae2a['fitMode']!==void(-0x4d*-0x8+0x9d5*-0x1+0x76d)&&(_0x32c951['fitMode']=_0x36ae2a['fitMode']),_0x32c951['batchGroup'+'Id']=_0x36ae2a['batchGroup'+'Id']===void(0x236c+-0x22a0+-0xcc)||_0x36ae2a['batchGroup'+'Id']===null?-(0x160a+0x1dfa+-0x3403):_0x36ae2a['batchGroup'+'Id'],_0x36ae2a['layers']&&Array['isArray'](_0x36ae2a['layers'])&&(_0x32c951['layers']=_0x36ae2a['layers']['slice'](-0xa*0x151+0x15f4*0x1+-0x2d*0x32)),_0x36ae2a['type']!==void(0x176c+0xfbf*-0x1+-0x7ad)&&(_0x32c951['type']=_0x36ae2a['type']),_0x32c951['type']===rf?(_0x36ae2a['rect']!==void(0x11*0x22+0x23e3+0x9b*-0x3f)&&(_0x32c951['rect']=_0x36ae2a['rect']),_0x36ae2a['color']!==void(-0xe47*0x1+-0x1*-0x22e+-0x1*-0xc19)&&(_0xca7fb6=_0x36ae2a['color'],_0xca7fb6 instanceof Y||(_0xca7fb6=new Y(_0x36ae2a['color'][-0x202+-0x1*0x1b59+0x1d5b],_0x36ae2a['color'][-0xc10+-0x115f+0x1d70],_0x36ae2a['color'][0xec*-0x13+0x1285+-0x3*0x55])),_0x32c951['color']=_0xca7fb6),_0x36ae2a['opacity']!==void(0x492*0x7+0x22b2+-0x42b0)&&(_0x32c951['opacity']=_0x36ae2a['opacity']),_0x36ae2a['textureAss'+'et']!==void(-0x87d*-0x2+-0x3b0*0x4+-0x23a)&&(_0x32c951['textureAss'+'et']=_0x36ae2a['textureAss'+'et']),_0x36ae2a['texture']&&(_0x32c951['texture']=_0x36ae2a['texture']),_0x36ae2a['spriteAsse'+'t']!==void(-0x1a89+-0x1f4f+0x39d8)&&(_0x32c951['spriteAsse'+'t']=_0x36ae2a['spriteAsse'+'t']),_0x36ae2a['sprite']&&(_0x32c951['sprite']=_0x36ae2a['sprite']),_0x36ae2a['spriteFram'+'e']!==void(0x849*-0x1+0xfe7+-0x79e)&&(_0x32c951['spriteFram'+'e']=_0x36ae2a['spriteFram'+'e']),_0x36ae2a['pixelsPerU'+'nit']!==void(0x604+-0xb27*-0x1+-0x3*0x5b9)&&_0x36ae2a['pixelsPerU'+'nit']!==null&&(_0x32c951['pixelsPerU'+'nit']=_0x36ae2a['pixelsPerU'+'nit']),_0x36ae2a['materialAs'+'set']!==void(0x168d+-0x5b*0x3d+0xde*-0x1)&&(_0x32c951['materialAs'+'set']=_0x36ae2a['materialAs'+'set']),_0x36ae2a['material']&&(_0x32c951['material']=_0x36ae2a['material']),_0x36ae2a['mask']!==void(0x1*-0x355+0x7*0x4df+-0x16*0x166)&&(_0x32c951['mask']=_0x36ae2a['mask'])):_0x32c951['type']===ex&&(_0x36ae2a['autoWidth']!==void(0x170*0x16+0x2363*0x1+-0x5*0xd67)&&(_0x32c951['autoWidth']=_0x36ae2a['autoWidth']),_0x36ae2a['autoHeight']!==void(-0xbd*0xa+0x1a37+-0x12d5)&&(_0x32c951['autoHeight']=_0x36ae2a['autoHeight']),_0x36ae2a['rtlReorder']!==void(-0xf*-0x125+0x2ca+0x6a7*-0x3)&&(_0x32c951['rtlReorder']=_0x36ae2a['rtlReorder']),_0x36ae2a['unicodeCon'+'verter']!==void(-0x1e0b+-0x2f*-0x1c+0x18e7)&&(_0x32c951['unicodeCon'+'verter']=_0x36ae2a['unicodeCon'+'verter']),_0x36ae2a['text']!==null&&_0x36ae2a['text']!==void(0x435*0x3+-0xbf7+-0xa8)?_0x32c951['text']=_0x36ae2a['text']:_0x36ae2a['key']!==null&&_0x36ae2a['key']!==void(-0x260e+-0x1758+0x1eb3*0x2)&&(_0x32c951['key']=_0x36ae2a['key']),_0x36ae2a['color']!==void(-0x1*-0x1d08+0x1*-0xaed+-0x9*0x203)&&(_0xca7fb6=_0x36ae2a['color'],_0xca7fb6 instanceof Y||(_0xca7fb6=new Y(_0xca7fb6[-0x1141+-0xe7b+0x1fbc],_0xca7fb6[-0x10*0x3d+-0x1b47+0x1f18],_0xca7fb6[0xc1*-0xa+-0x1*0x63c+0x1b9*0x8])),_0x32c951['color']=_0xca7fb6),_0x36ae2a['opacity']!==void(-0x11a8+0xf*0x29+0x47*0x37)&&(_0x32c951['opacity']=_0x36ae2a['opacity']),_0x36ae2a['spacing']!==void(0x22a6+0x2411+-0x1a5*0x2b)&&(_0x32c951['spacing']=_0x36ae2a['spacing']),_0x36ae2a['fontSize']!==void(-0x79+-0x149b+-0x47*-0x4c)&&(_0x32c951['fontSize']=_0x36ae2a['fontSize'],_0x36ae2a['lineHeight']||(_0x32c951['lineHeight']=_0x36ae2a['fontSize'])),_0x36ae2a['lineHeight']!==void(-0x1*-0x25bd+-0x34*0x52+-0x303*0x7)&&(_0x32c951['lineHeight']=_0x36ae2a['lineHeight']),_0x36ae2a['maxLines']!==void(0x24f5*0x1+0x941*-0x2+0x1*-0x1273)&&(_0x32c951['maxLines']=_0x36ae2a['maxLines']),_0x36ae2a['wrapLines']!==void(-0x1b1+0x1*0x1616+-0x1465)&&(_0x32c951['wrapLines']=_0x36ae2a['wrapLines']),_0x36ae2a['minFontSiz'+'e']!==void(0x1482+-0xe06+-0x67c)&&(_0x32c951['minFontSiz'+'e']=_0x36ae2a['minFontSiz'+'e']),_0x36ae2a['maxFontSiz'+'e']!==void(0x1*0x3df+0x1bda+-0x1fb9)&&(_0x32c951['maxFontSiz'+'e']=_0x36ae2a['maxFontSiz'+'e']),_0x36ae2a['autoFitWid'+'th']&&(_0x32c951['autoFitWid'+'th']=_0x36ae2a['autoFitWid'+'th']),_0x36ae2a['autoFitHei'+'ght']&&(_0x32c951['autoFitHei'+'ght']=_0x36ae2a['autoFitHei'+'ght']),_0x36ae2a['fontAsset']!==void(0x1e25+-0xf*0x1a1+0x2*-0x2db)&&(_0x32c951['fontAsset']=_0x36ae2a['fontAsset']),_0x36ae2a['font']!==void(0x1f0*-0x1+-0x20*0xf0+-0x49*-0x70)&&(_0x32c951['font']=_0x36ae2a['font']),_0x36ae2a['alignment']!==void(-0x9b2+-0x76f+0x1121)&&(_0x32c951['alignment']=_0x36ae2a['alignment']),_0x36ae2a['outlineCol'+'or']!==void(0x1fca+-0x1091+-0x3*0x513)&&(_0x32c951['outlineCol'+'or']=_0x36ae2a['outlineCol'+'or']),_0x36ae2a['outlineThi'+'ckness']!==void(-0x17*-0xd+-0x9d8+0x1*0x8ad)&&(_0x32c951['outlineThi'+'ckness']=_0x36ae2a['outlineThi'+'ckness']),_0x36ae2a['shadowColo'+'r']!==void(-0x2518+-0x2394+-0x2456*-0x2)&&(_0x32c951['shadowColo'+'r']=_0x36ae2a['shadowColo'+'r']),_0x36ae2a['shadowOffs'+'et']!==void(0x470*0x2+-0x9e3+0x103*0x1)&&(_0x32c951['shadowOffs'+'et']=_0x36ae2a['shadowOffs'+'et']),_0x36ae2a['enableMark'+'up']!==void(-0x1fba+-0x4a6*-0x5+0x1*0x87c)&&(_0x32c951['enableMark'+'up']=_0x36ae2a['enableMark'+'up']));const _0x580f36=_0x32c951['_parseUpTo'+'Screen']();_0x580f36['screen']&&_0x32c951['_updateScr'+'een'](_0x580f36['screen']),super['initialize'+'ComponentD'+'ata'](_0x32c951,_0x36ae2a,_0x5dc4b9),_0x32c951['_beingInit'+'ialized']=!(-0x1f6a+-0x3*-0x365+0x153c),_0x32c951['type']===rf&&_0x32c951['_image']['_meshDirty']&&_0x32c951['_image']['_updateMes'+'h'](_0x32c951['_image']['mesh']);}['onAddCompo'+'nent'](_0x3ba4fa,_0xb1bdd8){_0x3ba4fa['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x21a587,_0x582584){_0x582584['onRemove']();}['cloneCompo'+'nent'](_0xe4553,_0x436733){const _0x441133=_0xe4553['element'],_0x57b0bc={'enabled':_0x441133['enabled'],'width':_0x441133['width'],'height':_0x441133['height'],'anchor':_0x441133['anchor']['clone'](),'pivot':_0x441133['pivot']['clone'](),'margin':_0x441133['margin']['clone'](),'alignment':_0x441133['alignment']&&_0x441133['alignment']['clone']()||_0x441133['alignment'],'autoWidth':_0x441133['autoWidth'],'autoHeight':_0x441133['autoHeight'],'type':_0x441133['type'],'rect':_0x441133['rect']&&_0x441133['rect']['clone']()||_0x441133['rect'],'rtlReorder':_0x441133['rtlReorder'],'unicodeConverter':_0x441133['unicodeCon'+'verter'],'materialAsset':_0x441133['materialAs'+'set'],'material':_0x441133['material'],'color':_0x441133['color']&&_0x441133['color']['clone']()||_0x441133['color'],'opacity':_0x441133['opacity'],'textureAsset':_0x441133['textureAss'+'et'],'texture':_0x441133['texture'],'spriteAsset':_0x441133['spriteAsse'+'t'],'sprite':_0x441133['sprite'],'spriteFrame':_0x441133['spriteFram'+'e'],'pixelsPerUnit':_0x441133['pixelsPerU'+'nit'],'spacing':_0x441133['spacing'],'lineHeight':_0x441133['lineHeight'],'wrapLines':_0x441133['wrapLines'],'layers':_0x441133['layers'],'fontSize':_0x441133['fontSize'],'minFontSize':_0x441133['minFontSiz'+'e'],'maxFontSize':_0x441133['maxFontSiz'+'e'],'autoFitWidth':_0x441133['autoFitWid'+'th'],'autoFitHeight':_0x441133['autoFitHei'+'ght'],'maxLines':_0x441133['maxLines'],'fontAsset':_0x441133['fontAsset'],'font':_0x441133['font'],'useInput':_0x441133['useInput'],'fitMode':_0x441133['fitMode'],'batchGroupId':_0x441133['batchGroup'+'Id'],'mask':_0x441133['mask'],'outlineColor':_0x441133['outlineCol'+'or']&&_0x441133['outlineCol'+'or']['clone']()||_0x441133['outlineCol'+'or'],'outlineThickness':_0x441133['outlineThi'+'ckness'],'shadowColor':_0x441133['shadowColo'+'r']&&_0x441133['shadowColo'+'r']['clone']()||_0x441133['shadowColo'+'r'],'shadowOffset':_0x441133['shadowOffs'+'et']&&_0x441133['shadowOffs'+'et']['clone']()||_0x441133['shadowOffs'+'et'],'enableMarkup':_0x441133['enableMark'+'up']};return _0x441133['key']!==void(-0x1b22+-0x2bf*-0xa+-0x54)&&_0x441133['key']!==null?_0x57b0bc['key']=_0x441133['key']:_0x57b0bc['text']=_0x441133['text'],this['addCompone'+'nt'](_0x436733,_0x57b0bc);}['getTextEle'+'mentMateri'+'al'](_0x4b35d0,_0x3a301a,_0x30d74b){const _0x112178=(_0x4b35d0&&0x2*-0x889+0x1c53+0x5a*-0x20)|(_0x3a301a&&0x1*-0xab6+-0x23b*-0xe+0x69*-0x32)|(_0x30d74b&&0xea*-0x5+-0xb6f*-0x2+-0x1248);let _0x548c28=this['_defaultTe'+'xtMaterial'+'s'][_0x112178];if(_0x548c28)return _0x548c28;let _0x2e9169='TextMateri'+'al';return _0x548c28=new cs(),_0x3a301a?(_0x548c28['msdfMap']=this['_defaultTe'+'xture'],_0x548c28['msdfTextAt'+'tribute']=_0x30d74b,_0x548c28['emissive']['set'](0x877*0x3+-0x2*0x101e+0x6d8,-0x227e+0x1d07*0x1+0x578,0xf24+0x1042+-0x2f*0xab)):(_0x2e9169='Bitmap'+_0x2e9169,_0x548c28['emissive']['set'](0x1*0x3e6+-0x1aee+0x1709,0x169+-0x6*0x16e+0x72c,-0x1546+0x9a2+0xba5),_0x548c28['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x548c28['opacityMap']=this['_defaultTe'+'xture'],_0x548c28['opacityMap'+'Channel']='a'),_0x4b35d0&&(_0x2e9169='ScreenSpac'+'e'+_0x2e9169,_0x548c28['depthTest']=!(0x16fc+-0x344*-0x8+-0x311b)),_0x548c28['name']='default'+_0x2e9169,_0x548c28['useLightin'+'g']=!(-0x11ce+-0x4*0x4dc+0x773*0x5),_0x548c28['useTonemap']=!(0x15e+0x1089+-0x11e6),_0x548c28['useFog']=!(-0x32*0x8+-0x61*-0x41+-0x1710),_0x548c28['useSkybox']=!(0x435*0x3+0xa6e+-0x170c),_0x548c28['diffuse']['set'](-0x1770+-0x654+0x1*0x1dc4,-0x1c4+0x302*0xa+-0x1c50,0x235*-0xa+-0x21bb+-0x5*-0xb29),_0x548c28['opacity']=-0x305+-0x10b*-0x4+-0x127+0.5,_0x548c28['blendType']=hr,_0x548c28['depthWrite']=!(0x951+0x3b*0x50+-0x4*0x6f0),_0x548c28['emissiveVe'+'rtexColor']=!(0x2*0x7b3+-0x1a3e*0x1+0xad8),_0x548c28['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x112178]=_0x548c28,_0x548c28;}['_createBas'+'eImageMate'+'rial'](){const _0x553ae4=new cs();return _0x553ae4['diffuse']['set'](0x2309+-0x1*0xc25+0x4*-0x5b9,0x1878+0x26f+-0x1ae7,-0x26b0+0x2*0x10ca+0x147*0x4),_0x553ae4['emissive']['set'](0xc5*0x26+0x3a1*0x7+-0x434*0xd,-0x1*0xb1b+0x1*-0xf75+0x1a91,0xb65*0x1+0x18b7+0x403*-0x9),_0x553ae4['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x553ae4['opacityMap']=this['_defaultTe'+'xture'],_0x553ae4['opacityMap'+'Channel']='a',_0x553ae4['useLightin'+'g']=!(-0x2573+0xadf+0x1a95),_0x553ae4['useTonemap']=!(-0x2b6*-0x1+0x293+-0x548),_0x553ae4['useFog']=!(-0x710+-0xf7*-0xb+-0x2*0x1c6),_0x553ae4['useSkybox']=!(-0xbee+0x312+-0x1*-0x8dd),_0x553ae4['blendType']=hr,_0x553ae4['depthWrite']=!(0x5*0x72b+-0xdb7+-0x161f),_0x553ae4;}['getImageEl'+'ementMater'+'ial'](_0x176ad7,_0x26e91f,_0xb41f25,_0x3e2497){return _0x176ad7?_0x26e91f?_0xb41f25?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0xb4d+-0xabc+-0x8*0x12),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x2395+-0x211b+0xd3*-0x3,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x1*0x86b+-0x509+0x361*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x1d92+0x1362+-0x1*0x30f3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x25dd+-0x29*0x29+-0x36b*-0xd),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0xdd*0xc+0x7*-0x55b+-0x2*-0xd91),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x3e2497?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0xf44+-0x2*0xa07+0x2353),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x1*0x12e5+-0x1*-0x24c3+0x37a7*-0x1,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0xde0+-0x1*0x14bd+-0x229e*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x2*0x907+-0x2d*0x1+0x123c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x187d+-0x975+-0x3*-0xb51),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x137d+-0x3*-0x7d5+-0x19*0x29),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x25d4+0x1*-0xca+0x269f),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x1645+-0xcbb*0x1+0x2301,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0xf4*-0x1b+0x16ca*0x1+0x2f3),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x136e+-0x1a1a+-0x1*-0x6ad),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x8ca+0x3*-0x57a+-0x67*-0x13),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x225*0x7+-0x608*-0x1+0x2e*0x32),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0xb41f25?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x18fd+-0x12*0x20b+-0x2*-0x5e5),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x3e2497?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x169a+0x2452+-0x1*0x3aeb),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x367*0xb+0x22ef+-0x485b),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x26e91f?_0xb41f25?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x1*0xe2+0x1*0x1d44+-0x1e25,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0xa79+-0x150e+0xa96),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x519+-0x1*0x2094+-0x6df*-0x4),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x1830+0x2bd+0xd76*-0x2),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x1*0x22e6+-0x2*0x1231+0x4749*0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x3e2497?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x120c+-0xb*0x2ed+-0x14*-0x283,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x11*0x81+-0x14bd+0x1d4f),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0xf4a+-0x3*0x473+-0x4e*-0x5e),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x36e+0x1ac0+-0x135*0x19),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x7fc+0x1020+-0x823),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x68c+-0xc*-0x97+-0x87,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x6a*0x3e+0x5d0+-0x1f7b*0x1),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x8*0x11a+-0x195*-0x15+-0x238*0xb),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x773*0x1+0x439*-0x2+-0x2*-0x80),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x1db4+-0x1e20+0x3bd5*0x1),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0xb41f25?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x3e2497?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x4fd4ca){this['_unicodeCo'+'nverter']=_0x4fd4ca;}['registerRt'+'lReorder'](_0x4228fb){this['_rtlReorde'+'r']=_0x4228fb;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x8171d,_0x204548){super(_0x8171d,_0x204548),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x1fe2+-0x56a+-0x254c*-0x1),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new $(-0x1*0x24a1+-0x656+0x2af7,0xded+0x1ff4+-0x2de1),this['_linearSpr'+'ingX']=!(-0x1d1a+-0x9f2+-0x270d*-0x1),this['_linearSti'+'ffnessX']=-0xe91+0xd8e+0x103,this['_linearDam'+'pingX']=-0x8f4+0x151*0x1d+-0x1d38,this['_linearEqu'+'ilibriumX']=-0x386*-0x6+-0x10bd+-0x467,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new $(-0x1*-0x1aa3+0x1b0f+-0x35b2,-0x21a9+0x1225+-0x296*-0x6),this['_linearSpr'+'ingY']=!(-0x21fb*-0x1+-0x135+-0x20c5),this['_linearSti'+'ffnessY']=0x721+-0x1*0xdb7+0x696,this['_linearDam'+'pingY']=0x2191+0xa1e+0x1*-0x2bae,this['_linearEqu'+'ilibriumY']=0x1*-0x748+-0x137*0x15+0x20cb,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new $(0x14c1+-0x23e8*-0x1+-0x38a9,-0x692+-0x1954+0x1fe6),this['_linearSpr'+'ingZ']=!(-0xe15+-0x568+0x2*0x9bf),this['_linearSti'+'ffnessZ']=-0xc9*0x4+-0x4*0x35b+0x1090,this['_linearDam'+'pingZ']=0x2*0x91d+0x1a2d*0x1+0x2*-0x1633,this['_linearEqu'+'ilibriumZ']=-0x1*0x1963+0x9b6+0xfad,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new $(0x21ea+0x2a*-0xc6+-0x2*0xb7,0x178d+-0x1*0x447+-0x1346),this['_angularSp'+'ringX']=!(-0x1*0x22a+-0x3*0x1c1+0x76e),this['_angularSt'+'iffnessX']=-0x2430+0x42*-0x14+0x2958,this['_angularDa'+'mpingX']=0x1871*0x1+0x14a4*0x1+0x4*-0xb45,this['_angularEq'+'uilibriumX']=0x1*0xec7+-0xe06+-0xc1,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new $(-0x16c5*0x1+0x1cff+-0x63a,-0x8a*-0x1f+0x1a80+0x159b*-0x2),this['_angularSp'+'ringY']=!(-0x1b49+-0x239c+0x2*0x1f73),this['_angularSt'+'iffnessY']=-0xd66+0xefc+-0x196,this['_angularDa'+'mpingY']=-0x1db6+-0x151e+0x8f*0x5b,this['_angularEq'+'uilibriumY']=-0x10f5+0x1*0x21c7+-0x10d2,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new $(0x10d*0xe+-0x47a*0x2+-0x5c2,0x1b32+-0x121c+-0x916),this['_angularSp'+'ringZ']=!(0x192a+-0x227d+-0x4*-0x255),this['_angularEq'+'uilibriumZ']=-0x7ac+0x14f*-0x1+-0x1*-0x8fb,this['_angularDa'+'mpingZ']=-0x445*-0x2+-0x22ba+0x1a31,this['_angularSt'+'iffnessZ']=-0x3cf+-0x3b9*0x6+-0x8b7*-0x3,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x2f9d0f){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x2f9d0f,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x583ef6){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x583ef6,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x24fdbc){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x24fdbc&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x24fdbc),this['_breakForc'+'e']=_0x24fdbc);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x145845){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x145845,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x4b0321){this['_angularLi'+'mitsX']['equals'](_0x4b0321)||(this['_angularLi'+'mitsX']['copy'](_0x4b0321),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x5d1549){this['_angularMo'+'tionX']!==_0x5d1549&&(this['_angularMo'+'tionX']=_0x5d1549,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x4739c4){this['_angularLi'+'mitsY']['equals'](_0x4739c4)||(this['_angularLi'+'mitsY']['copy'](_0x4739c4),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x5d3c48){this['_angularMo'+'tionY']!==_0x5d3c48&&(this['_angularMo'+'tionY']=_0x5d3c48,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x163ea6){this['_angularLi'+'mitsZ']['equals'](_0x163ea6)||(this['_angularLi'+'mitsZ']['copy'](_0x163ea6),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x218fae){this['_angularMo'+'tionZ']!==_0x218fae&&(this['_angularMo'+'tionZ']=_0x218fae,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x16c8ab){this['_linearLim'+'itsX']['equals'](_0x16c8ab)||(this['_linearLim'+'itsX']['copy'](_0x16c8ab),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x195826){this['_linearMot'+'ionX']!==_0x195826&&(this['_linearMot'+'ionX']=_0x195826,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x5c829d){this['_linearLim'+'itsY']['equals'](_0x5c829d)||(this['_linearLim'+'itsY']['copy'](_0x5c829d),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x41e05a){this['_linearMot'+'ionY']!==_0x41e05a&&(this['_linearMot'+'ionY']=_0x41e05a,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x2c809f){this['_linearLim'+'itsZ']['equals'](_0x2c809f)||(this['_linearLim'+'itsZ']['copy'](_0x2c809f),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x302a15){this['_linearMot'+'ionZ']!==_0x302a15&&(this['_linearMot'+'ionZ']=_0x302a15,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x39493d,_0x3ad003){const _0x537c63=_0x39493d['getTransla'+'tion'](),_0x3d722d=new se();_0x3d722d['setFromMat'+'4'](_0x39493d);const _0x5006eb=new Ammo['btVector3'](_0x537c63['x'],_0x537c63['y'],_0x537c63['z']),_0x2c9012=new Ammo['btQuaterni'+'on'](_0x3d722d['x'],_0x3d722d['y'],_0x3d722d['z'],_0x3d722d['w']);_0x3ad003['setOrigin'](_0x5006eb),_0x3ad003['setRotatio'+'n'](_0x2c9012),Ammo['destroy'](_0x5006eb),Ammo['destroy'](_0x2c9012);}['_updateAng'+'ularLimits'](){const _0xdc335=this['_constrain'+'t'];if(_0xdc335){let _0x45d76a,_0x339e06,_0xd74cc5,_0xe9d655,_0x3af0df,_0x569221;this['_angularMo'+'tionX']===Vn?(_0x45d76a=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0xe9d655=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x45d76a=0xe97+0x2340+-0x31d6,_0xe9d655=0x1*-0xe5a+0x1*-0x32b+0x1185):_0x45d76a=_0xe9d655=0xf7*-0x13+0xb15+0x740,this['_angularMo'+'tionY']===Vn?(_0x339e06=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x3af0df=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x339e06=0x22f9+-0x967+-0x1991,_0x3af0df=-0x24a4+-0x6b6*0x1+0x2b5a*0x1):_0x339e06=_0x3af0df=0xa9c+-0x2+-0xa9a,this['_angularMo'+'tionZ']===Vn?(_0xd74cc5=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x569221=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0xd74cc5=-0x5d*-0x51+-0x599+0x1*-0x17d3,_0x569221=-0x17e4+0x24b+0x1*0x1599):_0xd74cc5=_0x569221=0x4*-0xa6+-0xc62+0x4fe*0x3;const _0x647371=new Ammo['btVector3'](_0x45d76a,_0x339e06,_0xd74cc5);_0xdc335['setAngular'+'LowerLimit'](_0x647371),_0x647371['setValue'](_0xe9d655,_0x3af0df,_0x569221),_0xdc335['setAngular'+'UpperLimit'](_0x647371),Ammo['destroy'](_0x647371);}}['_updateLin'+'earLimits'](){const _0x3a13ae=this['_constrain'+'t'];if(_0x3a13ae){let _0x1855c6,_0x37b253,_0x3fb976,_0x42957a,_0x396c44,_0x552c3e;this['_linearMot'+'ionX']===Vn?(_0x1855c6=this['_linearLim'+'itsX']['x'],_0x42957a=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x1855c6=-0x25d3+-0x119e+0x3772,_0x42957a=0x481+0x1*-0x238b+-0x1d*-0x112):_0x1855c6=_0x42957a=0x2*-0x161+0x1463+-0x1*0x11a1,this['_linearMot'+'ionY']===Vn?(_0x37b253=this['_linearLim'+'itsY']['x'],_0x396c44=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x37b253=-0x1*0x1f18+-0x3a0*-0x1+0x1b79,_0x396c44=-0x410+-0xc43+0x1053):_0x37b253=_0x396c44=0x1053+0x9ac+-0x19ff,this['_linearMot'+'ionZ']===Vn?(_0x3fb976=this['_linearLim'+'itsZ']['x'],_0x552c3e=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x3fb976=0x195e+-0x3d1*-0x1+-0x1d2e,_0x552c3e=0x280*0x4+0x21de+-0x2bde):_0x3fb976=_0x552c3e=0x5*0x207+-0x2b*-0x49+-0x1666;const _0x4c2437=new Ammo['btVector3'](_0x1855c6,_0x37b253,_0x3fb976);_0x3a13ae['setLinearL'+'owerLimit'](_0x4c2437),_0x4c2437['setValue'](_0x42957a,_0x396c44,_0x552c3e),_0x3a13ae['setLinearU'+'pperLimit'](_0x4c2437),Ammo['destroy'](_0x4c2437);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x415671=new q(),_0x21109e=this['_entityA']['rigidbody']['body'];_0x21109e['activate']();const _0x4dbf05=this['entity']['getWorldTr'+'ansform'](),_0xafc99e=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x415671['mul2'](_0xafc99e,_0x4dbf05);const _0x614144=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x415671,_0x614144),this['_entityB']&&this['_entityB']['rigidbody']){const _0xbedf5f=this['_entityB']['rigidbody']['body'];_0xbedf5f['activate']();const _0x4881ad=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x415671['mul2'](_0x4881ad,_0x4dbf05);const _0x5e6a99=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x415671,_0x5e6a99),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x21109e,_0xbedf5f,_0x614144,_0x5e6a99,!this['_enableCol'+'lision']),Ammo['destroy'](_0x5e6a99);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x21109e,_0x614144,!this['_enableCol'+'lision']);Ammo['destroy'](_0x614144);const _0x748e45=['X','Y','Z','X','Y','Z'];for(let _0xa59eb7=-0x71e+0x1*0x233+0x4eb;_0xa59eb7<-0x3*-0xcd+0x400*0x9+-0x2661;_0xa59eb7++){const _0x4be059=_0xa59eb7<0x59b*0x1+-0xd*-0x5b+0xa37*-0x1?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0xa59eb7,this[_0x4be059+'Spring'+_0x748e45[_0xa59eb7]]),this['_constrain'+'t']['setDamping'](_0xa59eb7,this[_0x4be059+'Damping'+_0x748e45[_0xa59eb7]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0xa59eb7,this[_0x4be059+('Equilibriu'+'m')+_0x748e45[_0xa59eb7]]),this['_constrain'+'t']['setStiffne'+'ss'](_0xa59eb7,this[_0x4be059+'Stiffness'+_0x748e45[_0xa59eb7]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x3a81a5){for(const _0x343b89 of UR)_0x3a81a5['hasOwnProp'+'erty'](_0x343b89)&&(_0x3a81a5[_0x343b89]instanceof $?this['_'+_0x343b89]['copy'](_0x3a81a5[_0x343b89]):this['_'+_0x343b89]=_0x3a81a5[_0x343b89]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0xe30230,_0x2d3df5,_0x39323b){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x5a2d02=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x2c02d9=>{['X','Y','Z']['forEach'](_0x3b2d1d=>{const _0x4823cc=_0x5a2d02+_0x2c02d9+_0x3b2d1d,_0xd2e80f='_'+_0x4823cc;let _0x4e1e9c=_0x5a2d02==='linear'?0x173*0x1+-0x8b*-0x1+-0x6*0x55:-0x4c9*0x5+0x317*-0x1+0x1b07;_0x3b2d1d==='Y'&&(_0x4e1e9c+=-0x25ce+0x2473+-0x74*-0x3),_0x3b2d1d==='Z'&&(_0x4e1e9c+=-0x1a25+0x18c4+-0x163*-0x1),Object['defineProp'+'erty'](Up['prototype'],_0x4823cc,{'get':function(){return this[_0xd2e80f];},'set':function(_0x2e57d1){this[_0xd2e80f]!==_0x2e57d1&&(this[_0xd2e80f]=_0x2e57d1,this['_constrain'+'t'][VR[_0x2c02d9]](_0x4e1e9c,_0x2e57d1));}});});});});class GR{constructor(){this['enabled']=!(0xa9c+-0xa*-0x265+0x228e*-0x1);}}const uf=['enabled'];class HR extends Xe{constructor(_0x287963){super(_0x287963),this['id']='joint',this['app']=_0x287963,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0xefca42,_0xe23e9a,_0x5c5863){_0xefca42['initFromDa'+'ta'](_0xe23e9a),super['initialize'+'ComponentD'+'ata'](_0xefca42,_0xe23e9a,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',0x88e+-0xa7*-0x22+0x4*-0x7af),c(this,'_minHeight',0x17ff+0x1cab*-0x1+0x34*0x17),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x1*-0xa8b+0x64f+0x43c),c(this,'_fitHeight'+'Proportion',0xc8+0xa5f+-0xb27),c(this,'_excludeFr'+'omLayout',!(-0x26cd+0x1*0x2005+0x9*0xc1));}set['minWidth'](_0x57cdc0){_0x57cdc0!==this['_minWidth']&&(this['_minWidth']=_0x57cdc0,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x219e9a){_0x219e9a!==this['_minHeight']&&(this['_minHeight']=_0x219e9a,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x557a75){_0x557a75!==this['_maxWidth']&&(this['_maxWidth']=_0x557a75,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x579445){_0x579445!==this['_maxHeight']&&(this['_maxHeight']=_0x579445,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x48d607){_0x48d607!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x48d607,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0xb8e27d){_0xb8e27d!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0xb8e27d,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x2f65f2){_0x2f65f2!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x2f65f2,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class $R{constructor(){this['enabled']=!(0x9d*-0x29+-0x355*0x1+0x1c7a);}}const ax=['enabled'];class WR extends Xe{constructor(_0x31a5a8){super(_0x31a5a8),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=$R,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x5cd59b,_0x987208,_0x4a334e){_0x987208['enabled']!==void(0x1281+-0x1*-0xdaf+-0x338*0xa)&&(_0x5cd59b['enabled']=_0x987208['enabled']),_0x987208['minWidth']!==void(0x1*-0xe21+-0x852+0x1*0x1673)&&(_0x5cd59b['minWidth']=_0x987208['minWidth']),_0x987208['minHeight']!==void(0xf3e*0x2+-0x269f+0x823)&&(_0x5cd59b['minHeight']=_0x987208['minHeight']),_0x987208['maxWidth']!==void(-0x1*-0x22eb+-0x631*-0x2+-0x2f4d)&&(_0x5cd59b['maxWidth']=_0x987208['maxWidth']),_0x987208['maxHeight']!==void(0x1*0xead+-0x20*-0xa3+-0x230d)&&(_0x5cd59b['maxHeight']=_0x987208['maxHeight']),_0x987208['fitWidthPr'+'oportion']!==void(-0x6*-0x3e7+-0x7*-0x39b+-0x30a7)&&(_0x5cd59b['fitWidthPr'+'oportion']=_0x987208['fitWidthPr'+'oportion']),_0x987208['fitHeightP'+'roportion']!==void(0x26bb+-0x2e2*0x3+-0x1e15)&&(_0x5cd59b['fitHeightP'+'roportion']=_0x987208['fitHeightP'+'roportion']),_0x987208['excludeFro'+'mLayout']!==void(0x1263+-0xb31+0x399*-0x2)&&(_0x5cd59b['excludeFro'+'mLayout']=_0x987208['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x5cd59b,_0x987208,_0x4a334e);}['cloneCompo'+'nent'](_0x27200b,_0x1e203a){const _0x37a06e=_0x27200b['layoutchil'+'d'];return this['addCompone'+'nt'](_0x1e203a,{'enabled':_0x37a06e['enabled'],'minWidth':_0x37a06e['minWidth'],'minHeight':_0x37a06e['minHeight'],'maxWidth':_0x37a06e['maxWidth'],'maxHeight':_0x37a06e['maxHeight'],'fitWidthProportion':_0x37a06e['fitWidthPr'+'oportion'],'fitHeightProportion':_0x37a06e['fitHeightP'+'roportion'],'excludeFromLayout':_0x37a06e['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=-0x1251+-0x433+0x2c*0x83,qR=-0x23e5+0x2458+0x2*-0x39,gg=0x1*0x2a1+0xa94*0x2+0x7ed*-0x3,XR=-0x24f*-0xa+-0x2e7*-0x1+0x85*-0x32,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new $();function ox(_0x45aec1){let _0x38ac8c;const _0x456b7b=Zh[_0x45aec1],_0x444642=Zh[Vp[_0x45aec1]];function _0x2b5aa7(_0x43101a,_0x4932b8){return-_0x4932b8[_0x456b7b['size']]*_0x43101a['pivot'][_0x456b7b['axis']];}function _0xb023b9(_0x26c4c2,_0x5b8112){return-_0x5b8112[_0x444642['size']]*_0x26c4c2['pivot'][_0x444642['axis']];}function _0x591cc7(_0x41c232,_0x30121a){return _0x30121a[_0x456b7b['size']]*(-0x2*0x130d+-0xefa+0x3515-_0x41c232['pivot'][_0x456b7b['axis']]);}function _0x4e9740(_0x573ff8,_0x26e0b3){_0x573ff8=_0x573ff8['filter'](_0x23bbcc),_0x38ac8c=_0x26e0b3,Ut['x']=_0x38ac8c['containerS'+'ize']['x']-_0x38ac8c['padding']['x']-_0x38ac8c['padding']['z'],Ut['y']=_0x38ac8c['containerS'+'ize']['y']-_0x38ac8c['padding']['y']-_0x38ac8c['padding']['w'],_0x5bb39e(_0x573ff8);const _0x2b5ec8=_0x32e7df(_0x11c334(_0x573ff8)),_0x148169=_0x143dcf(_0x2b5ec8,_0xafb708(_0x2b5ec8)),_0x359f50=_0x3cd2af(_0x2b5ec8,_0x148169);return _0x315d29(_0x2b5ec8,_0x148169,_0x359f50),_0x2ba666(_0x2b5ec8,_0x148169,_0x359f50),_0x4f7083(_0x2b5ec8);}function _0x23bbcc(_0x24d137){const _0x5c78e1=_0x24d137['entity']['layoutchil'+'d'];return!_0x5c78e1||!_0x5c78e1['enabled']||!_0x5c78e1['excludeFro'+'mLayout'];}function _0x5bb39e(_0x5a5604){for(let _0x16c998=0x16f*-0xd+-0x1e58+-0x30fb*-0x1;_0x16c998<_0x5a5604['length'];++_0x16c998){const _0x171adc=_0x5a5604[_0x16c998],_0x228e1c=_0x171adc['anchor'];(_0x228e1c['x']!==-0x1229+0x12f*0x9+-0x2*-0x3c1||_0x228e1c['y']!==0x9d4+-0x1a9f+0x10cb||_0x228e1c['z']!==-0x1*-0x1741+-0x2*-0x4cf+-0x20df||_0x228e1c['w']!==-0x601+0x7*-0x23+0xa2*0xb)&&(_0x171adc['anchor']=Q['ZERO']);}}function _0x11c334(_0x31d7f0){if(!_0x38ac8c['wrap'])return[_0x31d7f0];const _0x39654e=[[]],_0x24f070=_0x5ea12f(_0x31d7f0);let _0x767f36=-0xaf5*-0x1+0x1d11+-0x2806;const _0x407bf8=_0x38ac8c[_0x456b7b['fitting']]===gg;for(let _0x58dc78=-0x281*0x8+0x2704+0x1e6*-0xa;_0x58dc78<_0x31d7f0['length'];++_0x58dc78){_0x39654e[_0x39654e['length']-(0x26aa+-0x70c+-0x1f9d)]['length']>0xd54+-0xcd3+-0x81&&(_0x767f36+=_0x38ac8c['spacing'][_0x456b7b['axis']]);const _0x1b4657=_0x24f070[_0x58dc78][_0x456b7b['size']];_0x767f36+=_0x1b4657,!_0x407bf8&&_0x767f36>Ut[_0x456b7b['axis']]&&_0x39654e[_0x39654e['length']-(-0x223f+-0xb11+0x2d51)]['length']!==0x45d+-0x739+0x2dc&&(_0x767f36=_0x1b4657,_0x39654e['push']([])),_0x39654e[_0x39654e['length']-(0x18c2+-0x1*-0x13d7+-0x2c98)]['push'](_0x31d7f0[_0x58dc78]),_0x407bf8&&_0x767f36>Ut[_0x456b7b['axis']]&&_0x58dc78!==_0x31d7f0['length']-(-0x305+-0xb*-0x349+-0x31*0xad)&&(_0x767f36=-0x1cad+-0x3f*-0x49+0x392*0x3,_0x39654e['push']([]));}return _0x39654e;}function _0x32e7df(_0x789b4f){const _0x267f41=_0x38ac8c['orientatio'+'n']===pe&&_0x38ac8c['reverseX']||_0x38ac8c['orientatio'+'n']===ke&&_0x38ac8c['reverseY'],_0x3e6f21=_0x38ac8c['orientatio'+'n']===pe&&_0x38ac8c['reverseY']||_0x38ac8c['orientatio'+'n']===ke&&_0x38ac8c['reverseX'];if(_0x267f41){for(let _0x45e5d8=-0xa*0x278+0x201f+0x76f*-0x1;_0x45e5d8<_0x789b4f['length'];++_0x45e5d8)_0x267f41&&_0x789b4f[_0x45e5d8]['reverse']();}return _0x3e6f21&&_0x789b4f['reverse'](),_0x789b4f;}function _0xafb708(_0x2e600c){const _0x1d9e0e=[];for(let _0x5f1580=-0x186d+0x1bd9+0xc*-0x49;_0x5f1580<_0x2e600c['length'];++_0x5f1580){const _0xe309a0=_0x2e600c[_0x5f1580],_0x2b840e=_0x5ea12f(_0xe309a0),_0x38e07b=_0x52a5e8(_0x2b840e,_0x456b7b),_0x3078c8=_0x5d3319(_0x38ac8c[_0x456b7b['fitting']],_0x38e07b,Ut[_0x456b7b['axis']]);_0x3078c8===zt['APPLY_STRE'+'TCHING']?_0x6ce513(_0x2b840e,_0x38e07b,_0x456b7b):_0x3078c8===zt['APPLY_SHRI'+'NKING']&&_0x547142(_0x2b840e,_0x38e07b,_0x456b7b),_0x1d9e0e['push'](_0x2b840e);}return _0x1d9e0e;}function _0x143dcf(_0x579b75,_0x169ee3){const _0x13a077=[],_0x51b5ff=[];for(let _0x591e86=-0xde6+-0x2623+0x3409;_0x591e86<_0x579b75['length'];++_0x591e86){const _0x4fd951=_0x579b75[_0x591e86];_0x4fd951['largestEle'+'ment']=null,_0x4fd951['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x2d555b=0x2355+-0x1095+0x640*-0x3;_0x2d555b<_0x4fd951['length'];++_0x2d555b){const _0x3fb6c6=_0x169ee3[_0x591e86][_0x2d555b];_0x3fb6c6[_0x444642['size']]>_0x4fd951['largestSiz'+'e'][_0x444642['size']]&&(_0x4fd951['largestEle'+'ment']=_0x4fd951[_0x2d555b],_0x4fd951['largestSiz'+'e']=_0x3fb6c6);}_0x13a077['push'](_0x4fd951['largestEle'+'ment']),_0x51b5ff['push'](_0x4fd951['largestSiz'+'e']);}const _0xce248e=_0x52a5e8(_0x51b5ff,_0x444642),_0x24e21c=_0x5d3319(_0x38ac8c[_0x444642['fitting']],_0xce248e,Ut[_0x444642['axis']]);_0x24e21c===zt['APPLY_STRE'+'TCHING']?_0x6ce513(_0x51b5ff,_0xce248e,_0x444642):_0x24e21c===zt['APPLY_SHRI'+'NKING']&&_0x547142(_0x51b5ff,_0xce248e,_0x444642);for(let _0x4d2949=-0x203e*0x1+0x588+0x1ab6;_0x4d2949<_0x579b75['length'];++_0x4d2949){const _0x166732=_0x579b75[_0x4d2949];for(let _0xdc5f2b=0x111+-0x1ffa+0x1ee9;_0xdc5f2b<_0x166732['length'];++_0xdc5f2b){const _0x30f792=_0x169ee3[_0x4d2949][_0xdc5f2b],_0x2ea642=_0x30f792[_0x444642['size']],_0x474c89=_0x579b75['length']===-0x266e+-0x1e09+0x4e4*0xe?Ut[_0x444642['axis']]:_0x166732['largestSiz'+'e'][_0x444642['size']],_0xfdd9df=_0x5d3319(_0x38ac8c[_0x444642['fitting']],_0x2ea642,_0x474c89);_0xfdd9df===zt['APPLY_STRE'+'TCHING']?_0x30f792[_0x444642['size']]=Math['min'](_0x474c89,_0x30f792[_0x444642['maxSize']]):_0xfdd9df===zt['APPLY_SHRI'+'NKING']&&(_0x30f792[_0x444642['size']]=Math['max'](_0x474c89,_0x30f792[_0x444642['minSize']]));}}return _0x169ee3;}function _0x5d3319(_0x4c6ef5,_0x5696c7,_0x463f38){switch(_0x4c6ef5){case ff:return zt['NONE'];case qR:return _0x5696c7<_0x463f38?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x5696c7>=_0x463f38?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x5696c7<_0x463f38?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x4c6ef5);}}function _0x52a5e8(_0xe951da,_0x43559c){const _0x5031f6=_0xb09cf4(_0xe951da,_0x43559c['size']),_0xb2a417=(_0xe951da['length']-(-0x15da+-0x3*-0x35b+0x3ee*0x3))*_0x38ac8c['spacing'][_0x43559c['axis']];return _0x5031f6+_0xb2a417;}function _0x6ce513(_0x51c697,_0x2b0252,_0x53d8af){const _0x3898e8=_0x131f59(_0x51c697,_0x53d8af['maxSize']),_0x48c327=_0x49071c(_0x51c697,_0x53d8af['fittingPro'+'portion']),_0x251be0=_0x19a337(_0x48c327,_0x3898e8);let _0x59d6f3=Ut[_0x53d8af['axis']]-_0x2b0252;for(let _0xf59f1c=-0xce0*0x1+-0x5d6+-0xa*-0x1df;_0xf59f1c<_0x51c697['length'];++_0xf59f1c){const _0x2a6a23=_0x3898e8[_0xf59f1c],_0x2d90d7=_0x59d5f6(_0x2a6a23,_0x59d6f3,_0x48c327,_0x251be0),_0x48e0d1=_0x51c697[_0x2a6a23][_0x53d8af['size']]+_0x2d90d7,_0x3a745c=_0x51c697[_0x2a6a23][_0x53d8af['maxSize']],_0x26315e=Math['min'](_0x48e0d1,_0x3a745c);_0x51c697[_0x2a6a23][_0x53d8af['size']]=_0x26315e;const _0x3f69c6=Math['max'](_0x48e0d1-_0x26315e,0x87*-0x19+0x238f*0x1+0x20*-0xb3),_0x3649dc=_0x2d90d7-_0x3f69c6;_0x59d6f3-=_0x3649dc;}}function _0x547142(_0x2f914e,_0x31d2e7,_0x176d1e){const _0x4259c5=_0x131f59(_0x2f914e,_0x176d1e['minSize'],!(-0x20bf*0x1+-0x492+0x2551)),_0xada2ee=_0x49071c(_0x2f914e,_0x176d1e['fittingPro'+'portion']),_0x5edb89=_0x391e2b(_0xada2ee),_0x11b2d5=_0x19a337(_0x5edb89,_0x4259c5);let _0x2a0b27=_0x31d2e7-Ut[_0x176d1e['axis']];for(let _0x5bc12f=0x1677+-0x1e5d+0x7e6;_0x5bc12f<_0x2f914e['length'];++_0x5bc12f){const _0x2ccd31=_0x4259c5[_0x5bc12f],_0x274dc6=_0x59d5f6(_0x2ccd31,_0x2a0b27,_0x5edb89,_0x11b2d5),_0x54ac5d=_0x2f914e[_0x2ccd31][_0x176d1e['size']]-_0x274dc6,_0x1d8625=_0x2f914e[_0x2ccd31][_0x176d1e['minSize']],_0x5e0ab2=Math['max'](_0x54ac5d,_0x1d8625);_0x2f914e[_0x2ccd31][_0x176d1e['size']]=_0x5e0ab2;const _0x5eefbe=Math['max'](_0x5e0ab2-_0x54ac5d,0x4*0x162+-0xb*0x13f+0x82d),_0xf43f11=_0x274dc6-_0x5eefbe;_0x2a0b27-=_0xf43f11;}}function _0x59d5f6(_0x380aab,_0x34c88b,_0x47081d,_0x3783da){const _0x12985f=_0x47081d[_0x380aab],_0x11838c=_0x3783da[_0x380aab];return Math['abs'](_0x12985f)<0x1e3*0xb+0x1*-0x12f1+-0xe8*0x2+0.00001&&Math['abs'](_0x11838c)<-0xcd*0xf+0x16e2+0x17*-0x79+0.00001?_0x34c88b:_0x34c88b*_0x12985f/_0x11838c;}function _0x3cd2af(_0x5457b8,_0x51c8ae){const _0x481598={};_0x481598[_0x456b7b['axis']]=0x133*-0x17+0x2a4+0x4fd*0x5,_0x481598[_0x444642['axis']]=-0x11d0+0x1faf+-0xddf,_0x5457b8[_0x456b7b['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x265078=[];for(let _0x5910cd=-0x831*-0x4+0x121+-0x21e5;_0x5910cd<_0x5457b8['length'];++_0x5910cd){const _0x391d40=_0x5457b8[_0x5910cd];if(_0x391d40['length']===-0x29*-0x94+0x11*0xd7+-0x25fb){_0x265078['push']([]);continue;}const _0x289364=[],_0x20f5e8=_0x51c8ae[_0x5910cd];for(let _0x508643=-0x186*0x7+-0x84*0x49+-0x2af*-0x12;_0x508643<_0x391d40['length'];++_0x508643){const _0x1b1912=_0x391d40[_0x508643],_0x5893e9=_0x20f5e8[_0x508643];_0x481598[_0x444642['axis']]-=_0xb023b9(_0x1b1912,_0x5893e9),_0x481598[_0x456b7b['axis']]-=_0x2b5aa7(_0x1b1912,_0x5893e9),_0x289364[_0x508643]={},_0x289364[_0x508643][_0x456b7b['axis']]=_0x481598[_0x456b7b['axis']],_0x289364[_0x508643][_0x444642['axis']]=_0x481598[_0x444642['axis']],_0x481598[_0x444642['axis']]+=_0xb023b9(_0x1b1912,_0x5893e9),_0x481598[_0x456b7b['axis']]+=_0x591cc7(_0x1b1912,_0x5893e9)+_0x38ac8c['spacing'][_0x456b7b['axis']];}_0x391d40[_0x456b7b['size']]=_0x481598[_0x456b7b['axis']]-_0x38ac8c['spacing'][_0x456b7b['axis']],_0x391d40[_0x444642['size']]=_0x391d40['largestSiz'+'e'][_0x444642['size']],_0x5457b8[_0x456b7b['size']]=Math['max'](_0x5457b8[_0x456b7b['size']],_0x391d40[_0x456b7b['size']]),_0x481598[_0x456b7b['axis']]=-0x151*0x16+0x329*-0x3+0x2671,_0x481598[_0x444642['axis']]+=_0x391d40[_0x444642['size']]+_0x38ac8c['spacing'][_0x444642['axis']],_0x265078['push'](_0x289364);}return _0x5457b8[_0x444642['size']]=_0x481598[_0x444642['axis']]-_0x38ac8c['spacing'][_0x444642['axis']],_0x265078;}function _0x315d29(_0x3eac66,_0x178622,_0x21796c){const _0x12294f=_0x38ac8c['alignment'][_0x456b7b['axis']],_0xc31c47=_0x38ac8c['alignment'][_0x444642['axis']],_0x52d58f=_0x38ac8c['padding'][_0x456b7b['axis']],_0x314ddf=_0x38ac8c['padding'][_0x444642['axis']];for(let _0x309332=-0x442*0x2+0x595*-0x6+0x2a02;_0x309332<_0x3eac66['length'];++_0x309332){const _0x42ed94=_0x3eac66[_0x309332],_0x3157c6=_0x178622[_0x309332],_0x37ed5c=_0x21796c[_0x309332],_0x46ee02=(Ut[_0x456b7b['axis']]-_0x42ed94[_0x456b7b['size']])*_0x12294f+_0x52d58f,_0xfd4d0d=(Ut[_0x444642['axis']]-_0x3eac66[_0x444642['size']])*_0xc31c47+_0x314ddf;for(let _0xd06e0c=-0x961+0x715*0x4+-0x12f3;_0xd06e0c<_0x42ed94['length'];++_0xd06e0c){const _0x911138=(_0x42ed94[_0x444642['size']]-_0x3157c6[_0xd06e0c][_0x444642['size']])*_0x38ac8c['alignment'][_0x444642['axis']];_0x37ed5c[_0xd06e0c][_0x456b7b['axis']]+=_0x46ee02,_0x37ed5c[_0xd06e0c][_0x444642['axis']]+=_0xfd4d0d+_0x911138;}}}function _0x2ba666(_0x1581a1,_0x49e0e3,_0x580a63){for(let _0x388a0d=-0x23e*0x4+0x86a+0x8e;_0x388a0d<_0x1581a1['length'];++_0x388a0d){const _0x131093=_0x1581a1[_0x388a0d],_0x36c800=_0x49e0e3[_0x388a0d],_0x27ed83=_0x580a63[_0x388a0d];for(let _0xac31c8=0x1af9*-0x1+-0x1*-0x11fb+-0x8fe*-0x1;_0xac31c8<_0x131093['length'];++_0xac31c8){const _0x5a7fe5=_0x131093[_0xac31c8];_0x5a7fe5[_0x456b7b['calculated'+'Size']]=_0x36c800[_0xac31c8][_0x456b7b['size']],_0x5a7fe5[_0x444642['calculated'+'Size']]=_0x36c800[_0xac31c8][_0x444642['size']],_0x38ac8c['orientatio'+'n']===pe?_0x5a7fe5['entity']['setLocalPo'+'sition'](_0x27ed83[_0xac31c8][_0x456b7b['axis']],_0x27ed83[_0xac31c8][_0x444642['axis']],_0x5a7fe5['entity']['getLocalPo'+'sition']()['z']):_0x5a7fe5['entity']['setLocalPo'+'sition'](_0x27ed83[_0xac31c8][_0x444642['axis']],_0x27ed83[_0xac31c8][_0x456b7b['axis']],_0x5a7fe5['entity']['getLocalPo'+'sition']()['z']);}}}function _0x4f7083(_0x4a82e5){const _0x216948=_0x4a82e5['width'],_0x58adb4=_0x4a82e5['height'],_0x17f0ee=(Ut['x']-_0x216948)*_0x38ac8c['alignment']['x']+_0x38ac8c['padding']['x'],_0x5029fb=(Ut['y']-_0x58adb4)*_0x38ac8c['alignment']['y']+_0x38ac8c['padding']['y'];return{'bounds':new Q(_0x17f0ee,_0x5029fb,_0x216948,_0x58adb4)};}function _0x5ea12f(_0x47b35f){const _0x50f302=[];for(let _0x249e62=-0x1e79*0x1+-0xaaf*0x1+-0x1b7*-0x18;_0x249e62<_0x47b35f['length'];++_0x249e62){const _0x1fcaa9=_0x47b35f[_0x249e62],_0x15445a=Math['max'](_0x4a4161(_0x1fcaa9,'minWidth'),0xb*0x2d2+0x1*-0x4d9+-0x1a2d),_0xed6ec1=Math['max'](_0x4a4161(_0x1fcaa9,'minHeight'),0x6b2*0x1+-0x1f43+0x1891),_0x228507=Math['max'](_0x4a4161(_0x1fcaa9,'maxWidth'),_0x15445a),_0x4c8bf3=Math['max'](_0x4a4161(_0x1fcaa9,'maxHeight'),_0xed6ec1),_0x45fcbc=_0x287c7f(_0x4a4161(_0x1fcaa9,'width'),_0x15445a,_0x228507),_0x192195=_0x287c7f(_0x4a4161(_0x1fcaa9,'height'),_0xed6ec1,_0x4c8bf3),_0x3c1db1=_0x4a4161(_0x1fcaa9,'fitWidthPr'+'oportion'),_0x50c455=_0x4a4161(_0x1fcaa9,'fitHeightP'+'roportion');_0x50f302['push']({'minWidth':_0x15445a,'minHeight':_0xed6ec1,'maxWidth':_0x228507,'maxHeight':_0x4c8bf3,'width':_0x45fcbc,'height':_0x192195,'fitWidthProportion':_0x3c1db1,'fitHeightProportion':_0x50c455});}return _0x50f302;}function _0x4a4161(_0x13e1f9,_0x2bd077){const _0x525ca1=_0x13e1f9['entity']['layoutchil'+'d'];return _0x525ca1&&_0x525ca1['enabled']&&_0x525ca1[_0x2bd077]!==void(-0x4*0x3bc+0xd*-0xab+0x179f)&&_0x525ca1[_0x2bd077]!==null?_0x525ca1[_0x2bd077]:_0x13e1f9[_0x2bd077]!==void(0x1eeb+0x5*-0x341+-0xea6)?_0x13e1f9[_0x2bd077]:jR[_0x2bd077];}function _0x287c7f(_0x45b5f1,_0xfed102,_0x1e31ef){return Math['min'](Math['max'](_0x45b5f1,_0xfed102),_0x1e31ef);}function _0xb09cf4(_0x31cfcb,_0x4dc2c7){return _0x31cfcb['reduce']((_0x4ccf6e,_0xa55738)=>_0x4ccf6e+_0xa55738[_0x4dc2c7],0x1515+0x1*0x1ca2+-0x31b7);}function _0x49071c(_0x58d7f9,_0x2a5b6a){const _0x1b7327=_0xb09cf4(_0x58d7f9,_0x2a5b6a),_0x7bed7=[],_0x57e3a2=_0x58d7f9['length'];if(_0x1b7327===-0x10*-0x236+-0x1*0x1daa+-0x56*0x11){for(let _0x3f7b05=-0x1b1b+-0x10*0x240+0x3f1b;_0x3f7b05<_0x57e3a2;++_0x3f7b05)_0x7bed7['push']((-0xa13+0xa85+-0x71)/_0x57e3a2);}else{for(let _0x38de44=-0x1c2a+0x167d+0x5ad;_0x38de44<_0x57e3a2;++_0x38de44)_0x7bed7['push'](_0x58d7f9[_0x38de44][_0x2a5b6a]/_0x1b7327);}return _0x7bed7;}function _0x391e2b(_0x1acbae){if(_0x1acbae['length']===0x143+-0x1a7*-0x12+0x10*-0x1f0)return[-0x1152*-0x1+0x84b+-0x12a*0x16];const _0x4740be=[],_0x24f1a1=_0x1acbae['length'];for(let _0xbac9e1=0x9a8+-0x1978*0x1+0xfd0;_0xbac9e1<_0x24f1a1;++_0xbac9e1)_0x4740be['push']((0x1f4a+0x1*0x1ba6+0x13a5*-0x3-_0x1acbae[_0xbac9e1])/(_0x24f1a1-(0x35*0x1a+-0x1e79+0x2c*0x92)));return _0x4740be;}function _0x131f59(_0x10e85d,_0x38d27f,_0x53d06b){return _0x10e85d['forEach'](_0x199fe0),_0x10e85d['slice']()['sort']((_0xb86111,_0x4d8cad)=>_0x53d06b?_0x4d8cad[_0x38d27f]-_0xb86111[_0x38d27f]:_0xb86111[_0x38d27f]-_0x4d8cad[_0x38d27f])['map'](_0x4a7c71);}function _0x199fe0(_0x1e60b8,_0x459daa){_0x1e60b8['index']=_0x459daa;}function _0x4a7c71(_0x578d97){return _0x578d97['index'];}function _0x19a337(_0x3d9465,_0x3257f4){const _0x542a31=[];_0x542a31[_0x3257f4[_0x3d9465['length']-(0x59*-0x6a+0x3b5+0x1093*0x2)]]=_0x3d9465[_0x3257f4[_0x3d9465['length']-(-0x11c2+0x16b9+-0x7f*0xa)]];for(let _0x48aabd=_0x3d9465['length']-(0x1885*0x1+-0x1db9+-0x1d*-0x2e);_0x48aabd>=-0x957+0x99b+-0x44;--_0x48aabd)_0x542a31[_0x3257f4[_0x48aabd]]=_0x542a31[_0x3257f4[_0x48aabd+(0x1885+0x6d*0x14+-0x2108)]]+_0x3d9465[_0x3257f4[_0x48aabd]];return _0x542a31;}return _0x4e9740;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x13450e,_0x568820){const _0x2c7bc6=Gp[_0x568820['orientatio'+'n']];if(_0x2c7bc6)return _0x2c7bc6(_0x13450e,_0x568820);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x568820['orientatio'+'n']);}}function yg(_0xbee702){return _0xbee702['element'];}function KR(_0x255910){return _0x255910['enabled']&&_0x255910['element']&&_0x255910['element']['enabled'];}class lx extends ue{constructor(_0x3be0ad,_0x102e31){super(_0x3be0ad,_0x102e31),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0x1*-0x971+0x21a8+-0x409*0x6)),c(this,'_reverseY',!(-0x95f+0x1e7e+-0x151f)),c(this,'_alignment',new $(-0xfc*-0x6+-0x8*-0x76+-0x998,0x21*-0x4+0xc3f*-0x2+0x151*0x13)),c(this,'_padding',new Q()),c(this,'_spacing',new $()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(-0x442*0x9+-0x2f*-0x8+0x24db)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x25a843=>{this['_listenFor'+'ReflowEven'+'ts'](_0x25a843,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x3be0ad['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x3be0ad['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x3be0ad['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x3be0ad['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x3be0ad['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x3be0ad['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x2f383e){_0x2f383e!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x2f383e,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x3df259){_0x3df259!==this['_reverseX']&&(this['_reverseX']=_0x3df259,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x40fe93){_0x40fe93!==this['_reverseY']&&(this['_reverseY']=_0x40fe93,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x171b05){_0x171b05['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x171b05),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x2a164c){_0x2a164c['equals'](this['_padding'])||(this['_padding']['copy'](_0x2a164c),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x2473a2){_0x2473a2['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x2473a2),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x5aa070){_0x5aa070!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x5aa070,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x2790e1){_0x2790e1!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x2790e1,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x2683d2){_0x2683d2!==this['_wrap']&&(this['_wrap']=_0x2683d2,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x56e32a){return _0x56e32a===this['entity']||this['entity']['children']['indexOf'](_0x56e32a)!==-(-0x1933+-0x1189*-0x2+-0x9de);}['_listenFor'+'ReflowEven'+'ts'](_0x2753ba,_0x411f07){_0x2753ba['element']&&(_0x2753ba['element'][_0x411f07]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x2753ba['element'][_0x411f07]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x2753ba['element'][_0x411f07]('resize',this['_scheduleR'+'eflow'],this),_0x2753ba['element'][_0x411f07]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x2753ba['layoutchil'+'d']&&(_0x2753ba['layoutchil'+'d'][_0x411f07]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x2753ba['layoutchil'+'d'][_0x411f07]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x175e5b){this['_isSelfOrC'+'hild'](_0x175e5b)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x175e5b,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x2e6fee){this['_isSelfOrC'+'hild'](_0x2e6fee)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x2e6fee,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x42e696){this['_listenFor'+'ReflowEven'+'ts'](_0x42e696,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x3d3db3){this['_listenFor'+'ReflowEven'+'ts'](_0x3d3db3,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x4cbc11=yg(this['entity']),_0x377afc=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x4cbc11||_0x377afc['length']===-0xc61+0x1161*-0x1+-0xd*-0x24a)return;const _0x2f7f49=Math['max'](_0x4cbc11['calculated'+'Width'],0x259*-0xb+-0x11e5+0x2bb8),_0x1c77da=Math['max'](_0x4cbc11['calculated'+'Height'],0x2*0x980+-0x1356+0x56*0x1),_0x3ebb06={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new $(_0x2f7f49,_0x1c77da)};this['_isPerform'+'ingReflow']=!(-0x1*-0x125+-0x1*0xeae+-0x4d*-0x2d);const _0x1ad9ee=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x377afc,_0x3ebb06);this['_isPerform'+'ingReflow']=!(-0x1f57+-0x1952+0x38aa),this['fire']('reflow',_0x1ad9ee);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x59bed2=>{this['_listenFor'+'ReflowEven'+'ts'](_0x59bed2,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(0x491+-0x2*0x12b7+0x20dd);}}const hx=['enabled'],QR=0x1ef0+0xf9d+0x1*-0x2e29;class JR extends Xe{constructor(_0x16294b){super(_0x16294b),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x5bec4f,_0x872ae2,_0x4dc99f){_0x872ae2['enabled']!==void(-0x923+-0x2*-0x1025+0x1727*-0x1)&&(_0x5bec4f['enabled']=_0x872ae2['enabled']),_0x872ae2['orientatio'+'n']!==void(0x1200+0x796+-0x1996)&&(_0x5bec4f['orientatio'+'n']=_0x872ae2['orientatio'+'n']),_0x872ae2['reverseX']!==void(-0x20bb+0x3*-0x503+0x2fc4)&&(_0x5bec4f['reverseX']=_0x872ae2['reverseX']),_0x872ae2['reverseY']!==void(-0x25c0+0x7*0x24b+0x15b3)&&(_0x5bec4f['reverseY']=_0x872ae2['reverseY']),_0x872ae2['alignment']!==void(-0x35*0x71+-0x22f6+0x1*0x3a5b)&&(_0x5bec4f['alignment']=Array['isArray'](_0x872ae2['alignment'])?new $(_0x872ae2['alignment']):_0x872ae2['alignment']),_0x872ae2['padding']!==void(0x2*-0x1097+0x246e+0x68*-0x8)&&(_0x5bec4f['padding']=Array['isArray'](_0x872ae2['padding'])?new Q(_0x872ae2['padding']):_0x872ae2['padding']),_0x872ae2['spacing']!==void(-0x226d+-0x65+0x22d2)&&(_0x5bec4f['spacing']=Array['isArray'](_0x872ae2['spacing'])?new $(_0x872ae2['spacing']):_0x872ae2['spacing']),_0x872ae2['widthFitti'+'ng']!==void(-0x10dc*-0x2+-0x1*-0x13ad+-0x3565*0x1)&&(_0x5bec4f['widthFitti'+'ng']=_0x872ae2['widthFitti'+'ng']),_0x872ae2['heightFitt'+'ing']!==void(0x7d7*0x1+-0x1*-0x13+-0x7ea)&&(_0x5bec4f['heightFitt'+'ing']=_0x872ae2['heightFitt'+'ing']),_0x872ae2['wrap']!==void(0x1fa9+-0x1cbc+0x7*-0x6b)&&(_0x5bec4f['wrap']=_0x872ae2['wrap']),super['initialize'+'ComponentD'+'ata'](_0x5bec4f,_0x872ae2,_0x4dc99f);}['cloneCompo'+'nent'](_0x475efd,_0x16b4f8){const _0x161266=_0x475efd['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x16b4f8,{'enabled':_0x161266['enabled'],'orientation':_0x161266['orientatio'+'n'],'reverseX':_0x161266['reverseX'],'reverseY':_0x161266['reverseY'],'alignment':_0x161266['alignment'],'padding':_0x161266['padding'],'spacing':_0x161266['spacing'],'widthFitting':_0x161266['widthFitti'+'ng'],'heightFitting':_0x161266['heightFitt'+'ing'],'wrap':_0x161266['wrap']});}['scheduleRe'+'flow'](_0x5e908d){this['_reflowQue'+'ue']['indexOf'](_0x5e908d)===-(0x1c4b+0x51c+-0x2166)&&this['_reflowQue'+'ue']['push'](_0x5e908d);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0xef1*0x1+-0x2444+-0x1553*-0x1)return;let _0x210c56=-0x16df+0x1*0x6ad+0x1032;for(;this['_reflowQue'+'ue']['length']>-0x1*0xce9+0x14f8+-0x80f;){const _0x15b044=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x3a4+-0x3e*-0x43+-0x13de*0x1,_0x15b044['sort']((_0x464a6e,_0x3c6320)=>_0x464a6e['entity']['graphDepth']-_0x3c6320['entity']['graphDepth']);for(let _0x36f73b=0xa8f+-0x1b9c+0x110d;_0x36f73b<_0x15b044['length'];++_0x36f73b)_0x15b044[_0x36f73b]['reflow']();if(++_0x210c56>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x1b93ff,_0x202621){_0x202621['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0xdb3767){this['map']['forEach'](_0x73f39c=>_0x73f39c['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x13f181,_0x3bff3f)=>{const _0x49d4de=tI['get'](_0x13f181,()=>new eI());let _0x17279a=_0x49d4de['map']['get'](_0x3bff3f);if(!_0x17279a){let _0x3f17f8,_0x2e25d3;switch(_0x3bff3f){case'box':_0x3f17f8=Ie['fromGeomet'+'ry'](_0x13f181,new Wu()),_0x2e25d3={'x':0x2,'y':0x2,'z':0x2,'uv':(0x1990+0xd*0x1e9+-0x3263)/(-0x170a+-0xb25+-0x3*-0xb66)};break;case'capsule':_0x3f17f8=Ie['fromGeomet'+'ry'](_0x13f181,new C1({'radius':0.5,'height':0x2})),_0x2e25d3={'x':Math['PI']*(-0x3*-0x8e+-0x11a7*0x1+0xfff),'y':Math['PI'],'z':Math['PI']*(0x1741*-0x1+0x987*0x2+0x435),'uv':(0x1661+0x3*-0x6d+-0x1519)/(0xfe1+-0x255a+0x157c)+(-0xcd5+0x1003*-0x1+0x5*0x5c5)/(-0x2*-0x977+0x24b6+-0x8d*0x65)/(0x675*-0x1+-0x6fd*0x3+0x1*0x1b6f)*(-0x7*0x22f+-0x979+0x631*0x4)};break;case'cone':_0x3f17f8=Ie['fromGeomet'+'ry'](_0x13f181,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x2e25d3={'x':2.54,'y':2.54,'z':2.54,'uv':(0x1ca1+0x13ee+0x235*-0x16)/(0xf24+-0x8e9*0x3+-0x21*-0x5a)+(-0x1*-0xe7b+0x12a*0x18+-0x7a*0x59)/(-0xf61+-0xd18+0xe3e*0x2)/(0x1cfb+-0x14b0+0x8*-0x109)};break;case'cylinder':_0x3f17f8=Ie['fromGeomet'+'ry'](_0x13f181,new P1({'radius':0.5,'height':0x1})),_0x2e25d3={'x':Math['PI'],'y':(-0x22f6+0xf7*0xe+0x1574+0.79)*(-0x1*0x1def+-0x32*-0x92+-0x16d*-0x1),'z':Math['PI'],'uv':(-0x2*0xa9+0xba9*-0x1+0xcfc)/(-0x1*0xde7+-0xeb8+0x1ca2)+(-0x16*-0x47+0x12ad+-0x18c6)/(0x24b5*-0x1+0x10d3+0x1cf*0xb)/(-0xa*0x2de+0x1b6+0x1af9)*(-0x1b2e+-0x1*-0xced+-0x3*-0x4c1)};break;case'plane':_0x3f17f8=Ie['fromGeomet'+'ry'](_0x13f181,new R1({'halfExtents':new $(0x1d*-0x14e+0xb65+-0x7*-0x3c7+0.5,-0x45d*0x1+-0x2*-0x80b+0x1*-0xbb9+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x2e25d3={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x3f17f8=Ie['fromGeomet'+'ry'](_0x13f181,new B0({'radius':0.5})),_0x2e25d3={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x3f17f8=Ie['fromGeomet'+'ry'](_0x13f181,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x2e25d3={'x':Math['PI']*(0xd07+-0xa74+-0x293+0.5)*(0x8eb+-0x2394+0x1aa9+0.5)-Math['PI']*(-0x20a5+-0x237c+-0x4421*-0x1+0.1)*(-0xd2f+-0x2586+0x32b5+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x3bff3f);}_0x3f17f8['incRefCoun'+'t'](),_0x17279a={'mesh':_0x3f17f8,'area':_0x2e25d3},_0x49d4de['map']['set'](_0x3bff3f,_0x17279a);}return _0x17279a;};class dx extends ue{constructor(_0x25cbc7,_0x2aa53d){super(_0x25cbc7,_0x2aa53d),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(0x192*0x1+0x927+0x1*-0xab9)),c(this,'_receiveSh'+'adows',!(-0x2334+0x1924+0xa10)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(0x1*0x1672+0x97*0x3d+0x1*-0x3a6d)),c(this,'_lightmapp'+'ed',!(-0x14a9*-0x1+0x14f1*-0x1+-0x1*-0x49)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x9c*0x40+-0x3*0x139+-0x2354),c(this,'isStatic',!(0x883*0x1+-0x26*0xde+-0x6*-0x413)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(0x1a1f+0x82b+-0x2249*0x1)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(0x5b9+-0x3*0x19a+-0xea)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x25cbc7['defaultMat'+'erial'],_0x2aa53d['on']('remove',this['onRemoveCh'+'ild'],this),_0x2aa53d['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2aa53d['on']('insert',this['onInsertCh'+'ild'],this),_0x2aa53d['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x2085f0){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x2085f0);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x34a92d){if(this['_customAab'+'b']=_0x34a92d,this['_model']){const _0x24bc9e=this['_model']['meshInstan'+'ces'];if(_0x24bc9e){for(let _0x4589d5=-0x22ee+0x23d2+-0x4*0x39;_0x4589d5<_0x24bc9e['length'];_0x4589d5++)_0x24bc9e[_0x4589d5]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x10cbc4){if(this['_type']!==_0x10cbc4){if(this['_area']=null,this['_type']=_0x10cbc4,_0x10cbc4==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x39b7e5=cx(this['system']['app']['graphicsDe'+'vice'],_0x10cbc4);this['_area']=_0x39b7e5['area'];const _0x1bd4ed=_0x39b7e5['mesh'],_0x1422fa=new De(),_0x1b20f2=new Oi();_0x1b20f2['graph']=_0x1422fa,_0x1b20f2['meshInstan'+'ces']=[new Le(_0x1bd4ed,this['_material'],_0x1422fa)],this['model']=_0x1b20f2,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x349e25){const _0x33235c=this['system']['app']['assets'];let _0x1d592e=_0x349e25;if(_0x349e25 instanceof le&&(_0x1d592e=_0x349e25['id']),this['_asset']!==_0x1d592e){if(this['_asset']){_0x33235c['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x5c99b0=_0x33235c['get'](this['_asset']);_0x5c99b0&&this['_unbindMod'+'elAsset'](_0x5c99b0);}if(this['_asset']=_0x1d592e,this['_asset']){const _0x527154=_0x33235c['get'](this['_asset']);_0x527154?this['_bindModel'+'Asset'](_0x527154):(this['model']=null,_0x33235c['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x1eb114){if(this['_model']!==_0x1eb114){if(_0x1eb114&&_0x1eb114['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x26e+-0x23*0xc+0x413*0x1),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x1*-0x1081+-0xf9a+-0x66c*-0x5))),this['_model']=_0x1eb114,this['_model']){this['_model']['_immutable']=!(0x2b0+0xae3+-0xd93);const _0x54307d=this['_model']['meshInstan'+'ces'];for(let _0x58bd57=0x134e+0x29e*-0x2+-0xe12;_0x58bd57<_0x54307d['length'];_0x58bd57++)_0x54307d[_0x58bd57]['castShadow']=this['_castShado'+'ws'],_0x54307d[_0x58bd57]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x54307d[_0x58bd57]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x233e29){if(_0x233e29!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x233e29,this['_model'])){const _0x52f096=this['_model']['meshInstan'+'ces'];for(let _0x701f06=-0x1ae4+0x13*0x16a+0x2*0x3;_0x701f06<_0x52f096['length'];_0x701f06++)_0x52f096[_0x701f06]['setLightma'+'pped'](_0x233e29);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x11783c){if(this['_castShado'+'ws']===_0x11783c)return;const _0x407b3e=this['_model'];if(_0x407b3e){const _0x13cd5d=this['layers'],_0xd72803=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x11783c)for(let _0x5d887b=0x154*0x7+-0x1*0x1451+0x5b*0x1f;_0x5d887b<_0x13cd5d['length'];_0x5d887b++){const _0xa5820c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5d887b]);_0xa5820c&&_0xa5820c['removeShad'+'owCasters'](_0x407b3e['meshInstan'+'ces']);}const _0x53b173=_0x407b3e['meshInstan'+'ces'];for(let _0xeb267d=-0x127c+-0x198d+0x1*0x2c09;_0xeb267d<_0x53b173['length'];_0xeb267d++)_0x53b173[_0xeb267d]['castShadow']=_0x11783c;if(!this['_castShado'+'ws']&&_0x11783c)for(let _0x16efa=-0x3*0xa61+0xc7*-0x27+0x3d74;_0x16efa<_0x13cd5d['length'];_0x16efa++){const _0x4f206e=_0xd72803['layers']['getLayerBy'+'Id'](_0x13cd5d[_0x16efa]);_0x4f206e&&_0x4f206e['addShadowC'+'asters'](_0x407b3e['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x11783c;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x356461){if(this['_receiveSh'+'adows']!==_0x356461&&(this['_receiveSh'+'adows']=_0x356461,this['_model'])){const _0x528eeb=this['_model']['meshInstan'+'ces'];for(let _0x146e88=-0x242c+0x758+-0x735*-0x4,_0x12799a=_0x528eeb['length'];_0x146e88<_0x12799a;_0x146e88++)_0x528eeb[_0x146e88]['receiveSha'+'dow']=_0x356461;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x32f57a){this['_castShado'+'wsLightmap']=_0x32f57a;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x17900f){this['_lightmapS'+'izeMultipl'+'ier']=_0x17900f;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x33a9da){const _0x43d13e=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x4daf85=-0x1*0x1a03+0x1*0x1f71+0x2*-0x2b7;_0x4daf85<this['_layers']['length'];_0x4daf85++){const _0x5be00e=_0x43d13e['getLayerBy'+'Id'](this['_layers'][_0x4daf85]);_0x5be00e&&_0x5be00e['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x10b+0x1f11*0x1+-0x7*0x44a;for(let _0x67205c=-0x2101+-0x11b*-0x7+-0x31*-0x84;_0x67205c<_0x33a9da['length'];_0x67205c++)this['_layers'][_0x67205c]=_0x33a9da[_0x67205c];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x6de798=0x139b+-0x58f*-0x5+-0x2f66;_0x6de798<this['_layers']['length'];_0x6de798++){const _0x3198cb=_0x43d13e['getLayerBy'+'Id'](this['_layers'][_0x6de798]);_0x3198cb&&_0x3198cb['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0xb8c909){var _0xd04d4f,_0x28296d;this['_batchGrou'+'pId']!==_0xb8c909&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1d5*-0xa+-0x24+-0x1276*-0x1&&((_0xd04d4f=this['system']['app']['batcher'])==null||_0xd04d4f['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0xb8c909>=0x1*0x6f6+-0xb*-0x2e3+-0x26b7&&((_0x28296d=this['system']['app']['batcher'])==null||_0x28296d['insert'](et['MODEL'],_0xb8c909,this['entity'])),_0xb8c909<-0x355+0x9b+-0x2*-0x15d&&this['_batchGrou'+'pId']>=-0x21ff+-0x7c3*-0x2+0x1279&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0xb8c909);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x4e33f3){let _0x1f86d4=_0x4e33f3;_0x4e33f3 instanceof le&&(_0x1f86d4=_0x4e33f3['id']);const _0x3d7bc0=this['system']['app']['assets'];if(_0x1f86d4!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x3d7bc0['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x59b68e=_0x3d7bc0['get'](this['_materialA'+'sset']);_0x59b68e&&this['_unbindMat'+'erialAsset'](_0x59b68e);}if(this['_materialA'+'sset']=_0x1f86d4,this['_materialA'+'sset']){const _0x3102e9=_0x3d7bc0['get'](this['_materialA'+'sset']);_0x3102e9?this['_bindMater'+'ialAsset'](_0x3102e9):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x3d7bc0['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x609afc){this['_material']!==_0x609afc&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x609afc));}get['material'](){return this['_material'];}set['mapping'](_0x204cc6){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x204cc6||(_0x204cc6={}),this['_mapping']=_0x204cc6,!this['_model']))return;const _0x5f57ec=this['_model']['meshInstan'+'ces'],_0x33b5f5=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x480643=_0x33b5f5?_0x33b5f5['data']['mapping']:null;let _0x50cc5a=null;for(let _0x8e0b15=-0x9*-0xc+0x1558+-0x15c4,_0x1a2051=_0x5f57ec['length'];_0x8e0b15<_0x1a2051;_0x8e0b15++)if(_0x204cc6[_0x8e0b15]!==void(0x4*0x4c4+0xfa9+-0x22b9))_0x204cc6[_0x8e0b15]?(_0x50cc5a=this['system']['app']['assets']['get'](_0x204cc6[_0x8e0b15]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x50cc5a,_0x5f57ec[_0x8e0b15],_0x8e0b15)):_0x5f57ec[_0x8e0b15]['material']=this['system']['defaultMat'+'erial'];else{if(_0x480643){if(_0x480643[_0x8e0b15]&&(_0x480643[_0x8e0b15]['material']||_0x480643[_0x8e0b15]['path'])){if(_0x480643[_0x8e0b15]['material']!==void(-0x25*0xc+0x70d+-0x1*0x551))_0x50cc5a=this['system']['app']['assets']['get'](_0x480643[_0x8e0b15]['material']);else{if(_0x480643[_0x8e0b15]['path']!==void(0x518+-0x1*-0x1957+0x1*-0x1e6f)){const _0x2e94e8=this['_getMateri'+'alAssetUrl'](_0x480643[_0x8e0b15]['path']);_0x2e94e8&&(_0x50cc5a=this['system']['app']['assets']['getByUrl'](_0x2e94e8));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x50cc5a,_0x5f57ec[_0x8e0b15],_0x8e0b15);}else _0x5f57ec[_0x8e0b15]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x4d6cfa=this['system']['app']['scene']['layers'];for(let _0x201390=0x234c+-0x2449+0xb*0x17;_0x201390<this['_layers']['length'];_0x201390++){const _0x320da8=_0x4d6cfa['getLayerBy'+'Id'](this['_layers'][_0x201390]);_0x320da8&&_0x320da8['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x24e825=this['system']['app']['scene']['layers'];for(let _0x2bc8e3=0x406+-0x1*0xf82+-0xf5*-0xc;_0x2bc8e3<this['_layers']['length'];_0x2bc8e3++){const _0x4fb00c=_0x24e825['getLayerBy'+'Id'](this['_layers'][_0x2bc8e3]);_0x4fb00c&&_0x4fb00c['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x189ead,_0x5c9b80){this['addModelTo'+'Layers'](),_0x189ead['off']('add',this['onLayerAdd'+'ed'],this),_0x189ead['off']('remove',this['onLayerRem'+'oved'],this),_0x5c9b80['on']('add',this['onLayerAdd'+'ed'],this),_0x5c9b80['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5656e1){this['layers']['indexOf'](_0x5656e1['id'])<0x1e2b+-0x1e9a*0x1+0x6f||_0x5656e1['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x3045f7){this['layers']['indexOf'](_0x3045f7['id'])<-0x941*-0x1+0x2007+-0x2948||_0x3045f7['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x272748,_0xbb7926,_0x56cadb,_0x270a61){const _0x2112bf=_0xbb7926+':'+_0x56cadb;this['system']['app']['assets']['on'](_0x2112bf,_0x270a61,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x272748]||(this['_materialE'+'vents'][_0x272748]={}),this['_materialE'+'vents'][_0x272748][_0x2112bf]={'id':_0x56cadb,'handler':_0x270a61};}['_unsetMate'+'rialEvents'](){const _0x542b09=this['system']['app']['assets'],_0x4fc95f=this['_materialE'+'vents'];if(_0x4fc95f){for(let _0x3eb42a=0xe15+-0x9*0x2ae+0xa09,_0x3a19e4=_0x4fc95f['length'];_0x3eb42a<_0x3a19e4;_0x3eb42a++){if(!_0x4fc95f[_0x3eb42a])continue;const _0x3d8ca4=_0x4fc95f[_0x3eb42a];for(const _0xa6e155 in _0x3d8ca4)_0x542b09['off'](_0xa6e155,_0x3d8ca4[_0xa6e155]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x48daa5){let _0x5dd33f=null;if(!isNaN(parseInt(_0x48daa5,0xea3*-0x2+-0xc7f+0x29cf)))_0x5dd33f=this['system']['app']['assets']['get'](_0x48daa5);else{if(this['asset']){const _0x558c08=this['_getMateri'+'alAssetUrl'](_0x48daa5);_0x558c08&&(_0x5dd33f=this['system']['app']['assets']['getByUrl'](_0x558c08));}}return _0x5dd33f;}['_getMateri'+'alAssetUrl'](_0x560fb9){if(!this['asset'])return null;const _0x3058f4=this['system']['app']['assets']['get'](this['asset']);return _0x3058f4?_0x3058f4['getAbsolut'+'eUrl'](_0x560fb9):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x436e47,_0x1e437e,_0x4f9467){const _0x3ea350=this['system']['app']['assets'];_0x436e47&&(_0x436e47['resource']?(_0x1e437e['material']=_0x436e47['resource'],this['_setMateri'+'alEvent'](_0x4f9467,'remove',_0x436e47['id'],function(){_0x1e437e['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x4f9467,'load',_0x436e47['id'],function(_0x10137d){_0x1e437e['material']=_0x10137d['resource'],this['_setMateri'+'alEvent'](_0x4f9467,'remove',_0x436e47['id'],function(){_0x1e437e['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x3ea350['load'](_0x436e47)));}['onEnable'](){var _0x509433;const _0x3080ef=this['system']['app'],_0x4efc9f=_0x3080ef['scene'],_0x4ff918=_0x4efc9f==null?void(-0x834+0x1d19+-0x6f7*0x3):_0x4efc9f['layers'];this['_evtLayers'+'Changed']=_0x4efc9f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4ff918&&(this['_evtLayerA'+'dded']=_0x4ff918['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4ff918['on']('remove',this['onLayerRem'+'oved'],this));const _0x102a69=this['_type']==='asset';let _0x2bbfc5;if(this['_model']?this['addModelTo'+'Layers']():_0x102a69&&this['_asset']&&(_0x2bbfc5=_0x3080ef['assets']['get'](this['_asset']),_0x2bbfc5&&_0x2bbfc5['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x2bbfc5)),this['_materialA'+'sset']&&(_0x2bbfc5=_0x3080ef['assets']['get'](this['_materialA'+'sset']),_0x2bbfc5&&_0x2bbfc5['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x2bbfc5)),_0x102a69&&this['_mapping']){for(const _0x3e485d in this['_mapping'])this['_mapping'][_0x3e485d]&&(_0x2bbfc5=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x3e485d]),_0x2bbfc5&&!_0x2bbfc5['resource']&&_0x3080ef['assets']['load'](_0x2bbfc5));}this['_batchGrou'+'pId']>=-0x83*0x3+0x1912+0x19*-0xf1&&((_0x509433=_0x3080ef['batcher'])==null||_0x509433['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x23c3ed,_0x2543c7,_0x4f6acc,_0x360ea0;const _0x114ad3=this['system']['app'],_0x21439d=_0x114ad3['scene']['layers'];(_0x23c3ed=this['_evtLayers'+'Changed'])==null||_0x23c3ed['off'](),this['_evtLayers'+'Changed']=null,_0x21439d&&((_0x2543c7=this['_evtLayerA'+'dded'])==null||_0x2543c7['off'](),this['_evtLayerA'+'dded']=null,(_0x4f6acc=this['_evtLayerR'+'emoved'])==null||_0x4f6acc['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x5*0x4a9+0x115b*-0x1+0x2*-0x2f9&&((_0x360ea0=_0x114ad3['batcher'])==null||_0x360ea0['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x3d6dc5=this['_model']['meshInstan'+'ces'];for(let _0x43f590=-0xfb*0x1+0x225a+-0x215f,_0xa6c97a=_0x3d6dc5['length'];_0x43f590<_0xa6c97a;_0x43f590++)_0x3d6dc5[_0x43f590]['visible']=!(0x7c5+0x3a*-0x2+0x3*-0x270);}}['show'](){if(this['_model']){const _0x46594a=this['_model']['meshInstan'+'ces'];for(let _0x1c0312=-0x6*0x1e7+0x19d*0x6+-0x6f*-0x4,_0x128f09=_0x46594a['length'];_0x1c0312<_0x128f09;_0x1c0312++)_0x46594a[_0x1c0312]['visible']=!(0x2354+-0x25c7*-0x1+-0x491b);}}['_bindMater'+'ialAsset'](_0x32fb6d){if(_0x32fb6d['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x32fb6d['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x32fb6d['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x32fb6d['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x32fb6d['resource'])this['_onMateria'+'lAssetLoad'](_0x32fb6d);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x32fb6d);}}['_unbindMat'+'erialAsset'](_0x4e7916){_0x4e7916['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x4e7916['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4e7916['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4e7916['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x830388){this['system']['app']['assets']['off']('add:'+_0x830388['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x830388['id']&&this['_bindMater'+'ialAsset'](_0x830388);}['_onMateria'+'lAssetLoad'](_0x149d08){this['_setMateri'+'al'](_0x149d08['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x2625f8){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x30e2e1){this['_onMateria'+'lAssetUnlo'+'ad'](_0x30e2e1);}['_onMateria'+'lAssetChan'+'ge'](_0x348672){}['_bindModel'+'Asset'](_0x57f4b9){if(this['_unbindMod'+'elAsset'](_0x57f4b9),_0x57f4b9['on']('load',this['_onModelAs'+'setLoad'],this),_0x57f4b9['on']('unload',this['_onModelAs'+'setUnload'],this),_0x57f4b9['on']('change',this['_onModelAs'+'setChange'],this),_0x57f4b9['on']('remove',this['_onModelAs'+'setRemove'],this),_0x57f4b9['resource'])this['_onModelAs'+'setLoad'](_0x57f4b9);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x57f4b9);}}['_unbindMod'+'elAsset'](_0x10c2d8){_0x10c2d8['off']('load',this['_onModelAs'+'setLoad'],this),_0x10c2d8['off']('unload',this['_onModelAs'+'setUnload'],this),_0x10c2d8['off']('change',this['_onModelAs'+'setChange'],this),_0x10c2d8['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0xff7708){this['system']['app']['assets']['off']('add:'+_0xff7708['id'],this['_onModelAs'+'setAdded'],this),_0xff7708['id']===this['_asset']&&this['_bindModel'+'Asset'](_0xff7708);}['_onModelAs'+'setLoad'](_0x492c76){this['model']=_0x492c76['resource']['clone'](),this['_clonedMod'+'el']=!(0x1352*-0x1+-0x1847+-0x2b99*-0x1);}['_onModelAs'+'setUnload'](_0x2ed213){this['model']=null;}['_onModelAs'+'setChange'](_0x235fb2,_0x1b8391,_0x2c5272,_0x3c1c0c){_0x1b8391==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x1c93b3){this['model']=null;}['_setMateri'+'al'](_0x291446){if(this['_material']===_0x291446)return;this['_material']=_0x291446;const _0x3c0178=this['_model'];if(_0x3c0178&&this['_type']!=='asset'){const _0x1ce57c=_0x3c0178['meshInstan'+'ces'];for(let _0xd3f0ef=-0x5d*0x35+0x2192+-0xe51,_0x213b24=_0x1ce57c['length'];_0xd3f0ef<_0x213b24;_0xd3f0ef++)_0x1ce57c[_0xd3f0ef]['material']=_0x291446;}}}class sI{constructor(){this['enabled']=!(0x1043+0x230a+0x17*-0x23b);}}const ux=['enabled'];class iI extends Xe{constructor(_0x22f8f8){super(_0x22f8f8),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x22f8f8['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x991392,_0x2d479a,_0x3066c9){_0x3066c9=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x2d479a['batchGroup'+'Id']===null||_0x2d479a['batchGroup'+'Id']===void(-0x1*-0x185c+0x208f+-0x38eb))&&(_0x2d479a['batchGroup'+'Id']=-(-0x1*0x143b+0x1*-0xc3d+0x2079)),_0x2d479a['layers']&&_0x2d479a['layers']['length']&&(_0x2d479a['layers']=_0x2d479a['layers']['slice'](0x834+-0x3*0x12+-0x7fe));for(let _0x480075=-0x1*-0x1752+-0x1*-0x29c+-0x19ee;_0x480075<_0x3066c9['length'];_0x480075++)_0x2d479a['hasOwnProp'+'erty'](_0x3066c9[_0x480075])&&(_0x991392[_0x3066c9[_0x480075]]=_0x2d479a[_0x3066c9[_0x480075]]);_0x2d479a['aabbCenter']&&_0x2d479a['aabbHalfEx'+'tents']&&(_0x991392['customAabb']=new _e(new T(_0x2d479a['aabbCenter']),new T(_0x2d479a['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x991392,_0x2d479a,['enabled']);}['cloneCompo'+'nent'](_0x4a563a,_0x4c8ce1){const _0x137597={'type':_0x4a563a['model']['type'],'asset':_0x4a563a['model']['asset'],'castShadows':_0x4a563a['model']['castShadow'+'s'],'receiveShadows':_0x4a563a['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x4a563a['model']['castShadow'+'sLightmap'],'lightmapped':_0x4a563a['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x4a563a['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x4a563a['model']['isStatic'],'enabled':_0x4a563a['model']['enabled'],'layers':_0x4a563a['model']['layers'],'batchGroupId':_0x4a563a['model']['batchGroup'+'Id'],'mapping':vh({},_0x4a563a['model']['mapping'])};let _0xbce753=_0x4a563a['model']['materialAs'+'set'];!(_0xbce753 instanceof le)&&_0xbce753!=null&&(_0xbce753=this['app']['assets']['get'](_0xbce753));const _0x42cfea=_0x4a563a['model']['material'];(!_0x42cfea||_0x42cfea===this['defaultMat'+'erial']||!_0xbce753||_0x42cfea===_0xbce753['resource'])&&(_0x137597['materialAs'+'set']=_0xbce753);const _0x50d2e0=this['addCompone'+'nt'](_0x4c8ce1,_0x137597);if(_0x4a563a['model']['model']&&_0x4a563a['model']['type']==='asset'&&!_0x4a563a['model']['asset']&&(_0x50d2e0['model']=_0x4a563a['model']['model']['clone'](),_0x50d2e0['_clonedMod'+'el']=!(-0x1404+0x1864*0x1+-0x460)),_0x137597['materialAs'+'set']||(_0x50d2e0['material']=_0x42cfea),_0x4a563a['model']['model']){const _0x205caa=_0x4a563a['model']['model']['meshInstan'+'ces'],_0x3387cc=_0x50d2e0['model']['meshInstan'+'ces'];for(let _0x188f5d=0x22d6+0x3b*0x9b+-0x468f;_0x188f5d<_0x205caa['length'];_0x188f5d++)_0x3387cc[_0x188f5d]['mask']=_0x205caa[_0x188f5d]['mask'],_0x3387cc[_0x188f5d]['material']=_0x205caa[_0x188f5d]['material'],_0x3387cc[_0x188f5d]['layer']=_0x205caa[_0x188f5d]['layer'],_0x3387cc[_0x188f5d]['receiveSha'+'dow']=_0x205caa[_0x188f5d]['receiveSha'+'dow'];}return _0x4a563a['model']['customAabb']&&(_0x50d2e0['customAabb']=_0x4a563a['model']['customAabb']['clone']()),_0x50d2e0;}['onRemove'](_0x741b8d,_0x3dc916){_0x3dc916['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0xfb02f3,_0x2570b1){super(_0xfb02f3,_0x2570b1),c(this,'_requested'+'Depth',!(0x6d4+0x886+-0xf59*0x1)),c(this,'_drawOrder',0x2669+-0x92*0x1a+-0x1795),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x1806f8=>{this['on']('set_'+_0x1806f8,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x2ec7f9=>{this['on']('set_'+_0x2ec7f9,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x4eff59=>{this['on']('set_'+_0x4eff59,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x435e61=this['system']['store'][this['entity']['getGuid']()];return _0x435e61?_0x435e61['data']:null;}set['enabled'](_0x12371c){this['_setValue']('enabled',_0x12371c);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x1b97ef){this['_setValue']('autoPlay',_0x1b97ef);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x1c2958){this['_setValue']('numParticl'+'es',_0x1c2958);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x5cf225){this['_setValue']('lifetime',_0x5cf225);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x848529){this['_setValue']('rate',_0x848529);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x38e081){this['_setValue']('rate2',_0x38e081);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x22decc){this['_setValue']('startAngle',_0x22decc);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x5f04b1){this['_setValue']('startAngle'+'2',_0x5f04b1);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x18656c){this['_setValue']('loop',_0x18656c);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x2258b1){this['_setValue']('preWarm',_0x2258b1);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x9030bf){this['_setValue']('lighting',_0x9030bf);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x23b304){this['_setValue']('halfLamber'+'t',_0x23b304);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x1960ec){this['_setValue']('intensity',_0x1960ec);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x339fe6){this['_setValue']('depthWrite',_0x339fe6);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x14777c){this['_setValue']('noFog',_0x14777c);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x5cb1b8){this['_setValue']('depthSofte'+'ning',_0x5cb1b8);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x202a4f){this['_setValue']('sort',_0x202a4f);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x5f15d4){this['_setValue']('blendType',_0x5f15d4);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x4cfbd1){this['_setValue']('stretch',_0x4cfbd1);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x51a819){this['_setValue']('alignToMot'+'ion',_0x51a819);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x132107){this['_setValue']('emitterSha'+'pe',_0x132107);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x416325){this['_setValue']('emitterExt'+'ents',_0x416325);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x5b6798){this['_setValue']('emitterExt'+'entsInner',_0x5b6798);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x1126d5){this['_setValue']('emitterRad'+'ius',_0x1126d5);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x165b41){this['_setValue']('emitterRad'+'iusInner',_0x165b41);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x22eaac){this['_setValue']('initialVel'+'ocity',_0x22eaac);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x5f0f1b){this['_setValue']('wrap',_0x5f0f1b);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x1bf0cc){this['_setValue']('wrapBounds',_0x1bf0cc);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x2bc6c7){this['_setValue']('localSpace',_0x2bc6c7);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x33965e){this['_setValue']('screenSpac'+'e',_0x33965e);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x170a50){this['_setValue']('colorMapAs'+'set',_0x170a50);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x2a453e){this['_setValue']('normalMapA'+'sset',_0x2a453e);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x11f6c7){this['_setValue']('mesh',_0x11f6c7);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x5e36e9){this['_setValue']('meshAsset',_0x5e36e9);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x53e524){this['_setValue']('renderAsse'+'t',_0x53e524);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x5b104a){this['_setValue']('orientatio'+'n',_0x5b104a);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x45529){this['_setValue']('particleNo'+'rmal',_0x45529);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x450425){this['_setValue']('localVeloc'+'ityGraph',_0x450425);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x22a569){this['_setValue']('localVeloc'+'ityGraph2',_0x22a569);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x35a5d4){this['_setValue']('velocityGr'+'aph',_0x35a5d4);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x54a55c){this['_setValue']('velocityGr'+'aph2',_0x54a55c);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x317957){this['_setValue']('rotationSp'+'eedGraph',_0x317957);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0xd88a52){this['_setValue']('rotationSp'+'eedGraph2',_0xd88a52);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x35e7db){this['_setValue']('radialSpee'+'dGraph',_0x35e7db);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x508acc){this['_setValue']('radialSpee'+'dGraph2',_0x508acc);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x4ceedf){this['_setValue']('scaleGraph',_0x4ceedf);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x28067d){this['_setValue']('scaleGraph'+'2',_0x28067d);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x1d67f3){this['_setValue']('colorGraph',_0x1d67f3);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x31fbe8){this['_setValue']('colorGraph'+'2',_0x31fbe8);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x840f66){this['_setValue']('alphaGraph',_0x840f66);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x49097a){this['_setValue']('alphaGraph'+'2',_0x49097a);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x3d8887){this['_setValue']('colorMap',_0x3d8887);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x49e5c6){this['_setValue']('normalMap',_0x49e5c6);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x4a5717){this['_setValue']('animTilesX',_0x4a5717);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x38c16e){this['_setValue']('animTilesY',_0x38c16e);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0xc45c1a){this['_setValue']('animStartF'+'rame',_0xc45c1a);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x6e282a){this['_setValue']('animNumFra'+'mes',_0x6e282a);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x5a19d7){this['_setValue']('animNumAni'+'mations',_0x5a19d7);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x248e3f){this['_setValue']('animIndex',_0x248e3f);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0xde9985){this['_setValue']('randomizeA'+'nimIndex',_0xde9985);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x48e7a7){this['_setValue']('animSpeed',_0x48e7a7);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x8ca493){this['_setValue']('animLoop',_0x8ca493);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x19aa7b){this['_setValue']('layers',_0x19aa7b);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x1ceb23){this['_drawOrder']=_0x1ceb23,this['emitter']&&(this['emitter']['drawOrder']=_0x1ceb23);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x330125,_0x2a91b3){const _0x57b1ca=this['data'],_0x9e8d5c=_0x57b1ca[_0x330125];_0x57b1ca[_0x330125]=_0x2a91b3,this['fire']('set',_0x330125,_0x9e8d5c,_0x2a91b3);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x5d2dc0=-0x17bf+0xbc5+-0xbfa*-0x1;_0x5d2dc0<this['layers']['length'];_0x5d2dc0++){const _0x972c1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5d2dc0]);_0x972c1&&(_0x972c1['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x972c1);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x226a24=0x2*0x107f+0xab6+0x1*-0x2bb4;_0x226a24<this['layers']['length'];_0x226a24++){const _0x633322=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x226a24]);_0x633322&&_0x633322['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x1def09,_0x5b3934,_0x58dbca){if(this['emitter']){for(let _0x522e94=-0x1a2d*-0x1+0x25bd+0xa2*-0x65;_0x522e94<_0x5b3934['length'];_0x522e94++){const _0x3682e3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5b3934[_0x522e94]);_0x3682e3&&_0x3682e3['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0xdab936=-0x104+-0x6*-0x1eb+-0xa7e;_0xdab936<_0x58dbca['length'];_0xdab936++){const _0x3782b1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x58dbca[_0xdab936]);_0x3782b1&&_0x3782b1['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x5253df,_0x5cef5e){this['addMeshIns'+'tanceToLay'+'ers'](),_0x5253df['off']('add',this['onLayerAdd'+'ed'],this),_0x5253df['off']('remove',this['onLayerRem'+'oved'],this),_0x5cef5e['on']('add',this['onLayerAdd'+'ed'],this),_0x5cef5e['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xcd1141){!this['emitter']||this['layers']['indexOf'](_0xcd1141['id'])<0x1*-0x222a+-0x773*0x1+0x299d||_0xcd1141['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x110359){!this['emitter']||this['layers']['indexOf'](_0x110359['id'])<0xb61+0x1*0xedd+-0x1a3e||_0x110359['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x5cbbe1){if(_0x5cbbe1['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x5cbbe1['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x5cbbe1['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x5cbbe1['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x5cbbe1['resource'])this['_onColorMa'+'pAssetLoad'](_0x5cbbe1);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5cbbe1);}}['_unbindCol'+'orMapAsset'](_0xf686c){_0xf686c['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0xf686c['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0xf686c['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0xf686c['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x32e085){this['colorMap']=_0x32e085['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x229cef){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x5a9b3e){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x5a9b3e);}['_onColorMa'+'pAssetChan'+'ge'](_0x406a93){}['onSetColor'+'MapAsset'](_0x5ae5b3,_0x4ce151,_0x3b33e9){const _0x295c36=this['system']['app']['assets'];if(_0x4ce151){const _0x1be48a=_0x295c36['get'](_0x4ce151);_0x1be48a&&this['_unbindCol'+'orMapAsset'](_0x1be48a);}if(_0x3b33e9){_0x3b33e9 instanceof le&&(this['data']['colorMapAs'+'set']=_0x3b33e9['id'],_0x3b33e9=_0x3b33e9['id']);const _0x29adc3=_0x295c36['get'](_0x3b33e9);_0x29adc3?this['_bindColor'+'MapAsset'](_0x29adc3):_0x295c36['once']('add:'+_0x3b33e9,_0x284e94=>{this['_bindColor'+'MapAsset'](_0x284e94);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x24f587){if(_0x24f587['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x24f587['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x24f587['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x24f587['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x24f587['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x24f587);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x24f587);}}['_unbindNor'+'malMapAsse'+'t'](_0x1c7577){_0x1c7577['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x1c7577['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x1c7577['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x1c7577['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x56110b){this['normalMap']=_0x56110b['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x178764){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x302215){this['_onNormalM'+'apAssetUnl'+'oad'](_0x302215);}['_onNormalM'+'apAssetCha'+'nge'](_0x1a815b){}['onSetNorma'+'lMapAsset'](_0x4c49b6,_0x207f78,_0xef02ca){const _0x48d848=this['system']['app']['assets'];if(_0x207f78){const _0x4290f3=_0x48d848['get'](_0x207f78);_0x4290f3&&this['_unbindNor'+'malMapAsse'+'t'](_0x4290f3);}if(_0xef02ca){_0xef02ca instanceof le&&(this['data']['normalMapA'+'sset']=_0xef02ca['id'],_0xef02ca=_0xef02ca['id']);const _0x1507c0=_0x48d848['get'](_0xef02ca);_0x1507c0?this['_bindNorma'+'lMapAsset'](_0x1507c0):_0x48d848['once']('add:'+_0xef02ca,_0x218c12=>{this['_bindNorma'+'lMapAsset'](_0x218c12);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x44db75){if(_0x44db75['on']('load',this['_onMeshAss'+'etLoad'],this),_0x44db75['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x44db75['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x44db75['on']('change',this['_onMeshAss'+'etChange'],this),_0x44db75['resource'])this['_onMeshAss'+'etLoad'](_0x44db75);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x44db75);}}['_unbindMes'+'hAsset'](_0x27eeb7){_0x27eeb7['off']('load',this['_onMeshAss'+'etLoad'],this),_0x27eeb7['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x27eeb7['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x27eeb7['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x6d9ff0){this['_onMeshCha'+'nged'](_0x6d9ff0['resource']);}['_onMeshAss'+'etUnload'](_0x1dd047){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x278693){this['_onMeshAss'+'etUnload'](_0x278693);}['_onMeshAss'+'etChange'](_0x35b41e){}['onSetMeshA'+'sset'](_0x2e25d5,_0x1e2471,_0x36c09e){const _0x15c11a=this['system']['app']['assets'];if(_0x1e2471){const _0x50b266=_0x15c11a['get'](_0x1e2471);_0x50b266&&this['_unbindMes'+'hAsset'](_0x50b266);}if(_0x36c09e){_0x36c09e instanceof le&&(this['data']['meshAsset']=_0x36c09e['id'],_0x36c09e=_0x36c09e['id']);const _0x3a7824=_0x15c11a['get'](_0x36c09e);_0x3a7824&&this['_bindMeshA'+'sset'](_0x3a7824);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x5fa533,_0x2fee9c,_0x27bc3b){!_0x27bc3b||_0x27bc3b instanceof le||typeof _0x27bc3b=='number'?this['meshAsset']=_0x27bc3b:this['_onMeshCha'+'nged'](_0x27bc3b);}['_onMeshCha'+'nged'](_0x2ab770){_0x2ab770&&!(_0x2ab770 instanceof Ie)&&(_0x2ab770['meshInstan'+'ces'][0x129f+0x2*-0xadf+0x31f]?_0x2ab770=_0x2ab770['meshInstan'+'ces'][0xde*0xb+-0x2*-0x851+-0x1a2c]['mesh']:_0x2ab770=null),this['data']['mesh']=_0x2ab770,this['emitter']&&(this['emitter']['mesh']=_0x2ab770,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x22d443,_0xc77fde,_0x2adcb8){const _0x1baa6c=this['system']['app']['assets'];if(_0xc77fde){const _0xaf5750=_0x1baa6c['get'](_0xc77fde);_0xaf5750&&this['_unbindRen'+'derAsset'](_0xaf5750);}if(_0x2adcb8){_0x2adcb8 instanceof le&&(this['data']['renderAsse'+'t']=_0x2adcb8['id'],_0x2adcb8=_0x2adcb8['id']);const _0x22a248=_0x1baa6c['get'](_0x2adcb8);_0x22a248&&this['_bindRende'+'rAsset'](_0x22a248);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x2329d9){if(_0x2329d9['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x2329d9['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x2329d9['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x2329d9['resource'])this['_onRenderA'+'ssetLoad'](_0x2329d9);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2329d9);}}['_unbindRen'+'derAsset'](_0x6523a1){var _0x1368dd;_0x6523a1['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x6523a1['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x6523a1['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x1368dd=this['_evtSetMes'+'hes'])==null||_0x1368dd['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x2f1440){this['_onRenderC'+'hanged'](_0x2f1440['resource']);}['_onRenderA'+'ssetUnload'](_0x3e77ac){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0xd73edf){this['_onRenderA'+'ssetUnload'](_0xd73edf);}['_onRenderC'+'hanged'](_0x403bfc){var _0x4a3e17;if(!_0x403bfc){this['_onMeshCha'+'nged'](null);return;}(_0x4a3e17=this['_evtSetMes'+'hes'])==null||_0x4a3e17['off'](),this['_evtSetMes'+'hes']=_0x403bfc['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x403bfc['meshes']&&this['_onRenderS'+'etMeshes'](_0x403bfc['meshes']);}['_onRenderS'+'etMeshes'](_0x4bfa5f){this['_onMeshCha'+'nged'](_0x4bfa5f&&_0x4bfa5f[-0x1*-0x3e+-0x1471+0x1433*0x1]);}['onSetLoop'](_0x1c1562,_0x488388,_0x19bf89){this['emitter']&&(this['emitter'][_0x1c1562]=_0x19bf89,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x171445,_0x480261,_0x2deed9){this['emitter']&&(this['emitter'][_0x171445]=_0x2deed9,this['emitter']['material']['blendType']=_0x2deed9,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x216d+-0xa*-0xf6+0x1*0x17d1)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x3*0x788+0x455+-0x1aec));}['onSetDepth'+'Softening'](_0x588c83,_0x246f41,_0x1940b2){_0x246f41!==_0x1940b2&&(_0x1940b2?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x588c83]=_0x1940b2)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x588c83]=_0x1940b2)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x4aa08b,_0x26351d,_0xfec6d7){this['emitter']&&(this['emitter'][_0x4aa08b]=_0xfec6d7,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x30c059,_0xb8c7bc,_0x2ee692){this['emitter']&&(this['emitter'][_0x30c059]=_0x2ee692,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x2b1ee4,_0x8841af,_0x1e9c95){this['emitter']&&(this['emitter'][_0x2b1ee4]=_0x1e9c95,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x3b6a3f=this['system']['app']['scene'],_0x4b0b0b=_0x3b6a3f['layers'],_0x35ad13=this['data'];for(let _0x33ee1f=0x144b+-0x6d*0x4a+0xb37,_0x5c9bf4=Zl['length'];_0x33ee1f<_0x5c9bf4;_0x33ee1f++){let _0x52ac11=_0x35ad13[Zl[_0x33ee1f]];if(_0x52ac11){if(!(_0x52ac11 instanceof le)){if(parseInt(_0x52ac11,-0x26*0xda+0x1bc1+0x4a5)>=0x2288+0x7a0+0x26*-0x11c)_0x52ac11=this['system']['app']['assets']['get'](_0x52ac11);else continue;}_0x52ac11&&!_0x52ac11['resource']&&this['system']['app']['assets']['load'](_0x52ac11);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x14ed69=_0x35ad13['mesh'];_0x14ed69 instanceof Ie||(_0x14ed69=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x35ad13['numParticl'+'es'],'emitterExtents':_0x35ad13['emitterExt'+'ents'],'emitterExtentsInner':_0x35ad13['emitterExt'+'entsInner'],'emitterRadius':_0x35ad13['emitterRad'+'ius'],'emitterRadiusInner':_0x35ad13['emitterRad'+'iusInner'],'emitterShape':_0x35ad13['emitterSha'+'pe'],'initialVelocity':_0x35ad13['initialVel'+'ocity'],'wrap':_0x35ad13['wrap'],'localSpace':_0x35ad13['localSpace'],'screenSpace':_0x35ad13['screenSpac'+'e'],'wrapBounds':_0x35ad13['wrapBounds'],'lifetime':_0x35ad13['lifetime'],'rate':_0x35ad13['rate'],'rate2':_0x35ad13['rate2'],'orientation':_0x35ad13['orientatio'+'n'],'particleNormal':_0x35ad13['particleNo'+'rmal'],'animTilesX':_0x35ad13['animTilesX'],'animTilesY':_0x35ad13['animTilesY'],'animStartFrame':_0x35ad13['animStartF'+'rame'],'animNumFrames':_0x35ad13['animNumFra'+'mes'],'animNumAnimations':_0x35ad13['animNumAni'+'mations'],'animIndex':_0x35ad13['animIndex'],'randomizeAnimIndex':_0x35ad13['randomizeA'+'nimIndex'],'animSpeed':_0x35ad13['animSpeed'],'animLoop':_0x35ad13['animLoop'],'startAngle':_0x35ad13['startAngle'],'startAngle2':_0x35ad13['startAngle'+'2'],'scaleGraph':_0x35ad13['scaleGraph'],'scaleGraph2':_0x35ad13['scaleGraph'+'2'],'colorGraph':_0x35ad13['colorGraph'],'colorGraph2':_0x35ad13['colorGraph'+'2'],'alphaGraph':_0x35ad13['alphaGraph'],'alphaGraph2':_0x35ad13['alphaGraph'+'2'],'localVelocityGraph':_0x35ad13['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x35ad13['localVeloc'+'ityGraph2'],'velocityGraph':_0x35ad13['velocityGr'+'aph'],'velocityGraph2':_0x35ad13['velocityGr'+'aph2'],'rotationSpeedGraph':_0x35ad13['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x35ad13['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x35ad13['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x35ad13['radialSpee'+'dGraph2'],'colorMap':_0x35ad13['colorMap'],'normalMap':_0x35ad13['normalMap'],'loop':_0x35ad13['loop'],'preWarm':_0x35ad13['preWarm'],'sort':_0x35ad13['sort'],'stretch':_0x35ad13['stretch'],'alignToMotion':_0x35ad13['alignToMot'+'ion'],'lighting':_0x35ad13['lighting'],'halfLambert':_0x35ad13['halfLamber'+'t'],'intensity':_0x35ad13['intensity'],'depthSoftening':_0x35ad13['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x14ed69,'depthWrite':_0x35ad13['depthWrite'],'noFog':_0x35ad13['noFog'],'node':this['entity'],'blendType':_0x35ad13['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x35ad13['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1*-0x122b+-0x56*0x4+-0x4e1*-0x4));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x3b6a3f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4b0b0b&&(this['_evtLayerA'+'dded']=_0x4b0b0b['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4b0b0b['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x35ad13['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x49005c,_0x2e1063,_0x21b36f;const _0x434227=this['system']['app']['scene']['layers'];(_0x49005c=this['_evtLayers'+'Changed'])==null||_0x49005c['off'](),this['_evtLayers'+'Changed']=null,_0x434227&&((_0x2e1063=this['_evtLayerA'+'dded'])==null||_0x2e1063['off'](),this['_evtLayerA'+'dded']=null,(_0x21b36f=this['_evtLayerR'+'emoved'])==null||_0x21b36f['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0xb*0x311+0x1*0x24fd+-0x341)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x2b08cb=-0xc9c*0x1+0x2148+-0x17a*0xe;_0x2b08cb<Zl['length'];_0x2b08cb++){const _0x4ed27f=Zl[_0x2b08cb];this['data'][_0x4ed27f]&&(this[_0x4ed27f]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x1400+-0x2026+0x1*0x3427),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x11de+0x1*-0xf4f+-0x1bf*-0x13,!(-0x1bd3+0x1*-0x20b9+0x64*0x9b)));}['pause'](){this['data']['paused']=!(0x1080+0x99b*0x1+-0x29*0xa3);}['unpause'](){this['data']['paused']=!(0x24e5+0x65*0x61+-0x4b29);}['play'](){this['data']['paused']=!(0x6*0x5f5+0x1*-0xf0a+0x2f5*-0x7),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x6*-0x5b+0x5*0x599+-0x19db*0x1),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x1c03*0x1+0x109b*0x1+0x7f*0x17):this['emitter']&&this['emitter']['loop']?!(-0x12bc+-0x19da+-0x2*-0x164b):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x2bb1ed}=this;_0x2bb1ed&&!_0x2bb1ed['inTools']&&(_0x2bb1ed['inTools']=!(-0x1bc0+0x2389*0x1+-0x7c9),this['rebuild']());}['rebuild'](){const _0x1a74cc=this['enabled'];this['enabled']=!(0xa12*-0x2+0x151a+-0x31*0x5),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x1a74cc;}}class lI{constructor(){this['numParticl'+'es']=-0x5b5*-0x1+-0x49*0x19+0x49*0x5,this['rate']=-0x7ef+-0x1328+0x88*0x33,this['rate2']=null,this['startAngle']=-0x24ac*0x1+0x1*0xfad+0x5*0x433,this['startAngle'+'2']=null,this['lifetime']=-0x1*0x5d3+0x1fab+0x7*-0x3aa,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=0x1fde+-0x1e57+-0x187,this['emitterRad'+'iusInner']=-0x7*-0x262+-0x1d*0x2e+-0x4*0x2de,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0x1ee6+-0xe95+0x2d7b,this['wrap']=!(-0xad*0x37+0x1f3b+0x5f1),this['wrapBounds']=new T(),this['localSpace']=!(-0x241*0xe+0x3*0x433+0x12f6),this['screenSpac'+'e']=!(-0x21d*-0x5+0x1337+0x21*-0xe7),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x214f+-0x1*0x1c6+0x2315),this['preWarm']=!(-0x3ef+-0x13*-0x4a+-0x1*0x18e),this['sort']=-0x1708+0x278*-0xb+0x3230,this['mode']=d0,this['scene']=null,this['lighting']=!(-0x166d+0x1070+0x5fe),this['halfLamber'+'t']=!(-0xf81+0x3*0xb07+-0x1193*0x1),this['intensity']=0xf67+0x2476+-0x33dc,this['stretch']=-0x14e4*0x1+0xb4c+0x998,this['alignToMot'+'ion']=!(-0x1063*0x1+-0x343+0x13a7),this['depthSofte'+'ning']=0xb89*0x2+-0x25a2*-0x1+-0x3cb4,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x1*0x2685+-0x1*-0x4c+-0x30*0xcf),this['noFog']=!(-0x263*-0x9+-0x76e*-0x3+0xaf1*-0x4),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(-0x1605*-0x1+-0x368+-0x129d,-0x212f+0x19a6+-0x182*-0x5,-0x14*0x2+0x2d*0x47+0x1*-0xc53),this['animTilesX']=-0x72*-0x27+-0x1ccd+-0x10*-0xb7,this['animTilesY']=0x238c+-0x8e+-0x22fd*0x1,this['animStartF'+'rame']=0x221b+0xbb9+0x346*-0xe,this['animNumFra'+'mes']=0x1414+-0x2522+0x110f*0x1,this['animNumAni'+'mations']=-0x57*0x17+0x5e5*-0x5+-0x1*-0x254b,this['animIndex']=-0x1*-0xd+0x53*0x1b+0x7*-0x142,this['randomizeA'+'nimIndex']=!(0x4e2+-0x2601+-0x1a8*-0x14),this['animSpeed']=0xd*0x15b+0x1*0x1d6b+-0x2f09,this['animLoop']=!(0xb*-0x7e+-0x13ad+0x1917),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0xa*-0x236+0x1b8b+-0x1*0x31a7),this['paused']=!(0x1cfb*0x1+0xe62+-0x2b5c),this['autoPlay']=!(-0x2bd*-0x7+0x1*0xb1b+-0x9b*0x32),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x337e3b){super(_0x337e3b),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x25c70d,_0x2650d5,_0x39278f){const _0x42043f={};_0x39278f=[];const _0x432bd2=this['propertyTy'+'pes'];(_0x2650d5['mesh']instanceof le||typeof _0x2650d5['mesh']=='number')&&(_0x2650d5['meshAsset']=_0x2650d5['mesh'],delete _0x2650d5['mesh']);for(const _0x6019e8 in _0x2650d5){if(_0x2650d5['hasOwnProp'+'erty'](_0x6019e8)&&(_0x39278f['push'](_0x6019e8),_0x42043f[_0x6019e8]=_0x2650d5[_0x6019e8]),_0x432bd2[_0x6019e8]==='vec3')Array['isArray'](_0x42043f[_0x6019e8])&&(_0x42043f[_0x6019e8]=new T(_0x42043f[_0x6019e8][-0x3*-0xc41+0x2*0x1055+-0x456d],_0x42043f[_0x6019e8][0x1b18+-0x2c*0xbb+-0x1af*-0x3],_0x42043f[_0x6019e8][-0x6b7+-0x111a+0x1*0x17d3]));else{if(_0x432bd2[_0x6019e8]==='curve'){if(!(_0x42043f[_0x6019e8]instanceof Cs)){const _0x10923d=_0x42043f[_0x6019e8]['type'];_0x42043f[_0x6019e8]=new Cs(_0x42043f[_0x6019e8]['keys']),_0x42043f[_0x6019e8]['type']=_0x10923d;}}else{if(_0x432bd2[_0x6019e8]==='curveset'&&!(_0x42043f[_0x6019e8]instanceof jr)){const _0x18b025=_0x42043f[_0x6019e8]['type'];_0x42043f[_0x6019e8]=new jr(_0x42043f[_0x6019e8]['keys']),_0x42043f[_0x6019e8]['type']=_0x18b025;}}}_0x42043f['layers']&&Array['isArray'](_0x42043f['layers'])&&(_0x42043f['layers']=_0x42043f['layers']['slice'](-0x4ed*0x5+0xcfe+0x9*0x14b));}super['initialize'+'ComponentD'+'ata'](_0x25c70d,_0x42043f,_0x39278f);}['cloneCompo'+'nent'](_0x144a41,_0x53350f){const _0x553211=_0x144a41['particlesy'+'stem']['data'],_0x50368e=this['schema'],_0x20d979={};for(let _0x42ecb8=-0x1*0xa19+-0x1*-0x1659+-0xc40,_0x7da214=_0x50368e['length'];_0x42ecb8<_0x7da214;_0x42ecb8++){const _0x20cb04=_0x50368e[_0x42ecb8];let _0x28098d=_0x553211[_0x20cb04];_0x28098d instanceof T||_0x28098d instanceof Cs||_0x28098d instanceof jr?(_0x28098d=_0x28098d['clone'](),_0x20d979[_0x20cb04]=_0x28098d):_0x20cb04==='layers'?_0x20d979['layers']=_0x553211['layers']['slice'](0x7c7+-0x794+0x1*-0x33):_0x28098d!=null&&(_0x20d979[_0x20cb04]=_0x28098d);}return this['addCompone'+'nt'](_0x53350f,_0x20d979);}['onUpdate'](_0x3e4a1b){const _0x1c003f=this['store'];let _0x3c824b;const _0xdb4532=this['app']['stats']['particles'],_0x2c5c52=this['app']['scene']['layers'];for(let _0xb05a0b=0x131*-0x1f+0x9d6+-0x1b19*-0x1;_0xb05a0b<_0x2c5c52['layerList']['length'];_0xb05a0b++)_0x2c5c52['layerList'][_0xb05a0b]['requiresLi'+'ghtCube']=!(0xb3*0x31+0x1d1e+-0x3f60);for(const _0x4d98dc in _0x1c003f)if(_0x1c003f['hasOwnProp'+'erty'](_0x4d98dc)){const _0x1faffa=_0x1c003f[_0x4d98dc],_0x9f2779=_0x1faffa['entity'],_0x2f6122=_0x1faffa['data'];if(_0x2f6122['enabled']&&_0x9f2779['enabled']){const _0x233c34=_0x9f2779['particlesy'+'stem']['emitter'];if(!(_0x233c34!=null&&_0x233c34['meshInstan'+'ce']['visible']))continue;if(_0x233c34['lighting']){const _0x226df3=_0x2f6122['layers'];for(let _0x44bc46=-0x9*0xe5+-0x1*-0x96d+-0x16*0x10;_0x44bc46<_0x226df3['length'];_0x44bc46++){const _0x155eff=_0x2c5c52['getLayerBy'+'Id'](_0x226df3[_0x44bc46]);_0x155eff&&(_0x155eff['requiresLi'+'ghtCube']=!(-0x13+0xca2+-0xc8f));}}if(!_0x2f6122['paused']){if(_0x233c34['simTime']+=_0x3e4a1b,_0x233c34['simTime']>_0x233c34['fixedTimeS'+'tep']&&(_0x3c824b=Math['floor'](_0x233c34['simTime']/_0x233c34['fixedTimeS'+'tep']),_0x233c34['simTime']-=_0x3c824b*_0x233c34['fixedTimeS'+'tep']),_0x3c824b){_0x3c824b=Math['min'](_0x3c824b,_0x233c34['maxSubStep'+'s']);for(let _0x209ae3=0x1d*-0xc9+0x1fc8+0x903*-0x1;_0x209ae3<_0x3c824b;_0x209ae3++)_0x233c34['addTime'](_0x233c34['fixedTimeS'+'tep'],!(0x78b*-0x1+-0xedb+0x1667));_0xdb4532['_updatesPe'+'rFrame']+=_0x3c824b,_0xdb4532['_frameTime']+=_0x233c34['_addTimeTi'+'me'],_0x233c34['_addTimeTi'+'me']=0xa5*-0x8+-0xbcf*-0x1+0xd*-0x83;}_0x233c34['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x78b2b7,_0x3d8f45){_0x3d8f45['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x48a927,_0xa39119){super(),this['skin']=_0x48a927,this['skinInstan'+'ce']=_0xa39119;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x48fe67,_0x166d01)=>{console['log'](_0x166d01['name']+':\x20Array('+_0x48fe67['length']+')');for(let _0x30d3a0=-0x8de*-0x2+0x1*-0xd+-0x11af;_0x30d3a0<_0x48fe67['length'];_0x30d3a0++)console['log']('\x20\x20'+_0x30d3a0+(':\x20RefCount'+'\x20')+_0x48fe67[_0x30d3a0]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x296b72,_0x3e7920,_0x310dc6){let _0x3ecebd=bs['getCachedS'+'kinInstanc'+'e'](_0x296b72,_0x3e7920);return _0x3ecebd||(_0x3ecebd=new nl(_0x296b72),_0x3ecebd['resolve'](_0x3e7920,_0x310dc6),bs['addCachedS'+'kinInstanc'+'e'](_0x296b72,_0x3e7920,_0x3ecebd)),_0x3ecebd;}static['getCachedS'+'kinInstanc'+'e'](_0xa3bffa,_0x555f7b){let _0x25fac1=null;const _0x4ca5df=bs['_skinInsta'+'nceCache']['get'](_0x555f7b);if(_0x4ca5df){const _0x452369=_0x4ca5df['find'](_0x1f9ff5=>_0x1f9ff5['skin']===_0xa3bffa);_0x452369&&(_0x452369['incRefCoun'+'t'](),_0x25fac1=_0x452369['skinInstan'+'ce']);}return _0x25fac1;}static['addCachedS'+'kinInstanc'+'e'](_0x562ea7,_0x26c6be,_0x48c8c8){let _0x8cf1d6=bs['_skinInsta'+'nceCache']['get'](_0x26c6be);_0x8cf1d6||(_0x8cf1d6=[],bs['_skinInsta'+'nceCache']['set'](_0x26c6be,_0x8cf1d6));let _0x4ce3ed=_0x8cf1d6['find'](_0x25a044=>_0x25a044['skin']===_0x562ea7);_0x4ce3ed||(_0x4ce3ed=new dI(_0x562ea7,_0x48c8c8),_0x8cf1d6['push'](_0x4ce3ed)),_0x4ce3ed['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0xdf60f9){if(_0xdf60f9){const _0x4f9e01=_0xdf60f9['rootBone'];if(_0x4f9e01){const _0x234844=bs['_skinInsta'+'nceCache']['get'](_0x4f9e01);if(_0x234844){const _0x66494e=_0x234844['findIndex'](_0x3ce2e5=>_0x3ce2e5['skinInstan'+'ce']===_0xdf60f9);if(_0x66494e>=0x9*0x29d+-0xf9+0x2*-0xb46){const _0x429100=_0x234844[_0x66494e];_0x429100['decRefCoun'+'t'](),_0x429100['refCount']===0x287*0x3+-0x345+-0x450&&(_0x234844['splice'](_0x66494e,-0x21*0x10f+0x114c+-0x8d2*-0x2),_0x234844['length']||bs['_skinInsta'+'nceCache']['delete'](_0x4f9e01),_0xdf60f9&&(_0xdf60f9['destroy'](),_0x429100['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x2f57e2,_0x10e654,_0x518f8d,_0x4913e5,_0x583085){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x2f57e2,this['parent']=_0x10e654,this['_scope']=_0x583085,this['_registry']=_0x518f8d,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x4913e5['load'],this['_onAssetAd'+'d']=_0x4913e5['add'],this['_onAssetRe'+'move']=_0x4913e5['remove'],this['_onAssetUn'+'load']=_0x4913e5['unload']);}set['id'](_0x5d6f69){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x5d6f69,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x21fd7c){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x21fd7c,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0xabad99,_0x555c83,_0x1956af,_0x376dc8,_0x69a6ad,_0x4c727f,_0x1ebf6e;this['id']&&((_0xabad99=this['_evtLoadBy'+'Id'])==null||_0xabad99['off'](),this['_evtLoadBy'+'Id']=null,(_0x555c83=this['_evtAddByI'+'d'])==null||_0x555c83['off'](),this['_evtAddByI'+'d']=null,(_0x1956af=this['_evtRemove'+'ById'])==null||_0x1956af['off'](),this['_evtRemove'+'ById']=null,(_0x376dc8=this['_evtUnload'+'ById'])==null||_0x376dc8['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x69a6ad=this['_evtLoadBy'+'Url'])==null||_0x69a6ad['off'](),this['_evtLoadBy'+'Url']=null,(_0x4c727f=this['_evtAddByU'+'rl'])==null||_0x4c727f['off'](),this['_evtAddByU'+'rl']=null,(_0x1ebf6e=this['_evtRemove'+'ByUrl'])==null||_0x1ebf6e['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x45383a){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x45383a);}['_onAdd'](_0x3c785c){this['asset']=_0x3c785c,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3c785c);}['_onRemove'](_0x4c00af){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x4c00af),this['asset']=null;}['_onUnload'](_0x10a001){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x10a001);}}class fx extends ue{constructor(_0x4275ba,_0x2d92b1){super(_0x4275ba,_0x2d92b1),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x2b2+-0x1*-0x1188+-0xed6)),c(this,'_receiveSh'+'adows',!(0xa21+0x1a49+-0x246a)),c(this,'_castShado'+'wsLightmap',!(-0xd9d+-0x1*0x2f1+-0x1*-0x108e)),c(this,'_lightmapp'+'ed',!(0x1c44+0x446*0x1+-0x2089)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x122f*0x1+0xfc0+0x270),c(this,'isStatic',!(-0x1dd7+-0x2220+-0x1*-0x3ff8)),c(this,'_batchGrou'+'pId',-(-0x1e*-0x6f+0x1022+-0x1d23)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x4275ba['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x4275ba['defaultMat'+'erial'],_0x2d92b1['on']('remove',this['onRemoveCh'+'ild'],this),_0x2d92b1['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2d92b1['on']('insert',this['onInsertCh'+'ild'],this),_0x2d92b1['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x2455e7){this['_renderSty'+'le']!==_0x2455e7&&(this['_renderSty'+'le']=_0x2455e7,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x2455e7));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x2e50b7){this['_customAab'+'b']=_0x2e50b7;const _0x26e567=this['_meshInsta'+'nces'];if(_0x26e567){for(let _0x49bd90=0xcc9+0x266a+-0x3333;_0x49bd90<_0x26e567['length'];_0x49bd90++)_0x26e567[_0x49bd90]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x5ee52e){if(this['_type']!==_0x5ee52e&&(this['_area']=null,this['_type']=_0x5ee52e,this['destroyMes'+'hInstances'](),_0x5ee52e!=='asset')){let _0x2cb21b=this['_material'];(!_0x2cb21b||_0x2cb21b===this['system']['defaultMat'+'erial'])&&(_0x2cb21b=this['_materialR'+'eferences'][0x1*-0x1ea6+-0x1*0x1c7f+0x1*0x3b25]&&this['_materialR'+'eferences'][0x49*0x52+0xb*0x8b+-0x1d5b]['asset']&&this['_materialR'+'eferences'][0x1*0x19dc+0x3e*0xd+-0x2*0xe81]['asset']['resource']);const _0x48afbf=cx(this['system']['app']['graphicsDe'+'vice'],_0x5ee52e);this['_area']=_0x48afbf['area'],this['meshInstan'+'ces']=[new Le(_0x48afbf['mesh'],_0x2cb21b||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x3564be){if(v['assert'](Array['isArray'](_0x3564be),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x3564be,this['_meshInsta'+'nces']){const _0x4af2d0=this['_meshInsta'+'nces'];for(let _0x54f3e5=0x5*0x347+-0x150b+0x4a8;_0x54f3e5<_0x4af2d0['length'];_0x54f3e5++)_0x4af2d0[_0x54f3e5]['node']||(_0x4af2d0[_0x54f3e5]['node']=this['entity']),_0x4af2d0[_0x54f3e5]['castShadow']=this['_castShado'+'ws'],_0x4af2d0[_0x54f3e5]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x4af2d0[_0x54f3e5]['renderStyl'+'e']=this['_renderSty'+'le'],_0x4af2d0[_0x54f3e5]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x4af2d0[_0x54f3e5]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x121a78){if(_0x121a78!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x121a78;const _0x50df48=this['_meshInsta'+'nces'];if(_0x50df48){for(let _0x2e383b=-0x3*0x598+0x4*0x1cf+0x98c;_0x2e383b<_0x50df48['length'];_0x2e383b++)_0x50df48[_0x2e383b]['setLightma'+'pped'](_0x121a78);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x5bf7c5){if(this['_castShado'+'ws']!==_0x5bf7c5){const _0x381a34=this['_meshInsta'+'nces'];if(_0x381a34){const _0xd5a6d=this['layers'],_0x3de86a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x5bf7c5)for(let _0x5cb8d7=0x118+-0x2fd*-0x4+0xa7*-0x14;_0x5cb8d7<_0xd5a6d['length'];_0x5cb8d7++){const _0xb1789f=_0x3de86a['layers']['getLayerBy'+'Id'](this['layers'][_0x5cb8d7]);_0xb1789f&&_0xb1789f['removeShad'+'owCasters'](_0x381a34);}for(let _0x484c2d=0x1*-0x1f6d+0x5*-0x6a3+0x409c*0x1;_0x484c2d<_0x381a34['length'];_0x484c2d++)_0x381a34[_0x484c2d]['castShadow']=_0x5bf7c5;if(!this['_castShado'+'ws']&&_0x5bf7c5)for(let _0xd3e0d9=-0x1ca7*0x1+0x1374+0x311*0x3;_0xd3e0d9<_0xd5a6d['length'];_0xd3e0d9++){const _0x3fe7c4=_0x3de86a['layers']['getLayerBy'+'Id'](_0xd5a6d[_0xd3e0d9]);_0x3fe7c4&&_0x3fe7c4['addShadowC'+'asters'](_0x381a34);}}this['_castShado'+'ws']=_0x5bf7c5;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x5a6136){if(this['_receiveSh'+'adows']!==_0x5a6136){this['_receiveSh'+'adows']=_0x5a6136;const _0x40233f=this['_meshInsta'+'nces'];if(_0x40233f){for(let _0x38d82d=0x421*0x5+-0xe8d+-0x618;_0x38d82d<_0x40233f['length'];_0x38d82d++)_0x40233f[_0x38d82d]['receiveSha'+'dow']=_0x5a6136;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x45563d){this['_castShado'+'wsLightmap']=_0x45563d;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x5b5e11){this['_lightmapS'+'izeMultipl'+'ier']=_0x5b5e11;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x523f61){const _0x94a9fc=this['system']['app']['scene']['layers'];let _0x1470f4;if(this['_meshInsta'+'nces']){for(let _0x27f38a=-0x1875*0x1+-0xf06+0x277b;_0x27f38a<this['_layers']['length'];_0x27f38a++)_0x1470f4=_0x94a9fc['getLayerBy'+'Id'](this['_layers'][_0x27f38a]),_0x1470f4&&_0x1470f4['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x1455+-0x24e6+0x5b*0xa1;for(let _0x129eff=-0x7f*-0x17+-0x1*0xf97+0x42e;_0x129eff<_0x523f61['length'];_0x129eff++)this['_layers'][_0x129eff]=_0x523f61[_0x129eff];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x332e8c=0x105b+-0x13*0x1f9+0x1520*0x1;_0x332e8c<this['_layers']['length'];_0x332e8c++)_0x1470f4=_0x94a9fc['getLayerBy'+'Id'](this['_layers'][_0x332e8c]),_0x1470f4&&_0x1470f4['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0xc579e2){var _0x351455,_0x3d2a27;this['_batchGrou'+'pId']!==_0xc579e2&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1ef4+0x1*-0x20d2+0x1de&&((_0x351455=this['system']['app']['batcher'])==null||_0x351455['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0xc579e2>=-0x1bda+0x1*0x1a1+0x1a39&&((_0x3d2a27=this['system']['app']['batcher'])==null||_0x3d2a27['insert'](et['RENDER'],_0xc579e2,this['entity'])),_0xc579e2<0x7fa*0x1+-0x1a08+0x120e&&this['_batchGrou'+'pId']>=0x15a7+0x16da*-0x1+0x1*0x133&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0xc579e2);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x42d072){if(this['_material']!==_0x42d072&&(this['_material']=_0x42d072,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0xbdccd3=-0x1*-0xae2+-0xed7+0x3f5;_0xbdccd3<this['_meshInsta'+'nces']['length'];_0xbdccd3++)this['_meshInsta'+'nces'][_0xbdccd3]['material']=_0x42d072;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x5baf0c=[]){if(this['_materialR'+'eferences']['length']>_0x5baf0c['length']){for(let _0x24f645=_0x5baf0c['length'];_0x24f645<this['_materialR'+'eferences']['length'];_0x24f645++)this['_materialR'+'eferences'][_0x24f645]['id']=null;this['_materialR'+'eferences']['length']=_0x5baf0c['length'];}for(let _0x226cc4=0x1c9d*0x1+0x17cd+-0x346a;_0x226cc4<_0x5baf0c['length'];_0x226cc4++)if(this['_materialR'+'eferences'][_0x226cc4]||this['_materialR'+'eferences']['push'](new Go(_0x226cc4,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x5baf0c[_0x226cc4]){const _0x108c13=_0x5baf0c[_0x226cc4]instanceof le?_0x5baf0c[_0x226cc4]['id']:_0x5baf0c[_0x226cc4];this['_materialR'+'eferences'][_0x226cc4]['id']!==_0x108c13&&(this['_materialR'+'eferences'][_0x226cc4]['id']=_0x108c13),this['_materialR'+'eferences'][_0x226cc4]['asset']&&this['_onMateria'+'lAdded'](_0x226cc4,this,this['_materialR'+'eferences'][_0x226cc4]['asset']);}else this['_materialR'+'eferences'][_0x226cc4]['id']=null,this['_meshInsta'+'nces'][_0x226cc4]&&(this['_meshInsta'+'nces'][_0x226cc4]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x50386f=>_0x50386f['id']);}set['asset'](_0x4e8495){const _0x66133b=_0x4e8495 instanceof le?_0x4e8495['id']:_0x4e8495;this['_assetRefe'+'rence']['id']!==_0x66133b&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x66133b,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x405fab){const _0x14dff8=_0x405fab instanceof le?_0x405fab['id']:_0x405fab;this['_assetRefe'+'rence']['id']=_0x14dff8;}set['rootBone'](_0x434f3){if(this['_rootBone']!==_0x434f3){const _0x1fd32c=typeof _0x434f3=='string';if(this['_rootBone']&&_0x1fd32c&&this['_rootBone']['getGuid']()===_0x434f3)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x434f3 instanceof De?this['_rootBone']=_0x434f3:_0x1fd32c?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x434f3)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x12aae6=this['_meshInsta'+'nces'];if(_0x12aae6){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x2dc7b7=0x1827+0x13af+0x2bd6*-0x1;_0x2dc7b7<_0x12aae6['length'];_0x2dc7b7++)_0x12aae6[_0x2dc7b7]['destroy']();this['_meshInsta'+'nces']['length']=0x1*-0x102e+-0x1140+0x216e;}}['addToLayer'+'s'](){const _0x50146b=this['system']['app']['scene']['layers'];for(let _0x54b566=-0xd50+0x2689+0x1939*-0x1;_0x54b566<this['_layers']['length'];_0x54b566++){const _0x93db8=_0x50146b['getLayerBy'+'Id'](this['_layers'][_0x54b566]);_0x93db8&&_0x93db8['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x43d700=this['system']['app']['scene']['layers'];for(let _0x5775c7=0x1*-0xd8b+0x121a+-0x3*0x185;_0x5775c7<this['_layers']['length'];_0x5775c7++){const _0x45a67c=_0x43d700['getLayerBy'+'Id'](this['_layers'][_0x5775c7]);_0x45a67c&&_0x45a67c['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x49d84b=-0xfc3+0xd49+0x1*0x27a;_0x49d84b<this['_materialR'+'eferences']['length'];_0x49d84b++)this['_materialR'+'eferences'][_0x49d84b]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x325948,_0x269f00){this['addToLayer'+'s'](),_0x325948['off']('add',this['onLayerAdd'+'ed'],this),_0x325948['off']('remove',this['onLayerRem'+'oved'],this),_0x269f00['on']('add',this['onLayerAdd'+'ed'],this),_0x269f00['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x10a6f4){this['layers']['indexOf'](_0x10a6f4['id'])<-0x4d2*0x1+-0x1b0d+0x29*0xc7||_0x10a6f4['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x3cb42f){this['layers']['indexOf'](_0x3cb42f['id'])<0xbc1+-0x9cb+-0x1*0x1f6||_0x3cb42f['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x21bb2e;const _0x2b3224=this['system']['app'],_0x29466c=_0x2b3224['scene'],_0x488565=_0x29466c['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x29466c['on']('set:layers',this['onLayersCh'+'anged'],this),_0x488565&&(this['_evtLayerA'+'dded']=_0x488565['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x488565['on']('remove',this['onLayerRem'+'oved'],this));const _0x4e31aa=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x4e31aa&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x2db83b=0x25b4+0x2e*-0xb8+0x1b*-0x2c;_0x2db83b<this['_materialR'+'eferences']['length'];_0x2db83b++)this['_materialR'+'eferences'][_0x2db83b]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x2db83b]['asset']);this['_batchGrou'+'pId']>=0x1*0x1953+0xde3+0x1de*-0x15&&((_0x21bb2e=_0x2b3224['batcher'])==null||_0x21bb2e['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x438882,_0x49db6f,_0x43caed,_0xa29b1c;const _0x23d7b0=this['system']['app'],_0xd79bc=_0x23d7b0['scene']['layers'];(_0x438882=this['_evtLayers'+'Changed'])==null||_0x438882['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0xd79bc&&((_0x49db6f=this['_evtLayerA'+'dded'])==null||_0x49db6f['off'](),this['_evtLayerA'+'dded']=null,(_0x43caed=this['_evtLayerR'+'emoved'])==null||_0x43caed['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x83f*0x1+0x2*-0xf4a+0x26d3&&((_0xa29b1c=_0x23d7b0['batcher'])==null||_0xa29b1c['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x327364=-0x49*-0xa+0x1e18+-0x20f2;_0x327364<this['_meshInsta'+'nces']['length'];_0x327364++)this['_meshInsta'+'nces'][_0x327364]['visible']=!(-0xa05+-0x654+-0xb6*-0x17);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x3246e4=0xc9f+0x824*-0x1+-0x47b*0x1;_0x3246e4<this['_meshInsta'+'nces']['length'];_0x3246e4++)this['_meshInsta'+'nces'][_0x3246e4]['visible']=!(-0x6e6*0x1+0x727+0x1*-0x41);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x408578;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x26bf25=this['_assetRefe'+'rence']['asset']['resource'];(_0x408578=this['_evtSetMes'+'hes'])==null||_0x408578['off'](),this['_evtSetMes'+'hes']=_0x26bf25['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x26bf25['meshes']&&this['_onSetMesh'+'es'](_0x26bf25['meshes']);}}['_onSetMesh'+'es'](_0x5238b6){this['_cloneMesh'+'es'](_0x5238b6);}['_clearSkin'+'Instances'](){for(let _0x5bcf8e=-0x3*0xb47+0x1904+0x3d*0x25;_0x5bcf8e<this['_meshInsta'+'nces']['length'];_0x5bcf8e++){const _0x1906ac=this['_meshInsta'+'nces'][_0x5bcf8e];Vo['removeCach'+'edSkinInst'+'ance'](_0x1906ac['skinInstan'+'ce']),_0x1906ac['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x5bad48=-0x102+-0x1543+0x1645;_0x5bad48<this['_meshInsta'+'nces']['length'];_0x5bad48++){const _0x4f2402=this['_meshInsta'+'nces'][_0x5bad48],_0x56c7ff=_0x4f2402['mesh'];_0x56c7ff['skin']&&!_0x4f2402['skinInstan'+'ce']&&(_0x4f2402['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x56c7ff['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x3cc95d){if(_0x3cc95d&&_0x3cc95d['length']){const _0x4372c2=[];for(let _0x2d08d1=-0x1*0x515+-0x35f*0x3+0xf32;_0x2d08d1<_0x3cc95d['length'];_0x2d08d1++){const _0x8982b1=_0x3cc95d[_0x2d08d1],_0x1202e6=this['_materialR'+'eferences'][_0x2d08d1]&&this['_materialR'+'eferences'][_0x2d08d1]['asset']&&this['_materialR'+'eferences'][_0x2d08d1]['asset']['resource'],_0x308f99=new Le(_0x8982b1,_0x1202e6||this['system']['defaultMat'+'erial'],this['entity']);_0x4372c2['push'](_0x308f99),_0x8982b1['morph']&&(_0x308f99['morphInsta'+'nce']=new fn(_0x8982b1['morph']));}this['meshInstan'+'ces']=_0x4372c2,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x507d16;(_0x507d16=this['_evtSetMes'+'hes'])==null||_0x507d16['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x5e8629,_0x3668fa,_0x34537f){_0x34537f['resource']?this['_onMateria'+'lLoad'](_0x5e8629,_0x3668fa,_0x34537f):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x34537f);}['_updateMai'+'nMaterial'](_0x2a9880,_0x526ca7){_0x2a9880===0x7f5+-0x1f71+0x177c&&(this['material']=_0x526ca7);}['_onMateria'+'lLoad'](_0x3c2931,_0xfebc65,_0x3c22ba){this['_meshInsta'+'nces'][_0x3c2931]&&(this['_meshInsta'+'nces'][_0x3c2931]['material']=_0x3c22ba['resource']),this['_updateMai'+'nMaterial'](_0x3c2931,_0x3c22ba['resource']);}['_onMateria'+'lRemove'](_0x493a24,_0x50263d,_0x598bf0){this['_meshInsta'+'nces'][_0x493a24]&&(this['_meshInsta'+'nces'][_0x493a24]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x493a24,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x5986be,_0x12d678,_0x5527ee){this['_meshInsta'+'nces'][_0x5986be]&&(this['_meshInsta'+'nces'][_0x5986be]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5986be,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x415ea6,_0x569c11){_0x415ea6['rootBone']&&(this['rootBone']=_0x569c11[_0x415ea6['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(0x18eb+0xd*0x1c9+0x8c*-0x58);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x311176){super(_0x311176),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x311176['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xf7702f,_0x4da105,_0x4843a4){(_0x4da105['batchGroup'+'Id']===null||_0x4da105['batchGroup'+'Id']===void(0x2a5*0xc+0x1d23*-0x1+0x1*-0x299))&&(_0x4da105['batchGroup'+'Id']=-(-0x2214+-0x1*-0x1b7f+0x696)),_0x4da105['layers']&&_0x4da105['layers']['length']&&(_0x4da105['layers']=_0x4da105['layers']['slice'](0x1a0c*0x1+-0xe3*0xa+-0x897*0x2));for(let _0x392b05=-0x1979*0x1+0x1906+0x73;_0x392b05<Mr['length'];_0x392b05++)_0x4da105['hasOwnProp'+'erty'](Mr[_0x392b05])&&(_0xf7702f[Mr[_0x392b05]]=_0x4da105[Mr[_0x392b05]]);_0x4da105['aabbCenter']&&_0x4da105['aabbHalfEx'+'tents']&&(_0xf7702f['customAabb']=new _e(new T(_0x4da105['aabbCenter']),new T(_0x4da105['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0xf7702f,_0x4da105,pf);}['cloneCompo'+'nent'](_0x54cfbb,_0x61cb64){const _0x5854cb={};for(let _0x542a44=0x1050+0x2192*-0x1+0x1142;_0x542a44<Mr['length'];_0x542a44++)_0x5854cb[Mr[_0x542a44]]=_0x54cfbb['render'][Mr[_0x542a44]];_0x5854cb['enabled']=_0x54cfbb['render']['enabled'],delete _0x5854cb['meshInstan'+'ces'];const _0xa8d81d=this['addCompone'+'nt'](_0x61cb64,_0x5854cb),_0x2d10b4=_0x54cfbb['render']['meshInstan'+'ces'],_0x475a30=_0x2d10b4['map'](_0x2f9dd1=>_0x2f9dd1['mesh']);_0xa8d81d['_onSetMesh'+'es'](_0x475a30);for(let _0x2ff6cf=-0x23e+-0x1023+0x1261;_0x2ff6cf<_0x2d10b4['length'];_0x2ff6cf++)_0xa8d81d['meshInstan'+'ces'][_0x2ff6cf]['material']=_0x2d10b4[_0x2ff6cf]['material'];return _0x54cfbb['render']['customAabb']&&(_0xa8d81d['customAabb']=_0x54cfbb['render']['customAabb']['clone']()),_0xa8d81d;}['onRemove'](_0x32afcb,_0x126de9){_0x126de9['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x29f183,_0x162ff9){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',-0x124b+0x1862+-0x617),(this['_construct'+'or']=_0x29f183,this['_resize'](_0x162ff9));}['_resize'](_0x42a157){if(_0x42a157>this['_pool']['length']){for(let _0x5249ab=this['_pool']['length'];_0x5249ab<_0x42a157;_0x5249ab++)this['_pool'][_0x5249ab]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x1196+0x310*0x2+-0x17b4)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x3c*-0x16+-0x13c0+-0x4*-0x63a;}}let Vt,xe,gs,$n;const pI=new se(),mI=new se(),Ql=new T();class $s extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x2323*0x1+0x50c+-0x282f),c(this,'_angularFa'+'ctor',new T(-0x2526+0x1747+0xde0,-0x9a0+-0x1*-0x14a7+-0xb06,0xcd9+-0xcbd*-0x2+-0x2652)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',0xfd5+0x35f*0x2+-0x1*0x1693+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',-0xff8+0x6*0x59e+-0x46f*0x4),c(this,'_linearFac'+'tor',new T(-0x4c*0x3e+0x2000+-0xd97,-0xc*-0x221+-0x3cd*-0x7+0x1162*-0x3,-0x2*-0x118c+0x19*0x49+-0x2a38)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',0x1fb5+0x1be*0x12+0xfc4*-0x4),c(this,'_restituti'+'on',-0x1d13+-0x2*0xf58+0x3bc3),c(this,'_rollingFr'+'iction',0x18af*0x1+0x24f5+-0x1*0x3da4),c(this,'_simulatio'+'nEnabled',!(0x156*-0xa+-0x9f*-0x8+0x1*0x865)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),$n=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy']($n),Vt=null,xe=null,gs=null,$n=null;}set['angularDam'+'ping'](_0x22fff5){this['_angularDa'+'mping']!==_0x22fff5&&(this['_angularDa'+'mping']=_0x22fff5,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x22fff5));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x285d21){this['_angularFa'+'ctor']['equals'](_0x285d21)||(this['_angularFa'+'ctor']['copy'](_0x285d21),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x285d21['x'],_0x285d21['y'],_0x285d21['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x161295){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x161295['x'],_0x161295['y'],_0x161295['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x161295));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x2a9cac=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x2a9cac['x'](),_0x2a9cac['y'](),_0x2a9cac['z']());}return this['_angularVe'+'locity'];}set['body'](_0x1eb31f){this['_body']!==_0x1eb31f&&(this['_body']=_0x1eb31f,_0x1eb31f&&this['_simulatio'+'nEnabled']&&_0x1eb31f['activate']());}get['body'](){return this['_body'];}set['friction'](_0x32511e){this['_friction']!==_0x32511e&&(this['_friction']=_0x32511e,this['_body']&&this['_body']['setFrictio'+'n'](_0x32511e));}get['friction'](){return this['_friction'];}set['group'](_0x2c94f6){this['_group']!==_0x2c94f6&&(this['_group']=_0x2c94f6,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x1844a0){this['_linearDam'+'ping']!==_0x1844a0&&(this['_linearDam'+'ping']=_0x1844a0,this['_body']&&this['_body']['setDamping'](_0x1844a0,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x481b2e){this['_linearFac'+'tor']['equals'](_0x481b2e)||(this['_linearFac'+'tor']['copy'](_0x481b2e),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x481b2e['x'],_0x481b2e['y'],_0x481b2e['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x403d11){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x403d11['x'],_0x403d11['y'],_0x403d11['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x403d11));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x5a09d3=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x5a09d3['x'](),_0x5a09d3['y'](),_0x5a09d3['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x176e5b){this['_mask']!==_0x176e5b&&(this['_mask']=_0x176e5b,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x6eee46){if(this['_mass']!==_0x6eee46&&(this['_mass']=_0x6eee46,this['_body']&&this['_type']===ms)){const _0x14cca8=this['enabled']&&this['entity']['enabled'];_0x14cca8&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x6eee46,xe),this['_body']['setMassPro'+'ps'](_0x6eee46,xe),this['_body']['updateIner'+'tiaTensor'](),_0x14cca8&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x4f62d3){this['_restituti'+'on']!==_0x4f62d3&&(this['_restituti'+'on']=_0x4f62d3,this['_body']&&this['_body']['setRestitu'+'tion'](_0x4f62d3));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x3d57f9){this['_rollingFr'+'iction']!==_0x3d57f9&&(this['_rollingFr'+'iction']=_0x3d57f9,this['_body']&&this['_body']['setRolling'+'Friction'](_0x3d57f9));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x330e85){if(this['_type']!==_0x330e85){switch(this['_type']=_0x330e85,this['disableSim'+'ulation'](),_0x330e85){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x48425e=this['entity'];let _0x56268e;if(_0x48425e['collision']&&(_0x56268e=_0x48425e['collision']['shape'],_0x48425e['trigger']&&(_0x48425e['trigger']['destroy'](),delete _0x48425e['trigger'])),_0x56268e){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0xe87894=this['_type']===ms?this['_mass']:-0x87e+-0xf44*0x1+0x17c2;this['_getEntity'+'Transform'](Vt);const _0x2be4e4=this['system']['createBody'](_0xe87894,_0x56268e,Vt);if(_0x2be4e4['setRestitu'+'tion'](this['_restituti'+'on']),_0x2be4e4['setFrictio'+'n'](this['_friction']),_0x2be4e4['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x2be4e4['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x512fdd=this['_linearFac'+'tor'];xe['setValue'](_0x512fdd['x'],_0x512fdd['y'],_0x512fdd['z']),_0x2be4e4['setLinearF'+'actor'](xe);const _0x197fc8=this['_angularFa'+'ctor'];xe['setValue'](_0x197fc8['x'],_0x197fc8['y'],_0x197fc8['z']),_0x2be4e4['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x2be4e4['setCollisi'+'onFlags'](_0x2be4e4['getCollisi'+'onFlags']()|eR),_0x2be4e4['setActivat'+'ionState'](ag));_0x2be4e4['entity']=_0x48425e,this['body']=_0x2be4e4,this['enabled']&&_0x48425e['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x542*-0x3+0xa6d*0x1+0x55a);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x4a99ba=this['entity'];if(_0x4a99ba['collision']&&_0x4a99ba['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x2ea0f2=this['_body'];if(_0x2ea0f2){switch(this['system']['addBody'](_0x2ea0f2,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x2ea0f2['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x2ea0f2['forceActiv'+'ationState'](ag);break;case so:_0x2ea0f2['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x4a99ba['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x4a99ba['collision']),_0x2ea0f2['activate'](),this['_simulatio'+'nEnabled']=!(-0x1*0x3fb+-0xe9d+-0x1dc*-0xa);}}}['disableSim'+'ulation'](){const _0x54699e=this['_body'];if(_0x54699e&&this['_simulatio'+'nEnabled']){const _0x5bbdf1=this['system'];let _0x2b5a07=_0x5bbdf1['_compounds']['indexOf'](this['entity']['collision']);_0x2b5a07>-(-0xb*-0x16f+0x3b*0x7f+0x7*-0x66f)&&_0x5bbdf1['_compounds']['splice'](_0x2b5a07,-0x64*0x5b+0x138b+0x1002),_0x2b5a07=_0x5bbdf1['_dynamic']['indexOf'](this),_0x2b5a07>-(-0x1*-0x170c+0x1*0xda3+-0x24ae)&&_0x5bbdf1['_dynamic']['splice'](_0x2b5a07,-0x90d+-0x4d8*0x2+-0x12be*-0x1),_0x2b5a07=_0x5bbdf1['_kinematic']['indexOf'](this),_0x2b5a07>-(0x235c+-0x18+-0x2343)&&_0x5bbdf1['_kinematic']['splice'](_0x2b5a07,-0xe5b+-0x1*-0x1d9f+-0xf43),_0x5bbdf1['removeBody'](_0x54699e),_0x54699e['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(0x26a7+0x20a5+-0x474b);}}['applyForce'](_0x4db029,_0x525445,_0x394bce,_0x56d5c3,_0x3c3737,_0x108d5f){const _0x493dcb=this['_body'];_0x493dcb&&(_0x493dcb['activate'](),_0x4db029 instanceof T?xe['setValue'](_0x4db029['x'],_0x4db029['y'],_0x4db029['z']):xe['setValue'](_0x4db029,_0x525445,_0x394bce),_0x525445 instanceof T?gs['setValue'](_0x525445['x'],_0x525445['y'],_0x525445['z']):_0x56d5c3!==void(0xad*-0x1f+-0x13d9+0x28cc*0x1)?gs['setValue'](_0x56d5c3,_0x3c3737,_0x108d5f):gs['setValue'](-0xdd+0x159b+-0x14be,-0x1204+0x4*-0x4cc+0x2534,0x8d7+0xb49+-0x2*0xa10),_0x493dcb['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x25bf08,_0x452026,_0x2653dc){const _0x3c60b8=this['_body'];_0x3c60b8&&(_0x3c60b8['activate'](),_0x25bf08 instanceof T?xe['setValue'](_0x25bf08['x'],_0x25bf08['y'],_0x25bf08['z']):xe['setValue'](_0x25bf08,_0x452026,_0x2653dc),_0x3c60b8['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x28eef4,_0x33ea5f,_0x85c724,_0x1fdc76,_0x1ed59d,_0x186801){const _0x590b99=this['_body'];_0x590b99&&(_0x590b99['activate'](),_0x28eef4 instanceof T?xe['setValue'](_0x28eef4['x'],_0x28eef4['y'],_0x28eef4['z']):xe['setValue'](_0x28eef4,_0x33ea5f,_0x85c724),_0x33ea5f instanceof T?gs['setValue'](_0x33ea5f['x'],_0x33ea5f['y'],_0x33ea5f['z']):_0x1fdc76!==void(-0x4*0x7b5+0x1dd9+0xfb)?gs['setValue'](_0x1fdc76,_0x1ed59d,_0x186801):gs['setValue'](-0x152e+-0xf77*-0x2+-0x27*0x40,0x1aa8+-0xd*0xfe+-0xdc2,-0x38*0x1d+0x5*-0x72e+0x151f*0x2),_0x590b99['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x41ba1b,_0x251c61,_0x44b0da){const _0x278aad=this['_body'];_0x278aad&&(_0x278aad['activate'](),_0x41ba1b instanceof T?xe['setValue'](_0x41ba1b['x'],_0x41ba1b['y'],_0x41ba1b['z']):xe['setValue'](_0x41ba1b,_0x251c61,_0x44b0da),_0x278aad['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x483c03){const _0xa6dda6=this['entity'],_0x3bffce=_0xa6dda6['collision'];if(_0x3bffce){const _0x1299f0=_0x3bffce['getShapePo'+'sition'](),_0x4ebd7f=_0x3bffce['getShapeRo'+'tation']();xe['setValue'](_0x1299f0['x'],_0x1299f0['y'],_0x1299f0['z']),$n['setValue'](_0x4ebd7f['x'],_0x4ebd7f['y'],_0x4ebd7f['z'],_0x4ebd7f['w']);}else{const _0x1a8634=_0xa6dda6['getPositio'+'n'](),_0x13555a=_0xa6dda6['getRotatio'+'n']();xe['setValue'](_0x1a8634['x'],_0x1a8634['y'],_0x1a8634['z']),$n['setValue'](_0x13555a['x'],_0x13555a['y'],_0x13555a['z'],_0x13555a['w']);}_0x483c03['setOrigin'](xe),_0x483c03['setRotatio'+'n']($n);}['syncEntity'+'ToBody'](){const _0x2fda52=this['_body'];if(_0x2fda52){if(this['_getEntity'+'Transform'](Vt),_0x2fda52['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x1f16bf=_0x2fda52['getMotionS'+'tate']();_0x1f16bf&&_0x1f16bf['setWorldTr'+'ansform'](Vt);}_0x2fda52['activate']();}}['_updateDyn'+'amic'](){const _0xf47f6e=this['_body'];if(_0xf47f6e['isActive']()){const _0x469798=_0xf47f6e['getMotionS'+'tate']();if(_0x469798){const _0x3c3a73=this['entity'];_0x469798['getWorldTr'+'ansform'](Vt);const _0x7acbab=Vt['getOrigin'](),_0x3e44f8=Vt['getRotatio'+'n'](),_0x2da1c7=_0x3c3a73['collision'];if(_0x2da1c7&&_0x2da1c7['_hasOffset']){const _0x234849=_0x2da1c7['data']['linearOffs'+'et'],_0x5f507f=_0x2da1c7['data']['angularOff'+'set'],_0x113b97=mI['copy'](_0x5f507f)['invert'](),_0x4a2bdb=pI['set'](_0x3e44f8['x'](),_0x3e44f8['y'](),_0x3e44f8['z'](),_0x3e44f8['w']())['mul'](_0x113b97);_0x4a2bdb['transformV'+'ector'](_0x234849,Ql),_0x3c3a73['setPositio'+'n'](_0x7acbab['x']()-Ql['x'],_0x7acbab['y']()-Ql['y'],_0x7acbab['z']()-Ql['z']),_0x3c3a73['setRotatio'+'n'](_0x4a2bdb);}else _0x3c3a73['setPositio'+'n'](_0x7acbab['x'](),_0x7acbab['y'](),_0x7acbab['z']()),_0x3c3a73['setRotatio'+'n'](_0x3e44f8['x'](),_0x3e44f8['y'](),_0x3e44f8['z'](),_0x3e44f8['w']());}}}['_updateKin'+'ematic'](){const _0x2c2569=this['_body']['getMotionS'+'tate']();_0x2c2569&&(this['_getEntity'+'Transform'](Vt),_0x2c2569['setWorldTr'+'ansform'](Vt));}['teleport'](_0x270b0f,_0x33710b,_0x55dec9,_0x3e730e,_0x2279e7,_0xf2db4e){_0x270b0f instanceof T?this['entity']['setPositio'+'n'](_0x270b0f):this['entity']['setPositio'+'n'](_0x270b0f,_0x33710b,_0x55dec9),_0x33710b instanceof se?this['entity']['setRotatio'+'n'](_0x33710b):_0x33710b instanceof T?this['entity']['setEulerAn'+'gles'](_0x33710b):_0x3e730e!==void(0x151*0x8+0x6*-0x423+0x1f*0x76)&&this['entity']['setEulerAn'+'gles'](_0x3e730e,_0x2279e7,_0xf2db4e),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c($s,'EVENT_CONT'+'ACT','contact'),c($s,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c($s,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c($s,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c($s,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c($s,'order',-(-0x219e+0x9a3+-0x5*-0x4cc));class _I{constructor(){this['enabled']=!(-0x8f9+0xb02*-0x1+0x13fb);}}let ai,oi;class xg{constructor(_0x1988e3,_0x48c789,_0x383443,_0x6da4ba){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x1988e3,this['point']=_0x48c789,this['normal']=_0x383443,this['hitFractio'+'n']=_0x6da4ba);}}class gI{constructor(_0x329c26,_0x172e75,_0x34a334){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==0x4f*0x13+0x1ebf+-0x249c?(this['a']=_0x329c26,this['b']=_0x172e75,this['impulse']=_0x34a334['impulse'],this['localPoint'+'A']=_0x34a334['localPoint'],this['localPoint'+'B']=_0x34a334['localPoint'+'Other'],this['pointA']=_0x34a334['point'],this['pointB']=_0x34a334['pointOther'],this['normal']=_0x34a334['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x1*0x19ba+-0x1abb*-0x1+-0x101,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x1ba79c=new T(),_0x3d8058=new T(),_0xa458b5=new T(),_0x1b5a74=new T(),_0x1f5a8=new T(),_0x1c46da=0x4*0x36c+-0x4*0x94d+0x1784){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x1ba79c,this['localPoint'+'Other']=_0x3d8058,this['point']=_0xa458b5,this['pointOther']=_0x1b5a74,this['normal']=_0x1f5a8,this['impulse']=_0x1c46da);}}class xI{constructor(_0x19ccd5,_0x3c699a){c(this,'other'),c(this,'contacts'),(this['other']=_0x19ccd5,this['contacts']=_0x3c699a);}}const px=['enabled'];class mx extends Xe{constructor(_0x12e07d){super(_0x12e07d),c(this,'maxSubStep'+'s',-0x1*0x599+-0x219f+0x2742),c(this,'fixedTimeS'+'tep',(-0x23a6*-0x1+0x123b+-0x35e0)/(0xaa3+-0x1bc3+0x1*0x115c)),c(this,'gravity',new T(-0x1aff+-0x14e1*0x1+0x20*0x17f,-(0x261f+0x17c3+-0x3dd9+0.8100000000000005),-0x1*-0x19b3+0x22ff+-0x3cb2)),c(this,'_gravityFl'+'oat32',new Float32Array(-0x6*-0x367+0x225*0x8+0x783*-0x5)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x12e07d['stats']['frame'],this['ComponentT'+'ype']=$s,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x249c75=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x249c75);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),$s['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,0x631*0x5+0x5*-0x4c1+-0x72f),this['contactRes'+'ultPool']=new Zd(xI,0x193a+0x1*0x1cfd+-0x3636),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0x510+0x7*-0x3a6+0x1e9b),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x99587c,_0x3fa0f1,_0x146a93){const _0x33b4d7=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x4ca07d of _0x33b4d7)if(_0x3fa0f1['hasOwnProp'+'erty'](_0x4ca07d)){const _0x2dece6=_0x3fa0f1[_0x4ca07d];Array['isArray'](_0x2dece6)?_0x99587c[_0x4ca07d]=new T(_0x2dece6[-0x1413+0x967*0x1+0xaac],_0x2dece6[-0x213e+0x8df+0x28*0x9c],_0x2dece6[0xdc9*0x2+0xb*-0x20b+-0x517*0x1]):_0x99587c[_0x4ca07d]=_0x2dece6;}super['initialize'+'ComponentD'+'ata'](_0x99587c,_0x3fa0f1,['enabled']);}['cloneCompo'+'nent'](_0x11ab3a,_0x5743cc){const _0x10e66c=_0x11ab3a['rigidbody'],_0x18914c={'enabled':_0x10e66c['enabled'],'mass':_0x10e66c['mass'],'linearDamping':_0x10e66c['linearDamp'+'ing'],'angularDamping':_0x10e66c['angularDam'+'ping'],'linearFactor':[_0x10e66c['linearFact'+'or']['x'],_0x10e66c['linearFact'+'or']['y'],_0x10e66c['linearFact'+'or']['z']],'angularFactor':[_0x10e66c['angularFac'+'tor']['x'],_0x10e66c['angularFac'+'tor']['y'],_0x10e66c['angularFac'+'tor']['z']],'friction':_0x10e66c['friction'],'rollingFriction':_0x10e66c['rollingFri'+'ction'],'restitution':_0x10e66c['restitutio'+'n'],'type':_0x10e66c['type'],'group':_0x10e66c['group'],'mask':_0x10e66c['mask']};return this['addCompone'+'nt'](_0x5743cc,_0x18914c);}['onBeforeRe'+'move'](_0x1c5866,_0x2f83c8){_0x2f83c8['enabled']&&(_0x2f83c8['enabled']=!(-0x25c1+0x4ef*0x3+0x7a7*0x3)),_0x2f83c8['body']&&(this['destroyBod'+'y'](_0x2f83c8['body']),_0x2f83c8['body']=null);}['addBody'](_0x32b4b7,_0x128a2d,_0x4ac8de){_0x128a2d!==void(0x249e+-0x1*0x968+-0x1b36)&&_0x4ac8de!==void(0xb4+0x1ca0+-0x755*0x4)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x32b4b7,_0x128a2d,_0x4ac8de):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x32b4b7);}['removeBody'](_0x8f72ab){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x8f72ab);}['createBody'](_0x1278c2,_0x2b19b9,_0xb408d3){const _0x2c100b=new Ammo['btVector3'](-0x1*-0x161b+-0x28d*-0x2+-0x1b35,0x13a5+0x1*-0xa81+-0x924,0x2280+0x1ba4+-0x3e24);_0x1278c2!==0x214b*0x1+-0x61*-0x23+-0x1747*0x2&&_0x2b19b9['calculateL'+'ocalInerti'+'a'](_0x1278c2,_0x2c100b);const _0x329621=new Ammo['btDefaultM'+'otionState'](_0xb408d3),_0x2346a8=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x1278c2,_0x329621,_0x2b19b9,_0x2c100b),_0x3f02d3=new Ammo['btRigidBod'+'y'](_0x2346a8);return Ammo['destroy'](_0x2346a8),Ammo['destroy'](_0x2c100b),_0x3f02d3;}['destroyBod'+'y'](_0x58c866){const _0xf238c0=_0x58c866['getMotionS'+'tate']();_0xf238c0&&Ammo['destroy'](_0xf238c0),Ammo['destroy'](_0x58c866);}['raycastFir'+'st'](_0x400955,_0x37dee3,_0x25d843={}){if(_0x25d843['filterTags']||_0x25d843['filterCall'+'back'])return _0x25d843['sort']=!(-0x445*-0x1+-0x1*-0x1e5b+0x4*-0x8a8),this['raycastAll'](_0x400955,_0x37dee3,_0x25d843)[-0x8+0x79a*-0x3+0x16d6]||null;let _0x207543=null;ai['setValue'](_0x400955['x'],_0x400955['y'],_0x400955['z']),oi['setValue'](_0x37dee3['x'],_0x37dee3['y'],_0x37dee3['z']);const _0x518024=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x25d843['filterColl'+'isionGroup']=='number'&&_0x518024['set_m_coll'+'isionFilte'+'rGroup'](_0x25d843['filterColl'+'isionGroup']),typeof _0x25d843['filterColl'+'isionMask']=='number'&&_0x518024['set_m_coll'+'isionFilte'+'rMask'](_0x25d843['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x518024),_0x518024['hasHit']()){const _0x3d8a24=_0x518024['get_m_coll'+'isionObjec'+'t'](),_0x483332=Ammo['castObject'](_0x3d8a24,Ammo['btRigidBod'+'y']);if(_0x483332){const _0x25ce6d=_0x518024['get_m_hitP'+'ointWorld'](),_0x42d6b8=_0x518024['get_m_hitN'+'ormalWorld']();_0x207543=new xg(_0x483332['entity'],new T(_0x25ce6d['x'](),_0x25ce6d['y'](),_0x25ce6d['z']()),new T(_0x42d6b8['x'](),_0x42d6b8['y'](),_0x42d6b8['z']()),_0x518024['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x518024),_0x207543;}['raycastAll'](_0x3c6541,_0x4d03ed,_0x106356={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x1aeb82=[];ai['setValue'](_0x3c6541['x'],_0x3c6541['y'],_0x3c6541['z']),oi['setValue'](_0x4d03ed['x'],_0x4d03ed['y'],_0x4d03ed['z']);const _0x43e40e=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x106356['filterColl'+'isionGroup']=='number'&&_0x43e40e['set_m_coll'+'isionFilte'+'rGroup'](_0x106356['filterColl'+'isionGroup']),typeof _0x106356['filterColl'+'isionMask']=='number'&&_0x43e40e['set_m_coll'+'isionFilte'+'rMask'](_0x106356['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x43e40e),_0x43e40e['hasHit']()){const _0x2fc558=_0x43e40e['get_m_coll'+'isionObjec'+'ts'](),_0x384771=_0x43e40e['get_m_hitP'+'ointWorld'](),_0x2e089c=_0x43e40e['get_m_hitN'+'ormalWorld'](),_0xb1a7a=_0x43e40e['get_m_hitF'+'ractions'](),_0x59599a=_0x2fc558['size']();for(let _0x4a2554=0x904+0x1980+-0x2284;_0x4a2554<_0x59599a;_0x4a2554++){const _0x547999=Ammo['castObject'](_0x2fc558['at'](_0x4a2554),Ammo['btRigidBod'+'y']);if(_0x547999&&_0x547999['entity']){if(_0x106356['filterTags']&&!_0x547999['entity']['tags']['has'](..._0x106356['filterTags'])||_0x106356['filterCall'+'back']&&!_0x106356['filterCall'+'back'](_0x547999['entity']))continue;const _0x4fedf4=_0x384771['at'](_0x4a2554),_0x3fb918=_0x2e089c['at'](_0x4a2554),_0x127b0d=new xg(_0x547999['entity'],new T(_0x4fedf4['x'](),_0x4fedf4['y'](),_0x4fedf4['z']()),new T(_0x3fb918['x'](),_0x3fb918['y'](),_0x3fb918['z']()),_0xb1a7a['at'](_0x4a2554));_0x1aeb82['push'](_0x127b0d);}}_0x106356['sort']&&_0x1aeb82['sort']((_0x2d4993,_0x5ae37f)=>_0x2d4993['hitFractio'+'n']-_0x5ae37f['hitFractio'+'n']);}return Ammo['destroy'](_0x43e40e),_0x1aeb82;}['_storeColl'+'ision'](_0x125c73,_0x4e5cae){let _0x18db13=!(0x1c4f+-0x14e8+0x3b3*-0x2);const _0x268c69=_0x125c73['getGuid']();return this['collisions'][_0x268c69]=this['collisions'][_0x268c69]||{'others':[],'entity':_0x125c73},this['collisions'][_0x268c69]['others']['indexOf'](_0x4e5cae)<-0xbaa+0x1834+0x1e*-0x6b&&(this['collisions'][_0x268c69]['others']['push'](_0x4e5cae),_0x18db13=!(-0x713*0x5+-0xf64+0x32c3)),this['frameColli'+'sions'][_0x268c69]=this['frameColli'+'sions'][_0x268c69]||{'others':[],'entity':_0x125c73},this['frameColli'+'sions'][_0x268c69]['others']['push'](_0x4e5cae),_0x18db13;}['_createCon'+'tactPointF'+'romAmmo'](_0x120cd0){const _0x3a27f3=_0x120cd0['get_m_loca'+'lPointA'](),_0x38461e=_0x120cd0['get_m_loca'+'lPointB'](),_0x19c427=_0x120cd0['getPositio'+'nWorldOnA'](),_0x16c3c2=_0x120cd0['getPositio'+'nWorldOnB'](),_0x46ae75=_0x120cd0['get_m_norm'+'alWorldOnB'](),_0x2d85c7=this['contactPoi'+'ntPool']['allocate']();return _0x2d85c7['localPoint']['set'](_0x3a27f3['x'](),_0x3a27f3['y'](),_0x3a27f3['z']()),_0x2d85c7['localPoint'+'Other']['set'](_0x38461e['x'](),_0x38461e['y'](),_0x38461e['z']()),_0x2d85c7['point']['set'](_0x19c427['x'](),_0x19c427['y'](),_0x19c427['z']()),_0x2d85c7['pointOther']['set'](_0x16c3c2['x'](),_0x16c3c2['y'](),_0x16c3c2['z']()),_0x2d85c7['normal']['set'](_0x46ae75['x'](),_0x46ae75['y'](),_0x46ae75['z']()),_0x2d85c7['impulse']=_0x120cd0['getApplied'+'Impulse'](),_0x2d85c7;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x49ff98){const _0x24f0b5=_0x49ff98['get_m_loca'+'lPointA'](),_0x28451f=_0x49ff98['get_m_loca'+'lPointB'](),_0x4a9d07=_0x49ff98['getPositio'+'nWorldOnA'](),_0x181fa8=_0x49ff98['getPositio'+'nWorldOnB'](),_0x91299a=_0x49ff98['get_m_norm'+'alWorldOnB'](),_0x574189=this['contactPoi'+'ntPool']['allocate']();return _0x574189['localPoint'+'Other']['set'](_0x24f0b5['x'](),_0x24f0b5['y'](),_0x24f0b5['z']()),_0x574189['localPoint']['set'](_0x28451f['x'](),_0x28451f['y'](),_0x28451f['z']()),_0x574189['pointOther']['set'](_0x4a9d07['x'](),_0x4a9d07['y'](),_0x4a9d07['z']()),_0x574189['point']['set'](_0x181fa8['x'](),_0x181fa8['y'](),_0x181fa8['z']()),_0x574189['normal']['set'](_0x91299a['x'](),_0x91299a['y'](),_0x91299a['z']()),_0x574189['impulse']=_0x49ff98['getApplied'+'Impulse'](),_0x574189;}['_createSin'+'gleContact'+'Result'](_0x2dfc63,_0x4a7929,_0x193431){const _0x42f5b4=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x42f5b4['a']=_0x2dfc63,_0x42f5b4['b']=_0x4a7929,_0x42f5b4['localPoint'+'A']=_0x193431['localPoint'],_0x42f5b4['localPoint'+'B']=_0x193431['localPoint'+'Other'],_0x42f5b4['pointA']=_0x193431['point'],_0x42f5b4['pointB']=_0x193431['pointOther'],_0x42f5b4['normal']=_0x193431['normal'],_0x42f5b4['impulse']=_0x193431['impulse'],_0x42f5b4;}['_createCon'+'tactResult'](_0x1ed9e8,_0x4529ca){const _0x53a0a0=this['contactRes'+'ultPool']['allocate']();return _0x53a0a0['other']=_0x1ed9e8,_0x53a0a0['contacts']=_0x4529ca,_0x53a0a0;}['_cleanOldC'+'ollisions'](){for(const _0x530595 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x530595)){const _0x336dd7=this['frameColli'+'sions'][_0x530595],_0x4a134c=this['collisions'][_0x530595],_0x2c7466=_0x4a134c['entity'],_0x490edd=_0x2c7466['collision'],_0x120d30=_0x2c7466['rigidbody'],_0xce4480=_0x4a134c['others'];let _0x4f3dfd=_0xce4480['length'];for(;_0x4f3dfd--;){const _0x299090=_0xce4480[_0x4f3dfd];(!_0x336dd7||_0x336dd7['others']['indexOf'](_0x299090)<-0x901*-0x2+-0x2017+0x7*0x203)&&(_0xce4480['splice'](_0x4f3dfd,0x1deb+0x39b+0x2185*-0x1),_0x2c7466['trigger']?(_0x490edd&&_0x490edd['fire']('triggerlea'+'ve',_0x299090),_0x299090['rigidbody']&&_0x299090['rigidbody']['fire']('triggerlea'+'ve',_0x2c7466)):_0x299090['trigger']||(_0x120d30&&_0x120d30['fire']('collisione'+'nd',_0x299090),_0x490edd&&_0x490edd['fire']('collisione'+'nd',_0x299090)));}_0xce4480['length']===0x83*0x6+-0x1757*0x1+-0x1*-0x1445&&delete this['collisions'][_0x530595];}}['_hasContac'+'tEvent'](_0x3abf76){const _0x1beda0=_0x3abf76['collision'];if(_0x1beda0&&(_0x1beda0['hasEvent']('collisions'+'tart')||_0x1beda0['hasEvent']('collisione'+'nd')||_0x1beda0['hasEvent']('contact')))return!(-0x20ea*-0x1+-0x97*-0x1d+-0x3205);const _0x17246d=_0x3abf76['rigidbody'];return _0x17246d&&(_0x17246d['hasEvent']('collisions'+'tart')||_0x17246d['hasEvent']('collisione'+'nd')||_0x17246d['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x472bf2,_0x1a61a7){const _0x51903c=Ammo['wrapPointe'+'r'](_0x472bf2,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x45da59=_0x51903c['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x1d2010=0x1*0x233+0xd4f+-0xf82;_0x1d2010<_0x45da59;_0x1d2010++){const _0x260c91=_0x51903c['getManifol'+'dByIndexIn'+'ternal'](_0x1d2010),_0x2efde9=_0x260c91['getBody0'](),_0x8fd5dd=_0x260c91['getBody1'](),_0x2d9728=Ammo['castObject'](_0x2efde9,Ammo['btRigidBod'+'y']),_0x2dbcec=Ammo['castObject'](_0x8fd5dd,Ammo['btRigidBod'+'y']),_0x101ac4=_0x2d9728['entity'],_0x4a3350=_0x2dbcec['entity'];if(!_0x101ac4||!_0x4a3350)continue;const _0xface0d=_0x2d9728['getCollisi'+'onFlags'](),_0x973b02=_0x2dbcec['getCollisi'+'onFlags'](),_0x1cff65=_0x260c91['getNumCont'+'acts'](),_0x33a5c5=[],_0x4e6bdd=[];let _0x55f9c;if(_0x1cff65>0x1c5c+-0x235*-0x1+-0x1e91){if(_0xface0d&lo||_0x973b02&lo){const _0x27a6a6=_0x101ac4['collision']&&(_0x101ac4['collision']['hasEvent']('triggerent'+'er')||_0x101ac4['collision']['hasEvent']('triggerlea'+'ve')),_0x3394da=_0x4a3350['collision']&&(_0x4a3350['collision']['hasEvent']('triggerent'+'er')||_0x4a3350['collision']['hasEvent']('triggerlea'+'ve')),_0xfb0225=_0x101ac4['rigidbody']&&(_0x101ac4['rigidbody']['hasEvent']('triggerent'+'er')||_0x101ac4['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x5c38fa=_0x4a3350['rigidbody']&&(_0x4a3350['rigidbody']['hasEvent']('triggerent'+'er')||_0x4a3350['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x27a6a6&&(_0x55f9c=this['_storeColl'+'ision'](_0x101ac4,_0x4a3350),_0x55f9c&&!(_0x973b02&lo)&&_0x101ac4['collision']['fire']('triggerent'+'er',_0x4a3350)),_0x3394da&&(_0x55f9c=this['_storeColl'+'ision'](_0x4a3350,_0x101ac4),_0x55f9c&&!(_0xface0d&lo)&&_0x4a3350['collision']['fire']('triggerent'+'er',_0x101ac4)),_0xfb0225&&(_0x55f9c||(_0x55f9c=this['_storeColl'+'ision'](_0x4a3350,_0x101ac4)),_0x55f9c&&_0x101ac4['rigidbody']['fire']('triggerent'+'er',_0x4a3350)),_0x5c38fa&&(_0x55f9c||(_0x55f9c=this['_storeColl'+'ision'](_0x101ac4,_0x4a3350)),_0x55f9c&&_0x4a3350['rigidbody']['fire']('triggerent'+'er',_0x101ac4));}else{const _0x4e5cf4=this['_hasContac'+'tEvent'](_0x101ac4),_0x1d129e=this['_hasContac'+'tEvent'](_0x4a3350),_0x7afecd=this['hasEvent']('contact');if(_0x7afecd||_0x4e5cf4||_0x1d129e){for(let _0x215aaa=-0x2185+-0x238a*0x1+-0x47*-0xf9;_0x215aaa<_0x1cff65;_0x215aaa++){const _0xa2392a=_0x260c91['getContact'+'Point'](_0x215aaa),_0x5b0a62=this['_createCon'+'tactPointF'+'romAmmo'](_0xa2392a);if(_0x4e5cf4||_0x1d129e){_0x33a5c5['push'](_0x5b0a62);const _0x173c90=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xa2392a);_0x4e6bdd['push'](_0x173c90);}if(_0x7afecd){const _0x2c92b9=this['_createSin'+'gleContact'+'Result'](_0x101ac4,_0x4a3350,_0x5b0a62);this['fire']('contact',_0x2c92b9);}}if(_0x4e5cf4){const _0x20c113=this['_createCon'+'tactResult'](_0x4a3350,_0x33a5c5);_0x55f9c=this['_storeColl'+'ision'](_0x101ac4,_0x4a3350),_0x101ac4['collision']&&(_0x101ac4['collision']['fire']('contact',_0x20c113),_0x55f9c&&_0x101ac4['collision']['fire']('collisions'+'tart',_0x20c113)),_0x101ac4['rigidbody']&&(_0x101ac4['rigidbody']['fire']('contact',_0x20c113),_0x55f9c&&_0x101ac4['rigidbody']['fire']('collisions'+'tart',_0x20c113));}if(_0x1d129e){const _0xfa49ba=this['_createCon'+'tactResult'](_0x101ac4,_0x4e6bdd);_0x55f9c=this['_storeColl'+'ision'](_0x4a3350,_0x101ac4),_0x4a3350['collision']&&(_0x4a3350['collision']['fire']('contact',_0xfa49ba),_0x55f9c&&_0x4a3350['collision']['fire']('collisions'+'tart',_0xfa49ba)),_0x4a3350['rigidbody']&&(_0x4a3350['rigidbody']['fire']('contact',_0xfa49ba),_0x55f9c&&_0x4a3350['rigidbody']['fire']('collisions'+'tart',_0xfa49ba));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x55fe84){let _0x584c90,_0xc0004b;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][0x2011*0x1+0x5*0x5dd+-0x3d62]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x1*0x75c+-0x26f1+0x2e4e]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x7f*0xd+0x24b8+0x1e43*-0x1]=this['gravity']['z'];const _0x14d287=this['dynamicsWo'+'rld']['getGravity']();(_0x14d287['x']()!==this['_gravityFl'+'oat32'][-0x17c7+-0x1f1b+-0x232*-0x19]||_0x14d287['y']()!==this['_gravityFl'+'oat32'][-0x1098+0x26fe+0x111*-0x15]||_0x14d287['z']()!==this['_gravityFl'+'oat32'][-0x5c0*0x3+-0xdf7+0x1f39])&&(_0x14d287['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x14d287));const _0x3fc9f1=this['_triggers'];for(_0x584c90=-0x1336*0x1+0x2052+-0xd1c,_0xc0004b=_0x3fc9f1['length'];_0x584c90<_0xc0004b;_0x584c90++)_0x3fc9f1[_0x584c90]['updateTran'+'sform']();const _0x421e2e=this['_compounds'];for(_0x584c90=0x2657+-0x1*0x1343+-0x1314,_0xc0004b=_0x421e2e['length'];_0x584c90<_0xc0004b;_0x584c90++)_0x421e2e[_0x584c90]['_updateCom'+'pound']();const _0x353068=this['_kinematic'];for(_0x584c90=0x2092+-0x17*-0x2b+-0x246f,_0xc0004b=_0x353068['length'];_0x584c90<_0xc0004b;_0x584c90++)_0x353068[_0x584c90]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x55fe84,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x21a060=this['_dynamic'];for(_0x584c90=-0x4*0x37+0x12ae*0x1+-0x11d2,_0xc0004b=_0x21a060['length'];_0x584c90<_0xc0004b;_0x584c90++)_0x21a060[_0x584c90]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x55fe84),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,$s['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors']($s['prototype'],px);const Wn='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0xa967b7,_0x28ed91){super(_0xa967b7,_0x28ed91),this['_resolutio'+'n']=new $(-0xe1c+0x39*0x10+0xd0c,0xeb5+-0x1*0x53a+-0x83b),this['_reference'+'Resolution']=new $(-0xf*-0x50+0x1b35+-0x1d65,0x1273*-0x2+-0x16d8+0x3cfe),this['_scaleMode']=Wn,this['scale']=0x988+0x1918*-0x1+0xf91,this['_scaleBlen'+'d']=0xdb3+0x361+0x1*-0x1114+0.5,this['_priority']=0x2*0x1141+-0xa73*0x1+0x1*-0x180f,this['_screenSpa'+'ce']=!(-0x1cf7*0x1+0x4*0xce+0x19c0),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0xa967b7['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x359472,_0x5186c9){var _0x2ba4b5;if(!(_0x359472 instanceof $e))return _0x5186c9;if(_0x359472['element']){const _0x564997=_0x359472['element']['drawOrder'];_0x359472['element']['drawOrder']=_0x5186c9++,_0x359472['element']['_batchGrou'+'pId']>=-0x1394+0x1*-0x22e7+0x367b&&_0x564997!==_0x359472['element']['drawOrder']&&((_0x2ba4b5=this['system']['app']['batcher'])==null||_0x2ba4b5['markGroupD'+'irty'](_0x359472['element']['_batchGrou'+'pId']));}_0x359472['particlesy'+'stem']&&(_0x359472['particlesy'+'stem']['drawOrder']=_0x5186c9++);const _0x285727=_0x359472['children'];for(let _0x18752d=0x13db+-0x89d*-0x1+-0x1c78;_0x18752d<_0x285727['length'];_0x18752d++)_0x5186c9=this['_recurseDr'+'awOrderSyn'+'c'](_0x285727[_0x18752d],_0x5186c9);return _0x5186c9;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x1fd8+-0x1*0x20a1+0x407a),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x4175bc=this['_resolutio'+'n']['x']/this['scale'],_0xaac806=this['_resolutio'+'n']['y']/this['scale'],_0x4f5811=-0x55*-0xb+-0x5*-0x17b+0x587*-0x2,_0x4e6f14=_0x4175bc,_0x2e2025=-_0xaac806;this['_screenMat'+'rix']['setOrtho'](_0x4f5811,_0x4e6f14,_0x2e2025,-0x82c+0x20ef*-0x1+0x11*0x26b,0xfe*0x26+-0x1960*0x1+-0x5*0x277,-(-0x2*-0x843+0x1e27+0x4*-0xbab)),this['_screenSpa'+'ce']||(Sg['setScale']((-0x1be+0x1c*0x128+-0x1ea2+0.5)*_0x4175bc,(0x2652+0x2*-0x30b+-0x101e*0x2+0.5)*_0xaac806,-0x1cb*0x11+-0xb55+0x29d1),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x1f2e1b,_0x59322c){const _0x6407dc=Math['log2']((_0x1f2e1b['x']||0x34b+-0x3f7*0x1+0xad)/_0x59322c['x']),_0x5e70ed=Math['log2']((_0x1f2e1b['y']||0x1*0x45a+0x1867+-0x1cc0)/_0x59322c['y']);return Math['pow'](-0x13da+0x8bd*-0x1+-0x1*-0x1c99,_0x6407dc*(-0x23b2+-0xb11+0x2ec4-this['_scaleBlen'+'d'])+_0x5e70ed*this['_scaleBlen'+'d']);}['_onResize'](_0x5dc890,_0x1c17d6){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x5dc890,_0x1c17d6),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x29c79b){this['_elements']['add'](_0x29c79b);}['_unbindEle'+'ment'](_0x260956){this['_elements']['delete'](_0x260956);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0xb925b4=>_0xb925b4['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x5f3c33){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x5f3c33['x'],_0x5f3c33['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x250492=>_0x250492['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x52cbc1){this['_reference'+'Resolution']['set'](_0x52cbc1['x'],_0x52cbc1['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x1c0b06=>_0x1c0b06['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Wn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x50e95d){this['_screenSpa'+'ce']=_0x50e95d,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x89dff8=>_0x89dff8['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x3131e8){_0x3131e8!==Wn&&_0x3131e8!==SI&&(_0x3131e8=Wn),!this['_screenSpa'+'ce']&&_0x3131e8!==Wn&&(_0x3131e8=Wn),this['_scaleMode']=_0x3131e8,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x4fc859){this['_scaleBlen'+'d']=_0x4fc859,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x59eeba=>_0x59eeba['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x5e3bfe){_0x5e3bfe>0x5d9+0x3*0x166+-0x90c*0x1&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x5e3bfe+'\x20to\x20255'),_0x5e3bfe=-0xaa3*-0x1+-0x1d2*-0x3+0x78d*-0x2),this['_priority']!==_0x5e3bfe&&(this['_priority']=_0x5e3bfe,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0x94f*0x2+0x1*0x1d47+0xaa9*-0x1);}}const mf=['enabled'];class bI extends Xe{constructor(_0x5e2994){super(_0x5e2994),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new $(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3983f3,_0x5c6060,_0x8d1c51){_0x5c6060['priority']!==void(0x268+-0x125f+0xff7)&&(_0x3983f3['priority']=_0x5c6060['priority']),_0x5c6060['screenSpac'+'e']!==void(-0x1e8c+-0x140e+0x329a)&&(_0x3983f3['screenSpac'+'e']=_0x5c6060['screenSpac'+'e']),_0x3983f3['cull']=_0x3983f3['screenSpac'+'e'],_0x5c6060['scaleMode']!==void(-0x1f89+0x512+0x1*0x1a77)&&(_0x3983f3['scaleMode']=_0x5c6060['scaleMode']),_0x5c6060['scaleBlend']!==void(-0x6ce+-0x952+0x8*0x204)&&(_0x3983f3['scaleBlend']=_0x5c6060['scaleBlend']),_0x5c6060['resolution']!==void(0x17ee+-0x6ae*0x5+0x978)&&(_0x5c6060['resolution']instanceof $?_0x3983f3['_resolutio'+'n']['copy'](_0x5c6060['resolution']):_0x3983f3['_resolutio'+'n']['set'](_0x5c6060['resolution'][-0x1*-0x249b+-0x27d*0xd+-0x442],_0x5c6060['resolution'][-0x1d*-0xce+-0xf2c+0x1*-0x829]),_0x3983f3['resolution']=_0x3983f3['_resolutio'+'n']),_0x5c6060['referenceR'+'esolution']!==void(-0x45*0xd+0x19a7*-0x1+0xc*0x26e)&&(_0x5c6060['referenceR'+'esolution']instanceof $?_0x3983f3['_reference'+'Resolution']['copy'](_0x5c6060['referenceR'+'esolution']):_0x3983f3['_reference'+'Resolution']['set'](_0x5c6060['referenceR'+'esolution'][-0x1c*0xe+0x17c*-0x16+0x2230],_0x5c6060['referenceR'+'esolution'][-0x3f*-0x3+-0x58f*-0x3+0x1169*-0x1]),_0x3983f3['referenceR'+'esolution']=_0x3983f3['_reference'+'Resolution']),_0x3983f3['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x3983f3,_0x5c6060,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x3f3e7d){const _0x1e9410=this['store'];for(const _0x135713 in _0x1e9410)_0x1e9410[_0x135713]['entity']['screen']['update']&&_0x1e9410[_0x135713]['entity']['screen']['update'](_0x3f3e7d);}['_onResize'](_0x455557,_0x377d46){this['windowReso'+'lution']['x']=_0x455557,this['windowReso'+'lution']['y']=_0x377d46;}['cloneCompo'+'nent'](_0x5a1f03,_0x1e5a7e){const _0x547e71=_0x5a1f03['screen'];return this['addCompone'+'nt'](_0x1e5a7e,{'enabled':_0x547e71['enabled'],'screenSpace':_0x547e71['screenSpac'+'e'],'scaleMode':_0x547e71['scaleMode'],'resolution':_0x547e71['resolution']['clone'](),'referenceResolution':_0x547e71['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x4dd528,_0x5cf863){_0x5cf863['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x383589=this['_drawOrder'+'SyncQueue']['list']();for(let _0x308b85=0x17dc+0x997+0x1*-0x2173;_0x308b85<_0x383589['length'];_0x308b85++){const _0x2b6793=_0x383589[_0x308b85];_0x2b6793['callback']['call'](_0x2b6793['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0xf55af6,_0x42a705,_0x222eb6){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0xf55af6)||this['_drawOrder'+'SyncQueue']['push'](_0xf55af6,{'callback':_0x42a705,'scope':_0x222eb6});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new $(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x470cda,_0xe072de){if(super(),!_0x470cda||!(_0x470cda instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0xe072de&&_0xe072de!=='x'&&_0xe072de!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0xe072de);this['_element']=_0x470cda,this['_app']=_0x470cda['system']['app'],this['_axis']=_0xe072de||null,this['_enabled']=!(0xa*-0x247+-0xc54+-0x118d*-0x2),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(0x1a4c+-0x1a09+0x3*-0x16),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x124611){this['_element'][_0x124611]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x124611]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x124611]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x2243ee){const _0x31fda2=_0x2243ee==='on';this['_hasDragLi'+'steners']&&_0x31fda2||(this['_app']['mouse']&&(this['_element'][_0x2243ee]('mousemove',this['_onMove'],this),this['_element'][_0x2243ee]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x2243ee]('touchmove',this['_onMove'],this),this['_element'][_0x2243ee]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x2243ee]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x2243ee]('selectmove',this['_onMove'],this),this['_element'][_0x2243ee]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x31fda2);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x23e28c){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x23e28c['camera'],this['_calculate'+'DragScale']();const _0x156326=this['_screenToL'+'ocal'](_0x23e28c);_0x156326&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x279*0xc+-0xa1*0x5+0x20d1),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x156326),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x4b6+-0x1a4+0x65b*0x1),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x45f6e2){return _0x45f6e2['inputSourc'+'e']?Pr['set'](_0x45f6e2['inputSourc'+'e']['getOrigin'](),_0x45f6e2['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x45f6e2),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x1fef+0xbe+-0x79*-0x42)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x12d9aa){const _0x4f5788=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x12d9aa['x']<'u'&&typeof _0x12d9aa['y']<'u'?(qi['x']=_0x12d9aa['x']*_0x4f5788,qi['y']=_0x12d9aa['y']*_0x4f5788):_0x12d9aa['changedTou'+'ches']?(qi['x']=_0x12d9aa['changedTou'+'ches'][0x385*-0x2+-0x1f4b+0x3*0xcc7]['x']*_0x4f5788,qi['y']=_0x12d9aa['changedTou'+'ches'][-0x1942+0x579*0x3+-0x49*-0x1f]['y']*_0x4f5788):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0x1*-0x6b3+0x1b6e+-0x2221),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],0x13ad+0x585+-0x1931)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x473eb1=this['_element']['entity']['parent'];const _0x4eea98=this['_element']['screen']&&this['_element']['screen']['screen'],_0x8b4069=_0x4eea98&&_0x4eea98['screenSpac'+'e'],_0x41f5c7=_0x8b4069?_0x4eea98['scale']:-0x18de+0x130*0x13+0x24f,_0x2dd503=this['_dragScale'];for(_0x2dd503['set'](_0x41f5c7,_0x41f5c7,_0x41f5c7);_0x473eb1&&(_0x2dd503['mul'](_0x473eb1['getLocalSc'+'ale']()),_0x473eb1=_0x473eb1['parent'],!(_0x8b4069&&_0x473eb1['screen'])););_0x2dd503['x']=(0xbdf+-0x17*-0x1ab+-0xa7*0x4d)/_0x2dd503['x'],_0x2dd503['y']=(-0xc1*-0x4+-0x23a+-0xc9*0x1)/_0x2dd503['y'],_0x2dd503['z']=-0x1458+-0x10*0x2e+0x1738;}['_onMove'](_0x40dbfb){const {_element:_0x574ed8,_deltaMousePosition:_0x29e5d5,_deltaHandlePosition:_0x5c33fc,_axis:_0x2cdbb3}=this;if(_0x574ed8&&this['_isDraggin'+'g']&&this['enabled']&&_0x574ed8['enabled']&&_0x574ed8['entity']['enabled']){const _0x451ee7=this['_screenToL'+'ocal'](_0x40dbfb);if(_0x451ee7){if(_0x29e5d5['sub2'](_0x451ee7,this['_dragStart'+'MousePosit'+'ion']),_0x5c33fc['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x29e5d5),_0x2cdbb3){const _0xaef745=_0x574ed8['entity']['getLocalPo'+'sition'](),_0x4fa405=TI[_0x2cdbb3];_0x5c33fc[_0x4fa405]=_0xaef745[_0x4fa405];}_0x574ed8['entity']['setLocalPo'+'sition'](_0x5c33fc),this['fire']('drag:move',_0x5c33fc);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x125fa4){this['_enabled']=_0x125fa4;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x1631*0x1+0xbb5+0xa7c,Tg=-0x1fcc+-0xc5f+0x2c2c,EI=0x202d+0xf78+0x3*-0xfe1,CI=-0x3*-0x98f+-0xb47+-0x1166*0x1,MI=-0xc9*-0x2c+0x1bf7+0x15*-0x2fa,ro=new $();class gx extends ue{constructor(_0x2a6a79,_0x2b8636){super(_0x2a6a79,_0x2b8636),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new $(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x225f*0x1+-0x2*0x3ee+-0x1a82),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x3808a2=this['system']['store'][this['entity']['getGuid']()];return _0x3808a2?_0x3808a2['data']:null;}set['enabled'](_0xe7a1eb){this['_setValue']('enabled',_0xe7a1eb);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x4c1038){this['_setValue']('horizontal',_0x4c1038);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x53277){this['_setValue']('vertical',_0x53277);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x52e730){this['_setValue']('scrollMode',_0x52e730);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x4b58d6){this['_setValue']('bounceAmou'+'nt',_0x4b58d6);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x426280){this['_setValue']('friction',_0x426280);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x3bfcfa){this['_setValue']('dragThresh'+'old',_0x3bfcfa);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x54f9c1){this['_setValue']('useMouseWh'+'eel',_0x54f9c1);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x5abc5f){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x5abc5f);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0xf74017){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0xf74017);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x3d656d){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x3d656d);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x25f1e1){if(this['_viewportE'+'ntity']===_0x25f1e1)return;const _0x3b8906=typeof _0x25f1e1=='string';this['_viewportE'+'ntity']&&_0x3b8906&&this['_viewportE'+'ntity']['getGuid']()===_0x25f1e1||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x25f1e1 instanceof De?this['_viewportE'+'ntity']=_0x25f1e1:_0x3b8906?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x25f1e1)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x3b8906&&_0x25f1e1&&(this['data']['viewportEn'+'tity']=_0x25f1e1));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x58b4fc){if(this['_contentEn'+'tity']===_0x58b4fc)return;const _0xd950b8=typeof _0x58b4fc=='string';this['_contentEn'+'tity']&&_0xd950b8&&this['_contentEn'+'tity']['getGuid']()===_0x58b4fc||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x58b4fc instanceof De?this['_contentEn'+'tity']=_0x58b4fc:_0xd950b8?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x58b4fc)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0xd950b8&&_0x58b4fc&&(this['data']['contentEnt'+'ity']=_0x58b4fc));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x1c0df0){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x1c0df0)return;const _0x1d037a=typeof _0x1c0df0=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x1d037a&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x1c0df0||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x1c0df0 instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x1c0df0:_0x1d037a?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x1c0df0)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x1d037a&&_0x1c0df0&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x1c0df0));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x150813){if(this['_verticalS'+'crollbarEn'+'tity']===_0x150813)return;const _0x1b57d5=typeof _0x150813=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x1b57d5&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x150813||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x150813 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x150813:_0x1b57d5?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x150813)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x1b57d5&&_0x150813&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x150813));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x82f766){this['_onSetScro'+'ll'](_0x82f766['x'],_0x82f766['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x3d76e1,_0x49503c){const _0x66b311=this['data'],_0xfe1ab4=_0x66b311[_0x3d76e1];_0x66b311[_0x3d76e1]=_0x49503c,this['fire']('set',_0x3d76e1,_0xfe1ab4,_0x49503c);}['_toggleLif'+'ecycleList'+'eners'](_0x1933d2){this[_0x1933d2]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x1933d2]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x1933d2]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x1954f8){if(this['entity']['element']){if(_0x1954f8==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x1954f8]('resize',this['_syncAll'],this),this['entity']['element'][_0x1954f8](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x1954f8==='on';}}['_onElement'+'ComponentA'+'dd'](_0x36af8c){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x3ccb13){var _0x4e7e5a;(_0x4e7e5a=this['_evtElemen'+'tRemove'])==null||_0x4e7e5a['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x29d198,_0x3fdeb4;(_0x29d198=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x29d198['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x3fdeb4=this['_viewportE'+'ntity'])!=null&&_0x3fdeb4['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x2b5af9=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x2b5af9['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x2b5af9['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x2f0441,_0x166b67;(_0x2f0441=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x2f0441['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x166b67=this['_evtViewpo'+'rtResize'])==null||_0x166b67['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x36ed1a,_0x1f99eb;(_0x36ed1a=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x36ed1a['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x1f99eb=this['_contentEn'+'tity'])!=null&&_0x1f99eb['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x4a6399=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x4a6399['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x4a6399['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0xb5e54c,_0x44e1d3;(_0xb5e54c=this['_evtConten'+'tElementRe'+'move'])==null||_0xb5e54c['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x44e1d3=this['_evtConten'+'tResize'])==null||_0x44e1d3['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x2f599e){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x146*0x3+-0x1f6f*0x1+-0x5*-0x70d),this['_setScroll'+'FromConten'+'tPosition'](_0x2f599e),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2f599e),!this['_disabledC'+'ontentInpu'+'t'])){const _0xc25b97=_0x2f599e['x']-this['_dragStart'+'Position']['x'],_0x525145=_0x2f599e['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0xc25b97)>this['dragThresh'+'old']||Math['abs'](_0x525145)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x2c238a;(_0x2c238a=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x2c238a['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x62bff6;(_0x62bff6=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x62bff6['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x467744){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x467744,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x4244dc){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x4244dc);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x55bdcb;const _0x700c6b=(_0x55bdcb=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x596*0x2+0x5*0x7+0xb09):_0x55bdcb['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x700c6b['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x700c6b['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x252c53;const _0x5e963d=(_0x252c53=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x3*0x210+-0x76d*0x1+0xd9d):_0x252c53['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x5e963d['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x5e963d['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x347377,_0x4e4ea7;(_0x347377=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x347377['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x4e4ea7=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x4e4ea7['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x3b1bb5,_0x4a84fb;(_0x3b1bb5=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x3b1bb5['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x4a84fb=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x4a84fb['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x1b2401,_0x5f0fa2,_0x48d0eb){_0x48d0eb!==!(0x1408+-0x2d2+-0x1135)&&this['_velocity']['set'](0xf1e+-0x20f6+0x2*0x8ec,-0x1875*0x1+-0xf*0xf9+0x7*0x594,0x363+0x1619+-0x197c);const _0x4f62cd=this['_updateAxi'+'s'](_0x1b2401,'x',pe),_0x15b7db=this['_updateAxi'+'s'](_0x5f0fa2,'y',ke);(_0x4f62cd||_0x15b7db)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x2407e3,_0x219076,_0x47e147){const _0x49881f=_0x2407e3!==null&&Math['abs'](_0x2407e3-this['_scroll'][_0x219076])>-0x1d15+0x11cc*0x1+-0xb49*-0x1+0.00001;return(_0x49881f||this['_isDraggin'+'g']()||_0x2407e3===0x137b+-0x685*0x4+0x1*0x699)&&(this['_scroll'][_0x219076]=this['_determine'+'NewScrollV'+'alue'](_0x2407e3,_0x219076,_0x47e147),this['_syncConte'+'ntPosition'](_0x47e147),this['_syncScrol'+'lbarPositi'+'on'](_0x47e147)),_0x49881f;}['_determine'+'NewScrollV'+'alue'](_0x4629e0,_0x21c0dc,_0x812d4e){if(!this['_getScroll'+'ingEnabled'](_0x812d4e))return this['_scroll'][_0x21c0dc];switch(this['scrollMode']){case AI:return N['clamp'](_0x4629e0,-0xd45+-0x15*0x143+0x7f4*0x5,this['_getMaxScr'+'ollValue'](_0x812d4e));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x4629e0,_0x21c0dc,_0x812d4e),_0x4629e0;case EI:return _0x4629e0;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x4629e0;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x55e4a3){if(!this['_contentEn'+'tity'])return;const _0x107d8c=this['_getAxis'](_0x55e4a3),_0x350ee8=this['_getSign'](_0x55e4a3),_0x1b733a=this['_prevConte'+'ntSizes'][_0x55e4a3],_0x5b66ba=this['_getConten'+'tSize'](_0x55e4a3);if(_0x1b733a!==null&&Math['abs'](_0x1b733a-_0x5b66ba)>0x1318*-0x1+0x2*-0x103b+0x338e+0.0001){const _0x3c3191=this['_getMaxOff'+'set'](_0x55e4a3,_0x1b733a),_0x2491c5=this['_getMaxOff'+'set'](_0x55e4a3,_0x5b66ba);_0x2491c5===0x1f0b+-0xd95*-0x2+0x3*-0x1367?this['_scroll'][_0x107d8c]=0x1*0x2061+0x56*0xd+0x125f*-0x2:this['_scroll'][_0x107d8c]=N['clamp'](this['_scroll'][_0x107d8c]*_0x3c3191/_0x2491c5,-0x55*0x61+0x179c+0x899,-0x1373+-0x1b7*-0x7+-0x773*-0x1);}const _0x4b31a5=this['_scroll'][_0x107d8c]*this['_getMaxOff'+'set'](_0x55e4a3),_0x4da67b=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x4da67b[_0x107d8c]=_0x4b31a5*_0x350ee8,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x4da67b),this['_prevConte'+'ntSizes'][_0x55e4a3]=_0x5b66ba;}['_syncScrol'+'lbarPositi'+'on'](_0x20db6d){const _0x1dab6c=this['_scrollbar'+'Entities'][_0x20db6d];if(!(_0x1dab6c!=null&&_0x1dab6c['scrollbar']))return;const _0x1be3bd=this['_getAxis'](_0x20db6d);this['_scrollbar'+'UpdateFlag'+'s'][_0x20db6d]=!(-0x11*-0x213+-0x1*0x188e+0x1*-0xab5),_0x1dab6c['scrollbar']['value']=this['_scroll'][_0x1be3bd],_0x1dab6c['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x1be3bd,_0x20db6d),this['_scrollbar'+'UpdateFlag'+'s'][_0x20db6d]=!(-0x1*-0x49e+-0x9da+-0x1*-0x53d);}['_syncScrol'+'lbarEnable'+'dState'](_0x2d9daa){const _0x10b539=this['_scrollbar'+'Entities'][_0x2d9daa];if(!_0x10b539)return;const _0x42f8c3=this['_getScroll'+'ingEnabled'](_0x2d9daa),_0x48f4e8=this['_getScroll'+'barVisibil'+'ity'](_0x2d9daa);switch(_0x48f4e8){case CI:_0x10b539['enabled']=_0x42f8c3;return;case MI:_0x10b539['enabled']=_0x42f8c3&&this['_contentIs'+'LargerThan'+'Viewport'](_0x2d9daa);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x48f4e8),_0x10b539['enabled']=_0x42f8c3;}}['_contentIs'+'LargerThan'+'Viewport'](_0x25ccbe){return this['_getConten'+'tSize'](_0x25ccbe)>this['_getViewpo'+'rtSize'](_0x25ccbe);}['_contentPo'+'sitionToSc'+'rollValue'](_0x41fc6b){const _0xcc3f41=this['_getMaxOff'+'set'](pe),_0x3e97fd=this['_getMaxOff'+'set'](ke);return _0xcc3f41===-0x1ee+-0xed*-0x1+0x101?ro['x']=0x193f+0x24ff+0x3e3e*-0x1:ro['x']=_0x41fc6b['x']/_0xcc3f41,_0x3e97fd===0xbb9*0x1+-0x94a+0x59*-0x7?ro['y']=0xb6b*-0x1+0x1666+0x1*-0xafb:ro['y']=_0x41fc6b['y']/-_0x3e97fd,ro;}['_getMaxOff'+'set'](_0x22e838,_0x3e18f1){_0x3e18f1=_0x3e18f1===void(-0x2198+0x1bfa+0x2cf*0x2)?this['_getConten'+'tSize'](_0x22e838):_0x3e18f1;const _0x538528=this['_getViewpo'+'rtSize'](_0x22e838);return _0x3e18f1<_0x538528?-this['_getViewpo'+'rtSize'](_0x22e838):_0x538528-_0x3e18f1;}['_getMaxScr'+'ollValue'](_0x3f1da4){return this['_contentIs'+'LargerThan'+'Viewport'](_0x3f1da4)?-0xb01+-0x1*-0x254f+-0x1a4d:-0x1*-0xc15+-0x1*0x699+-0x57c;}['_getScroll'+'barHandleS'+'ize'](_0x499b56,_0x348e49){const _0x2067d3=this['_getViewpo'+'rtSize'](_0x348e49),_0x27132f=this['_getConten'+'tSize'](_0x348e49);if(Math['abs'](_0x27132f)<-0x893+0x3d7*-0xa+0x2ef9+0.001)return 0x103e+0x1c67+0x2*-0x1652;const _0x43b7b8=Math['min'](_0x2067d3/_0x27132f,-0x1dd0+0x20a9+-0x2d8),_0xb78e0f=this['_toOversho'+'ot'](this['_scroll'][_0x499b56],_0x348e49);return _0xb78e0f===-0x1*-0x1a85+-0x3*-0x7+-0x1a9a?_0x43b7b8:_0x43b7b8/(0xcd0+0x152e+-0x21fd+Math['abs'](_0xb78e0f));}['_getViewpo'+'rtSize'](_0x8ffa7f){return this['_getSize'](_0x8ffa7f,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x51c121){return this['_getSize'](_0x51c121,this['_contentEn'+'tity']);}['_getSize'](_0x13bfb2,_0x4710bb){return _0x4710bb!=null&&_0x4710bb['element']?_0x4710bb['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x13bfb2)]:0x1f*0x1+-0x2*0x53d+0xa5b;}['_getScroll'+'ingEnabled'](_0x473c77){if(_0x473c77===pe)return this['horizontal'];if(_0x473c77===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x473c77);}['_getScroll'+'barVisibil'+'ity'](_0x5ab5a7){if(_0x5ab5a7===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x5ab5a7===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x5ab5a7);}['_getSign'](_0xa17b6c){return _0xa17b6c===pe?0x23f3+0x2*-0xec1+0x4*-0x19c:-(-0x1*0x14af+-0x475*-0x7+-0xa83);}['_getAxis'](_0x26df6c){return _0x26df6c===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x2947bc){return _0x2947bc===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x19fc+0xe*0x214+-0x3714+0.0001||Math['abs'](this['_velocity']['y'])>-0x109d+0x17a1+0x4*-0x1c1+0.0001){const _0x32d690=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x32d690['x']+=this['_velocity']['x'],_0x32d690['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x32d690),this['_setScroll'+'FromConten'+'tPosition'](_0x32d690);}this['_velocity']['x']*=0x21bd+0xde8+-0x2fa4-this['friction'],this['_velocity']['y']*=-0x1*0x241+-0x26f9+-0x293b*-0x1-this['friction'];}}['_hasOversh'+'oot'](_0x1640fd,_0xa8908f){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x1640fd],_0xa8908f))>0xc*-0x26f+-0x3d5+0x2109+0.001;}['_toOversho'+'ot'](_0x14a841,_0x28a494){const _0x52b93a=this['_getMaxScr'+'ollValue'](_0x28a494);return _0x14a841<-0x1*-0xeec+-0x9*0x367+0xfb3?_0x14a841:_0x14a841>_0x52b93a?_0x14a841-_0x52b93a:0xf63+-0x7*0x4b3+0x1182;}['_setVeloci'+'tyFromOver'+'shoot'](_0x3f8957,_0x41b7fc,_0x10174c){const _0xb11c1e=this['_toOversho'+'ot'](_0x3f8957,_0x10174c)*this['_getMaxOff'+'set'](_0x10174c)*this['_getSign'](_0x10174c);Math['abs'](_0xb11c1e)>-0x1a1b+0x1dcf+-0x3b4&&(this['_velocity'][_0x41b7fc]=-_0xb11c1e/(this['bounceAmou'+'nt']*(-0x1*-0x1903+-0x1cc2+0x3f1*0x1)+(-0x3*0xc5+-0x18dc+0x1b2c)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x41073e){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x41073e,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x41073e)):(this['_velocity']['set'](-0x1281+-0x17cc+0x2a4d,-0x9fa+-0x184d*-0x1+-0xe53,0xe22*0x1+-0xe43+0x21),this['_prevConte'+'ntDragPosi'+'tion']=_0x41073e['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x5cb990){let _0x4ec887=this['_contentPo'+'sitionToSc'+'rollValue'](_0x5cb990);this['_isDraggin'+'g']()&&(_0x4ec887=this['_applyScro'+'llValueTen'+'sion'](_0x4ec887)),this['_onSetScro'+'ll'](_0x4ec887['x'],_0x4ec887['y'],!(-0x6*-0x5a7+-0x63c+-0x1bad));}['_applyScro'+'llValueTen'+'sion'](_0x2d65d2){let _0x11c214=this['_getMaxScr'+'ollValue'](pe),_0x939292=this['_toOversho'+'ot'](_0x2d65d2['x'],pe);return _0x939292>0x2a*0x8d+0xfde+-0xd00*0x3?_0x2d65d2['x']=_0x11c214+(-0x24b2+0x13*0xd6+0x49*0x49)*Math['log10'](-0x3*-0x675+0xe8f+-0xf*0x243+_0x939292):_0x939292<0x1f51+-0x9e*-0x32+-0x3e2d&&(_0x2d65d2['x']=-(-0xfef*-0x2+-0x2*0x241+-0x95*0x2f)*Math['log10'](0x1*-0x671+-0x30d*-0x2+0x58-_0x939292)),_0x11c214=this['_getMaxScr'+'ollValue'](ke),_0x939292=this['_toOversho'+'ot'](_0x2d65d2['y'],ke),_0x939292>0x510*0x6+0x2*-0x6c+-0x1d88?_0x2d65d2['y']=_0x11c214+(0xb6c*0x1+-0x461+-0x6a*0x11)*Math['log10'](-0x1051*-0x1+0x1bda+-0x2c2a+_0x939292):_0x939292<-0x15b*0x9+0x10d9+-0x4a6&&(_0x2d65d2['y']=-(-0x44*0x4a+-0x1*-0x13fa+-0x51*0x1)*Math['log10'](-0x24a*-0x9+0x4f7*-0x5+-0x21d*-0x2-_0x939292)),_0x2d65d2;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x26eed8){var _0x575a9f,_0xd8b59b;(_0x575a9f=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x575a9f['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x26eed8),(_0xd8b59b=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0xd8b59b['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x26eed8);}['_setConten'+'tDraggingE'+'nabled'](_0x452eee){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x452eee);}['_onMouseWh'+'eel'](_0x4df735){var _0x2bac10;if(!this['useMouseWh'+'eel']||!((_0x2bac10=this['_contentEn'+'tity'])!=null&&_0x2bac10['element']))return;const _0x375351=_0x4df735['event'],_0x377d3e=_0x375351['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x3e8ff1=_0x375351['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x7cb64f=N['clamp'](this['_scroll']['x']+_0x377d3e,-0x439*0x9+0x1b24+-0x39f*-0x3,this['_getMaxScr'+'ollValue'](pe)),_0xabef95=N['clamp'](this['_scroll']['y']+_0x3e8ff1,-0x982+-0x8aa*0x1+0x122c,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new $(_0x7cb64f,_0xabef95);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0xe4c7bd=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0xe4c7bd['element']&&(_0xe4c7bd['element']['useInput']=!(0x9*-0x1be+-0x1d1b+0x2cc9));}this['_disabledC'+'ontentInpu'+'t']=!(0x3*0x3b3+0x16d2+-0xb4e*0x3);}['_disableCo'+'ntentInput'](){const _0x5780f2=_0x28e3e7=>{_0x28e3e7['element']&&_0x28e3e7['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x28e3e7),_0x28e3e7['element']['useInput']=!(0x295*0x6+-0x33*-0xc+-0x11e1));const _0x5b8605=_0x28e3e7['children'];for(let _0x193b0a=0x1*-0x17d7+0x2378+-0x1*0xba1,_0x4d4ba7=_0x5b8605['length'];_0x193b0a<_0x4d4ba7;_0x193b0a++)_0x5780f2(_0x5b8605[_0x193b0a]);};if(this['_contentEn'+'tity']){const _0x4e2f03=this['_contentEn'+'tity']['children'];for(let _0x5aceac=0x1aaa+-0x1*0x206b+0x5c1,_0x25fbb1=_0x4e2f03['length'];_0x5aceac<_0x25fbb1;_0x5aceac++)_0x5780f2(_0x4e2f03[_0x5aceac]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x5ec+-0x3*-0xbfb+-0x1e05);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0xe3e+-0x34a*-0x2+0x7aa)),this['_setConten'+'tDraggingE'+'nabled'](!(0x745+0x3*-0x30+0x65*-0x11)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0xa26*0x1+0xc29+-0x101*0x2)),this['_setConten'+'tDraggingE'+'nabled'](!(0x130a+-0x60*0x2f+0x169*-0x1));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4e03df,_0x3ed65f){_0x4e03df['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x3ed65f[_0x4e03df['viewportEn'+'tity']['getGuid']()]),_0x4e03df['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x3ed65f[_0x4e03df['contentEnt'+'ity']['getGuid']()]),_0x4e03df['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x3ed65f[_0x4e03df['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x4e03df['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x3ed65f[_0x4e03df['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=0x2*-0xa99+0x10d3+0x469;class RI{constructor(){c(this,'enabled',!(0x77*0x52+0x1b44+0x1*-0x4162)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x65*-0x5d+-0x1dd5*0x1+0x41*0x106)),c(this,'mouseWheel'+'Sensitivit'+'y',new $(-0x2ab*-0x4+0x1786+-0x1*0x2231,0x4b0+0x6*0x664+0x1*-0x2b07)),c(this,'horizontal'+'ScrollbarV'+'isibility',0x1*0x23f9+-0x272+0xb2d*-0x3),c(this,'verticalSc'+'rollbarVis'+'ibility',0x7fd*-0x1+-0x322+0xb1f),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=-0x8*0x3fd+-0x222e+0x4220;class DI extends Xe{constructor(_0x126d3d){super(_0x126d3d),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1aa0f6,_0x2998d1,_0x579813){_0x2998d1['dragThresh'+'old']===void(-0xee1+0x263b*-0x1+-0xb*-0x4d4)&&(_0x2998d1['dragThresh'+'old']=II),_0x2998d1['useMouseWh'+'eel']===void(-0x1*0x12fd+0x1eea+-0xbed)&&(_0x2998d1['useMouseWh'+'eel']=!(-0x6*0x3ad+0x42*-0x14+-0x306*-0x9)),_0x2998d1['mouseWheel'+'Sensitivit'+'y']===void(0x144a+-0x14b1*0x1+-0x1*-0x67)&&(_0x2998d1['mouseWheel'+'Sensitivit'+'y']=new $(-0x1864*-0x1+0xff4+-0x2857*0x1,0x534*0x5+-0x902*-0x1+-0x2305)),super['initialize'+'ComponentD'+'ata'](_0x1aa0f6,_0x2998d1,Ag),_0x1aa0f6['viewportEn'+'tity']=_0x2998d1['viewportEn'+'tity'],_0x1aa0f6['contentEnt'+'ity']=_0x2998d1['contentEnt'+'ity'],_0x1aa0f6['horizontal'+'ScrollbarE'+'ntity']=_0x2998d1['horizontal'+'ScrollbarE'+'ntity'],_0x1aa0f6['verticalSc'+'rollbarEnt'+'ity']=_0x2998d1['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0xd778fe){const _0x136168=this['store'];for(const _0x51de39 in _0x136168){const _0x2e1f8d=_0x136168[_0x51de39]['entity'],_0x54cd55=_0x2e1f8d['scrollview'];_0x54cd55['enabled']&&_0x2e1f8d['enabled']&&_0x54cd55['onUpdate']();}}['_onRemoveC'+'omponent'](_0x1950b6,_0x35d456){_0x35d456['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x229772,_0x3c422f){super(_0x229772,_0x3c422f),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x35bb83=this['system']['store'][this['entity']['getGuid']()];return _0x35bb83?_0x35bb83['data']:null;}set['enabled'](_0x1e65e8){this['_setValue']('enabled',_0x1e65e8);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x538999){this['_setValue']('orientatio'+'n',_0x538999);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x35250a){this['_setValue']('value',_0x35250a);}get['value'](){return this['data']['value'];}set['handleSize'](_0x2d7091){this['_setValue']('handleSize',_0x2d7091);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x29dcf2){if(this['_handleEnt'+'ity']===_0x29dcf2)return;const _0xf1004f=typeof _0x29dcf2=='string';this['_handleEnt'+'ity']&&_0xf1004f&&this['_handleEnt'+'ity']['getGuid']()===_0x29dcf2||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x29dcf2 instanceof De?this['_handleEnt'+'ity']=_0x29dcf2:_0xf1004f?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x29dcf2)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0xf1004f&&_0x29dcf2&&(this['data']['handleEnti'+'ty']=_0x29dcf2));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x11e2f4,_0x4a9046){const _0x12e7c1=this['data'],_0x5c8a6f=_0x12e7c1[_0x11e2f4];_0x12e7c1[_0x11e2f4]=_0x4a9046,this['fire']('set',_0x11e2f4,_0x5c8a6f,_0x4a9046);}['_toggleLif'+'ecycleList'+'eners'](_0x2c2b7f){this[_0x2c2b7f]('set_value',this['_onSetValu'+'e'],this),this[_0x2c2b7f]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x2c2b7f]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x3a3e17,_0x279b67;(_0x3a3e17=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x3a3e17['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x279b67=this['_handleEnt'+'ity'])!=null&&_0x279b67['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x3d80d3=this['_handleEnt'+'ity']['element'],_0x48ec63=this['_evtHandle'+'EntityChan'+'ges'];_0x48ec63['push'](_0x3d80d3['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x48ec63['push'](_0x3d80d3['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x48ec63['push'](_0x3d80d3['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x48ec63['push'](_0x3d80d3['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x5eb7b5=0x250f*-0x1+0xb*0x2b+0x2336;_0x5eb7b5<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x5eb7b5++)this['_evtHandle'+'EntityChan'+'ges'][_0x5eb7b5]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x193*0xb+-0xecb+-0x286;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x5dcec7){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x5dcec7[this['_getAxis']()]));}['_onSetValu'+'e'](_0x1d4931,_0x2b3431,_0x3a034d){Math['abs'](_0x3a034d-_0x2b3431)>-0x2356+-0x155c*0x1+0x38b2+0.00001&&(this['data']['value']=N['clamp'](_0x3a034d,-0x17*-0x1d+-0xec3+0x1*0xc28,-0x25e7*0x1+-0x21cf*-0x1+-0x419*-0x1),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x36e93e,_0x2e2683,_0x1b9409){Math['abs'](_0x1b9409-_0x2e2683)>-0x1974+-0x1111+0x2a85+0.00001&&(this['data']['handleSize']=N['clamp'](_0x1b9409,-0x1b8a+-0x154d+0x30d7*0x1,-0x18b1+0x1*0x25cf+-0xd1d),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x3cf9c5,_0x10cf10,_0x26221a){var _0x36e457;_0x26221a!==_0x10cf10&&((_0x36e457=this['_handleEnt'+'ity'])!=null&&_0x36e457['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0xec1+0xaea+0x3d7);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x519b67=this['_handleEnt'+'ity'],_0x77306b=_0x519b67==null?void(0xe2+-0x10f*-0xe+0x14*-0xc9):_0x519b67['element'];if(_0x519b67){const _0x4a8a43=_0x519b67['getLocalPo'+'sition']();_0x4a8a43[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x519b67['setLocalPo'+'sition'](_0x4a8a43);}_0x77306b&&(_0x77306b[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x47752e){return _0x47752e*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x55a567){return _0x55a567*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0xa14+-0x1*0xcdf+-0x41*-0xb+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x66*0x7+0x2*-0x21f+0x2*0xba;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?0x1328*-0x1+-0x476*0x7+0x3263:-(0x168b+0x1926+0x4*-0xbec);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0xb409fd){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0xb409fd);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x58*0x33+-0x12ea+0x2472));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1*-0x26c6+-0x1ca6*0x1+-0xa1f));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x48e1eb,_0x12aad6){_0x48e1eb['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x12aad6[_0x48e1eb['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x11c1+0x1177*0x1+-0x2338)),c(this,'orientatio'+'n',pe),c(this,'value',-0xeb9*-0x2+-0xa9c+-0x12d6),c(this,'handleSize',-0x6dd*-0x4+-0x1*0x1782+-0x3f2),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x2ca0e4){super(_0x2ca0e4),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x8ed494,_0x18565e,_0x1a4a6d){super['initialize'+'ComponentD'+'ata'](_0x8ed494,_0x18565e,Eg),_0x8ed494['handleEnti'+'ty']=_0x18565e['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x1ec7f1){_0x1ec7f1['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x25b0ae,_0x36a14d){_0x36a14d['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(-0x2*0x8db+-0x1*-0x14fc+-0x345),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x566a18,_0x15041a='Untitled',_0x16c55f={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x566a18,this['_assets']=_0x566a18['system']['app']['assets'],this['_manager']=_0x566a18['system']['manager'],this['name']=_0x15041a,this['_volume']=_0x16c55f['volume']!==void(-0x25ac*-0x1+-0x4e*0x20+-0x1bec)?N['clamp'](Number(_0x16c55f['volume'])||0xa12+-0x14a8+0xa96,0x2d7+0x1314+-0x1*0x15eb,-0x6ab+0x81*-0x26+0x19d2):0x505+-0x1*0xdc1+0x8bd,this['_pitch']=_0x16c55f['pitch']!==void(0x7*-0x48d+-0xeda*-0x2+0x227)?Math['max'](-0x1612+-0xa52+0x2064+0.01,Number(_0x16c55f['pitch'])||-0x1*-0xc15+-0x2*0x234+-0x7ad):0x15e7+-0x40d*-0x1+-0x1*0x19f3,this['_loop']=!!(_0x16c55f['loop']!==void(0x10a5+0xed*-0xf+-0x2c2)&&_0x16c55f['loop']),this['_duration']=_0x16c55f['duration']>-0x1*-0x935+-0x9a*-0x2+-0xa69?_0x16c55f['duration']:null,this['_startTime']=Math['max'](-0x52f*-0x4+0x841*0x1+-0x1cfd,Number(_0x16c55f['startTime'])||-0x2ad+-0x7*0x47b+0x220a),this['_overlap']=!!_0x16c55f['overlap'],this['_autoPlay']=!!_0x16c55f['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x16c55f['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x45fbfd){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x12a5bd=_0x45fbfd;if(_0x12a5bd||(_0x12a5bd=this['_createIns'+'tance'](),this['instances']['push'](_0x12a5bd)),this['isLoaded'])_0x12a5bd['play']();else{const _0x34e51e=function(_0x438a76){const _0x1205f3=_0x12a5bd['_playWhenL'+'oaded'];_0x12a5bd['sound']=_0x438a76,_0x1205f3&&_0x12a5bd['play']();};this['off']('load',_0x34e51e),this['once']('load',_0x34e51e),this['load']();}return _0x12a5bd;}['pause'](){let _0x558681=!(-0x45d*0x5+0x3*-0xc0b+-0x1*-0x39f3);const _0x33db36=this['instances'];for(let _0x137e36=0x1cd0+-0x1*0x2375+0x6a5,_0x32f57f=_0x33db36['length'];_0x137e36<_0x32f57f;_0x137e36++)_0x33db36[_0x137e36]['pause']()&&(_0x558681=!(0x2d*-0x7a+-0xbfc+0x216e));return _0x558681;}['resume'](){let _0x20f72c=!(-0x45*-0x8f+-0x1*0x21d+-0x1*0x246d);const _0x526512=this['instances'];for(let _0x65b3f0=-0x43*0x13+-0x1073*-0x1+-0xb7a,_0x4596c2=_0x526512['length'];_0x65b3f0<_0x4596c2;_0x65b3f0++)_0x526512[_0x65b3f0]['resume']()&&(_0x20f72c=!(0x1*0x1547+-0x29*-0x9d+0x2e6c*-0x1));return _0x20f72c;}['stop'](){let _0x3197bd=!(-0x295*0x9+-0x2*-0x479+-0x3c*-0x3d);const _0x507455=this['instances'];let _0x2122e2=_0x507455['length'];for(;_0x2122e2--;)_0x507455[_0x2122e2]['stop'](),_0x3197bd=!(-0x1518+-0xc*0xfd+0x20f4);return _0x507455['length']=-0x6bd*0x5+0x30a+0x1ea7,_0x3197bd;}['load'](){if(!this['_hasAsset']())return;const _0xf18cf5=this['_assets']['get'](this['_asset']);if(!_0xf18cf5){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0xf18cf5['off']('remove',this['_onAssetRe'+'moved'],this),_0xf18cf5['on']('remove',this['_onAssetRe'+'moved'],this),!_0xf18cf5['resource']){_0xf18cf5['off']('load',this['_onAssetLo'+'ad'],this),_0xf18cf5['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0xf18cf5);return;}this['fire']('load',_0xf18cf5['resource']);}['setExterna'+'lNodes'](_0x2eeb95,_0x1dfaf4){if(!_0x2eeb95){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x1dfaf4||(_0x1dfaf4=_0x2eeb95),this['_firstNode']=_0x2eeb95,this['_lastNode']=_0x1dfaf4,!this['_overlap']){const _0x6e9b0f=this['instances'];for(let _0x390b24=0xba9*-0x3+-0x1b37+0x3e32,_0x28b9d7=_0x6e9b0f['length'];_0x390b24<_0x28b9d7;_0x390b24++)_0x6e9b0f[_0x390b24]['setExterna'+'lNodes'](_0x2eeb95,_0x1dfaf4);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x1964a8=this['instances'];for(let _0x28422f=0x28*-0x5+-0x954*-0x3+-0x1b34,_0xfe6a26=_0x1964a8['length'];_0x28422f<_0xfe6a26;_0x28422f++)_0x1964a8[_0x28422f]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x162ffb=null;const _0x2ec537=this['_component'];let _0x3a3e12=null;if(this['_hasAsset']()){const _0x2c57b5=this['_assets']['get'](this['_asset']);_0x2c57b5&&(_0x3a3e12=_0x2c57b5['resource']);}const _0x23fa6f=OI;return _0x23fa6f['volume']=this['_volume']*_0x2ec537['volume'],_0x23fa6f['pitch']=this['_pitch']*_0x2ec537['pitch'],_0x23fa6f['loop']=this['_loop'],_0x23fa6f['startTime']=this['_startTime'],_0x23fa6f['duration']=this['_duration'],_0x23fa6f['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x23fa6f['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x23fa6f['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x23fa6f['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x23fa6f['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x2ec537['positional']?(_0x23fa6f['position']['copy'](_0x2ec537['entity']['getPositio'+'n']()),_0x23fa6f['maxDistanc'+'e']=_0x2ec537['maxDistanc'+'e'],_0x23fa6f['refDistanc'+'e']=_0x2ec537['refDistanc'+'e'],_0x23fa6f['rollOffFac'+'tor']=_0x2ec537['rollOffFac'+'tor'],_0x23fa6f['distanceMo'+'del']=_0x2ec537['distanceMo'+'del'],_0x162ffb=new jn(this['_manager'],_0x3a3e12,_0x23fa6f)):_0x162ffb=new ss(this['_manager'],_0x3a3e12,_0x23fa6f),this['_firstNode']&&_0x162ffb['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x162ffb;}['_onInstanc'+'ePlay'](_0x33cfe6){this['fire']('play',_0x33cfe6),this['_component']['fire']('play',this,_0x33cfe6);}['_onInstanc'+'ePause'](_0x557106){this['fire']('pause',_0x557106),this['_component']['fire']('pause',this,_0x557106);}['_onInstanc'+'eResume'](_0x48d402){this['fire']('resume',_0x48d402),this['_component']['fire']('resume',this,_0x48d402);}['_onInstanc'+'eStop'](_0x4ef0a8){const _0x2b3c77=this['instances']['indexOf'](_0x4ef0a8);_0x2b3c77!==-(-0x2*0x1229+-0x21d3*-0x1+-0x28*-0x10)&&this['instances']['splice'](_0x2b3c77,-0x1*-0x1ef9+-0x3c1*0x8+-0xf*0x10),this['fire']('stop',_0x4ef0a8),this['_component']['fire']('stop',this,_0x4ef0a8);}['_onInstanc'+'eEnd'](_0x110db2){const _0x407218=this['instances']['indexOf'](_0x110db2);_0x407218!==-(0x2479+0x2*-0x556+-0x19cc)&&this['instances']['splice'](_0x407218,-0x1*0x49+0x7bb+-0x771),this['fire']('end',_0x110db2),this['_component']['fire']('end',this,_0x110db2);}['_onAssetAd'+'d'](_0x1283bd){this['load']();}['_onAssetLo'+'ad'](_0x562ecc){this['load']();}['_onAssetRe'+'moved'](_0x48b250){_0x48b250['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x48b250['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x570416){const _0x3c83fb=this['instances'];for(let _0x15d328=-0x59*-0x1f+0x2c8*0xa+0x6f*-0x59,_0x3a20e7=_0x3c83fb['length'];_0x15d328<_0x3a20e7;_0x15d328++)_0x3c83fb[_0x15d328]['position']=_0x570416;}set['asset'](_0x277945){const _0x27f89e=this['_asset'];if(_0x27f89e){this['_assets']['off']('add:'+_0x27f89e,this['_onAssetAd'+'d'],this);const _0x4760f4=this['_assets']['get'](_0x27f89e);_0x4760f4&&_0x4760f4['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x277945,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x1f1466){this['_autoPlay']=!!_0x1f1466;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x5e6192){if(this['_duration']=Math['max'](0x1042+-0x161*-0x1+0x5e1*-0x3,Number(_0x5e6192)||0x1343*-0x2+0x551*-0x5+0x7*0x94d)||null,!this['_overlap']){const _0x4302c2=this['instances'];for(let _0x4f5e19=-0x15*0x3c+0x2*0x647+0x3d1*-0x2,_0x4c669f=_0x4302c2['length'];_0x4f5e19<_0x4c669f;_0x4f5e19++)_0x4302c2[_0x4f5e19]['duration']=this['_duration'];}}get['duration'](){let _0x13d346=0x8d5+0x1781+-0x2*0x102b;if(this['_hasAsset']()){const _0x86f215=this['_assets']['get'](this['_asset']);_0x13d346=_0x86f215!=null&&_0x86f215['resource']?_0x86f215['resource']['duration']:-0x1ed8+0x30*0x80+0x1*0x6d8;}return this['_duration']!=null?this['_duration']%(_0x13d346||0x3*-0x75d+-0xfe0+0x25f8):_0x13d346;}get['isLoaded'](){if(this['_hasAsset']()){const _0x535139=this['_assets']['get'](this['_asset']);if(_0x535139)return!!_0x535139['resource'];}return!(-0xb4b+-0x12f4*0x2+0x2f*0x10c);}get['isPaused'](){const _0x37d7b2=this['instances'],_0x1b1a4d=_0x37d7b2['length'];if(_0x1b1a4d===0xfb7*0x1+0x12ad+-0x2264)return!(0x1*-0x2b7+0x1*-0x11be+-0x246*-0x9);for(let _0x2aeb45=-0x21fa*0x1+0xc5f*-0x2+-0x8*-0x757;_0x2aeb45<_0x1b1a4d;_0x2aeb45++)if(!_0x37d7b2[_0x2aeb45]['isPaused'])return!(-0x1*0x1e56+0x647*-0x5+0x3dba);return!(0x198a+-0x1*0x193c+-0x4e);}get['isPlaying'](){const _0x5a4fb9=this['instances'];for(let _0x4cde4c=-0x1924+-0x1f52+0x646*0x9,_0x2b291e=_0x5a4fb9['length'];_0x4cde4c<_0x2b291e;_0x4cde4c++)if(_0x5a4fb9[_0x4cde4c]['isPlaying'])return!(0x2*-0x649+0x380+0x102*0x9);return!(0xb6f+0x10a+-0xe*0xe4);}get['isStopped'](){const _0x17de02=this['instances'];for(let _0x51cd57=-0x5c*0x1b+-0xa*-0x265+-0x71f*0x2,_0x2169d2=_0x17de02['length'];_0x51cd57<_0x2169d2;_0x51cd57++)if(!_0x17de02[_0x51cd57]['isStopped'])return!(0x1aa9+0x1982+-0x342a);return!(-0x1*0x783+-0xd95+0x1518);}set['loop'](_0x1ae5c1){this['_loop']=!!_0x1ae5c1;const _0x4df0ff=this['instances'];for(let _0x3e7ac4=-0x2485*-0x1+0x4a1+-0x1ca*0x17,_0xff484f=_0x4df0ff['length'];_0x3e7ac4<_0xff484f;_0x3e7ac4++)_0x4df0ff[_0x3e7ac4]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x4a5a87){this['_overlap']=!!_0x4a5a87;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x393d5e){if(this['_pitch']=Math['max'](Number(_0x393d5e)||0x1ab7+0x323*0x9+-0x1b79*0x2,0x1ad5+-0xd*0xa2+0x129b*-0x1+0.01),!this['_overlap']){const _0x9c9b19=this['instances'];for(let _0x4d8b7e=-0xa73+-0x11ff+-0x16*-0x14b,_0x4f1d52=_0x9c9b19['length'];_0x4d8b7e<_0x4f1d52;_0x4d8b7e++)_0x9c9b19[_0x4d8b7e]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x4b455c){if(this['_startTime']=Math['max'](0x1*-0x23e3+-0xc1d+0x30*0x100,Number(_0x4b455c)||-0x22f2+0xa*-0xa+0x2356),!this['_overlap']){const _0x3d9bf5=this['instances'];for(let _0x1af650=0x2255+0x2a5+-0x24fa,_0x3545ff=_0x3d9bf5['length'];_0x1af650<_0x3545ff;_0x1af650++)_0x3d9bf5[_0x1af650]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x1031f7){if(this['_volume']=N['clamp'](Number(_0x1031f7)||-0xcd6+-0x19f7+0x26cd,0x238+0x1091*0x1+-0x12c9,-0x16b*-0xd+-0x12*-0x190+-0x2e8e*0x1),!this['_overlap']){const _0x46582c=this['instances'];for(let _0x579f37=-0x134a+-0x2698+0x39e2,_0x2263ed=_0x46582c['length'];_0x579f37<_0x2263ed;_0x579f37++)_0x46582c[_0x579f37]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',-0x1589+0x4*-0x3c1+0x248e*0x1),c(this,'_pitch',-0xf29*0x1+-0x2*-0x8b9+-0x248),c(this,'_positiona'+'l',!(-0x1*-0x1a2f+0xc7*0x1+-0x3a*0x77)),c(this,'_refDistan'+'ce',0x1*-0x1b1f+-0x7fa+-0x118d*-0x2),c(this,'_maxDistan'+'ce',0x9*-0x242+-0x4099+0x1*0x7bfb),c(this,'_rollOffFa'+'ctor',0x1312*0x1+0x22a3+-0x35b4),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x3eadd6,_0x226933,_0x3e2a1b){const _0x2972e3=this['_slots'];for(const _0x4ea545 in _0x2972e3){const _0x3c6420=_0x2972e3[_0x4ea545];if(!_0x3c6420['overlap']){const _0x13c622=_0x3c6420['instances'];for(let _0x44801e=-0x29*0x9d+-0x9c5*0x1+-0x2*-0x1175,_0x3e8655=_0x13c622['length'];_0x44801e<_0x3e8655;_0x44801e++)_0x13c622[_0x44801e][_0x3eadd6]=_0x3e2a1b?_0x3c6420[_0x3eadd6]*_0x226933:_0x226933;}}}set['distanceMo'+'del'](_0x363ab1){this['_distanceM'+'odel']=_0x363ab1,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x363ab1,!(-0x15c9*0x1+0x1aa+0x508*0x4));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x5760fc){this['_maxDistan'+'ce']=_0x5760fc,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x5760fc,!(0x7*0x44a+0x25b7+-0x14*0x363));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x98291c){this['_refDistan'+'ce']=_0x98291c,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x98291c,!(0x7*0x265+-0x47e*0x2+-0x7c6));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x1bc766){this['_rollOffFa'+'ctor']=_0x1bc766,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x1bc766,!(0x1062+-0x110f+0x6*0x1d));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x8f74a5){this['_pitch']=_0x8f74a5,this['_updateSou'+'ndInstance'+'s']('pitch',_0x8f74a5,!(0x5*0x1ad+0x5*-0x4d7+0x3*0x546));}get['pitch'](){return this['_pitch'];}set['volume'](_0x23c2bb){this['_volume']=_0x23c2bb,this['_updateSou'+'ndInstance'+'s']('volume',_0x23c2bb,!(-0x10b8+-0x2*0x120a+-0x4*-0xd33));}get['volume'](){return this['_volume'];}set['positional'](_0x58bd55){this['_positiona'+'l']=_0x58bd55;const _0x443b7f=this['_slots'];for(const _0xe62e00 in _0x443b7f){const _0x2e5de0=_0x443b7f[_0xe62e00];if(!_0x2e5de0['overlap']){const _0x1224a8=_0x2e5de0['instances'],_0x3688a9=_0x1224a8['length'];for(let _0x190ec9=_0x3688a9-(0x15e+0x3*-0x8c3+0x18ec);_0x190ec9>=-0x1d7d+-0x90e+-0x1ad*-0x17;_0x190ec9--){const _0x425e9c=_0x1224a8[_0x190ec9]['isPlaying']||_0x1224a8[_0x190ec9]['isSuspende'+'d'],_0x5b0093=_0x1224a8[_0x190ec9]['currentTim'+'e'];_0x425e9c&&_0x1224a8[_0x190ec9]['stop']();const _0x50bb5e=_0x2e5de0['_createIns'+'tance']();_0x425e9c&&(_0x50bb5e['play'](),_0x50bb5e['currentTim'+'e']=_0x5b0093),_0x1224a8['push'](_0x50bb5e);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x56cf4d){const _0x787a2e=this['_slots'];if(_0x787a2e){for(const _0x21ba08 in _0x787a2e)_0x787a2e[_0x21ba08]['stop']();}const _0x1550b5={};for(const _0x29c933 in _0x56cf4d)_0x56cf4d[_0x29c933]instanceof er?_0x1550b5[_0x56cf4d[_0x29c933]['name']]=_0x56cf4d[_0x29c933]:_0x56cf4d[_0x29c933]['name']&&(_0x1550b5[_0x56cf4d[_0x29c933]['name']]=new er(this,_0x56cf4d[_0x29c933]['name'],_0x56cf4d[_0x29c933]));this['_slots']=_0x1550b5,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x5de59b=this['_slots'],_0x44c71e=this['_playingBe'+'foreDisabl'+'e'];for(const _0x5ec636 in _0x5de59b){const _0x42e72b=_0x5de59b[_0x5ec636];_0x42e72b['autoPlay']&&_0x42e72b['isStopped']?_0x42e72b['play']():_0x44c71e[_0x5ec636]?_0x42e72b['resume']():_0x42e72b['isLoaded']||_0x42e72b['load']();}}['onDisable'](){const _0x1f93b3=this['_slots'],_0x44e66f={};for(const _0x2e243b in _0x1f93b3)_0x1f93b3[_0x2e243b]['overlap']||_0x1f93b3[_0x2e243b]['isPlaying']&&(_0x1f93b3[_0x2e243b]['pause'](),_0x44e66f[_0x2e243b]=!(-0x4b5+0x1555+-0x10a0));this['_playingBe'+'foreDisabl'+'e']=_0x44e66f;}['onRemove'](){this['off']();}['addSlot'](_0x58d19f,_0x24772c){const _0x39ddc2=this['_slots'];if(_0x39ddc2[_0x58d19f])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x58d19f+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x56cf3d=new er(this,_0x58d19f,_0x24772c);return _0x39ddc2[_0x58d19f]=_0x56cf3d,_0x56cf3d['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x56cf3d['play'](),_0x56cf3d;}['removeSlot'](_0x424a39){const _0x2c9942=this['_slots'];_0x2c9942[_0x424a39]&&(_0x2c9942[_0x424a39]['stop'](),delete _0x2c9942[_0x424a39]);}['slot'](_0x2f311d){return this['_slots'][_0x2f311d];}['_getSlotPr'+'operty'](_0x3ebde7,_0x36746c){if(!this['enabled']||!this['entity']['enabled'])return;const _0x552ed7=this['_slots'][_0x3ebde7];if(!_0x552ed7){v['warn']('Trying\x20to\x20'+'get\x20'+_0x36746c+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x3ebde7+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x552ed7[_0x36746c];}['isPlaying'](_0x27b463){return this['_getSlotPr'+'operty'](_0x27b463,'isPlaying')||!(0x13d2+0xe1c+-0xf*0x243);}['isLoaded'](_0x515e28){return this['_getSlotPr'+'operty'](_0x515e28,'isLoaded')||!(0x227e+-0xc66+0x179*-0xf);}['isPaused'](_0x31252a){return this['_getSlotPr'+'operty'](_0x31252a,'isPaused')||!(-0x9*0xdb+-0x961*0x2+0x1a76);}['isStopped'](_0x184275){return this['_getSlotPr'+'operty'](_0x184275,'isStopped')||!(0x921+0x26e1*-0x1+-0x3*-0x9eb);}['play'](_0x179294){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x418718=this['_slots'][_0x179294];return _0x418718?_0x418718['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x179294+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x1d7677){const _0x114d9b=this['_slots'];if(_0x1d7677){const _0x1420eb=_0x114d9b[_0x1d7677];if(!_0x1420eb){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x1d7677+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x1420eb['pause']();}else{for(const _0x2744d5 in _0x114d9b)_0x114d9b[_0x2744d5]['pause']();}}['resume'](_0x34e683){const _0x5f3fbd=this['_slots'];if(_0x34e683){const _0x562eb3=_0x5f3fbd[_0x34e683];if(!_0x562eb3){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x34e683+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x562eb3['isPaused']&&_0x562eb3['resume']();}else{for(const _0x12c785 in _0x5f3fbd)_0x5f3fbd[_0x12c785]['resume']();}}['stop'](_0x2ae125){const _0x5a73ad=this['_slots'];if(_0x2ae125){const _0x2e5b09=_0x5a73ad[_0x2ae125];if(!_0x2e5b09){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2ae125+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x2e5b09['stop']();}else{for(const _0x2a59af in _0x5a73ad)_0x5a73ad[_0x2a59af]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x1*0x131b+0xa6+-0x13c1);}}const xx=['enabled'];class BI extends Xe{constructor(_0x3bd59e){super(_0x3bd59e),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x3bd59e['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x27dae3){this['manager']['volume']=_0x27dae3;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x48eed6,_0x343fa0,_0x5b04d2){_0x5b04d2=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x376485=-0x1*-0x106c+0xad5+0x1b41*-0x1;_0x376485<_0x5b04d2['length'];_0x376485++)_0x343fa0['hasOwnProp'+'erty'](_0x5b04d2[_0x376485])&&(_0x48eed6[_0x5b04d2[_0x376485]]=_0x343fa0[_0x5b04d2[_0x376485]]);super['initialize'+'ComponentD'+'ata'](_0x48eed6,_0x343fa0,['enabled']);}['cloneCompo'+'nent'](_0xb33aa5,_0x5ee9d0){const _0x34759e=_0xb33aa5['sound'],_0x399860=_0x34759e['slots'],_0x3c002f={};for(const _0x40a1ad in _0x399860){const _0x149ff2=_0x399860[_0x40a1ad];_0x3c002f[_0x40a1ad]={'name':_0x149ff2['name'],'volume':_0x149ff2['volume'],'pitch':_0x149ff2['pitch'],'loop':_0x149ff2['loop'],'duration':_0x149ff2['duration'],'startTime':_0x149ff2['startTime'],'overlap':_0x149ff2['overlap'],'autoPlay':_0x149ff2['autoPlay'],'asset':_0x149ff2['asset']};}const _0x77ab80={'distanceModel':_0x34759e['distanceMo'+'del'],'enabled':_0x34759e['enabled'],'maxDistance':_0x34759e['maxDistanc'+'e'],'pitch':_0x34759e['pitch'],'positional':_0x34759e['positional'],'refDistance':_0x34759e['refDistanc'+'e'],'rollOffFactor':_0x34759e['rollOffFac'+'tor'],'slots':_0x3c002f,'volume':_0x34759e['volume']};return this['addCompone'+'nt'](_0x5ee9d0,_0x77ab80);}['onUpdate'](_0x57c035){const _0x2eb6b3=this['store'];for(const _0x1f1bf7 in _0x2eb6b3)if(_0x2eb6b3['hasOwnProp'+'erty'](_0x1f1bf7)){const _0x38f397=_0x2eb6b3[_0x1f1bf7]['entity'];if(_0x38f397['enabled']){const _0x118486=_0x38f397['sound'];if(_0x118486['enabled']&&_0x118486['positional']){const _0x1b5d99=_0x38f397['getPositio'+'n'](),_0x1cdeb9=_0x118486['slots'];for(const _0x67fb16 in _0x1cdeb9)_0x1cdeb9[_0x67fb16]['updatePosi'+'tion'](_0x1b5d99);}}}}['onBeforeRe'+'move'](_0x368bac,_0x54145f){const _0x3c2efe=_0x54145f['slots'];for(const _0x129a94 in _0x3c2efe)_0x3c2efe[_0x129a94]['overlap']||_0x3c2efe[_0x129a94]['stop']();_0x54145f['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x515bda,_0x260270){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x515bda,this['_frame']=-0x1d8c+0x16b1+-0x2d*-0x27,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x260270['spriteAsse'+'t'],this['name']=_0x260270['name'],this['fps']=_0x260270['fps']||-0x1*0x1caf+0x15*0x127+0x47c,this['loop']=_0x260270['loop']||!(0x1c6e*-0x1+0x59*0x7+0x1a00),this['_playing']=!(-0x4d7+-0xba1+0x1079*0x1),this['_paused']=!(0xd7*-0x2+-0x23fa+0x25a9),this['_time']=0x15e2+-0x109b+0x7*-0xc1);}get['duration'](){if(this['_sprite']){const _0x5a6670=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x5a6670);}return-0x10f1*-0x1+-0xb*-0x9+-0x4*0x455;}set['frame'](_0x2c6685){this['_setFrame'](_0x2c6685);const _0x6fa8ef=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x6fa8ef);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x373dd8){var _0x3bb830;if(this['_sprite']&&((_0x3bb830=this['_evtSetMes'+'hes'])==null||_0x3bb830['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x373dd8,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x474166;!_0x373dd8||!_0x373dd8['atlas']?(_0x474166=this['_component']['_meshInsta'+'nce'],_0x474166&&(_0x474166['deletePara'+'meter']('texture_em'+'issiveMap'),_0x474166['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x373dd8['atlas']['texture']&&(_0x474166=this['_component']['_meshInsta'+'nce'],_0x474166&&(_0x474166['setParamet'+'er']('texture_em'+'issiveMap',_0x373dd8['atlas']['texture']),_0x474166['setParamet'+'er']('texture_op'+'acityMap',_0x373dd8['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x3780df){const _0x469c15=this['_component']['system']['app']['assets'];let _0x232938=_0x3780df;if(_0x3780df instanceof le&&(_0x232938=_0x3780df['id']),this['_spriteAss'+'et']!==_0x232938){if(this['_spriteAss'+'et']){const _0x1ef600=_0x469c15['get'](this['_spriteAss'+'et']);_0x1ef600&&this['_unbindSpr'+'iteAsset'](_0x1ef600);}if(this['_spriteAss'+'et']=_0x232938,this['_spriteAss'+'et']){const _0x2761e2=_0x469c15['get'](this['_spriteAss'+'et']);_0x2761e2?this['_bindSprit'+'eAsset'](_0x2761e2):(this['sprite']=null,_0x469c15['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x11e284){this['_setTime'](_0x11e284),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x260*-0xe+0x22bb+-0x43fa),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0x192*0x8+0x15d8+-0x48*0x21;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x34aa10){this['_component']['system']['app']['assets']['off']('add:'+_0x34aa10['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x34aa10['id']&&this['_bindSprit'+'eAsset'](_0x34aa10);}['_bindSprit'+'eAsset'](_0x422ce9){_0x422ce9['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x422ce9['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x422ce9['resource']?this['_onSpriteA'+'ssetLoad'](_0x422ce9):this['_component']['system']['app']['assets']['load'](_0x422ce9);}['_unbindSpr'+'iteAsset'](_0x13e421){_0x13e421&&(_0x13e421['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x13e421['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x13e421['resource']&&!_0x13e421['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x13e421['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x110997){if(!_0x110997['resource'])this['sprite']=null;else{if(_0x110997['resource']['atlas'])this['sprite']=_0x110997['resource'];else{const _0x5dbd7b=_0x110997['data']['textureAtl'+'asAsset'],_0x3160da=this['_component']['system']['app']['assets'];_0x3160da['off']('load:'+_0x5dbd7b,this['_onTexture'+'AtlasLoad'],this),_0x3160da['once']('load:'+_0x5dbd7b,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x3f1cd6){const _0x17fb5a=this['_spriteAss'+'et'];_0x17fb5a instanceof le?this['_onSpriteA'+'ssetLoad'](_0x17fb5a):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x17fb5a));}['_onSpriteA'+'ssetRemove'](_0x182ba5){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x10e205){if(this['fps']===0x8cb*0x3+-0x15b+-0xc83*0x2||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x2627ca=this['fps']<-0x21e4+-0x6*-0x22+0x2118?-(-0x1*0x14f8+0x9*0x2ad+-0x31c):0x19c6+0x8b*0x22+-0x2c3b,_0x4aeefb=this['_time']+_0x10e205*this['_component']['speed']*_0x2627ca,_0x5e26a7=this['duration'],_0x283523=_0x4aeefb>_0x5e26a7||_0x4aeefb<-0x99a+-0x1*0x1671+0x200b;this['_setTime'](_0x4aeefb);let _0x2895b8=this['frame'];this['_sprite']?_0x2895b8=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x5e26a7):_0x2895b8=0x4cb+-0x7d*0x4c+0x2051,_0x2895b8!==this['_frame']&&this['_setFrame'](_0x2895b8),_0x283523&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x1a8+-0x1c*-0xf+0x1*0x5),this['_paused']=!(-0x62f+0x2*-0xf1f+-0x1237*-0x2),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x124d3e){this['_time']=_0x124d3e;const _0x2e4c5d=this['duration'];this['_time']<0xa3*0x15+-0x1*-0x609+0x2*-0x9b4?this['loop']?this['_time']=this['_time']%_0x2e4c5d+_0x2e4c5d:this['_time']=0x14b5+-0xe47*0x2+0x7d9:this['_time']>_0x2e4c5d&&(this['loop']?this['_time']%=_0x2e4c5d:this['_time']=_0x2e4c5d);}['_setFrame'](_0x353d7f){this['_sprite']?this['_frame']=N['clamp'](_0x353d7f,0x17c*0x1a+-0x1*0xc73+0x61*-0x45,this['_sprite']['frameKeys']['length']-(0x1e07+0x2326+-0x412c)):this['_frame']=_0x353d7f,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x1e212d=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x1e212d['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x1f69+-0x1*0x178+-0x13*-0x1bb),this['_paused']=!(-0x89*-0x1+-0x123b*-0x2+-0x24fe),this['frame']=-0x12dc+0x2461+-0x1185,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x1836+0x8f2+-0x425*0x8),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x1fa4+-0xde7+-0x1*0x11bc),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x175e+0x7de+-0x41*0x7b),this['_paused']=!(-0x1433+-0x1712+0x2b46),this['_time']=0x29*0xad+-0xb*0x2ff+0x540,this['frame']=0x67*0x49+-0x10e7+0x98*-0x15,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x51e855,_0x114d44){super(_0x51e855,_0x114d44),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x51e855['defaultMat'+'erial'],this['_color']=new Y(0x259b+0x5d5*-0x1+-0x1fc5,-0x37a+0x20b*0x2+-0x9b,0x651+-0x2*-0x5fb+-0x1246,-0x199*-0x17+-0x9ef*0x3+-0x6f1),this['_colorUnif'+'orm']=new Float32Array(-0x19b6+-0xbf7+0x25b0),this['_speed']=0x5*-0x12a+-0xdf5+0x13c8,this['_flipX']=!(-0x1*0x1253+-0x7c5+0x1a19),this['_flipY']=!(-0x1787+0x1db2+-0x62a),this['_width']=-0x1*0x26cb+-0x1ca6+0x4372,this['_height']=-0x1b47+-0xc83*-0x1+0xec5*0x1,this['_drawOrder']=0x1599+0x1350+0x28e9*-0x1,this['_layers']=[Fi],this['_outerScal'+'e']=new $(-0x36f+0x1d23+-0x19b3,-0x643+-0x5*0x32b+0x161b),this['_outerScal'+'eUniform']=new Float32Array(-0x1db3*0x1+0x6*-0x2ce+0xf83*0x3),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1b25+-0x9*0x1b4+-0x1*-0x2a7d),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x6d0*-0x2+0x127+-0xec3),this['_batchGrou'+'pId']=-(-0xf08+-0xf2*-0x4+0x1*0xb41),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x114d44['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x114d44,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1*-0x1506+0xedb*-0x2+0x32bd),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x96b*0x1+-0x151*0x1+-0x1*0x819),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0xf9ba8d){this['_type']!==_0xf9ba8d&&(this['_type']=_0xf9ba8d,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x59a302){this['_currentCl'+'ip']['frame']=_0x59a302;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0xa8e482){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0xa8e482;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x1bfde7){this['_currentCl'+'ip']['sprite']=_0x1bfde7;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x257765){this['_material']=_0x257765,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x257765);}get['material'](){return this['_material'];}set['color'](_0x7a9667){this['_color']['r']=_0x7a9667['r'],this['_color']['g']=_0x7a9667['g'],this['_color']['b']=_0x7a9667['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x1*-0x25cd+0x18a2+0xd2b]=this['_color']['r'],this['_colorUnif'+'orm'][-0x1127+-0x2625+0x374d]=this['_color']['g'],this['_colorUnif'+'orm'][0x1384*0x1+-0x123+0x125f*-0x1]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x3192e6){this['_color']['a']=_0x3192e6,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x3192e6);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x5f9c9d){if(!_0x5f9c9d){for(const _0x30ee7b in this['_clips'])this['removeClip'](_0x30ee7b);return;}for(const _0xe8019e in this['_clips']){let _0x483cad=!(-0x215d+-0x1125+0x3283);for(const _0x48bc0c in _0x5f9c9d)if(_0x5f9c9d[_0x48bc0c]['name']===_0xe8019e){_0x483cad=!(0x34c+0x6eb+-0xa37),this['_clips'][_0xe8019e]['fps']=_0x5f9c9d[_0x48bc0c]['fps'],this['_clips'][_0xe8019e]['loop']=_0x5f9c9d[_0x48bc0c]['loop'],_0x5f9c9d[_0x48bc0c]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0xe8019e]['sprite']=_0x5f9c9d[_0x48bc0c]['sprite']:_0x5f9c9d[_0x48bc0c]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0xe8019e]['spriteAsse'+'t']=_0x5f9c9d[_0x48bc0c]['spriteAsse'+'t']);break;}_0x483cad||this['removeClip'](_0xe8019e);}for(const _0x519b32 in _0x5f9c9d)this['_clips'][_0x5f9c9d[_0x519b32]['name']]||this['addClip'](_0x5f9c9d[_0x519b32]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x782c97){this['_speed']=_0x782c97;}get['speed'](){return this['_speed'];}set['flipX'](_0x5d19b8){this['_flipX']!==_0x5d19b8&&(this['_flipX']=_0x5d19b8,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x57ab4b){this['_flipY']!==_0x57ab4b&&(this['_flipY']=_0x57ab4b,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x421e06){_0x421e06!==this['_width']&&(this['_width']=_0x421e06,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x10b3b7){_0x10b3b7!==this['_height']&&(this['_height']=_0x10b3b7,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x55d367){var _0x50cca0,_0x3a1b42;if(this['_batchGrou'+'pId']===_0x55d367)return;const _0xc35308=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x55d367,this['entity']['enabled']&&_0xc35308>=-0x25a4+0xdb+-0x81*-0x49&&((_0x50cca0=this['system']['app']['batcher'])==null||_0x50cca0['remove'](et['SPRITE'],_0xc35308,this['entity'])),this['entity']['enabled']&&_0x55d367>=0x79*0x11+0x1*-0x4b2+-0x357?(_0x3a1b42=this['system']['app']['batcher'])==null||_0x3a1b42['insert'](et['SPRITE'],_0x55d367,this['entity']):_0xc35308>=0xe81+-0x22d6+0x1455&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x332ece){this['_autoPlayC'+'lip']=_0x332ece instanceof bi?_0x332ece['name']:_0x332ece,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x162ff5){this['_drawOrder']=_0x162ff5,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x162ff5);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x2b653b){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x2b653b,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x58dd0e;const _0x4343b6=this['system']['app'],_0x169084=_0x4343b6['scene'],_0x5d5d3b=_0x169084['layers'];this['_evtLayers'+'Changed']=_0x169084['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x5d5d3b&&(this['_evtLayerA'+'dded']=_0x5d5d3b['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x5d5d3b['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x4db+0x19c7*0x1+-0x1a*0xce&&((_0x58dd0e=_0x4343b6['batcher'])==null||_0x58dd0e['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x43e060,_0x16d4de,_0x11da38,_0x3fbe21;const _0x205eeb=this['system']['app'],_0x2cea29=_0x205eeb['scene']['layers'];(_0x43e060=this['_evtLayers'+'Changed'])==null||_0x43e060['off'](),this['_evtLayers'+'Changed']=null,_0x2cea29&&((_0x16d4de=this['_evtLayerA'+'dded'])==null||_0x16d4de['off'](),this['_evtLayerA'+'dded']=null,(_0x11da38=this['_evtLayerR'+'emoved'])==null||_0x11da38['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x102e+0x11*0x23d+0x1fd*-0xb&&((_0x3fbe21=_0x205eeb['batcher'])==null||_0x3fbe21['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x1e4db1;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x29d919 in this['_clips'])this['_clips'][_0x29d919]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x1e4db1=this['_node'])==null||_0x1e4db1['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x4a9223=[this['_meshInsta'+'nce']];for(let _0x125ec3=-0x102a+-0x28d+0x12b7,_0x810ccb=this['_layers']['length'];_0x125ec3<_0x810ccb;_0x125ec3++){const _0x14a827=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x125ec3]);_0x14a827&&_0x14a827['addMeshIns'+'tances'](_0x4a9223);}this['_addedMode'+'l']=!(0x1456*0x1+0x136*0x1b+-0x1*0x3508);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x2cc0a8=[this['_meshInsta'+'nce']];for(let _0x282a77=-0xff4+-0x96a+0x195e,_0x536d4f=this['_layers']['length'];_0x282a77<_0x536d4f;_0x282a77++){const _0x21d402=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x282a77]);_0x21d402&&_0x21d402['removeMesh'+'Instances'](_0x2cc0a8);}this['_addedMode'+'l']=!(-0x41b+-0x4c0+0x8dc);}['_showFrame'](_0x522a2a){if(!this['sprite'])return;const _0x19a91f=this['sprite']['meshes'][_0x522a2a];if(!_0x19a91f){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x1605+0x1cf4+-0x32f8));return;}let _0x484b84;if(this['sprite']['renderMode']===nt?_0x484b84=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x484b84=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x484b84=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x19a91f,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x5*0x199+-0x4*-0x2cf+-0x33e),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x122*-0x14+-0x101f+-0x88*-0x49),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x185*0x1+0x20f7+-0x1f72]=this['_color']['r'],this['_colorUnif'+'orm'][0x7*0x43+-0x5*-0x25+-0x28d]=this['_color']['g'],this['_colorUnif'+'orm'][-0x35f+-0x27*0xa9+-0x20*-0xe9]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x484b84&&(this['_meshInsta'+'nce']['material']=_0x484b84),this['_meshInsta'+'nce']['mesh']!==_0x19a91f&&(this['_meshInsta'+'nce']['mesh']=_0x19a91f,this['_meshInsta'+'nce']['visible']=!(0x8*0x26+-0x466*-0x6+-0x1b94),this['_meshInsta'+'nce']['_aabbVer']=-(-0x6cf+-0x1645*0x1+0x1d15)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x19ad00=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x522a2a]];if(_0x19ad00){const _0x5e6438=(0x1*-0x2227+0x2541+-0x2*0x18c)/_0x19ad00['rect']['z'],_0x4af1b4=(0x12ff+0x1*-0x236b+0x106e)/_0x19ad00['rect']['w'];this['_innerOffs'+'et']['set'](_0x19ad00['border']['x']*_0x5e6438,_0x19ad00['border']['y']*_0x4af1b4,_0x19ad00['border']['z']*_0x5e6438,_0x19ad00['border']['w']*_0x4af1b4);const _0x5ace4e=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x19ad00['rect']['x']/_0x5ace4e['width'],_0x19ad00['rect']['y']/_0x5ace4e['height'],_0x19ad00['rect']['z']/_0x5ace4e['width'],_0x19ad00['rect']['w']/_0x5ace4e['height']);}else this['_innerOffs'+'et']['set'](0x16a3+0x1*-0x1a6c+-0x13*-0x33,-0x1*-0x1e52+0xc07*-0x3+0x5c3,0x15*-0xad+-0x2656+-0x7*-0x781,-0xce+0x26e9+-0x1*0x261b);this['_innerOffs'+'etUniform'][-0x64c+-0xa22*0x2+0x1a90]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1d72+0x1373+0xa00]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0xed*0x1+0xb1e*0x1+-0x3*0x365]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0xae5+-0x9c9+-0x119]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x2b*-0x83+0x18ab+0x3e*-0xb]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x24af+-0x1f33+-0x9*-0x78b]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1*-0x239+0x143*-0x8+0x277*0x5]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x2ab*-0x9+-0xf35+0x8cb*-0x1]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x1e50d6=this['flipX']?-(-0x21b0+-0x2513+0x11b1*0x4):0x1639+-0x3a4+0x4*-0x4a5,_0x51a535=this['flipY']?-(-0xd*0x4f+0x1*0x1673+-0x126f):0x9a*-0x35+0x54d+0x1a96,_0x425d86=0xa37+-0xac1+-0x6*-0x17,_0x264e03=0x1*0x1524+-0x5fb+-0x1*0xf29;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0xe3015a=-0x182*0x1+-0x2065+0x21e8,_0x1c19d0=0x11*0x1+-0x5e*0x1+0x4e;if(this['sprite']['atlas']){const _0x22b528=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x22b528&&(_0xe3015a=_0x22b528['rect']['z'],_0x1c19d0=_0x22b528['rect']['w'],_0x425d86=(0x1d5c+-0x46d*0x8+0x60c+0.5-_0x22b528['pivot']['x'])*this['_width'],_0x264e03=(-0x28a+0x149a+0x10*-0x121+0.5-_0x22b528['pivot']['y'])*this['_height']);}const _0xfda018=_0xe3015a/this['sprite']['pixelsPerU'+'nit'],_0x57b508=_0x1c19d0/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0xfda018),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x57b508)),_0x1e50d6*=_0xfda018,_0x51a535*=_0x57b508,this['_outerScal'+'e']['x']/=_0xfda018,this['_outerScal'+'e']['y']/=_0x57b508,_0x1e50d6*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0xfda018),0x49*-0x2+-0x10a*0xf+0x1028+0.0001,-0x111b+-0x6*0x199+0x1ab2),_0x51a535*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x57b508),0x1*0x2627+0x2*-0x167+0x2359*-0x1+0.0001,-0x1822+0x1*-0x853+0x2076),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0xff3+-0x1169*-0x1+-0x176]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1186+0x1*0x239+0xf4e]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x1e50d6,_0x51a535,-0x3*-0x5a3+-0x11cb*-0x2+0x347e*-0x1),this['_node']['setLocalPo'+'sition'](_0x425d86,_0x264e03,-0x355*-0x5+0x2162+0x22d*-0x17);}['_updateAab'+'b'](_0x52bb8f){return _0x52bb8f['center']['set'](-0x2212*0x1+0xbe4*0x2+0xa4a,-0xb93+0xa1f+0x174,0x2291+-0x6dc+-0xad*0x29),_0x52bb8f['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0xbbe+0x235d+0x1f*-0x185+0.5),this['_outerScal'+'e']['y']*(-0xc53+0xa63+0x2*0xf8+0.5),0xfb0*0x2+0x47*-0x79+0x1*0x22f+0.001),_0x52bb8f['setFromTra'+'nsformedAa'+'bb'](_0x52bb8f,this['_node']['getWorldTr'+'ansform']()),_0x52bb8f;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x48da9c=this['_clips'][this['_autoPlayC'+'lip']];_0x48da9c&&!_0x48da9c['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x48da9c['name']);}['_onLayersC'+'hanged'](_0x5a7b49,_0x471465){_0x5a7b49['off']('add',this['onLayerAdd'+'ed'],this),_0x5a7b49['off']('remove',this['onLayerRem'+'oved'],this),_0x471465['on']('add',this['onLayerAdd'+'ed'],this),_0x471465['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x25e429){this['layers']['indexOf'](_0x25e429['id'])<-0x23f7+-0xa*-0x233+-0x7*-0x1ff||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x25e429['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x270cdb){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x270cdb['id'])<-0x11*0x1d3+0xf5d+0x1*0xfa6||_0x270cdb['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x3f8bec=0x245f+0x1b41+-0x3fa0;_0x3f8bec<this['layers']['length'];_0x3f8bec++){const _0x7013a0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3f8bec]);_0x7013a0&&_0x7013a0['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x4fea53){const _0xff2dc0=new bi(this,{'name':_0x4fea53['name'],'fps':_0x4fea53['fps'],'loop':_0x4fea53['loop'],'spriteAsset':_0x4fea53['spriteAsse'+'t']});return this['_clips'][_0x4fea53['name']]=_0xff2dc0,_0xff2dc0['name']&&_0xff2dc0['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0xff2dc0;}['removeClip'](_0x31cf4b){delete this['_clips'][_0x31cf4b];}['clip'](_0x286cd3){return this['_clips'][_0x286cd3];}['play'](_0x496210){const _0xc17395=this['_clips'][_0x496210],_0x58f9e6=this['_currentCl'+'ip'];return _0x58f9e6&&_0x58f9e6!==_0xc17395&&(_0x58f9e6['_playing']=!(0x746+-0x1b31+0x13ec)),this['_currentCl'+'ip']=_0xc17395,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0xc17395,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x496210+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0xc17395;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(-0x60e+-0xf2b+0x1539);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x240557){super(_0x240557),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x39219c){this['_defaultMa'+'terial']=_0x39219c;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x17c202=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x2ffa82=new Uint8Array(_0x17c202['lock']());_0x2ffa82[-0x114*-0x3+0x1149+-0x33*0x67]=_0x2ffa82[0x15e*-0x8+0x5cd+0x524]=_0x2ffa82[-0xa12*-0x1+-0xe*0x147+-0x9a*-0xd]=_0x2ffa82[0xad+-0x1*-0x326+0x1*-0x3d0]=0x21*-0xc1+-0x493*0x8+0x3e78,_0x17c202['unlock']();const _0x563e59=new cs();_0x563e59['diffuse']['set'](0x5ef+0x3b*-0xa3+-0x2*-0xfd1,-0x1582*-0x1+0x1*-0x67+-0x3*0x709,-0x1bb7*-0x1+-0xa66+-0x1151),_0x563e59['emissive']['set'](0x6ab+-0x1b5+-0x4f5,-0x1351+0x4c1+0xe91,-0x38*0x12+-0x14a9+0x189a),_0x563e59['emissiveMa'+'p']=_0x17c202,_0x563e59['opacityMap']=_0x17c202,_0x563e59['opacityMap'+'Channel']='a',_0x563e59['useLightin'+'g']=!(0x37c+-0x27*0x35+0x498),_0x563e59['useTonemap']=!(-0x7f*-0x5+0x4*0x34d+0x53a*-0x3),_0x563e59['useFog']=!(-0x1f05*0x1+-0x1187+0x3*0x102f),_0x563e59['useSkybox']=!(-0x256a+-0xb*-0xd+0x24dc*0x1),_0x563e59['blendType']=hr,_0x563e59['depthWrite']=!(-0x11ed*-0x1+-0xeab+-0x341),_0x563e59['pixelSnap']=!(0x1acb+0x1fe*-0x2+0xb67*-0x2),_0x563e59['cull']=mt,_0x563e59['update'](),this['_defaultTe'+'xture']=_0x17c202,this['_defaultMa'+'terial']=_0x563e59;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x206a61){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x206a61;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x2532c2=this['defaultMat'+'erial']['clone']();_0x2532c2['nineSliced'+'Mode']=nt,_0x2532c2['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x2532c2;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x2301c2){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x2301c2;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x5e6e6f=this['defaultMat'+'erial']['clone']();_0x5e6e6f['nineSliced'+'Mode']=Qe,_0x5e6e6f['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x5e6e6f;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x35163e,_0xfd5a96,_0x3918da){if(_0xfd5a96['enabled']!==void(0x1*-0x329+-0xa8b+0x2*0x6da)&&(_0x35163e['enabled']=_0xfd5a96['enabled']),_0x35163e['type']=_0xfd5a96['type'],_0xfd5a96['layers']&&Array['isArray'](_0xfd5a96['layers'])&&(_0x35163e['layers']=_0xfd5a96['layers']['slice'](0x3d7*-0x4+-0x105b*0x2+0x3012)),_0xfd5a96['drawOrder']!==void(-0x196c+-0x54e+0x1eba)&&(_0x35163e['drawOrder']=_0xfd5a96['drawOrder']),_0xfd5a96['color']!==void(-0x4d+-0x9*-0x1d6+-0x1039)&&(_0xfd5a96['color']instanceof Y?_0x35163e['color']['set'](_0xfd5a96['color']['r'],_0xfd5a96['color']['g'],_0xfd5a96['color']['b'],_0xfd5a96['opacity']??0x22a8*-0x1+0xd92+-0x1*-0x1517):_0x35163e['color']['set'](_0xfd5a96['color'][-0x49*-0x2e+-0x616+-0x708],_0xfd5a96['color'][0x1418+-0x2d4*0x8+-0x1*-0x289],_0xfd5a96['color'][-0x182c+-0xc*0x24d+0x7*0x766],_0xfd5a96['opacity']??-0xbe2+0x29*0x4b+-0x4*0x8),_0x35163e['color']=_0x35163e['color']),_0xfd5a96['opacity']!==void(0x2e*0x1d+0x1282+-0x2c*0x8a)&&(_0x35163e['opacity']=_0xfd5a96['opacity']),_0xfd5a96['flipX']!==void(-0x2f5*-0x1+0x1e7d+-0x2172)&&(_0x35163e['flipX']=_0xfd5a96['flipX']),_0xfd5a96['flipY']!==void(-0x1*0x1f51+-0x5c9+-0xc5e*-0x3)&&(_0x35163e['flipY']=_0xfd5a96['flipY']),_0xfd5a96['width']!==void(-0x1965+-0x173*-0x2+-0x1bb*-0xd)&&(_0x35163e['width']=_0xfd5a96['width']),_0xfd5a96['height']!==void(0x742+-0x42e*-0x5+0x35*-0x88)&&(_0x35163e['height']=_0xfd5a96['height']),_0xfd5a96['spriteAsse'+'t']!==void(0x1fd0+0x1b3c+-0x3b0c)&&(_0x35163e['spriteAsse'+'t']=_0xfd5a96['spriteAsse'+'t']),_0xfd5a96['sprite']&&(_0x35163e['sprite']=_0xfd5a96['sprite']),_0xfd5a96['frame']!==void(-0x1974+-0x16cf+0x3043)&&(_0x35163e['frame']=_0xfd5a96['frame']),_0xfd5a96['clips']){for(const _0x37aec1 in _0xfd5a96['clips'])_0x35163e['addClip'](_0xfd5a96['clips'][_0x37aec1]);}_0xfd5a96['speed']!==void(0xbb8+0x1b*0xff+-0x269d)&&(_0x35163e['speed']=_0xfd5a96['speed']),_0xfd5a96['autoPlayCl'+'ip']&&(_0x35163e['autoPlayCl'+'ip']=_0xfd5a96['autoPlayCl'+'ip']),_0x35163e['batchGroup'+'Id']=_0xfd5a96['batchGroup'+'Id']===void(-0x1*-0x1b85+-0x912+0x1*-0x1273)||_0xfd5a96['batchGroup'+'Id']===null?-(-0x2b*-0x31+0x8bf*-0x1+-0x85*-0x1):_0xfd5a96['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x35163e,_0xfd5a96,_0x3918da);}['cloneCompo'+'nent'](_0x546459,_0x263ed0){const _0x3f5b79=_0x546459['sprite'];return this['addCompone'+'nt'](_0x263ed0,{'enabled':_0x3f5b79['enabled'],'type':_0x3f5b79['type'],'spriteAsset':_0x3f5b79['spriteAsse'+'t'],'sprite':_0x3f5b79['sprite'],'width':_0x3f5b79['width'],'height':_0x3f5b79['height'],'frame':_0x3f5b79['frame'],'color':_0x3f5b79['color']['clone'](),'opacity':_0x3f5b79['opacity'],'flipX':_0x3f5b79['flipX'],'flipY':_0x3f5b79['flipY'],'speed':_0x3f5b79['speed'],'clips':_0x3f5b79['clips'],'autoPlayClip':_0x3f5b79['autoPlayCl'+'ip'],'batchGroupId':_0x3f5b79['batchGroup'+'Id'],'drawOrder':_0x3f5b79['drawOrder'],'layers':_0x3f5b79['layers']['slice'](-0x1e9b+0x875+0x237*0xa)});}['onUpdate'](_0x44f1c1){const _0x1f05a9=this['store'];for(const _0x124503 in _0x1f05a9)if(_0x1f05a9['hasOwnProp'+'erty'](_0x124503)){const _0x54c174=_0x1f05a9[_0x124503];if(_0x54c174['data']['enabled']&&_0x54c174['entity']['enabled']){const _0x321875=_0x54c174['entity']['sprite'];_0x321875['_currentCl'+'ip']&&_0x321875['_currentCl'+'ip']['_update'](_0x44f1c1);}}}['onBeforeRe'+'move'](_0x1f595c,_0x1b8e01){_0x1b8e01['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x361c58,_0x249caa){super(_0x361c58,_0x249caa),this['_oldState']=!(0x4*-0x86+0x689+-0x471),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x1d380a){_0x1d380a instanceof T?this['_size']['copy'](_0x1d380a):_0x1d380a instanceof Array&&_0x1d380a['length']>=0x19b2+-0x2320+0x971&&this['size']['set'](_0x1d380a[0xa9a+0x3bc+-0xe56],_0x1d380a[0x757+0x626+0x1*-0xd7c],_0x1d380a[-0x2*0xb78+-0x2198+0x388a]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x3ce182,_0x740302,_0x45d4bb){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x199708=this['enabled']&&this['entity']['enabled'];_0x199708!==this['_oldState']&&(this['_oldState']=_0x199708,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(-0x1*0x125e+-0xc10+0x1e6e);}}const vx=['enabled'];class $I extends Xe{constructor(_0x277db7){super(_0x277db7),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x36335a,_0x79d02e,_0x3fb337){_0x36335a['enabled']=_0x79d02e['hasOwnProp'+'erty']('enabled')?!!_0x79d02e['enabled']:!(0x153d*-0x1+-0x22f7*-0x1+-0xdba),_0x79d02e['size']&&(_0x79d02e['size']instanceof T?_0x36335a['size']['copy'](_0x79d02e['size']):_0x79d02e['size']instanceof Array&&_0x79d02e['size']['length']>=-0x1b2d+0x119a+0x996&&_0x36335a['size']['set'](_0x79d02e['size'][0x8ec+0x2195*0x1+-0x2a81],_0x79d02e['size'][-0x215a*-0x1+0x160e+-0x443*0xd],_0x79d02e['size'][0xaad*0x1+-0x13*-0x1c1+-0xeaa*0x3]));}['cloneCompo'+'nent'](_0x334b18,_0xd830a6){const _0x3e6bf8={'enabled':_0x334b18['zone']['enabled'],'size':_0x334b18['zone']['size']};return this['addCompone'+'nt'](_0xd830a6,_0x3e6bf8);}['_onBeforeR'+'emove'](_0x4aa9a3,_0x840f4){_0x840f4['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class WI{constructor(_0x466ad8,_0x1c0067){this['effect']=_0x466ad8,this['inputTarge'+'t']=_0x1c0067,this['outputTarg'+'et']=null,this['name']=_0x466ad8['constructo'+'r']['name'];}}class qI{constructor(_0x37ec28,_0x341be9){this['app']=_0x37ec28,this['camera']=_0x341be9,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x198c+-0x1a47+0x2*0x19ea),this['depthTarge'+'t']=null,_0x341be9['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x583d49,_0x4ed410){const _0x12ca9c=this['camera']['rect'],_0x9892ca=this['destinatio'+'nRenderTar'+'get'],_0x4f6dab=this['app']['graphicsDe'+'vice'],_0x4613c4=Math['floor'](_0x12ca9c['z']*((_0x9892ca==null?void(0xd*0x1ab+-0x2465+0xeb6):_0x9892ca['width'])??_0x4f6dab['width'])),_0x58d833=Math['floor'](_0x12ca9c['w']*((_0x9892ca==null?void(-0x6d9*-0x2+0x63e+-0x13f0):_0x9892ca['height'])??_0x4f6dab['height']));return new he(_0x4f6dab,{'name':_0x4ed410,'format':_0x583d49,'width':_0x4613c4,'height':_0x58d833,'mipmaps':!(0x161*0x17+-0xd6*0x2c+0x76*0xb),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x3b0454,_0x5322cf){const _0x455e03=this['app']['graphicsDe'+'vice'],_0x42d1a5=(this['destinatio'+'nRenderTar'+'get']??_0x455e03['backBuffer'])['isColorBuf'+'ferSrgb'](-0x4a*-0x5+-0x1310*-0x1+0x23*-0x96),_0x40f990=(_0x5322cf&&_0x455e03['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(-0x1c9e+0x18d+-0xd*-0x215)))??(_0x42d1a5?rs:Se),_0xceb0d9=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x245b40=this['_allocateC'+'olorBuffer'](_0x40f990,_0xceb0d9);return new pt({'colorBuffer':_0x245b40,'depth':_0x3b0454,'stencil':_0x3b0454&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x3b0454?_0x455e03['samples']:0x97*-0x25+-0x1*0x403+0x23*0xbd});}['_resizeOff'+'screenTarg'+'et'](_0x33830c){const _0x547450=_0x33830c['colorBuffe'+'r']['format'],_0xed4305=_0x33830c['colorBuffe'+'r']['name'];_0x33830c['destroyFra'+'meBuffers'](),_0x33830c['destroyTex'+'tureBuffer'+'s'](),_0x33830c['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x547450,_0xed4305),_0x33830c['_colorBuff'+'ers']=[_0x33830c['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x2ef409){_0x2ef409['destroyTex'+'tureBuffer'+'s'](),_0x2ef409['destroy']();}['addEffect'](_0xacd13a){const _0x483a61=this['effects'],_0x3ddd83=_0x483a61['length']===-0x16c3*0x1+0x2ba+0x1409,_0x232a12=this['_createOff'+'screenTarg'+'et'](_0x3ddd83,_0xacd13a['hdr']),_0x19bb2f=new WI(_0xacd13a,_0x232a12);_0x483a61['push'](_0x19bb2f),this['_sourceTar'+'get']=_0x19bb2f['inputTarge'+'t'],_0x483a61['length']>-0x217c*0x1+-0x1079*-0x2+-0x1*-0x8b&&(_0x483a61[_0x483a61['length']-(-0x5d*-0x3b+0x1dc5+0x1999*-0x2)]['outputTarg'+'et']=_0x19bb2f['inputTarge'+'t']),this['_newPostEf'+'fect']=_0xacd13a,_0xacd13a['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0xe*0x62+-0x35*-0x71+-0x3*0x603);}['removeEffe'+'ct'](_0x2aa62c){let _0x1b7b36=-(0x89*-0x8+0x25ee+0x129*-0x1d);for(let _0x4973e3=-0x18e1+-0x373*0x1+0x1c54,_0x25b23e=this['effects']['length'];_0x4973e3<_0x25b23e;_0x4973e3++)if(this['effects'][_0x4973e3]['effect']===_0x2aa62c){_0x1b7b36=_0x4973e3;break;}_0x1b7b36>=0xac5+0x27*0xf3+-0x2fca&&(_0x1b7b36>0x2d*0x47+-0x1*0x21a1+-0xa93*-0x2?this['effects'][_0x1b7b36-(-0x4c+0x2621+-0x3*0xc9c)]['outputTarg'+'et']=_0x1b7b36+(0x55d*0x7+0xc90*-0x2+-0xc6a)<this['effects']['length']?this['effects'][_0x1b7b36+(-0x21fb+-0x2d+0xb63*0x3)]['inputTarge'+'t']:null:this['effects']['length']>0x21b4+0x2449*-0x1+0x296&&(this['effects'][-0x2b*-0x14+0x1*-0x62f+0x2d4*0x1]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0xbc0+0x1ea6+0x1*-0x2a65]['inputTarge'+'t']),this['effects'][-0x69*-0x1b+0x196c+-0x3*0xc2a]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x11a5+-0xe1+0x1286),this['effects'][-0x8d6+0x1e4+-0x251*-0x3]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x2*-0xaf7+0x1b82+-0x316f]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x57*-0x3a+0xff7*-0x1+-0x3be*0x1]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x1b7b36]['inputTarge'+'t']),this['effects']['splice'](_0x1b7b36,0xe9*-0x26+-0xb91+-0x698*-0x7)),this['enabled']&&_0x2aa62c['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x2254+0x442*-0x3+-0x158e*0x1&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x3d9382=-0x10c6+0x1*0x7f7+0x8cf,_0x4a91b2=this['effects']['length'];_0x3d9382<_0x4a91b2;_0x3d9382++){const _0x50fcff=this['effects'][_0x3d9382]['effect'];this['_newPostEf'+'fect']!==_0x50fcff&&_0x50fcff['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x46864b=-0x17fc+0x1369*-0x2+0x3ece,_0x418f45=this['effects']['length'];_0x46864b<_0x418f45;_0x46864b++)this['effects'][_0x46864b]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x13f251=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x13f251&&(_0x13f251['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x995+-0x25f5+0x1c60)));}['_releaseDe'+'pthMap'](){const _0x321744=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x321744&&(_0x321744['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x3*-0x446+0x1db1+-0x10de)));}['destroy'](){for(let _0x5bcba9=-0x14cd+-0x2*-0xbdd+0x7*-0x6b,_0x127298=this['effects']['length'];_0x5bcba9<_0x127298;_0x5bcba9++)this['effects'][_0x5bcba9]['inputTarge'+'t']['destroy']();this['effects']['length']=-0xcdf+0x868+0x3*0x17d,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x1*-0x17aa+0x29*-0x1d+0x1*0x1c4f),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x1341+0x35*-0x89+-0x6a*-0x73]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x23b68e=null;const _0x5dc6bd=this['effects']['length'];if(_0x5dc6bd)for(let _0x2a5331=0xc5*0x19+-0x4d4+-0xe69;_0x2a5331<_0x5dc6bd;_0x2a5331++){const _0x3ca592=this['effects'][_0x2a5331];let _0x2af202=_0x3ca592['outputTarg'+'et'];_0x2a5331===_0x5dc6bd-(0xa*0x15+-0x58a*0x1+0x4b9)&&(_0x23b68e=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x2af202=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x3ca592['name']),_0x3ca592['effect']['render'](_0x3ca592['inputTarge'+'t'],_0x2af202,_0x23b68e),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x33d+0x407*-0x1+0x1d*0x7),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x759076,_0x4b42c5){const _0x48041f=this['camera']['rect'],_0xc70b48=this['destinatio'+'nRenderTar'+'get'];_0x759076=(_0xc70b48==null?void(-0x9bd*0x4+-0x65*0x13+0x2e73):_0xc70b48['width'])??_0x759076,_0x4b42c5=(_0xc70b48==null?void(-0x21af*-0x1+0xf03+-0x30b2):_0xc70b48['height'])??_0x4b42c5,this['camera']['camera']['aspectRati'+'o']=_0x759076*_0x48041f['z']/(_0x4b42c5*_0x48041f['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x28c704=this['app']['graphicsDe'+'vice'],_0x52fb57=this['destinatio'+'nRenderTar'+'get'],_0x2717ab=(_0x52fb57==null?void(-0x6b*-0xd+0x1da3+0x43*-0x86):_0x52fb57['width'])??_0x28c704['width'],_0x2ac242=(_0x52fb57==null?void(0x721+0x3*-0xb99+0x1baa):_0x52fb57['height'])??_0x28c704['height'],_0x8ba1dc=this['camera']['rect'],_0x576d44=Math['floor'](_0x8ba1dc['z']*_0x2717ab),_0x3fd000=Math['floor'](_0x8ba1dc['w']*_0x2ac242),_0x5be0c5=this['effects'];for(let _0xba3087=-0x1f21+0x19ca+0x557*0x1,_0x5d56ba=_0x5be0c5['length'];_0xba3087<_0x5d56ba;_0xba3087++){const _0x5dc1d0=_0x5be0c5[_0xba3087];(_0x5dc1d0['inputTarge'+'t']['width']!==_0x576d44||_0x5dc1d0['inputTarge'+'t']['height']!==_0x3fd000)&&this['_resizeOff'+'screenTarg'+'et'](_0x5dc1d0['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x496061,_0x387264,_0x1d3441){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x43b41e,_0x9c46cf){super(_0x43b41e,_0x9c46cf),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0xe65+-0x1c0e+-0xd*-0x10d),c(this,'_renderSce'+'neColorMap',0x102f*-0x1+-0x1*-0x1c09+-0x4a*0x29),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0xf34+-0x1*0x1b2b+0x2a60)),c(this,'_sceneColo'+'rMapReques'+'ted',!(-0xf6c+0x7*-0x11+0x1*0xfe4)),c(this,'_priority',0x1446+-0xa5c+-0x9ea),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x9c46cf,this['_postEffec'+'ts']=new qI(_0x43b41e['app'],this));}['setShaderP'+'ass'](_0x27aa14){const _0x1b2704=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x20627e=_0x27aa14?_0x1b2704['allocate'](_0x27aa14,{'isForward':!(0xf3f+0x5c2*-0x4+0x7c9)}):null;return this['_camera']['shaderPass'+'Info']=_0x20627e,_0x20627e['index'];}['getShaderP'+'ass'](){var _0x58f69a;return(_0x58f69a=this['_camera']['shaderPass'+'Info'])==null?void(0x25*0xbb+0x1499+0x2fa*-0x10):_0x58f69a['name'];}set['renderPass'+'es'](_0x248f7e){this['_camera']['renderPass'+'es']=_0x248f7e||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x1*0x1c67+0x1*-0xa1+0x1d08);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x5e0799){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x5e0799;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x4bb2e7){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x4bb2e7;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x23e1d7){this['_camera']['fogParams']=_0x23e1d7;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x4bb028){this['_camera']['aperture']=_0x4bb028;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x38ab6a){this['_camera']['aspectRati'+'o']=_0x38ab6a;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x4441c4){this['_camera']['aspectRati'+'oMode']=_0x4441c4;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x318d84){this['_camera']['calculateP'+'rojection']=_0x318d84;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x29143a){this['_camera']['calculateT'+'ransform']=_0x29143a;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x32c4ce){this['_camera']['clearColor']=_0x32c4ce;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x25f6ca){this['_camera']['clearColor'+'Buffer']=_0x25f6ca,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x3e0bb3){this['_camera']['clearDepth'+'Buffer']=_0x3e0bb3,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x167289){this['_camera']['clearStenc'+'ilBuffer']=_0x167289,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x372ba8){this['_camera']['cullFaces']=_0x372ba8;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x1fcd43){this['_disablePo'+'stEffectsL'+'ayer']=_0x1fcd43,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x1e96d0){this['_camera']['farClip']=_0x1e96d0;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x261b9e){this['_camera']['flipFaces']=_0x261b9e;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x3e4053){this['_camera']['fov']=_0x3e4053;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x52ffc9){this['_camera']['frustumCul'+'ling']=_0x52ffc9;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x17515b){this['_camera']['horizontal'+'Fov']=_0x17515b;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x10fd3b){const _0x53293f=this['_camera']['layers'],_0x3a699d=this['system']['app']['scene'];_0x53293f['forEach'](_0x152a4b=>{const _0x3d9771=_0x3a699d['layers']['getLayerBy'+'Id'](_0x152a4b);_0x3d9771==null||_0x3d9771['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x10fd3b,this['enabled']&&this['entity']['enabled']&&_0x10fd3b['forEach'](_0x10d7c5=>{const _0x5a1050=_0x3a699d['layers']['getLayerBy'+'Id'](_0x10d7c5);_0x5a1050==null||_0x5a1050['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x591999){this['_camera']['jitter']=_0x591999;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x2539e0){this['_camera']['nearClip']=_0x2539e0;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x5be7b6){this['_camera']['orthoHeigh'+'t']=_0x5be7b6;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x121e1d){this['_priority']=_0x121e1d,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x53433d){this['_camera']['projection']=_0x53433d;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x4ac37a){this['_camera']['rect']=_0x4ac37a,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x2797d8){_0x2797d8&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x41b*-0x3+-0x10f9*0x2+0x2e43)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1*0x3b9+0x8bf+0x283*-0x2)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x167*0x2+-0x1f3*-0x1+-0x1*0x4c0)),this['_sceneColo'+'rMapReques'+'ted']=!(0x262f+0x1db2+-0x43e0));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x1500+0x2419+-0x3919;}set['renderScen'+'eDepthMap'](_0x37ba08){_0x37ba08&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x1c97+-0x798+-0x19*0xd7)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x71*0x35+-0x887+0x1fec)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x4a8*-0x6+-0x16*0x55+0x233f)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x5*-0x151+-0x1c84+-0x1*-0x15f0));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1357+0x1ba8+-0x2eff;}set['renderTarg'+'et'](_0x4807c1){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x1*0x18e8+-0x9c7+0x22af&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x4807c1,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x39406f){this['_camera']['scissorRec'+'t']=_0x39406f;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x34d730){this['_camera']['sensitivit'+'y']=_0x34d730;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x56055d){this['_camera']['shutter']=_0x56055d;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x5f17fa){if(this['layers']['find'](_0x7e17e9=>_0x7e17e9===Xt)){const _0x3dd574=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x5f17fa?_0x3dd574==null||_0x3dd574['incrementC'+'ounter']():_0x3dd574==null||_0x3dd574['decrementC'+'ounter']();}else{if(_0x5f17fa)return!(-0x539*-0x4+0x1ee*-0x8+-0x573);}return!(-0x13a2+0x2*-0x254+0xc25*0x2);}['requestSce'+'neColorMap'](_0xf1420f){this['_renderSce'+'neColorMap']+=_0xf1420f?-0x18af+0x14f4+-0xef*-0x4:-(-0x1*0x2191+0xacd*0x1+-0x1*-0x16c5),v['assert'](this['_renderSce'+'neColorMap']>=0x11b6+-0x6c0*0x4+0x94a),this['_enableDep'+'thLayer'](_0xf1420f)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x40e20d){this['_renderSce'+'neDepthMap']+=_0x40e20d?0x7*-0x194+-0x25e7+0x30f4:-(0xe16*-0x1+0x27*-0x55+0x1b0a),v['assert'](this['_renderSce'+'neDepthMap']>=0xd*-0x18b+0x26e9+-0x2*0x96d),this['_enableDep'+'thLayer'](_0x40e20d)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x19e0b4=this['system']['app']['scene']['layers'];_0x19e0b4['_dirty']=!(-0x1*0x1977+-0x33+0x19aa);}['screenToWo'+'rld'](_0x133552,_0x20b374,_0x515aea,_0x33a952){const _0x3dcc9d=this['system']['app']['graphicsDe'+'vice'],{width:_0x15b9a7,height:_0x3d0245}=_0x3dcc9d['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x133552,_0x20b374,_0x515aea,_0x15b9a7,_0x3d0245,_0x33a952);}['worldToScr'+'een'](_0x333c23,_0x3af832){const _0x4a5564=this['system']['app']['graphicsDe'+'vice'],{width:_0x3a4621,height:_0x36bcc1}=_0x4a5564['clientRect'];return this['_camera']['worldToScr'+'een'](_0x333c23,_0x3a4621,_0x36bcc1,_0x3af832);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0xafc*0x1+-0x1a9b*0x1+0x2597),this['_camera']['_viewProjM'+'atDirty']=!(-0x2*-0x3a3+0x1*-0x673+0x1*-0xd3);}['addCameraT'+'oLayers'](){const _0x11321d=this['layers'];for(let _0x485688=0xa95+-0xbe+0x1*-0x9d7;_0x485688<_0x11321d['length'];_0x485688++){const _0x28e800=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x11321d[_0x485688]);_0x28e800&&_0x28e800['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x198755=this['layers'];for(let _0x32c989=-0x1*-0x237+-0x3af*-0x7+0x40*-0x70;_0x32c989<_0x198755['length'];_0x32c989++){const _0xd7fba1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x198755[_0x32c989]);_0xd7fba1&&_0xd7fba1['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0xdad060,_0x1ad4c5){this['addCameraT'+'oLayers'](),_0xdad060['off']('add',this['onLayerAdd'+'ed'],this),_0xdad060['off']('remove',this['onLayerRem'+'oved'],this),_0x1ad4c5['on']('add',this['onLayerAdd'+'ed'],this),_0x1ad4c5['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x362040){this['layers']['indexOf'](_0x362040['id'])<0x14b*-0x1+0x16*0x170+-0x1*0x1e55||_0x362040['addCamera'](this);}['onLayerRem'+'oved'](_0x3db859){this['layers']['indexOf'](_0x3db859['id'])<0x1e2d+-0x18e1*-0x1+-0x370e||_0x3db859['removeCame'+'ra'](this);}['onEnable'](){var _0x2a7a85,_0x2f87be,_0x446bcd;const _0x1c19f5=this['system']['app']['scene'],_0x3f5fbf=_0x1c19f5['layers'];this['system']['addCamera'](this),(_0x2a7a85=this['_evtLayers'+'Changed'])==null||_0x2a7a85['off'](),this['_evtLayers'+'Changed']=_0x1c19f5['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3f5fbf&&((_0x2f87be=this['_evtLayerA'+'dded'])==null||_0x2f87be['off'](),this['_evtLayerA'+'dded']=_0x3f5fbf['on']('add',this['onLayerAdd'+'ed'],this),(_0x446bcd=this['_evtLayerR'+'emoved'])==null||_0x446bcd['off'](),this['_evtLayerR'+'emoved']=_0x3f5fbf['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x3d0d9d,_0x429141,_0x541c56;const _0x48ca3c=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x3d0d9d=this['_evtLayers'+'Changed'])==null||_0x3d0d9d['off'](),this['_evtLayers'+'Changed']=null,_0x48ca3c&&((_0x429141=this['_evtLayerA'+'dded'])==null||_0x429141['off'](),this['_evtLayerA'+'dded']=null,(_0x541c56=this['_evtLayerR'+'emoved'])==null||_0x541c56['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0xe0e919){const _0x5237e4=this['system']['app']['graphicsDe'+'vice'],_0x3f2038=_0xe0e919?_0xe0e919['width']:_0x5237e4['width'],_0x50f959=_0xe0e919?_0xe0e919['height']:_0x5237e4['height'];return _0x3f2038*this['rect']['z']/(_0x50f959*this['rect']['w']);}['frameUpdat'+'e'](_0x2d398c){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x2d398c));}['startXr'](_0x3bfcd1,_0xa78d46,_0x11b6a4){this['system']['app']['xr']['start'](this,_0x3bfcd1,_0xa78d46,_0x11b6a4);}['endXr'](_0x4d6028){if(!this['_camera']['xr']){_0x4d6028&&_0x4d6028(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x4d6028);}['copy'](_0x4ebd50){this['aperture']=_0x4ebd50['aperture'],this['aspectRati'+'o']=_0x4ebd50['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x4ebd50['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x4ebd50['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x4ebd50['calculateT'+'ransform'],this['clearColor']=_0x4ebd50['clearColor'],this['clearColor'+'Buffer']=_0x4ebd50['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x4ebd50['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x4ebd50['clearStenc'+'ilBuffer'],this['cullFaces']=_0x4ebd50['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x4ebd50['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x4ebd50['farClip'],this['flipFaces']=_0x4ebd50['flipFaces'],this['fov']=_0x4ebd50['fov'],this['frustumCul'+'ling']=_0x4ebd50['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x4ebd50['horizontal'+'Fov'],this['layers']=_0x4ebd50['layers'],this['nearClip']=_0x4ebd50['nearClip'],this['orthoHeigh'+'t']=_0x4ebd50['orthoHeigh'+'t'],this['priority']=_0x4ebd50['priority'],this['projection']=_0x4ebd50['projection'],this['rect']=_0x4ebd50['rect'],this['renderTarg'+'et']=_0x4ebd50['renderTarg'+'et'],this['scissorRec'+'t']=_0x4ebd50['scissorRec'+'t'],this['sensitivit'+'y']=_0x4ebd50['sensitivit'+'y'],this['shutter']=_0x4ebd50['shutter'];}}class XI{constructor(){this['enabled']=!(0x1*-0x1795+0x1a1*0x3+-0x1*-0x12b2);}}const wx=['enabled'];class jI extends Xe{constructor(_0x5c1091){super(_0x5c1091),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x5eb9bc,_0x51aff1,_0x5f2b44){_0x5f2b44=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x5f2cf5=0x8*-0x398+-0x15d4*-0x1+0x6ec;_0x5f2cf5<_0x5f2b44['length'];_0x5f2cf5++){const _0x122985=_0x5f2b44[_0x5f2cf5];if(_0x51aff1['hasOwnProp'+'erty'](_0x122985)){const _0x1f868f=_0x51aff1[_0x122985];switch(_0x122985){case'rect':case'scissorRec'+'t':Array['isArray'](_0x1f868f)?_0x5eb9bc[_0x122985]=new Q(_0x1f868f[-0xe65+-0x24*0x35+0x15d9],_0x1f868f[0xe59+0x103e+-0x1e96],_0x1f868f[-0x1*0x100a+-0x19af+0x29bb*0x1],_0x1f868f[-0x4b5+0x301*0x3+-0x44b]):_0x5eb9bc[_0x122985]=_0x1f868f;break;case'clearColor':Array['isArray'](_0x1f868f)?_0x5eb9bc[_0x122985]=new Y(_0x1f868f[0x549+0x1e49*0x1+-0x2392],_0x1f868f[-0x1*0x2050+0x1945*0x1+0x386*0x2],_0x1f868f[-0x2627*0x1+-0x10d2+0x36fb],_0x1f868f[-0x2287+-0x164b+0x1*0x38d5]):_0x5eb9bc[_0x122985]=_0x1f868f;break;default:_0x5eb9bc[_0x122985]=_0x1f868f;break;}}}super['initialize'+'ComponentD'+'ata'](_0x5eb9bc,_0x51aff1,['enabled']);}['cloneCompo'+'nent'](_0x43c94b,_0x336f66){const _0x68d854=_0x43c94b['camera'];return this['addCompone'+'nt'](_0x336f66,{'aspectRatio':_0x68d854['aspectRati'+'o'],'aspectRatioMode':_0x68d854['aspectRati'+'oMode'],'calculateProjection':_0x68d854['calculateP'+'rojection'],'calculateTransform':_0x68d854['calculateT'+'ransform'],'clearColor':_0x68d854['clearColor'],'clearColorBuffer':_0x68d854['clearColor'+'Buffer'],'clearDepthBuffer':_0x68d854['clearDepth'+'Buffer'],'clearStencilBuffer':_0x68d854['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x68d854['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x68d854['renderScen'+'eColorMap'],'cullFaces':_0x68d854['cullFaces'],'enabled':_0x68d854['enabled'],'farClip':_0x68d854['farClip'],'flipFaces':_0x68d854['flipFaces'],'fov':_0x68d854['fov'],'frustumCulling':_0x68d854['frustumCul'+'ling'],'horizontalFov':_0x68d854['horizontal'+'Fov'],'layers':_0x68d854['layers'],'renderTarget':_0x68d854['renderTarg'+'et'],'nearClip':_0x68d854['nearClip'],'orthoHeight':_0x68d854['orthoHeigh'+'t'],'projection':_0x68d854['projection'],'priority':_0x68d854['priority'],'rect':_0x68d854['rect'],'scissorRect':_0x68d854['scissorRec'+'t'],'aperture':_0x68d854['aperture'],'sensitivity':_0x68d854['sensitivit'+'y'],'shutter':_0x68d854['shutter'],'gammaCorrection':_0x68d854['gammaCorre'+'ction'],'toneMapping':_0x68d854['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x4e539d,_0x333cc7){this['removeCame'+'ra'](_0x333cc7),_0x333cc7['onRemove']();}['onAppPrere'+'nder'](){for(let _0x17dbba=0x1*0x18e8+-0x3a*-0x8e+-0x3914,_0x6423d9=this['cameras']['length'];_0x17dbba<_0x6423d9;_0x17dbba++)this['cameras'][_0x17dbba]['onAppPrere'+'nder']();}['addCamera'](_0x42c211){this['cameras']['push'](_0x42c211),No(this['cameras']);}['removeCame'+'ra'](_0xd3a532){const _0x482347=this['cameras']['indexOf'](_0xd3a532);_0x482347>=-0x117b+-0x225a+0x3*0x1147&&(this['cameras']['splice'](_0x482347,0x1*0x6fa+0x1*-0x199c+-0x1*-0x12a3),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0x1fa7+0x47c+0x1d*-0x13f)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0x50b*-0x3+0x33*-0x51+-0x641*-0x5,0x10*-0x14c+-0x8d5+0x1d96,0x9e*0x9+-0x1b56*0x1+0x15c9)),c(this,'intensity',-0x703+0x2475+-0x1d71),c(this,'luminance',0x1*0x486+0xb71*-0x2+-0x5e*-0x32),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(0x5*-0x434+-0x110e+0x1bb*0x16)),c(this,'castShadow'+'s',!(0x2095+-0x13ab+-0x1*0xce9)),c(this,'shadowDist'+'ance',0x247d+-0x3bf*0x5+-0x5de*0x3),c(this,'shadowInte'+'nsity',-0x21a4+0x433*-0x9+-0x2fa*-0x18),c(this,'shadowReso'+'lution',0x1*0x110+0x1ebe+-0x1bce),c(this,'shadowBias',0x86b*-0x1+-0x1af7+0x2362+0.05),c(this,'numCascade'+'s',0x988+0xa*-0x41+-0x1*0x6fd),c(this,'cascadeBle'+'nd',0x4de*0x3+0xacb*-0x3+-0x1*-0x11c7),c(this,'bakeNumSam'+'ples',-0x232e+0x1*-0x1f19+0x4248*0x1),c(this,'bakeArea',-0x60a+0xd*0x1d3+-0xb5*0x19),c(this,'cascadeDis'+'tribution',-0x954+0x4b0+0x3*0x18c+0.5),c(this,'normalOffs'+'etBias',0x2*0xecb+-0x5*-0x76d+-0x42b7),c(this,'range',-0x3ee+0x1dfa+-0x1a02),c(this,'innerConeA'+'ngle',0x8e9*0x1+0x1*-0x2329+-0x1*-0x1a68),c(this,'outerConeA'+'ngle',0x17f9+0x1*-0xd4f+-0xa7d),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',-0x518+0xbd*-0xa+0xc85),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(-0x2*0xe8+0x1*0x230+-0x18*0x4+0.01)*(0x2*0x30e+0x62e+-0xb*0x11e+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0x1276+0x137*0x5+-0x319*-0x4),c(this,'cookieFall'+'off',!(-0x30e*0x1+0x24c5+-0x21b7)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x2199*0x1+0x165b+-0x1*0x37f4),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',0x11f9*0x1+-0x1180+0x14*-0x6),c(this,'affectDyna'+'mic',!(-0x819+-0x4c1+0x292*0x5)),c(this,'affectLigh'+'tmapped',!(0x2f*-0x25+0x5e5+0xe7)),c(this,'bake',!(0xb*0x79+0x4f0+-0xa22)),c(this,'bakeDir',!(0x72*0x47+-0x1551+-0xa4d)),c(this,'isStatic',!(0x3*-0x9bd+-0x2144+0x5d*0xac)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0x1*-0x128d+0x244e+-0x11c0),c(this,'penumbraFa'+'lloff',-0x1879*-0x1+-0x1*0xc53+-0xc25),c(this,'shadowSamp'+'les',-0x1703+-0x468*-0x1+-0x1*-0x12ab),c(this,'shadowBloc'+'kerSamples',-0x7*-0x539+-0x138f*-0x1+-0x380e);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x2325*-0x1+0x2*0x129b+0xb0*-0x3)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x352328=this['system']['store'][this['entity']['getGuid']()];return _0x352328?_0x352328['data']:null;}set['enabled'](_0x41ffa1){this['_setValue']('enabled',_0x41ffa1,function(_0xb8b113,_0x29c817){this['onSetEnabl'+'ed'](null,_0x29c817,_0xb8b113);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x2967e7){this['_setValue']('light',_0x2967e7);}get['light'](){return this['data']['light'];}set['type'](_0x1003db){this['_setValue']('type',_0x1003db,function(_0x429b8f,_0x24f23f){this['system']['changeType'](this,_0x24f23f,_0x429b8f),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x4fc463){this['_setValue']('color',_0x4fc463,function(_0x241d6f,_0x697fdd){this['light']['setColor'](_0x241d6f);},!(-0x18ea+0x13b3+0x537));}get['color'](){return this['data']['color'];}set['intensity'](_0x4dbbec){this['_setValue']('intensity',_0x4dbbec,function(_0x22b9aa,_0x186b72){this['light']['intensity']=_0x22b9aa;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x112139){this['_setValue']('luminance',_0x112139,function(_0x68672c,_0x3ac4ab){this['light']['luminance']=_0x68672c;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x149a99){this['_setValue']('shape',_0x149a99,function(_0x5f4f8c,_0x5c1420){this['light']['shape']=_0x5f4f8c;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x162dca){this['_setValue']('affectSpec'+'ularity',_0x162dca,function(_0x7d819a,_0x3883ac){this['light']['affectSpec'+'ularity']=_0x7d819a;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0xa5998e){this['_setValue']('castShadow'+'s',_0xa5998e,function(_0x32f65c,_0x559ea8){this['light']['castShadow'+'s']=_0x32f65c;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x4d4fe4){this['_setValue']('shadowDist'+'ance',_0x4d4fe4,function(_0x17394e,_0x1442dc){this['light']['shadowDist'+'ance']=_0x17394e;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x5102bd){this['_setValue']('shadowInte'+'nsity',_0x5102bd,function(_0x1e52ea,_0x5cda12){this['light']['shadowInte'+'nsity']=_0x1e52ea;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x74f665){this['_setValue']('shadowReso'+'lution',_0x74f665,function(_0x13fef9,_0x5c620f){this['light']['shadowReso'+'lution']=_0x13fef9;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x1149e1){this['_setValue']('shadowBias',_0x1149e1,function(_0x5dd660,_0xfd442){this['light']['shadowBias']=-(0x26c8+-0x606+0x7*-0x4ae+0.01)*N['clamp'](_0x5dd660,-0x230+0x1222+0x2*-0x7f9,-0xc81+0x151*-0x4+-0xd*-0x15e);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x4e543a){this['_setValue']('numCascade'+'s',_0x4e543a,function(_0x3b2e2b,_0x48dd48){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x3b2e2b),0x76a+0x1985*0x1+-0x20ee,0x1d0c+0xacc+0x9f5*-0x4);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x401cb4){this['_setValue']('cascadeBle'+'nd',_0x401cb4,function(_0x266d0a,_0x430c4f){this['light']['cascadeBle'+'nd']=N['clamp'](_0x266d0a,-0xa0c+-0x11*-0xce+-0x3a2,-0x11fb*-0x1+-0x3bf+-0xe3b*0x1);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x5c480e){this['_setValue']('bakeNumSam'+'ples',_0x5c480e,function(_0xbbb7eb,_0x2f5ad4){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0xbbb7eb),0x6f1+0x1a7e+-0x185*0x16,-0x1521+0x483*-0x3+0x23a9);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x1c084f){this['_setValue']('bakeArea',_0x1c084f,function(_0x4804cd,_0x3d0cd4){this['light']['bakeArea']=N['clamp'](_0x4804cd,-0x362*-0x2+-0xb22+0x22f*0x2,0x209b+-0x23aa+0x3c3);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x5ef32b){this['_setValue']('cascadeDis'+'tribution',_0x5ef32b,function(_0x3bd265,_0x32dcc5){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x3bd265,0xbf*0x34+0x2*-0x8cb+-0x1536,0x1e81*-0x1+0xa33*0x1+-0x1*-0x144f);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x5a3a99){this['_setValue']('normalOffs'+'etBias',_0x5a3a99,function(_0xd0456f,_0x37d592){this['light']['normalOffs'+'etBias']=N['clamp'](_0xd0456f,0x1*-0x51a+0x283*-0x2+0x510*0x2,-0x3bc+0x263c+-0x227f);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0xd225ad){this['_setValue']('range',_0xd225ad,function(_0x25f364,_0x17d1a7){this['light']['attenuatio'+'nEnd']=_0x25f364;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x309068){this['_setValue']('innerConeA'+'ngle',_0x309068,function(_0xfb721c,_0x2dfcc9){this['light']['innerConeA'+'ngle']=_0xfb721c;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x58b575){this['_setValue']('outerConeA'+'ngle',_0x58b575,function(_0x61bf7f,_0x4db961){this['light']['outerConeA'+'ngle']=_0x61bf7f;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x40aaae){this['_setValue']('falloffMod'+'e',_0x40aaae,function(_0x56859a,_0x579f97){this['light']['falloffMod'+'e']=_0x56859a;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x581804){this['_setValue']('shadowType',_0x581804,function(_0x6492e9,_0x5730c0){this['light']['shadowType']=_0x6492e9;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x20ab00){this['_setValue']('vsmBlurSiz'+'e',_0x20ab00,function(_0x4b3f18,_0x236802){this['light']['vsmBlurSiz'+'e']=_0x4b3f18;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x436a59){this['_setValue']('vsmBlurMod'+'e',_0x436a59,function(_0x32a2e7,_0x25cd14){this['light']['vsmBlurMod'+'e']=_0x32a2e7;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x5689f4){this['_setValue']('vsmBias',_0x5689f4,function(_0x2c34d9,_0x794fc3){this['light']['vsmBias']=N['clamp'](_0x2c34d9,-0x44*-0x7b+-0x1902+-0x7aa,0x1*0x1a4c+0x13d7+0x49d*-0xa);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x14286f){this['_setValue']('cookieAsse'+'t',_0x14286f,function(_0x377762,_0x2ee63a){if(!(this['_cookieAss'+'etId']&&(_0x377762 instanceof le&&_0x377762['id']===this['_cookieAss'+'etId']||_0x377762===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x377762 instanceof le)this['data']['cookieAsse'+'t']=_0x377762['id'],this['_cookieAss'+'etId']=_0x377762['id'],this['onCookieAs'+'setAdd'](_0x377762);else{if(typeof _0x377762=='number'){this['_cookieAss'+'etId']=_0x377762;const _0x2460c4=this['system']['app']['assets']['get'](_0x377762);_0x2460c4?this['onCookieAs'+'setAdd'](_0x2460c4):(this['_cookieAss'+'etAdd']=!(0x6e3*0x4+0x1f9a+-0x2*0x1d93),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x27f012){this['_setValue']('cookie',_0x27f012,function(_0x40a0a8,_0x4a0835){this['light']['cookie']=_0x40a0a8;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x1f461a){this['_setValue']('cookieInte'+'nsity',_0x1f461a,function(_0x598e6d,_0xccea19){this['light']['cookieInte'+'nsity']=N['clamp'](_0x598e6d,-0x268d+-0x2088+0x4715,-0xfb*-0x11+0xd13*0x1+-0x1dbd);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x125504){this['_setValue']('cookieFall'+'off',_0x125504,function(_0x518f80,_0x3e70f7){this['light']['cookieFall'+'off']=_0x518f80;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x56a144){this['_setValue']('cookieChan'+'nel',_0x56a144,function(_0x31d7c9,_0x4b7925){this['light']['cookieChan'+'nel']=_0x31d7c9;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x405efa){this['_setValue']('cookieAngl'+'e',_0x405efa,function(_0x46f50a,_0x4612db){if(_0x46f50a!==-0x703*0x2+-0x16*-0xf6+-0x71e||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x12009c=0x3*0xc7+-0xbaf+-0x95b*-0x1,_0x81caa=0x7c7*-0x3+-0x1*0x841+0x1*0x1f97;this['cookieScal'+'e']&&(_0x12009c=this['cookieScal'+'e']['x'],_0x81caa=this['cookieScal'+'e']['y']);const _0x32431d=Math['cos'](_0x46f50a*N['DEG_TO_RAD']),_0x12f5e5=Math['sin'](_0x46f50a*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x32431d/_0x12009c,-_0x12f5e5/_0x12009c,_0x12f5e5/_0x81caa,_0x32431d/_0x81caa),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0xe86373){this['_setValue']('cookieScal'+'e',_0xe86373,function(_0x20d70f,_0x11e16c){if(_0x20d70f!==null||this['cookieAngl'+'e']!==0x11*-0x5+-0x1*-0x18c5+-0x1870){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x4e1b21=_0x20d70f['x'],_0xd943d2=_0x20d70f['y'],_0x157d89=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x135058=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x157d89/_0x4e1b21,-_0x135058/_0x4e1b21,_0x135058/_0xd943d2,_0x157d89/_0xd943d2),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x1*-0x1a3f+-0x1f*-0xcf+0x12e));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0xa1d689){this['_setValue']('cookieOffs'+'et',_0xa1d689,function(_0x17c471,_0x55dc65){this['light']['cookieOffs'+'et']=_0x17c471;},!(0x3*-0x72e+0x1470+-0x5e*-0x3));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x1f6390){this['_setValue']('shadowUpda'+'teMode',_0x1f6390,function(_0x3c18c7,_0x7738db){this['light']['shadowUpda'+'teMode']=_0x3c18c7;},!(-0x8f2+0x56e*0x5+-0x1d2*0xa));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x2a5296){this['_setValue']('mask',_0x2a5296,function(_0x1e0b1b,_0x102803){this['light']['mask']=_0x1e0b1b;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x44ff9b){this['_setValue']('affectDyna'+'mic',_0x44ff9b,function(_0x5a10da,_0x2b0bf4){_0x5a10da?this['light']['mask']|=hs:this['light']['mask']&=-(-0x7de+-0x238e+-0x6d*-0x66),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x491b36){this['_setValue']('affectLigh'+'tmapped',_0x491b36,function(_0x17d9b8,_0xa6c710){_0x17d9b8?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(-0x22d6+0x162b+0xcb0))):(this['light']['mask']&=-(0xac6+-0x512+-0x5b1),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x4f9e5f){this['_setValue']('bake',_0x4f9e5f,function(_0xb7ae4e,_0x54d94b){_0xb7ae4e?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(-0x17a2+-0x68c+0x1e31))):(this['light']['mask']&=-(0x2416+-0x1*0x23f8+-0x19),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x48877d){this['_setValue']('bakeDir',_0x48877d,function(_0x209d1f,_0x3e25e5){this['light']['bakeDir']=_0x209d1f;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x103370){this['_setValue']('isStatic',_0x103370,function(_0x509b70,_0x4d4d81){this['light']['isStatic']=_0x509b70;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x3ed46f){this['_setValue']('layers',_0x3ed46f,function(_0x2efdd7,_0x4dc896){for(let _0x1d8a1b=0xa07+-0x9d*0x3f+0xe4e*0x2;_0x1d8a1b<_0x4dc896['length'];_0x1d8a1b++){const _0x33f4e5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4dc896[_0x1d8a1b]);_0x33f4e5&&(_0x33f4e5['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x33f4e5));}for(let _0x491bb6=0x1527+-0x66f*0x1+-0x8*0x1d7;_0x491bb6<_0x2efdd7['length'];_0x491bb6++){const _0x21a0db=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2efdd7[_0x491bb6]);_0x21a0db&&this['enabled']&&this['entity']['enabled']&&(_0x21a0db['addLight'](this),this['light']['addLayer'](_0x21a0db));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x4dffb9){this['light']['shadowUpda'+'teOverride'+'s']=_0x4dffb9;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x576f92){this['light']['shadowSamp'+'les']=_0x576f92;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x201282){this['light']['shadowBloc'+'kerSamples']=_0x201282;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x50ff57){this['light']['penumbraSi'+'ze']=_0x50ff57;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x1bef72){this['light']['penumbraFa'+'lloff']=_0x1bef72;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x3b7198,_0x1d84ad,_0x5c7272,_0x3fd968){const _0x1f0939=this['data'],_0x4a8423=_0x1f0939[_0x3b7198];!_0x3fd968&&_0x4a8423===_0x1d84ad||(_0x1f0939[_0x3b7198]=_0x1d84ad,_0x5c7272&&_0x5c7272['call'](this,_0x1d84ad,_0x4a8423));}['addLightTo'+'Layers'](){for(let _0x334743=-0x13*-0xe6+-0x2602+0x14f0;_0x334743<this['layers']['length'];_0x334743++){const _0x4ecc2c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x334743]);_0x4ecc2c&&(_0x4ecc2c['addLight'](this),this['light']['addLayer'](_0x4ecc2c));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x4bb5ff=0x191f+0x2377+-0x3c96;_0x4bb5ff<this['layers']['length'];_0x4bb5ff++){const _0x42c917=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4bb5ff]);_0x42c917&&(_0x42c917['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x42c917));}}['onLayersCh'+'anged'](_0x418813,_0x489f62){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x418813['off']('add',this['onLayerAdd'+'ed'],this),_0x418813['off']('remove',this['onLayerRem'+'oved'],this),_0x489f62['on']('add',this['onLayerAdd'+'ed'],this),_0x489f62['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3e3af2){this['layers']['indexOf'](_0x3e3af2['id'])>=0x21e9+0x119d+-0xa4e*0x5&&this['enabled']&&this['entity']['enabled']&&(_0x3e3af2['addLight'](this),this['light']['addLayer'](_0x3e3af2));}['onLayerRem'+'oved'](_0x1fa072){this['layers']['indexOf'](_0x1fa072['id'])>=0x2*0x1+0x1*0x85d+0x85f*-0x1&&(_0x1fa072['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x1fa072));}['refreshPro'+'perties'](){for(let _0xda6db0=0x172f+0xaf2*0x1+-0x2221;_0xda6db0<To['length'];_0xda6db0++){const _0x3782d4=To[_0xda6db0];this[_0x3782d4]=this[_0x3782d4];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x5841bc=!(-0x183b*0x1+0x7*-0x497+0x133*0x2f);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x1ff6+0x12b*0x17+-0x1b3*-0x3),_0x5841bc=!(0x21ba+0x4ae+-0x2668)),(!this['_cookieAss'+'et']['resource']||_0x5841bc)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x4dee1d){this['_cookieAss'+'etId']===_0x4dee1d['id']&&(this['_cookieAss'+'et']=_0x4dee1d,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x16ac+-0xb5*0x31+-0x3952*-0x1)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x3e7911=this['system']['app']['scene'],_0x2add15=_0x3e7911['layers'];this['light']['enabled']=!(0x4*0x2c1+0x1*0x55b+-0xb*0x17d),this['_evtLayers'+'Changed']=_0x3e7911['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2add15&&(this['_evtLayerA'+'dded']=_0x2add15['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2add15['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x38bee2,_0x5e3086,_0x2985c4;const _0x188a39=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x2600+0x37*0x19+0x20a2),(_0x38bee2=this['_evtLayers'+'Changed'])==null||_0x38bee2['off'](),this['_evtLayers'+'Changed']=null,_0x188a39&&((_0x5e3086=this['_evtLayerA'+'dded'])==null||_0x5e3086['off'](),this['_evtLayerA'+'dded']=null,(_0x2985c4=this['_evtLayerR'+'emoved'])==null||_0x2985c4['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x50d774){super(_0x50d774),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x21022f,_0x2741e4){const _0xb04fd9={..._0x2741e4};_0xb04fd9['type']||(_0xb04fd9['type']=_0x21022f['data']['type']),_0x21022f['data']['type']=_0xb04fd9['type'],_0xb04fd9['layers']&&Array['isArray'](_0xb04fd9['layers'])&&(_0xb04fd9['layers']=_0xb04fd9['layers']['slice'](-0xec0+-0x5d*0x35+0x2201)),_0xb04fd9['color']&&Array['isArray'](_0xb04fd9['color'])&&(_0xb04fd9['color']=new Y(_0xb04fd9['color'][-0x2*-0x3bb+-0x193e+0x239*0x8],_0xb04fd9['color'][0x812*0x1+-0x4a0+-0x1*0x371],_0xb04fd9['color'][-0xb1a+-0x17*-0x3d+0x5a1])),_0xb04fd9['cookieOffs'+'et']&&_0xb04fd9['cookieOffs'+'et']instanceof Array&&(_0xb04fd9['cookieOffs'+'et']=new $(_0xb04fd9['cookieOffs'+'et'][-0x6cc*0x5+0x3*0x979+0x13*0x4b],_0xb04fd9['cookieOffs'+'et'][0xc5*0x1d+-0x1*-0x53+-0x5f*0x3d])),_0xb04fd9['cookieScal'+'e']&&_0xb04fd9['cookieScal'+'e']instanceof Array&&(_0xb04fd9['cookieScal'+'e']=new $(_0xb04fd9['cookieScal'+'e'][0x3de+-0x2*0x65a+-0x3a*-0x27],_0xb04fd9['cookieScal'+'e'][-0xd4c+0x1e26+-0x10d9])),_0xb04fd9['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0xb04fd9['enabled']=_0xb04fd9['enable']),_0xb04fd9['shape']||(_0xb04fd9['shape']=yt);const _0x28ce8e=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x28ce8e['type']=Gu[_0xb04fd9['type']],_0x28ce8e['_node']=_0x21022f['entity'],_0x21022f['data']['light']=_0x28ce8e,super['initialize'+'ComponentD'+'ata'](_0x21022f,_0xb04fd9,To);}['_onRemoveC'+'omponent'](_0x50080d,_0x3be8dc){_0x3be8dc['onRemove']();}['cloneCompo'+'nent'](_0x25b5cb,_0x4f4ee4){const _0x59a4c9=_0x25b5cb['light'],_0x317de4=[];let _0x4ea965;for(let _0x2b25d5=0x184b+-0x17*-0xca+-0x29*0x109;_0x2b25d5<To['length'];_0x2b25d5++)_0x4ea965=To[_0x2b25d5],_0x4ea965!=='light'&&(_0x59a4c9[_0x4ea965]&&_0x59a4c9[_0x4ea965]['clone']?_0x317de4[_0x4ea965]=_0x59a4c9[_0x4ea965]['clone']():_0x317de4[_0x4ea965]=_0x59a4c9[_0x4ea965]);return this['addCompone'+'nt'](_0x4f4ee4,_0x317de4);}['changeType'](_0x15a080,_0x18bc7f,_0x3e8e37){_0x18bc7f!==_0x3e8e37&&(_0x15a080['light']['type']=Gu[_0x3e8e37]);}}const ZI=['x','y','z','w'],QI=[void(-0x6cf*-0x1+-0x1*-0x12c4+0x1*-0x1993),void(0x175c+0x1a5*-0xd+-0x3*0xa9),$,T,Q];function La(_0x36b6f7,_0x401c3e,_0x2c4047,_0x210ef8){switch(_0x401c3e['type']){case'boolean':return!!_0x2c4047;case'number':if(typeof _0x2c4047=='number')return _0x2c4047;if(typeof _0x2c4047=='string'){const _0x1edb2e=parseInt(_0x2c4047,-0x9a*-0x3+-0x2ef*-0x9+-0x1c2b);return isNaN(_0x1edb2e)?null:_0x1edb2e;}else{if(typeof _0x2c4047=='boolean')return 0x1bc9+0x1*0x66d+0x111b*-0x2+_0x2c4047;}return null;case'json':{const _0x1d3ce9={};if(Array['isArray'](_0x401c3e['schema'])){(!_0x2c4047||typeof _0x2c4047!='object')&&(_0x2c4047={});for(let _0x6e815e=0x17*-0x5d+0x1967+-0x1*0x110c;_0x6e815e<_0x401c3e['schema']['length'];_0x6e815e++){const _0x148d93=_0x401c3e['schema'][_0x6e815e];if(_0x148d93['name']){if(_0x148d93['array']){_0x1d3ce9[_0x148d93['name']]=[];const _0x359d1c=Array['isArray'](_0x2c4047[_0x148d93['name']])?_0x2c4047[_0x148d93['name']]:[];for(let _0xb25983=0x880+0x1fb3+-0x2833;_0xb25983<_0x359d1c['length'];_0xb25983++)_0x1d3ce9[_0x148d93['name']]['push'](La(_0x36b6f7,_0x148d93,_0x359d1c[_0xb25983]));}else{const _0x4b46ed=_0x2c4047['hasOwnProp'+'erty'](_0x148d93['name'])?_0x2c4047[_0x148d93['name']]:_0x148d93['default'];_0x1d3ce9[_0x148d93['name']]=La(_0x36b6f7,_0x148d93,_0x4b46ed);}}}}return _0x1d3ce9;}case'asset':return _0x2c4047 instanceof le?_0x2c4047:typeof _0x2c4047=='number'?_0x36b6f7['assets']['get'](_0x2c4047)||null:typeof _0x2c4047=='string'&&_0x36b6f7['assets']['get'](parseInt(_0x2c4047,-0x19*-0xaa+-0x194b*0x1+0x8bb))||null;case'entity':return _0x2c4047 instanceof De?_0x2c4047:typeof _0x2c4047=='string'?_0x36b6f7['getEntityF'+'romIndex'](_0x2c4047):null;case'rgb':case'rgba':if(_0x2c4047 instanceof Y)return _0x210ef8 instanceof Y?(_0x210ef8['copy'](_0x2c4047),_0x210ef8):_0x2c4047['clone']();if(_0x2c4047 instanceof Array&&_0x2c4047['length']>=0x2091+0x1201+0x1*-0x328f&&_0x2c4047['length']<=0x1*0x2ce+0x2181+-0x244b){for(let _0x187aa0=-0x1f9f+-0x2fa*0x2+0x2593;_0x187aa0<_0x2c4047['length'];_0x187aa0++)if(typeof _0x2c4047[_0x187aa0]!='number')return null;return _0x210ef8||(_0x210ef8=new Y()),_0x210ef8['r']=_0x2c4047[0x3*0x4b3+-0xf67*-0x1+0xec*-0x20],_0x210ef8['g']=_0x2c4047[-0x27f+-0x9*-0xee+-0x5de*0x1],_0x210ef8['b']=_0x2c4047[0x121e*-0x2+-0x3a9*0x4+0x32e2],_0x210ef8['a']=_0x2c4047['length']===-0x3d*0x18+-0x2208+-0x1*-0x27c3?-0x2df+-0x120f+0x14ef:_0x2c4047[-0x2172+-0x293*0xd+-0x1*-0x42ec],_0x210ef8;}else{if(typeof _0x2c4047=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x2c4047))return _0x210ef8||(_0x210ef8=new Y()),_0x210ef8['fromString'](_0x2c4047),_0x210ef8;}return null;case'vec2':case'vec3':case'vec4':{const _0x255d95=parseInt(_0x401c3e['type']['slice'](0x248a+0x447+-0x28ce),0x25*-0x7d+-0x9b3+0x1*0x1bce),_0x820dbf=QI[_0x255d95];if(_0x2c4047 instanceof _0x820dbf)return _0x210ef8 instanceof _0x820dbf?(_0x210ef8['copy'](_0x2c4047),_0x210ef8):_0x2c4047['clone']();if(_0x2c4047 instanceof Array&&_0x2c4047['length']===_0x255d95){for(let _0x18b921=0xb9+0xa53*0x3+-0x2*0xfd9;_0x18b921<_0x2c4047['length'];_0x18b921++)if(typeof _0x2c4047[_0x18b921]!='number')return null;_0x210ef8||(_0x210ef8=new _0x820dbf());for(let _0x297ae7=0x17*0x13f+-0x4*0x7c2+-0x1*-0x25f;_0x297ae7<_0x255d95;_0x297ae7++)_0x210ef8[ZI[_0x297ae7]]=_0x2c4047[_0x297ae7];return _0x210ef8;}return null;}case'curve':if(_0x2c4047){let _0x1f900b;if(_0x2c4047 instanceof Cs||_0x2c4047 instanceof jr)_0x1f900b=_0x2c4047['clone']();else{const _0x5ab152=_0x2c4047['keys'][0x780+0x1*-0xc89+0x509]instanceof Array?jr:Cs;_0x1f900b=new _0x5ab152(_0x2c4047['keys']),_0x1f900b['type']=_0x2c4047['type'];}return _0x1f900b;}break;}return _0x2c4047;}function Ax(_0x1e13b8,_0x574751,_0x47eff3,_0x327896){return _0x574751['array']?_0x47eff3['map']((_0x444224,_0x58cd91)=>La(_0x1e13b8,_0x574751,_0x444224,_0x327896?_0x327896[_0x58cd91]:null)):La(_0x1e13b8,_0x574751,_0x47eff3,_0x327896);}function Ex(_0x3dd3c7,_0x40e670,_0x2f4cb0,_0x2ea56d){if(_0x2f4cb0)for(const _0x264a55 in _0x40e670){const _0xeead01=_0x40e670[_0x264a55],_0x1f86ba=_0x2f4cb0[_0x264a55];_0x1f86ba!==void(-0x5*-0x58e+0x1b90+-0x626*0x9)&&(_0x2ea56d[_0x264a55]=Ax(_0x3dd3c7,_0xeead01,_0x1f86ba,_0x2ea56d[_0x264a55]));}}const oa=class oa{constructor(_0x1244aa){this['scriptType']=_0x1244aa,this['index']={};}['add'](_0xf8d769,_0x26841d){if(this['index'][_0xf8d769]){v['warn']('attribute\x20'+'\x27'+_0xf8d769+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0xf8d769)){v['warn']('attribute\x20'+'\x27'+_0xf8d769+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0xf8d769]=_0x26841d,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0xf8d769,{'get':function(){return this['__attribut'+'es'][_0xf8d769];},'set':function(_0x48d7cf){const _0x13ab3f='attr',_0x1059d4='attr:'+_0xf8d769,_0x1b613c=this['__attribut'+'es'][_0xf8d769];let _0x3f766a=_0x1b613c;if(_0x1b613c&&_0x26841d['type']!=='json'&&_0x26841d['type']!=='entity'&&_0x1b613c['clone']&&(this['hasEvent'](_0x13ab3f)||this['hasEvent'](_0x1059d4))&&(_0x3f766a=_0x1b613c['clone']()),_0x26841d['array']){if(this['__attribut'+'es'][_0xf8d769]=[],_0x48d7cf){for(let _0x3eb559=-0x49*0x3b+-0x51d+0x15f0,_0x42732a=_0x48d7cf['length'];_0x3eb559<_0x42732a;_0x3eb559++)this['__attribut'+'es'][_0xf8d769]['push'](La(this['app'],_0x26841d,_0x48d7cf[_0x3eb559],_0x1b613c?_0x1b613c[_0x3eb559]:null));}}else this['__attribut'+'es'][_0xf8d769]=La(this['app'],_0x26841d,_0x48d7cf,_0x1b613c);this['fire'](_0x13ab3f,_0xf8d769,this['__attribut'+'es'][_0xf8d769],_0x3f766a),this['fire'](_0x1059d4,this['__attribut'+'es'][_0xf8d769],_0x3f766a);}});}['remove'](_0xbae726){return this['index'][_0xbae726]?(delete this['index'][_0xbae726],delete this['scriptType']['prototype'][_0xbae726],!(0x8de+0x19e2+-0x22c0)):!(0x839*0x3+0x1*0x2335+0x9*-0x6a7);}['has'](_0x452006){return!!this['index'][_0x452006];}['get'](_0x50f081){return this['index'][_0x50f081]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x5be6e8){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x5be6e8);}set['enabled'](_0x3d37eb){this['_enabled']=!!_0x3d37eb,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x6b7*-0x1+-0x599+-0x18a*-0x8),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x402*0x9+0x1891*0x1+0xb81),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x39bf5f){const _0x5237be=this['constructo'+'r'];v['assert'](_0x39bf5f&&_0x39bf5f['app']&&_0x39bf5f['entity'],'script\x20['+_0x5237be['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x39bf5f['app'],this['entity']=_0x39bf5f['entity'],this['_enabled']=typeof _0x39bf5f['enabled']=='boolean'?_0x39bf5f['enabled']:!(0x1*-0x22f1+-0x3ea+0x26db),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0x1db1+0x10ca+0x6*-0x7bf),this['__scriptTy'+'pe']=_0x5237be,this['__executio'+'nOrder']=-(0x5*-0x2ef+0x1*0xce6+0x1c6);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x3991c1){if(typeof _0x3991c1!='function')return;if('name'in Function['prototype'])return _0x3991c1['name'];if(_0x3991c1===Function||_0x3991c1===Function['prototype']['constructo'+'r'])return'Function';const _0x3f9d27=(''+_0x3991c1)['match'](sD);return _0x3f9d27?_0x3f9d27[-0x818+0x1b36+-0x131d]:void(0x23*-0xad+-0x2598+0x3d3f*0x1);}class Qh extends Ht{constructor(_0x59d3ed){super(_0x59d3ed),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x59d3ed);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x459c99){Ht['prototype']['initScript']['call'](this,_0x459c99),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x459c99['attributes']||{};}['initScript'+'Type'](_0x541088){this['initScript'](_0x541088);}['__initiali'+'zeAttribut'+'es'](_0x194196){if(!(!_0x194196&&!this['__attribut'+'esRaw'])){for(const _0xb0a5d7 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0xb0a5d7)?this[_0xb0a5d7]=this['__attribut'+'esRaw'][_0xb0a5d7]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0xb0a5d7)||(this['__scriptTy'+'pe']['attributes']['index'][_0xb0a5d7]['hasOwnProp'+'erty']('default')?this[_0xb0a5d7]=this['__scriptTy'+'pe']['attributes']['index'][_0xb0a5d7]['default']:this[_0xb0a5d7]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x2d13ae){for(const _0x39e749 in _0x2d13ae)_0x2d13ae['hasOwnProp'+'erty'](_0x39e749)&&(this['prototype'][_0x39e749]=_0x2d13ae[_0x39e749]);}}const iD=_0x23b5e1=>_0x23b5e1[-0x7*0x190+0x1f7b+-0x6d9*0x3]['toLowerCas'+'e']()+_0x23b5e1['substring'](0x327*-0x3+-0x5*0x782+0x2f00);class di extends ue{constructor(_0x5cf272,_0x294379){super(_0x5cf272,_0x294379),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x621*-0x1+0x1bec+-0x220c),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x13*0x139+-0x5*-0x1aa+-0xee9*-0x1),this['_enabled']=!(0x123*-0x13+0x4*-0x1e8+0x1d39),this['_beingEnab'+'led']=!(-0xf*0x7f+0x1*-0x23f9+0x3*0xe79),this['_isLooping'+'ThroughScr'+'ipts']=!(0x6be+-0x2410*-0x1+-0x2acd),this['_execution'+'Order']=-(0x9*0xcf+-0xe2a+0x6e4),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x4af223){this['_scriptsDa'+'ta']=_0x4af223;for(const _0x26aebe in _0x4af223){if(!_0x4af223['hasOwnProp'+'erty'](_0x26aebe))continue;const _0x2168fa=this['_scriptsIn'+'dex'][_0x26aebe];if(_0x2168fa){if(typeof _0x4af223[_0x26aebe]['enabled']=='boolean'&&(_0x2168fa['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x2168fa);}),_0x2168fa['enabled']=!!_0x4af223[_0x26aebe]['enabled']),typeof _0x4af223[_0x26aebe]['attributes']=='object'){for(const _0x1daeb4 in _0x4af223[_0x26aebe]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x1daeb4)){if(!_0x2168fa['__attribut'+'es']['hasOwnProp'+'erty'](_0x1daeb4)){const _0x11da33=this['system']['app']['scripts']['get'](_0x26aebe);_0x11da33&&_0x11da33['attributes']['add'](_0x1daeb4,{});}_0x2168fa[_0x1daeb4]=_0x4af223[_0x26aebe]['attributes'][_0x1daeb4];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x2c66c7){const _0x3f3ebf=this['_enabled'];this['_enabled']=_0x2c66c7,this['fire']('set','enabled',_0x3f3ebf,_0x2c66c7);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x1*0x2304+0x1de1+-0x40e5),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x2*-0x359+-0x1294+0xbe3);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x112be9=this['_beginLoop'+'ing']();for(let _0x35688=0x126f+0x1*0xfa9+-0x2218,_0x1e0d69=this['scripts']['length'];_0x35688<_0x1e0d69;_0x35688++){const _0x521e49=this['scripts'][_0x35688];_0x521e49['_initializ'+'ed']&&!_0x521e49['_postIniti'+'alized']&&_0x521e49['enabled']&&(_0x521e49['_postIniti'+'alized']=!(-0x4a2+-0x908+0x9f*0x16),_0x521e49['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x521e49,gf));}this['_endLoopin'+'g'](_0x112be9);}['_beginLoop'+'ing'](){const _0x3d2f87=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x1*-0x176e+0x1aeb+-0x3259),_0x3d2f87;}['_endLoopin'+'g'](_0xbb2880){this['_isLooping'+'ThroughScr'+'ipts']=_0xbb2880,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x47ea53,_0x35d33d,_0x1a4580){this['_beingEnab'+'led']=!(-0x634+-0x75b*0x3+0x1c45*0x1),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x192a+-0x109c+-0x2c9*-0xf);}['_checkStat'+'e'](){const _0x1963d4=this['enabled']&&this['entity']['enabled'];if(_0x1963d4===this['_oldState'])return;this['_oldState']=_0x1963d4,this['fire'](_0x1963d4?'enable':'disable'),this['fire']('state',_0x1963d4),_0x1963d4?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x5dac50=this['_beginLoop'+'ing']();for(let _0x22ba2a=0xe31+0x51b+-0x134c,_0x3f5fcd=this['scripts']['length'];_0x22ba2a<_0x3f5fcd;_0x22ba2a++){const _0x3db3be=this['scripts'][_0x22ba2a];_0x3db3be['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x3db3be);}),_0x3db3be['enabled']=_0x3db3be['_enabled'];}this['_endLoopin'+'g'](_0x5dac50);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x4be28d=this['_beginLoop'+'ing']();for(let _0xe73bd4=0x1282+0x13*0x25+-0x1*0x1541;_0xe73bd4<this['scripts']['length'];_0xe73bd4++){const _0xc4755d=this['scripts'][_0xe73bd4];_0xc4755d&&this['destroy'](_0xc4755d['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x4be28d);}['_removeDes'+'troyedScri'+'pts'](){const _0x3f1fab=this['_destroyed'+'Scripts']['length'];if(_0x3f1fab){for(let _0x2e5c78=0x1*-0x4a7+0x2080+0x1bd9*-0x1;_0x2e5c78<_0x3f1fab;_0x2e5c78++){const _0xef4d1b=this['_destroyed'+'Scripts'][_0x2e5c78];this['_removeScr'+'iptInstanc'+'e'](_0xef4d1b);}this['_destroyed'+'Scripts']['length']=-0x85*-0x25+-0x9*-0x36d+-0x320e,this['_resetExec'+'utionOrder'](0x1a10+-0x15*0x1d5+-0x9*-0x161,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x1dfac4=-0x6*0x6+-0xa64+-0x1*-0xa88,_0x31e7fc=this['scripts']['length'];_0x1dfac4<_0x31e7fc;_0x1dfac4++){const _0x5d1f9c=this['scripts'][_0x1dfac4];this['initialize'+'Attributes'](_0x5d1f9c);}}['initialize'+'Attributes'](_0x44f5ec){var _0x2246c9;if(_0x44f5ec instanceof Qh)_0x44f5ec['__initiali'+'zeAttribut'+'es']();else{const _0x502da7=_0x44f5ec['__scriptTy'+'pe']['__name'],_0x437d3e=this['_attribute'+'DataMap']['get'](_0x502da7);if(!_0x437d3e)return;const _0x1468ad=(_0x2246c9=this['system']['app']['scripts'])==null?void(0x9d2+0x2*0xfa1+-0x2914):_0x2246c9['getSchema'](_0x502da7);_0x1468ad||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x502da7+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x1468ad['attributes'],_0x437d3e,_0x44f5ec);}}['_scriptMet'+'hod'](_0x44d321,_0x79ba96,_0xb45fd){try{_0x44d321[_0x79ba96](_0xb45fd);}catch(_0x149462){_0x44d321['enabled']=!(-0x5+-0x945+0x94b),_0x44d321['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x79ba96+'\x22\x20for\x20\x22'+_0x44d321['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x149462),console['error'](_0x149462)),_0x44d321['fire']('error',_0x149462,_0x79ba96),this['fire']('error',_0x44d321,_0x149462,_0x79ba96);}}['_onInitial'+'ize'](){const _0x1c230b=this['_scripts'],_0x3a60b1=this['_beginLoop'+'ing']();for(let _0x1a9dc0=-0x1082+-0x1b73+-0x3ff*-0xb,_0x117746=_0x1c230b['length'];_0x1a9dc0<_0x117746;_0x1a9dc0++){const _0xa34e38=_0x1c230b[_0x1a9dc0];!_0xa34e38['_initializ'+'ed']&&_0xa34e38['enabled']&&(_0xa34e38['_initializ'+'ed']=!(-0x54a*0x3+0x951+0x68d),_0xa34e38['initialize']&&this['_scriptMet'+'hod'](_0xa34e38,_f));}this['_endLoopin'+'g'](_0x3a60b1);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x1d1b51){const _0x31910a=this['_updateLis'+'t'];if(!_0x31910a['length'])return;const _0x282d08=this['_beginLoop'+'ing']();for(_0x31910a['loopIndex']=-0x129c+0x158b+-0x2ef;_0x31910a['loopIndex']<_0x31910a['length'];_0x31910a['loopIndex']++){const _0x43d2bd=_0x31910a['items'][_0x31910a['loopIndex']];_0x43d2bd['enabled']&&this['_scriptMet'+'hod'](_0x43d2bd,JI,_0x1d1b51);}this['_endLoopin'+'g'](_0x282d08);}['_onPostUpd'+'ate'](_0x51ae3c){const _0x394531=this['_postUpdat'+'eList'];if(!_0x394531['length'])return;const _0x3b8d60=this['_beginLoop'+'ing']();for(_0x394531['loopIndex']=0x1*-0xfd0+-0xe11*0x2+-0xa*-0x465;_0x394531['loopIndex']<_0x394531['length'];_0x394531['loopIndex']++){const _0x29dad3=_0x394531['items'][_0x394531['loopIndex']];_0x29dad3['enabled']&&this['_scriptMet'+'hod'](_0x29dad3,eD,_0x51ae3c);}this['_endLoopin'+'g'](_0x3b8d60);}['_insertScr'+'iptInstanc'+'e'](_0x20c4c0,_0x3c6589,_0x3e3020){_0x3c6589===-(0xec*0x4+-0x7a5*0x2+0xb9b)?(this['_scripts']['push'](_0x20c4c0),_0x20c4c0['__executio'+'nOrder']=_0x3e3020,_0x20c4c0['update']&&this['_updateLis'+'t']['append'](_0x20c4c0),_0x20c4c0['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x20c4c0)):(this['_scripts']['splice'](_0x3c6589,0x353*0x5+0x22+-0x1*0x10c1,_0x20c4c0),_0x20c4c0['__executio'+'nOrder']=_0x3c6589,this['_resetExec'+'utionOrder'](_0x3c6589+(0x2*0xfda+0x213*-0x1+-0x1da0),_0x3e3020+(-0x2*0xfb2+0x1998+-0x1b*-0x37)),_0x20c4c0['update']&&this['_updateLis'+'t']['insert'](_0x20c4c0),_0x20c4c0['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x20c4c0));}['_removeScr'+'iptInstanc'+'e'](_0x1ea2dc){const _0x34b197=this['_scripts']['indexOf'](_0x1ea2dc);return _0x34b197===-(0x31*-0xc7+0x153c+0x10dc)||(this['_scripts']['splice'](_0x34b197,0xb3c*0x1+-0x1119+0x1*0x5de),_0x1ea2dc['update']&&this['_updateLis'+'t']['remove'](_0x1ea2dc),_0x1ea2dc['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1ea2dc)),_0x34b197;}['_resetExec'+'utionOrder'](_0x200029,_0x5ad6e7){for(let _0x21cc0b=_0x200029;_0x21cc0b<_0x5ad6e7;_0x21cc0b++)this['_scripts'][_0x21cc0b]['__executio'+'nOrder']=_0x21cc0b;}['_resolveEn'+'tityScript'+'Attribute'](_0x393475,_0x5f0e74,_0x29ae0a,_0x4538ea,_0x29f633,_0x43755d){if(_0x393475['array']){const _0x104d11=_0x29ae0a['length'];if(!_0x104d11)return;const _0x4f2748=_0x29ae0a['slice']();for(let _0x442d68=0x334+0x1114*-0x2+0x1ef4;_0x442d68<_0x104d11;_0x442d68++){const _0x4373a3=_0x4f2748[_0x442d68]instanceof $e?_0x4f2748[_0x442d68]['getGuid']():_0x4f2748[_0x442d68];_0x43755d[_0x4373a3]&&(_0x4f2748[_0x442d68]=_0x4538ea?_0x43755d[_0x4373a3]['getGuid']():_0x43755d[_0x4373a3]);}_0x29f633[_0x5f0e74]=_0x4f2748;}else{if(_0x29ae0a instanceof $e)_0x29ae0a=_0x29ae0a['getGuid']();else{if(typeof _0x29ae0a!='string')return;}_0x43755d[_0x29ae0a]&&(_0x29f633[_0x5f0e74]=_0x43755d[_0x29ae0a]);}}['has'](_0x3920d5){if(typeof _0x3920d5=='string')return!!this['_scriptsIn'+'dex'][_0x3920d5];if(!_0x3920d5)return!(-0x2656+0xbf3+-0x1*-0x1a64);const _0x536066=_0x3920d5,_0x5f4c5f=_0x536066['__name'],_0x1dde78=this['_scriptsIn'+'dex'][_0x5f4c5f];return(_0x1dde78&&_0x1dde78['instance'])instanceof _0x536066;}['get'](_0x1d9f2e){if(typeof _0x1d9f2e=='string'){const _0x44241b=this['_scriptsIn'+'dex'][_0x1d9f2e];return _0x44241b?_0x44241b['instance']:null;}if(!_0x1d9f2e)return null;const _0x5988f8=_0x1d9f2e,_0x175456=_0x5988f8['__name'],_0x42d8cf=this['_scriptsIn'+'dex'][_0x175456],_0x31f8dd=_0x42d8cf&&_0x42d8cf['instance'];return _0x31f8dd instanceof _0x5988f8?_0x31f8dd:null;}['create'](_0xa21199,_0x30e26a={}){const _0x30db79=this;let _0x25fc48=_0xa21199,_0x26b6ea=_0xa21199;if(typeof _0x25fc48=='string'?_0x25fc48=this['system']['app']['scripts']['get'](_0x25fc48):_0x25fc48&&(_0x26b6ea=_0x25fc48['__name']??(_0x25fc48['__name']=iD(Cx(_0x25fc48)))),_0x25fc48){if(!this['_scriptsIn'+'dex'][_0x26b6ea]||!this['_scriptsIn'+'dex'][_0x26b6ea]['instance']){const _0xd1cab7=new _0x25fc48({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x30e26a['hasOwnProp'+'erty']('enabled')?_0x30e26a['enabled']:!(-0x869*-0x4+0x25a1+0xcd*-0x59),'attributes':_0x30e26a['attributes']||{}});_0x30e26a['properties']&&typeof _0x30e26a['properties']=='object'&&Object['assign'](_0xd1cab7,_0x30e26a['properties']),_0xd1cab7 instanceof Qh||this['_attribute'+'DataMap']['set'](_0x26b6ea,_0x30e26a['attributes']);const _0x58bfad=this['_scripts']['length'];let _0x4724ed=-(0x21c7+0x44*0x25+-0x2b9a*0x1);return typeof _0x30e26a['ind']=='number'&&_0x30e26a['ind']!==-(-0x24a7+0x26b*-0xe+0x4682)&&_0x58bfad>_0x30e26a['ind']&&(_0x4724ed=_0x30e26a['ind']),this['_insertScr'+'iptInstanc'+'e'](_0xd1cab7,_0x4724ed,_0x58bfad),this['_scriptsIn'+'dex'][_0x26b6ea]={'instance':_0xd1cab7,'onSwap':function(){_0x30db79['swap'](_0x26b6ea);}},this[_0x26b6ea]=_0xd1cab7,_0x30e26a['preloading']||this['initialize'+'Attributes'](_0xd1cab7),this['fire']('create',_0x26b6ea,_0xd1cab7),this['fire']('create:'+_0x26b6ea,_0xd1cab7),this['system']['app']['scripts']['on']('swap:'+_0x26b6ea,this['_scriptsIn'+'dex'][_0x26b6ea]['onSwap']),_0x30e26a['preloading']||(_0xd1cab7['enabled']&&!_0xd1cab7['_initializ'+'ed']&&(_0xd1cab7['_initializ'+'ed']=!(-0x83f+-0x71c+-0xf5b*-0x1),_0xd1cab7['initialize']&&this['_scriptMet'+'hod'](_0xd1cab7,_f)),_0xd1cab7['enabled']&&!_0xd1cab7['_postIniti'+'alized']&&(_0xd1cab7['_postIniti'+'alized']=!(-0x27f*-0x9+0x3c1*0x5+-0x293c),_0xd1cab7['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0xd1cab7,gf))),_0xd1cab7;}v['warn']('script\x20\x27'+_0x26b6ea+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x26b6ea]={'awaiting':!(-0xe58+0x199*0xf+-0x99f),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x26b6ea+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x465764){let _0x5873ee=_0x465764,_0x225767=_0x465764;typeof _0x225767=='string'?_0x225767=this['system']['app']['scripts']['get'](_0x225767):_0x225767&&(_0x5873ee=_0x225767['__name']);const _0x4802cc=this['_scriptsIn'+'dex'][_0x5873ee];if(delete this['_scriptsIn'+'dex'][_0x5873ee],!_0x4802cc)return!(0x1d3f*0x1+0x1e7d+0x6a3*-0x9);this['_attribute'+'DataMap']['delete'](_0x5873ee);const _0x4f34b4=_0x4802cc['instance'];if(_0x4f34b4&&!_0x4f34b4['_destroyed']){if(_0x4f34b4['enabled']=!(-0x1b92+0x50*-0x47+0x31c3),_0x4f34b4['_destroyed']=!(-0xf34+-0x18*0x17d+0x32ec),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x4f34b4);else{const _0xa1b1cf=this['_removeScr'+'iptInstanc'+'e'](_0x4f34b4);_0xa1b1cf>=-0x17b9+-0x2*0x500+0x21b9&&this['_resetExec'+'utionOrder'](_0xa1b1cf,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x5873ee,_0x4802cc['onSwap']),delete this[_0x5873ee],this['fire']('destroy',_0x5873ee,_0x4f34b4||null),this['fire']('destroy:'+_0x5873ee,_0x4f34b4||null),_0x4f34b4&&_0x4f34b4['fire']('destroy'),!(-0x54e*0x3+0x5*0x2f3+0x17*0xd);}['swap'](_0x409fc5){let _0x428b59=_0x409fc5,_0x25db0a=_0x409fc5;typeof _0x25db0a=='string'?_0x25db0a=this['system']['app']['scripts']['get'](_0x25db0a):_0x25db0a&&(_0x428b59=_0x25db0a['__name']);const _0x6b7dab=this['_scriptsIn'+'dex'][_0x428b59];if(!_0x6b7dab||!_0x6b7dab['instance'])return!(-0x2*-0x5a5+0x24e6+0x302f*-0x1);const _0x4aa842=_0x6b7dab['instance'],_0x52466e=this['_scripts']['indexOf'](_0x4aa842),_0x116f71=new _0x25db0a({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x4aa842['enabled'],'attributes':_0x4aa842['__attribut'+'es']});return _0x116f71['swap']?(this['initialize'+'Attributes'](_0x116f71),this['_scripts'][_0x52466e]=_0x116f71,this['_scriptsIn'+'dex'][_0x428b59]['instance']=_0x116f71,this[_0x428b59]=_0x116f71,_0x116f71['__executio'+'nOrder']=_0x52466e,_0x4aa842['update']&&this['_updateLis'+'t']['remove'](_0x4aa842),_0x4aa842['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x4aa842),_0x116f71['update']&&this['_updateLis'+'t']['insert'](_0x116f71),_0x116f71['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x116f71),this['_scriptMet'+'hod'](_0x116f71,tD,_0x4aa842),this['fire']('swap',_0x428b59,_0x116f71),this['fire']('swap:'+_0x428b59,_0x116f71),!(-0x6c*-0x2b+0x223*0x9+0x427*-0x9)):!(0x1fc6+0x3*0xc5a+0x9d5*-0x7);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3f1256,_0x3162ba){const _0x22381d=this['entity']['script'];for(const _0x5f120e in _0x3f1256['_scriptsIn'+'dex']){const _0x47a83a=this['system']['app']['scripts']['get'](_0x5f120e);if(!_0x47a83a)continue;const _0x15376c=_0x3f1256['_scriptsIn'+'dex'][_0x5f120e];if(!_0x15376c||!_0x15376c['instance'])continue;const _0x159028=_0x22381d[_0x5f120e]['__attribut'+'esRaw'],_0x273df1=_0x22381d[_0x5f120e]['__attribut'+'es'];if(!_0x159028&&!_0x273df1)continue;const _0x1d9bb9=!!_0x159028,_0x1c865d=_0x15376c['instance']['__attribut'+'es'];for(const _0x477ddf in _0x1c865d){if(!_0x1c865d[_0x477ddf])continue;const _0xa10e07=_0x47a83a['attributes']['get'](_0x477ddf);if(_0xa10e07){if(_0xa10e07['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0xa10e07,_0x477ddf,_0x1c865d[_0x477ddf],_0x1d9bb9,_0x159028||_0x273df1,_0x3162ba);else{if(_0xa10e07['type']==='json'&&Array['isArray'](_0xa10e07['schema'])){const _0x24bcb0=_0x1c865d[_0x477ddf],_0x163c35=_0x159028?_0x159028[_0x477ddf]:_0x273df1[_0x477ddf];for(let _0xa19426=0x9*0x26f+0x229+-0x1810;_0xa19426<_0xa10e07['schema']['length'];_0xa19426++){const _0x3bdc8d=_0xa10e07['schema'][_0xa19426];if(_0x3bdc8d['type']==='entity'){if(_0xa10e07['array']){for(let _0xefed19=-0x175*0x19+-0x32*-0x92+0x1b*0x4b;_0xefed19<_0x24bcb0['length'];_0xefed19++)this['_resolveEn'+'tityScript'+'Attribute'](_0x3bdc8d,_0x3bdc8d['name'],_0x24bcb0[_0xefed19][_0x3bdc8d['name']],_0x1d9bb9,_0x163c35[_0xefed19],_0x3162ba);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x3bdc8d,_0x3bdc8d['name'],_0x24bcb0[_0x3bdc8d['name']],_0x1d9bb9,_0x163c35,_0x3162ba);}}}}}}}}['move'](_0x4c2319,_0x33642d){const _0x1ec564=this['_scripts']['length'];if(_0x33642d>=_0x1ec564||_0x33642d<-0x2555+0x52*-0xf+0x2a23*0x1)return!(0x4cf+0x76*-0xb+-0x1*-0x44);let _0x5718e2=_0x4c2319,_0x59ffba=_0x4c2319;typeof _0x59ffba!='string'?_0x59ffba=_0x4c2319['__name']:_0x5718e2=null;const _0x20abf7=this['_scriptsIn'+'dex'][_0x59ffba];if(!_0x20abf7||!_0x20abf7['instance'])return!(0xa6*-0x2b+-0x7*0x49f+0x3c*0x101);const _0x5c283a=_0x20abf7['instance'];if(_0x5718e2&&!(_0x5c283a instanceof _0x5718e2))return!(-0x23*0x77+-0x2063+-0x30a9*-0x1);const _0x5f2bbf=this['_scripts']['indexOf'](_0x5c283a);return _0x5f2bbf===-(0x1ea3+-0x1081+-0xe21)||_0x5f2bbf===_0x33642d?!(0xf60+-0xb*-0x150+0x1dcf*-0x1):(this['_scripts']['splice'](_0x33642d,-0x1ecb+-0x5*0x70b+-0xe*-0x4b7,this['_scripts']['splice'](_0x5f2bbf,0x1ce*-0x13+-0x118c*-0x2+-0xcd)[-0x65b*0x1+0x201c+-0x19c1]),this['_resetExec'+'utionOrder'](-0x1cab+0x3a9*-0x1+0x102a*0x2,_0x1ec564),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x59ffba,_0x5c283a,_0x33642d,_0x5f2bbf),this['fire']('move:'+_0x59ffba,_0x5c283a,_0x33642d,_0x5f2bbf),!(0x1d54+-0x1cb2+0xa2*-0x1));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x92c*-0x2+0x4*0x26f+-0x4*-0x227);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=0xe86+0x12c9+-0x214f*0x1;class cD extends Xe{constructor(_0x545125){super(_0x545125),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x833*0x1+-0x269*0x9+0x9d*0x16),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x7b5b60,_0x2f1029){if(_0x7b5b60['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x7b5b60),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x7b5b60['enabled']=_0x2f1029['hasOwnProp'+'erty']('enabled')?!!_0x2f1029['enabled']:!(-0x1*0x243+-0x1598+0x17db),_0x7b5b60['enabled']&&_0x7b5b60['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x7b5b60),_0x2f1029['hasOwnProp'+'erty']('order')&&_0x2f1029['hasOwnProp'+'erty']('scripts')){_0x7b5b60['_scriptsDa'+'ta']=_0x2f1029['scripts'];for(let _0x44906b=0x14*0x1cd+-0x1*-0x1cdb+0x40df*-0x1;_0x44906b<_0x2f1029['order']['length'];_0x44906b++)_0x7b5b60['create'](_0x2f1029['order'][_0x44906b],{'enabled':_0x2f1029['scripts'][_0x2f1029['order'][_0x44906b]]['enabled'],'attributes':_0x2f1029['scripts'][_0x2f1029['order'][_0x44906b]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0xd5857f,_0x1dcbad){var _0x1c94ab;const _0x1db432=[],_0x199b45={};for(let _0x2c32c9=0x100d+-0x138+-0xed5;_0x2c32c9<_0xd5857f['script']['_scripts']['length'];_0x2c32c9++){const _0x4acf19=_0xd5857f['script']['_scripts'][_0x2c32c9],_0x3fbd3b=_0x4acf19['__scriptTy'+'pe']['__name'];_0x1db432['push'](_0x3fbd3b);const _0xfc1a8c=((_0x1c94ab=_0xd5857f['script']['_attribute'+'DataMap'])==null?void(0x2401+0x2554+-0x4955):_0x1c94ab['get'](_0x3fbd3b))||{};for(const _0x4547a0 in _0x4acf19['__attribut'+'es'])_0xfc1a8c[_0x4547a0]=_0x4acf19['__attribut'+'es'][_0x4547a0];_0x199b45[_0x3fbd3b]={'enabled':_0x4acf19['_enabled'],'attributes':_0xfc1a8c};}for(const _0x8fd420 in _0xd5857f['script']['_scriptsIn'+'dex'])_0x8fd420['awaiting']&&_0x1db432['splice'](_0x8fd420['ind'],0x574+-0x22*-0x108+-0x2884,_0x8fd420);const _0x4ed12e={'enabled':_0xd5857f['script']['enabled'],'order':_0x1db432,'scripts':_0x199b45};return this['addCompone'+'nt'](_0x1dcbad,_0x4ed12e);}['_resetExec'+'utionOrder'](){Jl=0x1870+0x13a3+0xeb1*-0x3;for(let _0x1677db=-0x16b8*-0x1+-0x14db*0x1+-0x9f*0x3,_0x1509b4=this['_component'+'s']['length'];_0x1677db<_0x1509b4;_0x1677db++)this['_component'+'s']['items'][_0x1677db]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0xa2bdde,_0x40cd62,_0x52c0e1){for(_0xa2bdde['loopIndex']=-0x256e*0x1+-0xda*0x2+0x2722;_0xa2bdde['loopIndex']<_0xa2bdde['length'];_0xa2bdde['loopIndex']++)_0xa2bdde['items'][_0xa2bdde['loopIndex']][_0x40cd62](_0x52c0e1);}['_onInitial'+'ize'](){this['preloading']=!(0x1333+0x1d*-0x122+0xda8),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0xd80441){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0xd80441);}['_onPostUpd'+'ate'](_0x2b37c3){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x2b37c3);}['_addCompon'+'entToEnabl'+'ed'](_0x490c7e){this['_enabledCo'+'mponents']['insert'](_0x490c7e);}['_removeCom'+'ponentFrom'+'Enabled'](_0x311589){this['_enabledCo'+'mponents']['remove'](_0x311589);}['_onBeforeR'+'emove'](_0x43b5bb,_0x12b58c){this['_component'+'s']['items']['indexOf'](_0x12b58c)>=0x2*-0x22d+0x1e80+0x1a26*-0x1&&_0x12b58c['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x12b58c),this['_component'+'s']['remove'](_0x12b58c);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x1f5915,_0x34f0c0){super(_0x1f5915,_0x34f0c0),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x1f5915['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x34f0c0['on']('remove',this['onRemoveCh'+'ild'],this),_0x34f0c0['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x34f0c0['on']('insert',this['onInsertCh'+'ild'],this),_0x34f0c0['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x499b2){var _0x445200,_0x24ea40;this['_customAab'+'b']=_0x499b2,(_0x24ea40=(_0x445200=this['_instance'])==null?void(-0x125f+0x41a+0xe45*0x1):_0x445200['meshInstan'+'ce'])==null||_0x24ea40['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x39cbd3){var _0x401cac;if(this['destroyIns'+'tance'](),this['_instance']=_0x39cbd3,(_0x401cac=this['_instance'])!=null&&_0x401cac['meshInstan'+'ce']){const _0x4152ac=this['_instance']['meshInstan'+'ce'];_0x4152ac['node']||(_0x4152ac['node']=this['entity']),_0x4152ac['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x3300c1){this['_materialO'+'ptions']=Object['assign']({},_0x3300c1),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x3b9f31;return(_0x3b9f31=this['_instance'])==null?void(-0xd3*0x1a+-0x1*-0x16e5+0x5*-0x4b):_0x3b9f31['material'];}set['layers'](_0xcbced8){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x1*0x131+-0x417+0x548;for(let _0x42f4fe=0x59*-0x5b+0x4d1*0x3+0x44c*0x4;_0x42f4fe<_0xcbced8['length'];_0x42f4fe++)this['_layers'][_0x42f4fe]=_0xcbced8[_0x42f4fe];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x1bbd9b){const _0x589322=_0x1bbd9b instanceof le?_0x1bbd9b['id']:_0x1bbd9b;this['_assetRefe'+'rence']['id']!==_0x589322&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x589322,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x53d386){const _0x468293=_0x53d386 instanceof le?_0x53d386['id']:_0x53d386;this['_assetRefe'+'rence']['id']=_0x468293;}['destroyIns'+'tance'](){var _0x1c470d;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x1c470d=this['_instance'])==null||_0x1c470d['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x1b1f29,_0x3ef3d1;const _0x19ae27=(_0x1b1f29=this['instance'])==null?void(-0x129a+-0x167c+-0x6*-0x6d9):_0x1b1f29['meshInstan'+'ce'];if(_0x19ae27){const _0x3452b5=this['system']['app']['scene']['layers'];for(let _0x154ffe=-0x9*-0x213+-0x241+-0xb*0x17e;_0x154ffe<this['_layers']['length'];_0x154ffe++)(_0x3ef3d1=_0x3452b5['getLayerBy'+'Id'](this['_layers'][_0x154ffe]))==null||_0x3ef3d1['addMeshIns'+'tances']([_0x19ae27]);}}['removeFrom'+'Layers'](){var _0x2de964,_0x52b854;const _0x57bf71=(_0x2de964=this['instance'])==null?void(0x7*0x108+-0x106e+0x936):_0x2de964['meshInstan'+'ce'];if(_0x57bf71){const _0x39534f=this['system']['app']['scene']['layers'];for(let _0x15c45c=-0x9*0x177+-0x1fdc+0x377*0xd;_0x15c45c<this['_layers']['length'];_0x15c45c++)(_0x52b854=_0x39534f['getLayerBy'+'Id'](this['_layers'][_0x15c45c]))==null||_0x52b854['removeMesh'+'Instances']([_0x57bf71]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x272f9f,_0x3d8483){this['addToLayer'+'s'](),_0x272f9f['off']('add',this['onLayerAdd'+'ed'],this),_0x272f9f['off']('remove',this['onLayerRem'+'oved'],this),_0x3d8483['on']('add',this['onLayerAdd'+'ed'],this),_0x3d8483['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x182a8c){this['layers']['indexOf'](_0x182a8c['id'])<0x205+0x1*0x1c55+-0x3*0xa1e||this['_instance']&&_0x182a8c['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0xc94c9){this['layers']['indexOf'](_0xc94c9['id'])<0x7cf*-0x1+-0xc4f*0x1+0x141e||this['_instance']&&_0xc94c9['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x4bd07e=this['system']['app']['scene'],_0x7f4cca=_0x4bd07e['layers'];this['_evtLayers'+'Changed']=_0x4bd07e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x7f4cca&&(this['_evtLayerA'+'dded']=_0x7f4cca['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x7f4cca['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x3df866,_0x37b0ba,_0x4f9d6f;const _0x3fee30=this['system']['app']['scene']['layers'];(_0x3df866=this['_evtLayers'+'Changed'])==null||_0x3df866['off'](),this['_evtLayers'+'Changed']=null,_0x3fee30&&((_0x37b0ba=this['_evtLayerA'+'dded'])==null||_0x37b0ba['off'](),this['_evtLayerA'+'dded']=null,(_0x4f9d6f=this['_evtLayerR'+'emoved'])==null||_0x4f9d6f['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1645+-0xadb+0x3*0xb0b));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x2*0xf2a+0x3*-0xa7b+0x11d));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0xf20e7a=this['_assetRefe'+'rence']['asset'];_0xf20e7a&&(this['instance']=_0xf20e7a['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(-0x1a71+0x71d+0x1354);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x46f62c){super(_0x46f62c),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xc20096,_0x1636f0,_0x19682d){_0x1636f0['layers']&&_0x1636f0['layers']['length']&&(_0x1636f0['layers']=_0x1636f0['layers']['slice'](-0x407*0x5+0x2217+0xdf4*-0x1));for(let _0x13e955=0x7ee+-0x1b*0x135+0x3b*0x6b;_0x13e955<Rr['length'];_0x13e955++)_0x1636f0['hasOwnProp'+'erty'](Rr[_0x13e955])&&(_0xc20096[Rr[_0x13e955]]=_0x1636f0[Rr[_0x13e955]]);_0x1636f0['aabbCenter']&&_0x1636f0['aabbHalfEx'+'tents']&&(_0xc20096['customAabb']=new _e(new T(_0x1636f0['aabbCenter']),new T(_0x1636f0['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0xc20096,_0x1636f0,yf);}['cloneCompo'+'nent'](_0x6d9e5f,_0x447bd7){const _0x47a36a=_0x6d9e5f['gsplat'],_0x2f80f9={};for(let _0x17c82a=0x1e66+0xd70+0x15eb*-0x2;_0x17c82a<Rr['length'];_0x17c82a++)_0x2f80f9[Rr[_0x17c82a]]=_0x47a36a[Rr[_0x17c82a]];_0x2f80f9['enabled']=_0x47a36a['enabled'],delete _0x2f80f9['instance'];const _0x27fea6=this['addCompone'+'nt'](_0x447bd7,_0x2f80f9);return _0x27fea6['instance']=_0x47a36a['instance']['clone'](),_0x47a36a['customAabb']&&(_0x27fea6['customAabb']=_0x47a36a['customAabb']['clone']()),_0x27fea6;}['onRemove'](_0x1a6ddd,_0x278fb4){_0x278fb4['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x11e32f){this['decRefMesh'+'es'](),this['_meshes']=_0x11e32f,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x11e32f);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x32f610;(_0x32f610=this['_meshes'])==null||_0x32f610['forEach']((_0x4c2abe,_0x1b58e9)=>{_0x4c2abe&&(_0x4c2abe['decRefCoun'+'t'](),_0x4c2abe['refCount']<-0xada+-0x20c2+0x2b9d&&(_0x4c2abe['destroy'](),this['_meshes'][_0x1b58e9]=null));});}['incRefMesh'+'es'](){var _0x156e24;(_0x156e24=this['_meshes'])==null||_0x156e24['forEach'](_0x4dc506=>{_0x4dc506==null||_0x4dc506['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x213a7b){const _0x5efcc6=this;if(!_0x5efcc6['resource'])return;const _0x36fc0b=_0x213a7b['resource'],_0x448310=_0x36fc0b['renders']&&_0x36fc0b['renders'][_0x5efcc6['data']['renderInde'+'x']];_0x448310&&(_0x5efcc6['resource']['meshes']=_0x448310['resource']['meshes']);}function Lg(_0xc88b4){const _0x2eb102=this;_0x2eb102['registry']['off']('load:'+_0xc88b4['id'],yh,_0x2eb102),_0x2eb102['registry']['on']('load:'+_0xc88b4['id'],yh,_0x2eb102),_0x2eb102['registry']['off']('remove:'+_0xc88b4['id'],Fg,_0x2eb102),_0x2eb102['registry']['once']('remove:'+_0xc88b4['id'],Fg,_0x2eb102),_0xc88b4['resource']?yh['call'](_0x2eb102,_0xc88b4):_0x2eb102['registry']['load'](_0xc88b4);}function Fg(_0x566f77){const _0x3d7148=this;_0x3d7148['registry']['off']('load:'+_0x566f77['id'],yh,_0x3d7148),_0x3d7148['resource']&&_0x3d7148['resource']['destroy']();}class fD extends Ne{constructor(_0x474c12){super(_0x474c12,'render'),this['_registry']=_0x474c12['assets'];}['open'](_0x4ed4f3,_0x7f9ccc){return new Hp();}['patch'](_0x2cbe75,_0x2eadaa){if(!_0x2cbe75['data']['containerA'+'sset'])return;const _0xa4827c=_0x2eadaa['get'](_0x2cbe75['data']['containerA'+'sset']);if(!_0xa4827c){_0x2eadaa['once']('add:'+_0x2cbe75['data']['containerA'+'sset'],Lg,_0x2cbe75);return;}Lg['call'](_0x2cbe75,_0xa4827c);}}class Px{constructor(_0x2bc39c,_0x1cc328,_0x2bc0e8,_0x2ae888){this['_paths']=_0x2bc39c,this['_input']=_0x1cc328,this['_output']=_0x2bc0e8,this['_interpola'+'tion']=_0x2ae888;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x10ec68,_0x4d4db8){this['_component'+'s']=_0x10ec68,this['_data']=_0x4d4db8;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x548ef9,_0x12d655){let _0x2952da;const _0xc9e5a3=(_0x545df5,_0x37561e)=>{switch(_0x37561e){case _0x2952da['DT_INT8']:return new Int8Array(_0x545df5['buffer'],_0x545df5['byteOffset'],_0x545df5['byteLength']);case _0x2952da['DT_INT16']:return new Int16Array(_0x545df5['buffer'],_0x545df5['byteOffset'],_0x545df5['byteLength']/(0xb27+-0x11a1+0x67c));case _0x2952da['DT_INT32']:return new Int32Array(_0x545df5['buffer'],_0x545df5['byteOffset'],_0x545df5['byteLength']/(0x1059+0x1273*0x1+-0x22c8));case _0x2952da['DT_UINT8']:return new Uint8Array(_0x545df5['buffer'],_0x545df5['byteOffset'],_0x545df5['byteLength']);case _0x2952da['DT_UINT16']:return new Uint16Array(_0x545df5['buffer'],_0x545df5['byteOffset'],_0x545df5['byteLength']/(-0x5dc+0x26e3+0x4f*-0x6b));case _0x2952da['DT_UINT32']:return new Uint32Array(_0x545df5['buffer'],_0x545df5['byteOffset'],_0x545df5['byteLength']/(-0x17c2+-0x3*-0x476+0xa64));case _0x2952da['DT_FLOAT32']:return new Float32Array(_0x545df5['buffer'],_0x545df5['byteOffset'],_0x545df5['byteLength']/(0x8a3+0x1*0x22c3+-0x2b62));}return null;},_0x292901=_0x48633f=>{switch(_0x48633f){case _0x2952da['DT_INT8']:return 0x1*-0x1be7+0x16dd+-0x1*-0x50b;case _0x2952da['DT_INT16']:return-0x163+0x1215*0x1+-0x10b0;case _0x2952da['DT_INT32']:return 0x223+-0x1acf*0x1+0xa*0x278;case _0x2952da['DT_UINT8']:return 0xc45+0xc11+-0x1855*0x1;case _0x2952da['DT_UINT16']:return 0x2325+-0x1*-0x155d+-0x3880;case _0x2952da['DT_UINT32']:return 0x25e8+0x7*-0x2ff+-0x10eb;case _0x2952da['DT_FLOAT32']:return-0x9b6*-0x4+-0x2018+0x1af*-0x4;}return 0x1*0x13fe+-0x71*0x13+-0x252*0x5;},_0x425126=_0x3afff7=>_0x3afff7['num_compon'+'ents']()*_0x292901(_0x3afff7['data_type']()),_0x508dc6={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x544f94=(_0x427b69,_0x331a88)=>{const _0x335e27=(_0xbe6295,_0x55ba93,_0xb68eb6)=>{_0xbe6295[-0x24ea+-0x53*-0x3f+0x1d5*0x9]=_0x55ba93[0x1631+-0x245+-0x13ec]-_0xb68eb6[-0x964+0x29*0x1f+-0x67*-0xb],_0xbe6295[-0x809*-0x4+-0x2600+-0x13*-0x4f]=_0x55ba93[-0x12e*-0x4+0x8b8+0xb5*-0x13]-_0xb68eb6[0x16a1+-0xc0*0x8+-0x10a0],_0xbe6295[-0x1*-0x3c4+0x2d2+-0x694]=_0x55ba93[-0x1ba*0x5+-0x6ec+-0x4*-0x3e4]-_0xb68eb6[0x3e9*0x2+-0x68f*0x5+0x1*0x18fb];},_0x136f00=(_0x5aa73d,_0x1d3bdc,_0x6c25a3)=>{_0x5aa73d[0x262d+-0xe*0x299+0x1*-0x1cf]=_0x1d3bdc[0x256+-0x2*0xc9d+0x16e5]*_0x6c25a3[0x1*0x3b9+0x2a2+-0x659]-_0x6c25a3[0xc68+0xe*0xad+0xc1*-0x1d]*_0x1d3bdc[-0x1d58+-0x221d+0xb*0x5c5],_0x5aa73d[-0x1087+0x842+0x846]=_0x1d3bdc[0x19b0+-0x1*-0x669+-0x2017]*_0x6c25a3[-0x2*-0x50e+-0x1dea+0xa9*0x1e]-_0x6c25a3[-0x15c1+0x116b+-0x4*-0x116]*_0x1d3bdc[0x185a*0x1+-0xad6+-0xd84],_0x5aa73d[-0x61*-0xb+0x11a8+-0x45d*0x5]=_0x1d3bdc[0x14e*-0xb+-0x10*-0x2d+0x7*0x1a6]*_0x6c25a3[0x1495*0x1+-0x1053+-0x441]-_0x6c25a3[0x66e+0x661+-0xccf]*_0x1d3bdc[0x1f*0xa5+0x1db8+-0x31b2];},_0x37db3b=(_0x5184e0,_0x557cf2)=>{const _0x152dad=_0x5184e0[_0x557cf2+(0x209b+0xe72+-0x2f0d)],_0x595ba8=_0x5184e0[_0x557cf2+(0x2*-0x2+0x1cfa*0x1+-0x7*0x423)],_0x4be4bc=_0x5184e0[_0x557cf2+(-0x1de7+-0x1*-0xcdc+0x110d)],_0x4b6398=(-0x17c2+-0xdd*0x5+0x3*0x95c)/Math['sqrt'](_0x152dad*_0x152dad+_0x595ba8*_0x595ba8+_0x4be4bc*_0x4be4bc);_0x5184e0[_0x557cf2+(0x2*0x33d+0x1f61+-0x25db)]*=_0x4b6398,_0x5184e0[_0x557cf2+(-0x138a+0xaa0*-0x1+0x1*0x1e2b)]*=_0x4b6398,_0x5184e0[_0x557cf2+(-0x1220+0x234a+-0x1*0x1128)]*=_0x4b6398;},_0x5d1a68=(_0x4a12d6,_0x66c8b1,_0xcd0abe)=>{for(let _0x3113ac=-0xa00+0x23ea+-0x19ea;_0x3113ac<-0x26*0x47+-0xefd+-0x1d3*-0xe;++_0x3113ac)_0x4a12d6[_0x3113ac]=_0x66c8b1[_0xcd0abe+_0x3113ac];},_0x16c95e=_0x331a88['length']/(-0x4*-0x458+0x2496+0x1*-0x35f3),_0x4c2993=_0x427b69['length']/(-0xdcb+0x24be+0x10*-0x16f),_0x40df70=new Float32Array(_0x427b69['length']),_0x81848d=[-0xb0*0x2b+-0x223a+0x3fca,0xe16+0x1595+-0x23ab,0x2589+0x77b+-0x2d04],_0x1730d6=[-0x23*-0x28+-0x1a21*-0x1+-0x1f99,-0x6e7+-0x2bf*-0x1+0x428,-0x2*-0x12fb+0x3*0x8dd+-0x408d],_0x2c90c5=[-0x3*0x977+-0x1*0x577+0x21dc,0x487+-0x22af+0x1e28,-0x683+0x14*0xa+0x5bb*0x1],_0x29f942=[-0x107e*-0x1+0x48a+-0x1508,0x166f+-0x1*0x1489+-0x1e6,-0x4*-0x525+0x431*0x3+-0x171*0x17],_0x4352b4=[-0x1f4e+-0xb*-0x114+0x1372,-0x778+0x2bc+-0x2*-0x25e,0x21f7+-0x2*0xb75+-0xb0d],_0x3103d8=[-0x130d*0x2+-0x21fd+-0x4817*-0x1,-0xeb*0x2+0x245e+-0x2288,0x2530+-0x1cab+-0x885];for(let _0x123053=0x12ff+0x2301+-0x3600;_0x123053<_0x16c95e;++_0x123053){const _0x443e57=_0x331a88[_0x123053*(-0xbc5+-0x1fa5*-0x1+0x2d*-0x71)+(0x5e*0x39+0x701*0x1+-0x1*0x1bef)]*(0x78f+0x3*0x246+-0xe5e),_0x34a866=_0x331a88[_0x123053*(0xbed+-0x1*0x25d9+-0x8a5*-0x3)+(-0x1*-0x243f+0x5aa*0x1+-0x29e8)]*(0x64*0x1d+-0x1a92+0xf41),_0x44afa1=_0x331a88[_0x123053*(0x3*0xc73+0x14cf+-0x3a25)+(0xbfd+0x82*0x32+0x427*-0x9)]*(0x153d*0x1+0x6cf+-0x1c09);_0x5d1a68(_0x81848d,_0x427b69,_0x443e57),_0x5d1a68(_0x1730d6,_0x427b69,_0x34a866),_0x5d1a68(_0x2c90c5,_0x427b69,_0x44afa1),_0x335e27(_0x29f942,_0x1730d6,_0x81848d),_0x335e27(_0x4352b4,_0x2c90c5,_0x81848d),_0x136f00(_0x3103d8,_0x29f942,_0x4352b4),_0x37db3b(_0x3103d8,-0x8d*-0x21+0x156*-0x2+-0x93*0x1b);for(let _0x44761e=0x2*0x132d+-0x4d*0x2b+-0x196b;_0x44761e<-0x13*-0x16+0xc2f*0x2+-0x19fd;++_0x44761e)_0x40df70[_0x443e57+_0x44761e]+=_0x3103d8[_0x44761e],_0x40df70[_0x34a866+_0x44761e]+=_0x3103d8[_0x44761e],_0x40df70[_0x44afa1+_0x44761e]+=_0x3103d8[_0x44761e];}for(let _0x400e27=0x1791+0x169*-0x2+-0x71*0x2f;_0x400e27<_0x4c2993;++_0x400e27)_0x37db3b(_0x40df70,_0x400e27*(0x270e+-0x1076+-0x7b*0x2f));return new Uint8Array(_0x40df70['buffer']);},_0x4cebba=_0x5557dd=>{const _0x35cb08={},_0x8f2c51=new _0x2952da['DecoderBuf'+'fer']();_0x8f2c51['Init'](_0x5557dd,_0x5557dd['length']);const _0x4ad81b=new _0x2952da['Decoder']();if(_0x4ad81b['GetEncoded'+'GeometryTy'+'pe'](_0x8f2c51)!==_0x2952da['TRIANGULAR'+'_MESH'])return _0x35cb08['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x35cb08;const _0x18a497=new _0x2952da['Mesh'](),_0x166bd1=_0x4ad81b['DecodeBuff'+'erToMesh'](_0x8f2c51,_0x18a497);if(!_0x166bd1||!_0x166bd1['ok']()||_0x2952da['getPointer'](_0x18a497)===0x1*-0x2356+0x207*0x12+-0x128)return _0x35cb08['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x35cb08;const _0x417c60=_0x18a497['num_faces']()*(0x1f6d+-0x1*0x21bf+-0x3*-0xc7),_0x87d082=_0x18a497['num_points']()<=-0x3233*-0x1+0x1239e*-0x1+0x1f16a,_0x53a897=_0x417c60*(_0x87d082?-0xba*0x13+-0x1625*-0x1+-0x855:-0x8d5+-0x1*-0x11ef+-0x916),_0x36a076=_0x2952da['_malloc'](_0x53a897);_0x87d082?(_0x4ad81b['GetTriangl'+'esUInt16Ar'+'ray'](_0x18a497,_0x53a897,_0x36a076),_0x35cb08['indices']=new Uint16Array(_0x2952da['HEAPU16']['buffer'],_0x36a076,_0x417c60)['slice']()['buffer']):(_0x4ad81b['GetTriangl'+'esUInt32Ar'+'ray'](_0x18a497,_0x53a897,_0x36a076),_0x35cb08['indices']=new Uint32Array(_0x2952da['HEAPU32']['buffer'],_0x36a076,_0x417c60)['slice']()['buffer']),_0x2952da['_free'](_0x36a076);const _0x5cc43c=[];for(let _0x421560=-0x24a6+0x3c7+0xbb*0x2d;_0x421560<_0x18a497['num_attrib'+'utes']();++_0x421560)_0x5cc43c['push'](_0x4ad81b['GetAttribu'+'te'](_0x18a497,_0x421560));_0x5cc43c['sort']((_0x3de6c6,_0x224e0a)=>(_0x508dc6[_0x3de6c6['attribute_'+'type']()]??_0x508dc6['length'])-(_0x508dc6[_0x224e0a['attribute_'+'type']()]??_0x508dc6['length'])),_0x35cb08['attributes']=_0x5cc43c['map'](_0x3c77e6=>_0x3c77e6['unique_id']());let _0x4a6d87=0x324+-0x504+0x1e0;const _0x3eb25c=_0x5cc43c['map'](_0x19ee71=>{const _0x47c14a=_0x4a6d87;return _0x4a6d87+=Math['ceil'](_0x425126(_0x19ee71)/(0x5d8*-0x2+-0x2*0xc37+0x2422))*(-0x1*-0x10d+-0x2*0xb10+0x1517),_0x47c14a;}),_0x1616eb=_0x5cc43c['some'](_0x52b23f=>_0x52b23f['attribute_'+'type']()===-0x1b61+-0x8a*-0x11+-0x4*-0x48e),_0x52e399=_0x3eb25c[0x235+0x565*0x7+-0x27f7];if(!_0x1616eb){for(let _0x3dfcd2=0x197d+-0x7*-0x461+-0x3823;_0x3dfcd2<_0x3eb25c['length'];++_0x3dfcd2)_0x3eb25c[_0x3dfcd2]+=-0xca0+-0x1cf9+0x7*0x5f3;_0x4a6d87+=0x1623+0xade*0x2+-0x2bd3;}_0x35cb08['vertices']=new ArrayBuffer(_0x18a497['num_points']()*_0x4a6d87);const _0x1acf96=new Uint8Array(_0x35cb08['vertices']);for(let _0x14bbe9=0xb*0x49+0x1dff*-0x1+0x1adc;_0x14bbe9<_0x18a497['num_attrib'+'utes']();++_0x14bbe9){const _0x2053d4=_0x5cc43c[_0x14bbe9],_0x8aaa43=_0x425126(_0x2053d4),_0x422f75=_0x18a497['num_points']()*_0x8aaa43,_0x1363ae=_0x2952da['_malloc'](_0x422f75);_0x4ad81b['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x18a497,_0x2053d4,_0x2053d4['data_type'](),_0x422f75,_0x1363ae);const _0x3f3cf2=new Uint8Array(_0x2952da['HEAPU8']['buffer'],_0x1363ae,_0x422f75);for(let _0x5778ce=-0x992+0xd57+-0x3c5;_0x5778ce<_0x18a497['num_points']();++_0x5778ce)for(let _0x59e669=0x215*0x3+-0x836*0x3+-0x9*-0x20b;_0x59e669<_0x8aaa43;++_0x59e669)_0x1acf96[_0x5778ce*_0x4a6d87+_0x3eb25c[_0x14bbe9]+_0x59e669]=_0x3f3cf2[_0x5778ce*_0x8aaa43+_0x59e669];if(!_0x1616eb&&_0x2053d4['attribute_'+'type']()===-0x845*-0x1+-0x19a0+0x1*0x115b){const _0x5b69d3=_0x544f94(_0xc9e5a3(_0x3f3cf2,_0x2053d4['data_type']()),_0x87d082?new Uint16Array(_0x35cb08['indices']):new Uint32Array(_0x35cb08['indices']));for(let _0x1ec185=-0xe85+0x10ab+-0x226;_0x1ec185<_0x18a497['num_points']();++_0x1ec185)for(let _0x4d642f=-0x12b*0x11+-0x723+0x1afe;_0x4d642f<-0x1*-0x2186+-0x1fbc+-0x1be;++_0x4d642f)_0x1acf96[_0x1ec185*_0x4a6d87+_0x52e399+_0x4d642f]=_0x5b69d3[_0x1ec185*(-0x12af+-0x1*0x7bb+0x1a76)+_0x4d642f];}_0x2952da['_free'](_0x1363ae);}return _0x2952da['destroy'](_0x18a497),_0x2952da['destroy'](_0x4ad81b),_0x2952da['destroy'](_0x8f2c51),_0x35cb08;},_0x21aad2=_0x353458=>{const _0x517e5d=_0x4cebba(new Uint8Array(_0x353458['buffer']));self['postMessag'+'e']({'jobId':_0x353458['jobId'],'error':_0x517e5d['error'],'indices':_0x517e5d['indices'],'vertices':_0x517e5d['vertices'],'attributes':_0x517e5d['attributes']},[_0x517e5d['indices'],_0x517e5d['vertices']]['filter'](_0x7b2cb0=>_0x7b2cb0!=null));},_0x44ffd0=[];self['onmessage']=_0x551cc2=>{const _0x34b1fd=_0x551cc2['data'];switch(_0x34b1fd['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x401d54,_0xa1648d)=>(WebAssembly['instantiat'+'e'](_0x34b1fd['module'],_0x401d54)['then'](_0x516cbe=>_0xa1648d(_0x516cbe))['catch'](_0x47b53c=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x47b53c)),{})})['then'](_0x5d4f7d=>{_0x2952da=_0x5d4f7d,_0x44ffd0['forEach'](_0x5c1469=>_0x21aad2(_0x5c1469));});break;case'decodeMesh':_0x2952da?_0x21aad2(_0x34b1fd):_0x44ffd0['push'](_0x34b1fd);break;}};}const Og=-0x144+-0x270c+-0x1*-0x2853;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=0x1*-0x647+-0x1b9b+0x21e2,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x491324,_0x30b702)=>{_0x491324['postMessag'+'e']({'type':'decodeMesh','jobId':_0x30b702['jobId'],'buffer':_0x30b702['buffer']},[_0x30b702['buffer']]);};}['init'](_0x3644aa){for(_0x3644aa['forEach'](_0x2518fc=>{_0x2518fc['addEventLi'+'stener']('message',_0x200150=>{const _0x12ba68=_0x200150['data'],_0x55dc18=this['jobCallbac'+'ks']['get'](_0x12ba68['jobId']);if(_0x55dc18&&_0x55dc18(_0x12ba68['error'],{'indices':_0x12ba68['indices'],'vertices':_0x12ba68['vertices'],'attributes':_0x12ba68['attributes']}),this['jobCallbac'+'ks']['delete'](_0x12ba68['jobId']),this['jobQueue']['length']>-0xb*0xfd+-0x1588+0x2067){const _0x79e152=this['jobQueue']['shift']();this['run'](_0x2518fc,_0x79e152);}else{const _0xf7ffce=this['workers'][-0x176e+-0xe42+0x25b2*0x1]['indexOf'](_0x2518fc);if(_0xf7ffce!==-(-0x1*0x147e+0x2659+-0x11da))this['workers'][0x727*-0x2+-0xfc9+0x5*0x605]['splice'](_0xf7ffce,-0x1789+-0x18a1+0x302b),this['workers'][-0x1*0x17f5+-0x1225*-0x2+-0x315*0x4]['push'](_0x2518fc);else{const _0x583e7f=this['workers'][0x2117+0x1*0x236+-0x234c]['indexOf'](_0x2518fc);_0x583e7f!==-(0x2044+0x19ef+-0x3a32)?(this['workers'][0x21f5+0xe51+-0x3045]['splice'](_0x583e7f,-0x370+0x133d+-0xfcc),this['workers'][-0x14b0+-0x26d8+0xee2*0x4]['push'](_0x2518fc)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x22d6+-0x226d*-0x1+0x69]=_0x3644aa;this['jobQueue']['length']&&(this['workers'][-0x1da3+0x9*-0xd5+-0xb0*-0x36]['length']||this['workers'][-0x21b8+-0x809*0x3+0x2*0x1cea]['length']);){const _0x49abd0=this['jobQueue']['shift']();if(this['workers'][-0x1416+-0x1feb+0x3401]['length']>-0x1*0x2fb+0x43*0x25+-0x6b4){const _0x153d4d=this['workers'][0x13bf+0x201b+-0x33da]['shift']();this['workers'][0x2583+0x1954+-0x3ed6]['push'](_0x153d4d),this['run'](_0x153d4d,_0x49abd0);}else{const _0x170c1c=this['workers'][-0x196*0x2+-0xe0e*0x2+-0x1*-0x1f49]['shift']();this['workers'][0xb*-0xf3+-0xb0f+0x1582]['push'](_0x170c1c),this['run'](_0x170c1c,_0x49abd0);}}}['enqueueJob'](_0x495be2,_0x12977e){const _0x487851={'jobId':this['jobId']++,'buffer':_0x495be2};if(this['jobCallbac'+'ks']['set'](_0x487851['jobId'],_0x12977e),this['workers'][-0x71*0x17+-0x114a+0x19*0x119]['length']>0x38e+-0x535*-0x3+-0x132d){const _0x368dd0=this['workers'][-0x3*-0x1f3+0x2240+-0x805*0x5]['shift']();this['workers'][-0x1*-0x1f8d+-0x3*-0x555+-0x2f8b]['push'](_0x368dd0),this['run'](_0x368dd0,_0x487851);}else{if(this['workers'][-0x2241+-0x657+0x13*0x223]['length']>0x250f+0x1071+-0x1ac*0x20){const _0x1efbeb=this['workers'][-0x5d+0x22*0xfd+0x84f*-0x4]['shift']();this['workers'][-0x32f*0x1+-0x5b*0x3+0x442]['push'](_0x1efbeb),this['run'](_0x1efbeb,_0x487851);}else this['jobQueue']['push'](_0x487851);}}}const _D=_0x5962e0=>new Promise((_0x66c61,_0x1e523a)=>{const _0x547dd6={'cache':!(0xbbf+0x1*-0x61+0x1e*-0x61),'responseType':'text','retry':Og>0x4*-0x6a1+-0x380+0x1e04,'maxRetries':Og};We['get'](_0x5962e0,_0x547dd6,(_0x324447,_0x6d18d8)=>{_0x324447?_0x1e523a(_0x324447):_0x66c61(_0x6d18d8);});}),gD=_0x29e407=>{const _0x5eff3a=()=>fetch(_0x29e407)['then'](_0x2d2d93=>_0x2d2d93['arrayBuffe'+'r']())['then'](_0x4d4db7=>WebAssembly['compile'](_0x4d4db7)),_0x3191fa=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x29e407))['catch'](_0x426c54=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x29e407+'\x20('+_0x426c54+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5eff3a()));return WebAssembly['compileStr'+'eaming']?_0x3191fa():_0x5eff3a();},kg=0x25cb+-0xad2+0x1af8*-0x1;let xh;const yD=_0x5c8686=>{if(xh)return!(0x125a+0x1a58+-0x2*0x1659);if(!_0x5c8686){const _0x5774be=ay['getConfig']('DracoDecod'+'erModule');_0x5774be?_0x5c8686={'jsUrl':_0x5774be['glueUrl'],'wasmUrl':_0x5774be['wasmUrl'],'numWorkers':_0x5774be['numWorkers']}:_0x5c8686={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x5c8686['jsUrl']||!_0x5c8686['wasmUrl']?!(0xcaf*0x2+0x1a3*-0x7+0x28*-0x59):(xh=new mD(),Promise['all']([_D(_0x5c8686['jsUrl']),gD(_0x5c8686['wasmUrl'])])['then'](([_0x59d4f6,_0xd0231c])=>{const _0x35cb1e=['/*\x20draco\x20*'+'/',_0x59d4f6,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x3e6a71=new Blob([_0x35cb1e],{'type':'applicatio'+'n/javascri'+'pt'}),_0x60ad23=URL['createObje'+'ctURL'](_0x3e6a71),_0x17166e=Math['max'](0x1*0x2041+0x984+-0x2c*0xf3,Math['min'](0xabf+-0x373*-0x1+0x3*-0x4b6,_0x5c8686['numWorkers']||kg)),_0xf3a5e1=[];for(let _0x57326c=-0x1*-0x92e+0x17f6*-0x1+0xec8;_0x57326c<_0x17166e;++_0x57326c){const _0x556788=new Worker(_0x60ad23);_0x556788['postMessag'+'e']({'type':'init','module':_0xd0231c}),_0xf3a5e1['push'](_0x556788);}xh['init'](_0xf3a5e1);}),!(0x1*0x1a83+0x1dd9+-0x385c));},xD=(_0x4ec634,_0x4b4586)=>yD()?(xh['enqueueJob'](_0x4ec634,_0x4b4586),!(0xf70+-0xb11+-0x45f)):!(-0x736*0x1+0x19d1+-0x129a);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x4005ca=>{_0x4005ca['meshes']=null;});}}const Rx=_0x35be0a=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x35be0a),vD=_0x1bb325=>_0x1bb325['substring'](_0x1bb325['indexOf'](':')+(-0x929+-0x17b1*-0x1+-0xe87*0x1),_0x1bb325['indexOf'](';')),$o=_0x590fe9=>{switch(_0x590fe9){case'SCALAR':return-0x115f*-0x1+-0x2a7*0xb+-0x1*-0xbcf;case'VEC2':return-0x272*-0x5+0x14f7*-0x1+0x1*0x8bf;case'VEC3':return-0x2347+0xc52+0x16f8;case'VEC4':return 0x1c25+0x1*-0x3+0x3b*-0x7a;case'MAT2':return 0xacb+0x2*-0x323+-0x481;case'MAT3':return 0x3*-0x1a2+0x260c+-0x211d;case'MAT4':return 0x9f9+-0x9*0xa9+-0x3f8;default:return-0x981+-0x17*-0x124+-0x10b8;}},Jc=_0x3f1cbf=>{switch(_0x3f1cbf){case 0x18ea+0x11c8+-0x16b2:return Rc;case-0x6f4+-0x1b1*0x7+0x26cc:return Kr;case-0x12df+0x1033+0x16ae:return Ic;case-0x8e1+0xf4f+0x487*0x3:return el;case-0x14ec+0x1cb*0xe+0xfd6*0x1:return By;case 0x78b+-0x3f7+0x1071:return Do;case 0x1178+-0x1419+0x16a7:return Ee;default:return 0x21db+0x4d*-0x62+-0x1*0x461;}},bD=_0x3382f3=>{switch(_0x3382f3){case-0xcd*-0x9+0x2ef*-0x1+0xfba:return 0x12d0*-0x2+-0x1178+-0x1*-0x3719;case-0x2de+0x19b*-0x4+0x1d4b:return-0xd01*-0x3+-0x12*-0x1a3+-0x4478;case-0x1968+0xf13+-0x35f*-0x9:return-0xa*-0x28+-0x21ab+0x201d;case-0x62*-0xf+-0x15ab+-0x398*-0xa:return-0x248c*0x1+-0x9db+0x2e69;case 0x13a6+0x1*0xb0+-0x52:return 0x1e06+-0x3*0x2f6+-0x1520;case-0x24a*0xc+0x3*0x85d+0x1666:return-0xcab*0x2+-0x12f4+-0x1*-0x2c4e;case-0x877+0x17bc+0x4c1*0x1:return 0x2495+-0x1*-0x26e+0x95*-0x43;default:return-0xd*-0x4+-0x56f*-0x6+-0x20ce;}},wD=_0x258605=>{switch(_0x258605){case 0x3b4+-0xc3d*0x1+-0x5b5*-0x5:return Int8Array;case 0x277f+-0x1ca0+0x922:return Uint8Array;case-0x1989+0x12*-0x9+0x1*0x2e2d:return Int16Array;case 0x27f3+-0x1f08+0xb18:return Uint16Array;case 0x1*-0x2d6+0xe8f+0x84b:return Int32Array;case-0x5e6*-0x4+-0xe0a+0xa77:return Uint32Array;case 0x38b+0xb17+0x5c*0xf:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:0xe+-0x12fa+0x2b4*0x7,[Yt]:0x1cd*0xb+0x180*-0x8+-0x36*0x25,[Zs]:-0x1f00*0x1+0x757+-0x53*-0x49,[At]:0x173d+0xc91+-0x1*0x23cb,[qt]:0x1*-0x16+-0x2*-0x7c7+-0x3dd*0x4,[Ys]:0x2*0xa45+-0x38a+-0x3f*0x45,[ns]:0x5*0x37+-0x1ea2+0x1*0x1d95,[_n]:-0x195*0x5+0x8b*-0x2c+-0x61*-0x54,[jo]:-0x441+-0x254*0xf+0x2735,[Yo]:0x1*-0x159d+0x235b+-0xdb5,[Ko]:0xd5+-0x1*-0xebf+-0xf8a,[Zo]:-0x215f+0x2609+-0x5b*0xd,[Qo]:-0x2103+0x1637+0x8*0x15b,[Jo]:0x61*0x39+0x14f4+-0x88*0x50},TD=_0x57b4c6=>{switch(_0x57b4c6){case Rc:return _0x568eed=>Math['max'](_0x568eed/(0x1e*-0xbb+-0x5a1+0x1c0a),-(-0x1c28+0x2*0x342+-0x15a5*-0x1));case Kr:return _0x9cd8bf=>_0x9cd8bf/(0x2251+0x1711+0x1*-0x3863);case Ic:return _0x44856b=>Math['max'](_0x44856b/(-0x76a6*0x1+-0x7895+0x16f3a),-(0x1eb4+-0x10f5*0x1+-0x2*0x6df));case el:return _0x3e5cf7=>_0x3e5cf7/(-0x8583+-0x162be+0x2e840);default:return _0x9a797=>_0x9a797;}},xf=(_0xd137b1,_0x56411b,_0x108ea2)=>{const _0x7a3ca9=TD(_0x108ea2),_0x2ff2e5=_0x56411b['length'];for(let _0x46d62e=-0x1198+-0x1f32+0x30ca*0x1;_0x46d62e<_0x2ff2e5;++_0x46d62e)_0xd137b1[_0x46d62e]=_0x7a3ca9(_0x56411b[_0x46d62e]);return _0xd137b1;},sn=(_0x1b3848,_0x3b64eb,_0x55479d=!(-0x1952+-0x1*-0x161+-0xbf9*-0x2))=>{const _0x20d473=$o(_0x1b3848['type']),_0x2b038d=wD(_0x1b3848['componentT'+'ype']);if(!_0x2b038d)return null;let _0x4f0504;if(_0x1b3848['sparse']){const _0xaf8433=_0x1b3848['sparse'],_0x1c8845={'count':_0xaf8433['count'],'type':'SCALAR'},_0x36d403=sn(Object['assign'](_0x1c8845,_0xaf8433['indices']),_0x3b64eb,!(-0x2ed+0x1c12*0x1+-0x1925*0x1)),_0x5c4429={'count':_0xaf8433['count'],'type':_0x1b3848['type'],'componentType':_0x1b3848['componentT'+'ype']},_0x5d91a9=sn(Object['assign'](_0x5c4429,_0xaf8433['values']),_0x3b64eb,!(-0xb66+0x1505*-0x1+-0xc1*-0x2b));if(_0x1b3848['hasOwnProp'+'erty']('bufferView')){const _0xa5acd4={'bufferView':_0x1b3848['bufferView'],'byteOffset':_0x1b3848['byteOffset'],'componentType':_0x1b3848['componentT'+'ype'],'count':_0x1b3848['count'],'type':_0x1b3848['type']};_0x4f0504=sn(_0xa5acd4,_0x3b64eb,!(0xb98+0x558+0x10*-0x10f))['slice']();}else _0x4f0504=new _0x2b038d(_0x1b3848['count']*_0x20d473);for(let _0x4ee2d0=0x15ff+-0x422+-0x11dd*0x1;_0x4ee2d0<_0xaf8433['count'];++_0x4ee2d0){const _0x2ae610=_0x36d403[_0x4ee2d0];for(let _0x2b2cba=0x2668+0x2441+-0x4aa9;_0x2b2cba<_0x20d473;++_0x2b2cba)_0x4f0504[_0x2ae610*_0x20d473+_0x2b2cba]=_0x5d91a9[_0x4ee2d0*_0x20d473+_0x2b2cba];}}else{if(_0x1b3848['hasOwnProp'+'erty']('bufferView')){const _0xf96685=_0x3b64eb[_0x1b3848['bufferView']];if(_0x55479d&&_0xf96685['hasOwnProp'+'erty']('byteStride')){const _0x43177c=_0x20d473*_0x2b038d['BYTES_PER_'+'ELEMENT'],_0x23406d=new ArrayBuffer(_0x1b3848['count']*_0x43177c),_0x33944b=new Uint8Array(_0x23406d);let _0x267c86=0x19af*0x1+-0x1*-0x1591+0xa8*-0x48;for(let _0x46dca6=0x6*0x2bd+-0x3af+0xcbf*-0x1;_0x46dca6<_0x1b3848['count'];++_0x46dca6){let _0x6202f2=(_0x1b3848['byteOffset']||-0x2295+0xd*-0x25c+0x4141)+_0x46dca6*_0xf96685['byteStride'];for(let _0xa7ff44=-0x22d*0x5+-0x2*0xe99+0x2813*0x1;_0xa7ff44<_0x43177c;++_0xa7ff44)_0x33944b[_0x267c86++]=_0xf96685[_0x6202f2++];}_0x4f0504=new _0x2b038d(_0x23406d);}else _0x4f0504=new _0x2b038d(_0xf96685['buffer'],_0xf96685['byteOffset']+(_0x1b3848['byteOffset']||0xc75+-0x92f+-0x346),_0x1b3848['count']*_0x20d473);}else _0x4f0504=new _0x2b038d(_0x1b3848['count']*_0x20d473);}return _0x4f0504;},ma=(_0x2adbe7,_0x325852)=>{const _0x2f636c=sn(_0x2adbe7,_0x325852,!(-0x17*0x61+-0x1085+-0x13*-0x154));if(_0x2f636c instanceof Float32Array||!_0x2adbe7['normalized'])return _0x2f636c;const _0x5abd42=new Float32Array(_0x2f636c['length']);return xf(_0x5abd42,_0x2f636c,Jc(_0x2adbe7['componentT'+'ype'])),_0x5abd42;},Sf=_0x5c35fa=>{let _0x3e6e02=_0x5c35fa['min'],_0x3f07e1=_0x5c35fa['max'];if(!_0x3e6e02||!_0x3f07e1)return null;if(_0x5c35fa['normalized']){const _0x257bfb=Jc(_0x5c35fa['componentT'+'ype']);_0x3e6e02=xf([],_0x3e6e02,_0x257bfb),_0x3f07e1=xf([],_0x3f07e1,_0x257bfb);}return new _e(new T((_0x3f07e1[0x1*0x1925+-0x1a0*-0xb+-0x2b05*0x1]+_0x3e6e02[0x376+0x1b91*-0x1+0x809*0x3])*(0x2b*0x4a+0x1*-0x26f5+0x1a87+0.5),(_0x3f07e1[-0x815+0xbc4+-0x3ae]+_0x3e6e02[0x5*-0x6e5+-0x108+0x2382])*(0x1c5c+0x610+-0x226c+0.5),(_0x3f07e1[0x252a+0xb*-0x38d+0x1e7]+_0x3e6e02[0x10a0+0xd6e*-0x1+-0x330])*(-0x8d5*-0x1+-0x794*0x4+0x9*0x263+0.5)),new T((_0x3f07e1[0x2072*-0x1+0x3ff*-0x9+-0xd3*-0x53]-_0x3e6e02[-0x376*0x7+-0x3b2+-0x6fb*-0x4])*(-0x568+0x1d86+-0x181e+0.5),(_0x3f07e1[0x14ae+-0x4*0x788+-0x1*-0x973]-_0x3e6e02[-0x1c1b+-0x1e24*-0x1+0x41*-0x8])*(-0x82*-0xb+0x3*-0xb0a+0x1b88+0.5),(_0x3f07e1[-0xe0d+-0x256+0x1065]-_0x3e6e02[0x1f62+-0x2561+0x601])*(-0x10*0x5a+0x917*-0x3+-0x3*-0xaf7+0.5)));},Ix=_0x5dd911=>{if(!_0x5dd911['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x5dd911['mode']){case 0xe*-0x1be+-0x4d6*0x4+0x74a*0x6:return Mc;case-0x3*-0x941+-0x19af+-0x213:return Pc;case 0x3*0xb6f+-0x14e+-0xaff*0x3:return My;case-0x2f6*-0x1+-0x1*0x1b16+-0xa7*-0x25:return Py;case-0x18cf+0x53e*-0x7+0x3d85:return Ms;case-0x2693*-0x1+0x1df*0xb+-0x1*0x3b23:return ar;case-0x2f7+0x2*0x784+0x1*-0xc0b:return Yr;default:return Ms;}},AD=_0x433651=>{const _0x14bb24=new Uint16Array(_0x433651);for(let _0x147703=-0x18d9+-0x12c1+0x2b9a;_0x147703<_0x433651;_0x147703++)_0x14bb24[_0x147703]=_0x147703;return _0x14bb24;},ED=(_0x1e10b7,_0x462c80)=>{const _0x1d925a=_0x1e10b7[He];if(!_0x1d925a||_0x1d925a['components']!==-0x6d3+-0x965*-0x3+0x1*-0x1559)return;let _0x23f289;if(_0x1d925a['size']!==_0x1d925a['stride']){const _0x16083c=_0x1d925a['stride']/_o[_0x1d925a['type']],_0x59e44a=new da[_0x1d925a['type']](_0x1d925a['buffer'],_0x1d925a['offset'],_0x1d925a['count']*_0x16083c);_0x23f289=new da[_0x1d925a['type']](_0x1d925a['count']*(-0x10*0x26a+0xd4c+0x1f3*0xd));for(let _0xa58055=0x4c5+-0x1070+0xbab;_0xa58055<_0x1d925a['count'];++_0xa58055)_0x23f289[_0xa58055*(0x24ea+-0x1*0x606+-0x1ee1)+(0x142d+0x3c7*0xa+-0x2b*0x159)]=_0x59e44a[_0xa58055*_0x16083c+(0x2*0x84e+-0x1*0x458+-0xc44)],_0x23f289[_0xa58055*(0x1*0x1e49+0x1e6c+-0x3cb2)+(-0x18a*0x6+0x17a8+-0xe6b*0x1)]=_0x59e44a[_0xa58055*_0x16083c+(0x43f*0x3+-0x1*-0x1859+-0x35f*0xb)],_0x23f289[_0xa58055*(-0x6e6+0x8d3+0x46*-0x7)+(0x1cf0+0x24cc+-0x20dd*0x2)]=_0x59e44a[_0xa58055*_0x16083c+(-0x26d2+-0x1c4e+0x52a*0xd)];}else _0x23f289=new da[_0x1d925a['type']](_0x1d925a['buffer'],_0x1d925a['offset'],_0x1d925a['count']*(-0x14*0xe5+0x206d*-0x1+0x2*0x192a));const _0x19d02b=_0x1d925a['count'];_0x462c80||(_0x462c80=AD(_0x19d02b));const _0x4b9a8f=k0(_0x23f289,_0x462c80),_0x579ba5=new Float32Array(_0x4b9a8f['length']);_0x579ba5['set'](_0x4b9a8f),_0x1e10b7[Yt]={'buffer':_0x579ba5['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x19d02b,'components':0x3,'type':Ee};},CD=_0x3eb278=>{const _0x118c5e=_0x3806f1=>{const _0x5121b3=[];for(let _0x3d4481=0x39*0x87+0x149*-0xd+-0x2*0x6ad;_0x3d4481<_0x3806f1['_levels']['length'];++_0x3d4481){let _0x339f4a=[];if(_0x3806f1['cubemap']){for(let _0x1fe129=-0x3d*0x61+-0xf31*0x2+0x357f;_0x1fe129<0x1282*-0x1+0x2*-0x2ef+0xc33*0x2;++_0x1fe129)_0x339f4a['push'](_0x3806f1['_levels'][_0x3d4481][_0x1fe129]);}else _0x339f4a=_0x3806f1['_levels'][_0x3d4481];_0x5121b3['push'](_0x339f4a);}return _0x5121b3;},_0x1d4348=new he(_0x3eb278['device'],_0x3eb278);return _0x1d4348['_levels']=_0x118c5e(_0x3eb278),_0x1d4348;},MD=_0x186fc4=>{const _0x2f317f=new le(_0x186fc4['name']+'_clone',_0x186fc4['type'],_0x186fc4['file'],_0x186fc4['data'],_0x186fc4['options']);return _0x2f317f['loaded']=!(0x1a88+0x1173+-0x2bfb),_0x2f317f['resource']=CD(_0x186fc4['resource']),_0x186fc4['registry']['add'](_0x2f317f),_0x2f317f;},PD=(_0x198f74,_0x29abd3)=>{const _0x5ebccf=_0x29abd3[He];if(!_0x5ebccf)return null;const _0xaf77df=_0x5ebccf['count'],_0x36ab2e=[];for(const _0x19474a in _0x29abd3)if(_0x29abd3['hasOwnProp'+'erty'](_0x19474a)){const _0x34eaac={'semantic':_0x19474a,'components':_0x29abd3[_0x19474a]['components'],'type':_0x29abd3[_0x19474a]['type'],'normalize':!!_0x29abd3[_0x19474a]['normalize']};Et['isElementV'+'alid'](_0x198f74,_0x34eaac)||_0x34eaac['components']++,_0x36ab2e['push'](_0x34eaac);}_0x36ab2e['sort']((_0x3944bf,_0x29f39d)=>Bg[_0x3944bf['semantic']]-Bg[_0x29f39d['semantic']]);let _0x1064dc,_0x424503,_0x2aa022,_0x50ea60,_0x3585c9,_0x354be3;const _0x1ac7d7=new Et(_0x198f74,_0x36ab2e);let _0x125e54=!(-0x3d3*0x1+-0x922+0xcf5);for(_0x1064dc=0x2010+0x25be*-0x1+0x5ae;_0x1064dc<_0x1ac7d7['elements']['length'];++_0x1064dc)if(_0x3585c9=_0x1ac7d7['elements'][_0x1064dc],_0x50ea60=_0x29abd3[_0x3585c9['name']],_0x354be3=_0x50ea60['offset']-_0x5ebccf['offset'],_0x50ea60['buffer']!==_0x5ebccf['buffer']||_0x50ea60['stride']!==_0x3585c9['stride']||_0x50ea60['size']!==_0x3585c9['size']||_0x354be3!==_0x3585c9['offset']){_0x125e54=!(0x2267*0x1+0x2545+-0x1*0x47ab);break;}const _0x59acb7=new os(_0x198f74,_0x1ac7d7,_0xaf77df),_0x592910=_0x59acb7['lock'](),_0x29f8a3=new Uint32Array(_0x592910);let _0x2156e0;if(_0x125e54)_0x2156e0=new Uint32Array(_0x5ebccf['buffer'],_0x5ebccf['offset'],_0xaf77df*_0x59acb7['format']['size']/(-0x35*0x3c+0xe20+-0x1b0)),_0x29f8a3['set'](_0x2156e0);else{let _0x2681a0,_0x32dbcc;for(_0x1064dc=0x1*-0x1e89+-0x1913+0x379c;_0x1064dc<_0x59acb7['format']['elements']['length'];++_0x1064dc){_0x3585c9=_0x59acb7['format']['elements'][_0x1064dc],_0x2681a0=_0x3585c9['stride']/(0x2662+-0x1b2f+-0xb2f),_0x50ea60=_0x29abd3[_0x3585c9['name']],_0x32dbcc=_0x50ea60['stride']/(-0x19ee*0x1+0x1808+0x1ea),_0x2156e0=new Uint32Array(_0x50ea60['buffer'],_0x50ea60['offset'],(_0x50ea60['count']-(0x21d3+0x211e*0x1+-0x42f0))*_0x32dbcc+(_0x50ea60['size']+(0x24b1+-0x17d5*-0x1+-0x3c83*0x1))/(-0x1*0x1d+-0x1*0x714+-0x267*-0x3));let _0x37e42b=0x1*0x220f+0x83*-0x3a+-0x461,_0x3aec42=_0x3585c9['offset']/(-0x123b+0xbc*0xb+-0x89*-0x13);const _0x12cbca=Math['floor']((_0x50ea60['size']+(0x2*0x48b+0x156f*0x1+0xa*-0x30d))/(-0x23e6+0x10d2+0x1318));for(_0x424503=0x221d+-0x13ee+-0xe2f;_0x424503<_0xaf77df;++_0x424503){for(_0x2aa022=-0x8*0x42c+0x435+0x1d2b;_0x2aa022<_0x12cbca;++_0x2aa022)_0x29f8a3[_0x3aec42+_0x2aa022]=_0x2156e0[_0x37e42b+_0x2aa022];_0x37e42b+=_0x32dbcc,_0x3aec42+=_0x2681a0;}}}return _0x59acb7['unlock'](),_0x59acb7;},RD=(_0x20c6fa,_0x494885,_0x318176,_0x3b2be3,_0x2675bf,_0x111851)=>{const _0x1e472b={},_0x880595=[];for(const _0x5185b2 in _0x494885)_0x494885['hasOwnProp'+'erty'](_0x5185b2)&&ec['hasOwnProp'+'erty'](_0x5185b2)&&(_0x1e472b[_0x5185b2]=_0x494885[_0x5185b2],_0x880595['push'](_0x5185b2+':'+_0x494885[_0x5185b2]));_0x880595['sort']();const _0x260ca4=_0x880595['join']();let _0x48aae5=_0x111851[_0x260ca4];if(!_0x48aae5){const _0x103f4f={};for(const _0x3061fe in _0x1e472b){const _0x43d3d=_0x3b2be3[_0x494885[_0x3061fe]],_0x187150=sn(_0x43d3d,_0x2675bf),_0x57811c=_0x2675bf[_0x43d3d['bufferView']],_0x1626b5=ec[_0x3061fe],_0x42b519=$o(_0x43d3d['type'])*bD(_0x43d3d['componentT'+'ype']),_0x3b6b5a=_0x57811c&&_0x57811c['hasOwnProp'+'erty']('byteStride')?_0x57811c['byteStride']:_0x42b519;_0x103f4f[_0x1626b5]={'buffer':_0x187150['buffer'],'size':_0x42b519,'offset':_0x187150['byteOffset'],'stride':_0x3b6b5a,'count':_0x43d3d['count'],'components':$o(_0x43d3d['type']),'type':Jc(_0x43d3d['componentT'+'ype']),'normalize':_0x43d3d['normalized']};}_0x103f4f['hasOwnProp'+'erty'](Yt)||ED(_0x103f4f,_0x318176),_0x48aae5=PD(_0x20c6fa,_0x103f4f),_0x111851[_0x260ca4]=_0x48aae5;}return _0x48aae5;},ID=(_0x5709bb,_0x43621b,_0x1fb53c,_0x3acba3,_0x2ef0ca,_0x4c8d05)=>{let _0x5b989a,_0x40d7cc,_0x109e98;const _0x47da0d=_0x43621b['joints'],_0x1b0e43=_0x47da0d['length'],_0x141c43=[];if(_0x43621b['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x51957d=_0x43621b['inverseBin'+'dMatrices'],_0x1f90fc=sn(_0x1fb53c[_0x51957d],_0x3acba3,!(0x1911+0x24ae+-0x3dbf)),_0x6703fc=[];for(_0x5b989a=-0x1*-0x2001+-0x22fc+-0x1*-0x2fb;_0x5b989a<_0x1b0e43;_0x5b989a++){for(_0x40d7cc=-0x78d*0x5+0x136f+0xe*0x14f;_0x40d7cc<-0xdc*0x16+0xd37+0x1*0x5c1;_0x40d7cc++)_0x6703fc[_0x40d7cc]=_0x1f90fc[_0x5b989a*(0x37a*-0xa+-0x2463+0x3b*0x135)+_0x40d7cc];_0x109e98=new q(),_0x109e98['set'](_0x6703fc),_0x141c43['push'](_0x109e98);}}else{for(_0x5b989a=-0x1*0x466+0x544+-0xde;_0x5b989a<_0x1b0e43;_0x5b989a++)_0x109e98=new q(),_0x141c43['push'](_0x109e98);}const _0x100f4e=[];for(_0x5b989a=-0x91+-0x1*-0x6e7+0x2*-0x32b;_0x5b989a<_0x1b0e43;_0x5b989a++)_0x100f4e[_0x5b989a]=_0x2ef0ca[_0x47da0d[_0x5b989a]]['name'];const _0x5ea03e=_0x100f4e['join']('#');let _0x36b236=_0x4c8d05['get'](_0x5ea03e);return _0x36b236||(_0x36b236=new N0(_0x5709bb,_0x141c43,_0x100f4e),_0x4c8d05['set'](_0x5ea03e,_0x36b236)),_0x36b236;},DD=(_0x5483d1,_0x173c9b,_0x3290d7,_0x283713,_0x52f538,_0xe0ad79,_0x3e31a5)=>{var _0x319502;const _0x1e42cf=new Ie(_0x5483d1);_0x1e42cf['aabb']=Sf(_0x3290d7[_0x173c9b['attributes']['POSITION']]);const _0x26ae97=[];for(const [_0x38d69e,_0x4b6a46]of Object['entries'](_0x173c9b['attributes'])){const _0x217432=_0x3290d7[_0x4b6a46],_0x22a3c1=ec[_0x38d69e],_0x4c377c=Jc(_0x217432['componentT'+'ype']);_0x26ae97['push']({'semantic':_0x22a3c1,'components':$o(_0x217432['type']),'type':_0x4c377c,'normalize':_0x217432['normalized']??(_0x22a3c1===At&&(_0x4c377c===Kr||_0x4c377c===el))});}if(_0x3e31a5['push'](new Promise((_0x429d1a,_0x2ffcba)=>{const _0x1b4887=_0x173c9b['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x283713[_0x1b4887['bufferView']]['slice']()['buffer'],(_0x9149b8,_0x31aae1)=>{var _0x559e74;if(_0x9149b8)console['log'](_0x9149b8),_0x2ffcba(_0x9149b8);else{const _0x34d1dc={};for(const [_0x36d4e0,_0x473fc2]of Object['entries'](_0x1b4887['attributes']))_0x34d1dc[ec[_0x36d4e0]]=_0x31aae1['attributes']['indexOf'](_0x473fc2);_0x26ae97['sort']((_0x46c0b5,_0x4aa7ec)=>_0x34d1dc[_0x46c0b5['semantic']]-_0x34d1dc[_0x4aa7ec['semantic']]),(_0x559e74=_0x173c9b['attributes'])!=null&&_0x559e74['NORMAL']||_0x26ae97['splice'](0x6*0x19+-0x1a6e+0x19d9,-0x991*0x1+-0x473+0x34*0x45,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x537c4d=new Et(_0x5483d1,_0x26ae97),_0x612479=_0x31aae1['vertices']['byteLength']/_0x537c4d['size'],_0x30e9b4=_0x612479<=0x8011+-0x3*0x4b1a+0x1613c?Pi:nr,_0x2b443e=_0x31aae1['indices']['byteLength']/(_0x612479<=-0x4f9d*-0x1+0xd422+-0x16*0x1a0?0x20f*0xd+0x5*-0x1c1+-0x47f*0x4:-0x4cc+-0x7*-0x131+-0x7*0x81);v['call'](()=>{_0x612479!==_0x3290d7[_0x173c9b['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x2b443e!==_0x3290d7[_0x173c9b['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x344eed=new os(_0x5483d1,_0x537c4d,_0x612479,{'data':_0x31aae1['vertices']}),_0x30dcb9=new lr(_0x5483d1,_0x30e9b4,_0x2b443e,jt,_0x31aae1['indices']);_0x1e42cf['vertexBuff'+'er']=_0x344eed,_0x1e42cf['indexBuffe'+'r'][-0x1cd+0x1f1b+-0x1d4e]=_0x30dcb9,_0x1e42cf['primitive'][0x1933*0x1+0x1e3c+-0x376f]['type']=Ix(_0x173c9b),_0x1e42cf['primitive'][0xbff+-0xbd9+-0x1*0x26]['base']=0x1da4+-0xb1d+-0x1287,_0x1e42cf['primitive'][0x23ed+-0x1ac3*0x1+0x3*-0x30e]['count']=_0x30dcb9?_0x2b443e:_0x612479,_0x1e42cf['primitive'][0x163e+0x6c5*-0x5+-0xb9b*-0x1]['indexed']=!!_0x30dcb9,_0x429d1a();}});})),(_0x319502=_0x173c9b==null?void(0x35f+0x1efe+-0x225d):_0x173c9b['extensions'])!=null&&_0x319502['KHR_materi'+'als_varian'+'ts']){const _0x57bbbb=_0x173c9b['extensions']['KHR_materi'+'als_varian'+'ts'],_0x283415={};_0x57bbbb['mappings']['forEach'](_0x517550=>{_0x517550['variants']['forEach'](_0x438c0a=>{_0x283415[_0x438c0a]=_0x517550['material'];});}),_0x52f538[_0x1e42cf['id']]=_0x283415;}return _0xe0ad79[_0x1e42cf['id']]=_0x173c9b['material'],_0x1e42cf;},LD=(_0xea4ea9,_0x3cb5b3,_0x292a35,_0xb5c933,_0x1a6fa5,_0x7cd71d,_0x4b3fff,_0x5b6e9f,_0x1c8a54)=>{const _0x49d8b=[];return _0x3cb5b3['primitives']['forEach'](_0x305234=>{var _0x2b4c12;if((_0x2b4c12=_0x305234['extensions'])!=null&&_0x2b4c12['KHR_draco_'+'mesh_compr'+'ession'])_0x49d8b['push'](DD(_0xea4ea9,_0x305234,_0x292a35,_0xb5c933,_0x7cd71d,_0x4b3fff,_0x1c8a54));else{let _0x1f5d54=_0x305234['hasOwnProp'+'erty']('indices')?sn(_0x292a35[_0x305234['indices']],_0xb5c933,!(0x2650+0x1207+0x1*-0x3857)):null;const _0xe4fa04=RD(_0xea4ea9,_0x305234['attributes'],_0x1f5d54,_0x292a35,_0xb5c933,_0x1a6fa5),_0x403fef=Ix(_0x305234),_0x530846=new Ie(_0xea4ea9);if(_0x530846['vertexBuff'+'er']=_0xe4fa04,_0x530846['primitive'][0x91*-0x36+0x2d*0xdb+-0x7e9]['type']=_0x403fef,_0x530846['primitive'][-0x2a9*0x1+-0x17fe+0x1aa7]['base']=-0x4*-0x101+0xf95*0x1+-0x1399,_0x530846['primitive'][-0xae*-0x32+-0x122+-0x20da]['indexed']=_0x1f5d54!==null,_0x1f5d54!==null){let _0x22280b;_0x1f5d54 instanceof Uint8Array?_0x22280b=pu:_0x1f5d54 instanceof Uint16Array?_0x22280b=Pi:_0x22280b=nr,_0x22280b===pu&&_0xea4ea9['isWebGPU']&&(_0x22280b=Pi,_0x1f5d54=new Uint16Array(_0x1f5d54));const _0x4378e7=new lr(_0xea4ea9,_0x22280b,_0x1f5d54['length'],jt,_0x1f5d54);_0x530846['indexBuffe'+'r'][-0x136f+-0xa*-0x14+0x12a7]=_0x4378e7,_0x530846['primitive'][0xc2f+-0xbb3+-0x1f*0x4]['count']=_0x1f5d54['length'];}else _0x530846['primitive'][-0x36d*-0x3+0x182*-0x13+-0x125f*-0x1]['count']=_0xe4fa04['numVertice'+'s'];if(_0x305234['hasOwnProp'+'erty']('extensions')&&_0x305234['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0xeb0f72=_0x305234['extensions']['KHR_materi'+'als_varian'+'ts'],_0x346b20={};_0xeb0f72['mappings']['forEach'](_0x137843=>{_0x137843['variants']['forEach'](_0x1d52b5=>{_0x346b20[_0x1d52b5]=_0x137843['material'];});}),_0x7cd71d[_0x530846['id']]=_0x346b20;}_0x4b3fff[_0x530846['id']]=_0x305234['material'];let _0x447fc7=_0x292a35[_0x305234['attributes']['POSITION']];if(_0x530846['aabb']=Sf(_0x447fc7),_0x305234['hasOwnProp'+'erty']('targets')){const _0x317ea0=[];_0x305234['targets']['forEach']((_0x6ab73,_0x18bfee)=>{const _0xb7841c={};_0x6ab73['hasOwnProp'+'erty']('POSITION')&&(_0x447fc7=_0x292a35[_0x6ab73['POSITION']],_0xb7841c['deltaPosit'+'ions']=ma(_0x447fc7,_0xb5c933),_0xb7841c['aabb']=Sf(_0x447fc7)),_0x6ab73['hasOwnProp'+'erty']('NORMAL')&&(_0x447fc7=_0x292a35[_0x6ab73['NORMAL']],_0xb7841c['deltaNorma'+'ls']=ma(_0x447fc7,_0xb5c933)),_0x3cb5b3['hasOwnProp'+'erty']('extras')&&_0x3cb5b3['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0xb7841c['name']=_0x3cb5b3['extras']['targetName'+'s'][_0x18bfee]:_0xb7841c['name']=_0x18bfee['toString'](-0x305+-0x94a+0xc59),_0x3cb5b3['hasOwnProp'+'erty']('weights')&&(_0xb7841c['defaultWei'+'ght']=_0x3cb5b3['weights'][_0x18bfee]),_0xb7841c['preserveDa'+'ta']=_0x5b6e9f['morphPrese'+'rveData'],_0x317ea0['push'](new Qc(_0xb7841c));}),_0x530846['morph']=new F0(_0x317ea0,_0xea4ea9,{'preferHighPrecision':_0x5b6e9f['morphPrefe'+'rHighPreci'+'sion']});}_0x49d8b['push'](_0x530846);}}),_0x49d8b;},ft=(_0xef6635,_0x509a38,_0x249145)=>{var _0x2b349e;let _0x1620e8;const _0x403d63=_0xef6635['texCoord'];if(_0x403d63){for(_0x1620e8=-0xf63+-0x2347*0x1+0xa*0x511;_0x1620e8<_0x249145['length'];++_0x1620e8)_0x509a38[_0x249145[_0x1620e8]+'MapUv']=_0x403d63;}const _0x2ac633=[-0x231a*0x1+0xd1d*0x2+0x2*0x470,0x1*0x137+0x1f*-0xf7+0x2*0xe59],_0x1d455f=[0x1daf+-0xb2c+-0x1282,0x1806+-0x3*0xb4+-0x4f*0x47],_0x129a33=(_0x2b349e=_0xef6635['extensions'])==null?void(-0x15d1+-0x232*-0x8+0x441):_0x2b349e['KHR_textur'+'e_transfor'+'m'];if(_0x129a33){const _0x20a4d5=_0x129a33['offset']||_0x2ac633,_0x18e7c2=_0x129a33['scale']||_0x1d455f,_0x256339=_0x129a33['rotation']?-_0x129a33['rotation']*N['RAD_TO_DEG']:0xe*-0x65+-0x10c*0x5+-0x36*-0x33,_0x5ee4c9=new $(_0x18e7c2[0x3*0x2ea+0x1*-0x1162+0x229*0x4],_0x18e7c2[0x207a+-0x12d*-0xb+0x5ad*-0x8]),_0x20c337=new $(_0x20a4d5[-0x1294+-0x2175+0x4bb*0xb],0x26+-0x23a4+-0x27*-0xe9-_0x18e7c2[0x1*-0x9cd+0x1*-0xf8b+0x1959]-_0x20a4d5[0x2*0x1d1+-0x257*0xb+0x161c]);for(_0x1620e8=0x1237+-0x1*-0x19d5+-0x2c0c;_0x1620e8<_0x249145['length'];++_0x1620e8)_0x509a38[_0x249145[_0x1620e8]+'MapTiling']=_0x5ee4c9,_0x509a38[_0x249145[_0x1620e8]+'MapOffset']=_0x20c337,_0x509a38[_0x249145[_0x1620e8]+('MapRotatio'+'n')]=_0x256339;}},FD=(_0x1fc9d8,_0x2d7de2,_0x2be897)=>{let _0x347841,_0x248c63;if(_0x1fc9d8['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x347841=_0x1fc9d8['diffuseFac'+'tor'],_0x2d7de2['diffuse']['set'](Math['pow'](_0x347841[0x1*0x2477+0x135*-0x3+-0x20d8],(-0x1e89*0x1+-0x160a+0x3494)/(0x3d*0x5d+0xe*0x224+-0x341f+0.20000000000000018)),Math['pow'](_0x347841[0x1d*0x11b+-0x223*0x1+-0x14d*0x17],(-0x16c3+0x17bf*0x1+-0xfb)/(-0x66f*-0x5+-0x13df*0x1+-0xc4a*0x1+0.20000000000000018)),Math['pow'](_0x347841[0xec8*-0x1+0x8*-0x19a+0xdcd*0x2],(-0x26c4+0x1c0d+0x2*0x55c)/(0x283*-0x9+0x0+-0x33b*-0x7+0.20000000000000018))),_0x2d7de2['opacity']=_0x347841[0xda8+0x1f4e*-0x1+-0x89*-0x21]):(_0x2d7de2['diffuse']['set'](0x120f+0x683+-0x1891,0xc3*0x1+-0xc5*-0x11+-0x3*0x49d,0x35e*0x2+0x3f3*0x1+0x557*-0x2),_0x2d7de2['opacity']=-0x285*0xc+0x1*-0xb51+0x24f*0x12),_0x1fc9d8['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x12fecb=_0x1fc9d8['diffuseTex'+'ture'];_0x248c63=_0x2be897[_0x12fecb['index']],_0x2d7de2['diffuseMap']=_0x248c63,_0x2d7de2['diffuseMap'+'Channel']='rgb',_0x2d7de2['opacityMap']=_0x248c63,_0x2d7de2['opacityMap'+'Channel']='a',ft(_0x12fecb,_0x2d7de2,['diffuse','opacity']);}if(_0x2d7de2['useMetalne'+'ss']=!(-0x23f0+-0x1ccb+-0x1594*-0x3),_0x1fc9d8['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x347841=_0x1fc9d8['specularFa'+'ctor'],_0x2d7de2['specular']['set'](Math['pow'](_0x347841[0xc1c+0x368+0x52c*-0x3],(-0x6*0x372+-0x2*0x9b2+0x2811)/(-0x1c99*-0x1+-0x2009*-0x1+-0x3ca0+0.20000000000000018)),Math['pow'](_0x347841[-0x1*-0x122f+0x20ed*0x1+-0x59*0x93],(0x8e*-0x1+0x1ac8+-0x1a39)/(-0x22*0xc5+0x3c2+0x166a+0.20000000000000018)),Math['pow'](_0x347841[-0x14e5+0x44*0x4+0x13d7],(0x1079+-0x37*0x8b+-0x7f*-0x1b)/(0x28b*-0x7+0x2*-0x1ed+0x15a9+0.20000000000000018)))):_0x2d7de2['specular']['set'](0x3*-0x23+0x54*0x1e+-0x96e,0x2*0x5f9+0xe54+-0x1a45*0x1,0x830+0xd7*-0x9+-0xa0),_0x1fc9d8['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x2d7de2['gloss']=_0x1fc9d8['glossiness'+'Factor']:_0x2d7de2['gloss']=0x147b+0x7f9*0x3+0x2c65*-0x1,_0x1fc9d8['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0xf5aee3=_0x1fc9d8['specularGl'+'ossinessTe'+'xture'];_0x2d7de2['specularEn'+'coding']='srgb',_0x2d7de2['specularMa'+'p']=_0x2d7de2['glossMap']=_0x2be897[_0xf5aee3['index']],_0x2d7de2['specularMa'+'pChannel']='rgb',_0x2d7de2['glossMapCh'+'annel']='a',ft(_0xf5aee3,_0x2d7de2,['gloss','metalness']);}},OD=(_0x4ce2dd,_0x124770,_0x2758ac)=>{if(_0x4ce2dd['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x124770['clearCoat']=_0x4ce2dd['clearcoatF'+'actor']*(0x277*-0x6+0x1e86+-0xfbc+0.25):_0x124770['clearCoat']=-0x1d*0x91+-0x17d6+-0x1*-0x2843,_0x4ce2dd['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x1aacb9=_0x4ce2dd['clearcoatT'+'exture'];_0x124770['clearCoatM'+'ap']=_0x2758ac[_0x1aacb9['index']],_0x124770['clearCoatM'+'apChannel']='r',ft(_0x1aacb9,_0x124770,['clearCoat']);}if(_0x4ce2dd['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x124770['clearCoatG'+'loss']=_0x4ce2dd['clearcoatR'+'oughnessFa'+'ctor']:_0x124770['clearCoatG'+'loss']=-0x120b+-0x1*-0xe27+0x6*0xa6,_0x4ce2dd['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x2e41eb=_0x4ce2dd['clearcoatR'+'oughnessTe'+'xture'];_0x124770['clearCoatG'+'lossMap']=_0x2758ac[_0x2e41eb['index']],_0x124770['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x2e41eb,_0x124770,['clearCoatG'+'loss']);}if(_0x4ce2dd['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x53ebb0=_0x4ce2dd['clearcoatN'+'ormalTextu'+'re'];_0x124770['clearCoatN'+'ormalMap']=_0x2758ac[_0x53ebb0['index']],ft(_0x53ebb0,_0x124770,['clearCoatN'+'ormal']),_0x53ebb0['hasOwnProp'+'erty']('scale')&&(_0x124770['clearCoatB'+'umpiness']=_0x53ebb0['scale']);}_0x124770['clearCoatG'+'lossInvert']=!(0x1053*0x1+0x3*0xc1+0x7a*-0x27);},kD=(_0x4c567e,_0x4ae98d,_0x186128)=>{_0x4ae98d['useLightin'+'g']=!(-0xaf7*0x3+0x32e*-0x8+0x72*0x83),_0x4ae98d['emissive']['copy'](_0x4ae98d['diffuse']),_0x4ae98d['emissiveMa'+'p']=_0x4ae98d['diffuseMap'],_0x4ae98d['emissiveMa'+'pUv']=_0x4ae98d['diffuseMap'+'Uv'],_0x4ae98d['emissiveMa'+'pTiling']['copy'](_0x4ae98d['diffuseMap'+'Tiling']),_0x4ae98d['emissiveMa'+'pOffset']['copy'](_0x4ae98d['diffuseMap'+'Offset']),_0x4ae98d['emissiveMa'+'pRotation']=_0x4ae98d['diffuseMap'+'Rotation'],_0x4ae98d['emissiveMa'+'pChannel']=_0x4ae98d['diffuseMap'+'Channel'],_0x4ae98d['emissiveVe'+'rtexColor']=_0x4ae98d['diffuseVer'+'texColor'],_0x4ae98d['emissiveVe'+'rtexColorC'+'hannel']=_0x4ae98d['diffuseVer'+'texColorCh'+'annel'],_0x4ae98d['useLightin'+'g']=!(-0x1373*0x1+-0x1acd+0x2e41*0x1),_0x4ae98d['useSkybox']=!(0x224d+-0x5*-0x511+-0x3ba1),_0x4ae98d['diffuse']['set'](0x1*0x14f+0x59*-0x61+0x206b,0x10c8+0x1ee6+-0x2fad,-0x35f*0xb+-0x5c2*-0x1+0xfaa*0x2),_0x4ae98d['diffuseMap']=null,_0x4ae98d['diffuseVer'+'texColor']=!(0x10c0+0xedc*0x1+-0xa89*0x3);},BD=(_0xdb5426,_0x26a020,_0x1e9b89)=>{if(_0x26a020['useMetalne'+'ssSpecular'+'Color']=!(-0x1302+0x1*-0x1065+-0x9f*-0x39),_0xdb5426['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x26a020['specularEn'+'coding']='srgb',_0x26a020['specularMa'+'p']=_0x1e9b89[_0xdb5426['specularCo'+'lorTexture']['index']],_0x26a020['specularMa'+'pChannel']='rgb',ft(_0xdb5426['specularCo'+'lorTexture'],_0x26a020,['specular'])),_0xdb5426['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0xf06ff5=_0xdb5426['specularCo'+'lorFactor'];_0x26a020['specular']['set'](Math['pow'](_0xf06ff5[-0x271+0x874+-0x603],(-0x1dae+0x16c*0x6+0x1527)/(0x427*0x4+-0x2f*-0xc9+-0x3581+0.20000000000000018)),Math['pow'](_0xf06ff5[0x3dd+-0x69f+0x2c3*0x1],(0x665*-0x5+0xb6b+0x115*0x13)/(-0x1*0x20f7+0x6e*0x25+0x1113+0.20000000000000018)),Math['pow'](_0xf06ff5[0x191*0xd+-0x1*-0x3fb+-0x1856],(-0x14e4+0x115+-0x4f4*-0x4)/(0x416+0xe*0x26b+-0x25ee+0.20000000000000018)));}else _0x26a020['specular']['set'](0x2423+-0x224c+-0x1d6*0x1,-0x1*0x49+0x252c+-0x24e2,-0x2*-0x71+-0x102b+0xf4a);_0xdb5426['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x26a020['specularit'+'yFactor']=_0xdb5426['specularFa'+'ctor']:_0x26a020['specularit'+'yFactor']=0x1*0x217d+-0xb02+-0x6*0x3bf,_0xdb5426['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x26a020['specularit'+'yFactorMap'+'Channel']='a',_0x26a020['specularit'+'yFactorMap']=_0x1e9b89[_0xdb5426['specularTe'+'xture']['index']],ft(_0xdb5426['specularTe'+'xture'],_0x26a020,['specularit'+'yFactor']));},ND=(_0x118822,_0x4bc871,_0x5536a9)=>{_0x118822['hasOwnProp'+'erty']('ior')&&(_0x4bc871['refraction'+'Index']=(-0x1*-0x3e8+-0x1a9d*0x1+0x156*0x11)/_0x118822['ior']);},zD=(_0x4c62be,_0x1449a1,_0x23bcd0)=>{_0x4c62be['hasOwnProp'+'erty']('dispersion')&&(_0x1449a1['dispersion']=_0x4c62be['dispersion']);},UD=(_0x575ea7,_0x8aa23d,_0x2384e6)=>{_0x8aa23d['blendType']=Kt,_0x8aa23d['useDynamic'+'Refraction']=!(-0x11c1+0x12eb*0x1+0x1*-0x12a),_0x575ea7['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x8aa23d['refraction']=_0x575ea7['transmissi'+'onFactor']),_0x575ea7['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x8aa23d['refraction'+'MapChannel']='r',_0x8aa23d['refraction'+'Map']=_0x2384e6[_0x575ea7['transmissi'+'onTexture']['index']],ft(_0x575ea7['transmissi'+'onTexture'],_0x8aa23d,['refraction']));},VD=(_0x283304,_0x2d2f25,_0x4cd7ac)=>{if(_0x2d2f25['useSheen']=!(-0x16f*-0x1b+-0x169c+-0x1019),_0x283304['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x377fdf=_0x283304['sheenColor'+'Factor'];_0x2d2f25['sheen']['set'](Math['pow'](_0x377fdf[0x3d9*-0xa+0x9*-0x350+0x1*0x444a],(-0x5*0x11+-0x1232+-0x944*-0x2)/(-0x620+0x1abf*-0x1+0x20e1+0.20000000000000018)),Math['pow'](_0x377fdf[-0x2*0x127b+-0xeb*-0x19+0xe04],(0x2*0x6fd+-0x3d*-0x31+-0x2*0xcd3)/(-0xfc8+0x1*-0x1a9c+0x2a66+0.20000000000000018)),Math['pow'](_0x377fdf[-0xc6+0xd74+-0xcac],(-0x19*-0xc5+0x3*-0x9b1+0x9d7)/(-0x325+0x2e*0x5d+-0x485*0x3+0.20000000000000018)));}else _0x2d2f25['sheen']['set'](0x14ec+0x25bd*-0x1+0x10d2,-0x86*-0x16+-0x19f+0x4*-0x279,0x25bc+0xb18*0x3+-0x4703);_0x283304['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x2d2f25['sheenMap']=_0x4cd7ac[_0x283304['sheenColor'+'Texture']['index']],_0x2d2f25['sheenEncod'+'ing']='srgb',ft(_0x283304['sheenColor'+'Texture'],_0x2d2f25,['sheen'])),_0x2d2f25['sheenGloss']=_0x283304['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x283304['sheenRough'+'nessFactor']:0x16d*0xd+-0x182b+0x2*0x2d1,_0x283304['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x2d2f25['sheenGloss'+'Map']=_0x4cd7ac[_0x283304['sheenRough'+'nessTextur'+'e']['index']],_0x2d2f25['sheenGloss'+'MapChannel']='a',ft(_0x283304['sheenRough'+'nessTextur'+'e'],_0x2d2f25,['sheenGloss'])),_0x2d2f25['sheenGloss'+'Invert']=!(0x20ad+-0x1336+-0xd77);},GD=(_0x54db98,_0x2d084d,_0x4ab125)=>{if(_0x2d084d['blendType']=Kt,_0x2d084d['useDynamic'+'Refraction']=!(-0x12f6+-0x3*-0x3eb+0x735),_0x54db98['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x2d084d['thickness']=_0x54db98['thicknessF'+'actor']),_0x54db98['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x2d084d['thicknessM'+'ap']=_0x4ab125[_0x54db98['thicknessT'+'exture']['index']],_0x2d084d['thicknessM'+'apChannel']='g',ft(_0x54db98['thicknessT'+'exture'],_0x2d084d,['thickness'])),_0x54db98['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x2d084d['attenuatio'+'nDistance']=_0x54db98['attenuatio'+'nDistance']),_0x54db98['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x4105d7=_0x54db98['attenuatio'+'nColor'];_0x2d084d['attenuatio'+'n']['set'](Math['pow'](_0x4105d7[-0x21ae+0xe*-0x1f+-0x20*-0x11b],(-0x9d*0x7+-0xce1+-0x112d*-0x1)/(0x305*0x4+0x1b4+-0xdc6+0.20000000000000018)),Math['pow'](_0x4105d7[-0x192c+-0x17ee+0x3c7*0xd],(0x14*-0x1c2+0x909*0x2+0x1117)/(-0x1e8*0x11+0x1407+0x97*0x15+0.20000000000000018)),Math['pow'](_0x4105d7[-0x1d39+0x1ac*0x1+0x1b8f],(-0xb6f+0x7*-0xa7+0x1001*0x1)/(0xfd1+-0x1*-0x6f4+0x1*-0x16c3+0.20000000000000018)));}},HD=(_0x25d32a,_0x17235d,_0xd29dc6)=>{_0x25d32a['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x17235d['emissiveIn'+'tensity']=_0x25d32a['emissiveSt'+'rength']);},$D=(_0x24a48e,_0x211329,_0x3d21f6)=>{_0x211329['useIridesc'+'ence']=!(-0x2504+-0xc13*0x2+0x3d2a),_0x24a48e['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x211329['iridescenc'+'e']=_0x24a48e['iridescenc'+'eFactor']),_0x24a48e['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x211329['iridescenc'+'eMapChanne'+'l']='r',_0x211329['iridescenc'+'eMap']=_0x3d21f6[_0x24a48e['iridescenc'+'eTexture']['index']],ft(_0x24a48e['iridescenc'+'eTexture'],_0x211329,['iridescenc'+'e'])),_0x24a48e['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x211329['iridescenc'+'eRefractio'+'nIndex']=_0x24a48e['iridescenc'+'eIor']),_0x24a48e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x211329['iridescenc'+'eThickness'+'Min']=_0x24a48e['iridescenc'+'eThickness'+'Minimum']),_0x24a48e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x211329['iridescenc'+'eThickness'+'Max']=_0x24a48e['iridescenc'+'eThickness'+'Maximum']),_0x24a48e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x211329['iridescenc'+'eThickness'+'MapChannel']='g',_0x211329['iridescenc'+'eThickness'+'Map']=_0x3d21f6[_0x24a48e['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x24a48e['iridescenc'+'eThickness'+'Texture'],_0x211329,['iridescenc'+'eThickness']));},Dx=(_0x502afd,_0x5e4db4)=>{const _0x13f62e=new cs();_0x502afd['hasOwnProp'+'erty']('name')&&(_0x13f62e['name']=_0x502afd['name']),_0x13f62e['occludeSpe'+'cular']=Bo,_0x13f62e['diffuseVer'+'texColor']=!(-0x3*0xcaf+-0x1*-0x2485+-0x188*-0x1),_0x13f62e['specularTi'+'nt']=!(0x1*-0x17f+-0x150b*0x1+-0x241*-0xa),_0x13f62e['specularVe'+'rtexColor']=!(0xbea+-0x1*0x11+0x3f3*-0x3),_0x13f62e['specular']['set'](0xd35+-0x1*-0x1cb7+-0x1*0x29eb,0x1*-0x663+-0xd52+-0x1d*-0xae,0x4d1+-0x742*0x1+0x272),_0x13f62e['gloss']=-0x1829+-0xd20+0x12a5*0x2,_0x13f62e['glossInver'+'t']=!(0x1d1+-0x58c*0x1+0x3bb),_0x13f62e['useMetalne'+'ss']=!(-0x53*-0x1+-0x77e+0x72b);let _0x3f6c73,_0x1e25e5;if(_0x502afd['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x284df6=_0x502afd['pbrMetalli'+'cRoughness'];if(_0x284df6['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x3f6c73=_0x284df6['baseColorF'+'actor'],_0x13f62e['diffuse']['set'](Math['pow'](_0x3f6c73[-0x59*0x49+0x4*0x67f+-0x9b],(-0xbb1+-0xc0e+0x140*0x13)/(0x22*0x79+-0x2*0x9af+0x3*0x11a+0.20000000000000018)),Math['pow'](_0x3f6c73[-0x72*0x2b+-0x2153+0x347a],(-0x64+-0xb*0x2b4+-0x3*-0xa0b)/(-0x24f6*-0x1+0x1*-0x102b+-0x14c9+0.20000000000000018)),Math['pow'](_0x3f6c73[-0x43*-0x67+0x1*-0x5dd+-0x1516],(-0x1*0x5d5+0x17*0x7f+0x1*-0x593)/(-0x996+0xb21+-0x189+0.20000000000000018))),_0x13f62e['opacity']=_0x3f6c73[-0xe4*-0x12+-0xabb+-0x2a5*0x2]),_0x284df6['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0xb38dca=_0x284df6['baseColorT'+'exture'];_0x1e25e5=_0x5e4db4[_0xb38dca['index']],_0x13f62e['diffuseMap']=_0x1e25e5,_0x13f62e['diffuseMap'+'Channel']='rgb',_0x13f62e['opacityMap']=_0x1e25e5,_0x13f62e['opacityMap'+'Channel']='a',ft(_0xb38dca,_0x13f62e,['diffuse','opacity']);}if(_0x284df6['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x13f62e['metalness']=_0x284df6['metallicFa'+'ctor']),_0x284df6['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x13f62e['gloss']=_0x284df6['roughnessF'+'actor']),_0x284df6['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x3a4847=_0x284df6['metallicRo'+'ughnessTex'+'ture'];_0x13f62e['metalnessM'+'ap']=_0x13f62e['glossMap']=_0x5e4db4[_0x3a4847['index']],_0x13f62e['metalnessM'+'apChannel']='b',_0x13f62e['glossMapCh'+'annel']='g',ft(_0x3a4847,_0x13f62e,['gloss','metalness']);}}if(_0x502afd['hasOwnProp'+'erty']('normalText'+'ure')){const _0x3eccbb=_0x502afd['normalText'+'ure'];_0x13f62e['normalMap']=_0x5e4db4[_0x3eccbb['index']],ft(_0x3eccbb,_0x13f62e,['normal']),_0x3eccbb['hasOwnProp'+'erty']('scale')&&(_0x13f62e['bumpiness']=_0x3eccbb['scale']);}if(_0x502afd['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x31f3a1=_0x502afd['occlusionT'+'exture'];_0x13f62e['aoMap']=_0x5e4db4[_0x31f3a1['index']],_0x13f62e['aoMapChann'+'el']='r',ft(_0x31f3a1,_0x13f62e,['ao']);}if(_0x502afd['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x3f6c73=_0x502afd['emissiveFa'+'ctor'],_0x13f62e['emissive']['set'](Math['pow'](_0x3f6c73[-0x2587+-0x1af*0xe+0x3d19],(0x3b*0x34+0x1960+-0x49*0x83)/(0x851+-0x1982+0x1133+0.20000000000000018)),Math['pow'](_0x3f6c73[-0x1253*0x1+0x1531+0x2dd*-0x1],(-0x24+0x1da9+-0x1d84)/(-0xb8b+0xc2b+-0x9e+0.20000000000000018)),Math['pow'](_0x3f6c73[0x197b+-0x16fd*-0x1+-0x3076],(0x9a3+0xbb*-0x35+0x1d15)/(-0x3*-0x742+-0x1c09*-0x1+-0x31cd+0.20000000000000018)))),_0x502afd['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x257499=_0x502afd['emissiveTe'+'xture'];_0x13f62e['emissiveMa'+'p']=_0x5e4db4[_0x257499['index']],ft(_0x257499,_0x13f62e,['emissive']);}if(_0x502afd['hasOwnProp'+'erty']('alphaMode'))switch(_0x502afd['alphaMode']){case'MASK':_0x13f62e['blendType']=is,_0x502afd['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x13f62e['alphaTest']=_0x502afd['alphaCutof'+'f']:_0x13f62e['alphaTest']=-0x26c1+0x3*0xbd3+0x348+0.5;break;case'BLEND':_0x13f62e['blendType']=Kt,_0x13f62e['depthWrite']=!(0x25f9+0x89*-0x9+-0x171*0x17);break;default:case'OPAQUE':_0x13f62e['blendType']=is;break;}else _0x13f62e['blendType']=is;_0x502afd['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x13f62e['twoSidedLi'+'ghting']=_0x502afd['doubleSide'+'d'],_0x13f62e['cull']=_0x502afd['doubleSide'+'d']?mt:rn):(_0x13f62e['twoSidedLi'+'ghting']=!(-0x4a*0x3b+0x222e+0x1*-0x111f),_0x13f62e['cull']=rn);const _0x596e9f={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':$D,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x502afd['hasOwnProp'+'erty']('extensions'))for(const _0x3c46a8 in _0x502afd['extensions']){const _0x172e72=_0x596e9f[_0x3c46a8];_0x172e72!==void(-0x2334+0x1a5c+0x236*0x4)&&_0x172e72(_0x502afd['extensions'][_0x3c46a8],_0x13f62e,_0x5e4db4);}return _0x13f62e['update'](),_0x13f62e;},WD=(_0x59f9c3,_0x3abf22,_0x7b8e66,_0x325587,_0x1ea156,_0x2c6e3e,_0x111221)=>{const _0x1960ae=_0x2e4b11=>new Jh($o(_0x2e4b11['type']),ma(_0x2e4b11,_0x325587)),_0x297e60={'STEP':W0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x5a7103={},_0x3572d2={},_0x5555f3={};let _0x5beb0b=-0x1*0x2209+0x8db*0x3+0x779,_0x1d6033;for(_0x1d6033=0x1065+0x93*-0x11+-0x6a2;_0x1d6033<_0x59f9c3['samplers']['length'];++_0x1d6033){const _0x118dc9=_0x59f9c3['samplers'][_0x1d6033];_0x5a7103['hasOwnProp'+'erty'](_0x118dc9['input'])||(_0x5a7103[_0x118dc9['input']]=_0x1960ae(_0x7b8e66[_0x118dc9['input']])),_0x3572d2['hasOwnProp'+'erty'](_0x118dc9['output'])||(_0x3572d2[_0x118dc9['output']]=_0x1960ae(_0x7b8e66[_0x118dc9['output']]));const _0x21b527=_0x118dc9['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x297e60['hasOwnProp'+'erty'](_0x118dc9['interpolat'+'ion'])?_0x297e60[_0x118dc9['interpolat'+'ion']]:ju,_0x9c8ec7={'paths':[],'input':_0x118dc9['input'],'output':_0x118dc9['output'],'interpolation':_0x21b527};_0x5555f3[_0x1d6033]=_0x9c8ec7;}const _0x3b99cb=[],_0x1faf2b={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x487cd2=_0x5cba6c=>{const _0x4164a1=[];for(;_0x5cba6c;)_0x4164a1['unshift'](_0x5cba6c['name']),_0x5cba6c=_0x5cba6c['parent'];return _0x4164a1;},_0x3fce40=(_0x5b1511,_0x402726,_0x46fdbf)=>{const _0x39f39e=_0x3572d2[_0x5b1511['output']];if(!_0x39f39e){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x46fdbf+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x100738;if(_0x2c6e3e&&_0x2c6e3e[_0x402726['mesh']]){const _0x50a2a1=_0x2c6e3e[_0x402726['mesh']];_0x50a2a1['hasOwnProp'+'erty']('extras')&&_0x50a2a1['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x100738=_0x50a2a1['extras']['targetName'+'s']);}const _0x4a0ae2=_0x39f39e['data'],_0x3edbe4=_0x4a0ae2['length']/_0x5a7103[_0x5b1511['input']]['data']['length'],_0x5094ad=_0x4a0ae2['length']/_0x3edbe4,_0x368213=_0x5094ad*(0x19a1*0x1+0x3*0x481+-0x2720),_0x588e77=new ArrayBuffer(_0x368213*_0x3edbe4);for(let _0x1e51c2=0xb4b+0x2dd+-0xe28;_0x1e51c2<_0x3edbe4;_0x1e51c2++){const _0x4647c3=new Float32Array(_0x588e77,_0x368213*_0x1e51c2,_0x5094ad);for(let _0x3c936a=0x1*-0x31a+-0x17*-0x53+0x1*-0x45b;_0x3c936a<_0x5094ad;_0x3c936a++)_0x4647c3[_0x3c936a]=_0x4a0ae2[_0x3c936a*_0x3edbe4+_0x1e51c2];const _0x42f631=new Jh(0x3*0x18a+-0x4e6*0x6+-0x18c7*-0x1,_0x4647c3),_0x20a2fa=_0x100738!=null&&_0x100738[_0x1e51c2]?'name.'+_0x100738[_0x1e51c2]:_0x1e51c2;_0x3572d2[-_0x5beb0b]=_0x42f631;const _0x43419a={'paths':[{'entityPath':_0x46fdbf,'component':'graph','propertyPath':['weight.'+_0x20a2fa]}],'input':_0x5b1511['input'],'output':-_0x5beb0b,'interpolation':_0x5b1511['interpolat'+'ion']};_0x5beb0b++,_0x5555f3['morphCurve'+'-'+_0x1d6033+'-'+_0x1e51c2]=_0x43419a;}};for(_0x1d6033=-0x1*-0x909+0x22ed+-0x2bf6;_0x1d6033<_0x59f9c3['channels']['length'];++_0x1d6033){const _0x4f88a9=_0x59f9c3['channels'][_0x1d6033],_0x57dacd=_0x4f88a9['target'],_0xb1ed2b=_0x5555f3[_0x4f88a9['sampler']],_0x2173a1=_0x1ea156[_0x57dacd['node']],_0x4d3312=_0x111221[_0x57dacd['node']],_0x2145f5=_0x487cd2(_0x2173a1);_0x57dacd['path']['startsWith']('weights')?(_0x3fce40(_0xb1ed2b,_0x4d3312,_0x2145f5),_0x5555f3[_0x4f88a9['sampler']]['morphCurve']=!(0x51c+-0x250f+0x1*0x1ff3)):_0xb1ed2b['paths']['push']({'entityPath':_0x2145f5,'component':'graph','propertyPath':[_0x1faf2b[_0x57dacd['path']]]});}const _0x5c9f34=[],_0x3dcb94=[],_0x68987f=[];for(const _0x4e8083 in _0x5a7103)_0x5c9f34['push'](_0x5a7103[_0x4e8083]),_0x5a7103[_0x4e8083]=_0x5c9f34['length']-(0xaf9*-0x3+0x7e*0x4d+-0x4fa);for(const _0x2d699f in _0x3572d2)_0x3dcb94['push'](_0x3572d2[_0x2d699f]),_0x3572d2[_0x2d699f]=_0x3dcb94['length']-(-0x463*0x5+0x18f*0x3+0x9*0x1eb);for(const _0x2bfc85 in _0x5555f3){const _0x67f410=_0x5555f3[_0x2bfc85];_0x67f410['morphCurve']||(_0x68987f['push'](new Px(_0x67f410['paths'],_0x5a7103[_0x67f410['input']],_0x3572d2[_0x67f410['output']],_0x67f410['interpolat'+'ion'])),_0x67f410['paths']['length']>-0x3ba+0x2*0xb4e+-0x12e2*0x1&&_0x67f410['paths'][0x1e36+0x192*0xb+-0x2f7c]['propertyPa'+'th'][0x16*-0x8b+0x5dc+0x616]==='localRotat'+'ion'&&_0x67f410['interpolat'+'ion']!==Yu&&_0x3b99cb['push'](_0x68987f[_0x68987f['length']-(-0xcdb+0x7+0xcd5)]['output']));}_0x3b99cb['sort']();let _0x35ba88=null,_0x100c26;for(_0x1d6033=0x25bd+0xb10+-0x30cd;_0x1d6033<_0x3b99cb['length'];++_0x1d6033){const _0x203437=_0x3b99cb[_0x1d6033];if(_0x1d6033===0x25*-0x1f+0x1de0+-0xb*0x24f||_0x203437!==_0x35ba88){if(_0x100c26=_0x3dcb94[_0x203437],_0x100c26['components']===-0x1*0x25a5+-0x1*0x562+-0xe59*-0x3){const _0x3d40c9=_0x100c26['data'],_0xc7a33e=_0x3d40c9['length']-(-0x1890+0xa31+0xe63);for(let _0x3a962e=-0x263b*0x1+0x1c6c+-0x3*-0x345;_0x3a962e<_0xc7a33e;_0x3a962e+=-0x134+-0xd6d+0xea5)_0x3d40c9[_0x3a962e+(-0x1585+0xc84+0x901)]*_0x3d40c9[_0x3a962e+(-0x245+0x238d+0x10a2*-0x2)]+_0x3d40c9[_0x3a962e+(0x1db7*-0x1+0xddc*-0x1+0x2b94)]*_0x3d40c9[_0x3a962e+(0x1ad4+0x5be*0x2+-0x1*0x264b)]+_0x3d40c9[_0x3a962e+(-0x1f38*-0x1+0x93*-0x9+-0x71*0x3b)]*_0x3d40c9[_0x3a962e+(0x15d+0x15*0x191+-0x223c)]+_0x3d40c9[_0x3a962e+(-0x1*-0x11f5+-0x16e8+0x4f6)]*_0x3d40c9[_0x3a962e+(-0x13eb*0x1+-0x1c32+0x3024)]<-0x2299+-0x25+-0x22be*-0x1&&(_0x3d40c9[_0x3a962e+(0x419+-0x1*-0x1775+-0x1b8a)]*=-(0x2*-0x581+0x44b*-0x1+0x6*0x28d),_0x3d40c9[_0x3a962e+(-0x2*-0x110+0x1871*-0x1+0x3*0x772)]*=-(0x2677+0x1*-0x2173+-0x503),_0x3d40c9[_0x3a962e+(-0x232*-0x5+0x29c*0xa+-0x1286*0x2)]*=-(0x7d2+-0x9e2+0x211),_0x3d40c9[_0x3a962e+(0x1*0x15fb+-0x251b+0xf27)]*=-(-0xf29+0xa*0x381+-0x13e0));}_0x35ba88=_0x203437;}}let _0x51cabd=-0x57*0x35+0x1e5e+-0xc5b;for(_0x1d6033=-0x1144+0x1*0x1334+0x1*-0x1f0;_0x1d6033<_0x5c9f34['length'];_0x1d6033++)_0x100c26=_0x5c9f34[_0x1d6033]['_data'],_0x51cabd=Math['max'](_0x51cabd,_0x100c26['length']===0xe75+0x2353+-0x31c8?0x593*-0x1+0x16*0x184+-0x1bc5:_0x100c26[_0x100c26['length']-(0xdcf+-0x1*-0x267b+-0x3449)]);return new Ri(_0x59f9c3['hasOwnProp'+'erty']('name')?_0x59f9c3['name']:'animation_'+_0x3abf22,_0x51cabd,_0x5c9f34,_0x3dcb94,_0x68987f);},eh=new q(),qn=new T(),qD=(_0x4a7153,_0x40d933,_0x34fe01)=>{const _0x3b291f=new De();if(_0x4a7153['hasOwnProp'+'erty']('name')&&_0x4a7153['name']['length']>0x25ea*0x1+-0x224b*-0x1+-0x4835?_0x3b291f['name']=_0x4a7153['name']:_0x3b291f['name']='node_'+_0x40d933,_0x4a7153['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x4a7153['matrix']),eh['getTransla'+'tion'](qn),_0x3b291f['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x3b291f['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x3b291f['setLocalSc'+'ale'](qn)),_0x4a7153['hasOwnProp'+'erty']('rotation')){const _0x2a3d42=_0x4a7153['rotation'];_0x3b291f['setLocalRo'+'tation'](_0x2a3d42[0x3*0x881+-0x67d+0x3ce*-0x5],_0x2a3d42[0xc90+-0x24*-0xab+0x1*-0x249b],_0x2a3d42[0x235+0x25e9+-0x281c],_0x2a3d42[-0xaa9*0x1+-0x3b9*0x7+0x24bb]);}if(_0x4a7153['hasOwnProp'+'erty']('translatio'+'n')){const _0x570933=_0x4a7153['translatio'+'n'];_0x3b291f['setLocalPo'+'sition'](_0x570933[-0x1446+-0x1e4b+0x3291],_0x570933[0x2061+-0x1*-0x12d7+-0x3337],_0x570933[-0x1a5*-0x8+0xa69*0x3+-0x2c61]);}if(_0x4a7153['hasOwnProp'+'erty']('scale')){const _0x52988f=_0x4a7153['scale'];_0x3b291f['setLocalSc'+'ale'](_0x52988f[0x3*-0x359+0x150c+0x1*-0xb01],_0x52988f[0x1e8f+0xd17*-0x1+0x107*-0x11],_0x52988f[-0x6d4+0x108a+-0x9b4]);}return _0x4a7153['hasOwnProp'+'erty']('extensions')&&_0x4a7153['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x34fe01['set'](_0x4a7153,{'ext':_0x4a7153['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x3b291f;},XD=(_0x1ea69c,_0x32af51)=>{const _0x252188=_0x1ea69c['type']==='orthograph'+'ic'?ua:Gs,_0x2724af=_0x252188===ua?_0x1ea69c['orthograph'+'ic']:_0x1ea69c['perspectiv'+'e'],_0x45dee5={'enabled':!(0x165f+-0x8*-0x2+-0x166e),'projection':_0x252188,'nearClip':_0x2724af['znear'],'aspectRatioMode':Ip};_0x2724af['zfar']&&(_0x45dee5['farClip']=_0x2724af['zfar']),_0x252188===ua?(_0x45dee5['orthoHeigh'+'t']=(-0x4df+-0x876*0x3+0x1e41+0.5)*_0x2724af['ymag'],_0x2724af['ymag']&&(_0x45dee5['aspectRati'+'oMode']=Bu,_0x45dee5['aspectRati'+'o']=_0x2724af['xmag']/_0x2724af['ymag'])):(_0x45dee5['fov']=_0x2724af['yfov']*N['RAD_TO_DEG'],_0x2724af['aspectRati'+'o']&&(_0x45dee5['aspectRati'+'oMode']=Bu,_0x45dee5['aspectRati'+'o']=_0x2724af['aspectRati'+'o']));const _0x17bce7=new $e(_0x1ea69c['name']);return _0x17bce7['addCompone'+'nt']('camera',_0x45dee5),_0x17bce7;},jD=(_0x4fc7a4,_0x216588)=>{const _0x10e41e={'enabled':!(-0x1c6e*-0x1+0xcdc+-0x2949),'type':_0x4fc7a4['type']==='point'?'omni':_0x4fc7a4['type'],'color':_0x4fc7a4['hasOwnProp'+'erty']('color')?new Y(_0x4fc7a4['color']):Y['WHITE'],'range':_0x4fc7a4['hasOwnProp'+'erty']('range')?_0x4fc7a4['range']:0x4b07*-0x1+0x638*-0xc+0xbcb6,'falloffMode':Wb,'intensity':_0x4fc7a4['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x4fc7a4['intensity'],0x18fb+0x25b2+0x3ead*-0x1,0x93a+-0x1*-0x1d4b+-0x2683):0xa63+-0x1*0x1017+-0x3*-0x1e7};_0x4fc7a4['hasOwnProp'+'erty']('spot')&&(_0x10e41e['innerConeA'+'ngle']=_0x4fc7a4['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x4fc7a4['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:0x262e+-0x986+-0x1ca8,_0x10e41e['outerConeA'+'ngle']=_0x4fc7a4['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x4fc7a4['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(0x20*0x40+-0x5de*-0x1+0x3*-0x49e)),_0x4fc7a4['hasOwnProp'+'erty']('intensity')&&(_0x10e41e['luminance']=_0x4fc7a4['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x10e41e['type']],_0x10e41e['outerConeA'+'ngle'],_0x10e41e['innerConeA'+'ngle']));const _0x4360b7=new $e(_0x216588['name']);return _0x4360b7['rotateLoca'+'l'](-0xef8+-0x733+-0x5*-0x481,0x8e*0xc+0x16*0x14b+0x2*-0x118d,-0x269c+-0xe05+0x34a1),_0x4360b7['addCompone'+'nt']('light',_0x10e41e),_0x4360b7;},YD=(_0x3fb8de,_0x3232b4,_0x1a6c0a,_0x8d25c8)=>{if(!_0x3232b4['hasOwnProp'+'erty']('skins')||_0x3232b4['skins']['length']===-0x1003+-0x11f9+0x3a*0x96)return[];const _0x341874=new Map();return _0x3232b4['skins']['map'](_0x31f4bb=>ID(_0x3fb8de,_0x31f4bb,_0x3232b4['accessors'],_0x8d25c8,_0x1a6c0a,_0x341874));},KD=(_0x418233,_0x1e552b,_0x3e8732,_0x5cf12f)=>{var _0x14173b,_0x4b1c8d,_0x180f14;const _0x3e37d4={},_0x59a15d={},_0x3e0983={},_0x4988b7=[];return{'meshes':!_0x5cf12f['skipMeshes']&&((_0x14173b=_0x1e552b==null?void(-0x2129*-0x1+0x1324+0x3*-0x116f):_0x1e552b['meshes'])==null?void(0x1a*-0x92+0x6cd*-0x2+0x1c6e):_0x14173b['length'])&&((_0x4b1c8d=_0x1e552b==null?void(-0x1*0x11be+-0x1a5*0xc+0x27*0xf6):_0x1e552b['accessors'])==null?void(0xa7b*0x1+-0x18cb+0xe50):_0x4b1c8d['length'])&&((_0x180f14=_0x1e552b==null?void(-0x104a+-0x54e+0x1598):_0x1e552b['bufferView'+'s'])==null?void(-0x134f+0x4*0xcf+0x1013):_0x180f14['length'])?_0x1e552b['meshes']['map'](_0x415afb=>LD(_0x418233,_0x415afb,_0x1e552b['accessors'],_0x3e8732,_0x3e37d4,_0x59a15d,_0x3e0983,_0x5cf12f,_0x4988b7)):[],'meshVariants':_0x59a15d,'meshDefaultMaterials':_0x3e0983,'promises':_0x4988b7};},ZD=(_0x4b9421,_0x464ca0,_0x5c907b)=>{var _0x1f11f9,_0x3e4605,_0x45a25f;if(!_0x4b9421['hasOwnProp'+'erty']('materials')||_0x4b9421['materials']['length']===-0x11bd*-0x1+-0x1*-0x17df+-0x299c)return[];const _0x333373=(_0x1f11f9=_0x5c907b==null?void(-0x10*-0x254+0x1aaa+-0x2*0x1ff5):_0x5c907b['material'])==null?void(0x1c5a+-0x3cb+-0x188f):_0x1f11f9['preprocess'],_0x55b218=((_0x3e4605=_0x5c907b==null?void(0x24be+-0x1d74+-0x74a):_0x5c907b['material'])==null?void(0x1e83+-0x1fa*-0xd+-0x3835):_0x3e4605['process'])??Dx,_0x10835b=(_0x45a25f=_0x5c907b==null?void(0x2*0x377+0x1be9+-0x22d7):_0x5c907b['material'])==null?void(-0x1098+-0x171d+-0x5*-0x7f1):_0x45a25f['postproces'+'s'];return _0x4b9421['materials']['map'](_0x581d5a=>{_0x333373&&_0x333373(_0x581d5a);const _0x51ef13=_0x55b218(_0x581d5a,_0x464ca0);return _0x10835b&&_0x10835b(_0x581d5a,_0x51ef13),_0x51ef13;});},QD=_0x4cea21=>{if(!_0x4cea21['hasOwnProp'+'erty']('extensions')||!_0x4cea21['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x583f52=_0x4cea21['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x4a5590={};for(let _0x52b70d=0x1ee9+0x2b*0xa7+-0x3af6;_0x52b70d<_0x583f52['length'];_0x52b70d++)_0x4a5590[_0x583f52[_0x52b70d]['name']]=_0x52b70d;return _0x4a5590;},JD=(_0x4aafa3,_0x48868e,_0x3a7125,_0x2638f7)=>{var _0x2fdad7,_0x1f2e2c;if(!_0x4aafa3['hasOwnProp'+'erty']('animations')||_0x4aafa3['animations']['length']===-0x815+0x726+0x1*0xef)return[];const _0x2dacef=(_0x2fdad7=_0x2638f7==null?void(-0x19b6+-0x5eb+0x1fa1):_0x2638f7['animation'])==null?void(-0xdd3*-0x2+0x8*-0x16+-0x1af6):_0x2fdad7['preprocess'],_0x13831a=(_0x1f2e2c=_0x2638f7==null?void(0x26d2*-0x1+-0x1fe5+0x46b7):_0x2638f7['animation'])==null?void(0x177f+0x12a3+0x1*-0x2a22):_0x1f2e2c['postproces'+'s'];return _0x4aafa3['animations']['map']((_0x19ac77,_0xd85eb6)=>{_0x2dacef&&_0x2dacef(_0x19ac77);const _0x4c71fe=WD(_0x19ac77,_0xd85eb6,_0x4aafa3['accessors'],_0x3a7125,_0x48868e,_0x4aafa3['meshes'],_0x4aafa3['nodes']);return _0x13831a&&_0x13831a(_0x19ac77,_0x4c71fe),_0x4c71fe;});},e2=(_0x16b774,_0x22fb77,_0x4e0411,_0xf37f2b)=>{const _0x583dd0=_0x22fb77['accessors'];_0x4e0411['forEach']((_0x54fbf5,_0x55d0bc)=>{const _0x3d14dc=_0x54fbf5['ext']['attributes'];let _0x457ce8;if(_0x3d14dc['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x28616a=_0x583dd0[_0x3d14dc['TRANSLATIO'+'N']];_0x457ce8=ma(_0x28616a,_0xf37f2b);}let _0x4ab91a;if(_0x3d14dc['hasOwnProp'+'erty']('ROTATION')){const _0x46076c=_0x583dd0[_0x3d14dc['ROTATION']];_0x4ab91a=ma(_0x46076c,_0xf37f2b);}let _0x5f058a;if(_0x3d14dc['hasOwnProp'+'erty']('SCALE')){const _0x288796=_0x583dd0[_0x3d14dc['SCALE']];_0x5f058a=ma(_0x288796,_0xf37f2b);}const _0x3684a7=(_0x457ce8?_0x457ce8['length']/(-0x1a92+-0x24c2+0x3f57):-0xc7*0x26+-0x1226+-0xda*-0x38)||(_0x4ab91a?_0x4ab91a['length']/(0x14bc+-0x93d+-0xb7b):-0x974+-0x9ee+0x33b*0x6)||(_0x5f058a?_0x5f058a['length']/(-0x163d+0x57d+0x10c3):-0x1*0x2a2+0x143e+-0x119c);if(_0x3684a7){const _0x2a2125=new Float32Array(_0x3684a7*(0x258e+-0x1031*0x2+-0x51c)),_0x3d41ae=new T(),_0x1f2f45=new se(),_0x483aa8=new T(0x6*0x401+0x125c+0x1*-0x2a61,-0x123e+0x5b*0x37+-0x14e,-0x2241+0xb99+-0x16a9*-0x1),_0x52e8f9=new q();let _0x561ef3=-0x7*-0x1f7+-0x34a*-0x1+-0x110b;for(let _0x3d9dd9=-0xc91+0x846*0x3+-0xc41;_0x3d9dd9<_0x3684a7;_0x3d9dd9++){const _0xaebe2d=_0x3d9dd9*(-0x11*0x47+-0x1*0x1c8d+0x2147);if(_0x457ce8&&_0x3d41ae['set'](_0x457ce8[_0xaebe2d],_0x457ce8[_0xaebe2d+(0x5b3+0x1c*-0xe0+0x12ce)],_0x457ce8[_0xaebe2d+(-0xfea+-0x66e+0x2*0xb2d)]),_0x4ab91a){const _0x4cb685=_0x3d9dd9*(0x1a0e+0x5*-0x1c1+-0x1145*0x1);_0x1f2f45['set'](_0x4ab91a[_0x4cb685],_0x4ab91a[_0x4cb685+(-0x22e*0xc+-0xff+0x8*0x365)],_0x4ab91a[_0x4cb685+(0x1d8*-0x2+-0x89*0x5+0x7*0xe9)],_0x4ab91a[_0x4cb685+(-0xad*0x13+0xef+-0x9*-0x153)]);}_0x5f058a&&_0x483aa8['set'](_0x5f058a[_0xaebe2d],_0x5f058a[_0xaebe2d+(-0x1*0x1e83+0x1acb+0x3b9)],_0x5f058a[_0xaebe2d+(0x1f07+0x1*0x230b+-0x4210)]),_0x52e8f9['setTRS'](_0x3d41ae,_0x1f2f45,_0x483aa8);for(let _0x4d66a5=-0x209f+0x16be+0x9e1*0x1;_0x4d66a5<-0x33*-0x29+-0xfed+0x7d2;_0x4d66a5++)_0x2a2125[_0x561ef3++]=_0x52e8f9['data'][_0x4d66a5];}_0x54fbf5['matrices']=_0x2a2125;}});},t2=(_0x505bbe,_0x8d4331,_0x39c51e)=>{var _0x4599dd,_0x27bcc6,_0x1628ea;if(!_0x505bbe['hasOwnProp'+'erty']('nodes')||_0x505bbe['nodes']['length']===-0x1*0x265a+-0x1a62+0x40bc)return[];const _0x4fab3d=(_0x4599dd=_0x8d4331==null?void(0x1002+0xe68+0xf35*-0x2):_0x8d4331['node'])==null?void(-0x1e59+0xdd6+0x1083):_0x4599dd['preprocess'],_0x5e266c=((_0x27bcc6=_0x8d4331==null?void(-0x8e6+-0x12b8+0x1b9e):_0x8d4331['node'])==null?void(0x81d+-0x7bb+-0x62):_0x27bcc6['process'])??qD,_0x26163a=(_0x1628ea=_0x8d4331==null?void(-0x1abe+0x947+0x1177*0x1):_0x8d4331['node'])==null?void(-0x1*0x198b+0x19b3+-0x5*0x8):_0x1628ea['postproces'+'s'],_0x29eb54=_0x505bbe['nodes']['map']((_0x1cf3c2,_0x57609c)=>{_0x4fab3d&&_0x4fab3d(_0x1cf3c2);const _0x231175=_0x5e266c(_0x1cf3c2,_0x57609c,_0x39c51e);return _0x26163a&&_0x26163a(_0x1cf3c2,_0x231175),_0x231175;});for(let _0x50768a=0x2b2+0x233f+-0x25f1;_0x50768a<_0x505bbe['nodes']['length'];++_0x50768a){const _0x2777b2=_0x505bbe['nodes'][_0x50768a];if(_0x2777b2['hasOwnProp'+'erty']('children')){const _0xd1e6c9=_0x29eb54[_0x50768a],_0x222d48={};for(let _0x351ae3=0x1e*0x13a+-0x2*-0xd88+-0x2*0x1fee;_0x351ae3<_0x2777b2['children']['length'];++_0x351ae3){const _0xf72d42=_0x29eb54[_0x2777b2['children'][_0x351ae3]];_0xf72d42['parent']||(_0x222d48['hasOwnProp'+'erty'](_0xf72d42['name'])?_0xf72d42['name']+=_0x222d48[_0xf72d42['name']]++:_0x222d48[_0xf72d42['name']]=0x460*-0x8+-0x1*0x1255+-0x2*-0x1aab,_0xd1e6c9['addChild'](_0xf72d42));}}}return _0x29eb54;},s2=(_0x1e4ad8,_0x4bb18e)=>{var _0x1020b1;const _0x4da241=[],_0x2d8d70=_0x1e4ad8['scenes']['length'];if(_0x2d8d70===-0x2253+0x24ef+-0x29b&&((_0x1020b1=_0x1e4ad8['scenes'][0xc79+0x1598+-0x2211]['nodes'])==null?void(-0x699+-0x52*-0x32+-0x1*0x96b):_0x1020b1['length'])===0xd*-0x223+-0x1a92+-0x12*-0x305){const _0x3e9522=_0x1e4ad8['scenes'][0x1c84+0xbe1*-0x1+-0x10a3*0x1]['nodes'][-0x534+-0x1c9*0xb+0x1*0x18d7];_0x4da241['push'](_0x4bb18e[_0x3e9522]);}else for(let _0x42074f=0x56*0x11+0x278*-0xc+0x17ea;_0x42074f<_0x2d8d70;_0x42074f++){const _0x57b781=_0x1e4ad8['scenes'][_0x42074f];if(_0x57b781['nodes']){const _0xa69c1b=new De(_0x57b781['name']);for(let _0x3e00d9=0x1*-0xc2d+0xf43*0x2+-0x1259;_0x3e00d9<_0x57b781['nodes']['length'];_0x3e00d9++){const _0x1416ef=_0x4bb18e[_0x57b781['nodes'][_0x3e00d9]];_0xa69c1b['addChild'](_0x1416ef);}_0x4da241['push'](_0xa69c1b);}}return _0x4da241;},i2=(_0x1caba3,_0x160474,_0x2e8039)=>{var _0x29d59c,_0x26a820,_0x5f4a74;let _0x52ca2a=null;if(_0x1caba3['hasOwnProp'+'erty']('nodes')&&_0x1caba3['hasOwnProp'+'erty']('cameras')&&_0x1caba3['cameras']['length']>-0x1c4f+-0x6*-0x337+-0x905*-0x1){const _0x27320d=(_0x29d59c=_0x2e8039==null?void(0x1f*-0x3d+-0x1*0x1c41+-0x1*-0x23a4):_0x2e8039['camera'])==null?void(0x182e+0x283*0x5+-0x24bd):_0x29d59c['preprocess'],_0x21455f=((_0x26a820=_0x2e8039==null?void(-0xcbd*0x2+0x175*0xb+0x973):_0x2e8039['camera'])==null?void(-0x1d3c+-0x25b5+0x42f1):_0x26a820['process'])??XD,_0x535a4c=(_0x5f4a74=_0x2e8039==null?void(-0x1*-0x8a1+-0x113c+0x1*0x89b):_0x2e8039['camera'])==null?void(-0x1a19+-0x1828+0x3241):_0x5f4a74['postproces'+'s'];_0x1caba3['nodes']['forEach']((_0x39ce61,_0x3253aa)=>{if(_0x39ce61['hasOwnProp'+'erty']('camera')){const _0x2ed58f=_0x1caba3['cameras'][_0x39ce61['camera']];if(_0x2ed58f){_0x27320d&&_0x27320d(_0x2ed58f);const _0x52a925=_0x21455f(_0x2ed58f,_0x160474[_0x3253aa]);_0x535a4c&&_0x535a4c(_0x2ed58f,_0x52a925),_0x52a925&&(_0x52ca2a||(_0x52ca2a=new Map()),_0x52ca2a['set'](_0x39ce61,_0x52a925));}}});}return _0x52ca2a;},r2=(_0x2c7998,_0x59a2d4,_0x3907e3)=>{var _0x404a83,_0x33e835,_0xc80cc;let _0xe2f9fc=null;if(_0x2c7998['hasOwnProp'+'erty']('nodes')&&_0x2c7998['hasOwnProp'+'erty']('extensions')&&_0x2c7998['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x2c7998['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x2a9d19=_0x2c7998['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x2a9d19['length']){const _0x2f575e=(_0x404a83=_0x3907e3==null?void(0x1106*0x2+0x1080+-0x328c):_0x3907e3['light'])==null?void(-0x164*-0xe+0x23cd+-0x3745):_0x404a83['preprocess'],_0x5ab776=((_0x33e835=_0x3907e3==null?void(0x4*0x682+-0x1b3*-0x8+-0x27a0):_0x3907e3['light'])==null?void(-0x1f26+-0x53*0x2f+0x2e63):_0x33e835['process'])??jD,_0x5aafe2=(_0xc80cc=_0x3907e3==null?void(-0x45*-0x71+-0x1fea+0x175):_0x3907e3['light'])==null?void(0x149+0x1997*-0x1+0x184e):_0xc80cc['postproces'+'s'];_0x2c7998['nodes']['forEach']((_0x596cb2,_0xc3b065)=>{if(_0x596cb2['hasOwnProp'+'erty']('extensions')&&_0x596cb2['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x596cb2['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x5b7ccb=_0x596cb2['extensions']['KHR_lights'+'_punctual']['light'],_0x233988=_0x2a9d19[_0x5b7ccb];if(_0x233988){_0x2f575e&&_0x2f575e(_0x233988);const _0x32412b=_0x5ab776(_0x233988,_0x59a2d4[_0xc3b065]);_0x5aafe2&&_0x5aafe2(_0x233988,_0x32412b),_0x32412b&&(_0xe2f9fc||(_0xe2f9fc=new Map()),_0xe2f9fc['set'](_0x596cb2,_0x32412b));}}});}}return _0xe2f9fc;},n2=(_0x51eab2,_0x4ac1fc,_0x54252b)=>{_0x51eab2['nodes']['forEach'](_0x500669=>{_0x500669['hasOwnProp'+'erty']('mesh')&&_0x500669['hasOwnProp'+'erty']('skin')&&_0x4ac1fc[_0x500669['mesh']]['meshes']['forEach'](_0x4d708a=>{_0x4d708a['skin']=_0x54252b[_0x500669['skin']];});});},a2=async(_0xbb1111,_0x383294,_0x59204c,_0x242d1a,_0x2fcc16)=>{var _0x11e171,_0x48ea0d;const _0x223e33=(_0x11e171=_0x2fcc16==null?void(0x18fa+0x2203*-0x1+0x909):_0x2fcc16['global'])==null?void(-0x2*0x24+-0x1*0x2089+0x20d1*0x1):_0x11e171['preprocess'],_0x1d19d9=(_0x48ea0d=_0x2fcc16==null?void(-0x1341+-0x13*-0x39+-0x783*-0x2):_0x2fcc16['global'])==null?void(-0x8a0*0x4+-0x2349+-0x45c9*-0x1):_0x48ea0d['postproces'+'s'];_0x223e33&&_0x223e33(_0x383294),_0x383294['asset']&&_0x383294['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x4237f1=new Map(),_0x52378d=t2(_0x383294,_0x2fcc16,_0x4237f1),_0xe888ac=s2(_0x383294,_0x52378d),_0x464115=r2(_0x383294,_0x52378d,_0x2fcc16),_0x4fd549=i2(_0x383294,_0x52378d,_0x2fcc16),_0x4d08a8=QD(_0x383294),_0x50208c=await Promise['all'](_0x59204c),{meshes:_0x1418d5,meshVariants:_0x4103fb,meshDefaultMaterials:_0x5794de,promises:_0x1e8612}=KD(_0xbb1111,_0x383294,_0x50208c,_0x2fcc16),_0x2d7731=JD(_0x383294,_0x52378d,_0x50208c,_0x2fcc16);e2(_0xbb1111,_0x383294,_0x4237f1,_0x50208c);const _0x49743a=await Promise['all'](_0x242d1a),_0x24e9b5=_0x49743a['map'](_0x4edd86=>_0x4edd86['resource']),_0x32cc52=ZD(_0x383294,_0x24e9b5,_0x2fcc16),_0x4258cf=YD(_0xbb1111,_0x383294,_0x52378d,_0x50208c),_0xa30b6=[];for(let _0x507f40=0x2e1*-0x1+0xd58+-0x13*0x8d;_0x507f40<_0x1418d5['length'];_0x507f40++)_0xa30b6[_0x507f40]=new Hp(),_0xa30b6[_0x507f40]['meshes']=_0x1418d5[_0x507f40];n2(_0x383294,_0xa30b6,_0x4258cf);const _0x45fa2d=new SD();return _0x45fa2d['gltf']=_0x383294,_0x45fa2d['nodes']=_0x52378d,_0x45fa2d['scenes']=_0xe888ac,_0x45fa2d['animations']=_0x2d7731,_0x45fa2d['textures']=_0x49743a,_0x45fa2d['materials']=_0x32cc52,_0x45fa2d['variants']=_0x4d08a8,_0x45fa2d['meshVarian'+'ts']=_0x4103fb,_0x45fa2d['meshDefaul'+'tMaterials']=_0x5794de,_0x45fa2d['renders']=_0xa30b6,_0x45fa2d['skins']=_0x4258cf,_0x45fa2d['lights']=_0x464115,_0x45fa2d['cameras']=_0x4fd549,_0x45fa2d['nodeInstan'+'cingMap']=_0x4237f1,_0x1d19d9&&_0x1d19d9(_0x383294,_0x45fa2d),await Promise['all'](_0x1e8612),_0x45fa2d;},o2=(_0x2d780f,_0x54f046)=>{const _0x349083=(_0x35aa07,_0x407d83)=>{switch(_0x35aa07){case-0x47ad+0x3157*0x1+0x3c56:return de;case-0x4985+0x2a71+0x4515:return st;case-0x38d6+0x4a27+0x319*0x7:return fc;case-0x65*-0x9e+0x49f8+0x169*-0x45:return mc;case-0x314d+-0x1*-0xa37+0x4e18:return pc;case 0x5b*0x9a+0x15bb*-0x3+0x3176*0x1:return nn;default:return _0x407d83;}},_0x3f0f57=(_0x2a4656,_0x5c3093)=>{switch(_0x2a4656){case 0x598*0x3+0x3*0x1754+0x2a6b:return ae;case-0x662f*-0x1+0xfc99+0xe*-0xff4:return Of;case-0x5031+-0x387d+-0x1*-0xb1af:return tt;default:return _0x5c3093;}};_0x2d780f&&(_0x54f046=_0x54f046??{},_0x2d780f['minFilter']=_0x349083(_0x54f046['minFilter'],nn),_0x2d780f['magFilter']=_0x349083(_0x54f046['magFilter'],st),_0x2d780f['addressU']=_0x3f0f57(_0x54f046['wrapS'],tt),_0x2d780f['addressV']=_0x3f0f57(_0x54f046['wrapT'],tt));};let l2=-0x2*0x1001+0xfa7+0x105b;const vf=_0x4e692c=>{var _0x2394f8,_0x56b81a,_0x2f4884,_0x4eb49d;return((_0x56b81a=(_0x2394f8=_0x4e692c['extensions'])==null?void(-0x1b2b+0x1*-0x26ce+0x41f9):_0x2394f8['KHR_textur'+'e_basisu'])==null?void(-0x5*-0x5fb+-0x199e+-0x1*0x449):_0x56b81a['source'])??((_0x4eb49d=(_0x2f4884=_0x4e692c['extensions'])==null?void(0x15e7*-0x1+-0x1*-0xb73+0xdf*0xc):_0x2f4884['EXT_textur'+'e_webp'])==null?void(0x11d5+-0x2488+-0x1*-0x12b3):_0x4eb49d['source'])??_0x4e692c['source'];},h2=(_0x1125f1,_0x162882,_0x159e57,_0x1079f1,_0x2031ae)=>{var _0x377fc9,_0x5cd143,_0x207610;if(!_0x1125f1['images']||_0x1125f1['images']['length']===0x41*0x59+-0x1*0x1b9e+0x5*0x101)return[];const _0x26bd44=(_0x377fc9=_0x2031ae==null?void(0x92a+0xd*-0xb1+-0x9*0x5):_0x2031ae['image'])==null?void(-0x3*0x897+-0x318+0x3*0x99f):_0x377fc9['preprocess'],_0x4c1fd2=(_0x5cd143=_0x2031ae==null?void(-0x1636+-0x1381*0x1+0x29b7):_0x2031ae['image'])==null?void(0x6b1+0x49*-0x41+0xbd8):_0x5cd143['processAsy'+'nc'],_0x1cd853=(_0x207610=_0x2031ae==null?void(-0x1*-0x129e+0x203e+-0x9b*0x54):_0x2031ae['image'])==null?void(-0x81e+0xc78+0x45a*-0x1):_0x207610['postproces'+'s'],_0x412b8f={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x3ca694=_0x377bd4=>{const _0x550b04=new Set();return _0x377bd4['hasOwnProp'+'erty']('materials')&&_0x377bd4['materials']['forEach'](_0x3532a6=>{if(_0x3532a6['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x374cf6=_0x3532a6['pbrMetalli'+'cRoughness'];if(_0x374cf6['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x5be90e=_0x377bd4['textures'][_0x374cf6['baseColorT'+'exture']['index']];_0x550b04['add'](vf(_0x5be90e));}}if(_0x3532a6['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x2c9224=_0x377bd4['textures'][_0x3532a6['emissiveTe'+'xture']['index']];_0x550b04['add'](vf(_0x2c9224));}}),_0x550b04;},_0x17953a=(_0x27185f,_0x47d044,_0x1046bd,_0x41796a,_0x2fecb4,_0x37bdb6)=>new Promise((_0x1f6858,_0x53542c)=>{const _0x344c19=_0x4db0f5=>{const _0x2fc907=(_0x27185f['name']||'gltf-textu'+'re')+'-'+l2++,_0x57ddea={'url':_0x47d044||_0x2fc907};if(_0x4db0f5&&(_0x57ddea['contents']=_0x4db0f5['slice'](-0xf3c+0xb*-0x283+-0x2add*-0x1)['buffer']),_0x41796a){const _0x1691d5=_0x412b8f[_0x41796a];_0x1691d5&&(_0x57ddea['filename']=_0x57ddea['url']+'.'+_0x1691d5);}const _0x1b5356={'srgb':_0x37bdb6},_0x843a53=new le(_0x2fc907,'texture',_0x57ddea,_0x1b5356,_0x2fecb4);_0x843a53['on']('load',_0x13dc41=>_0x1f6858(_0x13dc41)),_0x843a53['on']('error',_0xa9a1d9=>_0x53542c(_0xa9a1d9)),_0x1079f1['add'](_0x843a53),_0x1079f1['load'](_0x843a53);};_0x1046bd?_0x1046bd['then'](_0x448ce1=>_0x344c19(_0x448ce1)):_0x344c19(null);}),_0x25877c=_0x3ca694(_0x1125f1);return _0x1125f1['images']['map']((_0x385368,_0x59a5ae)=>{_0x26bd44&&_0x26bd44(_0x385368);let _0x54c4f5;return _0x4c1fd2?_0x54c4f5=new Promise((_0x18ce91,_0x27e988)=>{_0x4c1fd2(_0x385368,(_0xfc17c1,_0x139a53)=>{_0xfc17c1?_0x27e988(_0xfc17c1):_0x18ce91(_0x139a53);});}):_0x54c4f5=new Promise(_0x2c1a77=>{_0x2c1a77(null);}),_0x54c4f5=_0x54c4f5['then'](_0x3a9b71=>{const _0x45d277=_0x25877c['has'](_0x59a5ae);return _0x3a9b71||(_0x385368['hasOwnProp'+'erty']('uri')?Rx(_0x385368['uri'])?_0x17953a(_0x385368,_0x385368['uri'],null,vD(_0x385368['uri']),null,_0x45d277):_0x17953a(_0x385368,Da['test'](_0x385368['uri'])?_0x385368['uri']:fe['join'](_0x159e57,_0x385368['uri']),null,null,{'crossOrigin':'anonymous'},_0x45d277):_0x385368['hasOwnProp'+'erty']('bufferView')&&_0x385368['hasOwnProp'+'erty']('mimeType')?_0x17953a(_0x385368,null,_0x162882[_0x385368['bufferView']],_0x385368['mimeType'],null,_0x45d277):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x59a5ae)));}),_0x1cd853&&(_0x54c4f5=_0x54c4f5['then'](_0x577ca7=>(_0x1cd853(_0x385368,_0x577ca7),_0x577ca7))),_0x54c4f5;});},c2=(_0x480ec8,_0x9588d1,_0x492e20)=>{var _0x5e9ad1,_0x1ec283,_0x39a753,_0x2b2e54,_0x2ab89d;if(!((_0x5e9ad1=_0x480ec8==null?void(0x19a9+0x1e6d*0x1+-0x3816):_0x480ec8['images'])!=null&&_0x5e9ad1['length'])||!((_0x1ec283=_0x480ec8==null?void(0x1d2b*-0x1+0x37*0xa9+0x1*-0x724):_0x480ec8['textures'])!=null&&_0x1ec283['length']))return[];const _0x4edb0c=(_0x39a753=_0x492e20==null?void(-0x3*-0x4ff+0x1*0xad9+-0x19d6):_0x492e20['texture'])==null?void(-0xb2b+-0x75*-0x36+-0xd83):_0x39a753['preprocess'],_0x2b9157=(_0x2b2e54=_0x492e20==null?void(0x12e6+-0x19a2+0x6bc):_0x492e20['texture'])==null?void(-0xd52+0xe7e+0x12c*-0x1):_0x2b2e54['processAsy'+'nc'],_0x5c3912=(_0x2ab89d=_0x492e20==null?void(0x1*-0x23ea+-0x111b*-0x1+0x12cf):_0x492e20['texture'])==null?void(-0x13*-0xd+0x156b+0x6*-0x3bb):_0x2ab89d['postproces'+'s'],_0x17cda9=new Set();return _0x480ec8['textures']['map'](_0x1e9a1b=>{_0x4edb0c&&_0x4edb0c(_0x1e9a1b);let _0x585a39;return _0x2b9157?_0x585a39=new Promise((_0x5ad81c,_0x3271e9)=>{_0x2b9157(_0x1e9a1b,_0x480ec8['images'],(_0x120b1c,_0x20e624)=>{_0x120b1c?_0x3271e9(_0x120b1c):_0x5ad81c(_0x20e624);});}):_0x585a39=new Promise(_0x4364c7=>{_0x4364c7(null);}),_0x585a39=_0x585a39['then'](_0x2898b6=>{_0x2898b6=_0x2898b6??vf(_0x1e9a1b);const _0x48b9bf=_0x17cda9['has'](_0x2898b6);return _0x17cda9['add'](_0x2898b6),_0x9588d1[_0x2898b6]['then'](_0x512304=>{const _0xcbdd42=_0x48b9bf?MD(_0x512304):_0x512304;return o2(_0xcbdd42['resource'],(_0x480ec8['samplers']??[])[_0x1e9a1b['sampler']]),_0xcbdd42;});}),_0x5c3912&&(_0x585a39=_0x585a39['then'](_0x3bb4de=>(_0x5c3912(_0x1e9a1b,_0x3bb4de),_0x3bb4de))),_0x585a39;});},d2=(_0x31d7e9,_0x363b75,_0x22b4fc,_0x4b8a6d)=>{var _0x2fe4e4,_0x15c702,_0xe27543;if(!_0x31d7e9['buffers']||_0x31d7e9['buffers']['length']===0x1245+-0xb21+0x2*-0x392)return[];const _0x2e9d67=(_0x2fe4e4=_0x4b8a6d==null?void(0x51*-0x72+-0x2016+0x4*0x110a):_0x4b8a6d['buffer'])==null?void(-0x1748+0x35e+0x1*0x13ea):_0x2fe4e4['preprocess'],_0x125e52=(_0x15c702=_0x4b8a6d==null?void(0xcbe+-0x2*-0x3ae+-0x141a):_0x4b8a6d['buffer'])==null?void(-0x74f+-0x951+-0x7*-0x260):_0x15c702['processAsy'+'nc'],_0x1199fb=(_0xe27543=_0x4b8a6d==null?void(0x2*-0x2+-0x6*0x1bc+0x1*0xa6c):_0x4b8a6d['buffer'])==null?void(0xdd3*-0x1+0x236d+0x7*-0x316):_0xe27543['postproces'+'s'];return _0x31d7e9['buffers']['map']((_0x5ed5f7,_0x3ba6cb)=>{_0x2e9d67&&_0x2e9d67(_0x5ed5f7);let _0x291ed6;return _0x125e52?_0x291ed6=new Promise((_0x1e47c9,_0x5009e1)=>{_0x125e52(_0x5ed5f7,(_0x3a81d4,_0x4ee1ee)=>{_0x3a81d4?_0x5009e1(_0x3a81d4):_0x1e47c9(_0x4ee1ee);});}):_0x291ed6=new Promise(_0x15a966=>{_0x15a966(null);}),_0x291ed6=_0x291ed6['then'](_0x1bc581=>{if(_0x1bc581)return _0x1bc581;if(_0x5ed5f7['hasOwnProp'+'erty']('uri')){if(Rx(_0x5ed5f7['uri'])){const _0x3b6f9a=atob(_0x5ed5f7['uri']['split'](',')[-0x127*-0x11+-0x9ef+-0x7*0x161]),_0x588378=new Uint8Array(_0x3b6f9a['length']);for(let _0x5b6342=0x1*-0x1a56+-0x265*0x5+0x264f;_0x5b6342<_0x3b6f9a['length'];_0x5b6342++)_0x588378[_0x5b6342]=_0x3b6f9a['charCodeAt'](_0x5b6342);return _0x588378;}return new Promise((_0xdaf0af,_0x922dca)=>{We['get'](Da['test'](_0x5ed5f7['uri'])?_0x5ed5f7['uri']:fe['join'](_0x22b4fc,_0x5ed5f7['uri']),{'cache':!(0x2217+0x1158+-0x63*0x85),'responseType':'arraybuffe'+'r','retry':!(-0x26ae+0x15f*-0x13+-0xc*-0x565)},(_0x3bd25e,_0x5415b1)=>{_0x3bd25e?_0x922dca(_0x3bd25e):_0xdaf0af(new Uint8Array(_0x5415b1));});});}return _0x363b75;}),_0x1199fb&&(_0x291ed6=_0x291ed6['then'](_0x4e23fd=>(_0x1199fb(_0x31d7e9['buffers'][_0x3ba6cb],_0x4e23fd),_0x4e23fd))),_0x291ed6;});},u2=(_0x929068,_0x2e6014)=>{const _0x568575=JSON['parse']((_0x28a6b3=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x28a6b3);let _0x1cec7d='';for(let _0x153046=-0x138b+0x2649+-0x2*0x95f;_0x153046<_0x28a6b3['length'];_0x153046++)_0x1cec7d+=String['fromCharCo'+'de'](_0x28a6b3[_0x153046]);return decodeURIComponent(escape(_0x1cec7d));})(_0x929068));if(_0x568575['asset']&&_0x568575['asset']['version']&&parseFloat(_0x568575['asset']['version'])<0x1*0x11c5+0x3f*-0x7a+0x2b*0x49){_0x2e6014('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x568575['asset']['version']+'\x27.');return;}_0x2e6014(null,_0x568575);},f2=(_0x4ebb0f,_0x2f934b)=>{const _0x548d4d=_0x4ebb0f instanceof ArrayBuffer?new DataView(_0x4ebb0f):new DataView(_0x4ebb0f['buffer'],_0x4ebb0f['byteOffset'],_0x4ebb0f['byteLength']),_0x1fda47=_0x548d4d['getUint32'](-0x739+-0x1165+0x17*0x112,!(-0x1*-0x3b3+0x14*-0x1de+0x21a5)),_0x3a8290=_0x548d4d['getUint32'](-0x1*-0x21e4+0x4f*0x7+-0x2409,!(-0x397+0x107+0x290)),_0x1ae8ec=_0x548d4d['getUint32'](-0x1c9*0xd+0x2a2+0x41f*0x5,!(0x15e9+-0x8db*0x1+-0xd0e));if(_0x1fda47!==0xebf4e*0x689+0x31b09b99+-0x25de31f8*0x2){_0x2f934b('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x1fda47['toString'](0x1*0x1a1d+-0x31*0x3d+-0xe60));return;}if(_0x3a8290!==0x9bc+-0x1*-0x18a9+0x1*-0x2263){_0x2f934b('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x3a8290);return;}if(_0x1ae8ec<=0xee1+0x3*0x576+-0x1f43||_0x1ae8ec>_0x548d4d['byteLength']){_0x2f934b('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x1ae8ec);return;}const _0x4f3034=[];let _0x5661f4=0x3*0x85d+0x1b0b*0x1+-0x71*0x76;for(;_0x5661f4<_0x1ae8ec;){const _0x21db5b=_0x548d4d['getUint32'](_0x5661f4,!(-0x97+-0x1bc5+-0x1e4*-0xf));_0x5661f4+_0x21db5b+(0xce2+0x5*-0x52b+0x13*0xaf)>_0x548d4d['byteLength']&&_0x2f934b('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x21db5b);const _0xf2d206=_0x548d4d['getUint32'](_0x5661f4+(-0x419*0x7+0x1569+0x3*0x26e),!(0xb42*-0x2+0x185*0xb+-0x3*-0x1ef)),_0x2dceae=new Uint8Array(_0x548d4d['buffer'],_0x548d4d['byteOffset']+_0x5661f4+(-0x50e+-0x23a4+0x28ba),_0x21db5b);_0x4f3034['push']({'length':_0x21db5b,'type':_0xf2d206,'data':_0x2dceae}),_0x5661f4+=_0x21db5b+(-0x246f*0x1+0x1775+-0x29a*-0x5);}if(_0x4f3034['length']!==-0x4*-0x455+0x16*0x10f+-0x289d&&_0x4f3034['length']!==-0x1e8f+-0x843*-0x1+0x2*0xb27){_0x2f934b('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x4f3034[-0x1835+0xfc6+0x86f]['type']!==-0x48ce8125+0x2*-0x2c179e25+-0x1*-0xef4d10b9){_0x2f934b('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x4f3034[-0x1914*-0x1+-0x127f*0x1+0x695*-0x1]['type']['toString'](-0xd*-0x1fc+0xfb3*0x2+0x2*-0x1c91));return;}if(_0x4f3034['length']>-0x1*-0x6f1+0x247+-0x937&&_0x4f3034[0x1cd6+0x5d*0x5e+-0x17*0x2bd]['type']!==-0x12c119*0x1+0x70c45*-0x9+0xdf*0xb838){_0x2f934b('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x4f3034[-0x1d39*-0x1+-0x3*0xc3e+0x782]['type']['toString'](0x1*-0x10b+0x1bfe+-0x1ae3));return;}_0x2f934b(null,{'gltfChunk':_0x4f3034[-0x1*-0x2b+-0x1fde*0x1+0x3*0xa91]['data'],'binaryChunk':_0x4f3034['length']===0x16*0x175+-0x967+-0xbb*0x1f?_0x4f3034[0x13*-0xa1+0x6cd*0x2+-0x1a6]['data']:null});},p2=(_0x1ec5ea,_0x4eb13e,_0x1361fa)=>{const _0x90fe2a=()=>{const _0x1c69bc=new Uint8Array(_0x4eb13e);return _0x1c69bc[-0x1c5*-0xf+0x93+-0x1b1e]===0x1*-0x1387+-0x14ca+0x28b8&&_0x1c69bc[-0x5*-0x6ad+0x2431+-0x1*0x4591]===-0x6*0x210+0x8f3+0x3d9&&_0x1c69bc[0x1ab1*-0x1+-0x24ab+-0x2*-0x1faf]===0x15a*-0x17+-0x22c2+0xe*0x4ba&&_0x1c69bc[0x11e7+-0x3*0xb5a+-0x2*-0x815]===0x1bfa+0x187d*0x1+0x1*-0x3431;};_0x1ec5ea&&_0x1ec5ea['toLowerCas'+'e']()['endsWith']('.glb')||_0x90fe2a()?f2(_0x4eb13e,_0x1361fa):_0x1361fa(null,{'gltfChunk':_0x4eb13e,'binaryChunk':null});},m2=(_0x5c9cbb,_0x172ea5,_0x2f61c8)=>{var _0x3af58b,_0x40139e,_0x3185d7,_0x430b60;const _0x2807b8=[],_0x13a697=(_0x3af58b=_0x2f61c8==null?void(0x255d*-0x1+0x17d2+0x1*0xd8b):_0x2f61c8['bufferView'])==null?void(-0x11*0x95+0x12f3+-0x90e):_0x3af58b['preprocess'],_0x34426e=(_0x40139e=_0x2f61c8==null?void(-0x236+0x202d*-0x1+0x2263):_0x2f61c8['bufferView'])==null?void(0x3b*-0x3+-0x4*0x2de+0xc29):_0x40139e['processAsy'+'nc'],_0x52f206=(_0x3185d7=_0x2f61c8==null?void(-0x65*-0x47+0x1f*0x103+-0x3b60):_0x2f61c8['bufferView'])==null?void(0x2*-0x28d+-0x2e+0x548):_0x3185d7['postproces'+'s'];if(!((_0x430b60=_0x5c9cbb['bufferView'+'s'])!=null&&_0x430b60['length']))return _0x2807b8;for(let _0x14849e=-0x615+0x25fc+-0x1fe7;_0x14849e<_0x5c9cbb['bufferView'+'s']['length'];++_0x14849e){const _0x2de61a=_0x5c9cbb['bufferView'+'s'][_0x14849e];_0x13a697&&_0x13a697(_0x2de61a);let _0x4f8290;_0x34426e?_0x4f8290=new Promise((_0x55a11e,_0x58c14b)=>{_0x34426e(_0x2de61a,_0x172ea5,(_0x39f8b1,_0x1e38f7)=>{_0x39f8b1?_0x58c14b(_0x39f8b1):_0x55a11e(_0x1e38f7);});}):_0x4f8290=new Promise(_0x4342e5=>{_0x4342e5(null);}),_0x4f8290=_0x4f8290['then'](_0x5c8234=>_0x5c8234||_0x172ea5[_0x2de61a['buffer']]['then'](_0x511f67=>new Uint8Array(_0x511f67['buffer'],_0x511f67['byteOffset']+(_0x2de61a['byteOffset']||0x215+-0x5*0x2ef+0xc96),_0x2de61a['byteLength']))),_0x2de61a['hasOwnProp'+'erty']('byteStride')&&(_0x4f8290=_0x4f8290['then'](_0x5654f0=>(_0x5654f0['byteStride']=_0x2de61a['byteStride'],_0x5654f0))),_0x52f206&&(_0x4f8290=_0x4f8290['then'](_0x39be31=>(_0x52f206(_0x2de61a,_0x39be31),_0x39be31))),_0x2807b8['push'](_0x4f8290);}return _0x2807b8;};class tc{static['parse'](_0x2fb881,_0x1a0378,_0xe1ac91,_0x49e251,_0xcd026b,_0x2384ba,_0x3ed43c){p2(_0x2fb881,_0xe1ac91,(_0x5055cf,_0x473a5f)=>{if(_0x5055cf){_0x3ed43c(_0x5055cf);return;}u2(_0x473a5f['gltfChunk'],(_0x13f33a,_0x46ea3c)=>{if(_0x13f33a){_0x3ed43c(_0x13f33a);return;}const _0xd372c8=d2(_0x46ea3c,_0x473a5f['binaryChun'+'k'],_0x1a0378,_0x2384ba),_0x34ce64=m2(_0x46ea3c,_0xd372c8,_0x2384ba),_0x5d5d9e=h2(_0x46ea3c,_0x34ce64,_0x1a0378,_0xcd026b,_0x2384ba),_0x312da0=c2(_0x46ea3c,_0x5d5d9e,_0x2384ba);a2(_0x49e251,_0x46ea3c,_0x34ce64,_0x312da0,_0x2384ba)['then'](_0x309ccb=>_0x3ed43c(null,_0x309ccb))['catch'](_0x529a56=>_0x3ed43c(_0x529a56));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x4e1af3){super(_0x4e1af3,'animation'),this['device']=_0x4e1af3['graphicsDe'+'vice'],this['assets']=_0x4e1af3['assets'];}['load'](_0x3b723e,_0x315f93,_0x37eacc){typeof _0x3b723e=='string'&&(_0x3b723e={'load':_0x3b723e,'original':_0x3b723e});const _0x544795={'retry':this['maxRetries']>0x201+0x20cd+-0x22ce,'maxRetries':this['maxRetries']};(_0x3b723e['load']['startsWith']('blob:')||_0x3b723e['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x3b723e['original'])['toLowerCas'+'e']()==='.glb'?_0x544795['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x544795['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x3b723e['load'],_0x544795,(_0x2e0dec,_0xb1e5fb)=>{_0x2e0dec?_0x315f93('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x3b723e['original']+'\x20['+_0x2e0dec+']'):fe['getExtensi'+'on'](_0x3b723e['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0xb1e5fb,this['device'],this['assets'],(_0x37eacc==null?void(-0xf79+0x545*0x1+0x4*0x28d):_0x37eacc['options'])??{},(_0x44affb,_0x2f8df5)=>{var _0xfdc412;if(_0x44affb)_0x315f93(_0x44affb);else{const _0x4a10f1=_0x2f8df5['animations'];if((_0xfdc412=_0x37eacc==null?void(0x1f18+-0x86c+-0x16ac):_0x37eacc['data'])!=null&&_0xfdc412['events']){for(let _0x1e5c08=0x18c6+0x1048+-0x290e;_0x1e5c08<_0x4a10f1['length'];_0x1e5c08++)_0x4a10f1[_0x1e5c08]['events']=new Y0(Object['values'](_0x37eacc['data']['events']));}_0x2f8df5['destroy'](),_0x315f93(null,_0x4a10f1);}}):_0x315f93(null,this['_parseAnim'+'ationV'+_0xb1e5fb['animation']['version']](_0xb1e5fb));});}['open'](_0x39d03e,_0x1e3187,_0x55c53e){return _0x1e3187;}['_parseAnim'+'ationV3'](_0x184535){const _0x3f349c=_0x184535['animation'],_0x5f304f=new k_();_0x5f304f['name']=_0x3f349c['name'],_0x5f304f['duration']=_0x3f349c['duration'];for(let _0x685766=-0x239f+0xe59+0x1546;_0x685766<_0x3f349c['nodes']['length'];_0x685766++){const _0x54bbe1=new O_(),_0x577342=_0x3f349c['nodes'][_0x685766];_0x54bbe1['_name']=_0x577342['name'];for(let _0x423e81=0x94*0x2f+0x1*-0x23e3+-0x17*-0x61;_0x423e81<_0x577342['keys']['length'];_0x423e81++){const _0x516125=_0x577342['keys'][_0x423e81],_0x1d22b1=_0x516125['time'],_0x6f3936=_0x516125['pos'],_0x519ce6=_0x516125['rot'],_0xa1b1dd=_0x516125['scale'],_0x361698=new T(_0x6f3936[-0x6cf*-0x3+-0x2412+0xfa5],_0x6f3936[-0x705+0x893+-0x18d],_0x6f3936[0x184d*-0x1+-0x1ace+0x331d]),_0xc3b046=new se()['setFromEul'+'erAngles'](_0x519ce6[-0x233a+0x2*-0x74b+0x31d0],_0x519ce6[-0x679+-0x14d3*-0x1+-0xe59],_0x519ce6[-0x1efc+0xb8d+0x1371*0x1]),_0x24401e=new T(_0xa1b1dd[0x1fe6+0x1c74+-0x3c5a],_0xa1b1dd[-0x445*-0x4+0x59*0x21+0x54*-0x57],_0xa1b1dd[-0x1e61+-0x2c*0x2f+-0xe5*-0x2b]),_0x353fef=new F_(_0x1d22b1,_0x361698,_0xc3b046,_0x24401e);_0x54bbe1['_keys']['push'](_0x353fef);}_0x5f304f['addNode'](_0x54bbe1);}return _0x5f304f;}['_parseAnim'+'ationV4'](_0x3454e9){const _0x2967c3=_0x3454e9['animation'],_0x41fd3c=new k_();_0x41fd3c['name']=_0x2967c3['name'],_0x41fd3c['duration']=_0x2967c3['duration'];for(let _0x3d4912=0x2562+-0x1a1+-0x23c1;_0x3d4912<_0x2967c3['nodes']['length'];_0x3d4912++){const _0x3a30f5=new O_(),_0x3bd2f5=_0x2967c3['nodes'][_0x3d4912];_0x3a30f5['_name']=_0x3bd2f5['name'];const _0x4a35dd=_0x3bd2f5['defaults']['p'],_0x3c50d3=_0x3bd2f5['defaults']['r'],_0x3b9eac=_0x3bd2f5['defaults']['s'];for(let _0xf358e1=0x5a5*-0x6+-0x25f8+0x47d6;_0xf358e1<_0x3bd2f5['keys']['length'];_0xf358e1++){const _0x144efc=_0x3bd2f5['keys'][_0xf358e1],_0x153e52=_0x144efc['t'],_0xba8cb=_0x4a35dd||_0x144efc['p'],_0x37b1a9=_0x3c50d3||_0x144efc['r'],_0x55664a=_0x3b9eac||_0x144efc['s'],_0x2a7f0c=new T(_0xba8cb[-0x1a0f+-0xf86+0x2995],_0xba8cb[0x3*0x74d+-0x1*0x1082+-0xc*0x73],_0xba8cb[0x9*0x22+-0x4*0x62b+-0x4*-0x5df]),_0x5c0915=new se()['setFromEul'+'erAngles'](_0x37b1a9[0x2*0x9+-0x178d+0x177b*0x1],_0x37b1a9[0x102a+-0x1*-0x19a3+-0x29cc],_0x37b1a9[-0x1841+0x2473*-0x1+0x2*0x1e5b]),_0x104d49=new T(_0x55664a[-0x14fb+-0xa5*-0x15+0x772],_0x55664a[0x1b75+-0x26b3*0x1+0xb3f],_0x55664a[-0xbc3*-0x1+-0x9bf+0x2*-0x101]),_0x5a6988=new F_(_0x153e52,_0x2a7f0c,_0x5c0915,_0x104d49);_0x3a30f5['_keys']['push'](_0x5a6988);}_0x41fd3c['addNode'](_0x3a30f5);}return _0x41fd3c;}}class g2 extends Ne{constructor(_0x2bd692){super(_0x2bd692,'animclip');}['load'](_0x20ca3b,_0x388779){typeof _0x20ca3b=='string'&&(_0x20ca3b={'load':_0x20ca3b,'original':_0x20ca3b});const _0x4983a7={'retry':this['maxRetries']>0x1c*0x9a+0x13*-0x1c1+0x107b,'maxRetries':this['maxRetries']};_0x20ca3b['load']['startsWith']('blob:')&&(_0x4983a7['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x20ca3b['load'],_0x4983a7,(_0x30c80e,_0x5d8e8c)=>{_0x30c80e?_0x388779('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x20ca3b['original']+'\x20['+_0x30c80e+']'):_0x388779(null,_0x5d8e8c);});}['open'](_0x5b5dc1,_0x3dce1d){const _0xe2a701=_0x3dce1d['name'],_0x4f5546=_0x3dce1d['duration'],_0x5c2cd6=_0x3dce1d['inputs']['map'](_0x18ccdf=>new Jh(-0x2287*0x1+0x13*0x9d+0x16e1*0x1,_0x18ccdf)),_0x5ebdee=_0x3dce1d['outputs']['map'](_0x249085=>new Jh(_0x249085['components'],_0x249085['data'])),_0x5792a4=_0x3dce1d['curves']['map'](_0x1dac8d=>new Px([_0x1dac8d['path']],_0x1dac8d['inputIndex'],_0x1dac8d['outputInde'+'x'],_0x1dac8d['interpolat'+'ion']));return new Ri(_0xe2a701,_0x4f5546,_0x5c2cd6,_0x5ebdee,_0x5792a4);}}class y2 extends Ne{constructor(_0x52c279){super(_0x52c279,'animstateg'+'raph');}['load'](_0x3dd07f,_0x4e9d58){typeof _0x3dd07f=='string'&&(_0x3dd07f={'load':_0x3dd07f,'original':_0x3dd07f});const _0x8306e8={'retry':this['maxRetries']>-0x5*-0x6a0+0x25e3+0x35*-0x157,'maxRetries':this['maxRetries']};_0x3dd07f['load']['startsWith']('blob:')&&(_0x8306e8['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x3dd07f['load'],_0x8306e8,(_0x58d370,_0xc077c8)=>{_0x58d370?_0x4e9d58('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x3dd07f['original']+'\x20['+_0x58d370+']'):_0x4e9d58(null,_0xc077c8);});}['open'](_0xf295e7,_0x1c9352){return new mh(_0x1c9352);}}const Qd=(function(){if(typeof window>'u')return!(0xf9a*-0x1+-0x1*-0x21df+-0x1244);const _0x3096b5=window['navigator']['userAgent'],_0x5ae09d=_0x3096b5['indexOf']('MSIE\x20');if(_0x5ae09d>0x166a+0x2604+-0x3c6e)return parseInt(_0x3096b5['substring'](_0x5ae09d+(0x124b+-0x2047*0x1+0xe01),_0x3096b5['indexOf']('.',_0x5ae09d)),0x2445+0x2e7*-0x8+-0xd03);if(_0x3096b5['indexOf']('Trident/')>-0xf31*-0x1+0x16ba+-0x11*0x23b){const _0x14211f=_0x3096b5['indexOf']('rv:');return parseInt(_0x3096b5['substring'](_0x14211f+(0x3b2+0x1a32*0x1+-0x1de1*0x1),_0x3096b5['indexOf']('.',_0x14211f)),0x198e+-0x1*0x18ad+-0xd7);}return!(0x1ce7+0x2590+-0x4276);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x1d3d66){super(_0x1d3d66,'audio'),this['manager']=_0x1d3d66['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x2a76bb){const _0x1f9191=fe['getExtensi'+'on'](_0x2a76bb);return x2['indexOf'](_0x1f9191)>-(-0x1ba6*0x1+0x1*-0x47f+0x2026)||_0x2a76bb['startsWith']('blob:');}['load'](_0x4d9ffc,_0x2f3e37){typeof _0x4d9ffc=='string'&&(_0x4d9ffc={'load':_0x4d9ffc,'original':_0x4d9ffc});const _0x57029a=function(_0xe49e84){_0x2f3e37(null,new Bb(_0xe49e84));},_0x1202bb=function(_0x12c674){let _0x5c074a='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x4d9ffc['original'];_0x12c674&&(_0x5c074a+=':\x20'+(_0x12c674['message']||_0x12c674)),console['warn'](_0x5c074a),_0x2f3e37(_0x5c074a);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x4d9ffc['original'])){_0x1202bb('Audio\x20form'+'at\x20for\x20'+_0x4d9ffc['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x4d9ffc['load'],_0x57029a,_0x1202bb);}else _0x1202bb(null);}['_createSou'+'nd'](_0x487c53,_0x1a6135,_0x550da5){if(Li()){const _0x323605=this['manager'];if(!_0x323605['context']){_0x550da5('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x38c74b={'retry':this['maxRetries']>0x23*-0x111+-0x2388+0x48db,'maxRetries':this['maxRetries']};(_0x487c53['startsWith']('blob:')||_0x487c53['startsWith']('data:'))&&(_0x38c74b['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),We['get'](_0x487c53,_0x38c74b,(_0x167d34,_0x51340c)=>{if(_0x167d34){_0x550da5(_0x167d34);return;}_0x323605['context']['decodeAudi'+'oData'](_0x51340c,_0x1a6135,_0x550da5);});}else{let _0x407ca0=null;try{_0x407ca0=new Audio();}catch{_0x550da5('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x407ca0);const _0x53bd06=function(){_0x407ca0['removeEven'+'tListener']('canplaythr'+'ough',_0x53bd06),Qd&&document['body']['removeChil'+'d'](_0x407ca0),_0x1a6135(_0x407ca0);};_0x407ca0['onerror']=function(){_0x407ca0['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x407ca0),_0x550da5();},_0x407ca0['addEventLi'+'stener']('canplaythr'+'ough',_0x53bd06),_0x407ca0['src']=_0x487c53;}}}class v2 extends Ne{constructor(_0x3e6945){super(_0x3e6945,'binary');}['load'](_0xfd142c,_0x366b75){typeof _0xfd142c=='string'&&(_0xfd142c={'load':_0xfd142c,'original':_0xfd142c}),We['get'](_0xfd142c['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x10e8+-0x713*0x5+0x1d*0xa3,'maxRetries':this['maxRetries']},(_0x5c682f,_0xdc18c1)=>{_0x5c682f?_0x366b75('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0xfd142c['original']+'\x20['+_0x5c682f+']'):_0x366b75(null,_0xdc18c1);});}['openBinary'](_0x3341e5){return _0x3341e5['buffer'];}}class tr{constructor(_0xbd725f,_0x24fc29,_0x400087,_0x1178a6){const _0x55cf66=function(_0x13a8c7,_0x276c90,_0x3904fb){const _0x2196b4=tr['createAsse'+'t'](_0x24fc29['name'],_0x13a8c7,_0x276c90,_0x3904fb);return _0x400087['add'](_0x2196b4),_0x2196b4;},_0x881bdd=[];for(let _0x15358c=0x4a6*-0x7+-0x1de6+0x24*0x1bc;_0x15358c<_0xbd725f['renders']['length'];++_0x15358c)_0x881bdd['push'](_0x55cf66('render',_0xbd725f['renders'][_0x15358c],_0x15358c));const _0x1178bf=[];for(let _0x19dca3=0x1*0x1613+-0x3*-0x40e+-0x223d;_0x19dca3<_0xbd725f['materials']['length'];++_0x19dca3)_0x1178bf['push'](_0x55cf66('material',_0xbd725f['materials'][_0x19dca3],_0x19dca3));const _0x3418f0=[];for(let _0x251104=0x3a*-0x2c+0x4be*0x8+-0x1bf8;_0x251104<_0xbd725f['animations']['length'];++_0x251104)_0x3418f0['push'](_0x55cf66('animation',_0xbd725f['animations'][_0x251104],_0x251104));this['data']=_0xbd725f,this['_model']=null,this['_assetName']=_0x24fc29['name'],this['_assets']=_0x400087,this['_defaultMa'+'terial']=_0x1178a6,this['renders']=_0x881bdd,this['materials']=_0x1178bf,this['textures']=_0xbd725f['textures'],this['animations']=_0x3418f0;}get['model'](){if(!this['_model']){const _0x1bc3aa=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x54eb15=tr['createAsse'+'t'](this['_assetName'],'model',_0x1bc3aa,-0x1a24+-0x1948+0x336c);this['_assets']['add'](_0x54eb15),this['_model']=_0x54eb15;}return this['_model'];}static['createAsse'+'t'](_0x17d9b7,_0x4e9c7a,_0x5c29be,_0x4dafe7){const _0x480e9b=new le(_0x17d9b7+'/'+_0x4e9c7a+'/'+_0x4dafe7,_0x4e9c7a,{'url':''});return _0x480e9b['resource']=_0x5c29be,_0x480e9b['loaded']=!(0x11*0x148+0x3cd*-0x1+-0x11fb),_0x480e9b;}['instantiat'+'eModelEnti'+'ty'](_0x3c5a55){const _0x8b16dd=new $e();return _0x8b16dd['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x3c5a55)),_0x8b16dd;}['instantiat'+'eRenderEnt'+'ity'](_0x536a99){const _0x3eeef4=this['_defaultMa'+'terial'],_0x137649=[],_0x1445dd=function(_0x39feb4,_0x46d16e,_0x10d311,_0x4b82db,_0x3829fc,_0x4328ce,_0x5670c9,_0x5b4921){const _0x2ac461=_0x3829fc[_0x10d311['id']],_0x2b6dad=_0x2ac461===void(-0x86d*0x1+-0x22b8+0x2b25)?_0x3eeef4:_0x4b82db[_0x2ac461],_0x236c8f=new Le(_0x10d311,_0x2b6dad);_0x10d311['morph']&&(_0x236c8f['morphInsta'+'nce']=new fn(_0x10d311['morph'])),_0x5670c9['hasOwnProp'+'erty']('skin')&&_0x137649['push']({'meshInstance':_0x236c8f,'rootBone':_0x39feb4,'entity':_0x46d16e});const _0x48dbe7=_0x5b4921['get'](_0x5670c9);if(_0x48dbe7){const _0xa59155=_0x48dbe7['matrices'],_0x4e36ed=Et['getDefault'+'Instancing'+'Format'](_0x10d311['device']),_0x1ba005=new os(_0x10d311['device'],_0x4e36ed,_0xa59155['length']/(0x1f36+0x15ec+0x1*-0x3512),{'data':_0xa59155});_0x236c8f['setInstanc'+'ing'](_0x1ba005),_0x236c8f['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x12d6+-0xcdd+-0x5f9);}return _0x236c8f;},_0x38a884=(_0x125984,_0xf6be05,_0x3fce58)=>{const _0x303f23=new $e();_0xf6be05['_cloneInte'+'rnal'](_0x303f23),_0x125984||(_0x125984=_0x303f23);let _0x4f89a4=null,_0x5c4e95=null;for(let _0x22d820=0x1*-0x1d7e+0x1fad+-0x2b*0xd;_0x22d820<_0x3fce58['nodes']['length'];_0x22d820++)if(_0x3fce58['nodes'][_0x22d820]===_0xf6be05){const _0x1914cf=_0x3fce58['gltf']['nodes'][_0x22d820];if(_0x1914cf['hasOwnProp'+'erty']('mesh')){const _0xf6d444=_0x3fce58['renders'][_0x1914cf['mesh']]['meshes'];_0x5c4e95=this['renders'][_0x1914cf['mesh']];for(let _0x568258=0x187b+-0x218*0x10+0x905;_0x568258<_0xf6d444['length'];_0x568258++){const _0x254217=_0xf6d444[_0x568258];if(_0x254217){const _0xc05350=_0x1445dd(_0x125984,_0x303f23,_0x254217,_0x3fce58['materials'],_0x3fce58['meshDefaul'+'tMaterials'],_0x3fce58['skins'],_0x1914cf,_0x3fce58['nodeInstan'+'cingMap']);_0x4f89a4||(_0x4f89a4=[]),_0x4f89a4['push'](_0xc05350);}}}if(_0x3fce58['lights']){const _0x13ceba=_0x3fce58['lights']['get'](_0x1914cf);_0x13ceba&&_0x303f23['addChild'](_0x13ceba['clone']());}if(_0x3fce58['cameras']){const _0x5727d9=_0x3fce58['cameras']['get'](_0x1914cf);_0x5727d9&&_0x5727d9['camera']['system']['cloneCompo'+'nent'](_0x5727d9,_0x303f23);}}_0x4f89a4&&(_0x303f23['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x4f89a4},_0x536a99)),_0x303f23['render']['assignAsse'+'t'](_0x5c4e95));const _0x1c2372=_0xf6be05['children'];for(let _0x11f095=-0x2009+0xd*-0x191+-0x1*-0x3466;_0x11f095<_0x1c2372['length'];_0x11f095++){const _0x4a3bfc=_0x38a884(_0x125984,_0x1c2372[_0x11f095],_0x3fce58);_0x303f23['addChild'](_0x4a3bfc);}return _0x303f23;},_0x56c9c9=[];for(const _0x5b70a6 of this['data']['scenes'])_0x56c9c9['push'](_0x38a884(null,_0x5b70a6,this['data']));return _0x137649['forEach'](_0x38c30f=>{_0x38c30f['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x38c30f['meshInstan'+'ce']['mesh']['skin'],_0x38c30f['rootBone'],_0x38c30f['entity']),_0x38c30f['meshInstan'+'ce']['node']['render']['rootBone']=_0x38c30f['rootBone'];}),tr['createScen'+'eHierarchy'](_0x56c9c9,$e);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x385131,_0x26ddf4){const _0x486f5b=_0x26ddf4?this['data']['variants'][_0x26ddf4]:null;if(_0x486f5b===void(-0x1c13+-0x11d6+0x2de9)){v['warn']('No\x20variant'+'\x20named\x20'+_0x26ddf4+('\x20exists\x20in'+'\x20resource'));return;}const _0x19e0f9=_0x385131['findCompon'+'ents']('render');for(let _0x394d54=-0x86*0x2b+-0x3ee*0x9+0x39e*0x10;_0x394d54<_0x19e0f9['length'];_0x394d54++){const _0x27b5a3=_0x19e0f9[_0x394d54];this['_applyMate'+'rialVarian'+'t'](_0x486f5b,_0x27b5a3['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x4165b6,_0x1a102f){const _0x38dd5=_0x1a102f?this['data']['variants'][_0x1a102f]:null;if(_0x38dd5===void(0x24cf+0x1*-0x23dd+0x1*-0xf2)){v['warn']('No\x20variant'+'\x20named\x20'+_0x1a102f+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x38dd5,_0x4165b6);}['_applyMate'+'rialVarian'+'t'](_0x33716f,_0x2cf7a7){_0x2cf7a7['forEach'](_0x252602=>{if(_0x33716f===null)_0x252602['material']=this['_defaultMa'+'terial'];else{const _0x42bcfb=this['data']['meshVarian'+'ts'][_0x252602['mesh']['id']];_0x42bcfb&&(_0x252602['material']=this['data']['materials'][_0x42bcfb[_0x33716f]]);}v['assert'](_0x252602['material']);});}static['createScen'+'eHierarchy'](_0x618145,_0x1f29be){let _0x513c68=null;if(_0x618145['length']===0x3*0x39f+-0x1*0x3da+-0x4e*0x17)_0x513c68=_0x618145[0x72*-0x47+-0x1e63+0x3e01];else{_0x513c68=new _0x1f29be('SceneGroup');for(const _0x4e486a of _0x618145)_0x513c68['addChild'](_0x4e486a);}return _0x513c68;}static['createMode'+'l'](_0x2978c5,_0x58370e){const _0xb265c3=function(_0x46a78e,_0x2c2a0b,_0x1278a3,_0x4accdc,_0x2f6f92,_0x2fa468,_0x296aa8){const _0x36c130=_0x2978c5['meshDefaul'+'tMaterials'][_0x2c2a0b['id']],_0x3ab2f7=_0x36c130===void(0x1825*-0x1+-0x68*0x47+0x34fd)?_0x58370e:_0x2f6f92[_0x36c130],_0xb622c7=new Le(_0x2c2a0b,_0x3ab2f7,_0x2fa468);if(_0x2c2a0b['morph']){const _0x13c503=new fn(_0x2c2a0b['morph']);_0xb622c7['morphInsta'+'nce']=_0x13c503,_0x46a78e['morphInsta'+'nces']['push'](_0x13c503);}if(_0x296aa8['hasOwnProp'+'erty']('skin')){const _0x1c2a05=_0x296aa8['skin'],_0x44a058=_0x1278a3[_0x1c2a05];_0x2c2a0b['skin']=_0x44a058;const _0x580f33=_0x4accdc[_0x1c2a05];_0xb622c7['skinInstan'+'ce']=_0x580f33,_0x46a78e['skinInstan'+'ces']['push'](_0x580f33);}_0x46a78e['meshInstan'+'ces']['push'](_0xb622c7);},_0x15c12c=new Oi(),_0x528065=[];for(const _0x26edac of _0x2978c5['skins']){const _0x1b8f4c=new nl(_0x26edac);_0x1b8f4c['bones']=_0x26edac['bones'],_0x528065['push'](_0x1b8f4c);}_0x15c12c['graph']=tr['createScen'+'eHierarchy'](_0x2978c5['scenes'],De);for(let _0x37a7ad=-0x2*0xfd3+0x1*0x1694+0x912;_0x37a7ad<_0x2978c5['nodes']['length'];_0x37a7ad++){const _0x4d4fe9=_0x2978c5['nodes'][_0x37a7ad];if(_0x4d4fe9['root']===_0x15c12c['graph']){const _0x1f8c6b=_0x2978c5['gltf']['nodes'][_0x37a7ad];if(_0x1f8c6b['hasOwnProp'+'erty']('mesh')){const _0x2ea413=_0x2978c5['renders'][_0x1f8c6b['mesh']]['meshes'];for(let _0x1e34fb=-0x85*0x35+0x26cb+-0xb42;_0x1e34fb<_0x2ea413['length'];_0x1e34fb++){const _0x4d98a3=_0x2ea413[_0x1e34fb];_0x4d98a3&&_0xb265c3(_0x15c12c,_0x4d98a3,_0x2978c5['skins'],_0x528065,_0x2978c5['materials'],_0x4d4fe9,_0x1f8c6b);}}}}return _0x15c12c;}['destroy'](){const _0xbcad9f=this['_assets'],_0x446981=function(_0x325511){_0xbcad9f['remove'](_0x325511),_0x325511['unload']();},_0x3b13e7=function(_0x53019c){_0x53019c['forEach'](_0x126a86=>{_0x446981(_0x126a86);});};this['animations']&&(_0x3b13e7(this['animations']),this['animations']=null),this['textures']&&(_0x3b13e7(this['textures']),this['textures']=null),this['materials']&&(_0x3b13e7(this['materials']),this['materials']=null),this['renders']&&(_0x3b13e7(this['renders']),this['renders']=null),this['_model']&&(_0x446981(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x44d29c,_0x21c313,_0x4bfccb){this['_device']=_0x44d29c,this['_assets']=_0x21c313,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x4bfccb;}['_getUrlWit'+'houtParams'](_0x5e319c){return _0x5e319c['indexOf']('?')>=-0x10d8+-0x2336+0x340e?_0x5e319c['split']('?')[0x189*-0x13+0x12b5+0xa76]:_0x5e319c;}['load'](_0x243662,_0x2f16f0,_0x66e136){le['fetchArray'+'Buffer'](_0x243662['load'],(_0x40fe5f,_0x429623)=>{_0x40fe5f?_0x2f16f0(_0x40fe5f):tc['parse'](this['_getUrlWit'+'houtParams'](_0x243662['original']),fe['extractPat'+'h'](_0x243662['load']),_0x429623,this['_device'],_0x66e136['registry'],_0x66e136['options'],(_0x183c44,_0x43e907)=>{_0x183c44?_0x2f16f0(_0x183c44):_0x2f16f0(null,new tr(_0x43e907,_0x66e136,this['_assets'],this['_defaultMa'+'terial']));});},_0x66e136,this['maxRetries']);}['open'](_0x5ec361,_0x750d64,_0x360733){return _0x750d64;}['patch'](_0x2ba4a7,_0x393009){}}class w2 extends Ne{constructor(_0x422f5d){super(_0x422f5d,'container'),this['glbContain'+'erParser']=new b2(_0x422f5d['graphicsDe'+'vice'],_0x422f5d['assets'],-0x2c1*-0x5+0x1*-0x1b79+0xdb4),this['parsers']={};}set['maxRetries'](_0xfe02b8){this['glbContain'+'erParser']['maxRetries']=_0xfe02b8;for(const _0xc412b2 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0xc412b2)&&(this['parsers'][_0xc412b2]['maxRetries']=_0xfe02b8);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x43aea9){return _0x43aea9['indexOf']('?')>=0x15b9*0x1+0x1902+0x6ad*-0x7?_0x43aea9['split']('?')[0x25ef+-0x1352+-0x129d]:_0x43aea9;}['_getParser'](_0x274b3c){const _0x585070=_0x274b3c?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x274b3c))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x585070]||this['glbContain'+'erParser'];}['load'](_0x185c3a,_0x23c51f,_0x5d3a80){typeof _0x185c3a=='string'&&(_0x185c3a={'load':_0x185c3a,'original':_0x185c3a}),this['_getParser'](_0x185c3a['original'])['load'](_0x185c3a,_0x23c51f,_0x5d3a80);}['open'](_0x359557,_0x31a427,_0x1fc774){return this['_getParser'](_0x359557)['open'](_0x359557,_0x31a427,_0x1fc774);}}class T2 extends Ne{constructor(_0x512f9c){super(_0x512f9c,'css'),c(this,'decoder',null);}['load'](_0x2a9636,_0x1961df){typeof _0x2a9636=='string'&&(_0x2a9636={'load':_0x2a9636,'original':_0x2a9636}),We['get'](_0x2a9636['load'],{'retry':this['maxRetries']>-0xb*0x34a+-0xdbd*-0x1+-0x1*-0x1671,'maxRetries':this['maxRetries']},(_0x39d60f,_0x16b15d)=>{_0x39d60f?_0x1961df('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x2a9636['original']+'\x20['+_0x39d60f+']'):_0x1961df(null,_0x16b15d);});}['openBinary'](_0x39329f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x39329f);}}class A2 extends Ne{constructor(_0x572886){super(_0x572886,'cubemap'),this['_device']=_0x572886['graphicsDe'+'vice'],this['_registry']=_0x572886['assets'],this['_loader']=_0x572886['loader'];}['load'](_0x54fa23,_0x5431b1,_0x75b97c){this['loadAssets'](_0x75b97c,_0x5431b1);}['open'](_0x116798,_0x273d48,_0xb748fc){return _0xb748fc?_0xb748fc['resource']:null;}['patch'](_0x53ab00,_0x36b532){this['loadAssets'](_0x53ab00,(_0x4e2355,_0x192fb6)=>{_0x4e2355&&(_0x36b532['fire']('error',_0x53ab00),_0x36b532['fire']('error:'+_0x53ab00['id'],_0x4e2355,_0x53ab00),_0x53ab00['fire']('error',_0x53ab00));});}['getAssetId'+'s'](_0x3387c2){const _0x19a969=[];if(_0x19a969[0x1*0xc50+-0x1686+0xa36]=_0x3387c2['file'],(_0x3387c2['loadFaces']||!_0x3387c2['file'])&&_0x3387c2['data']&&_0x3387c2['data']['textures']){for(let _0x41b711=0x1*0xccd+-0x18af+0x1*0xbe2;_0x41b711<-0x5*0x584+-0xfbf+0x89*0x51;++_0x41b711)_0x19a969[_0x41b711+(-0x26fe+-0x15b9+0x3cb8)]=_0x3387c2['data']['textures'][_0x41b711];}else _0x19a969[0x1707+0x2*-0xae7+-0x138]=_0x19a969[0x227d+0x1529+-0x37a4]=_0x19a969[-0x1bc0+0x1ec4+-0x1*0x301]=_0x19a969[0x3*0x86e+0xc83*0x2+-0x4*0xc93]=_0x19a969[0x126a+0xe3*-0x1+-0x1182]=_0x19a969[0x49b*-0x8+-0x1e9+-0x1*-0x26c7]=null;return _0x19a969;}['compareAss'+'etIds'](_0x168b02,_0x49d354){return _0x168b02&&_0x49d354?parseInt(_0x168b02,0x10*0x100+-0x247b+0x135*0x11)===_0x168b02||typeof _0x168b02=='string'?_0x168b02===_0x49d354:_0x168b02['url']===_0x49d354['url']:_0x168b02!==null==(_0x49d354!==null);}['update'](_0x1bc915,_0x454dc7,_0x1fd0d1){const _0xab1a89=_0x1bc915['data']||{},_0x234645=_0x1bc915['_handlerSt'+'ate']['assets'],_0x157fd3=_0x1bc915['_resources'];let _0x2b4f21,_0x85b08b,_0x5a484c;const _0x1ad334=[null,null,null,null,null,null,null],_0x321e3d=function(){return _0xab1a89['hasOwnProp'+'erty']('type')?_0xab1a89['type']:_0xab1a89['hasOwnProp'+'erty']('rgbm')?_0xab1a89['rgbm']?on:Di:null;};if(!_0x1bc915['loaded']||_0x1fd0d1[-0x9*0x15a+-0x1*0x18da+0x2504]!==_0x234645[0x4*-0x98e+0x51*0x7+-0xd*-0x2c5]){if(_0x1fd0d1[-0x5*-0x754+0x11d1+-0x3*0x1227]){if(_0x2b4f21=_0x1fd0d1[-0x2102+-0x1442+-0x1aa2*-0x2]['resource'],_0x2b4f21['cubemap']){for(_0x5a484c=-0x104c+0x990+0x6bc;_0x5a484c<0x24a7+0x84d+0x36*-0xd5;++_0x5a484c)_0x1ad334[_0x5a484c+(-0x1e29+0xf17+0xf13)]=new he(this['_device'],{'name':_0x1bc915['name']+('_prelitCub'+'emap')+(_0x2b4f21['width']>>_0x5a484c),'cubemap':!(0x6*-0x111+-0x1*0xc31+0x1297),'type':_0x321e3d()||_0x2b4f21['type'],'width':_0x2b4f21['width']>>_0x5a484c,'height':_0x2b4f21['height']>>_0x5a484c,'format':_0x2b4f21['format'],'levels':[_0x2b4f21['_levels'][_0x5a484c]],'addressU':ae,'addressV':ae,'mipmaps':_0x5a484c===-0x14d*-0xb+-0x3*-0x18a+0xf*-0x143});}else _0x1ad334[0xbe0*-0x1+-0x1bac+0x7d*0x51]=_0x2b4f21;}}else _0x1ad334[-0xaf*0x1+-0x27*0x1b+-0x1*-0x4cd]=_0x157fd3[-0x1*-0x249e+-0xeb1*-0x1+-0x334e]||null,_0x1ad334[-0x2414+-0x270a+0x4b20]=_0x157fd3[0x214e+-0x1ea9*-0x1+0x1*-0x3ff5]||null,_0x1ad334[0x1*-0x1cea+0x1*0x2140+-0x453]=_0x157fd3[0x1*-0x1de1+0x1a96+0x34e]||null,_0x1ad334[0x25ac+0xcb3+-0x325b]=_0x157fd3[0xe7b+0x6f0+-0x1567]||null,_0x1ad334[-0x1fe*0x4+0x433+0x3ca]=_0x157fd3[0x83*-0x35+0x370*0x3+0x10d4]||null,_0x1ad334[-0x1a35+0x29*0x2c+0x3*0x665]=_0x157fd3[0x77c+0x2164+-0x28da]||null;const _0x85c77e=_0x1fd0d1['slice'](0x1e7f+-0x2439+0x5bb);if(!_0x1bc915['loaded']||!this['cmpArrays'](_0x85c77e,_0x234645['slice'](0x481*-0x4+-0x66e+0x1873))){if(_0x85c77e['indexOf'](null)===-(-0x42*-0x34+-0xd*-0x3+-0xd8e)){const _0x47d4bf=_0x85c77e['map'](_0x3ebdf0=>_0x3ebdf0['resource']),_0x4c98f5=[];for(_0x85b08b=0x1c09+-0x7f*-0x4d+-0x423c;_0x85b08b<_0x47d4bf[-0x49*-0x79+-0xde6+-0x149b*0x1]['_levels']['length'];++_0x85b08b)_0x4c98f5['push'](_0x47d4bf['map'](_0x13306d=>_0x13306d['_levels'][_0x85b08b]));const _0xdd539=_0x47d4bf[-0x1c0e+-0x2138+0x3d46]['format'],_0x41c680=new he(this['_device'],{'name':_0x1bc915['name']+'_faces','cubemap':!(0x23f9+-0xd69+-0x13*0x130),'type':_0x321e3d()||_0x47d4bf[0x783*0x2+0x7c4+0x16ca*-0x1]['type'],'width':_0x47d4bf[-0x1d43+-0x1bc5*0x1+0x3908]['width'],'height':_0x47d4bf[-0x2*-0x1322+-0x1*-0x22a3+-0x3*0x184d]['height'],'format':_0xdd539===dr?Se:_0xdd539,'mipmaps':_0xab1a89['mipmaps']??!(0x21*0xa3+-0x2471+0xf6e),'levels':_0x4c98f5,'minFilter':_0xab1a89['hasOwnProp'+'erty']('minFilter')?_0xab1a89['minFilter']:_0x47d4bf[-0x6*-0xea+0x70+-0x5ec]['minFilter'],'magFilter':_0xab1a89['hasOwnProp'+'erty']('magFilter')?_0xab1a89['magFilter']:_0x47d4bf[0x157*0xd+-0x8d8+-0x893]['magFilter'],'anisotropy':_0xab1a89['hasOwnProp'+'erty']('anisotropy')?_0xab1a89['anisotropy']:-0x610*-0x6+0x50*0xf+-0x290f,'addressU':ae,'addressV':ae});_0x1ad334[-0x528+-0xd*-0x8e+-0x20e]=_0x41c680;}}else _0x1ad334[-0x1417+-0x8db+0x1cf2]=_0x157fd3[-0x3bd*0x1+-0x1*0x1c1d+0x1fda]||null;if(!this['cmpArrays'](_0x1ad334,_0x157fd3)){for(_0x1bc915['resources']=_0x1ad334,_0x1bc915['_handlerSt'+'ate']['assetIds']=_0x454dc7,_0x1bc915['_handlerSt'+'ate']['assets']=_0x1fd0d1,_0x5a484c=-0xaf5+-0x1ad0+0xc97*0x3;_0x5a484c<_0x157fd3['length'];++_0x5a484c)_0x157fd3[_0x5a484c]!==null&&_0x1ad334['indexOf'](_0x157fd3[_0x5a484c])===-(-0x13ea+-0xa99*-0x2+-0x3*0x6d)&&_0x157fd3[_0x5a484c]['destroy']();}for(_0x5a484c=-0x1*0xc01+-0xd8+0xcd9;_0x5a484c<_0x234645['length'];++_0x5a484c)_0x234645[_0x5a484c]!==null&&_0x1fd0d1['indexOf'](_0x234645[_0x5a484c])===-(0x3*-0x296+-0x17ec+0x1faf*0x1)&&_0x234645[_0x5a484c]['unload']();}['cmpArrays'](_0x1a987b,_0x52a86c){if(_0x1a987b['length']!==_0x52a86c['length'])return!(0x2239+-0x25c0+0x8*0x71);for(let _0x566ba2=0x12a8+0x1*0x273+-0x151b;_0x566ba2<_0x1a987b['length'];++_0x566ba2)if(_0x1a987b[_0x566ba2]!==_0x52a86c[_0x566ba2])return!(0x21ff+0x14af+-0x36ad);return!(-0x12d1+-0x37*-0xa3+0x81a*-0x2);}['resolveId'](_0x484fea){const _0x2afe8d=parseInt(_0x484fea,0x1*0xcb9+-0x1a44+0xd95);return _0x2afe8d===_0x484fea||_0x2afe8d['toString']()===_0x484fea?_0x2afe8d:_0x484fea;}['loadAssets'](_0x375ebd,_0x273ee9){_0x375ebd['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x375ebd['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x30bb87=this,_0x1af7d3=_0x30bb87['getAssetId'+'s'](_0x375ebd),_0x25f842=[null,null,null,null,null,null,null],_0x3c050e=_0x375ebd['_handlerSt'+'ate']['assetIds'],_0x487e13=_0x375ebd['_handlerSt'+'ate']['assets'],_0xa3614f=_0x30bb87['_registry'];let _0x1c1c74=0x96*-0x8+0xc13*-0x1+0x266*0x7;const _0x38232e=function(_0x4667f,_0x1a0e13){_0x25f842[_0x4667f]=_0x1a0e13,_0x1c1c74--,_0x1c1c74===0x3b7*-0x7+-0x22b0+-0x1*-0x3cb1&&(_0x30bb87['update'](_0x375ebd,_0x1af7d3,_0x25f842),_0x273ee9(null,_0x375ebd['resources']));},_0x226edd=function(_0x38806c,_0x5a4893,_0x35b438){_0x273ee9(_0x5a4893);},_0x661e88=function(_0x4b0109,_0x53d39b){_0x53d39b['loaded']?_0x38232e(_0x4b0109,_0x53d39b):(_0xa3614f['once']('load:'+_0x53d39b['id'],_0x38232e['bind'](_0x30bb87,_0x4b0109)),_0xa3614f['once']('error:'+_0x53d39b['id'],_0x226edd['bind'](_0x30bb87,_0x4b0109)),_0x53d39b['loading']||_0xa3614f['load'](_0x53d39b));};let _0x6940a5;for(let _0x6307d6=-0x17d7+-0xc*-0x1da+0x19f;_0x6307d6<0x1787+0x169*0x5+0xed*-0x21;++_0x6307d6){const _0x55f56d=this['resolveId'](_0x1af7d3[_0x6307d6]);if(!_0x55f56d)_0x38232e(_0x6307d6,null);else{if(_0x30bb87['compareAss'+'etIds'](_0x55f56d,_0x3c050e[_0x6307d6]))_0x661e88(_0x6307d6,_0x487e13[_0x6307d6]);else{if(parseInt(_0x55f56d,0x162+-0x1748+-0x3*-0x750)===_0x55f56d)_0x6940a5=_0xa3614f['get'](_0x55f56d),_0x6940a5?_0x661e88(_0x6307d6,_0x6940a5):setTimeout(((_0x468620,_0x1b86d6)=>{const _0x5688e2=_0xa3614f['get'](_0x1b86d6);_0x5688e2?_0x661e88(_0x468620,_0x5688e2):_0x226edd(_0x468620,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x1b86d6);})['bind'](null,_0x6307d6,_0x55f56d));else{const _0x40171f=typeof _0x55f56d=='string'?{'url':_0x55f56d,'filename':_0x55f56d}:_0x55f56d,_0xf94b6d=_0x40171f['url']['search']('.dds')===-(0x109a*0x1+-0xc1c+0x47d*-0x1)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x15f1*0x1+-0x3c1+0x183*0x11)}:null;_0x6940a5=new le(_0x375ebd['name']+'_part_'+_0x6307d6,'texture',_0x40171f,_0xf94b6d),_0xa3614f['add'](_0x6940a5),_0x661e88(_0x6307d6,_0x6940a5);}}}}}}class E2 extends Ne{constructor(_0x334007){super(_0x334007,'folder');}['load'](_0x2c27dd,_0x232417){_0x232417(null,null);}}class Ng{constructor(_0x26cffc,_0x5a21c3){this['type']=_0x5a21c3&&_0x5a21c3['type']||Kh,this['em']=0x13*0x10a+-0x1f94+0xbd7,this['textures']=_0x26cffc,this['intensity']=-0x23ed+0x6*0x466+0x989,this['_data']=null,this['data']=_0x5a21c3;}set['data'](_0x209bf2){if(this['_data']=_0x209bf2,!!_0x209bf2&&(this['_data']['intensity']!==void(0x2002+0x47f+-0x2481)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x1eea+-0x82b+0x2717*0x1)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x38b866 in this['_data']['chars'])this['_data']['chars'][_0x38b866]['map']=0x120f+-0x1*0x4fd+-0x689*0x2;}}get['data'](){return this['_data'];}}function Jd(_0x366d28){return _0x366d28['version']<-0x8fa+-0x1c38+-0xc67*-0x3&&(_0x366d28['version']<0x2407+-0x2bc+-0x1*0x2149&&(_0x366d28['info']['maps']=_0x366d28['info']['maps']||[{'width':_0x366d28['info']['width'],'height':_0x366d28['info']['height']}]),_0x366d28['chars']=Object['keys'](_0x366d28['chars']||{})['reduce']((_0x5ed9a7,_0x11258b)=>{const _0x554cba=_0x366d28['chars'][_0x11258b],_0x1f92df=_0x554cba['letter']!==void(0x9*-0x22f+-0x1811+0x2bb8)?_0x554cba['letter']:ah['fromCodePo'+'int'](_0x11258b);return _0x366d28['version']<-0x9f7+0x1b35+-0x113c&&(_0x554cba['map']=_0x554cba['map']||-0x462*0x1+-0x5*0xbf+-0x43*-0x1f),_0x5ed9a7[_0x1f92df]=_0x554cba,_0x5ed9a7;},{}),_0x366d28['version']=0x1925+0x24e4+0x2*-0x1f03),_0x366d28;}class C2 extends Ne{constructor(_0x2b70b3){super(_0x2b70b3,'font'),this['_loader']=_0x2b70b3['loader'],this['maxRetries']=-0x2*-0x4ab+-0x268c+0x1d36;}['load'](_0x1420d9,_0x241aa4,_0x4e0e19){typeof _0x1420d9=='string'&&(_0x1420d9={'load':_0x1420d9,'original':_0x1420d9});const _0x454cd9=this;fe['getExtensi'+'on'](_0x1420d9['original'])==='.json'?We['get'](_0x1420d9['load'],{'retry':this['maxRetries']>0x10*0x155+0x25c8+-0x3b18*0x1,'maxRetries':this['maxRetries']},(_0x39a730,_0x1ff5a6)=>{if(_0x39a730)_0x241aa4('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x1420d9['original']+'\x20['+_0x39a730+']');else{const _0x1b02ca=Jd(_0x1ff5a6);_0x454cd9['_loadTextu'+'res'](_0x1420d9['load']['replace']('.json','.png'),_0x1b02ca,(_0x1e551b,_0x4cdc02)=>{_0x1e551b?_0x241aa4(_0x1e551b):_0x241aa4(null,{'data':_0x1b02ca,'textures':_0x4cdc02});});}}):(_0x4e0e19&&_0x4e0e19['data']&&(_0x4e0e19['data']=Jd(_0x4e0e19['data'])),this['_loadTextu'+'res'](_0x1420d9['load'],_0x4e0e19&&_0x4e0e19['data'],_0x241aa4));}['_loadTextu'+'res'](_0x217cc5,_0x3967b3,_0x3f4faa){const _0x1f8a36=_0x3967b3['info']['maps']['length'];let _0x3c8f2e=-0x1*-0x2221+0xe3c*-0x2+0xa1*-0x9,_0x101567=null;const _0x14112c=new Array(_0x1f8a36),_0x8692e2=this['_loader'],_0x3d2f5a=function(_0xb498da){const _0x30c58f=function(_0x3af880,_0x4ed19b){if(!_0x101567){if(_0x3af880){_0x101567=_0x3af880,_0x3f4faa(_0x3af880);return;}_0x4ed19b['upload'](),_0x14112c[_0xb498da]=_0x4ed19b,_0x3c8f2e++,_0x3c8f2e===_0x1f8a36&&_0x3f4faa(null,_0x14112c);}};_0xb498da===0x1185+0xe8a+-0x200f*0x1?_0x8692e2['load'](_0x217cc5,'texture',_0x30c58f):_0x8692e2['load'](_0x217cc5['replace']('.png',_0xb498da+'.png'),'texture',_0x30c58f);};for(let _0x2adf93=0x3*0x2ff+-0x9d7+-0x2*-0x6d;_0x2adf93<_0x1f8a36;_0x2adf93++)_0x3d2f5a(_0x2adf93);}['open'](_0xc29697,_0x3aa481,_0x29f70c){let _0x5b1946;return _0x3aa481['textures']?_0x5b1946=new Ng(_0x3aa481['textures'],_0x3aa481['data']):_0x5b1946=new Ng(_0x3aa481,null),_0x5b1946;}['patch'](_0x3d2aaf,_0x582cfe){const _0x10b565=_0x3d2aaf['resource'];!_0x10b565['data']&&_0x3d2aaf['data']?_0x10b565['data']=_0x3d2aaf['data']:!_0x3d2aaf['data']&&_0x10b565['data']&&(_0x3d2aaf['data']=_0x10b565['data']),_0x3d2aaf['data']&&(_0x3d2aaf['data']=Jd(_0x3d2aaf['data']));}}async function M2(){const _0x5e84a7=-0x1*-0x973+-0x6*0x51+0x1*-0x78d+0.28209479177387814;class _0x58a86d{constructor(_0x148ceb,_0x223917,_0x775ab2){this['x']=_0x148ceb,this['y']=_0x223917,this['z']=_0x775ab2;}}class _0x41c2ac{constructor(_0x598554,_0x4a19fe,_0x55d4b8,_0x56ad98){this['x']=_0x598554,this['y']=_0x4a19fe,this['z']=_0x55d4b8,this['w']=_0x56ad98;}}class _0x4394ad{constructor(_0x470fe2,_0x58962d,_0x5765f9,_0x2f66fc){this['x']=_0x470fe2,this['y']=_0x58962d,this['z']=_0x5765f9,this['w']=_0x2f66fc;}['set'](_0x4fd561,_0x1926ca,_0x43ee8d,_0x362ccd){this['x']=_0x4fd561,this['y']=_0x1926ca,this['z']=_0x43ee8d,this['w']=_0x362ccd;}}class _0x362ad2{constructor(_0x2f79fa,_0x2b71d4,_0x41259f,_0x2b28e6,_0x42f039,_0x5f5026,_0x178324,_0x5dceee,_0xbd26ee,_0x195c00,_0x540e65,_0x39357e){const _0x28de18=(_0x4107bf,_0x8b0015)=>{const _0x54989b=(-0x22fa+-0x83*0x22+0x3461<<_0x8b0015)-(0x14ef+-0x431*-0x4+-0x25b2);return(_0x4107bf&_0x54989b)/_0x54989b;},_0x4e488a=(_0x5e927e,_0x396522)=>{_0x5e927e['x']=_0x28de18(_0x396522>>>-0x14d1+0xc26+0x8c0,-0x801+-0x143f+0x1c4b),_0x5e927e['y']=_0x28de18(_0x396522>>>-0x1a*-0x89+-0x1cec+0xf0d,0x49*-0x83+0x11ad+0x13b8),_0x5e927e['z']=_0x28de18(_0x396522,-0x806+-0x1739+0x1f4a);},_0x286515=(_0x5a3ab7,_0x2deed6)=>{_0x5a3ab7['x']=_0x28de18(_0x2deed6>>>-0x3*-0x32f+0x84d+-0x11c2*0x1,0x62f*0x3+0xbcd+-0x2*0xf29),_0x5a3ab7['y']=_0x28de18(_0x2deed6>>>0x1443+0x1b7b+-0x2ce*0x11,0x1c*-0x13+-0x4c1*0x7+-0x1*-0x2363),_0x5a3ab7['z']=_0x28de18(_0x2deed6>>>0x6e8*-0x5+0x1fa4+0x2ec,0x157b+-0x7*-0x2ef+-0x29fc),_0x5a3ab7['w']=_0x28de18(_0x2deed6,-0x513+-0x1725+0x710*0x4);},_0x24bb73=(_0x21a984,_0x27592d)=>{const _0x54156a=(0x163*-0x12+-0x2*-0xbaa+-0x1a3*-0x1)/(Math['sqrt'](0x1206+0x2*0xa06+0x1308*-0x2)*(-0xa3*-0x1f+-0x2495+0x10d8+0.5)),_0x423dcb=(_0x28de18(_0x27592d>>>0x1487+0x15de+-0xe1b*0x3,0x1f*0x7+0x4*0x3f2+0x1*-0x1097)-(-0x271+-0x4c5+-0x1*-0x736+0.5))*_0x54156a,_0x2e1188=(_0x28de18(_0x27592d>>>0x18f2+0x25+-0x79*0x35,-0x134+0x1*0x1e95+0x431*-0x7)-(0x1*0xaab+0x1be7*-0x1+0x113c+0.5))*_0x54156a,_0x183785=(_0x28de18(_0x27592d,-0xa9*-0x1d+0x4d*-0x47+-0x1*-0x240)-(0x2*-0x1352+0x1469+-0x167*-0xd+0.5))*_0x54156a,_0x587dd1=Math['sqrt'](-0x23e6+0x16f*-0x7+0x2*0x16f8-(_0x423dcb*_0x423dcb+_0x2e1188*_0x2e1188+_0x183785*_0x183785));switch(_0x27592d>>>0x13*0x130+-0x73*-0x6+-0x1924){case-0x26e+0x685*-0x1+0x8f3*0x1:_0x21a984['set'](_0x423dcb,_0x2e1188,_0x183785,_0x587dd1);break;case 0x144e+-0x32f+-0x111e:_0x21a984['set'](_0x587dd1,_0x2e1188,_0x183785,_0x423dcb);break;case 0x1f86+-0xd04+-0x4a0*0x4:_0x21a984['set'](_0x2e1188,_0x587dd1,_0x183785,_0x423dcb);break;case-0xf97+0xa5d+0x9*0x95:_0x21a984['set'](_0x2e1188,_0x183785,_0x587dd1,_0x423dcb);break;}},_0x335b1c=(_0x3c36ee,_0x495219,_0x4d2be0)=>_0x3c36ee*(-0x21fc+0x1*0xdf6+0x1*0x1407-_0x4d2be0)+_0x495219*_0x4d2be0,_0x32695a=[0xc80+-0x83*-0x33+-0x2696,-0x6*0x23f+-0xc86+0x1a08,-0x9d*-0x13+-0x1*-0xf47+-0x1adf][_0x42f039-(0xd0f+-0xad*0x1+-0xc61)],_0x4bc0fa=0x2401+0x21*0x105+-0x45a0;this['read']=_0x4c7886=>{const _0x1e54ba=Math['floor'](_0x4c7886/(0xf9a+-0x1*-0x605+-0x149f*0x1))*_0x2b71d4;if(_0x5f5026&&(_0x4e488a(_0x5f5026,_0x41259f[_0x4c7886*_0x4bc0fa+(-0x53*0x76+0x1*-0x86+-0x8*-0x4d9)]),_0x5f5026['x']=_0x335b1c(_0x2f79fa[_0x1e54ba+(-0x1*0x20ab+-0x2705+-0x8f6*-0x8)],_0x2f79fa[_0x1e54ba+(-0x69+0x152e+0x14c2*-0x1)],_0x5f5026['x']),_0x5f5026['y']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x24ec+0x48*0x77+0x4663*-0x1)],_0x2f79fa[_0x1e54ba+(-0x1fe6+0x6*0x119+0x1954)],_0x5f5026['y']),_0x5f5026['z']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x134f*-0x2+0x1900+0xda0*0x1)],_0x2f79fa[_0x1e54ba+(-0x167e+-0x2*0xb93+0x2da9)],_0x5f5026['z'])),_0x178324&&_0x24bb73(_0x178324,_0x41259f[_0x4c7886*_0x4bc0fa+(-0x421+-0xb*-0x79+-0xd*0x15)]),_0x5dceee&&(_0x4e488a(_0x5dceee,_0x41259f[_0x4c7886*_0x4bc0fa+(0x1*-0x96b+0x2*0x6ef+0x1*-0x471)]),_0x5dceee['x']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x7a*0x49+0x92+-0x2356)],_0x2f79fa[_0x1e54ba+(-0xd4f*0x1+0x4d*-0x5+0xed9*0x1)],_0x5dceee['x']),_0x5dceee['y']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x3eb*0x4+0x1f12+-0x2eb7)],_0x2f79fa[_0x1e54ba+(0xb96+0x184e+-0x23da)],_0x5dceee['y']),_0x5dceee['z']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x45*-0x47+-0xb*0x8f+0x30*0x87)],_0x2f79fa[_0x1e54ba+(0x5*0x47f+-0x2*0x117f+0xc8e)],_0x5dceee['z'])),_0xbd26ee&&(_0x286515(_0xbd26ee,_0x41259f[_0x4c7886*_0x4bc0fa+(-0x21*-0x23+-0x5*-0x407+-0x7*0x385)]),_0x2b71d4>0xbe4+-0xba5+0x33*-0x1&&(_0xbd26ee['x']=_0x335b1c(_0x2f79fa[_0x1e54ba+(-0x1bf6+-0x1*-0x1f60+-0x1af*0x2)],_0x2f79fa[_0x1e54ba+(0x256b+-0x11e3+0x3e5*-0x5)],_0xbd26ee['x']),_0xbd26ee['y']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x19a8+-0x2070+0xb*0x9f)],_0x2f79fa[_0x1e54ba+(-0x176e+0x1*0x2309+-0xb8b)],_0xbd26ee['y']),_0xbd26ee['z']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0xcf4*0x2+-0x122c+-0x1*0x7ae)],_0x2f79fa[_0x1e54ba+(0xddd+-0x21a9+0x13dd)],_0xbd26ee['z']))),_0x195c00&&(_0x4e488a(_0x195c00,_0x41259f[_0x4c7886*_0x4bc0fa+(-0x1e73*0x1+0x9c1*-0x4+0x1*0x457b)]),_0x195c00['x']=_0x335b1c(_0x2f79fa[_0x1e54ba+(-0x54*0x30+0x1*-0x21b9+-0x1*-0x318b)],_0x2f79fa[_0x1e54ba+(0x1330+0x752*-0x1+-0xbc9)],_0x195c00['x']),_0x195c00['y']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x1*0xf02+-0x221*0x7+-0x8)],_0x2f79fa[_0x1e54ba+(-0x17b0+0x1777*-0x1+0x2f3d)],_0x195c00['y']),_0x195c00['z']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x1*0x2b7+-0x1b3a+0x1897)],_0x2f79fa[_0x1e54ba+(0x1d56+-0x130*0x12+0x9b*-0xd)],_0x195c00['z'])),_0x540e65&&(_0x4e488a(_0x540e65,_0x41259f[_0x4c7886*_0x4bc0fa+(-0x37*0x8f+0x1cb+0x1cf3)]),_0x540e65['x']=_0x335b1c(_0x2f79fa[_0x1e54ba+(-0xb15+0x12e6+-0x3*0x293)],_0x2f79fa[_0x1e54ba+(-0x1*0xfa7+0x1800+-0x2*0x420)],_0x540e65['x']),_0x540e65['y']=_0x335b1c(_0x2f79fa[_0x1e54ba+(0x1355+0x3fb*-0x2+0x1*-0xb45)],_0x2f79fa[_0x1e54ba+(0xc1*0xe+-0x8f9*-0x1+0x2*-0x9b6)],_0x540e65['y'])),_0x39357e&&_0x42f039>-0xa57+-0x886+0x12dd*0x1){for(let _0x4f02b7=-0x52*0x43+-0x2528+-0xb7*-0x52;_0x4f02b7<0xf71+0x553*-0x7+-0x1*-0x15d7;++_0x4f02b7)for(let _0x2f9cbe=-0xa*0x39e+-0x55f*0x5+0x3f07;_0x2f9cbe<-0x1*-0x15fa+-0x3b*0x1a+0x1*-0xfed;++_0x2f9cbe)_0x39357e[_0x4f02b7*(0x115*0x1a+0x190f+-0x11b6*0x3)+_0x2f9cbe]=_0x2f9cbe<_0x32695a?_0x2b28e6[(_0x4c7886*(0x114f+0x1*-0xf13+-0x239)+_0x4f02b7)*_0x32695a+_0x2f9cbe]*((0x1b6+0x1e7d+0x9*-0x393)/(0x17c*0x7+0x22fb+0x11c*-0x28))-(-0x16a*-0x1+-0x3b7*-0x1+-0x51d):0x3*-0x28d+0x42e+-0x7*-0x7f;}};}}self['onmessage']=async _0x3b23df=>{const {data:_0x21cb39}=_0x3b23df;switch(_0x21cb39['type']){case'initWorker':break;case'decompress':_0x2d5068(_0x21cb39['numSplats'],_0x21cb39['chunkData'],_0x21cb39['chunkSize'],_0x21cb39['vertexData'],_0x21cb39['shData'],_0x21cb39['shBands']);break;}};const _0x2d5068=(_0x5881b9,_0x1f2eb5,_0x49f6cf,_0x1576e9,_0x461ca3,_0x1a63f8)=>{const _0x2f671d=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x1a63f8>0x1bba+-0x19d*0xb+-0x9fb){const _0x1a42a2=[];for(let _0x430a5b=-0x23d9+-0x17a4+0x3b7d;_0x430a5b<-0x2a4+-0x17b2+0x1a83;++_0x430a5b)_0x1a42a2['push']('f_rest_'+_0x430a5b);_0x2f671d['splice'](_0x2f671d['indexOf']('f_dc_0')+(-0x782*0x4+0x1*0x23f7+-0x5ee),0x2282+0xfbe+0x430*-0xc,..._0x1a42a2);}const _0x14bb0d={};_0x2f671d['forEach'](_0x503cb8=>{_0x14bb0d[_0x503cb8]=new Float32Array(_0x5881b9);}),console['log']('decompress');const _0x1cac92=new _0x58a86d(),_0x149dd4=new _0x4394ad(),_0x2c0ce0=new _0x58a86d(),_0x5c3847=new _0x41c2ac(),_0x89aded=new _0x58a86d(),_0x28541c=new _0x58a86d(),_0x593729=_0x1a63f8>-0x1fde+0xf4f+0x108f?new Float32Array(-0x8fa*-0x1+-0x1223+-0xa*-0xef):null,_0x2a887f=new _0x362ad2(_0x1f2eb5,_0x49f6cf,_0x1576e9,_0x461ca3,_0x1a63f8,_0x1cac92,_0x149dd4,_0x2c0ce0,_0x5c3847,_0x89aded,_0x28541c,_0x593729);for(let _0x34463c=-0x26ef*-0x1+0x13f5+-0x3ae4;_0x34463c<_0x5881b9;++_0x34463c)if(_0x2a887f['read'](_0x34463c),_0x14bb0d['x'][_0x34463c]=_0x1cac92['x'],_0x14bb0d['y'][_0x34463c]=_0x1cac92['y'],_0x14bb0d['z'][_0x34463c]=_0x1cac92['z'],_0x14bb0d['rot_1'][_0x34463c]=_0x149dd4['x'],_0x14bb0d['rot_2'][_0x34463c]=_0x149dd4['y'],_0x14bb0d['rot_3'][_0x34463c]=_0x149dd4['z'],_0x14bb0d['rot_0'][_0x34463c]=_0x149dd4['w'],_0x14bb0d['scale_0'][_0x34463c]=_0x2c0ce0['x'],_0x14bb0d['scale_1'][_0x34463c]=_0x2c0ce0['y'],_0x14bb0d['scale_2'][_0x34463c]=_0x2c0ce0['z'],_0x14bb0d['motion_0'][_0x34463c]=_0x89aded['x'],_0x14bb0d['motion_1'][_0x34463c]=_0x89aded['y'],_0x14bb0d['motion_2'][_0x34463c]=_0x89aded['z'],_0x14bb0d['t_scale'][_0x34463c]=_0x28541c['x'],_0x14bb0d['t'][_0x34463c]=_0x28541c['y'],_0x14bb0d['f_dc_0'][_0x34463c]=(_0x5c3847['x']-(0x1*-0x772+0x1de*-0x8+0x1662+0.5))/_0x5e84a7,_0x14bb0d['f_dc_1'][_0x34463c]=(_0x5c3847['y']-(-0x261a+-0x23ff+0x1*0x4a19+0.5))/_0x5e84a7,_0x14bb0d['f_dc_2'][_0x34463c]=(_0x5c3847['z']-(-0x1*-0x467+-0xfe2+0xb7b+0.5))/_0x5e84a7,_0x14bb0d['opacity'][_0x34463c]=_0x5c3847['w']<=-0x171f+0x2f*-0xc9+-0x49e*-0xd?-(-0x1c*-0x96+0xa6*0xe+-0x1954):_0x5c3847['w']>=0x2b*0x2a+-0x3*-0xb27+-0x2882?0x1*-0x1a8d+0x1*-0x29d+0x1d52*0x1:-Math['log']((0x1*-0x5f4+0x2*0x1df+0x1b*0x15)/_0x5c3847['w']-(-0x65*-0x17+0x851+-0x1163)),_0x593729){for(let _0x1d7bc5=0x1*-0x39d+-0x6c7*0x1+-0x1c*-0x5f;_0x1d7bc5<0x394+-0x119*-0xb+-0xf7a;++_0x1d7bc5)_0x14bb0d['f_rest_'+_0x1d7bc5][_0x34463c]=_0x593729[_0x1d7bc5];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x14bb0d});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x5761ff=>{if(!this['worker'])return;const {data:_0x474fbe}=_0x5761ff;switch(_0x474fbe['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x474fbe['data']);break;}};}['decompress'](_0x223bc9,_0x5ed7a9,_0x46dfb6,_0x33eca9,_0x3c9895,_0x19fe94,_0x56ae8e){this['chunkData']=new Float32Array(_0x5ed7a9)['slice'](),this['vertexData']=new Uint32Array(_0x33eca9)['slice'](),this['shData']=new Uint8Array(_0x3c9895)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x223bc9,'chunkData':this['chunkData'],'chunkSize':_0x46dfb6,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x19fe94});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x509dca,_0x5aa1ba,_0x5772c8,_0x4f6c4f,_0x4fcff0,_0xb02fdd,_0x4a684f,_0x2125b1){const _0x8d39b6=(_0x558a67,_0x1dc7c9)=>{const _0x55a061=(0x1228+-0x150e+0x2e7*0x1<<_0x1dc7c9)-(-0x26f2+0x47e*0x8+0x303);return(_0x558a67&_0x55a061)/_0x55a061;},_0xad2d1d=(_0x318160,_0x30ab4f)=>{_0x318160['x']=_0x8d39b6(_0x30ab4f>>>-0xb0+-0x46*-0x2c+-0xb43,0x1*-0x1c57+-0x4*-0x788+-0x1*0x1be),_0x318160['y']=_0x8d39b6(_0x30ab4f>>>0x527*-0x7+-0x23dd+-0x113*-0x43,0x1*0x111b+0x300+-0x1411),_0x318160['z']=_0x8d39b6(_0x30ab4f,0x85*-0x32+-0xb15*-0x1+-0x778*-0x2);},_0x4a70a1=(_0x4ec5fa,_0x4968d6)=>{_0x4ec5fa['x']=_0x8d39b6(_0x4968d6>>>-0x1d*-0xdf+-0xfed+-0x93e,-0x14b0+0x233*0xf+0x9*-0x15d),_0x4ec5fa['y']=_0x8d39b6(_0x4968d6>>>0x653*0x5+0x2*-0x47+-0x1f01,0x1*0x22c7+0x1*0x1a74+0x1*-0x3d33),_0x4ec5fa['z']=_0x8d39b6(_0x4968d6>>>-0xce9+-0x1*-0x101b+-0x5a*0x9,0x8ba+-0x793*-0x1+-0x1045),_0x4ec5fa['w']=_0x8d39b6(_0x4968d6,-0x827+-0x1*0xbee+0x1*0x141d);},_0x1e7877=(_0x222add,_0x547116)=>{const _0x240c3d=(-0xf3*-0x13+0x2561+-0x3769)/(Math['sqrt'](-0x49*0x83+0x23c1+-0xce*-0x2)*(-0x1d*0xd1+-0x414+0xf5*0x1d+0.5)),_0x5a2fbb=(_0x8d39b6(_0x547116>>>0x76*0x2+0x1*-0x148+0x4*0x1c,-0x15ef+0x659+-0x20*-0x7d)-(-0x25*-0x13+0x2*0x1273+-0x27a5+0.5))*_0x240c3d,_0x4bcd9b=(_0x8d39b6(_0x547116>>>-0x25*-0xce+-0x17e*-0x15+-0x3d12,0x15*-0xb9+0x1f6b*-0x1+-0x2f*-0xfe)-(-0x127*0x14+-0x2548*0x1+-0x11e*-0x36+0.5))*_0x240c3d,_0xd7ebdb=(_0x8d39b6(_0x547116,0x1f1c+0xda6+0x2*-0x165c)-(0x3b*0x2a+-0x77b+-0x233+0.5))*_0x240c3d,_0x22b3d5=Math['sqrt'](0x6ab*0x1+-0x8bf*0x4+0x1*0x1c52-(_0x5a2fbb*_0x5a2fbb+_0x4bcd9b*_0x4bcd9b+_0xd7ebdb*_0xd7ebdb));switch(_0x547116>>>-0x68f*0x5+0x382*0x5+-0x313*-0x5){case 0x1*-0x175c+0x1ea6+-0x74a:_0x222add['set'](_0x5a2fbb,_0x4bcd9b,_0xd7ebdb,_0x22b3d5);break;case 0x2c4*0xe+-0x20bf+0x8*-0xbf:_0x222add['set'](_0x22b3d5,_0x4bcd9b,_0xd7ebdb,_0x5a2fbb);break;case-0x2*0x3fa+0x301*-0xb+0x2901:_0x222add['set'](_0x4bcd9b,_0x22b3d5,_0xd7ebdb,_0x5a2fbb);break;case-0x22b9+0x101*0xa+0x18b2:_0x222add['set'](_0x4bcd9b,_0xd7ebdb,_0x22b3d5,_0x5a2fbb);break;}},_0x5223df=(_0x35fc01,_0x46e65f,_0x1dbd0d)=>_0x35fc01*(-0x1d2e+0x77+0x1cb8-_0x1dbd0d)+_0x46e65f*_0x1dbd0d,{chunkData:_0x11c4fa,chunkSize:_0x5bd465,vertexData:_0x4ea5e9,shData:_0x2a42bf,shBands:_0x31e6d4}=_0x509dca,_0x56efcb=[0x1731+-0x56c+-0x11c2,0x43f*0x4+0x25cd+-0x36c1,-0x1d68*0x1+0x12ab+0xacc][_0x31e6d4-(0xc10+-0x588+0x22d*-0x3)],_0x79623e=0x1*0x50+-0x20d9+0x208f;this['read']=_0x461083=>{const _0x4d089d=Math['floor'](_0x461083/(0x23ed+0x8f*0x1f+-0x343e))*_0x5bd465;if(_0x5aa1ba&&(_0xad2d1d(_0x5aa1ba,_0x4ea5e9[_0x461083*_0x79623e+(-0x152b+-0x6*-0x4c1+-0x10d*0x7)]),_0x5aa1ba['x']=_0x5223df(_0x11c4fa[_0x4d089d+(-0x716+0x1*-0x17a3+-0x37*-0x8f)],_0x11c4fa[_0x4d089d+(-0xd25+-0x11ff+-0x91*-0x37)],_0x5aa1ba['x']),_0x5aa1ba['y']=_0x5223df(_0x11c4fa[_0x4d089d+(-0xa4+0x1a7b+0x1*-0x19d6)],_0x11c4fa[_0x4d089d+(0x1515*0x1+0x8e0+0x49*-0x69)],_0x5aa1ba['y']),_0x5aa1ba['z']=_0x5223df(_0x11c4fa[_0x4d089d+(-0xd6a+0x1*0x129d+-0x531)],_0x11c4fa[_0x4d089d+(-0xbb7+0xf8f+-0xb*0x59)],_0x5aa1ba['z'])),_0x5772c8&&_0x1e7877(_0x5772c8,_0x4ea5e9[_0x461083*_0x79623e+(0x11d1+-0x71*-0x35+-0x2935)]),_0x4f6c4f&&(_0xad2d1d(_0x4f6c4f,_0x4ea5e9[_0x461083*_0x79623e+(0xd68+-0x1a33+-0x1d*-0x71)]),_0x4f6c4f['x']=_0x5223df(_0x11c4fa[_0x4d089d+(-0x3*-0xc59+0x128c+-0x3791)],_0x11c4fa[_0x4d089d+(-0xe39*0x1+-0x89d+0x16df)],_0x4f6c4f['x']),_0x4f6c4f['y']=_0x5223df(_0x11c4fa[_0x4d089d+(0x78b*-0x5+0x19a*0x16+-0x6*-0x6b)],_0x11c4fa[_0x4d089d+(0x2344+0x40*0x3f+0x6*-0x87f)],_0x4f6c4f['y']),_0x4f6c4f['z']=_0x5223df(_0x11c4fa[_0x4d089d+(-0xe6*0xd+-0xcad+0x1863)],_0x11c4fa[_0x4d089d+(-0x83f*-0x1+-0x846+-0x2*-0x9)],_0x4f6c4f['z'])),_0x4fcff0&&(_0x4a70a1(_0x4fcff0,_0x4ea5e9[_0x461083*_0x79623e+(0x2ef*-0x6+0x1*-0x25b3+0x3750)]),_0x5bd465>-0x1798+0x1403+0x1*0x3a1&&(_0x4fcff0['x']=_0x5223df(_0x11c4fa[_0x4d089d+(0x23ba+0x3*-0x71+-0x225b)],_0x11c4fa[_0x4d089d+(0x205e+0x398+-0x23e7*0x1)],_0x4fcff0['x']),_0x4fcff0['y']=_0x5223df(_0x11c4fa[_0x4d089d+(0x11*0xb9+-0x2*0x26+-0xbf0)],_0x11c4fa[_0x4d089d+(-0x209*0xb+-0x13e2+0x2a55)],_0x4fcff0['y']),_0x4fcff0['z']=_0x5223df(_0x11c4fa[_0x4d089d+(-0xf3b+0x1db8+0x1*-0xe6f)],_0x11c4fa[_0x4d089d+(0x11c8+-0x2576+0x13bf)],_0x4fcff0['z']))),_0xb02fdd&&(_0xad2d1d(_0xb02fdd,_0x4ea5e9[_0x461083*_0x79623e+(0xe76*-0x1+-0x8bf*-0x2+0xc1*-0x4)]),_0xb02fdd['x']=_0x5223df(_0x11c4fa[_0x4d089d+(0x1540+-0x2276+0x5*0x2a8)],_0x11c4fa[_0x4d089d+(-0x1771+0x16b6+0x10*0xd)],_0xb02fdd['x']),_0xb02fdd['y']=_0x5223df(_0x11c4fa[_0x4d089d+(0x1*-0xc1d+0x405+0x82b)],_0x11c4fa[_0x4d089d+(0x14a1+-0x1905+-0x23d*-0x2)],_0xb02fdd['y']),_0xb02fdd['z']=_0x5223df(_0x11c4fa[_0x4d089d+(0x127*0x1f+-0x8*0x189+0x1*-0x175d)],_0x11c4fa[_0x4d089d+(-0xdd5*0x1+0xaa7+-0x1f*-0x1b)],_0xb02fdd['z'])),_0x4a684f&&(_0xad2d1d(_0x4a684f,_0x4ea5e9[_0x461083*_0x79623e+(0x58+-0xb*-0x23b+0x1*-0x18dc)]),_0x4a684f['x']=_0x5223df(_0x11c4fa[_0x4d089d+(0x1892+0x154+-0x19ce)],_0x11c4fa[_0x4d089d+(-0xd*-0xc2+0xa*0x236+-0x1fdd)],_0x4a684f['x']),_0x4a684f['y']=_0x5223df(_0x11c4fa[_0x4d089d+(0x1788+-0x7ed+0x1*-0xf81)],_0x11c4fa[_0x4d089d+(-0x4*0x111+0x1b*0x4f+-0x3f6)],_0x4a684f['y'])),_0x2125b1&&_0x31e6d4>-0x1950+0x232d+-0x9dd){for(let _0x58a004=-0x10f3*-0x1+0x11*-0x1fe+0x1*0x10eb;_0x58a004<0x5b9+-0x420*-0x9+0x156b*-0x2;++_0x58a004)for(let _0x3b3f78=-0x10d9+0x1eb0+-0xdd7;_0x3b3f78<0xa*0x1bd+0x24cd*-0x1+0x137a;++_0x3b3f78)_0x2125b1[_0x58a004*(-0x21f3+-0x43*-0x92+-0x434)+_0x3b3f78]=_0x3b3f78<_0x56efcb?_0x2a42bf[(_0x461083*(0x8f9*0x1+0xa*0x388+-0x2c46)+_0x58a004)*_0x56efcb+_0x3b3f78]*((0x77d+0x1*-0x7de+0x69)/(-0x1e27+-0x135b+0x3281))-(-0x2b*-0x36+-0x15f+-0x7af):-0x24a+-0x13*0x1d3+0x24f3;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x38bd69,_0x2c79b8,_0x1c6c41,_0x58560b,_0x3ba43d,_0x2bb0d3,_0x194b7b){return new R2(this,_0x38bd69,_0x2c79b8,_0x1c6c41,_0x58560b,_0x3ba43d,_0x2bb0d3,_0x194b7b);}['calcAabb'](_0x285a56){const {chunkData:_0x187705,numChunks:_0x3240d7,chunkSize:_0x587f2c}=this;let _0x3514bf=Math['exp'](Math['max'](_0x187705[0x6f+0x5*-0x5ec+0x1d36],_0x187705[-0x16d+0x1*-0x1809+0x1980],_0x187705[0x2f*0xf+-0x1*-0x2ea+-0x2d0*0x2])),_0x4380a1=_0x187705[-0x1fb+-0xe44+-0x103f*-0x1]-_0x3514bf,_0x1edd44=_0x187705[-0x2*0x128d+0x2274+0x2a7]-_0x3514bf,_0x2a0e46=_0x187705[-0x336*-0xa+0x305*-0x1+-0x1d15]-_0x3514bf,_0x33d1e5=_0x187705[0x1853+0x1*0x1129+-0x2979]+_0x3514bf,_0x561115=_0x187705[-0x19*0xc5+0x824+-0xb1d*-0x1]+_0x3514bf,_0x5aa3b4=_0x187705[-0x1*-0x13a+-0x8c8*-0x4+0x83*-0x47]+_0x3514bf;for(let _0x3e736d=-0x1*0x551+0x6*-0x1f2+0x10fe;_0x3e736d<_0x3240d7;++_0x3e736d){const _0x4e9f3f=_0x3e736d*_0x587f2c;_0x3514bf=Math['exp'](Math['max'](_0x187705[_0x4e9f3f+(0x3*0xa7b+0x961*-0x2+-0x2*0x653)],_0x187705[_0x4e9f3f+(0x22a8+0x345*-0x2+0x1*-0x1c14)],_0x187705[_0x4e9f3f+(-0x20e4+0x12+0x20dd)])),_0x4380a1=Math['min'](_0x4380a1,_0x187705[_0x4e9f3f+(0xed6+0xd37*-0x2+0xb98)]-_0x3514bf),_0x1edd44=Math['min'](_0x1edd44,_0x187705[_0x4e9f3f+(0x8*0x10e+0x73c+-0x539*0x3)]-_0x3514bf),_0x2a0e46=Math['min'](_0x2a0e46,_0x187705[_0x4e9f3f+(-0x1*0x48d+-0x1*-0x13d+0x352)]-_0x3514bf),_0x33d1e5=Math['max'](_0x33d1e5,_0x187705[_0x4e9f3f+(-0x2*-0x74+-0x17a5+0x16c0)]+_0x3514bf),_0x561115=Math['max'](_0x561115,_0x187705[_0x4e9f3f+(0x1*-0x1f82+-0x1*-0x23d+0x1d49)]+_0x3514bf),_0x5aa3b4=Math['max'](_0x5aa3b4,_0x187705[_0x4e9f3f+(0x1d*-0x154+-0x525+0x2bae*0x1)]+_0x3514bf);}return _0x285a56['center']['set']((_0x4380a1+_0x33d1e5)*(0xcf7+-0x1e69+0x1172+0.5),(_0x1edd44+_0x561115)*(0x813+-0x1*0x175d+0xf4a+0.5),(_0x2a0e46+_0x5aa3b4)*(-0x1253+-0x1*-0x2501+-0x12ae+0.5)),_0x285a56['halfExtent'+'s']['set']((_0x33d1e5-_0x4380a1)*(0x3*0x179+0x54*0x47+-0x1bb7+0.5),(_0x561115-_0x1edd44)*(0x283*-0x3+-0x787+-0x788*-0x2+0.5),(_0x5aa3b4-_0x2a0e46)*(-0x101*-0x15+0x9e8+0x1*-0x1efd+0.5)),!(-0x1187*0x1+0xf*0x1c3+-0x43*0x22);}['getCenters'](_0x3257d8){const {vertexData:_0x38bc83,chunkData:_0x598301,numChunks:_0x3880d8,chunkSize:_0x5eb5d6}=this;let _0x2607e5,_0x20fe18,_0x2063de,_0x585b73,_0x288e11,_0x1305dd;for(let _0x39e5d7=-0xd4f+-0x15c1+0x198*0x16;_0x39e5d7<_0x3880d8;++_0x39e5d7){const _0x79cba8=_0x39e5d7*_0x5eb5d6;_0x2607e5=_0x598301[_0x79cba8+(0x2282+0xc68*-0x1+-0x2*0xb0d)],_0x20fe18=_0x598301[_0x79cba8+(-0x3*0x6eb+0x1e82+-0x9c0)],_0x2063de=_0x598301[_0x79cba8+(-0xb57+-0x891+0x13ea)],_0x585b73=_0x598301[_0x79cba8+(-0xf*0x7f+-0x26db+0x2e4f)],_0x288e11=_0x598301[_0x79cba8+(-0x1e89*-0x1+-0x1*0x99b+-0x14ea)],_0x1305dd=_0x598301[_0x79cba8+(0x1*-0x1be9+-0x8*0x4d8+0x2*0x2157)];const _0x15ec44=Math['min'](this['numSplats'],(_0x39e5d7+(-0x4*0x295+-0x1fb8*-0x1+-0x1563))*(-0xf*-0x4c+0x2*0x8c3+-0x14fa));for(let _0x4ffca0=_0x39e5d7*(-0x2613+0x7a6+0x1*0x1f6d);_0x4ffca0<_0x15ec44;++_0x4ffca0){const _0x2881eb=_0x38bc83[_0x4ffca0*(-0x6*-0x232+0x152b*0x1+-0x2253)],_0x57a06f=(_0x2881eb>>>0xc1f+-0x8*-0x467+-0x2f42)/(-0xa66+0x175*-0x4+-0x813*-0x3),_0x445eb2=(_0x2881eb>>>-0x3*-0x2f6+0xb4a+0x1*-0x1421&0x2650+-0x10a*0x13+-0x1*0xe93)/(-0x23ef+-0x578+0x4e*0x95),_0x1115b5=(_0x2881eb&0x1624+-0x989*-0x3+-0x2ac0)/(0x16b2+0x3*0x3c7+-0x1a08);_0x3257d8[_0x4ffca0*(0x1e33+0x1a13+-0x12c1*0x3)+(-0xbdf*-0x1+-0x135a+0x1*0x77b)]=(-0x1fd*0xd+0x1958+-0xa*-0xd-_0x57a06f)*_0x2607e5+_0x57a06f*_0x585b73,_0x3257d8[_0x4ffca0*(0x29*0x41+0x962+-0x13c8)+(0x1ab*-0xf+0x168f+0x277)]=(0xaf*-0x1c+-0x3b2*0x3+0x1e3b*0x1-_0x445eb2)*_0x20fe18+_0x445eb2*_0x288e11,_0x3257d8[_0x4ffca0*(-0xa*-0x334+-0x2f3*0x7+0x2d8*-0x4)+(-0x9f*0x25+0x11f8+0x5*0x101)]=(-0xea8*-0x1+0x1084+-0x1f2b-_0x1115b5)*_0x2063de+_0x1115b5*_0x1305dd;}}}['calcFocalP'+'oint'](_0x2cb768){const {chunkData:_0x412180,numChunks:_0x16bcdf,chunkSize:_0x3361e5}=this;_0x2cb768['x']=0x111*0x5+-0x1*0x4f9+0x1*-0x5c,_0x2cb768['y']=-0x78d*0x5+0xa5f+0x2*0xdb1,_0x2cb768['z']=0x1ed4+-0x6b9*0x5+0x2c9;for(let _0x274f81=0x4e0+-0x1b*0x3d+0x39*0x7;_0x274f81<_0x16bcdf;++_0x274f81){const _0x43e300=_0x274f81*_0x3361e5;_0x2cb768['x']+=_0x412180[_0x43e300+(0x97+-0x103+0x6c)]+_0x412180[_0x43e300+(0x1*0x15cf+-0x1*-0x1313+-0x28df)],_0x2cb768['y']+=_0x412180[_0x43e300+(0x435*0x2+0xdcd*-0x1+0x564)]+_0x412180[_0x43e300+(-0xac4+0x2*-0x990+0x42*0x74)],_0x2cb768['z']+=_0x412180[_0x43e300+(0x110*-0xd+-0x3*0x166+0x1*0x1204)]+_0x412180[_0x43e300+(0x8e*0xd+-0x3*0x4cc+0x733)];}_0x2cb768['mulScalar']((-0x1244+-0x1dff+0x23*0x161+0.5)/_0x16bcdf);}get['isCompress'+'ed'](){return!(-0x25*0x2f+0x1*-0xf09+0x15d4);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x1386+0xa7*-0x35+0x3719));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x19756a;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x19756a=this['shData'])==null?void(-0x1fed+-0x1b81+0x3b6e):_0x19756a['length'])/this['numSplats']/(0x1*-0x67+0x427*-0x5+-0x152d*-0x1)]??0xa13*0x3+-0x1549+-0x2*0x478;}async['decompress'](){const _0x29f141=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x448a5d}=this;if(_0x448a5d>-0x1876+0x3*-0x9bb+-0x5*-0xabb){const _0x499514=[];for(let _0x384bac=-0x10d7+-0x98b+-0xb*-0x266;_0x384bac<0x76*0x13+0x2624+-0x2eb9;++_0x384bac)_0x499514['push']('f_rest_'+_0x384bac);_0x29f141['splice'](_0x29f141['indexOf']('f_dc_0')+(0x7cf*-0x1+-0x29*-0xec+-0x1dfc),-0x751*-0x2+-0x16d1+0x5*0x1a3,..._0x499514);}const _0x830e1d={};_0x29f141['forEach'](_0x40137b=>{_0x830e1d[_0x40137b]=new Float32Array(this['numSplats']);});const _0x435f84=new P2();return _0x435f84['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x830e1d),new Promise((_0x5b4433,_0x1b6610)=>{_0x435f84['on']('decompress'+'ed',_0x297819=>{_0x435f84['destroy'](),_0x5b4433(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x29f141['map'](_0x5a03cf=>({'name':_0x5a03cf,'type':'float','byteSize':0x4,'storage':_0x297819[_0x5a03cf]}))}]));});});}}const D2=(_0x5b108b,_0x636a5f,_0x1e6a35,_0x783e3d,_0xa95743)=>{for(let _0x1dafff=0x1*-0xfb+-0x14bb+0x2*0xadb;_0x1dafff<_0xa95743;++_0x1dafff)for(let _0x3a53dc=-0xd6c+-0x1*-0x1c42+-0xed6;_0x3a53dc<_0x783e3d;++_0x3a53dc)_0x5b108b[_0x1dafff*_0x636a5f+_0x3a53dc]=_0x1e6a35[_0x1dafff*_0x783e3d+_0x3a53dc];},zg=(_0x2fd97f,_0x21b1de,_0x550774,_0x59a1cf,_0x170785,_0x272ae)=>{for(let _0x43dbdc=0x7f4+0x1*0x135b+0x1b4f*-0x1;_0x43dbdc<_0x170785;++_0x43dbdc)for(let _0x5896a4=0xec*0x15+0x8*-0x392+0x1*0x934;_0x5896a4<_0x59a1cf;++_0x5896a4)_0x2fd97f[_0x43dbdc*_0x21b1de+_0x5896a4]=_0x550774[_0x43dbdc*_0x59a1cf+_0x5896a4+_0x272ae];};class L2{constructor(_0x5f4753,_0x213bc5){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x42a138,chunkSize:_0x48c062,numChunks:_0x5b04f3,numSplats:_0x2c9e5c,vertexData:_0x454a85,shBands:_0x546de4,is4D:_0x39ab55}=_0x213bc5;this['device']=_0x5f4753,this['numSplats']=_0x2c9e5c,this['numVisible'+'Splats']=_0x2c9e5c,this['is4D']=_0x39ab55,this['aabb']=new _e(),_0x213bc5['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x2c9e5c*(-0x1*-0x2675+-0x6db+-0x1f97)),_0x213bc5['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x2c9e5c));const _0x4a8ca0=this['packedText'+'ure']['lock']();zg(_0x4a8ca0,-0x1717+-0x2087+0x37a2,_0x454a85,-0x710+-0x35*0x16+0x254*0x5,_0x2c9e5c,0x1528+0x2*0x1d5+-0x18d2),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x2c9e5c));const _0x319d80=this['packedTime'+'Texture']['lock']();zg(_0x319d80,0x5fc+0xc3d+-0x1237,_0x454a85,0x1775*0x1+-0x3*0x5f2+0x1*-0x599,_0x2c9e5c,0x17*-0x6d+-0x1b14+0x24e3);const _0x447d21=this['evalTextur'+'eSize'](_0x5b04f3);_0x447d21['x']*=0x68*-0x2d+-0x1dc3+-0x36f*-0xe,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x447d21);const _0x225a8c=this['chunkTextu'+'re']['lock']();if(D2(_0x225a8c,(0x759+-0x1*0x2c4+-0x491)*(0xa5d+-0xb8*-0x1a+-0x5ce*0x5),_0x42a138,_0x48c062,_0x5b04f3),_0x48c062===0x1f3*-0x11+-0x16f4+-0x3823*-0x1){for(let _0x33b3ed=0x1a5*-0x11+0x13c*0x5+0x1*0x15c9;_0x33b3ed<_0x5b04f3;++_0x33b3ed)_0x225a8c[_0x33b3ed*(-0x47f+0x1*0x54f+-0xbc)+(0x1cfc+0x917+-0x2604)]=-0x1951+-0x1*0x847+0x2199,_0x225a8c[_0x33b3ed*(-0x9f*-0x1b+-0x43d+0x2*-0x63a)+(0x1e13+0x2f*-0x17+-0x19ca)]=0x8ae+0x17a8+0x10b*-0x1f,_0x225a8c[_0x33b3ed*(0x8*-0x44f+-0x89*-0x47+-0x373*0x1)+(0x1272+-0xcad+-0x4*0x16d)]=0x266f+0xa43*0x2+-0x3af4;}if(this['chunkTextu'+'re']['unlock'](),_0x546de4>0xe6*-0x5+0x2*-0x10dd+0x2638){const {shData:_0x2b414f}=_0x213bc5,_0x5074ed=this['evalTextur'+'eSize'](_0x2c9e5c),_0x3d59e3=this['createText'+'ure']('shTexture0',ut,_0x5074ed),_0x292ba9=this['createText'+'ure']('shTexture1',ut,_0x5074ed),_0x2950e4=this['createText'+'ure']('shTexture2',ut,_0x5074ed),_0x2a4efc=_0x3d59e3['lock'](),_0x41770b=_0x292ba9['lock'](),_0x6f5db=_0x2950e4['lock'](),_0x1e951b=new Uint8Array(_0x2a4efc['buffer']),_0x3b508b=new Uint8Array(_0x41770b['buffer']),_0x410b55=new Uint8Array(_0x6f5db['buffer']),_0x1313c0=[0x2265+0x19b9+0x17*-0x29d,0x1522+0x14bd*-0x1+-0x1*0x5d,-0x7*-0xf9+0xf16*-0x1+0x16*0x61][_0x546de4-(0x7e1+-0x23ef*0x1+0x1c0f)];for(let _0x5f5ac3=-0x1a43+-0x1*0xca+-0x1*-0x1b0d;_0x5f5ac3<_0x2c9e5c;++_0x5f5ac3)for(let _0x11312b=0x1*0x169+0x1a88+-0x1bf1;_0x11312b<-0x5*-0x392+-0x1808+0x63d;++_0x11312b)_0x1e951b[_0x5f5ac3*(0x11bf+-0x4f7+-0x65c*0x2)+_0x11312b]=_0x11312b<_0x1313c0?_0x2b414f[(_0x5f5ac3*(-0x1d6b+-0x2656+0x43c4)+(0x1a6f+0xa*0x2f1+-0x37d9))*_0x1313c0+_0x11312b]:-0x226a+0x3*0x94a+-0x259*-0x3,_0x3b508b[_0x5f5ac3*(0x3*-0xcdc+-0x562+0x2e*0xf5)+_0x11312b]=_0x11312b<_0x1313c0?_0x2b414f[(_0x5f5ac3*(-0x1cbf+0x649*-0x3+0x2f9d)+(0x5*-0x53a+0x1e48+0x425*-0x1))*_0x1313c0+_0x11312b]:-0x3*0x25+0x1*0x172d+-0x163f,_0x410b55[_0x5f5ac3*(-0x7*-0xb5+-0x19da+0x14f7)+_0x11312b]=_0x11312b<_0x1313c0?_0x2b414f[(_0x5f5ac3*(-0x1754+0x1a76+-0x1*0x31f)+(0x1*0x1dd1+0x2*-0x38b+0x115*-0x15))*_0x1313c0+_0x11312b]:0xd4+0x116d+0x8e1*-0x2;_0x3d59e3['unlock'](),_0x292ba9['unlock'](),_0x2950e4['unlock'](),this['shTexture0']=_0x3d59e3,this['shTexture1']=_0x292ba9,this['shTexture2']=_0x2950e4;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0xe73a5a,_0x256048,_0x554247,_0x57588a,_0x4e1ded,_0x513767;(_0xe73a5a=this['packedText'+'ure'])==null||_0xe73a5a['destroy'](),(_0x256048=this['packedTime'+'Texture'])==null||_0x256048['destroy'](),(_0x554247=this['chunkTextu'+'re'])==null||_0x554247['destroy'](),(_0x57588a=this['shTexture0'])==null||_0x57588a['destroy'](),(_0x4e1ded=this['shTexture1'])==null||_0x4e1ded['destroy'](),(_0x513767=this['shTexture2'])==null||_0x513767['destroy']();}['createMate'+'rial'](_0xd585da){const _0x4c79da=z0(_0xd585da);return _0x4c79da['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(0x1c0c+-0x26c*0x5+0xff0*-0x1)),_0x4c79da['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x4c79da['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x4c79da['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x4c79da['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x4c79da['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x4c79da['setDefine']('SH_BANDS',-0x3*-0x2ef+-0xf*-0x21a+-0x6*0x6b8),_0x4c79da['setParamet'+'er']('shTexture0',this['shTexture0']),_0x4c79da['setParamet'+'er']('shTexture1',this['shTexture1']),_0x4c79da['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x4c79da['setDefine']('SH_BANDS',-0x2015+0x1653+0x9c2),_0x4c79da;}['evalTextur'+'eSize'](_0x4e27c8){const _0x29bfce=Math['ceil'](Math['sqrt'](_0x4e27c8)),_0x455f8f=Math['ceil'](_0x4e27c8/_0x29bfce);return new $(_0x29bfce,_0x455f8f);}['createText'+'ure'](_0x5781b7,_0x1eb0e6,_0x14bb3f,_0x1a2410){return new he(this['device'],{'name':_0x5781b7,'width':_0x14bb3f['x'],'height':_0x14bb3f['y'],'format':_0x1eb0e6,'cubemap':!(0x25ca+-0x142*-0x1a+-0x467d),'mipmaps':!(-0x804+-0x1113+0x1918),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x1a2410?{'levels':[_0x1a2410]}:{}});}}class F2{constructor(_0x3db34d,_0x1ce7ba,_0x5a0b86){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x3db34d,this['splatData']=_0x1ce7ba,this['comments']=_0x5a0b86);}['destroy'](){var _0x3aa5b4;this['device']=null,this['splatData']=null,(_0x3aa5b4=this['splat'])==null||_0x3aa5b4['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x237c4b,_0x2e0e56,_0x111c2d){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x2e0e56,this['splatData']['appendGSpl'+'atData'](_0x237c4b,_0x111c2d,_0x2e0e56),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x3bfe6f={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x3bfe6f);const _0x3e2962=new $e(),_0x15555d=_0x3e2962['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x3e2962['setLocalEu'+'lerAngles'](0x2*0x761+-0x3*0x3d5+-0xa7*0x5,-0x16ee+0x5a0+-0x1bb*-0xa,-0x17c7+-0x1*-0x1b8a+-0x3c3),_0x15555d['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x3e2962;}['createInst'+'ance'](_0x478ff4={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x302b3d=this['createSpla'+'t']();return new Np(_0x302b3d,_0x478ff4);}}const Ug=new Uint8Array([-0x1248+0x22f4+0x103c*-0x1,0xe08+-0x2247+0x8f*0x25,-0xb52+0x15f6+-0xa2b,-0x3*-0x90d+-0x1679+0x63*-0xc]),Vg=new Uint8Array([0xe31+-0xefb+0xd4,0x6b+0x126e*-0x2+-0x29*-0xe6,0x2*-0xe9b+-0x2+-0x42*-0x73,-0x1*0x137b+0x282*-0x9+0x2a71,-0x15dc+-0x10ff*0x1+-0x1*-0x273a,-0x1*-0x632+0x230*0x5+-0x10ba,-0x7e4*-0x3+-0x1d11+0x5ca,0x299+-0x1322+0x10ea,-0xc18+0xf9*-0xa+0x1636,0x1ea+0x3f*-0x55+0x1366,-0x5*-0x4d6+-0x5b*-0x49+-0x31af*0x1,-0x11e0*-0x2+0x1910+-0x3cc6]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x781ec0,_0x121ec4){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',0x4*0x865+-0xeb0+-0x4*0x4b9),c(this,'tail',0xb32*-0x1+0x103*0x11+-0x1*0x601),(this['reader']=_0x781ec0,this['progressFu'+'nc']=_0x121ec4);}async['read'](){var _0x53bdc3;const {value:_0x287b09,done:_0x4e61dd}=await this['reader']['read']();if(_0x4e61dd)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x287b09),(_0x53bdc3=this['progressFu'+'nc'])==null||_0x53bdc3['call'](this,_0x287b09['byteLength']);}['push'](_0x32dadc){if(!this['data'])this['data']=_0x32dadc,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x32dadc['length'];else{const _0x226715=this['tail']-this['head'],_0x25a048=_0x226715+_0x32dadc['length'];if(this['data']['length']>=_0x25a048)this['head']>0x83+0xad1*-0x3+-0x8*-0x3fe?(this['data']['copyWithin'](0x5b0+-0x2522+0x1f72,this['head'],this['tail']),this['data']['set'](_0x32dadc,_0x226715),this['head']=-0x2*-0x1002+-0xec8+0x4*-0x44f,this['tail']=_0x25a048):(this['data']['set'](_0x32dadc,this['tail']),this['tail']+=_0x32dadc['length']);else{const _0x354250=new Uint8Array(_0x25a048);this['head']>0x1e64+-0x67*0x35+-0x911||this['tail']<this['data']['length']?_0x354250['set'](this['data']['subarray'](this['head'],this['tail']),-0x186d+-0x21f1*-0x1+0xe*-0xae):_0x354250['set'](this['data'],0x1*-0x30+0x26ae*0x1+0x2f6*-0xd),_0x354250['set'](_0x32dadc,_0x226715),this['data']=_0x354250,this['view']=new DataView(this['data']['buffer']),this['head']=-0x497*-0x1+-0xff*0x1a+0x154f,this['tail']=_0x25a048;}}}['compact'](){this['head']>0x1af5+-0x2246+0x751&&(this['data']['copyWithin'](-0x3*-0xb42+0x1*0x805+-0x29cb,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x72f*-0x1+0x1*-0xab0+0x11df);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x673b9f=this['view']['getInt8'](this['head']);return this['head']++,_0x673b9f;}['getUint8'](){const _0x39deaa=this['view']['getUint8'](this['head']);return this['head']++,_0x39deaa;}['getInt16'](){const _0x573eb6=this['view']['getInt16'](this['head'],!(0x3b*-0x33+0x11d7*-0x2+0x2f6f*0x1));return this['head']+=0x253f+0x305+-0x1*0x2842,_0x573eb6;}['getUint16'](){const _0x79eb24=this['view']['getUint16'](this['head'],!(0x822+-0x11*0x149+0xdb7));return this['head']+=-0x1*0xc26+-0x2bd*0xa+0x278a,_0x79eb24;}['getInt32'](){const _0xe2958=this['view']['getInt32'](this['head'],!(-0x620+0x1262+0x20b*-0x6));return this['head']+=-0x1ee1+-0x11ff+0x30e4,_0xe2958;}['getUint32'](){const _0x511676=this['view']['getUint32'](this['head'],!(-0x1*0x19fd+0x4*-0x14b+0x1f29));return this['head']+=0x166d+-0xdb2*-0x1+-0x241b,_0x511676;}['getFloat32'](){const _0x2dc627=this['view']['getFloat32'](this['head'],!(-0x23*0x44+-0x1*0x12b1+0x1bfd));return this['head']+=0x1135*0x1+-0x605+-0xb2c,_0x2dc627;}['getFloat64'](){const _0x2b7a8=this['view']['getFloat64'](this['head'],!(0x259a+-0x30b*0x2+-0x1f84));return this['head']+=0xa*-0x3b7+0x1*0x62a+-0xf82*-0x2,_0x2b7a8;}}const k2=_0x5a4cc1=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x16a898=[],_0x2e04f5=[];let _0x3cbe0b;for(let _0x509b8e=-0x1dc*0x13+0x3*-0x985+0x3fe4;_0x509b8e<_0x5a4cc1['length'];++_0x509b8e){const _0x47c392=_0x5a4cc1[_0x509b8e]['split']('\x20');switch(_0x47c392[0x29*-0x6+-0x1042*-0x1+-0xf4c]){case'comment':_0x2e04f5['push'](_0x47c392['slice'](0x4*0x6d+0x6ad*0x1+-0x860)['join']('\x20'));break;case'format':_0x3cbe0b=_0x47c392[0x962+0x14ab+-0x1e0c];break;case'element':_0x16a898['push']({'name':_0x47c392[-0x251a+-0x1a*-0x12f+0x1*0x655],'count':parseInt(_0x47c392[-0x2432+-0x11*-0x1ba+0x6da*0x1],0xe15+0x9*-0x37c+-0x1151*-0x1),'properties':[]});break;case'property':{if(!bf['has'](_0x47c392[-0x2*-0xdca+-0xd2a*-0x1+-0x28bd]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x47c392[-0x46c*-0x3+0x267*0x10+-0x33b3]+('\x27\x20in\x20ply\x20h'+'eader'));_0x16a898[_0x16a898['length']-(0x25c3+-0xb20+-0x1aa2)]['properties']['push']({'type':_0x47c392[-0x851+0x377*-0x2+0xf40],'name':_0x47c392[-0x113a*0x1+0x2559+0x10f*-0x13],'storage':null,'byteSize':bf['get'](_0x47c392[-0x270b+0x24b*0x2+0x322*0xb])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x47c392[0x1b81*-0x1+0x23b6+0x835*-0x1]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x16a898,'format':_0x3cbe0b,'comments':_0x2e04f5};},B2=_0x5655fb=>{const _0x4483a3=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x104705=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x1e1791=new Array(0x21f+0x1*-0x24d7+0x22e5)['fill']('')['map']((_0x17e3ff,_0x30a873)=>'f_rest_'+_0x30a873),_0x196a76=()=>_0x5655fb[0x21b0+-0x254f+0x39f]['name']==='chunk'&&_0x5655fb[-0x2354*-0x1+0x1315*-0x2+0x2d6]['properties']['every']((_0x5e5f6e,_0x14c0ac)=>_0x5e5f6e['name']===_0x4483a3[_0x14c0ac]&&_0x5e5f6e['type']==='float')&&_0x5655fb[-0xfb7+0x6*-0x202+0x1bc4]['name']==='vertex'&&_0x5655fb[-0x1856+0x2*0xa3+-0x5*-0x49d]['properties']['every']((_0x1a55c5,_0x3f0f26)=>_0x1a55c5['name']===_0x104705[_0x3f0f26]&&_0x1a55c5['type']==='uint'),_0x2db4d2=()=>_0x5655fb[0x99d*0x3+-0x137*0xa+-0x1*0x10af]['name']==='sh'&&[0x1f3d+-0x266*-0x3+-0x2666,-0x1ac7+-0x2*-0x446+0x1253,-0x823*-0x2+-0x1*0x1429+-0x34*-0x14]['indexOf'](_0x5655fb[0xad*0x13+0x23f2+-0x30c7*0x1]['properties']['length'])!==-(0x13eb+-0x949+-0xaa1)&&_0x5655fb[-0x200e*-0x1+-0xdc9*-0x2+-0x24b*0x1a]['properties']['every']((_0x3d12c0,_0x4d3797)=>_0x3d12c0['name']===_0x1e1791[_0x4d3797]&&_0x3d12c0['type']==='uchar');return _0x5655fb['length']===-0x26a1*0x1+-0x1*-0x25b6+0x4f*0x3&&_0x196a76()||_0x5655fb['length']===0x26dc+-0x689*0x1+-0x16*0x178&&_0x196a76()&&_0x2db4d2();},N2=_0x17a527=>_0x17a527['length']===0xcdb*0x1+-0x3*0x86e+-0x18e*-0x8&&_0x17a527[0x6c3+0x279*0x1+-0x93c]['name']==='vertex'&&_0x17a527[-0xe*-0x97+-0x1f*0x67+0x437]['properties']['every'](_0x3cb434=>_0x3cb434['type']==='float'),z2=async(_0x11e757,_0x5d4c0b)=>{const _0x44f470=new I2(),_0x282a74=_0x5d4c0b[-0x482*-0x2+0x32a+-0x1*0xc2e]['count'],_0x5eade6=_0x5d4c0b[-0x2361+0x1*0x16db+0xc86]['properties']['length'],_0x2b9959=_0x5d4c0b[0x187d*-0x1+0x422+0x145c]['count'],_0x263e58=_0x5d4c0b[-0x3*0xe9+0x647*0x3+-0x1*0x1019]['properties']['some'](_0x7ec89e=>_0x7ec89e['name']==='packed_tim'+'e'),_0xc624d4=_0x137095=>{const _0x2be158=Math['ceil'](Math['sqrt'](_0x137095)),_0x3611e2=Math['ceil'](_0x137095/_0x2be158);return _0x2be158*_0x3611e2;};_0x44f470['numSplats']=_0x2b9959,_0x44f470['is4D']=_0x263e58,_0x44f470['chunkData']=new Float32Array(_0x282a74*_0x5eade6),_0x44f470['vertexData']=new Uint32Array(_0xc624d4(_0x2b9959)*(-0x1*-0x101f+-0x167d+0x664));const _0x4bcb97=async(_0x5cf479,_0x572a46)=>{const _0x2217ab=new Uint8Array(_0x5cf479);let _0x1e8dbd=-0x207d*-0x1+0x2*0x11c3+-0x4403;for(;_0x1e8dbd<_0x572a46;){for(;_0x11e757['remaining']===0x161e+0x305+-0xa5*0x27;)await _0x11e757['read']();const _0x30cb7d=Math['min'](_0x572a46-_0x1e8dbd,_0x11e757['remaining']),_0x5629f2=_0x11e757['data'];for(let _0xf7e544=-0x298+-0x1a2b+0x1*0x1cc3;_0xf7e544<_0x30cb7d;++_0xf7e544)_0x2217ab[_0x1e8dbd++]=_0x5629f2[_0x11e757['head']++];}};return await _0x4bcb97(_0x44f470['chunkData']['buffer'],_0x282a74*_0x5eade6*(-0x1*0x2405+-0x1c84+0x408d)),await _0x4bcb97(_0x44f470['vertexData']['buffer'],_0x2b9959*(0x557*0x2+0x2*-0x8f5+-0x1*-0x742)*(0x17cb+-0x74*0x27+-0x61b*0x1)),_0x5d4c0b['length']===0x17dd*0x1+0x227f*0x1+-0x3a59&&(_0x44f470['shData']=new Uint8Array(_0x5d4c0b[-0x25f*-0x2+0x1ef3+0x69*-0x57]['count']*_0x5d4c0b[0x14b*-0x13+0x10a8+0x7eb]['properties']['length']),await _0x4bcb97(_0x44f470['shData']['buffer'],_0x44f470['shData']['byteLength'])),_0x44f470;},U2=async(_0x44f1b0,_0x509a94)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x5a55b4=_0x509a94[0x571+0xf9a+0x1*-0x150b],_0x5c6ba5=_0x5a55b4['properties'],_0x5c3c66=_0x5c6ba5['length'],_0x1b0df3=_0x5c6ba5['map'](_0x5c6604=>_0x5c6604['storage']),_0x5539a0=_0x5c6ba5['reduce']((_0xefad1a,_0x2d3adf)=>_0xefad1a+_0x2d3adf['byteSize'],0x1*0xf4f+0x29*-0x2f+-0x7c8);let _0x19c77b=-0x935+-0x1c46+0x257b,_0x484926;const _0x211178=()=>{const _0x183121=_0x44f1b0['data']['buffer'];(_0x484926==null?void(0x2*-0x1fb+-0x16b9+0x1aaf):_0x484926['buffer'])!==_0x183121&&(_0x484926=new Float32Array(_0x183121,-0x2484+0x1742+0xd42,_0x183121['byteLength']/(0x1c1b+0x403+0x7*-0x496)));};for(_0x211178();_0x19c77b<_0x5a55b4['count'];){for(;_0x44f1b0['remaining']<_0x5539a0;)await _0x44f1b0['read'](),_0x211178();const _0x5b2b55=Math['min'](_0x5a55b4['count']-_0x19c77b,Math['floor'](_0x44f1b0['remaining']/_0x5539a0));for(let _0x37acf5=0x8*-0xde+0x21b*-0x5+-0x1177*-0x1;_0x37acf5<_0x5c3c66;++_0x37acf5){const _0x219429=_0x1b0df3[_0x37acf5];for(let _0x44479f=0x7*0x55a+-0x1eae+-0x4*0x1b2;_0x44479f<_0x5b2b55;++_0x44479f)_0x219429[_0x44479f+_0x19c77b]=_0x484926[_0x44479f*_0x5c3c66+_0x37acf5];}_0x19c77b+=_0x5b2b55,_0x44f1b0['head']+=_0x5b2b55*_0x5539a0;}return new Ia(_0x509a94);},V2=async(_0x116a20,_0x31cb09)=>{for(let _0x35d86b=-0x2320+-0x6*0x125+0x29fe;_0x35d86b<_0x31cb09['length'];++_0x35d86b){const _0x53b739=_0x31cb09[_0x35d86b],_0x596ede=_0x53b739['properties']['reduce']((_0x3d08c6,_0x3564a5)=>_0x3d08c6+_0x3564a5['byteSize'],0x72c*0x5+0x29*0x11+-0x11*0x245),_0x3edfd4=_0x53b739['properties']['map'](_0x1f3dda=>{if(_0x1f3dda['storage'])switch(_0x1f3dda['type']){case'char':return(_0x101df4,_0x28e2b9)=>{_0x1f3dda['storage'][_0x28e2b9]=_0x101df4['getInt8']();};case'uchar':return(_0x3f4dd9,_0x2051d1)=>{_0x1f3dda['storage'][_0x2051d1]=_0x3f4dd9['getUint8']();};case'short':return(_0x57756a,_0x300e28)=>{_0x1f3dda['storage'][_0x300e28]=_0x57756a['getInt16']();};case'ushort':return(_0x5cf706,_0x108f24)=>{_0x1f3dda['storage'][_0x108f24]=_0x5cf706['getUint16']();};case'int':return(_0x1ed544,_0x10160f)=>{_0x1f3dda['storage'][_0x10160f]=_0x1ed544['getInt32']();};case'uint':return(_0x1b3f1a,_0x5b482c)=>{_0x1f3dda['storage'][_0x5b482c]=_0x1b3f1a['getUint32']();};case'float':return(_0x93bb58,_0xa38f62)=>{_0x1f3dda['storage'][_0xa38f62]=_0x93bb58['getFloat32']();};case'double':return(_0xe7f119,_0x1bc5ae)=>{_0x1f3dda['storage'][_0x1bc5ae]=_0xe7f119['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x1f3dda['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x3ac348=>{_0x3ac348['head']+=_0x1f3dda['byteSize'];};});let _0x275a54=0x107*-0x25+0x21b7+-0x32*-0x16;for(;_0x275a54<_0x53b739['count'];){for(;_0x116a20['remaining']<_0x596ede;)await _0x116a20['read']();const _0x1aafaa=Math['min'](_0x53b739['count']-_0x275a54,Math['floor'](_0x116a20['remaining']/_0x596ede));for(let _0x32c7f0=0x19b5+0x6f*0x17+0x23ae*-0x1;_0x32c7f0<_0x1aafaa;++_0x32c7f0){for(let _0x201f6a=-0x1b14+-0xfba+0x1567*0x2;_0x201f6a<_0x53b739['properties']['length'];++_0x201f6a)_0x3edfd4[_0x201f6a](_0x116a20,_0x275a54);_0x275a54++;}}}return new Ia(_0x31cb09);},G2=async(_0x24f449,_0x3f2646=null,_0x3e9594=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x4136d8=(_0x28b4c9,_0x15d219)=>{const _0x416669=_0x28b4c9['length']-_0x15d219['length'];let _0x2e4e3f,_0x166967;for(_0x2e4e3f=-0xd2e+-0x1*0x1532+0x113*0x20;_0x2e4e3f<=_0x416669;++_0x2e4e3f){for(_0x166967=-0x8*0xbe+0x1e78+-0x1888;_0x166967<_0x15d219['length']&&_0x28b4c9[_0x2e4e3f+_0x166967]===_0x15d219[_0x166967];++_0x166967);if(_0x166967===_0x15d219['length'])return _0x2e4e3f;}return-(-0x466+-0x125*0x1+0x2c6*0x2);},_0x358d9b=(_0x8cb704,_0xc4b64b)=>{if(_0x8cb704['length']<_0xc4b64b['length'])return!(-0x1*0x2701+0x1*-0x10f5+-0x1*-0x37f7);for(let _0x5a7b2e=-0xf7*0x15+0x26*-0x33+0x1bd5;_0x5a7b2e<_0xc4b64b['length'];++_0x5a7b2e)if(_0x8cb704[_0x5a7b2e]!==_0xc4b64b[_0x5a7b2e])return!(0xb*-0x11a+-0x1419+0x407*0x8);return!(0x9f3*-0x1+0xae8+-0xf5);},_0xa1fd3a=new O2(_0x24f449,_0x3e9594);let _0x2d9582;for(;;){if(await _0xa1fd3a['read'](),_0xa1fd3a['tail']>=Ug['length']&&!_0x358d9b(_0xa1fd3a['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x2d9582=_0x4136d8(_0xa1fd3a['data'],Vg),_0x2d9582!==-(-0x1c5+-0x6fd+0x8c3))break;}const _0x1860f6=new TextDecoder('ascii')['decode'](_0xa1fd3a['data']['subarray'](-0xd45+0x3*-0xb9a+0x3013,_0x2d9582))['split']('\x0a'),{elements:_0x5e413a,format:_0x45045c,comments:_0x264bfc}=k2(_0x1860f6);if(_0x45045c!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0xa1fd3a['head']=_0x2d9582+Vg['length'],_0xa1fd3a['compact'](),{'data':await((async()=>B2(_0x5e413a)?await z2(_0xa1fd3a,_0x5e413a):(_0x5e413a['forEach'](_0x4c7c0e=>{_0x4c7c0e['properties']['forEach'](_0xad0652=>{const _0xb4462b=bf['get'](_0xad0652['type']);if(_0xb4462b){const _0x950a02=!_0x3f2646||_0x3f2646(_0xad0652['name'])?new _0xb4462b(_0x4c7c0e['count']):null;_0xad0652['storage']=_0x950a02;}});}),N2(_0x5e413a)?await U2(_0xa1fd3a,_0x5e413a):await V2(_0xa1fd3a,_0x5e413a)))()),'comments':_0x264bfc};},H2=_0xb8f51c=>!(0xf*0x1cb+0x247*0x9+0xc*-0x3f3);class $2{constructor(_0x2b2c2d,_0x2d91b8,_0x435196){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x2b2c2d,this['assets']=_0x2d91b8,this['maxRetries']=_0x435196,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x15b436,_0x1b2cd2,_0x390441){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x15b436['load']['includes'](',')?this['urlList']=_0x15b436['load']['split'](','):this['urlList']['push'](_0x15b436['load']);const _0x40b1c6=_0x390441['data']['loadAllSeq']?this['urlList']['length']:0x115c+-0x1*0x81e+0x1d9*-0x5,_0x54837a=_0x390441['data']['timeOption'],_0x540a57=_0x390441['data']['events'];for(let _0x330fbd=-0x25f7+0xd5+0x54e*0x7;_0x330fbd<_0x40b1c6;_0x330fbd++)await this['loadGsplat'+'Data'](this['urlList'][_0x330fbd]['trim'](),_0x1b2cd2,_0x390441,_0x330fbd,_0x54837a,_0x540a57);}async['loadGsplat'+'Data'](_0xad0a0b,_0x450e4d,_0x5e01b7,_0x5c95d6,_0x5bceb3,_0x5b0e5e){var _0x3920b0;try{const _0xd6e481=await fetch(_0xad0a0b);if(!_0xd6e481||!_0xd6e481['body'])_0x450e4d('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x12f759=parseInt(_0xd6e481['headers']['get']('content-le'+'ngth')??'0',0xc36*-0x1+-0x1c27*-0x1+0x17*-0xb1);let _0x1cf457=0x2*0x194+0x1b10+-0x1e38;const {data:_0x38681c,comments:_0x17f887}=await G2(_0xd6e481['body']['getReader'](),_0x5e01b7['data']['elementFil'+'ter']??H2,_0x1bc269=>{_0x1cf457+=_0x1bc269,_0x5e01b7&&_0x5b0e5e['fire']('progress',_0x1cf457,_0x12f759);});_0x38681c['isCompress'+'ed']||_0x5e01b7['data']['reorder'],this['gsplatReso'+'urce']&&((_0x3920b0=this['gsplatReso'+'urce'])!=null&&_0x3920b0['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x38681c['isCompress'+'ed']&&_0x5e01b7['data']['decompress']?await _0x38681c['decompress']():_0x38681c,_0x5bceb3,_0x5c95d6):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x38681c['isCompress'+'ed']&&_0x5e01b7['data']['decompress']?await _0x38681c['decompress']():_0x38681c,_0x17f887),this['gsplatReso'+'urce']['timeOption']=_0x5bceb3,_0x5b0e5e['fire']('progressEn'+'d')),_0x450e4d(null,this['gsplatReso'+'urce']);}}catch(_0xfb8010){_0x450e4d(_0xfb8010,null);}}['open'](_0x237c8f,_0x332f06){return _0x332f06;}}class W2 extends Ne{constructor(_0x330910){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x330910,'gsplat'),this['parser']=new $2(_0x330910['graphicsDe'+'vice'],_0x330910['assets'],0xe14+0x2*0x587+-0x191f);}['load'](_0x43904c,_0x150925,_0x58f4f0){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x43904c=='string'&&(_0x43904c={'load':_0x43904c,'original':_0x43904c}),this['parser']['load'](_0x43904c,_0x150925,_0x58f4f0);}['open'](_0x599517,_0x301aea,_0xec774b){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x599517,_0x301aea,_0xec774b);}}class wf{static['setCompres'+'sedPRS'](_0x4ac308,_0x490efe,_0x2cf751){const _0x2f45d1=_0x2cf751['singleVecs'];let _0x312b91,_0x391d24;const _0x11f021=_0x490efe['___1'];_0x11f021||(_0x312b91=_0x2cf751['tripleVecs'],_0x391d24=_0x490efe['___2']);let _0x3206dd=_0x11f021?_0x11f021[-0x2*-0x739+0x15a6+-0x69*0x58]:_0x312b91[_0x391d24];_0x4ac308['setLocalPo'+'sition'](_0x2f45d1[_0x3206dd],_0x2f45d1[_0x3206dd+(-0x25bf+0xd3*-0x1d+0x3da7)],_0x2f45d1[_0x3206dd+(0x3fe+0x6*0xab+-0x7fe)]),_0x3206dd=_0x11f021?_0x11f021[-0x2*-0xc51+-0x2da+-0x45b*0x5]:_0x312b91[_0x391d24+(-0x38c+-0xbde*0x1+-0x1*-0xf6b)],_0x4ac308['setLocalEu'+'lerAngles'](_0x2f45d1[_0x3206dd],_0x2f45d1[_0x3206dd+(-0x3b*-0x11+0x794+0x1*-0xb7e)],_0x2f45d1[_0x3206dd+(-0x15e4+-0x3e*0x5e+0x2caa)]),_0x3206dd=_0x11f021?_0x11f021[-0x2b*-0xa3+0x1*-0x520+0x11*-0x14f]:_0x312b91[_0x391d24+(0x1bf8+-0x15e2+-0x4*0x185)],_0x4ac308['setLocalSc'+'ale'](_0x2f45d1[_0x3206dd],_0x2f45d1[_0x3206dd+(-0x1e81*-0x1+0x1353+-0x1*0x31d3)],_0x2f45d1[_0x3206dd+(-0xac8+0x165c+-0xb92)]);}static['oneCharToK'+'ey'](_0x4bf5f5,_0x1b8ffa){const _0x2d0937=_0x4bf5f5['charCodeAt'](-0x26f5+-0x1b91+0x4286)-_0x1b8ffa['fieldFirst'+'Code'];return _0x1b8ffa['fieldArray'][_0x2d0937];}static['multCharTo'+'Key'](_0x3a451e,_0x1beee2){let _0x2fac3b=0x13a*-0x8+0x7*-0x335+0x3*0xac1;for(let _0x5a5446=-0x5ad+0x15ea+-0x103d;_0x5a5446<_0x3a451e['length'];_0x5a5446++)_0x2fac3b=_0x2fac3b*_0x1beee2['fieldCodeB'+'ase']+_0x3a451e['charCodeAt'](_0x5a5446)-_0x1beee2['fieldFirst'+'Code'];return _0x1beee2['fieldArray'][_0x2fac3b];}}class sc{constructor(_0x252c40,_0x24a006){this['_node']=_0x252c40,this['_data']=_0x24a006;}['run'](){const _0x4fbff0=Object['prototype']['toString']['call'](this['_node']);return _0x4fbff0==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x4fbff0==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x581e2d){let _0x30f7e1=_0x581e2d;const _0x10dac2=_0x581e2d['length'];_0x10dac2===0x18d*0x1+0x13a*0x1c+0x11f2*-0x2?_0x30f7e1=wf['oneCharToK'+'ey'](_0x581e2d,this['_data']):_0x10dac2===-0x1*0xdd6+0x25c0+0x2fd*-0x8&&(_0x30f7e1=wf['multCharTo'+'Key'](_0x581e2d,this['_data'])),this['_result'][_0x30f7e1]=new sc(this['_node'][_0x581e2d],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0xa2d3c5){const _0x14a98e=new sc(_0xa2d3c5,this['_data'])['run']();this['_result']['push'](_0x14a98e);}}class $p{constructor(_0x305e4d,_0x20c6a8){this['_app']=_0x305e4d,this['_isTemplat'+'e']=_0x20c6a8;}['parse'](_0x226e4c){const _0x49f5ce={};let _0x2c7050=null;const _0x7716de=_0x226e4c['compressed'+'Format'];_0x7716de&&!_0x226e4c['entDecompr'+'essed']&&(_0x226e4c['entDecompr'+'essed']=!(-0x12+-0x4*-0x83f+-0x1075*0x2),_0x226e4c['entities']=new sc(_0x226e4c['entities'],_0x7716de)['run']());for(const _0x345531 in _0x226e4c['entities']){const _0x56d128=_0x226e4c['entities'][_0x345531],_0x15f4c7=this['_createEnt'+'ity'](_0x56d128,_0x7716de);_0x49f5ce[_0x345531]=_0x15f4c7,_0x56d128['parent']===null&&(_0x2c7050=_0x15f4c7);}for(const _0x115fbc in _0x226e4c['entities']){const _0x4fb98f=_0x49f5ce[_0x115fbc],_0xc19abc=_0x226e4c['entities'][_0x115fbc]['children'],_0x537ce0=_0xc19abc['length'];for(let _0x20111c=-0x16bf+0x12bd+0x402;_0x20111c<_0x537ce0;_0x20111c++){const _0x5b9126=_0x49f5ce[_0xc19abc[_0x20111c]];_0x5b9126&&_0x4fb98f['addChild'](_0x5b9126);}}return this['_openCompo'+'nentData'](_0x2c7050,_0x226e4c['entities']),_0x2c7050;}['_createEnt'+'ity'](_0x49eda5,_0xb5ef9f){const _0x539102=new $e(_0x49eda5['name'],this['_app']);if(_0x539102['setGuid'](_0x49eda5['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x539102,_0x49eda5,_0xb5ef9f),_0x539102['_enabled']=_0x49eda5['enabled']??!(-0x12fe+-0x13c0+0x26be*0x1),this['_isTemplat'+'e']?_0x539102['_template']=!(-0x4*-0x32f+0x11b*0x15+-0x23f3*0x1):_0x539102['_enabledIn'+'Hierarchy']=_0x539102['_enabled'],_0x539102['template']=_0x49eda5['template'],_0x49eda5['tags']){for(let _0x244a8f=0x102b*-0x1+-0x11df+0x220a;_0x244a8f<_0x49eda5['tags']['length'];_0x244a8f++)_0x539102['tags']['add'](_0x49eda5['tags'][_0x244a8f]);}return _0x539102;}['_setPosRot'+'Scale'](_0x1e9673,_0x827939,_0x58bed0){if(_0x58bed0)wf['setCompres'+'sedPRS'](_0x1e9673,_0x827939,_0x58bed0);else{const _0x25e894=_0x827939['position'],_0x8cc112=_0x827939['rotation'],_0x29ef5c=_0x827939['scale'];_0x1e9673['setLocalPo'+'sition'](_0x25e894[-0x116a+-0x1*0x747+0x2b*0x93],_0x25e894[-0x59*0x4f+0x84*0x6+0x1860],_0x25e894[-0xbe8+0x1ccd+0x5a1*-0x3]),_0x1e9673['setLocalEu'+'lerAngles'](_0x8cc112[-0x3*0xaf2+-0x91e+0x29f4],_0x8cc112[0x1*0x17d7+-0xd56+-0xa80],_0x8cc112[-0x13ad+0x1a3*0x11+-0x824]),_0x1e9673['setLocalSc'+'ale'](_0x29ef5c[-0x4*0x208+-0xf95*-0x1+-0x775],_0x29ef5c[0x1f1+0x1*-0x23f+-0x4f*-0x1],_0x29ef5c[0xdcb+0x1319*0x1+-0x20e2]);}}['_openCompo'+'nentData'](_0x5f1d81,_0x25c6d1){const _0x5eb296=this['_app']['systems']['list'];let _0x55cb74=_0x5eb296['length'];const _0x480616=_0x25c6d1[_0x5f1d81['getGuid']()];for(let _0x35f77a=-0x28*-0xdc+0x6*-0xb7+-0x1e16;_0x35f77a<_0x55cb74;_0x35f77a++){const _0x1870e5=_0x5eb296[_0x35f77a],_0x15c735=_0x480616['components'][_0x1870e5['id']];_0x15c735&&_0x1870e5['addCompone'+'nt'](_0x5f1d81,_0x15c735);}_0x55cb74=_0x480616['children']['length'];const _0x167f29=_0x5f1d81['_children'];for(let _0x176708=-0x1*0x37+0x4d6*0x2+-0x975;_0x176708<_0x55cb74;_0x176708++)_0x167f29[_0x176708]?_0x167f29[_0x176708]=this['_openCompo'+'nentData'](_0x167f29[_0x176708],_0x25c6d1):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x5f1d81['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x5f1d81;}}class Lx{static['load'](_0x200c7c,_0x2ebf37,_0x399d4b){typeof _0x200c7c=='string'&&(_0x200c7c={'load':_0x200c7c,'original':_0x200c7c}),We['get'](_0x200c7c['load'],{'retry':_0x2ebf37>-0x1568+0x132e*-0x2+0x384*0x11,'maxRetries':_0x2ebf37},(_0x2ceaf1,_0x24028a)=>{if(!_0x2ceaf1)_0x399d4b(_0x2ceaf1,_0x24028a);else{let _0x3d3846='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x200c7c['original'];_0x2ceaf1['message']?(_0x3d3846+=':\x20'+_0x2ceaf1['message'],_0x2ceaf1['stack']&&(_0x3d3846+='\x0a'+_0x2ceaf1['stack'])):_0x3d3846+=':\x20'+_0x2ceaf1,_0x399d4b(_0x3d3846);}});}}class q2 extends Ne{constructor(_0x3dc4d1){super(_0x3dc4d1,'hierarchy');}['load'](_0x31ca27,_0x2a7bce){Lx['load'](_0x31ca27,this['maxRetries'],_0x2a7bce);}['open'](_0x30ac3f,_0xb375d){this['_app']['systems']['script']['preloading']=!(0x1*-0x21fe+-0x621+0x281f);const _0x5a9b67=new $p(this['_app'],!(-0x1945+-0x21ac+0x3af2))['parse'](_0xb375d);return this['_app']['systems']['script']['preloading']=!(0x265d+-0x493*-0x8+-0x4*0x12bd),_0x5a9b67;}}class X2 extends Ne{constructor(_0xe70f7){super(_0xe70f7,'html'),c(this,'decoder',null);}['load'](_0x476258,_0x351343){typeof _0x476258=='string'&&(_0x476258={'load':_0x476258,'original':_0x476258}),We['get'](_0x476258['load'],{'retry':this['maxRetries']>-0x1*-0x2149+-0x296+-0x1eb3,'maxRetries':this['maxRetries']},(_0x3d862d,_0x2530c6)=>{_0x3d862d?_0x351343('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x476258['original']+'\x20['+_0x3d862d+']'):_0x351343(null,_0x2530c6);});}['openBinary'](_0x4079b6){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4079b6);}}class j2 extends Ne{constructor(_0x5570d9){super(_0x5570d9,'json'),c(this,'decoder',null);}['load'](_0x68a35,_0x1d05ee){typeof _0x68a35=='string'&&(_0x68a35={'load':_0x68a35,'original':_0x68a35});const _0x8697fa={'retry':this['maxRetries']>0x63f*-0x5+0x2240+0x305*-0x1,'maxRetries':this['maxRetries']};_0x68a35['load']['startsWith']('blob:')&&(_0x8697fa['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x68a35['load'],_0x8697fa,(_0x53b45f,_0x112fda)=>{_0x53b45f?_0x1d05ee('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x68a35['original']+'\x20['+_0x53b45f+']'):_0x1d05ee(null,_0x112fda);});}['openBinary'](_0x513d5f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x513d5f));}}class Y2{constructor(){this['removeInva'+'lid']=!(0xaf2+-0xaa7+-0x1*0x4b),this['valid']=!(-0x7*0xdb+0x2bd*-0xe+-0x655*-0x7),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x168fdb,_0x145a62){this['valid']=!(-0x11c4+-0xb4f*0x1+0x1d14),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x168fdb,_0x145a62[_0x168fdb]),this['removeInva'+'lid']&&delete _0x145a62[_0x168fdb];}['validate'](_0x593a42){const _0xd6cc3e=Pa,_0x1110dc=QC,_0x41c14f=_0x593a42['mappingFor'+'mat']==='path';for(const _0x35639b in _0x593a42){const _0x5adfb5=_0xd6cc3e[_0x35639b];if(!_0x5adfb5){_0x1110dc[_0x35639b]?delete _0x593a42[_0x35639b]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x35639b),this['valid']=!(-0x26bb+-0x6b5*0x2+-0x10b*-0x32));continue;}if(_0x5adfb5['startsWith']('enum')){const _0x54355b=_0x5adfb5['split'](':')[0x12e1+-0x840*-0x1+-0x1b20];this['enumValida'+'tors'][_0x54355b]&&(this['enumValida'+'tors'][_0x54355b](_0x593a42[_0x35639b])||this['setInvalid'](_0x35639b,_0x593a42));}else{if(_0x5adfb5==='number')typeof _0x593a42[_0x35639b]!='number'&&this['setInvalid'](_0x35639b,_0x593a42);else{if(_0x5adfb5==='boolean')typeof _0x593a42[_0x35639b]!='boolean'&&this['setInvalid'](_0x35639b,_0x593a42);else{if(_0x5adfb5==='string')typeof _0x593a42[_0x35639b]!='string'&&this['setInvalid'](_0x35639b,_0x593a42);else{if(_0x5adfb5==='vec2')_0x593a42[_0x35639b]instanceof Array&&_0x593a42[_0x35639b]['length']===0x183d+0x8f8+-0x2133||this['setInvalid'](_0x35639b,_0x593a42);else{if(_0x5adfb5==='rgb')_0x593a42[_0x35639b]instanceof Array&&_0x593a42[_0x35639b]['length']===0x138c+-0x50*0x77+0x11a7||this['setInvalid'](_0x35639b,_0x593a42);else{if(_0x5adfb5==='texture')_0x41c14f?typeof _0x593a42[_0x35639b]=='string'||_0x593a42[_0x35639b]===null||_0x593a42[_0x35639b]instanceof he||this['setInvalid'](_0x35639b,_0x593a42):typeof _0x593a42[_0x35639b]=='number'||_0x593a42[_0x35639b]===null||_0x593a42[_0x35639b]instanceof he||this['setInvalid'](_0x35639b,_0x593a42);else{if(_0x5adfb5==='boundingbo'+'x')_0x593a42[_0x35639b]['center']&&_0x593a42[_0x35639b]['center']instanceof Array&&_0x593a42[_0x35639b]['center']['length']===-0x4*-0x5ba+0x239c+-0x3a81||this['setInvalid'](_0x35639b,_0x593a42),_0x593a42[_0x35639b]['halfExtent'+'s']&&_0x593a42[_0x35639b]['halfExtent'+'s']instanceof Array&&_0x593a42[_0x35639b]['halfExtent'+'s']['length']===-0x1631+0x1*0x1c76+0x3*-0x216||this['setInvalid'](_0x35639b,_0x593a42);else{if(_0x5adfb5==='cubemap')typeof _0x593a42[_0x35639b]=='number'||_0x593a42[_0x35639b]===null||_0x593a42[_0x35639b]===void(-0x2*0x292+0x2*-0xad+0x22a*0x3)||_0x593a42[_0x35639b]instanceof he&&_0x593a42[_0x35639b]['cubemap']||this['setInvalid'](_0x35639b,_0x593a42);else{if(_0x5adfb5==='chunks'){const _0x5a7df5=Object['keys'](_0x593a42[_0x35639b]);for(let _0x5f0a9e=-0x22ba+-0xdbf+0x1*0x3079;_0x5f0a9e<_0x5a7df5['length'];_0x5f0a9e++)typeof _0x593a42[_0x35639b][_0x5a7df5[_0x5f0a9e]]!='string'&&this['setInvalid'](_0x5a7df5[_0x5f0a9e],_0x593a42[_0x35639b]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x5adfb5);}}}}}}}}}}return _0x593a42['validated']=!(0x23f2+0x25f7*-0x1+0x205),this['valid'];}['_createEnu'+'mValidator'](_0x5a5756){return function(_0x591329){return _0x5a5756['indexOf'](_0x591329)>=0x6ae+-0x400*-0x2+-0xeae;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x40cd23){const _0x5e05c6=this['migrate'](_0x40cd23),_0x5bc637=this['_validate'](_0x5e05c6),_0x5c55c3=new cs();return this['initialize'](_0x5c55c3,_0x5bc637),_0x5c55c3;}['initialize'](_0xc41309,_0x24212a){_0x24212a['validated']||(_0x24212a=this['_validate'](_0x24212a)),_0x24212a['chunks']&&(_0xc41309['chunks']={..._0x24212a['chunks']});for(const _0x812512 in _0x24212a){const _0x54886e=Pa[_0x812512],_0x344a87=_0x24212a[_0x812512];if(_0x54886e==='vec2')_0xc41309[_0x812512]=new $(_0x344a87[-0x103e+-0x20cd+0x310b],_0x344a87[0x78f+0x819+-0xfa7]);else{if(_0x54886e==='rgb')_0xc41309[_0x812512]=new Y(_0x344a87[-0x52*-0x17+0x557+0xcb5*-0x1],_0x344a87[-0xe00+-0x1288+0x1*0x2089],_0x344a87[0xf48+-0x1fae+-0x4b*-0x38]);else{if(_0x54886e==='texture')_0x344a87 instanceof he?_0xc41309[_0x812512]=_0x344a87:_0xc41309[_0x812512]instanceof he&&typeof _0x344a87=='number'&&_0x344a87>-0x1a11+0x1*-0x6dc+-0x20ed*-0x1||(_0xc41309[_0x812512]=null);else{if(_0x54886e==='cubemap')_0x344a87 instanceof he?_0xc41309[_0x812512]=_0x344a87:_0xc41309[_0x812512]instanceof he&&typeof _0x344a87=='number'&&_0x344a87>0x7f*0xe+-0xfe*-0x24+0x2b*-0xfe||(_0xc41309[_0x812512]=null),_0x812512==='cubeMap'&&!_0x344a87&&(_0xc41309['prefiltere'+'dCubemaps']=null);else{if(_0x54886e==='boundingbo'+'x'){const _0x1d63da=new T(_0x344a87['center'][-0x118c+0xf*-0x137+0x23c5],_0x344a87['center'][-0x9*-0x343+-0xc2*-0x29+-0x4*0xf1b],_0x344a87['center'][-0x197e+-0x13f6+-0x211*-0x16]),_0x43c849=new T(_0x344a87['halfExtent'+'s'][0x803+0x23*0x9d+-0x1d7a],_0x344a87['halfExtent'+'s'][-0x139a+-0xb*-0x5+0x1364*0x1],_0x344a87['halfExtent'+'s'][-0x931*-0x1+0x103f*-0x2+-0x7c5*-0x3]);_0xc41309[_0x812512]=new _e(_0x1d63da,_0x43c849);}else _0xc41309[_0x812512]=_0x24212a[_0x812512];}}}}}_0xc41309['update']();}['migrate'](_0x179650){_0x179650['shader']&&delete _0x179650['shader'],_0x179650['mapping_fo'+'rmat']&&(_0x179650['mappingFor'+'mat']=_0x179650['mapping_fo'+'rmat'],delete _0x179650['mapping_fo'+'rmat']);let _0x25b3aa;const _0x2710cc=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x25b3aa=-0x1*0x9c7+-0x6a*-0x4b+0x1a3*-0xd;_0x25b3aa<_0x2710cc['length'];_0x25b3aa++){const _0x15ece6=_0x2710cc[_0x25b3aa][-0x3*0x7ae+-0x2*-0x919+0x4d8],_0x226bdf=_0x2710cc[_0x25b3aa][-0x1cdd+0x10dd+0xc01];_0x179650[_0x15ece6]!==void(-0x75a*-0x3+0x14fe+-0x2b0c)&&(_0x179650[_0x226bdf]===void(-0x26b2+-0xb9d+0x324f*0x1)&&(_0x179650[_0x226bdf]=_0x179650[_0x15ece6]),delete _0x179650[_0x15ece6]);}const _0x52cf7c=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x25b3aa=-0x485+-0x5*-0x51d+-0x150c;_0x25b3aa<_0x52cf7c['length'];_0x25b3aa++){const _0x43b713=_0x52cf7c[_0x25b3aa];_0x179650['hasOwnProp'+'erty'](_0x43b713)&&delete _0x179650[_0x43b713];}return _0x179650;}['_validate'](_0xf6843){return _0xf6843['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0xf6843)),_0xf6843;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x5dd7f4){super(_0x5dd7f4,'material'),this['_assets']=_0x5dd7f4['assets'],this['_device']=_0x5dd7f4['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x16d521,_0x28c6a8){typeof _0x16d521=='string'&&(_0x16d521={'load':_0x16d521,'original':_0x16d521}),We['get'](_0x16d521['load'],{'retry':this['maxRetries']>0x10d9+0x20f2+-0x31cb*0x1,'maxRetries':this['maxRetries']},(_0x48eef3,_0x51bf98)=>{_0x48eef3?_0x28c6a8&&_0x28c6a8('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x16d521['original']+'\x20['+_0x48eef3+']'):_0x28c6a8&&(_0x51bf98['_engine']=!(-0x24a*-0x10+0xb33+-0x2fd3),_0x28c6a8(null,_0x51bf98));});}['open'](_0x2d282a,_0x35de54){const _0x104542=this['_parser']['parse'](_0x35de54);return _0x35de54['_engine']&&(_0x104542['_data']=_0x35de54,delete _0x35de54['_engine']),_0x104542;}['patch'](_0x582ea8,_0x57e16a){_0x582ea8['resource']['_data']&&(_0x582ea8['_data']=_0x582ea8['resource']['_data'],delete _0x582ea8['resource']['_data']),_0x582ea8['data']['name']=_0x582ea8['name'],_0x582ea8['resource']['name']=_0x582ea8['name'],this['_bindAndAs'+'signAssets'](_0x582ea8,_0x57e16a),_0x582ea8['off']('unload',this['_onAssetUn'+'load'],this),_0x582ea8['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x2a8c5a){delete _0x2a8c5a['data']['parameters'],delete _0x2a8c5a['data']['chunks'],delete _0x2a8c5a['data']['name'];}['_assignTex'+'ture'](_0x13c8ec,_0x19bece,_0x3072d7){_0x19bece['resource'][_0x13c8ec]=_0x3072d7;}['_getPlaceh'+'olderTextu'+'re'](_0x54e600){const _0xc73063=Z2[_0x54e600];return v['assert'](_0xc73063,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x54e600),en(this['_device'],_0xc73063);}['_assignPla'+'ceholderTe'+'xture'](_0x9e7044,_0x49ea7d){_0x49ea7d['resource'][_0x9e7044]=this['_getPlaceh'+'olderTextu'+'re'](_0x9e7044);}['_onTexture'+'Load'](_0x2abfce,_0x43008b,_0x180e61){this['_assignTex'+'ture'](_0x2abfce,_0x43008b,_0x180e61['resource']),_0x43008b['resource']['update']();}['_onTexture'+'Add'](_0x274ffd,_0x2fff1c,_0xd03110){this['_assets']['load'](_0xd03110);}['_onTexture'+'RemoveOrUn'+'load'](_0x48667d,_0x47b0b8,_0xfd5c43){const _0xde1dda=_0x47b0b8['resource'];_0xde1dda&&_0x47b0b8['resource'][_0x48667d]===_0xfd5c43['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x48667d,_0x47b0b8),_0xde1dda['update']());}['_assignCub'+'emap'](_0x3d392e,_0x4f9211,_0x53ccb5){if(_0x4f9211['resource'][_0x3d392e]=_0x53ccb5[0xf38+-0x2297+-0x9*-0x227],_0x3d392e==='cubeMap'){const _0x23e57a=_0x53ccb5['slice'](-0x461+0x1c24+-0x17c2);_0x23e57a['every'](_0x5084cd=>_0x5084cd)?_0x4f9211['resource']['prefiltere'+'dCubemaps']=_0x23e57a:_0x23e57a[0x22b5+-0x1fb5+-0x300]&&(_0x4f9211['resource']['envAtlas']=_0x23e57a[0x169a+-0x2f8+0x7*-0x2ce]);}}['_onCubemap'+'Load'](_0x446747,_0x4a07f6,_0x3cfc19){this['_assignCub'+'emap'](_0x446747,_0x4a07f6,_0x3cfc19['resources']),this['_parser']['initialize'](_0x4a07f6['resource'],_0x4a07f6['data']);}['_onCubemap'+'Add'](_0x4654fb,_0x4ee979,_0x4767f6){this['_assets']['load'](_0x4767f6);}['_onCubemap'+'RemoveOrUn'+'load'](_0x2a1fbd,_0xbfce7f,_0x54bf3c){const _0x5b6702=_0xbfce7f['resource'];_0xbfce7f['data']['prefiltere'+'dCubeMap12'+'8']===_0x54bf3c['resources'][0x2*-0x98b+-0x13ae*0x1+0x26c5]&&(this['_assignCub'+'emap'](_0x2a1fbd,_0xbfce7f,[null,null,null,null,null,null,null]),_0x5b6702['update']());}['_bindAndAs'+'signAssets'](_0x2cb71f,_0x43d891){const _0x2f339c=this['_parser']['migrate'](_0x2cb71f['data']),_0xca2ab9=_0x2cb71f['resource'],_0x5c7081=_0x2f339c['mappingFor'+'mat']==='path',_0x428f93=Kc;let _0xab3ffe,_0x4b57dc,_0x49f6bc;for(_0xab3ffe=-0xe88+0x1391+-0x509;_0xab3ffe<_0x428f93['length'];_0xab3ffe++){_0x4b57dc=_0x428f93[_0xab3ffe],_0x49f6bc=_0xca2ab9['_assetRefe'+'rences'][_0x4b57dc];const _0x470b08=_0x2f339c[_0x4b57dc],_0x4c3d03=_0xca2ab9[_0x4b57dc],_0x217baf=_0x4c3d03===this['_getPlaceh'+'olderTextu'+'re'](_0x4b57dc),_0x1ab776=_0x2f339c['validated'];_0x470b08&&(!_0x4c3d03||!_0x1ab776||_0x217baf)?(_0x49f6bc||(_0x49f6bc=new Go(_0x4b57dc,_0x2cb71f,_0x43d891,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0xca2ab9['_assetRefe'+'rences'][_0x4b57dc]=_0x49f6bc),_0x5c7081?_0x49f6bc['url']=_0x2cb71f['getAbsolut'+'eUrl'](_0x470b08):_0x49f6bc['id']=_0x470b08,_0x49f6bc['asset']&&(_0x49f6bc['asset']['resource']?this['_assignTex'+'ture'](_0x4b57dc,_0x2cb71f,_0x49f6bc['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x4b57dc,_0x2cb71f),_0x43d891['load'](_0x49f6bc['asset']))):_0x49f6bc&&(_0x5c7081?_0x49f6bc['url']=null:_0x49f6bc['id']=null);}const _0x5138f7=Fp;for(_0xab3ffe=-0x161*-0x14+-0x2*0xd07+0x1*-0x186;_0xab3ffe<_0x5138f7['length'];_0xab3ffe++)_0x4b57dc=_0x5138f7[_0xab3ffe],_0x49f6bc=_0xca2ab9['_assetRefe'+'rences'][_0x4b57dc],_0x2f339c[_0x4b57dc]&&!_0x2cb71f['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x49f6bc||(_0x49f6bc=new Go(_0x4b57dc,_0x2cb71f,_0x43d891,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0xca2ab9['_assetRefe'+'rences'][_0x4b57dc]=_0x49f6bc),_0x5c7081?_0x49f6bc['url']=_0x2f339c[_0x4b57dc]:_0x49f6bc['id']=_0x2f339c[_0x4b57dc],_0x49f6bc['asset']&&(_0x49f6bc['asset']['loaded']&&this['_assignCub'+'emap'](_0x4b57dc,_0x2cb71f,_0x49f6bc['asset']['resources']),_0x43d891['load'](_0x49f6bc['asset'])));this['_parser']['initialize'](_0xca2ab9,_0x2f339c);}}class J2{constructor(_0x5df2cc){this['_device']=_0x5df2cc['device'],this['_defaultMa'+'terial']=_0x5df2cc['defaultMat'+'erial'],this['_assets']=_0x5df2cc['assets'];}['parse'](_0x54253b,_0x2de27e,_0x47ab42){tc['parse']('filename.g'+'lb','',_0x54253b,this['_device'],this['_assets'],(_0x47ab42==null?void(-0x1*-0x565+-0x2de+-0x287):_0x47ab42['options'])??{},(_0x2a75f4,_0x570d64)=>{if(_0x2a75f4)_0x2de27e(_0x2a75f4);else{const _0xcc2a4f=tr['createMode'+'l'](_0x570d64,this['_defaultMa'+'terial']);_0x570d64['destroy'](),_0x2de27e(null,_0xcc2a4f);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x323e62){this['_device']=_0x323e62['device'],this['_defaultMa'+'terial']=_0x323e62['defaultMat'+'erial'];}['parse'](_0xd156d0,_0x5f197f){const _0x1f964c=_0xd156d0['model'];if(!_0x1f964c){_0x5f197f(null,null);return;}if(_0x1f964c['version']<=-0x1ff3+-0xf82+0x2f76){_0x5f197f('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x3fc78f=this['_parseNode'+'s'](_0xd156d0),_0x1930fd=this['_parseSkin'+'s'](_0xd156d0,_0x3fc78f),_0x5b79ee=this['_parseVert'+'exBuffers'](_0xd156d0),_0x50877b=this['_parseInde'+'xBuffers'](_0xd156d0,_0x5b79ee),_0xea5b4e=this['_parseMorp'+'hs'](_0xd156d0,_0x3fc78f,_0x5b79ee),_0x29da63=this['_parseMesh'+'es'](_0xd156d0,_0x1930fd['skins'],_0xea5b4e['morphs'],_0x5b79ee,_0x50877b['buffer'],_0x50877b['data']),_0x3938cc=this['_parseMesh'+'Instances'](_0xd156d0,_0x3fc78f,_0x29da63,_0x1930fd['skins'],_0x1930fd['instances'],_0xea5b4e['morphs'],_0xea5b4e['instances']),_0x106e8e=new Oi();_0x106e8e['graph']=_0x3fc78f[0x21*0x47+-0xc60+0x339],_0x106e8e['meshInstan'+'ces']=_0x3938cc,_0x106e8e['skinInstan'+'ces']=_0x1930fd['instances'],_0x106e8e['morphInsta'+'nces']=_0xea5b4e['instances'],_0x106e8e['getGraph']()['syncHierar'+'chy'](),_0x5f197f(null,_0x106e8e);}['_parseNode'+'s'](_0x400884){const _0x17f10e=_0x400884['model'],_0x2dd45a=[];let _0x24dc31;for(_0x24dc31=-0xd33+0x9a2+0x391;_0x24dc31<_0x17f10e['nodes']['length'];_0x24dc31++){const _0x425320=_0x17f10e['nodes'][_0x24dc31],_0x186e85=new De(_0x425320['name']);_0x186e85['setLocalPo'+'sition'](_0x425320['position'][0x9f*-0x15+0x23e5+-0x16da],_0x425320['position'][-0x1580+0x2573*-0x1+0x3af4],_0x425320['position'][0x3db+-0x1*0x8e1+0x508]),_0x186e85['setLocalEu'+'lerAngles'](_0x425320['rotation'][0x1dc9*-0x1+-0x879+0x2642],_0x425320['rotation'][-0xe01+0x2366+-0x1564],_0x425320['rotation'][0x74f*-0x1+0x11f6+0xaa5*-0x1]),_0x186e85['setLocalSc'+'ale'](_0x425320['scale'][-0x11b*-0x1+-0x182f+-0x1a6*-0xe],_0x425320['scale'][-0x1e52+0xc0f*0x1+0x1244],_0x425320['scale'][-0x17f+0x1*0x1b31+0x336*-0x8]),_0x186e85['scaleCompe'+'nsation']=!!_0x425320['scaleCompe'+'nsation'],_0x2dd45a['push'](_0x186e85);}for(_0x24dc31=-0x44c+-0x1*0x130d+-0x7*-0x356;_0x24dc31<_0x17f10e['parents']['length'];_0x24dc31++)_0x2dd45a[_0x17f10e['parents'][_0x24dc31]]['addChild'](_0x2dd45a[_0x24dc31]);return _0x2dd45a;}['_parseSkin'+'s'](_0xc58ab6,_0x4568a2){const _0x5b42a7=_0xc58ab6['model'],_0x58dced=[],_0x490e4c=[];let _0x40bb30,_0x36a56d;for(_0x40bb30=-0x29*0x3+-0xf9a+-0x1015*-0x1;_0x40bb30<_0x5b42a7['skins']['length'];_0x40bb30++){const _0x3012a7=_0x5b42a7['skins'][_0x40bb30],_0x20e7a8=[];for(_0x36a56d=-0xfbd+0x213a+-0x117d;_0x36a56d<_0x3012a7['inverseBin'+'dMatrices']['length'];_0x36a56d++){const _0x24eeba=_0x3012a7['inverseBin'+'dMatrices'][_0x36a56d];_0x20e7a8[_0x36a56d]=new q()['set'](_0x24eeba);}const _0x329ad0=new N0(this['_device'],_0x20e7a8,_0x3012a7['boneNames']);_0x58dced['push'](_0x329ad0);const _0x21a869=new nl(_0x329ad0),_0x2997e7=[];for(_0x36a56d=0x1*0x26dd+-0x127+0x6*-0x649;_0x36a56d<_0x329ad0['boneNames']['length'];_0x36a56d++){const _0x4a0862=_0x329ad0['boneNames'][_0x36a56d],_0x33307e=_0x4568a2[0x1*-0x22ad+0x1f4e+0x35f]['findByName'](_0x4a0862);_0x2997e7['push'](_0x33307e);}_0x21a869['bones']=_0x2997e7,_0x490e4c['push'](_0x21a869);}return{'skins':_0x58dced,'instances':_0x490e4c};}['_getMorphV'+'ertexCount'](_0x1fc302,_0x52ebb4,_0x5846fe){for(let _0x4c3d7b=-0x23fe+0xbba+0x1844;_0x4c3d7b<_0x1fc302['meshes']['length'];_0x4c3d7b++){const _0x154501=_0x1fc302['meshes'][_0x4c3d7b];if(_0x154501['morph']===_0x52ebb4)return _0x5846fe[_0x154501['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x1aaa1b,_0x2cd969,_0x2458cb){const _0x451e94=_0x1aaa1b['model'],_0xb06bfc=[],_0x1cb706=[];let _0x1be544,_0x452e8a,_0x3a6874,_0x3f48d4,_0x542f2f,_0x3ad6cc;if(_0x451e94['morphs']){const _0x54c171=function(_0x385f20,_0x2a1247,_0x121238){const _0x5d1b5c=new Float32Array(_0x121238*(-0x377*-0x7+-0x2607+0xdc9));for(let _0x580ace=-0x1692+-0x238a+0x3a1c;_0x580ace<_0x2a1247['length'];_0x580ace++){const _0x4efb73=_0x2a1247[_0x580ace]*(-0x2418+0x12*0x215+-0x15f);_0x5d1b5c[_0x4efb73]=_0x385f20[_0x580ace*(-0x1*-0x2519+-0x2046+0x10*-0x4d)],_0x5d1b5c[_0x4efb73+(0x24bf+0xe*-0x115+-0x1598)]=_0x385f20[_0x580ace*(-0x123*0x21+0x1*-0x1dde+0x21b2*0x2)+(0x1*0x1366+-0x982*-0x3+-0x1*0x2feb)],_0x5d1b5c[_0x4efb73+(0x1f06+-0xa31*-0x2+-0x891*0x6)]=_0x385f20[_0x580ace*(-0x4*-0x581+-0x643*-0x2+-0x2287)+(-0x1966*0x1+-0x214+0x1b7c)];}return _0x5d1b5c;};for(_0x1be544=-0x11b3+-0x897+-0xd25*-0x2;_0x1be544<_0x451e94['morphs']['length'];_0x1be544++){for(_0x3f48d4=_0x451e94['morphs'][_0x1be544]['targets'],_0x3ad6cc=[],_0x3a6874=this['_getMorphV'+'ertexCount'](_0x451e94,_0x1be544,_0x2458cb),_0x452e8a=0x89*-0x2+0x10dd+-0xfcb;_0x452e8a<_0x3f48d4['length'];_0x452e8a++){const _0x5703e3=_0x3f48d4[_0x452e8a]['aabb'],_0x356128=_0x5703e3['min'],_0x2d0f75=_0x5703e3['max'],_0x9174e3=new _e(new T((_0x2d0f75[0x1f0d+0x1d*0xa3+-0x18c2*0x2]+_0x356128[-0x430+-0xd6f+0x15b*0xd])*(0x57*-0x1a+-0x1a6b*0x1+-0x169*-0x19+0.5),(_0x2d0f75[0x1a61+-0xfb*-0x1d+0x3*-0x1245]+_0x356128[-0x1*-0xdcd+-0x27*-0x8d+-0x2347])*(0x21e5+0x26ea+0x1845*-0x3+0.5),(_0x2d0f75[0x1*0x2d8+0xffe+0x12d4*-0x1]+_0x356128[0x216+-0x25c+0x48])*(-0x1*0x16e+0x1*-0x15c8+-0x1736*-0x1+0.5)),new T((_0x2d0f75[-0x1655*0x1+-0x1125+0xa3*0x3e]-_0x356128[0x1*-0x2db+-0x1705+0x19e0])*(0x3*0xa2d+-0x1*-0x7cf+-0x2656+0.5),(_0x2d0f75[0xcce+-0x2f*0x28+-0x575]-_0x356128[0x1287+-0x540+0x2*-0x6a3])*(0x1*0x24f4+-0x2*0x11a4+0x1*-0x1ac+0.5),(_0x2d0f75[0x2*0x131b+0x1fed+0x1*-0x4621]-_0x356128[0x11a8+0x4*-0x6dc+0x9ca])*(-0x1e9+0x23b+-0x52+0.5))),_0x5d51b0=_0x3f48d4[_0x452e8a]['indices'];let _0x325acb=_0x3f48d4[_0x452e8a]['deltaPosit'+'ions'],_0x35792e=_0x3f48d4[_0x452e8a]['deltaNorma'+'ls'];_0x5d51b0&&(_0x325acb=_0x54c171(_0x325acb,_0x5d51b0,_0x3a6874),_0x35792e=_0x54c171(_0x35792e,_0x5d51b0,_0x3a6874)),_0x542f2f=new Qc({'deltaPositions':_0x325acb,'deltaNormals':_0x35792e,'name':_0x3f48d4[_0x452e8a]['name'],'aabb':_0x9174e3}),_0x3ad6cc['push'](_0x542f2f);}const _0x27e23c=new F0(_0x3ad6cc,this['_device']);_0xb06bfc['push'](_0x27e23c);const _0xac4868=new fn(_0x27e23c);_0x1cb706['push'](_0xac4868);}}return{'morphs':_0xb06bfc,'instances':_0x1cb706};}['_parseVert'+'exBuffers'](_0x3e7e5d){const _0x115fe6=_0x3e7e5d['model'],_0x8b509e=[],_0x163533={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x1d63fe=0x443*0x9+0xa34+-0x308f;_0x1d63fe<_0x115fe6['vertices']['length'];_0x1d63fe++){const _0x564375=_0x115fe6['vertices'][_0x1d63fe],_0x136989=[];for(const _0x25a17c in _0x564375){const _0x5a1c1c=_0x564375[_0x25a17c];_0x136989['push']({'semantic':_0x163533[_0x25a17c],'components':_0x5a1c1c['components'],'type':tL[_0x5a1c1c['type']],'normalize':_0x163533[_0x25a17c]===At});}const _0x4fc55b=new Et(this['_device'],_0x136989),_0x21a71e=_0x564375['position']['data']['length']/_0x564375['position']['components'],_0x282a82=new os(this['_device'],_0x4fc55b,_0x21a71e),_0x54df86=new go(_0x282a82);for(let _0x156e92=-0x746+-0x1147*0x1+-0x82f*-0x3;_0x156e92<_0x21a71e;_0x156e92++){for(const _0x41df6f in _0x564375){const _0x1d9794=_0x564375[_0x41df6f];switch(_0x1d9794['components']){case 0x2*-0xb24+0x798+0xeb1:_0x54df86['element'][_0x163533[_0x41df6f]]['set'](_0x1d9794['data'][_0x156e92]);break;case 0x1*0x1dc6+-0x20db*-0x1+-0x3e9f:_0x54df86['element'][_0x163533[_0x41df6f]]['set'](_0x1d9794['data'][_0x156e92*(0x1fef+-0x7*-0x503+-0x4302)],0x81+-0x57c+0x2*0x27e-_0x1d9794['data'][_0x156e92*(0xc38+-0x1edc+-0xd9*-0x16)+(0x169e+0x97a*0x2+-0x2991)]);break;case 0xd17+0x13d5*-0x1+0x6c1:_0x54df86['element'][_0x163533[_0x41df6f]]['set'](_0x1d9794['data'][_0x156e92*(0x1*0x268f+0xb47*-0x1+-0x917*0x3)],_0x1d9794['data'][_0x156e92*(0x2119*0x1+-0x25*-0x57+-0x2da9)+(0x7b+0x1*0x1949+-0x19c3)],_0x1d9794['data'][_0x156e92*(-0x673*-0x3+-0xab*0x21+-0x2b5*-0x1)+(-0x1d*-0x3b+0x2f*0x62+-0x4ef*0x5)]);break;case-0x11e3+-0x2293+0x347a:_0x54df86['element'][_0x163533[_0x41df6f]]['set'](_0x1d9794['data'][_0x156e92*(0x1b6d+0x628+-0x2191*0x1)],_0x1d9794['data'][_0x156e92*(0x157f+0xf09+-0x13*0x1ec)+(-0x1dde*0x1+-0x1a8f+0x3e*0xe9)],_0x1d9794['data'][_0x156e92*(0xca0+-0xf8d*0x1+0x2f1)+(-0x184c+0x829+0x1025)],_0x1d9794['data'][_0x156e92*(-0xa6*0x1+-0xcfd+0xda7)+(0x6*-0x5d9+-0x3*-0x977+0x6b4)]);break;}}_0x54df86['next']();}_0x54df86['end'](),_0x8b509e['push'](_0x282a82);}return _0x8b509e;}['_parseInde'+'xBuffers'](_0x306514,_0x49d8f3){const _0x85ad49=_0x306514['model'];let _0x1031d7=null,_0xafbca8=null,_0x482768,_0x4edbaf=-0x1*0x10bb+-0x11*0x159+-0x4*-0x9e9;for(_0x482768=0x3bc*-0x5+-0x47*0x2f+-0x1*-0x1fb5;_0x482768<_0x85ad49['meshes']['length'];_0x482768++){const _0x2157cb=_0x85ad49['meshes'][_0x482768];_0x2157cb['indices']!==void(-0xf*0x153+0x1*-0x71b+-0x2*-0xd7c)&&(_0x4edbaf+=_0x2157cb['indices']['length']);}let _0x45f462=0x2*0x10c7+0x1*0xf4f+0x1*-0x30dd;for(_0x482768=0x1211+-0x2*-0x529+-0xa9*0x2b;_0x482768<_0x49d8f3['length'];_0x482768++)_0x45f462=Math['max'](_0x45f462,_0x49d8f3[_0x482768]['numVertice'+'s']);return _0x4edbaf>0x126b+0x126+-0x1391&&(_0x45f462>0xe518+-0xa8ae+-0x1*-0xc395?(_0x1031d7=new lr(this['_device'],nr,_0x4edbaf),_0xafbca8=new Uint32Array(_0x1031d7['lock']())):(_0x1031d7=new lr(this['_device'],Pi,_0x4edbaf),_0xafbca8=new Uint16Array(_0x1031d7['lock']()))),{'buffer':_0x1031d7,'data':_0xafbca8};}['_parseMesh'+'es'](_0x396e75,_0xe4152e,_0x1bc707,_0x2535da,_0x5460bc,_0xfc7efa){const _0x269ee2=_0x396e75['model'],_0x16e702=[];let _0x246431=0x25ab+0x8*0x1d3+-0x3443;for(let _0x497ade=-0xd48+-0x52d+-0x627*-0x3;_0x497ade<_0x269ee2['meshes']['length'];_0x497ade++){const _0x1e1655=_0x269ee2['meshes'][_0x497ade],_0x297db6=_0x1e1655['aabb'],_0x319307=_0x297db6['min'],_0x216891=_0x297db6['max'],_0x1facf4=new _e(new T((_0x216891[0x313*0x1+0xd7f+-0x1092]+_0x319307[-0x4*-0x8c3+0x1b51+-0x3e5d*0x1])*(-0x306+-0x1101*-0x1+-0xdfb+0.5),(_0x216891[0x139f*0x1+-0x1c9*-0xf+-0x2e65]+_0x319307[0xb3*0x19+0xa7*0x2+-0x1*0x12c8])*(-0x3d6*0x7+-0x8*-0xc2+0x14ca+0.5),(_0x216891[-0x5b3+0x727+-0x172]+_0x319307[-0x883*-0x1+-0x7*-0x4ca+-0x2a07])*(0x3*0x2c8+0x716*-0x5+-0xd8b*-0x2+0.5)),new T((_0x216891[-0x33b*-0x3+0x1*-0x13c7+0x50b*0x2]-_0x319307[-0xbe+0xf6+-0x38])*(-0x1a06+0x2224+-0x40f*0x2+0.5),(_0x216891[0x26df+-0x1f6a+0x6*-0x13e]-_0x319307[0x1*0x1b9b+-0x1685+0x515*-0x1])*(-0x38c*-0x7+0x1c77+-0x354b+0.5),(_0x216891[-0x15+0x21d1+-0x21ba]-_0x319307[0xfca+0x5*0x3c5+-0x22a1])*(0x1*0x275+0x689*0x1+-0x8fe+0.5))),_0x489c9c=_0x1e1655['indices']!==void(-0x1de+0x8a4+-0x6c6),_0x3f3d4a=new Ie(this['_device']);_0x3f3d4a['vertexBuff'+'er']=_0x2535da[_0x1e1655['vertices']],_0x3f3d4a['indexBuffe'+'r'][0xa0b+0xc1f*-0x1+0x214]=_0x489c9c?_0x5460bc:null,_0x3f3d4a['primitive'][0x269b+-0x1*0x935+0x47*-0x6a]['type']=eL[_0x1e1655['type']],_0x3f3d4a['primitive'][-0x1257+-0x48*0x5f+0x1*0x2d0f]['base']=_0x489c9c?_0x1e1655['base']+_0x246431:_0x1e1655['base'],_0x3f3d4a['primitive'][-0x1346*0x1+-0x1bf9+-0x1*-0x2f3f]['count']=_0x1e1655['count'],_0x3f3d4a['primitive'][0x1*-0x1edf+0x1d9*-0xd+0x36e4]['indexed']=_0x489c9c,_0x3f3d4a['skin']=_0x1e1655['skin']!==void(0xd40+-0x2442+-0x49a*-0x5)?_0xe4152e[_0x1e1655['skin']]:null,_0x3f3d4a['morph']=_0x1e1655['morph']!==void(0x1b1*-0x2+-0x1*0xbce+0x2*0x798)?_0x1bc707[_0x1e1655['morph']]:null,_0x3f3d4a['aabb']=_0x1facf4,_0x489c9c&&(_0xfc7efa['set'](_0x1e1655['indices'],_0x246431),_0x246431+=_0x1e1655['indices']['length']),_0x16e702['push'](_0x3f3d4a);}return _0x5460bc!==null&&_0x5460bc['unlock'](),_0x16e702;}['_parseMesh'+'Instances'](_0x1865fd,_0x416233,_0x53ba4d,_0x4983ec,_0x2d021f,_0x44a323,_0x473baf){const _0x4aa727=_0x1865fd['model'],_0x53d178=[];let _0x2bce68;for(_0x2bce68=0x1a10*-0x1+0x1dab+0xd*-0x47;_0x2bce68<_0x4aa727['meshInstan'+'ces']['length'];_0x2bce68++){const _0x1bdf35=_0x4aa727['meshInstan'+'ces'][_0x2bce68],_0xa8b017=_0x416233[_0x1bdf35['node']],_0x5a7486=_0x53ba4d[_0x1bdf35['mesh']],_0x943b86=new Le(_0x5a7486,this['_defaultMa'+'terial'],_0xa8b017);if(_0x5a7486['skin']){const _0x1280de=_0x4983ec['indexOf'](_0x5a7486['skin']);if(_0x1280de===-(0xb*-0x93+-0x3*-0x6cb+-0x1*0xe0f))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x943b86['skinInstan'+'ce']=_0x2d021f[_0x1280de];}if(_0x5a7486['morph']){const _0x566388=_0x44a323['indexOf'](_0x5a7486['morph']);if(_0x566388===-(0x11b0+-0x19b3+0x804))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x943b86['morphInsta'+'nce']=_0x473baf[_0x566388];}_0x53d178['push'](_0x943b86);}return _0x53d178;}}class iL extends Ne{constructor(_0x356654){super(_0x356654,'model'),this['_parsers']=[],this['device']=_0x356654['graphicsDe'+'vice'],this['assets']=_0x356654['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x19c838,_0xfdffc7)=>fe['getExtensi'+'on'](_0x19c838)==='.json'),this['addParser'](new J2(this),(_0x453614,_0x1b135a)=>fe['getExtensi'+'on'](_0x453614)==='.glb');}['load'](_0x350b61,_0x19be98,_0x356ec3){typeof _0x350b61=='string'&&(_0x350b61={'load':_0x350b61,'original':_0x350b61});const _0x3a30e4={'retry':this['maxRetries']>0x6b*0xb+0x4d2+-0x96b,'maxRetries':this['maxRetries']};(_0x350b61['load']['startsWith']('blob:')||_0x350b61['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x350b61['original'])['toLowerCas'+'e']()==='.glb'?_0x3a30e4['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3a30e4['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x350b61['load'],_0x3a30e4,(_0x4fc25a,_0x2716c3)=>{if(_0x19be98){if(_0x4fc25a)_0x19be98('Error\x20load'+'ing\x20model:'+'\x20'+_0x350b61['original']+'\x20['+_0x4fc25a+']');else{for(let _0x8b128e=0x67*-0x47+-0x1e75+-0xbce*-0x5;_0x8b128e<this['_parsers']['length'];_0x8b128e++){const _0x3477c4=this['_parsers'][_0x8b128e];if(_0x3477c4['decider'](_0x350b61['original'],_0x2716c3)){_0x3477c4['parser']['parse'](_0x2716c3,(_0x394553,_0x4f2d0c)=>{_0x394553?_0x19be98(_0x394553):_0x19be98(null,_0x4f2d0c);},_0x356ec3);return;}}_0x19be98('No\x20parsers'+'\x20found');}}});}['open'](_0x1f24d3,_0x35b179){return _0x35b179;}['patch'](_0x5a0eb8,_0x530720){if(!_0x5a0eb8['resource'])return;const _0xbcbdb5=_0x5a0eb8['data'],_0x78589a=this;_0x5a0eb8['resource']['meshInstan'+'ces']['forEach']((_0x1edeea,_0xfec8c3)=>{if(_0xbcbdb5['mapping']){const _0x589f73=function(_0x57b23c){_0x57b23c['resource']?_0x1edeea['material']=_0x57b23c['resource']:(_0x57b23c['once']('load',_0x589f73),_0x530720['load'](_0x57b23c)),_0x57b23c['once']('remove',_0x5bd440=>{_0x1edeea['material']===_0x5bd440['resource']&&(_0x1edeea['material']=_0x78589a['defaultMat'+'erial']);});};if(!_0xbcbdb5['mapping'][_0xfec8c3]){_0x1edeea['material']=_0x78589a['defaultMat'+'erial'];return;}const _0x404e5d=_0xbcbdb5['mapping'][_0xfec8c3]['material'],_0x559e1e=_0xbcbdb5['mapping'][_0xfec8c3]['path'];let _0xa7b69b;if(_0x404e5d!==void(0x1d13+-0x11*-0x5f+-0x2362))_0x404e5d?(_0xa7b69b=_0x530720['get'](_0x404e5d),_0xa7b69b?_0x589f73(_0xa7b69b):_0x530720['once']('add:'+_0x404e5d,_0x589f73)):_0x1edeea['material']=_0x78589a['defaultMat'+'erial'];else{if(_0x559e1e){const _0xa51370=_0x5a0eb8['getAbsolut'+'eUrl'](_0xbcbdb5['mapping'][_0xfec8c3]['path']);_0xa7b69b=_0x530720['getByUrl'](_0xa51370),_0xa7b69b?_0x589f73(_0xa7b69b):_0x530720['once']('add:url:'+_0xa51370,_0x589f73);}}}});}['addParser'](_0x51792c,_0x574d70){this['_parsers']['push']({'parser':_0x51792c,'decider':_0x574d70});}}class rL extends Ne{constructor(_0x285bb8){super(_0x285bb8,'scene');}['load'](_0x5ad1bf,_0x1d5aff){Lx['load'](_0x5ad1bf,this['maxRetries'],_0x1d5aff);}['open'](_0x866c2e,_0x1d434a){this['_app']['systems']['script']['preloading']=!(0x1*-0xb17+-0x186c+-0x2383*-0x1);const _0x400f7b=new $p(this['_app'],!(-0x7*-0x2f9+0x161+-0x162f))['parse'](_0x1d434a),_0x2d48b7=this['_app']['scene'];return _0x2d48b7['root']=_0x400f7b,this['_app']['applyScene'+'Settings'](_0x1d434a['settings']),this['_app']['systems']['script']['preloading']=!(-0x9ee+0x1*0x25d7+-0x1be8),_0x2d48b7;}}const hc=class hc{static['push'](_0x5a60d3){hc['_types']['push'](_0x5a60d3);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x500b36,_0x4f7ed9,_0x444b10)=>{aL[_0x500b36]=0x1*0x504+-0x1*0x8f5+0x3f2;});function oL(_0xfeed39,_0xe53b88,_0x4c4f21){if(typeof _0xfeed39!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0xfeed39+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0xfeed39['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0xfeed39)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0xe53b88=_0xe53b88||_0xfeed39['__name']||Qh['__getScrip'+'tName'](_0xfeed39),nL['has'](_0xe53b88))throw new Error('script\x20nam'+'e:\x20\x27'+_0xe53b88+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0xfeed39['__name']=_0xe53b88,qh['getApplica'+'tion']()['scripts']['add'](_0xfeed39),Xr['push'](_0xfeed39);}const lL=_0x1357b6=>_0x1357b6[0x15cd*-0x1+0x1*0x271+0x135c]['toLowerCas'+'e']()+_0x1357b6['substring'](-0x25d5+0xbff+0x19d7);class hL extends Ne{constructor(_0x1db52a){super(_0x1db52a,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x11928b in this['_cache']){const _0x1aab45=this['_cache'][_0x11928b],_0x2e0853=_0x1aab45['parentNode'];_0x2e0853&&_0x2e0853['removeChil'+'d'](_0x1aab45);}this['_cache']={};}['load'](_0x481bf5,_0x5e051a){typeof _0x481bf5=='string'&&(_0x481bf5={'load':_0x481bf5,'original':_0x481bf5});const _0x4ef104=this;this['_app'];const _0x545a2b=(_0x481bf5['load'],(_0x36d17f,_0x43a98b,_0x17f097)=>{if(_0x36d17f)_0x5e051a(_0x36d17f);else{const _0x161aba={};for(let _0x6d9e08=-0x3*0x48f+-0xd*-0x4d+0x32*0x32;_0x6d9e08<Xr['_types']['length'];_0x6d9e08++)_0x161aba[Xr['_types'][_0x6d9e08]['name']]=Xr['_types'][_0x6d9e08];Xr['_types']['length']=-0x642+0x1*0xe9+0x559,_0x5e051a(null,_0x161aba,_0x17f097);const _0x869515=_0x43a98b['split']('&hash=')[0x4eb+0x6f4*0x5+0x1*-0x27af];delete _0x4ef104['_loader']['_cache'][pa['makeKey'](_0x869515,'script')];}}),[_0x46cfbc]=_0x481bf5['load']['split']('?');_0x46cfbc['endsWith']('.mjs')?this['_loadModul'+'e'](_0x46cfbc,_0x545a2b):this['_loadScrip'+'t'](_0x481bf5['load'],_0x545a2b);}['open'](_0x11fac5,_0x5c9b26){return _0x5c9b26;}['patch'](_0x21035f,_0x3c6889){}['_loadScrip'+'t'](_0x50f90f,_0x52b401){const _0x5cbcce=document['head'],_0x2bb991=document['createElem'+'ent']('script');this['_cache'][_0x50f90f]=_0x2bb991,_0x2bb991['async']=!(-0x102*-0x26+-0xa44+-0x29*0xaf),_0x2bb991['addEventLi'+'stener']('error',_0x5ac9f7=>{_0x52b401('Script:\x20'+_0x5ac9f7['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x2*0x575+0x1*0x6b2+0x2f*0x17));let _0x61dbb7=!(0x1*-0x2063+0x2038+0x2c);_0x2bb991['onload']=_0x2bb991['onreadysta'+'techange']=function(){!_0x61dbb7&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x61dbb7=!(0x16cc*0x1+-0x1213+-0x193*0x3),_0x52b401(null,_0x50f90f,_0x2bb991));},_0x2bb991['src']=_0x50f90f,_0x5cbcce['appendChil'+'d'](_0x2bb991);}['_loadModul'+'e'](_0x107fe9,_0x156921){const _0x5bb414=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x139342=new URL(_0x107fe9,_0x5bb414);import(_0x139342['toString']())['then'](_0xeba8e0=>{var _0x4f2f8d,_0x2694af;const _0x541a84=_0x139342['pathname']['split']('/')['pop'](),_0x57020a=(_0x2694af=(_0x4f2f8d=this['_app']['assets']['find'](_0x541a84,'script'))==null?void(-0x19bb+0x1*0x1e33+-0x478):_0x4f2f8d['data'])==null?void(-0x6d3*0x4+0x121f+0x92d*0x1):_0x2694af['scripts'];for(const _0x2d3ddc in _0xeba8e0){const _0x4dc704=_0xeba8e0[_0x2d3ddc];if(_0x4dc704['prototype']instanceof Ht){const _0x5e9cad=lL(_0x4dc704['name']);oL(_0x4dc704,_0x5e9cad),_0x57020a&&this['_app']['scripts']['addSchema'](_0x5e9cad,_0x57020a[_0x5e9cad]);}}_0x156921(null,_0x107fe9,null);})['catch'](_0x5bb399=>{_0x156921(_0x5bb399);});}}class cL extends Ne{constructor(_0x385894){super(_0x385894,'shader'),c(this,'decoder',null);}['load'](_0x16c3ff,_0x414963){typeof _0x16c3ff=='string'&&(_0x16c3ff={'load':_0x16c3ff,'original':_0x16c3ff}),We['get'](_0x16c3ff['load'],{'retry':this['maxRetries']>0x18a2*0x1+0x20f*0x3+-0x1ecf,'maxRetries':this['maxRetries']},(_0x52acd8,_0x483e95)=>{_0x52acd8?_0x414963('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x16c3ff['original']+'\x20['+_0x52acd8+']'):_0x414963(null,_0x483e95);});}['openBinary'](_0xc3e365){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0xc3e365);}}function eu(_0x5e039b){const _0x529e36=this;_0x529e36['resource']&&(_0x529e36['resource']['atlas']=_0x5e039b['resource']);}function tu(_0x31c5b9){this['registry']['load'](_0x31c5b9);}class dL extends Ne{constructor(_0x5a2577){super(_0x5a2577,'sprite'),this['_assets']=_0x5a2577['assets'],this['_device']=_0x5a2577['graphicsDe'+'vice'];}['load'](_0x47a29e,_0x4648f9){typeof _0x47a29e=='string'&&(_0x47a29e={'load':_0x47a29e,'original':_0x47a29e}),fe['getExtensi'+'on'](_0x47a29e['original'])==='.json'&&We['get'](_0x47a29e['load'],{'retry':this['maxRetries']>0x132*0x12+0xd51+0x25*-0xf1,'maxRetries':this['maxRetries']},(_0x21049c,_0x293515)=>{_0x21049c?_0x4648f9(_0x21049c):_0x4648f9(null,_0x293515);});}['open'](_0x22fe0b,_0x505f05){const _0x2fa9dd=new T1(this['_device']);return _0x22fe0b&&(_0x2fa9dd['__data']=_0x505f05),_0x2fa9dd;}['patch'](_0x556dfe,_0x5ac147){const _0xe85938=_0x556dfe['resource'];if(_0xe85938['__data']&&(_0x556dfe['data']['pixelsPerU'+'nit']=_0xe85938['__data']['pixelsPerU'+'nit'],_0x556dfe['data']['renderMode']=_0xe85938['__data']['renderMode'],_0x556dfe['data']['frameKeys']=_0xe85938['__data']['frameKeys'],_0xe85938['__data']['textureAtl'+'asAsset'])){const _0x3bf631=_0x5ac147['getByUrl'](_0xe85938['__data']['textureAtl'+'asAsset']);_0x3bf631?_0x556dfe['data']['textureAtl'+'asAsset']=_0x3bf631['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0xe85938['__data']['textureAtl'+'asAsset']);}_0xe85938['startUpdat'+'e'](),_0xe85938['renderMode']=_0x556dfe['data']['renderMode'],_0xe85938['pixelsPerU'+'nit']=_0x556dfe['data']['pixelsPerU'+'nit'],_0xe85938['frameKeys']=_0x556dfe['data']['frameKeys'],this['_updateAtl'+'as'](_0x556dfe),_0xe85938['endUpdate'](),_0x556dfe['off']('change',this['_onAssetCh'+'ange'],this),_0x556dfe['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x18933a){const _0x46115f=_0x18933a['resource'];if(!_0x18933a['data']['textureAtl'+'asAsset']){_0x46115f['atlas']=null;return;}this['_assets']['off']('load:'+_0x18933a['data']['textureAtl'+'asAsset'],eu,_0x18933a),this['_assets']['on']('load:'+_0x18933a['data']['textureAtl'+'asAsset'],eu,_0x18933a);const _0x1a7f26=this['_assets']['get'](_0x18933a['data']['textureAtl'+'asAsset']);_0x1a7f26&&_0x1a7f26['resource']?_0x46115f['atlas']=_0x1a7f26['resource']:_0x1a7f26?this['_assets']['load'](_0x1a7f26):(this['_assets']['off']('add:'+_0x18933a['data']['textureAtl'+'asAsset'],tu,_0x18933a),this['_assets']['on']('add:'+_0x18933a['data']['textureAtl'+'asAsset'],tu,_0x18933a));}['_onAssetCh'+'ange'](_0x69fda9,_0xcb5fd,_0x5c0354,_0x471321){_0xcb5fd==='data'&&_0x5c0354&&_0x5c0354['textureAtl'+'asAsset']&&_0x471321&&_0x5c0354['textureAtl'+'asAsset']!==_0x471321['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x471321['textureAtl'+'asAsset'],eu,_0x69fda9),this['_assets']['off']('add:'+_0x471321['textureAtl'+'asAsset'],tu,_0x69fda9));}}class Gg{constructor(_0x38580b,_0x3d4bd8){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x38580b,this['_data']=_0x3d4bd8);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x5ead71=new $p(this['_app'],!(-0x3*0x835+0x22a9+-0xa0a));this['_templateR'+'oot']=_0x5ead71['parse'](this['_data']);}}class uL extends Ne{constructor(_0x540990){super(_0x540990,'template'),c(this,'decoder',null);}['load'](_0x307cc7,_0x1cd32d){typeof _0x307cc7=='string'&&(_0x307cc7={'load':_0x307cc7,'original':_0x307cc7});const _0x3b2028={'retry':this['maxRetries']>-0x197c+0x20a3+0x727*-0x1,'maxRetries':this['maxRetries']};We['get'](_0x307cc7['load'],_0x3b2028,(_0x4b57f9,_0x2a0aa9)=>{_0x4b57f9?_0x1cd32d('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x307cc7['original']):_0x1cd32d(_0x4b57f9,_0x2a0aa9);});}['open'](_0x47f56a,_0x485a3f){return new Gg(this['_app'],_0x485a3f);}['openBinary'](_0x328a1e){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x328a1e)));}}class fL extends Ne{constructor(_0x458b82){super(_0x458b82,'text'),c(this,'decoder',null);}['load'](_0x33bf1c,_0x442ad8){typeof _0x33bf1c=='string'&&(_0x33bf1c={'load':_0x33bf1c,'original':_0x33bf1c}),We['get'](_0x33bf1c['load'],{'retry':this['maxRetries']>0x3ad*0x7+0x8*0x2c3+-0xe7*0x35,'maxRetries':this['maxRetries']},(_0x5b73d0,_0x3dbe31)=>{_0x5b73d0?_0x442ad8('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x33bf1c['original']+'\x20['+_0x5b73d0+']'):_0x442ad8(null,_0x3dbe31);});}['openBinary'](_0x3e00b6){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x3e00b6);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x1942af){super(_0x1942af,'textureatl'+'as'),this['_loader']=_0x1942af['loader'];}['load'](_0x36f25f,_0x438011){typeof _0x36f25f=='string'&&(_0x36f25f={'load':_0x36f25f,'original':_0x36f25f});const _0x138e84=this,_0x49f9e2=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x36f25f['original'])==='.json'?We['get'](_0x36f25f['load'],{'retry':this['maxRetries']>0x185*0x3+-0x18c7*0x1+0x1438,'maxRetries':this['maxRetries']},(_0x1d8e8b,_0x469c62)=>{if(_0x1d8e8b)_0x438011(_0x1d8e8b);else{const _0x4a09ff=_0x36f25f['original']['replace']('.json','.png');_0x138e84['_loader']['load'](_0x4a09ff,'texture',(_0x4201c7,_0x8cabd6)=>{_0x4201c7?_0x438011(_0x4201c7):_0x438011(null,{'data':_0x469c62,'texture':_0x8cabd6});});}}):_0x49f9e2['load'](_0x36f25f,_0x438011);}['open'](_0x332502,_0x39714c,_0x3ca339){const _0x5bc2c0=new A1();if(_0x39714c['texture']&&_0x39714c['data'])_0x5bc2c0['texture']=_0x39714c['texture'],_0x5bc2c0['__data']=_0x39714c['data'];else{const _0x2c019e=this['_loader']['getHandler']('texture')['open'](_0x332502,_0x39714c,_0x3ca339);if(!_0x2c019e)return null;_0x5bc2c0['texture']=_0x2c019e;}return _0x5bc2c0;}['patch'](_0x2953fd,_0x573734){if(!_0x2953fd['resource'])return;_0x2953fd['resource']['__data']&&(_0x2953fd['resource']['__data']['minfilter']!==void(-0x2164*0x1+0xc0b*-0x2+0x397a)&&(_0x2953fd['data']['minfilter']=_0x2953fd['resource']['__data']['minfilter']),_0x2953fd['resource']['__data']['magfilter']!==void(-0x1f53+0x236d+-0x41a)&&(_0x2953fd['data']['magfilter']=_0x2953fd['resource']['__data']['magfilter']),_0x2953fd['resource']['__data']['addressu']!==void(0x1*0x8bd+0x1251+-0x1b0e)&&(_0x2953fd['data']['addressu']=_0x2953fd['resource']['__data']['addressu']),_0x2953fd['resource']['__data']['addressv']!==void(0x322+0x1*0x755+-0xa77)&&(_0x2953fd['data']['addressv']=_0x2953fd['resource']['__data']['addressv']),_0x2953fd['resource']['__data']['mipmaps']!==void(0x313*-0xb+-0x3b+0x220c)&&(_0x2953fd['data']['mipmaps']=_0x2953fd['resource']['__data']['mipmaps']),_0x2953fd['resource']['__data']['anisotropy']!==void(-0x3*-0xe7+-0x160b+0x14a*0xf)&&(_0x2953fd['data']['anisotropy']=_0x2953fd['resource']['__data']['anisotropy']),_0x2953fd['resource']['__data']['rgbm']!==void(0x1967+-0x198c+0x25)&&(_0x2953fd['data']['rgbm']=!!_0x2953fd['resource']['__data']['rgbm']),_0x2953fd['data']['frames']=_0x2953fd['resource']['__data']['frames'],delete _0x2953fd['resource']['__data']);const _0xd9402=_0x2953fd['resource']['texture'];if(_0xd9402&&(_0xd9402['name']=_0x2953fd['name'],_0x2953fd['data']['hasOwnProp'+'erty']('minfilter')&&_0xd9402['minFilter']!==sh[_0x2953fd['data']['minfilter']]&&(_0xd9402['minFilter']=sh[_0x2953fd['data']['minfilter']]),_0x2953fd['data']['hasOwnProp'+'erty']('magfilter')&&_0xd9402['magFilter']!==sh[_0x2953fd['data']['magfilter']]&&(_0xd9402['magFilter']=sh[_0x2953fd['data']['magfilter']]),_0x2953fd['data']['hasOwnProp'+'erty']('addressu')&&_0xd9402['addressU']!==th[_0x2953fd['data']['addressu']]&&(_0xd9402['addressU']=th[_0x2953fd['data']['addressu']]),_0x2953fd['data']['hasOwnProp'+'erty']('addressv')&&_0xd9402['addressV']!==th[_0x2953fd['data']['addressv']]&&(_0xd9402['addressV']=th[_0x2953fd['data']['addressv']]),_0x2953fd['data']['hasOwnProp'+'erty']('mipmaps')&&_0xd9402['mipmaps']!==_0x2953fd['data']['mipmaps']&&(_0xd9402['mipmaps']=_0x2953fd['data']['mipmaps']),_0x2953fd['data']['hasOwnProp'+'erty']('anisotropy')&&_0xd9402['anisotropy']!==_0x2953fd['data']['anisotropy']&&(_0xd9402['anisotropy']=_0x2953fd['data']['anisotropy']),_0x2953fd['data']['hasOwnProp'+'erty']('rgbm'))){const _0x12bd73=_0x2953fd['data']['rgbm']?on:Di;_0xd9402['type']!==_0x12bd73&&(_0xd9402['type']=_0x12bd73);}_0x2953fd['resource']['texture']=_0xd9402;const _0xbdaf49={};for(const _0x5aca8d in _0x2953fd['data']['frames']){const _0x4f7cfa=_0x2953fd['data']['frames'][_0x5aca8d];_0xbdaf49[_0x5aca8d]={'rect':new Q(_0x4f7cfa['rect']),'pivot':new $(_0x4f7cfa['pivot']),'border':new Q(_0x4f7cfa['border'])};}_0x2953fd['resource']['frames']=_0xbdaf49,_0x2953fd['off']('change',this['_onAssetCh'+'ange'],this),_0x2953fd['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x4645ce,_0xd976ed,_0x8d8fc4){let _0x186bd8;if(_0xd976ed==='data'||_0xd976ed==='data.frame'+'s'){const _0x8e1137={};for(const _0x4bf5bf in _0x8d8fc4['frames'])_0x186bd8=_0x8d8fc4['frames'][_0x4bf5bf],_0x8e1137[_0x4bf5bf]={'rect':new Q(_0x186bd8['rect']),'pivot':new $(_0x186bd8['pivot']),'border':new Q(_0x186bd8['border'])};_0x4645ce['resource']['frames']=_0x8e1137;}else{const _0x57b86d=_0xd976ed['match'](pL);if(_0x57b86d){const _0x21fc5d=_0x57b86d[0x15*0x2f+0x23ff+0x1*-0x27d9];_0x8d8fc4?(_0x4645ce['resource']['frames'][_0x21fc5d]?(_0x186bd8=_0x4645ce['resource']['frames'][_0x21fc5d],_0x186bd8['rect']['set'](_0x8d8fc4['rect'][-0x107f+-0xfe+0x117d],_0x8d8fc4['rect'][0x224*-0x4+0x2019+0x18*-0xfb],_0x8d8fc4['rect'][0x1371+-0x65*0x2b+-0x278],_0x8d8fc4['rect'][-0xf38+0x156a+0x62f*-0x1]),_0x186bd8['pivot']['set'](_0x8d8fc4['pivot'][-0x2424*-0x1+-0x2*0xb3+-0x2*0x115f],_0x8d8fc4['pivot'][0x1fd1+0x70e+-0x26de]),_0x186bd8['border']['set'](_0x8d8fc4['border'][0x3a7+0x2*-0x119c+0x1f91],_0x8d8fc4['border'][-0x96*0x22+-0x1*-0x1b74+-0x787],_0x8d8fc4['border'][0x17*-0x2d+0x2cf*0x1+-0x2*-0x9f],_0x8d8fc4['border'][0x13d*-0xd+0x4d*-0x1d+-0xd*-0x1e9])):_0x4645ce['resource']['frames'][_0x21fc5d]={'rect':new Q(_0x8d8fc4['rect']),'pivot':new $(_0x8d8fc4['pivot']),'border':new Q(_0x8d8fc4['border'])},_0x4645ce['resource']['fire']('set:frame',_0x21fc5d,_0x4645ce['resource']['frames'][_0x21fc5d])):_0x4645ce['resource']['frames'][_0x21fc5d]&&(delete _0x4645ce['resource']['frames'][_0x21fc5d],_0x4645ce['resource']['fire']('remove:fra'+'me',_0x21fc5d));}}}}function _L(){const _0x5934a4={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x49b916={'astc':_0x5934a4['cTFASTC_4x'+'4'],'dxt':_0x5934a4['cTFBC1'],'etc1':_0x5934a4['cTFETC1'],'etc2':_0x5934a4['cTFETC1'],'pvr':_0x5934a4['cTFPVRTC1_'+'4_RGB'],'atc':_0x5934a4['cTFATC_RGB'],'none':_0x5934a4['cTFRGB565']},_0x186e74={'astc':_0x5934a4['cTFASTC_4x'+'4'],'dxt':_0x5934a4['cTFBC3'],'etc1':_0x5934a4['cTFRGBA444'+'4'],'etc2':_0x5934a4['cTFETC2'],'pvr':_0x5934a4['cTFPVRTC1_'+'4_RGBA'],'atc':_0x5934a4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x5934a4['cTFRGBA444'+'4']},_0x4cbc85={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x36b377=(_0x42335d,_0x557f6c)=>{switch(_0x42335d){case _0x5934a4['cTFETC1']:return _0x557f6c['formats']['etc2']?_0x4cbc85['ETC2_RGB']:_0x4cbc85['ETC1'];case _0x5934a4['cTFETC2']:return _0x4cbc85['ETC2_RGBA'];case _0x5934a4['cTFBC1']:return _0x4cbc85['DXT1'];case _0x5934a4['cTFBC3']:return _0x4cbc85['DXT5'];case _0x5934a4['cTFPVRTC1_'+'4_RGB']:return _0x4cbc85['PVRTC_4BPP'+'_RGB_1'];case _0x5934a4['cTFPVRTC1_'+'4_RGBA']:return _0x4cbc85['PVRTC_4BPP'+'_RGBA_1'];case _0x5934a4['cTFASTC_4x'+'4']:return _0x4cbc85['ASTC_4x4'];case _0x5934a4['cTFATC_RGB']:return _0x4cbc85['ATC_RGB'];case _0x5934a4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x4cbc85['ATC_RGBA'];case _0x5934a4['cTFRGBA32']:return _0x4cbc85['R8_G8_B8_A'+'8'];case _0x5934a4['cTFRGB565']:return _0x4cbc85['R5_G6_B5'];case _0x5934a4['cTFRGBA444'+'4']:return _0x4cbc85['R4_G4_B4_A'+'4'];}},_0x2d0807=_0x294d7a=>{const _0x1cdf62=function(_0xcde7f9,_0x45d750){const _0x448092=_0xcde7f9*(0x3c7+-0x4*0x3b4+-0x71*-0x19+0.00784313725490196)-(-0x41*-0x43+-0x18b7+0x7b5),_0x331e85=_0x45d750*((-0x16e3+0x234d+0x4*-0x31a)/(-0xad6+0x11f+0xab6))-(-0x1*-0x1b65+-0x1427+0x6d*-0x11),_0x268471=Math['sqrt'](-0xa3d*0x2+0x263*-0xe+0x35e5-Math['min'](-0x8ef*-0x4+-0xb6a+-0x1851,_0x448092*_0x448092+_0x331e85*_0x331e85));return Math['max'](-0xd*0x173+0x1*-0x15e9+0x28c0*0x1,Math['min'](-0x3f*-0x3+-0x6d*0x52+0x232c,Math['floor']((_0x268471+(-0x1f0b+-0x345*-0x7+0x829*0x1))*(-0x1*0x199c+0x10*-0x219+-0x4*-0xecb+0.5)*(-0x7b5+0x1d4e+-0x149a))));};for(let _0x529b00=0x97c+-0xd24+-0x8*-0x75;_0x529b00<_0x294d7a['length'];_0x529b00+=-0x1ff6+-0xddf+0x2dd9){const _0x3e1635=_0x294d7a[_0x529b00+(-0x1*0xfed+-0x553+-0x1543*-0x1)],_0x55be4e=_0x294d7a[_0x529b00+(0xa60+0x11c+0xb7b*-0x1)];_0x294d7a[_0x529b00+(-0x1*0x269b+-0x3d*-0x27+0x1d50*0x1)]=_0x3e1635,_0x294d7a[_0x529b00+(0x102*0x21+-0x4*0x317+0xa72*-0x2)]=_0x1cdf62(_0x3e1635,_0x55be4e),_0x294d7a[_0x529b00+(0x21f3+-0xe6f+-0x1381*0x1)]=-0x1530+-0x8ef+0x2*0xf8f;}return _0x294d7a;},_0x2782d6=_0x179677=>{const _0x3e4f06=new Uint16Array(_0x179677['length']/(-0x1dc2+-0x674+0x2*0x121d));for(let _0x4c99e0=0x1857*0x1+0x22+-0x1879;_0x4c99e0<_0x179677['length'];_0x4c99e0+=0x6b9+-0x946*-0x2+-0x1941){const _0x45f09c=_0x179677[_0x4c99e0+(-0x967+0xde*0xc+-0x101)],_0x386082=_0x179677[_0x4c99e0+(0x232f*0x1+-0x716+-0x1c18)],_0x4c865f=_0x179677[_0x4c99e0+(-0x3f*0x21+0xfdc+0x1*-0x7bb)];_0x3e4f06[_0x4c99e0/(0x79b+-0x1071+0x8da)]=(_0x45f09c&0x1*0x23c5+-0xe25+-0x295*0x8)<<-0x9*0x307+0x2318+0x3*-0x29b|(_0x386082&0x13bb*-0x1+0xdf*-0x4+0x1833)<<-0x16f8+-0x3a2+-0x3*-0x8df|_0x4c865f>>-0xf2c+-0x786+-0x16b5*-0x1;}return _0x3e4f06;},_0x18ad11=(_0x59e1c7,_0xbff32b)=>(_0x59e1c7&_0x59e1c7-(0xd20+-0x2440+0x1f*0xbf))===-0x3*-0xc5d+0xc52+-0x5b*0x8b&&(_0xbff32b&_0xbff32b-(0x722+-0x1fac*0x1+-0x67*-0x3d))===0x1d5*0x9+0xf03+0x480*-0x7,_0x43d138=()=>typeof performance<'u'?performance['now']():0x1*0xce5+0x4*0x54c+0x5*-0x6d1;let _0x96217e,_0x2777ec,_0x214c02;const _0x48e4f2=(_0x353404,_0x178518,_0x46eb88)=>{if(_0x46eb88){if(_0x353404['formats']['astc'])return'astc';}else{if(_0x178518){if(_0x353404['formats']['etc2'])return'etc2';}else{if(_0x353404['formats']['etc2'])return'etc2';if(_0x353404['formats']['etc1'])return'etc1';}}return(_0x4ef21=>{for(let _0x4803d9=-0x16b*-0x8+-0x38*0x2e+0x29*-0x8;_0x4803d9<_0x4ef21['length'];++_0x4803d9){const _0x12075e=_0x4ef21[_0x4803d9];if(_0x353404['formats'][_0x12075e])return _0x12075e;}return'none';})(_0x178518?_0x214c02:_0x2777ec);},_0x3f7b4f=(_0x5b6ff7,_0x577b0a,_0x17f71e)=>{switch(_0x17f71e){case _0x5934a4['cTFETC1']:case _0x5934a4['cTFETC2']:return!(-0x40*-0x24+-0xaf1*-0x1+-0x13f1*0x1);case _0x5934a4['cTFBC1']:case _0x5934a4['cTFBC3']:return(_0x5b6ff7&-0x12ca+0x1*0xc83+0x64a)===-0x1aad+0x3d*0x1f+0x134a&&(_0x577b0a&0x1ff*0xa+0x21a+0x1*-0x160d)===-0x142f+-0x1ffc+0x342b;case _0x5934a4['cTFPVRTC1_'+'4_RGB']:case _0x5934a4['cTFPVRTC1_'+'4_RGBA']:return _0x18ad11(_0x5b6ff7,_0x577b0a);case _0x5934a4['cTFASTC_4x'+'4']:return!(0x7c*-0xf+-0x19ac+0x22*0xf8);case _0x5934a4['cTFATC_RGB']:case _0x5934a4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x1cc4+-0xea2+0x2b66);}return!(0x1629+0x15*0x17d+-0x79*0x71);},_0x33df13=(_0x369150,_0x7314c5,_0x9c0de7)=>{if(!_0x96217e['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x1c41d6=_0x43d138(),_0x1149cd=new _0x96217e['KTX2File'](new Uint8Array(_0x7314c5)),_0xed3251=_0x1149cd['getWidth'](),_0x30aa38=_0x1149cd['getHeight'](),_0x1f8f40=_0x1149cd['getLevels'](),_0x3c1381=!!_0x1149cd['getHasAlph'+'a'](),_0x3cb8ed=_0x1149cd['isUASTC']&&_0x1149cd['isUASTC']();if(!_0xed3251||!_0x30aa38||!_0x1f8f40)throw _0x1149cd['close'](),_0x1149cd['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x369150+'\x20width='+_0xed3251+'\x20height='+_0x30aa38+'\x20levels='+_0x1f8f40);const _0xf7cf71=_0x48e4f2(_0x9c0de7['deviceDeta'+'ils'],_0x3c1381,_0x3cb8ed),_0x4e9022=!!_0x9c0de7['isGGGR']&&_0xf7cf71==='pvr';let _0xe99e32;if(_0x4e9022?_0xe99e32=_0x5934a4['cTFRGBA32']:(_0xe99e32=_0x3c1381?_0x186e74[_0xf7cf71]:_0x49b916[_0xf7cf71],_0x3f7b4f(_0xed3251,_0x30aa38,_0xe99e32)||(_0xe99e32=_0x3c1381?_0x5934a4['cTFRGBA32']:_0x5934a4['cTFRGB565'])),!_0x1149cd['startTrans'+'coding']())throw _0x1149cd['close'](),_0x1149cd['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x369150);let _0x5a9a04;const _0x441cd4=[];for(let _0xa5acd5=-0x10dc+0x1382+-0x2a6;_0xa5acd5<_0x1f8f40;++_0xa5acd5){const _0x4cc6f0=_0x1149cd['getImageTr'+'anscodedSi'+'zeInBytes'](_0xa5acd5,-0x1fed+0x1b96+0x65*0xb,0x13d5+-0x125*-0x13+-0x2994,_0xe99e32),_0x115cc4=new Uint8Array(_0x4cc6f0);if(!_0x1149cd['transcodeI'+'mage'](_0x115cc4,_0xa5acd5,-0x2*-0x775+0x2b*0xe6+-0x358c,0x206+0x1d9d+-0x5b*0x59,_0xe99e32,0x29*0xc0+0xefe+-0x2dbe,-(-0x5*0x448+-0xa7*-0xc+0xd95),-(-0xab9*0x2+-0x2*-0x1fc+-0x5*-0x37f)))throw _0x1149cd['close'](),_0x1149cd['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x369150);const _0x329357=_0xe99e32===_0x5934a4['cTFRGB565']||_0xe99e32===_0x5934a4['cTFRGBA444'+'4'];_0x441cd4['push'](_0x329357?new Uint16Array(_0x115cc4['buffer']):_0x115cc4);}if(_0x1149cd['close'](),_0x1149cd['delete'](),_0x4e9022){for(_0xe99e32=_0x5934a4['cTFRGB565'],_0x5a9a04=-0x1*0x2641+-0xd1*0xa+0x2e6b;_0x5a9a04<_0x441cd4['length'];++_0x5a9a04)_0x441cd4[_0x5a9a04]=_0x2782d6(_0x2d0807(_0x441cd4[_0x5a9a04]));}return{'format':_0x36b377(_0xe99e32,_0x9c0de7['deviceDeta'+'ils']),'width':_0xed3251,'height':_0x30aa38,'levels':_0x441cd4,'cubemap':!(0xb50+-0x47*0x49+0x58*0x1a),'transcodeTime':_0x43d138()-_0x1c41d6,'url':_0x369150,'unswizzledGGGR':_0x4e9022};},_0x470edd=(_0x3bb42d,_0x4da661,_0x563810)=>{const _0xe9286e=_0x43d138(),_0x348069=new _0x96217e['BasisFile'](new Uint8Array(_0x4da661)),_0x2a2675=_0x348069['getImageWi'+'dth'](-0x26cb+0x2432+0x299,0x1144+-0x5*-0x32b+0x71*-0x4b),_0x2a6a39=_0x348069['getImageHe'+'ight'](0x412*0x5+-0x1*0x266f+-0x3*-0x607,0x10d*0x1+0x22ad+-0x10d*0x22),_0x11e93d=_0x348069['getNumImag'+'es'](),_0x4a0bb6=_0x348069['getNumLeve'+'ls'](0xf70+0xaa+-0x9*0x1ca),_0x932709=!!_0x348069['getHasAlph'+'a'](),_0x4147ee=_0x348069['isUASTC']&&_0x348069['isUASTC']();if(!_0x2a2675||!_0x2a6a39||!_0x11e93d||!_0x4a0bb6)throw _0x348069['close'](),_0x348069['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x3bb42d+'\x20width='+_0x2a2675+'\x20height='+_0x2a6a39+'\x20images='+_0x11e93d+'\x20levels='+_0x4a0bb6);const _0x261862=_0x48e4f2(_0x563810['deviceDeta'+'ils'],_0x932709,_0x4147ee),_0x5dfb0a=!!_0x563810['isGGGR']&&_0x261862==='pvr';let _0x32d13d;if(_0x5dfb0a?_0x32d13d=_0x5934a4['cTFRGBA32']:(_0x32d13d=_0x932709?_0x186e74[_0x261862]:_0x49b916[_0x261862],_0x3f7b4f(_0x2a2675,_0x2a6a39,_0x32d13d)||(_0x32d13d=_0x932709?_0x5934a4['cTFRGBA32']:_0x5934a4['cTFRGB565'])),!_0x348069['startTrans'+'coding']())throw _0x348069['close'](),_0x348069['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x3bb42d);let _0x523a10;const _0x12e9dd=[];for(let _0x23a06a=-0x1*-0x2dd+0x1029+-0x1306;_0x23a06a<_0x4a0bb6;++_0x23a06a){const _0x5191f9=_0x348069['getImageTr'+'anscodedSi'+'zeInBytes'](0x624+0xc36*-0x1+0x612,_0x23a06a,_0x32d13d),_0xdee1d3=new Uint8Array(_0x5191f9);if(!_0x348069['transcodeI'+'mage'](_0xdee1d3,-0x1*-0x24ea+0x5d1*0x5+0x1f*-0x221,_0x23a06a,_0x32d13d,0xa65+0x1eb8+-0x291d*0x1,0x5e*0x2f+0x236+-0x1378)){if(_0x23a06a===_0x4a0bb6-(-0x1*0x1908+0xe8a*0x2+-0x40b*0x1)&&_0x5191f9===_0x12e9dd[_0x23a06a-(0x211+-0xf6c+-0x5a*-0x26)]['buffer']['byteLength'])_0xdee1d3['set'](new Uint8Array(_0x12e9dd[_0x23a06a-(-0x1*0x9cb+-0x1b11+0x24dd)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x3bb42d);else throw _0x348069['close'](),_0x348069['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x3bb42d);}const _0x10b729=_0x32d13d===_0x5934a4['cTFRGB565']||_0x32d13d===_0x5934a4['cTFRGBA444'+'4'];_0x12e9dd['push'](_0x10b729?new Uint16Array(_0xdee1d3['buffer']):_0xdee1d3);}if(_0x348069['close'](),_0x348069['delete'](),_0x5dfb0a){for(_0x32d13d=_0x5934a4['cTFRGB565'],_0x523a10=-0x3*0xca0+0x1*0xd93+0x1*0x184d;_0x523a10<_0x12e9dd['length'];++_0x523a10)_0x12e9dd[_0x523a10]=_0x2782d6(_0x2d0807(_0x12e9dd[_0x523a10]));}return{'format':_0x36b377(_0x32d13d,_0x563810['deviceDeta'+'ils']),'width':_0x2a2675,'height':_0x2a6a39,'levels':_0x12e9dd,'cubemap':!(-0xf0d*-0x2+0x21a5+-0x3fbe),'transcodeTime':_0x43d138()-_0xe9286e,'url':_0x3bb42d,'unswizzledGGGR':_0x5dfb0a};},_0x1426e8=(_0x194850,_0x277b94,_0xe5066)=>_0xe5066['isKTX2']?_0x33df13(_0x194850,_0x277b94,_0xe5066):_0x470edd(_0x194850,_0x277b94,_0xe5066),_0x1c7a4b=(_0x18c2ad,_0x5415fe,_0x5634a8)=>{try{const _0x36f84e=_0x1426e8(_0x18c2ad,_0x5415fe,_0x5634a8);_0x36f84e['levels']=_0x36f84e['levels']['map'](_0x16f0fd=>_0x16f0fd['buffer']),self['postMessag'+'e']({'url':_0x18c2ad,'data':_0x36f84e},_0x36f84e['levels']);}catch(_0x339e7b){self['postMessag'+'e']({'url':_0x18c2ad,'err':_0x339e7b},null);}},_0x181990=(_0x11327c,_0x11e9d9)=>{const _0x2fff30=(_0x5497a8,_0xb0885b)=>(WebAssembly['instantiat'+'e'](_0x11327c['module'],_0x5497a8)['then'](_0x5dba42=>{_0xb0885b(_0x5dba42);})['catch'](_0x199bd7=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x199bd7);}),{});self['BASIS'](_0x11327c['module']?{'instantiateWasm':_0x2fff30}:null)['then'](_0x4ddb66=>{_0x4ddb66['initialize'+'Basis'](),_0x96217e=_0x4ddb66,_0x2777ec=_0x11327c['rgbPriorit'+'y'],_0x214c02=_0x11327c['rgbaPriori'+'ty'],_0x11e9d9(null);});},_0x3e1a3d=[];self['onmessage']=_0x256a30=>{const _0x5e69ab=_0x256a30['data'];switch(_0x5e69ab['type']){case'init':_0x181990(_0x5e69ab['config'],()=>{for(let _0x1a64f5=-0x16f*-0x1+-0xec6+0xd57;_0x1a64f5<_0x3e1a3d['length'];++_0x1a64f5)_0x1c7a4b(_0x3e1a3d[_0x1a64f5]['url'],_0x3e1a3d[_0x1a64f5]['data'],_0x3e1a3d[_0x1a64f5]['options']);_0x3e1a3d['length']=-0x109*-0xa+-0xeea+0x49*0x10;});break;case'transcode':_0x96217e?_0x1c7a4b(_0x5e69ab['url'],_0x5e69ab['data'],_0x5e69ab['options']):_0x3e1a3d['push'](_0x5e69ab);break;}};}const gL=_0xb8d636=>({'astc':!!_0xb8d636['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0xb8d636['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0xb8d636['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0xb8d636['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0xb8d636['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0xb8d636['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x5d927a,_0x1ac6ca)=>{const _0xde6c31=_0xd896fa=>{const _0x2a8a6c=['/*\x20basis\x20*'+'/',_0xd896fa,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x2a8a6c],{'type':'applicatio'+'n/javascri'+'pt'});},_0x54bb7b=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0xf9ae17=new WebAssembly['Module'](Uint8Array['of'](0xba9*-0x3+-0x17*0x64+0x2bf7,0x1b4b+0x1*0x17ad+-0x3297,0x12c0+-0x15ac+-0x1*-0x35f,0x3*0x923+-0x2*0x10fb+-0x6fa*-0x1,-0x6a4+0xd03*-0x3+0x16d7*0x2,0xdd*0x25+0x1e6d+-0x3e5e,0x1a3c+-0x242*-0x4+-0x8d1*0x4,0x4*0x4e8+0x8ad+-0x1c4d));if(_0xf9ae17 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0xf9ae17)instanceof WebAssembly['Instance'];}}catch{}return!(-0x2*0xab3+0x1bf1+-0x68a);},_0x37e769=(_0x391e0c,_0xc4be24)=>{_0x1ac6ca(null,{'workerUrl':URL['createObje'+'ctURL'](_0xde6c31(_0x391e0c)),'module':_0xc4be24,'rgbPriority':_0x5d927a['rgbPriorit'+'y'],'rgbaPriority':_0x5d927a['rgbaPriori'+'ty']});},_0x103abf={'cache':!(-0x77d+0x2*-0xa+-0x95*-0xd),'responseType':'text','retry':_0x5d927a['maxRetries']>-0x163*0xc+0x1051*-0x1+-0xd*-0x289,'maxRetries':_0x5d927a['maxRetries']};if(_0x5d927a['glueUrl']&&_0x5d927a['wasmUrl']&&_0x54bb7b()){let _0x245c91=null,_0x4a0d20=null;We['get'](_0x5d927a['glueUrl'],_0x103abf,(_0x54ec1b,_0xc6c1a9)=>{_0x54ec1b?_0x1ac6ca(_0x54ec1b):_0x4a0d20?_0x37e769(_0xc6c1a9,_0x4a0d20):_0x245c91=_0xc6c1a9;});const _0x534d91=fetch(_0x5d927a['wasmUrl']),_0x59efd5=()=>{_0x534d91['then'](_0x47fea3=>_0x47fea3['arrayBuffe'+'r']())['then'](_0x5b4c9=>WebAssembly['compile'](_0x5b4c9))['then'](_0x437f2c=>{_0x245c91?_0x37e769(_0x245c91,_0x437f2c):_0x4a0d20=_0x437f2c;})['catch'](_0x530100=>{_0x1ac6ca(_0x530100,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x534d91)['then'](_0x350588=>{_0x245c91?_0x37e769(_0x245c91,_0x350588):_0x4a0d20=_0x350588;})['catch'](_0x323ec8=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x5d927a['wasmUrl']+'\x20('+_0x323ec8+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x59efd5();}):_0x59efd5();}else We['get'](_0x5d927a['fallbackUr'+'l'],_0x103abf,(_0x4f5207,_0x4fbbc2)=>{_0x4f5207?_0x1ac6ca(_0x4f5207,null):_0x37e769(_0x4fbbc2,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x43cdf5,_0x337eee,_0x1d9ddb,_0x16fc66){if(this['callbacks']['hasOwnProp'+'erty'](_0x43cdf5))this['callbacks'][_0x43cdf5]['push'](_0x1d9ddb);else{this['callbacks'][_0x43cdf5]=[_0x1d9ddb];const _0x3f3523={'url':_0x43cdf5,'data':_0x337eee,'options':_0x16fc66};this['clients']['length']>0x18b3+0x57*-0x52+0x1*0x32b?this['clients']['shift']()['run'](_0x3f3523):this['queue']['push'](_0x3f3523);}}['enqueueCli'+'ent'](_0x1e711a){this['queue']['length']>-0x144+0x914+0xa*-0xc8?_0x1e711a['run'](this['queue']['shift']()):this['clients']['push'](_0x1e711a);}['handleResp'+'onse'](_0x4c9cef,_0xb3bb4a,_0x4509e0){const _0x2283ac=this['callbacks'][_0x4c9cef];if(_0xb3bb4a){for(let _0x4dabce=-0x1*-0x1c37+0x1291+-0x2ec8;_0x4dabce<_0x2283ac['length'];++_0x4dabce)_0x2283ac[_0x4dabce](_0xb3bb4a);}else{_0x4509e0['format']===_c||_0x4509e0['format']===gc?_0x4509e0['levels']=_0x4509e0['levels']['map'](_0x14ee66=>new Uint16Array(_0x14ee66)):_0x4509e0['levels']=_0x4509e0['levels']['map'](_0x2518db=>new Uint8Array(_0x2518db));for(let _0x5b7a47=-0x3*-0x297+-0x17a9+0x2*0x7f2;_0x5b7a47<_0x2283ac['length'];++_0x5b7a47)_0x2283ac[_0x5b7a47](null,_0x4509e0);}delete this['callbacks'][_0x4c9cef];}}class SL{constructor(_0x1f0117,_0x614f72,_0x2ca1b9){this['queue']=_0x1f0117,this['worker']=new Worker(_0x614f72['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x24b403=>{const _0x262da5=_0x24b403['data'];this['queue']['handleResp'+'onse'](_0x262da5['url'],_0x262da5['err'],_0x262da5['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x614f72}),this['eager']=_0x2ca1b9;}['run'](_0x4bdee4){const _0x410302=[];_0x4bdee4['data']instanceof ArrayBuffer&&_0x410302['push'](_0x4bdee4['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x4bdee4['url'],'format':_0x4bdee4['format'],'data':_0x4bdee4['data'],'options':_0x4bdee4['options']},_0x410302),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x25*0x10+-0x1*0x1acf+0x1d20,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=-0x1f84*-0x1+-0x1c67+-0x42*0xc,Tf=new xL();let Hg=null,Af=!(-0x2*0x10fd+0x2588+-0x9*0x65);function AL(_0x249a9c){if(!Af){if(!_0x249a9c)_0x249a9c=Hg||{};else{if(_0x249a9c['lazyInit']){Hg=_0x249a9c;return;}}if(!_0x249a9c['glueUrl']||!_0x249a9c['wasmUrl']||!_0x249a9c['fallbackUr'+'l']){const _0x39af9b=ay['getConfig']('BASIS');_0x39af9b&&(_0x249a9c={'glueUrl':_0x39af9b['glueUrl'],'wasmUrl':_0x39af9b['wasmUrl'],'fallbackUrl':_0x39af9b['fallbackUr'+'l'],'numWorkers':_0x39af9b['numWorkers']});}if(_0x249a9c['glueUrl']||_0x249a9c['wasmUrl']||_0x249a9c['fallbackUr'+'l']){Af=!(-0x22b2*0x1+-0x6d+-0x1*-0x231f);const _0x2ef457=Math['max'](0x5da*0x2+-0x1458+0x8a5,Math['min'](0x5a*0x3e+-0x24c2+0xf06,_0x249a9c['numWorkers']||vL)),_0x5ed4a1=_0x249a9c['numWorkers']===0x4*0x4bd+0x9cf+-0x332*0x9||(_0x249a9c['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x249a9c['eagerWorke'+'rs']:!(-0x2568+0x324*0x6+0x1b0*0xb));_0x249a9c['rgbPriorit'+'y']=_0x249a9c['rgbPriorit'+'y']||bL,_0x249a9c['rgbaPriori'+'ty']=_0x249a9c['rgbaPriori'+'ty']||wL,_0x249a9c['maxRetries']=_0x249a9c['hasOwnProp'+'erty']('maxRetries')?_0x249a9c['maxRetries']:TL,yL(_0x249a9c,(_0x44ba78,_0x46933e)=>{if(_0x44ba78)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x44ba78);else{for(let _0x214322=0x3*0xb29+-0x262f+-0x2b*-0x1c;_0x214322<_0x2ef457;++_0x214322)Tf['enqueueCli'+'ent'](new SL(Tf,_0x46933e,_0x5ed4a1));}});}}}let su=null;function Fx(_0x4229ba,_0x657202,_0x2fc3fc,_0x24036b,_0x1d165f){return AL(),su||(su={'formats':gL(_0x4229ba)}),Tf['enqueueJob'](_0x657202,_0x2fc3fc,_0x24036b,{'deviceDetails':su,'isGGGR':!!(_0x1d165f!=null&&_0x1d165f['isGGGR']),'isKTX2':!!(_0x1d165f!=null&&_0x1d165f['isKTX2'])}),Af;}class Na{['load'](_0x1f399b,_0x4838e9,_0x25b8f5){throw new Error('not\x20implem'+'ented');}['open'](_0x20ad69,_0x47c666,_0x5a3e9b){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0xc27e89,_0x17ad8d){super(),this['device']=_0x17ad8d,this['maxRetries']=-0xc53*-0x1+-0x1da0+0x2b*0x67;}['load'](_0xa83da1,_0x45dcaf,_0x437bf3){const _0x354237=this['device'],_0x2deb4e=_0x2fab95=>{var _0x71ac92,_0x314480,_0x67cc74;Fx(_0x354237,_0xa83da1['load'],_0x2fab95,_0x45dcaf,{'isGGGR':(((_0x67cc74=(_0x314480=(_0x71ac92=_0x437bf3==null?void(-0xf25+0x206*0x11+-0x1341):_0x437bf3['file'])==null?void(-0x1fee+0x1*-0x1eb7+0x3ea5):_0x71ac92['variants'])==null?void(0x76b+-0x1fbb+0x1850):_0x314480['basis'])==null?void(-0x520+-0x47c+0x99c):_0x67cc74['opt'])&-0x6a1*0x3+-0xf7+-0xa71*-0x2)!==0x24e6+0xd8a+-0x3270})||_0x45dcaf('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x437bf3['name']+']('+_0x437bf3['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0xa83da1['load'],(_0x8ff229,_0xb475ac)=>{_0x8ff229?_0x45dcaf(_0x8ff229):_0x2deb4e(_0xb475ac);},_0x437bf3,this['maxRetries']);}['open'](_0x543c79,_0x2e3180,_0x442134,_0x225205={}){const _0xb886b8=_0x225205['srgb']?Cc(_0x2e3180['format']):_0x2e3180['format'],_0x179deb=new he(_0x442134,{'name':_0x543c79,'profilerHint':ur,'addressU':_0x2e3180['cubemap']?ae:tt,'addressV':_0x2e3180['cubemap']?ae:tt,'width':_0x2e3180['width'],'height':_0x2e3180['height'],'format':_0xb886b8,'cubemap':_0x2e3180['cubemap'],'levels':_0x2e3180['levels'],..._0x225205});return _0x179deb['upload'](),_0x179deb;}}const Ox=new Uint8Array([0x1bb+0x1b*-0x3b+0x63*0xd,0x1*-0x1c53+0x1399+-0x59*-0x1a,-0x15df+-0xce3+0x231*0x10,-0x5ed+0x7f+0x1*0x5b5,-0xcd+-0x1c*-0xcd+0x2*-0xac9,0x147e+-0x17f7+-0x1f*-0x1d,0xa4c+-0x2288+-0xe*-0x1bd,0xc8*0x15+-0x23*0xf3+0x5*0x35f,-0xf1*-0x1+0x15d*-0x12+0x1799*0x1,0x15a3+-0x14f0+-0xb3,0xc89+-0x853*0x1+-0x436,-0xe1d+0x994*-0x1+-0x17be*-0x1,-0x1*0xc41+-0x1*-0x16e+-0x58e*-0x2,-0x2*0x54e+0x1431*0x1+-0x94d,-0x1*0x8e8+0xfb1+0x685*-0x1,-0x1*0x5f3+-0x235e+0x29a3,0x767*0x3+0x211c+0x121*-0x31,-0x1*0x1c0b+-0x1ffe+0x3c09,-0x4*-0x61f+0x1557+0x2dd3*-0x1,-0x1b8e+0xcdf*-0x3+0x422c,-0x7f+-0x6*0x5d5+0x237d*0x1,0x4bf+-0x17*0x10f+-0xd*-0x182,-0x732+-0xb*-0x1c1+-0xc19,-0x979+0x4ed+0x48d*0x1,-0x33d*0x4+-0x1cbd+0x29b9,-0x236f+0xdde+-0x1597*-0x1,0x5f*0x3f+-0x2451+0x5c*0x24,-0x4d+0xb9+-0x6c,-0x1d2*-0x3+0x19*0xad+-0x165b,0x1*0xb6f+-0xb*-0xcb+-0x17*0xdf,0x4e1*-0x8+0x152f+-0x396*-0x5,0x1825+-0x2323+0xbc2,-0x12e0+0x1*-0x3e5+0x174e,0x1d*-0x9b+0x5f8*0x1+0xb97,0xb*-0x94+0x55*-0x19+0xea9,0x237c+0x6*-0x2dd+-0x124e,-0x24*0xce+0x29*0xef+0x4f*-0x1e,-0x4*-0x9ac+0x2c*0x3b+-0x308b,-0x47*0x7+0x23b9+0x861*-0x4,0x22c5+-0x153d+-0xd47,-0xa*0x30+-0x1213+0x1447,0x145d*-0x1+-0x1d48+0x1*0x321d,0x75b+0x2569+-0x16*0x1ff,0x24b6*0x1+-0x553*-0x5+0x8fe*-0x7,0xa74+0x22d*-0x7+-0x1b*-0x31,-0x9c8+-0x87+0xb*0xf9,-0xf5b+-0x13c6+0x2383*0x1,0x142e+0x2*-0x239+-0xf06,0x96b*0x2+-0x11a4+-0x12b,0xe07+0x38f*0x9+-0x83*0x5a,-0x1067+0xc0b+0x45c,0x5*0x16a+-0xc71+0x3*0x1e8,0x5f8*0x6+0x1276+-0x3646,0x18c3+-0x7*0x2b3+-0x597,0x2113+0x1e7b+-0x3f4b,0x25c7+-0xd6*0x11+-0x5*0x49c,0x72d+0x1f1*-0xb+0xec2,-0x2635+0x1d89*-0x1+0x44ab*0x1,0x215b+-0x722*-0x3+-0x36c1,-0xa4b+0x1df3*0x1+0x2*-0x9d4,-0x16*0x187+-0xa64+0x2bfe,-0x2*-0x20e+-0x1b*0x10f+-0x5*-0x4e5,0x78a*0x4+-0x3*0x392+-0x1329,-0x143*-0x13+-0x1267+0x3b*-0x17,0x20b*0x8+0x55*-0x65+0x5d5*0x3,-0x31b+-0x576+0x77*0x13,-0x1b26*-0x1+-0x181f+0x259*-0x1,-0x91*0xb+-0xb56+0x11d3,-0x14b3*0x1+-0x1531+-0x874*-0x5,-0x74d*-0x3+-0x2*0x11c2+0xe1f]),kx=(_0x30b56c,_0xbb5ecd)=>{const _0x3f2089=new he(_0x30b56c,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(-0x163a+0x17d4+-0x199),'levels':[_0xbb5ecd]}),_0x2a65db=new pt({'colorBuffer':_0x3f2089,'depth':!(0x12b5+0x21*0x7d+0xb9b*-0x3)});_0x30b56c['setFramebu'+'ffer'](_0x2a65db['impl']['_glFrameBu'+'ffer']),_0x30b56c['initRender'+'Target'](_0x2a65db);const _0x469811=new Uint8ClampedArray(-0x22*-0xb5+0x254c+-0x2f*0x14e);return _0x30b56c['gl']['readPixels'](-0x253e+0x3*-0x20d+0xe77*0x3,-0x66+-0x4*0x4+0x76*0x1,-0x1a1b*-0x1+0x1d7d*-0x1+0x363,-0x295+-0x17db+0x1a71,_0x30b56c['gl']['RGBA'],_0x30b56c['gl']['UNSIGNED_B'+'YTE'],_0x469811),_0x2a65db['destroy'](),_0x3f2089['destroy'](),_0x469811[0x358+0x17cb*-0x1+0x1473*0x1]===0xa86+-0x1b*0x17+-0x818&&_0x469811[-0x7d+0xec1+0xe43*-0x1]===-0x26c4+-0x291+-0x1*-0x2957&&_0x469811[-0xb86+-0xc97*0x1+0x181f]===-0xd85*-0x2+0x45*-0x49+-0x1*0x75a&&_0x469811[0x1*0x163d+-0x13de+-0x25c*0x1]===-0x1570+0x160e+0x13*-0x5;},CL=_0x4eee10=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x4ba0d1=>kx(_0x4eee10,_0x4ba0d1))['catch'](_0x21de9d=>!(-0xbd4+0x60*-0x21+-0x1*-0x1835)),ML=_0x3bcc7c=>new Promise((_0x336dbc,_0x31da43)=>{const _0x54f557=new Image();_0x54f557['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x54f557['onload']=()=>{_0x336dbc(kx(_0x3bcc7c,_0x54f557));};});class PL{static['run'](_0x3cdf3a){CL(_0x3cdf3a)['then'](_0x1ef5d8=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x1ef5d8);}),ML(_0x3cdf3a)['then'](_0x2409f0=>{console['log']('imgElement'+'IsCorrect='+_0x2409f0);});}}class RL extends Na{constructor(_0x2fd792,_0x37c582){super(),this['crossOrigi'+'n']=_0x2fd792['prefix']?'anonymous':null,this['maxRetries']=0x1515+-0x10b+0xa*-0x201,this['device']=_0x37c582,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x34e493,_0x522282,_0xc6d79f){var _0x450aef;const _0x22bbf4=!!((_0x450aef=_0xc6d79f==null?void(0x228b*0x1+-0x42*-0x44+-0x3413):_0xc6d79f['file'])!=null&&_0x450aef['contents']);if(_0x22bbf4){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0xc6d79f['file']['contents']]),_0x522282);return;}_0x34e493={'load':URL['createObje'+'ctURL'](new Blob([_0xc6d79f['file']['contents']])),'original':_0x34e493['original']};}const _0x41663d=(_0x5466f9,_0x57b541)=>{_0x22bbf4&&URL['revokeObje'+'ctURL'](_0x34e493['load']),_0x522282(_0x5466f9,_0x57b541);};let _0x296d31;_0xc6d79f&&_0xc6d79f['options']&&_0xc6d79f['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x296d31=_0xc6d79f['options']['crossOrigi'+'n']:Da['test'](_0x34e493['load'])&&(_0x296d31=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x34e493['load'],_0x34e493['original'],_0x296d31,_0x41663d):this['_loadImage'](_0x34e493['load'],_0x34e493['original'],_0x296d31,_0x41663d);}['open'](_0x4aa3fa,_0x130205,_0x1878cd,_0x1bf7d9={}){const _0x2e3bf1=new he(_0x1878cd,{'name':_0x4aa3fa,'profilerHint':ur,'width':_0x130205['width'],'height':_0x130205['height'],'format':_0x1bf7d9['srgb']?rs:Se,..._0x1bf7d9});return _0x2e3bf1['setSource'](_0x130205),_0x2e3bf1;}['_loadImage'](_0x35af3e,_0x7364,_0x3441a9,_0xd0a04f){const _0x252499=new Image();_0x3441a9&&(_0x252499['crossOrigi'+'n']=_0x3441a9);let _0x3d7527=-0x1721+0x42*-0x3f+0x1*0x275f;const _0x2187b0=this['maxRetries'];let _0x55dbce;_0x252499['onload']=function(){_0xd0a04f(null,_0x252499);},_0x252499['onerror']=function(){if(!_0x55dbce){if(_0x2187b0>-0x2*-0x106b+-0x9e*0x25+-0xa0*0x10&&++_0x3d7527<=_0x2187b0){const _0x5c1db0=Math['pow'](-0x677+0x2*-0xbf3+0x1e5f,_0x3d7527)*(0xd88+0x1eae+-0x1*0x2bd2);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x7364+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x5c1db0+'ms...');const _0x26c7e5=_0x35af3e['indexOf']('?')>=-0x1*-0x1421+-0x1*-0x2561+-0x3982?'&':'?';_0x55dbce=setTimeout(()=>{_0x252499['src']=_0x35af3e+_0x26c7e5+'retry='+Date['now'](),_0x55dbce=null;},_0x5c1db0);}else _0xd0a04f('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x7364+'\x27');}},_0x252499['src']=_0x35af3e;}['_loadImage'+'Bitmap'](_0x338104,_0x589b51,_0x105d61,_0x1fc943){const _0x2511ba={'cache':!(0x1fa6+-0xb81+-0x9*0x23d),'responseType':'blob','retry':this['maxRetries']>0xecc+0x1ff3+0xf95*-0x3,'maxRetries':this['maxRetries']};We['get'](_0x338104,_0x2511ba,(_0x6f4f15,_0x2e1f11)=>{_0x6f4f15?_0x1fc943(_0x6f4f15):this['_loadImage'+'BitmapFrom'+'Blob'](_0x2e1f11,_0x1fc943);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x309e97,_0x56088d){createImageBitmap(_0x309e97,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x5f8b57=>_0x56088d(null,_0x5f8b57))['catch'](_0x3b290e=>_0x56088d(_0x3b290e));}}const iu=[0x456d13db+-0x97baa81f+-0x1ed3b7*-0x589,0x15fb*-0x4bc3a+0x78c5780e+0xaa8107f0,-0xf8c8cf*0xb+0x6989f84+0xe320b6e],IL={0x83f0:yc,0x83f2:zf,0x83f3:Wo,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0xb289f,_0x43cfb6,_0x279f7f,_0x36ff81){return _0xb289f===_a?new Uint32Array(_0x43cfb6,_0x279f7f,_0x36ff81/(-0x1a18+-0x210f*-0x1+-0x251*0x3)):new Uint8Array(_0x43cfb6,_0x279f7f,_0x36ff81);}class LL extends Na{constructor(_0x58d292){super(),this['maxRetries']=-0x9*-0x3e1+-0x2*-0x20+-0x2329;}['load'](_0x3ec54c,_0x6715a0,_0x239d5b){le['fetchArray'+'Buffer'](_0x3ec54c['load'],_0x6715a0,_0x239d5b,this['maxRetries']);}['open'](_0x3011f2,_0xc231f2,_0x2611f0,_0x17f50c={}){const _0x4dc566=this['parse'](_0xc231f2);if(!_0x4dc566)return null;const _0x481ba8=_0x17f50c['srgb']?Cc(_0x4dc566['format']):_0x4dc566['format'],_0x52dddb=new he(_0x2611f0,{'name':_0x3011f2,'profilerHint':ur,'addressU':_0x4dc566['cubemap']?ae:tt,'addressV':_0x4dc566['cubemap']?ae:tt,'width':_0x4dc566['width'],'height':_0x4dc566['height'],'format':_0x481ba8,'cubemap':_0x4dc566['cubemap'],'levels':_0x4dc566['levels'],..._0x17f50c});return _0x52dddb['upload'](),_0x52dddb;}['parse'](_0x3e0394){const _0x29a30a=new Uint32Array(_0x3e0394);if(iu[-0x9*0x371+-0xdf0*-0x1+0x7*0x26f]!==_0x29a30a[-0xab6+0x12fe+0x4*-0x212]||iu[-0x1521+-0x8b*0x32+0x3048*0x1]!==_0x29a30a[0x11a8+-0x2*0xb03+-0x175*-0x3]||iu[0x1*-0x1877+-0x1a05+-0x193f*-0x2]!==_0x29a30a[-0x1*-0x1442+-0x3*-0x9a4+0x2*-0x1896])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x33ce48={'endianness':_0x29a30a[-0x255c+0xcd5+0x82e*0x3],'glType':_0x29a30a[-0xf39+0x816+0x727*0x1],'glTypeSize':_0x29a30a[0x3df*0x7+0x1ed4+-0x39e8],'glFormat':_0x29a30a[0x4*-0x3b5+0x1cf+0x459*0x3],'glInternalFormat':_0x29a30a[0x17*0x109+0xd7e+-0x2546],'glBaseInternalFormat':_0x29a30a[0x8e7+-0x154c+0x1*0xc6d],'pixelWidth':_0x29a30a[0x1c7+-0xa22*-0x1+-0xbe0],'pixelHeight':_0x29a30a[-0x31*0x58+-0x1d81+-0x1*-0x2e63],'pixelDepth':_0x29a30a[0x74f*-0x2+-0x1b52+-0x1*-0x29fb],'numberOfArrayElements':_0x29a30a[-0x15d8+-0x1*0x23e9+-0x39cd*-0x1],'numberOfFaces':_0x29a30a[-0x1c51+-0x87*-0x41+-0x5e9],'numberOfMipmapLevels':_0x29a30a[0x1721*0x1+-0x23c1+0xcae],'bytesOfKeyValueData':_0x29a30a[-0x945*0x1+-0x56d+0xec1]};if(_0x33ce48['pixelDepth']>0x4*0x1ba+0x2fe+-0x9e5)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x33ce48['numberOfAr'+'rayElement'+'s']!==-0x1b71+-0x143*0xa+-0x280f*-0x1)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x591132=IL[_0x33ce48['glInternal'+'Format']];if(_0x591132===void(-0x790+0x20f6*0x1+-0xcb3*0x2))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x33ce48['glInternal'+'Format']),null;let _0x5e9481=-0x21d5+-0x1a32+-0x3c17*-0x1+_0x33ce48['bytesOfKey'+'ValueData']/(0x6*-0x39e+-0xa32+0x1fea);const _0x83ee72=_0x33ce48['numberOfFa'+'ces']>0x5f0+-0x292+-0x7*0x7b,_0x5d4404=[];for(let _0x105f34=-0xff+0x22*0xa5+-0x23*0x99;_0x105f34<(_0x33ce48['numberOfMi'+'pmapLevels']||-0x1*-0x39a+-0x19a0+0x1*0x1607);_0x105f34++){const _0x1f5f91=_0x29a30a[_0x5e9481++];_0x83ee72&&_0x5d4404['push']([]);const _0x3c13bd=_0x83ee72?_0x5d4404[_0x105f34]:_0x5d4404;for(let _0x36d2ce=0x198c+0x73b+-0x20c7*0x1;_0x36d2ce<(_0x83ee72?0xbb*-0x25+-0x2c3*-0x9+0x119*0x2:-0x1162+-0xaa8*0x1+0x1c0b);++_0x36d2ce)_0x3c13bd['push'](DL(_0x591132,_0x3e0394,_0x5e9481*(-0x536+-0x2*-0x572+-0x5*0x122),_0x1f5f91)),_0x5e9481+=_0x1f5f91+(-0x276*-0xa+-0x19fb+0x162)>>-0x1204+0x5da+-0x13*-0xa4;}return{'format':_0x591132,'width':_0x33ce48['pixelWidth'],'height':_0x33ce48['pixelHeigh'+'t'],'levels':_0x5d4404,'cubemap':_0x83ee72};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x3b6385,_0x79e540){super(),this['maxRetries']=-0x5*0x2f+-0x206f*0x1+0x2*0x10ad,this['device']=_0x79e540;}['load'](_0x58acea,_0x101418,_0x277b48){le['fetchArray'+'Buffer'](_0x58acea['load'],(_0x351319,_0x1353e3)=>{_0x351319?_0x101418(_0x351319,_0x1353e3):this['parse'](_0x1353e3,_0x58acea,_0x101418,_0x277b48);},_0x277b48,this['maxRetries']);}['open'](_0x599155,_0x13133c,_0x47841e,_0x2f15c0={}){const _0x35a75f=_0x2f15c0['srgb']?Cc(_0x13133c['format']):_0x13133c['format'],_0x1244c5=new he(_0x47841e,{'name':_0x599155,'profilerHint':ur,'addressU':_0x13133c['cubemap']?ae:tt,'addressV':_0x13133c['cubemap']?ae:tt,'width':_0x13133c['width'],'height':_0x13133c['height'],'format':_0x35a75f,'cubemap':_0x13133c['cubemap'],'levels':_0x13133c['levels'],..._0x2f15c0});return _0x1244c5['upload'](),_0x1244c5;}['parse'](_0x3e3620,_0x1fb329,_0x2a13b6,_0x2a2083){var _0xfb8670,_0x483d27,_0x911919;const _0x3b76ff=new oy(_0x3e3620),_0x1257d4=[_0x3b76ff['readU32be'](),_0x3b76ff['readU32be'](),_0x3b76ff['readU32be']()];if(_0x1257d4[-0x1ff5+-0x376+0x236b*0x1]!==0x114*-0xd38953+0x10c93c023*-0x1+0x29bef21f7||_0x1257d4[-0x7c9*-0x2+0xd24*0x1+-0x1*0x1cb5]!==0x1110591*0x1+-0x33ad0853+-0x1*-0x52ce337d||_0x1257d4[-0x1ec6+0x619*0x6+-0x5ce*0x1]!==-0x1*0x16fa96ae+-0x62707fe+0x2a2bb8b6)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x4b6bed={'vkFormat':_0x3b76ff['readU32'](),'typeSize':_0x3b76ff['readU32'](),'pixelWidth':_0x3b76ff['readU32'](),'pixelHeight':_0x3b76ff['readU32'](),'pixelDepth':_0x3b76ff['readU32'](),'layerCount':_0x3b76ff['readU32'](),'faceCount':_0x3b76ff['readU32'](),'levelCount':_0x3b76ff['readU32'](),'supercompressionScheme':_0x3b76ff['readU32']()},_0x2b82a8={'dfdByteOffset':_0x3b76ff['readU32'](),'dfdByteLength':_0x3b76ff['readU32'](),'kvdByteOffset':_0x3b76ff['readU32'](),'kvdByteLength':_0x3b76ff['readU32'](),'sgdByteOffset':_0x3b76ff['readU64'](),'sgdByteLength':_0x3b76ff['readU64']()},_0x17b68d=[];for(let _0x4b6644=0x1514+0x1dda+-0x6*0x87d;_0x4b6644<Math['max'](-0x23d7+0xf56*-0x2+0x4284,_0x4b6bed['levelCount']);++_0x4b6644)_0x17b68d['push']({'byteOffset':_0x3b76ff['readU64'](),'byteLength':_0x3b76ff['readU64'](),'uncompressedByteLength':_0x3b76ff['readU64']()});if(_0x3b76ff['readU32']()!==_0x2b82a8['kvdByteOff'+'set']-_0x2b82a8['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x3b76ff['skip'](-0x1*0xf3e+0x2*0xb73+-0x7a*0x10);const _0x9c4eec=_0x3b76ff['readU8']();_0x3b76ff['skip'](_0x2b82a8['dfdByteLen'+'gth']-(-0xa94+-0x2178+0xb9*0x3d)),_0x3b76ff['skip'](_0x2b82a8['kvdByteLen'+'gth']),_0x4b6bed['supercompr'+'essionSche'+'me']===0x26*0x6b+0x22e7+-0x32c8||_0x9c4eec===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x1fb329['load'],_0x3e3620,_0x2a13b6,{'isGGGR':(((_0x911919=(_0x483d27=(_0xfb8670=_0x2a2083==null?void(-0x1f58+0x6d*-0x35+0x175*0x25):_0x2a2083['file'])==null?void(-0x17a0+-0x1*0x1f83+0x3*0x1261):_0xfb8670['variants'])==null?void(-0x19*-0x18d+0x2*-0x5ba+-0x1b51):_0x483d27['basis'])==null?void(0x1d32+-0x1*0x1229+-0xb09):_0x911919['opt'])&0x1a*0x49+0xf1*-0xf+0x6bd)!==-0x1c96+-0x4*-0x223+0x1b*0xbe,'isKTX2':!(0x98b+-0x7*0x59+-0x7*0x104)})||_0x2a13b6('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2a2083['name']+']('+_0x2a2083['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x2a13b6('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x2ed181){super(),this['maxRetries']=-0x2668+-0x1c8d+0x119*0x3d;}['load'](_0x494883,_0x13ac92,_0x38bcd8){le['fetchArray'+'Buffer'](_0x494883['load'],_0x13ac92,_0x38bcd8,this['maxRetries']);}['open'](_0x53396d,_0x375b57,_0x54917e,_0x534a02={}){const _0x4a0960=new Uint32Array(_0x375b57,-0x1*-0x429+0x1d09*0x1+0x7*-0x4be,0x1*0x214f+-0xeb+-0x2044),_0x5926d0=_0x4a0960[-0x1aa*-0x3+0xf6*0x27+0x153a*-0x2],_0x49de12=_0x4a0960[-0x1ad9+-0xa6*-0xd+0x126e],_0x534db2=Math['max'](_0x4a0960[-0x1*-0x267b+-0x1*-0x7de+0x21b*-0x16],0xfcb+-0x21f1+0x1*0x1227),_0x42b489=_0x4a0960[0xab6*-0x2+-0x323+-0x11*-0x173]===0x2669+0x1*-0x8eb+0x1*-0x1d7a,_0x5dfb9f=_0x4a0960[-0x1292*0x1+0x1664+-0x57*0xb],_0x48d716=_0x4a0960[0x10ce*-0x1+0x801+0x8e3],_0x1be18c=_0x4a0960[0x1845+-0x22ee+0xac5*0x1]===0x7*0x3a9d+-0x1b0*-0x103+-0x2515b,_0x3c2dff=0x5c4c06c+0x42771*-0x2dd+0x37748665*0x1,_0x5b4ad3=-0x4f22805+0x37*-0x20f3d1+0x415ae230,_0x516177=0x1a6*0x1+-0x192+0x5d,_0x17e1c9=-0x2379+-0x2258+0x4645,_0x52ccc5=-0x3*-0x3e9b492+0x5905eb75*0x1+-0x337fb4e6,_0x3901ba=-0x55120deb+-0x2671435e+0xacb68399,_0xde0abb=0x1*0x61af5b8f+-0x140c6*0x2407+-0x3568bd5,_0x289967=-0x2be11cce+-0x154dfb1b*-0x4+0x7dc64b2,_0x2a251d=-0x6f4d100+0x13*-0x3983f6f+0x7c75ba8d;let _0x2d0919=!(0x2d4*0x2+0x125e+0x1*-0x1805),_0x5b59be=!(-0x26d4+0x5*-0x523+-0x2042*-0x2),_0x58aa9b=!(0xce*-0x14+0x19b5+0xf6*-0xa),_0x159f85=!(-0x10*-0x14c+0x2*0x1325+0x86f*-0x7),_0x29bb32=null,_0x38e842=-0x25*0xf4+-0x2*0x812+0x3369,_0x35ff4e;if(_0x42b489?_0x5dfb9f===_0x3c2dff?(_0x29bb32=yc,_0x2d0919=!(0x1190+0x1*-0xd73+0x75*-0x9)):_0x5dfb9f===_0x5b4ad3?(_0x29bb32=Wo,_0x2d0919=!(0xf95+-0x79a+-0x2a9*0x3)):_0x5dfb9f===_0x516177?(_0x29bb32=Je,_0x38e842=-0x1ae*0xd+0x23d9+-0xe01):_0x5dfb9f===_0x17e1c9?(_0x29bb32=Ke,_0x38e842=-0x4*0x81d+0x95*0x35+0x19f):_0x5dfb9f===_0x52ccc5?(_0x29bb32=bc,_0x2d0919=!(-0x14d4*0x1+-0x958+-0x2*-0xf16),_0x5b59be=!(0x1cda+-0x1*0x3ac+-0x192e*0x1)):_0x5dfb9f===_0x3901ba||_0x5dfb9f===_0xde0abb?(_0x29bb32=_0x5dfb9f===_0x3901ba?qo:Xo,_0x2d0919=!(0xd*-0x3b+-0x76*0x1a+0xefb),_0x58aa9b=!(-0x186c+0x76*0x2+0x1780)):(_0x5dfb9f===_0x289967||_0x5dfb9f===_0x2a251d)&&(_0x29bb32=_0x5dfb9f===_0x289967?wc:Tc,_0x2d0919=!(0x1*-0x5db+-0x1*0x2041+0x261c),_0x159f85=!(-0x1949+-0xbd8+-0x1*-0x2521)):_0x48d716===-0xd*-0x1a6+0x1010*-0x1+-0x53e&&(_0x29bb32=Se),!_0x29bb32)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x53396d+'.'),_0x35ff4e=new he(_0x54917e,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x35ff4e;_0x35ff4e=new he(_0x54917e,{'name':_0x53396d,'profilerHint':ur,'addressU':_0x1be18c?ae:tt,'addressV':_0x1be18c?ae:tt,'width':_0x5926d0,'height':_0x49de12,'format':_0x29bb32,'cubemap':_0x1be18c,'mipmaps':_0x534db2>0x6*-0x310+-0x1b*-0x130+-0xdaf,..._0x534a02});let _0x57b071=-0x2251+-0x1*-0x531+0x1da0;const _0x22f7af=_0x1be18c?-0x13*-0x7+0x33c+-0x3bb:-0x1d94+-0xcbc+0x2a51;let _0x5eeb02;const _0x18d1cc=-0x16ef+0x1413+0x2*0x170,_0x14f7d0=-0xb9c*-0x1+0x433*0x4+-0x1c64,_0x2c119b=_0x5dfb9f===_0x3c2dff?0x4cd+-0x1b1*-0x5+0x69d*-0x2:0x216b+-0x1*0x499+0x1cc2*-0x1;let _0xb45cce,_0x5d4151,_0x3da246;for(let _0x3ac5ca=-0x3cd+0x93+-0x76*-0x7;_0x3ac5ca<_0x22f7af;_0x3ac5ca++){let _0x123494=_0x5926d0,_0x8ba9b5=_0x49de12;for(let _0x2031c5=-0x1b10+0xfd0+0xb40;_0x2031c5<_0x534db2;_0x2031c5++){_0x2d0919?_0x5b59be?_0x5eeb02=Math['floor']((_0x123494+(-0x916+0xedb*-0x1+0x17f4))/(0x16bf+-0x1*0x19ed+0x199*0x2))*Math['floor']((_0x8ba9b5+(0x43*-0x6+0x1*-0x643+0x7d8))/(0x3*-0xc8+0x1fb7+0x343*-0x9))*(-0x2f5*-0x2+0x1e28+0xe*-0x293):_0x58aa9b?_0x5eeb02=Math['max'](_0x123494,0x10d6+-0xbf0+-0x2*0x26b)*Math['max'](_0x8ba9b5,-0x1*0x586+-0x12f4*-0x1+-0x5*0x2ae)/(0x6b4+-0x26e2+0x2032):_0x159f85?_0x5eeb02=Math['max'](_0x123494,-0x169b*-0x1+0x3a9+0x17*-0x124)*Math['max'](_0x8ba9b5,0x2440+0x5f9+-0x1*0x2a31)/(0x86*0x35+-0x142b*0x1+-0x791):(_0xb45cce=Math['floor']((_0x123494+_0x18d1cc-(0x58*-0x2a+0x1132+-0x1*0x2c1))/_0x18d1cc),_0x5d4151=Math['floor']((_0x8ba9b5+_0x14f7d0-(0xb18+0x2392+0x955*-0x5))/_0x14f7d0),_0x3da246=_0xb45cce*_0x5d4151,_0x5eeb02=_0x3da246*_0x2c119b):_0x5eeb02=_0x123494*_0x8ba9b5*(0xe00+0x9*-0x2ad+0xa19);const _0x3847bf=_0x29bb32===Ke?new Float32Array(_0x375b57,_0x57b071,_0x5eeb02):_0x29bb32===Je?new Uint16Array(_0x375b57,_0x57b071,_0x5eeb02):new Uint8Array(_0x375b57,_0x57b071,_0x5eeb02);_0x1be18c?(_0x35ff4e['_levels'][_0x2031c5]||(_0x35ff4e['_levels'][_0x2031c5]=[]),_0x35ff4e['_levels'][_0x2031c5][_0x3ac5ca]=_0x3847bf):_0x35ff4e['_levels'][_0x2031c5]=_0x3847bf,_0x57b071+=_0x5eeb02*_0x38e842,_0x123494=Math['max'](_0x123494*(0x32f+0xd55*-0x1+0xa26+0.5),-0x3e*0x1d+0x14a5+0x2a*-0x53),_0x8ba9b5=Math['max'](_0x8ba9b5*(-0x5f*-0x64+0x26e9+-0x4c05+0.5),0x13fb+-0x1a95*-0x1+-0x2e8f);}}return _0x35ff4e['upload'](),_0x35ff4e;}}class BL extends Na{constructor(_0x3664a1){super(),this['maxRetries']=0x2*-0x11db+0xb89+0x182d;}['load'](_0x402b4b,_0x705a20,_0x1faaa7){le['fetchArray'+'Buffer'](_0x402b4b['load'],_0x705a20,_0x1faaa7,this['maxRetries']);}['open'](_0xb4c492,_0x4d53d2,_0x2a9bdf,_0x4f8278={}){const _0x54e5bd=this['parse'](_0x4d53d2);if(!_0x54e5bd)return null;const _0x193d3f=new he(_0x2a9bdf,{'name':_0xb4c492,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x54e5bd['width'],'height':_0x54e5bd['height'],'levels':_0x54e5bd['levels'],'format':Se,'type':ap,'mipmaps':!(-0x5e8+0x1*-0x20f1+0x26da),..._0x4f8278});return _0x193d3f['upload'](),_0x193d3f;}['parse'](_0x34ab5a){const _0x571dfa=new oy(_0x34ab5a);if(!_0x571dfa['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x998a13={};for(;;){const _0x3e2c85=_0x571dfa['readLine']();if(_0x3e2c85['length']===-0x2422*0x1+-0xf9a+0x33bc)break;{const _0x5dc6b5=_0x3e2c85['split']('=');_0x5dc6b5['length']===0x1eed+-0x1*0x16a6+-0x1d*0x49&&(_0x998a13[_0x5dc6b5[-0x1*-0xcb5+0x1336+-0x1feb]]=_0x5dc6b5[-0x3f9+-0x454+-0x84e*-0x1]);}}if(!_0x998a13['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x4f91b8=_0x571dfa['readLine']()['split']('\x20');if(_0x4f91b8['length']!==0x86d+0xd5b+-0x15c4)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x135d48=parseInt(_0x4f91b8[-0x2362+-0xce4+0x1*0x3047],-0x8b+0x7*0x82+-0x2f9*0x1),_0xd1a36e=parseInt(_0x4f91b8[-0x1d39*0x1+-0x16*0x2c+0x2104],0x117a+-0x52*-0x15+0x80e*-0x3),_0x1b0967=this['_readPixel'+'s'](_0x571dfa,_0xd1a36e,_0x135d48,_0x4f91b8[-0x2de*-0xc+-0x9ab+-0x18bd]==='-Y');return _0x1b0967?{'width':_0xd1a36e,'height':_0x135d48,'levels':[_0x1b0967]}:null;}['_readPixel'+'s'](_0x229f3f,_0x10227b,_0xd5d004,_0x134291){if(_0x10227b<-0x1391+0x1*-0x2326+-0xaf3*-0x5||_0x10227b>0x3d8f+0x283f+0x1a31)return this['_readPixel'+'sFlat'](_0x229f3f,_0x10227b,_0xd5d004);const _0x237cc3=[-0x1f9d*-0x1+0x1*0x1a9b+-0x3a38,0x249b+0x1*-0xc9+-0x23d2,-0xc*0x135+-0x4f*-0x76+-0x15ee,0xf*-0xe5+0x1122+-0x3b7];if(_0x229f3f['readArray'](_0x237cc3),_0x237cc3[-0x24cc+-0x96e+0x2e3a]!==0x7*0x2b3+0x1489+-0x276c||_0x237cc3[-0x23b7+-0x185c+-0x4*-0xf05]!==0xcd8+0x587+0x3*-0x61f||(_0x237cc3[0x244a+-0x8aa+0xe*-0x1f9]&-0x2ad*0x1+-0x7*0x1a+-0x3e3*-0x1)!==0x1906+-0x25b8+0xcb2)return _0x229f3f['skip'](-(0x2460+0x59*0x9+-0x277d)),this['_readPixel'+'sFlat'](_0x229f3f,_0x10227b,_0xd5d004);const _0x1ded77=new ArrayBuffer(_0x10227b*_0xd5d004*(-0x35e+-0x23bb+0x13*0x20f)),_0x5df8f6=new Uint8Array(_0x1ded77);let _0x3e3d79=_0x134291?0x2ea+-0x1*0x20ed+0x1e03:_0x10227b*(0x1753+-0xd*-0x2ab+-0x39fe)*(_0xd5d004-(0x105e+-0x1*0xc9a+-0x3c3)),_0x2d0a27,_0x7249c6,_0x15d5b0,_0x56808f,_0x17fa71,_0x14dcf5;for(_0x7249c6=-0x6*-0x14+0x131c+0x1c*-0xb3;_0x7249c6<_0xd5d004;++_0x7249c6){if(_0x7249c6&&_0x229f3f['readArray'](_0x237cc3),(_0x237cc3[-0x3*0xa4f+-0x7c0+-0x26af*-0x1]<<0x131d+-0x22c*0xb+0x4cf)+_0x237cc3[-0x1b8b*-0x1+0x1*-0x12c5+-0x8c3]!==_0x10227b)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x56808f=-0x22*0x86+-0x425*-0x7+-0xb37;_0x56808f<0x1786*0x1+-0x793*-0x5+-0x3d61;++_0x56808f)for(_0x2d0a27=-0xda*0x11+-0x15*-0x17f+-0x1*0x10f1;_0x2d0a27<_0x10227b;)if(_0x17fa71=_0x229f3f['readU8'](),_0x17fa71>-0x27e*0x4+0x8*-0x2b4+0x2018){if(_0x17fa71-=-0x1*0x4+0xae6+-0xa62,_0x2d0a27+_0x17fa71>_0x10227b)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x14dcf5=_0x229f3f['readU8'](),_0x15d5b0=-0x53*-0x30+0x2669+-0x35f9;_0x15d5b0<_0x17fa71;++_0x15d5b0)_0x5df8f6[_0x3e3d79+_0x56808f+(0xc08+0x43*0x93+-0x205*0x19)*_0x2d0a27++]=_0x14dcf5;}else{if(_0x17fa71===-0x120b+-0x6*0x493+0x55*0x89||_0x2d0a27+_0x17fa71>_0x10227b)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x15d5b0=0x17e9+0x6b*-0x16+-0xeb7*0x1;_0x15d5b0<_0x17fa71;++_0x15d5b0)_0x5df8f6[_0x3e3d79+_0x56808f+(-0xb9*-0x5+-0xbbd+-0x412*-0x2)*_0x2d0a27++]=_0x229f3f['readU8']();}_0x3e3d79+=_0x10227b*(0xc63*0x2+0x1af7+-0x33b9)*(_0x134291?0x1*-0x13af+-0x2f8+0x16a8:-(0x1f48+0x270f+-0x3*0x1772));}return _0x5df8f6;}['_readPixel'+'sFlat'](_0x282ab4,_0x2a8f67,_0x9dd8c8){return _0x282ab4['remainingB'+'ytes']===_0x2a8f67*_0x9dd8c8*(0x65d+-0x1fb+-0x45e)?new Uint8Array(_0x282ab4['arraybuffe'+'r'],_0x282ab4['offset']):null;}}const $g={'repeat':tt,'clamp':ae,'mirror':Of},Wg={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x31f75d){const _0x251d7b=Mi['calcMipLev'+'elsCount'](_0x31f75d['_width'],_0x31f75d['_height']),_0x16f2e1=function(_0xe45ee){return _0xe45ee instanceof HTMLCanvasElement||_0xe45ee instanceof HTMLImageElement||_0xe45ee instanceof HTMLVideoElement;};if(!(_0x31f75d['_format']===Se||_0x31f75d['_format']===Ke)||_0x31f75d['_volume']||_0x31f75d['_compresse'+'d']||_0x31f75d['_levels']['length']===0x2378+0x2239+0x45b*-0x10||_0x31f75d['_levels']['length']===_0x251d7b||_0x16f2e1(_0x31f75d['_cubemap']?_0x31f75d['_levels'][0xffc+-0x1*0x1c9+-0xe33][-0x223d*-0x1+-0x17eb+0x1*-0xa52]:_0x31f75d['_levels'][-0x24f9+-0x7d*0x1+0x2576]))return;const _0xdbe958=function(_0x1d5573,_0x4a5f6c,_0x25aace){const _0x385d60=Math['max'](0x5f2+-0x244b+-0x456*-0x7,_0x1d5573>>0x1a0c+-0xc*-0x2b8+0x17*-0x28d),_0x3006fa=Math['max'](0x4c3+0xa67+-0xf29,_0x4a5f6c>>-0x69+0x523+-0x193*0x3),_0x25ca16=new _0x25aace['constructo'+'r'](_0x385d60*_0x3006fa*(0x1d63+-0x2025+0xa*0x47)),_0x2254f6=Math['floor'](_0x1d5573/_0x385d60),_0x2959e2=Math['floor'](_0x4a5f6c/_0x3006fa),_0x11d958=_0x2254f6*_0x2959e2;for(let _0x41a39c=-0xdf+-0x250d+0x25ec;_0x41a39c<_0x3006fa;++_0x41a39c)for(let _0x3f2eb5=-0x1*-0x1912+-0x418*0x1+-0x14fa;_0x3f2eb5<_0x385d60;++_0x3f2eb5)for(let _0x3edf17=-0x6cc+-0x25dc+-0xb2a*-0x4;_0x3edf17<-0xe12+-0x1881+0x3*0xcdd;++_0x3edf17){let _0x24e600=0x1*0x13db+0x114e*-0x2+0xec1;for(let _0x4ebf32=-0xf*-0x13d+0x213f*0x1+-0x16*0x25b;_0x4ebf32<_0x2959e2;++_0x4ebf32)for(let _0xb1a75e=-0xc7*0x2f+-0xcba+0x1*0x3143;_0xb1a75e<_0x2254f6;++_0xb1a75e)_0x24e600+=_0x25aace[(_0x3f2eb5*_0x2254f6+_0xb1a75e+(_0x41a39c*_0x2959e2+_0x4ebf32)*_0x1d5573)*(-0x1e5f+-0x1fe8*0x1+0x1*0x3e4b)+_0x3edf17];_0x25ca16[(_0x3f2eb5+_0x41a39c*_0x385d60)*(-0x1*0x11a1+-0xf70+0x2115)+_0x3edf17]=_0x24e600/_0x11d958;}return _0x25ca16;};for(let _0x48f1af=_0x31f75d['_levels']['length'];_0x48f1af<_0x251d7b;++_0x48f1af){const _0xfe85f3=Math['max'](-0x1fe7*0x1+0x68*-0x29+-0x1c*-0x1bc,_0x31f75d['_width']>>_0x48f1af-(-0x1ec1+0x132+-0x4*-0x764)),_0x39ce5f=Math['max'](0xc3*0x2b+0x3*-0x629+-0xe45,_0x31f75d['_height']>>_0x48f1af-(0x1*-0x7+0x1037+-0x102f));if(_0x31f75d['_cubemap']){const _0x40d7d7=[];for(let _0x5ce54b=-0x873+0x19*0xf3+-0x518*0x3;_0x5ce54b<0x2660*0x1+0x1be8+-0x2121*0x2;++_0x5ce54b)_0x40d7d7['push'](_0xdbe958(_0xfe85f3,_0x39ce5f,_0x31f75d['_levels'][_0x48f1af-(0x14eb+-0x2564+0x83d*0x2)][_0x5ce54b]));_0x31f75d['_levels']['push'](_0x40d7d7);}else _0x31f75d['_levels']['push'](_0xdbe958(_0xfe85f3,_0x39ce5f,_0x31f75d['_levels'][_0x48f1af-(-0x2268+-0x25d6+0x483f)]));}_0x31f75d['_levelsUpd'+'ated']=_0x31f75d['_cubemap']?[[!(0x1199*0x1+-0x2b1+-0xee8),!(-0x1182+0x2*0xee3+-0xc44),!(-0x24f6+0x5*0x3+0x24e7),!(-0x23b5+0x443*-0x1+-0x1*-0x27f8),!(-0x971+0x1*0x975+-0x4),!(0x6be*-0x2+-0x12df+0x205b)]]:[!(-0x1719+0x21c5+0x2*-0x556)];};class UL extends Ne{constructor(_0x445f71){super(_0x445f71,'texture');const _0x2dd98c=_0x445f71['assets'],_0x320273=_0x445f71['graphicsDe'+'vice'];this['_device']=_0x320273,this['_assets']=_0x2dd98c,this['imgParser']=new RL(_0x2dd98c,_0x320273),this['parsers']={'dds':new kL(_0x2dd98c),'ktx':new LL(_0x2dd98c),'ktx2':new OL(_0x2dd98c,_0x320273),'basis':new EL(_0x2dd98c,_0x320273),'hdr':new BL(_0x2dd98c)};}set['crossOrigi'+'n'](_0x38a3e6){this['imgParser']['crossOrigi'+'n']=_0x38a3e6;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x3a5428){this['imgParser']['maxRetries']=_0x3a5428;for(const _0x3f9699 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x3f9699)&&(this['parsers'][_0x3f9699]['maxRetries']=_0x3a5428);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x21b60b){return _0x21b60b['indexOf']('?')>=0x7dd+0x53b+0x4*-0x346?_0x21b60b['split']('?')[0xe*0x2c5+-0x32f+0x2397*-0x1]:_0x21b60b;}['_getParser'](_0x459ddb){const _0x273325=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x459ddb))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x273325]||this['imgParser'];}['_getTextur'+'eOptions'](_0x2af6fb){var _0x245779;const _0x543227={'profilerHint':ur};if(_0x2af6fb){((_0x245779=_0x2af6fb['name'])==null?void(-0xbd+-0x1588+0x1645):_0x245779['length'])>-0x1*0x5c6+0x59*-0x4+0x72a&&(_0x543227['name']=_0x2af6fb['name']);const _0xa0a1b8=_0x2af6fb['data'];_0xa0a1b8['hasOwnProp'+'erty']('minfilter')&&(_0x543227['minFilter']=Wg[_0xa0a1b8['minfilter']]),_0xa0a1b8['hasOwnProp'+'erty']('magfilter')&&(_0x543227['magFilter']=Wg[_0xa0a1b8['magfilter']]),_0xa0a1b8['hasOwnProp'+'erty']('addressu')&&(_0x543227['addressU']=$g[_0xa0a1b8['addressu']]),_0xa0a1b8['hasOwnProp'+'erty']('addressv')&&(_0x543227['addressV']=$g[_0xa0a1b8['addressv']]),_0xa0a1b8['hasOwnProp'+'erty']('mipmaps')&&(_0x543227['mipmaps']=_0xa0a1b8['mipmaps']),_0xa0a1b8['hasOwnProp'+'erty']('anisotropy')&&(_0x543227['anisotropy']=_0xa0a1b8['anisotropy']),_0xa0a1b8['hasOwnProp'+'erty']('flipY')&&(_0x543227['flipY']=!!_0xa0a1b8['flipY']),_0xa0a1b8['hasOwnProp'+'erty']('srgb')&&(_0x543227['srgb']=!!_0xa0a1b8['srgb']),_0xa0a1b8['hasOwnProp'+'erty']('type')?_0x543227['type']=NL[_0xa0a1b8['type']]:_0xa0a1b8['hasOwnProp'+'erty']('rgbm')&&_0xa0a1b8['rgbm']?_0x543227['type']=on:_0x2af6fb['file']&&(_0x2af6fb['file']['opt']&-0xd3*0x5+0x1*0xaa7+-0x1*0x680)!==0x72*-0x55+0x1*0x146e+0x8b6*0x2&&(_0x543227['type']=op);}return _0x543227;}['load'](_0x310900,_0x5cb019,_0x24443b){typeof _0x310900=='string'&&(_0x310900={'load':_0x310900,'original':_0x310900}),this['_getParser'](_0x310900['original'])['load'](_0x310900,_0x5cb019,_0x24443b);}['open'](_0x480e86,_0x16cf95,_0x441c87){if(!_0x480e86)return;const _0x20f9c9=this['_getTextur'+'eOptions'](_0x441c87);let _0x4bddf5=this['_getParser'](_0x480e86)['open'](_0x480e86,_0x16cf95,this['_device'],_0x20f9c9);return _0x4bddf5===null?_0x4bddf5=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x4bddf5),_0x16cf95['unswizzled'+'GGGR']&&(_0x441c87['file']['variants']['basis']['opt']&=-(-0x95e+0x23c8+-0x1a61))),_0x4bddf5;}['patch'](_0x13f818,_0x21d197){const _0x4401ee=_0x13f818['resource'];if(!_0x4401ee)return;const _0x115aea=this['_getTextur'+'eOptions'](_0x13f818);for(const _0x5c69cd of Object['keys'](_0x115aea))_0x4401ee[_0x5c69cd]=_0x115aea[_0x5c69cd];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',$L='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class WL{constructor(_0x251378){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),(this['_manager']=_0x251378,this['init']());}async['init'](){const _0x4711b5=await navigator['xr']['isSessionS'+'upported']('immersive-'+'ar',{'features':['dom-overla'+'y']});this['_supported']=_0x4711b5;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x323dda){!this['_supported']||this['_manager']['active']||(this['_root']=_0x323dda);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x3220f0,_0x1909d9,_0x2fd539,_0x380057=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x3220f0,this['_xrHitTest'+'Source']=_0x1909d9,this['_transient']=_0x2fd539,this['_inputSour'+'ce']=_0x380057);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x1b317d=this['manager']['hitTest']['sources'],_0x2c6f9c=_0x1b317d['indexOf'](this);_0x2c6f9c!==-(-0x1c97+0x1d*-0x3d+0x1*0x2381)&&_0x1b317d['splice'](_0x2c6f9c,0x1bd0+0x1*-0x18b1+0x3*-0x10a),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x1e238a){if(this['_transient']){const _0x8e2e66=_0x1e238a['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x300801=0x1485+-0x2e3+0x3d*-0x4a;_0x300801<_0x8e2e66['length'];_0x300801++){const _0x1b5f6f=_0x8e2e66[_0x300801];if(!_0x1b5f6f['results']['length'])continue;let _0x549fdf;_0x1b5f6f['inputSourc'+'e']&&(_0x549fdf=this['manager']['input']['_getByInpu'+'tSource'](_0x1b5f6f['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x1b5f6f['results'],_0x549fdf);}}else{const _0x1de56a=_0x1e238a['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x1de56a['length'])return;this['updateHitR'+'esults'](_0x1de56a);}}['updateHitR'+'esults'](_0xe5e4d5,_0x49878f){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x49878f)return;const _0x1993e1=ih['pop']()??new T();_0x49878f?_0x1993e1['copy'](_0x49878f['getOrigin']()):_0x1993e1['copy'](this['manager']['camera']['getPositio'+'n']());let _0x595b53=(0x6*-0x655+-0x6*0x1e+0x1*0x26b3)/(0x2268+-0x1*0xd3+-0x2195*0x1),_0x1b0d0b=null;const _0x5653f6=ih['pop']()??new T(),_0x3f4942=Xg['pop']()??new se();for(let _0x572b66=0x23c2+-0x12d8+0x5*-0x362;_0x572b66<_0xe5e4d5['length'];_0x572b66++){const _0x5c35a5=_0xe5e4d5[_0x572b66]['getPose'](this['manager']['_reference'+'Space']),_0x230e66=_0x1993e1['distance'](_0x5c35a5['transform']['position']);_0x230e66>=_0x595b53||(_0x595b53=_0x230e66,_0x1b0d0b=_0xe5e4d5[_0x572b66],_0x5653f6['copy'](_0x5c35a5['transform']['position']),_0x3f4942['copy'](_0x5c35a5['transform']['orientatio'+'n']));}this['fire']('result',_0x5653f6,_0x3f4942,_0x49878f||this['_inputSour'+'ce'],_0x1b0d0b),this['manager']['hitTest']['fire']('result',this,_0x5653f6,_0x3f4942,_0x49878f||this['_inputSour'+'ce'],_0x1b0d0b),ih['push'](_0x1993e1),ih['push'](_0x5653f6),Xg['push'](_0x3f4942);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x3abcc1){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(0x1185*0x2+0x8ab+-0x2bb4)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x2238+0x31a+0x1f*0x101)),c(this,'sources',[]),(this['manager']=_0x3abcc1,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x14fca6=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x53*0x35+0x3*-0x99d+0x2e07);if(!_0x14fca6)return;this['_available']=_0x14fca6,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x177*-0x9+0x6f*-0x53+0x16ce),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x4355d8=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x4355d8})['then'](_0xefac36=>{_0xefac36['cancel'](),this['manager']['active']&&(this['_available']=!(-0x1180+-0x2*-0x869+0xae),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x2466+0x1c1+-0x2626);for(let _0x42f956=0x1abf*-0x1+-0x2*0xe96+0x199*0x23;_0x42f956<this['sources']['length'];_0x42f956++)this['sources'][_0x42f956]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x52ca55={}){var _0x315ffc,_0x1358b6;if(!this['_supported']){(_0x315ffc=_0x52ca55['callback'])==null||_0x315ffc['call'](_0x52ca55,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x1358b6=_0x52ca55['callback'])==null||_0x1358b6['call'](_0x52ca55,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x52ca55['profile']&&!_0x52ca55['spaceType']&&(_0x52ca55['spaceType']=qg);let _0xb78b40;const _0x434077=_0x52ca55['offsetRay'];if(_0x434077){const _0x49d08d=new DOMPoint(_0x434077['origin']['x'],_0x434077['origin']['y'],_0x434077['origin']['z'],0xae*-0x19+0x8e7+0x818),_0x4f8a24=new DOMPoint(_0x434077['direction']['x'],_0x434077['direction']['y'],_0x434077['direction']['z'],-0x12eb+-0x2243+0x352e);_0xb78b40=new XRRay(_0x49d08d,_0x4f8a24);}const _0x995223=_0x52ca55['callback'];_0x52ca55['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x52ca55['spaceType'])['then'](_0x2511c4=>{if(!this['manager']['session']){const _0x500c70=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x995223&&_0x995223(_0x500c70),this['fire']('error',_0x500c70);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x2511c4,'entityTypes':_0x52ca55['entityType'+'s']||void(0x254*-0xa+0x1652*-0x1+0x2d9a),'offsetRay':_0xb78b40})['then'](_0x3a774d=>{this['_onHitTest'+'Source'](_0x3a774d,!(0x1e6+0x2502+-0x26e7),_0x52ca55['inputSourc'+'e'],_0x995223);})['catch'](_0x137128=>{_0x995223&&_0x995223(_0x137128),this['fire']('error',_0x137128);});})['catch'](_0x5050df=>{_0x995223&&_0x995223(_0x5050df),this['fire']('error',_0x5050df);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x52ca55['profile'],'entityTypes':_0x52ca55['entityType'+'s']||void(0x26*0x1f+0xec6+-0x1360*0x1),'offsetRay':_0xb78b40})['then'](_0x1e37d9=>{this['_onHitTest'+'Source'](_0x1e37d9,!(-0x7c3*-0x2+0x244e+-0x1*0x33d4),_0x52ca55['inputSourc'+'e'],_0x995223);})['catch'](_0x4a58d4=>{_0x995223&&_0x995223(_0x4a58d4),this['fire']('error',_0x4a58d4);});}['_onHitTest'+'Source'](_0x4a75a6,_0x2946f9,_0x4b18ca,_0x328e6b){if(!this['manager']['session']){_0x4a75a6['cancel']();const _0x197e49=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x328e6b&&_0x328e6b(_0x197e49),this['fire']('error',_0x197e49);return;}const _0x54a173=new Ef(this['manager'],_0x4a75a6,_0x2946f9,_0x4b18ca??null);this['sources']['push'](_0x54a173),_0x328e6b&&_0x328e6b(null,_0x54a173),this['fire']('add',_0x54a173);}['update'](_0x1b8e53){if(this['_available']){for(let _0x276534=0x4*-0x2c7+-0x257a*-0x1+-0x7d*0x36;_0x276534<this['sources']['length'];_0x276534++)this['sources'][_0x276534]['update'](_0x1b8e53);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x505ed8,_0x5b5dd7){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x215*-0x2+-0x25fd+0x2a27),c(this,'_trackable',!(0x32c+-0x256a+-0xb*-0x31d)),c(this,'_tracking',!(-0x5*0x5c1+-0x1*0x1e25+0x3aeb)),c(this,'_emulated',!(-0x2*0xf98+-0x1*-0x19d5+0xc4*0x7)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x505ed8,this['_width']=_0x5b5dd7);}get['image'](){return this['_image'];}set['width'](_0x4fd45c){this['_width']=_0x4fd45c;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x1a094c=>(this['_bitmap']=_0x1a094c,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x476a15){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(0x20d5+0x1ea2+-0x3f76)),c(this,'_images',[]),(this['_manager']=_0x476a15,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x582376,_0x9186e8){if(!this['_supported']||this['_manager']['active'])return null;const _0x568dbb=new Cf(_0x582376,_0x9186e8);return this['_images']['push'](_0x568dbb),_0x568dbb;}['remove'](_0x19985b){if(this['_manager']['active'])return;const _0x4e15e5=this['_images']['indexOf'](_0x19985b);_0x4e15e5!==-(0x3b4*-0x1+-0x1929+0x1cde)&&(_0x19985b['destroy'](),this['_images']['splice'](_0x4e15e5,-0xb*-0x101+0xb51+-0x3b*0x61));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x281ef7=>{this['_available']=!(0x74*-0x14+0xd49+-0x439);for(let _0x24ec5b=0xb48+-0x10*-0x205+-0x8*0x573;_0x24ec5b<_0x281ef7['length'];_0x24ec5b++)this['_images'][_0x24ec5b]['_trackable']=_0x281ef7[_0x24ec5b]==='trackable';})['catch'](_0xc96a8d=>{this['_available']=!(0xbc4+-0x6e8+-0x4db),this['fire']('error',_0xc96a8d);});}['_onSession'+'End'](){this['_available']=!(-0x47d+0x1*-0x991+0xe0f);for(let _0x47c482=-0x18fd*-0x1+-0x1*-0x146f+-0x2d6c;_0x47c482<this['_images']['length'];_0x47c482++){const _0x4e38f2=this['_images'][_0x47c482];_0x4e38f2['_pose']=null,_0x4e38f2['_measuredW'+'idth']=0x243d*0x1+0x1*-0x14cd+-0x98*0x1a,_0x4e38f2['_tracking']&&(_0x4e38f2['_tracking']=!(0x8d0+0x16*0x2+-0x8fb),_0x4e38f2['fire']('untracked'));}}['prepareIma'+'ges'](_0xb2514a){this['_images']['length']?Promise['all'](this['_images']['map'](_0x14fe36=>_0x14fe36['prepare']()))['then'](_0x3f5427=>{_0xb2514a(null,_0x3f5427);})['catch'](_0x570bf0=>{_0xb2514a(_0x570bf0,null);}):_0xb2514a(null,null);}['update'](_0x59bb77){if(!this['_available'])return;const _0x2ff1db=_0x59bb77['getImageTr'+'ackingResu'+'lts'](),_0x237110={};for(let _0x146194=-0x5fd+0x1*-0x2411+-0x7*-0x602;_0x146194<_0x2ff1db['length'];_0x146194++){_0x237110[_0x2ff1db[_0x146194]['index']]=_0x2ff1db[_0x146194];const _0xbdfd7=this['_images'][_0x2ff1db[_0x146194]['index']];_0xbdfd7['_emulated']=_0x2ff1db[_0x146194]['trackingSt'+'ate']==='emulated',_0xbdfd7['_measuredW'+'idth']=_0x2ff1db[_0x146194]['measuredWi'+'dthInMeter'+'s'],_0xbdfd7['_pose']=_0x59bb77['getPose'](_0x2ff1db[_0x146194]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x59083d=0xb84+0x4ce+-0x1052;_0x59083d<this['_images']['length'];_0x59083d++)this['_images'][_0x59083d]['_tracking']&&!_0x237110[_0x59083d]?(this['_images'][_0x59083d]['_tracking']=!(0x1bf9+-0xdb7*0x1+0x1*-0xe41),this['_images'][_0x59083d]['fire']('untracked')):!this['_images'][_0x59083d]['_tracking']&&_0x237110[_0x59083d]&&(this['_images'][_0x59083d]['_tracking']=!(-0x121*0xb+0x1075*0x1+-0x40a),this['_images'][_0x59083d]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x15a9bd,_0x59f14a){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x15a9bd,this['_hand']=_0x59f14a,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=0xb*-0xfb+0x12f*-0x16+-0xb*-0x359;l<jg['length'];l++)Gx[jg[l]]=!(0x1041+-0x1614*-0x1+-0x2655);class Yg{constructor(_0x5ae65e,_0x1bc1b1,_0xa3cc8a,_0x3faff2=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(0x1dff*0x1+-0xc*0x42+-0x1ae7)),(this['_index']=_0x5ae65e,this['_id']=_0x1bc1b1,this['_hand']=_0xa3cc8a,this['_finger']=_0x3faff2,this['_wrist']=_0x1bc1b1==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x1bc1b1]);}['update'](_0x4be640){this['_dirtyLoca'+'l']=!(0x1366+0x1c43+-0x15*0x245),this['_radius']=_0x4be640['radius'],this['_localPosi'+'tion']['copy'](_0x4be640['transform']['position']),this['_localRota'+'tion']['copy'](_0x4be640['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1389+-0x1e7*-0x9+0x26b*0x1),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x82b4b2=this['_hand']['_manager']['camera']['parent'];_0x82b4b2?this['_worldTran'+'sform']['mul2'](_0x82b4b2['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x1*0xf09+-0x1*-0x2500+-0x76f*0x7+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x10b518){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x5f7+0x474+-0x2b*0x3e)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x52d297=_0x10b518['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x10b518['_manager'],this['_inputSour'+'ce']=_0x10b518,_0x52d297['get']('wrist')){const _0xd84a7a=new Yg(0x570+0x16bc+-0x1c2c,'wrist',this,null);this['_wrist']=_0xd84a7a,this['_joints']['push'](_0xd84a7a),this['_jointsByI'+'d']['wrist']=_0xd84a7a;}for(let _0x41438e=0x1811+0xdc4+-0x25d5;_0x41438e<Sh['length'];_0x41438e++){const _0x28818a=new qL(_0x41438e,this);for(let _0x256bb9=0x7*-0x4cd+0x362+-0x1*-0x1e39;_0x256bb9<Sh[_0x41438e]['length'];_0x256bb9++){const _0x1a3a25=Sh[_0x41438e][_0x256bb9];if(!_0x52d297['get'](_0x1a3a25))continue;const _0x494060=new Yg(_0x256bb9,_0x1a3a25,this,_0x28818a);this['_joints']['push'](_0x494060),this['_jointsByI'+'d'][_0x1a3a25]=_0x494060,_0x494060['tip']&&(this['_tips']['push'](_0x494060),_0x28818a['_tip']=_0x494060),_0x28818a['_joints']['push'](_0x494060);}}}['update'](_0x263599){const _0x2f79e9=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x2ad1bf=-0xb90+0x1466+-0x8d6;_0x2ad1bf<this['_joints']['length'];_0x2ad1bf++){const _0x4f8be2=this['_joints'][_0x2ad1bf],_0x45f5ed=_0x2f79e9['hand']['get'](_0x4f8be2['_id']);if(_0x45f5ed){let _0x5411cc;if(_0x263599['session']['visibility'+'State']!=='hidden'&&(_0x5411cc=_0x263599['getJointPo'+'se'](_0x45f5ed,this['_manager']['_reference'+'Space'])),_0x5411cc)_0x4f8be2['update'](_0x5411cc),_0x4f8be2['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x6d*0x5b+0x1*0x1650+-0x1*-0x106f),this['fire']('tracking'));else{if(_0x4f8be2['wrist']){this['_tracking']&&(this['_tracking']=!(-0x4*0x220+0x1*-0xdfa+0x167b),this['fire']('trackinglo'+'st'));break;}}}}const _0x282233=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x2579bd=this['_jointsByI'+'d']['thumb-tip'],_0x11246f=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x2c75de=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0xccce74=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x155aad=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x282233&&_0x2579bd&&_0x11246f&&_0x2c75de&&_0xccce74&&_0x155aad){this['_inputSour'+'ce']['_dirtyRay']=!(0x9*0x23f+0x1414+0x284b*-0x1),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x2579bd['_localPosi'+'tion'],_0x2c75de['_localPosi'+'tion'],-0x301*-0x5+-0xc50+-0x2b5+0.5);let _0x150a8e=_0x282233,_0x22eb6e=_0x155aad;if(this['_inputSour'+'ce']['handedness']===HL){const _0x5ab4bd=_0x150a8e;_0x150a8e=_0x22eb6e,_0x22eb6e=_0x5ab4bd;}Ir['sub2'](_0x150a8e['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x22eb6e['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x11246f['_localPosi'+'tion'],_0xccce74['_localPosi'+'tion'],0x25*-0xcd+-0x80*-0x3a+-0x7*-0x17+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,-0x1*0xdfd+-0x54c+0x1349+0.5)['normalize']();}const _0xb15d57=this['_fingerIsC'+'losed'](0x1bc9*0x1+0x1*-0x427+-0x17a0)&&this['_fingerIsC'+'losed'](-0x116*0x8+0x2*0x21a+0x47f)&&this['_fingerIsC'+'losed'](-0x3a*0x6a+0x82d+0x171*0xb);this['_fingersTi'+'pDistance'](0x2433+-0x25c+-0x21d7,0xff7+0x2*-0x620+-0x3b6)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0xcca+0x13d5+-0x70b),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0xadc+-0xc7d+-0x13*-0x16),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0xb15d57?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x4cd+-0x3*-0x306+-0x1*0x445),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1b*-0x141+0x67f+0x1*0x1b5d),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x1cfb10,_0x195fa7){const _0x27bc39=this['_fingers'][_0x1cfb10],_0xc8273c=this['_fingers'][_0x195fa7];return _0x27bc39['tip']['_localPosi'+'tion']['distance'](_0xc8273c['tip']['_localPosi'+'tion'])<=0xf87+-0x1*0x15fb+0xec*0x7+0.01;}['_fingerIsC'+'losed'](_0x12fcb1){const _0x87f618=this['_fingers'][_0x12fcb1];return Ir['sub2'](_0x87f618['joints'][0x3*-0x2b7+0x238c+-0x1b67]['_localPosi'+'tion'],_0x87f618['joints'][0x1362*-0x1+-0x3b3*-0x1+0x8*0x1f6]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x87f618['joints'][0x1*-0x7db+0xa27*-0x1+-0x1204*-0x1]['_localPosi'+'tion'],_0x87f618['joints'][0x79*0x20+-0x116a+0x24d]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(0x5e*-0x31+0xb01*-0x3+0x1*0x3301+0.8);}['getJointBy'+'Id'](_0x25ee68){return this['_jointsByI'+'d'][_0x25ee68]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=-0xd62+0x1ffa+-0x2*0x94c;class xs extends ce{constructor(_0x791403,_0x53aa58){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x2*-0x107c+-0x315*-0x7+-0x2*-0x5b3)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0x1*0x1633+-0xd9*0x13+0x264f)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x106b*0x1+0x49b+0x2*-0xa83)),c(this,'_dirtyRay',!(-0x15b9*-0x1+0x1*0x1a4d+-0x3005*0x1)),c(this,'_selecting',!(-0x7d5+0x1de*0x9+-0x8f8)),c(this,'_squeezing',!(-0xf11+0x1*-0x14dd+0x23ef)),c(this,'_elementIn'+'put',!(0xdbf+0x1f*0x9d+0x1061*-0x2)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x791403,this['_xrInputSo'+'urce']=_0x53aa58,_0x53aa58['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0xadd45f){this['_elementIn'+'put']!==_0xadd45f&&(this['_elementIn'+'put']=_0xadd45f,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x1952e6){if(this['_hand'])this['_hand']['update'](_0x1952e6);else{const _0x5a3c0b=this['_xrInputSo'+'urce']['gripSpace'];if(_0x5a3c0b){const _0x5303b8=_0x1952e6['getPose'](_0x5a3c0b,this['_manager']['_reference'+'Space']);if(_0x5303b8){this['_grip']||(this['_grip']=!(0xe1*0x5+-0x3b*-0x1+-0x4a0),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x1bda9c=ne(),_0x4ddbd5=(_0x1bda9c-this['_velocitie'+'sTimestamp'])/(-0xb*0x92+0x173f*0x1+0x5*-0x29d);this['_velocitie'+'sTimestamp']=_0x1bda9c,this['_dirtyLoca'+'l']=!(-0xdfd+0x479+0x984),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x5303b8['transform']['position']),this['_localRota'+'tion']['copy'](_0x5303b8['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x18eb*-0x1+-0xffe+-0x8ed),this['_manager']['input']['velocities'+'Supported']&&_0x5303b8['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x5303b8['linearVelo'+'city']):_0x4ddbd5>0x1*-0x2088+0x2516+-0x48e&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x4ddbd5),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,0x27*-0xdc+-0xfc3+0x3147+0.15));}else this['_velocitie'+'sAvailable']=!(0x5b1+0x3a*0x40+-0x1430);}const _0x36d418=_0x1952e6['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x36d418&&(this['_dirtyRay']=!(0x10a+-0xa3*0x13+0x95*0x13),this['_rayLocal']['origin']['copy'](_0x36d418['transform']['position']),this['_rayLocal']['direction']['set'](-0x2068+-0x1*-0x9c5+0x16a3,-0x1*-0x201a+-0x3*0x80+-0x1e9a,-(0xa55+0x3b3+-0xe07)),Qg['copy'](_0x36d418['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x5e3*0x5+0xc25+0x1*-0x2993),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x266e4f=this['_manager']['camera']['parent'];_0x266e4f?this['_worldTran'+'sform']['mul2'](_0x266e4f['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x226b28=this['_dirtyRay'];if(this['_dirtyRay']=!(0xc44*-0x2+-0x1286+0x2b0f),this['_manager']['camera']['parent']){const _0x4a16d7=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x4a16d7['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x4a16d7),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x226b28&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x30acc3={}){_0x30acc3['inputSourc'+'e']=this,_0x30acc3['profile']=this['_xrInputSo'+'urce']['profiles'][-0x2566+-0x58b*0x3+0x3607];const _0x5068e9=_0x30acc3['callback'];_0x30acc3['callback']=(_0x1c55d2,_0x1c5a36)=>{_0x1c5a36&&this['onHitTestS'+'ourceAdd'](_0x1c5a36),_0x5068e9&&_0x5068e9(_0x1c55d2,_0x1c5a36);},this['_manager']['hitTest']['start'](_0x30acc3);}['onHitTestS'+'ourceAdd'](_0x3bd13b){this['_hitTestSo'+'urces']['push'](_0x3bd13b),this['fire']('hittest:ad'+'d',_0x3bd13b),_0x3bd13b['on']('result',(_0x39f594,_0x185ac7,_0x3a09d0,_0x165149)=>{_0x3a09d0===this&&this['fire']('hittest:re'+'sult',_0x3bd13b,_0x39f594,_0x185ac7,_0x165149);}),_0x3bd13b['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x3bd13b),this['fire']('hittest:re'+'move',_0x3bd13b);});}['onHitTestS'+'ourceRemov'+'e'](_0x32f25f){const _0x251036=this['_hitTestSo'+'urces']['indexOf'](_0x32f25f);_0x251036!==-(0x220c+-0x3e*-0x66+-0x3abf)&&this['_hitTestSo'+'urces']['splice'](_0x251036,0x82*0x2+0xb9f*0x2+-0x1841);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x3b1803){var _0x51097f,_0x567c61;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(-0xd7*-0x15+0x1*0x907+-0x1aa9)),(this['manager']=_0x3b1803,this['velocities'+'Supported']=!!(ye['browser']&&((_0x567c61=(_0x51097f=window['XRPose'])==null?void(0x131c+-0x5ce+-0x2*0x6a7):_0x51097f['prototype'])!=null&&_0x567c61['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0xcf440e=>{this['_onInputSo'+'urcesChang'+'e'](_0xcf440e);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x572f22=this['manager']['session'];_0x572f22['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x572f22['addEventLi'+'stener']('select',_0x46001d=>{const _0x1acd20=this['_getByInpu'+'tSource'](_0x46001d['inputSourc'+'e']);_0x1acd20['update'](_0x46001d['frame']),_0x1acd20['fire']('select',_0x46001d),this['fire']('select',_0x1acd20,_0x46001d);}),_0x572f22['addEventLi'+'stener']('selectstar'+'t',_0xc4bf16=>{const _0x16f377=this['_getByInpu'+'tSource'](_0xc4bf16['inputSourc'+'e']);_0x16f377['_selecting']||(_0x16f377['update'](_0xc4bf16['frame']),_0x16f377['_selecting']=!(0xb0d+0x1f*-0x13+0x38*-0x28),_0x16f377['fire']('selectstar'+'t',_0xc4bf16),this['fire']('selectstar'+'t',_0x16f377,_0xc4bf16));}),_0x572f22['addEventLi'+'stener']('selectend',_0x2e77bb=>{const _0x478ff9=this['_getByInpu'+'tSource'](_0x2e77bb['inputSourc'+'e']);_0x478ff9['update'](_0x2e77bb['frame']),_0x478ff9['_selecting']=!(-0x32*0x69+0x9cd+0x6*0x1c9),_0x478ff9['fire']('selectend',_0x2e77bb),this['fire']('selectend',_0x478ff9,_0x2e77bb);}),_0x572f22['addEventLi'+'stener']('squeeze',_0x42ee90=>{const _0x497868=this['_getByInpu'+'tSource'](_0x42ee90['inputSourc'+'e']);_0x497868['update'](_0x42ee90['frame']),_0x497868['fire']('squeeze',_0x42ee90),this['fire']('squeeze',_0x497868,_0x42ee90);}),_0x572f22['addEventLi'+'stener']('squeezesta'+'rt',_0x505072=>{const _0x448c63=this['_getByInpu'+'tSource'](_0x505072['inputSourc'+'e']);_0x448c63['update'](_0x505072['frame']),_0x448c63['_squeezing']=!(0x1*-0x487+0x31*-0x64+-0x49*-0x53),_0x448c63['fire']('squeezesta'+'rt',_0x505072),this['fire']('squeezesta'+'rt',_0x448c63,_0x505072);}),_0x572f22['addEventLi'+'stener']('squeezeend',_0x5232c9=>{const _0x5183b2=this['_getByInpu'+'tSource'](_0x5232c9['inputSourc'+'e']);_0x5183b2['update'](_0x5232c9['frame']),_0x5183b2['_squeezing']=!(0x1e65+0x1b04+0x14e*-0x2c),_0x5183b2['fire']('squeezeend',_0x5232c9),this['fire']('squeezeend',_0x5183b2,_0x5232c9);});const _0xa64d0f=_0x572f22['inputSourc'+'es'];for(let _0x2f9087=0x3b3*-0x7+0x300+0x1*0x16e5;_0x2f9087<_0xa64d0f['length'];_0x2f9087++)this['_addInputS'+'ource'](_0xa64d0f[_0x2f9087]);}['_onSession'+'End'](){let _0xd889d7=this['_inputSour'+'ces']['length'];for(;_0xd889d7--;){const _0x9750e8=this['_inputSour'+'ces'][_0xd889d7];this['_inputSour'+'ces']['splice'](_0xd889d7,-0x20c5+-0x2569+0x462f),_0x9750e8['fire']('remove'),this['fire']('remove',_0x9750e8);}this['fire']('destroy'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x3ca01d){for(let _0x269754=-0x1ccf+0x1759+0x1*0x576;_0x269754<_0x3ca01d['removed']['length'];_0x269754++)this['_removeInp'+'utSource'](_0x3ca01d['removed'][_0x269754]);for(let _0x483b94=-0x1257+-0x34*0x27+0x1a43;_0x483b94<_0x3ca01d['added']['length'];_0x483b94++)this['_addInputS'+'ource'](_0x3ca01d['added'][_0x483b94]);}['_getByInpu'+'tSource'](_0x586d62){for(let _0x1c784b=0xd*0xbe+0x1*-0xf1+-0x8b5;_0x1c784b<this['_inputSour'+'ces']['length'];_0x1c784b++)if(this['_inputSour'+'ces'][_0x1c784b]['inputSourc'+'e']===_0x586d62)return this['_inputSour'+'ces'][_0x1c784b];return null;}['_removeApp'+'Entity'](_0x3d3395){const _0x5ae7f4=this['manager']['app']['root']['findByName']('Armature_'+_0x3d3395);_0x5ae7f4&&this['manager']['app']['root']['removeChil'+'d'](_0x5ae7f4);}['_addInputS'+'ource'](_0x658f66){if(this['_removeApp'+'Entity'](_0x658f66['handedness']),this['_getByInpu'+'tSource'](_0x658f66))return;const _0x10ded5=new xs(this['manager'],_0x658f66);this['_inputSour'+'ces']['push'](_0x10ded5),this['fire']('add',_0x10ded5);}['_removeInp'+'utSource'](_0x3d64d6){for(let _0x4ddc9c=-0x17*0x2e+-0x1eec+0x2*0x1187;_0x4ddc9c<this['_inputSour'+'ces']['length'];_0x4ddc9c++){if(this['_inputSour'+'ces'][_0x4ddc9c]['inputSourc'+'e']!==_0x3d64d6)continue;const _0x1beb36=this['_inputSour'+'ces'][_0x4ddc9c];this['_inputSour'+'ces']['splice'](_0x4ddc9c,0x18ea+0x1b*0x162+-0x3e3f);let _0x5b00f5=_0x1beb36['hitTestSou'+'rces']['length'];for(;_0x5b00f5--;)_0x1beb36['hitTestSou'+'rces'][_0x5b00f5]['remove']();this['_removeApp'+'Entity'](_0x1beb36['handedness']),_0x1beb36['fire']('remove'),this['fire']('remove',_0x1beb36);return;}}['update'](_0x1eb589){for(let _0x13bf26=0x12*0x5d+-0x5*0x95+-0x3a1;_0x13bf26<this['_inputSour'+'ces']['length'];_0x13bf26++)this['_inputSour'+'ces'][_0x13bf26]['update'](_0x1eb589);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x5042bb){super(),c(this,'_manager'),c(this,'_supported',!(-0x2*-0x53f+-0x5*-0x548+-0x24e5)),c(this,'_available',!(0x2*0x8e7+0x2*0x1032+-0x10bb*0x3)),c(this,'_lightProb'+'eRequested',!(0x1150+0x11c6+-0x7*0x503)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x80a*-0x3+0x2*0x1052+-0x886),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(0x30a*-0x4+-0x21a4+0xf4d*0x3)),(this['_manager']=_0x5042bb,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0x183*-0x19+-0x1a*-0x6b+0x71*0x3d));}['_onSession'+'End'](){this['_supported']=!(0xa45+-0x11ab+-0x5*-0x17b),this['_available']=!(0x6fd*-0x3+0x21a*0x2+0x10c4),this['_lightProb'+'eRequested']=!(-0x1*0x1bef+0x1171+0xa7f),this['_lightProb'+'e']=null;}['start'](){let _0xc9a09e;if(this['_manager']['session']||(_0xc9a09e=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0xc9a09e&&this['_manager']['type']!==Ao&&(_0xc9a09e=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0xc9a09e&&!this['_supported']&&(_0xc9a09e=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0xc9a09e&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0xc9a09e=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0xc9a09e){this['fire']('error',_0xc9a09e);return;}this['_lightProb'+'eRequested']=!(0x200f+-0x1663*-0x1+-0x3672),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x3d67bc=>{const _0x3ad7f2=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x50a*-0x1+-0x237c+0x1e73),this['_manager']['active']?_0x3ad7f2&&(this['_lightProb'+'e']=_0x3d67bc):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x266deb=>{this['_lightProb'+'eRequested']=!(-0x743+0x2ee*0xc+-0x55*0x54),this['fire']('error',_0x266deb);});}['end'](){this['_lightProb'+'eRequested']=!(0x2fe*-0x1+0x1069*0x1+0x65*-0x22),this['_lightProb'+'e']=null,this['_available']=!(0x238a+-0x19dd*0x1+-0x9ac);}['update'](_0x292c42){if(!this['_lightProb'+'e'])return;const _0x37c0bb=_0x292c42['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x37c0bb)return;this['_available']||(this['_available']=!(0x4*-0x439+-0xd7+-0x11*-0x10b),this['fire']('available'));const _0x2ce513=_0x37c0bb['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x24e5+0x1444+0x851*0x2,Math['max'](_0x2ce513['x'],Math['max'](_0x2ce513['y'],_0x2ce513['z']))),Xn['copy'](_0x2ce513)['mulScalar']((0x2ed*-0x1+0x546*-0x2+-0x47e*-0x3)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](0x19a3+-0x1f2c+0xd*0x6d,0x1c9*0x11+0x979+-0x27d2,0x2*0xa5a+0x2690+-0x3b44*0x1),Jg['copy'](_0x37c0bb['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0xbb2*0x3+-0x3*-0x1c9+0xb*-0x3a5),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x37c0bb['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=-0x1*0x15c1+-0x1a1b+0x1*0x2fdc;class Rf extends ce{constructor(_0x2c49a4,_0x3f3d58){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x2c49a4,this['_xrPlane']=_0x3f3d58,this['_lastChang'+'edTime']=_0x3f3d58['lastChange'+'dTime'],this['_orientati'+'on']=_0x3f3d58['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x1b1a7d){const _0x20bd38=this['_planeDete'+'ction']['_manager'],_0x596914=_0x1b1a7d['getPose'](this['_xrPlane']['planeSpace'],_0x20bd38['_reference'+'Space']);_0x596914&&(this['_position']['copy'](_0x596914['transform']['position']),this['_rotation']['copy'](_0x596914['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x2663b3){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(0x19ab*0x1+0x14da+0x2*-0x1742)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x2663b3,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1c54+0x5c*0x9+0x1919*0x1)&&(this['_available']=!(0x4a4+-0x4*-0x2ae+0x4*-0x3d7),this['fire']('available'));}['_onSession'+'End'](){for(let _0x29cc70=0x59e*-0x2+-0x26*0x6f+-0xddb*-0x2;_0x29cc70<this['_planes']['length'];_0x29cc70++)this['_planes'][_0x29cc70]['destroy'](),this['fire']('remove',this['_planes'][_0x29cc70]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x8d*-0x46+0x10*0x10a+-0x372e,this['_available']&&(this['_available']=!(0xae0+0x3*0xc46+-0x2fb1),this['fire']('unavailabl'+'e'));}['update'](_0x181e68){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x181e68['detectedPl'+'anes']['size'])this['_available']=!(0xe9f+0x7dd+-0x167c),this['fire']('available');else return;}const _0x220da1=_0x181e68['detectedPl'+'anes'];for(const [_0x203e74,_0x1ca5c4]of this['_planesInd'+'ex'])_0x220da1['has'](_0x203e74)||(this['_planesInd'+'ex']['delete'](_0x203e74),this['_planes']['splice'](this['_planes']['indexOf'](_0x1ca5c4),0x3*-0x551+0x22f8+-0x1304),_0x1ca5c4['destroy'](),this['fire']('remove',_0x1ca5c4));for(const _0x57f5f8 of _0x220da1){let _0x11723f=this['_planesInd'+'ex']['get'](_0x57f5f8);_0x11723f?_0x11723f['update'](_0x181e68):(_0x11723f=new Rf(this,_0x57f5f8),this['_planesInd'+'ex']['set'](_0x57f5f8,_0x11723f),this['_planes']['push'](_0x11723f),_0x11723f['update'](_0x181e68),this['fire']('add',_0x11723f));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x542b1a,_0x4e17ca,_0x5b4ec2=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x542b1a,this['_xrAnchor']=_0x4e17ca,this['_uuid']=_0x5b4ec2);}['destroy'](){if(!this['_xrAnchor'])return;const _0x583bb4=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x583bb4,this);}['update'](_0x3b2282){if(!this['_xrAnchor'])return;const _0x3079ee=_0x3b2282['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x3079ee){if(this['_position']['equals'](_0x3079ee['transform']['position'])&&this['_rotation']['equals'](_0x3079ee['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x3079ee['transform']['position']),this['_rotation']['copy'](_0x3079ee['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0xdd2ba9){if(!this['_anchors']['persistenc'+'e']){_0xdd2ba9==null||_0xdd2ba9(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0xdd2ba9==null||_0xdd2ba9(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0xdd2ba9&&this['_uuidReque'+'sts']['push'](_0xdd2ba9);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x591027=>{this['_uuid']=_0x591027,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0xdd2ba9==null||_0xdd2ba9(null,_0x591027);for(const _0x4b9cd0 of this['_uuidReque'+'sts'])_0x4b9cd0(null,_0x591027);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x591027);})['catch'](_0x1ab05b=>{_0xdd2ba9==null||_0xdd2ba9(_0x1ab05b,null);for(const _0xbd122a of this['_uuidReque'+'sts'])_0xbd122a(_0x1ab05b,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x3bcf69){if(!this['_uuid']){_0x3bcf69==null||_0x3bcf69(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x3f4c2d=>{this['_uuid']=null,_0x3bcf69==null||_0x3bcf69(_0x3f4c2d),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x41794f){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(-0x1def*0x1+-0x12ad*0x2+0x434a)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x188c+0x23e5+-0x79*0x18)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0x17*-0xb3+0x15da*-0x1+0x5c5):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x41794f,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x22ed50=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(0x1286*-0x1+-0x2*0xdf0+-0x6a1*-0x7);_0x22ed50&&(this['_available']=_0x22ed50,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x21ed+0x2*0xd4f+0x750);for(let _0xdb992c=0x580+-0x3*-0x2a5+-0xd6f;_0xdb992c<this['_creationQ'+'ueue']['length'];_0xdb992c++)this['_creationQ'+'ueue'][_0xdb992c]['callback']&&this['_creationQ'+'ueue'][_0xdb992c]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x1339*-0x1+0x2*-0x1357+0x1375,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x1f4346=this['_list']['length'];for(;_0x1f4346--;)this['_list'][_0x1f4346]['destroy']();this['_list']['length']=-0x593*0x2+0xed3+-0x3ad,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x1978fa,_0xf3f5=null){const _0x3cf252=new uo(this,_0x1978fa,_0xf3f5);return this['_index']['set'](_0x1978fa,_0x3cf252),_0xf3f5&&this['_indexByUu'+'id']['set'](_0xf3f5,_0x3cf252),this['_list']['push'](_0x3cf252),_0x3cf252['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x3cf252;}['_onAnchorD'+'estroy'](_0x152191,_0x21c457){this['_index']['delete'](_0x152191),_0x21c457['uuid']&&this['_indexByUu'+'id']['delete'](_0x21c457['uuid']);const _0x2d64e0=this['_list']['indexOf'](_0x21c457);_0x2d64e0!==-(0x45*0x11+0x153*0x11+0x56b*-0x5)&&this['_list']['splice'](_0x2d64e0,-0x152*0x4+-0x388+-0x25*-0x3d),this['fire']('destroy',_0x21c457);}['create'](_0x3ad81,_0x476b0c,_0x1cd330){if(!this['_available']){_0x1cd330==null||_0x1cd330(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x3ad81 instanceof XRHitTestResult){const _0x560e27=_0x3ad81;if(_0x1cd330=_0x476b0c,!this['_supported']){_0x1cd330==null||_0x1cd330(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x560e27['createAnch'+'or']){_0x1cd330==null||_0x1cd330(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x560e27['createAnch'+'or']()['then'](_0x6bec88=>{const _0x229367=this['_createAnc'+'hor'](_0x6bec88);_0x1cd330==null||_0x1cd330(null,_0x229367),this['fire']('add',_0x229367);})['catch'](_0x20c961=>{_0x1cd330==null||_0x1cd330(_0x20c961,null),this['fire']('error',_0x20c961);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x3ad81,_0x476b0c),'callback':_0x1cd330});}['restore'](_0x4c88e3,_0x378c3e){if(!this['_available']){_0x378c3e==null||_0x378c3e(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x378c3e==null||_0x378c3e(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x378c3e==null||_0x378c3e(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x4c88e3)['then'](_0x178857=>{const _0x2f4850=this['_createAnc'+'hor'](_0x178857,_0x4c88e3);_0x378c3e==null||_0x378c3e(null,_0x2f4850),this['fire']('add',_0x2f4850);})['catch'](_0x3865f3=>{_0x378c3e==null||_0x378c3e(_0x3865f3,null),this['fire']('error',_0x3865f3);});}['forget'](_0x3a84e4,_0x4e1512){if(!this['_available']){_0x4e1512==null||_0x4e1512(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x4e1512==null||_0x4e1512(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x4e1512==null||_0x4e1512(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x3a84e4)['then'](()=>{_0x4e1512==null||_0x4e1512(null);})['catch'](_0x28fca0=>{_0x4e1512==null||_0x4e1512(_0x28fca0),this['fire']('error',_0x28fca0);});}['update'](_0x188d8c){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x9c4+-0x45e+0xe22),_0x188d8c['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x23193b=>{_0x23193b['delete'](),this['manager']['active']&&(this['_available']=!(0x1229+-0x1348+0x11f),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x374547=-0x13f*-0x7+-0x24db+0x1c22;_0x374547<this['_creationQ'+'ueue']['length'];_0x374547++){const _0x2f5f9c=this['_creationQ'+'ueue'][_0x374547];_0x188d8c['createAnch'+'or'](_0x2f5f9c['transform'],this['manager']['_reference'+'Space'])['then'](_0x3e596a=>{_0x2f5f9c['callback']&&this['_callbacks'+'Anchors']['set'](_0x3e596a,_0x2f5f9c['callback']);})['catch'](_0x471a1b=>{_0x2f5f9c['callback']&&_0x2f5f9c['callback'](_0x471a1b,null),this['fire']('error',_0x471a1b);});}this['_creationQ'+'ueue']['length']=0x1*-0x4f9+-0x1f72+0x246b;}for(const [_0x2a60da,_0x1aafd8]of this['_index'])_0x188d8c['trackedAnc'+'hors']['has'](_0x2a60da)||(this['_index']['delete'](_0x2a60da),_0x1aafd8['destroy']());for(let _0x20e1ad=-0xb5a+-0x72d+-0x1287*-0x1;_0x20e1ad<this['_list']['length'];_0x20e1ad++)this['_list'][_0x20e1ad]['update'](_0x188d8c);for(const _0x907886 of _0x188d8c['trackedAnc'+'hors']){if(this['_index']['has'](_0x907886))continue;try{const _0x1dff60=_0x907886['anchorSpac'+'e'];}catch{continue;}const _0x5f1d54=this['_createAnc'+'hor'](_0x907886);_0x5f1d54['update'](_0x188d8c);const _0x1e9741=this['_callbacks'+'Anchors']['get'](_0x907886);_0x1e9741&&(this['_callbacks'+'Anchors']['delete'](_0x907886),_0x1e9741(null,_0x5f1d54)),this['fire']('add',_0x5f1d54);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x5f54a0,_0x4f68d9){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x174f+-0x1*0x183b+0x4*0x3b),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x5f54a0,this['_xrMesh']=_0x4f68d9,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0xec1983){const _0x28bd44=this['_meshDetec'+'tion']['_manager'],_0x302eb8=_0xec1983['getPose'](this['_xrMesh']['meshSpace'],_0x28bd44['_reference'+'Space']);_0x302eb8&&(this['_position']['copy'](_0x302eb8['transform']['position']),this['_rotation']['copy'](_0x302eb8['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x49bef7){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x2517+-0x2558+-0x4a70*-0x1)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x49bef7,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x5945f3){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x5945f3['detectedMe'+'shes']['size'])this['_available']=!(0x1e7e+-0x1*-0x1f73+-0x3df1),this['fire']('available');else return;}for(const _0x1f5559 of _0x5945f3['detectedMe'+'shes']){let _0x4861de=this['_index']['get'](_0x1f5559);_0x4861de?_0x4861de['update'](_0x5945f3):(_0x4861de=new If(this,_0x1f5559),this['_index']['set'](_0x1f5559,_0x4861de),this['_list']['push'](_0x4861de),_0x4861de['update'](_0x5945f3),this['fire']('add',_0x4861de));}for(const _0x52ddd1 of this['_index']['values']())_0x5945f3['detectedMe'+'shes']['has'](_0x52ddd1['xrMesh'])||this['_removeMes'+'h'](_0x52ddd1);}['_removeMes'+'h'](_0xc29f55){this['_index']['delete'](_0xc29f55['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0xc29f55),0x701+0xe8d+-0x158d*0x1),_0xc29f55['destroy'](),this['fire']('remove',_0xc29f55);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x223385=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0x1f8e+0x1*-0x5c2+0x3*-0x899);if(!_0x223385)return;this['_available']=_0x223385,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1d9e+0x78d*0x1+0x8e*-0x43);for(const _0x261480 of this['_index']['values']())this['_removeMes'+'h'](_0x261480);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x2f66fe,_0x125907,_0x2dc80f){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0x6*0x21d+-0xa9b+-0x6*-0x3e2)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(0x1630+0x590*0x7+-0x3d00)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x2f66fe,this['_xrView']=_0x125907);const _0x45ea31=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x45ea31,{'format':dr,'mipmaps':!(0x1*0x1441+0x795+-0x7d*0x39),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0xe22a8e=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x45ea31,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x2dc80f===0x2e8*-0x5+-0x38b*-0x8+-0xdcf?-0x1619+-0x1*0x5d+-0x7d*-0x2e:_0x2dc80f,'mipmaps':!(0x6d*-0x1f+-0x1d18+0x2a4c*0x1),'addressU':ae,'addressV':ae,'minFilter':_0xe22a8e,'magFilter':_0xe22a8e,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x32fa7c=0x2*-0xeb1+0x1c50+0x112;_0x32fa7c<this['_textureDe'+'pth']['_levels']['length'];_0x32fa7c++)this['_textureDe'+'pth']['_levels'][_0x32fa7c]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x45ea31['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x10c5d4;return((_0x10c5d4=this['_depthInfo'])==null?void(-0x214b+0x1*0x24d7+-0x38c):_0x10c5d4['rawValueTo'+'Meters'])||-0xf7b*0x1+0x264e+0x16d3*-0x1;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x1924c2,_0x4b09ae){this['_xrView']=_0x4b09ae,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x374572=_0x1924c2['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x374572['x'],this['_viewport']['y']=_0x374572['y'],this['_viewport']['z']=_0x374572['width'],this['_viewport']['w']=_0x374572['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x1924c2);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x52b675=this['_manager']['webglBindi'+'ng'];if(!_0x52b675)return;const _0x4503cb=_0x52b675['getCameraI'+'mage'](this['_xrCamera']);if(!_0x4503cb)return;const _0x38a013=this['_manager']['app']['graphicsDe'+'vice'],_0x5ca9d8=_0x38a013['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x5ca9d8['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x5ca9d8['createFram'+'ebuffer']();else{const _0x55d1f4=_0x5ca9d8['COLOR_ATTA'+'CHMENT0'],_0x297bdc=this['_xrCamera']['width'],_0x100075=this['_xrCamera']['height'];_0x38a013['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x5ca9d8['framebuffe'+'rTexture2D'](_0x5ca9d8['FRAMEBUFFE'+'R'],_0x55d1f4,_0x5ca9d8['TEXTURE_2D'],_0x4503cb,0x235c+-0x2167+0x1f5*-0x1),_0x38a013['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x5ca9d8['framebuffe'+'rTexture2D'](_0x5ca9d8['FRAMEBUFFE'+'R'],_0x55d1f4,_0x5ca9d8['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x2a2*0xd+-0x1*0x15a5+-0xc95),_0x5ca9d8['bindFrameb'+'uffer'](_0x5ca9d8['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x5ca9d8['bindFrameb'+'uffer'](_0x5ca9d8['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x5ca9d8['blitFrameb'+'uffer'](0x5ae*0x1+0x1ae6+-0x2094,_0x100075,_0x297bdc,-0x1*-0x227b+0x21ce+-0x4449,0x1a00+0x5*-0x10+0xcd8*-0x2,0x203*0x7+0x22af*-0x1+-0x149a*-0x1,_0x297bdc,_0x100075,_0x5ca9d8['COLOR_BUFF'+'ER_BIT'],_0x5ca9d8['NEAREST']);}}['_updateDep'+'th'](_0x4c17aa){var _0xaa7c07,_0x488a2a;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0xf2975b=this['_manager']['views']['depthGpuOp'+'timized'],_0x5f2177=_0xf2975b?this['_manager']['webglBindi'+'ng']:_0x4c17aa;if(!_0x5f2177){this['_depthInfo']=null;return;}const _0x165465=_0x5f2177['getDepthIn'+'formation'](this['_xrView']);if(!_0x165465){this['_depthInfo']=null;return;}let _0x569ce3=!this['_depthInfo']!=!_0x165465;this['_depthInfo']=_0x165465;const _0x10645b=((_0xaa7c07=this['_depthInfo'])==null?void(0x5ad+-0x1b28+0x157b):_0xaa7c07['width'])||-0x1da8+0x14cd+-0x2f5*-0x3,_0x166d7e=((_0x488a2a=this['_depthInfo'])==null?void(-0xb3c+0xee4+0x4e*-0xc):_0x488a2a['height'])||-0x377*-0x3+-0x2534+0x7*0x3d5;let _0x23a796=!(-0x99f+-0x3ad*0x5+0x1c01);if((this['_textureDe'+'pth']['width']!==_0x10645b||this['_textureDe'+'pth']['height']!==_0x166d7e)&&(this['_textureDe'+'pth']['_width']=_0x10645b,this['_textureDe'+'pth']['_height']=_0x166d7e,_0x569ce3=!(0x3b4+0xf6f*-0x1+-0x3*-0x3e9),_0x23a796=!(0x295+0x3*0x449+0x4*-0x3dc)),_0x569ce3&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0xf2975b){if(this['_depthInfo']['texture']){const _0x2e802f=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x2e802f['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x2e802f['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x2e802f['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x2e802f['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x2e802f['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x2e802f['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x2e802f['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x2e802f['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0xd8b+-0x1938*-0x1+-0x26c3);}}else this['_textureDe'+'pth']['_levels'][-0x6b*-0x13+-0x11f4*0x2+0x1*0x1bf7]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x21f1+0x2fa+0x1ef7]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x23a796&&this['fire']('depth:resi'+'ze',_0x10645b,_0x166d7e);}['updateTran'+'sforms'](_0x1cb5b8){_0x1cb5b8?(this['_viewInvOf'+'fMat']['mul2'](_0x1cb5b8,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0xa95+-0xcde+-0x3*-0x7d1]=this['_viewInvOf'+'fMat']['data'][-0x1*-0x5ad+-0x107*0xc+0x5*0x157],this['_positionD'+'ata'][-0x2349+-0x60*-0x40+0xb4a]=this['_viewInvOf'+'fMat']['data'][-0x2*-0x905+-0x1*-0x260b+0x1*-0x3808],this['_positionD'+'ata'][0x4b+0x159f+-0x15e8]=this['_viewInvOf'+'fMat']['data'][0x2131+-0x253a+0x417];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x5466de,_0x38f4ca){var _0x345513;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x345513=this['_depthInfo'])==null?void(0x1*0xf8e+0x163*0x4+-0x151a):_0x345513['getDepthIn'+'Meters'](_0x5466de,_0x38f4ca))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x1d455a=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x1d455a['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x1d455a['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x463427){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(0x1057+0x409+-0x145f)),c(this,'_available'+'Depth',!(0x786+-0xcc+-0x6b9)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x463427,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x21ae9e,_0x594236){for(let _0x587d9a=-0x786+-0xb*0xe9+0x43*0x43;_0x587d9a<_0x594236['length'];_0x587d9a++)this['_indexTmp']['set'](_0x594236[_0x587d9a]['eye'],_0x594236[_0x587d9a]);for(const [_0x1a8a0e,_0x3817e4]of this['_indexTmp']){let _0x40b057=this['_index']['get'](_0x1a8a0e);_0x40b057?_0x40b057['update'](_0x21ae9e,_0x3817e4):(_0x40b057=new Hx(this['_manager'],_0x3817e4,_0x594236['length']),this['_index']['set'](_0x1a8a0e,_0x40b057),this['_list']['push'](_0x40b057),_0x40b057['update'](_0x21ae9e,_0x3817e4),this['fire']('add',_0x40b057));}for(const [_0x4ce6b0,_0x3ba0f7]of this['_index']){if(this['_indexTmp']['has'](_0x4ce6b0))continue;_0x3ba0f7['destroy'](),this['_index']['delete'](_0x4ce6b0);const _0x1e1122=this['_list']['indexOf'](_0x3ba0f7);_0x1e1122!==-(-0x1*-0x14bf+-0x583+-0x22d*0x7)&&this['_list']['splice'](_0x1e1122,-0x139c+-0x1ec1+-0x399*-0xe),this['fire']('remove',_0x3ba0f7);}this['_indexTmp']['clear']();}['get'](_0x3b32f7){return this['_index']['get'](_0x3b32f7)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x198a+-0x4a*0x61+0x1d*0x1d9),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x105c+-0x2*-0x8f9+-0x195),this['_available'+'Depth'])){const _0x725a3c=this['_manager']['session'];this['_depthUsag'+'e']=_0x725a3c['depthUsage'],this['_depthForm'+'at']=_0x725a3c['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x15b1fe of this['_index']['values']())_0x15b1fe['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0xa*0x1af+-0x8db*0x3+0x9bc),this['_available'+'Depth']=!(0x1ae4*0x1+-0x3f7+0x1*-0x16ec),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x20b7*0x1+0x1*-0xbd2+-0x1*0x14e5;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x3f206f){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',0xf70+0x2085+-0x2ff5+0.1),c(this,'_depthFar',0xc10+-0xd89+0x561),c(this,'_supported'+'FrameRates',null),c(this,'_width',0x1d4a+-0x89*-0x8+-0x2192),c(this,'_height',0x24ea+-0x15a4+-0xf46),c(this,'_framebuff'+'erScaleFac'+'tor',0x1322+0x1f0b+0x13*-0x2a4),(this['app']=_0x3f206f,this['_available'][VL]=!(0x2*0x844+-0x61*0x28+-0x15f),this['_available'][GL]=!(-0x20ed*0x1+-0x3d2*-0x3+-0x394*-0x6),this['_available'][Ao]=!(0x1f83+-0x17*0x7f+0xf*-0x157),this['views']=new ic(this),this['domOverlay']=new WL(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x3f8208,_0x147858,_0x11e108,_0x2a56ba){var _0x1a6bdd;let _0x4a8f46=_0x2a56ba;if(typeof _0x2a56ba=='object'&&(_0x4a8f46=_0x2a56ba['callback']),!this['_available'][_0x147858]){_0x4a8f46&&_0x4a8f46(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x4a8f46&&_0x4a8f46(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x3f8208,this['_camera']['camera']['xr']=this,this['_type']=_0x147858,this['_spaceType']=_0x11e108,this['_framebuff'+'erScaleFac'+'tor']=(_0x2a56ba==null?void(0x223e+0x1eb3+-0x40f1):_0x2a56ba['framebuffe'+'rScaleFact'+'or'])??-0x63*-0x16+0x8*-0x4c3+0x1d97,this['_setClipPl'+'anes'](_0x3f8208['nearClip'],_0x3f8208['farClip']);const _0xfe9c87={'requiredFeatures':[_0x11e108],'optionalFeatures':[]},_0x2122b8=(_0x1a6bdd=this['app']['graphicsDe'+'vice'])==null?void(-0x26f4+0x1747+0xfad):_0x1a6bdd['isWebGL2'];if(_0x147858===Ao){if(_0xfe9c87['optionalFe'+'atures']['push']('light-esti'+'mation'),_0xfe9c87['optionalFe'+'atures']['push']('hit-test'),_0x2a56ba&&(_0x2a56ba['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0xfe9c87['optionalFe'+'atures']['push']('image-trac'+'king'),_0x2a56ba['planeDetec'+'tion']&&_0xfe9c87['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x2a56ba['meshDetect'+'ion']&&_0xfe9c87['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0xfe9c87['optionalFe'+'atures']['push']('dom-overla'+'y'),_0xfe9c87['domOverlay']={'root':this['domOverlay']['root']}),_0x2a56ba&&_0x2a56ba['anchors']&&this['anchors']['supported']&&_0xfe9c87['optionalFe'+'atures']['push']('anchors'),_0x2a56ba&&_0x2a56ba['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0xfe9c87['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x38b300=[],_0x17ec30=[];if(_0x38b300['push'](Bx,$L),_0x17ec30['push'](Ux,Nx,zx),_0x2a56ba['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x50e245=_0x38b300['indexOf'](_0x2a56ba['depthSensi'+'ng']['usagePrefe'+'rence']);_0x50e245!==-(-0x192*0x3+0xd*-0x25d+0x2370)&&_0x38b300['splice'](_0x50e245,0x1e6e+0x39a+-0x2207),_0x38b300['unshift'](_0x2a56ba['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x2a56ba['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x3eb185=_0x17ec30['indexOf'](_0x2a56ba['depthSensi'+'ng']['dataFormat'+'Preference']);_0x3eb185!==-(0x2572+-0x146e*0x1+0x367*-0x5)&&_0x17ec30['splice'](_0x3eb185,-0x9*0x83+0x1167+-0xccb),_0x17ec30['unshift'](_0x2a56ba['depthSensi'+'ng']['dataFormat'+'Preference']);}_0xfe9c87['depthSensi'+'ng']={'usagePreference':_0x38b300,'dataFormatPreference':_0x17ec30};}_0x2122b8&&_0x2a56ba&&_0x2a56ba['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0xfe9c87['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0xfe9c87['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x2a56ba&&_0x2a56ba['optionalFe'+'atures']&&(_0xfe9c87['optionalFe'+'atures']=_0xfe9c87['optionalFe'+'atures']['concat'](_0x2a56ba['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x2b9e6a,_0x17049a)=>{if(_0x2b9e6a){_0x4a8f46&&_0x4a8f46(_0x2b9e6a),this['fire']('error',_0x2b9e6a);return;}_0x17049a!==null&&(_0xfe9c87['trackedIma'+'ges']=_0x17049a),this['_onStartOp'+'tionsReady'](_0x147858,_0x11e108,_0xfe9c87,_0x4a8f46);}):this['_onStartOp'+'tionsReady'](_0x147858,_0x11e108,_0xfe9c87,_0x4a8f46);}['_onStartOp'+'tionsReady'](_0x16a3db,_0x3640e9,_0x1c862b,_0x55dffc){navigator['xr']['requestSes'+'sion'](_0x16a3db,_0x1c862b)['then'](_0x3d22db=>{this['_onSession'+'Start'](_0x3d22db,_0x3640e9,_0x55dffc);})['catch'](_0x1f36cf=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x55dffc&&_0x55dffc(_0x1f36cf),this['fire']('error',_0x1f36cf);});}['end'](_0x2e4997){if(!this['_session']){_0x2e4997&&_0x2e4997(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x2e4997&&this['once']('end',_0x2e4997),this['_session']['end']();}['isAvailabl'+'e'](_0x386ba3){return this['_available'][_0x386ba3];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x489471 in this['_available'])this['_sessionSu'+'pportCheck'](_0x489471);}['initiateRo'+'omCapture'](_0x22bd91){if(!this['_session']){_0x22bd91(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x22bd91(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x22bd91&&_0x22bd91(null);})['catch'](_0x465082=>{_0x22bd91&&_0x22bd91(_0x465082);});}['updateTarg'+'etFrameRat'+'e'](_0x582a69,_0x559473){var _0xdd99b2;if(!((_0xdd99b2=this['_session'])!=null&&_0xdd99b2['updateTarg'+'etFrameRat'+'e'])){_0x559473==null||_0x559473(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x582a69)['then'](()=>{_0x559473==null||_0x559473();})['catch'](_0x2a0dfd=>{_0x559473==null||_0x559473(_0x2a0dfd);});}['_sessionSu'+'pportCheck'](_0x593704){navigator['xr']['isSessionS'+'upported'](_0x593704)['then'](_0x3ef8b9=>{this['_available'][_0x593704]!==_0x3ef8b9&&(this['_available'][_0x593704]=_0x3ef8b9,this['fire']('available',_0x593704,_0x3ef8b9),this['fire']('available:'+_0x593704,_0x3ef8b9));})['catch'](_0x15e51a=>{this['fire']('error',_0x15e51a);});}['_onSession'+'Start'](_0x3ba55d,_0x55959b,_0x338c0a){let _0x1cdc8c=!(0x1c33*0x1+0x10c8+-0x2cfa);this['_session']=_0x3ba55d;const _0x2eb4c4=()=>{this['fire']('visibility'+':change',_0x3ba55d['visibility'+'State']);},_0x1a477a=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x25e93c=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x1a477a),this['_camera']['off']('set_farCli'+'p',_0x1a477a),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x3ba55d['removeEven'+'tListener']('end',_0x25e93c),_0x3ba55d['removeEven'+'tListener']('visibility'+'change',_0x2eb4c4),_0x1cdc8c||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x1f74+0x1c3*-0x1+0x1*-0x1db1,this['_height']=-0x862+0xe33*0x1+0x1*-0x5d1,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x3ba55d['addEventLi'+'stener']('end',_0x25e93c),_0x3ba55d['addEventLi'+'stener']('visibility'+'change',_0x2eb4c4),this['_camera']['on']('set_nearCl'+'ip',_0x1a477a),this['_camera']['on']('set_farCli'+'p',_0x1a477a),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x331b28;this['fire']('frameratec'+'hange',(_0x331b28=this['_session'])==null?void(0x1a8e+0xcf5+-0x2783):_0x331b28['frameRate']);}),_0x3ba55d['requestRef'+'erenceSpac'+'e'](_0x55959b)['then'](_0x415b87=>{this['_reference'+'Space']=_0x415b87,this['app']['tick'](),_0x338c0a&&_0x338c0a(null),this['fire']('start');})['catch'](_0x8c4119=>{_0x1cdc8c=!(0x1a27+-0x125+-0x246*0xb),_0x3ba55d['end'](),_0x338c0a&&_0x338c0a(_0x8c4119),this['fire']('error',_0x8c4119);});}['_setClipPl'+'anes'](_0x14510e,_0x3d9fd9){this['_depthNear']===_0x14510e&&this['_depthFar']===_0x3d9fd9||(this['_depthNear']=_0x14510e,this['_depthFar']=_0x3d9fd9,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x276baa=this['app']['graphicsDe'+'vice'],_0x432d96=_0x276baa['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x276baa['gl'],{'alpha':!(-0x20b9+0x1710+-0x9a9*-0x1),'depth':!(-0x5*0x47f+0x72b*-0x1+0x73*0x42),'stencil':!(-0x8e3+0x1261+-0x97e),'framebufferScaleFactor':_0x432d96,'antialias':!(0xf14*-0x1+0x10c8+-0x1b3)}),_0x276baa!=null&&_0x276baa['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x276baa['gl']);}catch(_0xd83204){this['fire']('error',_0xd83204);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x5f3479=>{this['fire']('error',_0x5f3479);});},-0x1*-0xe71+0x4e*0x10+0x5*-0x3dd);}['update'](_0x571aa8){if(!this['_session'])return!(-0xa*-0xaa+0xbda*0x1+-0x127d);const _0x110a75=_0x571aa8['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x5663a1=_0x571aa8['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x110a75||this['_height']!==_0x5663a1)&&(this['_width']=_0x110a75,this['_height']=_0x5663a1,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x110a75,_0x5663a1));const _0x23d17d=_0x571aa8['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x23d17d)return!(0xa06+0x1*0x182a+-0x222f);const _0x48f309=this['views']['list']['length'];this['views']['update'](_0x571aa8,_0x23d17d['views']);const _0x5e97fe=_0x23d17d['transform']['position'],_0x33c128=_0x23d17d['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x5e97fe['x'],_0x5e97fe['y'],_0x5e97fe['z']),this['_localRota'+'tion']['set'](_0x33c128['x'],_0x33c128['y'],_0x33c128['z'],_0x33c128['w']),_0x48f309===0x7*-0xff+0x2*-0x13d+0x1*0x973&&this['views']['list']['length']>-0x1e*0x6c+0x1*-0x24cd+0x3175){const _0x18b74e=new q(),_0x4400a9=this['views']['list'][-0x83*-0x1b+0x3*-0x23d+-0x71a];_0x18b74e['copy'](_0x4400a9['projMat']);const _0x18192c=_0x18b74e['data'],_0x5d2822=(0x1314+0x1e37+0x47b*-0xb)*Math['atan']((0x909*0x4+0x1*0x71e+-0x2b41)/_0x18192c[-0x21e0+0xa*-0x35+0x345*0xb])*(0x1*0x687+0x2*-0x6a0+0x76d)/Math['PI'],_0x361db8=_0x18192c[-0xaac*0x2+-0x4d*0x3d+-0x2e*-0xdd]/_0x18192c[-0x20b+-0x176e+0x1979],_0x16f0e1=_0x18192c[-0x2*-0x6b9+-0x23a4+0x1640]/(_0x18192c[0x1ef2+0x2559*0x1+-0x65*0xad]+(-0x1902+0x76*0x1f+0xab9)),_0x453136=_0x18192c[0x5*0x1b1+-0x4be*0x4+0xa91]/(_0x18192c[0x5*-0x66b+-0x1*0x28a+0x22ab]-(0x3a3+0x9f2+0x9e*-0x16));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x361db8,'farClip':_0x16f0e1,'fov':_0x5d2822,'horizontalFov':!(-0x1a67+0xe*0xc2+0xfcc),'nearClip':_0x453136});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x571aa8),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x571aa8),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x571aa8),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x571aa8),this['anchors']['supported']&&this['anchors']['update'](_0x571aa8),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x571aa8),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x571aa8)),this['fire']('update',_0x571aa8),!(-0x1*0x12b3+-0x1d5*-0x4+0xb5f);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x4eb88c;return((_0x4eb88c=this['_session'])==null?void(-0x14*-0xef+0x36f*0x5+-0x23d7):_0x4eb88c['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x4a78a9){var _0x3c15d2;(((_0x3c15d2=this['_baseLayer'])==null?void(0x2c8+-0xc27*-0x3+0x1*-0x273d):_0x3c15d2['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0xb*0xbf+-0xff7+-0x7c3*-0x1&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x4a78a9);}get['fixedFovea'+'tion'](){var _0x3e169f;return((_0x3e169f=this['_baseLayer'])==null?void(-0x20be+0x3c+0x2082):_0x3e169f['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x50f485,_0x4fb9a8={}){super(_0x50f485);const _0xc91a2a=new pP();_0xc91a2a['graphicsDe'+'vice']=_0x4fb9a8['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x50f485,_0x4fb9a8),this['addCompone'+'ntSystems'](_0xc91a2a),this['addResourc'+'eHandles'](_0xc91a2a),_0xc91a2a['elementInp'+'ut']=_0x4fb9a8['elementInp'+'ut'],_0xc91a2a['keyboard']=_0x4fb9a8['keyboard'],_0xc91a2a['mouse']=_0x4fb9a8['mouse'],_0xc91a2a['touch']=_0x4fb9a8['touch'],_0xc91a2a['gamepads']=_0x4fb9a8['gamepads'],_0xc91a2a['scriptPref'+'ix']=_0x4fb9a8['scriptPref'+'ix'],_0xc91a2a['assetPrefi'+'x']=_0x4fb9a8['assetPrefi'+'x'],_0xc91a2a['scriptsOrd'+'er']=_0x4fb9a8['scriptsOrd'+'er'],_0xc91a2a['soundManag'+'er']=new kb(),_0xc91a2a['lightmappe'+'r']=vP,_0xc91a2a['batchManag'+'er']=dC,_0xc91a2a['xr']=Qn,this['init'](_0xc91a2a);}['createDevi'+'ce'](_0x25e18a,_0x5b419e){return _0x5b419e['graphicsDe'+'viceOption'+'s']||(_0x5b419e['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x5b419e['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x1d71*-0x1+0x94d+0x72*-0x57)),_0x5b419e['graphicsDe'+'viceOption'+'s']['alpha']=_0x5b419e['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x2f7+-0x1e1f+0x2117),new pb(_0x25e18a,_0x5b419e['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x23868b){_0x23868b['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,WR,$I,uD];}['addResourc'+'eHandles'](_0x3aebd5){_0x3aebd5['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,W2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0xeef0ed,_0x2a8585){super(_0xeef0ed),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x2a8585;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x36e54d=>{_0x36e54d['defaultUni'+'formBuffer']['destroy'](),_0x36e54d['destroy']();}),this['viewBindGr'+'oups']['length']=-0x73b*0x5+-0x4a2*0x4+0x36af;}['update'](_0x39f85a,_0x8f8a2d,_0x44f20b,_0x4e6440){this['camera']=_0x39f85a,this['scene']=_0x8f8a2d,this['layers']=_0x44f20b,this['mapping']=_0x4e6440;}['execute'](){const _0x37dd99=this['device'],{renderer:_0x2a4c24,camera:_0x7cd7d3,scene:_0x1cc260,layers:_0x57fc0f,mapping:_0x2a9ae9,renderTarget:_0x2adf87}=this,_0x3c00d4=_0x1cc260['layers']['layerList'],_0x4a3c80=_0x1cc260['layers']['subLayerEn'+'abled'],_0x9f92c4=_0x1cc260['layers']['subLayerLi'+'st'];for(let _0x364e2f=0x240b+-0x1a1*-0x5+-0xca*0x38;_0x364e2f<_0x3c00d4['length'];_0x364e2f++){const _0x263f7b=_0x3c00d4[_0x364e2f];if(!(_0x57fc0f&&_0x57fc0f['indexOf'](_0x263f7b)<0x1326+-0xf64+-0x25*0x1a)&&_0x263f7b['enabled']&&_0x4a3c80[_0x364e2f]&&_0x263f7b['camerasSet']['has'](_0x7cd7d3['camera'])){const _0x28fdae=_0x9f92c4[_0x364e2f];G['pushGpuMar'+'ker'](_0x37dd99,_0x263f7b['name']+'('+(_0x28fdae?'TRANSP':'OPAQUE')+')'),_0x263f7b['_clearDept'+'hBuffer']&&_0x2a4c24['clear'](_0x7cd7d3['camera'],!(-0x223c*0x1+0x1*0xa2+0x7*0x4cd),!(0x4ce+0x22b0+-0x277e),!(0x90f*-0x2+0x1*-0x137d+0x259c*0x1));const _0x1d5cfa=_0x263f7b['meshInstan'+'ces'];for(let _0x972794=0x1db6*0x1+0x1*-0x1ba9+0x69*-0x5;_0x972794<_0x1d5cfa['length'];_0x972794++){const _0x3a1c5b=_0x1d5cfa[_0x972794];_0x3a1c5b['pick']&&_0x3a1c5b['transparen'+'t']===_0x28fdae&&(nh['push'](_0x3a1c5b),_0x2a9ae9['set'](_0x3a1c5b['id'],_0x3a1c5b));}nh['length']>0xec8*-0x2+0x13f0+0x9a*0x10&&(_0x1cc260['clusteredL'+'ightingEna'+'bled']&&_0x2a4c24['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x2a4c24['setCameraU'+'niforms'](_0x7cd7d3['camera'],_0x2adf87),_0x37dd99['supportsUn'+'iformBuffe'+'rs']&&_0x2a4c24['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x2a4c24['viewUnifor'+'mFormat'],_0x2a4c24['viewBindGr'+'oupFormat'],-0xe89+-0x1*-0xf4f+0x1*-0xc5),_0x2a4c24['renderForw'+'ard'](_0x7cd7d3['camera'],_0x2adf87,nh,YL,Oa,_0x2098eb=>{_0x37dd99['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=-0x8ea+0x1429+0xb3f*-0x1),G['popGpuMark'+'er'](_0x37dd99);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x2748ce,_0x2edb29,_0x520b5d){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(0x11b*-0x13+-0x2*0x5aa+0x2055)),(v['assert'](_0x2748ce),this['renderer']=_0x2748ce['renderer'],this['device']=_0x2748ce['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x2748ce['renderer']),this['width']=0x2578+0x452*0x1+-0x29ca,this['height']=0x2b*-0x71+-0x2da+-0x1b*-0xcf,this['resize'](_0x2edb29,_0x520b5d),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x1329+0x17ce+-0x34e*0xd);}));}['getSelecti'+'on'](_0x1c3489,_0x240b7e,_0x590d41=-0x1*0x1874+-0x15f5+0x2e6a,_0x16513c=-0x105d+-0x1fd*-0x10+0x1*-0xf72){const _0x31f046=this['device'];if(_0x31f046['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x1c3489!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x240b7e=this['renderTarg'+'et']['height']-(_0x240b7e+_0x16513c);const _0x46f04f=this['sanitizeRe'+'ct'](_0x1c3489,_0x240b7e,_0x590d41,_0x16513c);_0x31f046['setRenderT'+'arget'](this['renderTarg'+'et']),_0x31f046['updateBegi'+'n']();const _0x51e267=new Uint8Array((0x14*-0x10f+0x116b*0x2+0xda6*-0x1)*_0x46f04f['z']*_0x46f04f['w']);return _0x31f046['readPixels'](_0x46f04f['x'],_0x46f04f['y'],_0x46f04f['z'],_0x46f04f['w'],_0x51e267),_0x31f046['updateEnd'](),this['decodePixe'+'ls'](_0x51e267,this['mapping']);}['getSelecti'+'onAsync'](_0x14382c,_0x22f548,_0x53b4af=0x2*-0x1218+0x17cb+0xc66*0x1,_0x75b99b=0x5d3*-0x3+-0x187c*-0x1+0x381*-0x2){var _0x25e267;(_0x25e267=this['device'])!=null&&_0x25e267['isWebGL2']&&(_0x22f548=this['renderTarg'+'et']['height']-(_0x22f548+_0x75b99b));const _0x3df30c=this['sanitizeRe'+'ct'](_0x14382c,_0x22f548,_0x53b4af,_0x75b99b);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x3df30c['x'],_0x3df30c['y'],_0x3df30c['z'],_0x3df30c['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x432*0x6+-0x2699+0xd6d)})['then'](_0x32c0d2=>this['decodePixe'+'ls'](_0x32c0d2,this['mapping']));}['sanitizeRe'+'ct'](_0x4f14a7,_0x206fab,_0x26daf9,_0x34ae71){const _0x42e0f8=this['renderTarg'+'et']['width'],_0x7ef6e0=this['renderTarg'+'et']['height'];return _0x4f14a7=N['clamp'](Math['floor'](_0x4f14a7),0x866+-0xfbc+0x756,_0x42e0f8-(0x26f3+-0x21d5*0x1+-0x4d*0x11)),_0x206fab=N['clamp'](Math['floor'](_0x206fab),-0x26a3+-0x700+0x2da3,_0x7ef6e0-(0x1160+-0x39e+-0x1f7*0x7)),_0x26daf9=Math['floor'](Math['max'](_0x26daf9,0x47*0x7a+0x26f3+-0x44*0x112)),_0x26daf9=Math['min'](_0x26daf9,_0x42e0f8-_0x4f14a7),_0x34ae71=Math['floor'](Math['max'](_0x34ae71,-0x2*0x83e+-0xc50+-0x65*-0x49)),_0x34ae71=Math['min'](_0x34ae71,_0x7ef6e0-_0x206fab),ZL['set'](_0x4f14a7,_0x206fab,_0x26daf9,_0x34ae71);}['decodePixe'+'ls'](_0x116d82,_0x44da47){const _0x5a481c=[];if(this['deviceVali'+'d']){const _0x1eed14=_0x116d82['length'];for(let _0x3ec5aa=0x17*0x61+-0x19fd+0x1146;_0x3ec5aa<_0x1eed14;_0x3ec5aa+=0x147d+-0xdd2+-0xd*0x83){const _0x111cce=_0x116d82[_0x3ec5aa+(-0xc4*-0x7+0x96*0x13+-0x107e*0x1)],_0x3a818a=_0x116d82[_0x3ec5aa+(0x14*0xa3+-0x22ef+0x3a*0x62)],_0x2f9bce=_0x116d82[_0x3ec5aa+(0xb53+0x99d*0x2+-0x1e8b)],_0x4ae738=_0x116d82[_0x3ec5aa+(0x13b9+0x8bd+-0x1c73)]<<-0x1*-0x2135+-0x2*-0x45a+0x85d*-0x5|_0x111cce<<0x15d3+0x20ce+-0x3691|_0x3a818a<<-0x2665+0x127c+-0x13f1*-0x1|_0x2f9bce;_0x4ae738!==-(-0x871+0x1b*0x169+-0x1da1)&&nu['add'](_0x44da47['get'](_0x4ae738));}nu['forEach'](_0x5387b2=>{_0x5387b2&&_0x5a481c['push'](_0x5387b2);}),nu['clear']();}return _0x5a481c;}['allocateRe'+'nderTarget'](){const _0x335e8c=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(-0x1c3*0x13+0xf71*0x1+0x1209),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x335e8c,'depth':!(0x11ea+0xe0d+-0x1ff7)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x39d49a,_0x5ef9b8,_0x58ee3b){_0x58ee3b instanceof Lr&&(_0x58ee3b=[_0x58ee3b]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x14620f=this['renderPass'];_0x14620f['init'](this['renderTarg'+'et']),_0x14620f['colorOps']['clearValue']=Y['WHITE'],_0x14620f['colorOps']['clear']=!(0x1795*-0x1+-0xe28+0x25bd*0x1),_0x14620f['depthStenc'+'ilOps']['clearDepth']=!(-0x3fa*-0x7+-0x15ad+-0x629),_0x14620f['update'](_0x39d49a,_0x5ef9b8,_0x58ee3b,this['mapping']),_0x14620f['render']();}['resize'](_0x52c094,_0x3dcb7c){this['width']=Math['floor'](_0x52c094),this['height']=Math['floor'](_0x3dcb7c);}};class QL{constructor(_0x536dfa){this['_frameInde'+'x']=-0x12fe+0x6*-0x31b+0x12d0*0x2,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x413*0x5+-0x56*-0x1+0x140a,this['enabled']=!(-0x1cc3*-0x1+-0x1b*-0x9b+-0x2d1c),_0x536dfa['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x536dfa['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x536dfa['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x2a0312){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x39be7f=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x39be7f,this['_frameInde'+'x']=0x1b55*-0x1+-0x2427*-0x1+-0x8d2,this['mark'](_0x2a0312);}['mark'](_0x23e0cb){if(!this['enabled'])return;const _0x4fb811=ne();if(this['_frameInde'+'x']>-0x1*0x1cc5+0x203*0x7+-0xbc*-0x14){const _0x4b9507=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(-0x43+0x11*-0x2f+0x363)];_0x4b9507[-0x1cf7+0x26d2+-0x9da]=_0x4fb811-_0x4b9507[-0x23*-0xdb+-0x1bf9+-0x1*0x1f7];}else{if(this['_timings']['length']>-0x8dd+-0xe7*-0x28+-0x1b3b){const _0x425250=this['_timings'][this['_timings']['length']-(0x31*-0x86+-0x9c0+0x2367)];_0x425250[0x53*-0x14+-0x1*-0x89+0x5f4]=_0x4fb811-_0x425250[-0x1*0x22d7+-0x12*-0x1a+0x1*0x2104];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x23e0cb,_0x4fb811]);else{const _0x144e24=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x144e24[0x208+0x4ed*0x4+-0x15bc]=_0x23e0cb,_0x144e24[-0x2536+-0x2486+-0x49bd*-0x1]=_0x4fb811;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x70f+-0x252e*-0x1+-0x2c3d,-(0xcb7+0x1f0a+0x14*-0x230))['map'](_0x5f4e4e=>_0x5f4e4e[0x18bf+0xf*-0x74+-0x11f2]);}}class JL{constructor(_0x482b3b){this['device']=_0x482b3b,_0x482b3b['gpuProfile'+'r']['enabled']=!(-0x627*0x5+-0xb29+-0x4*-0xa7b),this['enabled']=!(-0x1db5+0x16*0x105+-0x51*-0x17),this['unitsName']='ms',this['decimalPla'+'ces']=0xfea+0x1*-0x46d+-0x1e*0x62,this['_timings']=[];}get['timings'](){return this['_timings'][0x2019+0x199*-0x11+-0x4f0]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x50b2ea,_0x2519b6,_0x4efc2b,_0x20cba8,_0x5f0fd7){this['app']=_0x50b2ea,this['values']=[],this['statNames']=_0x2519b6,this['statNames']['length']>0xeb8+0x1a9+-0x105e&&(this['statNames']['length']=-0x1*0x2149+0x1c47+0x505*0x1),this['unitsName']=_0x20cba8,this['decimalPla'+'ces']=_0x4efc2b,this['multiplier']=_0x5f0fd7||-0x8*0x29d+0xe81+-0x4*-0x19a;const _0x5aecd7=(_0x5135a0,_0x563a48)=>_0x5135a0['split']('.')['reduce']((_0x40a520,_0x40832a)=>_0x40a520?_0x40a520[_0x40832a]:null,_0x563a48||this);_0x50b2ea['on']('frameupdat'+'e',_0x53dd3a=>{for(let _0x26e8b9=0x449*-0x2+0xcbf+-0x42d;_0x26e8b9<this['statNames']['length'];_0x26e8b9++)this['values'][_0x26e8b9]=_0x5aecd7(this['statNames'][_0x26e8b9],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x39fd60,_0x3417de,_0x87f292,_0x5523b5,_0x5c81ef){this['app']=_0x3417de,this['name']=_0x39fd60,this['device']=_0x3417de['graphicsDe'+'vice'],this['timer']=_0x5c81ef,this['watermark']=_0x87f292,this['enabled']=!(0x782+-0xbc7*0x1+0x446),this['textRefres'+'hRate']=_0x5523b5,this['avgTotal']=-0x1f56+0x65c+0x18fa,this['avgTimer']=-0x756+-0x21a*0x9+0x1a40,this['avgCount']=-0x10a6+0x25*-0x109+0x36f3,this['timingText']='',this['texture']=null,this['yOffset']=-0xd5*0x12+0x26f2+-0x17f8,this['cursor']=0x15ad+0x527*-0x7+0xe64,this['sample']=new Uint8ClampedArray(0x18e9+0x443*-0x3+0x307*-0x4),this['sample']['set']([0x90d*-0x1+0x1416+-0xb09,-0x1399+-0x4b0+0x1849,0x1442+0x3a*0x53+-0x1*0x2710,0xf42+0x1117+-0x1f5a]),this['counter']=-0x5*0x78a+0x741+-0x1e71*-0x1,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x2fc171){const _0x45b4c8=this['timer']['timings'],_0x16b32e=_0x45b4c8['reduce']((_0x2b6da6,_0x3fa50c)=>_0x2b6da6+_0x3fa50c,-0x4f8+-0x89*-0x26+0x7af*-0x2);if(this['avgTotal']+=_0x16b32e,this['avgTimer']+=_0x2fc171,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x1*-0xdf1+0x5*-0x473+0x84e*0x1,this['avgTotal']=-0x1*-0x1169+0x25db*-0x1+0xa39*0x2,this['avgCount']=-0xe3c+0x212b+-0x12ef),this['enabled']){let _0x324f1=-0x26f8+-0x1c7f+0x65*0xab;const _0x4d8aa2=(0x753*-0x2+-0xd5d+0x2*0xe02+0.5)*this['watermark'];for(let _0x3d8277=0x79a+-0xb1a+-0x20*-0x1c;_0x3d8277<_0x45b4c8['length'];++_0x3d8277)_0x324f1+=Math['floor'](_0x45b4c8[_0x3d8277]/_0x4d8aa2*(0x24a*-0xb+-0x3a*-0xa8+-0xbe3)),this['sample'][_0x3d8277]=_0x324f1;this['sample'][0x2550+-0x37f+-0x21ce]=this['watermark']/_0x4d8aa2*(0x6e*-0x11+-0x1b3a+-0x11*-0x217),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0xb9b*0x2+0x51f*0x1+-0xb*0x293)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x2e*0xa0+-0x4d*-0x4e+-0x3436);}}['render'](_0x4b5d73,_0x465835,_0xc0eb6e,_0x2dbdf,_0x26b800){_0x4b5d73['quad'](_0x465835+_0x2dbdf,_0xc0eb6e,-_0x2dbdf,_0x26b800,this['enabled']?this['cursor']:0x21fa+0x1*0x198d+0x7*-0x881,this['enabled']?0x155*0x7+0x7b9*-0x1+-0x19a+0.5+this['yOffset']:this['texture']['height']-(0x815+-0x11df+0x9cb),-_0x2dbdf,0x5a6+0x482+-0x8*0x145,this['texture'],0x1209+0xcb8+-0x1ec1);}}class tF{constructor(_0x11c238,_0x48a002){const _0x3b1a55=_0x3564fe=>{_0x3564fe['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x3564fe['textAlign']='left',_0x3564fe['textBaseli'+'ne']='alphabetic';},_0x511b99=_0xc917b0=>_0xc917b0==='.'||_0xc917b0['length']===-0x26d8+0x9*-0xa9+0x2cca&&_0xc917b0['charCodeAt'](-0x1c14+-0x1*0x127f+-0x1*-0x2e93)>=0x1*0xe26+0x2702*-0x1+-0x1ca*-0xe&&_0xc917b0['charCodeAt'](0x1778+-0xe08+-0x970)<=-0x1afc+-0x427*0x1+0x1f5c,_0x484a96=document['createElem'+'ent']('canvas'),_0x108aab=_0x484a96['getContext']('2d',{'alpha':!(-0x62a+-0x504+0xb2e)});_0x3b1a55(_0x108aab);const _0xac0b8a=new Map(),_0x58ef83=0xc7e+0xd4a+0x527*-0x5,_0x4e0895=-0x2*0x134f+-0x165d+-0x17*-0x2bd;let _0x489ede=_0x58ef83,_0x22c988=_0x58ef83;_0x48a002['forEach'](_0x270248=>{const _0x58c4e8=_0x108aab['measureTex'+'t'](_0x270248),_0x37736c=Math['ceil'](-_0x58c4e8['actualBoun'+'dingBoxLef'+'t']),_0x20709f=Math['ceil'](_0x58c4e8['actualBoun'+'dingBoxRig'+'ht']),_0x151c66=Math['ceil'](_0x58c4e8['actualBoun'+'dingBoxAsc'+'ent']),_0x2e5f17=Math['ceil'](_0x58c4e8['actualBoun'+'dingBoxDes'+'cent']),_0x3d992c=_0x37736c+_0x20709f,_0x33e49c=_0x151c66+_0x2e5f17;_0x489ede+_0x3d992c+_0x58ef83>=_0x4e0895&&(_0x489ede=_0x58ef83,_0x22c988+=-0x25*0xa7+0x6a*-0x44+0x345b),_0xac0b8a['set'](_0x270248,{'l':_0x37736c,'r':_0x20709f,'a':_0x151c66,'d':_0x2e5f17,'w':_0x3d992c,'h':_0x33e49c,'x':_0x489ede,'y':_0x22c988}),_0x489ede+=_0x3d992c+_0x58ef83;}),_0x484a96['width']=-0x220e+-0xc*-0x4f+0x29*0xca,_0x484a96['height']=N['nextPowerO'+'fTwo'](_0x22c988+(-0x244*-0x11+-0x1883+-0xdf1)+_0x58ef83),_0x3b1a55(_0x108aab),_0x108aab['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x108aab['fillRect'](0x1868+-0x1287+-0xd7*0x7,-0x18b9+-0x16d7+-0xbe4*-0x4,_0x484a96['width'],_0x484a96['height']),_0xac0b8a['forEach']((_0xb43164,_0x566a63)=>{_0x108aab['fillStyle']=_0x511b99(_0x566a63)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x108aab['fillText'](_0x566a63,_0xb43164['x']-_0xb43164['l'],_0xb43164['y']+_0xb43164['a']);}),this['placements']=_0xac0b8a;const _0x210b71=_0x108aab['getImageDa'+'ta'](-0x22f6+0xb41+0x7e7*0x3,-0x42c+-0x77b*0x3+0x1*0x1a9d,_0x484a96['width'],_0x484a96['height'])['data'];for(let _0x3bc4dc=0x2*-0x6af+-0x20*-0x119+-0x15c2;_0x3bc4dc<_0x210b71['length'];_0x3bc4dc+=0x74*0x45+-0x755+0x27*-0x9d)_0x210b71[_0x3bc4dc+(-0x1*0x1093+0x2057+-0x25*0x6d)]=_0x210b71[_0x3bc4dc+(-0x491+-0xc1*-0x2e+-0x1e1d)],_0x210b71[_0x3bc4dc+(0x24d*-0x3+0x1076+-0x98f)]=0x17fa+-0x1c1*-0x3+-0x96a*0x3,_0x210b71[_0x3bc4dc+(0xcc*-0x1f+0x2251+0x5*-0x1ec)]=-0x1*0x2ab+0x1ca9+-0x4f*0x51,_0x210b71[_0x3bc4dc+(-0xd*-0xfe+0x9*-0x59+-0x9c3)]=0x1*0x2f+-0x2087+0x2157;this['texture']=new he(_0x11c238,{'name':'mini-stats'+'-word-atla'+'s','width':_0x484a96['width'],'height':_0x484a96['height'],'mipmaps':!(-0x726+-0x125d*-0x2+-0x1*0x1d93),'minFilter':de,'magFilter':de,'levels':[_0x210b71]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x22543b,_0x915638,_0x129ab1,_0x4fa4d5){const _0x3262cf=this['placements']['get'](_0x915638);return _0x3262cf?(_0x22543b['quad'](_0x129ab1+_0x3262cf['l']-(0x1b37*-0x1+0x6*-0x1a+-0x2*-0xdea),_0x4fa4d5-_0x3262cf['d']+(0x1376+0x19f6+-0xb*0x421),_0x3262cf['w']+(0x13b+-0x10*0xf9+0xe56)*(0x3d5+-0x1a*0xe7+0x13a3*0x1),_0x3262cf['h']+(0x11bb+-0x98f+-0x7b*0x11)*(-0x1*0x584+-0xd5c+-0x1*-0x12e2),_0x3262cf['x']-(-0x2601+-0x1c71*-0x1+0x4f*0x1f),this['texture']['height']-_0x3262cf['y']-_0x3262cf['h']-(0x1*-0x2529+-0x49*0x77+-0x3*-0x17b3),void(-0x1551+-0x2413+0x3964),void(0x2579+-0x147+0xe2*-0x29),this['texture'],-0x22bb+0x1*0x1286+-0x81b*-0x2),_0x3262cf['w']):0x2451+0x27*-0x67+-0x14a0;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0xfc8ef,_0x2336c8=-0x2240+0x1792+0xcae){const _0x4a8bae=new Et(_0xfc8ef,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x3c3018=new Uint16Array(_0x2336c8*(-0xbb7+0x1*0x2575+-0x19b8));for(let _0x1c6afd=0x79f+0x2*0x163+-0xa65;_0x1c6afd<_0x2336c8;++_0x1c6afd)_0x3c3018[_0x1c6afd*(-0x9fb+0xb*0x36f+0x2*-0xde2)+(-0x448*0x5+-0xd3*0x26+0x34ba)]=_0x1c6afd*(-0x2342+0x749+0x1bfd),_0x3c3018[_0x1c6afd*(-0x901+-0xaef+-0x16d*-0xe)+(0xa9c+-0x562*0x4+0xaed)]=_0x1c6afd*(0x8*-0x2ea+0x63*-0x6+0x19a6)+(0x1*-0xd75+0x21*-0x71+0x1c07),_0x3c3018[_0x1c6afd*(0x1*0x1cc1+-0x23*0x10f+0x852)+(0x1c20+0x611+-0x3*0xb65)]=_0x1c6afd*(0x1196+-0x5a0+-0xbf2)+(-0x1*0x13f3+-0x1f01*0x1+0x32f6),_0x3c3018[_0x1c6afd*(-0x26af+-0x107c+0x3731*0x1)+(-0x9ad*-0x4+-0xb9*0x5+-0x2314)]=_0x1c6afd*(0x1ad6+0xdbd+0x3*-0xd85),_0x3c3018[_0x1c6afd*(-0x7a*-0x51+0x16bb+-0x3d4f)+(0x6a*-0x26+0xd42*-0x1+0x1d02)]=_0x1c6afd*(-0xd94+0x236b*0x1+-0x15d3*0x1)+(0x89*0xb+-0x4b8+-0x129),_0x3c3018[_0x1c6afd*(-0x50d+-0x3*0x879+0x2*0xf3f)+(-0x164f*-0x1+-0x1*-0x2023+-0x366d*0x1)]=_0x1c6afd*(0x865+-0x103d+-0x3ee*-0x2)+(0x146+0x1cb3+-0x1df6);this['device']=_0xfc8ef,this['buffer']=new os(_0xfc8ef,_0x4a8bae,_0x2336c8*(-0x1b26+-0x8af+0x23d9),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x616+-0xc5a+0x93a*0x2)),this['indexBuffe'+'r']=new lr(_0xfc8ef,Pi,_0x2336c8*(0x784+0xf99+-0x1717*0x1),jt,_0x3c3018),this['prim']={'type':Ms,'indexed':!(-0x2*-0x85b+-0x1f40+0x745*0x2),'base':0x0,'count':0x0},this['quads']=-0x1207+-0x76*0x27+0x2c5*0xd,this['mesh']=new Ie(_0xfc8ef),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x24*0xdf+-0xd47*-0x2+-0x39ea]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x1ec8c3=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x1ec8c3,_0x1ec8c3['cull']=mt,_0x1ec8c3['depthState']=as['NODEPTH'],_0x1ec8c3['blendState']=new _t(!(-0x7*-0x1cd+0x1773+0x1a*-0x163),Lt,dc,uc,Lt,at,at),_0x1ec8c3['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x1ec8c3,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x2*-0x4c0+0x1335+-0x9b1)},this['targetSize']={'width':_0xfc8ef['width'],'height':_0xfc8ef['height']};}['quad'](_0x47cdbb,_0x8d9592,_0x285fbc,_0x183fc0,_0x2ba27a,_0x40e603,_0xa985f8,_0xdef9b6,_0x8bdd54,_0x36e318=0x267d+0x2433+-0x956*0x8){const _0x31544f=this['targetSize']['width'],_0x30ebcd=this['targetSize']['height'],_0x40f982=_0x47cdbb/_0x31544f,_0xc9a22f=_0x8d9592/_0x30ebcd,_0x36044a=(_0x47cdbb+_0x285fbc)/_0x31544f,_0x5884ba=(_0x8d9592+_0x183fc0)/_0x30ebcd,_0x596212=_0x8bdd54['width'],_0x48ab96=_0x8bdd54['height'],_0x533255=_0x2ba27a/_0x596212,_0x595f2f=_0x40e603/_0x48ab96,_0x19fd09=(_0x2ba27a+(_0xa985f8??_0x285fbc))/_0x596212,_0x59f815=(_0x40e603+(_0xdef9b6??_0x183fc0))/_0x48ab96;this['data']['set']([_0x40f982,_0xc9a22f,_0x36e318,_0x533255,_0x595f2f,-0x9f8+-0x2540+-0x179c*-0x2,-0x1*0x2e7+0x602+0x31b*-0x1,_0x36044a,_0xc9a22f,_0x36e318,_0x19fd09,_0x595f2f,0x1d69*-0x1+0x92*0x7+-0x2*-0xcb6,-0x1fae+0x9c7+0x15e7,_0x36044a,_0x5884ba,_0x36e318,_0x19fd09,_0x59f815,-0x1e67*-0x1+-0x6d2+0x7dc*-0x3,0x221f+0x1*-0x756+-0x1ac8*0x1,_0x40f982,_0x5884ba,_0x36e318,_0x533255,_0x59f815,-0xa89+0x1b68+-0x10df,0x21f5*-0x1+0x1635+0xbc1],(-0x24b0+0xf*-0xb9+0x2f8b)*(0x25c6+0xa0+-0x265f)*this['quads']),this['quads']++,this['prim']['count']+=0x6*-0x430+0x1026+-0x8*-0x120;}['startFrame'](){this['quads']=-0x1*-0xd17+-0xb88+0x3*-0x85,this['prim']['count']=-0x11db+0x2015+-0xe3a,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x3f07f5,_0x539f1d,_0x596f9d,_0xf4fc33,_0x42c2ac,_0x4c02ef){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x42c2ac,-0x1754+0xe*0x2e+0x14d0),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x596f9d),this['material']['setParamet'+'er']('wordsTex',_0xf4fc33),_0x3f07f5['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x539f1d);}}class $x{constructor(_0x4086f9,_0x4956a4){const _0x31933c=_0x4086f9['graphicsDe'+'vice'];_0x4956a4=_0x4956a4||$x['getDefault'+'Options'](),this['initGraphs'](_0x4086f9,_0x31933c,_0x4956a4);const _0x3a3b98=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x1e8b23=>_0x1e8b23['name']))['concat'](_0x4956a4['stats']?_0x4956a4['stats']['map'](_0x3533e1=>_0x3533e1['unitsName']):[])['filter'](_0x96388=>!!_0x96388));this['wordAtlas']=new tF(_0x31933c,_0x3a3b98),this['sizes']=_0x4956a4['sizes'],this['_activeSiz'+'eIndex']=_0x4956a4['startSizeI'+'ndex'];const _0x52f628=document['createElem'+'ent']('div');_0x52f628['setAttribu'+'te']('id','mini-stats'),_0x52f628['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x52f628),_0x52f628['addEventLi'+'stener']('mouseenter',_0x527e69=>{this['opacity']=-0x2536+0xc7*0x22+0xac9;}),_0x52f628['addEventLi'+'stener']('mouseleave',_0x4edd02=>{this['opacity']=-0xce0+0x43*0x59+-0xa6b+0.7;}),_0x52f628['addEventLi'+'stener']('click',_0x4f3809=>{_0x4f3809['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x1513+-0x2*-0x8f2+-0x26f6))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x31933c['on']('resizecanv'+'as',this['updateDiv'],this),_0x31933c['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x4086f9['on']('postrender',this['postRender'],this),this['app']=_0x4086f9,this['drawLayer']=_0x4086f9['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x31933c,this['render2d']=new rF(_0x31933c),this['div']=_0x52f628,this['width']=-0x304+0x6*-0x362+-0x4*-0x5d4,this['height']=0x722+-0x2ee*-0x4+0x12da*-0x1,this['gspacing']=-0x230a*-0x1+0x108+0x241*-0x10,this['clr']=[0x64e+0x1e52+-0x249f,0x2*0x2d8+0x2*0x1a5+-0x8f9*0x1,0x1*0x1913+0x2585+-0x7*0x8f1,-0x13b2+0x83b+0xb77+0.5],this['_enabled']=!(0x811*-0x4+0x1f+0x2025),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x134a3b=>_0x134a3b['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x131e*0x2+-0x961+0x2f9e)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x9c1+-0x5c+0x25*-0x41)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0xa0a+0x3*-0x565+0x89*0x31)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x755*-0x3+0xb*-0x1ae+0x2879),'watermark':0x21},'gpu':{'enabled':!(0x22fa+0x1eba+-0x41b4),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x115e66){this['_activeSiz'+'eIndex']=_0x115e66,this['gspacing']=this['sizes'][_0x115e66]['spacing'],this['resize'](this['sizes'][_0x115e66]['width'],this['sizes'][_0x115e66]['height'],this['sizes'][_0x115e66]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x475e18){this['clr'][-0x496+-0x1763+0x1bfc]=_0x475e18;}get['opacity'](){return this['clr'][0x1*0x2257+0x237f+-0x45d3];}get['overallHei'+'ght'](){const _0x3cc484=this['graphs'],_0x31f893=this['gspacing'];return this['height']*_0x3cc484['length']+_0x31f893*(_0x3cc484['length']-(-0x8*0x4ae+-0x343*0x7+0x3c46));}set['enabled'](_0x3174f7){if(_0x3174f7!==this['_enabled']){this['_enabled']=_0x3174f7;for(let _0x46c452=0x204e+-0x19b1+-0x69d;_0x46c452<this['graphs']['length'];++_0x46c452)this['graphs'][_0x46c452]['enabled']=_0x3174f7,this['graphs'][_0x46c452]['timer']['enabled']=_0x3174f7;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x3a0e8f,_0x5213f2,_0x12c0a2){if(this['graphs']=[],_0x12c0a2['cpu']['enabled']){const _0x265591=new QL(_0x3a0e8f),_0x1f784f=new au('CPU',_0x3a0e8f,_0x12c0a2['cpu']['watermark'],_0x12c0a2['textRefres'+'hRate'],_0x265591);this['graphs']['push'](_0x1f784f);}if(_0x12c0a2['gpu']['enabled']){const _0x53d1b9=new JL(_0x5213f2),_0x8d1060=new au('GPU',_0x3a0e8f,_0x12c0a2['gpu']['watermark'],_0x12c0a2['textRefres'+'hRate'],_0x53d1b9);this['graphs']['push'](_0x8d1060);}_0x12c0a2['stats']&&_0x12c0a2['stats']['forEach'](_0x55b54c=>{const _0x359f5b=new eF(_0x3a0e8f,_0x55b54c['stats'],_0x55b54c['decimalPla'+'ces'],_0x55b54c['unitsName'],_0x55b54c['multiplier']),_0xf94145=new au(_0x55b54c['name'],_0x3a0e8f,_0x55b54c['watermark'],_0x12c0a2['textRefres'+'hRate'],_0x359f5b);this['graphs']['push'](_0xf94145);});const _0x1b98a0=_0x12c0a2['sizes']['reduce']((_0x5d7994,_0x38aa57)=>_0x38aa57['width']>_0x5d7994?_0x38aa57['width']:_0x5d7994,-0x25c+-0x1ff6+0x1129*0x2);this['texture']=new he(_0x5213f2,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x1b98a0),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x5*-0x7b7+0x1*-0x1bd9+-0xb3*-0x5f),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x524728,_0x195b38)=>{_0x524728['texture']=this['texture'],_0x524728['yOffset']=_0x195b38;});}['render'](){const _0x4459f1=this['graphs'],_0x20f020=this['wordAtlas'],_0x5311c6=this['render2d'],_0x108def=this['width'],_0x463cec=this['height'],_0x44c682=this['gspacing'];_0x5311c6['startFrame']();for(let _0x11aad4=-0x93e+0x1034+-0x6f6*0x1;_0x11aad4<_0x4459f1['length'];++_0x11aad4){const _0x58fda6=_0x4459f1[_0x11aad4];let _0x1b5258=_0x11aad4*(_0x463cec+_0x44c682);_0x58fda6['render'](_0x5311c6,0x1*-0x210d+0xb1*0x6+-0x421*-0x7,_0x1b5258,_0x108def,_0x463cec);let _0x7abf20=0xb*0x247+-0x1d37+0x42b;_0x1b5258+=_0x463cec-(-0x1f*0x12+-0x180*-0xc+0xb*-0x16f),_0x7abf20+=_0x20f020['render'](_0x5311c6,_0x58fda6['name'],_0x7abf20,_0x1b5258)+(-0x1*0x94f+0x108c+-0x733*0x1);const _0x33cc4b=_0x58fda6['timingText'];for(let _0x1e7e62=0x12d6+-0x5*-0x3f8+0x2*-0x1357;_0x1e7e62<_0x33cc4b['length'];++_0x1e7e62)_0x7abf20+=_0x20f020['render'](_0x5311c6,_0x33cc4b[_0x1e7e62],_0x7abf20,_0x1b5258);_0x58fda6['timer']['unitsName']&&(_0x7abf20+=0x206d*0x1+-0x18*-0x123+-0x3bb2,_0x20f020['render'](_0x5311c6,_0x58fda6['timer']['unitsName'],_0x7abf20,_0x1b5258));}_0x5311c6['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x463cec);}['resize'](_0x17c833,_0x17c3e4,_0x39f057){const _0x3f7320=this['graphs'];for(let _0x43a359=-0x2b2*0x8+-0x7a*-0x29+-0x4a*-0x7;_0x43a359<_0x3f7320['length'];++_0x43a359)_0x3f7320[_0x43a359]['enabled']=_0x39f057;this['width']=_0x17c833,this['height']=_0x17c3e4,this['updateDiv']();}['updateDiv'](){const _0xc7c02e=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0xc7c02e['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0xc7c02e['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x1a861b=>_0x1a861b['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map()),c(this,'preEntitie'+'s',new Map()),c(this,'destroy',()=>{var _0x39fbfc,_0x1c6e06,_0xcbe4cc;const _0x475b2e=this['app'];(_0x39fbfc=this['controller'+'s'])==null||_0x39fbfc['forEach'](_0x54c6a6=>{var _0x4a6245;_0x475b2e['root']['removeChil'+'d'](_0x54c6a6==null?void(0xe55+0x7d0+0x1625*-0x1):_0x54c6a6['entity']),(_0x4a6245=_0x54c6a6['entity'])==null||_0x4a6245['destroy']();}),(_0x1c6e06=this['controller'+'s'])==null||_0x1c6e06['clear'](),(_0xcbe4cc=this['preEntitie'+'s'])==null||_0xcbe4cc['forEach'](_0x5045cd=>{_0x475b2e['root']['removeChil'+'d'](_0x5045cd),_0x5045cd==null||_0x5045cd['destroy']();});const _0x42d717=()=>{const _0x3b44a3=_0x475b2e['root']['findByName']('Armature_l'+'eft'),_0x3429bf=_0x475b2e['root']['findByName']('Armature_r'+'ight');for(_0x3b44a3&&_0x475b2e['root']['removeChil'+'d'](_0x3b44a3),_0x3429bf&&_0x475b2e['root']['removeChil'+'d'](_0x3429bf);_0x475b2e['root']['findByName']('Armature_l'+'eft')||_0x475b2e['root']['findByName']('Armature_r'+'ight');)_0x42d717();};_0x42d717();});}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['app']['xr']['input']['on']('add',async _0x2c1815=>{var _0x4046ea;if(!((_0x4046ea=_0x2c1815['profiles'])!=null&&_0x4046ea['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x1e863e=_0x2c1815['profiles']['map'](async _0x10460d=>{var _0x1428cd;const _0x410332=this['basePath']+'/'+_0x10460d+('/profile.j'+'son');try{const _0x55a9f4=await fetch(_0x410332);if(!_0x55a9f4['ok'])return null;const _0x5cbfbc=await _0x55a9f4['json'](),_0x32035f=((_0x1428cd=_0x5cbfbc['layouts'][_0x2c1815['handedness']])==null?void(0x348+-0x2ad+0x1f*-0x5):_0x1428cd['assetPath'])||'',_0x1e0002=this['basePath']+'/'+_0x5cbfbc['profileId']+'/'+_0x2c1815['handedness']+_0x32035f['replace'](/^\/?(left|right)/,''),_0xbb6d24=await new Promise((_0xe9ef26,_0x1d506f)=>{this['app']['assets']['loadFromUr'+'l'](_0x1e0002,'container',(_0x346d0b,_0x49007d)=>{_0x346d0b?_0x1d506f(_0x346d0b):_0xe9ef26(_0x49007d);});});return{'profileId':_0x10460d,'asset':_0xbb6d24};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x10460d),null;}}),_0x3227f6=(await Promise['all'](_0x1e863e))['find'](_0x236722=>_0x236722!==null);if(_0x3227f6){const {asset:_0x71f2cb}=_0x3227f6,_0x590c9b=_0x71f2cb['resource']['instantiat'+'eRenderEnt'+'ity']();_0x590c9b['name']='Armature_'+_0x2c1815['handedness'],this['app']['root']['addChild'](_0x590c9b),this['preEntitie'+'s']['set'](_0x2c1815,_0x590c9b);const _0x5a6267=new Map();if(_0x2c1815['hand'])for(const _0x17ce47 of _0x2c1815['hand']['joints']){const _0x324082=_0x590c9b['findByName'](_0x17ce47['id']);_0x324082&&_0x5a6267['set'](_0x17ce47,_0x324082);}this['controller'+'s']['set'](_0x2c1815,{'entity':_0x590c9b,'jointMap':_0x5a6267});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x387e99=>{var _0x38e874;const _0x1a4446=this['controller'+'s']['get'](_0x387e99);_0x1a4446&&((_0x38e874=_0x1a4446['entity'])==null||_0x38e874['destroy'](),this['app']['root']['removeChil'+'d'](_0x1a4446==null?void(0x1*-0x1f2d+0xa8a+0x14a3*0x1):_0x1a4446['entity']),this['controller'+'s']['delete'](_0x387e99));}),this['app']['xr']['input']['on']('destroy',this['destroy']);}['update'](_0x486709){var _0xde7871;if((_0xde7871=this['app']['xr'])!=null&&_0xde7871['active']){for(const [_0xf88dd9,{entity:_0x2785f7,jointMap:_0x37ff44}]of this['controller'+'s'])if(_0xf88dd9['hand']){for(const [_0x294683,_0x48078e]of _0x37ff44)_0x48078e['setPositio'+'n'](_0x294683['getPositio'+'n']()),_0x48078e['setRotatio'+'n'](_0x294683['getRotatio'+'n']());}else _0x2785f7['setPositio'+'n'](_0xf88dd9['getPositio'+'n']()),_0x2785f7['setRotatio'+'n'](_0xf88dd9['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,$e as E,W1 as F,hh as G,ex as H,$x as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,$ as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,$r as t,Ts as u,cs as v,SI as w,Wn as x,M0 as y,q as z};function _0x87c0c2(_0x42c214){function _0x36ed44(_0x2957b9){if(typeof _0x2957b9==='string')return function(_0x55b15e){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x2957b9/_0x2957b9)['length']!==-0x82d+0x37*0xb5+-0x1eb5||_0x2957b9%(0x8f5+0x8*-0x153+0x1b7)===-0xa1*-0x2a+0x52b+-0x1f95?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x36ed44(++_0x2957b9);}try{if(_0x42c214)return _0x36ed44;else _0x36ed44(0x3a*0x61+-0x20b*0xd+-0x3*-0x187);}catch(_0x1f3c55){}}
